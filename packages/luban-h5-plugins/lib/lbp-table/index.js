!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("luban-h5-support"),require("resize-detector")):"function"==typeof define&&define.amd?define(["exports","luban-h5-support","resize-detector"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["lbp-table"]={},e.PropTypes,e.resizeDetector)}(this,(function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(t),i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(e){var t={exports:{}};return e(t,t.exports),t.exports}var a=function(e){return e&&e.Math==Math&&e},c=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof i&&i)||function(){return this}()||Function("return this")(),l=function(e){try{return!!e()}catch(t){return!0}},f=!l((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,d={f:p&&!s.call({1:2},1)?function(e){var t=p(this,e);return!!t&&t.enumerable}:s},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y={}.toString,b=function(e){return y.call(e).slice(8,-1)},v="".split,m=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==b(e)?v.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},S=function(e){return m(g(e))},w=function(e){return"object"==typeof e?null!==e:"function"==typeof e},T=function(e,t){if(!w(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!w(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!w(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!w(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},E={}.hasOwnProperty,x=function(e,t){return E.call(e,t)},O=c.document,j=w(O)&&w(O.createElement),A=!f&&!l((function(){return 7!=Object.defineProperty((e="div",j?O.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),C=Object.getOwnPropertyDescriptor,W={f:f?C:function(e,t){if(e=S(e),t=T(t,!0),A)try{return C(e,t)}catch(r){}if(x(e,t))return h(!d.f.call(e,t),e[t])}},P=function(e){if(!w(e))throw TypeError(String(e)+" is not an object");return e},z=Object.defineProperty,_={f:f?z:function(e,t,r){if(P(e),t=T(t,!0),P(r),A)try{return z(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},M=f?function(e,t,r){return _.f(e,t,h(1,r))}:function(e,t,r){return e[t]=r,e},F=function(e,t){try{M(c,e,t)}catch(r){c[e]=t}return t},I="__core-js_shared__",q=c[I]||F(I,{}),k=Function.toString;"function"!=typeof q.inspectSource&&(q.inspectSource=function(e){return k.call(e)});var L,N,H,R,$=q.inspectSource,D=c.WeakMap,G="function"==typeof D&&/native code/.test($(D)),B=u((function(e){(e.exports=function(e,t){return q[e]||(q[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.7.0",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),K=0,U=Math.random(),V=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++K+U).toString(36)},Y=B("keys"),J={},Q=c.WeakMap;if(G){var X=q.state||(q.state=new Q),Z=X.get,ee=X.has,te=X.set;L=function(e,t){return t.facade=e,te.call(X,e,t),t},N=function(e){return Z.call(X,e)||{}},H=function(e){return ee.call(X,e)}}else{var re=Y[R="state"]||(Y[R]=V(R));J[re]=!0,L=function(e,t){return t.facade=e,M(e,re,t),t},N=function(e){return x(e,re)?e[re]:{}},H=function(e){return x(e,re)}}var ne,oe,ie={set:L,get:N,has:H,enforce:function(e){return H(e)?N(e):L(e,{})},getterFor:function(e){return function(t){var r;if(!w(t)||(r=N(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},ue=u((function(e){var t=ie.get,r=ie.enforce,n=String(String).split("String");(e.exports=function(e,t,o,i){var u,a=!!i&&!!i.unsafe,l=!!i&&!!i.enumerable,f=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||x(o,"name")||M(o,"name",t),(u=r(o)).source||(u.source=n.join("string"==typeof t?t:""))),e!==c?(a?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=o:M(e,t,o)):l?e[t]=o:F(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||$(this)}))})),ae=c,ce=function(e){return"function"==typeof e?e:void 0},le=function(e,t){return arguments.length<2?ce(ae[e])||ce(c[e]):ae[e]&&ae[e][t]||c[e]&&c[e][t]},fe=Math.ceil,se=Math.floor,pe=function(e){return isNaN(e=+e)?0:(e>0?se:fe)(e)},de=Math.min,he=function(e){return e>0?de(pe(e),9007199254740991):0},ye=Math.max,be=Math.min,ve=function(e,t){var r=pe(e);return r<0?ye(r+t,0):be(r,t)},me=function(e){return function(t,r,n){var o,i=S(t),u=he(i.length),a=ve(n,u);if(e&&r!=r){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},ge={includes:me(!0),indexOf:me(!1)}.indexOf,Se=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(e){return function(e,t){var r,n=S(e),o=0,i=[];for(r in n)!x(J,r)&&x(n,r)&&i.push(r);for(;t.length>o;)x(n,r=t[o++])&&(~ge(i,r)||i.push(r));return i}(e,Se)}},Te={f:Object.getOwnPropertySymbols},Ee=le("Reflect","ownKeys")||function(e){var t=we.f(P(e)),r=Te.f;return r?t.concat(r(e)):t},xe=function(e,t){for(var r=Ee(t),n=_.f,o=W.f,i=0;i<r.length;i++){var u=r[i];x(e,u)||n(e,u,o(t,u))}},Oe=/#|\.prototype\./,je=function(e,t){var r=Ce[Ae(e)];return r==Pe||r!=We&&("function"==typeof t?l(t):!!t)},Ae=je.normalize=function(e){return String(e).replace(Oe,".").toLowerCase()},Ce=je.data={},We=je.NATIVE="N",Pe=je.POLYFILL="P",ze=je,_e=W.f,Me=function(e,t){var r,n,o,i,u,a=e.target,l=e.global,f=e.stat;if(r=l?c:f?c[a]||F(a,{}):(c[a]||{}).prototype)for(n in t){if(i=t[n],o=e.noTargetGet?(u=_e(r,n))&&u.value:r[n],!ze(l?n:a+(f?".":"#")+n,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;xe(i,o)}(e.sham||o&&o.sham)&&M(i,"sham",!0),ue(r,n,i,e)}},Fe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Ie=function(e){return Object(g(e))},qe=Array.isArray||function(e){return"Array"==b(e)},ke=!!Object.getOwnPropertySymbols&&!l((function(){return!String(Symbol())})),Le=ke&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ne=B("wks"),He=c.Symbol,Re=Le?He:He&&He.withoutSetter||V,$e=function(e){return x(Ne,e)||(ke&&x(He,e)?Ne[e]=He[e]:Ne[e]=Re("Symbol."+e)),Ne[e]},De=$e("species"),Ge=function(e,t){var r;return qe(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!qe(r.prototype)?w(r)&&null===(r=r[De])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},Be=[].push,Ke=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,u=5==e||i;return function(a,c,l,f){for(var s,p,d=Ie(a),h=m(d),y=function(e,t,r){if(Fe(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}(c,l,3),b=he(h.length),v=0,g=f||Ge,S=t?g(a,b):r?g(a,0):void 0;b>v;v++)if((u||v in h)&&(p=y(s=h[v],v,d),e))if(t)S[v]=p;else if(p)switch(e){case 3:return!0;case 5:return s;case 6:return v;case 2:Be.call(S,s)}else if(o)return!1;return i?-1:n||o?o:S}},Ue={forEach:Ke(0),map:Ke(1),filter:Ke(2),some:Ke(3),every:Ke(4),find:Ke(5),findIndex:Ke(6)},Ve=le("navigator","userAgent")||"",Ye=c.process,Je=Ye&&Ye.versions,Qe=Je&&Je.v8;Qe?oe=(ne=Qe.split("."))[0]+ne[1]:Ve&&(!(ne=Ve.match(/Edge\/(\d+)/))||ne[1]>=74)&&(ne=Ve.match(/Chrome\/(\d+)/))&&(oe=ne[1]);var Xe=oe&&+oe,Ze=$e("species"),et=function(e){return Xe>=51||!l((function(){var t=[];return(t.constructor={})[Ze]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},tt=Object.defineProperty,rt={},nt=function(e){throw e},ot=function(e,t){if(x(rt,e))return rt[e];t||(t={});var r=[][e],n=!!x(t,"ACCESSORS")&&t.ACCESSORS,o=x(t,0)?t[0]:nt,i=x(t,1)?t[1]:void 0;return rt[e]=!!r&&!l((function(){if(n&&!f)return!0;var e={length:-1};n?tt(e,1,{enumerable:!0,get:nt}):e[1]=1,r.call(e,o,i)}))},it=Ue.map,ut=et("map"),at=ot("map");Me({target:"Array",proto:!0,forced:!ut||!at},{map:function(e){return it(this,e,arguments.length>1?arguments[1]:void 0)}});var ct,lt,ft=function(e){return function(t,r,n,o){Fe(r);var i=Ie(t),u=m(i),a=he(i.length),c=e?a-1:0,l=e?-1:1;if(n<2)for(;;){if(c in u){o=u[c],c+=l;break}if(c+=l,e?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:a>c;c+=l)c in u&&(o=r(o,u[c],c,i));return o}},st={left:ft(!1),right:ft(!0)},pt="process"==b(c.process),dt=st.left,ht=!!(lt=[]["reduce"])&&l((function(){lt.call(null,ct||function(){throw 1},1)})),yt=ot("reduce",{1:0});Me({target:"Array",proto:!0,forced:!ht||!yt||!pt&&Xe>79&&Xe<83},{reduce:function(e){return dt(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var bt=function(e,t,r){var n=T(t);n in e?_.f(e,n,h(0,r)):e[n]=r},vt=et("slice"),mt=ot("slice",{ACCESSORS:!0,0:0,1:2}),gt=$e("species"),St=[].slice,wt=Math.max;Me({target:"Array",proto:!0,forced:!vt||!mt},{slice:function(e,t){var r,n,o,i=S(this),u=he(i.length),a=ve(e,u),c=ve(void 0===t?u:t,u);if(qe(i)&&("function"!=typeof(r=i.constructor)||r!==Array&&!qe(r.prototype)?w(r)&&null===(r=r[gt])&&(r=void 0):r=void 0,r===Array||void 0===r))return St.call(i,a,c);for(n=new(void 0===r?Array:r)(wt(c-a,0)),o=0;a<c;a++,o++)a in i&&bt(n,o,i[a]);return n.length=o,n}});var Tt=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n};var Et=function(e){if(Array.isArray(e))return Tt(e)};var xt=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)};var Ot=function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(e,t):void 0}};var jt=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var At=function(e){return Et(e)||xt(e)||Ot(e)||jt()};var Ct={name:"lbp-table",data:function(){return{mainTableWrapperEle:null,mainTableEle:null,fixedTableWrapperEle:null,fixedTableEle:null}},props:{width:{default:120},height:{default:120},theme:o.default.string({label:"主题"}),columnWidth:o.default.number({label:"每列宽度(px)"}),freezeCount:o.default.number({label:"冻结列数(px)"})},watch:{freezeCount:function(){var e=this;setTimeout((function(){e.setFixedTableStyle()}),100)}},render:function(){var e=this,t=arguments[0],r=function(e){return t("td",[t("div",{class:"cell"},[e])])},n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=n.length?n[0]:[],a=u.length;return t("table",{class:o,style:i},[t("colgroup",[At(Array(a)).map((function(r,n){return t("col",{style:{width:e.columnWidth+"px"}})}))]),t("tbody",[n.map((function(e){return t("tr",[e.map(r)])}))])])};return t("div",{class:["lbp-table",this.theme],ref:"lbpTable"},[t("div",{class:"main-table-wrapper"},[n(this.dataset)]),t("div",{class:"fixed-table-wrapper",directives:[{name:"show",value:"freezeCount"}]},[n(this.dataset,"left-table")])])},methods:{getFixedColsWidth:function(){return function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)}([].slice.apply(this.mainTableEle.querySelectorAll("tr:first-child > td")).slice(0,+this.freezeCount),"offsetWidth")},setFixedTableStyle:function(){this.fixedTableWrapperEle.style.width="".concat(this.getFixedColsWidth(),"px"),this.fixedTableWrapperEle.style.height="calc(100% - ".concat(this.mainTableWrapperEle.offsetHeight-this.mainTableWrapperEle.scrollHeight,"px)")},setTableWidth:function(){var e=this.$el.parentNode.style.width;this.fixedTableEle.style.width=this.mainTableEle.style.width=e},initElements:function(){var e=this.$el;this.mainTableWrapperEle=e.querySelector(".main-table-wrapper"),this.mainTableEle=e.querySelector(".main-table-wrapper > table"),this.fixedTableWrapperEle=e.querySelector(".fixed-table-wrapper"),this.fixedTableEle=e.querySelector(".left-table")},__resizeHandler:function(){this.setTableWidth(),this.freezeCount&&this.setFixedTableStyle()}},mounted:function(){this.initElements(),this.setTableWidth(),this.setFixedTableStyle(),r.addListener(this.$refs.lbpTable,this.__resizeHandler)},destroy:function(){r.removeListener(this.$el,this.__resizeHandler)}};e.default=Ct,Object.defineProperty(e,"__esModule",{value:!0})}));
