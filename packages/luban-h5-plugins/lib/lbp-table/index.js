!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("resize-detector")):"function"==typeof define&&define.amd?define(["exports","resize-detector"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["lbp-table"]={},e.resizeDetector)}(this,(function(e,t){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){var t={exports:{}};return e(t,t.exports),t.exports}var o=function(e){return e&&e.Math==Math&&e},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r&&r)||function(){return this}()||Function("return this")(),a=function(e){try{return!!e()}catch(t){return!0}},u=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,f={f:c&&!l.call({1:2},1)?function(e){var t=c(this,e);return!!t&&t.enumerable}:l},s=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},p={}.toString,d=function(e){return p.call(e).slice(8,-1)},h="".split,y=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==d(e)?h.call(e,""):Object(e)}:Object,v=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},b=function(e){return y(v(e))},g=function(e){return"object"==typeof e?null!==e:"function"==typeof e},m=function(e,t){if(!g(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!g(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!g(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!g(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,S=function(e,t){return w.call(e,t)},E=i.document,T=g(E)&&g(E.createElement),O=function(e){return T?E.createElement(e):{}},A=!u&&!a((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,j={f:u?x:function(e,t){if(e=b(e),t=m(t,!0),A)try{return x(e,t)}catch(r){}if(S(e,t))return s(!f.f.call(e,t),e[t])}},_=function(e){if(!g(e))throw TypeError(String(e)+" is not an object");return e},I=Object.defineProperty,C={f:u?I:function(e,t,r){if(_(e),t=m(t,!0),_(r),A)try{return I(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},N=u?function(e,t,r){return C.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e},P=function(e,t){try{N(i,e,t)}catch(r){i[e]=t}return t},W="__core-js_shared__",F=i[W]||P(W,{}),M=Function.toString;"function"!=typeof F.inspectSource&&(F.inspectSource=function(e){return M.call(e)});var z,V,k,L=F.inspectSource,R=i.WeakMap,q="function"==typeof R&&/native code/.test(L(R)),$=n((function(e){(e.exports=function(e,t){return F[e]||(F[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.7.0",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),D=0,G=Math.random(),H=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++D+G).toString(36)},B=$("keys"),U=function(e){return B[e]||(B[e]=H(e))},X={},Y=i.WeakMap;if(q){var K=F.state||(F.state=new Y),J=K.get,Q=K.has,Z=K.set;z=function(e,t){return t.facade=e,Z.call(K,e,t),t},V=function(e){return J.call(K,e)||{}},k=function(e){return Q.call(K,e)}}else{var ee=U("state");X[ee]=!0,z=function(e,t){return t.facade=e,N(e,ee,t),t},V=function(e){return S(e,ee)?e[ee]:{}},k=function(e){return S(e,ee)}}var te,re,ne={set:z,get:V,has:k,enforce:function(e){return k(e)?V(e):z(e,{})},getterFor:function(e){return function(t){var r;if(!g(t)||(r=V(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},oe=n((function(e){var t=ne.get,r=ne.enforce,n=String(String).split("String");(e.exports=function(e,t,o,a){var u,l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||S(o,"name")||N(o,"name",t),(u=r(o)).source||(u.source=n.join("string"==typeof t?t:""))),e!==i?(l?!f&&e[t]&&(c=!0):delete e[t],c?e[t]=o:N(e,t,o)):c?e[t]=o:P(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||L(this)}))})),ie=i,ae=function(e){return"function"==typeof e?e:void 0},ue=function(e,t){return arguments.length<2?ae(ie[e])||ae(i[e]):ie[e]&&ie[e][t]||i[e]&&i[e][t]},le=Math.ceil,ce=Math.floor,fe=function(e){return isNaN(e=+e)?0:(e>0?ce:le)(e)},se=Math.min,pe=function(e){return e>0?se(fe(e),9007199254740991):0},de=Math.max,he=Math.min,ye=function(e,t){var r=fe(e);return r<0?de(r+t,0):he(r,t)},ve=function(e){return function(t,r,n){var o,i=b(t),a=pe(i.length),u=ye(n,a);if(e&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}},be={includes:ve(!0),indexOf:ve(!1)}.indexOf,ge=function(e,t){var r,n=b(e),o=0,i=[];for(r in n)!S(X,r)&&S(n,r)&&i.push(r);for(;t.length>o;)S(n,r=t[o++])&&(~be(i,r)||i.push(r));return i},me=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],we=me.concat("length","prototype"),Se={f:Object.getOwnPropertyNames||function(e){return ge(e,we)}},Ee={f:Object.getOwnPropertySymbols},Te=ue("Reflect","ownKeys")||function(e){var t=Se.f(_(e)),r=Ee.f;return r?t.concat(r(e)):t},Oe=function(e,t){for(var r=Te(t),n=C.f,o=j.f,i=0;i<r.length;i++){var a=r[i];S(e,a)||n(e,a,o(t,a))}},Ae=/#|\.prototype\./,xe=function(e,t){var r=_e[je(e)];return r==Ce||r!=Ie&&("function"==typeof t?a(t):!!t)},je=xe.normalize=function(e){return String(e).replace(Ae,".").toLowerCase()},_e=xe.data={},Ie=xe.NATIVE="N",Ce=xe.POLYFILL="P",Ne=xe,Pe=j.f,We=function(e,t){var r,n,o,a,u,l=e.target,c=e.global,f=e.stat;if(r=c?i:f?i[l]||P(l,{}):(i[l]||{}).prototype)for(n in t){if(a=t[n],o=e.noTargetGet?(u=Pe(r,n))&&u.value:r[n],!Ne(c?n:l+(f?".":"#")+n,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;Oe(a,o)}(e.sham||o&&o.sham)&&N(a,"sham",!0),oe(r,n,a,e)}},Fe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Me=function(e){return Object(v(e))},ze=Array.isArray||function(e){return"Array"==d(e)},Ve=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),ke=Ve&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Le=$("wks"),Re=i.Symbol,qe=ke?Re:Re&&Re.withoutSetter||H,$e=function(e){return S(Le,e)||(Ve&&S(Re,e)?Le[e]=Re[e]:Le[e]=qe("Symbol."+e)),Le[e]},De=$e("species"),Ge=function(e,t){var r;return ze(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!ze(r.prototype)?g(r)&&null===(r=r[De])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},He=[].push,Be=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=5==e||i;return function(u,l,c,f){for(var s,p,d=Me(u),h=y(d),v=function(e,t,r){if(Fe(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}(l,c,3),b=pe(h.length),g=0,m=f||Ge,w=t?m(u,b):r?m(u,0):void 0;b>g;g++)if((a||g in h)&&(p=v(s=h[g],g,d),e))if(t)w[g]=p;else if(p)switch(e){case 3:return!0;case 5:return s;case 6:return g;case 2:He.call(w,s)}else if(o)return!1;return i?-1:n||o?o:w}},Ue={forEach:Be(0),map:Be(1),filter:Be(2),some:Be(3),every:Be(4),find:Be(5),findIndex:Be(6)},Xe=ue("navigator","userAgent")||"",Ye=i.process,Ke=Ye&&Ye.versions,Je=Ke&&Ke.v8;Je?re=(te=Je.split("."))[0]+te[1]:Xe&&(!(te=Xe.match(/Edge\/(\d+)/))||te[1]>=74)&&(te=Xe.match(/Chrome\/(\d+)/))&&(re=te[1]);var Qe=re&&+re,Ze=$e("species"),et=function(e){return Qe>=51||!a((function(){var t=[];return(t.constructor={})[Ze]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},tt=Object.defineProperty,rt={},nt=function(e){throw e},ot=function(e,t){if(S(rt,e))return rt[e];t||(t={});var r=[][e],n=!!S(t,"ACCESSORS")&&t.ACCESSORS,o=S(t,0)?t[0]:nt,i=S(t,1)?t[1]:void 0;return rt[e]=!!r&&!a((function(){if(n&&!u)return!0;var e={length:-1};n?tt(e,1,{enumerable:!0,get:nt}):e[1]=1,r.call(e,o,i)}))},it=Ue.map,at=et("map"),ut=ot("map");We({target:"Array",proto:!0,forced:!at||!ut},{map:function(e){return it(this,e,arguments.length>1?arguments[1]:void 0)}});var lt,ct,ft=function(e){return function(t,r,n,o){Fe(r);var i=Me(t),a=y(i),u=pe(i.length),l=e?u-1:0,c=e?-1:1;if(n<2)for(;;){if(l in a){o=a[l],l+=c;break}if(l+=c,e?l<0:u<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:u>l;l+=c)l in a&&(o=r(o,a[l],l,i));return o}},st={left:ft(!1),right:ft(!0)},pt="process"==d(i.process),dt=st.left,ht=!!(ct=[]["reduce"])&&a((function(){ct.call(null,lt||function(){throw 1},1)})),yt=ot("reduce",{1:0});We({target:"Array",proto:!0,forced:!ht||!yt||!pt&&Qe>79&&Qe<83},{reduce:function(e){return dt(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var vt=function(e,t,r){var n=m(t);n in e?C.f(e,n,s(0,r)):e[n]=r},bt=et("slice"),gt=ot("slice",{ACCESSORS:!0,0:0,1:2}),mt=$e("species"),wt=[].slice,St=Math.max;We({target:"Array",proto:!0,forced:!bt||!gt},{slice:function(e,t){var r,n,o,i=b(this),a=pe(i.length),u=ye(e,a),l=ye(void 0===t?a:t,a);if(ze(i)&&("function"!=typeof(r=i.constructor)||r!==Array&&!ze(r.prototype)?g(r)&&null===(r=r[mt])&&(r=void 0):r=void 0,r===Array||void 0===r))return wt.call(i,u,l);for(n=new(void 0===r?Array:r)(St(l-u,0)),o=0;u<l;u++,o++)u in i&&vt(n,o,i[u]);return n.length=o,n}});var Et=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n};var Tt=function(e){if(Array.isArray(e))return Et(e)};var Ot=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)};var At=function(e,t){if(e){if("string"==typeof e)return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(e,t):void 0}};var xt=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var jt,_t=function(e){return Tt(e)||Ot(e)||At(e)||xt()},It=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(n){}return function(r,n){return _(r),function(e){if(!g(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),Ct=function(e,t,r){var n,o;return It&&"function"==typeof(n=t.constructor)&&n!==r&&g(o=n.prototype)&&o!==r.prototype&&It(e,o),e},Nt=Object.keys||function(e){return ge(e,me)},Pt=u?Object.defineProperties:function(e,t){_(e);for(var r,n=Nt(t),o=n.length,i=0;o>i;)C.f(e,r=n[i++],t[r]);return e},Wt=ue("document","documentElement"),Ft=U("IE_PROTO"),Mt=function(){},zt=function(e){return"<script>"+e+"</"+"script>"},Vt=function(){try{jt=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var e,t;Vt=jt?function(e){e.write(zt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(jt):((t=O("iframe")).style.display="none",Wt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(zt("document.F=Object")),e.close(),e.F);for(var r=me.length;r--;)delete Vt.prototype[me[r]];return Vt()};X[Ft]=!0;var kt=Object.create||function(e,t){var r;return null!==e?(Mt.prototype=_(e),r=new Mt,Mt.prototype=null,r[Ft]=e):r=Vt(),void 0===t?r:Pt(r,t)},Lt="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Rt=RegExp("^"+Lt+Lt+"*"),qt=RegExp(Lt+Lt+"*$"),$t=function(e){return function(t){var r=String(v(t));return 1&e&&(r=r.replace(Rt,"")),2&e&&(r=r.replace(qt,"")),r}},Dt={start:$t(1),end:$t(2),trim:$t(3)},Gt=Se.f,Ht=j.f,Bt=C.f,Ut=Dt.trim,Xt="Number",Yt=i.Number,Kt=Yt.prototype,Jt=d(kt(Kt))==Xt,Qt=function(e){var t,r,n,o,i,a,u,l,c=m(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=Ut(c)).charCodeAt(0))||45===t){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,u=0;u<a;u++)if((l=i.charCodeAt(u))<48||l>o)return NaN;return parseInt(i,n)}return+c};if(Ne(Xt,!Yt(" 0o1")||!Yt("0b1")||Yt("+0x1"))){for(var Zt,er=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof er&&(Jt?a((function(){Kt.valueOf.call(r)})):d(r)!=Xt)?Ct(new Yt(Qt(t)),r,er):Qt(t)},tr=u?Gt(Yt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),rr=0;tr.length>rr;rr++)S(Yt,Zt=tr[rr])&&!S(er,Zt)&&Bt(er,Zt,Ht(Yt,Zt));er.prototype=Kt,Kt.constructor=er,oe(i,Xt,er)}var nr={},or={labelCol:{span:24},wrapperCol:{span:24,offset:0}},ir=(Boolean,Boolean,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,r=void 0===t?"数值":t,n=e.defaultValue,o=void 0===n?10:n,i=e.props,a=void 0===i?nr:i,u=e.visible,l=void 0===u||u;return{type:Number,default:o,visible:l,editor:{type:"a-input-number",label:r,require:!0,props:a}}}),ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,r=void 0===t?"数据源":t,n=e.defaultValue,o=void 0===n?[]:n,i=e.layout,a=void 0===i?or:i,u=e.visible,l=void 0===u||u;return{type:Array,default:o,visible:l,editor:{type:"lbs-excel-editor",label:r,layout:a}}};var ur={name:"lbp-table",data:function(){return{mainTableWrapperEle:null,mainTableEle:null,fixedTableWrapperEle:null,fixedTableEle:null}},props:{width:{default:120},height:{default:120},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,r=void 0===t?"按钮文字":t,n=e.defaultValue,o=void 0===n?"按钮":n,i=e.component,a=void 0===i?"a-input":i,u=e.props,l=void 0===u?{}:u,c=e.extra,f=e.visible,s=void 0===f||f;return{type:String,default:o,visible:s,editor:{type:a,label:r,require:!0,props:l,extra:c}}}({defaultValue:"",label:"主题",visible:!1}),columnWidth:ir({label:"每列宽度(px)",defaultValue:100}),freezeCount:ir({label:"冻结列数(px)",defaultValue:0}),dataset:ar({defaultValue:function(){return[["列A","列B","列C"],["————","————","————"],["————","————","————"],["————","————","————"]]}})},watch:{freezeCount:function(){var e=this;setTimeout((function(){e.setFixedTableStyle()}),100)}},render:function(){var e=this,t=arguments[0],r=function(e){return t("td",[t("div",{class:"cell"},[e])])},n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.length?n[0]:[],u=a.length;return t("table",{class:o,style:i},[t("colgroup",[_t(Array(u)).map((function(r,n){return t("col",{style:{width:e.columnWidth+"px"}})}))]),t("tbody",[n.map((function(e){return t("tr",[e.map(r)])}))])])};return t("div",{class:["lbp-table",this.theme],ref:"lbpTable"},[t("div",{class:"main-table-wrapper"},[n(this.dataset)]),t("div",{class:"fixed-table-wrapper",directives:[{name:"show",value:"freezeCount"}]},[n(this.dataset,"left-table")])])},methods:{getFixedColsWidth:function(){return function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)}([].slice.apply(this.mainTableEle.querySelectorAll("tr:first-child > td")).slice(0,+this.freezeCount),"offsetWidth")},setFixedTableStyle:function(){this.fixedTableWrapperEle.style.width="".concat(this.getFixedColsWidth(),"px"),this.fixedTableWrapperEle.style.height="calc(100% - ".concat(this.mainTableWrapperEle.offsetHeight-this.mainTableWrapperEle.scrollHeight,"px)")},setTableWidth:function(){var e=this.$el.parentNode.style.width;this.fixedTableEle.style.width=this.mainTableEle.style.width=e},initElements:function(){var e=this.$el;this.mainTableWrapperEle=e.querySelector(".main-table-wrapper"),this.mainTableEle=e.querySelector(".main-table-wrapper > table"),this.fixedTableWrapperEle=e.querySelector(".fixed-table-wrapper"),this.fixedTableEle=e.querySelector(".left-table")},__resizeHandler:function(){this.setTableWidth(),this.freezeCount&&this.setFixedTableStyle()}},mounted:function(){this.initElements(),this.setTableWidth(),this.setFixedTableStyle(),t.addListener(this.$refs.lbpTable,this.__resizeHandler)},destroy:function(){t.removeListener(this.$el,this.__resizeHandler)}};e.default=ur,Object.defineProperty(e,"__esModule",{value:!0})}));
