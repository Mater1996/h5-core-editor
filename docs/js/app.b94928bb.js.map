{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?659d","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/lib/luban-h5-editor/dist/luban-h5-editor.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticStyle","work","staticRenderFns","title","description","cover_image_url","pages","is_publish","is_template","created_at","updated_at","page_mode","components","component","Vue","config","productionTip","use","lubanH5Editor","render","h","App","$mount","factory","antDesignVue","vueQuillEditor","vant","resizeDetector","VueI18n","lodash","hotkeys","Spreadsheet","Papa","_interopDefaultLegacy","Vue__default","VueI18n__default","hotkeys__default","Spreadsheet__default","Papa__default","fails","exec","error","descriptors","commonjsGlobal","globalThis","global","self","createCommonjsModule","fn","basedir","path","require","base","commonjsRequire","undefined","getAugmentedNamespace","a","forEach","k","getOwnPropertyDescriptor","check","it","Math","global_1","Function","isObject","document$1","document","EXISTS","createElement","documentCreateElement","ie8DomDefine","anObject","TypeError","String","toPrimitive","input","PREFERRED_STRING","val","toString","valueOf","nativeDefineProperty","f","O","P","Attributes","objectDefineProperty","FunctionPrototype","FunctionPrototypeToString","nameRE","NAME","configurable","match","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","f$1","V","descriptor","objectPropertyIsEnumerable","createPropertyDescriptor","bitmap","writable","classofRaw","split","indexedObject","requireObjectCoercible","toIndexedObject","has","nativeGetOwnPropertyDescriptor","f$2","objectGetOwnPropertyDescriptor","createNonEnumerableProperty","setGlobal","SHARED","store","sharedStore","functionToString","inspectSource","set","has$1","WeakMap","nativeWeakMap","test","shared","version","copyright","postfix","random","uid","sharedKey","hiddenKeys","WeakMap$1","enforce","getterFor","TYPE","state","type","store$1","wmget","wmhas","wmset","metadata","STATE","internalState","redefine","getInternalState","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","aFunction","variable","getBuiltIn","namespace","method","arguments","ceil","floor","toInteger","argument","isNaN","min","toLength","max","min$1","toAbsoluteIndex","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","objectKeysInternal","names","enumBugKeys","hiddenKeys$1","concat","f$3","getOwnPropertyNames","objectGetOwnPropertyNames","f$4","getOwnPropertySymbols","objectGetOwnPropertySymbols","ownKeys","copyConstructorProperties","target","replacement","isForced","feature","detection","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","isForced_1","getOwnPropertyDescriptor$1","_export","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","sham","aFunction$1","functionBindContext","that","b","toObject","isArray","Array","arg","nativeSymbol","useSymbolAsUid","iterator","WellKnownSymbolsStore","Symbol$1","createWellKnownSymbol","withoutSetter","wellKnownSymbol","SPECIES","arraySpeciesCreate","originalArray","C","constructor","createMethod$1","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","boundFunction","arrayIteration","filter","some","every","find","findIndex","arrayMethodIsStrict","METHOD_NAME","defineProperty$1","cache","thrower","arrayMethodUsesToLength","ACCESSORS","argument0","argument1","$forEach","STRICT_METHOD","USES_TO_LENGTH","arrayForEach","proto","engineUserAgent","process","versions","v8","engineV8Version","SPECIES$1","arrayMethodHasSpeciesSupport","array","foo","Boolean","$map","HAS_SPECIES_SUPPORT","USES_TO_LENGTH$1","objectKeys","nativeAssign","assign","defineProperty$2","objectAssign","A","B","symbol","alphabet","chr","T","argumentsLength","S","domIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","COLLECTION_NAME","Collection","CollectionPrototype","_arrayLikeToArray","arr","len","arr2","arrayLikeToArray","_arrayWithoutHoles","arrayWithoutHoles","_iterableToArray","iter","from","iterableToArray","_unsupportedIterableToArray","minLen","unsupportedIterableToArray","_nonIterableSpread","nonIterableSpread","_toConsumableArray","toConsumableArray","_defineProperty","obj","activeXDocument","defineProperty$3","aPossiblePrototype","objectSetPrototypeOf","setPrototypeOf","setter","CORRECT_SETTER","__proto__","inheritIfRequired","dummy","Wrapper","NewTarget","NewTargetPrototype","objectDefineProperties","defineProperties","Properties","html","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","objectCreate","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod$2","stringTrim","start","end","trim","getOwnPropertyDescriptor$2","defineProperty$4","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","first","third","radix","maxCode","digits","charCodeAt","NaN","parseInt","NumberWrapper","keys$1","defaultNumberInputProp","dataSourceLayout","labelCol","span","wrapperCol","offset","PropTypes","boolean","_ref","_ref$label","label","_ref$defaultValue","defaultValue","_ref$props","props","_ref$visible","visible","default","editor","required","vertical","color","_ref2","_ref2$label","_ref2$defaultValue","_ref2$visible","size","showAlpha","colors","_ref3","_ref3$label","_ref3$defaultValue","_ref3$layout","layout","_ref3$visible","number","_ref4","_ref4$label","_ref4$defaultValue","_ref4$props","_ref4$visible","Number","_ref5","_ref5$label","_ref5$defaultValue","_ref5$component","_ref5$props","extra","_ref5$visible","textAlign","_ref6","_ref6$label","_ref6$defaultValue","_ref6$visible","textOptions","_ref7","_ref7$label","_ref7$defaultValue","_ref7$visible","image","_ref8","_ref8$label","_ref8$defaultValue","_ref8$visible","excel","_ref9","_ref9$label","_ref9$defaultValue","_ref9$layout","_ref9$visible","select","_ref10","_ref10$valueType","valueType","_ref10$label","_ref10$defaultValue","_ref10$visible","_ref10$options","LbpButton","backgroundColor","fontSize","lineHeight","borderColor","borderRadius","borderWidth","text","textDecoration","width","height","LbpPicture","imgSrc","objectFit","fillType","playIcon","LbpVideo","disabled","useIframe","iframeSrc","placeholder","watch","appendIframe","mounted","methods","$refs","iframeWrapper","innerHTML","componentsForPropsEditor","createProperty","propertyKey","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","LbpText","_this","canEdit","editorMode","position","border","previewText","stopPropagation","event","keyCode","charCode","quillEditor","toolbar","list","background","align","header","theme","quill","$emit","pluginName","innerText","editorConfig","typeOptions","LbpFormInput","padding","LbpFormButton","handleClick","inputs","querySelectorAll","formData","FormData","append","dataset","uuid","XMLHttpRequest","onreadystatechange","readyState","message","status","$message","info","workId","__work","send","$indexOf","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD$1","USES_TO_LENGTH$2","searchElement","nativeJoin","ES3_STRINGS","STRICT_METHOD$2","separator","HAS_SPECIES_SUPPORT$1","USES_TO_LENGTH$3","0","max$1","min$2","MAX_SAFE_INTEGER$1","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","to","actualStart","LbpFormRadio","aliasName","checked","onFocus","onClick","onBlur","doChange","handleChange","Date","getDefaultItems","defaultItems","LbpFormRadioGroup","items","computed","value_","_type","$el","onChange","toggleRadio","toggleCheckbox","item","UNSCOPABLES","ArrayPrototype","addToUnscopables","$includes","USES_TO_LENGTH$4","MATCH","isRegexp","isRegExp","notARegexp","MATCH$1","correctIsRegexpLogic","regexp","getDefaultItems$1","searchString","LbpFormCheckboxGroup","nativeGetOwnPropertyNames","toString$1","windowNames","getWindowNames","f$5","objectGetOwnPropertyNamesExternal","f$6","wellKnownSymbolWrapped","defineProperty$5","defineWellKnownSymbol","defineProperty$6","TO_STRING_TAG","setToStringTag","TAG","$forEach$1","HIDDEN","SYMBOL","PROTOTYPE$1","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor$1","nativeDefineProperty$1","nativeGetOwnPropertyNames$1","nativePropertyIsEnumerable$1","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore$1","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","tag","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","replacer","space","$replacer","args","$filter","HAS_SPECIES_SUPPORT$2","USES_TO_LENGTH$5","nativeGetOwnPropertyDescriptor$2","FAILS_ON_PRIMITIVES","FORCED$1","getOwnPropertyDescriptors","FAILS_ON_PRIMITIVES$1","ownKeys$1","enumerableOnly","symbols","_objectSpread","_renderWaterMark","_ref$container","container","body","_ref$width","_ref$height","_ref$textAlign","_ref$textBaseline","textBaseline","_ref$fontSize","_ref$fillStyle","fillStyle","_ref$content","_ref$rotate","rotate","_ref$zIndex","zIndex","canvas","setAttribute","ctx","getContext","font","fillText","parseFloat","base64Url","toDataURL","wmEl","querySelector","watermarkDiv","styleStr","classList","add","insertBefore","firstChild","LbpBackground","waterMarkText","waterMarkFontSize","waterMarkRotate","waterMarkColor","renderWaterMark","root","$watch","getDefaultItems$2","LbpSlide","interval","activeIndex","custom","Swipe","SwipeItem","LbpBgMusic","autoplay","isPlaying","toggle","bgAudio","pause","play","btnStyle","created","LbpNoticeBar","NoticeBar","LbpRate","count","gutter","Rate","non","stringTrimForced","$trim","TO_STRING_TAG$1","toStringTagSupport","TO_STRING_TAG$2","CORRECT_ARGUMENTS","tryGet","classof","callee","objectToString","nativePromiseConstructor","Promise","redefineAll","SPECIES$2","setSpecies","CONSTRUCTOR_NAME","Constructor","anInstance","iterators","ITERATOR","ArrayPrototype$1","isArrayIteratorMethod","ITERATOR$1","getIteratorMethod","callWithSafeIterationClosing","ENTRIES","returnMethod","iterate_1","Result","stopped","iterate","iterable","AS_ENTRIES","IS_ITERATOR","iterFn","next","step","done","stop","ITERATOR$2","SAFE_CLOSING","called","iteratorWithReturn","defer","channel","port","checkCorrectnessOfIteration","SKIP_CLOSING","ITERATION_SUPPORT","SPECIES$3","speciesConstructor","defaultConstructor","engineIsIos","location","set$1","setImmediate","clear","clearImmediate","process$1","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","runner","listener","post","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","flush","head","last","notify","node","promise","then","task","getOwnPropertyDescriptor$3","macrotask","MutationObserver","WebKitMutationObserver","process$2","Promise$1","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","parent","exit","enter","createTextNode","observe","characterData","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","microtask","PromiseCapability","reject","$$resolve","$$reject","f$7","newPromiseCapability","promiseResolve","x","promiseCapability","hostReportErrors","console","perform","task$1","SPECIES$4","PROMISE","getInternalState$1","setInternalState$1","getInternalPromiseState","PromiseConstructor","TypeError$1","document$2","process$3","$fetch","newPromiseCapability$1","newGenericPromiseCapability","IS_NODE$1","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","FORCED$2","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","all","isThenable","notify$1","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","IS_UNHANDLED","isUnhandled","emit","unwrap","internalReject","internalResolve","wrapper","isScriptLoaded","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","values","remaining","alreadyCalled","race","Map","load","qq","init","script","onerror","getPosition","lat","lng","maps","LatLng","MapMixin","loadMap","setMarker","poi","center","latLng","marker","setMap","Marker","panTo","mixins","labelContent","zoomLevel","qqMapKey","checkMapAvailable","deep","_labelContent","setLabel","_zoomLevel","setZoomLevel","onSearch","log","Label","setVisible","setContent","setPosition","zoomTo","initMap","mapElement","zoom","disableDefaultUI","draggable","scrollwheel","disableDoubleClickZoom","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","originalRender","existing","beforeCreate","__vue_script__","__vue_render__","__vue_staticRenderFns__","_withStripped","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","ABBR","th","mi","bi","tr","DEFAULT_OPTIONS","zeroFormat","nullFormat","defaultFormat","scalePercentBy100","abbrLabel","TRILLION","BILLION","MILLION","THOUSAND","numIsNaN","toFixed","maxDecimals","roundingFunction","optionals","splitValue","minDecimals","boundedPrecision","power","pow","output","optionalsRegExp","numberToFormat","format","abs","negP","optDec","abbr","decimal","neg","abbrForce","signed","int","precision","thousands","leadingCount","trillion","million","extend","sub","numerifyPercent","formatType","numerify","_numberToFormat","formats","round","formatFunction","kind","register","unregister","setOptions","opts","reset","index_es","freeze","debounce","delay","timer","clearTimeout","throttle","wait","previous","set$2","targetTemp","pathArr","get$1","getStore","JSON","parse","localStorage","getItem","setStore","setItem","_typeof","getType","v","getTypeof","isObject$1","isArray$1","isFunction","isString","isBoolean","isEmptyObj","isNumber","clone","cloneDeep","kebabToCamel","_","toUpperCase","camelToKebab","unique","getLinearValue","x1","y1","x2","y2","x3","getFnAndObjValue","arrDelItem","diffItem","arrDelArrItem","diffArr","getArrMin","getArrMax","toArray","noop","hasOwn","extend$1","isEqual","alice","bob","aliceValue","bobValue","aliceType","_key","index_es$1","require$$3","utilsLite","utils","_interopDefault","ex","getFormated","digit","defaultVal","digitStr","formatter","getStackMap","stack","stackMap","$get","url","xhr","onload","responseText","mapPromise","getMapJSON","positionJsonLink","beforeRegisterMapOnce","mapURLProfix","link","res","bmapPromise","amapPromise","getBmap","callbackName","getAmap","setArrayValue","idStart","_default","guid","env","wx","getSystemInfoSync","browser","os","wxa","canvasSupported","svgSupported","touchEventsSupported","domSupported","worker","navigator","detect","userAgent","_default$1","ua","firefox","ie","edge","weChat","SVGRect","pointerEventsSupported","env_1","BUILTIN_OBJECT","TYPED_ARRAY","objToString","arrayProto","nativeForEach","nativeFilter","nativeSlice","nativeMap","nativeReduce","reduce","$override","_ctx","clone$1","typeStr","isPrimitive","Ctor","isDom","merge","overwrite","isObject$2","targetProp","sourceProp","isArray$2","isBuiltInObject","mergeAll","targetAndSources","extend$2","defaults","overlay","createCanvas","indexOf$1","inherits","clazz","baseClazz","clazzPrototype","prop","superClass","mixin","isArrayLike","each","cb","memo","bind$1","func","curry","isFunction$1","isString$1","isTypedArray","nodeType","ownerDocument","eqNaN","retrieve","retrieve2","value0","value1","retrieve3","value2","normalizeCssArray","assert","condition","trim$1","str","primitiveKey","setAsPrimitive","HashMap","isArr","thisMap","visit","createHashMap","concatArray","newArray","noop$1","removeKey","$override_1","clone_1","merge_1","mergeAll_1","extend_1","defaults_1","createCanvas_1","getContext_1","indexOf_1","inherits_1","mixin_1","isArrayLike_1","each_1","map_1","reduce_1","filter_1","find_1","bind_1","curry_1","isArray_1","isFunction_1","isString_1","isObject_1","isBuiltInObject_1","isTypedArray_1","isDom_1","eqNaN_1","retrieve_1","retrieve2_1","retrieve3_1","slice_1","normalizeCssArray_1","assert_1","trim_1","setAsPrimitive_1","isPrimitive_1","createHashMap_1","concatArray_1","noop_1","util","ArrayCtor","Float32Array","y","out","copy","clone$2","set$3","v1","v2","scaleAndAdd","sqrt","lenSquare","lengthSquare","mul","div","dot","scale","normalize$1","distance","dist","distanceSquare","distSquare","negate","lerp","applyTransform","min$3","max$2","create_1","copy_1","clone_1$1","set_1","add_1","scaleAndAdd_1","sub_1","len_1","length_1","lenSquare_1","lengthSquare_1","mul_1","div_1","dot_1","scale_1","normalize_1","distance_1","dist_1","distanceSquare_1","distSquare_1","negate_1","lerp_1","applyTransform_1","min_1","max_1","vector","Draggable","on","_dragStart","_drag","_dragEnd","param","topTarget","draggingTarget","_draggingTarget","dragging","_x","offsetX","_y","offsetY","dispatchToElement","dx","dy","drift","dropTarget","findHover","lastDropTarget","_dropTarget","_default$2","Draggable_1","arrySlice","Eventful","eventProcessor","_$handlers","_$eventProcessor","normalizeQuery","query","eventful","isOnce","one","callAtLast","zrEventfulCallAtLast","lastIndex","lastWrap","isSilent","off","newList","trigger","argLen","hItem","afterTrigger","triggerWithContext","_default$3","Eventful_1","LN2","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","subRowMask","subRowStart","sum","colLocalIdx","colTag","buildTransformer","dest","mA","det","vh","srcPointX","srcPointY","pk","buildTransformer_1","fourPointsTransform","buildTransformer$1","EVENT_SAVED_PROP","_calcOut","transformLocalCoord","elFrom","elTarget","inX","inY","transformCoordWithViewport","inverse","getBoundingClientRect","isCanvasEl","saved","markers","prepareCoordMarkers","transformer","preparePointerTransformer","propLR","propTB","stl","idxLR","idxTB","cssText","transformerName","oldSrcCoords","srcCoords","oldCoordTheSame","destCoords","rect","ii","left","top","offsetLeft","offsetTop","nodeName","transformLocalCoord_1","transformCoordWithViewport_1","isCanvasEl_1","dom","Dispatcher","isCanvasEl$1","transformCoordWithViewport$1","isDomLevel2","MOUSE_EVENT_REG","_calcOut$1","clientToLocal","calculate","calculateZrXY","layerX","zrX","zrY","layerY","clientX","ey","clientY","box","getNativeEvent","normalizeEvent","eventType","isTouch","touch","targetTouches","changedTouches","zrDelta","wheelDelta","detail","button","which","opt","attachEvent","removeEventListener","detachEvent","preventDefault","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse","clientToLocal_1","getNativeEvent_1","normalizeEvent_1","addEventListener_1","removeEventListener_1","stop_1","isMiddleOrRightButtonOnMouseUpDown_1","notLeftMouse_1","GestureMgr","_track","dist$1","pointPair","recognize","_doTrack","_recognize","event$1","touches","trackItem","points","pos","eventName","recognizers","gestureInfo","pinch","track","trackLen","pinchEnd","pinchPre","pinchScale","isFinite","pinchCenter","pinchX","pinchY","_default$4","GestureMgr_1","SILENT","makeEventPacket","eveType","targetInfo","gestureEvent","zrByTouch","stopEvent","EmptyProxy","dispose","handlerNames","Handler","storage","painter","proxy","painterRoot","_hovered","_lastTouchMoment","_lastX","_lastY","_gestureMgr","setHandlerProxy","isHover","displayable","rectHover","clipPath","contain","silent","isOutsideBoundary","handlerInstance","getWidth","getHeight","mousemove","isOutside","lastHovered","lastHoveredTarget","__zr","hovered","hoveredTarget","setCursor","cursor","mouseout","eventControl","zrEventControl","zrIsToLocalDOM","resize","dispatch","eventArgs","setCursorStyle","cursorStyle","eventHandler","eventPacket","eachOtherLayer","layer","exclude","getDisplayList","hoverCheckResult","ignore","processGesture","stage","gestureMgr","_downEl","_downPoint","_upEl","_default$5","Handler_1","ArrayCtor$1","create$1","identity","copy$1","mul$1","m1","m2","out0","out1","out2","out3","out4","out5","translate","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","scale$1","vx","vy","invert","clone$3","create_1$1","identity_1","copy_1$1","mul_1$1","translate_1","rotate_1","scale_1$1","invert_1","clone_1$2","matrix","mIdentity","EPSILON","isNotAroundZero","Transformable","rotation","origin","transformableProto","transform","needLocalTransform","scaleTmp","updateTransform","parentHasTransform","getLocalTransform","globalScaleRatio","getGlobalScale","relX","relY","sx","sy","invTransform","setTransform","dpr","restoreTransform","tmpTransform","originTransform","setLocalTransform","atan2","decomposeTransform","transformCoordToLocal","transformCoordToGlobal","_default$6","Transformable_1","easing","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","PI","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","_default$7","easing_1","Clip","_target","_life","life","_delay","_initialized","loop","gap","onframe","ondestroy","onrestart","_pausedTime","_paused","globalTime","deltaTime","_startTime","percent","easingFunc","schedule","fire","restart","_needsRemove","remainder","resume","_default$8","Clip_1","LinkedList","tail","_len","linkedListProto","insert","entry","Entry","insertEntry","prev","remove","LRU","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","put","removed","leastUsedEntry","_default$9","LRU_1","kCSSColorTable","clampCssByte","clampCssAngle","clampCssFloat","parseCssInt","charAt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","cached","op","ep","fname","substr","params","alpha","pop","hsla2rgba","iv","hsla","rgba","rgba2hsla","H","R","G","vMin","vMax","delta","L","deltaR","deltaG","deltaB","lift","level","colorArr","toHex","fastLerp","normalizedValue","leftIndex","rightIndex","leftColor","rightColor","dv","fastMapToColor","lerp$1","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","parse_1","lift_1","toHex_1","fastLerp_1","fastMapToColor_1","lerp_1$1","mapToColor_1","modifyHSL_1","modifyAlpha_1","stringify_1","isArrayLike$1","arraySlice","defaultGetter","defaultSetter","interpolateNumber","p0","p1","interpolateString","interpolateArray","arrDim","len2","fillArr","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","isArraySame","catmullRomInterpolateArray","p2","p3","t2","t3","catmullRomInterpolate","v0","cloneValue","ret","rgba2String","getArrayDim","keyframes","lastValue","createTrackClip","animator","oneTrackDone","propName","forceAnimate","_getter","_setter","useSpline","trackMaxTime","firstVal","isValueArray","isValueColor","isValueString","sort","time","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","w","lastFrame","lastFramePercent","frame","range","clip","_loop","Animator","_tracks","_clipCount","_doneList","_onframeList","_clipList","when","tracks","during","callback","isPaused","_doneCallback","doneList","lastClip","clipCount","animation","addClip","oldOnFrame","forwardToLast","clipList","removeClip","getClips","_default$a","Animator_1","devicePixelRatio","debugMode","debugMode_1","devicePixelRatio_1","logError","_default$b","isString$2","isFunction$2","isObject$3","isArrayLike$2","indexOf$2","Animatable","animators","animateTo","animatable","reverse","stopAnimation","animateToShallow","objShallow","propertyCount","setAttrByPath","animate","attr","animatingShape","zr","pathSplitted","dirty","addAnimator","animateFrom","_default$c","Animatable_1","Element","isGroup","beforeUpdate","afterUpdate","update","traverse","attrKV","hide","refresh","show","setClipPath","addSelfToZr","removeClipPath","__clipTarget","removeSelfFromZr","removeAnimator","_default$d","Element_1","v2ApplyTransform","mathMin","mathMax","BoundingRect","union","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","plain","_default$e","BoundingRect_1","Group","_children","__storage","__dirty","children","childAt","idx","childOfName","childCount","child","_doAdd","addBefore","nextSibling","addToStorage","addChildrenToStorage","delFromStorage","delChildrenFromStorage","removeAll","eachChild","getBoundingRect","includeChildren","tmpRect","tmpMat","invisible","childRect","_default$f","Group_1","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","mid","pivot","right","gallopLeft","hint","lastOffset","maxOffset","tmp","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","start1","length1","start2","length2","mergeLow","mergeHigh","cursor1","cursor2","count1","count2","_minGallop","customCursor","customDest","ts","minRun","force","timsort","shapeCompareFunc","zlevel","z","z2","Storage","_roots","_displayList","_displayListLen","includeIgnore","updateDisplayList","roots","displayList","_updateAndAddDisplayable","clipPaths","userSetClipPath","currentClipPath","parentClipPath","__clipPaths","addRoot","delRoot","_renderList","displayableSortFunc","_default$g","Storage_1","SHADOW_PROPS","_default$h","fixShadow","ContextCachedBy","NONE","STYLE_BIND","PLAIN_TEXT","WILL_BE_RESTORED","ContextCachedBy_1","WILL_BE_RESTORED_1","constant","ContextCachedBy$1","STYLE_COMMON_PROPS","Style","extendFrom","createLinearGradient","canvasGradient","createRadialGradient","fill","stroke","opacity","fillOpacity","strokeOpacity","lineDash","lineDashOffset","shadowBlur","shadowOffsetX","shadowOffsetY","lineWidth","strokeNoScale","textFont","fontStyle","fontWeight","fontFamily","textTag","textFill","textStroke","textWidth","textHeight","textStrokeWidth","textLineHeight","textPosition","textRect","textOffset","textVerticalAlign","textDistance","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","transformText","textRotation","textOrigin","textBackgroundColor","textBorderColor","textBorderWidth","textBorderRadius","textPadding","rich","truncate","blend","prevEl","prevStyle","notCheckCache","__attrCachedBy","styleName","strokeStyle","globalAlpha","globalCompositeOperation","hasStroke","getLineScale","hasFill","otherStyle","newStyle","getGradient","colorStops","addColorStop","styleProto","_default$i","Style_1","Pattern","repeat","getCanvasPattern","createPattern","_default$j","Pattern_1","devicePixelRatio$1","returnFalse","createDom","newDom","newDomStyle","Layer","domStyle","onselectstart","domBack","ctxBack","clearColor","motionBlur","lastFrameAlpha","__used","__drawIndex","__startIndex","__endIndex","incremental","getElementCount","initContext","createBackBuffer","clearAll","clearColorGradientOrPattern","haveMotionBLur","drawImage","clearRect","__canvasGradient","save","fillRect","restore","_default$k","Layer_1","_default$l","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","hostEl","cbPayload","__zrImageSrc","pendingWrap","isImageReady","pending","Image","imageOnLoad","__cachedImgObj","findExistImage_1","createOrUpdateImage_1","isImageReady_1","getContext$1","extend$3","retrieve2$1","retrieve3$1","trim$2","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","methods$1","$override$1","textLines","measureText","getRichTextRect","getPlainTextRect","contentBlock","parsePlainText","outerWidth","outerHeight","adjustTextX","adjustTextY","parseRichText","calculateTextPosition","halfHeight","adjustTextPositionOnRect","dummyStyle","truncateText","containerWidth","ellipsis","prepareTruncateOptions","truncateSingleLine","maxIterations","minChar","cnCharWidth","ascCharWidth","contentWidth","ellipsisWidth","textLine","subLength","estimateLength","getLineHeight","lines","canCacheByTextString","truncOuterHeight","truncOuterWidth","matchedIndex","pushTokens","substring","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","line","tokens","token","tokenStyle","tokenHeight","tokenWidth","tokenWidthNotSpecified","percentWidth","bgImg","paddingW","remianTruncWidth","block","isEmptyStr","strs","isLineHolder","tokensLen","makeFont","DEFAULT_FONT_1","$override_1$1","getWidth_1","getBoundingRect_1","adjustTextX_1","adjustTextY_1","calculateTextPosition_1","adjustTextPositionOnRect_1","truncateText_1","getLineHeight_1","measureText_1","parsePlainText_1","parseRichText_1","makeFont_1","buildPath","shape","r1","r2","r3","r4","total","moveTo","lineTo","arc","buildPath_1","roundRect","retrieve2$2","retrieve3$2","each$1","normalizeCssArray$1","isString$3","isObject$4","ContextCachedBy$2","WILL_BE_RESTORED$1","DEFAULT_FONT$1","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","bottom","middle","SHADOW_STYLE_COMMON_PROPS","_tmpTextPositionResult","_tmpBoxPositionResult","normalizeTextStyle","normalizeStyle","renderText","renderRichText","renderPlainText","text$1","needDrawBg","needDrawBackground","checkCache","cachedByMe","styleFont","computedFont","__computedFont","__styleFont","__textCotentBlock","__dirtyText","boxPos","getBoxPosition","baseX","baseY","applyTextRotation","boxY","textX","textY","boxX","drawBackground","getTextXForPadding","propItem","styleProp","ctxProp","textStrokeWidthPrev","strokeWidthChanged","strokeChanged","getStroke","getFill","strokeText","drawRichText","xLeft","lineTop","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","placeToken","setCtx","isPlainBg","beginPath","closePath","originalGlobalAlpha","image$1","onBgImageLoaded","parsePercent","maxValue","lastIndexOf","needDrawText","normalizeTextStyle_1","renderText_1","getBoxPosition_1","getStroke_1","getFill_1","parsePercent_1","needDrawText_1","WILL_BE_RESTORED$2","RectText","drawRectText","_default$m","RectText_1","Displayable","_rect","culling","progressive","beforeBrush","afterBrush","brush","rectContain","coord","animateStyle","setStyle","useStyle","_default$n","Displayable_1","ZImage","_image","aspect","sWidth","sHeight","_default$o","Image$1","devicePixelRatio$2","HOVER_LAYER_ZLEVEL","CANVAS_ZLEVEL","EL_AFTER_INCREMENTAL_INC","INCREMENTAL_INC","parseInt10","isLayerValid","__builtin__","tmpRect$1","viewRect","isDisplayableCulled","isClipPathChanged","prevClipPaths","doClip","createRoot","domRoot","Painter","singleCanvas","_opts","_singleCanvas","rootStyle","zlevelList","_zlevelList","layers","_layers","_layerConfig","_needsManuallyCompositing","_width","_height","mainLayer","_domRoot","_getSize","_hoverlayer","_hoverElements","isSingleCanvas","getViewportRoot","getViewportRootOffset","viewportRoot","paintAll","_redrawId","_paintList","_backgroundColor","refreshHover","addHover","hoverStyle","__hoverMir","elMirror","__from","removeHover","hoverElements","clearHover","hoverLayer","getLayer","scope","originalEl","_doPaintEl","getHoverLayer","redrawId","_updateLayerStatus","finished","_doPaintList","_compositeManually","eachBuiltinLayer","virtual","layerList","zi","useTimer","startTime","firstEl","notClear","dTime","prevElClipPaths","draw","currentLayer","forcePaint","insertLayer","layersMap","prevLayer","prevDom","eachLayer","getLayers","updatePrevLayer","prevZlevel","incrementalLayerCount","_clearLayer","setBackgroundColor","configLayer","layerConfig","_zlevel","delLayer","parentNode","_progressiveLayers","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","renderToCanvas","whIdx","wh","cwh","plt","prb","defaultView","getComputedStyle","pathToImage","shadowBlurSize","leftMargin","rightMargin","topMargin","bottomMargin","pathTransform","ImageShape","imgShape","_default$p","Painter_1","Dispatcher$1","Animation","_clips","_running","_time","_pauseStart","clips","_update","getTime","deferredEvents","deferredClips","_startLoop","isFinished","_default$q","Animation_1","addEventListener$1","removeEventListener$1","normalizeEvent$1","getNativeEvent$1","TOUCH_CLICK_DELAY","globalEventSupported","localNativeListenerNames","mouseHandlerNames","touchHandlerNames","pointerEventNameMap","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","mouse","pointer","globalNativeListenerNames","eventNameFix","isPointerFromTouch","pointerType","setTouchTimer","touching","touchTimer","markTouch","normalizeGlobalEvent","instance","FakeGlobalEvent","isLocalEl","elTmp","isLocal","domBelongToZr","currentTarget","fakeGlobalEventProto","stopImmediatePropagation","localDOMHandlers","mousedown","_mayPointerCapture","downPoint","togglePointerCapture","mouseup","_pointerCapturing","element","toElement","relatedTarget","touchstart","touchmove","touchend","click","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","domHandlers","nativeEventName","mountSingleDOMEventListener","mountGlobalDOMEventListeners","mount","nativeEventListener","capture","listenerOpts","domTarget","unmountDOMEventListeners","isPointerCapturing","globalHandlerScope","_globalHandlerScope","DOMHandlerScope","HandlerDomProxy","_localHandlerScope","handlerDomProxyProto","_default$r","HandlerProxy","useVML","painterCtors","instances","version$1","ZRender","getInstance","registerPainter","delInstance","rendererType","renderer","vml","handerProxy","_needsRefresh","oldDelFromStorage","oldAddToStorage","getId","zLevel","refreshImmediately","_needsRefreshHover","triggerRendered","refreshHoverImmediately","clearAnimation","version_1","init_1","dispose_1","getInstance_1","registerPainter_1","zrender","each$2","isObject$5","isArray$3","DUMMY_COMPONENT_NAME_PREFIX","normalizeToArray","defaultEmphasis","subOpts","emphasis","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","isDataItemOption","mappingToExists","exists","newCptOptions","exist","cptOption","option","isIdInner","makeIdAndName","mapResult","idMap","existCpt","keyInfo","idNum","isNameSpecified","componentModel","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","seriesId","dataIndices","dataIndex","otherDataIndices","lenj","isData","queryDataIndex","payload","dataIndexInside","indexOfRawIndex","indexOfName","makeInner","innerUniqueIndex","hostObj","parseFinder","ecModel","finder","defaultMainType","has$2","parsedKey","mainType","queryType","includeMainTypes","queryParam","models","queryComponents","getAttribute","getTooltipRenderMode","renderModeOption","groupData","getKey","buckets","normalizeToArray_1","defaultEmphasis_1","TEXT_STYLE_OPTIONS_1","getDataItemValue_1","isDataItemOption_1","mappingToExists_1","makeIdAndName_1","isNameSpecified_1","isIdInner_1","compressBatches_1","queryDataIndex_1","makeInner_1","parseFinder_1","setAttribute_1","getAttribute_1","getTooltipRenderMode_1","groupData_1","model","TYPE_DELIMITER","IS_CONTAINER","parseClassType","componentType","main","checkClassType","enableClassExtend","RootClass","mandatoryMethods","$constructor","ExtendedClass","superCall","superApply","classBase","enableClassCheck","Clz","classAttr","isInstance","methodName","enableClassManagement","entity","makeContainer","registerClass","Clazz","getClass","componentMainType","subType","throwWhenNotFound","getClassesByMainType","hasClass","getAllClassMainTypes","types","hasSubTypes","registerWhenExtend","originalExtend","setReadOnly","parseClassType_1","enableClassExtend_1","enableClassCheck_1","enableClassManagement_1","setReadOnly_1","_default$s","excludes","getShallow","makeStyleMapper","getLineStyle","_default$t","getLineDash","lineType","dotSize","dashSize","lineStyle","getAreaStyle","_default$u","areaStyle","v2Create","v2DistSquare","mathPow","mathSqrt","EPSILON$1","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","isNotAroundZero$1","cubicAt","onet","cubicDerivativeAt","cubicRootAt","t1","disc","K","discSqrt","Y1","Y2","theta","acos","ASqrt","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","y3","d1","d2","Infinity","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","cubicAt_1","cubicDerivativeAt_1","cubicRootAt_1","cubicExtrema_1","cubicSubdivide_1","cubicProjectPoint_1","quadraticAt_1","quadraticDerivativeAt_1","quadraticRootAt_1","quadraticExtremum_1","quadraticSubdivide_1","quadraticProjectPoint_1","curve","mathMin$1","mathMax$1","mathSin","mathCos","PI2","extremity","fromPoints","fromLine","xDim","yDim","fromCubic","fromQuadratic","tx","ty","fromArc","rx","ry","startAngle","endAngle","anticlockwise","vec2Min","vec2Max","diff","angle","fromPoints_1","fromLine_1","fromCubic_1","fromQuadratic_1","fromArc_1","bbox","dpr$1","CMD","M","Q","Z","min$4","max$3","min2","max2","mathMin$2","mathMax$2","mathCos$1","mathSin$1","mathSqrt$1","mathAbs","hasTypedArray","PathProxy","notSaveData","_saveData","_xi","_yi","_x0","_y0","_ux","_uy","_lineDash","_dashOffset","_dashIdx","_dashSum","setScale","segmentIgnoreThreshold","addData","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","cx","cy","arcTo","radius","toStatic","setLineDash","lineDashSum","setLineDashOffset","setData","appendPath","appendSize","appendPathData","cmd","_expandData","_prevCmd","newData","dash","dashSum","nDash","bezierLen","tmpLen","MAX_VALUE","xi","yi","rebuildPath","ux","uy","dTheta","psi","fs","scaleX","scaleY","isEllipse","_default$v","PathProxy_1","containStroke","_l","_a","_b","_s","containStroke_1","containStroke$1","containStroke_1$1","cubic","quadraticProjectPoint$1","containStroke$2","containStroke_1$2","quadratic","PI2$1","normalizeRadian","normalizeRadian_1","util$1","normalizeRadian$1","PI2$2","containStroke$3","containStroke_1$3","windingLine","dir","x_","windingLine_1","normalizeRadian$2","CMD$1","PI2$3","EPSILON$2","isAroundEqual","swapExtrema","windingCubic","nRoots","y0_","y1_","nExtrema","unit","windingQuadratic","y_","windingArc","containPath","isStroke","pathData","containStroke$4","contain_1","containStroke_1$4","path$1","pathProxyForDraw","Path","__dirtyPath","strokeContainThreshold","subPixelOptimize","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","_fillGradient","_strokeGradient","ctxLineDash","shapeCfg","inBundle","createPathProxy","needsUpdateRect","rectWithStroke","_rectWithStroke","lineScale","localPos","dirtyPath","animateShape","setShape","Sub","defaultShape","thisShape","_default$w","Path_1","v2ApplyTransform$1","CMD$2","mathSqrt$2","mathAtan2","_default$x","nPoint","transformPath","mathSqrt$3","mathSin$2","mathCos$2","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","createPathProxyFromString","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","ctlPtx","ctlPty","createPathOptions","pathProxy","createFromString","extendFromString","mergePath","pathEls","pathList","pathEl","pathBundle","createFromString_1","extendFromString_1","mergePath_1","path$2","ContextCachedBy$3","Text","shadowColor","text$2","_default$y","Text_1","_default$z","Circle","shadowTemp","_default$A","orignalBrush","modified","fixClipWithShadow","_default$B","r0","clockwise","unitX","unitY","Sector","_default$C","Ring","v2Distance","interpolate","_default$D","isLoop","segs","w2","w3","smoothSpline","v2Min","v2Max","v2Scale","v2Distance$1","v2Add","v2Clone","v2Sub","_default$E","smooth","constraint","prevPoint","nextPoint","cps","point","d0","cp0","cp1","smoothBezier","buildPath$1","controlPoints","smoothConstraint","cp2","buildPath_1$1","poly","_default$F","Polygon","_default$G","Polyline","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originX","originY","originWidth","originHeight","positiveOrNegative","doubledPosition","subPixelOptimizeLine_1","subPixelOptimizeRect_1","subPixelOptimize_2","subPixelOptimize_1","subPixelOptimizeRect$1","subPixelOptimizeOutputShape","_default$H","Rect","subPixelOptimizeLine$1","subPixelOptimizeOutputShape$1","_default$I","pointAt","Line","quadraticSubdivide$1","cubicSubdivide$1","quadraticAt$1","cubicAt$1","quadraticDerivativeAt$1","cubicDerivativeAt$1","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","_default$J","tangentAt","BezierCurve","_default$K","Arc","_default$L","paths","_updatePathDirty","CompoundPath","Gradient","_default$M","Gradient_1","LinearGradient","globalCoord","_default$N","LinearGradient_1","RadialGradient","_default$O","RadialGradient_1","inherits$1","IncrementalDisplayble","_displayables","_temporaryDisplayables","_cursor","clearDisplaybles","addDisplayable","notPersistent","addDisplayables","displayables","eachPendingDisplayable","_default$P","IncrementalDisplayable","Image$2","Group_1$1","Text_1$1","Circle_1","Sector_1","Ring_1","Polygon_1","Polyline_1","Rect_1","Line_1","BezierCurve_1","Arc_1","CompoundPath_1","LinearGradient_1$1","RadialGradient_1$1","BoundingRect_1$1","IncrementalDisplayable_1","mathMax$3","mathMin$3","EMPTY_OBJ","Z2_EMPHASIS_LIFT","CACHED_LABEL_STYLE_PROPERTIES","EMPHASIS","NORMAL","_highlightNextDigit","_highlightKeyMap","_customShapeMap","extendShape","extendPath","registerShape","ShapeClass","getShapeClass","makePath","centerGraphic","resizePath","makeImage","imageUrl","img","boundingRect","mergePath$1","pathRect","subPixelOptimizeLine$2","subPixelOptimizeRect$2","subPixelOptimize$1","hasFillOrStroke","fillOrStroke","liftedColorMap","liftedColorCount","liftColor","color$1","liftedColor","cacheElementStl","__hoverStlDirty","__hoverStl","normalStyle","__cachedNormalStl","__cachedNormalZ2","elStyle","singleEnterEmphasis","hoverStl","__highlighted","useHoverLayer","targetStyle","rollbackDefaultTextStyle","setDefaultHoverFillStroke","applyDefaultTextStyle","singleEnterNormal","highlighted","normalStl","normalZ2","traverseUpdate","updater","commonParam","fromState","toState","__highDownOnUpdate","setElementHoverStyle","onElementMouseOver","shouldSilent","__highByOuter","onElementMouseOut","onElementEmphasisEvent","highlightDigit","onElementNormalEvent","__highDownSilentOnTouch","setHoverStyle","setAsHighDownDispatcher","asDispatcher","disable","highDownSilentOnTouch","highDownOnUpdate","__highDownDispatcher","isHighDownDispatcher","getHighlightDigit","highlightKey","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","baseText","labelFetcher","labelDataIndex","labelDimIndex","labelProp","showNormal","showEmphasis","getFormattedLabel","defaultText","normalStyleText","emphasisStyleText","setTextStyle","modifyLabelStyle","normalStyleProps","emphasisStyleProps","textStyle","textStyleModel","specifiedTextStyle","isEmphasis","setTextStyleCommon","setText","labelModel","defaultColor","isRectText","autoColor","getTextPosition","labelRotate","richResult","globalTextStyle","richItemNames","getRichItemNames","richTextStyle","getModel","setTokenTextStyle","forceRich","richItemNameMap","parentModel","isBlock","getAutoColor","insideRollbackOpt","disableBox","insideRollback","useInsideStyle","useInsideStyleCache","useAutoColorCache","getFont","gTextStyleModel","animateOrSetProps","isUpdate","animatableModel","animationEnabled","isAnimationEnabled","duration","animationEasing","animationDelay","getAnimationDelayParams","updateProps","initProps","getTransform","ancestor","mat","applyTransform$1","transformDirection","direction","hBase","vBase","vertex","groupTransition","g1","g2","elMap1","getElMap","anid","oldEl","newProp","getAnimatableProps","elMap","clipPointsByRect","clipRectByRect","targetRect","createIcon","iconStr","linePolygonIntersect","a1x","a1y","a2x","a2y","lineLineIntersect","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","crossProduct2d","nearZero","b1a1x","b1a1y","q","Z2_EMPHASIS_LIFT_1","CACHED_LABEL_STYLE_PROPERTIES_1","extendShape_1","extendPath_1","registerShape_1","getShapeClass_1","makePath_1","makeImage_1","mergePath_1$1","resizePath_1","subPixelOptimizeLine_1$1","subPixelOptimizeRect_1$1","subPixelOptimize_1$1","setElementHoverStyle_1","setHoverStyle_1","setAsHighDownDispatcher_1","isHighDownDispatcher_1","getHighlightDigit_1","setLabelStyle_1","modifyLabelStyle_1","setTextStyle_1","setText_1","getFont_1","updateProps_1","initProps_1","getTransform_1","applyTransform_1$1","transformDirection_1","groupTransition_1","clipPointsByRect_1","clipRectByRect_1","createIcon_1","linePolygonIntersect_1","lineLineIntersect_1","graphic","PATH_COLOR","_default$Q","getTextColor","getTextRect","getItemStyle","_default$R","getBorderLineDash","itemStyle","makeInner$1","enableClassExtend$1","enableClassCheck$1","mixin$1","inner","Model","doGet","getParent","getParentMethod","mergeOption","ignoreParent","parsePath","thisParentModel","isEmpty","restoreData","customizeGetParent","_default$S","Model_1","parseClassType$1","getUID","enableSubTypeDefaulter","subTypeDefaulters","registerSubTypeDefaulter","defaulter","determineSubType","componentTypeMain","enableTopologicalTravel","dependencyGetter","makeDepndencyGraph","fullNameList","graph","noEntryList","thisItem","createDependencyGraphItem","originalDeps","availableDeps","getAvailableDependencies","entryCount","dependentName","predecessor","thatItem","successor","dep","topologicalTravel","targetNameList","targetNameSet","currComponentType","currVertex","isInTargetNameSet","removeEdgeAndAdd","removeEdge","succComponentType","getUID_1","enableSubTypeDefaulter_1","enableTopologicalTravel_1","RADIAN_EPSILON","_trim","linearMap","clamp","subDomain","subRange","parsePercent$1","round$1","returnStr","asc","getPrecision","getPrecisionSafe","eIndex","dotIndex","getPixelPrecision","dataExtent","pixelExtent","LN10","dataQuantity","sizeQuantity","getPercentWithPrecision","valueList","acc","votesPerQuota","targetSeats","seats","votes","currentSum","NEGATIVE_INFINITY","maxId","MAX_SAFE_INTEGER$2","remRadian","radian","pi2","isRadianAroundZero","TIME_REG","parseDate","hour","UTC","quantity","quantityExponent","exp","nice","nf","exponent","exp10","quantile","ascArr","reformIntervals","littleThan","curr","currClose","lg","isNumeric","linearMap_1","parsePercent_1$1","round_1","asc_1","getPrecision_1","getPrecisionSafe_1","getPixelPrecision_1","getPercentWithPrecision_1","MAX_SAFE_INTEGER_1","remRadian_1","isRadianAroundZero_1","parseDate_1","quantity_1","quantityExponent_1","nice_1","quantile_1","reformIntervals_1","isNumeric_1","addCommas","toCamelCase","upperCaseFirst","group1","normalizeCssArray$2","replaceReg","replaceMap","'","encodeHTML","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","formatTpl","tpl","paramsList","encode","seriesLen","$vars","alias","formatTplSimple","getTooltipMarker","extraCssText","renderMode","markerId","pad","formatTime","isUTC","date","utc","capitalFirst","truncateText$1","getTextBoundingRect","windowOpen","blank","opener","addCommas_1","toCamelCase_1","normalizeCssArray_1$1","encodeHTML_1","formatTpl_1","formatTplSimple_1","getTooltipMarker_1","formatTime_1","capitalFirst_1","truncateText_1$1","getTextBoundingRect_1","getTextRect_1","windowOpen_1","format$1","parsePercent$2","each$3","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","group","maxWidth","maxHeight","currentLineMaxSize","nextX","nextY","nextChild","nextChildRect","moveX","newline","moveY","vbox","hbox","getAvailableSize","positionInfo","containerRect","margin","containerHeight","getLayoutRect","verticalMargin","horizontalMargin","positionElement","hv","boundingMode","elPos","sizeCalculable","hvIdx","mergeLayoutParam","targetOption","newOption","ignoreSize","hResult","vResult","newParams","newValueCount","merged","mergedValueCount","enoughParamNumber","hasProp","hasValue","getLayoutParams","copyLayoutParams","LOCATION_PARAMS_1","HV_NAMES_1","box_1","vbox_1","hbox_1","getAvailableSize_1","getLayoutRect_1","positionElement_1","sizeCalculable_1","mergeLayoutParam_1","getLayoutParams_1","copyLayoutParams_1","_default$T","getBoxLayoutParams","boxLayout$1","enableClassManagement$1","parseClassType$2","makeInner$2","inner$1","ComponentModel","componentIndex","defaultOption","dependentModels","layoutMode","extraOpt","mergeDefaultAndTheme","inputPositionParams","themeModel","getTheme","getDefaultOption","optionUpdated","newCptOption","isInit","fields","optList","Class","getReferringComponents","getDependencies","deps","dependencies","unshift","_default$U","Component","platform","_default$V","gradientColor","blendMode","animationDuration","animationDurationUpdate","animationEasingUpdate","animationThreshold","progressiveThreshold","hoverLayerThreshold","useUTC","globalDefault","makeInner$3","normalizeToArray$1","inner$2","getNearestColorPalette","requestColorNum","paletteNum","_default$W","clearColorPalette","colorIdx","colorNameMap","getColorFromPalette","scopeFields","defaultColorPalette","layeredColorPalette","colorPalette","SOURCE_FORMAT_ORIGINAL","SOURCE_FORMAT_ARRAY_ROWS","SOURCE_FORMAT_OBJECT_ROWS","SOURCE_FORMAT_KEYED_COLUMNS","SOURCE_FORMAT_UNKNOWN","SOURCE_FORMAT_TYPED_ARRAY","SERIES_LAYOUT_BY_COLUMN","SERIES_LAYOUT_BY_ROW","SOURCE_FORMAT_ORIGINAL_1","SOURCE_FORMAT_ARRAY_ROWS_1","SOURCE_FORMAT_OBJECT_ROWS_1","SOURCE_FORMAT_KEYED_COLUMNS_1","SOURCE_FORMAT_UNKNOWN_1","SOURCE_FORMAT_TYPED_ARRAY_1","SERIES_LAYOUT_BY_COLUMN_1","SERIES_LAYOUT_BY_ROW_1","sourceType","createHashMap$1","isTypedArray$1","enableClassCheck$2","SOURCE_FORMAT_ORIGINAL$1","SERIES_LAYOUT_BY_COLUMN$1","SOURCE_FORMAT_UNKNOWN$1","SOURCE_FORMAT_TYPED_ARRAY$1","SOURCE_FORMAT_KEYED_COLUMNS$1","Source","fromDataset","sourceFormat","seriesLayoutBy","dimensionsDefine","encodeDefine","startIndex","dimensionsDetectCount","seriesDataToSource","_default$X","Source_1","makeInner$4","getDataItemValue$1","createHashMap$2","each$4","map$1","isArray$4","isString$4","isObject$6","isTypedArray$2","isArrayLike$3","extend$4","SOURCE_FORMAT_ORIGINAL$2","SOURCE_FORMAT_ARRAY_ROWS$1","SOURCE_FORMAT_OBJECT_ROWS$1","SOURCE_FORMAT_KEYED_COLUMNS$2","SOURCE_FORMAT_UNKNOWN$2","SOURCE_FORMAT_TYPED_ARRAY$2","SERIES_LAYOUT_BY_ROW$1","BE_ORDINAL","Must","Might","Not","inner$3","detectSourceFormat","datasetModel","getSource","seriesModel","resetSourceDefaulter","datasetMap","prepareSource","seriesOption","sourceHeader","dimensions","getDatasetModel","datasetOption","completeResult","completeBySourceData","normalizeDimensionsDefine","arrayRowsTravelFirst","objectRowsCollectDimensions","colArr","nameMap","displayName","maxLoop","firstIndex","makeSeriesEncodeForAxisCoordSys","coordDimensions","baseCategoryDimIndex","categoryWayValueDimStart","encodeItemName","encodeSeriesName","coordDimInfo","coordDimIdx","getDataDimCountOnCoordDim","datasetRecord","categoryWayDim","valueWayDim","pushDim","dimIdxArr","idxFrom","idxCount","dimsDef","coordDimName","itemName","seriesName","makeSeriesEncodeForNameBased","dimCount","potentialNameDimIndex","dim","idxResult","idxRes0","idxRes1","guessRecords","guessResult","doGuessOrdinal","isPureNumber","nameDimIndex","thisData","getComponent","datasetIndex","guessOrdinal","dimIndex","dimName","dimType","dimDefItem","sample","detectValue","row","beStr","BE_ORDINAL_1","detectSourceFormat_1","getSource_1","resetSourceDefaulter_1","prepareSource_1","makeSeriesEncodeForAxisCoordSys_1","makeSeriesEncodeForNameBased_1","guessOrdinal_1","sourceHelper","each$5","filter$1","map$2","isArray$5","indexOf$3","isObject$7","isString$5","createHashMap$3","assert$1","clone$4","merge$1","extend$5","mixin$2","resetSourceDefaulter$1","OPTION_INNER_KEY","GlobalModel","optionManager","_theme","_optionManager","setOption","optionPreprocessorFuncs","resetOption","optionChanged","baseOption","mountOption","initBase","timelineOption","getTimelineOption","mediaOptions","getMediaOption","_api","mediaOption","componentsMap","_componentsMap","newCptTypes","visitComponent","newCptOptionList","getComponentsByTypes","resultItem","ComponentModelClass","createSeriesIndices","componentOption","_seriesIndicesMap","_seriesIndices","getOption","cpts","isIdArray","cpt","isNameArray","filterBySubType","findComponents","queryCond","getQueryCond","doFilter","indexAttr","idAttr","nameAttr","eachComponent","queryResult","getSeriesByName","series","oneSeries","getSeriesByIndex","seriesIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","rawSeriesIndex","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","getCurrentSeriesIndices","filterSeries","filteredSeries","componentTypes","isNotTargetSeries","seiresIndex","mergeTheme","notMergeColorLayer","colorLayer","themeItem","existComponent","seriesModels","_default$Y","Global","echartsAPIList","ExtensionAPI","chartInstance","_default$Z","ExtensionAPI_1","coordinateSystemCreators","CoordinateSystemManager","_coordinateSystems","api","coordinateSystems","creater","coordSys","getCoordinateSystems","coordinateSystemCreator","_default$_","CoordinateSystem","each$6","clone$5","map$3","merge$2","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_mediaDefault","_currentMediaIndices","_optionBackup","_newBaseOption","parseRawOption","rawOption","isNew","mediaDefault","timelineOptions","mediaList","timelineOpt","timeline","media","singleMedia","preProcess","applyMediaQuery","ecWidth","ecHeight","realMap","aspectratio","applicatable","matched","operator","realAttr","real","expect","indicesEquals","indices1","indices2","oldOption","newCptOpt","oldCptOpt","oldOptionBackup","newParsedOption","isRecreate","optionBackup","timelineModel","getCurrentIndex","indices","_default$$","OptionManager_1","each$7","isObject$8","POSSIBLE_STYLES","compatEC2ItemStyle","itemStyleOpt","normalItemStyleOpt","normal","emphasisItemStyleOpt","convertNormalEmphasis","optType","useExtend","normalOpt","emphasisOpt","removeEC3NormalStatus","compatTextStyle","labelOptSingle","compatEC3CommonStyles","processSeries","seriesOpt","markPoint","markLine","markArea","nodes","edgeData","links","edges","categories","mpData","mlData","breadcrumb","levels","leaves","toArr","toObj","_default$10","isTheme","axes","axisName","axisOpt","axisPointer","parallel","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","geo","geoOpt","regions","regionObj","toolbox","toolboxOpt","featureOpt","tooltip","compatStyle","each$8","isArray$6","isObject$9","normalizeToArray$2","get$2","set$4","compatLayoutProperties","LAYOUT_PROPERTIES","COMPATITABLE_COMPONENTS","_default$11","seriesType","clipOverflow","clockWise","pointerColor","dataRange","visualMap","componentName","backwardCompat","createHashMap$4","each$9","_default$12","stackInfoMap","stackInfoList","getData","stackInfo","stackResultDimension","getCalculationInfo","stackedOverDimension","stackedDimension","stackedByDimension","isStackedByIndex","setCalculationInfo","calculateStack","targetStackInfo","idxInStack","resultVal","resultNaN","dims","targetData","byValue","stackedDataRawIndex","getRawIndex","stackedOver","rawIndexOf","getByRawIndex","hostModel","dataStack","extend$6","each$a","isObject$a","getDataItemValue$2","isDataItemOption$1","parseDate$1","SOURCE_FORMAT_TYPED_ARRAY$3","SOURCE_FORMAT_ARRAY_ROWS$2","SOURCE_FORMAT_ORIGINAL$3","SOURCE_FORMAT_OBJECT_ROWS$2","DefaultDataProvider","dimSize","_source","_data","_offset","_dimSize","providerMethods","providerProto","pure","persistent","appendData","appendDataSimply","countSimply","getItemSimply","col","newCol","oldCol","clean","rawValueGetters","arrayRows","getRawValueSimply","objectRows","keyedColumns","original","typedArray","defaultDimValueGetters","getDimValueSimply","converDataValue","_dimensionInfos","_rawData","hasItemOption","dimInfo","ordinalMeta","parseAndCollect","retrieveRawValue","getRawDataItem","getProvider","getDimensionInfo","retrieveRawAttr","DefaultDataProvider_1","defaultDimValueGetters_1","retrieveRawValue_1","retrieveRawAttr_1","dataProvider","retrieveRawValue$1","getTooltipMarker$1","formatTpl$1","getTooltipRenderMode$1","DIMENSION_LABEL_REG","_default$13","getDataParams","dataType","rawValue","getRawValue","rawDataIndex","getName","itemOpt","getItemVisual","tooltipModel","isSeries","userOutput","componentSubType","dimensionNames","itemModel","getItemModel","dimensionIndex","formatTooltip","dataFormat","isArray$7","createTask","define","Task","_reset","_plan","plan","_count","_onDirty","onDirty","_dirty","taskProto","performArgs","planResult","upTask","_upstream","skip","outputData","__pipeline","currentTask","forceFirstProgress","lastModBy","normalizeModBy","_modBy","lastModDataCount","_modDataCount","modBy","modDataCount","_dueEnd","_outputDueEnd","_progress","_dueIndex","progress","doProgress","outputDueEnd","_settedOutputEnd","unfinished","current","winCount","sStep","sCount","modNext","sequentialNext","taskIns","_callingProgress","downstream","_downstream","pipe","downTask","_disposed","getUpstream","getDownstream","setOutputEnd","createTask_1","task$2","formatTime$1","encodeHTML$1","addCommas$1","getTooltipMarker$2","getLayoutParams$1","mergeLayoutParam$1","createTask$1","prepareSource$1","getSource$1","retrieveRawValue$2","inner$4","SeriesModel","coordinateSystem","legendVisualProvider","visualColorAccessPath","visualBorderColorAccessPath","dataTask","dataTaskCount","dataTaskReset","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","themeSubType","fillDataTextStyle","newSeriesOption","getRawData","getCurrentTask","getLinkedData","modifyOutputEnd","getBaseAxis","multipleSeries","newLine","isRichText","formatArrayValue","vertially","dimItem","setEachItem","otherDims","markName","dimHead","dimHeadStr","valStr","tooltipDims","formatSingleValue","mapDimension","tooltipDimLen","isValueArr","formattedValue","colorEl","coordDimToDataDim","coordDim","getProgressive","getProgressiveThreshold","getAxisTooltipData","getTooltipPosition","pipeTask","preventIncremental","pipelineContext","getSeriesAutoName","dataDims","nameArr","dataDim","cloneShallow","dataTaskProgress","CHANGABLE_METHODS","wrapMethod","onDataSelfChange","scheduler","pipeline","getPipeline","agentStubMap","_default$14","Series","Component$1","filterForExposedEvent","componentProto","updateView","updateLayout","updateVisual","_default$15","Component_1","makeInner$5","_default$16","originalLarge","large","originalProgressive","progressiveRender","createRenderPlanner","each$b","createTask$2","inner$5","renderPlanner","Chart","renderTask","renderTaskPlan","renderTaskReset","view","highlight","toggleHighlight","downplay","incrementalPrepareRender","incrementalRender","chartProto","elSetState","dataIdx","getItemGraphicEl","eachItemGraphicEl","updateMethod","progressMethodMap","markUpdateMethod","_default$17","Chart_1","ORIGIN_METHOD","RATE","THROTTLE_TYPE","throttle$1","currCall","debounceNextCall","lastCall","lastExec","thisDelay","thisDebounce","debounceDelay","createOrUpdate","fnAttr","rate","throttleType","originFn","lastThrottleType","lastRate","clear$1","throttle_2","createOrUpdate_1","clear_1","throttle_1","isFunction$3","_default$18","createOnAllSeries","performRawSeries","colorAccessPath","colorCallback","setVisual","borderColorAccessPath","setItemVisual","dataEach","seriesColor","_default$19","legend","selector","polygon","lineX","lineY","keep","dataView","lang","dataZoom","back","magicType","bar","tiled","saveAsImage","typeNames","pie","scatter","effectScatter","tree","treemap","boxplot","candlestick","heatmap","sankey","funnel","gauge","pictorialBar","themeRiver","sunburst","aria","general","withTitle","withoutTitle","single","prefix","withName","withoutName","multiple","allData","partialData","retrieveRawValue$3","_default$1a","ariaModel","seriesCnt","ariaLabel","maxDataCnt","maxSeriesCnt","displaySeriesCnt","getTitle","getConfig","seriesLabels","seriesCount","seriesLabel","seriesTpl","getSeriesTypeName","displayCnt","dataLabels","keyValues","userConfig","PI$1","_default$1b","textColor","maskColor","showSpinner","spinnerRadius","mask","labelRect","lineCap","_default_1","each$c","map$4","isFunction$4","createHashMap$5","noop$2","createTask$3","getUID$1","normalizeToArray$3","Scheduler","ecInstance","dataProcessorHandlers","visualHandlers","_dataProcessorHandlers","_visualHandlers","_allHandlers","_stageTaskMap","performStageTasks","stageHandlers","needSetDirty","setDirty","dirtyMap","stageHandler","visualType","stageHandlerRecord","seriesTaskMap","overallTask","overallNeedDirty","stub","updatePayload","getPerformArgs","pipelineId","taskRecord","_pipelineMap","pCtx","progressiveEnabled","__idxInPipeline","blockIndex","updateStreamModes","dataLen","threshold","restorePipelines","pipelineMap","prepareStageTasks","stageTaskMap","record","createSeriesStageTask","overallReset","createOverallStageTask","prepareView","__block","performDataProcessorTasks","performVisualTasks","performSeriesTasks","getTargetSeries","seriesTaskPlan","seriesTaskReset","seriesTaskCount","useClearVisual","isVisual","isLayout","overallTaskReset","overallProgress","createStub","stubReset","stubOnDirty","agent","upstreamContext","stubProgress","clearAllVisual","resetDefines","makeSeriesTaskProgress","singleSeriesTaskProgress","resetDefineIdx","resetDefine","detectSeriseType","legacyFunc","ecModelMock","apiMock","wrapStageHandler","mockMethods","cond","_default$1c","Scheduler_1","colorAll","_default$1d","light","contrastColor","axisCommon","axisLine","axisTick","axisLabel","splitLine","splitArea","colorPalette$1","crossStyle","iconStyle","controlStyle","timeAxis","logAxis","valueAxis","categoryAxis","color0","borderColor0","_default$1e","dark","detectSourceFormat$1","SERIES_LAYOUT_BY_COLUMN$2","_default$1f","ox","oy","Ellipse","createFromString$1","isString$6","extend$7","defaults$1","trim$3","each$d","DILIMITER_REG","parseXML","svg","parser","DOMParser","parseFromString","SVGParser","_defs","_root","_isDefine","_isText","xml","viewBox","parseAttributes","viewBoxRect","viewBoxTransform","_parseNode","viewBoxArr","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","xmlNode","parentGroup","defineParsers","def","nodeParsers","_parseText","_textX","_textY","textContent","inheritStyle","circle","ellipse","parsePoints","polyline","gradient","_parseGradientColorStops","stopColor","__inheritedStyle","pointsString","attributesMap","defs","onlyInlineStyle","zrStyle","isTextEl","parseTransformAttribute","parseStyleAttribute","svgAttrName","attrValue","elFillProp","elStrokeProp","getPaint","elPropName","urlRegex","urlMatch","transformRegex","transformOps","warn","styleRegex","styleRegResult","styleList","viewBoxScale","viewBoxPosition","parseSVG","parseXML_1","makeViewBoxTransform_1","parseSVG_2","parseSVG_1","createHashMap$6","isString$7","isArray$8","each$e","parseXML$1","_default$1g","registerMap","mapName","rawGeoJson","rawSpecialAreas","records","specialAreas","geoJson","features","parsers","retrieveMap","geoJSON","svgXML","mapDataStorage","defaultKeyGetter","DataDiffer","oldArr","newArr","oldKeyGetter","newKeyGetter","_old","_new","_oldKeyGetter","_newKeyGetter","initIndexMap","keyArr","keyGetterName","dataDiffer","existence","_add","_remove","execute","oldDataIndexMap","newDataIndexMap","oldDataKeyArr","newDataKeyArr","_default$1h","DataDiffer_1","each$f","createHashMap$7","OTHER_DIMENSIONS","summarizeDimensions","summary","notExtraCoordDimMap","defaultedLabel","defaultedTooltip","coordDimIndex","getOrCreateEncodeArr","isExtraCoord","mayLabelDimType","defaultTooltip","otherDim","encodeArr","dataDimsOnCoord","encodeFirstDimNotExtra","dimArr","encodeLabel","encodeTooltip","getDimensionTypeByAxis","axisType","OTHER_DIMENSIONS_1","summarizeDimensions_1","getDimensionTypeByAxis_1","dimensionHelper","DataDimensionInfo","_default$1i","DataDimensionInfo_1","defaultDimValueGetters$1","DefaultDataProvider$1","summarizeDimensions$1","isObject$b","UNDEFINED","INDEX_NOT_FOUND","ID_PREFIX","dataCtors","Float64Array","Int32Array","CtorUint32Array","Uint32Array","CtorInt32Array","CtorUint16Array","Uint16Array","getIndicesCtor","_rawCount","cloneChunk","originalChunk","TRANSFERABLE_PROPERTIES","CLONE_PROPERTIES","transferProperties","__wrappedMethods","_calculationInfo","List","dimensionInfos","invertedIndicesMap","dimensionInfo","dimensionName","createInvertedIndices","_indices","_storage","_nameList","_idList","_optionModels","_visual","_layout","_itemVisuals","hasItemVisual","_itemLayouts","_graphicEls","_chunkSize","_chunkCount","_rawExtent","_extent","_approximateExtent","_dimensionsSummary","_invertedIndicesMap","listProto","prepareChunks","chunkSize","chunkCount","DataCtor","lastChunkIndex","resizeChunkArray","newStore","prepareInvertedIndex","invertedIndices","getRawValueFromStore","rawIndex","chunkIndex","chunkOffset","chunk","getRawIndexWithoutIndices","getRawIndexWithIndices","_idDimIdx","normalizeDimensions","cloneListForMapAndSample","excludeDimensions","allDimensions","originalStorage","cloneDimStore","getInitialExtent","originalDimStore","newDimStore","getDimension","getDimensionsOnCoord","dimensionsSummary","initData","nameList","dimValueGetter","notProvider","_nameRepeatCount","defaultDimValueGetter","_dimValueGetter","_dimValueGetterArrayRows","_initDataFromProvider","rawData","appendValues","dimLen","rawExtent","originalChunkCount","emptyDataItem","sourceIdx","dimRawExtent","nameDimIdx","dimensionInfoMap","idList","nameRepeatCount","_nameDimIdx","itemId","dimStorage","nameDim","nameDimChunk","getIndices","thisCount","newIndices","buffer","chunkStore","rawIdx","dimStore","_getFast","getValues","getDataExtent","dimData","initialExtent","dimExtent","currEnd","useRaw","getApproximateExtent","setApproximateExtent","extent","getSum","getMedian","dimDataArray","sortedDimDataArray","indicesOfNearest","maxDistance","nearestIndices","minDist","minDiff","nearestIndicesLen","contextCompat","filterSelf","dim0","selectRange","originalCount","quickFinished","chunkStorage","dimStorage2","chunkStorage2","val2","dimk","mapArray","tmpRetValue","dataCount","retValue","rawExtentOnDim","downSample","dimension","sampleValue","sampleIndex","targetStorage","frameValues","frameSize","originalChunkIndex","originalChunkOffset","sampleFrameIdx","sampleChunkIndex","sampleChunkOffset","otherList","thisList","getVisual","visual","setLayout","getLayout","getItemLayout","setItemLayout","clearItemLayouts","itemVisual","setItemDataAndSeriesIndex","setItemGraphicEl","dimensionInfoList","injectFunction","originalMethod","TRANSFERABLE_METHODS","_default$1j","List_1","createHashMap$8","each$g","isString$8","defaults$2","extend$8","isObject$c","clone$6","normalizeToArray$4","guessOrdinal$1","BE_ORDINAL$1","OTHER_DIMENSIONS$1","completeDimensions","sysDims","dataDimNameMap","coordDimNameMap","getDimCount","userDimName","encodeDef","encodeDefaulter","validDataDims","resultDimIdx","applyDim","availDimIdx","sysDimItem","sysDimIndex","sysDimItemDimsDef","sysDimItemOtherDims","sysDimItemDimsDefItem","generateCoord","generateCoordCount","fromZero","genName","optDimCount","_default$1k","completeDimensions_1","_default$1l","dimensionsCount","createDimensions","createHashMap$9","each$h","CoordSysInfo","coordSysName","coordSysDims","axisMap","categoryAxisMap","firstCategoryDimIndex","getCoordSysInfoBySeries","fetchers","cartesian2d","xAxisModel","yAxisModel","isCategory","singleAxis","singleAxisModel","polar","polarModel","radiusAxisModel","findAxisModel","angleAxisModel","parallelModel","parallelAxisIndex","axisIndex","axisModel","axisDim","getCoordSysInfoBySeries_1","referHelper","each$i","isString$9","enableDataStack","stackedByDimInfo","stackedDimInfo","byIndex","stackedCoordDimension","mayStack","stackedDimCoordDim","stackedDimType","stackedDimCoordIndex","isCalculationCoord","isDimensionStacked","stackedDim","getStackedDimension","targetDim","enableDataStack_1","isDimensionStacked_1","getStackedDimension_1","dataStackHelper","SOURCE_FORMAT_ORIGINAL$4","getDimensionTypeByAxis$1","getDataItemValue$3","getCoordSysInfoBySeries$1","enableDataStack$1","makeSeriesEncodeForAxisCoordSys$1","createListFromArray","coordSysDimDefs","registeredCoordSys","coordSysInfo","getDimensionsInfo","hasNameEncode","dimInfoList","useEncodeDefaulter","categoryAxisModel","getOrdinalMeta","stackCalculationInfo","isNeedCompleteOrdinalData","sampleItem","firstDataNotNull","_default$1m","createListFromArray_1","Scale","setting","_setting","_interval","getSetting","unionExtent","unionExtentFromData","getExtent","setExtent","thisExtent","isBlank","_isBlank","setBlank","getLabel","_default$1n","Scale_1","createHashMap$a","isObject$d","map$5","OrdinalMeta","_needCollect","needCollect","_deduplication","deduplication","createByAxisModel","dedplication","proto$1","getOrCreateMap","getOrdinal","category","_default$1o","OrdinalMeta_1","scaleProto","OrdinalScale","_ordinalMeta","getTicks","ticks","niceTicks","niceExtent","_default$1p","Ordinal","roundNumber","intervalScaleNiceTicks","splitNumber","minInterval","maxInterval","intervalPrecision","getIntervalPrecision","niceTickExtent","fixExtent","intervalScaleNiceTicks_1","getIntervalPrecision_1","fixExtent_1","helper","roundNumber$1","IntervalScale","_intervalPrecision","getInterval","setInterval","_niceExtent","expandToNicedExtent","safeLimit","tick","lastNiceTick","getMinorTicks","minorTicks","prevTick","minorTicksGroup","minorInterval","minorTick","expandSize","fixMax","fixMin","_default$1q","Interval","parsePercent$3","isDimensionStacked$1","STACK_PREFIX","LARGE_BAR_MIN_WIDTH","LargeArr","getSeriesStackId","getAxisKey","axis","getLayoutOnAxis","baseAxis","axisKey","bandWidth","getBandWidth","stackId","widthAndOffsets","doCalBarWidthAndOffset","offsetCenter","prepareLayoutBarSeries","isOnCartesian","isInLargeMode","getValueAxesMinGaps","barSeries","axisValues","cartesian","cnt","axisMinGaps","valuesInAxis","makeColumnLayout","seriesInfoList","axisExtent","minGap","extentSpan","scaleSpan","barWidth","barMaxWidth","barMinWidth","barGap","barCategoryGap","columnsMap","seriesInfo","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","minWidth","barGapPercent","autoWidth","column","finalWidth","lastColumn","widthSum","retrieveColumnLayout","barWidthAndOffset","layout$1","lastStackCoords","columnLayoutInfo","columnOffset","columnWidth","getOtherAxis","barMinHeight","valueDim","baseDim","stacked","isValueAxisH","isHorizontal","valueAxisStart","getValueAxisStart","baseValue","sign","baseCoord","dataToPoint","largeLayout","coordLayout","grid","getRect","valueAxisHorizontal","valueDimIdx","largePoints","largeBackgroundPoints","largeDataIndices","valuePair","pointsOffset","idxOffset","backgroundStart","toGlobalCoord","dataToCoord","getLayoutOnAxis_1","prepareLayoutBarSeries_1","makeColumnLayout_1","retrieveColumnLayout_1","layout_1","largeLayout_1","barGrid","intervalScaleProto","mathCeil","mathFloor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","bisect","TimeScale","stepLvl","_stepLvl","getFullYear","getMonth","getDate","approxTickNum","approxInterval","scaleLevelsLen","scaleLevels","yearSpan","yearStep","timezoneOffset","getTimezoneOffset","scaleProto$1","intervalScaleProto$1","getPrecisionSafe$1","roundingErrorFix","mathFloor$1","mathCeil$1","mathPow$1","mathLog","LogScale","_originalScale","originalScale","originalExtent","powVal","__fixMin","fixRoundingError","__fixMax","err","originalVal","_default$1r","Log","prepareLayoutBarSeries$1","makeColumnLayout$1","retrieveColumnLayout$1","getScaleExtent","axisDataLen","boundaryGap","scaleType","getMin","getMax","getCategories","getNeedCrossZero","isBaseAxisAndHasBarSeries","barSeriesModels","adjustedScale","adjustScaleForOverflow","axisLength","barsOnCurrentAxis","minOverflow","maxOverflow","totalOverFlow","oldRange","oldRangePercentOfNew","overflowBuffer","niceScaleExtent","extentInfo","createScaleByModel","ifAxisCrossZero","makeLabelFormatter","labelFormatter","getLabelModel","categoryTickStart","tickValue","getAxisRawValue","estimateLabelUnionRect","realNumberScaleTicks","tickCount","categoryScaleExtent","axisLabelModel","unrotatedSingleRect","singleRect","rotateTextRect","rotateRadians","boundingBox","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","getOptionCategoryInterval","shouldShowAllLabels","getScaleExtent_1","niceScaleExtent_1","createScaleByModel_1","ifAxisCrossZero_1","makeLabelFormatter_1","getAxisRawValue_1","estimateLabelUnionRect_1","getOptionCategoryInterval_1","shouldShowAllLabels_1","axisHelper","_default$1s","rangeStart","rangeEnd","getCoordSysModel","setRange","resetRange","axisModelCommonMixin","calculateTextPosition$1","Triangle","Diamond","Pin","tanX","tanY","cpLen","cpLen2","Arrow","symbolCtors","square","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","symbolType","proxySymbol","symbolPathSetColor","innerColor","symbolStyle","symbolShape","__isEmptyBrush","createSymbol","keepAspect","symbolPath","setColor","createSymbol_1","getLayoutRect_1$1","enableDataStack$2","isDimensionStacked$2","getStackedDimension$1","completeDimensions$1","createDimensions$1","createSymbol$1","createList","dataStack$1","createScale","mixinAxisModelCommonMethods","createList_1","dataStack_1","createScale_1","mixinAxisModelCommonMethods_1","helper$1","EPSILON$3","isAroundEqual$1","contain$1","contain_1$1","Region","geometries","cp","MAX_NUMBER","exterior","loopGeo","interiors","transformTo","newRegion","_default$1t","Region_1","decode","json","UTF8Encoding","encodeScale","UTF8Scale","geometry","coordinates","encodeOffsets","coordinate","decodePolygon","c2","prevX","prevY","_default$1u","nameProperty","featureObj","region","parseGeoJson","makeInner$6","makeLabelFormatter$1","getOptionCategoryInterval$1","shouldShowAllLabels$1","inner$6","createAxisLabels","makeCategoryLabels","makeRealNumberLabels","createAxisTicks","tickModel","makeCategoryTicks","makeCategoryLabelsActually","labels","labelCategoryInterval","numericLabelInterval","labelsCache","getListCache","optionLabelInterval","listCacheGet","makeLabelsByCustomizedCategoryInterval","makeAutoCategoryInterval","makeLabelsByNumericCategoryInterval","listCacheSet","tickCategoryInterval","ticksCache","optionTickInterval","labelsResult","labelItem","formattedLabel","rawLabel","autoInterval","calculateCategoryInterval","fetchAutoCategoryIntervalCalculationParams","axisRotate","ordinalScale","ordinalExtent","unitSpan","unitW","unitH","maxW","maxH","dw","dh","lastAutoInterval","lastTickCount","axisExtend0","axisExtend1","getRotate","categoryInterval","onlyTick","startTick","showAllLabel","includeMinLabel","includeMaxLabel","addItem","tVal","createAxisLabels_1","createAxisTicks_1","calculateCategoryInterval_1","axisTickLabelBuilder","each$j","map$6","linearMap$1","getPixelPrecision$1","round$2","createAxisTicks$1","createAxisLabels$1","calculateCategoryInterval$1","NORMALIZED_EXTENT","Axis","onBand","fixExtentWithBands","nTick","fixOnBandTicksCoords","ticksCoords","alignWithLabel","ticksLen","diffSize","crossLen","ticksItem","containData","coordToData","pointToData","getTicksCoords","getTickModel","getMinorTicksCoords","minorTickModel","minorTicksCoords","getViewLabels","_default$1v","Axis_1","zrender_1","matrix_1","vector_1","number$1","format$2","throttle_1$1","helper$2","parseGeoJSON_1","List$1","Model$1","Axis$1","env$1","parseGeoJson$1","ecUtil","graphic$1","parseGeoJson_1","util$2","graphic_1","_export$1","parseGeoJSON","echarts","TEST_FRAME_REMAIN_TIME","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_SERIES_FILTER","PRIORITY_PROCESSOR_DATASTACK","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_PROGRESSIVE_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_POST_CHART_LAYOUT","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_BRUSH","PRIORITY","PROCESSOR","FILTER","SERIES_FILTER","STATISTIC","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","CHART","POST_CHART_LAYOUT","COMPONENT","BRUSH","IN_MAIN_PROCESS","OPTION_UPDATED","ACTION_REG","createRegisterEventWithLowercaseName","ignoreDisposed","disposedWarning","MessageCenter","ECharts","themeStorage","_dom","defaultRenderer","_zr","_throttledZrFlush","_chartsViews","_chartsMap","_componentsViews","_coordSysMgr","createExtensionAPI","prioritySortFunc","__prio","visualFuncs","dataProcessorFuncs","_scheduler","_ecEventProcessor","EventProcessor","_messageCenter","_initEvents","_pendingActions","_onframe","bindRenderedEvent","echartsProto","doConvertPixel","_model","coordSysList","prepare","updateMethods","flushPendingActions","triggerUpdatedEvent","remainTime","renderSeries","getDom","getZr","notMerge","lazyUpdate","setTheme","getDevicePixelRatio","getSvgDataURL","getDataURL","excludeComponents","excludesComponentViews","__viewId","getConnectedDataURL","isSvg","groupId","connectedGroups","canvasList","chart","getSvgDom","targetCanvas","getSvgRoot","connectedBackgroundColor","convertToPixel","convertFromPixel","containPixel","containPoint","getViewOfComponentModel","getViewOfSeriesModel","prepareAndUpdate","coordSysMgr","performPostUpdateFuncs","ecIns","componentDirtyList","componentView","__alive","seriesDirtyMap","chartView","updateDirectly","excludeSeriesId","callView","__model","chartsMap","doDispatchAction","payloadType","escapeConnect","actionWrap","actions","actionInfo","cptType","payloads","batched","batch","eventObj","eventObjBatch","isHighDown","batchItem","action","pendingActions","isComponent","viewList","viewMap","doPrepare","viewId","classType","__id","__ecComponentInfo","renderComponents","dirtyList","updateZ","updateBlend","updateHoverLayerStatus","postUpdateFuncs","_loadingFX","showLoading","cfg","hideLoading","loadingEffects","makeActionFromEvent","eventActionMap","dispatchAction","MOUSE_EVENT_NAMES","elCount","preventUsingHoverLayer","getComponentByElement","modelInfo","eventInfo","eveName","isGlobalOut","dataModel","eventData","targetEl","packedEvent","actionType","isDisposed","DOM_ATTRIBUTE_KEY","cptQuery","dataQuery","otherQuery","condCptType","suffixes","dataKeys","reserved","propSuffix","suffixPos","propOnHost","idBase","groupIdBase","enableConnect","STATUS_PENDING","STATUS_UPDATING","STATUS_UPDATED","STATUS_KEY","updateConnectedChartsStatus","charts","otherChart","otherCharts","existInstance","getInstanceByDom","connect","disConnect","disconnect","getInstanceById","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processor","normalizeRegister","registerPostUpdate","postUpdateFunc","registerAction","registerCoordinateSystem","CoordinateSystem$1","getCoordinateSystemDimensions","coordSysCreator","registerLayout","layoutTask","registerVisual","visualTask","targetList","defaultPriority","__raw","registerLoading","loadingFx","extendComponentModel","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","getMap","dataTool","retrieveRawValue$4","legendHoverLink","hoverAnimation","smoothMonotone","symbolSize","symbolRotate","showSymbol","showAllSymbol","connectNulls","sampling","getDefaultLabel","labelDims","vals","getDefaultLabel_1","labelHelper","createSymbol$2","parsePercent$4","getDefaultLabel$1","SymbolClz$1","seriesScope","updateData","symbolProto","getSymbolSize","getScale","driftSymbol","_createSymbol","_symbolType","stopSymbolAnimation","toLastFrame","getSymbolPath","setZ","setDraggable","_updateCommon","fadeIn","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","__symbolOriginalScale","ratio","hoverItemStyle","symbolOffset","hoverLabelModel","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","getLabelDefaultText","fadeOut","keepLabel","_default$1x","_Symbol","isObject$e","SymbolDraw","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","isIgnore","clipShape","normalizeUpdateOpt","makeSeriesScope","oldData","SymbolCtor","newIdx","symbolEl","oldIdx","isPersistent","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","enableAnimation","_default$1y","SymbolDraw_1","isDimensionStacked$3","map$7","prepareDataCoordInfo","valueOrigin","valueStart","getValueStart","baseAxisDim","valueAxisDim","baseDataOffset","stackResultDim","dataDimsForPoint","getStackedOnPoint","dataCoordInfo","stackedData","prepareDataCoordInfo_1","getStackedOnPoint_1","helper$3","prepareDataCoordInfo$1","getStackedOnPoint$1","diffData","diffResult","idx1","_default$1z","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","pointAdded","currentPt","nextPt","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","stackedOnCurrent","stackedOnNext","lineAnimationDiff","scaleAndAdd$1","v2Copy","isPointNull","drawSegment","segLen","allLen","smoothMin","smoothMax","drawMono","drawNonMono","prevIdx","prevP","ctrlLen","nextIdx","nextP","ratioNextSeg","lenPrevSeg","lenNextSeg","getBoundingBox","ptMin","ptMax","pt","Polyline$1","Polygon$1","stackedOnPoints","stackedOnSmooth","stackedOnBBox","Polyline_1$1","Polygon_1$1","poly$1","round$3","createGridClipPath","hasAnimation","getArea","createPolarClipPath","sectorArea","createClipPath","createGridClipPath_1","createPolarClipPath_1","createClipPath_1","createClipPathFromCoordSys","fromPoints$1","Polyline$2","Polygon$2","prepareDataCoordInfo$2","getStackedOnPoint$2","createGridClipPath$1","createPolarClipPath$1","isPointsSame","points1","points2","getBoundingDiff","min1","max1","getSmooth","getStackedOnPoints","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","stepPt2","getVisualGradient","visualMetaList","visualMeta","getAxis","stops","stopLen","outerColors","tinyExtent","minCoord","maxCoord","coordSpan","getIsIgnoreFunc","isAuto","getAxesByScale","canShowAllSymbolForCategory","categoryDataDim","labelMap","availSize","createLineClipPath","rectShape","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","areaStyleModel","isCoordSysPolar","prevCoordSys","_coordSys","_polyline","_polygon","isAreaChart","isIgnoreFunc","__temp","clipShapeForSymbol","_clipShapeForSymbol","_step","_newPolygon","_stackedOnPoints","_points","_updateAnimation","_newPolyline","visualColor","lineJoin","stackedOnSeries","_valueOrigin","__points","updatedDataInfo","diffStatus","ptIdx","isFunction$5","_default$1B","defaultSymbolType","legendSymbol","hasSymbolTypeCallback","hasSymbolSizeCallback","hasSymbolRotateCallback","hasCallback","seriesSymbol","seriesSymbolSize","symbolKeepAspect","itemSymbolType","itemSymbolSize","itemSymbolRotate","itemSymbolKeepAspect","symbol$1","map$8","isDimensionStacked$4","_default$1C","isLargeRender","segCount","tmpIn","tmpOut","points$1","samplers","average","nearest","indexSampler","_default$1D","sampler","dataSample","dimAxisMapper","_axes","Cartesian","_dimList","getAxes","addAxis","_dataCoordConvert","dimList","_default$1E","Cartesian_1","Cartesian2D","axisX","axisY","toLocalCoord","xAxis","yAxis","clampData","xScale","yScale","xAxisExtent","yAxisExtent","xExtent","getGlobalExtent","yExtent","_default$1F","Cartesian2D_1","Axis2D","coordExtent","getAxesOnZeroOf","_default$1G","Axis2D_1","nameLocation","nameRotate","nameTruncate","nameTextStyle","nameGap","triggerEvent","onZero","onZeroAxisIndex","inside","showMinLabel","showMaxLabel","axisDefault","minorSplitLine","logBase","_default$1H","axisDefault_1","getLayoutParams$2","mergeLayoutParam$2","AXIS_TYPES","_default$1I","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","thisOption","__ordinalMeta","axisModelCreator","AxisModel","gridIndex","gridId","getAxisType","extraOption","containLabel","isObject$f","each$k","map$9","indexOf$4","getLayoutRect$1","createScaleByModel$1","ifAxisCrossZero$1","niceScaleExtent$1","estimateLabelUnionRect$1","getStackedDimension$2","isAxisUsedInTheGrid","gridModel","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","gridProto","fixAxisOnZero","axesMap","otherAxisDim","onZeroRecords","otherAxisOnZeroOf","otherAxes","canOnZeroToAxis","getOnZeroRecordKey","updateAxisTransform","coordBase","axisExtentSum","axisPointerEnabled","_updateScale","ignoreContainLabel","gridRect","axesList","adjustAxes","labelUnionRect","axesMapOnDim","getCartesian","xAxisIndex","yAxisIndex","coordList","getCartesians","_findConvertTarget","coordsList","axisPositionUsed","axesCount","createAxisCreator","axisPosition","isCartesian2D","axesModels","findAxesModels","getTooltipAxes","baseAxes","otherAxis","axesTypes","grids","retrieve$1","defaults$3","extend$9","each$l","isRadianAroundZero$1","remRadian$1","createSymbol$3","v2ApplyTransform$2","shouldShowAllLabels$2","PI$2","AxisBuilder","labelOffset","nameDirection","tickDirection","labelDirection","dumbGroup","_transform","_dumbGroup","hasBuilder","builders","getGroup","pt1","pt2","arrows","arrowSize","arrowOffset","symbolWidth","symbolHeight","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","labelLayout","axisNameAvailableWidth","gapSignal","isNameLocationCenter","nameRotation","innerTextLayout","endTextLayout","truncateOpt","nameTruncateMaxWidth","truncatedText","tooltipOpt","formatterParams","textEl","__fullText","__truncatedText","isLabelSilent","makeAxisEventDataBase","targetType","axisRotation","rotationDiff","textRotate","onLeft","tickEls","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","lastTick","ignoreEl","isTwoLabelOverlapped","firstRect","nextRect","mRotationBack","createTicks","tickTransform","tickEndCoord","tickLineStyle","aniid","tickCoord","tickEl","axisBuilder","minorTickLineStyle","minorTicksEls","axisLabelShow","labelMargin","labelRotation","rawCategoryData","itemLabelModel","_default$1K","AxisBuilder_1","each$m","curry$1","collect","axesInfo","seriesInvolved","coordSysAxesInfo","coordSysMap","collectAxesInfo","collectSeriesInfo","globalTooltipModel","globalAxisPointerModel","linksOption","linkGroups","coordSysKey","makeKey","axesInfoInCoordSys","coordSysModel","baseTooltipModel","saveTooltipAxisInfo","triggerAxis","cross","tooltipAxes","fromTooltip","triggerTooltip","axisPointerModel","axisPointerShow","isHandleTrigger","makeAxisPointerModel","snap","involveSeries","axisInfo","useHandle","groupIndex","getLinkGroupIndex","linkGroup","mapper","tooltipAxisPointerModel","volatileOption","field","labelOption","tooltipAxisPointerLabelShow","seriesTooltipTrigger","seriesTooltipShow","seriesDataCount","linkOption","checkPropInLink","linkPropValue","axisPropValue","fixValue","getAxisInfo","getAxisPointerModel","collect_1","fixValue_1","getAxisInfo_1","getAxisPointerModel_1","makeKey_1","modelHelper","AxisView","_axisPointer","axisPointerClass","updateAxisPointer","disposeAxisPointer","axisView","forceRender","getAxisPointerClass","axisPointerClazz","registerAxisPointerClass","_default$1L","AxisView_1","layout$2","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelInside","layout_1$1","cartesianAxisHelper","rectCoordAxisBuildSplitArea","axisGroup","splitAreaModel","areaColors","areaColorsLen","lastSplitAreaColors","__splitAreaColors","newSplitAreaColors","colorIndex","cIndex","rectCoordAxisHandleRemove","rectCoordAxisBuildSplitArea_1","rectCoordAxisHandleRemove_1","axisSplitHelper","rectCoordAxisBuildSplitArea$1","rectCoordAxisHandleRemove$1","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","_splitLine","splitLineModel","lineColors","lineCount","_minorSplitLine","minorSplitLineModel","_splitArea","_default$1M","findPointFromSeries","makeInner$7","each$n","curry$2","inner$7","_default$1N","currTrigger","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","dataByCoordSys","updaters","showPointer","showTooltip","coordSysContainsPoint","inputAxisInfo","findInputAxisInfo","processOnAxis","linkTriggers","tarAxisInfo","tarKey","srcAxisInfo","srcKey","srcValItem","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","payloadInfo","buildPayloadsBySeries","payloadBatch","snapToValue","seriesNestestValue","nestestValue","coordSysItem","coordSysId","coordSysIndex","coordSysType","coordSysMainType","dataByAxis","axisId","valueLabelOpt","seriesDataIndices","outputAxesInfo","valItem","tooltipOption","highDownKey","lastHighlights","newHighlights","toHighlight","toDownplay","axisTrigger","makeInner$8","triggerOn","shadowStyle","handle","icon","inner$8","each$o","initGlobalListeners","useHandler","dis","makeDispatchAction","dispatchTooltipFinally","pendings","initialized","doEnter","onLeave","actuallyPayload","showLen","showTip","hideLen","hideTip","register_1","unregister_1","globalListener","AxisPointerView","makeInner$9","inner$9","clone$7","bind$2","BaseAxisPointer","updateProps$1","animationModel","moveAnimation","propsEqual","lastProp","lastProps","newProps","equals","updateLabelShowHide","labelEl","getHandleTransProps","trans","updateMandatoryProps","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","_axisModel","_axisPointerModel","elOption","makeElOption","graphicKey","_moveAnimation","determineAnimation","doUpdateProps","updatePointerEl","updateLabelEl","createPointerEl","createLabelEl","_renderHandle","isCategoryAxis","useSnap","pointerOption","pointerEl","updateHandleTransform","handleModel","onmousemove","onmousedown","_onHandleDragMove","ondragend","_onHandleDragEnd","includeStyles","handleSize","_moveHandleToValue","getHandleTransform","_doDispatchAxisPointer","cursorPoint","doClear","buildLabel","xy","xDimIndex","_default$1O","BaseAxisPointer_1","buildElStyle","axisPointerType","styleModel","buildLabelElOption","labelPos","getValueLabel","paddings","verticalAlign","confineInContainer","bgColor","viewWidth","viewHeight","axisDimension","seriesData","idxItem","dataParams","getTransformedPosition","layoutInfo","buildCartesianSingleLabelElOption","textLayout","makeLineShape","makeRectShape","makeSectorShape","buildElStyle_1","buildLabelElOption_1","getValueLabel_1","getTransformedPosition_1","buildCartesianSingleLabelElOption_1","makeLineShape_1","makeRectShape_1","makeSectorShape_1","viewHelper","CartesianAxisPointer","otherExtent","pixelValue","pointerShapeBuilder","currPosition","cursorOtherValue","tooltipOptions","targetShape","getAxisDimIndex","shadow","showContent","alwaysShowContent","displayMode","confine","showDelay","hideDelay","transitionDuration","enterable","each$p","toCamelCase$1","vendors","gCssText","assembleTransition","transitionCurve","transitionText","vendorPrefix","assembleFont","assembleCssText","borderName","camelCase","makeStyleCoord","appendToBody","zrPainter","zrViewportRoot","viewportRootOffset","TooltipContent","_appendToBody","_styleCoord","_container","_show","_hideTimeout","onmouseenter","_enterable","_inContent","onmouseleave","hideLater","_hideDelay","currentStyle","_moveTooltipIfResized","ratioX","ratioY","realX","realY","styleCoord","pointerEvents","setEnterable","getSize","clientWidth","clientHeight","isShow","getOuterSize","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","_default$1Q","TooltipContent_1","makeStyleCoord$1","TooltipRichContent","markerRich","suffix","startId","endId","bounding","_default$1R","TooltipRichContent_1","getTooltipRenderMode$2","bind$3","each$q","parsePercent$5","proxyRect","tooltipContent","_renderMode","_newLine","_tooltipContent","_tooltipModel","_ecModel","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","_tryShow","_hide","_refreshUpdateTimeout","manuallyShowTip","makeDispatchAction$1","_ticket","_manuallyAxisShowTip","pointInfo","manuallyHideTip","buildTooltipModel","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","_showTimout","singleDefaultHTML","singleParamsList","singleTooltipModel","itemCoordSys","axisValue","seriesDefaultHTML","valueLabel","axisValueLabel","seriesTooltip","newMarkers","firstLine","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","tooltipTrigger","defaultHtml","asyncTicket","subTooltipModel","cbTicket","contentSize","vAlign","viewSize","layoutRect","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","lastIndices","lastIdxItem","newIdxItem","modelCascade","resultModel","gapH","gapV","domWidth","domHeight","rectWidth","rectHeight","isNameSpecified$1","langSelector","defaultSelectorOption","LegendModel","selected","_updateSelector","_updateData","legendData","hasSelected","isSelected","potentialData","availableNames","isPotential","provider","getAllNames","_availableNames","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","getOrient","itemGap","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","selectorLabel","selectorPosition","selectorItemGap","selectorButtonGap","legendSelectActionHandler","selectedMap","isToggleSelect","legendModel","isItemSelected","getLayoutRect$2","layoutBox","positionElement$1","layout$3","boxLayoutParams","viewportSize","makeBackground","layout_1$2","makeBackground_1","listComponent","createSymbol$4","makeBackground$1","curry$3","each$r","Group$1","newlineDisabled","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","isFirstRender","resetInner","itemAlign","renderInner","mainRect","layoutInner","contentGroup","legendDrawnMap","selectMode","legendSymbolType","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","containName","_createSelector","selectorGroup","createSelectorButton","selectorItem","labelText","onclick","emphasisLabelModel","legendModelItemStyle","itemIcon","legendGlobalTooltipModel","setSymbolStyle","legendSymbolCenter","hitRect","legendIndex","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","hw","yx","dataName","_default$1U","legendModels","legendFilter","constants","DEFAULT_THEME","DEFAULT_COLORS","HEAT_MAP_COLOR","HEAT_BMAP_COLOR","itemPoint","STATIC_PROPS","ECHARTS_SETTINGS","_interopDefault$1","echartsLib","numerify$1","Loading","staticClass","DataEmpty","_v","_extends","setExtend","setMark","seriesItem","marks","setAnimation","core","class","_componentTag","canvasStyle","dataEmpty","loading","$slots","settings","beforeConfig","afterConfig","afterSetOption","afterSetOptionOnce","events","tooltipVisible","legendVisible","legendPosition","initOptions","themeName","judgeWidth","widthChangeDelay","tooltipFormatter","resizeable","resizeDelay","changeDelay","setOptionOpts","cancelResizeCheck","notSetUnchange","changeHandler","chartLib","chartHandler","chartColor","dataHandler","_data$columns","columns","_data$rows","_once","optionsHandler","nextTickResize","$nextTick","echartsResize","bmap","amap","_store","_isDestroyed","judgeWidthHandler","_this2","resizeableHandler","onresize","addResizeListener","removeResizeListener","createEventProxy","resizeHandler","addWatchToProps","_this3","watchedVariable","_watchers","watcher","expression","$props","_this4","ev","registeredEvents","themeChange","beforeDestroy","_numerify","core_1","_interopDefault$2","Core","_extends$1","getLineXAxis","xAxisName","axisVisible","xAxisType","getLineSeries","axisSite","metrics","area","nullAddZero","dataTemp","getLineYAxis","yAxisName","yAxisType","yAxisBase","getLineTooltip","rightItems","rightList","_items$","showData","itemData","getLegend","legendName","line$1","_settings$axisSite","_settings$yAxisType","_settings$xAxisType","_settings$yAxisName","_settings$dimension","_settings$xAxisName","_settings$axisVisible","_settings$scale","_settings$min","_settings$max","_settings$nullAddZero","_settings$digit","_settings$legendName","_settings$labelMap","line_common","IndicatorAxis","radiusExtent","_default$1V","IndicatorAxis_1","getScaleExtent$1","niceScaleExtent$2","Radar","radarModel","_indicatorAxes","getIndicatorModels","indicatorModel","indicatorAxis","getIndicatorAxes","indicatorIndex","coordToPoint","closestAxis","minRadianDiff","closestAxisIdx","indicatorAxes","radarSeries","increaseInterval","fixedMin","fixedMax","nicedSplitNumber","radarList","valueAxisDefault","defaultsShow","showName","nameFormatter","indicatorModels","indicatorOpt","iNameTextStyle","indName","indicator","axisBuilderAttrs$1","extend$a","_buildAxes","_buildSplitLineAndArea","axisBuilders","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","splitLines","splitAreas","ticksRadius","getColorIndex","realSplitNumber","axesTicksPoints","prevPoints","areaOrLine","areaOrLineColorList","isArray$9","_default$1X","dimensionsInfo","createListSimply","LegendVisualProvider","getDataWithEncodedVisual","dataWithEncodedVisual","_default$1Y","LegendVisualProvider_1","encodeHTML$2","RadarSeries","radarIndex","normalizeSymbolSize","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","hoverAreaStyleModel","polygonIgnore","hoverPolygonIgnore","itemHoverStyle","labelHoverModel","createHashMap$b","_default$1_","paletteScope","seiresModelMap","__paletteScope","dataAll","idxMap","filteredIdx","singleDataColor","singleDataBorderColor","dataColor","_default$1$","isValidPoint","getValueMissingPoint","firstPoint","radarLayout","_default$20","dataFilter","_default$21","polarOptArr","polarNotRadar","polarOpt","polarIndex","backwardCompat$1","_interopDefault$3","Core$1","getRadarLegend","getRadarTooltip","radar$$1","typeTemp","nameTemp","getRadarSetting","settingBase","indicatorTemp","getRadarSeries","radarIndexObj","serieData","radar$1","_settings$dataType","_extends$2","index$1","radar_common","_default$22","updateSelectedMap","_targetList","_selectTargetMap","targetMap","selectableMixin","getPercentWithPrecision$1","retrieveRawAttr$1","makeSeriesEncodeForNameBased$1","PieSeries","_createSelectableList","_defaultLabelLine","labelLineNormalOpt","labelLine","labelLineEmphasisOpt","minAngle","minShowLabelAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","alignTo","bleedMargin","distanceToLabelLine","animationType","animationTypeUpdate","updateDataSelected","toggleItemSelected","midAngle","PiePiece","sector","piePieceProto","firstCreate","sectorShape","withAnimation","_updateLabel","hoverIgnore","normalIgnore","targetLineShape","linePoints","targetTextStyle","labelLineModel","labelLineHoverModel","sectorGroup","_sectorGroup","onSectorClick","piePiece","_createClipPath","initOrUpdate","itemLayout","_default$23","actionInfos","createDataSelectAction","parsePercent$6","RADIAN","adjustSingleSide","viewLeft","viewTop","farthestX","shiftDown","shiftUp","changeX","isDownList","lastDeltaX","labelAlignTo","deltaY","deltaX","lastY","upList","downList","avoidOverlap","labelLayoutList","leftList","leftmostX","rightmostX","isPositionCenter","targetTextWidth","isAlignToEdge","realTextWidth","labelDistance","_default$24","hasLabelRotate","minShowLabelRadian","labelPosition","labelLineLen","labelLineLen2","isLabelInside","parsePercent$7","linearMap$2","PI2$4","RADIAN$1","getViewRect","_default$25","validDataCount","unitRadian","roseType","restAngle","valueSumLargerThanMinAngle","currentAngle","pieLayout","_interopDefault$4","Core$2","_extends$3","pieRadius","ringRadius","roseRingRadius","pieOffsetY","getPieSeries","innerRows","percentShow","limitShowNum","isRing","levelTemp","rowsTemp","levelItems","itemLevel","levelItem","seriesBase","rowsTempLength","dataRows","centerWidth","innerWidth","firstData","remainArr","getPieLegend","legendLimit","getPieTooltip","pie$1","_settings$metrics","_settings$roseType","_settings$radius","_settings$offsetY","_settings$legendLimit","_settings$selectedMod","_settings$hoverAnimat","_settings$label","_settings$level","_settings$limitShowNu","seriesParams","legendParams","index$2","pie_common","_default$26","getMarkerPosition","offsetIndex","barMinAngle","largeThreshold","progressiveChunkMode","BaseBarSeries","getDefaultLabel$2","brushSelector","roundCap","showBackground","backgroundStyle","borderType","labelPositionOutside","fixPosition","setLabel_1","helper$4","getBarItemStyle","_default$28","barItemStyle","extendShape$1","_default$29","dr","rCenter","unitStartX","unitStartY","unitEndX","unitEndY","lessThanCircle","sausage","setLabel$1","throttle$2","createClipPath$1","BAR_BORDER_WIDTH_QUERY","_eventPos","getClipArea","coordSysClipArea","expandWidth","_updateDrawMode","coordinateSystemType","_isLargeDraw","_renderLarge","_renderNormal","_clear","_incrementalRenderLarge","isLargeDraw","isHorizontalOrRadial","needsClip","backgroundModel","barBorderRadius","bgEls","oldBgEls","_backgroundEls","createBackground","bgLayout","bgEl","createBackgroundEl","isClipped","elementCreator","updateStyle","newIndex","oldIndex","createBackgroundShape","removeRect","removeSector","bgGroup","_backgroundGroup","createLarge","_removeBackground","mathMax$4","mathMin$4","coordSysBoundingRect","signWidth","signHeight","clipped","signR","animateProperty","animateTarget","isRadial","fixedLineWidth","getLineWidth","signX","signY","isZeroOnPolar","isPolar","itemStyleModel","rawLayout","LargePath","startPoint","__startPoint","baseDimIdx","__baseDimIdx","backgroundStartPoint","__largeDataIndices","__barWidth","setLargeBackgroundStyle","setLargeStyle","largePathUpdateDataIndex","largePath","largePathFindDataIndex","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","barBaseVal","barValueVal","ElementClz","layout$4","largeLayout$1","_interopDefault$5","Core$3","defineProperty$7","_extends$4","VALUE_AXIS_OPACITY","getBarDimAxis","dimAxisName","dimAxisType","getValueAxisData","getBarMeaAxis","meaAxisName","meaAxisType","meaAxisBase","meaAxis","getBarTooltip","isHistogram","secondAxis","getValueData","seriesTemp","getBarSeries","_args$showLine","showLine","secondDimAxisIndex","itemOpacity","getLegend$1","getDims","histogram","_settings$axisSite2","_settings$dimension2","_settings$stack2","_settings$axisVisible2","_settings$digit2","_settings$dataOrder2","dataOrder","_settings$scale2","_settings$min2","_settings$max2","_settings$labelMap2","_settings$legendName2","_settings$barGap2","_label2","order","tooltipParams","index$3","histogram_common","defaultEmphasis$1","makeSeriesEncodeForNameBased$2","FunnelSeries","minSize","funnelAlign","FunnelPiece","funnelPieceProto","opacityAccessPath","funnelPiece","parsePercent$8","linearMap$3","getViewRect$1","getSortedIndices","valueArr","isAscending","labelLayout$1","_default$2b","sizeExtent","itemSize","getLinePoints","funnelLayout","_interopDefault$6","Core$4","getFunnelTooltip","realValue","getFunnelLegend","getFunnelSeries","sequence","ascending","filterZero","useDefaultOrder","falseFunnel","funnel$1","outerColumns","outerRows","_settings$sequence","metricsTemp","_extends$5","index$4","funnel_common","addCommas$2","encodeHTML$3","fillLabel","MarkerModel","_mergeOption","hostSeries","__hostSeries","newOpt","createdBySelf","modelPropName","markerOpt","markerModel","_default$2c","MarkerModel_1","isDimensionStacked$5","indexOf$5","hasXOrY","hasXAndY","markerTypeCalculatorWithExtent","mlType","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","calcDataDim","numCalculate","coordArrValue","curry$4","markerTypeCalculator","dataTransform","getAxisInfo$1","coordInfo","baseDataDim","valueDataDim","radiusAxis","angleAxis","valueIndex","dataDimToCoordDim","dataFilter$1","dataTransform_1","getAxisInfo_1$1","dataFilter_1","dimValueGetter_1","numCalculate_1","markerHelper","straightLineProto","bezierCurveProto","isLine","_default$2e","_buildPathLine","_buildPathCurve","_pointAtLine","_pointAtCurve","_tangentAtCurve","LinePath","round$4","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","createSymbol$5","lineData","__specifiedRotation","createLine","setLinePoints","updateSymbolAndLabelBeforeLineUpdate","symbolFrom","symbolTo","invScale","fromPos","toPos","specifiedRotation","tangent","__labelDistance","distanceX","distanceY","halfPercent","__position","__verticalAlign","__textAlign","Line$1","_createLine","lineProto","lineLabelOriginalOpacity","_updateCommonStl","hoverLineStyle","visualOpacity","defaultLabelColor","showLabel","hoverShowLabel","rawVal","normalText","emphasisText","labelStyle","linePath","_default$2f","Line_1$1","LineDraw","ctor","_ctor","lineDrawProto","doAdd","lineDraw","lineNeedsDraw","doUpdate","oldLineData","newLineData","itemEl","isEffectObject","makeSeriesScope$1","isPointNaN","pts","_lineData","_clearIncremental","_incremental","_default$2g","LineDraw_1","_default$2h","markerGroupMap","__keep","markerModelKey","MarkerView","getStackedDimension$3","markLineTransform","mlModel","mlFrom","mlTo","isInifinity","ifMarkLineHasOnlyDim","fromCoord","toCoord","otherDimIndex","markLineFilter","updateSingleMarkerEndLayout","isFrom","xPx","yPx","markLineModel","fromData","toData","__to","lineDrawMap","createList$1","updateDataVisualAndLayout","lineColor","coordDimsInfos","optData","updateMarkerLayout","markPointModel","mpModel","symbolDrawMap","createList$2","isFnSymbol","isFnSymbolSize","isFnSymbolRotate","dataOpt","markAreaTransform","maModel","ltCoord","rbCoord","isInifinity$1","ifMarkLineHasOnlyDim$1","markAreaFilter","getSingleMarkerEndPoint","dimPermutations","createList$3","areaData","markAreaModel","areaGroupMap","polygonGroup","allClipped","xValue","yValue","__data","HAS_SPECIES_SUPPORT$3","USES_TO_LENGTH$6","SPECIES$5","nativeSlice$1","max$4","fin","createMethod$3","TO_ENTRIES","objectToArray","entries","$values","_arrayWithHoles","arrayWithHoles","_iterableToArrayLimit","_arr","_n","_d","_e","_i","iterableToArrayLimit","_nonIterableRest","nonIterableRest","_slicedToArray","slicedToArray","_typeof_1","_classCallCheck","classCallCheck","_defineProperties","_createClass","protoProps","staticProps","createClass","Parser","cells","2","binaryMatrix","excelData","rowIndex","cellValue","cellIndex","rowsArray","_Object$values$map","_Object$values$map2","csvArray","colIndex","LbpLineChart","chartData","csv2VChartJson","createMethod$4","IS_RIGHT","arrayReduce","$reduce","STRICT_METHOD$3","USES_TO_LENGTH$7","LbpTable","mainTableWrapperEle","mainTableEle","fixedTableWrapperEle","fixedTableEle","freezeCount","setFixedTableStyle","renderCell","cell","renderTable","tableData","tableClass","tableStyle","headers","columnsCount","getFixedColsWidth","tableHeaders","freezeColsWidth","offsetHeight","scrollHeight","setTableWidth","parentWidth","initElements","__resizeHandler","addListener","lbpTable","destroy","removeListener","Parser$1","LbpNewsList","_Parser$csv2VChartJso","_plugins","i18nTitle","shortcutProps","LbpPlugin","_ref$i18nTitle","LbpPluginController","_ref$plugins","plugins","_pluginsMap","registerPlugin","plugin","getPluginsMap","lbpPluginController","enUSLang","app","chineseDocument","englishDocument","chat","logout","sidebar","myWorks","dataCenter","basicData","templateCenter","freeTemplates","accountCenter","workCard","createTime","useNow","preview","edit","createNewWork","viewData","templates","pageManager","delete","publish","setAsTemplate","centerPanel","contextMenu","moveToTop","moveToBottom","moveUp","moveDown","showOnlyButton","showExcludePicture","fixedTool","undo","redo","copyCurrentPage","copyCurrentElement","importPSD","zoomIn","zoomOut","issues","editPanel","tab","page","iteration","inifinite","common","empty","tip","componentUsage","zhCNLang","ownKeys$2","_objectSpread$1","messages","defaultLang","i18n","locale","fallbackLocale","_extends$6","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","mergeFn","helper$5","$entries","regexpFlags","ignoreCase","multiline","dotAll","unicode","sticky","RE","UNSUPPORTED_Y","re","BROKEN_CARET","regexpStickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y$1","NPCG_INCLUDED","PATCH","reCopy","flags","charsAdded","strCopy","regexpExec","SPECIES$6","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","fixRegexpWellKnownSymbolLogic","KEY","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","createMethod$5","CONVERT_TO_STRING","second","stringMultibyte","codeAt","advanceStringIndex","regexpExecAbstract","max$5","min$5","floor$1","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","functionalReplace","fullUnicode","results","matchStr","accumulatedResult","nextSourcePosition","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","ch","hyphenateStyleName","uppercasePattern","msPattern","HANDLERS_PROPERTY","HAS_WINDOWS","HAS_NAVIGATOR","IS_TOUCH","msMaxTouchPoints","EVENTS","processDirectiveArguments","bindingValue","middleware","isActive","detectIframe","scopeNode","documentElement","execHandler","onFauxIframeClick","_document","activeElement","tagName","contains","onEvent","composedPath","isClickOutside","bind$4","_processDirectiveArgu","_handler","srcTarget","detectIframeEvent","unbind","handlers","oldValue","directive","vClickOutside","ownKeys$3","_objectSpread$2","ShapeLayerDefaultProps","points$2","ShapeLayer","directives","clickOutside","inject","getReact","shapeStyle","getStyle","startY","startX","active","vcoConfig","ltPointStyle","rtPointStyle","lbPointStyle","rbPointStyle","_this$rect","lmPointStyle","rmPointStyle","_this$rect2","tmPointStyle","bmPointStyle","_this$rect3","bound","onClickOutside","setActive","addWidth","_this$rect4","currentLeft","currentWidth","boundRight","nextWidth","addHeight","_this$rect5","currentTop","currentHeight","boundBottom","nextHeight","addLeft","_this$rect6","_this$bound","boundLeft","nextLeft","addTop","_this$rect7","_this$bound2","boundTop","nextTop","handleShapeDown","handleShapeMove","handleShapeUp","handlePointDown","handlePointMove","handlePointUp","effect","_effect","effectLeft","effectTop","effectWidth","effectHeight","_this$rect8","effectLeftDistance","effectWidthDistance","_this$rect9","effectTopDistance","effectHeightDistance","ownKeys$4","_objectSpread$3","_components","_components$1","_components$2","_components$3","id$1","LbpElement","_options$name","_options$props","_options$style","_options$attrs","_options$animations","animations","vm","_pluginsControl$getPl","getPlugin","getPluginProps","pluginProps","commonStyle","propsDefine","getPropDefaultValue","Render","elName","elProps","EventBus","AnimateLayer","runAnimations","animationQueue","animIdx","runAnimation","animationName","animationIterationCount","infinite","interationCount","animationFillMode","$on","ElementRender","setVm","$listeners","LbpCanvas","elements","provide","updateCanvas","deactive","elementRectChange","fixedTools","i18nTooltip","hotkey","hotkeyTooltip","previewDialogVisible","elementManager","updateScaleRate","FixedTools","Layout","Sider","Button","Tooltip","scaleRate","flexDirection","tool","$t","splitKey","colorsPanel","lbsTextAlign","Radio","textAlignTabs","Parser$2","validFileMimeTypes","CsvImport","checkMimeType","validFileMimeType","file","csv","files","isValidFileMimeType","loadFile","readFile","skipEmptyLines","reader","FileReader","readAsText","evt","randomId","lbsExcelEditor","innerItems","binaryMatrix2excel","refreshSheet","parseCSV","sheetData","sheet","loadData","reRender","initSheet","ele","showToolbar","showGrid","showContextmenu","change","lbpSlideCustomEditor","Pagination","elementProps","itemRender","originalElement","marginRight","minus","marginLeft","currentItem","ownKeys$5","_objectSpread$4","_components$4","RenderPropsEditor","Form","Item","Tabs","Input","TextArea","Switch","InputNumber","Select","loadCustomEditorFlag","form","setFieldsValue","$form","createForm","onFieldsChange","getFieldsValue","formItemLayout","renderPropFormItem","propConfig","formItemData","configEntries","RenderScriptEditor","editorContent","nativeMatch","matcher","_components$5","firstLevelAnimationOptions","animationOptions","animationValue2Name","RenderAnimationEditor","Popover","Slider","Collapse","Panel","Icon","Drawer","TabPane","Tag","activeCollapsePanel","activePreviewAnimation","drawerVisible","addAnimation","deleteAnimate","updateAnimation","activeAnimationQueue","runAnimate","renderSecondAnimationTabs","renderAvaiableAnimations","firstGroup","renderAnimationOptions","animationOption","addedAnimation","RenderActionEditor","editingElement","freezing","isExtensible","preventExtensions","internalMetadata","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","onFreeze","meta","REQUIRED","nativeFreeze","FAILS_ON_PRIMITIVES$2","_components$6","_components$7","_components$8","PAGE_MODE","SWIPPER_PAGE","LONG_PAGE","WIDTH","HEIGHT","PAGE_MODE_LABEL","RenderBackgroundEditor","formLayout","pageMode","updateWork","$$v","EditorRightPanel","editPropsConfig","getPropsWithEditor","editPropsValue","editPropsConfigKeys","propsValue","editAnimationValue","activeTabKey","setActiveTab","propsWithEditor","propsChange","animationsChange","ShortcutButton","faIcon","clickFn","mousedownFn","listeners","slots","UsageTip","ownKeys$6","_objectSpread$5","script$1","Modal","confirmLoading","package","showModal","handleOk","createjs","npmPackages","pluginInfo","LoadQueue","handleComplete","handleFileLoad","loadManifest","handleCancel","__vue_script__$1","__vue_render__$1","cancel","__vue_staticRenderFns__$1","__vue_inject_styles__$1","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","__vue_component__$1","ownKeys$7","_objectSpread$6","_components$9","_components$a","_components$b","dragDom","dragConfig","isPreDrag","isDrag","Drag","_mousedown","_mousemove","_mouseup","toggleListener","dragMixin","handleDragStartFromMixin","dragElement","cloneNode","_dragConfig$origin","_dragConfig$origin2","canMousedown","checkCanMousedown","minOffset","canvasWrapper","dragStyle","minOffsetX","minOffsetY","updated","RenderShortcutsPanel","Row","Col","shortcutItem","getPlugins","marginTop","$i18n","PageTitleEditor","Popconfirm","editingTitle","pageIndex","newTitle","PageTitleMenu","Dropdown","Menu","addPageText","copyPageText","deletePageText","PageTitleText","Badge","boxShadow","RenderPageManager","onSelectMenuItem","menuKey","onEditTitle","onSelectPage","hoverIndex","getTreeNode","script$2","Tree","treeData","gData","expandedKeys","__vue_script__$2","__vue_render__$2","__vue_staticRenderFns__$2","__vue_inject_styles__$2","__vue_scope_id__$2","__vue_module_identifier__$2","__vue_is_functional_template__$2","__vue_component__$2","_components$c","EditorLeftPanel","overflow","addElement","addPage","pageChange","AuxiliayLine","vLines","hLines","drawVLine","newLeft","clearVLine","drawHLine","newTop","clearHLine","genBorder","calcVHLine","referElementsXCoords","referElementsYCoords","hasVLine","hasHLine","_this$genBorder","_this$genBorder2","xCoords","yCoords","_this$genBorder3","_this$genBorder4","exCoords","eyCoords","eX","referX","eY","referY","AdjustHeight","updateWorkHeight","mousedownForAdjustLine","startHeight","canvasOuterWrapper","move","moveEvent","currY","moveHeight","scrollTop","up","AdjustLineV","onMousedown","defineProperty$8","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","_components$d","Page","_ref$title","_ref$elements","_ref$pageMode","genElements","Work","_ref$description","_ref$pages","isPublish","isTemplate","genPages","config$1","rightPanelWidth","Editor","Content","auxiliayVisible","currentPage","_this$work$pages","elementsRect","_this$currentPage","_currentPage$elements","immediate","_currentPage$elements2","addElements","changePageIndex","updatePage","lbpElement","updateElement","_hideAuxiliay","_showAuxiliay","_handleElementActive","_handleElementDeactive","deactiveElement","_handleAdjustLieMove","_handlePropsChange","_handleAnimationsChange","_handleElementRectChange","_handleAddElement","_handleAddPage","_handlePageHeightChange","_handlePageIndexChange","install"],"mappings":"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AW8gB,IACV,CACDk6N,UAAW,CACT,QAAS,SACT,QAAS,QAEX17O,MAAO,OACP6vM,KAAM,iBACN10L,SAAS,EACTje,KAAM+hB,GAAU/hB,KAChBwD,UAAWue,IACV,CACDy8N,UAAW,CACT,QAAS,WACT,QAAS,OAEX17O,MAAO,MACP6vM,KAAM,QACN10L,SAAS,EACTje,KAAM+xB,GAAS/xB,KACfwD,UAAWuuB,IACV,CACDysN,UAAW,CACT,QAAS,MACT,QAAS,MAEX17O,MAAO,KACP6vM,KAAM,QACN10L,SAAS,EACTje,KAAM2jC,GAAkB3jC,KACxBwD,UAAWmgC,IACV,CACD66M,UAAW,CACT,QAAS,QACT,QAAS,MAEX17O,MAAO,KACP6vM,KAAM,eACN10L,SAAS,EACTje,KAAM+iB,GAAS/iB,KACfwD,UAAWuf,IACV,CACDy7N,UAAW,CACT,QAAS,aACT,QAAS,QAEX17O,MAAO,OACP6vM,KAAM,kBACN10L,SAAS,EACTje,KAAM8lB,GAAa9lB,KACnBwD,UAAWsiB,IACV,CACD04N,UAAW,CACT,QAAS,cACT,QAAS,QAEX17O,MAAO,OACP6vM,KAAM,iBACN10L,SAAS,EACTje,KAAMgmB,GAAchmB,KACpBwD,UAAWwiB,IACV,CACDw4N,UAAW,CACT,QAAS,gBACT,QAAS,QAEX17O,MAAO,OACP6vM,KAAM,iBACN10L,SAAS,EACTje,KAAM4qB,GAAqB5qB,KAC3BwD,UAAWonB,IACV,CACD4zN,UAAW,CACT,QAAS,aACT,QAAS,QAEX17O,MAAO,OACP6vM,KAAM,eACN10L,SAAS,EACTje,KAAMopB,GAAkBppB,KACxBwD,UAAW4lB,IACV,CACDo1N,UAAW,CACT,QAAS,aACT,QAAS,MAEX17O,MAAO,KACP6vM,KAAM,eACN10L,SAAS,EACTje,KAAMsxB,GAActxB,KACpBwD,UAAW8tB,IACV,CACDktN,UAAW,CACT,QAAS,UACT,QAAS,QAEX17O,MAAO,OACP6vM,KAAM,QACN10L,SAAS,EACTje,KAAMqyB,GAAWryB,KACjBwD,UAAW6uB,IACV,CACDmsN,UAAW,CACT,QAAS,iB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ACU,KAAbA,IAAiB9uJ,EAAGj9C,UAAYgrM,GAAmBvxO,EAAG9H,GAASsrF,EAAGj9C,WAAY6rM,IAClFpmP,IAEF,OAAa,IAANA,EAAU,KAAOyT,OAM9B,IA0TIsiP,GA1TAC,GAA6B,CAAC,CAChCt5O,MAAO,KACPld,MAAO,KACN,CACDkd,MAAO,KACPld,MAAO,KACN,CACDkd,MAAO,KACPld,MAAO,UAELy2P,GAAmB,CAAC,CACtBv5O,MAAO,GACPld,MAAO,IACPsgE,SAAU,CAAC,CACTpjD,MAAO,IACPld,MAAO,MAER,CACDkd,MAAO,KACPld,MAAO,oBACPsgE,SAAU,CAAC,CACTpjD,MAAO,KACPld,MAAO,cACN,CACDkd,MAAO,KACPld,MAAO,UACN,CACDkd,MAAO,KACPld,MAAO,SACN,CACDkd,MAAO,KACPld,MAAO,SACN,CACDkd,MAAO,KACPld,MAAO,SACN,CACDkd,MAAO,KACPld,MAAO,SACN,CACDkd,MAAO,MACPld,MAAO,cACN,CACDkd,MAAO,KACPld,MAAO,SACN,CACDkd,MAAO,GACPld,MAAO,QACN,CACDkd,MAAO,GACPld,MAAO,YAER,CACDkd,MAAO,OACPld,MAAO,qBACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,YACN,CACDkd,MAAO,SACPld,MAAO,gBACN,CACDkd,MAAO,SACPld,MAAO,gBACN,CACDkd,MAAO,SACPld,MAAO,iBACN,CACDkd,MAAO,SACPld,MAAO,gBAER,CACDkd,MAAO,OACPld,MAAO,iBACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,aACN,CACDkd,MAAO,SACPld,MAAO,iBACN,CACDkd,MAAO,SACPld,MAAO,iBACN,CACDkd,MAAO,SACPld,MAAO,kBACN,CACDkd,MAAO,SACPld,MAAO,iBAER,CACDkd,MAAO,OACPld,MAAO,mBACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,UACN,CACDkd,MAAO,SACPld,MAAO,cACN,CACDkd,MAAO,aACPld,MAAO,iBACN,CACDkd,MAAO,QACPld,MAAO,cACN,CACDkd,MAAO,aACPld,MAAO,iBACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,aACPld,MAAO,kBACN,CACDkd,MAAO,SACPld,MAAO,YACN,CACDkd,MAAO,aACPld,MAAO,iBAER,CACDkd,MAAO,OACPld,MAAO,eACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,WACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,YACPld,MAAO,kBACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,YACPld,MAAO,kBACN,CACDkd,MAAO,SACPld,MAAO,gBACN,CACDkd,MAAO,YACPld,MAAO,mBACN,CACDkd,MAAO,SACPld,MAAO,aACN,CACDkd,MAAO,YACPld,MAAO,kBAER,CACDkd,MAAO,KACPld,MAAO,WACPsgE,SAAU,CAAC,CACTpjD,MAAO,KACPld,MAAO,QACN,CACDkd,MAAO,OACPld,MAAO,WACN,CACDkd,MAAO,OACPld,MAAO,WACN,CACDkd,MAAO,SACPld,MAAO,YACN,CACDkd,MAAO,SACPld,MAAO,cAER,CACDkd,MAAO,OACPld,MAAO,aACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,gBACN,CACDkd,MAAO,OACPld,MAAO,mBAER,CACDkd,MAAO,OACPld,MAAO,qBACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,YACN,CACDkd,MAAO,UACPld,MAAO,oBACN,CACDkd,MAAO,OACPld,MAAO,wBACN,CACDkd,MAAO,UACPld,MAAO,kBACN,CACDkd,MAAO,UACPld,MAAO,qBAER,CACDkd,MAAO,OACPld,MAAO,iBACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,aACN,CACDkd,MAAO,UACPld,MAAO,qBACN,CACDkd,MAAO,UACPld,MAAO,sBACN,CACDkd,MAAO,UACPld,MAAO,mBACN,CACDkd,MAAO,UACPld,MAAO,sBAER,CACDkd,MAAO,OACPld,MAAO,oBACPsgE,SAAU,CAAC,CACTpjD,MAAO,SACPld,MAAO,aACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,SACPld,MAAO,kBAER,CACDkd,MAAO,OACPld,MAAO,gBACPsgE,SAAU,CAAC,CACTpjD,MAAO,SACPld,MAAO,cACN,CACDkd,MAAO,SACPld,MAAO,gBACN,CACDkd,MAAO,SACPld,MAAO,gBACN,CACDkd,MAAO,SACPld,MAAO,mBAER,CACDkd,MAAO,OACPld,MAAO,iBACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,UACN,CACDkd,MAAO,SACPld,MAAO,cACN,CACDkd,MAAO,SACPld,MAAO,cACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,SACPld,MAAO,cAER,CACDkd,MAAO,OACPld,MAAO,aACPsgE,SAAU,CAAC,CACTpjD,MAAO,OACPld,MAAO,WACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,SACPld,MAAO,eACN,CACDkd,MAAO,SACPld,MAAO,gBACN,CACDkd,MAAO,SACPld,MAAO,eAER,CACDkd,MAAO,OACPld,MAAO,WACPsgE,SAAU,CAAC,CACTpjD,MAAO,KACPld,MAAO,SACN,CACDkd,MAAO,OACPld,MAAO,UACN,CACDkd,MAAO,OACPld,MAAO,cAOP02P,GAAsBD,GAAiB3nN,QAAO,SAAU/2B,EAAKirG,GAC/D,IAAIp6F,EAAQo6F,EAAK1iD,SAIjB,OAHA13C,EAAMjjB,SAAQ,SAAUyjB,GACtBrR,EAAIqR,EAAKppB,OAASopB,EAAKlM,SAElBnF,IACN,IAGC4+O,GAAwB,CAC1B7zP,YAAayzP,GAAgB,GAAIt+O,GAAiBs+O,GAAe7yP,EAAa2xP,YAAY91P,KAAMmE,EAAa2xP,aAAcp9O,GAAiBs+O,GAAe7yP,EAAauxP,KAAK11P,KAAMmE,EAAauxP,MAAOh9O,GAAiBs+O,GAAe7yP,EAAairJ,KAAKpvJ,KAAMmE,EAAairJ,MAAO12I,GAAiBs+O,GAAe7yP,EAAairJ,KAAKqmG,KAAKz1P,KAAMmE,EAAairJ,KAAKqm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","file":"js/app.b94928bb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('lbp-editor',{ref:\"editor\",staticStyle:{\"height\":\"100vh\"},attrs:{\"data\":_vm.work}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @author: Mater\n * @Email: bxh8640@gmail.com\n * @Date: 2020-11-02 09:25:51\n * @LastEditTime: 2020-11-17 13:01:48\n * @Description:\n-->\n<template>\n  <div id=\"app\">\n    <lbp-editor :data=\"work\" ref=\"editor\" style=\"height: 100vh\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\";\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      work: {\n        id: '3c31d1a0-0c91-4448-bf0a-9510b5b34be3',\n        title: '',\n        description: '',\n        cover_image_url: null,\n        pages: [\n          {\n            title: '',\n            elements: [\n              {\n                name: 'lbp-background',\n                props: {\n                  imgSrc: '',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n              {\n                name: 'lbp-picture',\n                props: {\n                  imgSrc:\n                    'https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo.jpg!0x0.webp',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n              {\n                name: 'lbp-picture',\n                props: {\n                  imgSrc:\n                    'https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo.jpg!0x0.webp',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n              {\n                name: 'lbp-picture',\n                props: {\n                  imgSrc:\n                    'https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo.jpg!0x0.webp',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n            ],\n          },\n        ],\n        is_publish: 0,\n        is_template: 0,\n        created_at: '2020-10-12T06:34:41.000Z',\n        updated_at: '2020-10-28T01:24:23.000Z',\n        page_mode: 'h5_swipper',\n      },\n    }\n  },\n  components: {},\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3281f24a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @author : Mater\r\n * @Email : bxh8640@gmail.com\r\n * @Date : 2020-11-02 09:25:51\r\n * @LastEditTime : 2020-11-03 15:48:17\r\n * @Description :\r\n */\r\nimport Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\n\r\nimport \"./lib/luban-h5-editor/dist/luban-h5-editor.css\";\r\nimport lubanH5Editor from \"./lib/luban-h5-editor/dist/luban-h5-editor.js\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(lubanH5Editor);\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('ant-design-vue'), require('vue-quill-editor'), require('vant'), require('resize-detector'), require('vue'), require('vue-i18n'), require('lodash'), require('hotkeys-js'), require('x-data-spreadsheet'), require('papaparse')) :\n  typeof define === 'function' && define.amd ? define(['ant-design-vue', 'vue-quill-editor', 'vant', 'resize-detector', 'vue', 'vue-i18n', 'lodash', 'hotkeys-js', 'x-data-spreadsheet', 'papaparse'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global['luban-h5-editor'] = factory(global['ant-design-vue'], global.VueQuillEditor, global.vant, global.resizeDetector, global.Vue, global.VueI18n, global.lodash, global.hotkeys, global.x_spreadsheet, global.papaparse));\n}(this, (function (antDesignVue, vueQuillEditor, vant, resizeDetector, Vue, VueI18n, lodash, hotkeys, Spreadsheet, Papa) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var Vue__default = /*#__PURE__*/_interopDefaultLegacy(Vue);\n  var VueI18n__default = /*#__PURE__*/_interopDefaultLegacy(VueI18n);\n  var hotkeys__default = /*#__PURE__*/_interopDefaultLegacy(hotkeys);\n  var Spreadsheet__default = /*#__PURE__*/_interopDefaultLegacy(Spreadsheet);\n  var Papa__default = /*#__PURE__*/_interopDefaultLegacy(Papa);\n\n  var fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n  });\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, basedir, module) {\n  \treturn module = {\n  \t\tpath: basedir,\n  \t\texports: {},\n  \t\trequire: function (path, base) {\n  \t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n  \t\t}\n  \t}, fn(module, module.exports), module.exports;\n  }\n\n  function getAugmentedNamespace(n) {\n  \tif (n.__esModule) return n;\n  \tvar a = Object.defineProperty({}, '__esModule', {value: true});\n  \tObject.keys(n).forEach(function (k) {\n  \t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n  \t\tObject.defineProperty(a, k, d.get ? d : {\n  \t\t\tenumerable: true,\n  \t\t\tget: function () {\n  \t\t\t\treturn n[k];\n  \t\t\t}\n  \t\t});\n  \t});\n  \treturn a;\n  }\n\n  function commonjsRequire () {\n  \tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  var check = function (it) {\n    return it && it.Math == Math && it;\n  };\n\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global_1 =\n    // eslint-disable-next-line no-undef\n    check(typeof globalThis == 'object' && globalThis) ||\n    check(typeof window == 'object' && window) ||\n    check(typeof self == 'object' && self) ||\n    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n    // eslint-disable-next-line no-new-func\n    Function('return this')();\n\n  var isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var document$1 = global_1.document;\n  // typeof document.createElement is 'object' in old IE\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function (it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function () { return 7; }\n    }).a != 7;\n  });\n\n  var anObject = function (it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    } return it;\n  };\n\n  // `ToPrimitive` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var toPrimitive = function (input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var nativeDefineProperty = Object.defineProperty;\n\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  var f = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var objectDefineProperty = {\n  \tf: f\n  };\n\n  var defineProperty = objectDefineProperty.f;\n\n  var FunctionPrototype = Function.prototype;\n  var FunctionPrototypeToString = FunctionPrototype.toString;\n  var nameRE = /^\\s*function ([^ (]*)/;\n  var NAME = 'name';\n\n  // Function instances `.name` property\n  // https://tc39.github.io/ecma262/#sec-function-instances-name\n  if (descriptors && !(NAME in FunctionPrototype)) {\n    defineProperty(FunctionPrototype, NAME, {\n      configurable: true,\n      get: function () {\n        try {\n          return FunctionPrototypeToString.call(this).match(nameRE)[1];\n        } catch (error) {\n          return '';\n        }\n      }\n    });\n  }\n\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // Nashorn ~ JDK8 bug\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n  // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\n  var f$1 = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n\n  var objectPropertyIsEnumerable = {\n  \tf: f$1\n  };\n\n  var createPropertyDescriptor = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split;\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object;\n\n  // `RequireObjectCoercible` abstract operation\n  // https://tc39.github.io/ecma262/#sec-requireobjectcoercible\n  var requireObjectCoercible = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  };\n\n  // toObject with fallback for non-array-like ES3 strings\n\n\n\n  var toIndexedObject = function (it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  var f$2 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) { /* empty */ }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n\n  var objectGetOwnPropertyDescriptor = {\n  \tf: f$2\n  };\n\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function (key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    } return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n\n  var sharedStore = store;\n\n  var functionToString = Function.toString;\n\n  // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n\n  var WeakMap = global_1.WeakMap;\n\n  var nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n  var shared = createCommonjsModule(function (module) {\n  (module.exports = function (key, value) {\n    return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: '3.6.5',\n    mode:  'global',\n    copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n  });\n  });\n\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function (key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function (key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n\n  var WeakMap$1 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function (it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function (TYPE) {\n    return function (it) {\n      var state;\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      } return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = new WeakMap$1();\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n    set = function (it, metadata) {\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return wmget.call(store$1, it) || {};\n    };\n    has$1 = function (it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n    set = function (it, metadata) {\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n    has$1 = function (it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n\n  var redefine = createCommonjsModule(function (module) {\n  var getInternalState = internalState.get;\n  var enforceInternalState = internalState.enforce;\n  var TEMPLATE = String(String).split('String');\n\n  (module.exports = function (O, key, value, options) {\n    var unsafe = options ? !!options.unsafe : false;\n    var simple = options ? !!options.enumerable : false;\n    var noTargetGet = options ? !!options.noTargetGet : false;\n    if (typeof value == 'function') {\n      if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n      enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n    if (O === global_1) {\n      if (simple) O[key] = value;\n      else setGlobal(key, value);\n      return;\n    } else if (!unsafe) {\n      delete O[key];\n    } else if (!noTargetGet && O[key]) {\n      simple = true;\n    }\n    if (simple) O[key] = value;\n    else createNonEnumerableProperty(O, key, value);\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, 'toString', function toString() {\n    return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n  });\n  });\n\n  var path = global_1;\n\n  var aFunction = function (variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function (namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace])\n      : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n\n  // `ToInteger` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tointeger\n  var toInteger = function (argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min;\n\n  // `ToLength` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tolength\n  var toLength = function (argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n\n  // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n  var toAbsoluteIndex = function (index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  };\n\n  // `Array.prototype.{ indexOf, includes }` methods implementation\n  var createMethod = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n\n  var indexOf = arrayIncludes.indexOf;\n\n\n  var objectKeysInternal = function (object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (has(O, key = names[i++])) {\n      ~indexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE8- don't enum bug keys\n  var enumBugKeys = [\n    'constructor',\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'toLocaleString',\n    'toString',\n    'valueOf'\n  ];\n\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n  \tf: f$3\n  };\n\n  var f$4 = Object.getOwnPropertySymbols;\n\n  var objectGetOwnPropertySymbols = {\n  \tf: f$4\n  };\n\n  // all object keys, includes non-enumerable and symbols\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function (target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function (feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true\n      : value == NATIVE ? false\n      : typeof detection == 'function' ? fails(detection)\n      : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n\n  var isForced_1 = isForced;\n\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n  var _export = function (options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n      // contained in target\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      }\n      // add a flag to not completely full polyfills\n      if (options.sham || (targetProperty && targetProperty.sham)) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      }\n      // extend global\n      redefine(target, key, sourceProperty, options);\n    }\n  };\n\n  var aFunction$1 = function (it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    } return it;\n  };\n\n  // optional / simple context binding\n  var functionBindContext = function (fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 0: return function () {\n        return fn.call(that);\n      };\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  // `ToObject` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toobject\n  var toObject = function (argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  // `IsArray` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isarray\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  };\n\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    // Chrome 38 Symbol has incorrect toString conversion\n    // eslint-disable-next-line no-undef\n    return !String(Symbol());\n  });\n\n  var useSymbolAsUid = nativeSymbol\n    // eslint-disable-next-line no-undef\n    && !Symbol.sham\n    // eslint-disable-next-line no-undef\n    && typeof Symbol.iterator == 'symbol';\n\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function (name) {\n    if (!has(WellKnownSymbolsStore, name)) {\n      if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];\n      else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    } return WellKnownSymbolsStore[name];\n  };\n\n  var SPECIES = wellKnownSymbol('species');\n\n  // `ArraySpeciesCreate` abstract operation\n  // https://tc39.github.io/ecma262/#sec-arrayspeciescreate\n  var arraySpeciesCreate = function (originalArray, length) {\n    var C;\n    if (isArray(originalArray)) {\n      C = originalArray.constructor;\n      // cross-realm fallback\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n      else if (isObject(C)) {\n        C = C[SPECIES];\n        if (C === null) C = undefined;\n      }\n    } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var push = [].push;\n\n  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\n  var createMethod$1 = function (TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n      var value, result;\n      for (;length > index; index++) if (NO_HOLES || index in self) {\n        value = self[index];\n        result = boundFunction(value, index, O);\n        if (TYPE) {\n          if (IS_MAP) target[index] = result; // map\n          else if (result) switch (TYPE) {\n            case 3: return true;              // some\n            case 5: return value;             // find\n            case 6: return index;             // findIndex\n            case 2: push.call(target, value); // filter\n          } else if (IS_EVERY) return false;  // every\n        }\n      }\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$1(0),\n    // `Array.prototype.map` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.map\n    map: createMethod$1(1),\n    // `Array.prototype.filter` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n    filter: createMethod$1(2),\n    // `Array.prototype.some` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.some\n    some: createMethod$1(3),\n    // `Array.prototype.every` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.every\n    every: createMethod$1(4),\n    // `Array.prototype.find` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.find\n    find: createMethod$1(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$1(6)\n  };\n\n  var arrayMethodIsStrict = function (METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal\n      method.call(null, argument || function () { throw 1; }, 1);\n    });\n  };\n\n  var defineProperty$1 = Object.defineProperty;\n  var cache = {};\n\n  var thrower = function (it) { throw it; };\n\n  var arrayMethodUsesToLength = function (METHOD_NAME, options) {\n    if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n    if (!options) options = {};\n    var method = [][METHOD_NAME];\n    var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n    var argument0 = has(options, 0) ? options[0] : thrower;\n    var argument1 = has(options, 1) ? options[1] : undefined;\n\n    return cache[METHOD_NAME] = !!method && !fails(function () {\n      if (ACCESSORS && !descriptors) return true;\n      var O = { length: -1 };\n\n      if (ACCESSORS) defineProperty$1(O, 1, { enumerable: true, get: thrower });\n      else O[1] = 1;\n\n      method.call(O, argument0, argument1);\n    });\n  };\n\n  var $forEach = arrayIteration.forEach;\n\n\n\n  var STRICT_METHOD = arrayMethodIsStrict('forEach');\n  var USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n  // `Array.prototype.forEach` method implementation\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  var arrayForEach = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  } : [].forEach;\n\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  _export({ target: 'Array', proto: true, forced: [].forEach != arrayForEach }, {\n    forEach: arrayForEach\n  });\n\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n\n  var SPECIES$1 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n      constructor[SPECIES$1] = function () {\n        return { foo: 1 };\n      };\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var $map = arrayIteration.map;\n\n\n\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n  // FF49- issue\n  var USES_TO_LENGTH$1 = arrayMethodUsesToLength('map');\n\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH$1 }, {\n    map: function map(callbackfn /* , thisArg */) {\n      return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  };\n\n  var nativeAssign = Object.assign;\n  var defineProperty$2 = Object.defineProperty;\n\n  // `Object.assign` method\n  // https://tc39.github.io/ecma262/#sec-object.assign\n  var objectAssign = !nativeAssign || fails(function () {\n    // should have correct order of operations (Edge bug)\n    if (descriptors && nativeAssign({ b: 1 }, nativeAssign(defineProperty$2({}, 'a', {\n      enumerable: true,\n      get: function () {\n        defineProperty$2(this, 'b', {\n          value: 3,\n          enumerable: false\n        });\n      }\n    }), { b: 2 })).b !== 1) return true;\n    // should work with symbols and should have deterministic property order (V8 bug)\n    var A = {};\n    var B = {};\n    // eslint-disable-next-line no-undef\n    var symbol = Symbol();\n    var alphabet = 'abcdefghijklmnopqrst';\n    A[symbol] = 7;\n    alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n    return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n    var T = toObject(target);\n    var argumentsLength = arguments.length;\n    var index = 1;\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n    while (argumentsLength > index) {\n      var S = indexedObject(arguments[index++]);\n      var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) {\n        key = keys[j++];\n        if (!descriptors || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n      }\n    } return T;\n  } : nativeAssign;\n\n  // `Object.assign` method\n  // https://tc39.github.io/ecma262/#sec-object.assign\n  _export({ target: 'Object', stat: true, forced: Object.assign !== objectAssign }, {\n    assign: objectAssign\n  });\n\n  // iterable DOM collections\n  // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\n  var domIterables = {\n    CSSRuleList: 0,\n    CSSStyleDeclaration: 0,\n    CSSValueList: 0,\n    ClientRectList: 0,\n    DOMRectList: 0,\n    DOMStringList: 0,\n    DOMTokenList: 1,\n    DataTransferItemList: 0,\n    FileList: 0,\n    HTMLAllCollection: 0,\n    HTMLCollection: 0,\n    HTMLFormElement: 0,\n    HTMLSelectElement: 0,\n    MediaList: 0,\n    MimeTypeArray: 0,\n    NamedNodeMap: 0,\n    NodeList: 1,\n    PaintRequestList: 0,\n    Plugin: 0,\n    PluginArray: 0,\n    SVGLengthList: 0,\n    SVGNumberList: 0,\n    SVGPathSegList: 0,\n    SVGPointList: 0,\n    SVGStringList: 0,\n    SVGTransformList: 0,\n    SourceBufferList: 0,\n    StyleSheetList: 0,\n    TextTrackCueList: 0,\n    TextTrackList: 0,\n    TouchList: 0\n  };\n\n  for (var COLLECTION_NAME in domIterables) {\n    var Collection = global_1[COLLECTION_NAME];\n    var CollectionPrototype = Collection && Collection.prototype;\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype && CollectionPrototype.forEach !== arrayForEach) try {\n      createNonEnumerableProperty(CollectionPrototype, 'forEach', arrayForEach);\n    } catch (error) {\n      CollectionPrototype.forEach = arrayForEach;\n    }\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  var arrayLikeToArray = _arrayLikeToArray;\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return arrayLikeToArray(arr);\n  }\n\n  var arrayWithoutHoles = _arrayWithoutHoles;\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  var iterableToArray = _iterableToArray;\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n  }\n\n  var unsupportedIterableToArray = _unsupportedIterableToArray;\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var nonIterableSpread = _nonIterableSpread;\n\n  function _toConsumableArray(arr) {\n    return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n  }\n\n  var toConsumableArray = _toConsumableArray;\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var defineProperty$3 = _defineProperty;\n\n  var aPossiblePrototype = function (it) {\n    if (!isObject(it) && it !== null) {\n      throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n    } return it;\n  };\n\n  // `Object.setPrototypeOf` method\n  // https://tc39.github.io/ecma262/#sec-object.setprototypeof\n  // Works with __proto__ only. Old v8 can't work with null proto objects.\n  /* eslint-disable no-proto */\n  var objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n    var CORRECT_SETTER = false;\n    var test = {};\n    var setter;\n    try {\n      setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n      setter.call(test, []);\n      CORRECT_SETTER = test instanceof Array;\n    } catch (error) { /* empty */ }\n    return function setPrototypeOf(O, proto) {\n      anObject(O);\n      aPossiblePrototype(proto);\n      if (CORRECT_SETTER) setter.call(O, proto);\n      else O.__proto__ = proto;\n      return O;\n    };\n  }() : undefined);\n\n  // makes subclassing work correct for wrapped built-ins\n  var inheritIfRequired = function ($this, dummy, Wrapper) {\n    var NewTarget, NewTargetPrototype;\n    if (\n      // it can work only with native `setPrototypeOf`\n      objectSetPrototypeOf &&\n      // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n      typeof (NewTarget = dummy.constructor) == 'function' &&\n      NewTarget !== Wrapper &&\n      isObject(NewTargetPrototype = NewTarget.prototype) &&\n      NewTargetPrototype !== Wrapper.prototype\n    ) objectSetPrototypeOf($this, NewTargetPrototype);\n    return $this;\n  };\n\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n    while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n    return O;\n  };\n\n  var html = getBuiltIn('document', 'documentElement');\n\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function () { /* empty */ };\n\n  var scriptTag = function (content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  };\n\n  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n  var NullProtoObjectViaActiveX = function (activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n    return temp;\n  };\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var NullProtoObjectViaIFrame = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe);\n    // https://github.com/zloirock/core-js/issues/475\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  };\n\n  // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n  var activeXDocument;\n  var NullProtoObject = function () {\n    try {\n      /* global ActiveXObject */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) { /* ignore */ }\n    NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n    return NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true;\n\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO] = O;\n    } else result = NullProtoObject();\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  // a string of all valid unicode whitespaces\n  // eslint-disable-next-line max-len\n  var whitespaces = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n  var whitespace = '[' + whitespaces + ']';\n  var ltrim = RegExp('^' + whitespace + whitespace + '*');\n  var rtrim = RegExp(whitespace + whitespace + '*$');\n\n  // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\n  var createMethod$2 = function (TYPE) {\n    return function ($this) {\n      var string = String(requireObjectCoercible($this));\n      if (TYPE & 1) string = string.replace(ltrim, '');\n      if (TYPE & 2) string = string.replace(rtrim, '');\n      return string;\n    };\n  };\n\n  var stringTrim = {\n    // `String.prototype.{ trimLeft, trimStart }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n    start: createMethod$2(1),\n    // `String.prototype.{ trimRight, trimEnd }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n    end: createMethod$2(2),\n    // `String.prototype.trim` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n    trim: createMethod$2(3)\n  };\n\n  var getOwnPropertyNames = objectGetOwnPropertyNames.f;\n  var getOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n  var defineProperty$4 = objectDefineProperty.f;\n  var trim = stringTrim.trim;\n\n  var NUMBER = 'Number';\n  var NativeNumber = global_1[NUMBER];\n  var NumberPrototype = NativeNumber.prototype;\n\n  // Opera ~12 has broken Object#toString\n  var BROKEN_CLASSOF = classofRaw(objectCreate(NumberPrototype)) == NUMBER;\n\n  // `ToNumber` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tonumber\n  var toNumber = function (argument) {\n    var it = toPrimitive(argument, false);\n    var first, third, radix, maxCode, digits, length, index, code;\n    if (typeof it == 'string' && it.length > 2) {\n      it = trim(it);\n      first = it.charCodeAt(0);\n      if (first === 43 || first === 45) {\n        third = it.charCodeAt(2);\n        if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n      } else if (first === 48) {\n        switch (it.charCodeAt(1)) {\n          case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n          case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n          default: return +it;\n        }\n        digits = it.slice(2);\n        length = digits.length;\n        for (index = 0; index < length; index++) {\n          code = digits.charCodeAt(index);\n          // parseInt parses a string to a first unavailable symbol\n          // but ToNumber should return NaN if a string contains unavailable symbols\n          if (code < 48 || code > maxCode) return NaN;\n        } return parseInt(digits, radix);\n      }\n    } return +it;\n  };\n\n  // `Number` constructor\n  // https://tc39.github.io/ecma262/#sec-number-constructor\n  if (isForced_1(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n    var NumberWrapper = function Number(value) {\n      var it = arguments.length < 1 ? 0 : value;\n      var dummy = this;\n      return dummy instanceof NumberWrapper\n        // check on 1..constructor(foo) case\n        && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classofRaw(dummy) != NUMBER)\n          ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n    };\n    for (var keys$1 = descriptors ? getOwnPropertyNames(NativeNumber) : (\n      // ES3:\n      'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n      // ES2015 (in case, if modules with ES2015 Number statics required before):\n      'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n      'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n    ).split(','), j = 0, key; keys$1.length > j; j++) {\n      if (has(NativeNumber, key = keys$1[j]) && !has(NumberWrapper, key)) {\n        defineProperty$4(NumberWrapper, key, getOwnPropertyDescriptor$2(NativeNumber, key));\n      }\n    }\n    NumberWrapper.prototype = NumberPrototype;\n    NumberPrototype.constructor = NumberWrapper;\n    redefine(global_1, NUMBER, NumberWrapper);\n  }\n\n  var defaultNumberInputProp = {// step: 1,\n    // min: 0,\n    // max: 144\n  };\n  var dataSourceLayout = {\n    labelCol: {\n      span: 24\n    },\n    wrapperCol: {\n      span: 24,\n      offset: 0\n    }\n  };\n  var PropTypes = {\n    boolean: function boolean() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$label = _ref.label,\n          label = _ref$label === void 0 ? '' : _ref$label,\n          _ref$defaultValue = _ref.defaultValue,\n          defaultValue = _ref$defaultValue === void 0 ? false : _ref$defaultValue,\n          _ref$props = _ref.props,\n          props = _ref$props === void 0 ? {} : _ref$props,\n          _ref$visible = _ref.visible,\n          visible = _ref$visible === void 0 ? true : _ref$visible;\n\n      return {\n        type: Boolean,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-switch',\n          label: label,\n          props: props\n        }\n      };\n    },\n    required: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\r\n     *  \r\n     * Q:  transparent \r\n     * A:  MDN  value # + 616\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color#Value\r\n     * The value of an <input> element of type color is always a DOMString which contains a 7-character string specifying an RGB color in hexadecimal format.\r\n     *\r\n     */\n    color: function color() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$label = _ref2.label,\n          label = _ref2$label === void 0 ? '' : _ref2$label,\n          _ref2$defaultValue = _ref2.defaultValue,\n          defaultValue = _ref2$defaultValue === void 0 ? '#000000' : _ref2$defaultValue,\n          _ref2$visible = _ref2.visible,\n          visible = _ref2$visible === void 0 ? true : _ref2$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'colors-panel',\n          label: label,\n          props: {\n            size: 'mini',\n            showAlpha: true\n          },\n          require: true\n        }\n      };\n    },\n    colors: function colors() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$label = _ref3.label,\n          label = _ref3$label === void 0 ? '' : _ref3$label,\n          _ref3$defaultValue = _ref3.defaultValue,\n          defaultValue = _ref3$defaultValue === void 0 ? function () {\n        return [];\n      } : _ref3$defaultValue,\n          _ref3$layout = _ref3.layout,\n          layout = _ref3$layout === void 0 ? dataSourceLayout : _ref3$layout,\n          _ref3$visible = _ref3.visible,\n          visible = _ref3$visible === void 0 ? true : _ref3$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'colors-panel',\n          label: label,\n          // !#zh  props\n          props: {\n            size: 'mini',\n            showAlpha: true\n          },\n          layout: layout,\n          require: true\n        }\n      };\n    },\n\n    /**\r\n     *  \r\n     */\n    number: function number() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$label = _ref4.label,\n          label = _ref4$label === void 0 ? '' : _ref4$label,\n          _ref4$defaultValue = _ref4.defaultValue,\n          defaultValue = _ref4$defaultValue === void 0 ? 10 : _ref4$defaultValue,\n          _ref4$props = _ref4.props,\n          props = _ref4$props === void 0 ? defaultNumberInputProp : _ref4$props,\n          _ref4$visible = _ref4.visible,\n          visible = _ref4$visible === void 0 ? true : _ref4$visible;\n\n      return {\n        type: Number,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-input-number',\n          label: label,\n          require: true,\n          props: props\n        }\n      };\n    },\n\n    /**\r\n     *  \r\n     *\r\n     * component \r\n     * 1. a-input\r\n     * 2. a-textarea\r\n     * 3. \r\n     */\n    string: function string() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$label = _ref5.label,\n          label = _ref5$label === void 0 ? '' : _ref5$label,\n          _ref5$defaultValue = _ref5.defaultValue,\n          defaultValue = _ref5$defaultValue === void 0 ? '' : _ref5$defaultValue,\n          _ref5$component = _ref5.component,\n          component = _ref5$component === void 0 ? 'a-input' : _ref5$component,\n          _ref5$props = _ref5.props,\n          props = _ref5$props === void 0 ? {} : _ref5$props,\n          extra = _ref5.extra,\n          _ref5$visible = _ref5.visible,\n          visible = _ref5$visible === void 0 ? true : _ref5$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: component,\n          label: label,\n          require: true,\n          props: props,\n          extra: extra\n        }\n      };\n    },\n    textAlign: function textAlign() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$label = _ref6.label,\n          label = _ref6$label === void 0 ? '' : _ref6$label,\n          _ref6$defaultValue = _ref6.defaultValue,\n          defaultValue = _ref6$defaultValue === void 0 ? 'center' : _ref6$defaultValue,\n          _ref6$visible = _ref6.visible,\n          visible = _ref6$visible === void 0 ? true : _ref6$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-text-align',\n          label: label,\n          require: true\n        }\n      };\n    },\n    textOptions: function textOptions() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$label = _ref7.label,\n          label = _ref7$label === void 0 ? '' : _ref7$label,\n          _ref7$defaultValue = _ref7.defaultValue,\n          defaultValue = _ref7$defaultValue === void 0 ? function () {\n        return [{\n          label: 'label1',\n          value: 'value1'\n        }];\n      } : _ref7$defaultValue,\n          _ref7$visible = _ref7.visible,\n          visible = _ref7$visible === void 0 ? true : _ref7$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-props-text-enum-editor',\n          label: label,\n          require: true\n        }\n      };\n    },\n    image: function image() {\n      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref8$label = _ref8.label,\n          label = _ref8$label === void 0 ? '' : _ref8$label,\n          _ref8$defaultValue = _ref8.defaultValue,\n          defaultValue = _ref8$defaultValue === void 0 ? '' : _ref8$defaultValue,\n          _ref8$visible = _ref8.visible,\n          visible = _ref8$visible === void 0 ? true : _ref8$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-image-gallery',\n          label: label\n        }\n      };\n    },\n\n    /**\r\n     * \r\n     */\n    excel: function excel() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref9$label = _ref9.label,\n          label = _ref9$label === void 0 ? '' : _ref9$label,\n          _ref9$defaultValue = _ref9.defaultValue,\n          defaultValue = _ref9$defaultValue === void 0 ? [] : _ref9$defaultValue,\n          _ref9$layout = _ref9.layout,\n          layout = _ref9$layout === void 0 ? dataSourceLayout : _ref9$layout,\n          _ref9$visible = _ref9.visible,\n          visible = _ref9$visible === void 0 ? true : _ref9$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-excel-editor',\n          label: label,\n          layout: layout\n        }\n      };\n    },\n    select: function select() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref10$valueType = _ref10.valueType,\n          valueType = _ref10$valueType === void 0 ? String : _ref10$valueType,\n          _ref10$label = _ref10.label,\n          label = _ref10$label === void 0 ? '' : _ref10$label,\n          _ref10$defaultValue = _ref10.defaultValue,\n          defaultValue = _ref10$defaultValue === void 0 ? [] : _ref10$defaultValue,\n          _ref10$visible = _ref10.visible,\n          visible = _ref10$visible === void 0 ? true : _ref10$visible,\n          _ref10$options = _ref10.options,\n          options = _ref10$options === void 0 ? [] : _ref10$options;\n\n      return {\n        type: valueType,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-select',\n          label: label,\n          props: {\n            options: options\n          }\n        }\n      };\n    }\n  };\n\n  var LbpButton = {\n    render: function render() {\n      var h = arguments[0];\n      var color = this.color,\n          textAlign = this.textAlign,\n          backgroundColor = this.backgroundColor,\n          fontSize = this.fontSize,\n          lineHeight = this.lineHeight,\n          borderColor = this.borderColor,\n          borderRadius = this.borderRadius,\n          borderWidth = this.borderWidth,\n          text = this.text;\n      var style = {\n        color: color,\n        textAlign: textAlign,\n        backgroundColor: backgroundColor,\n        fontSize: fontSize,\n        lineHeight: lineHeight + 'em',\n        borderColor: borderColor,\n        borderRadius: borderRadius + 'px',\n        borderWidth: borderWidth + 'px',\n        textDecoration: 'none',\n        width: \"\".concat(this.width, \"px\"),\n        height: \"\".concat(this.height, \"px\")\n      };\n      return h(\"button\", {\n        \"style\": style\n      }, [text]);\n    },\n    name: 'lbp-button',\n    props: {\n      width: {\n        type: Number,\n        default: 120\n      },\n      height: {\n        type: Number,\n        default: 40\n      },\n      text: PropTypes.string(),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ffffff'\n      }),\n      color: PropTypes.color(),\n      fontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 14\n      }),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 4\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign()\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-10-27 15:04:59\r\n   * @LastEditTime : 2020-11-11 10:27:57\r\n   * @Description :\r\n   */\n  var LbpPicture = {\n    name: 'lbp-picture',\n    render: function render() {\n      var h = arguments[0];\n      return h(\"img\", {\n        \"attrs\": {\n          \"src\": this.imgSrc,\n          \"alt\": \"\",\n          \"srcset\": \"\",\n          \"width\": \"100%\"\n        },\n        \"style\": {\n          objectFit: this.fillType\n        }\n      });\n    },\n    props: {\n      imgSrc: PropTypes.string({\n        label: ''\n      }),\n      fillType: {\n        type: String,\n        default: 'contain',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: 'contain ',\n              value: 'contain'\n            }, {\n              label: 'cover ',\n              value: 'cover'\n            }, {\n              label: 'fill ',\n              value: 'fill'\n            }, {\n              label: 'none ',\n              value: 'none'\n            }, {\n              label: 'scale-down ',\n              value: 'scale-down'\n            }]\n          }\n        }\n      }\n    }\n  };\n\n  var playIcon = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyMHB4IiBoZWlnaHQ9IjE4MHB4IiB2aWV3Qm94PSIwIDAgMzIwIDE4MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4NCiAgICA8dGl0bGU+UmVjdGFuZ2xlIDM8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0icGxheSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJHcm91cC0yOSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMyIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyMCIgaGVpZ2h0PSIxODAiPjwvcmVjdD4NCiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjQuMDAwMDAwLCA1NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMC40MDAwMDAwMDYiIGN4PSIzNiIgY3k9IjM2IiByPSIzNiI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUyLjUwMTQ1NzEsMzguNDY4NzAzOSBMMjkuNTEyNTQ3NCw1My4wOTEwNDA2IEMyOC40MjUyMDE2LDUzLjc4MjY1ODMgMjYuOTgzMDY2Nyw1My40NjE4NTczIDI2LjI5MTQ0OSw1Mi4zNzQ1MTE0IEMyNi4wNTMzNzY0LDUyLjAwMDIxOSAyNS45MjY5Mjk1LDUxLjU2NTgxODMgMjUuOTI2OTI5NSw1MS4xMjIyMjY4IEwyNS45MjY5Mjk1LDIxLjg3NzU1MzQgQzI1LjkyNjkyOTUsMjAuNTg4ODg5IDI2Ljk3MTU5ODQsMTkuNTQ0MjIwMSAyOC4yNjAyNjI4LDE5LjU0NDIyMDEgQzI4LjcwMzg1NDMsMTkuNTQ0MjIwMSAyOS4xMzgyNTUsMTkuNjcwNjY3MSAyOS41MTI1NDc0LDE5LjkwODczOTcgTDUyLjUwMTQ1NzEsMzQuNTMxMDc2NCBDNTMuNTg4ODAyOSwzNS4yMjI2OTQxIDUzLjkwOTYwNCwzNi42NjQ4Mjg5IDUzLjIxNzk4NjMsMzcuNzUyMTc0NyBDNTMuMDM0NTE1OCwzOC4wNDA2MjI5IDUyLjc4OTkwNTIsMzguMjg1MjMzNSA1Mi41MDE0NTcxLDM4LjQ2ODcwMzkgWiIgaWQ9IlRyaWFuZ2xlLTIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+\";\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2019-12-01 18:11:50\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-11-17 16:52:08\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-video.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n\n  var LbpVideo = {\n    name: 'lbp-video',\n    props: {\n      src: PropTypes.string({\n        label: ''\n      }),\n      disabled: PropTypes.boolean({\n        label: 'disabled'\n      }),\n      useIframe: PropTypes.boolean({\n        label: 'iframe'\n      }),\n      iframeSrc: PropTypes.string({\n        default: '',\n        label: 'iframe ',\n        props: {\n          type: 'textarea',\n          placeholder: 'iframe'\n        },\n        extra: function extra(h) {\n          return 'iframe';\n        }\n      })\n    },\n    watch: {\n      src: function src() {\n        this.appendIframe();\n      },\n      disabled: function disabled() {\n        this.appendIframe();\n      },\n      useIframe: function useIframe() {\n        this.appendIframe();\n      },\n      iframeSrc: function iframeSrc() {\n        this.appendIframe();\n      }\n    },\n    mounted: function mounted() {\n      this.appendIframe();\n    },\n    methods: {\n      appendIframe: function appendIframe() {\n        if (this.useIframe && this.iframeSrc) {\n          // v-html\n          this.$refs.iframeWrapper && (this.$refs.iframeWrapper.innerHTML = this.iframeSrc);\n        } // else if (this.src) {\n        //   this.$refs.videoTag && (this.$refs.videoTag.innerHTML = `<source type=\"video/mp4\" src=${this.src} />`)\n        // }\n\n      }\n    },\n    render: function render(h) {\n      var style = this.disabled ? {\n        'pointer-events': 'none'\n      } : {};\n      return h(\"div\", {\n        \"class\": \"lbc-video\",\n        \"style\": style\n      }, [this.useIframe ? h(\"div\", {\n        \"ref\": \"iframeWrapper\"\n      }, [h(\"img\", {\n        \"attrs\": {\n          \"src\": playIcon,\n          \"width\": \"100%\",\n          \"height\": \"100%\"\n        }\n      })]) : h(\"video\", {\n        \"attrs\": {\n          \"playsinline\": \"true\",\n          \"webkit-playsinline\": \"\",\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"poster\": playIcon,\n          \"controls\": true\n        },\n        \"ref\": \"videoTag\"\n      }, [h(\"source\", {\n        \"attrs\": {\n          \"type\": \"video/mp4\",\n          \"src\": this.src\n        }\n      })])]);\n    },\n    componentsForPropsEditor: {}\n  };\n\n  var createProperty = function (object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));\n    else object[propertyKey] = value;\n  };\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function (O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n  // `Array.prototype.concat` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n  _export({ target: 'Array', proto: true, forced: FORCED }, {\n    concat: function concat(arg) { // eslint-disable-line no-unused-vars\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n      A.length = n;\n      return A;\n    }\n  });\n\n  var LbpText = {\n    render: function render(h) {\n      var _this = this;\n\n      var canEdit = this.canEdit && this.editorMode === 'edit';\n      var style = {\n        position: 'relative',\n        color: \"\".concat(this.color, \" !important\"),\n        textDecoration: 'none',\n        backgroundColor: this.backgroundColor || 'rgba(255, 255, 255, 0.2)',\n        lineHeight: \"\".concat(this.lineHeight, \"em\"),\n        border: \"\".concat(this.borderWidth, \"px solid \").concat(this.borderColor),\n        borderRadius: \"\".concat(this.borderRadius, \"px\")\n      };\n      /**\r\n       * https://github.com/ly525/luban-h5/issues/155\r\n       *  ql-snow (ql-editor) theme \r\n       *  h1 .ql-snow .ql-editor h1 {font-size: 2em;}\r\n       *  div.ql-snow > div.ql-editor wrapper\r\n       */\n\n      var previewText = h(\"div\", {\n        \"class\": \"ql-snow\"\n      }, [h(\"div\", {\n        \"domProps\": {\n          \"innerHTML\": this.text\n        },\n        \"class\": \"ql-editor ql-container\"\n      })]);\n      return h(\"div\", {\n        \"on\": {\n          \"dblclick\": function dblclick(e) {\n            _this.canEdit = true;\n            e.stopPropagation();\n          },\n          \"mousedown\": function mousedown(e) {\n            if (_this.canEdit) {\n              e.stopPropagation();\n            }\n          },\n          \"keydown\": function keydown(event) {\n            var key = event.keyCode || event.charCode; // #!en: backspace/delete key should only delete letter in textarea, do not delete element in canvas\n            // #!zh: \n\n            if (key === 8 || key === 46) {\n              event.stopPropagation();\n            }\n          }\n        },\n        \"style\": style\n      }, [canEdit ? h(vueQuillEditor.quillEditor, {\n        \"attrs\": {\n          \"content\": this.text,\n          \"options\": {\n            modules: {\n              // toolbar: '#toolbar-wrapper'\n              toolbar: [['bold', 'italic', 'underline', 'strike'], // \n              [{\n                list: 'ordered'\n              }, {\n                list: 'bullet'\n              }], [{\n                color: []\n              }, {\n                background: []\n              }], // \n              [{\n                align: []\n              }], ['clean'], // \n              [{\n                header: [1, 2, 3, 4, 5, 6, false]\n              }] // https://github.com/quilljs/quill/issues/1208\n              ]\n            },\n            theme: 'snow'\n          }\n        },\n        \"on\": {\n          \"change\": function change(_ref) {\n            var quill = _ref.quill,\n                html = _ref.html,\n                text = _ref.text;\n\n            _this.$emit('input', {\n              value: html,\n              pluginName: 'lbp-text'\n            });\n          }\n        }\n      }) : previewText]);\n    },\n    name: 'lbp-text',\n    data: function data() {\n      return {\n        canEdit: false,\n        innerText: this.text || ''\n      };\n    },\n    props: {\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(0, 0, 0, 0)'\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)'\n      }),\n      borderColor: PropTypes.color({\n        label: ''\n      }),\n      text: PropTypes.string({\n        label: '',\n        defaultValue: '',\n        visible: false\n      }),\n      editorMode: PropTypes.string({\n        defaultValue: 'preview',\n        // : preview/edit\n        label: '',\n        visible: false\n      })\n    },\n    editorConfig: {}\n  };\n\n  var typeOptions = [{\n    label: '',\n    value: 'text'\n  }, {\n    label: '',\n    value: 'password'\n  }, {\n    label: '',\n    value: 'date'\n  }, {\n    label: '',\n    value: 'email'\n  }, {\n    label: '',\n    value: 'tel'\n  }];\n  var LbpFormInput = {\n    name: 'lbp-form-input',\n    render: function render(h) {\n      var style = {\n        color: this.color,\n        textAlign: this.textAlign,\n        backgroundColor: this.backgroundColor,\n        fontSize: this.fontSize + 'px',\n        lineHeight: this.lineHeight + 'em',\n        borderColor: this.borderColor,\n        borderRadius: this.borderRadius + 'px',\n        borderWidth: this.borderWidth + 'px',\n        padding: '0 5px'\n      };\n      return h(\"input\", {\n        \"attrs\": {\n          \"disabled\": this.disabled,\n          \"type\": this.type,\n          \"name\": this.name,\n          \"placeholder\": this.placeholder,\n          \"autocomplete\": \"off\",\n          \"data-type\": \"lbp-form-input\"\n        },\n        \"style\": style\n      });\n    },\n    props: {\n      type: PropTypes.select({\n        defaultValue: 'text',\n        label: '',\n        options: typeOptions\n      }),\n      name: PropTypes.string({\n        defaultValue: 'name',\n        label: 'name'\n      }),\n      disabled: PropTypes.boolean({\n        label: 'disabled'\n      }),\n      fontSize: PropTypes.number({\n        label: '(px)'\n      }),\n      placeholder: PropTypes.string({\n        defaultValue: '',\n        label: ''\n      }),\n      color: PropTypes.color(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign({\n        defaultValue: 'left'\n      }),\n      vertical: PropTypes.boolean(),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      })\n    }\n  }; // .lb-plugin__input {\n  //   display: block;\n  //   margin: 0;\n  //   padding: 0 5px;\n  //   box-sizing: border-box;\n  //   overflow: visible;\n  //   border: 1px solid #ced4da;\n  //   &:focus {\n  //     outline: none;\n  //   }\n  // }\n\n  var LbpFormButton = {\n    render: function render() {\n      var h = arguments[0];\n      var color = this.color,\n          textAlign = this.textAlign,\n          backgroundColor = this.backgroundColor,\n          fontSize = this.fontSize,\n          lineHeight = this.lineHeight,\n          borderColor = this.borderColor,\n          borderRadius = this.borderRadius,\n          borderWidth = this.borderWidth,\n          text = this.text,\n          disabled = this.disabled;\n      var style = {\n        color: color,\n        textAlign: textAlign,\n        backgroundColor: backgroundColor,\n        fontSize: fontSize,\n        lineHeight: lineHeight + 'em',\n        borderColor: borderColor,\n        borderRadius: borderRadius + 'px',\n        borderWidth: borderWidth + 'px',\n        textDecoration: 'none',\n        disabled: disabled\n      };\n      return h(\"button\", {\n        \"style\": style,\n        \"on\": {\n          \"click\": this.handleClick\n        }\n      }, [text]);\n    },\n    name: 'lbp-form-button',\n    props: {\n      text: PropTypes.string({\n        defaultValue: ''\n      }),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      color: PropTypes.color(),\n      fontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 14\n      }),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 4\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign(),\n      disabled: PropTypes.boolean()\n    },\n    methods: {\n      handleClick: function handleClick() {\n        if (this.disabled) return; // #!zh: data-type=lbp-form-input  lbp-form-input \n\n        var inputs = document.querySelectorAll(\"[data-type^='lbp-form-input']\");\n        if (!inputs.length) return;\n        var self = this;\n        var formData = new FormData();\n        inputs.forEach(function (input) {\n          return formData.append(input.dataset.uuid, input.value);\n        });\n        var req = new XMLHttpRequest();\n\n        req.onreadystatechange = function () {\n          if (req.readyState === 4) {\n            var message = req.status === 200 ? '' : '';\n            self.$message.info(message);\n          }\n        };\n\n        var workId = window.__work.id; // TODO #!zh: \n\n        req.open('post', \"/works/form/submit/\".concat(workId), true);\n        req.send(formData);\n      }\n    }\n  };\n\n  var $indexOf = arrayIncludes.indexOf;\n\n\n\n  var nativeIndexOf = [].indexOf;\n\n  var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\n  var STRICT_METHOD$1 = arrayMethodIsStrict('indexOf');\n  var USES_TO_LENGTH$2 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  _export({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD$1 || !USES_TO_LENGTH$2 }, {\n    indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n      return NEGATIVE_ZERO\n        // convert -0 to +0\n        ? nativeIndexOf.apply(this, arguments) || 0\n        : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var nativeJoin = [].join;\n\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD$2 = arrayMethodIsStrict('join', ',');\n\n  // `Array.prototype.join` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.join\n  _export({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$2 }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  });\n\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('splice');\n  var USES_TO_LENGTH$3 = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var max$1 = Math.max;\n  var min$2 = Math.min;\n  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n  // `Array.prototype.splice` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.splice\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 || !USES_TO_LENGTH$3 }, {\n    splice: function splice(start, deleteCount /* , ...items */) {\n      var O = toObject(this);\n      var len = toLength(O.length);\n      var actualStart = toAbsoluteIndex(start, len);\n      var argumentsLength = arguments.length;\n      var insertCount, actualDeleteCount, A, k, from, to;\n      if (argumentsLength === 0) {\n        insertCount = actualDeleteCount = 0;\n      } else if (argumentsLength === 1) {\n        insertCount = 0;\n        actualDeleteCount = len - actualStart;\n      } else {\n        insertCount = argumentsLength - 2;\n        actualDeleteCount = min$2(max$1(toInteger(deleteCount), 0), len - actualStart);\n      }\n      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n        throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n      }\n      A = arraySpeciesCreate(O, actualDeleteCount);\n      for (k = 0; k < actualDeleteCount; k++) {\n        from = actualStart + k;\n        if (from in O) createProperty(A, k, O[from]);\n      }\n      A.length = actualDeleteCount;\n      if (insertCount < actualDeleteCount) {\n        for (k = actualStart; k < len - actualDeleteCount; k++) {\n          from = k + actualDeleteCount;\n          to = k + insertCount;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n        for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n      } else if (insertCount > actualDeleteCount) {\n        for (k = len - actualDeleteCount; k > actualStart; k--) {\n          from = k + actualDeleteCount - 1;\n          to = k + insertCount - 1;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n      }\n      for (k = 0; k < insertCount; k++) {\n        O[k + actualStart] = arguments[k + 2];\n      }\n      O.length = len - actualDeleteCount + insertCount;\n      return A;\n    }\n  });\n\n  var LbpFormRadio = {\n    name: 'lbp-form-radio',\n    props: {\n      value: {\n        type: [String, Number],\n        default: ''\n      },\n      aliasName: {\n        type: String,\n        default: ''\n      },\n      type: {\n        type: String,\n        default: 'radio'\n      },\n      checked: {\n        type: Boolean,\n        default: false\n      },\n      onFocus: {\n        type: Function,\n        default: function _default() {}\n      },\n      onClick: {\n        type: Function,\n        default: function _default() {}\n      },\n      onBlur: {\n        type: Function,\n        default: function _default() {}\n      },\n      doChange: {\n        type: Function,\n        default: function _default() {}\n      }\n    },\n    methods: {\n      handleChange: function handleChange(e) {\n        if (this.disabled) return;\n        this.$emit('change', e.target.value);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var aliasName = this.aliasName,\n          type = this.type,\n          disabled = this.disabled,\n          checked = this.checked,\n          value = this.value;\n      var uuid = +new Date();\n      return h(\"div\", {\n        \"class\": ['lbp-' + this.type + '-wrapper', 'lbp-rc-wrapper']\n      }, [h(\"span\", {\n        \"class\": \"tag\"\n      }, [value]), h(\"input\", {\n        \"class\": ['lbp-' + this.type, 'lbp-rc-input'],\n        \"attrs\": {\n          \"name\": aliasName,\n          \"id\": uuid,\n          \"type\": type,\n          \"disabled\": disabled\n        },\n        \"ref\": \"input\",\n        \"domProps\": {\n          \"value\": value,\n          \"checked\": !!checked\n        },\n        \"on\": {\n          \"change\": this.handleChange\n        }\n      }), h(\"label\", {\n        \"attrs\": {\n          \"for\": uuid\n        }\n      })]);\n    }\n  };\n\n  function getDefaultItems() {\n    // defaultItems.slice(0)[0] === defaultItems.slice(0)[0] -> true\n    // Object.assign(defaultItems)[0] === Object.assign(defaultItems)[0] -> true\n    // clone = (val) => JSON.parse(JSON.stringify(val))\n    // clone(defaultItems)[0] === clone(defaultItems)[0] -> false\n    var defaultItems = [{\n      value: 'A'\n    }, {\n      value: 'B'\n    }, {\n      value: 'C'\n    }];\n    return defaultItems;\n  }\n\n  var LbpFormRadioGroup = {\n    name: 'lbp-form-radio-group',\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      aliasName: PropTypes.string({\n        defaultValue: '',\n        label: ''\n      }),\n      items: PropTypes.textOptions({\n        label: '',\n        defaultValue: function defaultValue() {\n          return getDefaultItems();\n        }\n      }),\n      type: {\n        type: String,\n        default: 'radio',\n        editor: {\n          type: 'a-radio-group',\n          label: '',\n          require: true,\n          props: {\n            options: [{\n              label: '',\n              value: 'radio'\n            }, {\n              label: '',\n              value: 'checkbox'\n            }],\n            name: 'mode'\n          }\n        }\n      }\n    },\n    data: function data() {\n      return {\n        value: this.type === 'radio' ? '' : [],\n        uuid: undefined\n      };\n    },\n    computed: {\n      value_: function value_() {\n        if (this.type === 'radio') {\n          return this.value;\n        } else {\n          var value = Array.isArray(this.value) && this.value || [];\n          return value.join(',');\n        }\n      }\n    },\n    watch: {\n      type: function type(_type) {\n        this.value = _type === 'radio' ? '' : [];\n      }\n    },\n    mounted: function mounted() {\n      this.uuid = this.$el.dataset.uuid;\n    },\n    methods: {\n      /**\r\n       * @param {String, Number} val radioValue or checkboxValue\r\n       */\n      onChange: function onChange(val) {\n        switch (this.type) {\n          case 'radio':\n            this.toggleRadio(val);\n            break;\n\n          case 'checkbox':\n            this.toggleCheckbox(val);\n            break;\n        }\n      },\n      toggleCheckbox: function toggleCheckbox(val) {\n        var index = this.value.indexOf(val);\n\n        if (index === -1) {\n          this.value.push(val);\n        } else {\n          this.value.splice(index, 1);\n        }\n      },\n      toggleRadio: function toggleRadio(val) {\n        this.value = val;\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"h3\", [this.aliasName]), h(\"input\", {\n        \"attrs\": {\n          \"type\": \"text\",\n          \"hidden\": true,\n          \"data-type\": \"lbp-form-input\",\n          \"data-uuid\": this.uuid\n        },\n        \"domProps\": {\n          \"value\": this.value_\n        }\n      }), this.items.map(function (item) {\n        return h(LbpFormRadio, {\n          \"attrs\": {\n            \"vertical\": true,\n            \"value\": item.value,\n            \"checked\": _this.value === item.value,\n            \"aliasName\": _this.uuid,\n            \"type\": _this.type\n          },\n          \"on\": {\n            \"change\": _this.onChange\n          }\n        }, [item.value]);\n      })]);\n    }\n  };\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype;\n\n  // Array.prototype[@@unscopables]\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  }\n\n  // add a key to Array.prototype[@@unscopables]\n  var addToUnscopables = function (key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var $includes = arrayIncludes.includes;\n\n\n\n  var USES_TO_LENGTH$4 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  _export({ target: 'Array', proto: true, forced: !USES_TO_LENGTH$4 }, {\n    includes: function includes(el /* , fromIndex = 0 */) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables('includes');\n\n  var MATCH = wellKnownSymbol('match');\n\n  // `IsRegExp` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isregexp\n  var isRegexp = function (it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var notARegexp = function (it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    } return it;\n  };\n\n  var MATCH$1 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function (METHOD_NAME) {\n    var regexp = /./;\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (e) {\n      try {\n        regexp[MATCH$1] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (f) { /* empty */ }\n    } return false;\n  };\n\n  // `String.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.includes\n  _export({ target: 'String', proto: true, forced: !correctIsRegexpLogic('includes') }, {\n    includes: function includes(searchString /* , position = 0 */) {\n      return !!~String(requireObjectCoercible(this))\n        .indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  function getDefaultItems$1() {\n    // defaultItems.slice(0)[0] === defaultItems.slice(0)[0] -> true\n    // Object.assign(defaultItems)[0] === Object.assign(defaultItems)[0] -> true\n    // clone = (val) => JSON.parse(JSON.stringify(val))\n    // clone(defaultItems)[0] === clone(defaultItems)[0] -> false\n    var defaultItems = [{\n      value: 'A'\n    }, {\n      value: 'B'\n    }, {\n      value: 'C'\n    }];\n    return defaultItems;\n  }\n\n  var LbpFormCheckboxGroup = {\n    name: 'lbp-form-checkbox-group',\n    components: {\n      LbpFormRadio: LbpFormRadio\n    },\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      aliasName: PropTypes.string({\n        defaultValue: '',\n        label: ''\n      }),\n      items: PropTypes.textOptions({\n        label: '',\n        defaultValue: function defaultValue() {\n          return getDefaultItems$1();\n        }\n      }),\n      // TODO  radio-group  common-props\n      type: {\n        type: String,\n        default: 'checkbox',\n        editor: {\n          type: 'a-radio-group',\n          label: '',\n          require: true,\n          props: {\n            options: [{\n              label: '',\n              value: 'radio'\n            }, {\n              label: '',\n              value: 'checkbox'\n            }],\n            name: 'mode'\n          }\n        }\n      }\n    },\n    data: function data() {\n      return {\n        value: this.type === 'radio' ? '' : [],\n        uuid: undefined\n      };\n    },\n    computed: {\n      value_: function value_() {\n        if (this.type === 'radio') {\n          return this.value;\n        } else {\n          var value = Array.isArray(this.value) && this.value || [];\n          return value.join(',');\n        }\n      }\n    },\n    watch: {\n      type: function type(_type) {\n        this.value = _type === 'radio' ? '' : [];\n      }\n    },\n    mounted: function mounted() {\n      this.uuid = this.$el.dataset.uuid;\n    },\n    methods: {\n      /**\r\n       * @param {String, Number} val radioValue or checkboxValue\r\n       */\n      onChange: function onChange(val) {\n        switch (this.type) {\n          case 'radio':\n            this.toggleRadio(val);\n            break;\n\n          case 'checkbox':\n            this.toggleCheckbox(val);\n            break;\n        }\n      },\n      toggleCheckbox: function toggleCheckbox(val) {\n        var index = this.value.indexOf(val);\n\n        if (index === -1) {\n          this.value.push(val);\n        } else {\n          this.value.splice(index, 1);\n        }\n      },\n      toggleRadio: function toggleRadio(val) {\n        this.value = val;\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"h3\", [this.aliasName]), h(\"input\", {\n        \"attrs\": {\n          \"type\": \"text\",\n          \"hidden\": true,\n          \"data-type\": \"lbp-form-input\",\n          \"data-uuid\": this.uuid\n        },\n        \"domProps\": {\n          \"value\": this.value_\n        }\n      }), this.items.map(function (item) {\n        return h(\"lbp-form-radio\", {\n          \"attrs\": {\n            \"vertical\": true,\n            \"value\": item.value,\n            \"checked\": _this.type === 'radio' ? _this.value === item.value : _this.value.includes(item.value),\n            \"aliasName\": _this.uuid,\n            \"type\": _this.type\n          },\n          \"on\": {\n            \"change\": _this.onChange\n          }\n        }, [item.value]);\n      })]);\n    }\n  };\n\n  var nativeGetOwnPropertyNames = objectGetOwnPropertyNames.f;\n\n  var toString$1 = {}.toString;\n\n  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n    ? Object.getOwnPropertyNames(window) : [];\n\n  var getWindowNames = function (it) {\n    try {\n      return nativeGetOwnPropertyNames(it);\n    } catch (error) {\n      return windowNames.slice();\n    }\n  };\n\n  // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n  var f$5 = function getOwnPropertyNames(it) {\n    return windowNames && toString$1.call(it) == '[object Window]'\n      ? getWindowNames(it)\n      : nativeGetOwnPropertyNames(toIndexedObject(it));\n  };\n\n  var objectGetOwnPropertyNamesExternal = {\n  \tf: f$5\n  };\n\n  var f$6 = wellKnownSymbol;\n\n  var wellKnownSymbolWrapped = {\n  \tf: f$6\n  };\n\n  var defineProperty$5 = objectDefineProperty.f;\n\n  var defineWellKnownSymbol = function (NAME) {\n    var Symbol = path.Symbol || (path.Symbol = {});\n    if (!has(Symbol, NAME)) defineProperty$5(Symbol, NAME, {\n      value: wellKnownSymbolWrapped.f(NAME)\n    });\n  };\n\n  var defineProperty$6 = objectDefineProperty.f;\n\n\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\n  var setToStringTag = function (it, TAG, STATIC) {\n    if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n      defineProperty$6(it, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n  };\n\n  var $forEach$1 = arrayIteration.forEach;\n\n  var HIDDEN = sharedKey('hidden');\n  var SYMBOL = 'Symbol';\n  var PROTOTYPE$1 = 'prototype';\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n  var setInternalState = internalState.set;\n  var getInternalState = internalState.getterFor(SYMBOL);\n  var ObjectPrototype = Object[PROTOTYPE$1];\n  var $Symbol = global_1.Symbol;\n  var $stringify = getBuiltIn('JSON', 'stringify');\n  var nativeGetOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n  var nativeDefineProperty$1 = objectDefineProperty.f;\n  var nativeGetOwnPropertyNames$1 = objectGetOwnPropertyNamesExternal.f;\n  var nativePropertyIsEnumerable$1 = objectPropertyIsEnumerable.f;\n  var AllSymbols = shared('symbols');\n  var ObjectPrototypeSymbols = shared('op-symbols');\n  var StringToSymbolRegistry = shared('string-to-symbol-registry');\n  var SymbolToStringRegistry = shared('symbol-to-string-registry');\n  var WellKnownSymbolsStore$1 = shared('wks');\n  var QObject = global_1.QObject;\n  // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n  var USE_SETTER = !QObject || !QObject[PROTOTYPE$1] || !QObject[PROTOTYPE$1].findChild;\n\n  // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n  var setSymbolDescriptor = descriptors && fails(function () {\n    return objectCreate(nativeDefineProperty$1({}, 'a', {\n      get: function () { return nativeDefineProperty$1(this, 'a', { value: 7 }).a; }\n    })).a != 7;\n  }) ? function (O, P, Attributes) {\n    var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor$1(ObjectPrototype, P);\n    if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n    nativeDefineProperty$1(O, P, Attributes);\n    if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n      nativeDefineProperty$1(ObjectPrototype, P, ObjectPrototypeDescriptor);\n    }\n  } : nativeDefineProperty$1;\n\n  var wrap = function (tag, description) {\n    var symbol = AllSymbols[tag] = objectCreate($Symbol[PROTOTYPE$1]);\n    setInternalState(symbol, {\n      type: SYMBOL,\n      tag: tag,\n      description: description\n    });\n    if (!descriptors) symbol.description = description;\n    return symbol;\n  };\n\n  var isSymbol = useSymbolAsUid ? function (it) {\n    return typeof it == 'symbol';\n  } : function (it) {\n    return Object(it) instanceof $Symbol;\n  };\n\n  var $defineProperty = function defineProperty(O, P, Attributes) {\n    if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n    anObject(O);\n    var key = toPrimitive(P, true);\n    anObject(Attributes);\n    if (has(AllSymbols, key)) {\n      if (!Attributes.enumerable) {\n        if (!has(O, HIDDEN)) nativeDefineProperty$1(O, HIDDEN, createPropertyDescriptor(1, {}));\n        O[HIDDEN][key] = true;\n      } else {\n        if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n        Attributes = objectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n      } return setSymbolDescriptor(O, key, Attributes);\n    } return nativeDefineProperty$1(O, key, Attributes);\n  };\n\n  var $defineProperties = function defineProperties(O, Properties) {\n    anObject(O);\n    var properties = toIndexedObject(Properties);\n    var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n    $forEach$1(keys, function (key) {\n      if (!descriptors || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n    });\n    return O;\n  };\n\n  var $create = function create(O, Properties) {\n    return Properties === undefined ? objectCreate(O) : $defineProperties(objectCreate(O), Properties);\n  };\n\n  var $propertyIsEnumerable = function propertyIsEnumerable(V) {\n    var P = toPrimitive(V, true);\n    var enumerable = nativePropertyIsEnumerable$1.call(this, P);\n    if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n    return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n  };\n\n  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n    var it = toIndexedObject(O);\n    var key = toPrimitive(P, true);\n    if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n    var descriptor = nativeGetOwnPropertyDescriptor$1(it, key);\n    if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n      descriptor.enumerable = true;\n    }\n    return descriptor;\n  };\n\n  var $getOwnPropertyNames = function getOwnPropertyNames(O) {\n    var names = nativeGetOwnPropertyNames$1(toIndexedObject(O));\n    var result = [];\n    $forEach$1(names, function (key) {\n      if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n    });\n    return result;\n  };\n\n  var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n    var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n    var names = nativeGetOwnPropertyNames$1(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n    var result = [];\n    $forEach$1(names, function (key) {\n      if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n        result.push(AllSymbols[key]);\n      }\n    });\n    return result;\n  };\n\n  // `Symbol` constructor\n  // https://tc39.github.io/ecma262/#sec-symbol-constructor\n  if (!nativeSymbol) {\n    $Symbol = function Symbol() {\n      if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n      var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var tag = uid(description);\n      var setter = function (value) {\n        if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n        if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n        setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n      };\n      if (descriptors && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n      return wrap(tag, description);\n    };\n\n    redefine($Symbol[PROTOTYPE$1], 'toString', function toString() {\n      return getInternalState(this).tag;\n    });\n\n    redefine($Symbol, 'withoutSetter', function (description) {\n      return wrap(uid(description), description);\n    });\n\n    objectPropertyIsEnumerable.f = $propertyIsEnumerable;\n    objectDefineProperty.f = $defineProperty;\n    objectGetOwnPropertyDescriptor.f = $getOwnPropertyDescriptor;\n    objectGetOwnPropertyNames.f = objectGetOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n    objectGetOwnPropertySymbols.f = $getOwnPropertySymbols;\n\n    wellKnownSymbolWrapped.f = function (name) {\n      return wrap(wellKnownSymbol(name), name);\n    };\n\n    if (descriptors) {\n      // https://github.com/tc39/proposal-Symbol-description\n      nativeDefineProperty$1($Symbol[PROTOTYPE$1], 'description', {\n        configurable: true,\n        get: function description() {\n          return getInternalState(this).description;\n        }\n      });\n      {\n        redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n      }\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: !nativeSymbol, sham: !nativeSymbol }, {\n    Symbol: $Symbol\n  });\n\n  $forEach$1(objectKeys(WellKnownSymbolsStore$1), function (name) {\n    defineWellKnownSymbol(name);\n  });\n\n  _export({ target: SYMBOL, stat: true, forced: !nativeSymbol }, {\n    // `Symbol.for` method\n    // https://tc39.github.io/ecma262/#sec-symbol.for\n    'for': function (key) {\n      var string = String(key);\n      if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n      var symbol = $Symbol(string);\n      StringToSymbolRegistry[string] = symbol;\n      SymbolToStringRegistry[symbol] = string;\n      return symbol;\n    },\n    // `Symbol.keyFor` method\n    // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n    keyFor: function keyFor(sym) {\n      if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n      if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n    },\n    useSetter: function () { USE_SETTER = true; },\n    useSimple: function () { USE_SETTER = false; }\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol, sham: !descriptors }, {\n    // `Object.create` method\n    // https://tc39.github.io/ecma262/#sec-object.create\n    create: $create,\n    // `Object.defineProperty` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperty\n    defineProperty: $defineProperty,\n    // `Object.defineProperties` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperties\n    defineProperties: $defineProperties,\n    // `Object.getOwnPropertyDescriptor` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n    getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol }, {\n    // `Object.getOwnPropertyNames` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n    getOwnPropertyNames: $getOwnPropertyNames,\n    // `Object.getOwnPropertySymbols` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n    getOwnPropertySymbols: $getOwnPropertySymbols\n  });\n\n  // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3443\n  _export({ target: 'Object', stat: true, forced: fails(function () { objectGetOwnPropertySymbols.f(1); }) }, {\n    getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n      return objectGetOwnPropertySymbols.f(toObject(it));\n    }\n  });\n\n  // `JSON.stringify` method behavior with symbols\n  // https://tc39.github.io/ecma262/#sec-json.stringify\n  if ($stringify) {\n    var FORCED_JSON_STRINGIFY = !nativeSymbol || fails(function () {\n      var symbol = $Symbol();\n      // MS Edge converts symbol values to JSON as {}\n      return $stringify([symbol]) != '[null]'\n        // WebKit converts symbol values to JSON as null\n        || $stringify({ a: symbol }) != '{}'\n        // V8 throws on boxed symbols\n        || $stringify(Object(symbol)) != '{}';\n    });\n\n    _export({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n      // eslint-disable-next-line no-unused-vars\n      stringify: function stringify(it, replacer, space) {\n        var args = [it];\n        var index = 1;\n        var $replacer;\n        while (arguments.length > index) args.push(arguments[index++]);\n        $replacer = replacer;\n        if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n        if (!isArray(replacer)) replacer = function (key, value) {\n          if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n          if (!isSymbol(value)) return value;\n        };\n        args[1] = replacer;\n        return $stringify.apply(null, args);\n      }\n    });\n  }\n\n  // `Symbol.prototype[@@toPrimitive]` method\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\n  if (!$Symbol[PROTOTYPE$1][TO_PRIMITIVE]) {\n    createNonEnumerableProperty($Symbol[PROTOTYPE$1], TO_PRIMITIVE, $Symbol[PROTOTYPE$1].valueOf);\n  }\n  // `Symbol.prototype[@@toStringTag]` property\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\n  setToStringTag($Symbol, SYMBOL);\n\n  hiddenKeys[HIDDEN] = true;\n\n  var $filter = arrayIteration.filter;\n\n\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('filter');\n  // Edge 14- issue\n  var USES_TO_LENGTH$5 = arrayMethodUsesToLength('filter');\n\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 || !USES_TO_LENGTH$5 }, {\n    filter: function filter(callbackfn /* , thisArg */) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var nativeGetOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n\n\n  var FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor$2(1); });\n  var FORCED$1 = !descriptors || FAILS_ON_PRIMITIVES;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  _export({ target: 'Object', stat: true, forced: FORCED$1, sham: !descriptors }, {\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n      return nativeGetOwnPropertyDescriptor$2(toIndexedObject(it), key);\n    }\n  });\n\n  // `Object.getOwnPropertyDescriptors` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  _export({ target: 'Object', stat: true, sham: !descriptors }, {\n    getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n      var O = toIndexedObject(object);\n      var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n      var keys = ownKeys(O);\n      var result = {};\n      var index = 0;\n      var key, descriptor;\n      while (keys.length > index) {\n        descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n        if (descriptor !== undefined) createProperty(result, key, descriptor);\n      }\n      return result;\n    }\n  });\n\n  var FAILS_ON_PRIMITIVES$1 = fails(function () { objectKeys(1); });\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  _export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$1 }, {\n    keys: function keys(it) {\n      return objectKeys(toObject(it));\n    }\n  });\n\n  function ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { defineProperty$3(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function _renderWaterMark() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$container = _ref.container,\n        container = _ref$container === void 0 ? document.body : _ref$container,\n        _ref$width = _ref.width,\n        width = _ref$width === void 0 ? '100px' : _ref$width,\n        _ref$height = _ref.height,\n        height = _ref$height === void 0 ? '100px' : _ref$height,\n        _ref$textAlign = _ref.textAlign,\n        textAlign = _ref$textAlign === void 0 ? 'center' : _ref$textAlign,\n        _ref$textBaseline = _ref.textBaseline,\n        textBaseline = _ref$textBaseline === void 0 ? 'middle' : _ref$textBaseline,\n        _ref$fontSize = _ref.fontSize,\n        fontSize = _ref$fontSize === void 0 ? 16 : _ref$fontSize,\n        _ref$fillStyle = _ref.fillStyle,\n        fillStyle = _ref$fillStyle === void 0 ? 'rgba(184, 184, 184, 0.2 )' : _ref$fillStyle,\n        _ref$content = _ref.content,\n        content = _ref$content === void 0 ? '' : _ref$content,\n        _ref$rotate = _ref.rotate,\n        rotate = _ref$rotate === void 0 ? 0 : _ref$rotate,\n        _ref$zIndex = _ref.zIndex,\n        zIndex = _ref$zIndex === void 0 ? 1000 : _ref$zIndex;\n\n    var canvas = document.createElement('canvas');\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n    var ctx = canvas.getContext('2d');\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = \"\".concat(fontSize, \"px Arial\");\n    ctx.fillStyle = fillStyle; // ctx.rotate(Math.PI / 180 * rotate);\n\n    ctx.fillText(content, 0, parseFloat(height) / 3);\n    var base64Url = canvas.toDataURL();\n    var wmEl = document.querySelector('.luban_h5__wm');\n    var watermarkDiv = wmEl || document.createElement('div');\n    var styleStr = \"\\n    transform: rotate(\".concat(rotate, \"deg);\\n    position:absolute;\\n    top:0;\\n    left:0;\\n    width:100%;\\n    height:100%;\\n    z-index:\").concat(zIndex, \";\\n    pointer-events:none;\\n    background-repeat:repeat;\\n    background-image:url('\").concat(base64Url, \"');\\n    user-select: none\");\n    watermarkDiv.setAttribute('style', styleStr);\n\n    if (!wmEl) {\n      watermarkDiv.classList.add('luban_h5__wm');\n      container.style.position = 'relative';\n      container.insertBefore(watermarkDiv, container.firstChild);\n    }\n  }\n\n  var LbpBackground = {\n    name: 'lbp-background',\n    props: {\n      imgSrc: PropTypes.string({\n        label: ''\n      }),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      waterMarkText: PropTypes.string({\n        label: '',\n        defaultValue: ''\n      }),\n      waterMarkFontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 16\n      }),\n      waterMarkRotate: PropTypes.number({\n        label: '',\n        defaultValue: 10\n      }),\n      waterMarkColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(184, 184, 184, 0.2)'\n      })\n    },\n    methods: {\n      renderWaterMark: function renderWaterMark() {\n        _renderWaterMark({\n          container: this.$refs.root,\n          content: this.waterMarkText,\n          fontSize: this.waterMarkFontSize,\n          rotate: this.waterMarkRotate,\n          fillStyle: this.waterMarkColor\n        });\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var style = {\n        width: '100%',\n        height: '100%'\n      };\n\n      if (this.imgSrc) {\n        style = _objectSpread(_objectSpread({}, style), {}, {\n          'background-size': 'cover',\n          'background-position': '50% 50%',\n          'background-origin': 'content-box',\n          'background-image': \"url(\".concat(this.imgSrc, \")\")\n        });\n      } else {\n        style = _objectSpread({\n          backgroundColor: this.backgroundColor\n        }, style);\n      }\n\n      return (// [:CSS] : https://codesandbox.io/s/ziyuansuzindexzaigao-wufafugaifuyuansudexiongdiyuansu-n15rd?file=/index.html\n        h(\"div\", {\n          \"style\": \"width: 100%; height: 100%; overflow: hidden; position: absolute; z-index: 0; opacity: 1;\",\n          \"ref\": \"root\"\n        }, [h(\"div\", {\n          \"style\": style\n        })])\n      );\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      this.renderWaterMark();\n      ['waterMarkText', 'waterMarkFontSize', 'waterMarkRotate', 'waterMarkColor'].forEach(function (key) {\n        _this.$watch(key, _this.renderWaterMark);\n      });\n    }\n  };\n\n  function getDefaultItems$2() {\n    var defaultItems = [{\n      image: 'https://img.yzcdn.cn/vant/apple-1.jpg'\n    }, {\n      image: 'https://img.yzcdn.cn/vant/apple-2.jpg'\n    }];\n    return defaultItems;\n  }\n\n  var LbpSlide = {\n    name: 'lbp-slide',\n    props: {\n      interval: PropTypes.number({\n        defaultValue: 4000,\n        label: ''\n      }),\n      editorMode: PropTypes.string({\n        defaultValue: 'preview',\n        label: ''\n      }),\n      activeIndex: {\n        type: Number,\n        default: 0,\n        editor: {\n          custom: true\n        }\n      },\n      items: {\n        type: Array,\n        default: function _default() {\n          return getDefaultItems$2();\n        },\n        editor: {\n          custom: true\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      var items = this.items,\n          activeIndex = this.activeIndex;\n      return this.editorMode === 'edit' ? items.length && h(\"img\", {\n        \"attrs\": {\n          \"src\": items[activeIndex].image\n        }\n      }) : h(vant.Swipe, {\n        \"attrs\": {\n          \"autoplay\": +this.interval,\n          \"indicator-color\": \"red\"\n        }\n      }, [items.map(function (item) {\n        return h(vant.SwipeItem, [h(\"img\", {\n          \"attrs\": {\n            \"src\": item.image,\n            \"width\": \"100%\",\n            \"height\": \"100%\"\n          }\n        })]);\n      })]);\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-01-03 23:43:34\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-11-17 16:49:11\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-bg-music.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpBgMusic = {\n    name: 'lbp-bg-music',\n    props: {\n      disabled: PropTypes.boolean({\n        defaultValue: true,\n        label: 'disabled'\n      }),\n      autoplay: PropTypes.boolean({\n        defaultValue: true,\n        label: ''\n      }),\n      src: PropTypes.string({\n        label: 'URL',\n        defaultValue: 'http://go.163.com/2018/0209/mengniu/audio/bgm.mp3',\n        props: {\n          type: 'textarea'\n        }\n      })\n    },\n    data: function data() {\n      return {\n        isPlaying: true\n      };\n    },\n    methods: {\n      toggle: function toggle() {\n        var bgAudio = this.$refs.bgAudio;\n        if (!bgAudio) return;\n        this.isPlaying ? bgAudio.pause() : bgAudio.play();\n        this.isPlaying = !this.isPlaying;\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var btnStyle = {\n        'animation-play-state': this.isPlaying ? 'running' : 'paused'\n      };\n      return h(\"div\", {\n        \"class\": \"bg-music-wrapper\",\n        \"style\": \"display: block;\"\n      }, [h(\"div\", {\n        \"class\": \"bg-music-btn rotate\",\n        \"style\": btnStyle,\n        \"on\": {\n          \"click\": this.toggle\n        },\n        \"attrs\": {\n          \"disabled\": this.disabled\n        }\n      }, [h(\"audio\", {\n        \"attrs\": {\n          \"src\": this.src,\n          \"autoplay\": this.autoplay,\n          \"preload\": true,\n          \"loop\": true\n        },\n        \"ref\": 'bgAudio'\n      })])]);\n    },\n    created: function created() {\n      // autoplay \n      // \n      this.isPlaying = this.autoplay;\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-14 08:09:44\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-11-10 15:09:00\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-notice-bar.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpNoticeBar = {\n    name: 'lbp-notice-bar',\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      text: PropTypes.string({\n        defaultValue: '',\n        label: '',\n        props: {\n          type: 'textarea'\n        }\n      }),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: '#fffbe8'\n      }),\n\n      /**  */\n      color: PropTypes.color({\n        defaultValue: '#ed6a0c'\n      }),\n\n      /**  */\n      mode: {\n        type: String,\n        default: '',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: '',\n              value: ''\n            }, {\n              label: '',\n              value: 'link'\n            }, {\n              label: '',\n              value: 'closeable'\n            }]\n          }\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      return h(vant.NoticeBar, {\n        \"attrs\": {\n          \"mode\": this.mode,\n          \"color\": this.color,\n          \"left-icon\": \"volume-o\",\n          \"text\": this.text,\n          \"background\": this.backgroundColor\n        }\n      });\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-17 20:04:23\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-28 17:58:59\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-rate.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpRate = {\n    name: 'lbp-rate',\n    props: {\n      value: PropTypes.number({\n        defaultValue: 5,\n        label: ''\n      }),\n      count: PropTypes.number({\n        defaultValue: 5,\n        label: ''\n      }),\n      size: PropTypes.number({\n        defaultValue: 16,\n        label: ''\n      }),\n      gutter: PropTypes.number({\n        defaultValue: 16,\n        label: ''\n      }),\n      mode: {\n        type: String,\n        default: '',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: 'star',\n              value: 'star'\n            }, {\n              label: '',\n              value: 'like'\n            }, {\n              label: 'Good',\n              value: 'good-job'\n            }]\n          }\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      return h(vant.Rate, {\n        \"attrs\": {\n          \"value\": this.value,\n          \"count\": this.count,\n          \"size\": this.size,\n          \"color\": this.color,\n          \"gutter\": this.gutter,\n          \"void-icon\": \"star\",\n          \"void-color\": \"#eee\"\n        }\n      });\n    }\n  };\n\n  var non = '\\u200B\\u0085\\u180E';\n\n  // check that a method works with the correct list\n  // of whitespaces and has a correct name\n  var stringTrimForced = function (METHOD_NAME) {\n    return fails(function () {\n      return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n    });\n  };\n\n  var $trim = stringTrim.trim;\n\n\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  _export({ target: 'String', proto: true, forced: stringTrimForced('trim') }, {\n    trim: function trim() {\n      return $trim(this);\n    }\n  });\n\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag');\n  var test = {};\n\n  test[TO_STRING_TAG$1] = 'z';\n\n  var toStringTagSupport = String(test) === '[object z]';\n\n  var TO_STRING_TAG$2 = wellKnownSymbol('toStringTag');\n  // ES3 wrong here\n  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n  // fallback for IE11 Script Access Denied error\n  var tryGet = function (it, key) {\n    try {\n      return it[key];\n    } catch (error) { /* empty */ }\n  };\n\n  // getting tag from ES6+ `Object.prototype.toString`\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null'\n      // @@toStringTag case\n      : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$2)) == 'string' ? tag\n      // builtinTag case\n      : CORRECT_ARGUMENTS ? classofRaw(O)\n      // ES3 arguments fallback\n      : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  };\n\n  // `Object.prototype.toString` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  };\n\n  // `Object.prototype.toString` method\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, { unsafe: true });\n  }\n\n  var nativePromiseConstructor = global_1.Promise;\n\n  var redefineAll = function (target, src, options) {\n    for (var key in src) redefine(target, key, src[key], options);\n    return target;\n  };\n\n  var SPECIES$2 = wellKnownSymbol('species');\n\n  var setSpecies = function (CONSTRUCTOR_NAME) {\n    var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n    var defineProperty = objectDefineProperty.f;\n\n    if (descriptors && Constructor && !Constructor[SPECIES$2]) {\n      defineProperty(Constructor, SPECIES$2, {\n        configurable: true,\n        get: function () { return this; }\n      });\n    }\n  };\n\n  var anInstance = function (it, Constructor, name) {\n    if (!(it instanceof Constructor)) {\n      throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n    } return it;\n  };\n\n  var iterators = {};\n\n  var ITERATOR = wellKnownSymbol('iterator');\n  var ArrayPrototype$1 = Array.prototype;\n\n  // check on default Array iterator\n  var isArrayIteratorMethod = function (it) {\n    return it !== undefined && (iterators.Array === it || ArrayPrototype$1[ITERATOR] === it);\n  };\n\n  var ITERATOR$1 = wellKnownSymbol('iterator');\n\n  var getIteratorMethod = function (it) {\n    if (it != undefined) return it[ITERATOR$1]\n      || it['@@iterator']\n      || iterators[classof(it)];\n  };\n\n  // call something on iterator step with safe closing on error\n  var callWithSafeIterationClosing = function (iterator, fn, value, ENTRIES) {\n    try {\n      return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n    // 7.4.6 IteratorClose(iterator, completion)\n    } catch (error) {\n      var returnMethod = iterator['return'];\n      if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n      throw error;\n    }\n  };\n\n  var iterate_1 = createCommonjsModule(function (module) {\n  var Result = function (stopped, result) {\n    this.stopped = stopped;\n    this.result = result;\n  };\n\n  var iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n    var boundFunction = functionBindContext(fn, that, AS_ENTRIES ? 2 : 1);\n    var iterator, iterFn, index, length, result, next, step;\n\n    if (IS_ITERATOR) {\n      iterator = iterable;\n    } else {\n      iterFn = getIteratorMethod(iterable);\n      if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n      // optimisation for array iterators\n      if (isArrayIteratorMethod(iterFn)) {\n        for (index = 0, length = toLength(iterable.length); length > index; index++) {\n          result = AS_ENTRIES\n            ? boundFunction(anObject(step = iterable[index])[0], step[1])\n            : boundFunction(iterable[index]);\n          if (result && result instanceof Result) return result;\n        } return new Result(false);\n      }\n      iterator = iterFn.call(iterable);\n    }\n\n    next = iterator.next;\n    while (!(step = next.call(iterator)).done) {\n      result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n      if (typeof result == 'object' && result && result instanceof Result) return result;\n    } return new Result(false);\n  };\n\n  iterate.stop = function (result) {\n    return new Result(true, result);\n  };\n  });\n\n  var ITERATOR$2 = wellKnownSymbol('iterator');\n  var SAFE_CLOSING = false;\n\n  try {\n    var called = 0;\n    var iteratorWithReturn = {\n      next: function () {\n        return { done: !!called++ };\n      },\n      'return': function () {\n        SAFE_CLOSING = true;\n      }\n    };\n    iteratorWithReturn[ITERATOR$2] = function () {\n      return this;\n    };\n    // eslint-disable-next-line no-throw-literal\n    Array.from(iteratorWithReturn, function () { throw 2; });\n  } catch (error) { /* empty */ }\n\n  var checkCorrectnessOfIteration = function (exec, SKIP_CLOSING) {\n    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n    var ITERATION_SUPPORT = false;\n    try {\n      var object = {};\n      object[ITERATOR$2] = function () {\n        return {\n          next: function () {\n            return { done: ITERATION_SUPPORT = true };\n          }\n        };\n      };\n      exec(object);\n    } catch (error) { /* empty */ }\n    return ITERATION_SUPPORT;\n  };\n\n  var SPECIES$3 = wellKnownSymbol('species');\n\n  // `SpeciesConstructor` abstract operation\n  // https://tc39.github.io/ecma262/#sec-speciesconstructor\n  var speciesConstructor = function (O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$3]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var engineIsIos = /(iphone|ipod|ipad).*applewebkit/i.test(engineUserAgent);\n\n  var location = global_1.location;\n  var set$1 = global_1.setImmediate;\n  var clear = global_1.clearImmediate;\n  var process$1 = global_1.process;\n  var MessageChannel = global_1.MessageChannel;\n  var Dispatch = global_1.Dispatch;\n  var counter = 0;\n  var queue = {};\n  var ONREADYSTATECHANGE = 'onreadystatechange';\n  var defer, channel, port;\n\n  var run = function (id) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (queue.hasOwnProperty(id)) {\n      var fn = queue[id];\n      delete queue[id];\n      fn();\n    }\n  };\n\n  var runner = function (id) {\n    return function () {\n      run(id);\n    };\n  };\n\n  var listener = function (event) {\n    run(event.data);\n  };\n\n  var post = function (id) {\n    // old engines have not location.origin\n    global_1.postMessage(id + '', location.protocol + '//' + location.host);\n  };\n\n  // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n  if (!set$1 || !clear) {\n    set$1 = function setImmediate(fn) {\n      var args = [];\n      var i = 1;\n      while (arguments.length > i) args.push(arguments[i++]);\n      queue[++counter] = function () {\n        // eslint-disable-next-line no-new-func\n        (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n      };\n      defer(counter);\n      return counter;\n    };\n    clear = function clearImmediate(id) {\n      delete queue[id];\n    };\n    // Node.js 0.8-\n    if (classofRaw(process$1) == 'process') {\n      defer = function (id) {\n        process$1.nextTick(runner(id));\n      };\n    // Sphere (JS game engine) Dispatch API\n    } else if (Dispatch && Dispatch.now) {\n      defer = function (id) {\n        Dispatch.now(runner(id));\n      };\n    // Browsers with MessageChannel, includes WebWorkers\n    // except iOS - https://github.com/zloirock/core-js/issues/624\n    } else if (MessageChannel && !engineIsIos) {\n      channel = new MessageChannel();\n      port = channel.port2;\n      channel.port1.onmessage = listener;\n      defer = functionBindContext(port.postMessage, port, 1);\n    // Browsers with postMessage, skip WebWorkers\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n    } else if (\n      global_1.addEventListener &&\n      typeof postMessage == 'function' &&\n      !global_1.importScripts &&\n      !fails(post) &&\n      location.protocol !== 'file:'\n    ) {\n      defer = post;\n      global_1.addEventListener('message', listener, false);\n    // IE8-\n    } else if (ONREADYSTATECHANGE in documentCreateElement('script')) {\n      defer = function (id) {\n        html.appendChild(documentCreateElement('script'))[ONREADYSTATECHANGE] = function () {\n          html.removeChild(this);\n          run(id);\n        };\n      };\n    // Rest old browsers\n    } else {\n      defer = function (id) {\n        setTimeout(runner(id), 0);\n      };\n    }\n  }\n\n  var task = {\n    set: set$1,\n    clear: clear\n  };\n\n  var getOwnPropertyDescriptor$3 = objectGetOwnPropertyDescriptor.f;\n\n  var macrotask = task.set;\n\n\n  var MutationObserver = global_1.MutationObserver || global_1.WebKitMutationObserver;\n  var process$2 = global_1.process;\n  var Promise$1 = global_1.Promise;\n  var IS_NODE = classofRaw(process$2) == 'process';\n  // Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\n  var queueMicrotaskDescriptor = getOwnPropertyDescriptor$3(global_1, 'queueMicrotask');\n  var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\n  var flush, head, last, notify, toggle, node, promise, then;\n\n  // modern engines have queueMicrotask method\n  if (!queueMicrotask) {\n    flush = function () {\n      var parent, fn;\n      if (IS_NODE && (parent = process$2.domain)) parent.exit();\n      while (head) {\n        fn = head.fn;\n        head = head.next;\n        try {\n          fn();\n        } catch (error) {\n          if (head) notify();\n          else last = undefined;\n          throw error;\n        }\n      } last = undefined;\n      if (parent) parent.enter();\n    };\n\n    // Node.js\n    if (IS_NODE) {\n      notify = function () {\n        process$2.nextTick(flush);\n      };\n    // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n    } else if (MutationObserver && !engineIsIos) {\n      toggle = true;\n      node = document.createTextNode('');\n      new MutationObserver(flush).observe(node, { characterData: true });\n      notify = function () {\n        node.data = toggle = !toggle;\n      };\n    // environments with maybe non-completely correct, but existent Promise\n    } else if (Promise$1 && Promise$1.resolve) {\n      // Promise.resolve without an argument throws an error in LG WebOS 2\n      promise = Promise$1.resolve(undefined);\n      then = promise.then;\n      notify = function () {\n        then.call(promise, flush);\n      };\n    // for other environments - macrotask based on:\n    // - setImmediate\n    // - MessageChannel\n    // - window.postMessag\n    // - onreadystatechange\n    // - setTimeout\n    } else {\n      notify = function () {\n        // strange IE + webpack dev server bug - use .call(global)\n        macrotask.call(global_1, flush);\n      };\n    }\n  }\n\n  var microtask = queueMicrotask || function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n\n  var PromiseCapability = function (C) {\n    var resolve, reject;\n    this.promise = new C(function ($$resolve, $$reject) {\n      if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n      resolve = $$resolve;\n      reject = $$reject;\n    });\n    this.resolve = aFunction$1(resolve);\n    this.reject = aFunction$1(reject);\n  };\n\n  // 25.4.1.5 NewPromiseCapability(C)\n  var f$7 = function (C) {\n    return new PromiseCapability(C);\n  };\n\n  var newPromiseCapability = {\n  \tf: f$7\n  };\n\n  var promiseResolve = function (C, x) {\n    anObject(C);\n    if (isObject(x) && x.constructor === C) return x;\n    var promiseCapability = newPromiseCapability.f(C);\n    var resolve = promiseCapability.resolve;\n    resolve(x);\n    return promiseCapability.promise;\n  };\n\n  var hostReportErrors = function (a, b) {\n    var console = global_1.console;\n    if (console && console.error) {\n      arguments.length === 1 ? console.error(a) : console.error(a, b);\n    }\n  };\n\n  var perform = function (exec) {\n    try {\n      return { error: false, value: exec() };\n    } catch (error) {\n      return { error: true, value: error };\n    }\n  };\n\n  var task$1 = task.set;\n\n\n\n\n\n\n\n\n\n\n  var SPECIES$4 = wellKnownSymbol('species');\n  var PROMISE = 'Promise';\n  var getInternalState$1 = internalState.get;\n  var setInternalState$1 = internalState.set;\n  var getInternalPromiseState = internalState.getterFor(PROMISE);\n  var PromiseConstructor = nativePromiseConstructor;\n  var TypeError$1 = global_1.TypeError;\n  var document$2 = global_1.document;\n  var process$3 = global_1.process;\n  var $fetch = getBuiltIn('fetch');\n  var newPromiseCapability$1 = newPromiseCapability.f;\n  var newGenericPromiseCapability = newPromiseCapability$1;\n  var IS_NODE$1 = classofRaw(process$3) == 'process';\n  var DISPATCH_EVENT = !!(document$2 && document$2.createEvent && global_1.dispatchEvent);\n  var UNHANDLED_REJECTION = 'unhandledrejection';\n  var REJECTION_HANDLED = 'rejectionhandled';\n  var PENDING = 0;\n  var FULFILLED = 1;\n  var REJECTED = 2;\n  var HANDLED = 1;\n  var UNHANDLED = 2;\n  var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n  var FORCED$2 = isForced_1(PROMISE, function () {\n    var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n    if (!GLOBAL_CORE_JS_PROMISE) {\n      // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // We can't detect it synchronously, so just check versions\n      if (engineV8Version === 66) return true;\n      // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n      if (!IS_NODE$1 && typeof PromiseRejectionEvent != 'function') return true;\n    }\n    // We can't use @@species feature detection in V8 since it causes\n    // deoptimization and performance degradation\n    // https://github.com/zloirock/core-js/issues/679\n    if (engineV8Version >= 51 && /native code/.test(PromiseConstructor)) return false;\n    // Detect correctness of subclassing with @@species support\n    var promise = PromiseConstructor.resolve(1);\n    var FakePromise = function (exec) {\n      exec(function () { /* empty */ }, function () { /* empty */ });\n    };\n    var constructor = promise.constructor = {};\n    constructor[SPECIES$4] = FakePromise;\n    return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n  });\n\n  var INCORRECT_ITERATION = FORCED$2 || !checkCorrectnessOfIteration(function (iterable) {\n    PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n  });\n\n  // helpers\n  var isThenable = function (it) {\n    var then;\n    return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n  };\n\n  var notify$1 = function (promise, state, isReject) {\n    if (state.notified) return;\n    state.notified = true;\n    var chain = state.reactions;\n    microtask(function () {\n      var value = state.value;\n      var ok = state.state == FULFILLED;\n      var index = 0;\n      // variable length - can't use forEach\n      while (chain.length > index) {\n        var reaction = chain[index++];\n        var handler = ok ? reaction.ok : reaction.fail;\n        var resolve = reaction.resolve;\n        var reject = reaction.reject;\n        var domain = reaction.domain;\n        var result, then, exited;\n        try {\n          if (handler) {\n            if (!ok) {\n              if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n              state.rejection = HANDLED;\n            }\n            if (handler === true) result = value;\n            else {\n              if (domain) domain.enter();\n              result = handler(value); // can throw\n              if (domain) {\n                domain.exit();\n                exited = true;\n              }\n            }\n            if (result === reaction.promise) {\n              reject(TypeError$1('Promise-chain cycle'));\n            } else if (then = isThenable(result)) {\n              then.call(result, resolve, reject);\n            } else resolve(result);\n          } else reject(value);\n        } catch (error) {\n          if (domain && !exited) domain.exit();\n          reject(error);\n        }\n      }\n      state.reactions = [];\n      state.notified = false;\n      if (isReject && !state.rejection) onUnhandled(promise, state);\n    });\n  };\n\n  var dispatchEvent = function (name, promise, reason) {\n    var event, handler;\n    if (DISPATCH_EVENT) {\n      event = document$2.createEvent('Event');\n      event.promise = promise;\n      event.reason = reason;\n      event.initEvent(name, false, true);\n      global_1.dispatchEvent(event);\n    } else event = { promise: promise, reason: reason };\n    if (handler = global_1['on' + name]) handler(event);\n    else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n  };\n\n  var onUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      var value = state.value;\n      var IS_UNHANDLED = isUnhandled(state);\n      var result;\n      if (IS_UNHANDLED) {\n        result = perform(function () {\n          if (IS_NODE$1) {\n            process$3.emit('unhandledRejection', value, promise);\n          } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n        });\n        // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n        state.rejection = IS_NODE$1 || isUnhandled(state) ? UNHANDLED : HANDLED;\n        if (result.error) throw result.value;\n      }\n    });\n  };\n\n  var isUnhandled = function (state) {\n    return state.rejection !== HANDLED && !state.parent;\n  };\n\n  var onHandleUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      if (IS_NODE$1) {\n        process$3.emit('rejectionHandled', promise);\n      } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n    });\n  };\n\n  var bind = function (fn, promise, state, unwrap) {\n    return function (value) {\n      fn(promise, state, value, unwrap);\n    };\n  };\n\n  var internalReject = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    state.value = value;\n    state.state = REJECTED;\n    notify$1(promise, state, true);\n  };\n\n  var internalResolve = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    try {\n      if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n      var then = isThenable(value);\n      if (then) {\n        microtask(function () {\n          var wrapper = { done: false };\n          try {\n            then.call(value,\n              bind(internalResolve, promise, wrapper, state),\n              bind(internalReject, promise, wrapper, state)\n            );\n          } catch (error) {\n            internalReject(promise, wrapper, error, state);\n          }\n        });\n      } else {\n        state.value = value;\n        state.state = FULFILLED;\n        notify$1(promise, state, false);\n      }\n    } catch (error) {\n      internalReject(promise, { done: false }, error, state);\n    }\n  };\n\n  // constructor polyfill\n  if (FORCED$2) {\n    // 25.4.3.1 Promise(executor)\n    PromiseConstructor = function Promise(executor) {\n      anInstance(this, PromiseConstructor, PROMISE);\n      aFunction$1(executor);\n      Internal.call(this);\n      var state = getInternalState$1(this);\n      try {\n        executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n      } catch (error) {\n        internalReject(this, state, error);\n      }\n    };\n    // eslint-disable-next-line no-unused-vars\n    Internal = function Promise(executor) {\n      setInternalState$1(this, {\n        type: PROMISE,\n        done: false,\n        notified: false,\n        parent: false,\n        reactions: [],\n        rejection: false,\n        state: PENDING,\n        value: undefined\n      });\n    };\n    Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n      // `Promise.prototype.then` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n      then: function then(onFulfilled, onRejected) {\n        var state = getInternalPromiseState(this);\n        var reaction = newPromiseCapability$1(speciesConstructor(this, PromiseConstructor));\n        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n        reaction.fail = typeof onRejected == 'function' && onRejected;\n        reaction.domain = IS_NODE$1 ? process$3.domain : undefined;\n        state.parent = true;\n        state.reactions.push(reaction);\n        if (state.state != PENDING) notify$1(this, state, false);\n        return reaction.promise;\n      },\n      // `Promise.prototype.catch` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n      'catch': function (onRejected) {\n        return this.then(undefined, onRejected);\n      }\n    });\n    OwnPromiseCapability = function () {\n      var promise = new Internal();\n      var state = getInternalState$1(promise);\n      this.promise = promise;\n      this.resolve = bind(internalResolve, promise, state);\n      this.reject = bind(internalReject, promise, state);\n    };\n    newPromiseCapability.f = newPromiseCapability$1 = function (C) {\n      return C === PromiseConstructor || C === PromiseWrapper\n        ? new OwnPromiseCapability(C)\n        : newGenericPromiseCapability(C);\n    };\n\n    if ( typeof nativePromiseConstructor == 'function') {\n      nativeThen = nativePromiseConstructor.prototype.then;\n\n      // wrap native Promise#then for native async functions\n      redefine(nativePromiseConstructor.prototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // wrap fetch result\n      if (typeof $fetch == 'function') _export({ global: true, enumerable: true, forced: true }, {\n        // eslint-disable-next-line no-unused-vars\n        fetch: function fetch(input /* , init */) {\n          return promiseResolve(PromiseConstructor, $fetch.apply(global_1, arguments));\n        }\n      });\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: FORCED$2 }, {\n    Promise: PromiseConstructor\n  });\n\n  setToStringTag(PromiseConstructor, PROMISE, false);\n  setSpecies(PROMISE);\n\n  PromiseWrapper = getBuiltIn(PROMISE);\n\n  // statics\n  _export({ target: PROMISE, stat: true, forced: FORCED$2 }, {\n    // `Promise.reject` method\n    // https://tc39.github.io/ecma262/#sec-promise.reject\n    reject: function reject(r) {\n      var capability = newPromiseCapability$1(this);\n      capability.reject.call(undefined, r);\n      return capability.promise;\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced:  FORCED$2 }, {\n    // `Promise.resolve` method\n    // https://tc39.github.io/ecma262/#sec-promise.resolve\n    resolve: function resolve(x) {\n      return promiseResolve( this, x);\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n    // `Promise.all` method\n    // https://tc39.github.io/ecma262/#sec-promise.all\n    all: function all(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        var values = [];\n        var counter = 0;\n        var remaining = 1;\n        iterate_1(iterable, function (promise) {\n          var index = counter++;\n          var alreadyCalled = false;\n          values.push(undefined);\n          remaining++;\n          $promiseResolve.call(C, promise).then(function (value) {\n            if (alreadyCalled) return;\n            alreadyCalled = true;\n            values[index] = value;\n            --remaining || resolve(values);\n          }, reject);\n        });\n        --remaining || resolve(values);\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    },\n    // `Promise.race` method\n    // https://tc39.github.io/ecma262/#sec-promise.race\n    race: function race(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        iterate_1(iterable, function (promise) {\n          $promiseResolve.call(C, promise).then(capability.resolve, reject);\n        });\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    }\n  });\n\n  function isScriptLoaded(src) {\n    return !!document.querySelector('script[src=\"' + src + '\"]');\n  }\n\n  var Map = {\n    map: null,\n    load: function load(key) {\n      return new Promise(function (resolve, reject) {\n        var src = '//map.qq.com/api/js?v=2.exp&libraries=place&callback=init&key=' + key;\n\n        if (isScriptLoaded(src)) {\n          resolve(window.qq);\n          return;\n        }\n\n        window.init = function () {\n          resolve(window.qq); // \n        };\n\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = src;\n        script.onerror = reject;\n        document.head.appendChild(script);\n      });\n    },\n    getPosition: function getPosition(_ref) {\n      var lat = _ref.lat,\n          lng = _ref.lng;\n      return new window.qq.maps.LatLng(lat, lng); // \n    }\n  };\n\n  function getPosition(_ref) {\n    var lat = _ref.lat,\n        lng = _ref.lng;\n    return new window.qq.maps.LatLng(lat, lng); // \n  }\n\n  var MapMixin = {\n    methods: {\n      loadMap: function loadMap(key) {\n        return Map.load(key);\n      },\n      setMarker: function setMarker(poi) {\n        var map = this.map;\n        var center = getPosition(poi.latLng); // \n\n        if (this.marker) {\n          this.marker.setMap(null);\n          this.marker = new window.qq.maps.Marker({\n            map: map,\n            position: poi.latLng\n          });\n          map.panTo(center);\n        } else {\n          this.marker = new window.qq.maps.Marker({\n            map: map,\n            position: center\n          });\n        }\n      }\n    }\n  };\n\n  var script = {\n    name: 'lbp-qq-map',\n    mixins: [MapMixin],\n    // loadMapsetMarker\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      labelContent: PropTypes.string({\n        label: '',\n        defaultValue: ''\n      }),\n      // \n      zoomLevel: PropTypes.number({\n        label: '',\n        defaultValue: 12,\n        visible: false\n      }),\n      // https://lbs.qq.com/dev/console/key/manage\n      qqMapKey: PropTypes.string({\n        label: 'Key',\n        defaultValue: 'GENBZ-G5S3J-7OLFW-FLBX4-WVEMK-SOBL4',\n        component: 'a-textarea',\n        extra: function extra(h) {\n          return h(\"div\", [h(\"div\", [\"1. \\u8BF7\\u586B\\u5165\\u81EA\\u5DF1\\u7684\\u817E\\u8BAF\\u5730\\u56FE\\u5F00\\u53D1\\u5BC6\\u94A5\\uFF0C\", h(\"a\", {\n            \"attrs\": {\n              \"href\": \"https://lbs.qq.com/dev/console/key/manage\",\n              \"target\": \"_blank\"\n            }\n          }, [\"\\u524D\\u5F80\\u7533\\u8BF7>>\"])]), h(\"div\", [\"2. \\u9C81\\u73ED\\u7684 Demo Key \\u968F\\u65F6\\u53EF\\u80FD\\u5931\\u6548\\uFF1B\\u5931\\u6548\\u63D0\\u793A: \\u9274\\u6743\\u5931\\u8D25\\uFF0C\\u8BF7\\u4F20\\u5165\\u6B63\\u786E\\u7684key\"])]);\n        }\n      }),\n      poi: {\n        type: Object,\n        default: function _default() {\n          return {\n            'latLng': {\n              'lat': 39.90469,\n              'lng': 116.40717\n            },\n            'name': '',\n            'type': 4\n          };\n        },\n        editor: {\n          custom: true\n        }\n      }\n    },\n    watch: {\n      poi: {\n        handler: function handler(poi) {\n          if (!this.checkMapAvailable()) return;\n          this.setMarker(poi);\n        },\n        deep: true\n      },\n      labelContent: function labelContent(_labelContent) {\n        if (!this.checkMapAvailable()) return;\n        this.setLabel(_labelContent);\n      },\n      zoomLevel: function zoomLevel(_zoomLevel) {\n        if (!this.checkMapAvailable()) return;\n        this.setZoomLevel(_zoomLevel);\n      }\n    },\n    methods: {\n      checkMapAvailable: function checkMapAvailable() {\n        return window.qq && window.qq.maps;\n      },\n      onSearch: function onSearch(value) {\n        console.log(value);\n      },\n      setLabel: function setLabel(labelContent) {\n        var center = Map.getPosition(this.poi.latLng); // \n\n        this.label = this.label || new window.qq.maps.Label({\n          position: center,\n          map: this.map,\n          content: ''\n        });\n\n        if (labelContent.trim()) {\n          // https://lbs.qq.com/webDemoCenter/javascriptV2/marker/label\n          this.label.setVisible(true);\n          this.label.setContent(labelContent || '');\n          this.label.setPosition(center);\n        } else {\n          this.label.setVisible(false);\n        }\n      },\n      setZoomLevel: function setZoomLevel(zoomLevel) {\n        this.map.zoomTo(zoomLevel);\n      },\n      init: function init() {\n        var _this = this;\n\n        var poi = this.poi,\n            qqMapKey = this.qqMapKey;\n        this.loadMap(qqMapKey).then(function (qq) {\n          _this.initMap(poi);\n\n          _this.setLabel(_this.labelContent);\n\n          _this.setMarker(poi);\n        });\n      },\n      initMap: function initMap(poi) {\n        var el = this.$refs.mapElement;\n        var center = Map.getPosition(poi.latLng); // \n\n        this.map = new window.qq.maps.Map(el, {\n          center: center,\n          zoom: this.zoomLevel,\n          // \n          disableDefaultUI: true,\n          // \n          draggable: false,\n          // \n          scrollwheel: false,\n          // \n          disableDoubleClickZoom: true // \n          // MapType\n\n        });\n      }\n    },\n    mounted: function mounted() {\n      this.init();\n    }\n  };\n\n  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n      if (typeof shadowMode !== 'boolean') {\r\n          createInjectorSSR = createInjector;\r\n          createInjector = shadowMode;\r\n          shadowMode = false;\r\n      }\r\n      // Vue.extend constructor export interop.\r\n      const options = typeof script === 'function' ? script.options : script;\r\n      // render functions\r\n      if (template && template.render) {\r\n          options.render = template.render;\r\n          options.staticRenderFns = template.staticRenderFns;\r\n          options._compiled = true;\r\n          // functional template\r\n          if (isFunctionalTemplate) {\r\n              options.functional = true;\r\n          }\r\n      }\r\n      // scopedId\r\n      if (scopeId) {\r\n          options._scopeId = scopeId;\r\n      }\r\n      let hook;\r\n      if (moduleIdentifier) {\r\n          // server build\r\n          hook = function (context) {\r\n              // 2.3 injection\r\n              context =\r\n                  context || // cached call\r\n                      (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                      (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n              // 2.2 with runInNewContext: true\r\n              if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                  context = __VUE_SSR_CONTEXT__;\r\n              }\r\n              // inject component styles\r\n              if (style) {\r\n                  style.call(this, createInjectorSSR(context));\r\n              }\r\n              // register component module identifier for async chunk inference\r\n              if (context && context._registeredComponents) {\r\n                  context._registeredComponents.add(moduleIdentifier);\r\n              }\r\n          };\r\n          // used by ssr in case component is cached and beforeCreate\r\n          // never gets called\r\n          options._ssrRegister = hook;\r\n      }\r\n      else if (style) {\r\n          hook = shadowMode\r\n              ? function (context) {\r\n                  style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n              }\r\n              : function (context) {\r\n                  style.call(this, createInjector(context));\r\n              };\r\n      }\r\n      if (hook) {\r\n          if (options.functional) {\r\n              // register for functional component in vue file\r\n              const originalRender = options.render;\r\n              options.render = function renderWithStyleInjection(h, context) {\r\n                  hook.call(context);\r\n                  return originalRender(h, context);\r\n              };\r\n          }\r\n          else {\r\n              // inject component registration as beforeCreate hook\r\n              const existing = options.beforeCreate;\r\n              options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n          }\r\n      }\r\n      return script;\r\n  }\n\n  /* script */\n  const __vue_script__ = script;\n\n  /* template */\n  var __vue_render__ = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\"div\", [\n      _c(\"div\", {\n        ref: \"mapElement\",\n        staticStyle: { height: \"100%\", width: \"100%\" },\n        attrs: { id: \"qq-map-container\" }\n      })\n    ])\n  };\n  var __vue_staticRenderFns__ = [];\n  __vue_render__._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__ = undefined;\n    /* scoped */\n    const __vue_scope_id__ = undefined;\n    /* module identifier */\n    const __vue_module_identifier__ = undefined;\n    /* functional template */\n    const __vue_is_functional_template__ = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__ = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n      __vue_inject_styles__,\n      __vue_script__,\n      __vue_scope_id__,\n      __vue_is_functional_template__,\n      __vue_module_identifier__,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  var ABBR = {\n    th: 3,\n    mi: 6,\n    bi: 9,\n    tr: 12\n  };\n\n  var DEFAULT_OPTIONS = {\n    zeroFormat: null,\n    nullFormat: null,\n    defaultFormat: '0,0',\n    scalePercentBy100: true,\n    abbrLabel: {\n      th: 'k',\n      mi: 'm',\n      bi: 'b',\n      tr: 't'\n    }\n  };\n\n  var TRILLION = 1e12;\n  var BILLION = 1e9;\n  var MILLION = 1e6;\n  var THOUSAND = 1e3;\n\n  function numIsNaN(value) {\n    return typeof value === 'number' && isNaN(value);\n  }\n\n  function toFixed(value, maxDecimals, roundingFunction, optionals) {\n    var splitValue = value.toString().split('.');\n    var minDecimals = maxDecimals - (optionals || 0);\n    var boundedPrecision = splitValue.length === 2 ? Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals) : minDecimals;\n    var power = Math.pow(10, boundedPrecision);\n    var output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n    if (optionals > maxDecimals - boundedPrecision) {\n      var optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n      output = output.replace(optionalsRegExp, '');\n    }\n\n    return output;\n  }\n\n  function numberToFormat(options, value, format, roundingFunction) {\n    var abs = Math.abs(value);\n    var negP = false;\n    var optDec = false;\n    var abbr = '';\n    var decimal = '';\n    var neg = false;\n    var abbrForce = void 0;\n    var signed = void 0;\n    format = format || '';\n\n    value = value || 0;\n\n    if (~format.indexOf('(')) {\n      negP = true;\n      format = format.replace(/[(|)]/g, '');\n    } else if (~format.indexOf('+') || ~format.indexOf('-')) {\n      signed = ~format.indexOf('+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n      format = format.replace(/[+|-]/g, '');\n    }\n    if (~format.indexOf('a')) {\n      abbrForce = format.match(/a(k|m|b|t)?/);\n\n      abbrForce = abbrForce ? abbrForce[1] : false;\n\n      if (~format.indexOf(' a')) abbr = ' ';\n      format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n      if (abs >= TRILLION && !abbrForce || abbrForce === 't') {\n        abbr += options.abbrLabel.tr;\n        value = value / TRILLION;\n      } else if (abs < TRILLION && abs >= BILLION && !abbrForce || abbrForce === 'b') {\n        abbr += options.abbrLabel.bi;\n        value = value / BILLION;\n      } else if (abs < BILLION && abs >= MILLION && !abbrForce || abbrForce === 'm') {\n        abbr += options.abbrLabel.mi;\n        value = value / MILLION;\n      } else if (abs < MILLION && abs >= THOUSAND && !abbrForce || abbrForce === 'k') {\n        abbr += options.abbrLabel.th;\n        value = value / THOUSAND;\n      }\n    }\n    if (~format.indexOf('[.]')) {\n      optDec = true;\n      format = format.replace('[.]', '.');\n    }\n    var int = value.toString().split('.')[0];\n    var precision = format.split('.')[1];\n    var thousands = format.indexOf(',');\n    var leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n    if (precision) {\n      if (~precision.indexOf('[')) {\n        precision = precision.replace(']', '');\n        precision = precision.split('[');\n        decimal = toFixed(value, precision[0].length + precision[1].length, roundingFunction, precision[1].length);\n      } else {\n        decimal = toFixed(value, precision.length, roundingFunction);\n      }\n\n      int = decimal.split('.')[0];\n      decimal = ~decimal.indexOf('.') ? '.' + decimal.split('.')[1] : '';\n      if (optDec && +decimal.slice(1) === 0) decimal = '';\n    } else {\n      int = toFixed(value, 0, roundingFunction);\n    }\n    if (abbr && !abbrForce && +int >= 1000 && abbr !== ABBR.trillion) {\n      int = '' + +int / 1000;\n      abbr = ABBR.million;\n    }\n    if (~int.indexOf('-')) {\n      int = int.slice(1);\n      neg = true;\n    }\n    if (int.length < leadingCount) {\n      for (var i = leadingCount - int.length; i > 0; i--) {\n        int = '0' + int;\n      }\n    }\n\n    if (thousands > -1) {\n      int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + ',');\n    }\n\n    if (!format.indexOf('.')) int = '';\n\n    var output = int + decimal + (abbr || '');\n\n    if (negP) {\n      output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n    } else {\n      if (signed >= 0) {\n        output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n      } else if (neg) {\n        output = '-' + output;\n      }\n    }\n\n    return output;\n  }\n\n  function extend(target, sub) {\n    Object.keys(sub).forEach(function (key) {\n      target[key] = sub[key];\n    });\n  }\n\n  var numerifyPercent = {\n    regexp: /%/,\n    format: function format(value, formatType, roundingFunction, numerify) {\n      var space = ~formatType.indexOf(' %') ? ' ' : '';\n      var output = void 0;\n\n      if (numerify.options.scalePercentBy100) value = value * 100;\n\n      formatType = formatType.replace(/\\s?%/, '');\n\n      output = numerify._numberToFormat(value, formatType, roundingFunction);\n\n      if (~output.indexOf(')')) {\n        output = output.split('');\n        output.splice(-1, 0, space + '%');\n        output = output.join('');\n      } else {\n        output = output + space + '%';\n      }\n\n      return output;\n    }\n  };\n\n  var options = {};\n  var formats = {};\n\n  extend(options, DEFAULT_OPTIONS);\n\n  function format(value, formatType, roundingFunction) {\n    formatType = formatType || options.defaultFormat;\n    roundingFunction = roundingFunction || Math.round;\n    var output = void 0;\n    var formatFunction = void 0;\n\n    if (value === 0 && options.zeroFormat !== null) {\n      output = options.zeroFormat;\n    } else if (value === null && options.nullFormat !== null) {\n      output = options.nullFormat;\n    } else {\n      for (var kind in formats) {\n        if (formats[kind] && formatType.match(formats[kind].regexp)) {\n          formatFunction = formats[kind].format;\n          break;\n        }\n      }\n      formatFunction = formatFunction || numberToFormat.bind(null, options);\n      output = formatFunction(value, formatType, roundingFunction, numerify);\n    }\n\n    return output;\n  }\n\n  function numerify(input, formatType, roundingFunction) {\n    var value = void 0;\n\n    if (input === 0 || typeof input === 'undefined') {\n      value = 0;\n    } else if (input === null || numIsNaN(input)) {\n      value = null;\n    } else if (typeof input === 'string') {\n      if (options.zeroFormat && input === options.zeroFormat) {\n        value = 0;\n      } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n        value = null;\n      } else {\n        value = +input;\n      }\n    } else {\n      value = +input || null;\n    }\n\n    return format(value, formatType, roundingFunction);\n  }\n\n  numerify.options = options;\n  numerify._numberToFormat = numberToFormat.bind(null, options);\n  numerify.register = function (name, format) {\n    formats[name] = format;\n  };\n  numerify.unregister = function (name) {\n    formats[name] = null;\n  };\n  numerify.setOptions = function (opts) {\n    extend(options, opts);\n  };\n  numerify.reset = function () {\n    extend(options, DEFAULT_OPTIONS);\n  };\n\n  numerify.register('percentage', numerifyPercent);\n\n  var index_es = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': numerify\n  });\n\n  function debounce(fn, delay) {\n    var timer = null;\n    return function () {\n      var self = this;\n      var args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(self, args);\n      }, delay);\n    };\n  }\n\n  function throttle(fn, wait, delay) {\n    var timer = null;\n    var previous = null;\n\n    return function () {\n      var self = this;\n      var args = arguments;\n      var now = Date.now();\n      if (!previous) previous = now;\n      if (now - previous > wait) {\n        fn.apply(self, args);\n        previous = now;\n      } else if (delay) {\n        clearTimeout(timer);\n        timer = setTimeout(function () {\n          fn.apply(self, args);\n        }, delay);\n      }\n    };\n  }\n\n  function set$2(target, path, value) {\n    if (!path) return;\n    var targetTemp = target;\n    var pathArr = path.split('.');\n    pathArr.forEach(function (item, index) {\n      if (index === pathArr.length - 1) {\n        targetTemp[item] = value;\n      } else {\n        if (!targetTemp[item]) targetTemp[item] = {};\n        targetTemp = targetTemp[item];\n      }\n    });\n  }\n\n  function get$1(target, path, defaultValue) {\n    if (!path) return target;\n    var pathArr = path.split('.');\n    var targetTemp = target;\n    pathArr.some(function (item, index) {\n      if (targetTemp[item] === undefined) {\n        targetTemp = defaultValue;\n        return true;\n      } else {\n        targetTemp = targetTemp[item];\n      }\n    });\n    return targetTemp;\n  }\n\n  function getStore(name) {\n    try {\n      return JSON.parse(window.localStorage.getItem(name));\n    } catch (e) {}\n  }\n\n  function setStore(name, data) {\n    try {\n      window.localStorage.setItem(name, JSON.stringify(data));\n    } catch (e) {}\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function getType(v) {\n    return Object.prototype.toString.call(v);\n  }\n\n  function getTypeof(v) {\n    return typeof v === 'undefined' ? 'undefined' : _typeof(v);\n  }\n\n  function isObject$1(v) {\n    return getType(v) === '[object Object]';\n  }\n\n  function isArray$1(v) {\n    return getType(v) === '[object Array]';\n  }\n\n  function isFunction(v) {\n    return getType(v) === '[object Function]';\n  }\n\n  function isString(v) {\n    return getType(v) === '[object String]';\n  }\n\n  function isBoolean(v) {\n    return getType(v) === '[object Boolean]';\n  }\n\n  function isEmptyObj(v) {\n    return isObject$1(v) && !Object.keys(v).length;\n  }\n\n  function isNumber(v) {\n    return getType(v) === '[object Number]';\n  }\n\n  function clone(v) {\n    if (isObject$1(v)) return Object.assign({}, v);\n    if (isArray$1(v)) return v.slice();\n  }\n\n  function cloneDeep(v) {\n    return JSON.parse(JSON.stringify(v));\n  }\n\n  function kebabToCamel(s) {\n    return s.replace(/-(\\w)/g, function (_, c) {\n      return c.toUpperCase();\n    });\n  }\n\n  function camelToKebab(s) {\n    return s.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n\n  function unique(arr) {\n    var result = [];\n    arr.forEach(function (item) {\n      if (!~result.indexOf(item)) result.push(item);\n    });\n    return result;\n  }\n\n  function getLinearValue(x1, y1, x2, y2, x3) {\n    var k = (y2 - y1) / (x2 - x1);\n    var b = y1 - x1 * k;\n    if (x3 == null) {\n      return { k: k, b: b };\n    } else {\n      return x3 * k + b;\n    }\n  }\n\n  function getFnAndObjValue(target, key) {\n    return isFunction(target) ? target(key) : !isObject$1(target) ? key : target[key] != null ? target[key] : key;\n  }\n\n  function arrDelItem(arr, diffItem) {\n    return arr.filter(function (item) {\n      return diffItem !== item;\n    });\n  }\n\n  var arrDelArrItem = function arrDelArrItem(arr, diffArr) {\n    return arr.filter(function (item) {\n      return !~diffArr.indexOf(item);\n    });\n  };\n\n  function getArrMin(arr) {\n    return Math.min.apply(null, arr);\n  }\n\n  function getArrMax(arr) {\n    return Math.max.apply(null, arr);\n  }\n\n  function toArray(v) {\n    return Array.prototype.slice.call(v);\n  }\n\n  function noop() {}\n\n  function hasOwn(source, target) {\n    return Object.prototype.hasOwnProperty.call(source, target);\n  }\n\n  var extend$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (hasOwn(source, key)) target[key] = source[key];\n      }\n    }\n    return target;\n  };\n\n  function isEqual(alice, bob) {\n    if (alice === bob) return true;\n    if (alice === null || bob === null || getTypeof(alice) !== 'object' || getTypeof(bob) !== 'object') {\n      return alice === bob;\n    }\n\n    for (var key in alice) {\n      if (!hasOwn(alice, key)) continue;\n      var aliceValue = alice[key];\n      var bobValue = bob[key];\n      var aliceType = getTypeof(aliceValue);\n\n      if (getTypeof(bobValue) === 'undefined') {\n        return false;\n      } else if (aliceType === 'object') {\n        if (!isEqual(aliceValue, bobValue)) return false;\n      } else if (aliceValue !== bobValue) {\n        return false;\n      }\n    }\n    for (var _key in bob) {\n      if (!hasOwn(bob, _key)) continue;\n      if (getTypeof(alice)[_key] === 'undefined') return false;\n    }\n\n    return true;\n  }\n\n  var index_es$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    debounce: debounce,\n    throttle: throttle,\n    set: set$2,\n    get: get$1,\n    getStore: getStore,\n    setStore: setStore,\n    clone: clone,\n    cloneDeep: cloneDeep,\n    getType: getType,\n    getTypeof: getTypeof,\n    isObject: isObject$1,\n    isArray: isArray$1,\n    isFunction: isFunction,\n    isString: isString,\n    isBoolean: isBoolean,\n    isEmptyObj: isEmptyObj,\n    isNumber: isNumber,\n    kebabToCamel: kebabToCamel,\n    camelToKebab: camelToKebab,\n    unique: unique,\n    getLinearValue: getLinearValue,\n    getFnAndObjValue: getFnAndObjValue,\n    arrDelItem: arrDelItem,\n    arrDelArrItem: arrDelArrItem,\n    getArrMin: getArrMin,\n    getArrMax: getArrMax,\n    toArray: toArray,\n    noop: noop,\n    extend: extend$1,\n    isEqual: isEqual,\n    hasOwn: hasOwn\n  });\n\n  var require$$3 = /*@__PURE__*/getAugmentedNamespace(index_es);\n\n  var utilsLite = /*@__PURE__*/getAugmentedNamespace(index_es$1);\n\n  var utils = createCommonjsModule(function (module, exports) {\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n  var numerify = _interopDefault(require$$3);\n\n\n  var getFormated = function getFormated(val, type, digit) {\n    var defaultVal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '-';\n\n    if (isNaN(val)) return defaultVal;\n    if (!type) return val;\n    if (utilsLite.isFunction(type)) return type(val, numerify);\n\n    digit = isNaN(digit) ? 0 : ++digit;\n    var digitStr = '.[' + new Array(digit).join(0) + ']';\n    var formatter = type;\n    switch (type) {\n      case 'KMB':\n        formatter = digit ? '0,0' + digitStr + 'a' : '0,0a';\n        break;\n      case 'normal':\n        formatter = digit ? '0,0' + digitStr : '0,0';\n        break;\n      case 'percent':\n        formatter = digit ? '0,0' + digitStr + '%' : '0,0.[00]%';\n        break;\n    }\n    return numerify(val, formatter);\n  };\n\n  var getStackMap = function getStackMap(stack) {\n    var stackMap = {};\n    Object.keys(stack).forEach(function (item) {\n      stack[item].forEach(function (name) {\n        stackMap[name] = item;\n      });\n    });\n    return stackMap;\n  };\n\n  var $get = function $get(url) {\n    return new Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url);\n      xhr.send(null);\n      xhr.onload = function () {\n        resolve(JSON.parse(xhr.responseText));\n      };\n      xhr.onerror = function () {\n        reject(JSON.parse(xhr.responseText));\n      };\n    });\n  };\n\n  var mapPromise = {};\n\n  var getMapJSON = function getMapJSON(_ref) {\n    var position = _ref.position,\n        positionJsonLink = _ref.positionJsonLink,\n        beforeRegisterMapOnce = _ref.beforeRegisterMapOnce,\n        mapURLProfix = _ref.mapURLProfix;\n\n    var link = positionJsonLink || '' + mapURLProfix + position + '.json';\n    if (!mapPromise[link]) {\n      mapPromise[link] = $get(link).then(function (res) {\n        if (beforeRegisterMapOnce) res = beforeRegisterMapOnce(res);\n        return res;\n      });\n    }\n    return mapPromise[link];\n  };\n\n  var bmapPromise = null;\n  var amapPromise = null;\n\n  var getBmap = function getBmap(key, v) {\n    if (!bmapPromise) {\n      bmapPromise = new Promise(function (resolve, reject) {\n        var callbackName = 'bmap' + Date.now();\n        window[callbackName] = resolve;\n        var script = document.createElement('script');\n        script.src = ['https://api.map.baidu.com/api?v=' + (v || '2.0'), 'ak=' + key, 'callback=' + callbackName].join('&');\n\n        document.body.appendChild(script);\n      });\n    }\n    return bmapPromise;\n  };\n\n  var getAmap = function getAmap(key, v) {\n    if (!amapPromise) {\n      amapPromise = new Promise(function (resolve, reject) {\n        var callbackName = 'amap' + Date.now();\n        window[callbackName] = resolve;\n        var script = document.createElement('script');\n        script.src = ['https://webapi.amap.com/maps?v=' + (v || '1.4.3'), 'key=' + key, 'callback=' + callbackName].join('&');\n\n        document.body.appendChild(script);\n      });\n    }\n    return amapPromise;\n  };\n\n  function setArrayValue(arr, index, value) {\n    if (arr[index] !== undefined) {\n      arr[index].push(value);\n    } else {\n      arr[index] = [value];\n    }\n  }\n\n  exports.getFormated = getFormated;\n  exports.getStackMap = getStackMap;\n  exports.$get = $get;\n  exports.getMapJSON = getMapJSON;\n  exports.getBmap = getBmap;\n  exports.getAmap = getAmap;\n  exports.setArrayValue = setArrayValue;\n  });\n\n  /**\n   * zrender: id\n   *\n   * @author errorrik (errorrik@gmail.com)\n   */\n  var idStart = 0x0907;\n\n  function _default() {\n    return idStart++;\n  }\n\n  var guid = _default;\n\n  /**\n   * echarts\n   *\n   * @desc echartsCanvasJavascript\n   * @author firede[firede@firede.us]\n   * @desc thanks zepto.\n   */\n\n  /* global wx */\n  var env = {};\n\n  if (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n    // In Weixin Application\n    env = {\n      browser: {},\n      os: {},\n      node: false,\n      wxa: true,\n      // Weixin Application\n      canvasSupported: true,\n      svgSupported: false,\n      touchEventsSupported: true,\n      domSupported: false\n    };\n  } else if (typeof document === 'undefined' && typeof self !== 'undefined') {\n    // In worker\n    env = {\n      browser: {},\n      os: {},\n      node: false,\n      worker: true,\n      canvasSupported: true,\n      domSupported: false\n    };\n  } else if (typeof navigator === 'undefined') {\n    // In node\n    env = {\n      browser: {},\n      os: {},\n      node: true,\n      worker: false,\n      // Assume canvas is supported\n      canvasSupported: true,\n      svgSupported: true,\n      domSupported: false\n    };\n  } else {\n    env = detect(navigator.userAgent);\n  }\n\n  var _default$1 = env; // Zepto.js\n  // (c) 2010-2013 Thomas Fuchs\n  // Zepto.js may be freely distributed under the MIT license.\n\n  function detect(ua) {\n    var os = {};\n    var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n    // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n    // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n    // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n    // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n    // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n    // var touchpad = webos && ua.match(/TouchPad/);\n    // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n    // var silk = ua.match(/Silk\\/([\\d._]+)/);\n    // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n    // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n    // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n    // var playbook = ua.match(/PlayBook/);\n    // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n    // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n    var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n    || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n    var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n    // - discern (more) between multiple browsers on android\n    // - decide if kindle fire in silk mode is android or not\n    // - Firefox on Android doesn't specify the Android version\n    // - possibly devide in os, device and browser hashes\n    // if (browser.webkit = !!webkit) browser.version = webkit[1];\n    // if (android) os.android = true, os.version = android[2];\n    // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n    // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n    // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    // if (webos) os.webos = true, os.version = webos[2];\n    // if (touchpad) os.touchpad = true;\n    // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n    // if (bb10) os.bb10 = true, os.version = bb10[2];\n    // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n    // if (playbook) browser.playbook = true;\n    // if (kindle) os.kindle = true, os.version = kindle[1];\n    // if (silk) browser.silk = true, browser.version = silk[1];\n    // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n    // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n    if (firefox) {\n      browser.firefox = true;\n      browser.version = firefox[1];\n    } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n    // if (webview) browser.webview = true;\n\n\n    if (ie) {\n      browser.ie = true;\n      browser.version = ie[1];\n    }\n\n    if (edge) {\n      browser.edge = true;\n      browser.version = edge[1];\n    } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n    // not be set on win phone. So we do not consider Win Phone.\n\n\n    if (weChat) {\n      browser.weChat = true;\n    } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n    //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n    // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n    //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n    //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n    return {\n      browser: browser,\n      os: os,\n      node: false,\n      // canvas\n      // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n      canvasSupported: !!document.createElement('canvas').getContext,\n      svgSupported: typeof SVGRect !== 'undefined',\n      // works on most browsers\n      // IE10/11 does not support touch event, and MS Edge supports them but not by\n      // default, so we dont check navigator.maxTouchPoints for them here.\n      touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n      // <http://caniuse.com/#search=pointer%20event>.\n      pointerEventsSupported: // (1) Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n      // events currently. So we dont use that on other browsers unless tested sufficiently.\n      // For example, in iOS 13 Mobile Chromium 78, if the touching behavior starts page\n      // scroll, the `pointermove` event can not be fired any more. That will break some\n      // features like \"pan horizontally to move something and pan vertically to page scroll\".\n      // The horizontal pan probably be interrupted by the casually triggered page scroll.\n      // (2) Although IE 10 supports pointer event, it use old style and is different from the\n      // standard. So we exclude that. (IE 10 is hardly used on touch device)\n      'onpointerdown' in window && (browser.edge || browser.ie && browser.version >= 11),\n      // passiveSupported: detectPassiveSupport()\n      domSupported: typeof document !== 'undefined'\n    };\n  } // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n  // function detectPassiveSupport() {\n  //     // Test via a getter in the options object to see if the passive property is accessed\n  //     var supportsPassive = false;\n  //     try {\n  //         var opts = Object.defineProperty({}, 'passive', {\n  //             get: function() {\n  //                 supportsPassive = true;\n  //             }\n  //         });\n  //         window.addEventListener('testPassive', function() {}, opts);\n  //     } catch (e) {\n  //     }\n  //     return supportsPassive;\n  // }\n\n\n  var env_1 = _default$1;\n\n  /**\n   * @module zrender/core/util\n   */\n  // mergeDate\n  var BUILTIN_OBJECT = {\n    '[object Function]': 1,\n    '[object RegExp]': 1,\n    '[object Date]': 1,\n    '[object Error]': 1,\n    '[object CanvasGradient]': 1,\n    '[object CanvasPattern]': 1,\n    // For node-canvas\n    '[object Image]': 1,\n    '[object Canvas]': 1\n  };\n  var TYPED_ARRAY = {\n    '[object Int8Array]': 1,\n    '[object Uint8Array]': 1,\n    '[object Uint8ClampedArray]': 1,\n    '[object Int16Array]': 1,\n    '[object Uint16Array]': 1,\n    '[object Int32Array]': 1,\n    '[object Uint32Array]': 1,\n    '[object Float32Array]': 1,\n    '[object Float64Array]': 1\n  };\n  var objToString = Object.prototype.toString;\n  var arrayProto = Array.prototype;\n  var nativeForEach = arrayProto.forEach;\n  var nativeFilter = arrayProto.filter;\n  var nativeSlice = arrayProto.slice;\n  var nativeMap = arrayProto.map;\n  var nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\n  var methods = {};\n\n  function $override(name, fn) {\n    // Clear ctx instance for different environment\n    if (name === 'createCanvas') {\n      _ctx = null;\n    }\n\n    methods[name] = fn;\n  }\n  /**\n   * Those data types can be cloned:\n   *     Plain object, Array, TypedArray, number, string, null, undefined.\n   * Those data types will be assgined using the orginal data:\n   *     BUILTIN_OBJECT\n   * Instance of user defined class will be cloned to a plain object, without\n   * properties in prototype.\n   * Other data types is not supported (not sure what will happen).\n   *\n   * Caution: do not support clone Date, for performance consideration.\n   * (There might be a large number of date in `series.data`).\n   * So date should not be modified in and out of echarts.\n   *\n   * @param {*} source\n   * @return {*} new\n   */\n\n\n  function clone$1(source) {\n    if (source == null || typeof source !== 'object') {\n      return source;\n    }\n\n    var result = source;\n    var typeStr = objToString.call(source);\n\n    if (typeStr === '[object Array]') {\n      if (!isPrimitive(source)) {\n        result = [];\n\n        for (var i = 0, len = source.length; i < len; i++) {\n          result[i] = clone$1(source[i]);\n        }\n      }\n    } else if (TYPED_ARRAY[typeStr]) {\n      if (!isPrimitive(source)) {\n        var Ctor = source.constructor;\n\n        if (source.constructor.from) {\n          result = Ctor.from(source);\n        } else {\n          result = new Ctor(source.length);\n\n          for (var i = 0, len = source.length; i < len; i++) {\n            result[i] = clone$1(source[i]);\n          }\n        }\n      }\n    } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n      result = {};\n\n      for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n          result[key] = clone$1(source[key]);\n        }\n      }\n    }\n\n    return result;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} target\n   * @param {*} source\n   * @param {boolean} [overwrite=false]\n   */\n\n\n  function merge(target, source, overwrite) {\n    // We should escapse that source is string\n    // and enter for ... in ...\n    if (!isObject$2(source) || !isObject$2(target)) {\n      return overwrite ? clone$1(source) : target;\n    }\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        var targetProp = target[key];\n        var sourceProp = source[key];\n\n        if (isObject$2(sourceProp) && isObject$2(targetProp) && !isArray$2(sourceProp) && !isArray$2(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n          // merge\n          merge(targetProp, sourceProp, overwrite);\n        } else if (overwrite || !(key in target)) {\n          // overwritetrue\n          // NOTE target[key] \n          target[key] = clone$1(source[key]);\n        }\n      }\n    }\n\n    return target;\n  }\n  /**\n   * @param {Array} targetAndSources The first item is target, and the rests are source.\n   * @param {boolean} [overwrite=false]\n   * @return {*} target\n   */\n\n\n  function mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n      result = merge(result, targetAndSources[i], overwrite);\n    }\n\n    return result;\n  }\n  /**\n   * @param {*} target\n   * @param {*} source\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function extend$2(target, source) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n  /**\n   * @param {*} target\n   * @param {*} source\n   * @param {boolean} [overlay=false]\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function defaults(target, source, overlay) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  var createCanvas = function () {\n    return methods.createCanvas();\n  };\n\n  methods.createCanvas = function () {\n    return document.createElement('canvas');\n  }; // FIXME\n\n\n  var _ctx;\n\n  function getContext() {\n    if (!_ctx) {\n      // Use util.createCanvas instead of createCanvas\n      // because createCanvas may be overwritten in different environment\n      _ctx = createCanvas().getContext('2d');\n    }\n\n    return _ctx;\n  }\n  /**\n   * index\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function indexOf$1(array, value) {\n    if (array) {\n      if (array.indexOf) {\n        return array.indexOf(value);\n      }\n\n      for (var i = 0, len = array.length; i < len; i++) {\n        if (array[i] === value) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * \n   *\n   * @memberOf module:zrender/core/util\n   * @param {Function} clazz \n   * @param {Function} baseClazz \n   */\n\n\n  function inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n\n    function F() {}\n\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n\n    for (var prop in clazzPrototype) {\n      if (clazzPrototype.hasOwnProperty(prop)) {\n        clazz.prototype[prop] = clazzPrototype[prop];\n      }\n    }\n\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Object|Function} target\n   * @param {Object|Function} sorce\n   * @param {boolean} overlay\n   */\n\n\n  function mixin(target, source, overlay) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n    defaults(target, source, overlay);\n  }\n  /**\n   * Consider typed array.\n   * @param {Array|TypedArray} data\n   */\n\n\n  function isArrayLike(data) {\n    if (!data) {\n      return;\n    }\n\n    if (typeof data === 'string') {\n      return false;\n    }\n\n    return typeof data.length === 'number';\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Object|Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   */\n\n\n  function each(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.forEach && obj.forEach === nativeForEach) {\n      obj.forEach(cb, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, len = obj.length; i < len; i++) {\n        cb.call(context, obj[i], i, obj);\n      }\n    } else {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          cb.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function map(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.map && obj.map === nativeMap) {\n      return obj.map(cb, context);\n    } else {\n      var result = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        result.push(cb.call(context, obj[i], i, obj));\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {Object} [memo]\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function reduce(obj, cb, memo, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.reduce && obj.reduce === nativeReduce) {\n      return obj.reduce(cb, memo, context);\n    } else {\n      for (var i = 0, len = obj.length; i < len; i++) {\n        memo = cb.call(context, memo, obj[i], i, obj);\n      }\n\n      return memo;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function filter(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.filter && obj.filter === nativeFilter) {\n      return obj.filter(cb, context);\n    } else {\n      var result = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (cb.call(context, obj[i], i, obj)) {\n          result.push(obj[i]);\n        }\n      }\n\n      return result;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {*}\n   */\n\n\n  function find(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        return obj[i];\n      }\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Function} func\n   * @param {*} context\n   * @return {Function}\n   */\n\n\n  function bind$1(func, context) {\n    var args = nativeSlice.call(arguments, 2);\n    return function () {\n      return func.apply(context, args.concat(nativeSlice.call(arguments)));\n    };\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Function} func\n   * @return {Function}\n   */\n\n\n  function curry(func) {\n    var args = nativeSlice.call(arguments, 1);\n    return function () {\n      return func.apply(this, args.concat(nativeSlice.call(arguments)));\n    };\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isArray$2(value) {\n    return objToString.call(value) === '[object Array]';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isFunction$1(value) {\n    return typeof value === 'function';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isString$1(value) {\n    return objToString.call(value) === '[object String]';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isObject$2(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return type === 'function' || !!value && type === 'object';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isTypedArray(value) {\n    return !!TYPED_ARRAY[objToString.call(value)];\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isDom(value) {\n    return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n  }\n  /**\n   * Whether is exactly NaN. Notice isNaN('a') returns true.\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function eqNaN(value) {\n    /* eslint-disable-next-line no-self-compare */\n    return value !== value;\n  }\n  /**\n   * If value1 is not null, then return value1, otherwise judget rest of values.\n   * Low performance.\n   * @memberOf module:zrender/core/util\n   * @return {*} Final value\n   */\n\n\n  function retrieve(values) {\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      if (arguments[i] != null) {\n        return arguments[i];\n      }\n    }\n  }\n\n  function retrieve2(value0, value1) {\n    return value0 != null ? value0 : value1;\n  }\n\n  function retrieve3(value0, value1, value2) {\n    return value0 != null ? value0 : value1 != null ? value1 : value2;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Array} arr\n   * @param {number} startIndex\n   * @param {number} endIndex\n   * @return {Array}\n   */\n\n\n  function slice() {\n    return Function.call.apply(nativeSlice, arguments);\n  }\n  /**\n   * Normalize css liked array configuration\n   * e.g.\n   *  3 => [3, 3, 3, 3]\n   *  [4, 2] => [4, 2, 4, 2]\n   *  [4, 3, 2] => [4, 3, 2, 3]\n   * @param {number|Array.<number>} val\n   * @return {Array.<number>}\n   */\n\n\n  function normalizeCssArray(val) {\n    if (typeof val === 'number') {\n      return [val, val, val, val];\n    }\n\n    var len = val.length;\n\n    if (len === 2) {\n      // vertical | horizontal\n      return [val[0], val[1], val[0], val[1]];\n    } else if (len === 3) {\n      // top | horizontal | bottom\n      return [val[0], val[1], val[2], val[1]];\n    }\n\n    return val;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {boolean} condition\n   * @param {string} message\n   */\n\n\n  function assert(condition, message) {\n    if (!condition) {\n      throw new Error(message);\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {string} str string to be trimed\n   * @return {string} trimed string\n   */\n\n\n  function trim$1(str) {\n    if (str == null) {\n      return null;\n    } else if (typeof str.trim === 'function') {\n      return str.trim();\n    } else {\n      return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n  }\n\n  var primitiveKey = '__ec_primitive__';\n  /**\n   * Set an object as primitive to be ignored traversing children in clone or merge\n   */\n\n  function setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n  }\n\n  function isPrimitive(obj) {\n    return obj[primitiveKey];\n  }\n  /**\n   * @constructor\n   * @param {Object} obj Only apply `ownProperty`.\n   */\n\n\n  function HashMap(obj) {\n    var isArr = isArray$2(obj); // Key should not be set on this, otherwise\n    // methods get/set/... may be overrided.\n\n    this.data = {};\n    var thisMap = this;\n    obj instanceof HashMap ? obj.each(visit) : obj && each(obj, visit);\n\n    function visit(value, key) {\n      isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n    }\n  }\n\n  HashMap.prototype = {\n    constructor: HashMap,\n    // Do not provide `has` method to avoid defining what is `has`.\n    // (We usually treat `null` and `undefined` as the same, different\n    // from ES6 Map).\n    get: function (key) {\n      return this.data.hasOwnProperty(key) ? this.data[key] : null;\n    },\n    set: function (key, value) {\n      // Comparing with invocation chaining, `return value` is more commonly\n      // used in this case: `var someVal = map.set('a', genVal());`\n      return this.data[key] = value;\n    },\n    // Although util.each can be performed on this hashMap directly, user\n    // should not use the exposed keys, who are prefixed.\n    each: function (cb, context) {\n      context !== void 0 && (cb = bind$1(cb, context));\n      /* eslint-disable guard-for-in */\n\n      for (var key in this.data) {\n        this.data.hasOwnProperty(key) && cb(this.data[key], key);\n      }\n      /* eslint-enable guard-for-in */\n\n    },\n    // Do not use this method if performance sensitive.\n    removeKey: function (key) {\n      delete this.data[key];\n    }\n  };\n\n  function createHashMap(obj) {\n    return new HashMap(obj);\n  }\n\n  function concatArray(a, b) {\n    var newArray = new a.constructor(a.length + b.length);\n\n    for (var i = 0; i < a.length; i++) {\n      newArray[i] = a[i];\n    }\n\n    var offset = a.length;\n\n    for (i = 0; i < b.length; i++) {\n      newArray[i + offset] = b[i];\n    }\n\n    return newArray;\n  }\n\n  function noop$1() {}\n\n  var $override_1 = $override;\n  var clone_1 = clone$1;\n  var merge_1 = merge;\n  var mergeAll_1 = mergeAll;\n  var extend_1 = extend$2;\n  var defaults_1 = defaults;\n  var createCanvas_1 = createCanvas;\n  var getContext_1 = getContext;\n  var indexOf_1 = indexOf$1;\n  var inherits_1 = inherits;\n  var mixin_1 = mixin;\n  var isArrayLike_1 = isArrayLike;\n  var each_1 = each;\n  var map_1 = map;\n  var reduce_1 = reduce;\n  var filter_1 = filter;\n  var find_1 = find;\n  var bind_1 = bind$1;\n  var curry_1 = curry;\n  var isArray_1 = isArray$2;\n  var isFunction_1 = isFunction$1;\n  var isString_1 = isString$1;\n  var isObject_1 = isObject$2;\n  var isBuiltInObject_1 = isBuiltInObject;\n  var isTypedArray_1 = isTypedArray;\n  var isDom_1 = isDom;\n  var eqNaN_1 = eqNaN;\n  var retrieve_1 = retrieve;\n  var retrieve2_1 = retrieve2;\n  var retrieve3_1 = retrieve3;\n  var slice_1 = slice;\n  var normalizeCssArray_1 = normalizeCssArray;\n  var assert_1 = assert;\n  var trim_1 = trim$1;\n  var setAsPrimitive_1 = setAsPrimitive;\n  var isPrimitive_1 = isPrimitive;\n  var createHashMap_1 = createHashMap;\n  var concatArray_1 = concatArray;\n  var noop_1 = noop$1;\n\n  var util = {\n  \t$override: $override_1,\n  \tclone: clone_1,\n  \tmerge: merge_1,\n  \tmergeAll: mergeAll_1,\n  \textend: extend_1,\n  \tdefaults: defaults_1,\n  \tcreateCanvas: createCanvas_1,\n  \tgetContext: getContext_1,\n  \tindexOf: indexOf_1,\n  \tinherits: inherits_1,\n  \tmixin: mixin_1,\n  \tisArrayLike: isArrayLike_1,\n  \teach: each_1,\n  \tmap: map_1,\n  \treduce: reduce_1,\n  \tfilter: filter_1,\n  \tfind: find_1,\n  \tbind: bind_1,\n  \tcurry: curry_1,\n  \tisArray: isArray_1,\n  \tisFunction: isFunction_1,\n  \tisString: isString_1,\n  \tisObject: isObject_1,\n  \tisBuiltInObject: isBuiltInObject_1,\n  \tisTypedArray: isTypedArray_1,\n  \tisDom: isDom_1,\n  \teqNaN: eqNaN_1,\n  \tretrieve: retrieve_1,\n  \tretrieve2: retrieve2_1,\n  \tretrieve3: retrieve3_1,\n  \tslice: slice_1,\n  \tnormalizeCssArray: normalizeCssArray_1,\n  \tassert: assert_1,\n  \ttrim: trim_1,\n  \tsetAsPrimitive: setAsPrimitive_1,\n  \tisPrimitive: isPrimitive_1,\n  \tcreateHashMap: createHashMap_1,\n  \tconcatArray: concatArray_1,\n  \tnoop: noop_1\n  };\n\n  /* global Float32Array */\n  var ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n  /**\n   * \n   * @param {number} [x=0]\n   * @param {number} [y=0]\n   * @return {Vector2}\n   */\n\n  function create(x, y) {\n    var out = new ArrayCtor(2);\n\n    if (x == null) {\n      x = 0;\n    }\n\n    if (y == null) {\n      y = 0;\n    }\n\n    out[0] = x;\n    out[1] = y;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @return {Vector2}\n   */\n\n\n  function copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v\n   * @return {Vector2}\n   */\n\n\n  function clone$2(v) {\n    var out = new ArrayCtor(2);\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {number} a\n   * @param {number} b\n   * @return {Vector2} \n   */\n\n\n  function set$3(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @param {number} a\n   */\n\n\n  function scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v\n   * @return {number}\n   */\n\n\n  function len(v) {\n    return Math.sqrt(lenSquare(v));\n  }\n\n  var length = len; // jshint ignore:line\n\n  /**\n   * \n   * @param {Vector2} v\n   * @return {number}\n   */\n\n  function lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n  }\n\n  var lengthSquare = lenSquare;\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n  function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n\n  function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @param {number} s\n   */\n\n\n  function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   */\n\n\n  function normalize$1(out, v) {\n    var d = len(v);\n\n    if (d === 0) {\n      out[0] = 0;\n      out[1] = 0;\n    } else {\n      out[0] = v[0] / d;\n      out[1] = v[1] / d;\n    }\n\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n\n  function distance(v1, v2) {\n    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n  }\n\n  var dist = distance;\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n  function distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n  }\n\n  var distSquare = distanceSquare;\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   */\n\n  function negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @param {number} t\n   */\n\n\n  function lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @param {Vector2} m\n   */\n\n\n  function applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n  }\n  /**\n   * \n   * @param  {Vector2} out\n   * @param  {Vector2} v1\n   * @param  {Vector2} v2\n   */\n\n\n  function min$3(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n  }\n  /**\n   * \n   * @param  {Vector2} out\n   * @param  {Vector2} v1\n   * @param  {Vector2} v2\n   */\n\n\n  function max$2(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n  }\n\n  var create_1 = create;\n  var copy_1 = copy;\n  var clone_1$1 = clone$2;\n  var set_1 = set$3;\n  var add_1 = add;\n  var scaleAndAdd_1 = scaleAndAdd;\n  var sub_1 = sub;\n  var len_1 = len;\n  var length_1 = length;\n  var lenSquare_1 = lenSquare;\n  var lengthSquare_1 = lengthSquare;\n  var mul_1 = mul;\n  var div_1 = div;\n  var dot_1 = dot;\n  var scale_1 = scale;\n  var normalize_1 = normalize$1;\n  var distance_1 = distance;\n  var dist_1 = dist;\n  var distanceSquare_1 = distanceSquare;\n  var distSquare_1 = distSquare;\n  var negate_1 = negate;\n  var lerp_1 = lerp;\n  var applyTransform_1 = applyTransform;\n  var min_1 = min$3;\n  var max_1 = max$2;\n\n  var vector = {\n  \tcreate: create_1,\n  \tcopy: copy_1,\n  \tclone: clone_1$1,\n  \tset: set_1,\n  \tadd: add_1,\n  \tscaleAndAdd: scaleAndAdd_1,\n  \tsub: sub_1,\n  \tlen: len_1,\n  \tlength: length_1,\n  \tlenSquare: lenSquare_1,\n  \tlengthSquare: lengthSquare_1,\n  \tmul: mul_1,\n  \tdiv: div_1,\n  \tdot: dot_1,\n  \tscale: scale_1,\n  \tnormalize: normalize_1,\n  \tdistance: distance_1,\n  \tdist: dist_1,\n  \tdistanceSquare: distanceSquare_1,\n  \tdistSquare: distSquare_1,\n  \tnegate: negate_1,\n  \tlerp: lerp_1,\n  \tapplyTransform: applyTransform_1,\n  \tmin: min_1,\n  \tmax: max_1\n  };\n\n  // TODO Draggable for group\n  // FIXME Draggable on element which has parent rotation or scale\n  function Draggable() {\n    this.on('mousedown', this._dragStart, this);\n    this.on('mousemove', this._drag, this);\n    this.on('mouseup', this._dragEnd, this); // `mosuemove` and `mouseup` can be continue to fire when dragging.\n    // See [Drag outside] in `Handler.js`. So we do not need to trigger\n    // `_dragEnd` when globalout. That would brings better user experience.\n    // this.on('globalout', this._dragEnd, this);\n    // this._dropTarget = null;\n    // this._draggingTarget = null;\n    // this._x = 0;\n    // this._y = 0;\n  }\n\n  Draggable.prototype = {\n    constructor: Draggable,\n    _dragStart: function (e) {\n      var draggingTarget = e.target; // Find if there is draggable in the ancestor\n\n      while (draggingTarget && !draggingTarget.draggable) {\n        draggingTarget = draggingTarget.parent;\n      }\n\n      if (draggingTarget) {\n        this._draggingTarget = draggingTarget;\n        draggingTarget.dragging = true;\n        this._x = e.offsetX;\n        this._y = e.offsetY;\n        this.dispatchToElement(param(draggingTarget, e), 'dragstart', e.event);\n      }\n    },\n    _drag: function (e) {\n      var draggingTarget = this._draggingTarget;\n\n      if (draggingTarget) {\n        var x = e.offsetX;\n        var y = e.offsetY;\n        var dx = x - this._x;\n        var dy = y - this._y;\n        this._x = x;\n        this._y = y;\n        draggingTarget.drift(dx, dy, e);\n        this.dispatchToElement(param(draggingTarget, e), 'drag', e.event);\n        var dropTarget = this.findHover(x, y, draggingTarget).target;\n        var lastDropTarget = this._dropTarget;\n        this._dropTarget = dropTarget;\n\n        if (draggingTarget !== dropTarget) {\n          if (lastDropTarget && dropTarget !== lastDropTarget) {\n            this.dispatchToElement(param(lastDropTarget, e), 'dragleave', e.event);\n          }\n\n          if (dropTarget && dropTarget !== lastDropTarget) {\n            this.dispatchToElement(param(dropTarget, e), 'dragenter', e.event);\n          }\n        }\n      }\n    },\n    _dragEnd: function (e) {\n      var draggingTarget = this._draggingTarget;\n\n      if (draggingTarget) {\n        draggingTarget.dragging = false;\n      }\n\n      this.dispatchToElement(param(draggingTarget, e), 'dragend', e.event);\n\n      if (this._dropTarget) {\n        this.dispatchToElement(param(this._dropTarget, e), 'drop', e.event);\n      }\n\n      this._draggingTarget = null;\n      this._dropTarget = null;\n    }\n  };\n\n  function param(target, e) {\n    return {\n      target: target,\n      topTarget: e && e.topTarget\n    };\n  }\n\n  var _default$2 = Draggable;\n  var Draggable_1 = _default$2;\n\n  /**\n   * Event Mixin\n   * @module zrender/mixin/Eventful\n   * @author Kener (@Kener-, kener.linfeng@gmail.com)\n   *         pissang (https://www.github.com/pissang)\n   */\n  var arrySlice = Array.prototype.slice;\n  /**\n   * Event dispatcher.\n   *\n   * @alias module:zrender/mixin/Eventful\n   * @constructor\n   * @param {Object} [eventProcessor] The object eventProcessor is the scope when\n   *        `eventProcessor.xxx` called.\n   * @param {Function} [eventProcessor.normalizeQuery]\n   *        param: {string|Object} Raw query.\n   *        return: {string|Object} Normalized query.\n   * @param {Function} [eventProcessor.filter] Event will be dispatched only\n   *        if it returns `true`.\n   *        param: {string} eventType\n   *        param: {string|Object} query\n   *        return: {boolean}\n   * @param {Function} [eventProcessor.afterTrigger] Called after all handlers called.\n   *        param: {string} eventType\n   */\n\n  var Eventful = function (eventProcessor) {\n    this._$handlers = {};\n    this._$eventProcessor = eventProcessor;\n  };\n\n  Eventful.prototype = {\n    constructor: Eventful,\n\n    /**\n     * The handler can only be triggered once, then removed.\n     *\n     * @param {string} event The event name.\n     * @param {string|Object} [query] Condition used on event filter.\n     * @param {Function} handler The event handler.\n     * @param {Object} context\n     */\n    one: function (event, query, handler, context) {\n      return on(this, event, query, handler, context, true);\n    },\n\n    /**\n     * Bind a handler.\n     *\n     * @param {string} event The event name.\n     * @param {string|Object} [query] Condition used on event filter.\n     * @param {Function} handler The event handler.\n     * @param {Object} [context]\n     */\n    on: function (event, query, handler, context) {\n      return on(this, event, query, handler, context, false);\n    },\n\n    /**\n     * Whether any handler has bound.\n     *\n     * @param  {string}  event\n     * @return {boolean}\n     */\n    isSilent: function (event) {\n      var _h = this._$handlers;\n      return !_h[event] || !_h[event].length;\n    },\n\n    /**\n     * Unbind a event.\n     *\n     * @param {string} [event] The event name.\n     *        If no `event` input, \"off\" all listeners.\n     * @param {Function} [handler] The event handler.\n     *        If no `handler` input, \"off\" all listeners of the `event`.\n     */\n    off: function (event, handler) {\n      var _h = this._$handlers;\n\n      if (!event) {\n        this._$handlers = {};\n        return this;\n      }\n\n      if (handler) {\n        if (_h[event]) {\n          var newList = [];\n\n          for (var i = 0, l = _h[event].length; i < l; i++) {\n            if (_h[event][i].h !== handler) {\n              newList.push(_h[event][i]);\n            }\n          }\n\n          _h[event] = newList;\n        }\n\n        if (_h[event] && _h[event].length === 0) {\n          delete _h[event];\n        }\n      } else {\n        delete _h[event];\n      }\n\n      return this;\n    },\n\n    /**\n     * Dispatch a event.\n     *\n     * @param {string} type The event name.\n     */\n    trigger: function (type) {\n      var _h = this._$handlers[type];\n      var eventProcessor = this._$eventProcessor;\n\n      if (_h) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 3) {\n          args = arrySlice.call(args, 1);\n        }\n\n        var len = _h.length;\n\n        for (var i = 0; i < len;) {\n          var hItem = _h[i];\n\n          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n            i++;\n            continue;\n          } // Optimize advise from backbone\n\n\n          switch (argLen) {\n            case 1:\n              hItem.h.call(hItem.ctx);\n              break;\n\n            case 2:\n              hItem.h.call(hItem.ctx, args[1]);\n              break;\n\n            case 3:\n              hItem.h.call(hItem.ctx, args[1], args[2]);\n              break;\n\n            default:\n              // have more than 2 given arguments\n              hItem.h.apply(hItem.ctx, args);\n              break;\n          }\n\n          if (hItem.one) {\n            _h.splice(i, 1);\n\n            len--;\n          } else {\n            i++;\n          }\n        }\n      }\n\n      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n      return this;\n    },\n\n    /**\n     * Dispatch a event with context, which is specified at the last parameter.\n     *\n     * @param {string} type The event name.\n     */\n    triggerWithContext: function (type) {\n      var _h = this._$handlers[type];\n      var eventProcessor = this._$eventProcessor;\n\n      if (_h) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 4) {\n          args = arrySlice.call(args, 1, args.length - 1);\n        }\n\n        var ctx = args[args.length - 1];\n        var len = _h.length;\n\n        for (var i = 0; i < len;) {\n          var hItem = _h[i];\n\n          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n            i++;\n            continue;\n          } // Optimize advise from backbone\n\n\n          switch (argLen) {\n            case 1:\n              hItem.h.call(ctx);\n              break;\n\n            case 2:\n              hItem.h.call(ctx, args[1]);\n              break;\n\n            case 3:\n              hItem.h.call(ctx, args[1], args[2]);\n              break;\n\n            default:\n              // have more than 2 given arguments\n              hItem.h.apply(ctx, args);\n              break;\n          }\n\n          if (hItem.one) {\n            _h.splice(i, 1);\n\n            len--;\n          } else {\n            i++;\n          }\n        }\n      }\n\n      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n      return this;\n    }\n  };\n\n  function normalizeQuery(host, query) {\n    var eventProcessor = host._$eventProcessor;\n\n    if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n      query = eventProcessor.normalizeQuery(query);\n    }\n\n    return query;\n  }\n\n  function on(eventful, event, query, handler, context, isOnce) {\n    var _h = eventful._$handlers;\n\n    if (typeof query === 'function') {\n      context = handler;\n      handler = query;\n      query = null;\n    }\n\n    if (!handler || !event) {\n      return eventful;\n    }\n\n    query = normalizeQuery(eventful, query);\n\n    if (!_h[event]) {\n      _h[event] = [];\n    }\n\n    for (var i = 0; i < _h[event].length; i++) {\n      if (_h[event][i].h === handler) {\n        return eventful;\n      }\n    }\n\n    var wrap = {\n      h: handler,\n      one: isOnce,\n      query: query,\n      ctx: context || eventful,\n      // FIXME\n      // Do not publish this feature util it is proved that it makes sense.\n      callAtLast: handler.zrEventfulCallAtLast\n    };\n    var lastIndex = _h[event].length - 1;\n    var lastWrap = _h[event][lastIndex];\n    lastWrap && lastWrap.callAtLast ? _h[event].splice(lastIndex, 0, wrap) : _h[event].push(wrap);\n    return eventful;\n  } // ----------------------\n  // The events in zrender\n  // ----------------------\n\n  /**\n   * @event module:zrender/mixin/Eventful#onclick\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseover\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseout\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousemove\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousewheel\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousedown\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseup\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondrag\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragstart\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragend\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragenter\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragleave\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragover\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondrop\n   * @type {Function}\n   * @default null\n   */\n\n\n  var _default$3 = Eventful;\n  var Eventful_1 = _default$3;\n\n  /**\n   * The algoritm is learnt from\n   * https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n   * And we made some optimization for matrix inversion.\n   * Other similar approaches:\n   * \"cv::getPerspectiveTransform\", \"Direct Linear Transformation\".\n   */\n  var LN2 = Math.log(2);\n\n  function determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n\n    if (detCache.hasOwnProperty(cacheKey)) {\n      return detCache[cacheKey];\n    }\n\n    if (rank === 1) {\n      // In this case the colMask must be like: `11101111`. We can find the place of `0`.\n      var colStart = Math.round(Math.log((1 << fullRank) - 1 & ~colMask) / LN2);\n      return rows[rowStart][colStart];\n    }\n\n    var subRowMask = rowMask | 1 << rowStart;\n    var subRowStart = rowStart + 1;\n\n    while (rowMask & 1 << subRowStart) {\n      subRowStart++;\n    }\n\n    var sum = 0;\n\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n      var colTag = 1 << j;\n\n      if (!(colTag & colMask)) {\n        sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j] // det(subMatrix(0, j))\n        * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n        colLocalIdx++;\n      }\n    }\n\n    detCache[cacheKey] = sum;\n    return sum;\n  }\n  /**\n   * Usage:\n   * ```js\n   * var transformer = buildTransformer(\n   *     [10, 44, 100, 44, 100, 300, 10, 300],\n   *     [50, 54, 130, 14, 140, 330, 14, 220]\n   * );\n   * var out = [];\n   * transformer && transformer([11, 33], out);\n   * ```\n   *\n   * Notice: `buildTransformer` may take more than 10ms in some Android device.\n   *\n   * @param {Array.<number>} src source four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n   * @param {Array.<number>} dest destination four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n   * @return {Function} transformer If fail, return null/undefined.\n   */\n\n\n  function buildTransformer(src, dest) {\n    var mA = [[src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]], [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]], [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]], [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]], [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]], [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]], [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]], [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n\n    if (det === 0) {\n      // can not make transformer when and only when\n      // any three of the markers are collinear.\n      return;\n    } // `invert(mA) * dest`, that is, `adj(mA) / det * dest`.\n\n\n    var vh = [];\n\n    for (var i = 0; i < 8; i++) {\n      for (var j = 0; j < 8; j++) {\n        vh[j] == null && (vh[j] = 0);\n        vh[j] += ((i + j) % 2 ? -1 : 1) * // det(subMatrix(i, j))\n        determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache) / det * dest[i];\n      }\n    }\n\n    return function (out, srcPointX, srcPointY) {\n      var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n      out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n      out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n  }\n\n  var buildTransformer_1 = buildTransformer;\n\n  var fourPointsTransform = {\n  \tbuildTransformer: buildTransformer_1\n  };\n\n  var buildTransformer$1 = fourPointsTransform.buildTransformer;\n  var EVENT_SAVED_PROP = '___zrEVENTSAVED';\n  var _calcOut = [];\n  /**\n   * Transform \"local coord\" from `elFrom` to `elTarget`.\n   * \"local coord\": the coord based on the input `el`. The origin point is at\n   *     the position of \"left: 0; top: 0;\" in the `el`.\n   *\n   * Support when CSS transform is used.\n   *\n   * Having the `out` (that is, `[outX, outY]`), we can create an DOM element\n   * and set the CSS style as \"left: outX; top: outY;\" and append it to `elTarge`\n   * to locate the element.\n   *\n   * For example, this code below positions a child of `document.body` on the event\n   * point, no matter whether `body` has `margin`/`paddin`/`transfrom`/... :\n   * ```js\n   * transformLocalCoord(out, container, document.body, event.offsetX, event.offsetY);\n   * if (!eqNaN(out[0])) {\n   *     // Then locate the tip element on the event point.\n   *     var tipEl = document.createElement('div');\n   *     tipEl.style.cssText = 'position: absolute; left:' + out[0] + ';top:' + out[1] + ';';\n   *     document.body.appendChild(tipEl);\n   * }\n   * ```\n   *\n   * Notice: In some env this method is not supported. If called, `out` will be `[NaN, NaN]`.\n   *\n   * @param {Array.<number>} out [inX: number, inY: number] The output..\n   *        If can not transform, `out` will not be modified but return `false`.\n   * @param {HTMLElement} elFrom The `[inX, inY]` is based on elFrom.\n   * @param {HTMLElement} elTarget The `out` is based on elTarget.\n   * @param {number} inX\n   * @param {number} inY\n   * @return {boolean} Whether transform successfully.\n   */\n\n  function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true) && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n  }\n  /**\n   * Transform between a \"viewport coord\" and a \"local coord\".\n   * \"viewport coord\": the coord based on the left-top corner of the viewport\n   *     of the browser.\n   * \"local coord\": the coord based on the input `el`. The origin point is at\n   *     the position of \"left: 0; top: 0;\" in the `el`.\n   *\n   * Support the case when CSS transform is used on el.\n   *\n   * @param {Array.<number>} out [inX: number, inY: number] The output. If `inverse: false`,\n   *        it represents \"local coord\", otherwise \"vireport coord\".\n   *        If can not transform, `out` will not be modified but return `false`.\n   * @param {HTMLElement} el The \"local coord\" is based on the `el`, see comment above.\n   * @param {number} inX If `inverse: false`,\n   *        it represents \"vireport coord\", otherwise \"local coord\".\n   * @param {number} inY If `inverse: false`,\n   *        it represents \"vireport coord\", otherwise \"local coord\".\n   * @param {boolean} [inverse=false]\n   *        `true`: from \"viewport coord\" to \"local coord\".\n   *        `false`: from \"local coord\" to \"viewport coord\".\n   * @return {boolean} Whether transform successfully.\n   */\n\n\n  function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env_1.domSupported && !isCanvasEl(el)) {\n      var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n      var markers = prepareCoordMarkers(el, saved);\n      var transformer = preparePointerTransformer(markers, saved, inverse);\n\n      if (transformer) {\n        transformer(out, inX, inY);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n\n    if (markers) {\n      return markers;\n    }\n\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n\n    for (var i = 0; i < 4; i++) {\n      var marker = document.createElement('div');\n      var stl = marker.style;\n      var idxLR = i % 2;\n      var idxTB = (i >> 1) % 2;\n      stl.cssText = ['position: absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'user-select: none', 'width:0', 'height:0', // 'width: 5px',\n      // 'height: 5px',\n      propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n      el.appendChild(marker);\n      markers.push(marker);\n    }\n\n    return markers;\n  }\n\n  function preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var oldCoordTheSame = true;\n    var srcCoords = [];\n    var destCoords = [];\n\n    for (var i = 0; i < 4; i++) {\n      var rect = markers[i].getBoundingClientRect();\n      var ii = 2 * i;\n      var x = rect.left;\n      var y = rect.top;\n      srcCoords.push(x, y);\n      oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n      destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    } // Cache to avoid time consuming of `buildTransformer`.\n\n\n    return oldCoordTheSame && transformer ? transformer : (saved.srcCoords = srcCoords, saved[transformerName] = inverse ? buildTransformer$1(destCoords, srcCoords) : buildTransformer$1(srcCoords, destCoords));\n  }\n\n  function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n  }\n\n  var transformLocalCoord_1 = transformLocalCoord;\n  var transformCoordWithViewport_1 = transformCoordWithViewport;\n  var isCanvasEl_1 = isCanvasEl;\n\n  var dom = {\n  \ttransformLocalCoord: transformLocalCoord_1,\n  \ttransformCoordWithViewport: transformCoordWithViewport_1,\n  \tisCanvasEl: isCanvasEl_1\n  };\n\n  var Dispatcher = Eventful_1;\n\n\n\n\n\n  var isCanvasEl$1 = dom.isCanvasEl;\n  var transformCoordWithViewport$1 = dom.transformCoordWithViewport;\n\n  /**\n   * Utilities for mouse or touch events.\n   */\n  var isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\n  var MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\n  var _calcOut$1 = [];\n  /**\n   * Get the `zrX` and `zrY`, which are relative to the top-left of\n   * the input `el`.\n   * CSS transform (2D & 3D) is supported.\n   *\n   * The strategy to fetch the coords:\n   * + If `calculate` is not set as `true`, users of this method should\n   * ensure that `el` is the same or the same size & location as `e.target`.\n   * Otherwise the result coords are probably not expected. Because we\n   * firstly try to get coords from e.offsetX/e.offsetY.\n   * + If `calculate` is set as `true`, the input `el` can be any element\n   * and we force to calculate the coords based on `el`.\n   * + The input `el` should be positionable (not position:static).\n   *\n   * The force `calculate` can be used in case like:\n   * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n   *\n   * @param {HTMLElement} el DOM element.\n   * @param {Event} e Mouse event or touch event.\n   * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n   * @param {boolean} [calculate=false] Whether to force calculate\n   *        the coordinates but not use ones provided by browser.\n   */\n\n  function clientToLocal(el, e, out, calculate) {\n    out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n    // to the padding edge of the target element. The only browser using this convention\n    // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n    // not support the properties.\n    // (see http://www.jacklmoore.com/notes/mouse-position/)\n    // In zr painter.dom, padding edge equals to border edge.\n\n    if (calculate || !env_1.canvasSupported) {\n      calculateZrXY(el, e, out);\n    } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n    // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n    // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n    // zoom-factor, overflow / opacity layers, transforms ...)\n    // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n    // <https://bugs.jquery.com/ticket/8523#comment:14>\n    // BTW3, In ff, offsetX/offsetY is always 0.\n    else if (env_1.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n      } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n      else if (e.offsetX != null) {\n          out.zrX = e.offsetX;\n          out.zrY = e.offsetY;\n        } // For some other device, e.g., IOS safari.\n        else {\n            calculateZrXY(el, e, out);\n          }\n\n    return out;\n  }\n\n  function calculateZrXY(el, e, out) {\n    // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n    if (env_1.domSupported && el.getBoundingClientRect) {\n      var ex = e.clientX;\n      var ey = e.clientY;\n\n      if (isCanvasEl$1(el)) {\n        // Original approach, which do not support CSS transform.\n        // marker can not be locationed in a canvas container\n        // (getBoundingClientRect is always 0). We do not support\n        // that input a pre-created canvas to zr while using css\n        // transform in iOS.\n        var box = el.getBoundingClientRect();\n        out.zrX = ex - box.left;\n        out.zrY = ey - box.top;\n        return;\n      } else {\n        if (transformCoordWithViewport$1(_calcOut$1, el, ex, ey)) {\n          out.zrX = _calcOut$1[0];\n          out.zrY = _calcOut$1[1];\n          return;\n        }\n      }\n    }\n\n    out.zrX = out.zrY = 0;\n  }\n  /**\n   * Find native event compat for legency IE.\n   * Should be called at the begining of a native event listener.\n   *\n   * @param {Event} [e] Mouse event or touch event or pointer event.\n   *        For lagency IE, we use `window.event` is used.\n   * @return {Event} The native event.\n   */\n\n\n  function getNativeEvent(e) {\n    return e || window.event;\n  }\n  /**\n   * Normalize the coordinates of the input event.\n   *\n   * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n   * the input `el`.\n   * Get `e.zrDelta` if using mouse wheel.\n   * Get `e.which`, see the comment inside this function.\n   *\n   * Do not calculate repeatly if `zrX` and `zrY` already exist.\n   *\n   * Notice: see comments in `clientToLocal`. check the relationship\n   * between the result coords and the parameters `el` and `calculate`.\n   *\n   * @param {HTMLElement} el DOM element.\n   * @param {Event} [e] See `getNativeEvent`.\n   * @param {boolean} [calculate=false] Whether to force calculate\n   *        the coordinates but not use ones provided by browser.\n   * @return {UIEvent} The normalized native UIEvent.\n   */\n\n\n  function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n\n    if (e.zrX != null) {\n      return e;\n    }\n\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n    if (!isTouch) {\n      clientToLocal(el, e, e, calculate);\n      e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n    } else {\n      var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n      touch && clientToLocal(el, touch, e, calculate);\n    } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n    // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n    // If e.which has been defined, it may be readonly,\n    // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n    var button = e.button;\n\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n      e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n    } // [Caution]: `e.which` from browser is not always reliable. For example,\n    // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n    // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n    // `mousedown (pointerdown)` is the same as Chrome does.\n\n\n    return e;\n  }\n  /**\n   * @param {HTMLElement} el\n   * @param {string} name\n   * @param {Function} handler\n   * @param {Object|boolean} opt If boolean, means `opt.capture`\n   * @param {boolean} [opt.capture=false]\n   * @param {boolean} [opt.passive=false]\n   */\n\n\n  function addEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n      // Reproduct the console warning:\n      // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n      // Consider marking event handler as 'passive' to make the page more responsive.\n      // Just set console log level: verbose in chrome dev tool.\n      // then the warning log will be printed when addEventListener called.\n      // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n      // We have not yet found a neat way to using passive. Because in zrender the dom event\n      // listener delegate all of the upper events of element. Some of those events need\n      // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n      // Before passive can be adopted, these issues should be considered:\n      // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n      // passive or not.\n      // (2) How to tread that some zrender event listener is passive, and some is not. If\n      // we use other way but not preventDefault of mousewheel and touchmove, browser\n      // compatibility should be handled.\n      // var opts = (env.passiveSupported && name === 'mousewheel')\n      //     ? {passive: true}\n      //     // By default, the third param of el.addEventListener is `capture: false`.\n      //     : void 0;\n      // el.addEventListener(name, handler /* , opts */);\n      el.addEventListener(name, handler, opt);\n    } else {\n      // For simplicity, do not implement `setCapture` for IE9-.\n      el.attachEvent('on' + name, handler);\n    }\n  }\n  /**\n   * Parameter are the same as `addEventListener`.\n   *\n   * Notice that if a listener is registered twice, one with capture and one without,\n   * remove each one separately. Removal of a capturing listener does not affect a\n   * non-capturing version of the same listener, and vice versa.\n   */\n\n\n  function removeEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n      el.removeEventListener(name, handler, opt);\n    } else {\n      el.detachEvent('on' + name, handler);\n    }\n  }\n  /**\n   * preventDefault and stopPropagation.\n   * Notice: do not use this method in zrender. It can only be\n   * used by upper applications if necessary.\n   *\n   * @param {Event} e A mouse or touch event.\n   */\n\n\n  var stop = isDomLevel2 ? function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n  } : function (e) {\n    e.returnValue = false;\n    e.cancelBubble = true;\n  };\n  /**\n   * This method only works for mouseup and mousedown. The functionality is restricted\n   * for fault tolerance, See the `e.which` compatibility above.\n   *\n   * @param {MouseEvent} e\n   * @return {boolean}\n   */\n\n  function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n  }\n  /**\n   * To be removed.\n   * @deprecated\n   */\n\n\n  function notLeftMouse(e) {\n    // If e.which is undefined, considered as left mouse event.\n    return e.which > 1;\n  } // For backward compatibility\n\n\n  var clientToLocal_1 = clientToLocal;\n  var getNativeEvent_1 = getNativeEvent;\n  var normalizeEvent_1 = normalizeEvent;\n  var addEventListener_1 = addEventListener;\n  var removeEventListener_1 = removeEventListener;\n  var stop_1 = stop;\n  var isMiddleOrRightButtonOnMouseUpDown_1 = isMiddleOrRightButtonOnMouseUpDown;\n  var notLeftMouse_1 = notLeftMouse;\n\n  var event = {\n  \tDispatcher: Dispatcher,\n  \tclientToLocal: clientToLocal_1,\n  \tgetNativeEvent: getNativeEvent_1,\n  \tnormalizeEvent: normalizeEvent_1,\n  \taddEventListener: addEventListener_1,\n  \tremoveEventListener: removeEventListener_1,\n  \tstop: stop_1,\n  \tisMiddleOrRightButtonOnMouseUpDown: isMiddleOrRightButtonOnMouseUpDown_1,\n  \tnotLeftMouse: notLeftMouse_1\n  };\n\n  /**\n   * Only implements needed gestures for mobile.\n   */\n  var GestureMgr = function () {\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n    this._track = [];\n  };\n\n  GestureMgr.prototype = {\n    constructor: GestureMgr,\n    recognize: function (event, target, root) {\n      this._doTrack(event, target, root);\n\n      return this._recognize(event);\n    },\n    clear: function () {\n      this._track.length = 0;\n      return this;\n    },\n    _doTrack: function (event$1, target, root) {\n      var touches = event$1.touches;\n\n      if (!touches) {\n        return;\n      }\n\n      var trackItem = {\n        points: [],\n        touches: [],\n        target: target,\n        event: event$1\n      };\n\n      for (var i = 0, len = touches.length; i < len; i++) {\n        var touch = touches[i];\n        var pos = event.clientToLocal(root, touch, {});\n        trackItem.points.push([pos.zrX, pos.zrY]);\n        trackItem.touches.push(touch);\n      }\n\n      this._track.push(trackItem);\n    },\n    _recognize: function (event) {\n      for (var eventName in recognizers) {\n        if (recognizers.hasOwnProperty(eventName)) {\n          var gestureInfo = recognizers[eventName](this._track, event);\n\n          if (gestureInfo) {\n            return gestureInfo;\n          }\n        }\n      }\n    }\n  };\n\n  function dist$1(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function center(pointPair) {\n    return [(pointPair[0][0] + pointPair[1][0]) / 2, (pointPair[0][1] + pointPair[1][1]) / 2];\n  }\n\n  var recognizers = {\n    pinch: function (track, event) {\n      var trackLen = track.length;\n\n      if (!trackLen) {\n        return;\n      }\n\n      var pinchEnd = (track[trackLen - 1] || {}).points;\n      var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n      if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {\n        var pinchScale = dist$1(pinchEnd) / dist$1(pinchPre);\n        !isFinite(pinchScale) && (pinchScale = 1);\n        event.pinchScale = pinchScale;\n        var pinchCenter = center(pinchEnd);\n        event.pinchX = pinchCenter[0];\n        event.pinchY = pinchCenter[1];\n        return {\n          type: 'pinch',\n          target: track[0].target,\n          event: event\n        };\n      }\n    } // Only pinch currently.\n\n  };\n  var _default$4 = GestureMgr;\n  var GestureMgr_1 = _default$4;\n\n  /**\n   * [The interface between `Handler` and `HandlerProxy`]:\n   *\n   * The default `HandlerProxy` only support the common standard web environment\n   * (e.g., standalone browser, headless browser, embed browser in mobild APP, ...).\n   * But `HandlerProxy` can be replaced to support more non-standard environment\n   * (e.g., mini app), or to support more feature that the default `HandlerProxy`\n   * not provided (like echarts-gl did).\n   * So the interface between `Handler` and `HandlerProxy` should be stable. Do not\n   * make break changes util inevitable. The interface include the public methods\n   * of `Handler` and the events listed in `handlerNames` below, by which `HandlerProxy`\n   * drives `Handler`.\n   */\n\n  /**\n   * [Drag outside]:\n   *\n   * That is, triggering `mousemove` and `mouseup` event when the pointer is out of the\n   * zrender area when dragging. That is important for the improvement of the user experience\n   * when dragging something near the boundary without being terminated unexpectedly.\n   *\n   * We originally consider to introduce new events like `pagemovemove` and `pagemouseup`\n   * to resolve this issue. But some drawbacks of it is described in\n   * https://github.com/ecomfe/zrender/pull/536#issuecomment-560286899\n   *\n   * Instead, we referenced the specifications:\n   * https://www.w3.org/TR/touch-events/#the-touchmove-event\n   * https://www.w3.org/TR/2014/WD-DOM-Level-3-Events-20140925/#event-type-mousemove\n   * where the the mousemove/touchmove can be continue to fire if the user began a drag\n   * operation and the pointer has left the boundary. (for the mouse event, browsers\n   * only do it on `document` and when the pointer has left the boundary of the browser.)\n   *\n   * So the default `HandlerProxy` supports this feature similarly: if it is in the dragging\n   * state (see `pointerCapture` in `HandlerProxy`), the `mousemove` and `mouseup` continue\n   * to fire until release the pointer. That is implemented by listen to those event on\n   * `document`.\n   * If we implement some other `HandlerProxy` only for touch device, that would be easier.\n   * The touch event support this feature by default.\n   *\n   * Note:\n   * There might be some cases that the mouse event can not be\n   * received on `document`. For example,\n   * (A) `useCapture` is not supported and some user defined event listeners on the ancestor\n   * of zr dom throw Error .\n   * (B) `useCapture` is not supported Some user defined event listeners on the ancestor of\n   * zr dom call `stopPropagation`.\n   * In these cases, the `mousemove` event might be keep triggered event\n   * if the mouse is released. We try to reduce the side-effect in those cases.\n   * That is, do nothing (especially, `findHover`) in those cases. See `isOutsideBoundary`.\n   *\n   * Note:\n   * If `HandlerProxy` listens to `document` with `useCapture`, `HandlerProxy` needs to\n   * make sure `stopPropagation` and `preventDefault` doing nothing if and only if the event\n   * target is not zrender dom. Becuase it is dangerous to enable users to call them in\n   * `document` capture phase to prevent the propagation to any listener of the webpage.\n   * But they are needed to work when the pointer inside the zrender dom.\n   */\n  var SILENT = 'silent';\n\n  function makeEventPacket(eveType, targetInfo, event) {\n    return {\n      type: eveType,\n      event: event,\n      // target can only be an element that is not silent.\n      target: targetInfo.target,\n      // topTarget can be a silent element.\n      topTarget: targetInfo.topTarget,\n      cancelBubble: false,\n      offsetX: event.zrX,\n      offsetY: event.zrY,\n      gestureEvent: event.gestureEvent,\n      pinchX: event.pinchX,\n      pinchY: event.pinchY,\n      pinchScale: event.pinchScale,\n      wheelDelta: event.zrDelta,\n      zrByTouch: event.zrByTouch,\n      which: event.which,\n      stop: stopEvent\n    };\n  }\n\n  function stopEvent() {\n    event.stop(this.event);\n  }\n\n  function EmptyProxy() {}\n\n  EmptyProxy.prototype.dispose = function () {};\n\n  var handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n  /**\n   * @alias module:zrender/Handler\n   * @constructor\n   * @extends module:zrender/mixin/Eventful\n   * @param {module:zrender/Storage} storage Storage instance.\n   * @param {module:zrender/Painter} painter Painter instance.\n   * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n   * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n   */\n\n  var Handler = function (storage, painter, proxy, painterRoot) {\n    Eventful_1.call(this);\n    this.storage = storage;\n    this.painter = painter;\n    this.painterRoot = painterRoot;\n    proxy = proxy || new EmptyProxy();\n    /**\n     * Proxy of event. can be Dom, WebGLSurface, etc.\n     */\n\n    this.proxy = null;\n    /**\n     * {target, topTarget, x, y}\n     * @private\n     * @type {Object}\n     */\n\n    this._hovered = {};\n    /**\n     * @private\n     * @type {Date}\n     */\n\n    this._lastTouchMoment;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._lastX;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._lastY;\n    /**\n     * @private\n     * @type {module:zrender/core/GestureMgr}\n     */\n\n    this._gestureMgr;\n    Draggable_1.call(this);\n    this.setHandlerProxy(proxy);\n  };\n\n  Handler.prototype = {\n    constructor: Handler,\n    setHandlerProxy: function (proxy) {\n      if (this.proxy) {\n        this.proxy.dispose();\n      }\n\n      if (proxy) {\n        util.each(handlerNames, function (name) {\n          proxy.on && proxy.on(name, this[name], this);\n        }, this); // Attach handler\n\n        proxy.handler = this;\n      }\n\n      this.proxy = proxy;\n    },\n    mousemove: function (event) {\n      var x = event.zrX;\n      var y = event.zrY;\n      var isOutside = isOutsideBoundary(this, x, y);\n      var lastHovered = this._hovered;\n      var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n      // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n      // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n      // See #6198.\n\n      if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n        lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n        lastHoveredTarget = lastHovered.target;\n      }\n\n      var hovered = this._hovered = isOutside ? {\n        x: x,\n        y: y\n      } : this.findHover(x, y);\n      var hoveredTarget = hovered.target;\n      var proxy = this.proxy;\n      proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n      if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n        this.dispatchToElement(lastHovered, 'mouseout', event);\n      } // Mouse moving on one element\n\n\n      this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n      if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n        this.dispatchToElement(hovered, 'mouseover', event);\n      }\n    },\n    mouseout: function (event) {\n      var eventControl = event.zrEventControl;\n      var zrIsToLocalDOM = event.zrIsToLocalDOM;\n\n      if (eventControl !== 'only_globalout') {\n        this.dispatchToElement(this._hovered, 'mouseout', event);\n      }\n\n      if (eventControl !== 'no_globalout') {\n        // FIXME: if the pointer moving from the extra doms to realy \"outside\",\n        // the `globalout` should have been triggered. But currently not.\n        !zrIsToLocalDOM && this.trigger('globalout', {\n          type: 'globalout',\n          event: event\n        });\n      }\n    },\n\n    /**\n     * Resize\n     */\n    resize: function (event) {\n      this._hovered = {};\n    },\n\n    /**\n     * Dispatch event\n     * @param {string} eventName\n     * @param {event=} eventArgs\n     */\n    dispatch: function (eventName, eventArgs) {\n      var handler = this[eventName];\n      handler && handler.call(this, eventArgs);\n    },\n\n    /**\n     * Dispose\n     */\n    dispose: function () {\n      this.proxy.dispose();\n      this.storage = this.proxy = this.painter = null;\n    },\n\n    /**\n     * cursor style\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n      var proxy = this.proxy;\n      proxy.setCursor && proxy.setCursor(cursorStyle);\n    },\n\n    /**\n     * \n     *\n     * @private\n     * @param {Object} targetInfo {target, topTarget} \n     * @param {string} eventName \n     * @param {Object} event \n     */\n    dispatchToElement: function (targetInfo, eventName, event) {\n      targetInfo = targetInfo || {};\n      var el = targetInfo.target;\n\n      if (el && el.silent) {\n        return;\n      }\n\n      var eventHandler = 'on' + eventName;\n      var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n      while (el) {\n        el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n        el.trigger(eventName, eventPacket);\n        el = el.parent;\n\n        if (eventPacket.cancelBubble) {\n          break;\n        }\n      }\n\n      if (!eventPacket.cancelBubble) {\n        //  zrender \n        this.trigger(eventName, eventPacket); // \n        //  click  dispose painter \n\n        this.painter && this.painter.eachOtherLayer(function (layer) {\n          if (typeof layer[eventHandler] === 'function') {\n            layer[eventHandler].call(layer, eventPacket);\n          }\n\n          if (layer.trigger) {\n            layer.trigger(eventName, eventPacket);\n          }\n        });\n      }\n    },\n\n    /**\n     * @private\n     * @param {number} x\n     * @param {number} y\n     * @param {module:zrender/graphic/Displayable} exclude\n     * @return {model:zrender/Element}\n     * @method\n     */\n    findHover: function (x, y, exclude) {\n      var list = this.storage.getDisplayList();\n      var out = {\n        x: x,\n        y: y\n      };\n\n      for (var i = list.length - 1; i >= 0; i--) {\n        var hoverCheckResult;\n\n        if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n        && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n          !out.topTarget && (out.topTarget = list[i]);\n\n          if (hoverCheckResult !== SILENT) {\n            out.target = list[i];\n            break;\n          }\n        }\n      }\n\n      return out;\n    },\n    processGesture: function (event, stage) {\n      if (!this._gestureMgr) {\n        this._gestureMgr = new GestureMgr_1();\n      }\n\n      var gestureMgr = this._gestureMgr;\n      stage === 'start' && gestureMgr.clear();\n      var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n      stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n      if (gestureInfo) {\n        var type = gestureInfo.type;\n        event.gestureEvent = type;\n        this.dispatchToElement({\n          target: gestureInfo.target\n        }, type, gestureInfo.event);\n      }\n    }\n  }; // Common handlers\n\n  util.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n      var x = event.zrX;\n      var y = event.zrY;\n      var isOutside = isOutsideBoundary(this, x, y);\n      var hovered;\n      var hoveredTarget;\n\n      if (name !== 'mouseup' || !isOutside) {\n        // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n        hovered = this.findHover(x, y);\n        hoveredTarget = hovered.target;\n      }\n\n      if (name === 'mousedown') {\n        this._downEl = hoveredTarget;\n        this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n        this._upEl = hoveredTarget;\n      } else if (name === 'mouseup') {\n        this._upEl = hoveredTarget;\n      } else if (name === 'click') {\n        if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n        // including the case that `mousedown` - `mousemove` - `mouseup`,\n        // which should be filtered, otherwise it will bring trouble to\n        // pan and zoom.\n        || !this._downPoint // Arbitrary value\n        || vector.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n          return;\n        }\n\n        this._downPoint = null;\n      }\n\n      this.dispatchToElement(hovered, name, event);\n    };\n  });\n\n  function isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n      var el = displayable;\n      var isSilent;\n\n      while (el) {\n        // If clipped by ancestor.\n        // FIXME: If clipPath has neither stroke nor fill,\n        // el.clipPath.contain(x, y) will always return false.\n        if (el.clipPath && !el.clipPath.contain(x, y)) {\n          return false;\n        }\n\n        if (el.silent) {\n          isSilent = true;\n        }\n\n        el = el.parent;\n      }\n\n      return isSilent ? SILENT : true;\n    }\n\n    return false;\n  }\n  /**\n   * See [Drag outside].\n   */\n\n\n  function isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n  }\n\n  util.mixin(Handler, Eventful_1);\n  util.mixin(Handler, Draggable_1);\n  var _default$5 = Handler;\n  var Handler_1 = _default$5;\n\n  /**\n   * 3x2\n   * @exports zrender/tool/matrix\n   */\n\n  /* global Float32Array */\n  var ArrayCtor$1 = typeof Float32Array === 'undefined' ? Array : Float32Array;\n  /**\n   * Create a identity matrix.\n   * @return {Float32Array|Array.<number>}\n   */\n\n  function create$1() {\n    var out = new ArrayCtor$1(6);\n    identity(out);\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   */\n\n\n  function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} m\n   */\n\n\n  function copy$1(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} m1\n   * @param {Float32Array|Array.<number>} m2\n   */\n\n\n  function mul$1(out, m1, m2) {\n    // Consider matrix.mul(m, m2, m);\n    // where out is the same as m2.\n    // So use temp variable to escape error.\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {Float32Array|Array.<number>} v\n   */\n\n\n  function translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {number} rad\n   */\n\n\n  function rotate(out, a, rad) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * atx + st * aty;\n    out[5] = ct * aty - st * atx;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {Float32Array|Array.<number>} v\n   */\n\n\n  function scale$1(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   */\n\n\n  function invert(out, a) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var det = aa * ad - ab * ac;\n\n    if (!det) {\n      return null;\n    }\n\n    det = 1.0 / det;\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n  }\n  /**\n   * Clone a new matrix.\n   * @param {Float32Array|Array.<number>} a\n   */\n\n\n  function clone$3(a) {\n    var b = create$1();\n    copy$1(b, a);\n    return b;\n  }\n\n  var create_1$1 = create$1;\n  var identity_1 = identity;\n  var copy_1$1 = copy$1;\n  var mul_1$1 = mul$1;\n  var translate_1 = translate;\n  var rotate_1 = rotate;\n  var scale_1$1 = scale$1;\n  var invert_1 = invert;\n  var clone_1$2 = clone$3;\n\n  var matrix = {\n  \tcreate: create_1$1,\n  \tidentity: identity_1,\n  \tcopy: copy_1$1,\n  \tmul: mul_1$1,\n  \ttranslate: translate_1,\n  \trotate: rotate_1,\n  \tscale: scale_1$1,\n  \tinvert: invert_1,\n  \tclone: clone_1$2\n  };\n\n  /**\n   * \n   * @module zrender/mixin/Transformable\n   * @author pissang (https://www.github.com/pissang)\n   */\n  var mIdentity = matrix.identity;\n  var EPSILON = 5e-5;\n\n  function isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n  }\n  /**\n   * @alias module:zrender/mixin/Transformable\n   * @constructor\n   */\n\n\n  var Transformable = function (opts) {\n    opts = opts || {}; // If there are no given position, rotation, scale\n\n    if (!opts.position) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default [0, 0]\n       */\n      this.position = [0, 0];\n    }\n\n    if (opts.rotation == null) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default 0\n       */\n      this.rotation = 0;\n    }\n\n    if (!opts.scale) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default [1, 1]\n       */\n      this.scale = [1, 1];\n    }\n    /**\n     * \n     * @type {Array.<number>}\n     * @default null\n     */\n\n\n    this.origin = this.origin || null;\n  };\n\n  var transformableProto = Transformable.prototype;\n  transformableProto.transform = null;\n  /**\n   * \n   * , position, rotation, scaletransformtransform\n   */\n\n  transformableProto.needLocalTransform = function () {\n    return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n  };\n\n  var scaleTmp = [];\n\n  transformableProto.updateTransform = function () {\n    var parent = this.parent;\n    var parentHasTransform = parent && parent.transform;\n    var needLocalTransform = this.needLocalTransform();\n    var m = this.transform;\n\n    if (!(needLocalTransform || parentHasTransform)) {\n      m && mIdentity(m);\n      return;\n    }\n\n    m = m || matrix.create();\n\n    if (needLocalTransform) {\n      this.getLocalTransform(m);\n    } else {\n      mIdentity(m);\n    } // \n\n\n    if (parentHasTransform) {\n      if (needLocalTransform) {\n        matrix.mul(m, parent.transform, m);\n      } else {\n        matrix.copy(m, parent.transform);\n      }\n    } // \n\n\n    this.transform = m;\n    var globalScaleRatio = this.globalScaleRatio;\n\n    if (globalScaleRatio != null && globalScaleRatio !== 1) {\n      this.getGlobalScale(scaleTmp);\n      var relX = scaleTmp[0] < 0 ? -1 : 1;\n      var relY = scaleTmp[1] < 0 ? -1 : 1;\n      var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n      var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n      m[0] *= sx;\n      m[1] *= sx;\n      m[2] *= sy;\n      m[3] *= sy;\n    }\n\n    this.invTransform = this.invTransform || matrix.create();\n    matrix.invert(this.invTransform, m);\n  };\n\n  transformableProto.getLocalTransform = function (m) {\n    return Transformable.getLocalTransform(this, m);\n  };\n  /**\n   * transformcontext\n   * @param {CanvasRenderingContext2D} ctx\n   */\n\n\n  transformableProto.setTransform = function (ctx) {\n    var m = this.transform;\n    var dpr = ctx.dpr || 1;\n\n    if (m) {\n      ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    } else {\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n  };\n\n  transformableProto.restoreTransform = function (ctx) {\n    var dpr = ctx.dpr || 1;\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  };\n\n  var tmpTransform = [];\n  var originTransform = matrix.create();\n\n  transformableProto.setLocalTransform = function (m) {\n    if (!m) {\n      // TODO return or set identity?\n      return;\n    }\n\n    var sx = m[0] * m[0] + m[1] * m[1];\n    var sy = m[2] * m[2] + m[3] * m[3];\n    var position = this.position;\n    var scale = this.scale;\n\n    if (isNotAroundZero(sx - 1)) {\n      sx = Math.sqrt(sx);\n    }\n\n    if (isNotAroundZero(sy - 1)) {\n      sy = Math.sqrt(sy);\n    }\n\n    if (m[0] < 0) {\n      sx = -sx;\n    }\n\n    if (m[3] < 0) {\n      sy = -sy;\n    }\n\n    position[0] = m[4];\n    position[1] = m[5];\n    scale[0] = sx;\n    scale[1] = sy;\n    this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n  };\n  /**\n   * `transform``position`, `rotation`, `scale`\n   */\n\n\n  transformableProto.decomposeTransform = function () {\n    if (!this.transform) {\n      return;\n    }\n\n    var parent = this.parent;\n    var m = this.transform;\n\n    if (parent && parent.transform) {\n      // Get local transform and decompose them to position, scale, rotation\n      matrix.mul(tmpTransform, parent.invTransform, m);\n      m = tmpTransform;\n    }\n\n    var origin = this.origin;\n\n    if (origin && (origin[0] || origin[1])) {\n      originTransform[4] = origin[0];\n      originTransform[5] = origin[1];\n      matrix.mul(tmpTransform, m, originTransform);\n      tmpTransform[4] -= origin[0];\n      tmpTransform[5] -= origin[1];\n      m = tmpTransform;\n    }\n\n    this.setLocalTransform(m);\n  };\n  /**\n   * Get global scale\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.getGlobalScale = function (out) {\n    var m = this.transform;\n    out = out || [];\n\n    if (!m) {\n      out[0] = 1;\n      out[1] = 1;\n      return out;\n    }\n\n    out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n    out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n    if (m[0] < 0) {\n      out[0] = -out[0];\n    }\n\n    if (m[3] < 0) {\n      out[1] = -out[1];\n    }\n\n    return out;\n  };\n  /**\n   *  shape \n   * @method\n   * @param {number} x\n   * @param {number} y\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.transformCoordToLocal = function (x, y) {\n    var v2 = [x, y];\n    var invTransform = this.invTransform;\n\n    if (invTransform) {\n      vector.applyTransform(v2, v2, invTransform);\n    }\n\n    return v2;\n  };\n  /**\n   * \n   * @method\n   * @param {number} x\n   * @param {number} y\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.transformCoordToGlobal = function (x, y) {\n    var v2 = [x, y];\n    var transform = this.transform;\n\n    if (transform) {\n      vector.applyTransform(v2, v2, transform);\n    }\n\n    return v2;\n  };\n  /**\n   * @static\n   * @param {Object} target\n   * @param {Array.<number>} target.origin\n   * @param {number} target.rotation\n   * @param {Array.<number>} target.position\n   * @param {Array.<number>} [m]\n   */\n\n\n  Transformable.getLocalTransform = function (target, m) {\n    m = m || [];\n    mIdentity(m);\n    var origin = target.origin;\n    var scale = target.scale || [1, 1];\n    var rotation = target.rotation || 0;\n    var position = target.position || [0, 0];\n\n    if (origin) {\n      // Translate to origin\n      m[4] -= origin[0];\n      m[5] -= origin[1];\n    }\n\n    matrix.scale(m, m, scale);\n\n    if (rotation) {\n      matrix.rotate(m, m, rotation);\n    }\n\n    if (origin) {\n      // Translate back from origin\n      m[4] += origin[0];\n      m[5] += origin[1];\n    }\n\n    m[4] += position[0];\n    m[5] += position[1];\n    return m;\n  };\n\n  var _default$6 = Transformable;\n  var Transformable_1 = _default$6;\n\n  /**\n   *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n   * @see http://sole.github.io/tween.js/examples/03_graphs.html\n   * @exports zrender/animation/easing\n   */\n  var easing = {\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    linear: function (k) {\n      return k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticIn: function (k) {\n      return k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticOut: function (k) {\n      return k * (2 - k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    },\n    // t^3\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicIn: function (k) {\n      return k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicOut: function (k) {\n      return --k * k * k + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    },\n    // t^4\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticIn: function (k) {\n      return k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticOut: function (k) {\n      return 1 - --k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k;\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n    // t^5\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticIn: function (k) {\n      return k * k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticOut: function (k) {\n      return --k * k * k * k * k + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n    // sin(t)\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalIn: function (k) {\n      return 1 - Math.cos(k * Math.PI / 2);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalOut: function (k) {\n      return Math.sin(k * Math.PI / 2);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalInOut: function (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n    // 2^t\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialIn: function (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialOut: function (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialInOut: function (k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1);\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n    // sqrt(1-t^2)\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularIn: function (k) {\n      return 1 - Math.sqrt(1 - k * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularOut: function (k) {\n      return Math.sqrt(1 - --k * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticIn: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticOut: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticInOut: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      if ((k *= 2) < 1) {\n        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n      }\n\n      return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backIn: function (k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backOut: function (k) {\n      var s = 1.70158;\n      return --k * k * ((s + 1) * k + s) + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backInOut: function (k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceIn: function (k) {\n      return 1 - easing.bounceOut(1 - k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceOut: function (k) {\n      if (k < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n      }\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceInOut: function (k) {\n      if (k < 0.5) {\n        return easing.bounceIn(k * 2) * 0.5;\n      }\n\n      return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n  };\n  var _default$7 = easing;\n  var easing_1 = _default$7;\n\n  /**\n   * \n   * @config target onframe\n   * @config life(1000) \n   * @config delay(0) \n   * @config loop(true)\n   * @config gap(0) \n   * @config onframe\n   * @config easing(optional)\n   * @config ondestroy(optional)\n   * @config onrestart(optional)\n   *\n   * TODO pause\n   */\n  function Clip(options) {\n    this._target = options.target; // \n\n    this._life = options.life || 1000; // \n\n    this._delay = options.delay || 0; // \n    // this._startTime = new Date().getTime() + this._delay;// \n\n    this._initialized = false; // \n\n    this.loop = options.loop == null ? false : options.loop;\n    this.gap = options.gap || 0;\n    this.easing = options.easing || 'Linear';\n    this.onframe = options.onframe;\n    this.ondestroy = options.ondestroy;\n    this.onrestart = options.onrestart;\n    this._pausedTime = 0;\n    this._paused = false;\n  }\n\n  Clip.prototype = {\n    constructor: Clip,\n    step: function (globalTime, deltaTime) {\n      // Set startTime on first step, or _startTime may has milleseconds different between clips\n      // PENDING\n      if (!this._initialized) {\n        this._startTime = globalTime + this._delay;\n        this._initialized = true;\n      }\n\n      if (this._paused) {\n        this._pausedTime += deltaTime;\n        return;\n      }\n\n      var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // \n\n      if (percent < 0) {\n        return;\n      }\n\n      percent = Math.min(percent, 1);\n      var easing = this.easing;\n      var easingFunc = typeof easing === 'string' ? easing_1[easing] : easing;\n      var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n      this.fire('frame', schedule); // \n\n      if (percent === 1) {\n        if (this.loop) {\n          this.restart(globalTime); // \n          //  stage.update \n\n          return 'restart';\n        } // \n        // Animation.update\n\n\n        this._needsRemove = true;\n        return 'destroy';\n      }\n\n      return null;\n    },\n    restart: function (globalTime) {\n      var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n      this._startTime = globalTime - remainder + this.gap;\n      this._pausedTime = 0;\n      this._needsRemove = false;\n    },\n    fire: function (eventType, arg) {\n      eventType = 'on' + eventType;\n\n      if (this[eventType]) {\n        this[eventType](this._target, arg);\n      }\n    },\n    pause: function () {\n      this._paused = true;\n    },\n    resume: function () {\n      this._paused = false;\n    }\n  };\n  var _default$8 = Clip;\n  var Clip_1 = _default$8;\n\n  // Simple LRU cache use doubly linked list\n  // @module zrender/core/LRU\n\n  /**\n   * Simple double linked list. Compared with array, it has O(1) remove operation.\n   * @constructor\n   */\n  var LinkedList = function () {\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n    this.head = null;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.tail = null;\n    this._len = 0;\n  };\n\n  var linkedListProto = LinkedList.prototype;\n  /**\n   * Insert a new value at the tail\n   * @param  {} val\n   * @return {module:zrender/core/LRU~Entry}\n   */\n\n  linkedListProto.insert = function (val) {\n    var entry = new Entry(val);\n    this.insertEntry(entry);\n    return entry;\n  };\n  /**\n   * Insert an entry at the tail\n   * @param  {module:zrender/core/LRU~Entry} entry\n   */\n\n\n  linkedListProto.insertEntry = function (entry) {\n    if (!this.head) {\n      this.head = this.tail = entry;\n    } else {\n      this.tail.next = entry;\n      entry.prev = this.tail;\n      entry.next = null;\n      this.tail = entry;\n    }\n\n    this._len++;\n  };\n  /**\n   * Remove entry.\n   * @param  {module:zrender/core/LRU~Entry} entry\n   */\n\n\n  linkedListProto.remove = function (entry) {\n    var prev = entry.prev;\n    var next = entry.next;\n\n    if (prev) {\n      prev.next = next;\n    } else {\n      // Is head\n      this.head = next;\n    }\n\n    if (next) {\n      next.prev = prev;\n    } else {\n      // Is tail\n      this.tail = prev;\n    }\n\n    entry.next = entry.prev = null;\n    this._len--;\n  };\n  /**\n   * @return {number}\n   */\n\n\n  linkedListProto.len = function () {\n    return this._len;\n  };\n  /**\n   * Clear list\n   */\n\n\n  linkedListProto.clear = function () {\n    this.head = this.tail = null;\n    this._len = 0;\n  };\n  /**\n   * @constructor\n   * @param {} val\n   */\n\n\n  var Entry = function (val) {\n    /**\n     * @type {}\n     */\n    this.value = val;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.next;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.prev;\n  };\n  /**\n   * LRU Cache\n   * @constructor\n   * @alias module:zrender/core/LRU\n   */\n\n\n  var LRU = function (maxSize) {\n    this._list = new LinkedList();\n    this._map = {};\n    this._maxSize = maxSize || 10;\n    this._lastRemovedEntry = null;\n  };\n\n  var LRUProto = LRU.prototype;\n  /**\n   * @param  {string} key\n   * @param  {} value\n   * @return {} Removed value\n   */\n\n  LRUProto.put = function (key, value) {\n    var list = this._list;\n    var map = this._map;\n    var removed = null;\n\n    if (map[key] == null) {\n      var len = list.len(); // Reuse last removed entry\n\n      var entry = this._lastRemovedEntry;\n\n      if (len >= this._maxSize && len > 0) {\n        // Remove the least recently used\n        var leastUsedEntry = list.head;\n        list.remove(leastUsedEntry);\n        delete map[leastUsedEntry.key];\n        removed = leastUsedEntry.value;\n        this._lastRemovedEntry = leastUsedEntry;\n      }\n\n      if (entry) {\n        entry.value = value;\n      } else {\n        entry = new Entry(value);\n      }\n\n      entry.key = key;\n      list.insertEntry(entry);\n      map[key] = entry;\n    }\n\n    return removed;\n  };\n  /**\n   * @param  {string} key\n   * @return {}\n   */\n\n\n  LRUProto.get = function (key) {\n    var entry = this._map[key];\n    var list = this._list;\n\n    if (entry != null) {\n      // Put the latest used entry in the tail\n      if (entry !== list.tail) {\n        list.remove(entry);\n        list.insertEntry(entry);\n      }\n\n      return entry.value;\n    }\n  };\n  /**\n   * Clear the cache\n   */\n\n\n  LRUProto.clear = function () {\n    this._list.clear();\n\n    this._map = {};\n  };\n\n  var _default$9 = LRU;\n  var LRU_1 = _default$9;\n\n  var kCSSColorTable = {\n    'transparent': [0, 0, 0, 0],\n    'aliceblue': [240, 248, 255, 1],\n    'antiquewhite': [250, 235, 215, 1],\n    'aqua': [0, 255, 255, 1],\n    'aquamarine': [127, 255, 212, 1],\n    'azure': [240, 255, 255, 1],\n    'beige': [245, 245, 220, 1],\n    'bisque': [255, 228, 196, 1],\n    'black': [0, 0, 0, 1],\n    'blanchedalmond': [255, 235, 205, 1],\n    'blue': [0, 0, 255, 1],\n    'blueviolet': [138, 43, 226, 1],\n    'brown': [165, 42, 42, 1],\n    'burlywood': [222, 184, 135, 1],\n    'cadetblue': [95, 158, 160, 1],\n    'chartreuse': [127, 255, 0, 1],\n    'chocolate': [210, 105, 30, 1],\n    'coral': [255, 127, 80, 1],\n    'cornflowerblue': [100, 149, 237, 1],\n    'cornsilk': [255, 248, 220, 1],\n    'crimson': [220, 20, 60, 1],\n    'cyan': [0, 255, 255, 1],\n    'darkblue': [0, 0, 139, 1],\n    'darkcyan': [0, 139, 139, 1],\n    'darkgoldenrod': [184, 134, 11, 1],\n    'darkgray': [169, 169, 169, 1],\n    'darkgreen': [0, 100, 0, 1],\n    'darkgrey': [169, 169, 169, 1],\n    'darkkhaki': [189, 183, 107, 1],\n    'darkmagenta': [139, 0, 139, 1],\n    'darkolivegreen': [85, 107, 47, 1],\n    'darkorange': [255, 140, 0, 1],\n    'darkorchid': [153, 50, 204, 1],\n    'darkred': [139, 0, 0, 1],\n    'darksalmon': [233, 150, 122, 1],\n    'darkseagreen': [143, 188, 143, 1],\n    'darkslateblue': [72, 61, 139, 1],\n    'darkslategray': [47, 79, 79, 1],\n    'darkslategrey': [47, 79, 79, 1],\n    'darkturquoise': [0, 206, 209, 1],\n    'darkviolet': [148, 0, 211, 1],\n    'deeppink': [255, 20, 147, 1],\n    'deepskyblue': [0, 191, 255, 1],\n    'dimgray': [105, 105, 105, 1],\n    'dimgrey': [105, 105, 105, 1],\n    'dodgerblue': [30, 144, 255, 1],\n    'firebrick': [178, 34, 34, 1],\n    'floralwhite': [255, 250, 240, 1],\n    'forestgreen': [34, 139, 34, 1],\n    'fuchsia': [255, 0, 255, 1],\n    'gainsboro': [220, 220, 220, 1],\n    'ghostwhite': [248, 248, 255, 1],\n    'gold': [255, 215, 0, 1],\n    'goldenrod': [218, 165, 32, 1],\n    'gray': [128, 128, 128, 1],\n    'green': [0, 128, 0, 1],\n    'greenyellow': [173, 255, 47, 1],\n    'grey': [128, 128, 128, 1],\n    'honeydew': [240, 255, 240, 1],\n    'hotpink': [255, 105, 180, 1],\n    'indianred': [205, 92, 92, 1],\n    'indigo': [75, 0, 130, 1],\n    'ivory': [255, 255, 240, 1],\n    'khaki': [240, 230, 140, 1],\n    'lavender': [230, 230, 250, 1],\n    'lavenderblush': [255, 240, 245, 1],\n    'lawngreen': [124, 252, 0, 1],\n    'lemonchiffon': [255, 250, 205, 1],\n    'lightblue': [173, 216, 230, 1],\n    'lightcoral': [240, 128, 128, 1],\n    'lightcyan': [224, 255, 255, 1],\n    'lightgoldenrodyellow': [250, 250, 210, 1],\n    'lightgray': [211, 211, 211, 1],\n    'lightgreen': [144, 238, 144, 1],\n    'lightgrey': [211, 211, 211, 1],\n    'lightpink': [255, 182, 193, 1],\n    'lightsalmon': [255, 160, 122, 1],\n    'lightseagreen': [32, 178, 170, 1],\n    'lightskyblue': [135, 206, 250, 1],\n    'lightslategray': [119, 136, 153, 1],\n    'lightslategrey': [119, 136, 153, 1],\n    'lightsteelblue': [176, 196, 222, 1],\n    'lightyellow': [255, 255, 224, 1],\n    'lime': [0, 255, 0, 1],\n    'limegreen': [50, 205, 50, 1],\n    'linen': [250, 240, 230, 1],\n    'magenta': [255, 0, 255, 1],\n    'maroon': [128, 0, 0, 1],\n    'mediumaquamarine': [102, 205, 170, 1],\n    'mediumblue': [0, 0, 205, 1],\n    'mediumorchid': [186, 85, 211, 1],\n    'mediumpurple': [147, 112, 219, 1],\n    'mediumseagreen': [60, 179, 113, 1],\n    'mediumslateblue': [123, 104, 238, 1],\n    'mediumspringgreen': [0, 250, 154, 1],\n    'mediumturquoise': [72, 209, 204, 1],\n    'mediumvioletred': [199, 21, 133, 1],\n    'midnightblue': [25, 25, 112, 1],\n    'mintcream': [245, 255, 250, 1],\n    'mistyrose': [255, 228, 225, 1],\n    'moccasin': [255, 228, 181, 1],\n    'navajowhite': [255, 222, 173, 1],\n    'navy': [0, 0, 128, 1],\n    'oldlace': [253, 245, 230, 1],\n    'olive': [128, 128, 0, 1],\n    'olivedrab': [107, 142, 35, 1],\n    'orange': [255, 165, 0, 1],\n    'orangered': [255, 69, 0, 1],\n    'orchid': [218, 112, 214, 1],\n    'palegoldenrod': [238, 232, 170, 1],\n    'palegreen': [152, 251, 152, 1],\n    'paleturquoise': [175, 238, 238, 1],\n    'palevioletred': [219, 112, 147, 1],\n    'papayawhip': [255, 239, 213, 1],\n    'peachpuff': [255, 218, 185, 1],\n    'peru': [205, 133, 63, 1],\n    'pink': [255, 192, 203, 1],\n    'plum': [221, 160, 221, 1],\n    'powderblue': [176, 224, 230, 1],\n    'purple': [128, 0, 128, 1],\n    'red': [255, 0, 0, 1],\n    'rosybrown': [188, 143, 143, 1],\n    'royalblue': [65, 105, 225, 1],\n    'saddlebrown': [139, 69, 19, 1],\n    'salmon': [250, 128, 114, 1],\n    'sandybrown': [244, 164, 96, 1],\n    'seagreen': [46, 139, 87, 1],\n    'seashell': [255, 245, 238, 1],\n    'sienna': [160, 82, 45, 1],\n    'silver': [192, 192, 192, 1],\n    'skyblue': [135, 206, 235, 1],\n    'slateblue': [106, 90, 205, 1],\n    'slategray': [112, 128, 144, 1],\n    'slategrey': [112, 128, 144, 1],\n    'snow': [255, 250, 250, 1],\n    'springgreen': [0, 255, 127, 1],\n    'steelblue': [70, 130, 180, 1],\n    'tan': [210, 180, 140, 1],\n    'teal': [0, 128, 128, 1],\n    'thistle': [216, 191, 216, 1],\n    'tomato': [255, 99, 71, 1],\n    'turquoise': [64, 224, 208, 1],\n    'violet': [238, 130, 238, 1],\n    'wheat': [245, 222, 179, 1],\n    'white': [255, 255, 255, 1],\n    'whitesmoke': [245, 245, 245, 1],\n    'yellow': [255, 255, 0, 1],\n    'yellowgreen': [154, 205, 50, 1]\n  };\n\n  function clampCssByte(i) {\n    // Clamp to integer 0 .. 255.\n    i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n  }\n\n  function clampCssAngle(i) {\n    // Clamp to integer 0 .. 360.\n    i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n  }\n\n  function clampCssFloat(f) {\n    // Clamp to float 0.0 .. 1.0.\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n  }\n\n  function parseCssInt(str) {\n    // int or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n      return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n\n    return clampCssByte(parseInt(str, 10));\n  }\n\n  function parseCssFloat(str) {\n    // float or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n      return clampCssFloat(parseFloat(str) / 100);\n    }\n\n    return clampCssFloat(parseFloat(str));\n  }\n\n  function cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n      h += 1;\n    } else if (h > 1) {\n      h -= 1;\n    }\n\n    if (h * 6 < 1) {\n      return m1 + (m2 - m1) * h * 6;\n    }\n\n    if (h * 2 < 1) {\n      return m2;\n    }\n\n    if (h * 3 < 2) {\n      return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    }\n\n    return m1;\n  }\n\n  function lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n  }\n\n  function setRgba(out, r, g, b, a) {\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n  }\n\n  function copyRgba(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n  }\n\n  var colorCache = new LRU_1(20);\n  var lastRemovedArr = null;\n\n  function putToCache(colorStr, rgbaArr) {\n    // Reuse removed array\n    if (lastRemovedArr) {\n      copyRgba(lastRemovedArr, rgbaArr);\n    }\n\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n  }\n  /**\n   * @param {string} colorStr\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n      return;\n    }\n\n    rgbaArr = rgbaArr || [];\n    var cached = colorCache.get(colorStr);\n\n    if (cached) {\n      return copyRgba(rgbaArr, cached);\n    } // colorStr may be not string\n\n\n    colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n    var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n    if (str in kCSSColorTable) {\n      copyRgba(rgbaArr, kCSSColorTable[str]);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } // #abc and #abc123 syntax.\n\n\n    if (str.charAt(0) === '#') {\n      if (str.length === 4) {\n        var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n        if (!(iv >= 0 && iv <= 0xfff)) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return; // Covers NaN.\n        }\n\n        setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n      } else if (str.length === 7) {\n        var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n        if (!(iv >= 0 && iv <= 0xffffff)) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return; // Covers NaN.\n        }\n\n        setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n      }\n\n      return;\n    }\n\n    var op = str.indexOf('(');\n    var ep = str.indexOf(')');\n\n    if (op !== -1 && ep + 1 === str.length) {\n      var fname = str.substr(0, op);\n      var params = str.substr(op + 1, ep - (op + 1)).split(',');\n      var alpha = 1; // To allow case fallthrough.\n\n      switch (fname) {\n        case 'rgba':\n          if (params.length !== 4) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          alpha = parseCssFloat(params.pop());\n        // jshint ignore:line\n        // Fall through.\n\n        case 'rgb':\n          if (params.length !== 3) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        case 'hsla':\n          if (params.length !== 4) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          params[3] = parseCssFloat(params[3]);\n          hsla2rgba(params, rgbaArr);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        case 'hsl':\n          if (params.length !== 3) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          hsla2rgba(params, rgbaArr);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        default:\n          return;\n      }\n    }\n\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n  }\n  /**\n   * @param {Array.<number>} hsla\n   * @param {Array.<number>} rgba\n   * @return {Array.<number>} rgba\n   */\n\n\n  function hsla2rgba(hsla, rgba) {\n    var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n    // NOTE(deanm): According to the CSS spec s/l should only be\n    // percentages, but we don't bother and let float or percentage.\n\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n    rgba = rgba || [];\n    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n    if (hsla.length === 4) {\n      rgba[3] = hsla[3];\n    }\n\n    return rgba;\n  }\n  /**\n   * @param {Array.<number>} rgba\n   * @return {Array.<number>} hsla\n   */\n\n\n  function rgba2hsla(rgba) {\n    if (!rgba) {\n      return;\n    } // RGB from 0 to 255\n\n\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n    var vMin = Math.min(R, G, B); // Min. value of RGB\n\n    var vMax = Math.max(R, G, B); // Max. value of RGB\n\n    var delta = vMax - vMin; // Delta RGB value\n\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S; // HSL results from 0 to 1\n\n    if (delta === 0) {\n      H = 0;\n      S = 0;\n    } else {\n      if (L < 0.5) {\n        S = delta / (vMax + vMin);\n      } else {\n        S = delta / (2 - vMax - vMin);\n      }\n\n      var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n      var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n      var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n      if (R === vMax) {\n        H = deltaB - deltaG;\n      } else if (G === vMax) {\n        H = 1 / 3 + deltaR - deltaB;\n      } else if (B === vMax) {\n        H = 2 / 3 + deltaG - deltaR;\n      }\n\n      if (H < 0) {\n        H += 1;\n      }\n\n      if (H > 1) {\n        H -= 1;\n      }\n    }\n\n    var hsla = [H * 360, S, L];\n\n    if (rgba[3] != null) {\n      hsla.push(rgba[3]);\n    }\n\n    return hsla;\n  }\n  /**\n   * @param {string} color\n   * @param {number} level\n   * @return {string}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function lift(color, level) {\n    var colorArr = parse(color);\n\n    if (colorArr) {\n      for (var i = 0; i < 3; i++) {\n        if (level < 0) {\n          colorArr[i] = colorArr[i] * (1 - level) | 0;\n        } else {\n          colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n        }\n\n        if (colorArr[i] > 255) {\n          colorArr[i] = 255;\n        } else if (color[i] < 0) {\n          colorArr[i] = 0;\n        }\n      }\n\n      return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n  }\n  /**\n   * @param {string} color\n   * @return {string}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function toHex(color) {\n    var colorArr = parse(color);\n\n    if (colorArr) {\n      return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n    }\n  }\n  /**\n   * Map value to color. Faster than lerp methods because color is represented by rgba array.\n   * @param {number} normalizedValue A float between 0 and 1.\n   * @param {Array.<Array.<number>>} colors List of rgba color array\n   * @param {Array.<number>} [out] Mapped gba color array\n   * @return {Array.<number>} will be null/undefined if input illegal.\n   */\n\n\n  function fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n      return;\n    }\n\n    out = out || [];\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n    return out;\n  }\n  /**\n   * @deprecated\n   */\n\n\n  var fastMapToColor = fastLerp;\n  /**\n   * @param {number} normalizedValue A float between 0 and 1.\n   * @param {Array.<string>} colors Color list.\n   * @param {boolean=} fullOutput Default false.\n   * @return {(string|Object)} Result color. If fullOutput,\n   *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n   * @memberOf module:zrender/util/color\n   */\n\n  function lerp$1(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n      return;\n    }\n\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n    var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n    return fullOutput ? {\n      color: color,\n      leftIndex: leftIndex,\n      rightIndex: rightIndex,\n      value: value\n    } : color;\n  }\n  /**\n   * @deprecated\n   */\n\n\n  var mapToColor = lerp$1;\n  /**\n   * @param {string} color\n   * @param {number=} h 0 ~ 360, ignore when null.\n   * @param {number=} s 0 ~ 1, ignore when null.\n   * @param {number=} l 0 ~ 1, ignore when null.\n   * @return {string} Color string in rgba format.\n   * @memberOf module:zrender/util/color\n   */\n\n  function modifyHSL(color, h, s, l) {\n    color = parse(color);\n\n    if (color) {\n      color = rgba2hsla(color);\n      h != null && (color[0] = clampCssAngle(h));\n      s != null && (color[1] = parseCssFloat(s));\n      l != null && (color[2] = parseCssFloat(l));\n      return stringify(hsla2rgba(color), 'rgba');\n    }\n  }\n  /**\n   * @param {string} color\n   * @param {number=} alpha 0 ~ 1\n   * @return {string} Color string in rgba format.\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function modifyAlpha(color, alpha) {\n    color = parse(color);\n\n    if (color && alpha != null) {\n      color[3] = clampCssFloat(alpha);\n      return stringify(color, 'rgba');\n    }\n  }\n  /**\n   * @param {Array.<number>} arrColor like [12,33,44,0.4]\n   * @param {string} type 'rgba', 'hsva', ...\n   * @return {string} Result color. (If input illegal, return undefined).\n   */\n\n\n  function stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n      return;\n    }\n\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n      colorStr += ',' + arrColor[3];\n    }\n\n    return type + '(' + colorStr + ')';\n  }\n\n  var parse_1 = parse;\n  var lift_1 = lift;\n  var toHex_1 = toHex;\n  var fastLerp_1 = fastLerp;\n  var fastMapToColor_1 = fastMapToColor;\n  var lerp_1$1 = lerp$1;\n  var mapToColor_1 = mapToColor;\n  var modifyHSL_1 = modifyHSL;\n  var modifyAlpha_1 = modifyAlpha;\n  var stringify_1 = stringify;\n\n  var color = {\n  \tparse: parse_1,\n  \tlift: lift_1,\n  \ttoHex: toHex_1,\n  \tfastLerp: fastLerp_1,\n  \tfastMapToColor: fastMapToColor_1,\n  \tlerp: lerp_1$1,\n  \tmapToColor: mapToColor_1,\n  \tmodifyHSL: modifyHSL_1,\n  \tmodifyAlpha: modifyAlpha_1,\n  \tstringify: stringify_1\n  };\n\n  var isArrayLike$1 = util.isArrayLike;\n\n  /**\n   * @module echarts/animation/Animator\n   */\n  var arraySlice = Array.prototype.slice;\n\n  function defaultGetter(target, key) {\n    return target[key];\n  }\n\n  function defaultSetter(target, key, value) {\n    target[key] = value;\n  }\n  /**\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} percent\n   * @return {number}\n   */\n\n\n  function interpolateNumber(p0, p1, percent) {\n    return (p1 - p0) * percent + p0;\n  }\n  /**\n   * @param  {string} p0\n   * @param  {string} p1\n   * @param  {number} percent\n   * @return {string}\n   */\n\n\n  function interpolateString(p0, p1, percent) {\n    return percent > 0.5 ? p1 : p0;\n  }\n  /**\n   * @param  {Array} p0\n   * @param  {Array} p1\n   * @param  {number} percent\n   * @param  {Array} out\n   * @param  {number} arrDim\n   */\n\n\n  function interpolateArray(p0, p1, percent, out, arrDim) {\n    var len = p0.length;\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        out[i] = interpolateNumber(p0[i], p1[i], percent);\n      }\n    } else {\n      var len2 = len && p0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n        }\n      }\n    }\n  } // arr0 is source array, arr1 is target array.\n  // Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\n  function fillArr(arr0, arr1, arrDim) {\n    var arr0Len = arr0.length;\n    var arr1Len = arr1.length;\n\n    if (arr0Len !== arr1Len) {\n      // FIXME Not work for TypedArray\n      var isPreviousLarger = arr0Len > arr1Len;\n\n      if (isPreviousLarger) {\n        // Cut the previous\n        arr0.length = arr1Len;\n      } else {\n        // Fill the previous\n        for (var i = arr0Len; i < arr1Len; i++) {\n          arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n        }\n      }\n    } // Handling NaN value\n\n\n    var len2 = arr0[0] && arr0[0].length;\n\n    for (var i = 0; i < arr0.length; i++) {\n      if (arrDim === 1) {\n        if (isNaN(arr0[i])) {\n          arr0[i] = arr1[i];\n        }\n      } else {\n        for (var j = 0; j < len2; j++) {\n          if (isNaN(arr0[i][j])) {\n            arr0[i][j] = arr1[i][j];\n          }\n        }\n      }\n    }\n  }\n  /**\n   * @param  {Array} arr0\n   * @param  {Array} arr1\n   * @param  {number} arrDim\n   * @return {boolean}\n   */\n\n\n  function isArraySame(arr0, arr1, arrDim) {\n    if (arr0 === arr1) {\n      return true;\n    }\n\n    var len = arr0.length;\n\n    if (len !== arr1.length) {\n      return false;\n    }\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        if (arr0[i] !== arr1[i]) {\n          return false;\n        }\n      }\n    } else {\n      var len2 = arr0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          if (arr0[i][j] !== arr1[i][j]) {\n            return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n  /**\n   * Catmull Rom interpolate array\n   * @param  {Array} p0\n   * @param  {Array} p1\n   * @param  {Array} p2\n   * @param  {Array} p3\n   * @param  {number} t\n   * @param  {number} t2\n   * @param  {number} t3\n   * @param  {Array} out\n   * @param  {number} arrDim\n   */\n\n\n  function catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n    var len = p0.length;\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n      }\n    } else {\n      var len2 = p0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n        }\n      }\n    }\n  }\n  /**\n   * Catmull Rom interpolate number\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @param  {number} t2\n   * @param  {number} t3\n   * @return {number}\n   */\n\n\n  function catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n\n  function cloneValue(value) {\n    if (isArrayLike$1(value)) {\n      var len = value.length;\n\n      if (isArrayLike$1(value[0])) {\n        var ret = [];\n\n        for (var i = 0; i < len; i++) {\n          ret.push(arraySlice.call(value[i]));\n        }\n\n        return ret;\n      }\n\n      return arraySlice.call(value);\n    }\n\n    return value;\n  }\n\n  function rgba2String(rgba) {\n    rgba[0] = Math.floor(rgba[0]);\n    rgba[1] = Math.floor(rgba[1]);\n    rgba[2] = Math.floor(rgba[2]);\n    return 'rgba(' + rgba.join(',') + ')';\n  }\n\n  function getArrayDim(keyframes) {\n    var lastValue = keyframes[keyframes.length - 1].value;\n    return isArrayLike$1(lastValue && lastValue[0]) ? 2 : 1;\n  }\n\n  function createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n    var getter = animator._getter;\n    var setter = animator._setter;\n    var useSpline = easing === 'spline';\n    var trackLen = keyframes.length;\n\n    if (!trackLen) {\n      return;\n    } // Guess data type\n\n\n    var firstVal = keyframes[0].value;\n    var isValueArray = isArrayLike$1(firstVal);\n    var isValueColor = false;\n    var isValueString = false; // For vertices morphing\n\n    var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n    var trackMaxTime; // Sort keyframe as ascending\n\n    keyframes.sort(function (a, b) {\n      return a.time - b.time;\n    });\n    trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n    var kfPercents = []; // Value of each keyframe\n\n    var kfValues = [];\n    var prevValue = keyframes[0].value;\n    var isAllValueEqual = true;\n\n    for (var i = 0; i < trackLen; i++) {\n      kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n      var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n      if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n        isAllValueEqual = false;\n      }\n\n      prevValue = value; // Try converting a string to a color array\n\n      if (typeof value === 'string') {\n        var colorArray = color.parse(value);\n\n        if (colorArray) {\n          value = colorArray;\n          isValueColor = true;\n        } else {\n          isValueString = true;\n        }\n      }\n\n      kfValues.push(value);\n    }\n\n    if (!forceAnimate && isAllValueEqual) {\n      return;\n    }\n\n    var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n    for (var i = 0; i < trackLen - 1; i++) {\n      if (isValueArray) {\n        fillArr(kfValues[i], lastValue, arrDim);\n      } else {\n        if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n          kfValues[i] = lastValue;\n        }\n      }\n    }\n\n    isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n    // animation playback is sequency\n\n    var lastFrame = 0;\n    var lastFramePercent = 0;\n    var start;\n    var w;\n    var p0;\n    var p1;\n    var p2;\n    var p3;\n\n    if (isValueColor) {\n      var rgba = [0, 0, 0, 0];\n    }\n\n    var onframe = function (target, percent) {\n      // Find the range keyframes\n      // kf1-----kf2---------current--------kf3\n      // find kf2 and kf3 and do interpolation\n      var frame; // In the easing function like elasticOut, percent may less than 0\n\n      if (percent < 0) {\n        frame = 0;\n      } else if (percent < lastFramePercent) {\n        // Start from next key\n        // PENDING start from lastFrame ?\n        start = Math.min(lastFrame + 1, trackLen - 1);\n\n        for (frame = start; frame >= 0; frame--) {\n          if (kfPercents[frame] <= percent) {\n            break;\n          }\n        } // PENDING really need to do this ?\n\n\n        frame = Math.min(frame, trackLen - 2);\n      } else {\n        for (frame = lastFrame; frame < trackLen; frame++) {\n          if (kfPercents[frame] > percent) {\n            break;\n          }\n        }\n\n        frame = Math.min(frame - 1, trackLen - 2);\n      }\n\n      lastFrame = frame;\n      lastFramePercent = percent;\n      var range = kfPercents[frame + 1] - kfPercents[frame];\n\n      if (range === 0) {\n        return;\n      } else {\n        w = (percent - kfPercents[frame]) / range;\n      }\n\n      if (useSpline) {\n        p1 = kfValues[frame];\n        p0 = kfValues[frame === 0 ? frame : frame - 1];\n        p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n        p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n        if (isValueArray) {\n          catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n        } else {\n          var value;\n\n          if (isValueColor) {\n            value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n            value = rgba2String(rgba);\n          } else if (isValueString) {\n            // String is step(0.5)\n            return interpolateString(p1, p2, w);\n          } else {\n            value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n          }\n\n          setter(target, propName, value);\n        }\n      } else {\n        if (isValueArray) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n        } else {\n          var value;\n\n          if (isValueColor) {\n            interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n            value = rgba2String(rgba);\n          } else if (isValueString) {\n            // String is step(0.5)\n            return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n          } else {\n            value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n          }\n\n          setter(target, propName, value);\n        }\n      }\n    };\n\n    var clip = new Clip_1({\n      target: animator._target,\n      life: trackMaxTime,\n      loop: animator._loop,\n      delay: animator._delay,\n      onframe: onframe,\n      ondestroy: oneTrackDone\n    });\n\n    if (easing && easing !== 'spline') {\n      clip.easing = easing;\n    }\n\n    return clip;\n  }\n  /**\n   * @alias module:zrender/animation/Animator\n   * @constructor\n   * @param {Object} target\n   * @param {boolean} loop\n   * @param {Function} getter\n   * @param {Function} setter\n   */\n\n\n  var Animator = function (target, loop, getter, setter) {\n    this._tracks = {};\n    this._target = target;\n    this._loop = loop || false;\n    this._getter = getter || defaultGetter;\n    this._setter = setter || defaultSetter;\n    this._clipCount = 0;\n    this._delay = 0;\n    this._doneList = [];\n    this._onframeList = [];\n    this._clipList = [];\n  };\n\n  Animator.prototype = {\n    /**\n     * Set Animation keyframe\n     * @param  {number} time ms\n     * @param  {Object} props key-value\n     * @return {module:zrender/animation/Animator}\n     */\n    when: function (time\n    /* ms */\n    , props) {\n      var tracks = this._tracks;\n\n      for (var propName in props) {\n        if (!props.hasOwnProperty(propName)) {\n          continue;\n        }\n\n        if (!tracks[propName]) {\n          tracks[propName] = []; // Invalid value\n\n          var value = this._getter(this._target, propName);\n\n          if (value == null) {\n            // zrLog('Invalid property ' + propName);\n            continue;\n          } // If time is 0\n          //  Then props is given initialize value\n          // Else\n          //  Initialize value from current prop value\n\n\n          if (time !== 0) {\n            tracks[propName].push({\n              time: 0,\n              value: cloneValue(value)\n            });\n          }\n        }\n\n        tracks[propName].push({\n          time: time,\n          value: props[propName]\n        });\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} callback\n     * @return {module:zrender/animation/Animator}\n     */\n    during: function (callback) {\n      this._onframeList.push(callback);\n\n      return this;\n    },\n    pause: function () {\n      for (var i = 0; i < this._clipList.length; i++) {\n        this._clipList[i].pause();\n      }\n\n      this._paused = true;\n    },\n    resume: function () {\n      for (var i = 0; i < this._clipList.length; i++) {\n        this._clipList[i].resume();\n      }\n\n      this._paused = false;\n    },\n    isPaused: function () {\n      return !!this._paused;\n    },\n    _doneCallback: function () {\n      // Clear all tracks\n      this._tracks = {}; // Clear all clips\n\n      this._clipList.length = 0;\n      var doneList = this._doneList;\n      var len = doneList.length;\n\n      for (var i = 0; i < len; i++) {\n        doneList[i].call(this);\n      }\n    },\n\n    /**\n     * Start the animation\n     * @param  {string|Function} [easing]\n     *         {@link module:zrender/animation/easing}\n     * @param  {boolean} forceAnimate\n     * @return {module:zrender/animation/Animator}\n     */\n    start: function (easing, forceAnimate) {\n      var self = this;\n      var clipCount = 0;\n\n      var oneTrackDone = function () {\n        clipCount--;\n\n        if (!clipCount) {\n          self._doneCallback();\n        }\n      };\n\n      var lastClip;\n\n      for (var propName in this._tracks) {\n        if (!this._tracks.hasOwnProperty(propName)) {\n          continue;\n        }\n\n        var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n        if (clip) {\n          this._clipList.push(clip);\n\n          clipCount++; // If start after added to animation\n\n          if (this.animation) {\n            this.animation.addClip(clip);\n          }\n\n          lastClip = clip;\n        }\n      } // Add during callback on the last clip\n\n\n      if (lastClip) {\n        var oldOnFrame = lastClip.onframe;\n\n        lastClip.onframe = function (target, percent) {\n          oldOnFrame(target, percent);\n\n          for (var i = 0; i < self._onframeList.length; i++) {\n            self._onframeList[i](target, percent);\n          }\n        };\n      } // This optimization will help the case that in the upper application\n      // the view may be refreshed frequently, where animation will be\n      // called repeatly but nothing changed.\n\n\n      if (!clipCount) {\n        this._doneCallback();\n      }\n\n      return this;\n    },\n\n    /**\n     * Stop animation\n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stop: function (forwardToLast) {\n      var clipList = this._clipList;\n      var animation = this.animation;\n\n      for (var i = 0; i < clipList.length; i++) {\n        var clip = clipList[i];\n\n        if (forwardToLast) {\n          // Move to last frame before stop\n          clip.onframe(this._target, 1);\n        }\n\n        animation && animation.removeClip(clip);\n      }\n\n      clipList.length = 0;\n    },\n\n    /**\n     * Set when animation delay starts\n     * @param  {number} time ms\n     * @return {module:zrender/animation/Animator}\n     */\n    delay: function (time) {\n      this._delay = time;\n      return this;\n    },\n\n    /**\n     * Add callback for animation end\n     * @param  {Function} cb\n     * @return {module:zrender/animation/Animator}\n     */\n    done: function (cb) {\n      if (cb) {\n        this._doneList.push(cb);\n      }\n\n      return this;\n    },\n\n    /**\n     * @return {Array.<module:zrender/animation/Clip>}\n     */\n    getClips: function () {\n      return this._clipList;\n    }\n  };\n  var _default$a = Animator;\n  var Animator_1 = _default$a;\n\n  var dpr = 1; // If in browser environment\n\n  if (typeof window !== 'undefined') {\n    dpr = Math.max(window.devicePixelRatio || 1, 1);\n  }\n  /**\n   * config\n   * @exports zrender/config\n   * @author Kener (@Kener-, kener.linfeng@gmail.com)\n   */\n\n  /**\n   * Debug log mode:\n   * 0: Do nothing, for release.\n   * 1: console.error, for debug.\n   */\n\n\n  var debugMode = 0; // retina \n\n  var devicePixelRatio = dpr;\n  var debugMode_1 = debugMode;\n  var devicePixelRatio_1 = devicePixelRatio;\n\n  var config = {\n  \tdebugMode: debugMode_1,\n  \tdevicePixelRatio: devicePixelRatio_1\n  };\n\n  var logError = function () {};\n\n  var _default$b = logError;\n  var log = _default$b;\n\n  var isString$2 = util.isString;\n  var isFunction$2 = util.isFunction;\n  var isObject$3 = util.isObject;\n  var isArrayLike$2 = util.isArrayLike;\n  var indexOf$2 = util.indexOf;\n\n  /**\n   * @alias module:zrender/mixin/Animatable\n   * @constructor\n   */\n  var Animatable = function () {\n    /**\n     * @type {Array.<module:zrender/animation/Animator>}\n     * @readOnly\n     */\n    this.animators = [];\n  };\n\n  Animatable.prototype = {\n    constructor: Animatable,\n\n    /**\n     * \n     *\n     * @param {string} path The path to fetch value from object, like 'a.b.c'.\n     * @param {boolean} [loop] Whether to loop animation.\n     * @return {module:zrender/animation/Animator}\n     * @example:\n     *     el.animate('style', false)\n     *         .when(1000, {x: 10} )\n     *         .done(function(){ // Animation done })\n     *         .start()\n     */\n    animate: function (path, loop) {\n      var target;\n      var animatingShape = false;\n      var el = this;\n      var zr = this.__zr;\n\n      if (path) {\n        var pathSplitted = path.split('.');\n        var prop = el; // If animating shape\n\n        animatingShape = pathSplitted[0] === 'shape';\n\n        for (var i = 0, l = pathSplitted.length; i < l; i++) {\n          if (!prop) {\n            continue;\n          }\n\n          prop = prop[pathSplitted[i]];\n        }\n\n        if (prop) {\n          target = prop;\n        }\n      } else {\n        target = el;\n      }\n\n      if (!target) {\n        log('Property \"' + path + '\" is not existed in element ' + el.id);\n        return;\n      }\n\n      var animators = el.animators;\n      var animator = new Animator_1(target, loop);\n      animator.during(function (target) {\n        el.dirty(animatingShape);\n      }).done(function () {\n        // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n        animators.splice(indexOf$2(animators, animator), 1);\n      });\n      animators.push(animator); // If animate after added to the zrender\n\n      if (zr) {\n        zr.animation.addAnimator(animator);\n      }\n\n      return animator;\n    },\n\n    /**\n     * \n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stopAnimation: function (forwardToLast) {\n      var animators = this.animators;\n      var len = animators.length;\n\n      for (var i = 0; i < len; i++) {\n        animators[i].stop(forwardToLast);\n      }\n\n      animators.length = 0;\n      return this;\n    },\n\n    /**\n     * Caution: this method will stop previous animation.\n     * So do not use this method to one element twice before\n     * animation starts, unless you know what you are doing.\n     * @param {Object} target\n     * @param {number} [time=500] Time in ms\n     * @param {string} [easing='linear']\n     * @param {number} [delay=0]\n     * @param {Function} [callback]\n     * @param {Function} [forceAnimate] Prevent stop animation and callback\n     *        immediently when target values are the same as current values.\n     *\n     * @example\n     *  // Animate position\n     *  el.animateTo({\n     *      position: [10, 10]\n     *  }, function () { // done })\n     *\n     *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n     *  el.animateTo({\n     *      shape: {\n     *          width: 500\n     *      },\n     *      style: {\n     *          fill: 'red'\n     *      }\n     *      position: [10, 10]\n     *  }, 100, 100, 'cubicOut', function () { // done })\n     */\n    // TODO Return animation key\n    animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n      animateTo(this, target, time, delay, easing, callback, forceAnimate);\n    },\n\n    /**\n     * Animate from the target state to current state.\n     * The params and the return value are the same as `this.animateTo`.\n     */\n    animateFrom: function (target, time, delay, easing, callback, forceAnimate) {\n      animateTo(this, target, time, delay, easing, callback, forceAnimate, true);\n    }\n  };\n\n  function animateTo(animatable, target, time, delay, easing, callback, forceAnimate, reverse) {\n    // animateTo(target, time, easing, callback);\n    if (isString$2(delay)) {\n      callback = easing;\n      easing = delay;\n      delay = 0;\n    } // animateTo(target, time, delay, callback);\n    else if (isFunction$2(easing)) {\n        callback = easing;\n        easing = 'linear';\n        delay = 0;\n      } // animateTo(target, time, callback);\n      else if (isFunction$2(delay)) {\n          callback = delay;\n          delay = 0;\n        } // animateTo(target, callback)\n        else if (isFunction$2(time)) {\n            callback = time;\n            time = 500;\n          } // animateTo(target)\n          else if (!time) {\n              time = 500;\n            } // Stop all previous animations\n\n\n    animatable.stopAnimation();\n    animateToShallow(animatable, '', animatable, target, time, delay, reverse); // Animators may be removed immediately after start\n    // if there is nothing to animate\n\n    var animators = animatable.animators.slice();\n    var count = animators.length;\n\n    function done() {\n      count--;\n\n      if (!count) {\n        callback && callback();\n      }\n    } // No animators. This should be checked before animators[i].start(),\n    // because 'done' may be executed immediately if no need to animate.\n\n\n    if (!count) {\n      callback && callback();\n    } // Start after all animators created\n    // Incase any animator is done immediately when all animation properties are not changed\n\n\n    for (var i = 0; i < animators.length; i++) {\n      animators[i].done(done).start(easing, forceAnimate);\n    }\n  }\n  /**\n   * @param {string} path=''\n   * @param {Object} source=animatable\n   * @param {Object} target\n   * @param {number} [time=500]\n   * @param {number} [delay=0]\n   * @param {boolean} [reverse] If `true`, animate\n   *        from the `target` to current state.\n   *\n   * @example\n   *  // Animate position\n   *  el._animateToShallow({\n   *      position: [10, 10]\n   *  })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms\n   *  el._animateToShallow({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100)\n   */\n\n\n  function animateToShallow(animatable, path, source, target, time, delay, reverse) {\n    var objShallow = {};\n    var propertyCount = 0;\n\n    for (var name in target) {\n      if (!target.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (source[name] != null) {\n        if (isObject$3(target[name]) && !isArrayLike$2(target[name])) {\n          animateToShallow(animatable, path ? path + '.' + name : name, source[name], target[name], time, delay, reverse);\n        } else {\n          if (reverse) {\n            objShallow[name] = source[name];\n            setAttrByPath(animatable, path, name, target[name]);\n          } else {\n            objShallow[name] = target[name];\n          }\n\n          propertyCount++;\n        }\n      } else if (target[name] != null && !reverse) {\n        setAttrByPath(animatable, path, name, target[name]);\n      }\n    }\n\n    if (propertyCount > 0) {\n      animatable.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n    }\n  }\n\n  function setAttrByPath(el, path, name, value) {\n    // Attr directly if not has property\n    // FIXME, if some property not needed for element ?\n    if (!path) {\n      el.attr(name, value);\n    } else {\n      // Only support set shape or style\n      var props = {};\n      props[path] = {};\n      props[path][name] = value;\n      el.attr(props);\n    }\n  }\n\n  var _default$c = Animatable;\n  var Animatable_1 = _default$c;\n\n  /**\n   * @alias module:zrender/Element\n   * @constructor\n   * @extends {module:zrender/mixin/Animatable}\n   * @extends {module:zrender/mixin/Transformable}\n   * @extends {module:zrender/mixin/Eventful}\n   */\n  var Element = function (opts) {\n    // jshint ignore:line\n    Transformable_1.call(this, opts);\n    Eventful_1.call(this, opts);\n    Animatable_1.call(this, opts);\n    /**\n     * ID\n     * @type {string}\n     */\n\n    this.id = opts.id || guid();\n  };\n\n  Element.prototype = {\n    /**\n     * \n     * Element type\n     * @type {string}\n     */\n    type: 'element',\n\n    /**\n     * \n     * Element name\n     * @type {string}\n     */\n    name: '',\n\n    /**\n     * ZRender  element  zrender \n     * ZRender instance will be assigned when element is associated with zrender\n     * @name module:/zrender/Element#__zr\n     * @type {module:zrender/ZRender}\n     */\n    __zr: null,\n\n    /**\n     * true\n     * If ignore drawing and events of the element object\n     * @name module:/zrender/Element#ignore\n     * @type {boolean}\n     * @default false\n     */\n    ignore: false,\n\n    /**\n     * (shape) Group \n     * \n     * @type {module:zrender/graphic/Path}\n     * @see http://www.w3.org/TR/2dcontext/#clipping-region\n     * @readOnly\n     */\n    clipPath: null,\n\n    /**\n     *  Group\n     * @type {boolean}\n     */\n    isGroup: false,\n\n    /**\n     * Drift element\n     * @param  {number} dx dx on the global space\n     * @param  {number} dy dy on the global space\n     */\n    drift: function (dx, dy) {\n      switch (this.draggable) {\n        case 'horizontal':\n          dy = 0;\n          break;\n\n        case 'vertical':\n          dx = 0;\n          break;\n      }\n\n      var m = this.transform;\n\n      if (!m) {\n        m = this.transform = [1, 0, 0, 1, 0, 0];\n      }\n\n      m[4] += dx;\n      m[5] += dy;\n      this.decomposeTransform();\n      this.dirty(false);\n    },\n\n    /**\n     * Hook before update\n     */\n    beforeUpdate: function () {},\n\n    /**\n     * Hook after update\n     */\n    afterUpdate: function () {},\n\n    /**\n     * Update each frame\n     */\n    update: function () {\n      this.updateTransform();\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {},\n\n    /**\n     * @protected\n     */\n    attrKV: function (key, value) {\n      if (key === 'position' || key === 'scale' || key === 'origin') {\n        // Copy the array\n        if (value) {\n          var target = this[key];\n\n          if (!target) {\n            target = this[key] = [];\n          }\n\n          target[0] = value[0];\n          target[1] = value[1];\n        }\n      } else {\n        this[key] = value;\n      }\n    },\n\n    /**\n     * Hide the element\n     */\n    hide: function () {\n      this.ignore = true;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * Show the element\n     */\n    show: function () {\n      this.ignore = false;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * @param {string|Object} key\n     * @param {*} value\n     */\n    attr: function (key, value) {\n      if (typeof key === 'string') {\n        this.attrKV(key, value);\n      } else if (util.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            this.attrKV(name, key[name]);\n          }\n        }\n      }\n\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * @param {module:zrender/graphic/Path} clipPath\n     */\n    setClipPath: function (clipPath) {\n      var zr = this.__zr;\n\n      if (zr) {\n        clipPath.addSelfToZr(zr);\n      } // Remove previous clip path\n\n\n      if (this.clipPath && this.clipPath !== clipPath) {\n        this.removeClipPath();\n      }\n\n      this.clipPath = clipPath;\n      clipPath.__zr = zr;\n      clipPath.__clipTarget = this;\n      this.dirty(false);\n    },\n\n    /**\n     */\n    removeClipPath: function () {\n      var clipPath = this.clipPath;\n\n      if (clipPath) {\n        if (clipPath.__zr) {\n          clipPath.removeSelfFromZr(clipPath.__zr);\n        }\n\n        clipPath.__zr = null;\n        clipPath.__clipTarget = null;\n        this.clipPath = null;\n        this.dirty(false);\n      }\n    },\n\n    /**\n     * Add self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    addSelfToZr: function (zr) {\n      this.__zr = zr; // \n\n      var animators = this.animators;\n\n      if (animators) {\n        for (var i = 0; i < animators.length; i++) {\n          zr.animation.addAnimator(animators[i]);\n        }\n      }\n\n      if (this.clipPath) {\n        this.clipPath.addSelfToZr(zr);\n      }\n    },\n\n    /**\n     * Remove self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    removeSelfFromZr: function (zr) {\n      this.__zr = null; // \n\n      var animators = this.animators;\n\n      if (animators) {\n        for (var i = 0; i < animators.length; i++) {\n          zr.animation.removeAnimator(animators[i]);\n        }\n      }\n\n      if (this.clipPath) {\n        this.clipPath.removeSelfFromZr(zr);\n      }\n    }\n  };\n  util.mixin(Element, Animatable_1);\n  util.mixin(Element, Transformable_1);\n  util.mixin(Element, Eventful_1);\n  var _default$d = Element;\n  var Element_1 = _default$d;\n\n  /**\n   * @module echarts/core/BoundingRect\n   */\n  var v2ApplyTransform = vector.applyTransform;\n  var mathMin = Math.min;\n  var mathMax = Math.max;\n  /**\n   * @alias module:echarts/core/BoundingRect\n   */\n\n  function BoundingRect(x, y, width, height) {\n    if (width < 0) {\n      x = x + width;\n      width = -width;\n    }\n\n    if (height < 0) {\n      y = y + height;\n      height = -height;\n    }\n    /**\n     * @type {number}\n     */\n\n\n    this.x = x;\n    /**\n     * @type {number}\n     */\n\n    this.y = y;\n    /**\n     * @type {number}\n     */\n\n    this.width = width;\n    /**\n     * @type {number}\n     */\n\n    this.height = height;\n  }\n\n  BoundingRect.prototype = {\n    constructor: BoundingRect,\n\n    /**\n     * @param {module:echarts/core/BoundingRect} other\n     */\n    union: function (other) {\n      var x = mathMin(other.x, this.x);\n      var y = mathMin(other.y, this.y);\n      this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n      this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n      this.x = x;\n      this.y = y;\n    },\n\n    /**\n     * @param {Array.<number>} m\n     * @methods\n     */\n    applyTransform: function () {\n      var lt = [];\n      var rb = [];\n      var lb = [];\n      var rt = [];\n      return function (m) {\n        // In case usage like this\n        // el.getBoundingRect().applyTransform(el.transform)\n        // And element has no transform\n        if (!m) {\n          return;\n        }\n\n        lt[0] = lb[0] = this.x;\n        lt[1] = rt[1] = this.y;\n        rb[0] = rt[0] = this.x + this.width;\n        rb[1] = lb[1] = this.y + this.height;\n        v2ApplyTransform(lt, lt, m);\n        v2ApplyTransform(rb, rb, m);\n        v2ApplyTransform(lb, lb, m);\n        v2ApplyTransform(rt, rt, m);\n        this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n        this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n        var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n        var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n        this.width = maxX - this.x;\n        this.height = maxY - this.y;\n      };\n    }(),\n\n    /**\n     * Calculate matrix of transforming from self to target rect\n     * @param  {module:zrender/core/BoundingRect} b\n     * @return {Array.<number>}\n     */\n    calculateTransform: function (b) {\n      var a = this;\n      var sx = b.width / a.width;\n      var sy = b.height / a.height;\n      var m = matrix.create(); // \n\n      matrix.translate(m, m, [-a.x, -a.y]);\n      matrix.scale(m, m, [sx, sy]);\n      matrix.translate(m, m, [b.x, b.y]);\n      return m;\n    },\n\n    /**\n     * @param {(module:echarts/core/BoundingRect|Object)} b\n     * @return {boolean}\n     */\n    intersect: function (b) {\n      if (!b) {\n        return false;\n      }\n\n      if (!(b instanceof BoundingRect)) {\n        // Normalize negative width/height.\n        b = BoundingRect.create(b);\n      }\n\n      var a = this;\n      var ax0 = a.x;\n      var ax1 = a.x + a.width;\n      var ay0 = a.y;\n      var ay1 = a.y + a.height;\n      var bx0 = b.x;\n      var bx1 = b.x + b.width;\n      var by0 = b.y;\n      var by1 = b.y + b.height;\n      return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n    },\n    contain: function (x, y) {\n      var rect = this;\n      return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n    },\n\n    /**\n     * @return {module:echarts/core/BoundingRect}\n     */\n    clone: function () {\n      return new BoundingRect(this.x, this.y, this.width, this.height);\n    },\n\n    /**\n     * Copy from another rect\n     */\n    copy: function (other) {\n      this.x = other.x;\n      this.y = other.y;\n      this.width = other.width;\n      this.height = other.height;\n    },\n    plain: function () {\n      return {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height\n      };\n    }\n  };\n  /**\n   * @param {Object|module:zrender/core/BoundingRect} rect\n   * @param {number} rect.x\n   * @param {number} rect.y\n   * @param {number} rect.width\n   * @param {number} rect.height\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n  BoundingRect.create = function (rect) {\n    return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n  };\n\n  var _default$e = BoundingRect;\n  var BoundingRect_1 = _default$e;\n\n  /**\n   * GroupGroup\n   * @module zrender/graphic/Group\n   * @example\n   *     var Group = require('zrender/container/Group');\n   *     var Circle = require('zrender/graphic/shape/Circle');\n   *     var g = new Group();\n   *     g.position[0] = 100;\n   *     g.position[1] = 100;\n   *     g.add(new Circle({\n   *         style: {\n   *             x: 100,\n   *             y: 100,\n   *             r: 20,\n   *         }\n   *     }));\n   *     zr.add(g);\n   */\n\n  /**\n   * @alias module:zrender/graphic/Group\n   * @constructor\n   * @extends module:zrender/mixin/Transformable\n   * @extends module:zrender/mixin/Eventful\n   */\n  var Group = function (opts) {\n    opts = opts || {};\n    Element_1.call(this, opts);\n\n    for (var key in opts) {\n      if (opts.hasOwnProperty(key)) {\n        this[key] = opts[key];\n      }\n    }\n\n    this._children = [];\n    this.__storage = null;\n    this.__dirty = true;\n  };\n\n  Group.prototype = {\n    constructor: Group,\n    isGroup: true,\n\n    /**\n     * @type {string}\n     */\n    type: 'group',\n\n    /**\n     * \n     * @name module:/zrender/container/Group#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * @return {Array.<module:zrender/Element>}\n     */\n    children: function () {\n      return this._children.slice();\n    },\n\n    /**\n     *  index \n     * @param  {number} idx\n     * @return {module:zrender/Element}\n     */\n    childAt: function (idx) {\n      return this._children[idx];\n    },\n\n    /**\n     * \n     * @param  {string} name\n     * @return {module:zrender/Element}\n     */\n    childOfName: function (name) {\n      var children = this._children;\n\n      for (var i = 0; i < children.length; i++) {\n        if (children[i].name === name) {\n          return children[i];\n        }\n      }\n    },\n\n    /**\n     * @return {number}\n     */\n    childCount: function () {\n      return this._children.length;\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    add: function (child) {\n      if (child && child !== this && child.parent !== this) {\n        this._children.push(child);\n\n        this._doAdd(child);\n      }\n\n      return this;\n    },\n\n    /**\n     *  nextSibling \n     * @param {module:zrender/Element} child\n     * @param {module:zrender/Element} nextSibling\n     */\n    addBefore: function (child, nextSibling) {\n      if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n        var children = this._children;\n        var idx = children.indexOf(nextSibling);\n\n        if (idx >= 0) {\n          children.splice(idx, 0, child);\n\n          this._doAdd(child);\n        }\n      }\n\n      return this;\n    },\n    _doAdd: function (child) {\n      if (child.parent) {\n        child.parent.remove(child);\n      }\n\n      child.parent = this;\n      var storage = this.__storage;\n      var zr = this.__zr;\n\n      if (storage && storage !== child.__storage) {\n        storage.addToStorage(child);\n\n        if (child instanceof Group) {\n          child.addChildrenToStorage(storage);\n        }\n      }\n\n      zr && zr.refresh();\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    remove: function (child) {\n      var zr = this.__zr;\n      var storage = this.__storage;\n      var children = this._children;\n      var idx = util.indexOf(children, child);\n\n      if (idx < 0) {\n        return this;\n      }\n\n      children.splice(idx, 1);\n      child.parent = null;\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      zr && zr.refresh();\n      return this;\n    },\n\n    /**\n     * \n     */\n    removeAll: function () {\n      var children = this._children;\n      var storage = this.__storage;\n      var child;\n      var i;\n\n      for (i = 0; i < children.length; i++) {\n        child = children[i];\n\n        if (storage) {\n          storage.delFromStorage(child);\n\n          if (child instanceof Group) {\n            child.delChildrenFromStorage(storage);\n          }\n        }\n\n        child.parent = null;\n      }\n\n      children.length = 0;\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    eachChild: function (cb, context) {\n      var children = this._children;\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        cb.call(context, child, i);\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        cb.call(context, child);\n\n        if (child.type === 'group') {\n          child.traverse(cb, context);\n        }\n      }\n\n      return this;\n    },\n    addChildrenToStorage: function (storage) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        storage.addToStorage(child);\n\n        if (child instanceof Group) {\n          child.addChildrenToStorage(storage);\n        }\n      }\n    },\n    delChildrenFromStorage: function (storage) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n    },\n    dirty: function () {\n      this.__dirty = true;\n      this.__zr && this.__zr.refresh();\n      return this;\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function (includeChildren) {\n      // TODO Caching\n      var rect = null;\n      var tmpRect = new BoundingRect_1(0, 0, 0, 0);\n      var children = includeChildren || this._children;\n      var tmpMat = [];\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child.ignore || child.invisible) {\n          continue;\n        }\n\n        var childRect = child.getBoundingRect();\n        var transform = child.getLocalTransform(tmpMat); // TODO\n        // The boundingRect cacluated by transforming original\n        // rect may be bigger than the actual bundingRect when rotation\n        // is used. (Consider a circle rotated aginst its center, where\n        // the actual boundingRect should be the same as that not be\n        // rotated.) But we can not find better approach to calculate\n        // actual boundingRect yet, considering performance.\n\n        if (transform) {\n          tmpRect.copy(childRect);\n          tmpRect.applyTransform(transform);\n          rect = rect || tmpRect.clone();\n          rect.union(tmpRect);\n        } else {\n          rect = rect || childRect.clone();\n          rect.union(childRect);\n        }\n      }\n\n      return rect || tmpRect;\n    }\n  };\n  util.inherits(Group, Element_1);\n  var _default$f = Group;\n  var Group_1 = _default$f;\n\n  // https://github.com/mziccard/node-timsort\n  var DEFAULT_MIN_MERGE = 32;\n  var DEFAULT_MIN_GALLOPING = 7;\n\n  function minRunLength(n) {\n    var r = 0;\n\n    while (n >= DEFAULT_MIN_MERGE) {\n      r |= n & 1;\n      n >>= 1;\n    }\n\n    return n + r;\n  }\n\n  function makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n\n    if (runHi === hi) {\n      return 1;\n    }\n\n    if (compare(array[runHi++], array[lo]) < 0) {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n        runHi++;\n      }\n\n      reverseRun(array, lo, runHi);\n    } else {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n        runHi++;\n      }\n    }\n\n    return runHi - lo;\n  }\n\n  function reverseRun(array, lo, hi) {\n    hi--;\n\n    while (lo < hi) {\n      var t = array[lo];\n      array[lo++] = array[hi];\n      array[hi--] = t;\n    }\n  }\n\n  function binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n      start++;\n    }\n\n    for (; start < hi; start++) {\n      var pivot = array[start];\n      var left = lo;\n      var right = start;\n      var mid;\n\n      while (left < right) {\n        mid = left + right >>> 1;\n\n        if (compare(pivot, array[mid]) < 0) {\n          right = mid;\n        } else {\n          left = mid + 1;\n        }\n      }\n\n      var n = start - left;\n\n      switch (n) {\n        case 3:\n          array[left + 3] = array[left + 2];\n\n        case 2:\n          array[left + 2] = array[left + 1];\n\n        case 1:\n          array[left + 1] = array[left];\n          break;\n\n        default:\n          while (n > 0) {\n            array[left + n] = array[left + n - 1];\n            n--;\n          }\n\n      }\n\n      array[left] = pivot;\n    }\n  }\n\n  function gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) > 0) {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    } else {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) > 0) {\n        lastOffset = m + 1;\n      } else {\n        offset = m;\n      }\n    }\n\n    return offset;\n  }\n\n  function gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) < 0) {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    } else {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) < 0) {\n        offset = m;\n      } else {\n        lastOffset = m + 1;\n      }\n    }\n\n    return offset;\n  }\n\n  function TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var length = 0;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    length = array.length;\n\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n\n    function pushRun(_runStart, _runLength) {\n      runStart[stackSize] = _runStart;\n      runLength[stackSize] = _runLength;\n      stackSize += 1;\n    }\n\n    function mergeRuns() {\n      while (stackSize > 1) {\n        var n = stackSize - 2;\n\n        if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n          if (runLength[n - 1] < runLength[n + 1]) {\n            n--;\n          }\n        } else if (runLength[n] > runLength[n + 1]) {\n          break;\n        }\n\n        mergeAt(n);\n      }\n    }\n\n    function forceMergeRuns() {\n      while (stackSize > 1) {\n        var n = stackSize - 2;\n\n        if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n          n--;\n        }\n\n        mergeAt(n);\n      }\n    }\n\n    function mergeAt(i) {\n      var start1 = runStart[i];\n      var length1 = runLength[i];\n      var start2 = runStart[i + 1];\n      var length2 = runLength[i + 1];\n      runLength[i] = length1 + length2;\n\n      if (i === stackSize - 3) {\n        runStart[i + 1] = runStart[i + 2];\n        runLength[i + 1] = runLength[i + 2];\n      }\n\n      stackSize--;\n      var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n      start1 += k;\n      length1 -= k;\n\n      if (length1 === 0) {\n        return;\n      }\n\n      length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n      if (length2 === 0) {\n        return;\n      }\n\n      if (length1 <= length2) {\n        mergeLow(start1, length1, start2, length2);\n      } else {\n        mergeHigh(start1, length1, start2, length2);\n      }\n    }\n\n    function mergeLow(start1, length1, start2, length2) {\n      var i = 0;\n\n      for (i = 0; i < length1; i++) {\n        tmp[i] = array[start1 + i];\n      }\n\n      var cursor1 = 0;\n      var cursor2 = start2;\n      var dest = start1;\n      array[dest++] = array[cursor2++];\n\n      if (--length2 === 0) {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n\n        return;\n      }\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n\n        array[dest + length2] = tmp[cursor1];\n        return;\n      }\n\n      var _minGallop = minGallop;\n      var count1;\n      var count2;\n      var exit;\n\n      while (1) {\n        count1 = 0;\n        count2 = 0;\n        exit = false;\n\n        do {\n          if (compare(array[cursor2], tmp[cursor1]) < 0) {\n            array[dest++] = array[cursor2++];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest++] = tmp[cursor1++];\n            count1++;\n            count2 = 0;\n\n            if (--length1 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < _minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n          if (count1 !== 0) {\n            for (i = 0; i < count1; i++) {\n              array[dest + i] = tmp[cursor1 + i];\n            }\n\n            dest += count1;\n            cursor1 += count1;\n            length1 -= count1;\n\n            if (length1 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = array[cursor2++];\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n\n          count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n          if (count2 !== 0) {\n            for (i = 0; i < count2; i++) {\n              array[dest + i] = array[cursor2 + i];\n            }\n\n            dest += count2;\n            cursor2 += count2;\n            length2 -= count2;\n\n            if (length2 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = tmp[cursor1++];\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n\n          _minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (_minGallop < 0) {\n          _minGallop = 0;\n        }\n\n        _minGallop += 2;\n      }\n\n      minGallop = _minGallop;\n      minGallop < 1 && (minGallop = 1);\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n\n        array[dest + length2] = tmp[cursor1];\n      } else if (length1 === 0) {\n        throw new Error(); // throw new Error('mergeLow preconditions were not respected');\n      } else {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n      }\n    }\n\n    function mergeHigh(start1, length1, start2, length2) {\n      var i = 0;\n\n      for (i = 0; i < length2; i++) {\n        tmp[i] = array[start2 + i];\n      }\n\n      var cursor1 = start1 + length1 - 1;\n      var cursor2 = length2 - 1;\n      var dest = start2 + length2 - 1;\n      var customCursor = 0;\n      var customDest = 0;\n      array[dest--] = array[cursor1--];\n\n      if (--length1 === 0) {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n\n        return;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n        return;\n      }\n\n      var _minGallop = minGallop;\n\n      while (true) {\n        var count1 = 0;\n        var count2 = 0;\n        var exit = false;\n\n        do {\n          if (compare(tmp[cursor2], array[cursor1]) < 0) {\n            array[dest--] = array[cursor1--];\n            count1++;\n            count2 = 0;\n\n            if (--length1 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest--] = tmp[cursor2--];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < _minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n          if (count1 !== 0) {\n            dest -= count1;\n            cursor1 -= count1;\n            length1 -= count1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n\n            for (i = count1 - 1; i >= 0; i--) {\n              array[customDest + i] = array[customCursor + i];\n            }\n\n            if (length1 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = tmp[cursor2--];\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n\n          count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n          if (count2 !== 0) {\n            dest -= count2;\n            cursor2 -= count2;\n            length2 -= count2;\n            customDest = dest + 1;\n            customCursor = cursor2 + 1;\n\n            for (i = 0; i < count2; i++) {\n              array[customDest + i] = tmp[customCursor + i];\n            }\n\n            if (length2 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = array[cursor1--];\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n\n          _minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (_minGallop < 0) {\n          _minGallop = 0;\n        }\n\n        _minGallop += 2;\n      }\n\n      minGallop = _minGallop;\n\n      if (minGallop < 1) {\n        minGallop = 1;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n      } else if (length2 === 0) {\n        throw new Error(); // throw new Error('mergeHigh preconditions were not respected');\n      } else {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n      }\n    }\n\n    this.mergeRuns = mergeRuns;\n    this.forceMergeRuns = forceMergeRuns;\n    this.pushRun = pushRun;\n  }\n\n  function sort(array, compare, lo, hi) {\n    if (!lo) {\n      lo = 0;\n    }\n\n    if (!hi) {\n      hi = array.length;\n    }\n\n    var remaining = hi - lo;\n\n    if (remaining < 2) {\n      return;\n    }\n\n    var runLength = 0;\n\n    if (remaining < DEFAULT_MIN_MERGE) {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n      binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n      return;\n    }\n\n    var ts = new TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n\n    do {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n\n      if (runLength < minRun) {\n        var force = remaining;\n\n        if (force > minRun) {\n          force = minRun;\n        }\n\n        binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n        runLength = force;\n      }\n\n      ts.pushRun(lo, runLength);\n      ts.mergeRuns();\n      remaining -= runLength;\n      lo += runLength;\n    } while (remaining !== 0);\n\n    ts.forceMergeRuns();\n  }\n\n  var timsort = sort;\n\n  // Use timsort because in most case elements are partially sorted\n  // https://jsfiddle.net/pissang/jr4x7mdm/8/\n  function shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n      if (a.z === b.z) {\n        // if (a.z2 === b.z2) {\n        //     // FIXME Slow has renderidx compare\n        //     // http://stackoverflow.com/questions/20883421/sorting-in-javascript-should-every-compare-function-have-a-return-0-statement\n        //     // https://github.com/v8/v8/blob/47cce544a31ed5577ffe2963f67acb4144ee0232/src/js/array.js#L1012\n        //     return a.__renderidx - b.__renderidx;\n        // }\n        return a.z2 - b.z2;\n      }\n\n      return a.z - b.z;\n    }\n\n    return a.zlevel - b.zlevel;\n  }\n  /**\n   *  (M)\n   * @alias module:zrender/Storage\n   * @constructor\n   */\n\n\n  var Storage = function () {\n    // jshint ignore:line\n    this._roots = [];\n    this._displayList = [];\n    this._displayListLen = 0;\n  };\n\n  Storage.prototype = {\n    constructor: Storage,\n\n    /**\n     * @param  {Function} cb\n     *\n     */\n    traverse: function (cb, context) {\n      for (var i = 0; i < this._roots.length; i++) {\n        this._roots[i].traverse(cb, context);\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [update=false] \n     * @param {boolean} [includeIgnore=false]  ignore ,  update  true \n     *\n     * {@link module:zrender/graphic/Displayable.prototype.updateDisplayList}\n     * @return {Array.<module:zrender/graphic/Displayable>}\n     */\n    getDisplayList: function (update, includeIgnore) {\n      includeIgnore = includeIgnore || false;\n\n      if (update) {\n        this.updateDisplayList(includeIgnore);\n      }\n\n      return this._displayList;\n    },\n\n    /**\n     * \n     * GroupShapeShape\n     * zlevel > z > \n     * @param {boolean} [includeIgnore=false]  ignore \n     */\n    updateDisplayList: function (includeIgnore) {\n      this._displayListLen = 0;\n      var roots = this._roots;\n      var displayList = this._displayList;\n\n      for (var i = 0, len = roots.length; i < len; i++) {\n        this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n      }\n\n      displayList.length = this._displayListLen;\n      env_1.canvasSupported && timsort(displayList, shapeCompareFunc);\n    },\n    _updateAndAddDisplayable: function (el, clipPaths, includeIgnore) {\n      if (el.ignore && !includeIgnore) {\n        return;\n      }\n\n      el.beforeUpdate();\n\n      if (el.__dirty) {\n        el.update();\n      }\n\n      el.afterUpdate();\n      var userSetClipPath = el.clipPath;\n\n      if (userSetClipPath) {\n        // FIXME \n        if (clipPaths) {\n          clipPaths = clipPaths.slice();\n        } else {\n          clipPaths = [];\n        }\n\n        var currentClipPath = userSetClipPath;\n        var parentClipPath = el; // Recursively add clip path\n\n        while (currentClipPath) {\n          // clipPath  clipPath \n          currentClipPath.parent = parentClipPath;\n          currentClipPath.updateTransform();\n          clipPaths.push(currentClipPath);\n          parentClipPath = currentClipPath;\n          currentClipPath = currentClipPath.clipPath;\n        }\n      }\n\n      if (el.isGroup) {\n        var children = el._children;\n\n        for (var i = 0; i < children.length; i++) {\n          var child = children[i]; // Force to mark as dirty if group is dirty\n          // FIXME __dirtyPath ?\n\n          if (el.__dirty) {\n            child.__dirty = true;\n          }\n\n          this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n        } // Mark group clean here\n\n\n        el.__dirty = false;\n      } else {\n        el.__clipPaths = clipPaths;\n        this._displayList[this._displayListLen++] = el;\n      }\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {module:zrender/Element} el\n     */\n    addRoot: function (el) {\n      if (el.__storage === this) {\n        return;\n      }\n\n      if (el instanceof Group_1) {\n        el.addChildrenToStorage(this);\n      }\n\n      this.addToStorage(el);\n\n      this._roots.push(el);\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {string|Array.<string>} [el] Storage\n     */\n    delRoot: function (el) {\n      if (el == null) {\n        // el\n        for (var i = 0; i < this._roots.length; i++) {\n          var root = this._roots[i];\n\n          if (root instanceof Group_1) {\n            root.delChildrenFromStorage(this);\n          }\n        }\n\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n      }\n\n      if (el instanceof Array) {\n        for (var i = 0, l = el.length; i < l; i++) {\n          this.delRoot(el[i]);\n        }\n\n        return;\n      }\n\n      var idx = util.indexOf(this._roots, el);\n\n      if (idx >= 0) {\n        this.delFromStorage(el);\n\n        this._roots.splice(idx, 1);\n\n        if (el instanceof Group_1) {\n          el.delChildrenFromStorage(this);\n        }\n      }\n    },\n    addToStorage: function (el) {\n      if (el) {\n        el.__storage = this;\n        el.dirty(false);\n      }\n\n      return this;\n    },\n    delFromStorage: function (el) {\n      if (el) {\n        el.__storage = null;\n      }\n\n      return this;\n    },\n\n    /**\n     * Storage\n     */\n    dispose: function () {\n      this._renderList = this._roots = null;\n    },\n    displayableSortFunc: shapeCompareFunc\n  };\n  var _default$g = Storage;\n  var Storage_1 = _default$g;\n\n  var SHADOW_PROPS = {\n    'shadowBlur': 1,\n    'shadowOffsetX': 1,\n    'shadowOffsetY': 1,\n    'textShadowBlur': 1,\n    'textShadowOffsetX': 1,\n    'textShadowOffsetY': 1,\n    'textBoxShadowBlur': 1,\n    'textBoxShadowOffsetX': 1,\n    'textBoxShadowOffsetY': 1\n  };\n\n  function _default$h(ctx, propName, value) {\n    if (SHADOW_PROPS.hasOwnProperty(propName)) {\n      return value *= ctx.dpr;\n    }\n\n    return value;\n  }\n\n  var fixShadow = _default$h;\n\n  var ContextCachedBy = {\n    NONE: 0,\n    STYLE_BIND: 1,\n    PLAIN_TEXT: 2\n  }; // Avoid confused with 0/false.\n\n  var WILL_BE_RESTORED = 9;\n  var ContextCachedBy_1 = ContextCachedBy;\n  var WILL_BE_RESTORED_1 = WILL_BE_RESTORED;\n\n  var constant = {\n  \tContextCachedBy: ContextCachedBy_1,\n  \tWILL_BE_RESTORED: WILL_BE_RESTORED_1\n  };\n\n  var ContextCachedBy$1 = constant.ContextCachedBy;\n  var STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n  // var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\n  var Style = function (opts) {\n    this.extendFrom(opts, false);\n  };\n\n  function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n\n    if (!obj.global) {\n      x = x * rect.width + rect.x;\n      x2 = x2 * rect.width + rect.x;\n      y = y * rect.height + rect.y;\n      y2 = y2 * rect.height + rect.y;\n    } // Fix NaN when rect is Infinity\n\n\n    x = isNaN(x) ? 0 : x;\n    x2 = isNaN(x2) ? 1 : x2;\n    y = isNaN(y) ? 0 : y;\n    y2 = isNaN(y2) ? 0 : y2;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n  }\n\n  function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n\n    if (!obj.global) {\n      x = x * width + rect.x;\n      y = y * height + rect.y;\n      r = r * min;\n    }\n\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n  }\n\n  Style.prototype = {\n    constructor: Style,\n\n    /**\n     * @type {string}\n     */\n    fill: '#000',\n\n    /**\n     * @type {string}\n     */\n    stroke: null,\n\n    /**\n     * @type {number}\n     */\n    opacity: 1,\n\n    /**\n     * @type {number}\n     */\n    fillOpacity: null,\n\n    /**\n     * @type {number}\n     */\n    strokeOpacity: null,\n\n    /**\n     * `true` is not supported.\n     * `false`/`null`/`undefined` are the same.\n     * `false` is used to remove lineDash in some\n     * case that `null`/`undefined` can not be set.\n     * (e.g., emphasis.lineStyle in echarts)\n     * @type {Array.<number>|boolean}\n     */\n    lineDash: null,\n\n    /**\n     * @type {number}\n     */\n    lineDashOffset: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetY: 0,\n\n    /**\n     * @type {number}\n     */\n    lineWidth: 1,\n\n    /**\n     * If stroke ignore scale\n     * @type {Boolean}\n     */\n    strokeNoScale: false,\n    // Bounding rect text configuration\n    // Not affected by element transform\n\n    /**\n     * @type {string}\n     */\n    text: null,\n\n    /**\n     * If `fontSize` or `fontFamily` exists, `font` will be reset by\n     * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n     * So do not visit it directly in upper application (like echarts),\n     * but use `contain/text#makeFont` instead.\n     * @type {string}\n     */\n    font: null,\n\n    /**\n     * The same as font. Use font please.\n     * @deprecated\n     * @type {string}\n     */\n    textFont: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontStyle: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontWeight: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * Should be 12 but not '12px'.\n     * @type {number}\n     */\n    fontSize: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontFamily: null,\n\n    /**\n     * Reserved for special functinality, like 'hr'.\n     * @type {string}\n     */\n    textTag: null,\n\n    /**\n     * @type {string}\n     */\n    textFill: '#000',\n\n    /**\n     * @type {string}\n     */\n    textStroke: null,\n\n    /**\n     * @type {number}\n     */\n    textWidth: null,\n\n    /**\n     * Only for textBackground.\n     * @type {number}\n     */\n    textHeight: null,\n\n    /**\n     * textStroke may be set as some color as a default\n     * value in upper applicaion, where the default value\n     * of textStrokeWidth should be 0 to make sure that\n     * user can choose to do not use text stroke.\n     * @type {number}\n     */\n    textStrokeWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textLineHeight: null,\n\n    /**\n     * 'inside', 'left', 'right', 'top', 'bottom'\n     * [x, y]\n     * Based on x, y of rect.\n     * @type {string|Array.<number>}\n     * @default 'inside'\n     */\n    textPosition: 'inside',\n\n    /**\n     * If not specified, use the boundingRect of a `displayable`.\n     * @type {Object}\n     */\n    textRect: null,\n\n    /**\n     * [x, y]\n     * @type {Array.<number>}\n     */\n    textOffset: null,\n\n    /**\n     * @type {string}\n     */\n    textAlign: null,\n\n    /**\n     * @type {string}\n     */\n    textVerticalAlign: null,\n\n    /**\n     * @type {number}\n     */\n    textDistance: 5,\n\n    /**\n     * @type {string}\n     */\n    textShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetY: 0,\n\n    /**\n     * @type {string}\n     */\n    textBoxShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetY: 0,\n\n    /**\n     * Whether transform text.\n     * Only available in Path and Image element,\n     * where the text is called as `RectText`.\n     * @type {boolean}\n     */\n    transformText: false,\n\n    /**\n     * Text rotate around position of Path or Image.\n     * The origin of the rotation can be specified by `textOrigin`.\n     * Only available in Path and Image element,\n     * where the text is called as `RectText`.\n     */\n    textRotation: 0,\n\n    /**\n     * Text origin of text rotation.\n     * Useful in the case like label rotation of circular symbol.\n     * Only available in Path and Image element, where the text is called\n     * as `RectText` and the element is called as \"host element\".\n     * The value can be:\n     * + If specified as a coordinate like `[10, 40]`, it is the `[x, y]`\n     * base on the left-top corner of the rect of its host element.\n     * + If specified as a string `center`, it is the center of the rect of\n     * its host element.\n     * + By default, this origin is the `textPosition`.\n     * @type {string|Array.<number>}\n     */\n    textOrigin: null,\n\n    /**\n     * @type {string}\n     */\n    textBackgroundColor: null,\n\n    /**\n     * @type {string}\n     */\n    textBorderColor: null,\n\n    /**\n     * @type {number}\n     */\n    textBorderWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textBorderRadius: 0,\n\n    /**\n     * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n     * @type {number|Array.<number>}\n     */\n    textPadding: null,\n\n    /**\n     * Text styles for rich text.\n     * @type {Object}\n     */\n    rich: null,\n\n    /**\n     * {outerWidth, outerHeight, ellipsis, placeholder}\n     * @type {Object}\n     */\n    truncate: null,\n\n    /**\n     * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n     * @type {string}\n     */\n    blend: null,\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    bind: function (ctx, el, prevEl) {\n      var style = this;\n      var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n      // Only apply cache if the last time cachced by this function.\n\n      var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy$1.STYLE_BIND;\n      ctx.__attrCachedBy = ContextCachedBy$1.STYLE_BIND;\n\n      for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n        var prop = STYLE_COMMON_PROPS[i];\n        var styleName = prop[0];\n\n        if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n          // FIXME Invalid property value will cause style leak from previous element.\n          ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n        }\n      }\n\n      if (notCheckCache || style.fill !== prevStyle.fill) {\n        ctx.fillStyle = style.fill;\n      }\n\n      if (notCheckCache || style.stroke !== prevStyle.stroke) {\n        ctx.strokeStyle = style.stroke;\n      }\n\n      if (notCheckCache || style.opacity !== prevStyle.opacity) {\n        ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n      }\n\n      if (notCheckCache || style.blend !== prevStyle.blend) {\n        ctx.globalCompositeOperation = style.blend || 'source-over';\n      }\n\n      if (this.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n      }\n    },\n    hasFill: function () {\n      var fill = this.fill;\n      return fill != null && fill !== 'none';\n    },\n    hasStroke: function () {\n      var stroke = this.stroke;\n      return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n    },\n\n    /**\n     * Extend from other style\n     * @param {zrender/graphic/Style} otherStyle\n     * @param {boolean} overwrite true: overwrirte any way.\n     *                            false: overwrite only when !target.hasOwnProperty\n     *                            others: overwrite when property is not null/undefined.\n     */\n    extendFrom: function (otherStyle, overwrite) {\n      if (otherStyle) {\n        for (var name in otherStyle) {\n          if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n            this[name] = otherStyle[name];\n          }\n        }\n      }\n    },\n\n    /**\n     * Batch setting style with a given object\n     * @param {Object|string} obj\n     * @param {*} [obj]\n     */\n    set: function (obj, value) {\n      if (typeof obj === 'string') {\n        this[obj] = value;\n      } else {\n        this.extendFrom(obj, true);\n      }\n    },\n\n    /**\n     * Clone\n     * @return {zrender/graphic/Style} [description]\n     */\n    clone: function () {\n      var newStyle = new this.constructor();\n      newStyle.extendFrom(this, true);\n      return newStyle;\n    },\n    getGradient: function (ctx, obj, rect) {\n      var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n      var canvasGradient = method(ctx, obj, rect);\n      var colorStops = obj.colorStops;\n\n      for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n      }\n\n      return canvasGradient;\n    }\n  };\n  var styleProto = Style.prototype;\n\n  for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n    var prop = STYLE_COMMON_PROPS[i];\n\n    if (!(prop[0] in styleProto)) {\n      styleProto[prop[0]] = prop[1];\n    }\n  } // Provide for others\n\n\n  Style.getGradient = styleProto.getGradient;\n  var _default$i = Style;\n  var Style_1 = _default$i;\n\n  var Pattern = function (image, repeat) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {image: ...}`, where this constructor will not be called.\n    this.image = image;\n    this.repeat = repeat; // Can be cloned\n\n    this.type = 'pattern';\n  };\n\n  Pattern.prototype.getCanvasPattern = function (ctx) {\n    return ctx.createPattern(this.image, this.repeat || 'repeat');\n  };\n\n  var _default$j = Pattern;\n  var Pattern_1 = _default$j;\n\n  var devicePixelRatio$1 = config.devicePixelRatio;\n\n\n\n\n\n  /**\n   * @module zrender/Layer\n   * @author pissang(https://www.github.com/pissang)\n   */\n  function returnFalse() {\n    return false;\n  }\n  /**\n   * dom\n   *\n   * @inner\n   * @param {string} id dom id \n   * @param {Painter} painter painter instance\n   * @param {number} number\n   */\n\n\n  function createDom(id, painter, dpr) {\n    var newDom = util.createCanvas();\n    var width = painter.getWidth();\n    var height = painter.getHeight();\n    var newDomStyle = newDom.style;\n\n    if (newDomStyle) {\n      // In node or some other non-browser environment\n      newDomStyle.position = 'absolute';\n      newDomStyle.left = 0;\n      newDomStyle.top = 0;\n      newDomStyle.width = width + 'px';\n      newDomStyle.height = height + 'px';\n      newDom.setAttribute('data-zr-dom-id', id);\n    }\n\n    newDom.width = width * dpr;\n    newDom.height = height * dpr;\n    return newDom;\n  }\n  /**\n   * @alias module:zrender/Layer\n   * @constructor\n   * @extends module:zrender/mixin/Transformable\n   * @param {string} id\n   * @param {module:zrender/Painter} painter\n   * @param {number} [dpr]\n   */\n\n\n  var Layer = function (id, painter, dpr) {\n    var dom;\n    dpr = dpr || devicePixelRatio$1;\n\n    if (typeof id === 'string') {\n      dom = createDom(id, painter, dpr);\n    } // Not using isDom because in node it will return false\n    else if (util.isObject(id)) {\n        dom = id;\n        id = dom.id;\n      }\n\n    this.id = id;\n    this.dom = dom;\n    var domStyle = dom.style;\n\n    if (domStyle) {\n      // Not in node\n      dom.onselectstart = returnFalse; // \n\n      domStyle['-webkit-user-select'] = 'none';\n      domStyle['user-select'] = 'none';\n      domStyle['-webkit-touch-callout'] = 'none';\n      domStyle['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n      domStyle['padding'] = 0; // eslint-disable-line dot-notation\n\n      domStyle['margin'] = 0; // eslint-disable-line dot-notation\n\n      domStyle['border-width'] = 0;\n    }\n\n    this.domBack = null;\n    this.ctxBack = null;\n    this.painter = painter;\n    this.config = null; // Configs\n\n    /**\n     * \n     * @type {string}\n     * @default 0\n     */\n\n    this.clearColor = 0;\n    /**\n     * \n     * @type {boolean}\n     * @default false\n     */\n\n    this.motionBlur = false;\n    /**\n     * alpha\n     * @type {number}\n     * @default 0.7\n     */\n\n    this.lastFrameAlpha = 0.7;\n    /**\n     * Layer dpr\n     * @type {number}\n     */\n\n    this.dpr = dpr;\n  };\n\n  Layer.prototype = {\n    constructor: Layer,\n    __dirty: true,\n    __used: false,\n    __drawIndex: 0,\n    __startIndex: 0,\n    __endIndex: 0,\n    incremental: false,\n    getElementCount: function () {\n      return this.__endIndex - this.__startIndex;\n    },\n    initContext: function () {\n      this.ctx = this.dom.getContext('2d');\n      this.ctx.dpr = this.dpr;\n    },\n    createBackBuffer: function () {\n      var dpr = this.dpr;\n      this.domBack = createDom('back-' + this.id, this.painter, dpr);\n      this.ctxBack = this.domBack.getContext('2d');\n\n      if (dpr !== 1) {\n        this.ctxBack.scale(dpr, dpr);\n      }\n    },\n\n    /**\n     * @param  {number} width\n     * @param  {number} height\n     */\n    resize: function (width, height) {\n      var dpr = this.dpr;\n      var dom = this.dom;\n      var domStyle = dom.style;\n      var domBack = this.domBack;\n\n      if (domStyle) {\n        domStyle.width = width + 'px';\n        domStyle.height = height + 'px';\n      }\n\n      dom.width = width * dpr;\n      dom.height = height * dpr;\n\n      if (domBack) {\n        domBack.width = width * dpr;\n        domBack.height = height * dpr;\n\n        if (dpr !== 1) {\n          this.ctxBack.scale(dpr, dpr);\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [clearAll]=false Clear all with out motion blur\n     * @param {Color} [clearColor]\n     */\n    clear: function (clearAll, clearColor) {\n      var dom = this.dom;\n      var ctx = this.ctx;\n      var width = dom.width;\n      var height = dom.height;\n      var clearColor = clearColor || this.clearColor;\n      var haveMotionBLur = this.motionBlur && !clearAll;\n      var lastFrameAlpha = this.lastFrameAlpha;\n      var dpr = this.dpr;\n\n      if (haveMotionBLur) {\n        if (!this.domBack) {\n          this.createBackBuffer();\n        }\n\n        this.ctxBack.globalCompositeOperation = 'copy';\n        this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n      }\n\n      ctx.clearRect(0, 0, width, height);\n\n      if (clearColor && clearColor !== 'transparent') {\n        var clearColorGradientOrPattern; // Gradient\n\n        if (clearColor.colorStops) {\n          // Cache canvas gradient\n          clearColorGradientOrPattern = clearColor.__canvasGradient || Style_1.getGradient(ctx, clearColor, {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          });\n          clearColor.__canvasGradient = clearColorGradientOrPattern;\n        } // Pattern\n        else if (clearColor.image) {\n            clearColorGradientOrPattern = Pattern_1.prototype.getCanvasPattern.call(clearColor, ctx);\n          }\n\n        ctx.save();\n        ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n        ctx.fillRect(0, 0, width, height);\n        ctx.restore();\n      }\n\n      if (haveMotionBLur) {\n        var domBack = this.domBack;\n        ctx.save();\n        ctx.globalAlpha = lastFrameAlpha;\n        ctx.drawImage(domBack, 0, 0, width, height);\n        ctx.restore();\n      }\n    }\n  };\n  var _default$k = Layer;\n  var Layer_1 = _default$k;\n\n  var _default$l = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || // https://github.com/ecomfe/zrender/issues/189#issuecomment-224919809\n  window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (func) {\n    setTimeout(func, 16);\n  };\n\n  var requestAnimationFrame = _default$l;\n\n  var globalImageCache = new LRU_1(50);\n  /**\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n   * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n   */\n\n  function findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n      var cachedImgObj = globalImageCache.get(newImageOrSrc);\n      return cachedImgObj && cachedImgObj.image;\n    } else {\n      return newImageOrSrc;\n    }\n  }\n  /**\n   * Caution: User should cache loaded images, but not just count on LRU.\n   * Consider if required images more than LRU size, will dead loop occur?\n   *\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n   * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n   * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n   * @param {Function} [cb] params: (image, cbPayload)\n   * @param {Object} [cbPayload] Payload on cb calling.\n   * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n   */\n\n\n  function createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n    if (!newImageOrSrc) {\n      return image;\n    } else if (typeof newImageOrSrc === 'string') {\n      // Image should not be loaded repeatly.\n      if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n        return image;\n      } // Only when there is no existent image or existent image src\n      // is different, this method is responsible for load.\n\n\n      var cachedImgObj = globalImageCache.get(newImageOrSrc);\n      var pendingWrap = {\n        hostEl: hostEl,\n        cb: cb,\n        cbPayload: cbPayload\n      };\n\n      if (cachedImgObj) {\n        image = cachedImgObj.image;\n        !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n      } else {\n        image = new Image();\n        image.onload = image.onerror = imageOnLoad;\n        globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n          image: image,\n          pending: [pendingWrap]\n        });\n        image.src = image.__zrImageSrc = newImageOrSrc;\n      }\n\n      return image;\n    } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n    else {\n        return newImageOrSrc;\n      }\n  }\n\n  function imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.onerror = this.__cachedImgObj = null;\n\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n      var pendingWrap = cachedImgObj.pending[i];\n      var cb = pendingWrap.cb;\n      cb && cb(this, pendingWrap.cbPayload);\n      pendingWrap.hostEl.dirty();\n    }\n\n    cachedImgObj.pending.length = 0;\n  }\n\n  function isImageReady(image) {\n    return image && image.width && image.height;\n  }\n\n  var findExistImage_1 = findExistImage;\n  var createOrUpdateImage_1 = createOrUpdateImage;\n  var isImageReady_1 = isImageReady;\n\n  var image = {\n  \tfindExistImage: findExistImage_1,\n  \tcreateOrUpdateImage: createOrUpdateImage_1,\n  \tisImageReady: isImageReady_1\n  };\n\n  var getContext$1 = util.getContext;\n  var extend$3 = util.extend;\n  var retrieve2$1 = util.retrieve2;\n  var retrieve3$1 = util.retrieve3;\n  var trim$2 = util.trim;\n  var textWidthCache = {};\n  var textWidthCacheCounter = 0;\n  var TEXT_CACHE_MAX = 5000;\n  var STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\n  var DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\n  var methods$1 = {};\n\n  function $override$1(name, fn) {\n    methods$1[name] = fn;\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @return {number} width\n   */\n\n\n  function getWidth(text, font) {\n    font = font || DEFAULT_FONT;\n    var key = text + ':' + font;\n\n    if (textWidthCache[key]) {\n      return textWidthCache[key];\n    }\n\n    var textLines = (text + '').split('\\n');\n    var width = 0;\n\n    for (var i = 0, l = textLines.length; i < l; i++) {\n      // textContain.measureText may be overrided in SVG or VML\n      width = Math.max(measureText(textLines[i], font).width, width);\n    }\n\n    if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n      textWidthCacheCounter = 0;\n      textWidthCache = {};\n    }\n\n    textWidthCacheCounter++;\n    textWidthCache[key] = width;\n    return width;\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @param {string} [textAlign='left']\n   * @param {string} [textVerticalAlign='top']\n   * @param {Array.<number>} [textPadding]\n   * @param {Object} [rich]\n   * @param {Object} [truncate]\n   * @return {Object} {x, y, width, height, lineHeight}\n   */\n\n\n  function getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n    return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate);\n  }\n\n  function getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate) {\n    var contentBlock = parsePlainText(text, font, textPadding, textLineHeight, truncate);\n    var outerWidth = getWidth(text, font);\n\n    if (textPadding) {\n      outerWidth += textPadding[1] + textPadding[3];\n    }\n\n    var outerHeight = contentBlock.outerHeight;\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n    var rect = new BoundingRect_1(x, y, outerWidth, outerHeight);\n    rect.lineHeight = contentBlock.lineHeight;\n    return rect;\n  }\n\n  function getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n    var contentBlock = parseRichText(text, {\n      rich: rich,\n      truncate: truncate,\n      font: font,\n      textAlign: textAlign,\n      textPadding: textPadding,\n      textLineHeight: textLineHeight\n    });\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n    return new BoundingRect_1(x, y, outerWidth, outerHeight);\n  }\n  /**\n   * @public\n   * @param {number} x\n   * @param {number} width\n   * @param {string} [textAlign='left']\n   * @return {number} Adjusted x.\n   */\n\n\n  function adjustTextX(x, width, textAlign) {\n    // FIXME Right to left language\n    if (textAlign === 'right') {\n      x -= width;\n    } else if (textAlign === 'center') {\n      x -= width / 2;\n    }\n\n    return x;\n  }\n  /**\n   * @public\n   * @param {number} y\n   * @param {number} height\n   * @param {string} [textVerticalAlign='top']\n   * @return {number} Adjusted y.\n   */\n\n\n  function adjustTextY(y, height, textVerticalAlign) {\n    if (textVerticalAlign === 'middle') {\n      y -= height / 2;\n    } else if (textVerticalAlign === 'bottom') {\n      y -= height;\n    }\n\n    return y;\n  }\n  /**\n   * Follow same interface to `Displayable.prototype.calculateTextPosition`.\n   * @public\n   * @param {Obejct} [out] Prepared out object. If not input, auto created in the method.\n   * @param {module:zrender/graphic/Style} style where `textPosition` and `textDistance` are visited.\n   * @param {Object} rect {x, y, width, height} Rect of the host elment, according to which the text positioned.\n   * @return {Object} The input `out`. Set: {x, y, textAlign, textVerticalAlign}\n   */\n\n\n  function calculateTextPosition(out, style, rect) {\n    var textPosition = style.textPosition;\n    var distance = style.textDistance;\n    var x = rect.x;\n    var y = rect.y;\n    distance = distance || 0;\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n\n    switch (textPosition) {\n      case 'left':\n        x -= distance;\n        y += halfHeight;\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'right':\n        x += distance + width;\n        y += halfHeight;\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'top':\n        x += width / 2;\n        y -= distance;\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'bottom':\n        x += width / 2;\n        y += height + distance;\n        textAlign = 'center';\n        break;\n\n      case 'inside':\n        x += width / 2;\n        y += halfHeight;\n        textAlign = 'center';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideLeft':\n        x += distance;\n        y += halfHeight;\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideRight':\n        x += width - distance;\n        y += halfHeight;\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideTop':\n        x += width / 2;\n        y += distance;\n        textAlign = 'center';\n        break;\n\n      case 'insideBottom':\n        x += width / 2;\n        y += height - distance;\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideTopLeft':\n        x += distance;\n        y += distance;\n        break;\n\n      case 'insideTopRight':\n        x += width - distance;\n        y += distance;\n        textAlign = 'right';\n        break;\n\n      case 'insideBottomLeft':\n        x += distance;\n        y += height - distance;\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideBottomRight':\n        x += width - distance;\n        y += height - distance;\n        textAlign = 'right';\n        textVerticalAlign = 'bottom';\n        break;\n    }\n\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.textAlign = textAlign;\n    out.textVerticalAlign = textVerticalAlign;\n    return out;\n  }\n  /**\n   * To be removed. But still do not remove in case that some one has imported it.\n   * @deprecated\n   * @public\n   * @param {stirng} textPosition\n   * @param {Object} rect {x, y, width, height}\n   * @param {number} distance\n   * @return {Object} {x, y, textAlign, textVerticalAlign}\n   */\n\n\n  function adjustTextPositionOnRect(textPosition, rect, distance) {\n    var dummyStyle = {\n      textPosition: textPosition,\n      textDistance: distance\n    };\n    return calculateTextPosition({}, dummyStyle, rect);\n  }\n  /**\n   * Show ellipsis if overflow.\n   *\n   * @public\n   * @param  {string} text\n   * @param  {string} containerWidth\n   * @param  {string} font\n   * @param  {number} [ellipsis='...']\n   * @param  {Object} [options]\n   * @param  {number} [options.maxIterations=3]\n   * @param  {number} [options.minChar=0] If truncate result are less\n   *                  then minChar, ellipsis will not show, which is\n   *                  better for user hint in some cases.\n   * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n   * @return {string}\n   */\n\n\n  function truncateText(text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n      return '';\n    }\n\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n    // It is not appropriate that every line has '...' when truncate multiple lines.\n\n    for (var i = 0, len = textLines.length; i < len; i++) {\n      textLines[i] = truncateSingleLine(textLines[i], options);\n    }\n\n    return textLines.join('\\n');\n  }\n\n  function prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = extend$3({}, options);\n    options.font = font;\n    var ellipsis = retrieve2$1(ellipsis, '...');\n    options.maxIterations = retrieve2$1(options.maxIterations, 2);\n    var minChar = options.minChar = retrieve2$1(options.minChar, 0); // FIXME\n    // Other languages?\n\n    options.cnCharWidth = getWidth('', font); // FIXME\n    // Consider proportional font?\n\n    var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n    options.placeholder = retrieve2$1(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n    // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n      contentWidth -= ascCharWidth;\n    }\n\n    var ellipsisWidth = getWidth(ellipsis, font);\n\n    if (ellipsisWidth > contentWidth) {\n      ellipsis = '';\n      ellipsisWidth = 0;\n    }\n\n    contentWidth = containerWidth - ellipsisWidth;\n    options.ellipsis = ellipsis;\n    options.ellipsisWidth = ellipsisWidth;\n    options.contentWidth = contentWidth;\n    options.containerWidth = containerWidth;\n    return options;\n  }\n\n  function truncateSingleLine(textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n\n    if (!containerWidth) {\n      return '';\n    }\n\n    var lineWidth = getWidth(textLine, font);\n\n    if (lineWidth <= containerWidth) {\n      return textLine;\n    }\n\n    for (var j = 0;; j++) {\n      if (lineWidth <= contentWidth || j >= options.maxIterations) {\n        textLine += options.ellipsis;\n        break;\n      }\n\n      var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n      textLine = textLine.substr(0, subLength);\n      lineWidth = getWidth(textLine, font);\n    }\n\n    if (textLine === '') {\n      textLine = options.placeholder;\n    }\n\n    return textLine;\n  }\n\n  function estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n      var charCode = text.charCodeAt(i);\n      width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n    }\n\n    return i;\n  }\n  /**\n   * @public\n   * @param {string} font\n   * @return {number} line height\n   */\n\n\n  function getLineHeight(font) {\n    // FIXME A rough approach.\n    return getWidth('', font);\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @return {Object} width\n   */\n\n\n  function measureText(text, font) {\n    return methods$1.measureText(text, font);\n  } // Avoid assign to an exported variable, for transforming to cjs.\n\n\n  methods$1.measureText = function (text, font) {\n    var ctx = getContext$1();\n    ctx.font = font || DEFAULT_FONT;\n    return ctx.measureText(text);\n  };\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @param {Object} [truncate]\n   * @return {Object} block: {lineHeight, lines, height, outerHeight, canCacheByTextString}\n   *  Notice: for performance, do not calculate outerWidth util needed.\n   *  `canCacheByTextString` means the result `lines` is only determined by the input `text`.\n   *  Thus we can simply comparing the `input` text to determin whether the result changed,\n   *  without travel the result `lines`.\n   */\n\n\n  function parsePlainText(text, font, padding, textLineHeight, truncate) {\n    text != null && (text += '');\n    var lineHeight = retrieve2$1(textLineHeight, getLineHeight(font));\n    var lines = text ? text.split('\\n') : [];\n    var height = lines.length * lineHeight;\n    var outerHeight = height;\n    var canCacheByTextString = true;\n\n    if (padding) {\n      outerHeight += padding[0] + padding[2];\n    }\n\n    if (text && truncate) {\n      canCacheByTextString = false;\n      var truncOuterHeight = truncate.outerHeight;\n      var truncOuterWidth = truncate.outerWidth;\n\n      if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n        text = '';\n        lines = [];\n      } else if (truncOuterWidth != null) {\n        var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n          minChar: truncate.minChar,\n          placeholder: truncate.placeholder\n        }); // FIXME\n        // It is not appropriate that every line has '...' when truncate multiple lines.\n\n        for (var i = 0, len = lines.length; i < len; i++) {\n          lines[i] = truncateSingleLine(lines[i], options);\n        }\n      }\n    }\n\n    return {\n      lines: lines,\n      height: height,\n      outerHeight: outerHeight,\n      lineHeight: lineHeight,\n      canCacheByTextString: canCacheByTextString\n    };\n  }\n  /**\n   * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n   * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n   *\n   * @public\n   * @param {string} text\n   * @param {Object} style\n   * @return {Object} block\n   * {\n   *      width,\n   *      height,\n   *      lines: [{\n   *          lineHeight,\n   *          width,\n   *          tokens: [[{\n   *              styleName,\n   *              text,\n   *              width,      // include textPadding\n   *              height,     // include textPadding\n   *              textWidth, // pure text width\n   *              textHeight, // pure text height\n   *              lineHeihgt,\n   *              font,\n   *              textAlign,\n   *              textVerticalAlign\n   *          }], [...], ...]\n   *      }, ...]\n   * }\n   * If styleName is undefined, it is plain text.\n   */\n\n\n  function parseRichText(text, style) {\n    var contentBlock = {\n      lines: [],\n      width: 0,\n      height: 0\n    };\n    text != null && (text += '');\n\n    if (!text) {\n      return contentBlock;\n    }\n\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n\n    while ((result = STYLE_REG.exec(text)) != null) {\n      var matchedIndex = result.index;\n\n      if (matchedIndex > lastIndex) {\n        pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n      }\n\n      pushTokens(contentBlock, result[2], result[1]);\n      lastIndex = STYLE_REG.lastIndex;\n    }\n\n    if (lastIndex < text.length) {\n      pushTokens(contentBlock, text.substring(lastIndex, text.length));\n    }\n\n    var lines = contentBlock.lines;\n    var contentHeight = 0;\n    var contentWidth = 0; // For `textWidth: 100%`\n\n    var pendingList = [];\n    var stlPadding = style.textPadding;\n    var truncate = style.truncate;\n    var truncateWidth = truncate && truncate.outerWidth;\n    var truncateHeight = truncate && truncate.outerHeight;\n\n    if (stlPadding) {\n      truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n      truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n    } // Calculate layout info of tokens.\n\n\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i];\n      var lineHeight = 0;\n      var lineWidth = 0;\n\n      for (var j = 0; j < line.tokens.length; j++) {\n        var token = line.tokens[j];\n        var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n        var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n        var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n        var tokenHeight = token.textHeight = retrieve2$1( // textHeight should not be inherited, consider it can be specified\n        // as box height of the block.\n        tokenStyle.textHeight, getLineHeight(font));\n        textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n        token.height = tokenHeight;\n        token.lineHeight = retrieve3$1(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n        token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n        token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n        if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n          return {\n            lines: [],\n            width: 0,\n            height: 0\n          };\n        }\n\n        token.textWidth = getWidth(token.text, font);\n        var tokenWidth = tokenStyle.textWidth;\n        var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n        // line when box width is needed to be auto.\n\n        if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n          token.percentWidth = tokenWidth;\n          pendingList.push(token);\n          tokenWidth = 0; // Do not truncate in this case, because there is no user case\n          // and it is too complicated.\n        } else {\n          if (tokenWidthNotSpecified) {\n            tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n            // `getBoundingRect()` will not get correct result.\n\n            var textBackgroundColor = tokenStyle.textBackgroundColor;\n            var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n            // (1) If image is not loaded, it will be loaded at render phase and call\n            // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n            // image, and then the right size will be calculated here at the next tick.\n            // See `graphic/helper/text.js`.\n            // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n            // use `imageHelper.findExistImage` to find cached image.\n            // `imageHelper.findExistImage` will always be called here before\n            // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n            // which ensures that image will not be rendered before correct size calcualted.\n\n            if (bgImg) {\n              bgImg = image.findExistImage(bgImg);\n\n              if (image.isImageReady(bgImg)) {\n                tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n              }\n            }\n          }\n\n          var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n          tokenWidth += paddingW;\n          var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n          if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n            if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n              token.text = '';\n              token.textWidth = tokenWidth = 0;\n            } else {\n              token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n                minChar: truncate.minChar\n              });\n              token.textWidth = getWidth(token.text, font);\n              tokenWidth = token.textWidth + paddingW;\n            }\n          }\n        }\n\n        lineWidth += token.width = tokenWidth;\n        tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n      }\n\n      line.width = lineWidth;\n      line.lineHeight = lineHeight;\n      contentHeight += lineHeight;\n      contentWidth = Math.max(contentWidth, lineWidth);\n    }\n\n    contentBlock.outerWidth = contentBlock.width = retrieve2$1(style.textWidth, contentWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2$1(style.textHeight, contentHeight);\n\n    if (stlPadding) {\n      contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n      contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n\n    for (var i = 0; i < pendingList.length; i++) {\n      var token = pendingList[i];\n      var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n      token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n    }\n\n    return contentBlock;\n  }\n\n  function pushTokens(block, str, styleName) {\n    var isEmptyStr = str === '';\n    var strs = str.split('\\n');\n    var lines = block.lines;\n\n    for (var i = 0; i < strs.length; i++) {\n      var text = strs[i];\n      var token = {\n        styleName: styleName,\n        text: text,\n        isLineHolder: !text && !isEmptyStr\n      }; // The first token should be appended to the last line.\n\n      if (!i) {\n        var tokens = (lines[lines.length - 1] || (lines[0] = {\n          tokens: []\n        })).tokens; // Consider cases:\n        // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n        // (which is a placeholder) should be replaced by new token.\n        // (2) A image backage, where token likes {a|}.\n        // (3) A redundant '' will affect textAlign in line.\n        // (4) tokens with the same tplName should not be merged, because\n        // they should be displayed in different box (with border and padding).\n\n        var tokensLen = tokens.length;\n        tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n        // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n        (text || !tokensLen || isEmptyStr) && tokens.push(token);\n      } // Other tokens always start a new line.\n      else {\n          // If there is '', insert it as a placeholder.\n          lines.push({\n            tokens: [token]\n          });\n        }\n    }\n  }\n\n  function makeFont(style) {\n    // FIXME in node-canvas fontWeight is before fontStyle\n    // Use `fontSize` `fontFamily` to check whether font properties are defined.\n    var font = (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n    style.fontFamily || 'sans-serif'].join(' ');\n    return font && trim$2(font) || style.textFont || style.font;\n  }\n\n  var DEFAULT_FONT_1 = DEFAULT_FONT;\n  var $override_1$1 = $override$1;\n  var getWidth_1 = getWidth;\n  var getBoundingRect_1 = getBoundingRect;\n  var adjustTextX_1 = adjustTextX;\n  var adjustTextY_1 = adjustTextY;\n  var calculateTextPosition_1 = calculateTextPosition;\n  var adjustTextPositionOnRect_1 = adjustTextPositionOnRect;\n  var truncateText_1 = truncateText;\n  var getLineHeight_1 = getLineHeight;\n  var measureText_1 = measureText;\n  var parsePlainText_1 = parsePlainText;\n  var parseRichText_1 = parseRichText;\n  var makeFont_1 = makeFont;\n\n  var text = {\n  \tDEFAULT_FONT: DEFAULT_FONT_1,\n  \t$override: $override_1$1,\n  \tgetWidth: getWidth_1,\n  \tgetBoundingRect: getBoundingRect_1,\n  \tadjustTextX: adjustTextX_1,\n  \tadjustTextY: adjustTextY_1,\n  \tcalculateTextPosition: calculateTextPosition_1,\n  \tadjustTextPositionOnRect: adjustTextPositionOnRect_1,\n  \ttruncateText: truncateText_1,\n  \tgetLineHeight: getLineHeight_1,\n  \tmeasureText: measureText_1,\n  \tparsePlainText: parsePlainText_1,\n  \tparseRichText: parseRichText_1,\n  \tmakeFont: makeFont_1\n  };\n\n  /**\n   * @param {Object} ctx\n   * @param {Object} shape\n   * @param {number} shape.x\n   * @param {number} shape.y\n   * @param {number} shape.width\n   * @param {number} shape.height\n   * @param {number} shape.r\n   */\n  function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4; // Convert width and height to positive for better borderRadius\n\n    if (width < 0) {\n      x = x + width;\n      width = -width;\n    }\n\n    if (height < 0) {\n      y = y + height;\n      height = -height;\n    }\n\n    if (typeof r === 'number') {\n      r1 = r2 = r3 = r4 = r;\n    } else if (r instanceof Array) {\n      if (r.length === 1) {\n        r1 = r2 = r3 = r4 = r[0];\n      } else if (r.length === 2) {\n        r1 = r3 = r[0];\n        r2 = r4 = r[1];\n      } else if (r.length === 3) {\n        r1 = r[0];\n        r2 = r4 = r[1];\n        r3 = r[2];\n      } else {\n        r1 = r[0];\n        r2 = r[1];\n        r3 = r[2];\n        r4 = r[3];\n      }\n    } else {\n      r1 = r2 = r3 = r4 = 0;\n    }\n\n    var total;\n\n    if (r1 + r2 > width) {\n      total = r1 + r2;\n      r1 *= width / total;\n      r2 *= width / total;\n    }\n\n    if (r3 + r4 > width) {\n      total = r3 + r4;\n      r3 *= width / total;\n      r4 *= width / total;\n    }\n\n    if (r2 + r3 > height) {\n      total = r2 + r3;\n      r2 *= height / total;\n      r3 *= height / total;\n    }\n\n    if (r1 + r4 > height) {\n      total = r1 + r4;\n      r1 *= height / total;\n      r4 *= height / total;\n    }\n\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n  }\n\n  var buildPath_1 = buildPath;\n\n  var roundRect = {\n  \tbuildPath: buildPath_1\n  };\n\n  var retrieve2$2 = util.retrieve2;\n  var retrieve3$2 = util.retrieve3;\n  var each$1 = util.each;\n  var normalizeCssArray$1 = util.normalizeCssArray;\n  var isString$3 = util.isString;\n  var isObject$4 = util.isObject;\n\n\n\n\n\n\n\n\n\n\n\n  var ContextCachedBy$2 = constant.ContextCachedBy;\n  var WILL_BE_RESTORED$1 = constant.WILL_BE_RESTORED;\n  var DEFAULT_FONT$1 = text.DEFAULT_FONT; // TODO: Have not support 'start', 'end' yet.\n\n  var VALID_TEXT_ALIGN = {\n    left: 1,\n    right: 1,\n    center: 1\n  };\n  var VALID_TEXT_VERTICAL_ALIGN = {\n    top: 1,\n    bottom: 1,\n    middle: 1\n  }; // Different from `STYLE_COMMON_PROPS` of `graphic/Style`,\n  // the default value of shadowColor is `'transparent'`.\n\n  var SHADOW_STYLE_COMMON_PROPS = [['textShadowBlur', 'shadowBlur', 0], ['textShadowOffsetX', 'shadowOffsetX', 0], ['textShadowOffsetY', 'shadowOffsetY', 0], ['textShadowColor', 'shadowColor', 'transparent']];\n  var _tmpTextPositionResult = {};\n  var _tmpBoxPositionResult = {};\n  /**\n   * @param {module:zrender/graphic/Style} style\n   * @return {module:zrender/graphic/Style} The input style.\n   */\n\n  function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each$1(style.rich, normalizeStyle);\n    return style;\n  }\n\n  function normalizeStyle(style) {\n    if (style) {\n      style.font = text.makeFont(style);\n      var textAlign = style.textAlign;\n      textAlign === 'middle' && (textAlign = 'center');\n      style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n      var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n      textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n      style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n      var textPadding = style.textPadding;\n\n      if (textPadding) {\n        style.textPadding = normalizeCssArray$1(style.textPadding);\n      }\n    }\n  }\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @param {string} text\n   * @param {module:zrender/graphic/Style} style\n   * @param {Object|boolean} [rect] {x, y, width, height}\n   *                  If set false, rect text is not used.\n   * @param {Element|module:zrender/graphic/helper/constant.WILL_BE_RESTORED} [prevEl] For ctx prop cache.\n   */\n\n\n  function renderText(hostEl, ctx, text, style, rect, prevEl) {\n    style.rich ? renderRichText(hostEl, ctx, text, style, rect, prevEl) : renderPlainText(hostEl, ctx, text, style, rect, prevEl);\n  } // Avoid setting to ctx according to prevEl if possible for\n  // performance in scenarios of large amount text.\n\n\n  function renderPlainText(hostEl, ctx, text$1, style, rect, prevEl) {\n\n    var needDrawBg = needDrawBackground(style);\n    var prevStyle;\n    var checkCache = false;\n    var cachedByMe = ctx.__attrCachedBy === ContextCachedBy$2.PLAIN_TEXT; // Only take and check cache for `Text` el, but not RectText.\n\n    if (prevEl !== WILL_BE_RESTORED$1) {\n      if (prevEl) {\n        prevStyle = prevEl.style;\n        checkCache = !needDrawBg && cachedByMe && prevStyle;\n      } // Prevent from using cache in `Style::bind`, because of the case:\n      // ctx property is modified by other properties than `Style::bind`\n      // used, and Style::bind is called next.\n\n\n      ctx.__attrCachedBy = needDrawBg ? ContextCachedBy$2.NONE : ContextCachedBy$2.PLAIN_TEXT;\n    } // Since this will be restored, prevent from using these props to check cache in the next\n    // entering of this method. But do not need to clear other cache like `Style::bind`.\n    else if (cachedByMe) {\n        ctx.__attrCachedBy = ContextCachedBy$2.NONE;\n      }\n\n    var styleFont = style.font || DEFAULT_FONT$1; // PENDING\n    // Only `Text` el set `font` and keep it (`RectText` will restore). So theoretically\n    // we can make font cache on ctx, which can cache for text el that are discontinuous.\n    // But layer save/restore needed to be considered.\n    // if (styleFont !== ctx.__fontCache) {\n    //     ctx.font = styleFont;\n    //     if (prevEl !== WILL_BE_RESTORED) {\n    //         ctx.__fontCache = styleFont;\n    //     }\n    // }\n\n    if (!checkCache || styleFont !== (prevStyle.font || DEFAULT_FONT$1)) {\n      ctx.font = styleFont;\n    } // Use the final font from context-2d, because the final\n    // font might not be the style.font when it is illegal.\n    // But get `ctx.font` might be time consuming.\n\n\n    var computedFont = hostEl.__computedFont;\n\n    if (hostEl.__styleFont !== styleFont) {\n      hostEl.__styleFont = styleFont;\n      computedFont = hostEl.__computedFont = ctx.font;\n    }\n\n    var textPadding = style.textPadding;\n    var textLineHeight = style.textLineHeight;\n    var contentBlock = hostEl.__textCotentBlock;\n\n    if (!contentBlock || hostEl.__dirtyText) {\n      contentBlock = hostEl.__textCotentBlock = text.parsePlainText(text$1, computedFont, textPadding, textLineHeight, style.truncate);\n    }\n\n    var outerHeight = contentBlock.outerHeight;\n    var textLines = contentBlock.lines;\n    var lineHeight = contentBlock.lineHeight;\n    var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign || 'left';\n    var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n    var boxY = text.adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var textX = baseX;\n    var textY = boxY;\n\n    if (needDrawBg || textPadding) {\n      // Consider performance, do not call getTextWidth util necessary.\n      var textWidth = text.getWidth(text$1, computedFont);\n      var outerWidth = textWidth;\n      textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n      var boxX = text.adjustTextX(baseX, outerWidth, textAlign);\n      needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n      if (textPadding) {\n        textX = getTextXForPadding(baseX, textAlign, textPadding);\n        textY += textPadding[0];\n      }\n    } // Always set textAlign and textBase line, because it is difficute to calculate\n    // textAlign from prevEl, and we dont sure whether textAlign will be reset if\n    // font set happened.\n\n\n    ctx.textAlign = textAlign; // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n    ctx.textBaseline = 'middle'; // Set text opacity\n\n    ctx.globalAlpha = style.opacity || 1; // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n    for (var i = 0; i < SHADOW_STYLE_COMMON_PROPS.length; i++) {\n      var propItem = SHADOW_STYLE_COMMON_PROPS[i];\n      var styleProp = propItem[0];\n      var ctxProp = propItem[1];\n      var val = style[styleProp];\n\n      if (!checkCache || val !== prevStyle[styleProp]) {\n        ctx[ctxProp] = fixShadow(ctx, ctxProp, val || propItem[2]);\n      }\n    } // `textBaseline` is set as 'middle'.\n\n\n    textY += lineHeight / 2;\n    var textStrokeWidth = style.textStrokeWidth;\n    var textStrokeWidthPrev = checkCache ? prevStyle.textStrokeWidth : null;\n    var strokeWidthChanged = !checkCache || textStrokeWidth !== textStrokeWidthPrev;\n    var strokeChanged = !checkCache || strokeWidthChanged || style.textStroke !== prevStyle.textStroke;\n    var textStroke = getStroke(style.textStroke, textStrokeWidth);\n    var textFill = getFill(style.textFill);\n\n    if (textStroke) {\n      if (strokeWidthChanged) {\n        ctx.lineWidth = textStrokeWidth;\n      }\n\n      if (strokeChanged) {\n        ctx.strokeStyle = textStroke;\n      }\n    }\n\n    if (textFill) {\n      if (!checkCache || style.textFill !== prevStyle.textFill) {\n        ctx.fillStyle = textFill;\n      }\n    } // Optimize simply, in most cases only one line exists.\n\n\n    if (textLines.length === 1) {\n      // Fill after stroke so the outline will not cover the main part.\n      textStroke && ctx.strokeText(textLines[0], textX, textY);\n      textFill && ctx.fillText(textLines[0], textX, textY);\n    } else {\n      for (var i = 0; i < textLines.length; i++) {\n        // Fill after stroke so the outline will not cover the main part.\n        textStroke && ctx.strokeText(textLines[i], textX, textY);\n        textFill && ctx.fillText(textLines[i], textX, textY);\n        textY += lineHeight;\n      }\n    }\n  }\n\n  function renderRichText(hostEl, ctx, text$1, style, rect, prevEl) {\n    // Do not do cache for rich text because of the complexity.\n    // But `RectText` this will be restored, do not need to clear other cache like `Style::bind`.\n    if (prevEl !== WILL_BE_RESTORED$1) {\n      ctx.__attrCachedBy = ContextCachedBy$2.NONE;\n    }\n\n    var contentBlock = hostEl.__textCotentBlock;\n\n    if (!contentBlock || hostEl.__dirtyText) {\n      contentBlock = hostEl.__textCotentBlock = text.parseRichText(text$1, style);\n    }\n\n    drawRichText(hostEl, ctx, contentBlock, style, rect);\n  }\n\n  function drawRichText(hostEl, ctx, contentBlock, style, rect) {\n    var contentWidth = contentBlock.width;\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n    var textPadding = style.textPadding;\n    var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign;\n    var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n    var boxX = text.adjustTextX(baseX, outerWidth, textAlign);\n    var boxY = text.adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var xLeft = boxX;\n    var lineTop = boxY;\n\n    if (textPadding) {\n      xLeft += textPadding[3];\n      lineTop += textPadding[0];\n    }\n\n    var xRight = xLeft + contentWidth;\n    needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    for (var i = 0; i < contentBlock.lines.length; i++) {\n      var line = contentBlock.lines[i];\n      var tokens = line.tokens;\n      var tokenCount = tokens.length;\n      var lineHeight = line.lineHeight;\n      var usedWidth = line.width;\n      var leftIndex = 0;\n      var lineXLeft = xLeft;\n      var lineXRight = xRight;\n      var rightIndex = tokenCount - 1;\n      var token;\n\n      while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n        usedWidth -= token.width;\n        lineXLeft += token.width;\n        leftIndex++;\n      }\n\n      while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n        usedWidth -= token.width;\n        lineXRight -= token.width;\n        rightIndex--;\n      } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n      lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n      while (leftIndex <= rightIndex) {\n        token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n        lineXLeft += token.width;\n        leftIndex++;\n      }\n\n      lineTop += lineHeight;\n    }\n  }\n\n  function applyTextRotation(ctx, style, rect, x, y) {\n    // textRotation only apply in RectText.\n    if (rect && style.textRotation) {\n      var origin = style.textOrigin;\n\n      if (origin === 'center') {\n        x = rect.width / 2 + rect.x;\n        y = rect.height / 2 + rect.y;\n      } else if (origin) {\n        x = origin[0] + rect.x;\n        y = origin[1] + rect.y;\n      }\n\n      ctx.translate(x, y); // Positive: anticlockwise\n\n      ctx.rotate(-style.textRotation);\n      ctx.translate(-x, -y);\n    }\n  }\n\n  function placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n    var tokenStyle = style.rich[token.styleName] || {};\n    tokenStyle.text = token.text; // 'ctx.textBaseline' is always set as 'middle', for sake of\n    // the bias of \"Microsoft YaHei\".\n\n    var textVerticalAlign = token.textVerticalAlign;\n    var y = lineTop + lineHeight / 2;\n\n    if (textVerticalAlign === 'top') {\n      y = lineTop + token.height / 2;\n    } else if (textVerticalAlign === 'bottom') {\n      y = lineTop + lineHeight - token.height / 2;\n    }\n\n    !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n    var textPadding = token.textPadding;\n\n    if (textPadding) {\n      x = getTextXForPadding(x, textAlign, textPadding);\n      y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n    }\n\n    setCtx(ctx, 'shadowBlur', retrieve3$2(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n    setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', retrieve3$2(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n    setCtx(ctx, 'shadowOffsetY', retrieve3$2(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n    setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n    setCtx(ctx, 'textBaseline', 'middle');\n    setCtx(ctx, 'font', token.font || DEFAULT_FONT$1);\n    var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n    var textFill = getFill(tokenStyle.textFill || style.textFill);\n    var textStrokeWidth = retrieve2$2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n    if (textStroke) {\n      setCtx(ctx, 'lineWidth', textStrokeWidth);\n      setCtx(ctx, 'strokeStyle', textStroke);\n      ctx.strokeText(token.text, x, y);\n    }\n\n    if (textFill) {\n      setCtx(ctx, 'fillStyle', textFill);\n      ctx.fillText(token.text, x, y);\n    }\n  }\n\n  function needDrawBackground(style) {\n    return !!(style.textBackgroundColor || style.textBorderWidth && style.textBorderColor);\n  } // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius, text}\n  // shape: {x, y, width, height}\n\n\n  function drawBackground(hostEl, ctx, style, x, y, width, height) {\n    var textBackgroundColor = style.textBackgroundColor;\n    var textBorderWidth = style.textBorderWidth;\n    var textBorderColor = style.textBorderColor;\n    var isPlainBg = isString$3(textBackgroundColor);\n    setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n    setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n    setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n    if (isPlainBg || textBorderWidth && textBorderColor) {\n      ctx.beginPath();\n      var textBorderRadius = style.textBorderRadius;\n\n      if (!textBorderRadius) {\n        ctx.rect(x, y, width, height);\n      } else {\n        roundRect.buildPath(ctx, {\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          r: textBorderRadius\n        });\n      }\n\n      ctx.closePath();\n    }\n\n    if (isPlainBg) {\n      setCtx(ctx, 'fillStyle', textBackgroundColor);\n\n      if (style.fillOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        ctx.fill();\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        ctx.fill();\n      }\n    } else if (isObject$4(textBackgroundColor)) {\n      var image$1 = textBackgroundColor.image;\n      image$1 = image.createOrUpdateImage(image$1, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n      if (image$1 && image.isImageReady(image$1)) {\n        ctx.drawImage(image$1, x, y, width, height);\n      }\n    }\n\n    if (textBorderWidth && textBorderColor) {\n      setCtx(ctx, 'lineWidth', textBorderWidth);\n      setCtx(ctx, 'strokeStyle', textBorderColor);\n\n      if (style.strokeOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        ctx.stroke();\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        ctx.stroke();\n      }\n    }\n  }\n\n  function onBgImageLoaded(image, textBackgroundColor) {\n    // Replace image, so that `contain/text.js#parseRichText`\n    // will get correct result in next tick.\n    textBackgroundColor.image = image;\n  }\n\n  function getBoxPosition(out, hostEl, style, rect) {\n    var baseX = style.x || 0;\n    var baseY = style.y || 0;\n    var textAlign = style.textAlign;\n    var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n    if (rect) {\n      var textPosition = style.textPosition;\n\n      if (textPosition instanceof Array) {\n        // Percent\n        baseX = rect.x + parsePercent(textPosition[0], rect.width);\n        baseY = rect.y + parsePercent(textPosition[1], rect.height);\n      } else {\n        var res = hostEl && hostEl.calculateTextPosition ? hostEl.calculateTextPosition(_tmpTextPositionResult, style, rect) : text.calculateTextPosition(_tmpTextPositionResult, style, rect);\n        baseX = res.x;\n        baseY = res.y; // Default align and baseline when has textPosition\n\n        textAlign = textAlign || res.textAlign;\n        textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n      } // textOffset is only support in RectText, otherwise\n      // we have to adjust boundingRect for textOffset.\n\n\n      var textOffset = style.textOffset;\n\n      if (textOffset) {\n        baseX += textOffset[0];\n        baseY += textOffset[1];\n      }\n    }\n\n    out = out || {};\n    out.baseX = baseX;\n    out.baseY = baseY;\n    out.textAlign = textAlign;\n    out.textVerticalAlign = textVerticalAlign;\n    return out;\n  }\n\n  function setCtx(ctx, prop, value) {\n    ctx[prop] = fixShadow(ctx, prop, value);\n    return ctx[prop];\n  }\n  /**\n   * @param {string} [stroke] If specified, do not check style.textStroke.\n   * @param {string} [lineWidth] If specified, do not check style.textStroke.\n   * @param {number} style\n   */\n\n\n  function getStroke(stroke, lineWidth) {\n    return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n    : stroke.image || stroke.colorStops ? '#000' : stroke;\n  }\n\n  function getFill(fill) {\n    return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n    : fill.image || fill.colorStops ? '#000' : fill;\n  }\n\n  function parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n      if (value.lastIndexOf('%') >= 0) {\n        return parseFloat(value) / 100 * maxValue;\n      }\n\n      return parseFloat(value);\n    }\n\n    return value;\n  }\n\n  function getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n  }\n  /**\n   * @param {string} text\n   * @param {module:zrender/Style} style\n   * @return {boolean}\n   */\n\n\n  function needDrawText(text, style) {\n    return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n  }\n\n  var normalizeTextStyle_1 = normalizeTextStyle;\n  var renderText_1 = renderText;\n  var getBoxPosition_1 = getBoxPosition;\n  var getStroke_1 = getStroke;\n  var getFill_1 = getFill;\n  var parsePercent_1 = parsePercent;\n  var needDrawText_1 = needDrawText;\n\n  var text$1 = {\n  \tnormalizeTextStyle: normalizeTextStyle_1,\n  \trenderText: renderText_1,\n  \tgetBoxPosition: getBoxPosition_1,\n  \tgetStroke: getStroke_1,\n  \tgetFill: getFill_1,\n  \tparsePercent: parsePercent_1,\n  \tneedDrawText: needDrawText_1\n  };\n\n  var WILL_BE_RESTORED$2 = constant.WILL_BE_RESTORED;\n\n  /**\n   * Mixin for drawing text in a element bounding rect\n   * @module zrender/mixin/RectText\n   */\n  var tmpRect = new BoundingRect_1();\n\n  var RectText = function () {};\n\n  RectText.prototype = {\n    constructor: RectText,\n\n    /**\n     * Draw text in a rect with specified position.\n     * @param  {CanvasRenderingContext2D} ctx\n     * @param  {Object} rect Displayable rect\n     */\n    drawRectText: function (ctx, rect) {\n      var style = this.style;\n      rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true);\n      var text = style.text; // Convert to string\n\n      text != null && (text += '');\n\n      if (!text$1.needDrawText(text, style)) {\n        return;\n      } // FIXME\n      // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n      // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n      // text propably break the cache for its host elements.\n\n\n      ctx.save(); // Transform rect to view space\n\n      var transform = this.transform;\n\n      if (!style.transformText) {\n        if (transform) {\n          tmpRect.copy(rect);\n          tmpRect.applyTransform(transform);\n          rect = tmpRect;\n        }\n      } else {\n        this.setTransform(ctx);\n      } // transformText and textRotation can not be used at the same time.\n\n\n      text$1.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED$2);\n      ctx.restore();\n    }\n  };\n  var _default$m = RectText;\n  var RectText_1 = _default$m;\n\n  /**\n   * Base class of all displayable graphic objects\n   * @module zrender/graphic/Displayable\n   */\n\n  /**\n   * @alias module:zrender/graphic/Displayable\n   * @extends module:zrender/Element\n   * @extends module:zrender/graphic/mixin/RectText\n   */\n  function Displayable(opts) {\n    opts = opts || {};\n    Element_1.call(this, opts); // Extend properties\n\n    for (var name in opts) {\n      if (opts.hasOwnProperty(name) && name !== 'style') {\n        this[name] = opts[name];\n      }\n    }\n    /**\n     * @type {module:zrender/graphic/Style}\n     */\n\n\n    this.style = new Style_1(opts.style, this);\n    this._rect = null; // Shapes for cascade clipping.\n    // Can only be `null`/`undefined` or an non-empty array, MUST NOT be an empty array.\n    // because it is easy to only using null to check whether clipPaths changed.\n\n    this.__clipPaths = null; // FIXME Stateful must be mixined after style is setted\n    // Stateful.call(this, opts);\n  }\n\n  Displayable.prototype = {\n    constructor: Displayable,\n    type: 'displayable',\n\n    /**\n     * Dirty flag. From which painter will determine if this displayable object needs brush.\n     * @name module:zrender/graphic/Displayable#__dirty\n     * @type {boolean}\n     */\n    __dirty: true,\n\n    /**\n     * Whether the displayable object is visible. when it is true, the displayable object\n     * is not drawn, but the mouse event can still trigger the object.\n     * @name module:/zrender/graphic/Displayable#invisible\n     * @type {boolean}\n     * @default false\n     */\n    invisible: false,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z: 0,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z2: 0,\n\n    /**\n     * The z level determines the displayable object can be drawn in which layer canvas.\n     * @name module:/zrender/graphic/Displayable#zlevel\n     * @type {number}\n     * @default 0\n     */\n    zlevel: 0,\n\n    /**\n     * Whether it can be dragged.\n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    draggable: false,\n\n    /**\n     * Whether is it dragging.\n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    dragging: false,\n\n    /**\n     * Whether to respond to mouse events.\n     * @name module:/zrender/graphic/Displayable#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * If enable culling\n     * @type {boolean}\n     * @default false\n     */\n    culling: false,\n\n    /**\n     * Mouse cursor when hovered\n     * @name module:/zrender/graphic/Displayable#cursor\n     * @type {string}\n     */\n    cursor: 'pointer',\n\n    /**\n     * If hover area is bounding rect\n     * @name module:/zrender/graphic/Displayable#rectHover\n     * @type {string}\n     */\n    rectHover: false,\n\n    /**\n     * Render the element progressively when the value >= 0,\n     * usefull for large data.\n     * @type {boolean}\n     */\n    progressive: false,\n\n    /**\n     * @type {boolean}\n     */\n    incremental: false,\n\n    /**\n     * Scale ratio for global scale.\n     * @type {boolean}\n     */\n    globalScaleRatio: 1,\n    beforeBrush: function (ctx) {},\n    afterBrush: function (ctx) {},\n\n    /**\n     * Graphic drawing method.\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    // Interface\n    brush: function (ctx, prevEl) {},\n\n    /**\n     * Get the minimum bounding box.\n     * @return {module:zrender/core/BoundingRect}\n     */\n    // Interface\n    getBoundingRect: function () {},\n\n    /**\n     * If displayable element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    contain: function (x, y) {\n      return this.rectContain(x, y);\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n      cb.call(context, this);\n    },\n\n    /**\n     * If bounding rect of element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    rectContain: function (x, y) {\n      var coord = this.transformCoordToLocal(x, y);\n      var rect = this.getBoundingRect();\n      return rect.contain(coord[0], coord[1]);\n    },\n\n    /**\n     * Mark displayable element dirty and refresh next frame\n     */\n    dirty: function () {\n      this.__dirty = this.__dirtyText = true;\n      this._rect = null;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * If displayable object binded any event\n     * @return {boolean}\n     */\n    // TODO, events bound by bind\n    // isSilent: function () {\n    //     return !(\n    //         this.hoverable || this.draggable\n    //         || this.onmousemove || this.onmouseover || this.onmouseout\n    //         || this.onmousedown || this.onmouseup || this.onclick\n    //         || this.ondragenter || this.ondragover || this.ondragleave\n    //         || this.ondrop\n    //     );\n    // },\n\n    /**\n     * Alias for animate('style')\n     * @param {boolean} loop\n     */\n    animateStyle: function (loop) {\n      return this.animate('style', loop);\n    },\n    attrKV: function (key, value) {\n      if (key !== 'style') {\n        Element_1.prototype.attrKV.call(this, key, value);\n      } else {\n        this.style.set(value);\n      }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setStyle: function (key, value) {\n      this.style.set(key, value);\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * Use given style object\n     * @param  {Object} obj\n     */\n    useStyle: function (obj) {\n      this.style = new Style_1(obj, this);\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * The string value of `textPosition` needs to be calculated to a real postion.\n     * For example, `'inside'` is calculated to `[rect.width/2, rect.height/2]`\n     * by default. See `contain/text.js#calculateTextPosition` for more details.\n     * But some coutom shapes like \"pin\", \"flag\" have center that is not exactly\n     * `[width/2, height/2]`. So we provide this hook to customize the calculation\n     * for those shapes. It will be called if the `style.textPosition` is a string.\n     * @param {Obejct} [out] Prepared out object. If not provided, this method should\n     *        be responsible for creating one.\n     * @param {module:zrender/graphic/Style} style\n     * @param {Object} rect {x, y, width, height}\n     * @return {Obejct} out The same as the input out.\n     *         {\n     *             x: number. mandatory.\n     *             y: number. mandatory.\n     *             textAlign: string. optional. use style.textAlign by default.\n     *             textVerticalAlign: string. optional. use style.textVerticalAlign by default.\n     *         }\n     */\n    calculateTextPosition: null\n  };\n  util.inherits(Displayable, Element_1);\n  util.mixin(Displayable, RectText_1); // zrUtil.mixin(Displayable, Stateful);\n\n  var _default$n = Displayable;\n  var Displayable_1 = _default$n;\n\n  /**\n   * @alias zrender/graphic/Image\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n  function ZImage(opts) {\n    Displayable_1.call(this, opts);\n  }\n\n  ZImage.prototype = {\n    constructor: ZImage,\n    type: 'image',\n    brush: function (ctx, prevEl) {\n      var style = this.style;\n      var src = style.image; // Must bind each time\n\n      style.bind(ctx, this, prevEl);\n      var image$1 = this._image = image.createOrUpdateImage(src, this._image, this, this.onload);\n\n      if (!image$1 || !image.isImageReady(image$1)) {\n        return;\n      } // \n      // if (image.nodeName.toUpperCase() == 'IMG') {\n      //     if (!image.complete) {\n      //         return;\n      //     }\n      // }\n      // Else is canvas\n\n\n      var x = style.x || 0;\n      var y = style.y || 0;\n      var width = style.width;\n      var height = style.height;\n      var aspect = image$1.width / image$1.height;\n\n      if (width == null && height != null) {\n        // Keep image/height ratio\n        width = height * aspect;\n      } else if (height == null && width != null) {\n        height = width / aspect;\n      } else if (width == null && height == null) {\n        width = image$1.width;\n        height = image$1.height;\n      } // transform\n\n\n      this.setTransform(ctx);\n\n      if (style.sWidth && style.sHeight) {\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n        ctx.drawImage(image$1, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n      } else if (style.sx && style.sy) {\n        var sx = style.sx;\n        var sy = style.sy;\n        var sWidth = width - sx;\n        var sHeight = height - sy;\n        ctx.drawImage(image$1, sx, sy, sWidth, sHeight, x, y, width, height);\n      } else {\n        ctx.drawImage(image$1, x, y, width, height);\n      } // Draw rect text\n\n\n      if (style.text != null) {\n        // Only restore transform when needs draw text.\n        this.restoreTransform(ctx);\n        this.drawRectText(ctx, this.getBoundingRect());\n      }\n    },\n    getBoundingRect: function () {\n      var style = this.style;\n\n      if (!this._rect) {\n        this._rect = new BoundingRect_1(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n      }\n\n      return this._rect;\n    }\n  };\n  util.inherits(ZImage, Displayable_1);\n  var _default$o = ZImage;\n  var Image$1 = _default$o;\n\n  var devicePixelRatio$2 = config.devicePixelRatio;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var HOVER_LAYER_ZLEVEL = 1e5;\n  var CANVAS_ZLEVEL = 314159;\n  var EL_AFTER_INCREMENTAL_INC = 0.01;\n  var INCREMENTAL_INC = 0.001;\n\n  function parseInt10(val) {\n    return parseInt(val, 10);\n  }\n\n  function isLayerValid(layer) {\n    if (!layer) {\n      return false;\n    }\n\n    if (layer.__builtin__) {\n      return true;\n    }\n\n    if (typeof layer.resize !== 'function' || typeof layer.refresh !== 'function') {\n      return false;\n    }\n\n    return true;\n  }\n\n  var tmpRect$1 = new BoundingRect_1(0, 0, 0, 0);\n  var viewRect = new BoundingRect_1(0, 0, 0, 0);\n\n  function isDisplayableCulled(el, width, height) {\n    tmpRect$1.copy(el.getBoundingRect());\n\n    if (el.transform) {\n      tmpRect$1.applyTransform(el.transform);\n    }\n\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect$1.intersect(viewRect);\n  }\n\n  function isClipPathChanged(clipPaths, prevClipPaths) {\n    // displayable.__clipPaths can only be `null`/`undefined` or an non-empty array.\n    if (clipPaths === prevClipPaths) {\n      return false;\n    }\n\n    if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n      return true;\n    }\n\n    for (var i = 0; i < clipPaths.length; i++) {\n      if (clipPaths[i] !== prevClipPaths[i]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function doClip(clipPaths, ctx) {\n    for (var i = 0; i < clipPaths.length; i++) {\n      var clipPath = clipPaths[i];\n      clipPath.setTransform(ctx);\n      ctx.beginPath();\n      clipPath.buildPath(ctx, clipPath.shape);\n      ctx.clip(); // Transform back\n\n      clipPath.restoreTransform(ctx);\n    }\n  }\n\n  function createRoot(width, height) {\n    var domRoot = document.createElement('div'); // domRoot.onselectstart = returnFalse; // Avoid page selected\n\n    domRoot.style.cssText = ['position:relative', // IOS13 safari probably has a compositing bug (z order of the canvas and the consequent\n    // dom does not act as expected) when some of the parent dom has\n    // `-webkit-overflow-scrolling: touch;` and the webpage is longer than one screen and\n    // the canvas is not at the top part of the page.\n    // Check `https://bugs.webkit.org/show_bug.cgi?id=203681` for more details. We remove\n    // this `overflow:hidden` to avoid the bug.\n    // 'overflow:hidden',\n    'width:' + width + 'px', 'height:' + height + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';';\n    return domRoot;\n  }\n  /**\n   * @alias module:zrender/Painter\n   * @constructor\n   * @param {HTMLElement} root \n   * @param {module:zrender/Storage} storage\n   * @param {Object} opts\n   */\n\n\n  var Painter = function (root, storage, opts) {\n    this.type = 'canvas'; // In node environment using node-canvas\n\n    var singleCanvas = !root.nodeName // In node ?\n    || root.nodeName.toUpperCase() === 'CANVAS';\n    this._opts = opts = util.extend({}, opts || {});\n    /**\n     * @type {number}\n     */\n\n    this.dpr = opts.devicePixelRatio || devicePixelRatio$2;\n    /**\n     * @type {boolean}\n     * @private\n     */\n\n    this._singleCanvas = singleCanvas;\n    /**\n     * \n     * @type {HTMLElement}\n     */\n\n    this.root = root;\n    var rootStyle = root.style;\n\n    if (rootStyle) {\n      rootStyle['-webkit-tap-highlight-color'] = 'transparent';\n      rootStyle['-webkit-user-select'] = rootStyle['user-select'] = rootStyle['-webkit-touch-callout'] = 'none';\n      root.innerHTML = '';\n    }\n    /**\n     * @type {module:zrender/Storage}\n     */\n\n\n    this.storage = storage;\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n\n    var zlevelList = this._zlevelList = [];\n    /**\n     * @type {Object.<string, module:zrender/Layer>}\n     * @private\n     */\n\n    var layers = this._layers = {};\n    /**\n     * @type {Object.<string, Object>}\n     * @private\n     */\n\n    this._layerConfig = {};\n    /**\n     * zrender will do compositing when root is a canvas and have multiple zlevels.\n     */\n\n    this._needsManuallyCompositing = false;\n\n    if (!singleCanvas) {\n      this._width = this._getSize(0);\n      this._height = this._getSize(1);\n      var domRoot = this._domRoot = createRoot(this._width, this._height);\n      root.appendChild(domRoot);\n    } else {\n      var width = root.width;\n      var height = root.height;\n\n      if (opts.width != null) {\n        width = opts.width;\n      }\n\n      if (opts.height != null) {\n        height = opts.height;\n      }\n\n      this.dpr = opts.devicePixelRatio || 1; // Use canvas width and height directly\n\n      root.width = width * this.dpr;\n      root.height = height * this.dpr;\n      this._width = width;\n      this._height = height; // Create layer if only one given canvas\n      // Device can be specified to create a high dpi image.\n\n      var mainLayer = new Layer_1(root, this, this.dpr);\n      mainLayer.__builtin__ = true;\n      mainLayer.initContext(); // FIXME Use canvas width and height\n      // mainLayer.resize(width, height);\n\n      layers[CANVAS_ZLEVEL] = mainLayer;\n      mainLayer.zlevel = CANVAS_ZLEVEL; // Not use common zlevel.\n\n      zlevelList.push(CANVAS_ZLEVEL);\n      this._domRoot = root;\n    }\n    /**\n     * @type {module:zrender/Layer}\n     * @private\n     */\n\n\n    this._hoverlayer = null;\n    this._hoverElements = [];\n  };\n\n  Painter.prototype = {\n    constructor: Painter,\n    getType: function () {\n      return 'canvas';\n    },\n\n    /**\n     * If painter use a single canvas\n     * @return {boolean}\n     */\n    isSingleCanvas: function () {\n      return this._singleCanvas;\n    },\n\n    /**\n     * @return {HTMLDivElement}\n     */\n    getViewportRoot: function () {\n      return this._domRoot;\n    },\n    getViewportRootOffset: function () {\n      var viewportRoot = this.getViewportRoot();\n\n      if (viewportRoot) {\n        return {\n          offsetLeft: viewportRoot.offsetLeft || 0,\n          offsetTop: viewportRoot.offsetTop || 0\n        };\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [paintAll=false] displayable\n     */\n    refresh: function (paintAll) {\n      var list = this.storage.getDisplayList(true);\n      var zlevelList = this._zlevelList;\n      this._redrawId = Math.random();\n\n      this._paintList(list, paintAll, this._redrawId); // Paint custum layers\n\n\n      for (var i = 0; i < zlevelList.length; i++) {\n        var z = zlevelList[i];\n        var layer = this._layers[z];\n\n        if (!layer.__builtin__ && layer.refresh) {\n          var clearColor = i === 0 ? this._backgroundColor : null;\n          layer.refresh(clearColor);\n        }\n      }\n\n      this.refreshHover();\n      return this;\n    },\n    addHover: function (el, hoverStyle) {\n      if (el.__hoverMir) {\n        return;\n      }\n\n      var elMirror = new el.constructor({\n        style: el.style,\n        shape: el.shape,\n        z: el.z,\n        z2: el.z2,\n        silent: el.silent\n      });\n      elMirror.__from = el;\n      el.__hoverMir = elMirror;\n      hoverStyle && elMirror.setStyle(hoverStyle);\n\n      this._hoverElements.push(elMirror);\n\n      return elMirror;\n    },\n    removeHover: function (el) {\n      var elMirror = el.__hoverMir;\n      var hoverElements = this._hoverElements;\n      var idx = util.indexOf(hoverElements, elMirror);\n\n      if (idx >= 0) {\n        hoverElements.splice(idx, 1);\n      }\n\n      el.__hoverMir = null;\n    },\n    clearHover: function (el) {\n      var hoverElements = this._hoverElements;\n\n      for (var i = 0; i < hoverElements.length; i++) {\n        var from = hoverElements[i].__from;\n\n        if (from) {\n          from.__hoverMir = null;\n        }\n      }\n\n      hoverElements.length = 0;\n    },\n    refreshHover: function () {\n      var hoverElements = this._hoverElements;\n      var len = hoverElements.length;\n      var hoverLayer = this._hoverlayer;\n      hoverLayer && hoverLayer.clear();\n\n      if (!len) {\n        return;\n      }\n\n      timsort(hoverElements, this.storage.displayableSortFunc); // Use a extream large zlevel\n      // FIXME?\n\n      if (!hoverLayer) {\n        hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n      }\n\n      var scope = {};\n      hoverLayer.ctx.save();\n\n      for (var i = 0; i < len;) {\n        var el = hoverElements[i];\n        var originalEl = el.__from; // Original el is removed\n        // PENDING\n\n        if (!(originalEl && originalEl.__zr)) {\n          hoverElements.splice(i, 1);\n          originalEl.__hoverMir = null;\n          len--;\n          continue;\n        }\n\n        i++; // Use transform\n        // FIXME style and shape ?\n\n        if (!originalEl.invisible) {\n          el.transform = originalEl.transform;\n          el.invTransform = originalEl.invTransform;\n          el.__clipPaths = originalEl.__clipPaths; // el.\n\n          this._doPaintEl(el, hoverLayer, true, scope);\n        }\n      }\n\n      hoverLayer.ctx.restore();\n    },\n    getHoverLayer: function () {\n      return this.getLayer(HOVER_LAYER_ZLEVEL);\n    },\n    _paintList: function (list, paintAll, redrawId) {\n      if (this._redrawId !== redrawId) {\n        return;\n      }\n\n      paintAll = paintAll || false;\n\n      this._updateLayerStatus(list);\n\n      var finished = this._doPaintList(list, paintAll);\n\n      if (this._needsManuallyCompositing) {\n        this._compositeManually();\n      }\n\n      if (!finished) {\n        var self = this;\n        requestAnimationFrame(function () {\n          self._paintList(list, paintAll, redrawId);\n        });\n      }\n    },\n    _compositeManually: function () {\n      var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n      var width = this._domRoot.width;\n      var height = this._domRoot.height;\n      ctx.clearRect(0, 0, width, height); // PENDING, If only builtin layer?\n\n      this.eachBuiltinLayer(function (layer) {\n        if (layer.virtual) {\n          ctx.drawImage(layer.dom, 0, 0, width, height);\n        }\n      });\n    },\n    _doPaintList: function (list, paintAll) {\n      var layerList = [];\n\n      for (var zi = 0; zi < this._zlevelList.length; zi++) {\n        var zlevel = this._zlevelList[zi];\n        var layer = this._layers[zlevel];\n\n        if (layer.__builtin__ && layer !== this._hoverlayer && (layer.__dirty || paintAll)) {\n          layerList.push(layer);\n        }\n      }\n\n      var finished = true;\n\n      for (var k = 0; k < layerList.length; k++) {\n        var layer = layerList[k];\n        var ctx = layer.ctx;\n        var scope = {};\n        ctx.save();\n        var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n        var useTimer = !paintAll && layer.incremental && Date.now;\n        var startTime = useTimer && Date.now();\n        var clearColor = layer.zlevel === this._zlevelList[0] ? this._backgroundColor : null; // All elements in this layer are cleared.\n\n        if (layer.__startIndex === layer.__endIndex) {\n          layer.clear(false, clearColor);\n        } else if (start === layer.__startIndex) {\n          var firstEl = list[start];\n\n          if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n            layer.clear(false, clearColor);\n          }\n        }\n\n        if (start === -1) {\n          console.error('For some unknown reason. drawIndex is -1');\n          start = layer.__startIndex;\n        }\n\n        for (var i = start; i < layer.__endIndex; i++) {\n          var el = list[i];\n\n          this._doPaintEl(el, layer, paintAll, scope);\n\n          el.__dirty = el.__dirtyText = false;\n\n          if (useTimer) {\n            // Date.now can be executed in 13,025,305 ops/second.\n            var dTime = Date.now() - startTime; // Give 15 millisecond to draw.\n            // The rest elements will be drawn in the next frame.\n\n            if (dTime > 15) {\n              break;\n            }\n          }\n        }\n\n        layer.__drawIndex = i;\n\n        if (layer.__drawIndex < layer.__endIndex) {\n          finished = false;\n        }\n\n        if (scope.prevElClipPaths) {\n          // Needs restore the state. If last drawn element is in the clipping area.\n          ctx.restore();\n        }\n\n        ctx.restore();\n      }\n\n      if (env_1.wxa) {\n        // Flush for weixin application\n        util.each(this._layers, function (layer) {\n          if (layer && layer.ctx && layer.ctx.draw) {\n            layer.ctx.draw();\n          }\n        });\n      }\n\n      return finished;\n    },\n    _doPaintEl: function (el, currentLayer, forcePaint, scope) {\n      var ctx = currentLayer.ctx;\n      var m = el.transform;\n\n      if ((currentLayer.__dirty || forcePaint) && // Ignore invisible element\n      !el.invisible // Ignore transparent element\n      && el.style.opacity !== 0 // Ignore scale 0 element, in some environment like node-canvas\n      // Draw a scale 0 element can cause all following draw wrong\n      // And setTransform with scale 0 will cause set back transform failed.\n      && !(m && !m[0] && !m[3]) // Ignore culled element\n      && !(el.culling && isDisplayableCulled(el, this._width, this._height))) {\n        var clipPaths = el.__clipPaths;\n        var prevElClipPaths = scope.prevElClipPaths; // Optimize when clipping on group with several elements\n\n        if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n          // If has previous clipping state, restore from it\n          if (prevElClipPaths) {\n            ctx.restore();\n            scope.prevElClipPaths = null; // Reset prevEl since context has been restored\n\n            scope.prevEl = null;\n          } // New clipping state\n\n\n          if (clipPaths) {\n            ctx.save();\n            doClip(clipPaths, ctx);\n            scope.prevElClipPaths = clipPaths;\n          }\n        }\n\n        el.beforeBrush && el.beforeBrush(ctx);\n        el.brush(ctx, scope.prevEl || null);\n        scope.prevEl = el;\n        el.afterBrush && el.afterBrush(ctx);\n      }\n    },\n\n    /**\n     *  zlevel \n     * @param {number} zlevel\n     * @param {boolean} virtual Virtual layer will not be inserted into dom.\n     * @return {module:zrender/Layer}\n     */\n    getLayer: function (zlevel, virtual) {\n      if (this._singleCanvas && !this._needsManuallyCompositing) {\n        zlevel = CANVAS_ZLEVEL;\n      }\n\n      var layer = this._layers[zlevel];\n\n      if (!layer) {\n        // Create a new layer\n        layer = new Layer_1('zr_' + zlevel, this, this.dpr);\n        layer.zlevel = zlevel;\n        layer.__builtin__ = true;\n\n        if (this._layerConfig[zlevel]) {\n          util.merge(layer, this._layerConfig[zlevel], true);\n        } // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n        else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {\n            util.merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);\n          }\n\n        if (virtual) {\n          layer.virtual = virtual;\n        }\n\n        this.insertLayer(zlevel, layer); // Context is created after dom inserted to document\n        // Or excanvas will get 0px clientWidth and clientHeight\n\n        layer.initContext();\n      }\n\n      return layer;\n    },\n    insertLayer: function (zlevel, layer) {\n      var layersMap = this._layers;\n      var zlevelList = this._zlevelList;\n      var len = zlevelList.length;\n      var prevLayer = null;\n      var i = -1;\n      var domRoot = this._domRoot;\n\n      if (layersMap[zlevel]) {\n        return;\n      } // Check if is a valid layer\n\n\n      if (!isLayerValid(layer)) {\n        return;\n      }\n\n      if (len > 0 && zlevel > zlevelList[0]) {\n        for (i = 0; i < len - 1; i++) {\n          if (zlevelList[i] < zlevel && zlevelList[i + 1] > zlevel) {\n            break;\n          }\n        }\n\n        prevLayer = layersMap[zlevelList[i]];\n      }\n\n      zlevelList.splice(i + 1, 0, zlevel);\n      layersMap[zlevel] = layer; // Vitual layer will not directly show on the screen.\n      // (It can be a WebGL layer and assigned to a ZImage element)\n      // But it still under management of zrender.\n\n      if (!layer.virtual) {\n        if (prevLayer) {\n          var prevDom = prevLayer.dom;\n\n          if (prevDom.nextSibling) {\n            domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n          } else {\n            domRoot.appendChild(layer.dom);\n          }\n        } else {\n          if (domRoot.firstChild) {\n            domRoot.insertBefore(layer.dom, domRoot.firstChild);\n          } else {\n            domRoot.appendChild(layer.dom);\n          }\n        }\n      }\n    },\n    // Iterate each layer\n    eachLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        cb.call(context, this._layers[z], z);\n      }\n    },\n    // Iterate each buildin layer\n    eachBuiltinLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var layer;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        layer = this._layers[z];\n\n        if (layer.__builtin__) {\n          cb.call(context, layer, z);\n        }\n      }\n    },\n    // Iterate each other layer except buildin layer\n    eachOtherLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var layer;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        layer = this._layers[z];\n\n        if (!layer.__builtin__) {\n          cb.call(context, layer, z);\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {Array.<module:zrender/Layer>} [prevLayer]\n     */\n    getLayers: function () {\n      return this._layers;\n    },\n    _updateLayerStatus: function (list) {\n      this.eachBuiltinLayer(function (layer, z) {\n        layer.__dirty = layer.__used = false;\n      });\n\n      function updatePrevLayer(idx) {\n        if (prevLayer) {\n          if (prevLayer.__endIndex !== idx) {\n            prevLayer.__dirty = true;\n          }\n\n          prevLayer.__endIndex = idx;\n        }\n      }\n\n      if (this._singleCanvas) {\n        for (var i = 1; i < list.length; i++) {\n          var el = list[i];\n\n          if (el.zlevel !== list[i - 1].zlevel || el.incremental) {\n            this._needsManuallyCompositing = true;\n            break;\n          }\n        }\n      }\n\n      var prevLayer = null;\n      var incrementalLayerCount = 0;\n      var prevZlevel;\n\n      for (var i = 0; i < list.length; i++) {\n        var el = list[i];\n        var zlevel = el.zlevel;\n        var layer;\n\n        if (prevZlevel !== zlevel) {\n          prevZlevel = zlevel;\n          incrementalLayerCount = 0;\n        } // TODO Not use magic number on zlevel.\n        // Each layer with increment element can be separated to 3 layers.\n        //          (Other Element drawn after incremental element)\n        // -----------------zlevel + EL_AFTER_INCREMENTAL_INC--------------------\n        //                      (Incremental element)\n        // ----------------------zlevel + INCREMENTAL_INC------------------------\n        //              (Element drawn before incremental element)\n        // --------------------------------zlevel--------------------------------\n\n\n        if (el.incremental) {\n          layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n          layer.incremental = true;\n          incrementalLayerCount = 1;\n        } else {\n          layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n        }\n\n        if (!layer.__builtin__) {\n          log('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n        }\n\n        if (layer !== prevLayer) {\n          layer.__used = true;\n\n          if (layer.__startIndex !== i) {\n            layer.__dirty = true;\n          }\n\n          layer.__startIndex = i;\n\n          if (!layer.incremental) {\n            layer.__drawIndex = i;\n          } else {\n            // Mark layer draw index needs to update.\n            layer.__drawIndex = -1;\n          }\n\n          updatePrevLayer(i);\n          prevLayer = layer;\n        }\n\n        if (el.__dirty) {\n          layer.__dirty = true;\n\n          if (layer.incremental && layer.__drawIndex < 0) {\n            // Start draw from the first dirty element.\n            layer.__drawIndex = i;\n          }\n        }\n      }\n\n      updatePrevLayer(i);\n      this.eachBuiltinLayer(function (layer, z) {\n        // Used in last frame but not in this frame. Needs clear\n        if (!layer.__used && layer.getElementCount() > 0) {\n          layer.__dirty = true;\n          layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n        } // For incremental layer. In case start index changed and no elements are dirty.\n\n\n        if (layer.__dirty && layer.__drawIndex < 0) {\n          layer.__drawIndex = layer.__startIndex;\n        }\n      });\n    },\n\n    /**\n     * hover\n     */\n    clear: function () {\n      this.eachBuiltinLayer(this._clearLayer);\n      return this;\n    },\n    _clearLayer: function (layer) {\n      layer.clear();\n    },\n    setBackgroundColor: function (backgroundColor) {\n      this._backgroundColor = backgroundColor;\n    },\n\n    /**\n     * zlevel\n     *\n     * @param {string} zlevel\n     * @param {Object} config \n     * @param {string} [config.clearColor=0] \n     * @param {string} [config.motionBlur=false] \n     * @param {number} [config.lastFrameAlpha=0.7]\n     *                 alpha\n     */\n    configLayer: function (zlevel, config) {\n      if (config) {\n        var layerConfig = this._layerConfig;\n\n        if (!layerConfig[zlevel]) {\n          layerConfig[zlevel] = config;\n        } else {\n          util.merge(layerConfig[zlevel], config, true);\n        }\n\n        for (var i = 0; i < this._zlevelList.length; i++) {\n          var _zlevel = this._zlevelList[i]; // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n\n          if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n            var layer = this._layers[_zlevel];\n            util.merge(layer, layerConfig[zlevel], true);\n          }\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {number} zlevel zlevel\n     */\n    delLayer: function (zlevel) {\n      var layers = this._layers;\n      var zlevelList = this._zlevelList;\n      var layer = layers[zlevel];\n\n      if (!layer) {\n        return;\n      }\n\n      layer.dom.parentNode.removeChild(layer.dom);\n      delete layers[zlevel];\n      zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n    },\n\n    /**\n     * \n     */\n    resize: function (width, height) {\n      if (!this._domRoot.style) {\n        // Maybe in node or worker\n        if (width == null || height == null) {\n          return;\n        }\n\n        this._width = width;\n        this._height = height;\n        this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n      } else {\n        var domRoot = this._domRoot; // FIXME Why ?\n\n        domRoot.style.display = 'none'; // Save input w/h\n\n        var opts = this._opts;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n        width = this._getSize(0);\n        height = this._getSize(1);\n        domRoot.style.display = ''; // resize\n\n        if (this._width !== width || height !== this._height) {\n          domRoot.style.width = width + 'px';\n          domRoot.style.height = height + 'px';\n\n          for (var id in this._layers) {\n            if (this._layers.hasOwnProperty(id)) {\n              this._layers[id].resize(width, height);\n            }\n          }\n\n          util.each(this._progressiveLayers, function (layer) {\n            layer.resize(width, height);\n          });\n          this.refresh(true);\n        }\n\n        this._width = width;\n        this._height = height;\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param {number} zlevel\n     */\n    clearLayer: function (zlevel) {\n      var layer = this._layers[zlevel];\n\n      if (layer) {\n        layer.clear();\n      }\n    },\n\n    /**\n     * \n     */\n    dispose: function () {\n      this.root.innerHTML = '';\n      this.root = this.storage = this._domRoot = this._layers = null;\n    },\n\n    /**\n     * Get canvas which has all thing rendered\n     * @param {Object} opts\n     * @param {string} [opts.backgroundColor]\n     * @param {number} [opts.pixelRatio]\n     */\n    getRenderedCanvas: function (opts) {\n      opts = opts || {};\n\n      if (this._singleCanvas && !this._compositeManually) {\n        return this._layers[CANVAS_ZLEVEL].dom;\n      }\n\n      var imageLayer = new Layer_1('image', this, opts.pixelRatio || this.dpr);\n      imageLayer.initContext();\n      imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n\n      if (opts.pixelRatio <= this.dpr) {\n        this.refresh();\n        var width = imageLayer.dom.width;\n        var height = imageLayer.dom.height;\n        var ctx = imageLayer.ctx;\n        this.eachLayer(function (layer) {\n          if (layer.__builtin__) {\n            ctx.drawImage(layer.dom, 0, 0, width, height);\n          } else if (layer.renderToCanvas) {\n            imageLayer.ctx.save();\n            layer.renderToCanvas(imageLayer.ctx);\n            imageLayer.ctx.restore();\n          }\n        });\n      } else {\n        // PENDING, echarts-gl and incremental rendering.\n        var scope = {};\n        var displayList = this.storage.getDisplayList(true);\n\n        for (var i = 0; i < displayList.length; i++) {\n          var el = displayList[i];\n\n          this._doPaintEl(el, imageLayer, true, scope);\n        }\n      }\n\n      return imageLayer.dom;\n    },\n\n    /**\n     * \n     */\n    getWidth: function () {\n      return this._width;\n    },\n\n    /**\n     * \n     */\n    getHeight: function () {\n      return this._height;\n    },\n    _getSize: function (whIdx) {\n      var opts = this._opts;\n      var wh = ['width', 'height'][whIdx];\n      var cwh = ['clientWidth', 'clientHeight'][whIdx];\n      var plt = ['paddingLeft', 'paddingTop'][whIdx];\n      var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n      if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n      }\n\n      var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n      var stl = document.defaultView.getComputedStyle(root);\n      return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n    },\n    pathToImage: function (path, dpr) {\n      dpr = dpr || this.dpr;\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      var rect = path.getBoundingRect();\n      var style = path.style;\n      var shadowBlurSize = style.shadowBlur * dpr;\n      var shadowOffsetX = style.shadowOffsetX * dpr;\n      var shadowOffsetY = style.shadowOffsetY * dpr;\n      var lineWidth = style.hasStroke() ? style.lineWidth : 0;\n      var leftMargin = Math.max(lineWidth / 2, -shadowOffsetX + shadowBlurSize);\n      var rightMargin = Math.max(lineWidth / 2, shadowOffsetX + shadowBlurSize);\n      var topMargin = Math.max(lineWidth / 2, -shadowOffsetY + shadowBlurSize);\n      var bottomMargin = Math.max(lineWidth / 2, shadowOffsetY + shadowBlurSize);\n      var width = rect.width + leftMargin + rightMargin;\n      var height = rect.height + topMargin + bottomMargin;\n      canvas.width = width * dpr;\n      canvas.height = height * dpr;\n      ctx.scale(dpr, dpr);\n      ctx.clearRect(0, 0, width, height);\n      ctx.dpr = dpr;\n      var pathTransform = {\n        position: path.position,\n        rotation: path.rotation,\n        scale: path.scale\n      };\n      path.position = [leftMargin - rect.x, topMargin - rect.y];\n      path.rotation = 0;\n      path.scale = [1, 1];\n      path.updateTransform();\n\n      if (path) {\n        path.brush(ctx);\n      }\n\n      var ImageShape = Image$1;\n      var imgShape = new ImageShape({\n        style: {\n          x: 0,\n          y: 0,\n          image: canvas\n        }\n      });\n\n      if (pathTransform.position != null) {\n        imgShape.position = path.position = pathTransform.position;\n      }\n\n      if (pathTransform.rotation != null) {\n        imgShape.rotation = path.rotation = pathTransform.rotation;\n      }\n\n      if (pathTransform.scale != null) {\n        imgShape.scale = path.scale = pathTransform.scale;\n      }\n\n      return imgShape;\n    }\n  };\n  var _default$p = Painter;\n  var Painter_1 = _default$p;\n\n  var Dispatcher$1 = event.Dispatcher;\n\n\n\n\n\n  /**\n   * Animation main class, dispatch and manage all animation controllers\n   *\n   * @module zrender/animation/Animation\n   * @author pissang(https://github.com/pissang)\n   */\n  // TODO Additive animation\n  // http://iosoteric.com/additive-animations-animatewithduration-in-ios-8/\n  // https://developer.apple.com/videos/wwdc2014/#236\n\n  /**\n   * @typedef {Object} IZRenderStage\n   * @property {Function} update\n   */\n\n  /**\n   * @alias module:zrender/animation/Animation\n   * @constructor\n   * @param {Object} [options]\n   * @param {Function} [options.onframe]\n   * @param {IZRenderStage} [options.stage]\n   * @example\n   *     var animation = new Animation();\n   *     var obj = {\n   *         x: 100,\n   *         y: 100\n   *     };\n   *     animation.animate(node.position)\n   *         .when(1000, {\n   *             x: 500,\n   *             y: 500\n   *         })\n   *         .when(2000, {\n   *             x: 100,\n   *             y: 100\n   *         })\n   *         .start('spline');\n   */\n  var Animation = function (options) {\n    options = options || {};\n    this.stage = options.stage || {};\n\n    this.onframe = options.onframe || function () {}; // private properties\n\n\n    this._clips = [];\n    this._running = false;\n    this._time;\n    this._pausedTime;\n    this._pauseStart;\n    this._paused = false;\n    Dispatcher$1.call(this);\n  };\n\n  Animation.prototype = {\n    constructor: Animation,\n\n    /**\n     * Add clip\n     * @param {module:zrender/animation/Clip} clip\n     */\n    addClip: function (clip) {\n      this._clips.push(clip);\n    },\n\n    /**\n     * Add animator\n     * @param {module:zrender/animation/Animator} animator\n     */\n    addAnimator: function (animator) {\n      animator.animation = this;\n      var clips = animator.getClips();\n\n      for (var i = 0; i < clips.length; i++) {\n        this.addClip(clips[i]);\n      }\n    },\n\n    /**\n     * Delete animation clip\n     * @param {module:zrender/animation/Clip} clip\n     */\n    removeClip: function (clip) {\n      var idx = util.indexOf(this._clips, clip);\n\n      if (idx >= 0) {\n        this._clips.splice(idx, 1);\n      }\n    },\n\n    /**\n     * Delete animation clip\n     * @param {module:zrender/animation/Animator} animator\n     */\n    removeAnimator: function (animator) {\n      var clips = animator.getClips();\n\n      for (var i = 0; i < clips.length; i++) {\n        this.removeClip(clips[i]);\n      }\n\n      animator.animation = null;\n    },\n    _update: function () {\n      var time = new Date().getTime() - this._pausedTime;\n\n      var delta = time - this._time;\n      var clips = this._clips;\n      var len = clips.length;\n      var deferredEvents = [];\n      var deferredClips = [];\n\n      for (var i = 0; i < len; i++) {\n        var clip = clips[i];\n        var e = clip.step(time, delta); // Throw out the events need to be called after\n        // stage.update, like destroy\n\n        if (e) {\n          deferredEvents.push(e);\n          deferredClips.push(clip);\n        }\n      } // Remove the finished clip\n\n\n      for (var i = 0; i < len;) {\n        if (clips[i]._needsRemove) {\n          clips[i] = clips[len - 1];\n          clips.pop();\n          len--;\n        } else {\n          i++;\n        }\n      }\n\n      len = deferredEvents.length;\n\n      for (var i = 0; i < len; i++) {\n        deferredClips[i].fire(deferredEvents[i]);\n      }\n\n      this._time = time;\n      this.onframe(delta); // 'frame' should be triggered before stage, because upper application\n      // depends on the sequence (e.g., echarts-stream and finish\n      // event judge)\n\n      this.trigger('frame', delta);\n\n      if (this.stage.update) {\n        this.stage.update();\n      }\n    },\n    _startLoop: function () {\n      var self = this;\n      this._running = true;\n\n      function step() {\n        if (self._running) {\n          requestAnimationFrame(step);\n          !self._paused && self._update();\n        }\n      }\n\n      requestAnimationFrame(step);\n    },\n\n    /**\n     * Start animation.\n     */\n    start: function () {\n      this._time = new Date().getTime();\n      this._pausedTime = 0;\n\n      this._startLoop();\n    },\n\n    /**\n     * Stop animation.\n     */\n    stop: function () {\n      this._running = false;\n    },\n\n    /**\n     * Pause animation.\n     */\n    pause: function () {\n      if (!this._paused) {\n        this._pauseStart = new Date().getTime();\n        this._paused = true;\n      }\n    },\n\n    /**\n     * Resume animation.\n     */\n    resume: function () {\n      if (this._paused) {\n        this._pausedTime += new Date().getTime() - this._pauseStart;\n        this._paused = false;\n      }\n    },\n\n    /**\n     * Clear animation.\n     */\n    clear: function () {\n      this._clips = [];\n    },\n\n    /**\n     * Whether animation finished.\n     */\n    isFinished: function () {\n      return !this._clips.length;\n    },\n\n    /**\n     * Creat animator for a target, whose props can be animated.\n     *\n     * @param  {Object} target\n     * @param  {Object} options\n     * @param  {boolean} [options.loop=false] Whether loop animation.\n     * @param  {Function} [options.getter=null] Get value from target.\n     * @param  {Function} [options.setter=null] Set value to target.\n     * @return {module:zrender/animation/Animation~Animator}\n     */\n    // TODO Gap\n    animate: function (target, options) {\n      options = options || {};\n      var animator = new Animator_1(target, options.loop, options.getter, options.setter);\n      this.addAnimator(animator);\n      return animator;\n    }\n  };\n  util.mixin(Animation, Dispatcher$1);\n  var _default$q = Animation;\n  var Animation_1 = _default$q;\n\n  var addEventListener$1 = event.addEventListener;\n  var removeEventListener$1 = event.removeEventListener;\n  var normalizeEvent$1 = event.normalizeEvent;\n  var getNativeEvent$1 = event.getNativeEvent;\n\n\n\n\n\n\n\n  /* global document */\n  var TOUCH_CLICK_DELAY = 300;\n  var globalEventSupported = env_1.domSupported;\n\n  var localNativeListenerNames = function () {\n    var mouseHandlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n    var touchHandlerNames = ['touchstart', 'touchend', 'touchmove'];\n    var pointerEventNameMap = {\n      pointerdown: 1,\n      pointerup: 1,\n      pointermove: 1,\n      pointerout: 1\n    };\n    var pointerHandlerNames = util.map(mouseHandlerNames, function (name) {\n      var nm = name.replace('mouse', 'pointer');\n      return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n      mouse: mouseHandlerNames,\n      touch: touchHandlerNames,\n      pointer: pointerHandlerNames\n    };\n  }();\n\n  var globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n  };\n\n  function eventNameFix(name) {\n    return name === 'mousewheel' && env_1.browser.firefox ? 'DOMMouseScroll' : name;\n  }\n\n  function isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n  } // function useMSGuesture(handlerProxy, event) {\n  //     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n  // }\n  // function onMSGestureChange(proxy, event) {\n  //     if (event.translationX || event.translationY) {\n  //         // mousemove is carried by MSGesture to reduce the sensitivity.\n  //         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n  //     }\n  //     if (event.scale !== 1) {\n  //         event.pinchX = event.offsetX;\n  //         event.pinchY = event.offsetY;\n  //         event.pinchScale = event.scale;\n  //         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n  //     }\n  // }\n\n  /**\n   * Prevent mouse event from being dispatched after Touch Events action\n   * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n   * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n   * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n   * Result: Blocking Mouse Events for 700ms.\n   *\n   * @param {DOMHandlerScope} scope\n   */\n\n\n  function setTouchTimer(scope) {\n    scope.touching = true;\n\n    if (scope.touchTimer != null) {\n      clearTimeout(scope.touchTimer);\n      scope.touchTimer = null;\n    }\n\n    scope.touchTimer = setTimeout(function () {\n      scope.touching = false;\n      scope.touchTimer = null;\n    }, 700);\n  } // Mark touch, which is useful in distinguish touch and\n  // mouse event in upper applicatoin.\n\n\n  function markTouch(event) {\n    event && (event.zrByTouch = true);\n  } // function markTriggeredFromLocal(event) {\n  //     event && (event.__zrIsFromLocal = true);\n  // }\n  // function isTriggeredFromLocal(instance, event) {\n  //     return !!(event && event.__zrIsFromLocal);\n  // }\n\n\n  function normalizeGlobalEvent(instance, event) {\n    // offsetX, offsetY still need to be calculated. They are necessary in the event\n    // handlers of the upper applications. Set `true` to force calculate them.\n    return normalizeEvent$1(instance.dom, new FakeGlobalEvent(instance, event), true);\n  }\n  /**\n   * Detect whether the given el is in `painterRoot`.\n   */\n\n\n  function isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n\n    while (elTmp && elTmp.nodeType !== 9 && !(isLocal = elTmp.domBelongToZr || elTmp !== el && elTmp === instance.painterRoot)) {\n      elTmp = elTmp.parentNode;\n    }\n\n    return isLocal;\n  }\n  /**\n   * Make a fake event but not change the original event,\n   * becuase the global event probably be used by other\n   * listeners not belonging to zrender.\n   * @class\n   */\n\n\n  function FakeGlobalEvent(instance, event) {\n    this.type = event.type;\n    this.target = this.currentTarget = instance.dom;\n    this.pointerType = event.pointerType; // Necessray for the force calculation of zrX, zrY\n\n    this.clientX = event.clientX;\n    this.clientY = event.clientY; // Because we do not mount global listeners to touch events,\n    // we do not copy `targetTouches` and `changedTouches` here.\n  }\n\n  var fakeGlobalEventProto = FakeGlobalEvent.prototype; // we make the default methods on the event do nothing,\n  // otherwise it is dangerous. See more details in\n  // [Drag outside] in `Handler.js`.\n\n  fakeGlobalEventProto.stopPropagation = fakeGlobalEventProto.stopImmediatePropagation = fakeGlobalEventProto.preventDefault = util.noop;\n  /**\n   * Local DOM Handlers\n   * @this {HandlerProxy}\n   */\n\n  var localDOMHandlers = {\n    mousedown: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      this._mayPointerCapture = [event.zrX, event.zrY];\n      this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      var downPoint = this._mayPointerCapture;\n\n      if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n        togglePointerCapture(this, true);\n      }\n\n      this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      togglePointerCapture(this, false);\n      this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n      event = normalizeEvent$1(this.dom, event); // Similarly to the browser did on `document` and touch event,\n      // `globalout` will be delayed to final pointer cature release.\n\n      if (this._pointerCapturing) {\n        event.zrEventControl = 'no_globalout';\n      } // There might be some doms created by upper layer application\n      // at the same level of painter.getViewportRoot() (e.g., tooltip\n      // dom created by echarts), where 'globalout' event should not\n      // be triggered when mouse enters these doms. (But 'mouseout'\n      // should be triggered at the original hovered element as usual).\n\n\n      var element = event.toElement || event.relatedTarget;\n      event.zrIsToLocalDOM = isLocalEl(this, element);\n      this.trigger('mouseout', event);\n    },\n    touchstart: function (event) {\n      // Default mouse behaviour should not be disabled here.\n      // For example, page may needs to be slided.\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this._lastTouchMoment = new Date();\n      this.handler.processGesture(event, 'start'); // For consistent event listener for both touch device and mouse device,\n      // we simulate \"mouseover-->mousedown\" in touch device. So we trigger\n      // `mousemove` here (to trigger `mouseover` inside), and then trigger\n      // `mousedown`.\n\n      localDOMHandlers.mousemove.call(this, event);\n      localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this.handler.processGesture(event, 'change'); // Mouse move should always be triggered no matter whether\n      // there is gestrue event, because mouse move and pinch may\n      // be used at the same time.\n\n      localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this.handler.processGesture(event, 'end');\n      localDOMHandlers.mouseup.call(this, event); // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n      // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n      // we can conveniently implement \"hover style\" in both PC and touch device just\n      // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n      // to remove \"hover style\" on an element, without any additional code for\n      // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n      // style\" will remain for user view)\n      // click event should always be triggered no matter whether\n      // there is gestrue event. System click can not be prevented.\n\n      if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n        localDOMHandlers.click.call(this, event);\n      }\n    },\n    pointerdown: function (event) {\n      localDOMHandlers.mousedown.call(this, event); // if (useMSGuesture(this, event)) {\n      //     this._msGesture.addPointer(event.pointerId);\n      // }\n    },\n    pointermove: function (event) {\n      // FIXME\n      // pointermove is so sensitive that it always triggered when\n      // tap(click) on touch screen, which affect some judgement in\n      // upper application. So, we dont support mousemove on MS touch\n      // device yet.\n      if (!isPointerFromTouch(event)) {\n        localDOMHandlers.mousemove.call(this, event);\n      }\n    },\n    pointerup: function (event) {\n      localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n      // pointerout will be triggered when tap on touch screen\n      // (IE11+/Edge on MS Surface) after click event triggered,\n      // which is inconsistent with the mousout behavior we defined\n      // in touchend. So we unify them.\n      // (check localDOMHandlers.touchend for detailed explanation)\n      if (!isPointerFromTouch(event)) {\n        localDOMHandlers.mouseout.call(this, event);\n      }\n    }\n  };\n  /**\n   * Othere DOM UI Event handlers for zr dom.\n   * @this {HandlerProxy}\n   */\n\n  util.each(['click', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      this.trigger(name, event);\n    };\n  });\n  /**\n   * DOM UI Event handlers for global page.\n   *\n   * [Caution]:\n   * those handlers should both support in capture phase and bubble phase!\n   *\n   * @this {HandlerProxy}\n   */\n\n  var globalDOMHandlers = {\n    pointermove: function (event) {\n      // FIXME\n      // pointermove is so sensitive that it always triggered when\n      // tap(click) on touch screen, which affect some judgement in\n      // upper application. So, we dont support mousemove on MS touch\n      // device yet.\n      if (!isPointerFromTouch(event)) {\n        globalDOMHandlers.mousemove.call(this, event);\n      }\n    },\n    pointerup: function (event) {\n      globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n      this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n      var pointerCaptureReleasing = this._pointerCapturing;\n      togglePointerCapture(this, false);\n      this.trigger('mouseup', event);\n\n      if (pointerCaptureReleasing) {\n        event.zrEventControl = 'only_globalout';\n        this.trigger('mouseout', event);\n      }\n    }\n  };\n  /**\n   * @param {HandlerProxy} instance\n   * @param {DOMHandlerScope} scope\n   */\n\n  function mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n\n    if (env_1.pointerEventsSupported) {\n      // Only IE11+/Edge\n      // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n      // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n      // at the same time.\n      // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n      // screen, which do not occurs in pointer event.\n      // So we use pointer event to both detect touch gesture and mouse behavior.\n      util.each(localNativeListenerNames.pointer, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          // markTriggeredFromLocal(event);\n          domHandlers[nativeEventName].call(instance, event);\n        });\n      }); // FIXME\n      // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n      // which does not prevent defuault behavior occasionally (which may cause view port\n      // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n      // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n      // touch screen. And we only support click behavior on MS touch screen now.\n      // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n      // We dont support touch on IE on win7.\n      // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n      // if (typeof MSGesture === 'function') {\n      //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n      //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n      // }\n    } else {\n      if (env_1.touchEventsSupported) {\n        util.each(localNativeListenerNames.touch, function (nativeEventName) {\n          mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n            // markTriggeredFromLocal(event);\n            domHandlers[nativeEventName].call(instance, event);\n            setTouchTimer(scope);\n          });\n        }); // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n        // addEventListener(root, 'mouseout', this._mouseoutHandler);\n      } // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n      // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n      // mouse event can not be handle in those devices.\n      // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n      // mouseevent after touch event triggered, see `setTouchTimer`.\n\n\n      util.each(localNativeListenerNames.mouse, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          event = getNativeEvent$1(event);\n\n          if (!scope.touching) {\n            // markTriggeredFromLocal(event);\n            domHandlers[nativeEventName].call(instance, event);\n          }\n        });\n      });\n    }\n  }\n  /**\n   * @param {HandlerProxy} instance\n   * @param {DOMHandlerScope} scope\n   */\n\n\n  function mountGlobalDOMEventListeners(instance, scope) {\n    // Only IE11+/Edge. See the comment in `mountLocalDOMEventListeners`.\n    if (env_1.pointerEventsSupported) {\n      util.each(globalNativeListenerNames.pointer, mount);\n    } // Touch event has implemented \"drag outside\" so we do not mount global listener for touch event.\n    // (see https://www.w3.org/TR/touch-events/#the-touchmove-event)\n    // We do not consider \"both-support-touch-and-mouse device\" for this feature (see the comment of\n    // `mountLocalDOMEventListeners`) to avoid bugs util some requirements come.\n    else if (!env_1.touchEventsSupported) {\n        util.each(globalNativeListenerNames.mouse, mount);\n      }\n\n    function mount(nativeEventName) {\n      function nativeEventListener(event) {\n        event = getNativeEvent$1(event); // See the reason in [Drag outside] in `Handler.js`\n        // This checking supports both `useCapture` or not.\n        // PENDING: if there is performance issue in some devices,\n        // we probably can not use `useCapture` and change a easier\n        // to judes whether local (mark).\n\n        if (!isLocalEl(instance, event.target)) {\n          event = normalizeGlobalEvent(instance, event);\n          scope.domHandlers[nativeEventName].call(instance, event);\n        }\n      }\n\n      mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, {\n        capture: true\n      } // See [Drag Outside] in `Handler.js`\n      );\n    }\n  }\n\n  function mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener$1(scope.domTarget, eventNameFix(nativeEventName), listener, opt);\n  }\n\n  function unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n\n    for (var nativeEventName in mounted) {\n      if (mounted.hasOwnProperty(nativeEventName)) {\n        removeEventListener$1(scope.domTarget, eventNameFix(nativeEventName), mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n      }\n    }\n\n    scope.mounted = {};\n  }\n  /**\n   * See [Drag Outside] in `Handler.js`.\n   * @implement\n   * @param {boolean} isPointerCapturing Should never be `null`/`undefined`.\n   *        `true`: start to capture pointer if it is not capturing.\n   *        `false`: end the capture if it is capturing.\n   */\n\n\n  function togglePointerCapture(instance, isPointerCapturing) {\n    instance._mayPointerCapture = null;\n\n    if (globalEventSupported && instance._pointerCapturing ^ isPointerCapturing) {\n      instance._pointerCapturing = isPointerCapturing;\n      var globalHandlerScope = instance._globalHandlerScope;\n      isPointerCapturing ? mountGlobalDOMEventListeners(instance, globalHandlerScope) : unmountDOMEventListeners(globalHandlerScope);\n    }\n  }\n  /**\n   * @inner\n   * @class\n   */\n\n\n  function DOMHandlerScope(domTarget, domHandlers) {\n    this.domTarget = domTarget;\n    this.domHandlers = domHandlers; // Key: eventName, value: mounted handler funcitons.\n    // Used for unmount.\n\n    this.mounted = {};\n    this.listenerOpts = {};\n    this.touchTimer = null;\n    this.touching = false;\n  }\n  /**\n   * @public\n   * @class\n   */\n\n\n  function HandlerDomProxy(dom, painterRoot) {\n    Eventful_1.call(this);\n    this.dom = dom;\n    this.painterRoot = painterRoot;\n    this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n\n    if (globalEventSupported) {\n      this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n    }\n    /**\n     * @type {boolean}\n     */\n\n\n    this._pointerCapturing = false;\n    /**\n     * @type {Array.<number>} [x, y] or null.\n     */\n\n    this._mayPointerCapture = null;\n    mountLocalDOMEventListeners(this, this._localHandlerScope);\n  }\n\n  var handlerDomProxyProto = HandlerDomProxy.prototype;\n\n  handlerDomProxyProto.dispose = function () {\n    unmountDOMEventListeners(this._localHandlerScope);\n\n    if (globalEventSupported) {\n      unmountDOMEventListeners(this._globalHandlerScope);\n    }\n  };\n\n  handlerDomProxyProto.setCursor = function (cursorStyle) {\n    this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n  };\n\n  util.mixin(HandlerDomProxy, Eventful_1);\n  var _default$r = HandlerDomProxy;\n  var HandlerProxy = _default$r;\n\n  /*!\n  * ZRender, a high performance 2d drawing library.\n  *\n  * Copyright (c) 2013, Baidu Inc.\n  * All rights reserved.\n  *\n  * LICENSE\n  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n  */\n  var useVML = !env_1.canvasSupported;\n  var painterCtors = {\n    canvas: Painter_1\n  };\n  var instances = {}; // ZRendermap\n\n  /**\n   * @type {string}\n   */\n\n  var version$1 = '4.3.2';\n  /**\n   * Initializing a zrender instance\n   * @param {HTMLElement} dom\n   * @param {Object} [opts]\n   * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n   * @param {number} [opts.devicePixelRatio]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   * @return {module:zrender/ZRender}\n   */\n\n  function init(dom, opts) {\n    var zr = new ZRender(guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n  }\n  /**\n   * Dispose zrender instance\n   * @param {module:zrender/ZRender} zr\n   */\n\n\n  function dispose(zr) {\n    if (zr) {\n      zr.dispose();\n    } else {\n      for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n          instances[key].dispose();\n        }\n      }\n\n      instances = {};\n    }\n\n    return this;\n  }\n  /**\n   * Get zrender instance by id\n   * @param {string} id zrender instance id\n   * @return {module:zrender/ZRender}\n   */\n\n\n  function getInstance(id) {\n    return instances[id];\n  }\n\n  function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n  }\n\n  function delInstance(id) {\n    delete instances[id];\n  }\n  /**\n   * @module zrender/ZRender\n   */\n\n  /**\n   * @constructor\n   * @alias module:zrender/ZRender\n   * @param {string} id\n   * @param {HTMLElement} dom\n   * @param {Object} opts\n   * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n   * @param {number} [opts.devicePixelRatio]\n   * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n\n\n  var ZRender = function (id, dom, opts) {\n    opts = opts || {};\n    /**\n     * @type {HTMLDomElement}\n     */\n\n    this.dom = dom;\n    /**\n     * @type {string}\n     */\n\n    this.id = id;\n    var self = this;\n    var storage = new Storage_1();\n    var rendererType = opts.renderer; // TODO WebGL\n\n    if (useVML) {\n      if (!painterCtors.vml) {\n        throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n      }\n\n      rendererType = 'vml';\n    } else if (!rendererType || !painterCtors[rendererType]) {\n      rendererType = 'canvas';\n    }\n\n    var painter = new painterCtors[rendererType](dom, storage, opts, id);\n    this.storage = storage;\n    this.painter = painter;\n    var handerProxy = !env_1.node && !env_1.worker ? new HandlerProxy(painter.getViewportRoot(), painter.root) : null;\n    this.handler = new Handler_1(storage, painter, handerProxy, painter.root);\n    /**\n     * @type {module:zrender/animation/Animation}\n     */\n\n    this.animation = new Animation_1({\n      stage: {\n        update: util.bind(this.flush, this)\n      }\n    });\n    this.animation.start();\n    /**\n     * @type {boolean}\n     * @private\n     */\n\n    this._needsRefresh; //  storage.delFromStorage, \n    // FIXME ugly\n\n    var oldDelFromStorage = storage.delFromStorage;\n    var oldAddToStorage = storage.addToStorage;\n\n    storage.delFromStorage = function (el) {\n      oldDelFromStorage.call(storage, el);\n      el && el.removeSelfFromZr(self);\n    };\n\n    storage.addToStorage = function (el) {\n      oldAddToStorage.call(storage, el);\n      el.addSelfToZr(self);\n    };\n  };\n\n  ZRender.prototype = {\n    constructor: ZRender,\n\n    /**\n     * \n     * @return {string}\n     */\n    getId: function () {\n      return this.id;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    add: function (el) {\n      this.storage.addRoot(el);\n      this._needsRefresh = true;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    remove: function (el) {\n      this.storage.delRoot(el);\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Change configuration of layer\n     * @param {string} zLevel\n     * @param {Object} config\n     * @param {string} [config.clearColor=0] Clear color\n     * @param {string} [config.motionBlur=false] If enable motion blur\n     * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n    */\n    configLayer: function (zLevel, config) {\n      if (this.painter.configLayer) {\n        this.painter.configLayer(zLevel, config);\n      }\n\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Set background color\n     * @param {string} backgroundColor\n     */\n    setBackgroundColor: function (backgroundColor) {\n      if (this.painter.setBackgroundColor) {\n        this.painter.setBackgroundColor(backgroundColor);\n      }\n\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Repaint the canvas immediately\n     */\n    refreshImmediately: function () {\n      // var start = new Date();\n      // Clear needsRefresh ahead to avoid something wrong happens in refresh\n      // Or it will cause zrender refreshes again and again.\n      this._needsRefresh = this._needsRefreshHover = false;\n      this.painter.refresh(); // Avoid trigger zr.refresh in Element#beforeUpdate hook\n\n      this._needsRefresh = this._needsRefreshHover = false; // var end = new Date();\n      // var log = document.getElementById('log');\n      // if (log) {\n      //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n      // }\n    },\n\n    /**\n     * Mark and repaint the canvas in the next frame of browser\n     */\n    refresh: function () {\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Perform all refresh\n     */\n    flush: function () {\n      var triggerRendered;\n\n      if (this._needsRefresh) {\n        triggerRendered = true;\n        this.refreshImmediately();\n      }\n\n      if (this._needsRefreshHover) {\n        triggerRendered = true;\n        this.refreshHoverImmediately();\n      }\n\n      triggerRendered && this.trigger('rendered');\n    },\n\n    /**\n     * Add element to hover layer\n     * @param  {module:zrender/Element} el\n     * @param {Object} style\n     */\n    addHover: function (el, style) {\n      if (this.painter.addHover) {\n        var elMirror = this.painter.addHover(el, style);\n        this.refreshHover();\n        return elMirror;\n      }\n    },\n\n    /**\n     * Add element from hover layer\n     * @param  {module:zrender/Element} el\n     */\n    removeHover: function (el) {\n      if (this.painter.removeHover) {\n        this.painter.removeHover(el);\n        this.refreshHover();\n      }\n    },\n\n    /**\n     * Clear all hover elements in hover layer\n     * @param  {module:zrender/Element} el\n     */\n    clearHover: function () {\n      if (this.painter.clearHover) {\n        this.painter.clearHover();\n        this.refreshHover();\n      }\n    },\n\n    /**\n     * Refresh hover in next frame\n     */\n    refreshHover: function () {\n      this._needsRefreshHover = true;\n    },\n\n    /**\n     * Refresh hover immediately\n     */\n    refreshHoverImmediately: function () {\n      this._needsRefreshHover = false;\n      this.painter.refreshHover && this.painter.refreshHover();\n    },\n\n    /**\n     * Resize the canvas.\n     * Should be invoked when container size is changed\n     * @param {Object} [opts]\n     * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n     * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n     */\n    resize: function (opts) {\n      opts = opts || {};\n      this.painter.resize(opts.width, opts.height);\n      this.handler.resize();\n    },\n\n    /**\n     * Stop and clear all animation immediately\n     */\n    clearAnimation: function () {\n      this.animation.clear();\n    },\n\n    /**\n     * Get container width\n     */\n    getWidth: function () {\n      return this.painter.getWidth();\n    },\n\n    /**\n     * Get container height\n     */\n    getHeight: function () {\n      return this.painter.getHeight();\n    },\n\n    /**\n     * Export the canvas as Base64 URL\n     * @param {string} type\n     * @param {string} [backgroundColor='#fff']\n     * @return {string} Base64 URL\n     */\n    // toDataURL: function(type, backgroundColor) {\n    //     return this.painter.getRenderedCanvas({\n    //         backgroundColor: backgroundColor\n    //     }).toDataURL(type);\n    // },\n\n    /**\n     * Converting a path to image.\n     * It has much better performance of drawing image rather than drawing a vector path.\n     * @param {module:zrender/graphic/Path} e\n     * @param {number} width\n     * @param {number} height\n     */\n    pathToImage: function (e, dpr) {\n      return this.painter.pathToImage(e, dpr);\n    },\n\n    /**\n     * Set default cursor\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n      this.handler.setCursorStyle(cursorStyle);\n    },\n\n    /**\n     * Find hovered element\n     * @param {number} x\n     * @param {number} y\n     * @return {Object} {target, topTarget}\n     */\n    findHover: function (x, y) {\n      return this.handler.findHover(x, y);\n    },\n\n    /**\n     * Bind event\n     *\n     * @param {string} eventName Event name\n     * @param {Function} eventHandler Handler function\n     * @param {Object} [context] Context object\n     */\n    on: function (eventName, eventHandler, context) {\n      this.handler.on(eventName, eventHandler, context);\n    },\n\n    /**\n     * Unbind event\n     * @param {string} eventName Event name\n     * @param {Function} [eventHandler] Handler function\n     */\n    off: function (eventName, eventHandler) {\n      this.handler.off(eventName, eventHandler);\n    },\n\n    /**\n     * Trigger event manually\n     *\n     * @param {string} eventName Event name\n     * @param {event=} event Event object\n     */\n    trigger: function (eventName, event) {\n      this.handler.trigger(eventName, event);\n    },\n\n    /**\n     * Clear all objects and the canvas.\n     */\n    clear: function () {\n      this.storage.delRoot();\n      this.painter.clear();\n    },\n\n    /**\n     * Dispose self.\n     */\n    dispose: function () {\n      this.animation.stop();\n      this.clear();\n      this.storage.dispose();\n      this.painter.dispose();\n      this.handler.dispose();\n      this.animation = this.storage = this.painter = this.handler = null;\n      delInstance(this.id);\n    }\n  };\n  var version_1 = version$1;\n  var init_1 = init;\n  var dispose_1 = dispose;\n  var getInstance_1 = getInstance;\n  var registerPainter_1 = registerPainter;\n\n  var zrender = {\n  \tversion: version_1,\n  \tinit: init_1,\n  \tdispose: dispose_1,\n  \tgetInstance: getInstance_1,\n  \tregisterPainter: registerPainter_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$2 = util.each;\n  var isObject$5 = util.isObject;\n  var isArray$3 = util.isArray;\n  /**\n   * Make the name displayable. But we should\n   * make sure it is not duplicated with user\n   * specified name, so use '\\0';\n   */\n\n  var DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\n  /**\n   * If value is not array, then translate it to array.\n   * @param  {*} value\n   * @return {Array} [value] or value\n   */\n\n  function normalizeToArray(value) {\n    return value instanceof Array ? value : value == null ? [] : [value];\n  }\n  /**\n   * Sync default option between normal and emphasis like `position` and `show`\n   * In case some one will write code like\n   *     label: {\n   *          show: false,\n   *          position: 'outside',\n   *          fontSize: 18\n   *     },\n   *     emphasis: {\n   *          label: { show: true }\n   *     }\n   * @param {Object} opt\n   * @param {string} key\n   * @param {Array.<string>} subOpts\n   */\n\n\n  function defaultEmphasis(opt, key, subOpts) {\n    // Caution: performance sensitive.\n    if (opt) {\n      opt[key] = opt[key] || {};\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[key] = opt.emphasis[key] || {}; // Default emphasis option from normal\n\n      for (var i = 0, len = subOpts.length; i < len; i++) {\n        var subOptName = subOpts[i];\n\n        if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n          opt.emphasis[key][subOptName] = opt[key][subOptName];\n        }\n      }\n    }\n  }\n\n  var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n  //     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n  //     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n  //     // FIXME: deprecated, check and remove it.\n  //     'textStyle'\n  // ]);\n\n  /**\n   * The method do not ensure performance.\n   * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n   * This helper method retieves value from data.\n   * @param {string|number|Date|Array|Object} dataItem\n   * @return {number|string|Date|Array.<number|string|Date>}\n   */\n\n  function getDataItemValue(dataItem) {\n    return isObject$5(dataItem) && !isArray$3(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n  }\n  /**\n   * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n   * This helper method determine if dataItem has extra option besides value\n   * @param {string|number|Date|Array|Object} dataItem\n   */\n\n\n  function isDataItemOption(dataItem) {\n    return isObject$5(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n    // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n  }\n  /**\n   * Mapping to exists for merge.\n   *\n   * @public\n   * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n   * @param {Object|Array.<Object>} newCptOptions\n   * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n   *                          index of which is the same as exists.\n   */\n\n\n  function mappingToExists(exists, newCptOptions) {\n    // Mapping by the order by original option (but not order of\n    // new option) in merge mode. Because we should ensure\n    // some specified index (like xAxisIndex) is consistent with\n    // original option, which is easy to understand, espatially in\n    // media query. And in most case, merge option is used to\n    // update partial option but not be expected to change order.\n    newCptOptions = (newCptOptions || []).slice();\n    var result = util.map(exists || [], function (obj, index) {\n      return {\n        exist: obj\n      };\n    }); // Mapping by id or name if specified.\n\n    each$2(newCptOptions, function (cptOption, index) {\n      if (!isObject$5(cptOption)) {\n        return;\n      } // id has highest priority.\n\n\n      for (var i = 0; i < result.length; i++) {\n        if (!result[i].option // Consider name: two map to one.\n        && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n          result[i].option = cptOption;\n          newCptOptions[index] = null;\n          return;\n        }\n      }\n\n      for (var i = 0; i < result.length; i++) {\n        var exist = result[i].exist;\n\n        if (!result[i].option // Consider name: two map to one.\n        // Can not match when both ids exist but different.\n        && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n          result[i].option = cptOption;\n          newCptOptions[index] = null;\n          return;\n        }\n      }\n    }); // Otherwise mapping by index.\n\n    each$2(newCptOptions, function (cptOption, index) {\n      if (!isObject$5(cptOption)) {\n        return;\n      }\n\n      var i = 0;\n\n      for (; i < result.length; i++) {\n        var exist = result[i].exist;\n\n        if (!result[i].option // Existing model that already has id should be able to\n        // mapped to (because after mapping performed model may\n        // be assigned with a id, whish should not affect next\n        // mapping), except those has inner id.\n        && !isIdInner(exist) // Caution:\n        // Do not overwrite id. But name can be overwritten,\n        // because axis use name as 'show label text'.\n        // 'exist' always has id and name and we dont\n        // need to check it.\n        && cptOption.id == null) {\n          result[i].option = cptOption;\n          break;\n        }\n      }\n\n      if (i >= result.length) {\n        result.push({\n          option: cptOption\n        });\n      }\n    });\n    return result;\n  }\n  /**\n   * Make id and name for mapping result (result of mappingToExists)\n   * into `keyInfo` field.\n   *\n   * @public\n   * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n   *                          which order is the same as exists.\n   * @return {Array.<Object>} The input.\n   */\n\n\n  function makeIdAndName(mapResult) {\n    // We use this id to hash component models and view instances\n    // in echarts. id can be specified by user, or auto generated.\n    // The id generation rule ensures new view instance are able\n    // to mapped to old instance when setOption are called in\n    // no-merge mode. So we generate model id by name and plus\n    // type in view id.\n    // name can be duplicated among components, which is convenient\n    // to specify multi components (like series) by one name.\n    // Ensure that each id is distinct.\n    var idMap = util.createHashMap();\n    each$2(mapResult, function (item, index) {\n      var existCpt = item.exist;\n      existCpt && idMap.set(existCpt.id, item);\n    });\n    each$2(mapResult, function (item, index) {\n      var opt = item.option;\n      util.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n      opt && opt.id != null && idMap.set(opt.id, item);\n      !item.keyInfo && (item.keyInfo = {});\n    }); // Make name and id.\n\n    each$2(mapResult, function (item, index) {\n      var existCpt = item.exist;\n      var opt = item.option;\n      var keyInfo = item.keyInfo;\n\n      if (!isObject$5(opt)) {\n        return;\n      } // name can be overwitten. Consider case: axis.name = '20km'.\n      // But id generated by name will not be changed, which affect\n      // only in that case: setOption with 'not merge mode' and view\n      // instance will be recreated, which can be accepted.\n\n\n      keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name // Avoid diffferent series has the same name,\n      // because name may be used like in color pallet.\n      : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n      if (existCpt) {\n        keyInfo.id = existCpt.id;\n      } else if (opt.id != null) {\n        keyInfo.id = opt.id + '';\n      } else {\n        // Consider this situatoin:\n        //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n        //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n        // Series with the same name between optionA and optionB\n        // should be mapped.\n        var idNum = 0;\n\n        do {\n          keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n        } while (idMap.get(keyInfo.id));\n      }\n\n      idMap.set(keyInfo.id, item);\n    });\n  }\n\n  function isNameSpecified(componentModel) {\n    var name = componentModel.name; // Is specified when `indexOf` get -1 or > 0.\n\n    return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n  }\n  /**\n   * @public\n   * @param {Object} cptOption\n   * @return {boolean}\n   */\n\n\n  function isIdInner(cptOption) {\n    return isObject$5(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n  }\n  /**\n   * A helper for removing duplicate items between batchA and batchB,\n   * and in themselves, and categorize by series.\n   *\n   * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n   * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n   * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n   */\n\n\n  function compressBatches(batchA, batchB) {\n    var mapA = {};\n    var mapB = {};\n    makeMap(batchA || [], mapA);\n    makeMap(batchB || [], mapB, mapA);\n    return [mapToArray(mapA), mapToArray(mapB)];\n\n    function makeMap(sourceBatch, map, otherMap) {\n      for (var i = 0, len = sourceBatch.length; i < len; i++) {\n        var seriesId = sourceBatch[i].seriesId;\n        var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n        var otherDataIndices = otherMap && otherMap[seriesId];\n\n        for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n          var dataIndex = dataIndices[j];\n\n          if (otherDataIndices && otherDataIndices[dataIndex]) {\n            otherDataIndices[dataIndex] = null;\n          } else {\n            (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n          }\n        }\n      }\n    }\n\n    function mapToArray(map, isData) {\n      var result = [];\n\n      for (var i in map) {\n        if (map.hasOwnProperty(i) && map[i] != null) {\n          if (isData) {\n            result.push(+i);\n          } else {\n            var dataIndices = mapToArray(map[i], true);\n            dataIndices.length && result.push({\n              seriesId: i,\n              dataIndex: dataIndices\n            });\n          }\n        }\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n   *                         each of which can be Array or primary type.\n   * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n   */\n\n\n  function queryDataIndex(data, payload) {\n    if (payload.dataIndexInside != null) {\n      return payload.dataIndexInside;\n    } else if (payload.dataIndex != null) {\n      return util.isArray(payload.dataIndex) ? util.map(payload.dataIndex, function (value) {\n        return data.indexOfRawIndex(value);\n      }) : data.indexOfRawIndex(payload.dataIndex);\n    } else if (payload.name != null) {\n      return util.isArray(payload.name) ? util.map(payload.name, function (value) {\n        return data.indexOfName(value);\n      }) : data.indexOfName(payload.name);\n    }\n  }\n  /**\n   * Enable property storage to any host object.\n   * Notice: Serialization is not supported.\n   *\n   * For example:\n   * var inner = zrUitl.makeInner();\n   *\n   * function some1(hostObj) {\n   *      inner(hostObj).someProperty = 1212;\n   *      ...\n   * }\n   * function some2() {\n   *      var fields = inner(this);\n   *      fields.someProperty1 = 1212;\n   *      fields.someProperty2 = 'xx';\n   *      ...\n   * }\n   *\n   * @return {Function}\n   */\n\n\n  function makeInner() {\n    // Consider different scope by es module import.\n    var key = '__\\0ec_inner_' + innerUniqueIndex++ + '_' + Math.random().toFixed(5);\n    return function (hostObj) {\n      return hostObj[key] || (hostObj[key] = {});\n    };\n  }\n\n  var innerUniqueIndex = 0;\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex, seriesId, seriesName,\n   *            geoIndex, geoId, geoName,\n   *            bmapIndex, bmapId, bmapName,\n   *            xAxisIndex, xAxisId, xAxisName,\n   *            yAxisIndex, yAxisId, yAxisName,\n   *            gridIndex, gridId, gridName,\n   *            ... (can be extended)\n   *        }\n   *        Each properties can be number|string|Array.<number>|Array.<string>\n   *        For example, a finder could be\n   *        {\n   *            seriesIndex: 3,\n   *            geoId: ['aa', 'cc'],\n   *            gridName: ['xx', 'rr']\n   *        }\n   *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n   *        If nothing or null/undefined specified, return nothing.\n   * @param {Object} [opt]\n   * @param {string} [opt.defaultMainType]\n   * @param {Array.<string>} [opt.includeMainTypes]\n   * @return {Object} result like:\n   *        {\n   *            seriesModels: [seriesModel1, seriesModel2],\n   *            seriesModel: seriesModel1, // The first model\n   *            geoModels: [geoModel1, geoModel2],\n   *            geoModel: geoModel1, // The first model\n   *            ...\n   *        }\n   */\n\n  function parseFinder(ecModel, finder, opt) {\n    if (util.isString(finder)) {\n      var obj = {};\n      obj[finder + 'Index'] = 0;\n      finder = obj;\n    }\n\n    var defaultMainType = opt && opt.defaultMainType;\n\n    if (defaultMainType && !has$2(finder, defaultMainType + 'Index') && !has$2(finder, defaultMainType + 'Id') && !has$2(finder, defaultMainType + 'Name')) {\n      finder[defaultMainType + 'Index'] = 0;\n    }\n\n    var result = {};\n    each$2(finder, function (value, key) {\n      var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n      if (key === 'dataIndex' || key === 'dataIndexInside') {\n        result[key] = value;\n        return;\n      }\n\n      var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n      var mainType = parsedKey[1];\n      var queryType = (parsedKey[2] || '').toLowerCase();\n\n      if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && util.indexOf(opt.includeMainTypes, mainType) < 0) {\n        return;\n      }\n\n      var queryParam = {\n        mainType: mainType\n      };\n\n      if (queryType !== 'index' || value !== 'all') {\n        queryParam[queryType] = value;\n      }\n\n      var models = ecModel.queryComponents(queryParam);\n      result[mainType + 'Models'] = models;\n      result[mainType + 'Model'] = models[0];\n    });\n    return result;\n  }\n\n  function has$2(obj, prop) {\n    return obj && obj.hasOwnProperty(prop);\n  }\n\n  function setAttribute(dom, key, value) {\n    dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n  }\n\n  function getAttribute(dom, key) {\n    return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n  }\n\n  function getTooltipRenderMode(renderModeOption) {\n    if (renderModeOption === 'auto') {\n      // Using html when `document` exists, use richText otherwise\n      return env_1.domSupported ? 'html' : 'richText';\n    } else {\n      return renderModeOption || 'html';\n    }\n  }\n  /**\n   * Group a list by key.\n   *\n   * @param {Array} array\n   * @param {Function} getKey\n   *        param {*} Array item\n   *        return {string} key\n   * @return {Object} Result\n   *        {Array}: keys,\n   *        {module:zrender/core/util/HashMap} buckets: {key -> Array}\n   */\n\n\n  function groupData(array, getKey) {\n    var buckets = util.createHashMap();\n    var keys = [];\n    util.each(array, function (item) {\n      var key = getKey(item);\n      (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n    });\n    return {\n      keys: keys,\n      buckets: buckets\n    };\n  }\n\n  var normalizeToArray_1 = normalizeToArray;\n  var defaultEmphasis_1 = defaultEmphasis;\n  var TEXT_STYLE_OPTIONS_1 = TEXT_STYLE_OPTIONS;\n  var getDataItemValue_1 = getDataItemValue;\n  var isDataItemOption_1 = isDataItemOption;\n  var mappingToExists_1 = mappingToExists;\n  var makeIdAndName_1 = makeIdAndName;\n  var isNameSpecified_1 = isNameSpecified;\n  var isIdInner_1 = isIdInner;\n  var compressBatches_1 = compressBatches;\n  var queryDataIndex_1 = queryDataIndex;\n  var makeInner_1 = makeInner;\n  var parseFinder_1 = parseFinder;\n  var setAttribute_1 = setAttribute;\n  var getAttribute_1 = getAttribute;\n  var getTooltipRenderMode_1 = getTooltipRenderMode;\n  var groupData_1 = groupData;\n\n  var model = {\n  \tnormalizeToArray: normalizeToArray_1,\n  \tdefaultEmphasis: defaultEmphasis_1,\n  \tTEXT_STYLE_OPTIONS: TEXT_STYLE_OPTIONS_1,\n  \tgetDataItemValue: getDataItemValue_1,\n  \tisDataItemOption: isDataItemOption_1,\n  \tmappingToExists: mappingToExists_1,\n  \tmakeIdAndName: makeIdAndName_1,\n  \tisNameSpecified: isNameSpecified_1,\n  \tisIdInner: isIdInner_1,\n  \tcompressBatches: compressBatches_1,\n  \tqueryDataIndex: queryDataIndex_1,\n  \tmakeInner: makeInner_1,\n  \tparseFinder: parseFinder_1,\n  \tsetAttribute: setAttribute_1,\n  \tgetAttribute: getAttribute_1,\n  \tgetTooltipRenderMode: getTooltipRenderMode_1,\n  \tgroupData: groupData_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var TYPE_DELIMITER = '.';\n  var IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\n  /**\n   * Notice, parseClassType('') should returns {main: '', sub: ''}\n   * @public\n   */\n\n  function parseClassType(componentType) {\n    var ret = {\n      main: '',\n      sub: ''\n    };\n\n    if (componentType) {\n      componentType = componentType.split(TYPE_DELIMITER);\n      ret.main = componentType[0] || '';\n      ret.sub = componentType[1] || '';\n    }\n\n    return ret;\n  }\n  /**\n   * @public\n   */\n\n\n  function checkClassType(componentType) {\n    util.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n  }\n  /**\n   * @public\n   */\n\n\n  function enableClassExtend(RootClass, mandatoryMethods) {\n    RootClass.$constructor = RootClass;\n\n    RootClass.extend = function (proto) {\n      var superClass = this;\n\n      var ExtendedClass = function () {\n        if (!proto.$constructor) {\n          superClass.apply(this, arguments);\n        } else {\n          proto.$constructor.apply(this, arguments);\n        }\n      };\n\n      util.extend(ExtendedClass.prototype, proto);\n      ExtendedClass.extend = this.extend;\n      ExtendedClass.superCall = superCall;\n      ExtendedClass.superApply = superApply;\n      util.inherits(ExtendedClass, this);\n      ExtendedClass.superClass = superClass;\n      return ExtendedClass;\n    };\n  }\n\n  var classBase = 0;\n  /**\n   * Can not use instanceof, consider different scope by\n   * cross domain or es module import in ec extensions.\n   * Mount a method \"isInstance()\" to Clz.\n   */\n\n  function enableClassCheck(Clz) {\n    var classAttr = ['__\\0is_clz', classBase++, Math.random().toFixed(3)].join('_');\n    Clz.prototype[classAttr] = true;\n\n    Clz.isInstance = function (obj) {\n      return !!(obj && obj[classAttr]);\n    };\n  } // superCall should have class info, which can not be fetch from 'this'.\n  // Consider this case:\n  // class A has method f,\n  // class B inherits class A, overrides method f, f call superApply('f'),\n  // class C inherits class B, do not overrides method f,\n  // then when method of class C is called, dead loop occured.\n\n\n  function superCall(context, methodName) {\n    var args = util.slice(arguments, 2);\n    return this.superClass.prototype[methodName].apply(context, args);\n  }\n\n  function superApply(context, methodName, args) {\n    return this.superClass.prototype[methodName].apply(context, args);\n  }\n  /**\n   * @param {Object} entity\n   * @param {Object} options\n   * @param {boolean} [options.registerWhenExtend]\n   * @public\n   */\n\n\n  function enableClassManagement(entity, options) {\n    options = options || {};\n    /**\n     * Component model classes\n     * key: componentType,\n     * value:\n     *     componentClass, when componentType is 'xxx'\n     *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n     * @type {Object}\n     */\n\n    var storage = {};\n\n    entity.registerClass = function (Clazz, componentType) {\n      if (componentType) {\n        checkClassType(componentType);\n        componentType = parseClassType(componentType);\n\n        if (!componentType.sub) {\n          storage[componentType.main] = Clazz;\n        } else if (componentType.sub !== IS_CONTAINER) {\n          var container = makeContainer(componentType);\n          container[componentType.sub] = Clazz;\n        }\n      }\n\n      return Clazz;\n    };\n\n    entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n      var Clazz = storage[componentMainType];\n\n      if (Clazz && Clazz[IS_CONTAINER]) {\n        Clazz = subType ? Clazz[subType] : null;\n      }\n\n      if (throwWhenNotFound && !Clazz) {\n        throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n      }\n\n      return Clazz;\n    };\n\n    entity.getClassesByMainType = function (componentType) {\n      componentType = parseClassType(componentType);\n      var result = [];\n      var obj = storage[componentType.main];\n\n      if (obj && obj[IS_CONTAINER]) {\n        util.each(obj, function (o, type) {\n          type !== IS_CONTAINER && result.push(o);\n        });\n      } else {\n        result.push(obj);\n      }\n\n      return result;\n    };\n\n    entity.hasClass = function (componentType) {\n      // Just consider componentType.main.\n      componentType = parseClassType(componentType);\n      return !!storage[componentType.main];\n    };\n    /**\n     * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n     */\n\n\n    entity.getAllClassMainTypes = function () {\n      var types = [];\n      util.each(storage, function (obj, type) {\n        types.push(type);\n      });\n      return types;\n    };\n    /**\n     * If a main type is container and has sub types\n     * @param  {string}  mainType\n     * @return {boolean}\n     */\n\n\n    entity.hasSubTypes = function (componentType) {\n      componentType = parseClassType(componentType);\n      var obj = storage[componentType.main];\n      return obj && obj[IS_CONTAINER];\n    };\n\n    entity.parseClassType = parseClassType;\n\n    function makeContainer(componentType) {\n      var container = storage[componentType.main];\n\n      if (!container || !container[IS_CONTAINER]) {\n        container = storage[componentType.main] = {};\n        container[IS_CONTAINER] = true;\n      }\n\n      return container;\n    }\n\n    if (options.registerWhenExtend) {\n      var originalExtend = entity.extend;\n\n      if (originalExtend) {\n        entity.extend = function (proto) {\n          var ExtendedClass = originalExtend.call(this, proto);\n          return entity.registerClass(ExtendedClass, proto.type);\n        };\n      }\n    }\n\n    return entity;\n  }\n  /**\n   * @param {string|Array.<string>} properties\n   */\n\n\n  function setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n    // if (!zrUtil.isArray(properties)) {\n    //     properties = properties != null ? [properties] : [];\n    // }\n    // zrUtil.each(properties, function (prop) {\n    //     var value = obj[prop];\n    //     Object.defineProperty\n    //         && Object.defineProperty(obj, prop, {\n    //             value: value, writable: false\n    //         });\n    //     zrUtil.isArray(obj[prop])\n    //         && Object.freeze\n    //         && Object.freeze(obj[prop]);\n    // });\n  }\n\n  var parseClassType_1 = parseClassType;\n  var enableClassExtend_1 = enableClassExtend;\n  var enableClassCheck_1 = enableClassCheck;\n  var enableClassManagement_1 = enableClassManagement;\n  var setReadOnly_1 = setReadOnly;\n\n  var clazz = {\n  \tparseClassType: parseClassType_1,\n  \tenableClassExtend: enableClassExtend_1,\n  \tenableClassCheck: enableClassCheck_1,\n  \tenableClassManagement: enableClassManagement_1,\n  \tsetReadOnly: setReadOnly_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO Parse shadow style\n  // TODO Only shallow path support\n  function _default$s(properties) {\n    // Normalize\n    for (var i = 0; i < properties.length; i++) {\n      if (!properties[i][1]) {\n        properties[i][1] = properties[i][0];\n      }\n    }\n\n    return function (model, excludes, includes) {\n      var style = {};\n\n      for (var i = 0; i < properties.length; i++) {\n        var propName = properties[i][1];\n\n        if (excludes && util.indexOf(excludes, propName) >= 0 || includes && util.indexOf(includes, propName) < 0) {\n          continue;\n        }\n\n        var val = model.getShallow(propName);\n\n        if (val != null) {\n          style[properties[i][0]] = val;\n        }\n      }\n\n      return style;\n    };\n  }\n\n  var makeStyleMapper = _default$s;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getLineStyle = makeStyleMapper([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n  var _default$t = {\n    getLineStyle: function (excludes) {\n      var style = getLineStyle(this, excludes); // Always set lineDash whether dashed, otherwise we can not\n      // erase the previous style when assigning to el.style.\n\n      style.lineDash = this.getLineDash(style.lineWidth);\n      return style;\n    },\n    getLineDash: function (lineWidth) {\n      if (lineWidth == null) {\n        lineWidth = 1;\n      }\n\n      var lineType = this.get('type');\n      var dotSize = Math.max(lineWidth, 2);\n      var dashSize = lineWidth * 4;\n      return lineType === 'solid' || lineType == null ? // Use `false` but not `null` for the solid line here, because `null` might be\n      // ignored when assigning to `el.style`. e.g., when setting `lineStyle.type` as\n      // `'dashed'` and `emphasis.lineStyle.type` as `'solid'` in graph series, the\n      // `lineDash` gotten form the latter one is not able to erase that from the former\n      // one if using `null` here according to the emhpsis strategy in `util/graphic.js`.\n      false : lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize];\n    }\n  };\n  var lineStyle = _default$t;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getAreaStyle = makeStyleMapper([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]);\n  var _default$u = {\n    getAreaStyle: function (excludes, includes) {\n      return getAreaStyle(this, excludes, includes);\n    }\n  };\n  var areaStyle = _default$u;\n\n  var v2Create = vector.create;\n  var v2DistSquare = vector.distSquare;\n\n  /**\n   * \n   * @module zrender/core/curve\n   * @author pissang(https://www.github.com/pissang)\n   */\n  var mathPow = Math.pow;\n  var mathSqrt = Math.sqrt;\n  var EPSILON$1 = 1e-8;\n  var EPSILON_NUMERIC = 1e-4;\n  var THREE_SQRT = mathSqrt(3);\n  var ONE_THIRD = 1 / 3; // \n\n  var _v0 = v2Create();\n\n  var _v1 = v2Create();\n\n  var _v2 = v2Create();\n\n  function isAroundZero(val) {\n    return val > -EPSILON$1 && val < EPSILON$1;\n  }\n\n  function isNotAroundZero$1(val) {\n    return val > EPSILON$1 || val < -EPSILON$1;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} val\n   * @param  {Array.<number>} roots\n   * @return {number} \n   */\n\n\n  function cubicRootAt(p0, p1, p2, p3, val, roots) {\n    // Evaluate roots of cubic functions\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1 - p0);\n    var d = p0 - val;\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n    var n = 0;\n\n    if (isAroundZero(A) && isAroundZero(B)) {\n      if (isAroundZero(b)) {\n        roots[0] = 0;\n      } else {\n        var t1 = -c / b; //t1, t2, t3, b is not zero\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      }\n    } else {\n      var disc = B * B - 4 * A * C;\n\n      if (isAroundZero(disc)) {\n        var K = B / A;\n        var t1 = -b / a + K; // t1, a is not zero\n\n        var t2 = -K / 2; // t2, t3\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n        var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n        if (Y1 < 0) {\n          Y1 = -mathPow(-Y1, ONE_THIRD);\n        } else {\n          Y1 = mathPow(Y1, ONE_THIRD);\n        }\n\n        if (Y2 < 0) {\n          Y2 = -mathPow(-Y2, ONE_THIRD);\n        } else {\n          Y2 = mathPow(Y2, ONE_THIRD);\n        }\n\n        var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      } else {\n        var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n        var theta = Math.acos(T) / 3;\n        var ASqrt = mathSqrt(A);\n        var tmp = Math.cos(theta);\n        var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n        var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n        var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n\n        if (t3 >= 0 && t3 <= 1) {\n          roots[n++] = t3;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {Array.<number>} extrema\n   * @return {number} \n   */\n\n\n  function cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var n = 0;\n\n    if (isAroundZero(a)) {\n      if (isNotAroundZero$1(b)) {\n        var t1 = -c / b;\n\n        if (t1 >= 0 && t1 <= 1) {\n          extrema[n++] = t1;\n        }\n      }\n    } else {\n      var disc = b * b - 4 * a * c;\n\n      if (isAroundZero(disc)) {\n        extrema[0] = -b / (2 * a);\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var t1 = (-b + discSqrt) / (2 * a);\n        var t2 = (-b - discSqrt) / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          extrema[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          extrema[n++] = t2;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @param  {Array.<number>} out\n   */\n\n\n  function cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n    var p0123 = (p123 - p012) * t + p012; // Seg0\n\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123; // Seg1\n\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n  }\n  /**\n   * \n   * \n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @param {number} x\n   * @param {number} y\n   * @param {Array.<number>} [out] \n   * @return {number}\n   */\n\n\n  function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n    _v0[0] = x;\n    _v0[1] = y; //  t \n    // PENDING\n\n    for (var _t = 0; _t < 1; _t += 0.05) {\n      _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n      _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n      d1 = v2DistSquare(_v0, _v1);\n\n      if (d1 < d) {\n        t = _t;\n        d = d1;\n      }\n    }\n\n    d = Infinity; // At most 32 iteration\n\n    for (var i = 0; i < 32; i++) {\n      if (interval < EPSILON_NUMERIC) {\n        break;\n      }\n\n      prev = t - interval;\n      next = t + interval; // t - interval\n\n      _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n      _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n      d1 = v2DistSquare(_v1, _v0);\n\n      if (prev >= 0 && d1 < d) {\n        t = prev;\n        d = d1;\n      } else {\n        // t + interval\n        _v2[0] = cubicAt(x0, x1, x2, x3, next);\n        _v2[1] = cubicAt(y0, y1, y2, y3, next);\n        d2 = v2DistSquare(_v2, _v0);\n\n        if (next <= 1 && d2 < d) {\n          t = next;\n          d = d2;\n        } else {\n          interval *= 0.5;\n        }\n      }\n    } // t\n\n\n    if (out) {\n      out[0] = cubicAt(x0, x1, x2, x3, t);\n      out[1] = cubicAt(y0, y1, y2, y3, t);\n    } // console.log(interval, i);\n\n\n    return mathSqrt(d);\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @param  {Array.<number>} roots\n   * @return {number} \n   */\n\n\n  function quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n    var n = 0;\n\n    if (isAroundZero(a)) {\n      if (isNotAroundZero$1(b)) {\n        var t1 = -c / b;\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      }\n    } else {\n      var disc = b * b - 4 * a * c;\n\n      if (isAroundZero(disc)) {\n        var t1 = -b / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var t1 = (-b + discSqrt) / (2 * a);\n        var t2 = (-b - discSqrt) / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @return {number}\n   */\n\n\n  function quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n\n    if (divider === 0) {\n      // p1 is center of p0 and p2\n      return 0.5;\n    } else {\n      return (p0 - p1) / divider;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @param  {Array.<number>} out\n   */\n\n\n  function quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01; // Seg0\n\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012; // Seg1\n\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n  }\n  /**\n   * \n   * \n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x\n   * @param {number} y\n   * @param {Array.<number>} out \n   * @return {number}\n   */\n\n\n  function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    _v0[0] = x;\n    _v0[1] = y; //  t \n    // PENDING\n\n    for (var _t = 0; _t < 1; _t += 0.05) {\n      _v1[0] = quadraticAt(x0, x1, x2, _t);\n      _v1[1] = quadraticAt(y0, y1, y2, _t);\n      var d1 = v2DistSquare(_v0, _v1);\n\n      if (d1 < d) {\n        t = _t;\n        d = d1;\n      }\n    }\n\n    d = Infinity; // At most 32 iteration\n\n    for (var i = 0; i < 32; i++) {\n      if (interval < EPSILON_NUMERIC) {\n        break;\n      }\n\n      var prev = t - interval;\n      var next = t + interval; // t - interval\n\n      _v1[0] = quadraticAt(x0, x1, x2, prev);\n      _v1[1] = quadraticAt(y0, y1, y2, prev);\n      var d1 = v2DistSquare(_v1, _v0);\n\n      if (prev >= 0 && d1 < d) {\n        t = prev;\n        d = d1;\n      } else {\n        // t + interval\n        _v2[0] = quadraticAt(x0, x1, x2, next);\n        _v2[1] = quadraticAt(y0, y1, y2, next);\n        var d2 = v2DistSquare(_v2, _v0);\n\n        if (next <= 1 && d2 < d) {\n          t = next;\n          d = d2;\n        } else {\n          interval *= 0.5;\n        }\n      }\n    } // t\n\n\n    if (out) {\n      out[0] = quadraticAt(x0, x1, x2, t);\n      out[1] = quadraticAt(y0, y1, y2, t);\n    } // console.log(interval, i);\n\n\n    return mathSqrt(d);\n  }\n\n  var cubicAt_1 = cubicAt;\n  var cubicDerivativeAt_1 = cubicDerivativeAt;\n  var cubicRootAt_1 = cubicRootAt;\n  var cubicExtrema_1 = cubicExtrema;\n  var cubicSubdivide_1 = cubicSubdivide;\n  var cubicProjectPoint_1 = cubicProjectPoint;\n  var quadraticAt_1 = quadraticAt;\n  var quadraticDerivativeAt_1 = quadraticDerivativeAt;\n  var quadraticRootAt_1 = quadraticRootAt;\n  var quadraticExtremum_1 = quadraticExtremum;\n  var quadraticSubdivide_1 = quadraticSubdivide;\n  var quadraticProjectPoint_1 = quadraticProjectPoint;\n\n  var curve = {\n  \tcubicAt: cubicAt_1,\n  \tcubicDerivativeAt: cubicDerivativeAt_1,\n  \tcubicRootAt: cubicRootAt_1,\n  \tcubicExtrema: cubicExtrema_1,\n  \tcubicSubdivide: cubicSubdivide_1,\n  \tcubicProjectPoint: cubicProjectPoint_1,\n  \tquadraticAt: quadraticAt_1,\n  \tquadraticDerivativeAt: quadraticDerivativeAt_1,\n  \tquadraticRootAt: quadraticRootAt_1,\n  \tquadraticExtremum: quadraticExtremum_1,\n  \tquadraticSubdivide: quadraticSubdivide_1,\n  \tquadraticProjectPoint: quadraticProjectPoint_1\n  };\n\n  /**\n   * @author Yi Shen(https://github.com/pissang)\n   */\n  var mathMin$1 = Math.min;\n  var mathMax$1 = Math.max;\n  var mathSin = Math.sin;\n  var mathCos = Math.cos;\n  var PI2 = Math.PI * 2;\n  var start = vector.create();\n  var end = vector.create();\n  var extremity = vector.create();\n  /**\n   * `min``max`\n   * @module zrender/core/bbox\n   * @param {Array<Object>} points \n   * @param {number} min\n   * @param {number} max\n   */\n\n  function fromPoints(points, min, max) {\n    if (points.length === 0) {\n      return;\n    }\n\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    var i;\n\n    for (i = 1; i < points.length; i++) {\n      p = points[i];\n      left = mathMin$1(left, p[0]);\n      right = mathMax$1(right, p[0]);\n      top = mathMin$1(top, p[1]);\n      bottom = mathMax$1(bottom, p[1]);\n    }\n\n    min[0] = left;\n    min[1] = top;\n    max[0] = right;\n    max[1] = bottom;\n  }\n  /**\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromLine(x0, y0, x1, y1, min, max) {\n    min[0] = mathMin$1(x0, x1);\n    min[1] = mathMin$1(y0, y1);\n    max[0] = mathMax$1(x0, x1);\n    max[1] = mathMax$1(y0, y1);\n  }\n\n  var xDim = [];\n  var yDim = [];\n  /**\n   * (p0, p1, p2, p3)`min``max`\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n  function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n    var cubicExtrema = curve.cubicExtrema;\n    var cubicAt = curve.cubicAt;\n    var i;\n    var n = cubicExtrema(x0, x1, x2, x3, xDim);\n    min[0] = Infinity;\n    min[1] = Infinity;\n    max[0] = -Infinity;\n    max[1] = -Infinity;\n\n    for (i = 0; i < n; i++) {\n      var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n      min[0] = mathMin$1(x, min[0]);\n      max[0] = mathMax$1(x, max[0]);\n    }\n\n    n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n    for (i = 0; i < n; i++) {\n      var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n      min[1] = mathMin$1(y, min[1]);\n      max[1] = mathMax$1(y, max[1]);\n    }\n\n    min[0] = mathMin$1(x0, min[0]);\n    max[0] = mathMax$1(x0, max[0]);\n    min[0] = mathMin$1(x3, min[0]);\n    max[0] = mathMax$1(x3, max[0]);\n    min[1] = mathMin$1(y0, min[1]);\n    max[1] = mathMax$1(y0, max[1]);\n    min[1] = mathMin$1(y3, min[1]);\n    max[1] = mathMax$1(y3, max[1]);\n  }\n  /**\n   * (p0, p1, p2)`min``max`\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n    var quadraticExtremum = curve.quadraticExtremum;\n    var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n    var tx = mathMax$1(mathMin$1(quadraticExtremum(x0, x1, x2), 1), 0);\n    var ty = mathMax$1(mathMin$1(quadraticExtremum(y0, y1, y2), 1), 0);\n    var x = quadraticAt(x0, x1, x2, tx);\n    var y = quadraticAt(y0, y1, y2, ty);\n    min[0] = mathMin$1(x0, x2, x);\n    min[1] = mathMin$1(y0, y2, y);\n    max[0] = mathMax$1(x0, x2, x);\n    max[1] = mathMax$1(y0, y2, y);\n  }\n  /**\n   * `min``max`\n   * @method\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x\n   * @param {number} y\n   * @param {number} rx\n   * @param {number} ry\n   * @param {number} startAngle\n   * @param {number} endAngle\n   * @param {number} anticlockwise\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n    var vec2Min = vector.min;\n    var vec2Max = vector.max;\n    var diff = Math.abs(startAngle - endAngle);\n\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n      // Is a circle\n      min[0] = x - rx;\n      min[1] = y - ry;\n      max[0] = x + rx;\n      max[1] = y + ry;\n      return;\n    }\n\n    start[0] = mathCos(startAngle) * rx + x;\n    start[1] = mathSin(startAngle) * ry + y;\n    end[0] = mathCos(endAngle) * rx + x;\n    end[1] = mathSin(endAngle) * ry + y;\n    vec2Min(min, start, end);\n    vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n    startAngle = startAngle % PI2;\n\n    if (startAngle < 0) {\n      startAngle = startAngle + PI2;\n    }\n\n    endAngle = endAngle % PI2;\n\n    if (endAngle < 0) {\n      endAngle = endAngle + PI2;\n    }\n\n    if (startAngle > endAngle && !anticlockwise) {\n      endAngle += PI2;\n    } else if (startAngle < endAngle && anticlockwise) {\n      startAngle += PI2;\n    }\n\n    if (anticlockwise) {\n      var tmp = endAngle;\n      endAngle = startAngle;\n      startAngle = tmp;\n    } // var number = 0;\n    // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n      if (angle > startAngle) {\n        extremity[0] = mathCos(angle) * rx + x;\n        extremity[1] = mathSin(angle) * ry + y;\n        vec2Min(min, extremity, min);\n        vec2Max(max, extremity, max);\n      }\n    }\n  }\n\n  var fromPoints_1 = fromPoints;\n  var fromLine_1 = fromLine;\n  var fromCubic_1 = fromCubic;\n  var fromQuadratic_1 = fromQuadratic;\n  var fromArc_1 = fromArc;\n\n  var bbox = {\n  \tfromPoints: fromPoints_1,\n  \tfromLine: fromLine_1,\n  \tfromCubic: fromCubic_1,\n  \tfromQuadratic: fromQuadratic_1,\n  \tfromArc: fromArc_1\n  };\n\n  var dpr$1 = config.devicePixelRatio;\n\n  /**\n   * Path `buildPath``ctx`, pathpathCommands\n   *  isInsidePath boundingRect\n   *\n   * @module zrender/core/PathProxy\n   * @author Yi Shen (http://www.github.com/pissang)\n   */\n  // TODO getTotalLength, getPointAtLength\n\n  /* global Float32Array */\n  var CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    // Rect\n    R: 7\n  }; // var CMD_MEM_SIZE = {\n  //     M: 3,\n  //     L: 3,\n  //     C: 7,\n  //     Q: 5,\n  //     A: 9,\n  //     R: 5,\n  //     Z: 1\n  // };\n\n  var min$4 = [];\n  var max$3 = [];\n  var min2 = [];\n  var max2 = [];\n  var mathMin$2 = Math.min;\n  var mathMax$2 = Math.max;\n  var mathCos$1 = Math.cos;\n  var mathSin$1 = Math.sin;\n  var mathSqrt$1 = Math.sqrt;\n  var mathAbs = Math.abs;\n  var hasTypedArray = typeof Float32Array !== 'undefined';\n  /**\n   * @alias module:zrender/core/PathProxy\n   * @constructor\n   */\n\n  var PathProxy = function (notSaveData) {\n    this._saveData = !(notSaveData || false);\n\n    if (this._saveData) {\n      /**\n       * Path data. Stored as flat array\n       * @type {Array.<Object>}\n       */\n      this.data = [];\n    }\n\n    this._ctx = null;\n  };\n  /**\n   * Path\n   * @return {Object}\n   */\n\n\n  PathProxy.prototype = {\n    constructor: PathProxy,\n    _xi: 0,\n    _yi: 0,\n    _x0: 0,\n    _y0: 0,\n    // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n    _ux: 0,\n    _uy: 0,\n    _len: 0,\n    _lineDash: null,\n    _dashOffset: 0,\n    _dashIdx: 0,\n    _dashSum: 0,\n\n    /**\n     * @readOnly\n     */\n    setScale: function (sx, sy, segmentIgnoreThreshold) {\n      // Compat. Previously there is no segmentIgnoreThreshold.\n      segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n      this._ux = mathAbs(segmentIgnoreThreshold / dpr$1 / sx) || 0;\n      this._uy = mathAbs(segmentIgnoreThreshold / dpr$1 / sy) || 0;\n    },\n    getContext: function () {\n      return this._ctx;\n    },\n\n    /**\n     * @param  {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    beginPath: function (ctx) {\n      this._ctx = ctx;\n      ctx && ctx.beginPath();\n      ctx && (this.dpr = ctx.dpr); // Reset\n\n      if (this._saveData) {\n        this._len = 0;\n      }\n\n      if (this._lineDash) {\n        this._lineDash = null;\n        this._dashOffset = 0;\n      }\n\n      return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    moveTo: function (x, y) {\n      this.addData(CMD.M, x, y);\n      this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi  _dashedXXXXTo \n      // xi, yi , x0, y0  closePath \n      //  beginPath  lineTo x0, y0 \n      //  lineTo dashed line  IE10- \n\n      this._x0 = x;\n      this._y0 = y;\n      this._xi = x;\n      this._yi = y;\n      return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    lineTo: function (x, y) {\n      var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n      || this._len < 5;\n      this.addData(CMD.L, x, y);\n\n      if (this._ctx && exceedUnit) {\n        this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n      }\n\n      if (exceedUnit) {\n        this._xi = x;\n        this._yi = y;\n      }\n\n      return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @param  {number} x3\n     * @param  {number} y3\n     * @return {module:zrender/core/PathProxy}\n     */\n    bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n      this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n      if (this._ctx) {\n        this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n      }\n\n      this._xi = x3;\n      this._yi = y3;\n      return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @return {module:zrender/core/PathProxy}\n     */\n    quadraticCurveTo: function (x1, y1, x2, y2) {\n      this.addData(CMD.Q, x1, y1, x2, y2);\n\n      if (this._ctx) {\n        this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n      }\n\n      this._xi = x2;\n      this._yi = y2;\n      return this;\n    },\n\n    /**\n     * @param  {number} cx\n     * @param  {number} cy\n     * @param  {number} r\n     * @param  {number} startAngle\n     * @param  {number} endAngle\n     * @param  {boolean} anticlockwise\n     * @return {module:zrender/core/PathProxy}\n     */\n    arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n      this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n      this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n      this._xi = mathCos$1(endAngle) * r + cx;\n      this._yi = mathSin$1(endAngle) * r + cy;\n      return this;\n    },\n    // TODO\n    arcTo: function (x1, y1, x2, y2, radius) {\n      if (this._ctx) {\n        this._ctx.arcTo(x1, y1, x2, y2, radius);\n      }\n\n      return this;\n    },\n    // TODO\n    rect: function (x, y, w, h) {\n      this._ctx && this._ctx.rect(x, y, w, h);\n      this.addData(CMD.R, x, y, w, h);\n      return this;\n    },\n\n    /**\n     * @return {module:zrender/core/PathProxy}\n     */\n    closePath: function () {\n      this.addData(CMD.Z);\n      var ctx = this._ctx;\n      var x0 = this._x0;\n      var y0 = this._y0;\n\n      if (ctx) {\n        this._needsDash() && this._dashedLineTo(x0, y0);\n        ctx.closePath();\n      }\n\n      this._xi = x0;\n      this._yi = y0;\n      return this;\n    },\n\n    /**\n     * Context  rebuildPath  fill\n     * stroke \n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    fill: function (ctx) {\n      ctx && ctx.fill();\n      this.toStatic();\n    },\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    stroke: function (ctx) {\n      ctx && ctx.stroke();\n      this.toStatic();\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDash: function (lineDash) {\n      if (lineDash instanceof Array) {\n        this._lineDash = lineDash;\n        this._dashIdx = 0;\n        var lineDashSum = 0;\n\n        for (var i = 0; i < lineDash.length; i++) {\n          lineDashSum += lineDash[i];\n        }\n\n        this._dashSum = lineDashSum;\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDashOffset: function (offset) {\n      this._dashOffset = offset;\n      return this;\n    },\n\n    /**\n     *\n     * @return {boolean}\n     */\n    len: function () {\n      return this._len;\n    },\n\n    /**\n     *  Path \n     */\n    setData: function (data) {\n      var len = data.length;\n\n      if (!(this.data && this.data.length === len) && hasTypedArray) {\n        this.data = new Float32Array(len);\n      }\n\n      for (var i = 0; i < len; i++) {\n        this.data[i] = data[i];\n      }\n\n      this._len = len;\n    },\n\n    /**\n     * \n     * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n     */\n    appendPath: function (path) {\n      if (!(path instanceof Array)) {\n        path = [path];\n      }\n\n      var len = path.length;\n      var appendSize = 0;\n      var offset = this._len;\n\n      for (var i = 0; i < len; i++) {\n        appendSize += path[i].len();\n      }\n\n      if (hasTypedArray && this.data instanceof Float32Array) {\n        this.data = new Float32Array(offset + appendSize);\n      }\n\n      for (var i = 0; i < len; i++) {\n        var appendPathData = path[i].data;\n\n        for (var k = 0; k < appendPathData.length; k++) {\n          this.data[offset++] = appendPathData[k];\n        }\n      }\n\n      this._len = offset;\n    },\n\n    /**\n     *  Path \n     * \n     */\n    addData: function (cmd) {\n      if (!this._saveData) {\n        return;\n      }\n\n      var data = this.data;\n\n      if (this._len + arguments.length > data.length) {\n        //  Float32Array\n        // \n        this._expandData();\n\n        data = this.data;\n      }\n\n      for (var i = 0; i < arguments.length; i++) {\n        data[this._len++] = arguments[i];\n      }\n\n      this._prevCmd = cmd;\n    },\n    _expandData: function () {\n      // Only if data is Float32Array\n      if (!(this.data instanceof Array)) {\n        var newData = [];\n\n        for (var i = 0; i < this._len; i++) {\n          newData[i] = this.data[i];\n        }\n\n        this.data = newData;\n      }\n    },\n\n    /**\n     * If needs js implemented dashed line\n     * @return {boolean}\n     * @private\n     */\n    _needsDash: function () {\n      return this._lineDash;\n    },\n    _dashedLineTo: function (x1, y1) {\n      var dashSum = this._dashSum;\n      var offset = this._dashOffset;\n      var lineDash = this._lineDash;\n      var ctx = this._ctx;\n      var x0 = this._xi;\n      var y0 = this._yi;\n      var dx = x1 - x0;\n      var dy = y1 - y0;\n      var dist = mathSqrt$1(dx * dx + dy * dy);\n      var x = x0;\n      var y = y0;\n      var dash;\n      var nDash = lineDash.length;\n      var idx;\n      dx /= dist;\n      dy /= dist;\n\n      if (offset < 0) {\n        // Convert to positive offset\n        offset = dashSum + offset;\n      }\n\n      offset %= dashSum;\n      x -= offset * dx;\n      y -= offset * dy;\n\n      while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx === 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n        idx = this._dashIdx;\n        dash = lineDash[idx];\n        x += dx * dash;\n        y += dy * dash;\n        this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n        if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n          continue;\n        }\n\n        ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin$2(x, x1) : mathMax$2(x, x1), dy >= 0 ? mathMin$2(y, y1) : mathMax$2(y, y1));\n      } // Offset for next lineTo\n\n\n      dx = x - x1;\n      dy = y - y1;\n      this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n    // Not accurate dashed line to\n    _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n      var dashSum = this._dashSum;\n      var offset = this._dashOffset;\n      var lineDash = this._lineDash;\n      var ctx = this._ctx;\n      var x0 = this._xi;\n      var y0 = this._yi;\n      var t;\n      var dx;\n      var dy;\n      var cubicAt = curve.cubicAt;\n      var bezierLen = 0;\n      var idx = this._dashIdx;\n      var nDash = lineDash.length;\n      var x;\n      var y;\n      var tmpLen = 0;\n\n      if (offset < 0) {\n        // Convert to positive offset\n        offset = dashSum + offset;\n      }\n\n      offset %= dashSum; // Bezier approx length\n\n      for (t = 0; t < 1; t += 0.1) {\n        dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n        dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n        bezierLen += mathSqrt$1(dx * dx + dy * dy);\n      } // Find idx after add offset\n\n\n      for (; idx < nDash; idx++) {\n        tmpLen += lineDash[idx];\n\n        if (tmpLen > offset) {\n          break;\n        }\n      }\n\n      t = (tmpLen - offset) / bezierLen;\n\n      while (t <= 1) {\n        x = cubicAt(x0, x1, x2, x3, t);\n        y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n        // Bad result if dash is long\n\n        idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n        t += lineDash[idx] / bezierLen;\n        idx = (idx + 1) % nDash;\n      } // Finish the last segment and calculate the new offset\n\n\n      idx % 2 !== 0 && ctx.lineTo(x3, y3);\n      dx = x3 - x;\n      dy = y3 - y;\n      this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n    _dashedQuadraticTo: function (x1, y1, x2, y2) {\n      // Convert quadratic to cubic using degree elevation\n      var x3 = x2;\n      var y3 = y2;\n      x2 = (x2 + 2 * x1) / 3;\n      y2 = (y2 + 2 * y1) / 3;\n      x1 = (this._xi + 2 * x1) / 3;\n      y1 = (this._yi + 2 * y1) / 3;\n\n      this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n    },\n\n    /**\n     *  Float32Array \n     * Convert dynamic array to static Float32Array\n     */\n    toStatic: function () {\n      var data = this.data;\n\n      if (data instanceof Array) {\n        data.length = this._len;\n\n        if (hasTypedArray) {\n          this.data = new Float32Array(data);\n        }\n      }\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n      min$4[0] = min$4[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n      max$3[0] = max$3[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n      var data = this.data;\n      var xi = 0;\n      var yi = 0;\n      var x0 = 0;\n      var y0 = 0;\n\n      for (var i = 0; i < data.length;) {\n        var cmd = data[i++];\n\n        if (i === 1) {\n          //  L, C, Q\n          //  previous point  point\n          //\n          //  Arc \n          xi = data[i];\n          yi = data[i + 1];\n          x0 = xi;\n          y0 = yi;\n        }\n\n        switch (cmd) {\n          case CMD.M:\n            // moveTo  subpath, \n            //  closePath \n            x0 = data[i++];\n            y0 = data[i++];\n            xi = x0;\n            yi = y0;\n            min2[0] = x0;\n            min2[1] = y0;\n            max2[0] = x0;\n            max2[1] = y0;\n            break;\n\n          case CMD.L:\n            bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.C:\n            bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.Q:\n            bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.A:\n            // TODO Arc \n            var cx = data[i++];\n            var cy = data[i++];\n            var rx = data[i++];\n            var ry = data[i++];\n            var startAngle = data[i++];\n            var endAngle = data[i++] + startAngle; // TODO Arc \n\n            i += 1;\n            var anticlockwise = 1 - data[i++];\n\n            if (i === 1) {\n              //  arc \n              // \n              x0 = mathCos$1(startAngle) * rx + cx;\n              y0 = mathSin$1(startAngle) * ry + cy;\n            }\n\n            bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n            xi = mathCos$1(endAngle) * rx + cx;\n            yi = mathSin$1(endAngle) * ry + cy;\n            break;\n\n          case CMD.R:\n            x0 = xi = data[i++];\n            y0 = yi = data[i++];\n            var width = data[i++];\n            var height = data[i++]; // Use fromLine\n\n            bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n            break;\n\n          case CMD.Z:\n            xi = x0;\n            yi = y0;\n            break;\n        } // Union\n\n\n        vector.min(min$4, min$4, min2);\n        vector.max(max$3, max$3, max2);\n      } // No data\n\n\n      if (i === 0) {\n        min$4[0] = min$4[1] = max$3[0] = max$3[1] = 0;\n      }\n\n      return new BoundingRect_1(min$4[0], min$4[1], max$3[0] - min$4[0], max$3[1] - min$4[1]);\n    },\n\n    /**\n     * Rebuild path from current data\n     * Rebuild path will not consider javascript implemented line dash.\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    rebuildPath: function (ctx) {\n      var d = this.data;\n      var x0;\n      var y0;\n      var xi;\n      var yi;\n      var x;\n      var y;\n      var ux = this._ux;\n      var uy = this._uy;\n      var len = this._len;\n\n      for (var i = 0; i < len;) {\n        var cmd = d[i++];\n\n        if (i === 1) {\n          //  L, C, Q\n          //  previous point  point\n          //\n          //  Arc \n          xi = d[i];\n          yi = d[i + 1];\n          x0 = xi;\n          y0 = yi;\n        }\n\n        switch (cmd) {\n          case CMD.M:\n            x0 = xi = d[i++];\n            y0 = yi = d[i++];\n            ctx.moveTo(xi, yi);\n            break;\n\n          case CMD.L:\n            x = d[i++];\n            y = d[i++]; // Not draw too small seg between\n\n            if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n              ctx.lineTo(x, y);\n              xi = x;\n              yi = y;\n            }\n\n            break;\n\n          case CMD.C:\n            ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n            xi = d[i - 2];\n            yi = d[i - 1];\n            break;\n\n          case CMD.Q:\n            ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n            xi = d[i - 2];\n            yi = d[i - 1];\n            break;\n\n          case CMD.A:\n            var cx = d[i++];\n            var cy = d[i++];\n            var rx = d[i++];\n            var ry = d[i++];\n            var theta = d[i++];\n            var dTheta = d[i++];\n            var psi = d[i++];\n            var fs = d[i++];\n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            var isEllipse = Math.abs(rx - ry) > 1e-3;\n            var endAngle = theta + dTheta;\n\n            if (isEllipse) {\n              ctx.translate(cx, cy);\n              ctx.rotate(psi);\n              ctx.scale(scaleX, scaleY);\n              ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n              ctx.scale(1 / scaleX, 1 / scaleY);\n              ctx.rotate(-psi);\n              ctx.translate(-cx, -cy);\n            } else {\n              ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n            }\n\n            if (i === 1) {\n              //  arc \n              // \n              x0 = mathCos$1(theta) * rx + cx;\n              y0 = mathSin$1(theta) * ry + cy;\n            }\n\n            xi = mathCos$1(endAngle) * rx + cx;\n            yi = mathSin$1(endAngle) * ry + cy;\n            break;\n\n          case CMD.R:\n            x0 = xi = d[i];\n            y0 = yi = d[i + 1];\n            ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n            break;\n\n          case CMD.Z:\n            ctx.closePath();\n            xi = x0;\n            yi = y0;\n        }\n      }\n    }\n  };\n  PathProxy.CMD = CMD;\n  var _default$v = PathProxy;\n  var PathProxy_1 = _default$v;\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n      return false;\n    }\n\n    if (x0 !== x1) {\n      _a = (y0 - y1) / (x0 - x1);\n      _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n    } else {\n      return Math.abs(x - x0) <= _l / 2;\n    }\n\n    var tmp = _a * x - y + _b;\n\n    var _s = tmp * tmp / (_a * _a + 1);\n\n    return _s <= _l / 2 * _l / 2;\n  }\n\n  var containStroke_1 = containStroke;\n\n  var line = {\n  \tcontainStroke: containStroke_1\n  };\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  x2\n   * @param  {number}  y2\n   * @param  {number}  x3\n   * @param  {number}  y3\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke$1(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n      return false;\n    }\n\n    var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n    return d <= _l / 2;\n  }\n\n  var containStroke_1$1 = containStroke$1;\n\n  var cubic = {\n  \tcontainStroke: containStroke_1$1\n  };\n\n  var quadraticProjectPoint$1 = curve.quadraticProjectPoint;\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  x2\n   * @param  {number}  y2\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke$2(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n      return false;\n    }\n\n    var d = quadraticProjectPoint$1(x0, y0, x1, y1, x2, y2, x, y, null);\n    return d <= _l / 2;\n  }\n\n  var containStroke_1$2 = containStroke$2;\n\n  var quadratic = {\n  \tcontainStroke: containStroke_1$2\n  };\n\n  var PI2$1 = Math.PI * 2;\n\n  function normalizeRadian(angle) {\n    angle %= PI2$1;\n\n    if (angle < 0) {\n      angle += PI2$1;\n    }\n\n    return angle;\n  }\n\n  var normalizeRadian_1 = normalizeRadian;\n\n  var util$1 = {\n  \tnormalizeRadian: normalizeRadian_1\n  };\n\n  var normalizeRadian$1 = util$1.normalizeRadian;\n  var PI2$2 = Math.PI * 2;\n  /**\n   * \n   * @param  {number}  cx\n   * @param  {number}  cy\n   * @param  {number}  r\n   * @param  {number}  startAngle\n   * @param  {number}  endAngle\n   * @param  {boolean}  anticlockwise\n   * @param  {number} lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {Boolean}\n   */\n\n  function containStroke$3(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth;\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n\n    if (d - _l > r || d + _l < r) {\n      return false;\n    }\n\n    if (Math.abs(startAngle - endAngle) % PI2$2 < 1e-4) {\n      // Is a circle\n      return true;\n    }\n\n    if (anticlockwise) {\n      var tmp = startAngle;\n      startAngle = normalizeRadian$1(endAngle);\n      endAngle = normalizeRadian$1(tmp);\n    } else {\n      startAngle = normalizeRadian$1(startAngle);\n      endAngle = normalizeRadian$1(endAngle);\n    }\n\n    if (startAngle > endAngle) {\n      endAngle += PI2$2;\n    }\n\n    var angle = Math.atan2(y, x);\n\n    if (angle < 0) {\n      angle += PI2$2;\n    }\n\n    return angle >= startAngle && angle <= endAngle || angle + PI2$2 >= startAngle && angle + PI2$2 <= endAngle;\n  }\n\n  var containStroke_1$3 = containStroke$3;\n\n  var arc = {\n  \tcontainStroke: containStroke_1$3\n  };\n\n  function windingLine(x0, y0, x1, y1, x, y) {\n    if (y > y0 && y > y1 || y < y0 && y < y1) {\n      return 0;\n    } // Ignore horizontal line\n\n\n    if (y1 === y0) {\n      return 0;\n    }\n\n    var dir = y1 < y0 ? 1 : -1;\n    var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n    if (t === 1 || t === 0) {\n      dir = y1 < y0 ? 0.5 : -0.5;\n    }\n\n    var x_ = t * (x1 - x0) + x0; // If (x, y) on the line, considered as \"contain\".\n\n    return x_ === x ? Infinity : x_ > x ? dir : 0;\n  }\n\n  var windingLine_1 = windingLine;\n\n  var normalizeRadian$2 = util$1.normalizeRadian;\n\n\n\n\n\n  var CMD$1 = PathProxy_1.CMD;\n  var PI2$3 = Math.PI * 2;\n  var EPSILON$2 = 1e-4;\n\n  function isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON$2;\n  } // \n\n\n  var roots = [-1, -1, -1];\n  var extrema = [-1, -1];\n\n  function swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n  }\n\n  function windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    // Quick reject\n    if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n      return 0;\n    }\n\n    var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n    if (nRoots === 0) {\n      return 0;\n    } else {\n      var w = 0;\n      var nExtrema = -1;\n      var y0_;\n      var y1_;\n\n      for (var i = 0; i < nRoots; i++) {\n        var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n        var unit = t === 0 || t === 1 ? 0.5 : 1;\n        var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (nExtrema < 0) {\n          nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n          if (extrema[1] < extrema[0] && nExtrema > 1) {\n            swapExtrema();\n          }\n\n          y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n          if (nExtrema > 1) {\n            y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n          }\n        }\n\n        if (nExtrema === 2) {\n          // \n          if (t < extrema[0]) {\n            w += y0_ < y0 ? unit : -unit;\n          } else if (t < extrema[1]) {\n            w += y1_ < y0_ ? unit : -unit;\n          } else {\n            w += y3 < y1_ ? unit : -unit;\n          }\n        } else {\n          // \n          if (t < extrema[0]) {\n            w += y0_ < y0 ? unit : -unit;\n          } else {\n            w += y3 < y0_ ? unit : -unit;\n          }\n        }\n      }\n\n      return w;\n    }\n  }\n\n  function windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    // Quick reject\n    if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n      return 0;\n    }\n\n    var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n    if (nRoots === 0) {\n      return 0;\n    } else {\n      var t = curve.quadraticExtremum(y0, y1, y2);\n\n      if (t >= 0 && t <= 1) {\n        var w = 0;\n        var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n        for (var i = 0; i < nRoots; i++) {\n          // Remove one endpoint.\n          var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n          var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n          if (x_ < x) {\n            // Quick reject\n            continue;\n          }\n\n          if (roots[i] < t) {\n            w += y_ < y0 ? unit : -unit;\n          } else {\n            w += y2 < y_ ? unit : -unit;\n          }\n        }\n\n        return w;\n      } else {\n        // Remove one endpoint.\n        var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n        if (x_ < x) {\n          // Quick reject\n          return 0;\n        }\n\n        return y2 < y0 ? unit : -unit;\n      }\n    }\n  } // TODO\n  // Arc \n\n\n  function windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n    y -= cy;\n\n    if (y > r || y < -r) {\n      return 0;\n    }\n\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n    var diff = Math.abs(startAngle - endAngle);\n\n    if (diff < 1e-4) {\n      return 0;\n    }\n\n    if (diff % PI2$3 < 1e-4) {\n      // Is a circle\n      startAngle = 0;\n      endAngle = PI2$3;\n      var dir = anticlockwise ? 1 : -1;\n\n      if (x >= roots[0] + cx && x <= roots[1] + cx) {\n        return dir;\n      } else {\n        return 0;\n      }\n    }\n\n    if (anticlockwise) {\n      var tmp = startAngle;\n      startAngle = normalizeRadian$2(endAngle);\n      endAngle = normalizeRadian$2(tmp);\n    } else {\n      startAngle = normalizeRadian$2(startAngle);\n      endAngle = normalizeRadian$2(endAngle);\n    }\n\n    if (startAngle > endAngle) {\n      endAngle += PI2$3;\n    }\n\n    var w = 0;\n\n    for (var i = 0; i < 2; i++) {\n      var x_ = roots[i];\n\n      if (x_ + cx > x) {\n        var angle = Math.atan2(y, x_);\n        var dir = anticlockwise ? 1 : -1;\n\n        if (angle < 0) {\n          angle = PI2$3 + angle;\n        }\n\n        if (angle >= startAngle && angle <= endAngle || angle + PI2$3 >= startAngle && angle + PI2$3 <= endAngle) {\n          if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n            dir = -dir;\n          }\n\n          w += dir;\n        }\n      }\n    }\n\n    return w;\n  }\n\n  function containPath(data, lineWidth, isStroke, x, y) {\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++]; // Begin a new subpath\n\n      if (cmd === CMD$1.M && i > 1) {\n        // Close previous subpath\n        if (!isStroke) {\n          w += windingLine_1(xi, yi, x0, y0, x, y);\n        } //  subpath \n        // if (w !== 0) {\n        //     return true;\n        // }\n\n      }\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD$1.M:\n          // moveTo  subpath, \n          //  closePath \n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          break;\n\n        case CMD$1.L:\n          if (isStroke) {\n            if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // NOTE  L, C, Q  NaN\n            w += windingLine_1(xi, yi, data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.C:\n          if (isStroke) {\n            if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.Q:\n          if (isStroke) {\n            if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.A:\n          // TODO Arc \n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var theta = data[i++];\n          var dTheta = data[i++]; // TODO Arc \n\n          i += 1;\n          var anticlockwise = 1 - data[i++];\n          var x1 = Math.cos(theta) * rx + cx;\n          var y1 = Math.sin(theta) * ry + cy; //  arc \n\n          if (i > 1) {\n            w += windingLine_1(xi, yi, x1, y1, x, y);\n          } else {\n            // \n            x0 = x1;\n            y0 = y1;\n          } // zr scale, x\n\n\n          var _x = (x - cx) * ry / rx + cx;\n\n          if (isStroke) {\n            if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n              return true;\n            }\n          } else {\n            w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n          }\n\n          xi = Math.cos(theta + dTheta) * rx + cx;\n          yi = Math.sin(theta + dTheta) * ry + cy;\n          break;\n\n        case CMD$1.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++];\n          var x1 = x0 + width;\n          var y1 = y0 + height;\n\n          if (isStroke) {\n            if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // FIXME Clockwise ?\n            w += windingLine_1(x1, y0, x1, y1, x, y);\n            w += windingLine_1(x0, y1, x0, y0, x, y);\n          }\n\n          break;\n\n        case CMD$1.Z:\n          if (isStroke) {\n            if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // Close a subpath\n            w += windingLine_1(xi, yi, x0, y0, x, y); //  subpath \n            // FIXME subpaths may overlap\n            // if (w !== 0) {\n            //     return true;\n            // }\n          }\n\n          xi = x0;\n          yi = y0;\n          break;\n      }\n    }\n\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n      w += windingLine_1(xi, yi, x0, y0, x, y) || 0;\n    }\n\n    return w !== 0;\n  }\n\n  function contain(pathData, x, y) {\n    return containPath(pathData, 0, false, x, y);\n  }\n\n  function containStroke$4(pathData, lineWidth, x, y) {\n    return containPath(pathData, lineWidth, true, x, y);\n  }\n\n  var contain_1 = contain;\n  var containStroke_1$4 = containStroke$4;\n\n  var path$1 = {\n  \tcontain: contain_1,\n  \tcontainStroke: containStroke_1$4\n  };\n\n  var getCanvasPattern = Pattern_1.prototype.getCanvasPattern;\n  var abs = Math.abs;\n  var pathProxyForDraw = new PathProxy_1(true);\n  /**\n   * @alias module:zrender/graphic/Path\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n\n  function Path(opts) {\n    Displayable_1.call(this, opts);\n    /**\n     * @type {module:zrender/core/PathProxy}\n     * @readOnly\n     */\n\n    this.path = null;\n  }\n\n  Path.prototype = {\n    constructor: Path,\n    type: 'path',\n    __dirtyPath: true,\n    strokeContainThreshold: 5,\n    // This item default to be false. But in map series in echarts,\n    // in order to improve performance, it should be set to true,\n    // so the shorty segment won't draw.\n    segmentIgnoreThreshold: 0,\n\n    /**\n     * See `module:zrender/src/graphic/helper/subPixelOptimize`.\n     * @type {boolean}\n     */\n    subPixelOptimize: false,\n    brush: function (ctx, prevEl) {\n      var style = this.style;\n      var path = this.path || pathProxyForDraw;\n      var hasStroke = style.hasStroke();\n      var hasFill = style.hasFill();\n      var fill = style.fill;\n      var stroke = style.stroke;\n      var hasFillGradient = hasFill && !!fill.colorStops;\n      var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n      var hasFillPattern = hasFill && !!fill.image;\n      var hasStrokePattern = hasStroke && !!stroke.image;\n      style.bind(ctx, this, prevEl);\n      this.setTransform(ctx);\n\n      if (this.__dirty) {\n        var rect; // Update gradient because bounding rect may changed\n\n        if (hasFillGradient) {\n          rect = rect || this.getBoundingRect();\n          this._fillGradient = style.getGradient(ctx, fill, rect);\n        }\n\n        if (hasStrokeGradient) {\n          rect = rect || this.getBoundingRect();\n          this._strokeGradient = style.getGradient(ctx, stroke, rect);\n        }\n      } // Use the gradient or pattern\n\n\n      if (hasFillGradient) {\n        // PENDING If may have affect the state\n        ctx.fillStyle = this._fillGradient;\n      } else if (hasFillPattern) {\n        ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n      }\n\n      if (hasStrokeGradient) {\n        ctx.strokeStyle = this._strokeGradient;\n      } else if (hasStrokePattern) {\n        ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n      }\n\n      var lineDash = style.lineDash;\n      var lineDashOffset = style.lineDashOffset;\n      var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n      var scale = this.getGlobalScale();\n      path.setScale(scale[0], scale[1], this.segmentIgnoreThreshold); // Proxy context\n      // Rebuild path in following 2 cases\n      // 1. Path is dirty\n      // 2. Path needs javascript implemented lineDash stroking.\n      //    In this case, lineDash information will not be saved in PathProxy\n\n      if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n        path.beginPath(ctx); // Setting line dash before build path\n\n        if (lineDash && !ctxLineDash) {\n          path.setLineDash(lineDash);\n          path.setLineDashOffset(lineDashOffset);\n        }\n\n        this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n        if (this.path) {\n          this.__dirtyPath = false;\n        }\n      } else {\n        // Replay path building\n        ctx.beginPath();\n        this.path.rebuildPath(ctx);\n      }\n\n      if (hasFill) {\n        if (style.fillOpacity != null) {\n          var originalGlobalAlpha = ctx.globalAlpha;\n          ctx.globalAlpha = style.fillOpacity * style.opacity;\n          path.fill(ctx);\n          ctx.globalAlpha = originalGlobalAlpha;\n        } else {\n          path.fill(ctx);\n        }\n      }\n\n      if (lineDash && ctxLineDash) {\n        ctx.setLineDash(lineDash);\n        ctx.lineDashOffset = lineDashOffset;\n      }\n\n      if (hasStroke) {\n        if (style.strokeOpacity != null) {\n          var originalGlobalAlpha = ctx.globalAlpha;\n          ctx.globalAlpha = style.strokeOpacity * style.opacity;\n          path.stroke(ctx);\n          ctx.globalAlpha = originalGlobalAlpha;\n        } else {\n          path.stroke(ctx);\n        }\n      }\n\n      if (lineDash && ctxLineDash) {\n        // PENDING\n        // Remove lineDash\n        ctx.setLineDash([]);\n      } // Draw rect text\n\n\n      if (style.text != null) {\n        // Only restore transform when needs draw text.\n        this.restoreTransform(ctx);\n        this.drawRectText(ctx, this.getBoundingRect());\n      }\n    },\n    // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n    // Like in circle\n    buildPath: function (ctx, shapeCfg, inBundle) {},\n    createPathProxy: function () {\n      this.path = new PathProxy_1();\n    },\n    getBoundingRect: function () {\n      var rect = this._rect;\n      var style = this.style;\n      var needsUpdateRect = !rect;\n\n      if (needsUpdateRect) {\n        var path = this.path;\n\n        if (!path) {\n          // Create path on demand.\n          path = this.path = new PathProxy_1();\n        }\n\n        if (this.__dirtyPath) {\n          path.beginPath();\n          this.buildPath(path, this.shape, false);\n        }\n\n        rect = path.getBoundingRect();\n      }\n\n      this._rect = rect;\n\n      if (style.hasStroke()) {\n        // Needs update rect with stroke lineWidth when\n        // 1. Element changes scale or lineWidth\n        // 2. Shape is changed\n        var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n        if (this.__dirty || needsUpdateRect) {\n          rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n          var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n          var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n          if (!style.hasFill()) {\n            w = Math.max(w, this.strokeContainThreshold || 4);\n          } // Consider line width\n          // Line scale can't be 0;\n\n\n          if (lineScale > 1e-10) {\n            rectWithStroke.width += w / lineScale;\n            rectWithStroke.height += w / lineScale;\n            rectWithStroke.x -= w / lineScale / 2;\n            rectWithStroke.y -= w / lineScale / 2;\n          }\n        } // Return rect with stroke\n\n\n        return rectWithStroke;\n      }\n\n      return rect;\n    },\n    contain: function (x, y) {\n      var localPos = this.transformCoordToLocal(x, y);\n      var rect = this.getBoundingRect();\n      var style = this.style;\n      x = localPos[0];\n      y = localPos[1];\n\n      if (rect.contain(x, y)) {\n        var pathData = this.path.data;\n\n        if (style.hasStroke()) {\n          var lineWidth = style.lineWidth;\n          var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n          if (lineScale > 1e-10) {\n            // Only add extra hover lineWidth when there are no fill\n            if (!style.hasFill()) {\n              lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n            }\n\n            if (path$1.containStroke(pathData, lineWidth / lineScale, x, y)) {\n              return true;\n            }\n          }\n        }\n\n        if (style.hasFill()) {\n          return path$1.contain(pathData, x, y);\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * @param  {boolean} dirtyPath\n     */\n    dirty: function (dirtyPath) {\n      if (dirtyPath == null) {\n        dirtyPath = true;\n      } // Only mark dirty, not mark clean\n\n\n      if (dirtyPath) {\n        this.__dirtyPath = dirtyPath;\n        this._rect = null;\n      }\n\n      this.__dirty = this.__dirtyText = true;\n      this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n      if (this.__clipTarget) {\n        this.__clipTarget.dirty();\n      }\n    },\n\n    /**\n     * Alias for animate('shape')\n     * @param {boolean} loop\n     */\n    animateShape: function (loop) {\n      return this.animate('shape', loop);\n    },\n    // Overwrite attrKV\n    attrKV: function (key, value) {\n      // FIXME\n      if (key === 'shape') {\n        this.setShape(value);\n        this.__dirtyPath = true;\n        this._rect = null;\n      } else {\n        Displayable_1.prototype.attrKV.call(this, key, value);\n      }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setShape: function (key, value) {\n      var shape = this.shape; // Path from string may not have shape\n\n      if (shape) {\n        if (util.isObject(key)) {\n          for (var name in key) {\n            if (key.hasOwnProperty(name)) {\n              shape[name] = key[name];\n            }\n          }\n        } else {\n          shape[key] = value;\n        }\n\n        this.dirty(true);\n      }\n\n      return this;\n    },\n    getLineScale: function () {\n      var m = this.transform; // Get the line scale.\n      // Determinant of `m` means how much the area is enlarged by the\n      // transformation. So its square root can be used as a scale factor\n      // for width.\n\n      return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n    }\n  };\n  /**\n   *  Path element, \n   * Extend a path element\n   * @param {Object} props\n   * @param {string} props.type Path type\n   * @param {Function} props.init Initialize\n   * @param {Function} props.buildPath Overwrite buildPath method\n   * @param {Object} [props.style] Extended default style config\n   * @param {Object} [props.shape] Extended default shape config\n   */\n\n  Path.extend = function (defaults) {\n    var Sub = function (opts) {\n      Path.call(this, opts);\n\n      if (defaults.style) {\n        // Extend default style\n        this.style.extendFrom(defaults.style, false);\n      } // Extend default shape\n\n\n      var defaultShape = defaults.shape;\n\n      if (defaultShape) {\n        this.shape = this.shape || {};\n        var thisShape = this.shape;\n\n        for (var name in defaultShape) {\n          if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n            thisShape[name] = defaultShape[name];\n          }\n        }\n      }\n\n      defaults.init && defaults.init.call(this, opts);\n    };\n\n    util.inherits(Sub, Path); // FIXME  extend position, rotation \n\n    for (var name in defaults) {\n      // Extending prototype values and methods\n      if (name !== 'style' && name !== 'shape') {\n        Sub.prototype[name] = defaults[name];\n      }\n    }\n\n    return Sub;\n  };\n\n  util.inherits(Path, Displayable_1);\n  var _default$w = Path;\n  var Path_1 = _default$w;\n\n  var v2ApplyTransform$1 = vector.applyTransform;\n  var CMD$2 = PathProxy_1.CMD;\n  var points = [[], [], []];\n  var mathSqrt$2 = Math.sqrt;\n  var mathAtan2 = Math.atan2;\n\n  function _default$x(path, m) {\n    var data = path.data;\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD$2.M;\n    var C = CMD$2.C;\n    var L = CMD$2.L;\n    var R = CMD$2.R;\n    var A = CMD$2.A;\n    var Q = CMD$2.Q;\n\n    for (i = 0, j = 0; i < data.length;) {\n      cmd = data[i++];\n      j = i;\n      nPoint = 0;\n\n      switch (cmd) {\n        case M:\n          nPoint = 1;\n          break;\n\n        case L:\n          nPoint = 1;\n          break;\n\n        case C:\n          nPoint = 3;\n          break;\n\n        case Q:\n          nPoint = 2;\n          break;\n\n        case A:\n          var x = m[4];\n          var y = m[5];\n          var sx = mathSqrt$2(m[0] * m[0] + m[1] * m[1]);\n          var sy = mathSqrt$2(m[2] * m[2] + m[3] * m[3]);\n          var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n          data[i] *= sx;\n          data[i++] += x; // cy\n\n          data[i] *= sy;\n          data[i++] += y; // Scale rx and ry\n          // FIXME Assume psi is 0 here\n\n          data[i++] *= sx;\n          data[i++] *= sy; // Start angle\n\n          data[i++] += angle; // end angle\n\n          data[i++] += angle; // FIXME psi\n\n          i += 2;\n          j = i;\n          break;\n\n        case R:\n          // x0, y0\n          p[0] = data[i++];\n          p[1] = data[i++];\n          v2ApplyTransform$1(p, p, m);\n          data[j++] = p[0];\n          data[j++] = p[1]; // x1, y1\n\n          p[0] += data[i++];\n          p[1] += data[i++];\n          v2ApplyTransform$1(p, p, m);\n          data[j++] = p[0];\n          data[j++] = p[1];\n      }\n\n      for (k = 0; k < nPoint; k++) {\n        var p = points[k];\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform$1(p, p, m); // Write back\n\n        data[j++] = p[0];\n        data[j++] = p[1];\n      }\n    }\n  }\n\n  var transformPath = _default$x;\n\n  // command chars\n  // var cc = [\n  //     'm', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z',\n  //     'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'\n  // ];\n  var mathSqrt$3 = Math.sqrt;\n  var mathSin$2 = Math.sin;\n  var mathCos$2 = Math.cos;\n  var PI = Math.PI;\n\n  var vMag = function (v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n  };\n\n  var vRatio = function (u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n  };\n\n  var vAngle = function (u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n  };\n\n  function processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos$2(psi) * (x1 - x2) / 2.0 + mathSin$2(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin$2(psi) * (x1 - x2) / 2.0 + mathCos$2(psi) * (y1 - y2) / 2.0;\n    var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n    if (lambda > 1) {\n      rx *= mathSqrt$3(lambda);\n      ry *= mathSqrt$3(lambda);\n    }\n\n    var f = (fa === fs ? -1 : 1) * mathSqrt$3((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0 + mathCos$2(psi) * cxp - mathSin$2(psi) * cyp;\n    var cy = (y1 + y2) / 2.0 + mathSin$2(psi) * cxp + mathCos$2(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n\n    if (vRatio(u, v) <= -1) {\n      dTheta = PI;\n    }\n\n    if (vRatio(u, v) >= 1) {\n      dTheta = 0;\n    }\n\n    if (fs === 0 && dTheta > 0) {\n      dTheta = dTheta - 2 * PI;\n    }\n\n    if (fs === 1 && dTheta < 0) {\n      dTheta = dTheta + 2 * PI;\n    }\n\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n  }\n\n  var commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig; // Consider case:\n  // (1) delimiter can be comma or space, where continuous commas\n  // or spaces should be seen as one comma.\n  // (2) value can be like:\n  // '2e-4', 'l.5.9' (ignore 0), 'M-10-10', 'l-2.43e-1,34.9983',\n  // 'l-.5E1,54', '121-23-44-11' (no delimiter)\n\n  var numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g; // var valueSplitReg = /[\\s,]+/;\n\n  function createPathProxyFromString(data) {\n    if (!data) {\n      return new PathProxy_1();\n    } // var data = data.replace(/-/g, ' -')\n    //     .replace(/  /g, ' ')\n    //     .replace(/ /g, ',')\n    //     .replace(/,,/g, ',');\n    // var n;\n    // create pipes so that we can split the data\n    // for (n = 0; n < cc.length; n++) {\n    //     cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n    // }\n    // data = data.replace(/-/g, ',-');\n    // create array\n    // var arr = cs.split('|');\n    // init context point\n\n\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var path = new PathProxy_1();\n    var CMD = PathProxy_1.CMD; // commandReg.lastIndex = 0;\n    // var cmdResult;\n    // while ((cmdResult = commandReg.exec(data)) != null) {\n    //     var cmdStr = cmdResult[1];\n    //     var cmdContent = cmdResult[2];\n\n    var cmdList = data.match(commandReg);\n\n    for (var l = 0; l < cmdList.length; l++) {\n      var cmdText = cmdList[l];\n      var cmdStr = cmdText.charAt(0);\n      var cmd; // String#split is faster a little bit than String#replace or RegExp#exec.\n      // var p = cmdContent.split(valueSplitReg);\n      // var pLen = 0;\n      // for (var i = 0; i < p.length; i++) {\n      //     // '' and other invalid str => NaN\n      //     var val = parseFloat(p[i]);\n      //     !isNaN(val) && (p[pLen++] = val);\n      // }\n\n      var p = cmdText.match(numberReg) || [];\n      var pLen = p.length;\n\n      for (var i = 0; i < pLen; i++) {\n        p[i] = parseFloat(p[i]);\n      }\n\n      var off = 0;\n\n      while (off < pLen) {\n        var ctlPtx;\n        var ctlPty;\n        var rx;\n        var ry;\n        var psi;\n        var fa;\n        var fs;\n        var x1 = cpx;\n        var y1 = cpy; // convert l, H, h, V, and v to L\n\n        switch (cmdStr) {\n          case 'l':\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'L':\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'm':\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.M;\n            path.addData(cmd, cpx, cpy);\n            subpathX = cpx;\n            subpathY = cpy;\n            cmdStr = 'l';\n            break;\n\n          case 'M':\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.M;\n            path.addData(cmd, cpx, cpy);\n            subpathX = cpx;\n            subpathY = cpy;\n            cmdStr = 'L';\n            break;\n\n          case 'h':\n            cpx += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'H':\n            cpx = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'v':\n            cpy += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'V':\n            cpy = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'C':\n            cmd = CMD.C;\n            path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n            cpx = p[off - 2];\n            cpy = p[off - 1];\n            break;\n\n          case 'c':\n            cmd = CMD.C;\n            path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n            cpx += p[off - 2];\n            cpy += p[off - 1];\n            break;\n\n          case 'S':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.C) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cmd = CMD.C;\n            x1 = p[off++];\n            y1 = p[off++];\n            cpx = p[off++];\n            cpy = p[off++];\n            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n            break;\n\n          case 's':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.C) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cmd = CMD.C;\n            x1 = cpx + p[off++];\n            y1 = cpy + p[off++];\n            cpx += p[off++];\n            cpy += p[off++];\n            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n            break;\n\n          case 'Q':\n            x1 = p[off++];\n            y1 = p[off++];\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, x1, y1, cpx, cpy);\n            break;\n\n          case 'q':\n            x1 = p[off++] + cpx;\n            y1 = p[off++] + cpy;\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, x1, y1, cpx, cpy);\n            break;\n\n          case 'T':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.Q) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 't':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.Q) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 'A':\n            rx = p[off++];\n            ry = p[off++];\n            psi = p[off++];\n            fa = p[off++];\n            fs = p[off++];\n            x1 = cpx, y1 = cpy;\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.A;\n            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n            break;\n\n          case 'a':\n            rx = p[off++];\n            ry = p[off++];\n            psi = p[off++];\n            fa = p[off++];\n            fs = p[off++];\n            x1 = cpx, y1 = cpy;\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.A;\n            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n            break;\n        }\n      }\n\n      if (cmdStr === 'z' || cmdStr === 'Z') {\n        cmd = CMD.Z;\n        path.addData(cmd); // z may be in the middle of the path.\n\n        cpx = subpathX;\n        cpy = subpathY;\n      }\n\n      prevCmd = cmd;\n    }\n\n    path.toStatic();\n    return path;\n  } // TODO Optimize double memory cost problem\n\n\n  function createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    opts = opts || {};\n\n    opts.buildPath = function (path) {\n      if (path.setData) {\n        path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n        var ctx = path.getContext();\n\n        if (ctx) {\n          path.rebuildPath(ctx);\n        }\n      } else {\n        var ctx = path;\n        pathProxy.rebuildPath(ctx);\n      }\n    };\n\n    opts.applyTransform = function (m) {\n      transformPath(pathProxy, m);\n      this.dirty(true);\n    };\n\n    return opts;\n  }\n  /**\n   * Create a Path object from path string data\n   * http://www.w3.org/TR/SVG/paths.html#PathData\n   * @param  {Object} opts Other options\n   */\n\n\n  function createFromString(str, opts) {\n    return new Path_1(createPathOptions(str, opts));\n  }\n  /**\n   * Create a Path class from path string data\n   * @param  {string} str\n   * @param  {Object} opts Other options\n   */\n\n\n  function extendFromString(str, opts) {\n    return Path_1.extend(createPathOptions(str, opts));\n  }\n  /**\n   * Merge multiple paths\n   */\n  // TODO Apply transform\n  // TODO stroke dash\n  // TODO Optimize double memory cost problem\n\n\n  function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n\n    for (var i = 0; i < len; i++) {\n      var pathEl = pathEls[i];\n\n      if (!pathEl.path) {\n        pathEl.createPathProxy();\n      }\n\n      if (pathEl.__dirtyPath) {\n        pathEl.buildPath(pathEl.path, pathEl.shape, true);\n      }\n\n      pathList.push(pathEl.path);\n    }\n\n    var pathBundle = new Path_1(opts); // Need path proxy.\n\n    pathBundle.createPathProxy();\n\n    pathBundle.buildPath = function (path) {\n      path.appendPath(pathList); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    };\n\n    return pathBundle;\n  }\n\n  var createFromString_1 = createFromString;\n  var extendFromString_1 = extendFromString;\n  var mergePath_1 = mergePath;\n\n  var path$2 = {\n  \tcreateFromString: createFromString_1,\n  \textendFromString: extendFromString_1,\n  \tmergePath: mergePath_1\n  };\n\n  var ContextCachedBy$3 = constant.ContextCachedBy;\n\n  /**\n   * @alias zrender/graphic/Text\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n  var Text = function (opts) {\n    // jshint ignore:line\n    Displayable_1.call(this, opts);\n  };\n\n  Text.prototype = {\n    constructor: Text,\n    type: 'text',\n    brush: function (ctx, prevEl) {\n      var style = this.style; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n      style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n      var text = style.text; // Convert to string\n\n      text != null && (text += ''); // Do not apply style.bind in Text node. Because the real bind job\n      // is in textHelper.renderText, and performance of text render should\n      // be considered.\n      // style.bind(ctx, this, prevEl);\n\n      if (!text$1.needDrawText(text, style)) {\n        // The current el.style is not applied\n        // and should not be used as cache.\n        ctx.__attrCachedBy = ContextCachedBy$3.NONE;\n        return;\n      }\n\n      this.setTransform(ctx);\n      text$1.renderText(this, ctx, text, style, null, prevEl);\n      this.restoreTransform(ctx);\n    },\n    getBoundingRect: function () {\n      var style = this.style; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true);\n\n      if (!this._rect) {\n        var text$2 = style.text;\n        text$2 != null ? text$2 += '' : text$2 = '';\n        var rect = text.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.textLineHeight, style.rich);\n        rect.x += style.x || 0;\n        rect.y += style.y || 0;\n\n        if (text$1.getStroke(style.textStroke, style.textStrokeWidth)) {\n          var w = style.textStrokeWidth;\n          rect.x -= w / 2;\n          rect.y -= w / 2;\n          rect.width += w;\n          rect.height += w;\n        }\n\n        this._rect = rect;\n      }\n\n      return this._rect;\n    }\n  };\n  util.inherits(Text, Displayable_1);\n  var _default$y = Text;\n  var Text_1 = _default$y;\n\n  /**\n   * \n   * @module zrender/shape/Circle\n   */\n  var _default$z = Path_1.extend({\n    type: 'circle',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0\n    },\n    buildPath: function (ctx, shape, inBundle) {\n      // Better stroking in ShapeBundle\n      // Always do it may have performence issue ( fill may be 2x more cost)\n      if (inBundle) {\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\n      } // else {\n      //     if (ctx.allocate && !ctx.data.length) {\n      //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n      //     }\n      // }\n      // Better stroking in ShapeBundle\n      // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n      ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n    }\n  });\n\n  var Circle = _default$z;\n\n  // Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n  // where exception \"unexpected call to method or property access\"\n  // might be thrown when calling ctx.fill or ctx.stroke after a path\n  // whose area size is zero is drawn and ctx.clip() is called and\n  // shadowBlur is set. See #4572, #3112, #5777.\n  // (e.g.,\n  //  ctx.moveTo(10, 10);\n  //  ctx.lineTo(20, 10);\n  //  ctx.closePath();\n  //  ctx.clip();\n  //  ctx.shadowBlur = 10;\n  //  ...\n  //  ctx.fill();\n  // )\n  var shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\n  function _default$A(orignalBrush) {\n    // version string can be: '11.0'\n    return env_1.browser.ie && env_1.browser.version >= 11 ? function () {\n      var clipPaths = this.__clipPaths;\n      var style = this.style;\n      var modified;\n\n      if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n          var clipPath = clipPaths[i];\n          var shape = clipPath && clipPath.shape;\n          var type = clipPath && clipPath.type;\n\n          if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n            for (var j = 0; j < shadowTemp.length; j++) {\n              // It is save to put shadowTemp static, because shadowTemp\n              // will be all modified each item brush called.\n              shadowTemp[j][2] = style[shadowTemp[j][0]];\n              style[shadowTemp[j][0]] = shadowTemp[j][1];\n            }\n\n            modified = true;\n            break;\n          }\n        }\n      }\n\n      orignalBrush.apply(this, arguments);\n\n      if (modified) {\n        for (var j = 0; j < shadowTemp.length; j++) {\n          style[shadowTemp[j][0]] = shadowTemp[j][2];\n        }\n      }\n    } : orignalBrush;\n  }\n\n  var fixClipWithShadow = _default$A;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Sector\n   */\n  var _default$B = Path_1.extend({\n    type: 'sector',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r0: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r0 = Math.max(shape.r0 || 0, 0);\n      var r = Math.max(shape.r, 0);\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitX = Math.cos(startAngle);\n      var unitY = Math.sin(startAngle);\n      ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n      ctx.lineTo(unitX * r + x, unitY * r + y);\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n      ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n      if (r0 !== 0) {\n        ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      }\n\n      ctx.closePath();\n    }\n  });\n\n  var Sector = _default$B;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Ring\n   */\n  var _default$C = Path_1.extend({\n    type: 'ring',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0,\n      r0: 0\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var PI2 = Math.PI * 2;\n      ctx.moveTo(x + shape.r, y);\n      ctx.arc(x, y, shape.r, 0, PI2, false);\n      ctx.moveTo(x + shape.r0, y);\n      ctx.arc(x, y, shape.r0, 0, PI2, true);\n    }\n  });\n\n  var Ring = _default$C;\n\n  var v2Distance = vector.distance;\n\n  /**\n   * Catmull-Rom spline \n   * @module zrender/shape/util/smoothSpline\n   * @author pissang (https://www.github.com/pissang)\n   *         Kener (@Kener-, kener.linfeng@gmail.com)\n   *         errorrik (errorrik@gmail.com)\n   */\n\n  /**\n   * @inner\n   */\n  function interpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n  /**\n   * @alias module:zrender/shape/util/smoothSpline\n   * @param {Array} points \n   * @param {boolean} isLoop\n   * @return {Array}\n   */\n\n\n  function _default$D(points, isLoop) {\n    var len = points.length;\n    var ret = [];\n    var distance = 0;\n\n    for (var i = 1; i < len; i++) {\n      distance += v2Distance(points[i - 1], points[i]);\n    }\n\n    var segs = distance / 2;\n    segs = segs < len ? len : segs;\n\n    for (var i = 0; i < segs; i++) {\n      var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n      var idx = Math.floor(pos);\n      var w = pos - idx;\n      var p0;\n      var p1 = points[idx % len];\n      var p2;\n      var p3;\n\n      if (!isLoop) {\n        p0 = points[idx === 0 ? idx : idx - 1];\n        p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n        p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n      } else {\n        p0 = points[(idx - 1 + len) % len];\n        p2 = points[(idx + 1) % len];\n        p3 = points[(idx + 2) % len];\n      }\n\n      var w2 = w * w;\n      var w3 = w * w2;\n      ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n    }\n\n    return ret;\n  }\n\n  var smoothSpline = _default$D;\n\n  var v2Min = vector.min;\n  var v2Max = vector.max;\n  var v2Scale = vector.scale;\n  var v2Distance$1 = vector.distance;\n  var v2Add = vector.add;\n  var v2Clone = vector.clone;\n  var v2Sub = vector.sub;\n\n  /**\n   * \n   * @module zrender/shape/util/smoothBezier\n   * @author pissang (https://www.github.com/pissang)\n   *         Kener (@Kener-, kener.linfeng@gmail.com)\n   *         errorrik (errorrik@gmail.com)\n   */\n\n  /**\n   * \n   * @alias module:zrender/shape/util/smoothBezier\n   * @param {Array} points \n   * @param {number} smooth , 0-1\n   * @param {boolean} isLoop\n   * @param {Array} constraint \n   *                            [[0, 0], [100, 100]], \n   *                           \n   * @param {Array} \n   */\n  function _default$E(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n\n    if (constraint) {\n      min = [Infinity, Infinity];\n      max = [-Infinity, -Infinity];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        v2Min(min, min, points[i]);\n        v2Max(max, max, points[i]);\n      } // \n\n\n      v2Min(min, min, constraint[0]);\n      v2Max(max, max, constraint[1]);\n    }\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      var point = points[i];\n\n      if (isLoop) {\n        prevPoint = points[i ? i - 1 : len - 1];\n        nextPoint = points[(i + 1) % len];\n      } else {\n        if (i === 0 || i === len - 1) {\n          cps.push(v2Clone(points[i]));\n          continue;\n        } else {\n          prevPoint = points[i - 1];\n          nextPoint = points[i + 1];\n        }\n      }\n\n      v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n      v2Scale(v, v, smooth);\n      var d0 = v2Distance$1(point, prevPoint);\n      var d1 = v2Distance$1(point, nextPoint);\n      var sum = d0 + d1;\n\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      v2Scale(v1, v, -d0);\n      v2Scale(v2, v, d1);\n      var cp0 = v2Add([], point, v1);\n      var cp1 = v2Add([], point, v2);\n\n      if (constraint) {\n        v2Max(cp0, cp0, min);\n        v2Min(cp0, cp0, max);\n        v2Max(cp1, cp1, min);\n        v2Min(cp1, cp1, max);\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n    }\n\n    if (isLoop) {\n      cps.push(cps.shift());\n    }\n\n    return cps;\n  }\n\n  var smoothBezier = _default$E;\n\n  function buildPath$1(ctx, shape, closePath) {\n    var points = shape.points;\n    var smooth = shape.smooth;\n\n    if (points && points.length >= 2) {\n      if (smooth && smooth !== 'spline') {\n        var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n        ctx.moveTo(points[0][0], points[0][1]);\n        var len = points.length;\n\n        for (var i = 0; i < (closePath ? len : len - 1); i++) {\n          var cp1 = controlPoints[i * 2];\n          var cp2 = controlPoints[i * 2 + 1];\n          var p = points[(i + 1) % len];\n          ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n        }\n      } else {\n        if (smooth === 'spline') {\n          points = smoothSpline(points, closePath);\n        }\n\n        ctx.moveTo(points[0][0], points[0][1]);\n\n        for (var i = 1, l = points.length; i < l; i++) {\n          ctx.lineTo(points[i][0], points[i][1]);\n        }\n      }\n\n      closePath && ctx.closePath();\n    }\n  }\n\n  var buildPath_1$1 = buildPath$1;\n\n  var poly = {\n  \tbuildPath: buildPath_1$1\n  };\n\n  /**\n   * \n   * @module zrender/shape/Polygon\n   */\n  var _default$F = Path_1.extend({\n    type: 'polygon',\n    shape: {\n      points: null,\n      smooth: false,\n      smoothConstraint: null\n    },\n    buildPath: function (ctx, shape) {\n      poly.buildPath(ctx, shape, true);\n    }\n  });\n\n  var Polygon = _default$F;\n\n  /**\n   * @module zrender/graphic/shape/Polyline\n   */\n  var _default$G = Path_1.extend({\n    type: 'polyline',\n    shape: {\n      points: null,\n      smooth: false,\n      smoothConstraint: null\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      poly.buildPath(ctx, shape, false);\n    }\n  });\n\n  var Polyline = _default$G;\n\n  /**\n   * Sub-pixel optimize for canvas rendering, prevent from blur\n   * when rendering a thin vertical/horizontal line.\n   */\n  var round = Math.round;\n  /**\n   * Sub pixel optimize line for canvas\n   *\n   * @param {Object} outputShape The modification will be performed on `outputShape`.\n   *                 `outputShape` and `inputShape` can be the same object.\n   *                 `outputShape` object can be used repeatly, because all of\n   *                 the `x1`, `x2`, `y1`, `y2` will be assigned in this method.\n   * @param {Object} [inputShape]\n   * @param {number} [inputShape.x1]\n   * @param {number} [inputShape.y1]\n   * @param {number} [inputShape.x2]\n   * @param {number} [inputShape.y2]\n   * @param {Object} [style]\n   * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n   */\n\n  function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n      return;\n    }\n\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n\n    if (!lineWidth) {\n      return;\n    }\n\n    if (round(x1 * 2) === round(x2 * 2)) {\n      outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n\n    if (round(y1 * 2) === round(y2 * 2)) {\n      outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n  }\n  /**\n   * Sub pixel optimize rect for canvas\n   *\n   * @param {Object} outputShape The modification will be performed on `outputShape`.\n   *                 `outputShape` and `inputShape` can be the same object.\n   *                 `outputShape` object can be used repeatly, because all of\n   *                 the `x`, `y`, `width`, `height` will be assigned in this method.\n   * @param {Object} [inputShape]\n   * @param {number} [inputShape.x]\n   * @param {number} [inputShape.y]\n   * @param {number} [inputShape.width]\n   * @param {number} [inputShape.height]\n   * @param {Object} [style]\n   * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n   */\n\n\n  function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n      return;\n    }\n\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n\n    if (!lineWidth) {\n      return;\n    }\n\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n  }\n  /**\n   * Sub pixel optimize for canvas\n   *\n   * @param {number} position Coordinate, such as x, y\n   * @param {number} lineWidth If `null`/`undefined`/`0`, do not optimize.\n   * @param {boolean=} positiveOrNegative Default false (negative).\n   * @return {number} Optimized position.\n   */\n\n\n  function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n      return position;\n    } // Assure that (position + lineWidth / 2) is near integer edge,\n    // otherwise line will be fuzzy in canvas.\n\n\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n  }\n\n  var subPixelOptimizeLine_1 = subPixelOptimizeLine;\n  var subPixelOptimizeRect_1 = subPixelOptimizeRect;\n  var subPixelOptimize_2 = subPixelOptimize;\n\n  var subPixelOptimize_1 = {\n  \tsubPixelOptimizeLine: subPixelOptimizeLine_1,\n  \tsubPixelOptimizeRect: subPixelOptimizeRect_1,\n  \tsubPixelOptimize: subPixelOptimize_2\n  };\n\n  var subPixelOptimizeRect$1 = subPixelOptimize_1.subPixelOptimizeRect;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Rect\n   */\n  // Avoid create repeatly.\n  var subPixelOptimizeOutputShape = {};\n\n  var _default$H = Path_1.extend({\n    type: 'rect',\n    shape: {\n      // r1r2r3r4\n      // r1          [1, 1, 1, 1]\n      // r[1]        [1, 1, 1, 1]\n      // r[1, 2]     [1, 2, 1, 2]\n      // r[1, 2, 3]  [1, 2, 3, 2]\n      r: 0,\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (ctx, shape) {\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (this.subPixelOptimize) {\n        subPixelOptimizeRect$1(subPixelOptimizeOutputShape, shape, this.style);\n        x = subPixelOptimizeOutputShape.x;\n        y = subPixelOptimizeOutputShape.y;\n        width = subPixelOptimizeOutputShape.width;\n        height = subPixelOptimizeOutputShape.height;\n        subPixelOptimizeOutputShape.r = shape.r;\n        shape = subPixelOptimizeOutputShape;\n      } else {\n        x = shape.x;\n        y = shape.y;\n        width = shape.width;\n        height = shape.height;\n      }\n\n      if (!shape.r) {\n        ctx.rect(x, y, width, height);\n      } else {\n        roundRect.buildPath(ctx, shape);\n      }\n\n      ctx.closePath();\n      return;\n    }\n  });\n\n  var Rect = _default$H;\n\n  var subPixelOptimizeLine$1 = subPixelOptimize_1.subPixelOptimizeLine;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Line\n   */\n  // Avoid create repeatly.\n  var subPixelOptimizeOutputShape$1 = {};\n\n  var _default$I = Path_1.extend({\n    type: 'line',\n    shape: {\n      // Start point\n      x1: 0,\n      y1: 0,\n      // End point\n      x2: 0,\n      y2: 0,\n      percent: 1\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x1;\n      var y1;\n      var x2;\n      var y2;\n\n      if (this.subPixelOptimize) {\n        subPixelOptimizeLine$1(subPixelOptimizeOutputShape$1, shape, this.style);\n        x1 = subPixelOptimizeOutputShape$1.x1;\n        y1 = subPixelOptimizeOutputShape$1.y1;\n        x2 = subPixelOptimizeOutputShape$1.x2;\n        y2 = subPixelOptimizeOutputShape$1.y2;\n      } else {\n        x1 = shape.x1;\n        y1 = shape.y1;\n        x2 = shape.x2;\n        y2 = shape.y2;\n      }\n\n      var percent = shape.percent;\n\n      if (percent === 0) {\n        return;\n      }\n\n      ctx.moveTo(x1, y1);\n\n      if (percent < 1) {\n        x2 = x1 * (1 - percent) + x2 * percent;\n        y2 = y1 * (1 - percent) + y2 * percent;\n      }\n\n      ctx.lineTo(x2, y2);\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} percent\n     * @return {Array.<number>}\n     */\n    pointAt: function (p) {\n      var shape = this.shape;\n      return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n    }\n  });\n\n  var Line = _default$I;\n\n  var quadraticSubdivide$1 = curve.quadraticSubdivide;\n  var cubicSubdivide$1 = curve.cubicSubdivide;\n  var quadraticAt$1 = curve.quadraticAt;\n  var cubicAt$1 = curve.cubicAt;\n  var quadraticDerivativeAt$1 = curve.quadraticDerivativeAt;\n  var cubicDerivativeAt$1 = curve.cubicDerivativeAt;\n\n  /**\n   * \n   * @module zrender/shape/BezierCurve\n   */\n  var out = [];\n\n  function someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n\n    if (cpx2 === null || cpy2 === null) {\n      return [(isTangent ? cubicDerivativeAt$1 : cubicAt$1)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt$1 : cubicAt$1)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n    } else {\n      return [(isTangent ? quadraticDerivativeAt$1 : quadraticAt$1)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt$1 : quadraticAt$1)(shape.y1, shape.cpy1, shape.y2, t)];\n    }\n  }\n\n  var _default$J = Path_1.extend({\n    type: 'bezier-curve',\n    shape: {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      cpx1: 0,\n      cpy1: 0,\n      // cpx2: 0,\n      // cpy2: 0\n      // Curve show percent, for animating\n      percent: 1\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x1 = shape.x1;\n      var y1 = shape.y1;\n      var x2 = shape.x2;\n      var y2 = shape.y2;\n      var cpx1 = shape.cpx1;\n      var cpy1 = shape.cpy1;\n      var cpx2 = shape.cpx2;\n      var cpy2 = shape.cpy2;\n      var percent = shape.percent;\n\n      if (percent === 0) {\n        return;\n      }\n\n      ctx.moveTo(x1, y1);\n\n      if (cpx2 == null || cpy2 == null) {\n        if (percent < 1) {\n          quadraticSubdivide$1(x1, cpx1, x2, percent, out);\n          cpx1 = out[1];\n          x2 = out[2];\n          quadraticSubdivide$1(y1, cpy1, y2, percent, out);\n          cpy1 = out[1];\n          y2 = out[2];\n        }\n\n        ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n      } else {\n        if (percent < 1) {\n          cubicSubdivide$1(x1, cpx1, cpx2, x2, percent, out);\n          cpx1 = out[1];\n          cpx2 = out[2];\n          x2 = out[3];\n          cubicSubdivide$1(y1, cpy1, cpy2, y2, percent, out);\n          cpy1 = out[1];\n          cpy2 = out[2];\n          y2 = out[3];\n        }\n\n        ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n      }\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    pointAt: function (t) {\n      return someVectorAt(this.shape, t, false);\n    },\n\n    /**\n     * Get tangent at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    tangentAt: function (t) {\n      var p = someVectorAt(this.shape, t, true);\n      return vector.normalize(p, p);\n    }\n  });\n\n  var BezierCurve = _default$J;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Arc\n   */\n  var _default$K = Path_1.extend({\n    type: 'arc',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r = Math.max(shape.r, 0);\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitX = Math.cos(startAngle);\n      var unitY = Math.sin(startAngle);\n      ctx.moveTo(unitX * r + x, unitY * r + y);\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    }\n  });\n\n  var Arc = _default$K;\n\n  // CompoundPath to improve performance\n  var _default$L = Path_1.extend({\n    type: 'compound',\n    shape: {\n      paths: null\n    },\n    _updatePathDirty: function () {\n      var dirtyPath = this.__dirtyPath;\n      var paths = this.shape.paths;\n\n      for (var i = 0; i < paths.length; i++) {\n        // Mark as dirty if any subpath is dirty\n        dirtyPath = dirtyPath || paths[i].__dirtyPath;\n      }\n\n      this.__dirtyPath = dirtyPath;\n      this.__dirty = this.__dirty || dirtyPath;\n    },\n    beforeBrush: function () {\n      this._updatePathDirty();\n\n      var paths = this.shape.paths || [];\n      var scale = this.getGlobalScale(); // Update path scale\n\n      for (var i = 0; i < paths.length; i++) {\n        if (!paths[i].path) {\n          paths[i].createPathProxy();\n        }\n\n        paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n      }\n    },\n    buildPath: function (ctx, shape) {\n      var paths = shape.paths || [];\n\n      for (var i = 0; i < paths.length; i++) {\n        paths[i].buildPath(ctx, paths[i].shape, true);\n      }\n    },\n    afterBrush: function () {\n      var paths = this.shape.paths || [];\n\n      for (var i = 0; i < paths.length; i++) {\n        paths[i].__dirtyPath = false;\n      }\n    },\n    getBoundingRect: function () {\n      this._updatePathDirty();\n\n      return Path_1.prototype.getBoundingRect.call(this);\n    }\n  });\n\n  var CompoundPath = _default$L;\n\n  /**\n   * @param {Array.<Object>} colorStops\n   */\n  var Gradient = function (colorStops) {\n    this.colorStops = colorStops || [];\n  };\n\n  Gradient.prototype = {\n    constructor: Gradient,\n    addColorStop: function (offset, color) {\n      this.colorStops.push({\n        offset: offset,\n        color: color\n      });\n    }\n  };\n  var _default$M = Gradient;\n  var Gradient_1 = _default$M;\n\n  /**\n   * x, y, x2, y2 are all percent from 0 to 1\n   * @param {number} [x=0]\n   * @param {number} [y=0]\n   * @param {number} [x2=1]\n   * @param {number} [y2=0]\n   * @param {Array.<Object>} colorStops\n   * @param {boolean} [globalCoord=false]\n   */\n  var LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'linear', colorStops: ...}`, where\n    // this constructor will not be called.\n    this.x = x == null ? 0 : x;\n    this.y = y == null ? 0 : y;\n    this.x2 = x2 == null ? 1 : x2;\n    this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n    this.type = 'linear'; // If use global coord\n\n    this.global = globalCoord || false;\n    Gradient_1.call(this, colorStops);\n  };\n\n  LinearGradient.prototype = {\n    constructor: LinearGradient\n  };\n  util.inherits(LinearGradient, Gradient_1);\n  var _default$N = LinearGradient;\n  var LinearGradient_1 = _default$N;\n\n  /**\n   * x, y, r are all percent from 0 to 1\n   * @param {number} [x=0.5]\n   * @param {number} [y=0.5]\n   * @param {number} [r=0.5]\n   * @param {Array.<Object>} [colorStops]\n   * @param {boolean} [globalCoord=false]\n   */\n  var RadialGradient = function (x, y, r, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'radial', colorStops: ...}`, where\n    // this constructor will not be called.\n    this.x = x == null ? 0.5 : x;\n    this.y = y == null ? 0.5 : y;\n    this.r = r == null ? 0.5 : r; // Can be cloned\n\n    this.type = 'radial'; // If use global coord\n\n    this.global = globalCoord || false;\n    Gradient_1.call(this, colorStops);\n  };\n\n  RadialGradient.prototype = {\n    constructor: RadialGradient\n  };\n  util.inherits(RadialGradient, Gradient_1);\n  var _default$O = RadialGradient;\n  var RadialGradient_1 = _default$O;\n\n  var inherits$1 = util.inherits;\n\n\n\n\n\n  /**\n   * Displayable for incremental rendering. It will be rendered in a separate layer\n   * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n   * addDisplayables will render the added displayables incremetally.\n   *\n   * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n   */\n  // TODO Style override ?\n  function IncrementalDisplayble(opts) {\n    Displayable_1.call(this, opts);\n    this._displayables = [];\n    this._temporaryDisplayables = [];\n    this._cursor = 0;\n    this.notClear = true;\n  }\n\n  IncrementalDisplayble.prototype.incremental = true;\n\n  IncrementalDisplayble.prototype.clearDisplaybles = function () {\n    this._displayables = [];\n    this._temporaryDisplayables = [];\n    this._cursor = 0;\n    this.dirty();\n    this.notClear = false;\n  };\n\n  IncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n    if (notPersistent) {\n      this._temporaryDisplayables.push(displayable);\n    } else {\n      this._displayables.push(displayable);\n    }\n\n    this.dirty();\n  };\n\n  IncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n    notPersistent = notPersistent || false;\n\n    for (var i = 0; i < displayables.length; i++) {\n      this.addDisplayable(displayables[i], notPersistent);\n    }\n  };\n\n  IncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      cb && cb(this._displayables[i]);\n    }\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      cb && cb(this._temporaryDisplayables[i]);\n    }\n  };\n\n  IncrementalDisplayble.prototype.update = function () {\n    this.updateTransform();\n\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i]; // PENDING\n\n      displayable.parent = this;\n      displayable.update();\n      displayable.parent = null;\n    }\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      var displayable = this._temporaryDisplayables[i]; // PENDING\n\n      displayable.parent = this;\n      displayable.update();\n      displayable.parent = null;\n    }\n  };\n\n  IncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n    // Render persistant displayables.\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      displayable.beforeBrush && displayable.beforeBrush(ctx);\n      displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n      displayable.afterBrush && displayable.afterBrush(ctx);\n    }\n\n    this._cursor = i; // Render temporary displayables.\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      var displayable = this._temporaryDisplayables[i];\n      displayable.beforeBrush && displayable.beforeBrush(ctx);\n      displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n      displayable.afterBrush && displayable.afterBrush(ctx);\n    }\n\n    this._temporaryDisplayables = [];\n    this.notClear = true;\n  };\n\n  var m = [];\n\n  IncrementalDisplayble.prototype.getBoundingRect = function () {\n    if (!this._rect) {\n      var rect = new BoundingRect_1(Infinity, Infinity, -Infinity, -Infinity);\n\n      for (var i = 0; i < this._displayables.length; i++) {\n        var displayable = this._displayables[i];\n        var childRect = displayable.getBoundingRect().clone();\n\n        if (displayable.needLocalTransform()) {\n          childRect.applyTransform(displayable.getLocalTransform(m));\n        }\n\n        rect.union(childRect);\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  };\n\n  IncrementalDisplayble.prototype.contain = function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n\n    if (rect.contain(localPos[0], localPos[1])) {\n      for (var i = 0; i < this._displayables.length; i++) {\n        var displayable = this._displayables[i];\n\n        if (displayable.contain(x, y)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  inherits$1(IncrementalDisplayble, Displayable_1);\n  var _default$P = IncrementalDisplayble;\n  var IncrementalDisplayable = _default$P;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var Image$2 = Image$1;\n\n\n\n  var Group_1$1 = Group_1;\n\n\n\n  var Text_1$1 = Text_1;\n\n\n\n  var Circle_1 = Circle;\n\n\n\n  var Sector_1 = Sector;\n\n\n\n  var Ring_1 = Ring;\n\n\n\n  var Polygon_1 = Polygon;\n\n\n\n  var Polyline_1 = Polyline;\n\n\n\n  var Rect_1 = Rect;\n\n\n\n  var Line_1 = Line;\n\n\n\n  var BezierCurve_1 = BezierCurve;\n\n\n\n  var Arc_1 = Arc;\n\n\n\n  var CompoundPath_1 = CompoundPath;\n\n\n\n  var LinearGradient_1$1 = LinearGradient_1;\n\n\n\n  var RadialGradient_1$1 = RadialGradient_1;\n\n\n\n  var BoundingRect_1$1 = BoundingRect_1;\n\n\n\n  var IncrementalDisplayable_1 = IncrementalDisplayable;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var mathMax$3 = Math.max;\n  var mathMin$3 = Math.min;\n  var EMPTY_OBJ = {};\n  var Z2_EMPHASIS_LIFT = 1; // key: label model property nane, value: style property name.\n\n  var CACHED_LABEL_STYLE_PROPERTIES = {\n    color: 'textFill',\n    textBorderColor: 'textStroke',\n    textBorderWidth: 'textStrokeWidth'\n  };\n  var EMPHASIS = 'emphasis';\n  var NORMAL = 'normal'; // Reserve 0 as default.\n\n  var _highlightNextDigit = 1;\n  var _highlightKeyMap = {};\n  var _customShapeMap = {};\n  /**\n   * Extend shape with parameters\n   */\n\n  function extendShape(opts) {\n    return Path_1.extend(opts);\n  }\n  /**\n   * Extend path\n   */\n\n\n  function extendPath(pathData, opts) {\n    return path$2.extendFromString(pathData, opts);\n  }\n  /**\n   * Register a user defined shape.\n   * The shape class can be fetched by `getShapeClass`\n   * This method will overwrite the registered shapes, including\n   * the registered built-in shapes, if using the same `name`.\n   * The shape can be used in `custom series` and\n   * `graphic component` by declaring `{type: name}`.\n   *\n   * @param {string} name\n   * @param {Object} ShapeClass Can be generated by `extendShape`.\n   */\n\n\n  function registerShape(name, ShapeClass) {\n    _customShapeMap[name] = ShapeClass;\n  }\n  /**\n   * Find shape class registered by `registerShape`. Usually used in\n   * fetching user defined shape.\n   *\n   * [Caution]:\n   * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n   * to use user registered shapes.\n   * Because the built-in shape (see `getBuiltInShape`) will be registered by\n   * `registerShape` by default. That enables users to get both built-in\n   * shapes as well as the shapes belonging to themsleves. But users can overwrite\n   * the built-in shapes by using names like 'circle', 'rect' via calling\n   * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n   * in case that it is overwritten by users, except that some features, like\n   * `custom series`, `graphic component`, do it deliberately.\n   *\n   * (2) In the features like `custom series`, `graphic component`, the user input\n   * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n   * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n   * are reserved names, that is, if some user register a shape named `'image'`,\n   * the shape will not be used. If we intending to add some more reserved names\n   * in feature, that might bring break changes (disable some existing user shape\n   * names). But that case probably rearly happen. So we dont make more mechanism\n   * to resolve this issue here.\n   *\n   * @param {string} name\n   * @return {Object} The shape class. If not found, return nothing.\n   */\n\n\n  function getShapeClass(name) {\n    if (_customShapeMap.hasOwnProperty(name)) {\n      return _customShapeMap[name];\n    }\n  }\n  /**\n   * Create a path element from path data string\n   * @param {string} pathData\n   * @param {Object} opts\n   * @param {module:zrender/core/BoundingRect} rect\n   * @param {string} [layout=cover] 'center' or 'cover'\n   */\n\n\n  function makePath(pathData, opts, rect, layout) {\n    var path = path$2.createFromString(pathData, opts);\n\n    if (rect) {\n      if (layout === 'center') {\n        rect = centerGraphic(rect, path.getBoundingRect());\n      }\n\n      resizePath(path, rect);\n    }\n\n    return path;\n  }\n  /**\n   * Create a image element from image url\n   * @param {string} imageUrl image url\n   * @param {Object} opts options\n   * @param {module:zrender/core/BoundingRect} rect constrain rect\n   * @param {string} [layout=cover] 'center' or 'cover'\n   */\n\n\n  function makeImage(imageUrl, rect, layout) {\n    var path = new Image$1({\n      style: {\n        image: imageUrl,\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height\n      },\n      onload: function (img) {\n        if (layout === 'center') {\n          var boundingRect = {\n            width: img.width,\n            height: img.height\n          };\n          path.setStyle(centerGraphic(rect, boundingRect));\n        }\n      }\n    });\n    return path;\n  }\n  /**\n   * Get position of centered element in bounding box.\n   *\n   * @param  {Object} rect         element local bounding box\n   * @param  {Object} boundingRect constraint bounding box\n   * @return {Object} element position containing x, y, width, and height\n   */\n\n\n  function centerGraphic(rect, boundingRect) {\n    // Set rect to center, keep width / height ratio.\n    var aspect = boundingRect.width / boundingRect.height;\n    var width = rect.height * aspect;\n    var height;\n\n    if (width <= rect.width) {\n      height = rect.height;\n    } else {\n      width = rect.width;\n      height = width / aspect;\n    }\n\n    var cx = rect.x + rect.width / 2;\n    var cy = rect.y + rect.height / 2;\n    return {\n      x: cx - width / 2,\n      y: cy - height / 2,\n      width: width,\n      height: height\n    };\n  }\n\n  var mergePath$1 = path$2.mergePath;\n  /**\n   * Resize a path to fit the rect\n   * @param {module:zrender/graphic/Path} path\n   * @param {Object} rect\n   */\n\n  function resizePath(path, rect) {\n    if (!path.applyTransform) {\n      return;\n    }\n\n    var pathRect = path.getBoundingRect();\n    var m = pathRect.calculateTransform(rect);\n    path.applyTransform(m);\n  }\n  /**\n   * Sub pixel optimize line for canvas\n   *\n   * @param {Object} param\n   * @param {Object} [param.shape]\n   * @param {number} [param.shape.x1]\n   * @param {number} [param.shape.y1]\n   * @param {number} [param.shape.x2]\n   * @param {number} [param.shape.y2]\n   * @param {Object} [param.style]\n   * @param {number} [param.style.lineWidth]\n   * @return {Object} Modified param\n   */\n\n\n  function subPixelOptimizeLine$2(param) {\n    subPixelOptimize_1.subPixelOptimizeLine(param.shape, param.shape, param.style);\n    return param;\n  }\n  /**\n   * Sub pixel optimize rect for canvas\n   *\n   * @param {Object} param\n   * @param {Object} [param.shape]\n   * @param {number} [param.shape.x]\n   * @param {number} [param.shape.y]\n   * @param {number} [param.shape.width]\n   * @param {number} [param.shape.height]\n   * @param {Object} [param.style]\n   * @param {number} [param.style.lineWidth]\n   * @return {Object} Modified param\n   */\n\n\n  function subPixelOptimizeRect$2(param) {\n    subPixelOptimize_1.subPixelOptimizeRect(param.shape, param.shape, param.style);\n    return param;\n  }\n  /**\n   * Sub pixel optimize for canvas\n   *\n   * @param {number} position Coordinate, such as x, y\n   * @param {number} lineWidth Should be nonnegative integer.\n   * @param {boolean=} positiveOrNegative Default false (negative).\n   * @return {number} Optimized position.\n   */\n\n\n  var subPixelOptimize$1 = subPixelOptimize_1.subPixelOptimize;\n\n  function hasFillOrStroke(fillOrStroke) {\n    return fillOrStroke != null && fillOrStroke !== 'none';\n  } // Most lifted color are duplicated.\n\n\n  var liftedColorMap = util.createHashMap();\n  var liftedColorCount = 0;\n\n  function liftColor(color$1) {\n    if (typeof color$1 !== 'string') {\n      return color$1;\n    }\n\n    var liftedColor = liftedColorMap.get(color$1);\n\n    if (!liftedColor) {\n      liftedColor = color.lift(color$1, -0.1);\n\n      if (liftedColorCount < 10000) {\n        liftedColorMap.set(color$1, liftedColor);\n        liftedColorCount++;\n      }\n    }\n\n    return liftedColor;\n  }\n\n  function cacheElementStl(el) {\n    if (!el.__hoverStlDirty) {\n      return;\n    }\n\n    el.__hoverStlDirty = false;\n    var hoverStyle = el.__hoverStl;\n\n    if (!hoverStyle) {\n      el.__cachedNormalStl = el.__cachedNormalZ2 = null;\n      return;\n    }\n\n    var normalStyle = el.__cachedNormalStl = {};\n    el.__cachedNormalZ2 = el.z2;\n    var elStyle = el.style;\n\n    for (var name in hoverStyle) {\n      // See comment in `singleEnterEmphasis`.\n      if (hoverStyle[name] != null) {\n        normalStyle[name] = elStyle[name];\n      }\n    } // Always cache fill and stroke to normalStyle for lifting color.\n\n\n    normalStyle.fill = elStyle.fill;\n    normalStyle.stroke = elStyle.stroke;\n  }\n\n  function singleEnterEmphasis(el) {\n    var hoverStl = el.__hoverStl;\n\n    if (!hoverStl || el.__highlighted) {\n      return;\n    }\n\n    var zr = el.__zr;\n    var useHoverLayer = el.useHoverLayer && zr && zr.painter.type === 'canvas';\n    el.__highlighted = useHoverLayer ? 'layer' : 'plain';\n\n    if (el.isGroup || !zr && el.useHoverLayer) {\n      return;\n    }\n\n    var elTarget = el;\n    var targetStyle = el.style;\n\n    if (useHoverLayer) {\n      elTarget = zr.addHover(el);\n      targetStyle = elTarget.style;\n    }\n\n    rollbackDefaultTextStyle(targetStyle);\n\n    if (!useHoverLayer) {\n      cacheElementStl(elTarget);\n    } // styles can be:\n    // {\n    //    label: {\n    //        show: false,\n    //        position: 'outside',\n    //        fontSize: 18\n    //    },\n    //    emphasis: {\n    //        label: {\n    //            show: true\n    //        }\n    //    }\n    // },\n    // where properties of `emphasis` may not appear in `normal`. We previously use\n    // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n    // But consider rich text and setOption in merge mode, it is impossible to cover\n    // all properties in merge. So we use merge mode when setting style here.\n    // But we choose the merge strategy that only properties that is not `null/undefined`.\n    // Because when making a textStyle (espacially rich text), it is not easy to distinguish\n    // `hasOwnProperty` and `null/undefined` in code, so we trade them as the same for simplicity.\n    // But this strategy brings a trouble that `null/undefined` can not be used to remove\n    // style any more in `emphasis`. Users can both set properties directly on normal and\n    // emphasis to avoid this issue, or we might support `'none'` for this case if required.\n\n\n    targetStyle.extendFrom(hoverStl);\n    setDefaultHoverFillStroke(targetStyle, hoverStl, 'fill');\n    setDefaultHoverFillStroke(targetStyle, hoverStl, 'stroke');\n    applyDefaultTextStyle(targetStyle);\n\n    if (!useHoverLayer) {\n      el.dirty(false);\n      el.z2 += Z2_EMPHASIS_LIFT;\n    }\n  }\n\n  function setDefaultHoverFillStroke(targetStyle, hoverStyle, prop) {\n    if (!hasFillOrStroke(hoverStyle[prop]) && hasFillOrStroke(targetStyle[prop])) {\n      targetStyle[prop] = liftColor(targetStyle[prop]);\n    }\n  }\n\n  function singleEnterNormal(el) {\n    var highlighted = el.__highlighted;\n\n    if (!highlighted) {\n      return;\n    }\n\n    el.__highlighted = false;\n\n    if (el.isGroup) {\n      return;\n    }\n\n    if (highlighted === 'layer') {\n      el.__zr && el.__zr.removeHover(el);\n    } else {\n      var style = el.style;\n      var normalStl = el.__cachedNormalStl;\n\n      if (normalStl) {\n        rollbackDefaultTextStyle(style);\n        el.setStyle(normalStl);\n        applyDefaultTextStyle(style);\n      } // `__cachedNormalZ2` will not be reset if calling `setElementHoverStyle`\n      // when `el` is on emphasis state. So here by comparing with 1, we try\n      // hard to make the bug case rare.\n\n\n      var normalZ2 = el.__cachedNormalZ2;\n\n      if (normalZ2 != null && el.z2 - normalZ2 === Z2_EMPHASIS_LIFT) {\n        el.z2 = normalZ2;\n      }\n    }\n  }\n\n  function traverseUpdate(el, updater, commonParam) {\n    // If root is group, also enter updater for `highDownOnUpdate`.\n    var fromState = NORMAL;\n    var toState = NORMAL;\n    var trigger; // See the rule of `highDownOnUpdate` on `graphic.setAsHighDownDispatcher`.\n\n    el.__highlighted && (fromState = EMPHASIS, trigger = true);\n    updater(el, commonParam);\n    el.__highlighted && (toState = EMPHASIS, trigger = true);\n    el.isGroup && el.traverse(function (child) {\n      !child.isGroup && updater(child, commonParam);\n    });\n    trigger && el.__highDownOnUpdate && el.__highDownOnUpdate(fromState, toState);\n  }\n  /**\n   * Set hover style (namely \"emphasis style\") of element, based on the current\n   * style of the given `el`.\n   * This method should be called after all of the normal styles have been adopted\n   * to the `el`. See the reason on `setHoverStyle`.\n   *\n   * @param {module:zrender/Element} el Should not be `zrender/container/Group`.\n   * @param {Object} [el.hoverStyle] Can be set on el or its descendants,\n   *        e.g., `el.hoverStyle = ...; graphic.setHoverStyle(el); `.\n   *        Often used when item group has a label element and it's hoverStyle is different.\n   * @param {Object|boolean} [hoverStl] The specified hover style.\n   *        If set as `false`, disable the hover style.\n   *        Similarly, The `el.hoverStyle` can alse be set\n   *        as `false` to disable the hover style.\n   *        Otherwise, use the default hover style if not provided.\n   */\n\n\n  function setElementHoverStyle(el, hoverStl) {\n    // For performance consideration, it might be better to make the \"hover style\" only the\n    // difference properties from the \"normal style\", but not a entire copy of all styles.\n    hoverStl = el.__hoverStl = hoverStl !== false && (el.hoverStyle || hoverStl || {});\n    el.__hoverStlDirty = true; // FIXME\n    // It is not completely right to save \"normal\"/\"emphasis\" flag on elements.\n    // It probably should be saved on `data` of series. Consider the cases:\n    // (1) A highlighted elements are moved out of the view port and re-enter\n    // again by dataZoom.\n    // (2) call `setOption` and replace elements totally when they are highlighted.\n\n    if (el.__highlighted) {\n      // Consider the case:\n      // The styles of a highlighted `el` is being updated. The new \"emphasis style\"\n      // should be adapted to the `el`. Notice here new \"normal styles\" should have\n      // been set outside and the cached \"normal style\" is out of date.\n      el.__cachedNormalStl = null; // Do not clear `__cachedNormalZ2` here, because setting `z2` is not a constraint\n      // of this method. In most cases, `z2` is not set and hover style should be able\n      // to rollback. Of course, that would bring bug, but only in a rare case, see\n      // `doSingleLeaveHover` for details.\n\n      singleEnterNormal(el);\n      singleEnterEmphasis(el);\n    }\n  }\n\n  function onElementMouseOver(e) {\n    !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n    && !this.__highByOuter && traverseUpdate(this, singleEnterEmphasis);\n  }\n\n  function onElementMouseOut(e) {\n    !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n    && !this.__highByOuter && traverseUpdate(this, singleEnterNormal);\n  }\n\n  function onElementEmphasisEvent(highlightDigit) {\n    this.__highByOuter |= 1 << (highlightDigit || 0);\n    traverseUpdate(this, singleEnterEmphasis);\n  }\n\n  function onElementNormalEvent(highlightDigit) {\n    !(this.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdate(this, singleEnterNormal);\n  }\n\n  function shouldSilent(el, e) {\n    return el.__highDownSilentOnTouch && e.zrByTouch;\n  }\n  /**\n   * Set hover style (namely \"emphasis style\") of element,\n   * based on the current style of the given `el`.\n   *\n   * (1)\n   * **CONSTRAINTS** for this method:\n   * <A> This method MUST be called after all of the normal styles having been adopted\n   * to the `el`.\n   * <B> The input `hoverStyle` (that is, \"emphasis style\") MUST be the subset of the\n   * \"normal style\" having been set to the el.\n   * <C> `color` MUST be one of the \"normal styles\" (because color might be lifted as\n   * a default hover style).\n   *\n   * The reason: this method treat the current style of the `el` as the \"normal style\"\n   * and cache them when enter/update the \"emphasis style\". Consider the case: the `el`\n   * is in \"emphasis\" state and `setOption`/`dispatchAction` trigger the style updating\n   * logic, where the el should shift from the original emphasis style to the new\n   * \"emphasis style\" and should be able to \"downplay\" back to the new \"normal style\".\n   *\n   * Indeed, it is error-prone to make a interface has so many constraints, but I have\n   * not found a better solution yet to fit the backward compatibility, performance and\n   * the current programming style.\n   *\n   * (2)\n   * Call the method for a \"root\" element once. Do not call it for each descendants.\n   * If the descendants elemenets of a group has itself hover style different from the\n   * root group, we can simply mount the style on `el.hoverStyle` for them, but should\n   * not call this method for them.\n   *\n   * (3) These input parameters can be set directly on `el`:\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} [el.hoverStyle] See `graphic.setElementHoverStyle`.\n   * @param {boolean} [el.highDownSilentOnTouch=false] See `graphic.setAsHighDownDispatcher`.\n   * @param {Function} [el.highDownOnUpdate] See `graphic.setAsHighDownDispatcher`.\n   * @param {Object|boolean} [hoverStyle] See `graphic.setElementHoverStyle`.\n   */\n\n\n  function setHoverStyle(el, hoverStyle) {\n    setAsHighDownDispatcher(el, true);\n    traverseUpdate(el, setElementHoverStyle, hoverStyle);\n  }\n  /**\n   * @param {module:zrender/Element} el\n   * @param {Function} [el.highDownOnUpdate] Called when state updated.\n   *        Since `setHoverStyle` has the constraint that it must be called after\n   *        all of the normal style updated, `highDownOnUpdate` is not needed to\n   *        trigger if both `fromState` and `toState` is 'normal', and needed to\n   *        trigger if both `fromState` and `toState` is 'emphasis', which enables\n   *        to sync outside style settings to \"emphasis\" state.\n   *        @this {string} This dispatcher `el`.\n   *        @param {string} fromState Can be \"normal\" or \"emphasis\".\n   *               `fromState` might equal to `toState`,\n   *               for example, when this method is called when `el` is\n   *               on \"emphasis\" state.\n   *        @param {string} toState Can be \"normal\" or \"emphasis\".\n   *\n   *        FIXME\n   *        CAUTION: Do not expose `highDownOnUpdate` outside echarts.\n   *        Because it is not a complete solution. The update\n   *        listener should not have been mount in element,\n   *        and the normal/emphasis state should not have\n   *        mantained on elements.\n   *\n   * @param {boolean} [el.highDownSilentOnTouch=false]\n   *        In touch device, mouseover event will be trigger on touchstart event\n   *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n   *        conveniently use hoverStyle when tap on touch screen without additional\n   *        code for compatibility.\n   *        But if the chart/component has select feature, which usually also use\n   *        hoverStyle, there might be conflict between 'select-highlight' and\n   *        'hover-highlight' especially when roam is enabled (see geo for example).\n   *        In this case, `highDownSilentOnTouch` should be used to disable\n   *        hover-highlight on touch device.\n   * @param {boolean} [asDispatcher=true] If `false`, do not set as \"highDownDispatcher\".\n   */\n\n\n  function setAsHighDownDispatcher(el, asDispatcher) {\n    var disable = asDispatcher === false; // Make `highDownSilentOnTouch` and `highDownOnUpdate` only work after\n    // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n\n    el.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n    el.__highDownOnUpdate = el.highDownOnUpdate; // Simple optimize, since this method might be\n    // called for each elements of a group in some cases.\n\n    if (!disable || el.__highDownDispatcher) {\n      var method = disable ? 'off' : 'on'; // Duplicated function will be auto-ignored, see Eventful.js.\n\n      el[method]('mouseover', onElementMouseOver)[method]('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually by API or other components like hover link.\n\n      el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent); // Also keep previous record.\n\n      el.__highByOuter = el.__highByOuter || 0;\n      el.__highDownDispatcher = !disable;\n    }\n  }\n  /**\n   * @param {module:zrender/src/Element} el\n   * @return {boolean}\n   */\n\n\n  function isHighDownDispatcher(el) {\n    return !!(el && el.__highDownDispatcher);\n  }\n  /**\n   * Support hightlight/downplay record on each elements.\n   * For the case: hover highlight/downplay (legend, visualMap, ...) and\n   * user triggerred hightlight/downplay should not conflict.\n   * Only all of the highlightDigit cleared, return to normal.\n   * @param {string} highlightKey\n   * @return {number} highlightDigit\n   */\n\n\n  function getHighlightDigit(highlightKey) {\n    var highlightDigit = _highlightKeyMap[highlightKey];\n\n    if (highlightDigit == null && _highlightNextDigit <= 32) {\n      highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n    }\n\n    return highlightDigit;\n  }\n  /**\n   * See more info in `setTextStyleCommon`.\n   * @param {Object|module:zrender/graphic/Style} normalStyle\n   * @param {Object} emphasisStyle\n   * @param {module:echarts/model/Model} normalModel\n   * @param {module:echarts/model/Model} emphasisModel\n   * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n   * @param {string|Function} [opt.defaultText]\n   * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n   *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {number} [opt.labelDataIndex] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {number} [opt.labelDimIndex] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {string} [opt.labelProp] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {Object} [normalSpecified]\n   * @param {Object} [emphasisSpecified]\n   */\n\n\n  function setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n    opt = opt || EMPTY_OBJ;\n    var labelFetcher = opt.labelFetcher;\n    var labelDataIndex = opt.labelDataIndex;\n    var labelDimIndex = opt.labelDimIndex;\n    var labelProp = opt.labelProp; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n    // is not supported util someone requests.\n\n    var showNormal = normalModel.getShallow('show');\n    var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n    // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n    // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n    var baseText;\n\n    if (showNormal || showEmphasis) {\n      if (labelFetcher) {\n        baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, labelProp);\n      }\n\n      if (baseText == null) {\n        baseText = util.isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt) : opt.defaultText;\n      }\n    }\n\n    var normalStyleText = showNormal ? baseText : null;\n    var emphasisStyleText = showEmphasis ? util.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex, labelProp) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n    if (normalStyleText != null || emphasisStyleText != null) {\n      // Always set `textStyle` even if `normalStyle.text` is null, because default\n      // values have to be set on `normalStyle`.\n      // If we set default values on `emphasisStyle`, consider case:\n      // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n      // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n      // Then the 'red' will not work on emphasis.\n      setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n      setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n    }\n\n    normalStyle.text = normalStyleText;\n    emphasisStyle.text = emphasisStyleText;\n  }\n  /**\n   * Modify label style manually.\n   * Only works after `setLabelStyle` and `setElementHoverStyle` called.\n   *\n   * @param {module:zrender/src/Element} el\n   * @param {Object} [normalStyleProps] optional\n   * @param {Object} [emphasisStyleProps] optional\n   */\n\n\n  function modifyLabelStyle(el, normalStyleProps, emphasisStyleProps) {\n    var elStyle = el.style;\n\n    if (normalStyleProps) {\n      rollbackDefaultTextStyle(elStyle);\n      el.setStyle(normalStyleProps);\n      applyDefaultTextStyle(elStyle);\n    }\n\n    elStyle = el.__hoverStl;\n\n    if (emphasisStyleProps && elStyle) {\n      rollbackDefaultTextStyle(elStyle);\n      util.extend(elStyle, emphasisStyleProps);\n      applyDefaultTextStyle(elStyle);\n    }\n  }\n  /**\n   * Set basic textStyle properties.\n   * See more info in `setTextStyleCommon`.\n   * @param {Object|module:zrender/graphic/Style} textStyle\n   * @param {module:echarts/model/Model} model\n   * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n   * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n   * @param {boolean} [isEmphasis]\n   */\n\n\n  function setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n    setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n    specifiedTextStyle && util.extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n    return textStyle;\n  }\n  /**\n   * Set text option in the style.\n   * See more info in `setTextStyleCommon`.\n   * @deprecated\n   * @param {Object} textStyle\n   * @param {module:echarts/model/Model} labelModel\n   * @param {string|boolean} defaultColor Default text color.\n   *        If set as false, it will be processed as a emphasis style.\n   */\n\n\n  function setText(textStyle, labelModel, defaultColor) {\n    var opt = {\n      isRectText: true\n    };\n    var isEmphasis;\n\n    if (defaultColor === false) {\n      isEmphasis = true;\n    } else {\n      // Support setting color as 'auto' to get visual color.\n      opt.autoColor = defaultColor;\n    }\n\n    setTextStyleCommon(textStyle, labelModel, opt, isEmphasis); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n  }\n  /**\n   * The uniform entry of set text style, that is, retrieve style definitions\n   * from `model` and set to `textStyle` object.\n   *\n   * Never in merge mode, but in overwrite mode, that is, all of the text style\n   * properties will be set. (Consider the states of normal and emphasis and\n   * default value can be adopted, merge would make the logic too complicated\n   * to manage.)\n   *\n   * The `textStyle` object can either be a plain object or an instance of\n   * `zrender/src/graphic/Style`, and either be the style of normal or emphasis.\n   * After this mothod called, the `textStyle` object can then be used in\n   * `el.setStyle(textStyle)` or `el.hoverStyle = textStyle`.\n   *\n   * Default value will be adopted and `insideRollbackOpt` will be created.\n   * See `applyDefaultTextStyle` `rollbackDefaultTextStyle` for more details.\n   *\n   * opt: {\n   *      disableBox: boolean, Whether diable drawing box of block (outer most).\n   *      isRectText: boolean,\n   *      autoColor: string, specify a color when color is 'auto',\n   *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n   *              If autoColor specified, it is used as default textFill.\n   *      useInsideStyle:\n   *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n   *                  if `textFill` is not specified.\n   *              `false`: Do not use inside style.\n   *              `null/undefined`: use inside style if `isRectText` is true and\n   *                  `textFill` is not specified and textPosition contains `'inside'`.\n   *      forceRich: boolean\n   * }\n   */\n\n\n  function setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n    // Consider there will be abnormal when merge hover style to normal style if given default value.\n    opt = opt || EMPTY_OBJ;\n\n    if (opt.isRectText) {\n      var textPosition;\n\n      if (opt.getTextPosition) {\n        textPosition = opt.getTextPosition(textStyleModel, isEmphasis);\n      } else {\n        textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n        // in bar series, and magric type should be considered.\n\n        textPosition === 'outside' && (textPosition = 'top');\n      }\n\n      textStyle.textPosition = textPosition;\n      textStyle.textOffset = textStyleModel.getShallow('offset');\n      var labelRotate = textStyleModel.getShallow('rotate');\n      labelRotate != null && (labelRotate *= Math.PI / 180);\n      textStyle.textRotation = labelRotate;\n      textStyle.textDistance = util.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n    }\n\n    var ecModel = textStyleModel.ecModel;\n    var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n    // {\n    //     data: [{\n    //         value: 12,\n    //         label: {\n    //             rich: {\n    //                 // no 'a' here but using parent 'a'.\n    //             }\n    //         }\n    //     }],\n    //     rich: {\n    //         a: { ... }\n    //     }\n    // }\n\n    var richItemNames = getRichItemNames(textStyleModel);\n    var richResult;\n\n    if (richItemNames) {\n      richResult = {};\n\n      for (var name in richItemNames) {\n        if (richItemNames.hasOwnProperty(name)) {\n          // Cascade is supported in rich.\n          var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n          // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n          // the default color `'blue'` will not be adopted if no color declared in `rich`.\n          // That might confuses users. So probably we should put `textStyleModel` as the\n          // root ancestor of the `richTextStyle`. But that would be a break change.\n\n          setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n        }\n      }\n    }\n\n    textStyle.rich = richResult;\n    setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n    if (opt.forceRich && !opt.textStyle) {\n      opt.textStyle = {};\n    }\n\n    return textStyle;\n  } // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n\n  function getRichItemNames(textStyleModel) {\n    // Use object to remove duplicated names.\n    var richItemNameMap;\n\n    while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n      var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n      if (rich) {\n        richItemNameMap = richItemNameMap || {};\n\n        for (var name in rich) {\n          if (rich.hasOwnProperty(name)) {\n            richItemNameMap[name] = 1;\n          }\n        }\n      }\n\n      textStyleModel = textStyleModel.parentModel;\n    }\n\n    return richItemNameMap;\n  }\n\n  function setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n    // In merge mode, default value should not be given.\n    globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n    textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n    textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n    textStyle.textStrokeWidth = util.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n    if (!isEmphasis) {\n      if (isBlock) {\n        textStyle.insideRollbackOpt = opt;\n        applyDefaultTextStyle(textStyle);\n      } // Set default finally.\n\n\n      if (textStyle.textFill == null) {\n        textStyle.textFill = opt.autoColor;\n      }\n    } // Do not use `getFont` here, because merge should be supported, where\n    // part of these properties may be changed in emphasis style, and the\n    // others should remain their original value got from normal style.\n\n\n    textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n    textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n    textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n    textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n    textStyle.textAlign = textStyleModel.getShallow('align');\n    textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n    textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n    textStyle.textWidth = textStyleModel.getShallow('width');\n    textStyle.textHeight = textStyleModel.getShallow('height');\n    textStyle.textTag = textStyleModel.getShallow('tag');\n\n    if (!isBlock || !opt.disableBox) {\n      textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n      textStyle.textPadding = textStyleModel.getShallow('padding');\n      textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n      textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n      textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n      textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n      textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n      textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n      textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n    }\n\n    textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n    textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n    textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n    textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n  }\n\n  function getAutoColor(color, opt) {\n    return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n  }\n  /**\n   * Give some default value to the input `textStyle` object, based on the current settings\n   * in this `textStyle` object.\n   *\n   * The Scenario:\n   * when text position is `inside` and `textFill` is not specified, we show\n   * text border by default for better view. But it should be considered that text position\n   * might be changed when hovering or being emphasis, where the `insideRollback` is used to\n   * restore the style.\n   *\n   * Usage (& NOTICE):\n   * When a style object (eithor plain object or instance of `zrender/src/graphic/Style`) is\n   * about to be modified on its text related properties, `rollbackDefaultTextStyle` should\n   * be called before the modification and `applyDefaultTextStyle` should be called after that.\n   * (For the case that all of the text related properties is reset, like `setTextStyleCommon`\n   * does, `rollbackDefaultTextStyle` is not needed to be called).\n   */\n\n\n  function applyDefaultTextStyle(textStyle) {\n    var textPosition = textStyle.textPosition;\n    var opt = textStyle.insideRollbackOpt;\n    var insideRollback;\n\n    if (opt && textStyle.textFill == null) {\n      var autoColor = opt.autoColor;\n      var isRectText = opt.isRectText;\n      var useInsideStyle = opt.useInsideStyle;\n      var useInsideStyleCache = useInsideStyle !== false && (useInsideStyle === true || isRectText && textPosition // textPosition can be [10, 30]\n      && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0);\n      var useAutoColorCache = !useInsideStyleCache && autoColor != null; // All of the props declared in `CACHED_LABEL_STYLE_PROPERTIES` are to be cached.\n\n      if (useInsideStyleCache || useAutoColorCache) {\n        insideRollback = {\n          textFill: textStyle.textFill,\n          textStroke: textStyle.textStroke,\n          textStrokeWidth: textStyle.textStrokeWidth\n        };\n      }\n\n      if (useInsideStyleCache) {\n        textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n        if (textStyle.textStroke == null) {\n          textStyle.textStroke = autoColor;\n          textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n        }\n      }\n\n      if (useAutoColorCache) {\n        textStyle.textFill = autoColor;\n      }\n    } // Always set `insideRollback`, so that the previous one can be cleared.\n\n\n    textStyle.insideRollback = insideRollback;\n  }\n  /**\n   * Consider the case: in a scatter,\n   * label: {\n   *     normal: {position: 'inside'},\n   *     emphasis: {position: 'top'}\n   * }\n   * In the normal state, the `textFill` will be set as '#fff' for pretty view (see\n   * `applyDefaultTextStyle`), but when switching to emphasis state, the `textFill`\n   * should be retured to 'autoColor', but not keep '#fff'.\n   */\n\n\n  function rollbackDefaultTextStyle(style) {\n    var insideRollback = style.insideRollback;\n\n    if (insideRollback) {\n      // Reset all of the props in `CACHED_LABEL_STYLE_PROPERTIES`.\n      style.textFill = insideRollback.textFill;\n      style.textStroke = insideRollback.textStroke;\n      style.textStrokeWidth = insideRollback.textStrokeWidth;\n      style.insideRollback = null;\n    }\n  }\n\n  function getFont(opt, ecModel) {\n    var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n    return util.trim([// FIXME in node-canvas fontWeight is before fontStyle\n    opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n  }\n\n  function animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n    if (typeof dataIndex === 'function') {\n      cb = dataIndex;\n      dataIndex = null;\n    } // Do not check 'animation' property directly here. Consider this case:\n    // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n    // but its parent model (`seriesModel`) does.\n\n\n    var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n    if (animationEnabled) {\n      var postfix = isUpdate ? 'Update' : '';\n      var duration = animatableModel.getShallow('animationDuration' + postfix);\n      var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n      var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n      if (typeof animationDelay === 'function') {\n        animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n      }\n\n      if (typeof duration === 'function') {\n        duration = duration(dataIndex);\n      }\n\n      duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n    } else {\n      el.stopAnimation();\n      el.attr(props);\n      cb && cb();\n    }\n  }\n  /**\n   * Update graphic element properties with or without animation according to the\n   * configuration in series.\n   *\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} props\n   * @param {module:echarts/model/Model} [animatableModel]\n   * @param {number} [dataIndex]\n   * @param {Function} [cb]\n   * @example\n   *     graphic.updateProps(el, {\n   *         position: [100, 100]\n   *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n   *     // Or\n   *     graphic.updateProps(el, {\n   *         position: [100, 100]\n   *     }, seriesModel, function () { console.log('Animation done!'); });\n   */\n\n\n  function updateProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n  }\n  /**\n   * Init graphic element properties with or without animation according to the\n   * configuration in series.\n   *\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} props\n   * @param {module:echarts/model/Model} [animatableModel]\n   * @param {number} [dataIndex]\n   * @param {Function} cb\n   */\n\n\n  function initProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n  }\n  /**\n   * Get transform matrix of target (param target),\n   * in coordinate of its ancestor (param ancestor)\n   *\n   * @param {module:zrender/mixin/Transformable} target\n   * @param {module:zrender/mixin/Transformable} [ancestor]\n   */\n\n\n  function getTransform(target, ancestor) {\n    var mat = matrix.identity([]);\n\n    while (target && target !== ancestor) {\n      matrix.mul(mat, target.getLocalTransform(), mat);\n      target = target.parent;\n    }\n\n    return mat;\n  }\n  /**\n   * Apply transform to an vertex.\n   * @param {Array.<number>} target [x, y]\n   * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n   *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n   *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n   * @param {boolean=} invert Whether use invert matrix.\n   * @return {Array.<number>} [x, y]\n   */\n\n\n  function applyTransform$1(target, transform, invert) {\n    if (transform && !util.isArrayLike(transform)) {\n      transform = Transformable_1.getLocalTransform(transform);\n    }\n\n    if (invert) {\n      transform = matrix.invert([], transform);\n    }\n\n    return vector.applyTransform([], target, transform);\n  }\n  /**\n   * @param {string} direction 'left' 'right' 'top' 'bottom'\n   * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n   * @param {boolean=} invert Whether use invert matrix.\n   * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n   */\n\n\n  function transformDirection(direction, transform, invert) {\n    // Pick a base, ensure that transform result will not be (0, 0).\n    var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n    var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n    var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n    vertex = applyTransform$1(vertex, transform, invert);\n    return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n  }\n  /**\n   * Apply group transition animation from g1 to g2.\n   * If no animatableModel, no animation.\n   */\n\n\n  function groupTransition(g1, g2, animatableModel, cb) {\n    if (!g1 || !g2) {\n      return;\n    }\n\n    function getElMap(g) {\n      var elMap = {};\n      g.traverse(function (el) {\n        if (!el.isGroup && el.anid) {\n          elMap[el.anid] = el;\n        }\n      });\n      return elMap;\n    }\n\n    function getAnimatableProps(el) {\n      var obj = {\n        position: vector.clone(el.position),\n        rotation: el.rotation\n      };\n\n      if (el.shape) {\n        obj.shape = util.extend({}, el.shape);\n      }\n\n      return obj;\n    }\n\n    var elMap1 = getElMap(g1);\n    g2.traverse(function (el) {\n      if (!el.isGroup && el.anid) {\n        var oldEl = elMap1[el.anid];\n\n        if (oldEl) {\n          var newProp = getAnimatableProps(el);\n          el.attr(getAnimatableProps(oldEl));\n          updateProps(el, newProp, animatableModel, el.dataIndex);\n        } // else {\n        //     if (el.previousProps) {\n        //         graphic.updateProps\n        //     }\n        // }\n\n      }\n    });\n  }\n  /**\n   * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n   * @param {Object} rect {x, y, width, height}\n   * @return {Array.<Array.<number>>} A new clipped points.\n   */\n\n\n  function clipPointsByRect(points, rect) {\n    // FIXME: this way migth be incorrect when grpahic clipped by a corner.\n    // and when element have border.\n    return util.map(points, function (point) {\n      var x = point[0];\n      x = mathMax$3(x, rect.x);\n      x = mathMin$3(x, rect.x + rect.width);\n      var y = point[1];\n      y = mathMax$3(y, rect.y);\n      y = mathMin$3(y, rect.y + rect.height);\n      return [x, y];\n    });\n  }\n  /**\n   * @param {Object} targetRect {x, y, width, height}\n   * @param {Object} rect {x, y, width, height}\n   * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n   */\n\n\n  function clipRectByRect(targetRect, rect) {\n    var x = mathMax$3(targetRect.x, rect.x);\n    var x2 = mathMin$3(targetRect.x + targetRect.width, rect.x + rect.width);\n    var y = mathMax$3(targetRect.y, rect.y);\n    var y2 = mathMin$3(targetRect.y + targetRect.height, rect.y + rect.height); // If the total rect is cliped, nothing, including the border,\n    // should be painted. So return undefined.\n\n    if (x2 >= x && y2 >= y) {\n      return {\n        x: x,\n        y: y,\n        width: x2 - x,\n        height: y2 - y\n      };\n    }\n  }\n  /**\n   * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n   * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n   * @param {Object} [rect] {x, y, width, height}\n   * @return {module:zrender/Element} Icon path or image element.\n   */\n\n\n  function createIcon(iconStr, opt, rect) {\n    opt = util.extend({\n      rectHover: true\n    }, opt);\n    var style = opt.style = {\n      strokeNoScale: true\n    };\n    rect = rect || {\n      x: -1,\n      y: -1,\n      width: 2,\n      height: 2\n    };\n\n    if (iconStr) {\n      return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), util.defaults(style, rect), new Image$1(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n    }\n  }\n  /**\n   * Return `true` if the given line (line `a`) and the given polygon\n   * are intersect.\n   * Note that we do not count colinear as intersect here because no\n   * requirement for that. We could do that if required in future.\n   *\n   * @param {number} a1x\n   * @param {number} a1y\n   * @param {number} a2x\n   * @param {number} a2y\n   * @param {Array.<Array.<number>>} points Points of the polygon.\n   * @return {boolean}\n   */\n\n\n  function linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n    for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n      var p = points[i];\n\n      if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n        return true;\n      }\n\n      p2 = p;\n    }\n  }\n  /**\n   * Return `true` if the given two lines (line `a` and line `b`)\n   * are intersect.\n   * Note that we do not count colinear as intersect here because no\n   * requirement for that. We could do that if required in future.\n   *\n   * @param {number} a1x\n   * @param {number} a1y\n   * @param {number} a2x\n   * @param {number} a2y\n   * @param {number} b1x\n   * @param {number} b1y\n   * @param {number} b2x\n   * @param {number} b2y\n   * @return {boolean}\n   */\n\n\n  function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y; // `vec_m` and `vec_n` are parallel iff\n    //     exising `k` such that `vec_m = k  vec_n`, equivalent to `vec_m X vec_n = 0`.\n\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n\n    if (nearZero(nmCrossProduct)) {\n      return false;\n    } // `vec_m` and `vec_n` are intersect iff\n    //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n    //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n    //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n\n\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n\n    if (q < 0 || q > 1) {\n      return false;\n    }\n\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n\n    if (p < 0 || p > 1) {\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Cross product of 2-dimension vector.\n   */\n\n\n  function crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n  }\n\n  function nearZero(val) {\n    return val <= 1e-6 && val >= -1e-6;\n  } // Register built-in shapes. These shapes might be overwirtten\n  // by users, although we do not recommend that.\n\n\n  registerShape('circle', Circle);\n  registerShape('sector', Sector);\n  registerShape('ring', Ring);\n  registerShape('polygon', Polygon);\n  registerShape('polyline', Polyline);\n  registerShape('rect', Rect);\n  registerShape('line', Line);\n  registerShape('bezierCurve', BezierCurve);\n  registerShape('arc', Arc);\n  var Z2_EMPHASIS_LIFT_1 = Z2_EMPHASIS_LIFT;\n  var CACHED_LABEL_STYLE_PROPERTIES_1 = CACHED_LABEL_STYLE_PROPERTIES;\n  var extendShape_1 = extendShape;\n  var extendPath_1 = extendPath;\n  var registerShape_1 = registerShape;\n  var getShapeClass_1 = getShapeClass;\n  var makePath_1 = makePath;\n  var makeImage_1 = makeImage;\n  var mergePath_1$1 = mergePath$1;\n  var resizePath_1 = resizePath;\n  var subPixelOptimizeLine_1$1 = subPixelOptimizeLine$2;\n  var subPixelOptimizeRect_1$1 = subPixelOptimizeRect$2;\n  var subPixelOptimize_1$1 = subPixelOptimize$1;\n  var setElementHoverStyle_1 = setElementHoverStyle;\n  var setHoverStyle_1 = setHoverStyle;\n  var setAsHighDownDispatcher_1 = setAsHighDownDispatcher;\n  var isHighDownDispatcher_1 = isHighDownDispatcher;\n  var getHighlightDigit_1 = getHighlightDigit;\n  var setLabelStyle_1 = setLabelStyle;\n  var modifyLabelStyle_1 = modifyLabelStyle;\n  var setTextStyle_1 = setTextStyle;\n  var setText_1 = setText;\n  var getFont_1 = getFont;\n  var updateProps_1 = updateProps;\n  var initProps_1 = initProps;\n  var getTransform_1 = getTransform;\n  var applyTransform_1$1 = applyTransform$1;\n  var transformDirection_1 = transformDirection;\n  var groupTransition_1 = groupTransition;\n  var clipPointsByRect_1 = clipPointsByRect;\n  var clipRectByRect_1 = clipRectByRect;\n  var createIcon_1 = createIcon;\n  var linePolygonIntersect_1 = linePolygonIntersect;\n  var lineLineIntersect_1 = lineLineIntersect;\n\n  var graphic = {\n  \tImage: Image$2,\n  \tGroup: Group_1$1,\n  \tText: Text_1$1,\n  \tCircle: Circle_1,\n  \tSector: Sector_1,\n  \tRing: Ring_1,\n  \tPolygon: Polygon_1,\n  \tPolyline: Polyline_1,\n  \tRect: Rect_1,\n  \tLine: Line_1,\n  \tBezierCurve: BezierCurve_1,\n  \tArc: Arc_1,\n  \tCompoundPath: CompoundPath_1,\n  \tLinearGradient: LinearGradient_1$1,\n  \tRadialGradient: RadialGradient_1$1,\n  \tBoundingRect: BoundingRect_1$1,\n  \tIncrementalDisplayable: IncrementalDisplayable_1,\n  \tZ2_EMPHASIS_LIFT: Z2_EMPHASIS_LIFT_1,\n  \tCACHED_LABEL_STYLE_PROPERTIES: CACHED_LABEL_STYLE_PROPERTIES_1,\n  \textendShape: extendShape_1,\n  \textendPath: extendPath_1,\n  \tregisterShape: registerShape_1,\n  \tgetShapeClass: getShapeClass_1,\n  \tmakePath: makePath_1,\n  \tmakeImage: makeImage_1,\n  \tmergePath: mergePath_1$1,\n  \tresizePath: resizePath_1,\n  \tsubPixelOptimizeLine: subPixelOptimizeLine_1$1,\n  \tsubPixelOptimizeRect: subPixelOptimizeRect_1$1,\n  \tsubPixelOptimize: subPixelOptimize_1$1,\n  \tsetElementHoverStyle: setElementHoverStyle_1,\n  \tsetHoverStyle: setHoverStyle_1,\n  \tsetAsHighDownDispatcher: setAsHighDownDispatcher_1,\n  \tisHighDownDispatcher: isHighDownDispatcher_1,\n  \tgetHighlightDigit: getHighlightDigit_1,\n  \tsetLabelStyle: setLabelStyle_1,\n  \tmodifyLabelStyle: modifyLabelStyle_1,\n  \tsetTextStyle: setTextStyle_1,\n  \tsetText: setText_1,\n  \tgetFont: getFont_1,\n  \tupdateProps: updateProps_1,\n  \tinitProps: initProps_1,\n  \tgetTransform: getTransform_1,\n  \tapplyTransform: applyTransform_1$1,\n  \ttransformDirection: transformDirection_1,\n  \tgroupTransition: groupTransition_1,\n  \tclipPointsByRect: clipPointsByRect_1,\n  \tclipRectByRect: clipRectByRect_1,\n  \tcreateIcon: createIcon_1,\n  \tlinePolygonIntersect: linePolygonIntersect_1,\n  \tlineLineIntersect: lineLineIntersect_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PATH_COLOR = ['textStyle', 'color'];\n  var _default$Q = {\n    /**\n     * Get color property or get color from option.textStyle.color\n     * @param {boolean} [isEmphasis]\n     * @return {string}\n     */\n    getTextColor: function (isEmphasis) {\n      var ecModel = this.ecModel;\n      return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n    },\n\n    /**\n     * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n     * @return {string}\n     */\n    getFont: function () {\n      return graphic.getFont({\n        fontStyle: this.getShallow('fontStyle'),\n        fontWeight: this.getShallow('fontWeight'),\n        fontSize: this.getShallow('fontSize'),\n        fontFamily: this.getShallow('fontFamily')\n      }, this.ecModel);\n    },\n    getTextRect: function (text$1) {\n      return text.getBoundingRect(text$1, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('lineHeight'), this.getShallow('rich'), this.getShallow('truncateText'));\n    }\n  };\n  var textStyle = _default$Q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]);\n  var _default$R = {\n    getItemStyle: function (excludes, includes) {\n      var style = getItemStyle(this, excludes, includes);\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n      return style;\n    },\n    getBorderLineDash: function () {\n      var lineType = this.get('borderType');\n      return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [5, 5] : [1, 1];\n    }\n  };\n  var itemStyle = _default$R;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$1 = model.makeInner;\n\n\n\n  var enableClassExtend$1 = clazz.enableClassExtend;\n  var enableClassCheck$1 = clazz.enableClassCheck;\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/model/Model\n   */\n  var mixin$1 = util.mixin;\n  var inner = makeInner$1();\n  /**\n   * @alias module:echarts/model/Model\n   * @constructor\n   * @param {Object} [option]\n   * @param {module:echarts/model/Model} [parentModel]\n   * @param {module:echarts/model/Global} [ecModel]\n   */\n\n  function Model(option, parentModel, ecModel) {\n    /**\n     * @type {module:echarts/model/Model}\n     * @readOnly\n     */\n    this.parentModel = parentModel;\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n\n    this.ecModel = ecModel;\n    /**\n     * @type {Object}\n     * @protected\n     */\n\n    this.option = option; // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n\n  Model.prototype = {\n    constructor: Model,\n\n    /**\n     * Model \n     * @param {Object} option\n     */\n    init: null,\n\n    /**\n     *  Option merge\n     */\n    mergeOption: function (option) {\n      util.merge(this.option, option, true);\n    },\n\n    /**\n     * @param {string|Array.<string>} path\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    get: function (path, ignoreParent) {\n      if (path == null) {\n        return this.option;\n      }\n\n      return doGet(this.option, this.parsePath(path), !ignoreParent && getParent(this, path));\n    },\n\n    /**\n     * @param {string} key\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    getShallow: function (key, ignoreParent) {\n      var option = this.option;\n      var val = option == null ? option : option[key];\n      var parentModel = !ignoreParent && getParent(this, key);\n\n      if (val == null && parentModel) {\n        val = parentModel.getShallow(key);\n      }\n\n      return val;\n    },\n\n    /**\n     * @param {string|Array.<string>} [path]\n     * @param {module:echarts/model/Model} [parentModel]\n     * @return {module:echarts/model/Model}\n     */\n    getModel: function (path, parentModel) {\n      var obj = path == null ? this.option : doGet(this.option, path = this.parsePath(path));\n      var thisParentModel;\n      parentModel = parentModel || (thisParentModel = getParent(this, path)) && thisParentModel.getModel(path);\n      return new Model(obj, parentModel, this.ecModel);\n    },\n\n    /**\n     * If model has option\n     */\n    isEmpty: function () {\n      return this.option == null;\n    },\n    restoreData: function () {},\n    // Pending\n    clone: function () {\n      var Ctor = this.constructor;\n      return new Ctor(util.clone(this.option));\n    },\n    setReadOnly: function (properties) {// clazzUtil.setReadOnly(this, properties);\n    },\n    // If path is null/undefined, return null/undefined.\n    parsePath: function (path) {\n      if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      return path;\n    },\n\n    /**\n     * @param {Function} getParentMethod\n     *        param {Array.<string>|string} path\n     *        return {module:echarts/model/Model}\n     */\n    customizeGetParent: function (getParentMethod) {\n      inner(this).getParent = getParentMethod;\n    },\n    isAnimationEnabled: function () {\n      if (!env_1.node) {\n        if (this.option.animation != null) {\n          return !!this.option.animation;\n        } else if (this.parentModel) {\n          return this.parentModel.isAnimationEnabled();\n        }\n      }\n    }\n  };\n\n  function doGet(obj, pathArr, parentModel) {\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      } // obj could be number/string/... (like 0)\n\n\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    if (obj == null && parentModel) {\n      obj = parentModel.get(pathArr);\n    }\n\n    return obj;\n  } // `path` can be null/undefined\n\n\n  function getParent(model, path) {\n    var getParentMethod = inner(model).getParent;\n    return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n  } // Enable Model.extend.\n\n\n  enableClassExtend$1(Model);\n  enableClassCheck$1(Model);\n  mixin$1(Model, lineStyle);\n  mixin$1(Model, areaStyle);\n  mixin$1(Model, textStyle);\n  mixin$1(Model, itemStyle);\n  var _default$S = Model;\n  var Model_1 = _default$S;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parseClassType$1 = clazz.parseClassType;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var base = 0;\n  /**\n   * @public\n   * @param {string} type\n   * @return {string}\n   */\n\n  function getUID(type) {\n    // Considering the case of crossing js context,\n    // use Math.random to make id as unique as possible.\n    return [type || '', base++, Math.random().toFixed(5)].join('_');\n  }\n  /**\n   * @inner\n   */\n\n\n  function enableSubTypeDefaulter(entity) {\n    var subTypeDefaulters = {};\n\n    entity.registerSubTypeDefaulter = function (componentType, defaulter) {\n      componentType = parseClassType$1(componentType);\n      subTypeDefaulters[componentType.main] = defaulter;\n    };\n\n    entity.determineSubType = function (componentType, option) {\n      var type = option.type;\n\n      if (!type) {\n        var componentTypeMain = parseClassType$1(componentType).main;\n\n        if (entity.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n          type = subTypeDefaulters[componentTypeMain](option);\n        }\n      }\n\n      return type;\n    };\n\n    return entity;\n  }\n  /**\n   * Topological travel on Activity Network (Activity On Vertices).\n   * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n   *\n   * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n   *\n   * If there is circle dependencey, Error will be thrown.\n   *\n   */\n\n\n  function enableTopologicalTravel(entity, dependencyGetter) {\n    /**\n     * @public\n     * @param {Array.<string>} targetNameList Target Component type list.\n     *                                           Can be ['aa', 'bb', 'aa.xx']\n     * @param {Array.<string>} fullNameList By which we can build dependency graph.\n     * @param {Function} callback Params: componentType, dependencies.\n     * @param {Object} context Scope of callback.\n     */\n    entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n      if (!targetNameList.length) {\n        return;\n      }\n\n      var result = makeDepndencyGraph(fullNameList);\n      var graph = result.graph;\n      var stack = result.noEntryList;\n      var targetNameSet = {};\n      util.each(targetNameList, function (name) {\n        targetNameSet[name] = true;\n      });\n\n      while (stack.length) {\n        var currComponentType = stack.pop();\n        var currVertex = graph[currComponentType];\n        var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n        if (isInTargetNameSet) {\n          callback.call(context, currComponentType, currVertex.originalDeps.slice());\n          delete targetNameSet[currComponentType];\n        }\n\n        util.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n      }\n\n      util.each(targetNameSet, function () {\n        throw new Error('Circle dependency may exists');\n      });\n\n      function removeEdge(succComponentType) {\n        graph[succComponentType].entryCount--;\n\n        if (graph[succComponentType].entryCount === 0) {\n          stack.push(succComponentType);\n        }\n      } // Consider this case: legend depends on series, and we call\n      // chart.setOption({series: [...]}), where only series is in option.\n      // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n      // not be called, but only sereis.mergeOption is called. Thus legend\n      // have no chance to update its local record about series (like which\n      // name of series is available in legend).\n\n\n      function removeEdgeAndAdd(succComponentType) {\n        targetNameSet[succComponentType] = true;\n        removeEdge(succComponentType);\n      }\n    };\n    /**\n     * DepndencyGraph: {Object}\n     * key: conponentType,\n     * value: {\n     *     successor: [conponentTypes...],\n     *     originalDeps: [conponentTypes...],\n     *     entryCount: {number}\n     * }\n     */\n\n\n    function makeDepndencyGraph(fullNameList) {\n      var graph = {};\n      var noEntryList = [];\n      util.each(fullNameList, function (name) {\n        var thisItem = createDependencyGraphItem(graph, name);\n        var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n        var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n        thisItem.entryCount = availableDeps.length;\n\n        if (thisItem.entryCount === 0) {\n          noEntryList.push(name);\n        }\n\n        util.each(availableDeps, function (dependentName) {\n          if (util.indexOf(thisItem.predecessor, dependentName) < 0) {\n            thisItem.predecessor.push(dependentName);\n          }\n\n          var thatItem = createDependencyGraphItem(graph, dependentName);\n\n          if (util.indexOf(thatItem.successor, dependentName) < 0) {\n            thatItem.successor.push(name);\n          }\n        });\n      });\n      return {\n        graph: graph,\n        noEntryList: noEntryList\n      };\n    }\n\n    function createDependencyGraphItem(graph, name) {\n      if (!graph[name]) {\n        graph[name] = {\n          predecessor: [],\n          successor: []\n        };\n      }\n\n      return graph[name];\n    }\n\n    function getAvailableDependencies(originalDeps, fullNameList) {\n      var availableDeps = [];\n      util.each(originalDeps, function (dep) {\n        util.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n      });\n      return availableDeps;\n    }\n  }\n\n  var getUID_1 = getUID;\n  var enableSubTypeDefaulter_1 = enableSubTypeDefaulter;\n  var enableTopologicalTravel_1 = enableTopologicalTravel;\n\n  var component = {\n  \tgetUID: getUID_1,\n  \tenableSubTypeDefaulter: enableSubTypeDefaulter_1,\n  \tenableTopologicalTravel: enableTopologicalTravel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * A third-party license is embeded for some of the code in this file:\n  * The method \"quantile\" was copied from \"d3.js\".\n  * (See more details in the comment of the method below.)\n  * The use of the source code of this file is also subject to the terms\n  * and consitions of the license of \"d3.js\" (BSD-3Clause, see\n  * </licenses/LICENSE-d3>).\n  */\n  var RADIAN_EPSILON = 1e-4;\n\n  function _trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }\n  /**\n   * Linear mapping a value from domain to range\n   * @memberOf module:echarts/util/number\n   * @param  {(number|Array.<number>)} val\n   * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n   * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n   * @param  {boolean} clamp\n   * @return {(number|Array.<number>}\n   */\n\n\n  function linearMap(val, domain, range, clamp) {\n    var subDomain = domain[1] - domain[0];\n    var subRange = range[1] - range[0];\n\n    if (subDomain === 0) {\n      return subRange === 0 ? range[0] : (range[0] + range[1]) / 2;\n    } // Avoid accuracy problem in edge, such as\n    // 146.39 - 62.83 === 83.55999999999999.\n    // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n    // It is a little verbose for efficiency considering this method\n    // is a hotspot.\n\n\n    if (clamp) {\n      if (subDomain > 0) {\n        if (val <= domain[0]) {\n          return range[0];\n        } else if (val >= domain[1]) {\n          return range[1];\n        }\n      } else {\n        if (val >= domain[0]) {\n          return range[0];\n        } else if (val <= domain[1]) {\n          return range[1];\n        }\n      }\n    } else {\n      if (val === domain[0]) {\n        return range[0];\n      }\n\n      if (val === domain[1]) {\n        return range[1];\n      }\n    }\n\n    return (val - domain[0]) / subDomain * subRange + range[0];\n  }\n  /**\n   * Convert a percent string to absolute number.\n   * Returns NaN if percent is not a valid string or number\n   * @memberOf module:echarts/util/number\n   * @param {string|number} percent\n   * @param {number} all\n   * @return {number}\n   */\n\n\n  function parsePercent$1(percent, all) {\n    switch (percent) {\n      case 'center':\n      case 'middle':\n        percent = '50%';\n        break;\n\n      case 'left':\n      case 'top':\n        percent = '0%';\n        break;\n\n      case 'right':\n      case 'bottom':\n        percent = '100%';\n        break;\n    }\n\n    if (typeof percent === 'string') {\n      if (_trim(percent).match(/%$/)) {\n        return parseFloat(percent) / 100 * all;\n      }\n\n      return parseFloat(percent);\n    }\n\n    return percent == null ? NaN : +percent;\n  }\n  /**\n   * (1) Fix rounding error of float numbers.\n   * (2) Support return string to avoid scientific notation like '3.5e-7'.\n   *\n   * @param {number} x\n   * @param {number} [precision]\n   * @param {boolean} [returnStr]\n   * @return {number|string}\n   */\n\n\n  function round$1(x, precision, returnStr) {\n    if (precision == null) {\n      precision = 10;\n    } // Avoid range error\n\n\n    precision = Math.min(Math.max(0, precision), 20);\n    x = (+x).toFixed(precision);\n    return returnStr ? x : +x;\n  }\n  /**\n   * asc sort arr.\n   * The input arr will be modified.\n   *\n   * @param {Array} arr\n   * @return {Array} The input arr.\n   */\n\n\n  function asc(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    return arr;\n  }\n  /**\n   * Get precision\n   * @param {number} val\n   */\n\n\n  function getPrecision(val) {\n    val = +val;\n\n    if (isNaN(val)) {\n      return 0;\n    } // It is much faster than methods converting number to string as follows\n    //      var tmp = val.toString();\n    //      return tmp.length - 1 - tmp.indexOf('.');\n    // especially when precision is low\n\n\n    var e = 1;\n    var count = 0;\n\n    while (Math.round(val * e) / e !== val) {\n      e *= 10;\n      count++;\n    }\n\n    return count;\n  }\n  /**\n   * @param {string|number} val\n   * @return {number}\n   */\n\n\n  function getPrecisionSafe(val) {\n    var str = val.toString(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n    var eIndex = str.indexOf('e');\n\n    if (eIndex > 0) {\n      var precision = +str.slice(eIndex + 1);\n      return precision < 0 ? -precision : 0;\n    } else {\n      var dotIndex = str.indexOf('.');\n      return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n    }\n  }\n  /**\n   * Minimal dicernible data precisioin according to a single pixel.\n   *\n   * @param {Array.<number>} dataExtent\n   * @param {Array.<number>} pixelExtent\n   * @return {number} precision\n   */\n\n\n  function getPixelPrecision(dataExtent, pixelExtent) {\n    var log = Math.log;\n    var LN10 = Math.LN10;\n    var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n    var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n    var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n    return !isFinite(precision) ? 20 : precision;\n  }\n  /**\n   * Get a data of given precision, assuring the sum of percentages\n   * in valueList is 1.\n   * The largest remainer method is used.\n   * https://en.wikipedia.org/wiki/Largest_remainder_method\n   *\n   * @param {Array.<number>} valueList a list of all data\n   * @param {number} idx index of the data to be processed in valueList\n   * @param {number} precision integer number showing digits of precision\n   * @return {number} percent ranging from 0 to 100\n   */\n\n\n  function getPercentWithPrecision(valueList, idx, precision) {\n    if (!valueList[idx]) {\n      return 0;\n    }\n\n    var sum = util.reduce(valueList, function (acc, val) {\n      return acc + (isNaN(val) ? 0 : val);\n    }, 0);\n\n    if (sum === 0) {\n      return 0;\n    }\n\n    var digits = Math.pow(10, precision);\n    var votesPerQuota = util.map(valueList, function (val) {\n      return (isNaN(val) ? 0 : val) / sum * digits * 100;\n    });\n    var targetSeats = digits * 100;\n    var seats = util.map(votesPerQuota, function (votes) {\n      // Assign automatic seats.\n      return Math.floor(votes);\n    });\n    var currentSum = util.reduce(seats, function (acc, val) {\n      return acc + val;\n    }, 0);\n    var remainder = util.map(votesPerQuota, function (votes, idx) {\n      return votes - seats[idx];\n    }); // Has remainding votes.\n\n    while (currentSum < targetSeats) {\n      // Find next largest remainder.\n      var max = Number.NEGATIVE_INFINITY;\n      var maxId = null;\n\n      for (var i = 0, len = remainder.length; i < len; ++i) {\n        if (remainder[i] > max) {\n          max = remainder[i];\n          maxId = i;\n        }\n      } // Add a vote to max remainder.\n\n\n      ++seats[maxId];\n      remainder[maxId] = 0;\n      ++currentSum;\n    }\n\n    return seats[idx] / digits;\n  } // Number.MAX_SAFE_INTEGER, ie do not support.\n\n\n  var MAX_SAFE_INTEGER$2 = 9007199254740991;\n  /**\n   * To 0 - 2 * PI, considering negative radian.\n   * @param {number} radian\n   * @return {number}\n   */\n\n  function remRadian(radian) {\n    var pi2 = Math.PI * 2;\n    return (radian % pi2 + pi2) % pi2;\n  }\n  /**\n   * @param {type} radian\n   * @return {boolean}\n   */\n\n\n  function isRadianAroundZero(val) {\n    return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n  }\n  /* eslint-disable */\n\n\n  var TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n  /* eslint-enable */\n\n  /**\n   * @param {string|Date|number} value These values can be accepted:\n   *   + An instance of Date, represent a time in its own time zone.\n   *   + Or string in a subset of ISO 8601, only including:\n   *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n   *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n   *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n   *     all of which will be treated as local time if time zone is not specified\n   *     (see <https://momentjs.com/>).\n   *   + Or other string format, including (all of which will be treated as loacal time):\n   *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n   *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n   *   + a timestamp, which represent a time in UTC.\n   * @return {Date} date\n   */\n\n  function parseDate(value) {\n    if (value instanceof Date) {\n      return value;\n    } else if (typeof value === 'string') {\n      // Different browsers parse date in different way, so we parse it manually.\n      // Some other issues:\n      // new Date('1970-01-01') is UTC,\n      // new Date('1970/01/01') and new Date('1970-1-01') is local.\n      // See issue #3623\n      var match = TIME_REG.exec(value);\n\n      if (!match) {\n        // return Invalid Date.\n        return new Date(NaN);\n      } // Use local time when no timezone offset specifed.\n\n\n      if (!match[8]) {\n        // match[n] can only be string or undefined.\n        // But take care of '12' + 1 => '121'.\n        return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n      } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n      // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n      // For example, system timezone is set as \"Time Zone: America/Toronto\",\n      // then these code will get different result:\n      // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n      // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n      // So we should not use `new Date`, but use `Date.UTC`.\n      else {\n          var hour = +match[4] || 0;\n\n          if (match[8].toUpperCase() !== 'Z') {\n            hour -= match[8].slice(0, 3);\n          }\n\n          return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n        }\n    } else if (value == null) {\n      return new Date(NaN);\n    }\n\n    return new Date(Math.round(value));\n  }\n  /**\n   * Quantity of a number. e.g. 0.1, 1, 10, 100\n   *\n   * @param  {number} val\n   * @return {number}\n   */\n\n\n  function quantity(val) {\n    return Math.pow(10, quantityExponent(val));\n  }\n  /**\n   * Exponent of the quantity of a number\n   * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3\n   *\n   * @param  {number} val non-negative value\n   * @return {number}\n   */\n\n\n  function quantityExponent(val) {\n    if (val === 0) {\n      return 0;\n    }\n\n    var exp = Math.floor(Math.log(val) / Math.LN10);\n    /**\n     * exp is expected to be the rounded-down result of the base-10 log of val.\n     * But due to the precision loss with Math.log(val), we need to restore it\n     * using 10^exp to make sure we can get val back from exp. #11249\n     */\n\n    if (val / Math.pow(10, exp) >= 10) {\n      exp++;\n    }\n\n    return exp;\n  }\n  /**\n   * find a nice number approximately equal to x. Round the number if round = true,\n   * take ceiling if round = false. The primary observation is that the nicest\n   * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n   *\n   * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n   *\n   * @param  {number} val Non-negative value.\n   * @param  {boolean} round\n   * @return {number}\n   */\n\n\n  function nice(val, round) {\n    var exponent = quantityExponent(val);\n    var exp10 = Math.pow(10, exponent);\n    var f = val / exp10; // 1 <= f < 10\n\n    var nf;\n\n    if (round) {\n      if (f < 1.5) {\n        nf = 1;\n      } else if (f < 2.5) {\n        nf = 2;\n      } else if (f < 4) {\n        nf = 3;\n      } else if (f < 7) {\n        nf = 5;\n      } else {\n        nf = 10;\n      }\n    } else {\n      if (f < 1) {\n        nf = 1;\n      } else if (f < 2) {\n        nf = 2;\n      } else if (f < 3) {\n        nf = 3;\n      } else if (f < 5) {\n        nf = 5;\n      } else {\n        nf = 10;\n      }\n    }\n\n    val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n    // 20 is the uppper bound of toFixed.\n\n    return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n  }\n  /**\n   * This code was copied from \"d3.js\"\n   * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\n   * See the license statement at the head of this file.\n   * @param {Array.<number>} ascArr\n   */\n\n\n  function quantile(ascArr, p) {\n    var H = (ascArr.length - 1) * p + 1;\n    var h = Math.floor(H);\n    var v = +ascArr[h - 1];\n    var e = H - h;\n    return e ? v + e * (ascArr[h] - v) : v;\n  }\n  /**\n   * Order intervals asc, and split them when overlap.\n   * expect(numberUtil.reformIntervals([\n   *     {interval: [18, 62], close: [1, 1]},\n   *     {interval: [-Infinity, -70], close: [0, 0]},\n   *     {interval: [-70, -26], close: [1, 1]},\n   *     {interval: [-26, 18], close: [1, 1]},\n   *     {interval: [62, 150], close: [1, 1]},\n   *     {interval: [106, 150], close: [1, 1]},\n   *     {interval: [150, Infinity], close: [0, 0]}\n   * ])).toEqual([\n   *     {interval: [-Infinity, -70], close: [0, 0]},\n   *     {interval: [-70, -26], close: [1, 1]},\n   *     {interval: [-26, 18], close: [0, 1]},\n   *     {interval: [18, 62], close: [0, 1]},\n   *     {interval: [62, 150], close: [0, 1]},\n   *     {interval: [150, Infinity], close: [0, 0]}\n   * ]);\n   * @param {Array.<Object>} list, where `close` mean open or close\n   *        of the interval, and Infinity can be used.\n   * @return {Array.<Object>} The origin list, which has been reformed.\n   */\n\n\n  function reformIntervals(list) {\n    list.sort(function (a, b) {\n      return littleThan(a, b, 0) ? -1 : 1;\n    });\n    var curr = -Infinity;\n    var currClose = 1;\n\n    for (var i = 0; i < list.length;) {\n      var interval = list[i].interval;\n      var close = list[i].close;\n\n      for (var lg = 0; lg < 2; lg++) {\n        if (interval[lg] <= curr) {\n          interval[lg] = curr;\n          close[lg] = !lg ? 1 - currClose : 1;\n        }\n\n        curr = interval[lg];\n        currClose = close[lg];\n      }\n\n      if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n        list.splice(i, 1);\n      } else {\n        i++;\n      }\n    }\n\n    return list;\n\n    function littleThan(a, b, lg) {\n      return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n    }\n  }\n  /**\n   * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n   * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n   * subtraction forces infinities to NaN\n   *\n   * @param {*} v\n   * @return {boolean}\n   */\n\n\n  function isNumeric(v) {\n    return v - parseFloat(v) >= 0;\n  }\n\n  var linearMap_1 = linearMap;\n  var parsePercent_1$1 = parsePercent$1;\n  var round_1 = round$1;\n  var asc_1 = asc;\n  var getPrecision_1 = getPrecision;\n  var getPrecisionSafe_1 = getPrecisionSafe;\n  var getPixelPrecision_1 = getPixelPrecision;\n  var getPercentWithPrecision_1 = getPercentWithPrecision;\n  var MAX_SAFE_INTEGER_1 = MAX_SAFE_INTEGER$2;\n  var remRadian_1 = remRadian;\n  var isRadianAroundZero_1 = isRadianAroundZero;\n  var parseDate_1 = parseDate;\n  var quantity_1 = quantity;\n  var quantityExponent_1 = quantityExponent;\n  var nice_1 = nice;\n  var quantile_1 = quantile;\n  var reformIntervals_1 = reformIntervals;\n  var isNumeric_1 = isNumeric;\n\n  var number = {\n  \tlinearMap: linearMap_1,\n  \tparsePercent: parsePercent_1$1,\n  \tround: round_1,\n  \tasc: asc_1,\n  \tgetPrecision: getPrecision_1,\n  \tgetPrecisionSafe: getPrecisionSafe_1,\n  \tgetPixelPrecision: getPixelPrecision_1,\n  \tgetPercentWithPrecision: getPercentWithPrecision_1,\n  \tMAX_SAFE_INTEGER: MAX_SAFE_INTEGER_1,\n  \tremRadian: remRadian_1,\n  \tisRadianAroundZero: isRadianAroundZero_1,\n  \tparseDate: parseDate_1,\n  \tquantity: quantity_1,\n  \tquantityExponent: quantityExponent_1,\n  \tnice: nice_1,\n  \tquantile: quantile_1,\n  \treformIntervals: reformIntervals_1,\n  \tisNumeric: isNumeric_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import Text from 'zrender/src/graphic/Text';\n\n  /**\n   * add commas after every three numbers\n   * @param {string|number} x\n   * @return {string}\n   */\n  function addCommas(x) {\n    if (isNaN(x)) {\n      return '-';\n    }\n\n    x = (x + '').split('.');\n    return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (x.length > 1 ? '.' + x[1] : '');\n  }\n  /**\n   * @param {string} str\n   * @param {boolean} [upperCaseFirst=false]\n   * @return {string} str\n   */\n\n\n  function toCamelCase(str, upperCaseFirst) {\n    str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n      return group1.toUpperCase();\n    });\n\n    if (upperCaseFirst && str) {\n      str = str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    return str;\n  }\n\n  var normalizeCssArray$2 = util.normalizeCssArray;\n  var replaceReg = /([&<>\"'])/g;\n  var replaceMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n  };\n\n  function encodeHTML(source) {\n    return source == null ? '' : (source + '').replace(replaceReg, function (str, c) {\n      return replaceMap[c];\n    });\n  }\n\n  var TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\n  var wrapVar = function (varName, seriesIdx) {\n    return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n  };\n  /**\n   * Template formatter\n   * @param {string} tpl\n   * @param {Array.<Object>|Object} paramsList\n   * @param {boolean} [encode=false]\n   * @return {string}\n   */\n\n\n  function formatTpl(tpl, paramsList, encode) {\n    if (!util.isArray(paramsList)) {\n      paramsList = [paramsList];\n    }\n\n    var seriesLen = paramsList.length;\n\n    if (!seriesLen) {\n      return '';\n    }\n\n    var $vars = paramsList[0].$vars || [];\n\n    for (var i = 0; i < $vars.length; i++) {\n      var alias = TPL_VAR_ALIAS[i];\n      tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\n    }\n\n    for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n      for (var k = 0; k < $vars.length; k++) {\n        var val = paramsList[seriesIdx][$vars[k]];\n        tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n      }\n    }\n\n    return tpl;\n  }\n  /**\n   * simple Template formatter\n   *\n   * @param {string} tpl\n   * @param {Object} param\n   * @param {boolean} [encode=false]\n   * @return {string}\n   */\n\n\n  function formatTplSimple(tpl, param, encode) {\n    util.each(param, function (value, key) {\n      tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n    });\n    return tpl;\n  }\n  /**\n   * @param {Object|string} [opt] If string, means color.\n   * @param {string} [opt.color]\n   * @param {string} [opt.extraCssText]\n   * @param {string} [opt.type='item'] 'item' or 'subItem'\n   * @param {string} [opt.renderMode='html'] render mode of tooltip, 'html' or 'richText'\n   * @param {string} [opt.markerId='X'] id name for marker. If only one marker is in a rich text, this can be omitted.\n   * @return {string}\n   */\n\n\n  function getTooltipMarker(opt, extraCssText) {\n    opt = util.isString(opt) ? {\n      color: opt,\n      extraCssText: extraCssText\n    } : opt || {};\n    var color = opt.color;\n    var type = opt.type;\n    var extraCssText = opt.extraCssText;\n    var renderMode = opt.renderMode || 'html';\n    var markerId = opt.markerId || 'X';\n\n    if (!color) {\n      return '';\n    }\n\n    if (renderMode === 'html') {\n      return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:5px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\n    } else {\n      // Space for rich element marker\n      return {\n        renderMode: renderMode,\n        content: '{marker' + markerId + '|}  ',\n        style: {\n          color: color\n        }\n      };\n    }\n  }\n\n  function pad(str, len) {\n    str += '';\n    return '0000'.substr(0, len - str.length) + str;\n  }\n  /**\n   * ISO Date format\n   * @param {string} tpl\n   * @param {number} value\n   * @param {boolean} [isUTC=false] Default in local time.\n   *           see `module:echarts/scale/Time`\n   *           and `module:echarts/util/number#parseDate`.\n   * @inner\n   */\n\n\n  function formatTime(tpl, value, isUTC) {\n    if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n      tpl = 'MM-dd\\nyyyy';\n    }\n\n    var date = number.parseDate(value);\n    var utc = isUTC ? 'UTC' : '';\n    var y = date['get' + utc + 'FullYear']();\n    var M = date['get' + utc + 'Month']() + 1;\n    var d = date['get' + utc + 'Date']();\n    var h = date['get' + utc + 'Hours']();\n    var m = date['get' + utc + 'Minutes']();\n    var s = date['get' + utc + 'Seconds']();\n    var S = date['get' + utc + 'Milliseconds']();\n    tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', y % 100).replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\n    return tpl;\n  }\n  /**\n   * Capital first\n   * @param {string} str\n   * @return {string}\n   */\n\n\n  function capitalFirst(str) {\n    return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n  }\n\n  var truncateText$1 = text.truncateText;\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {string} opt.text\n   * @param {string} opt.font\n   * @param {string} [opt.textAlign='left']\n   * @param {string} [opt.textVerticalAlign='top']\n   * @param {Array.<number>} [opt.textPadding]\n   * @param {number} [opt.textLineHeight]\n   * @param {Object} [opt.rich]\n   * @param {Object} [opt.truncate]\n   * @return {Object} {x, y, width, height, lineHeight}\n   */\n\n  function getTextBoundingRect(opt) {\n    return text.getBoundingRect(opt.text, opt.font, opt.textAlign, opt.textVerticalAlign, opt.textPadding, opt.textLineHeight, opt.rich, opt.truncate);\n  }\n  /**\n   * @deprecated\n   * the `textLineHeight` was added later.\n   * For backward compatiblility, put it as the last parameter.\n   * But deprecated this interface. Please use `getTextBoundingRect` instead.\n   */\n\n\n  function getTextRect(text$1, font, textAlign, textVerticalAlign, textPadding, rich, truncate, textLineHeight) {\n    return text.getBoundingRect(text$1, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate);\n  }\n  /**\n   * open new tab\n   * @param {string} link url\n   * @param {string} target blank or self\n   */\n\n\n  function windowOpen(link, target) {\n    if (target === '_blank' || target === 'blank') {\n      var blank = window.open();\n      blank.opener = null;\n      blank.location = link;\n    } else {\n      window.open(link, target);\n    }\n  }\n\n  var addCommas_1 = addCommas;\n  var toCamelCase_1 = toCamelCase;\n  var normalizeCssArray_1$1 = normalizeCssArray$2;\n  var encodeHTML_1 = encodeHTML;\n  var formatTpl_1 = formatTpl;\n  var formatTplSimple_1 = formatTplSimple;\n  var getTooltipMarker_1 = getTooltipMarker;\n  var formatTime_1 = formatTime;\n  var capitalFirst_1 = capitalFirst;\n  var truncateText_1$1 = truncateText$1;\n  var getTextBoundingRect_1 = getTextBoundingRect;\n  var getTextRect_1 = getTextRect;\n  var windowOpen_1 = windowOpen;\n\n  var format$1 = {\n  \taddCommas: addCommas_1,\n  \ttoCamelCase: toCamelCase_1,\n  \tnormalizeCssArray: normalizeCssArray_1$1,\n  \tencodeHTML: encodeHTML_1,\n  \tformatTpl: formatTpl_1,\n  \tformatTplSimple: formatTplSimple_1,\n  \tgetTooltipMarker: getTooltipMarker_1,\n  \tformatTime: formatTime_1,\n  \tcapitalFirst: capitalFirst_1,\n  \ttruncateText: truncateText_1$1,\n  \tgetTextBoundingRect: getTextBoundingRect_1,\n  \tgetTextRect: getTextRect_1,\n  \twindowOpen: windowOpen_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var parsePercent$2 = number.parsePercent;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Layout helpers for each component positioning\n  var each$3 = util.each;\n  /**\n   * @public\n   */\n\n  var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n  /**\n   * @public\n   */\n\n  var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\n  function boxLayout(orient, group, gap, maxWidth, maxHeight) {\n    var x = 0;\n    var y = 0;\n\n    if (maxWidth == null) {\n      maxWidth = Infinity;\n    }\n\n    if (maxHeight == null) {\n      maxHeight = Infinity;\n    }\n\n    var currentLineMaxSize = 0;\n    group.eachChild(function (child, idx) {\n      var position = child.position;\n      var rect = child.getBoundingRect();\n      var nextChild = group.childAt(idx + 1);\n      var nextChildRect = nextChild && nextChild.getBoundingRect();\n      var nextX;\n      var nextY;\n\n      if (orient === 'horizontal') {\n        var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n        nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n        // FIXME compare before adding gap?\n\n        if (nextX > maxWidth || child.newline) {\n          x = 0;\n          nextX = moveX;\n          y += currentLineMaxSize + gap;\n          currentLineMaxSize = rect.height;\n        } else {\n          // FIXME: consider rect.y is not `0`?\n          currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n        }\n      } else {\n        var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n        nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n        if (nextY > maxHeight || child.newline) {\n          x += currentLineMaxSize + gap;\n          y = 0;\n          nextY = moveY;\n          currentLineMaxSize = rect.width;\n        } else {\n          currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n        }\n      }\n\n      if (child.newline) {\n        return;\n      }\n\n      position[0] = x;\n      position[1] = y;\n      orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n    });\n  }\n  /**\n   * VBox or HBox layouting\n   * @param {string} orient\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n\n  var box = boxLayout;\n  /**\n   * VBox layouting\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n  var vbox = util.curry(boxLayout, 'vertical');\n  /**\n   * HBox layouting\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n  var hbox = util.curry(boxLayout, 'horizontal');\n  /**\n   * If x or x2 is not specified or 'center' 'left' 'right',\n   * the width would be as long as possible.\n   * If y or y2 is not specified or 'middle' 'top' 'bottom',\n   * the height would be as long as possible.\n   *\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.x]\n   * @param {number|string} [positionInfo.y]\n   * @param {number|string} [positionInfo.x2]\n   * @param {number|string} [positionInfo.y2]\n   * @param {Object} containerRect {width, height}\n   * @param {string|number} margin\n   * @return {Object} {width, height}\n   */\n\n  function getAvailableSize(positionInfo, containerRect, margin) {\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n    var x = parsePercent$2(positionInfo.x, containerWidth);\n    var y = parsePercent$2(positionInfo.y, containerHeight);\n    var x2 = parsePercent$2(positionInfo.x2, containerWidth);\n    var y2 = parsePercent$2(positionInfo.y2, containerHeight);\n    (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n    (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n    (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n    (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n    margin = format$1.normalizeCssArray(margin || 0);\n    return {\n      width: Math.max(x2 - x - margin[1] - margin[3], 0),\n      height: Math.max(y2 - y - margin[0] - margin[2], 0)\n    };\n  }\n  /**\n   * Parse position info.\n   *\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.left]\n   * @param {number|string} [positionInfo.top]\n   * @param {number|string} [positionInfo.right]\n   * @param {number|string} [positionInfo.bottom]\n   * @param {number|string} [positionInfo.width]\n   * @param {number|string} [positionInfo.height]\n   * @param {number|string} [positionInfo.aspect] Aspect is width / height\n   * @param {Object} containerRect\n   * @param {string|number} [margin]\n   *\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n\n  function getLayoutRect(positionInfo, containerRect, margin) {\n    margin = format$1.normalizeCssArray(margin || 0);\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n    var left = parsePercent$2(positionInfo.left, containerWidth);\n    var top = parsePercent$2(positionInfo.top, containerHeight);\n    var right = parsePercent$2(positionInfo.right, containerWidth);\n    var bottom = parsePercent$2(positionInfo.bottom, containerHeight);\n    var width = parsePercent$2(positionInfo.width, containerWidth);\n    var height = parsePercent$2(positionInfo.height, containerHeight);\n    var verticalMargin = margin[2] + margin[0];\n    var horizontalMargin = margin[1] + margin[3];\n    var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n    if (isNaN(width)) {\n      width = containerWidth - right - horizontalMargin - left;\n    }\n\n    if (isNaN(height)) {\n      height = containerHeight - bottom - verticalMargin - top;\n    }\n\n    if (aspect != null) {\n      // If width and height are not given\n      // 1. Graph should not exceeds the container\n      // 2. Aspect must be keeped\n      // 3. Graph should take the space as more as possible\n      // FIXME\n      // Margin is not considered, because there is no case that both\n      // using margin and aspect so far.\n      if (isNaN(width) && isNaN(height)) {\n        if (aspect > containerWidth / containerHeight) {\n          width = containerWidth * 0.8;\n        } else {\n          height = containerHeight * 0.8;\n        }\n      } // Calculate width or height with given aspect\n\n\n      if (isNaN(width)) {\n        width = aspect * height;\n      }\n\n      if (isNaN(height)) {\n        height = width / aspect;\n      }\n    } // If left is not specified, calculate left from right and width\n\n\n    if (isNaN(left)) {\n      left = containerWidth - right - width - horizontalMargin;\n    }\n\n    if (isNaN(top)) {\n      top = containerHeight - bottom - height - verticalMargin;\n    } // Align left and top\n\n\n    switch (positionInfo.left || positionInfo.right) {\n      case 'center':\n        left = containerWidth / 2 - width / 2 - margin[3];\n        break;\n\n      case 'right':\n        left = containerWidth - width - horizontalMargin;\n        break;\n    }\n\n    switch (positionInfo.top || positionInfo.bottom) {\n      case 'middle':\n      case 'center':\n        top = containerHeight / 2 - height / 2 - margin[0];\n        break;\n\n      case 'bottom':\n        top = containerHeight - height - verticalMargin;\n        break;\n    } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n    left = left || 0;\n    top = top || 0;\n\n    if (isNaN(width)) {\n      // Width may be NaN if only one value is given except width\n      width = containerWidth - horizontalMargin - left - (right || 0);\n    }\n\n    if (isNaN(height)) {\n      // Height may be NaN if only one value is given except height\n      height = containerHeight - verticalMargin - top - (bottom || 0);\n    }\n\n    var rect = new BoundingRect_1(left + margin[3], top + margin[0], width, height);\n    rect.margin = margin;\n    return rect;\n  }\n  /**\n   * Position a zr element in viewport\n   *  Group position is specified by either\n   *  {left, top}, {right, bottom}\n   *  If all properties exists, right and bottom will be igonred.\n   *\n   * Logic:\n   *     1. Scale (against origin point in parent coord)\n   *     2. Rotate (against origin point in parent coord)\n   *     3. Traslate (with el.position by this method)\n   * So this method only fixes the last step 'Traslate', which does not affect\n   * scaling and rotating.\n   *\n   * If be called repeatly with the same input el, the same result will be gotten.\n   *\n   * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.left]\n   * @param {number|string} [positionInfo.top]\n   * @param {number|string} [positionInfo.right]\n   * @param {number|string} [positionInfo.bottom]\n   * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n   * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n   * @param {Object} containerRect\n   * @param {string|number} margin\n   * @param {Object} [opt]\n   * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n   * @param {Array.<number>} [opt.boundingMode='all']\n   *        Specify how to calculate boundingRect when locating.\n   *        'all': Position the boundingRect that is transformed and uioned\n   *               both itself and its descendants.\n   *               This mode simplies confine the elements in the bounding\n   *               of their container (e.g., using 'right: 0').\n   *        'raw': Position the boundingRect that is not transformed and only itself.\n   *               This mode is useful when you want a element can overflow its\n   *               container. (Consider a rotated circle needs to be located in a corner.)\n   *               In this mode positionInfo.width/height can only be number.\n   */\n\n\n  function positionElement(el, positionInfo, containerRect, margin, opt) {\n    var h = !opt || !opt.hv || opt.hv[0];\n    var v = !opt || !opt.hv || opt.hv[1];\n    var boundingMode = opt && opt.boundingMode || 'all';\n\n    if (!h && !v) {\n      return;\n    }\n\n    var rect;\n\n    if (boundingMode === 'raw') {\n      rect = el.type === 'group' ? new BoundingRect_1(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n    } else {\n      rect = el.getBoundingRect();\n\n      if (el.needLocalTransform()) {\n        var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n        // which should not be modified.\n\n        rect = rect.clone();\n        rect.applyTransform(transform);\n      }\n    } // The real width and height can not be specified but calculated by the given el.\n\n\n    positionInfo = getLayoutRect(util.defaults({\n      width: rect.width,\n      height: rect.height\n    }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n    // (see zrender/core/Transformable#getLocalTransform),\n    // we can just only modify el.position to get final result.\n\n    var elPos = el.position;\n    var dx = h ? positionInfo.x - rect.x : 0;\n    var dy = v ? positionInfo.y - rect.y : 0;\n    el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n  }\n  /**\n   * @param {Object} option Contains some of the properties in HV_NAMES.\n   * @param {number} hvIdx 0: horizontal; 1: vertical.\n   */\n\n\n  function sizeCalculable(option, hvIdx) {\n    return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n  }\n  /**\n   * Consider Case:\n   * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n   * through setOption or media query, using normal zrUtil.merge will cause\n   * {right: 0} does not take effect.\n   *\n   * @example\n   * ComponentModel.extend({\n   *     init: function () {\n   *         ...\n   *         var inputPositionParams = layout.getLayoutParams(option);\n   *         this.mergeOption(inputPositionParams);\n   *     },\n   *     mergeOption: function (newOption) {\n   *         newOption && zrUtil.merge(thisOption, newOption, true);\n   *         layout.mergeLayoutParam(thisOption, newOption);\n   *     }\n   * });\n   *\n   * @param {Object} targetOption\n   * @param {Object} newOption\n   * @param {Object|string} [opt]\n   * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n   *  that width (or height) should not be calculated by left and right (or top and bottom).\n   */\n\n\n  function mergeLayoutParam(targetOption, newOption, opt) {\n    !util.isObject(opt) && (opt = {});\n    var ignoreSize = opt.ignoreSize;\n    !util.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n    var hResult = merge(HV_NAMES[0], 0);\n    var vResult = merge(HV_NAMES[1], 1);\n    copy(HV_NAMES[0], targetOption, hResult);\n    copy(HV_NAMES[1], targetOption, vResult);\n\n    function merge(names, hvIdx) {\n      var newParams = {};\n      var newValueCount = 0;\n      var merged = {};\n      var mergedValueCount = 0;\n      var enoughParamNumber = 2;\n      each$3(names, function (name) {\n        merged[name] = targetOption[name];\n      });\n      each$3(names, function (name) {\n        // Consider case: newOption.width is null, which is\n        // set by user for removing width setting.\n        hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n        hasValue(newParams, name) && newValueCount++;\n        hasValue(merged, name) && mergedValueCount++;\n      });\n\n      if (ignoreSize[hvIdx]) {\n        // Only one of left/right is premitted to exist.\n        if (hasValue(newOption, names[1])) {\n          merged[names[2]] = null;\n        } else if (hasValue(newOption, names[2])) {\n          merged[names[1]] = null;\n        }\n\n        return merged;\n      } // Case: newOption: {width: ..., right: ...},\n      // or targetOption: {right: ...} and newOption: {width: ...},\n      // There is no conflict when merged only has params count\n      // little than enoughParamNumber.\n\n\n      if (mergedValueCount === enoughParamNumber || !newValueCount) {\n        return merged;\n      } // Case: newOption: {width: ..., right: ...},\n      // Than we can make sure user only want those two, and ignore\n      // all origin params in targetOption.\n      else if (newValueCount >= enoughParamNumber) {\n          return newParams;\n        } else {\n          // Chose another param from targetOption by priority.\n          for (var i = 0; i < names.length; i++) {\n            var name = names[i];\n\n            if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n              newParams[name] = targetOption[name];\n              break;\n            }\n          }\n\n          return newParams;\n        }\n    }\n\n    function hasProp(obj, name) {\n      return obj.hasOwnProperty(name);\n    }\n\n    function hasValue(obj, name) {\n      return obj[name] != null && obj[name] !== 'auto';\n    }\n\n    function copy(names, target, source) {\n      each$3(names, function (name) {\n        target[name] = source[name];\n      });\n    }\n  }\n  /**\n   * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n   * @param {Object} source\n   * @return {Object} Result contains those props.\n   */\n\n\n  function getLayoutParams(source) {\n    return copyLayoutParams({}, source);\n  }\n  /**\n   * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n   * @param {Object} source\n   * @return {Object} Result contains those props.\n   */\n\n\n  function copyLayoutParams(target, source) {\n    source && target && each$3(LOCATION_PARAMS, function (name) {\n      source.hasOwnProperty(name) && (target[name] = source[name]);\n    });\n    return target;\n  }\n\n  var LOCATION_PARAMS_1 = LOCATION_PARAMS;\n  var HV_NAMES_1 = HV_NAMES;\n  var box_1 = box;\n  var vbox_1 = vbox;\n  var hbox_1 = hbox;\n  var getAvailableSize_1 = getAvailableSize;\n  var getLayoutRect_1 = getLayoutRect;\n  var positionElement_1 = positionElement;\n  var sizeCalculable_1 = sizeCalculable;\n  var mergeLayoutParam_1 = mergeLayoutParam;\n  var getLayoutParams_1 = getLayoutParams;\n  var copyLayoutParams_1 = copyLayoutParams;\n\n  var layout = {\n  \tLOCATION_PARAMS: LOCATION_PARAMS_1,\n  \tHV_NAMES: HV_NAMES_1,\n  \tbox: box_1,\n  \tvbox: vbox_1,\n  \thbox: hbox_1,\n  \tgetAvailableSize: getAvailableSize_1,\n  \tgetLayoutRect: getLayoutRect_1,\n  \tpositionElement: positionElement_1,\n  \tsizeCalculable: sizeCalculable_1,\n  \tmergeLayoutParam: mergeLayoutParam_1,\n  \tgetLayoutParams: getLayoutParams_1,\n  \tcopyLayoutParams: copyLayoutParams_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$T = {\n    getBoxLayoutParams: function () {\n      return {\n        left: this.get('left'),\n        top: this.get('top'),\n        right: this.get('right'),\n        bottom: this.get('bottom'),\n        width: this.get('width'),\n        height: this.get('height')\n      };\n    }\n  };\n  var boxLayout$1 = _default$T;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var enableClassManagement$1 = clazz.enableClassManagement;\n  var parseClassType$2 = clazz.parseClassType;\n\n\n\n  var makeInner$2 = model.makeInner;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Component model\n   *\n   * @module echarts/model/Component\n   */\n  var inner$1 = makeInner$2();\n  /**\n   * @alias module:echarts/model/Component\n   * @constructor\n   * @param {Object} option\n   * @param {module:echarts/model/Model} parentModel\n   * @param {module:echarts/model/Model} ecModel\n   */\n\n  var ComponentModel = Model_1.extend({\n    type: 'component',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    id: '',\n\n    /**\n     * Because simplified concept is probably better, series.name (or component.name)\n     * has been having too many resposibilities:\n     * (1) Generating id (which requires name in option should not be modified).\n     * (2) As an index to mapping series when merging option or calling API (a name\n     * can refer to more then one components, which is convinient is some case).\n     * (3) Display.\n     * @readOnly\n     */\n    name: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    mainType: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    subType: '',\n\n    /**\n     * @readOnly\n     * @type {number}\n     */\n    componentIndex: 0,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n    ecModel: null,\n\n    /**\n     * key: componentType\n     * value:  Component model list, can not be null.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @readOnly\n     */\n    dependentModels: [],\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    uid: null,\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n    $constructor: function (option, parentModel, ecModel, extraOpt) {\n      Model_1.call(this, option, parentModel, ecModel, extraOpt);\n      this.uid = component.getUID('ec_cpt_model');\n    },\n    init: function (option, parentModel, ecModel, extraOpt) {\n      this.mergeDefaultAndTheme(option, ecModel);\n    },\n    mergeDefaultAndTheme: function (option, ecModel) {\n      var layoutMode = this.layoutMode;\n      var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n      var themeModel = ecModel.getTheme();\n      util.merge(option, themeModel.get(this.mainType));\n      util.merge(option, this.getDefaultOption());\n\n      if (layoutMode) {\n        layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n      }\n    },\n    mergeOption: function (option, extraOpt) {\n      util.merge(this.option, option, true);\n      var layoutMode = this.layoutMode;\n\n      if (layoutMode) {\n        layout.mergeLayoutParam(this.option, option, layoutMode);\n      }\n    },\n    // Hooker after init or mergeOption\n    optionUpdated: function (newCptOption, isInit) {},\n    getDefaultOption: function () {\n      var fields = inner$1(this);\n\n      if (!fields.defaultOption) {\n        var optList = [];\n        var Class = this.constructor;\n\n        while (Class) {\n          var opt = Class.prototype.defaultOption;\n          opt && optList.push(opt);\n          Class = Class.superClass;\n        }\n\n        var defaultOption = {};\n\n        for (var i = optList.length - 1; i >= 0; i--) {\n          defaultOption = util.merge(defaultOption, optList[i], true);\n        }\n\n        fields.defaultOption = defaultOption;\n      }\n\n      return fields.defaultOption;\n    },\n    getReferringComponents: function (mainType) {\n      return this.ecModel.queryComponents({\n        mainType: mainType,\n        index: this.get(mainType + 'Index', true),\n        id: this.get(mainType + 'Id', true)\n      });\n    }\n  }); // Reset ComponentModel.extend, add preConstruct.\n  // clazzUtil.enableClassExtend(\n  //     ComponentModel,\n  //     function (option, parentModel, ecModel, extraOpt) {\n  //         // Set dependentModels, componentIndex, name, id, mainType, subType.\n  //         zrUtil.extend(this, extraOpt);\n  //         this.uid = componentUtil.getUID('componentModel');\n  //         // this.setReadOnly([\n  //         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n  //         //     'dependentModels', 'componentIndex'\n  //         // ]);\n  //     }\n  // );\n  // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  enableClassManagement$1(ComponentModel, {\n    registerWhenExtend: true\n  });\n  component.enableSubTypeDefaulter(ComponentModel); // Add capability of ComponentModel.topologicalTravel.\n\n  component.enableTopologicalTravel(ComponentModel, getDependencies);\n\n  function getDependencies(componentType) {\n    var deps = [];\n    util.each(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n      deps = deps.concat(Clazz.prototype.dependencies || []);\n    }); // Ensure main type.\n\n    deps = util.map(deps, function (type) {\n      return parseClassType$2(type).main;\n    }); // Hack dataset for convenience.\n\n    if (componentType !== 'dataset' && util.indexOf(deps, 'dataset') <= 0) {\n      deps.unshift('dataset');\n    }\n\n    return deps;\n  }\n\n  util.mixin(ComponentModel, boxLayout$1);\n  var _default$U = ComponentModel;\n  var Component = _default$U;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var platform = ''; // Navigator not exists in node\n\n  if (typeof navigator !== 'undefined') {\n    platform = navigator.platform || '';\n  }\n\n  var _default$V = {\n    // backgroundColor: 'rgba(0,0,0,0)',\n    // https://dribbble.com/shots/1065960-Infographic-Pie-chart-visualization\n    // color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c', '#dd4444', '#d4df5a', '#cd4870'],\n    // Light colors:\n    // color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'],\n    // color: ['#cc5664', '#9bd6ec', '#ea946e', '#8acaaa', '#f1ec64', '#ee8686', '#a48dc1', '#5da6bc', '#b9dcae'],\n    // Dark colors:\n    color: ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],\n    gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n    // If xAxis and yAxis declared, grid is created by default.\n    // grid: {},\n    textStyle: {\n      // color: '#000',\n      // decoration: 'none',\n      // PENDING\n      fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n      // fontFamily: 'Arial, Verdana, sans-serif',\n      fontSize: 12,\n      fontStyle: 'normal',\n      fontWeight: 'normal'\n    },\n    // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n    // Default is source-over\n    blendMode: null,\n    animation: 'auto',\n    animationDuration: 1000,\n    animationDurationUpdate: 300,\n    animationEasing: 'exponentialOut',\n    animationEasingUpdate: 'cubicOut',\n    animationThreshold: 2000,\n    // Configuration for progressive/incremental rendering\n    progressiveThreshold: 3000,\n    progressive: 400,\n    // Threshold of if use single hover layer to optimize.\n    // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n    // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n    // which is unexpected.\n    // see example <echarts/test/heatmap-large.html>.\n    hoverLayerThreshold: 3000,\n    // See: module:echarts/scale/Time\n    useUTC: false\n  };\n  var globalDefault = _default$V;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var makeInner$3 = model.makeInner;\n  var normalizeToArray$1 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$2 = makeInner$3();\n\n  function getNearestColorPalette(colors, requestColorNum) {\n    var paletteNum = colors.length; // TODO colors must be in order\n\n    for (var i = 0; i < paletteNum; i++) {\n      if (colors[i].length > requestColorNum) {\n        return colors[i];\n      }\n    }\n\n    return colors[paletteNum - 1];\n  }\n\n  var _default$W = {\n    clearColorPalette: function () {\n      inner$2(this).colorIdx = 0;\n      inner$2(this).colorNameMap = {};\n    },\n\n    /**\n     * @param {string} name MUST NOT be null/undefined. Otherwise call this function\n     *                 twise with the same parameters will get different result.\n     * @param {Object} [scope=this]\n     * @param {Object} [requestColorNum]\n     * @return {string} color string.\n     */\n    getColorFromPalette: function (name, scope, requestColorNum) {\n      scope = scope || this;\n      var scopeFields = inner$2(scope);\n      var colorIdx = scopeFields.colorIdx || 0;\n      var colorNameMap = scopeFields.colorNameMap = scopeFields.colorNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n      if (colorNameMap.hasOwnProperty(name)) {\n        return colorNameMap[name];\n      }\n\n      var defaultColorPalette = normalizeToArray$1(this.get('color', true));\n      var layeredColorPalette = this.get('colorLayer', true);\n      var colorPalette = requestColorNum == null || !layeredColorPalette ? defaultColorPalette : getNearestColorPalette(layeredColorPalette, requestColorNum); // In case can't find in layered color palette.\n\n      colorPalette = colorPalette || defaultColorPalette;\n\n      if (!colorPalette || !colorPalette.length) {\n        return;\n      }\n\n      var color = colorPalette[colorIdx];\n\n      if (name) {\n        colorNameMap[name] = color;\n      }\n\n      scopeFields.colorIdx = (colorIdx + 1) % colorPalette.length;\n      return color;\n    }\n  };\n  var colorPalette = _default$W;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Avoid typo.\n  var SOURCE_FORMAT_ORIGINAL = 'original';\n  var SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\n  var SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\n  var SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\n  var SOURCE_FORMAT_UNKNOWN = 'unknown'; // ??? CHANGE A NAME\n\n  var SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\n  var SERIES_LAYOUT_BY_COLUMN = 'column';\n  var SERIES_LAYOUT_BY_ROW = 'row';\n  var SOURCE_FORMAT_ORIGINAL_1 = SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_ARRAY_ROWS_1 = SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_OBJECT_ROWS_1 = SOURCE_FORMAT_OBJECT_ROWS;\n  var SOURCE_FORMAT_KEYED_COLUMNS_1 = SOURCE_FORMAT_KEYED_COLUMNS;\n  var SOURCE_FORMAT_UNKNOWN_1 = SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY_1 = SOURCE_FORMAT_TYPED_ARRAY;\n  var SERIES_LAYOUT_BY_COLUMN_1 = SERIES_LAYOUT_BY_COLUMN;\n  var SERIES_LAYOUT_BY_ROW_1 = SERIES_LAYOUT_BY_ROW;\n\n  var sourceType = {\n  \tSOURCE_FORMAT_ORIGINAL: SOURCE_FORMAT_ORIGINAL_1,\n  \tSOURCE_FORMAT_ARRAY_ROWS: SOURCE_FORMAT_ARRAY_ROWS_1,\n  \tSOURCE_FORMAT_OBJECT_ROWS: SOURCE_FORMAT_OBJECT_ROWS_1,\n  \tSOURCE_FORMAT_KEYED_COLUMNS: SOURCE_FORMAT_KEYED_COLUMNS_1,\n  \tSOURCE_FORMAT_UNKNOWN: SOURCE_FORMAT_UNKNOWN_1,\n  \tSOURCE_FORMAT_TYPED_ARRAY: SOURCE_FORMAT_TYPED_ARRAY_1,\n  \tSERIES_LAYOUT_BY_COLUMN: SERIES_LAYOUT_BY_COLUMN_1,\n  \tSERIES_LAYOUT_BY_ROW: SERIES_LAYOUT_BY_ROW_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$1 = util.createHashMap;\n  var isTypedArray$1 = util.isTypedArray;\n\n\n\n  var enableClassCheck$2 = clazz.enableClassCheck;\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$1 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SERIES_LAYOUT_BY_COLUMN$1 = sourceType.SERIES_LAYOUT_BY_COLUMN;\n  var SOURCE_FORMAT_UNKNOWN$1 = sourceType.SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY$1 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SOURCE_FORMAT_KEYED_COLUMNS$1 = sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * [sourceFormat]\n   *\n   * + \"original\":\n   * This format is only used in series.data, where\n   * itemStyle can be specified in data item.\n   *\n   * + \"arrayRows\":\n   * [\n   *     ['product', 'score', 'amount'],\n   *     ['Matcha Latte', 89.3, 95.8],\n   *     ['Milk Tea', 92.1, 89.4],\n   *     ['Cheese Cocoa', 94.4, 91.2],\n   *     ['Walnut Brownie', 85.4, 76.9]\n   * ]\n   *\n   * + \"objectRows\":\n   * [\n   *     {product: 'Matcha Latte', score: 89.3, amount: 95.8},\n   *     {product: 'Milk Tea', score: 92.1, amount: 89.4},\n   *     {product: 'Cheese Cocoa', score: 94.4, amount: 91.2},\n   *     {product: 'Walnut Brownie', score: 85.4, amount: 76.9}\n   * ]\n   *\n   * + \"keyedColumns\":\n   * {\n   *     'product': ['Matcha Latte', 'Milk Tea', 'Cheese Cocoa', 'Walnut Brownie'],\n   *     'count': [823, 235, 1042, 988],\n   *     'score': [95.8, 81.4, 91.2, 76.9]\n   * }\n   *\n   * + \"typedArray\"\n   *\n   * + \"unknown\"\n   */\n\n  /**\n   * @constructor\n   * @param {Object} fields\n   * @param {string} fields.sourceFormat\n   * @param {Array|Object} fields.fromDataset\n   * @param {Array|Object} [fields.data]\n   * @param {string} [seriesLayoutBy='column']\n   * @param {Array.<Object|string>} [dimensionsDefine]\n   * @param {Objet|HashMap} [encodeDefine]\n   * @param {number} [startIndex=0]\n   * @param {number} [dimensionsDetectCount]\n   */\n  function Source(fields) {\n    /**\n     * @type {boolean}\n     */\n    this.fromDataset = fields.fromDataset;\n    /**\n     * Not null/undefined.\n     * @type {Array|Object}\n     */\n\n    this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$1 ? {} : []);\n    /**\n     * See also \"detectSourceFormat\".\n     * Not null/undefined.\n     * @type {string}\n     */\n\n    this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN$1;\n    /**\n     * 'row' or 'column'\n     * Not null/undefined.\n     * @type {string} seriesLayoutBy\n     */\n\n    this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN$1;\n    /**\n     * dimensions definition in option.\n     * can be null/undefined.\n     * @type {Array.<Object|string>}\n     */\n\n    this.dimensionsDefine = fields.dimensionsDefine;\n    /**\n     * encode definition in option.\n     * can be null/undefined.\n     * @type {Objet|HashMap}\n     */\n\n    this.encodeDefine = fields.encodeDefine && createHashMap$1(fields.encodeDefine);\n    /**\n     * Not null/undefined, uint.\n     * @type {number}\n     */\n\n    this.startIndex = fields.startIndex || 0;\n    /**\n     * Can be null/undefined (when unknown), uint.\n     * @type {number}\n     */\n\n    this.dimensionsDetectCount = fields.dimensionsDetectCount;\n  }\n  /**\n   * Wrap original series data for some compatibility cases.\n   */\n\n\n  Source.seriesDataToSource = function (data) {\n    return new Source({\n      data: data,\n      sourceFormat: isTypedArray$1(data) ? SOURCE_FORMAT_TYPED_ARRAY$1 : SOURCE_FORMAT_ORIGINAL$1,\n      fromDataset: false\n    });\n  };\n\n  enableClassCheck$2(Source);\n  var _default$X = Source;\n  var Source_1 = _default$X;\n\n  var makeInner$4 = model.makeInner;\n  var getDataItemValue$1 = model.getDataItemValue;\n\n\n\n  var createHashMap$2 = util.createHashMap;\n  var each$4 = util.each;\n  var map$1 = util.map;\n  var isArray$4 = util.isArray;\n  var isString$4 = util.isString;\n  var isObject$6 = util.isObject;\n  var isTypedArray$2 = util.isTypedArray;\n  var isArrayLike$3 = util.isArrayLike;\n  var extend$4 = util.extend;\n\n\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$2 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_ARRAY_ROWS$1 = sourceType.SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_OBJECT_ROWS$1 = sourceType.SOURCE_FORMAT_OBJECT_ROWS;\n  var SOURCE_FORMAT_KEYED_COLUMNS$2 = sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n  var SOURCE_FORMAT_UNKNOWN$2 = sourceType.SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY$2 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SERIES_LAYOUT_BY_ROW$1 = sourceType.SERIES_LAYOUT_BY_ROW;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // The result of `guessOrdinal`.\n  var BE_ORDINAL = {\n    Must: 1,\n    // Encounter string but not '-' and not number-like.\n    Might: 2,\n    // Encounter string but number-like.\n    Not: 3 // Other cases\n\n  };\n  var inner$3 = makeInner$4();\n  /**\n   * @see {module:echarts/data/Source}\n   * @param {module:echarts/component/dataset/DatasetModel} datasetModel\n   * @return {string} sourceFormat\n   */\n\n  function detectSourceFormat(datasetModel) {\n    var data = datasetModel.option.source;\n    var sourceFormat = SOURCE_FORMAT_UNKNOWN$2;\n\n    if (isTypedArray$2(data)) {\n      sourceFormat = SOURCE_FORMAT_TYPED_ARRAY$2;\n    } else if (isArray$4(data)) {\n      // FIXME Whether tolerate null in top level array?\n      if (data.length === 0) {\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS$1;\n      }\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var item = data[i];\n\n        if (item == null) {\n          continue;\n        } else if (isArray$4(item)) {\n          sourceFormat = SOURCE_FORMAT_ARRAY_ROWS$1;\n          break;\n        } else if (isObject$6(item)) {\n          sourceFormat = SOURCE_FORMAT_OBJECT_ROWS$1;\n          break;\n        }\n      }\n    } else if (isObject$6(data)) {\n      for (var key in data) {\n        if (data.hasOwnProperty(key) && isArrayLike$3(data[key])) {\n          sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS$2;\n          break;\n        }\n      }\n    } else if (data != null) {\n      throw new Error('Invalid data');\n    }\n\n    inner$3(datasetModel).sourceFormat = sourceFormat;\n  }\n  /**\n   * [Scenarios]:\n   * (1) Provide source data directly:\n   *     series: {\n   *         encode: {...},\n   *         dimensions: [...]\n   *         seriesLayoutBy: 'row',\n   *         data: [[...]]\n   *     }\n   * (2) Refer to datasetModel.\n   *     series: [{\n   *         encode: {...}\n   *         // Ignore datasetIndex means `datasetIndex: 0`\n   *         // and the dimensions defination in dataset is used\n   *     }, {\n   *         encode: {...},\n   *         seriesLayoutBy: 'column',\n   *         datasetIndex: 1\n   *     }]\n   *\n   * Get data from series itself or datset.\n   * @return {module:echarts/data/Source} source\n   */\n\n\n  function getSource(seriesModel) {\n    return inner$3(seriesModel).source;\n  }\n  /**\n   * MUST be called before mergeOption of all series.\n   * @param {module:echarts/model/Global} ecModel\n   */\n\n\n  function resetSourceDefaulter(ecModel) {\n    // `datasetMap` is used to make default encode.\n    inner$3(ecModel).datasetMap = createHashMap$2();\n  }\n  /**\n   * [Caution]:\n   * MUST be called after series option merged and\n   * before \"series.getInitailData()\" called.\n   *\n   * [The rule of making default encode]:\n   * Category axis (if exists) alway map to the first dimension.\n   * Each other axis occupies a subsequent dimension.\n   *\n   * [Why make default encode]:\n   * Simplify the typing of encode in option, avoiding the case like that:\n   * series: [{encode: {x: 0, y: 1}}, {encode: {x: 0, y: 2}}, {encode: {x: 0, y: 3}}],\n   * where the \"y\" have to be manually typed as \"1, 2, 3, ...\".\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   */\n\n\n  function prepareSource(seriesModel) {\n    var seriesOption = seriesModel.option;\n    var data = seriesOption.data;\n    var sourceFormat = isTypedArray$2(data) ? SOURCE_FORMAT_TYPED_ARRAY$2 : SOURCE_FORMAT_ORIGINAL$2;\n    var fromDataset = false;\n    var seriesLayoutBy = seriesOption.seriesLayoutBy;\n    var sourceHeader = seriesOption.sourceHeader;\n    var dimensionsDefine = seriesOption.dimensions;\n    var datasetModel = getDatasetModel(seriesModel);\n\n    if (datasetModel) {\n      var datasetOption = datasetModel.option;\n      data = datasetOption.source;\n      sourceFormat = inner$3(datasetModel).sourceFormat;\n      fromDataset = true; // These settings from series has higher priority.\n\n      seriesLayoutBy = seriesLayoutBy || datasetOption.seriesLayoutBy;\n      sourceHeader == null && (sourceHeader = datasetOption.sourceHeader);\n      dimensionsDefine = dimensionsDefine || datasetOption.dimensions;\n    }\n\n    var completeResult = completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine);\n    inner$3(seriesModel).source = new Source_1({\n      data: data,\n      fromDataset: fromDataset,\n      seriesLayoutBy: seriesLayoutBy,\n      sourceFormat: sourceFormat,\n      dimensionsDefine: completeResult.dimensionsDefine,\n      startIndex: completeResult.startIndex,\n      dimensionsDetectCount: completeResult.dimensionsDetectCount,\n      // Note: dataset option does not have `encode`.\n      encodeDefine: seriesOption.encode\n    });\n  } // return {startIndex, dimensionsDefine, dimensionsCount}\n\n\n  function completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine) {\n    if (!data) {\n      return {\n        dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine)\n      };\n    }\n\n    var dimensionsDetectCount;\n    var startIndex;\n\n    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$1) {\n      // Rule: Most of the first line are string: it is header.\n      // Caution: consider a line with 5 string and 1 number,\n      // it still can not be sure it is a head, because the\n      // 5 string may be 5 values of category columns.\n      if (sourceHeader === 'auto' || sourceHeader == null) {\n        arrayRowsTravelFirst(function (val) {\n          // '-' is regarded as null/undefined.\n          if (val != null && val !== '-') {\n            if (isString$4(val)) {\n              startIndex == null && (startIndex = 1);\n            } else {\n              startIndex = 0;\n            }\n          } // 10 is an experience number, avoid long loop.\n\n        }, seriesLayoutBy, data, 10);\n      } else {\n        startIndex = sourceHeader ? 1 : 0;\n      }\n\n      if (!dimensionsDefine && startIndex === 1) {\n        dimensionsDefine = [];\n        arrayRowsTravelFirst(function (val, index) {\n          dimensionsDefine[index] = val != null ? val : '';\n        }, seriesLayoutBy, data);\n      }\n\n      dimensionsDetectCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1 ? data.length : data[0] ? data[0].length : null;\n    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1) {\n      if (!dimensionsDefine) {\n        dimensionsDefine = objectRowsCollectDimensions(data);\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      if (!dimensionsDefine) {\n        dimensionsDefine = [];\n        each$4(data, function (colArr, key) {\n          dimensionsDefine.push(key);\n        });\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL$2) {\n      var value0 = getDataItemValue$1(data[0]);\n      dimensionsDetectCount = isArray$4(value0) && value0.length || 1;\n    } else ;\n\n    return {\n      startIndex: startIndex,\n      dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine),\n      dimensionsDetectCount: dimensionsDetectCount\n    };\n  } // Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\n  // which is reasonable. But dimension name is duplicated.\n  // Returns undefined or an array contains only object without null/undefiend or string.\n\n\n  function normalizeDimensionsDefine(dimensionsDefine) {\n    if (!dimensionsDefine) {\n      // The meaning of null/undefined is different from empty array.\n      return;\n    }\n\n    var nameMap = createHashMap$2();\n    return map$1(dimensionsDefine, function (item, index) {\n      item = extend$4({}, isObject$6(item) ? item : {\n        name: item\n      }); // User can set null in dimensions.\n      // We dont auto specify name, othewise a given name may\n      // cause it be refered unexpectedly.\n\n      if (item.name == null) {\n        return item;\n      } // Also consider number form like 2012.\n\n\n      item.name += ''; // User may also specify displayName.\n      // displayName will always exists except user not\n      // specified or dim name is not specified or detected.\n      // (A auto generated dim name will not be used as\n      // displayName).\n\n      if (item.displayName == null) {\n        item.displayName = item.name;\n      }\n\n      var exist = nameMap.get(item.name);\n\n      if (!exist) {\n        nameMap.set(item.name, {\n          count: 1\n        });\n      } else {\n        item.name += '-' + exist.count++;\n      }\n\n      return item;\n    });\n  }\n\n  function arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\n    maxLoop == null && (maxLoop = Infinity);\n\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1) {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        cb(data[i] ? data[i][0] : null, i);\n      }\n    } else {\n      var value0 = data[0] || [];\n\n      for (var i = 0; i < value0.length && i < maxLoop; i++) {\n        cb(value0[i], i);\n      }\n    }\n  }\n\n  function objectRowsCollectDimensions(data) {\n    var firstIndex = 0;\n    var obj;\n\n    while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\n\n\n    if (obj) {\n      var dimensions = [];\n      each$4(obj, function (value, key) {\n        dimensions.push(key);\n      });\n      return dimensions;\n    }\n  }\n  /**\n   * [The strategy of the arrengment of data dimensions for dataset]:\n   * \"value way\": all axes are non-category axes. So series one by one take\n   *     several (the number is coordSysDims.length) dimensions from dataset.\n   *     The result of data arrengment of data dimensions like:\n   *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |\n   * \"category way\": at least one axis is category axis. So the the first data\n   *     dimension is always mapped to the first category axis and shared by\n   *     all of the series. The other data dimensions are taken by series like\n   *     \"value way\" does.\n   *     The result of data arrengment of data dimensions like:\n   *     | ser_shared_x | ser0_y | ser1_y | ser2_y |\n   *\n   * @param {Array.<Object|string>} coordDimensions [{name: <string>, type: <string>, dimsDef: <Array>}, ...]\n   * @param {module:model/Series} seriesModel\n   * @param {module:data/Source} source\n   * @return {Object} encode Never be `null/undefined`.\n   */\n\n\n  function makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {\n    var encode = {};\n    var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n    if (!datasetModel || !coordDimensions) {\n      return encode;\n    }\n\n    var encodeItemName = [];\n    var encodeSeriesName = [];\n    var ecModel = seriesModel.ecModel;\n    var datasetMap = inner$3(ecModel).datasetMap;\n    var key = datasetModel.uid + '_' + source.seriesLayoutBy;\n    var baseCategoryDimIndex;\n    var categoryWayValueDimStart;\n    coordDimensions = coordDimensions.slice();\n    each$4(coordDimensions, function (coordDimInfo, coordDimIdx) {\n      !isObject$6(coordDimInfo) && (coordDimensions[coordDimIdx] = {\n        name: coordDimInfo\n      });\n\n      if (coordDimInfo.type === 'ordinal' && baseCategoryDimIndex == null) {\n        baseCategoryDimIndex = coordDimIdx;\n        categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimensions[coordDimIdx]);\n      }\n\n      encode[coordDimInfo.name] = [];\n    });\n    var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\n      categoryWayDim: categoryWayValueDimStart,\n      valueWayDim: 0\n    }); // TODO\n    // Auto detect first time axis and do arrangement.\n\n    each$4(coordDimensions, function (coordDimInfo, coordDimIdx) {\n      var coordDimName = coordDimInfo.name;\n      var count = getDataDimCountOnCoordDim(coordDimInfo); // In value way.\n\n      if (baseCategoryDimIndex == null) {\n        var start = datasetRecord.valueWayDim;\n        pushDim(encode[coordDimName], start, count);\n        pushDim(encodeSeriesName, start, count);\n        datasetRecord.valueWayDim += count; // ??? TODO give a better default series name rule?\n        // especially when encode x y specified.\n        // consider: when mutiple series share one dimension\n        // category axis, series name should better use\n        // the other dimsion name. On the other hand, use\n        // both dimensions name.\n      } // In category way, the first category axis.\n      else if (baseCategoryDimIndex === coordDimIdx) {\n          pushDim(encode[coordDimName], 0, count);\n          pushDim(encodeItemName, 0, count);\n        } // In category way, the other axis.\n        else {\n            var start = datasetRecord.categoryWayDim;\n            pushDim(encode[coordDimName], start, count);\n            pushDim(encodeSeriesName, start, count);\n            datasetRecord.categoryWayDim += count;\n          }\n    });\n\n    function pushDim(dimIdxArr, idxFrom, idxCount) {\n      for (var i = 0; i < idxCount; i++) {\n        dimIdxArr.push(idxFrom + i);\n      }\n    }\n\n    function getDataDimCountOnCoordDim(coordDimInfo) {\n      var dimsDef = coordDimInfo.dimsDef;\n      return dimsDef ? dimsDef.length : 1;\n    }\n\n    encodeItemName.length && (encode.itemName = encodeItemName);\n    encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\n    return encode;\n  }\n  /**\n   * Work for data like [{name: ..., value: ...}, ...].\n   *\n   * @param {module:model/Series} seriesModel\n   * @param {module:data/Source} source\n   * @return {Object} encode Never be `null/undefined`.\n   */\n\n\n  function makeSeriesEncodeForNameBased(seriesModel, source, dimCount) {\n    var encode = {};\n    var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n    if (!datasetModel) {\n      return encode;\n    }\n\n    var sourceFormat = source.sourceFormat;\n    var dimensionsDefine = source.dimensionsDefine;\n    var potentialNameDimIndex;\n\n    if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1 || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      each$4(dimensionsDefine, function (dim, idx) {\n        if ((isObject$6(dim) ? dim.name : dim) === 'name') {\n          potentialNameDimIndex = idx;\n        }\n      });\n    } // idxResult: {v, n}.\n\n\n    var idxResult = function () {\n      var idxRes0 = {};\n      var idxRes1 = {};\n      var guessRecords = []; // 5 is an experience value.\n\n      for (var i = 0, len = Math.min(5, dimCount); i < len; i++) {\n        var guessResult = doGuessOrdinal(source.data, sourceFormat, source.seriesLayoutBy, dimensionsDefine, source.startIndex, i);\n        guessRecords.push(guessResult);\n        var isPureNumber = guessResult === BE_ORDINAL.Not; // [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,\n        // and then find a name dim with the priority:\n        // \"BE_ORDINAL.Might|BE_ORDINAL.Must\" > \"other dim\" > \"the value dim itself\".\n\n        if (isPureNumber && idxRes0.v == null && i !== potentialNameDimIndex) {\n          idxRes0.v = i;\n        }\n\n        if (idxRes0.n == null || idxRes0.n === idxRes0.v || !isPureNumber && guessRecords[idxRes0.n] === BE_ORDINAL.Not) {\n          idxRes0.n = i;\n        }\n\n        if (fulfilled(idxRes0) && guessRecords[idxRes0.n] !== BE_ORDINAL.Not) {\n          return idxRes0;\n        } // [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),\n        // find the first BE_ORDINAL.Might as the value dim,\n        // and then find a name dim with the priority:\n        // \"other dim\" > \"the value dim itself\".\n        // That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be\n        // treated as number.\n\n\n        if (!isPureNumber) {\n          if (guessResult === BE_ORDINAL.Might && idxRes1.v == null && i !== potentialNameDimIndex) {\n            idxRes1.v = i;\n          }\n\n          if (idxRes1.n == null || idxRes1.n === idxRes1.v) {\n            idxRes1.n = i;\n          }\n        }\n      }\n\n      function fulfilled(idxResult) {\n        return idxResult.v != null && idxResult.n != null;\n      }\n\n      return fulfilled(idxRes0) ? idxRes0 : fulfilled(idxRes1) ? idxRes1 : null;\n    }();\n\n    if (idxResult) {\n      encode.value = idxResult.v; // `potentialNameDimIndex` has highest priority.\n\n      var nameDimIndex = potentialNameDimIndex != null ? potentialNameDimIndex : idxResult.n; // By default, label use itemName in charts.\n      // So we dont set encodeLabel here.\n\n      encode.itemName = [nameDimIndex];\n      encode.seriesName = [nameDimIndex];\n    }\n\n    return encode;\n  }\n  /**\n   * If return null/undefined, indicate that should not use datasetModel.\n   */\n\n\n  function getDatasetModel(seriesModel) {\n    var option = seriesModel.option; // Caution: consider the scenario:\n    // A dataset is declared and a series is not expected to use the dataset,\n    // and at the beginning `setOption({series: { noData })` (just prepare other\n    // option but no data), then `setOption({series: {data: [...]}); In this case,\n    // the user should set an empty array to avoid that dataset is used by default.\n\n    var thisData = option.data;\n\n    if (!thisData) {\n      return seriesModel.ecModel.getComponent('dataset', option.datasetIndex || 0);\n    }\n  }\n  /**\n   * The rule should not be complex, otherwise user might not\n   * be able to known where the data is wrong.\n   * The code is ugly, but how to make it neat?\n   *\n   * @param {module:echars/data/Source} source\n   * @param {number} dimIndex\n   * @return {BE_ORDINAL} guess result.\n   */\n\n\n  function guessOrdinal(source, dimIndex) {\n    return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\n  } // dimIndex may be overflow source data.\n  // return {BE_ORDINAL}\n\n\n  function doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\n    var result; // Experience value.\n\n    var maxLoop = 5;\n\n    if (isTypedArray$2(data)) {\n      return BE_ORDINAL.Not;\n    } // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\n    // always exists in source.\n\n\n    var dimName;\n    var dimType;\n\n    if (dimensionsDefine) {\n      var dimDefItem = dimensionsDefine[dimIndex];\n\n      if (isObject$6(dimDefItem)) {\n        dimName = dimDefItem.name;\n        dimType = dimDefItem.type;\n      } else if (isString$4(dimDefItem)) {\n        dimName = dimDefItem;\n      }\n    }\n\n    if (dimType != null) {\n      return dimType === 'ordinal' ? BE_ORDINAL.Must : BE_ORDINAL.Not;\n    }\n\n    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$1) {\n      if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1) {\n        var sample = data[dimIndex];\n\n        for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\n          if ((result = detectValue(sample[startIndex + i])) != null) {\n            return result;\n          }\n        }\n      } else {\n        for (var i = 0; i < data.length && i < maxLoop; i++) {\n          var row = data[startIndex + i];\n\n          if (row && (result = detectValue(row[dimIndex])) != null) {\n            return result;\n          }\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1) {\n      if (!dimName) {\n        return BE_ORDINAL.Not;\n      }\n\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var item = data[i];\n\n        if (item && (result = detectValue(item[dimName])) != null) {\n          return result;\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      if (!dimName) {\n        return BE_ORDINAL.Not;\n      }\n\n      var sample = data[dimName];\n\n      if (!sample || isTypedArray$2(sample)) {\n        return BE_ORDINAL.Not;\n      }\n\n      for (var i = 0; i < sample.length && i < maxLoop; i++) {\n        if ((result = detectValue(sample[i])) != null) {\n          return result;\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL$2) {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var item = data[i];\n        var val = getDataItemValue$1(item);\n\n        if (!isArray$4(val)) {\n          return BE_ORDINAL.Not;\n        }\n\n        if ((result = detectValue(val[dimIndex])) != null) {\n          return result;\n        }\n      }\n    }\n\n    function detectValue(val) {\n      var beStr = isString$4(val); // Consider usage convenience, '1', '2' will be treated as \"number\".\n      // `isFinit('')` get `true`.\n\n      if (val != null && isFinite(val) && val !== '') {\n        return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;\n      } else if (beStr && val !== '-') {\n        return BE_ORDINAL.Must;\n      }\n    }\n\n    return BE_ORDINAL.Not;\n  }\n\n  var BE_ORDINAL_1 = BE_ORDINAL;\n  var detectSourceFormat_1 = detectSourceFormat;\n  var getSource_1 = getSource;\n  var resetSourceDefaulter_1 = resetSourceDefaulter;\n  var prepareSource_1 = prepareSource;\n  var makeSeriesEncodeForAxisCoordSys_1 = makeSeriesEncodeForAxisCoordSys;\n  var makeSeriesEncodeForNameBased_1 = makeSeriesEncodeForNameBased;\n  var guessOrdinal_1 = guessOrdinal;\n\n  var sourceHelper = {\n  \tBE_ORDINAL: BE_ORDINAL_1,\n  \tdetectSourceFormat: detectSourceFormat_1,\n  \tgetSource: getSource_1,\n  \tresetSourceDefaulter: resetSourceDefaulter_1,\n  \tprepareSource: prepareSource_1,\n  \tmakeSeriesEncodeForAxisCoordSys: makeSeriesEncodeForAxisCoordSys_1,\n  \tmakeSeriesEncodeForNameBased: makeSeriesEncodeForNameBased_1,\n  \tguessOrdinal: guessOrdinal_1\n  };\n\n  var each$5 = util.each;\n  var filter$1 = util.filter;\n  var map$2 = util.map;\n  var isArray$5 = util.isArray;\n  var indexOf$3 = util.indexOf;\n  var isObject$7 = util.isObject;\n  var isString$5 = util.isString;\n  var createHashMap$3 = util.createHashMap;\n  var assert$1 = util.assert;\n  var clone$4 = util.clone;\n  var merge$1 = util.merge;\n  var extend$5 = util.extend;\n  var mixin$2 = util.mixin;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var resetSourceDefaulter$1 = sourceHelper.resetSourceDefaulter;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * ECharts global model\n   *\n   * @module {echarts/model/Global}\n   */\n\n  /**\n   * Caution: If the mechanism should be changed some day, these cases\n   * should be considered:\n   *\n   * (1) In `merge option` mode, if using the same option to call `setOption`\n   * many times, the result should be the same (try our best to ensure that).\n   * (2) In `merge option` mode, if a component has no id/name specified, it\n   * will be merged by index, and the result sequence of the components is\n   * consistent to the original sequence.\n   * (3) `reset` feature (in toolbox). Find detailed info in comments about\n   * `mergeOption` in module:echarts/model/OptionManager.\n   */\n  var OPTION_INNER_KEY = '\\0_ec_inner';\n  /**\n   * @alias module:echarts/model/Global\n   *\n   * @param {Object} option\n   * @param {module:echarts/model/Model} parentModel\n   * @param {Object} theme\n   */\n\n  var GlobalModel = Model_1.extend({\n    init: function (option, parentModel, theme, optionManager) {\n      theme = theme || {};\n      this.option = null; // Mark as not initialized.\n\n      /**\n       * @type {module:echarts/model/Model}\n       * @private\n       */\n\n      this._theme = new Model_1(theme);\n      /**\n       * @type {module:echarts/model/OptionManager}\n       */\n\n      this._optionManager = optionManager;\n    },\n    setOption: function (option, optionPreprocessorFuncs) {\n      assert$1(!(OPTION_INNER_KEY in option), 'please use chart.getOption()');\n\n      this._optionManager.setOption(option, optionPreprocessorFuncs);\n\n      this.resetOption(null);\n    },\n\n    /**\n     * @param {string} type null/undefined: reset all.\n     *                      'recreate': force recreate all.\n     *                      'timeline': only reset timeline option\n     *                      'media': only reset media query option\n     * @return {boolean} Whether option changed.\n     */\n    resetOption: function (type) {\n      var optionChanged = false;\n      var optionManager = this._optionManager;\n\n      if (!type || type === 'recreate') {\n        var baseOption = optionManager.mountOption(type === 'recreate');\n\n        if (!this.option || type === 'recreate') {\n          initBase.call(this, baseOption);\n        } else {\n          this.restoreData();\n          this.mergeOption(baseOption);\n        }\n\n        optionChanged = true;\n      }\n\n      if (type === 'timeline' || type === 'media') {\n        this.restoreData();\n      }\n\n      if (!type || type === 'recreate' || type === 'timeline') {\n        var timelineOption = optionManager.getTimelineOption(this);\n        timelineOption && (this.mergeOption(timelineOption), optionChanged = true);\n      }\n\n      if (!type || type === 'recreate' || type === 'media') {\n        var mediaOptions = optionManager.getMediaOption(this, this._api);\n\n        if (mediaOptions.length) {\n          each$5(mediaOptions, function (mediaOption) {\n            this.mergeOption(mediaOption, optionChanged = true);\n          }, this);\n        }\n      }\n\n      return optionChanged;\n    },\n\n    /**\n     * @protected\n     */\n    mergeOption: function (newOption) {\n      var option = this.option;\n      var componentsMap = this._componentsMap;\n      var newCptTypes = [];\n      resetSourceDefaulter$1(this); // If no component class, merge directly.\n      // For example: color, animaiton options, etc.\n\n      each$5(newOption, function (componentOption, mainType) {\n        if (componentOption == null) {\n          return;\n        }\n\n        if (!Component.hasClass(mainType)) {\n          // globalSettingTask.dirty();\n          option[mainType] = option[mainType] == null ? clone$4(componentOption) : merge$1(option[mainType], componentOption, true);\n        } else if (mainType) {\n          newCptTypes.push(mainType);\n        }\n      });\n      Component.topologicalTravel(newCptTypes, Component.getAllClassMainTypes(), visitComponent, this);\n\n      function visitComponent(mainType, dependencies) {\n        var newCptOptionList = model.normalizeToArray(newOption[mainType]);\n        var mapResult = model.mappingToExists(componentsMap.get(mainType), newCptOptionList);\n        model.makeIdAndName(mapResult); // Set mainType and complete subType.\n\n        each$5(mapResult, function (item, index) {\n          var opt = item.option;\n\n          if (isObject$7(opt)) {\n            item.keyInfo.mainType = mainType;\n            item.keyInfo.subType = determineSubType(mainType, opt, item.exist);\n          }\n        });\n        var dependentModels = getComponentsByTypes(componentsMap, dependencies);\n        option[mainType] = [];\n        componentsMap.set(mainType, []);\n        each$5(mapResult, function (resultItem, index) {\n          var componentModel = resultItem.exist;\n          var newCptOption = resultItem.option;\n          assert$1(isObject$7(newCptOption) || componentModel, 'Empty component definition'); // Consider where is no new option and should be merged using {},\n          // see removeEdgeAndAdd in topologicalTravel and\n          // ComponentModel.getAllClassMainTypes.\n\n          if (!newCptOption) {\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          } else {\n            var ComponentModelClass = Component.getClass(mainType, resultItem.keyInfo.subType, true);\n\n            if (componentModel && componentModel.constructor === ComponentModelClass) {\n              componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n              componentModel.mergeOption(newCptOption, this);\n              componentModel.optionUpdated(newCptOption, false);\n            } else {\n              // PENDING Global as parent ?\n              var extraOpt = extend$5({\n                dependentModels: dependentModels,\n                componentIndex: index\n              }, resultItem.keyInfo);\n              componentModel = new ComponentModelClass(newCptOption, this, this, extraOpt);\n              extend$5(componentModel, extraOpt);\n              componentModel.init(newCptOption, this, this, extraOpt); // Call optionUpdated after init.\n              // newCptOption has been used as componentModel.option\n              // and may be merged with theme and default, so pass null\n              // to avoid confusion.\n\n              componentModel.optionUpdated(null, true);\n            }\n          }\n\n          componentsMap.get(mainType)[index] = componentModel;\n          option[mainType][index] = componentModel.option;\n        }, this); // Backup series for filtering.\n\n        if (mainType === 'series') {\n          createSeriesIndices(this, componentsMap.get('series'));\n        }\n      }\n\n      this._seriesIndicesMap = createHashMap$3(this._seriesIndices = this._seriesIndices || []);\n    },\n\n    /**\n     * Get option for output (cloned option and inner info removed)\n     * @public\n     * @return {Object}\n     */\n    getOption: function () {\n      var option = clone$4(this.option);\n      each$5(option, function (opts, mainType) {\n        if (Component.hasClass(mainType)) {\n          var opts = model.normalizeToArray(opts);\n\n          for (var i = opts.length - 1; i >= 0; i--) {\n            // Remove options with inner id.\n            if (model.isIdInner(opts[i])) {\n              opts.splice(i, 1);\n            }\n          }\n\n          option[mainType] = opts;\n        }\n      });\n      delete option[OPTION_INNER_KEY];\n      return option;\n    },\n\n    /**\n     * @return {module:echarts/model/Model}\n     */\n    getTheme: function () {\n      return this._theme;\n    },\n\n    /**\n     * @param {string} mainType\n     * @param {number} [idx=0]\n     * @return {module:echarts/model/Component}\n     */\n    getComponent: function (mainType, idx) {\n      var list = this._componentsMap.get(mainType);\n\n      if (list) {\n        return list[idx || 0];\n      }\n    },\n\n    /**\n     * If none of index and id and name used, return all components with mainType.\n     * @param {Object} condition\n     * @param {string} condition.mainType\n     * @param {string} [condition.subType] If ignore, only query by mainType\n     * @param {number|Array.<number>} [condition.index] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.id] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.name] Either input index or id or name.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    queryComponents: function (condition) {\n      var mainType = condition.mainType;\n\n      if (!mainType) {\n        return [];\n      }\n\n      var index = condition.index;\n      var id = condition.id;\n      var name = condition.name;\n\n      var cpts = this._componentsMap.get(mainType);\n\n      if (!cpts || !cpts.length) {\n        return [];\n      }\n\n      var result;\n\n      if (index != null) {\n        if (!isArray$5(index)) {\n          index = [index];\n        }\n\n        result = filter$1(map$2(index, function (idx) {\n          return cpts[idx];\n        }), function (val) {\n          return !!val;\n        });\n      } else if (id != null) {\n        var isIdArray = isArray$5(id);\n        result = filter$1(cpts, function (cpt) {\n          return isIdArray && indexOf$3(id, cpt.id) >= 0 || !isIdArray && cpt.id === id;\n        });\n      } else if (name != null) {\n        var isNameArray = isArray$5(name);\n        result = filter$1(cpts, function (cpt) {\n          return isNameArray && indexOf$3(name, cpt.name) >= 0 || !isNameArray && cpt.name === name;\n        });\n      } else {\n        // Return all components with mainType\n        result = cpts.slice();\n      }\n\n      return filterBySubType(result, condition);\n    },\n\n    /**\n     * The interface is different from queryComponents,\n     * which is convenient for inner usage.\n     *\n     * @usage\n     * var result = findComponents(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series',\n     *     filter: function (model, index) {...}}\n     * );\n     * // result like [component0, componnet1, ...]\n     *\n     * @param {Object} condition\n     * @param {string} condition.mainType Mandatory.\n     * @param {string} [condition.subType] Optional.\n     * @param {Object} [condition.query] like {xxxIndex, xxxId, xxxName},\n     *        where xxx is mainType.\n     *        If query attribute is null/undefined or has no index/id/name,\n     *        do not filtering by query conditions, which is convenient for\n     *        no-payload situations or when target of action is global.\n     * @param {Function} [condition.filter] parameter: component, return boolean.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    findComponents: function (condition) {\n      var query = condition.query;\n      var mainType = condition.mainType;\n      var queryCond = getQueryCond(query);\n      var result = queryCond ? this.queryComponents(queryCond) : this._componentsMap.get(mainType);\n      return doFilter(filterBySubType(result, condition));\n\n      function getQueryCond(q) {\n        var indexAttr = mainType + 'Index';\n        var idAttr = mainType + 'Id';\n        var nameAttr = mainType + 'Name';\n        return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n          mainType: mainType,\n          // subType will be filtered finally.\n          index: q[indexAttr],\n          id: q[idAttr],\n          name: q[nameAttr]\n        } : null;\n      }\n\n      function doFilter(res) {\n        return condition.filter ? filter$1(res, condition.filter) : res;\n      }\n    },\n\n    /**\n     * @usage\n     * eachComponent('legend', function (legendModel, index) {\n     *     ...\n     * });\n     * eachComponent(function (componentType, model, index) {\n     *     // componentType does not include subType\n     *     // (componentType is 'xxx' but not 'xxx.aa')\n     * });\n     * eachComponent(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}},\n     *     function (model, index) {...}\n     * );\n     * eachComponent(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}},\n     *     function (model, index) {...}\n     * );\n     *\n     * @param {string|Object=} mainType When mainType is object, the definition\n     *                                  is the same as the method 'findComponents'.\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachComponent: function (mainType, cb, context) {\n      var componentsMap = this._componentsMap;\n\n      if (typeof mainType === 'function') {\n        context = cb;\n        cb = mainType;\n        componentsMap.each(function (components, componentType) {\n          each$5(components, function (component, index) {\n            cb.call(context, componentType, component, index);\n          });\n        });\n      } else if (isString$5(mainType)) {\n        each$5(componentsMap.get(mainType), cb, context);\n      } else if (isObject$7(mainType)) {\n        var queryResult = this.findComponents(mainType);\n        each$5(queryResult, cb, context);\n      }\n    },\n\n    /**\n     * @param {string} name\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByName: function (name) {\n      var series = this._componentsMap.get('series');\n\n      return filter$1(series, function (oneSeries) {\n        return oneSeries.name === name;\n      });\n    },\n\n    /**\n     * @param {number} seriesIndex\n     * @return {module:echarts/model/Series}\n     */\n    getSeriesByIndex: function (seriesIndex) {\n      return this._componentsMap.get('series')[seriesIndex];\n    },\n\n    /**\n     * Get series list before filtered by type.\n     * FIXME: rename to getRawSeriesByType?\n     *\n     * @param {string} subType\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByType: function (subType) {\n      var series = this._componentsMap.get('series');\n\n      return filter$1(series, function (oneSeries) {\n        return oneSeries.subType === subType;\n      });\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeries: function () {\n      return this._componentsMap.get('series').slice();\n    },\n\n    /**\n     * @return {number}\n     */\n    getSeriesCount: function () {\n      return this._componentsMap.get('series').length;\n    },\n\n    /**\n     * After filtering, series may be different\n     * frome raw series.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeries: function (cb, context) {\n      each$5(this._seriesIndices, function (rawSeriesIndex) {\n        var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n        cb.call(context, series, rawSeriesIndex);\n      }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeries: function (cb, context) {\n      each$5(this._componentsMap.get('series'), cb, context);\n    },\n\n    /**\n     * After filtering, series may be different.\n     * frome raw series.\n     *\n     * @param {string} subType.\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeriesByType: function (subType, cb, context) {\n      each$5(this._seriesIndices, function (rawSeriesIndex) {\n        var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n        if (series.subType === subType) {\n          cb.call(context, series, rawSeriesIndex);\n        }\n      }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered of given type.\n     *\n     * @parma {string} subType\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeriesByType: function (subType, cb, context) {\n      return each$5(this.getSeriesByType(subType), cb, context);\n    },\n\n    /**\n     * @param {module:echarts/model/Series} seriesModel\n     */\n    isSeriesFiltered: function (seriesModel) {\n      return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getCurrentSeriesIndices: function () {\n      return (this._seriesIndices || []).slice();\n    },\n\n    /**\n     * @param {Function} cb\n     * @param {*} context\n     */\n    filterSeries: function (cb, context) {\n      var filteredSeries = filter$1(this._componentsMap.get('series'), cb, context);\n      createSeriesIndices(this, filteredSeries);\n    },\n    restoreData: function (payload) {\n      var componentsMap = this._componentsMap;\n      createSeriesIndices(this, componentsMap.get('series'));\n      var componentTypes = [];\n      componentsMap.each(function (components, componentType) {\n        componentTypes.push(componentType);\n      });\n      Component.topologicalTravel(componentTypes, Component.getAllClassMainTypes(), function (componentType, dependencies) {\n        each$5(componentsMap.get(componentType), function (component) {\n          (componentType !== 'series' || !isNotTargetSeries(component, payload)) && component.restoreData();\n        });\n      });\n    }\n  });\n\n  function isNotTargetSeries(seriesModel, payload) {\n    if (payload) {\n      var index = payload.seiresIndex;\n      var id = payload.seriesId;\n      var name = payload.seriesName;\n      return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name != null && seriesModel.name !== name;\n    }\n  }\n  /**\n   * @inner\n   */\n\n\n  function mergeTheme(option, theme) {\n    // PENDING\n    // NOT use `colorLayer` in theme if option has `color`\n    var notMergeColorLayer = option.color && !option.colorLayer;\n    each$5(theme, function (themeItem, name) {\n      if (name === 'colorLayer' && notMergeColorLayer) {\n        return;\n      } //  component model  merge  model \n\n\n      if (!Component.hasClass(name)) {\n        if (typeof themeItem === 'object') {\n          option[name] = !option[name] ? clone$4(themeItem) : merge$1(option[name], themeItem, false);\n        } else {\n          if (option[name] == null) {\n            option[name] = themeItem;\n          }\n        }\n      }\n    });\n  }\n\n  function initBase(baseOption) {\n    baseOption = baseOption; // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n    // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n\n    this.option = {};\n    this.option[OPTION_INNER_KEY] = 1;\n    /**\n     * Init with series: [], in case of calling findSeries method\n     * before series initialized.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @private\n     */\n\n    this._componentsMap = createHashMap$3({\n      series: []\n    });\n    /**\n     * Mapping between filtered series list and raw series list.\n     * key: filtered series indices, value: raw series indices.\n     * @type {Array.<nubmer>}\n     * @private\n     */\n\n    this._seriesIndices;\n    this._seriesIndicesMap;\n    mergeTheme(baseOption, this._theme.option); // TODO Needs clone when merging to the unexisted property\n\n    merge$1(baseOption, globalDefault, false);\n    this.mergeOption(baseOption);\n  }\n  /**\n   * @inner\n   * @param {Array.<string>|string} types model types\n   * @return {Object} key: {string} type, value: {Array.<Object>} models\n   */\n\n\n  function getComponentsByTypes(componentsMap, types) {\n    if (!isArray$5(types)) {\n      types = types ? [types] : [];\n    }\n\n    var ret = {};\n    each$5(types, function (type) {\n      ret[type] = (componentsMap.get(type) || []).slice();\n    });\n    return ret;\n  }\n  /**\n   * @inner\n   */\n\n\n  function determineSubType(mainType, newCptOption, existComponent) {\n    var subType = newCptOption.type ? newCptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\n    : Component.determineSubType(mainType, newCptOption); // tooltip, markline, markpoint may always has no subType\n\n    return subType;\n  }\n  /**\n   * @inner\n   */\n\n\n  function createSeriesIndices(ecModel, seriesModels) {\n    ecModel._seriesIndicesMap = createHashMap$3(ecModel._seriesIndices = map$2(seriesModels, function (series) {\n      return series.componentIndex;\n    }) || []);\n  }\n  /**\n   * @inner\n   */\n\n\n  function filterBySubType(components, condition) {\n    // Using hasOwnProperty for restrict. Consider\n    // subType is undefined in user payload.\n    return condition.hasOwnProperty('subType') ? filter$1(components, function (cpt) {\n      return cpt.subType === condition.subType;\n    }) : components;\n  }\n\n  mixin$2(GlobalModel, colorPalette);\n  var _default$Y = GlobalModel;\n  var Global = _default$Y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var echartsAPIList = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption', 'getViewOfComponentModel', 'getViewOfSeriesModel']; // And `getCoordinateSystems` and `getComponentByElement` will be injected in echarts.js\n\n  function ExtensionAPI(chartInstance) {\n    util.each(echartsAPIList, function (name) {\n      this[name] = util.bind(chartInstance[name], chartInstance);\n    }, this);\n  }\n\n  var _default$Z = ExtensionAPI;\n  var ExtensionAPI_1 = _default$Z;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var coordinateSystemCreators = {};\n\n  function CoordinateSystemManager() {\n    this._coordinateSystems = [];\n  }\n\n  CoordinateSystemManager.prototype = {\n    constructor: CoordinateSystemManager,\n    create: function (ecModel, api) {\n      var coordinateSystems = [];\n      util.each(coordinateSystemCreators, function (creater, type) {\n        var list = creater.create(ecModel, api);\n        coordinateSystems = coordinateSystems.concat(list || []);\n      });\n      this._coordinateSystems = coordinateSystems;\n    },\n    update: function (ecModel, api) {\n      util.each(this._coordinateSystems, function (coordSys) {\n        coordSys.update && coordSys.update(ecModel, api);\n      });\n    },\n    getCoordinateSystems: function () {\n      return this._coordinateSystems.slice();\n    }\n  };\n\n  CoordinateSystemManager.register = function (type, coordinateSystemCreator) {\n    coordinateSystemCreators[type] = coordinateSystemCreator;\n  };\n\n  CoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n  };\n\n  var _default$_ = CoordinateSystemManager;\n  var CoordinateSystem = _default$_;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * ECharts option manager\n   *\n   * @module {echarts/model/OptionManager}\n   */\n  var each$6 = util.each;\n  var clone$5 = util.clone;\n  var map$3 = util.map;\n  var merge$2 = util.merge;\n  var QUERY_REG = /^(min|max)?(.+)$/;\n  /**\n   * TERM EXPLANATIONS:\n   *\n   * [option]:\n   *\n   *     An object that contains definitions of components. For example:\n   *     var option = {\n   *         title: {...},\n   *         legend: {...},\n   *         visualMap: {...},\n   *         series: [\n   *             {data: [...]},\n   *             {data: [...]},\n   *             ...\n   *         ]\n   *     };\n   *\n   * [rawOption]:\n   *\n   *     An object input to echarts.setOption. 'rawOption' may be an\n   *     'option', or may be an object contains multi-options. For example:\n   *     var option = {\n   *         baseOption: {\n   *             title: {...},\n   *             legend: {...},\n   *             series: [\n   *                 {data: [...]},\n   *                 {data: [...]},\n   *                 ...\n   *             ]\n   *         },\n   *         timeline: {...},\n   *         options: [\n   *             {title: {...}, series: {data: [...]}},\n   *             {title: {...}, series: {data: [...]}},\n   *             ...\n   *         ],\n   *         media: [\n   *             {\n   *                 query: {maxWidth: 320},\n   *                 option: {series: {x: 20}, visualMap: {show: false}}\n   *             },\n   *             {\n   *                 query: {minWidth: 320, maxWidth: 720},\n   *                 option: {series: {x: 500}, visualMap: {show: true}}\n   *             },\n   *             {\n   *                 option: {series: {x: 1200}, visualMap: {show: true}}\n   *             }\n   *         ]\n   *     };\n   *\n   * @alias module:echarts/model/OptionManager\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n  function OptionManager(api) {\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n    this._api = api;\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._timelineOptions = [];\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n\n    this._mediaList = [];\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._mediaDefault;\n    /**\n     * -1, means default.\n     * empty means no media.\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._currentMediaIndices = [];\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._optionBackup;\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._newBaseOption;\n  } // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n\n\n  OptionManager.prototype = {\n    constructor: OptionManager,\n\n    /**\n     * @public\n     * @param {Object} rawOption Raw option.\n     * @param {module:echarts/model/Global} ecModel\n     * @param {Array.<Function>} optionPreprocessorFuncs\n     * @return {Object} Init option\n     */\n    setOption: function (rawOption, optionPreprocessorFuncs) {\n      if (rawOption) {\n        // That set dat primitive is dangerous if user reuse the data when setOption again.\n        util.each(model.normalizeToArray(rawOption.series), function (series) {\n          series && series.data && util.isTypedArray(series.data) && util.setAsPrimitive(series.data);\n        });\n      } // Caution: some series modify option data, if do not clone,\n      // it should ensure that the repeat modify correctly\n      // (create a new object when modify itself).\n\n\n      rawOption = clone$5(rawOption); // FIXME\n      //  timeline options  media baseOption\n\n      var oldOptionBackup = this._optionBackup;\n      var newParsedOption = parseRawOption.call(this, rawOption, optionPreprocessorFuncs, !oldOptionBackup);\n      this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n      if (oldOptionBackup) {\n        // Only baseOption can be merged.\n        mergeOption(oldOptionBackup.baseOption, newParsedOption.baseOption); // For simplicity, timeline options and media options do not support merge,\n        // that is, if you `setOption` twice and both has timeline options, the latter\n        // timeline opitons will not be merged to the formers, but just substitude them.\n\n        if (newParsedOption.timelineOptions.length) {\n          oldOptionBackup.timelineOptions = newParsedOption.timelineOptions;\n        }\n\n        if (newParsedOption.mediaList.length) {\n          oldOptionBackup.mediaList = newParsedOption.mediaList;\n        }\n\n        if (newParsedOption.mediaDefault) {\n          oldOptionBackup.mediaDefault = newParsedOption.mediaDefault;\n        }\n      } else {\n        this._optionBackup = newParsedOption;\n      }\n    },\n\n    /**\n     * @param {boolean} isRecreate\n     * @return {Object}\n     */\n    mountOption: function (isRecreate) {\n      var optionBackup = this._optionBackup; // TODO\n      // resetclone\n\n      this._timelineOptions = map$3(optionBackup.timelineOptions, clone$5);\n      this._mediaList = map$3(optionBackup.mediaList, clone$5);\n      this._mediaDefault = clone$5(optionBackup.mediaDefault);\n      this._currentMediaIndices = [];\n      return clone$5(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n      // called, and is merged into every new option by inner method `mergeOption`\n      // each time `setOption` called, can be only used in `isRecreate`, because\n      // its reliability is under suspicion. In other cases option merge is\n      // performed by `model.mergeOption`.\n      ? optionBackup.baseOption : this._newBaseOption);\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Object}\n     */\n    getTimelineOption: function (ecModel) {\n      var option;\n      var timelineOptions = this._timelineOptions;\n\n      if (timelineOptions.length) {\n        // getTimelineOption can only be called after ecModel inited,\n        // so we can get currentIndex from timelineModel.\n        var timelineModel = ecModel.getComponent('timeline');\n\n        if (timelineModel) {\n          option = clone$5(timelineOptions[timelineModel.getCurrentIndex()], true);\n        }\n      }\n\n      return option;\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Array.<Object>}\n     */\n    getMediaOption: function (ecModel) {\n      var ecWidth = this._api.getWidth();\n\n      var ecHeight = this._api.getHeight();\n\n      var mediaList = this._mediaList;\n      var mediaDefault = this._mediaDefault;\n      var indices = [];\n      var result = []; // No media defined.\n\n      if (!mediaList.length && !mediaDefault) {\n        return result;\n      } // Multi media may be applied, the latter defined media has higher priority.\n\n\n      for (var i = 0, len = mediaList.length; i < len; i++) {\n        if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n          indices.push(i);\n        }\n      } // FIXME\n      // mediaDefault\n\n\n      if (!indices.length && mediaDefault) {\n        indices = [-1];\n      }\n\n      if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n        result = map$3(indices, function (index) {\n          return clone$5(index === -1 ? mediaDefault.option : mediaList[index].option);\n        });\n      } // Otherwise return nothing.\n\n\n      this._currentMediaIndices = indices;\n      return result;\n    }\n  };\n\n  function parseRawOption(rawOption, optionPreprocessorFuncs, isNew) {\n    var timelineOptions = [];\n    var mediaList = [];\n    var mediaDefault;\n    var baseOption; // Compatible with ec2.\n\n    var timelineOpt = rawOption.timeline;\n\n    if (rawOption.baseOption) {\n      baseOption = rawOption.baseOption;\n    } // For timeline\n\n\n    if (timelineOpt || rawOption.options) {\n      baseOption = baseOption || {};\n      timelineOptions = (rawOption.options || []).slice();\n    } // For media query\n\n\n    if (rawOption.media) {\n      baseOption = baseOption || {};\n      var media = rawOption.media;\n      each$6(media, function (singleMedia) {\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } // For normal option\n\n\n    if (!baseOption) {\n      baseOption = rawOption;\n    } // Set timelineOpt to baseOption in ec3,\n    // which is convenient for merge option.\n\n\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOpt;\n    } // Preprocess.\n\n\n    each$6([baseOption].concat(timelineOptions).concat(util.map(mediaList, function (media) {\n      return media.option;\n    })), function (option) {\n      each$6(optionPreprocessorFuncs, function (preProcess) {\n        preProcess(option, isNew);\n      });\n    });\n    return {\n      baseOption: baseOption,\n      timelineOptions: timelineOptions,\n      mediaDefault: mediaDefault,\n      mediaList: mediaList\n    };\n  }\n  /**\n   * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n   * Support: width, height, aspectRatio\n   * Can use max or min as prefix.\n   */\n\n\n  function applyMediaQuery(query, ecWidth, ecHeight) {\n    var realMap = {\n      width: ecWidth,\n      height: ecHeight,\n      aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n\n    };\n    var applicatable = true;\n    util.each(query, function (value, attr) {\n      var matched = attr.match(QUERY_REG);\n\n      if (!matched || !matched[1] || !matched[2]) {\n        return;\n      }\n\n      var operator = matched[1];\n      var realAttr = matched[2].toLowerCase();\n\n      if (!compare(realMap[realAttr], value, operator)) {\n        applicatable = false;\n      }\n    });\n    return applicatable;\n  }\n\n  function compare(real, expect, operator) {\n    if (operator === 'min') {\n      return real >= expect;\n    } else if (operator === 'max') {\n      return real <= expect;\n    } else {\n      // Equals\n      return real === expect;\n    }\n  }\n\n  function indicesEquals(indices1, indices2) {\n    // indices is always order by asc and has only finite number.\n    return indices1.join(',') === indices2.join(',');\n  }\n  /**\n   * Consider case:\n   * `chart.setOption(opt1);`\n   * Then user do some interaction like dataZoom, dataView changing.\n   * `chart.setOption(opt2);`\n   * Then user press 'reset button' in toolbox.\n   *\n   * After doing that all of the interaction effects should be reset, the\n   * chart should be the same as the result of invoke\n   * `chart.setOption(opt1); chart.setOption(opt2);`.\n   *\n   * Although it is not able ensure that\n   * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n   * `chart.setOption(merge(opt1, opt2));` exactly,\n   * this might be the only simple way to implement that feature.\n   *\n   * MEMO: We've considered some other approaches:\n   * 1. Each model handle its self restoration but not uniform treatment.\n   *     (Too complex in logic and error-prone)\n   * 2. Use a shadow ecModel. (Performace expensive)\n   */\n\n\n  function mergeOption(oldOption, newOption) {\n    newOption = newOption || {};\n    each$6(newOption, function (newCptOpt, mainType) {\n      if (newCptOpt == null) {\n        return;\n      }\n\n      var oldCptOpt = oldOption[mainType];\n\n      if (!Component.hasClass(mainType)) {\n        oldOption[mainType] = merge$2(oldCptOpt, newCptOpt, true);\n      } else {\n        newCptOpt = model.normalizeToArray(newCptOpt);\n        oldCptOpt = model.normalizeToArray(oldCptOpt);\n        var mapResult = model.mappingToExists(oldCptOpt, newCptOpt);\n        oldOption[mainType] = map$3(mapResult, function (item) {\n          return item.option && item.exist ? merge$2(item.exist, item.option, true) : item.exist || item.option;\n        });\n      }\n    });\n  }\n\n  var _default$$ = OptionManager;\n  var OptionManager_1 = _default$$;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$7 = util.each;\n  var isObject$8 = util.isObject;\n  var POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\n  function compatEC2ItemStyle(opt) {\n    var itemStyleOpt = opt && opt.itemStyle;\n\n    if (!itemStyleOpt) {\n      return;\n    }\n\n    for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n      var styleName = POSSIBLE_STYLES[i];\n      var normalItemStyleOpt = itemStyleOpt.normal;\n      var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n      if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n        opt[styleName] = opt[styleName] || {};\n\n        if (!opt[styleName].normal) {\n          opt[styleName].normal = normalItemStyleOpt[styleName];\n        } else {\n          util.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n        }\n\n        normalItemStyleOpt[styleName] = null;\n      }\n\n      if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n        opt[styleName] = opt[styleName] || {};\n\n        if (!opt[styleName].emphasis) {\n          opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n        } else {\n          util.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n        }\n\n        emphasisItemStyleOpt[styleName] = null;\n      }\n    }\n  }\n\n  function convertNormalEmphasis(opt, optType, useExtend) {\n    if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n      var normalOpt = opt[optType].normal;\n      var emphasisOpt = opt[optType].emphasis;\n\n      if (normalOpt) {\n        // Timeline controlStyle has other properties besides normal and emphasis\n        if (useExtend) {\n          opt[optType].normal = opt[optType].emphasis = null;\n          util.defaults(opt[optType], normalOpt);\n        } else {\n          opt[optType] = normalOpt;\n        }\n      }\n\n      if (emphasisOpt) {\n        opt.emphasis = opt.emphasis || {};\n        opt.emphasis[optType] = emphasisOpt;\n      }\n    }\n  }\n\n  function removeEC3NormalStatus(opt) {\n    convertNormalEmphasis(opt, 'itemStyle');\n    convertNormalEmphasis(opt, 'lineStyle');\n    convertNormalEmphasis(opt, 'areaStyle');\n    convertNormalEmphasis(opt, 'label');\n    convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n    convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n    convertNormalEmphasis(opt, 'edgeLabel');\n  }\n\n  function compatTextStyle(opt, propName) {\n    // Check whether is not object (string\\null\\undefined ...)\n    var labelOptSingle = isObject$8(opt) && opt[propName];\n    var textStyle = isObject$8(labelOptSingle) && labelOptSingle.textStyle;\n\n    if (textStyle) {\n      for (var i = 0, len = model.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n        var propName = model.TEXT_STYLE_OPTIONS[i];\n\n        if (textStyle.hasOwnProperty(propName)) {\n          labelOptSingle[propName] = textStyle[propName];\n        }\n      }\n    }\n  }\n\n  function compatEC3CommonStyles(opt) {\n    if (opt) {\n      removeEC3NormalStatus(opt);\n      compatTextStyle(opt, 'label');\n      opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n    }\n  }\n\n  function processSeries(seriesOpt) {\n    if (!isObject$8(seriesOpt)) {\n      return;\n    }\n\n    compatEC2ItemStyle(seriesOpt);\n    removeEC3NormalStatus(seriesOpt);\n    compatTextStyle(seriesOpt, 'label'); // treemap\n\n    compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt, 'edgeLabel');\n\n    if (seriesOpt.emphasis) {\n      compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n      compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n      compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n    }\n\n    var markPoint = seriesOpt.markPoint;\n\n    if (markPoint) {\n      compatEC2ItemStyle(markPoint);\n      compatEC3CommonStyles(markPoint);\n    }\n\n    var markLine = seriesOpt.markLine;\n\n    if (markLine) {\n      compatEC2ItemStyle(markLine);\n      compatEC3CommonStyles(markLine);\n    }\n\n    var markArea = seriesOpt.markArea;\n\n    if (markArea) {\n      compatEC3CommonStyles(markArea);\n    }\n\n    var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n    // then the backward compat based on option type will not be performed.\n\n    if (seriesOpt.type === 'graph') {\n      data = data || seriesOpt.nodes;\n      var edgeData = seriesOpt.links || seriesOpt.edges;\n\n      if (edgeData && !util.isTypedArray(edgeData)) {\n        for (var i = 0; i < edgeData.length; i++) {\n          compatEC3CommonStyles(edgeData[i]);\n        }\n      }\n\n      util.each(seriesOpt.categories, function (opt) {\n        removeEC3NormalStatus(opt);\n      });\n    }\n\n    if (data && !util.isTypedArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        compatEC3CommonStyles(data[i]);\n      }\n    } // mark point data\n\n\n    var markPoint = seriesOpt.markPoint;\n\n    if (markPoint && markPoint.data) {\n      var mpData = markPoint.data;\n\n      for (var i = 0; i < mpData.length; i++) {\n        compatEC3CommonStyles(mpData[i]);\n      }\n    } // mark line data\n\n\n    var markLine = seriesOpt.markLine;\n\n    if (markLine && markLine.data) {\n      var mlData = markLine.data;\n\n      for (var i = 0; i < mlData.length; i++) {\n        if (util.isArray(mlData[i])) {\n          compatEC3CommonStyles(mlData[i][0]);\n          compatEC3CommonStyles(mlData[i][1]);\n        } else {\n          compatEC3CommonStyles(mlData[i]);\n        }\n      }\n    } // Series\n\n\n    if (seriesOpt.type === 'gauge') {\n      compatTextStyle(seriesOpt, 'axisLabel');\n      compatTextStyle(seriesOpt, 'title');\n      compatTextStyle(seriesOpt, 'detail');\n    } else if (seriesOpt.type === 'treemap') {\n      convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n      util.each(seriesOpt.levels, function (opt) {\n        removeEC3NormalStatus(opt);\n      });\n    } else if (seriesOpt.type === 'tree') {\n      removeEC3NormalStatus(seriesOpt.leaves);\n    } // sunburst starts from ec4, so it does not need to compat levels.\n\n  }\n\n  function toArr(o) {\n    return util.isArray(o) ? o : o ? [o] : [];\n  }\n\n  function toObj(o) {\n    return (util.isArray(o) ? o[0] : o) || {};\n  }\n\n  function _default$10(option, isTheme) {\n    each$7(toArr(option.series), function (seriesOpt) {\n      isObject$8(seriesOpt) && processSeries(seriesOpt);\n    });\n    var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n    isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n    each$7(axes, function (axisName) {\n      each$7(toArr(option[axisName]), function (axisOpt) {\n        if (axisOpt) {\n          compatTextStyle(axisOpt, 'axisLabel');\n          compatTextStyle(axisOpt.axisPointer, 'label');\n        }\n      });\n    });\n    each$7(toArr(option.parallel), function (parallelOpt) {\n      var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n      compatTextStyle(parallelAxisDefault, 'axisLabel');\n      compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n    });\n    each$7(toArr(option.calendar), function (calendarOpt) {\n      convertNormalEmphasis(calendarOpt, 'itemStyle');\n      compatTextStyle(calendarOpt, 'dayLabel');\n      compatTextStyle(calendarOpt, 'monthLabel');\n      compatTextStyle(calendarOpt, 'yearLabel');\n    }); // radar.name.textStyle\n\n    each$7(toArr(option.radar), function (radarOpt) {\n      compatTextStyle(radarOpt, 'name');\n    });\n    each$7(toArr(option.geo), function (geoOpt) {\n      if (isObject$8(geoOpt)) {\n        compatEC3CommonStyles(geoOpt);\n        each$7(toArr(geoOpt.regions), function (regionObj) {\n          compatEC3CommonStyles(regionObj);\n        });\n      }\n    });\n    each$7(toArr(option.timeline), function (timelineOpt) {\n      compatEC3CommonStyles(timelineOpt);\n      convertNormalEmphasis(timelineOpt, 'label');\n      convertNormalEmphasis(timelineOpt, 'itemStyle');\n      convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n      var data = timelineOpt.data;\n      util.isArray(data) && util.each(data, function (item) {\n        if (util.isObject(item)) {\n          convertNormalEmphasis(item, 'label');\n          convertNormalEmphasis(item, 'itemStyle');\n        }\n      });\n    });\n    each$7(toArr(option.toolbox), function (toolboxOpt) {\n      convertNormalEmphasis(toolboxOpt, 'iconStyle');\n      each$7(toolboxOpt.feature, function (featureOpt) {\n        convertNormalEmphasis(featureOpt, 'iconStyle');\n      });\n    });\n    compatTextStyle(toObj(option.axisPointer), 'label');\n    compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n  }\n\n  var compatStyle = _default$10;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$8 = util.each;\n  var isArray$6 = util.isArray;\n  var isObject$9 = util.isObject;\n\n\n\n\n\n  var normalizeToArray$2 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Compatitable with 2.0\n  function get$2(opt, path) {\n    path = path.split(',');\n    var obj = opt;\n\n    for (var i = 0; i < path.length; i++) {\n      obj = obj && obj[path[i]];\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    return obj;\n  }\n\n  function set$4(opt, path, val, overwrite) {\n    path = path.split(',');\n    var obj = opt;\n    var key;\n\n    for (var i = 0; i < path.length - 1; i++) {\n      key = path[i];\n\n      if (obj[key] == null) {\n        obj[key] = {};\n      }\n\n      obj = obj[key];\n    }\n\n    if (overwrite || obj[path[i]] == null) {\n      obj[path[i]] = val;\n    }\n  }\n\n  function compatLayoutProperties(option) {\n    each$8(LAYOUT_PROPERTIES, function (prop) {\n      if (prop[0] in option && !(prop[1] in option)) {\n        option[prop[1]] = option[prop[0]];\n      }\n    });\n  }\n\n  var LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\n  var COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\n\n  function _default$11(option, isTheme) {\n    compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n    option.series = normalizeToArray$2(option.series);\n    each$8(option.series, function (seriesOpt) {\n      if (!isObject$9(seriesOpt)) {\n        return;\n      }\n\n      var seriesType = seriesOpt.type;\n\n      if (seriesType === 'line') {\n        if (seriesOpt.clipOverflow != null) {\n          seriesOpt.clip = seriesOpt.clipOverflow;\n        }\n      } else if (seriesType === 'pie' || seriesType === 'gauge') {\n        if (seriesOpt.clockWise != null) {\n          seriesOpt.clockwise = seriesOpt.clockWise;\n        }\n      } else if (seriesType === 'gauge') {\n        var pointerColor = get$2(seriesOpt, 'pointer.color');\n        pointerColor != null && set$4(seriesOpt, 'itemStyle.color', pointerColor);\n      }\n\n      compatLayoutProperties(seriesOpt);\n    }); // dataRange has changed to visualMap\n\n    if (option.dataRange) {\n      option.visualMap = option.dataRange;\n    }\n\n    each$8(COMPATITABLE_COMPONENTS, function (componentName) {\n      var options = option[componentName];\n\n      if (options) {\n        if (!isArray$6(options)) {\n          options = [options];\n        }\n\n        each$8(options, function (option) {\n          compatLayoutProperties(option);\n        });\n      }\n    });\n  }\n\n  var backwardCompat = _default$11;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$4 = util.createHashMap;\n  var each$9 = util.each;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // (1) [Caution]: the logic is correct based on the premises:\n  //     data processing stage is blocked in stream.\n  //     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n  // (2) Only register once when import repeatly.\n  //     Should be executed after series filtered and before stack calculation.\n  function _default$12(ecModel) {\n    var stackInfoMap = createHashMap$4();\n    ecModel.eachSeries(function (seriesModel) {\n      var stack = seriesModel.get('stack'); // Compatibal: when `stack` is set as '', do not stack.\n\n      if (stack) {\n        var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n        var data = seriesModel.getData();\n        var stackInfo = {\n          // Used for calculate axis extent automatically.\n          stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n          stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n          stackedDimension: data.getCalculationInfo('stackedDimension'),\n          stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n          isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n          data: data,\n          seriesModel: seriesModel\n        }; // If stacked on axis that do not support data stack.\n\n        if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n          return;\n        }\n\n        stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n        stackInfoList.push(stackInfo);\n      }\n    });\n    stackInfoMap.each(calculateStack);\n  }\n\n  function calculateStack(stackInfoList) {\n    each$9(stackInfoList, function (targetStackInfo, idxInStack) {\n      var resultVal = [];\n      var resultNaN = [NaN, NaN];\n      var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n      var targetData = targetStackInfo.data;\n      var isStackedByIndex = targetStackInfo.isStackedByIndex; // Should not write on raw data, because stack series model list changes\n      // depending on legend selection.\n\n      var newData = targetData.map(dims, function (v0, v1, dataIndex) {\n        var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n        // should also be NaN, to draw a appropriate belt area.\n\n        if (isNaN(sum)) {\n          return resultNaN;\n        }\n\n        var byValue;\n        var stackedDataRawIndex;\n\n        if (isStackedByIndex) {\n          stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n        } else {\n          byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n        } // If stackOver is NaN, chart view will render point on value start.\n\n\n        var stackedOver = NaN;\n\n        for (var j = idxInStack - 1; j >= 0; j--) {\n          var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n          if (!isStackedByIndex) {\n            stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n          }\n\n          if (stackedDataRawIndex >= 0) {\n            var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n            if (sum >= 0 && val > 0 || // Positive stack\n            sum <= 0 && val < 0 // Negative stack\n            ) {\n                sum += val;\n                stackedOver = val;\n                break;\n              }\n          }\n        }\n\n        resultVal[0] = sum;\n        resultVal[1] = stackedOver;\n        return resultVal;\n      });\n      targetData.hostModel.setData(newData); // Update for consequent calculation\n\n      targetStackInfo.data = newData;\n    });\n  }\n\n  var dataStack = _default$12;\n\n  var extend$6 = util.extend;\n  var each$a = util.each;\n  var isObject$a = util.isObject;\n\n\n\n  var getDataItemValue$2 = model.getDataItemValue;\n  var isDataItemOption$1 = model.isDataItemOption;\n\n\n\n  var parseDate$1 = number.parseDate;\n\n\n\n\n\n  var SOURCE_FORMAT_TYPED_ARRAY$3 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SOURCE_FORMAT_ARRAY_ROWS$2 = sourceType.SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_ORIGINAL$3 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_OBJECT_ROWS$2 = sourceType.SOURCE_FORMAT_OBJECT_ROWS;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO\n  // ??? refactor? check the outer usage of data provider.\n  // merge with defaultDimValueGetter?\n\n  /**\n   * If normal array used, mutable chunk size is supported.\n   * If typed array used, chunk size must be fixed.\n   */\n  function DefaultDataProvider(source, dimSize) {\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    this._source = source;\n    var data = this._data = source.data;\n    var sourceFormat = source.sourceFormat; // Typed array. TODO IE10+?\n\n    if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY$3) {\n      this._offset = 0;\n      this._dimSize = dimSize;\n      this._data = data;\n    }\n\n    var methods = providerMethods[sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$2 ? sourceFormat + '_' + source.seriesLayoutBy : sourceFormat];\n    extend$6(this, methods);\n  }\n\n  var providerProto = DefaultDataProvider.prototype; // If data is pure without style configuration\n\n  providerProto.pure = false; // If data is persistent and will not be released after use.\n\n  providerProto.persistent = true; // ???! FIXME legacy data provider do not has method getSource\n\n  providerProto.getSource = function () {\n    return this._source;\n  };\n\n  var providerMethods = {\n    'arrayRows_column': {\n      pure: true,\n      count: function () {\n        return Math.max(0, this._data.length - this._source.startIndex);\n      },\n      getItem: function (idx) {\n        return this._data[idx + this._source.startIndex];\n      },\n      appendData: appendDataSimply\n    },\n    'arrayRows_row': {\n      pure: true,\n      count: function () {\n        var row = this._data[0];\n        return row ? Math.max(0, row.length - this._source.startIndex) : 0;\n      },\n      getItem: function (idx) {\n        idx += this._source.startIndex;\n        var item = [];\n        var data = this._data;\n\n        for (var i = 0; i < data.length; i++) {\n          var row = data[i];\n          item.push(row ? row[idx] : null);\n        }\n\n        return item;\n      },\n      appendData: function () {\n        throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\n      }\n    },\n    'objectRows': {\n      pure: true,\n      count: countSimply,\n      getItem: getItemSimply,\n      appendData: appendDataSimply\n    },\n    'keyedColumns': {\n      pure: true,\n      count: function () {\n        var dimName = this._source.dimensionsDefine[0].name;\n        var col = this._data[dimName];\n        return col ? col.length : 0;\n      },\n      getItem: function (idx) {\n        var item = [];\n        var dims = this._source.dimensionsDefine;\n\n        for (var i = 0; i < dims.length; i++) {\n          var col = this._data[dims[i].name];\n          item.push(col ? col[idx] : null);\n        }\n\n        return item;\n      },\n      appendData: function (newData) {\n        var data = this._data;\n        each$a(newData, function (newCol, key) {\n          var oldCol = data[key] || (data[key] = []);\n\n          for (var i = 0; i < (newCol || []).length; i++) {\n            oldCol.push(newCol[i]);\n          }\n        });\n      }\n    },\n    'original': {\n      count: countSimply,\n      getItem: getItemSimply,\n      appendData: appendDataSimply\n    },\n    'typedArray': {\n      persistent: false,\n      pure: true,\n      count: function () {\n        return this._data ? this._data.length / this._dimSize : 0;\n      },\n      getItem: function (idx, out) {\n        idx = idx - this._offset;\n        out = out || [];\n        var offset = this._dimSize * idx;\n\n        for (var i = 0; i < this._dimSize; i++) {\n          out[i] = this._data[offset + i];\n        }\n\n        return out;\n      },\n      appendData: function (newData) {\n        this._data = newData;\n      },\n      // Clean self if data is already used.\n      clean: function () {\n        // PENDING\n        this._offset += this.count();\n        this._data = null;\n      }\n    }\n  };\n\n  function countSimply() {\n    return this._data.length;\n  }\n\n  function getItemSimply(idx) {\n    return this._data[idx];\n  }\n\n  function appendDataSimply(newData) {\n    for (var i = 0; i < newData.length; i++) {\n      this._data.push(newData[i]);\n    }\n  }\n\n  var rawValueGetters = {\n    arrayRows: getRawValueSimply,\n    objectRows: function (dataItem, dataIndex, dimIndex, dimName) {\n      return dimIndex != null ? dataItem[dimName] : dataItem;\n    },\n    keyedColumns: getRawValueSimply,\n    original: function (dataItem, dataIndex, dimIndex, dimName) {\n      // FIXME\n      // In some case (markpoint in geo (geo-map.html)), dataItem\n      // is {coord: [...]}\n      var value = getDataItemValue$2(dataItem);\n      return dimIndex == null || !(value instanceof Array) ? value : value[dimIndex];\n    },\n    typedArray: getRawValueSimply\n  };\n\n  function getRawValueSimply(dataItem, dataIndex, dimIndex, dimName) {\n    return dimIndex != null ? dataItem[dimIndex] : dataItem;\n  }\n\n  var defaultDimValueGetters = {\n    arrayRows: getDimValueSimply,\n    objectRows: function (dataItem, dimName, dataIndex, dimIndex) {\n      return converDataValue(dataItem[dimName], this._dimensionInfos[dimName]);\n    },\n    keyedColumns: getDimValueSimply,\n    original: function (dataItem, dimName, dataIndex, dimIndex) {\n      // Performance sensitive, do not use modelUtil.getDataItemValue.\n      // If dataItem is an plain object with no value field, the var `value`\n      // will be assigned with the object, but it will be tread correctly\n      // in the `convertDataValue`.\n      var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value); // If any dataItem is like { value: 10 }\n\n      if (!this._rawData.pure && isDataItemOption$1(dataItem)) {\n        this.hasItemOption = true;\n      }\n\n      return converDataValue(value instanceof Array ? value[dimIndex] // If value is a single number or something else not array.\n      : value, this._dimensionInfos[dimName]);\n    },\n    typedArray: function (dataItem, dimName, dataIndex, dimIndex) {\n      return dataItem[dimIndex];\n    }\n  };\n\n  function getDimValueSimply(dataItem, dimName, dataIndex, dimIndex) {\n    return converDataValue(dataItem[dimIndex], this._dimensionInfos[dimName]);\n  }\n  /**\n   * This helper method convert value in data.\n   * @param {string|number|Date} value\n   * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n   *        If \"dimInfo.ordinalParseAndSave\", ordinal value can be parsed.\n   */\n\n\n  function converDataValue(value, dimInfo) {\n    // Performance sensitive.\n    var dimType = dimInfo && dimInfo.type;\n\n    if (dimType === 'ordinal') {\n      // If given value is a category string\n      var ordinalMeta = dimInfo && dimInfo.ordinalMeta;\n      return ordinalMeta ? ordinalMeta.parseAndCollect(value) : value;\n    }\n\n    if (dimType === 'time' // spead up when using timestamp\n    && typeof value !== 'number' && value != null && value !== '-') {\n      value = +parseDate$1(value);\n    } // dimType defaults 'number'.\n    // If dimType is not ordinal and value is null or undefined or NaN or '-',\n    // parse to NaN.\n\n\n    return value == null || value === '' ? NaN // If string (like '-'), using '+' parse to NaN\n    // If object, also parse to NaN\n    : +value;\n  } // ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\n  // Consider persistent.\n  // Caution: why use raw value to display on label or tooltip?\n  // A reason is to avoid format. For example time value we do not know\n  // how to format is expected. More over, if stack is used, calculated\n  // value may be 0.91000000001, which have brings trouble to display.\n  // TODO: consider how to treat null/undefined/NaN when display?\n\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @param {string|number} [dim] dimName or dimIndex\n   * @return {Array.<number>|string|number} can be null/undefined.\n   */\n\n\n  function retrieveRawValue(data, dataIndex, dim) {\n    if (!data) {\n      return;\n    } // Consider data may be not persistent.\n\n\n    var dataItem = data.getRawDataItem(dataIndex);\n\n    if (dataItem == null) {\n      return;\n    }\n\n    var sourceFormat = data.getProvider().getSource().sourceFormat;\n    var dimName;\n    var dimIndex;\n    var dimInfo = data.getDimensionInfo(dim);\n\n    if (dimInfo) {\n      dimName = dimInfo.name;\n      dimIndex = dimInfo.index;\n    }\n\n    return rawValueGetters[sourceFormat](dataItem, dataIndex, dimIndex, dimName);\n  }\n  /**\n   * Compatible with some cases (in pie, map) like:\n   * data: [{name: 'xx', value: 5, selected: true}, ...]\n   * where only sourceFormat is 'original' and 'objectRows' supported.\n   *\n   * ??? TODO\n   * Supported detail options in data item when using 'arrayRows'.\n   *\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @param {string} attr like 'selected'\n   */\n\n\n  function retrieveRawAttr(data, dataIndex, attr) {\n    if (!data) {\n      return;\n    }\n\n    var sourceFormat = data.getProvider().getSource().sourceFormat;\n\n    if (sourceFormat !== SOURCE_FORMAT_ORIGINAL$3 && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS$2) {\n      return;\n    }\n\n    var dataItem = data.getRawDataItem(dataIndex);\n\n    if (sourceFormat === SOURCE_FORMAT_ORIGINAL$3 && !isObject$a(dataItem)) {\n      dataItem = null;\n    }\n\n    if (dataItem) {\n      return dataItem[attr];\n    }\n  }\n\n  var DefaultDataProvider_1 = DefaultDataProvider;\n  var defaultDimValueGetters_1 = defaultDimValueGetters;\n  var retrieveRawValue_1 = retrieveRawValue;\n  var retrieveRawAttr_1 = retrieveRawAttr;\n\n  var dataProvider = {\n  \tDefaultDataProvider: DefaultDataProvider_1,\n  \tdefaultDimValueGetters: defaultDimValueGetters_1,\n  \tretrieveRawValue: retrieveRawValue_1,\n  \tretrieveRawAttr: retrieveRawAttr_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieveRawValue$1 = dataProvider.retrieveRawValue;\n\n\n\n  var getTooltipMarker$1 = format$1.getTooltipMarker;\n  var formatTpl$1 = format$1.formatTpl;\n\n\n\n  var getTooltipRenderMode$1 = model.getTooltipRenderMode;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\n  var _default$13 = {\n    /**\n     * Get params for formatter\n     * @param {number} dataIndex\n     * @param {string} [dataType]\n     * @return {Object}\n     */\n    getDataParams: function (dataIndex, dataType) {\n      var data = this.getData(dataType);\n      var rawValue = this.getRawValue(dataIndex, dataType);\n      var rawDataIndex = data.getRawIndex(dataIndex);\n      var name = data.getName(dataIndex);\n      var itemOpt = data.getRawDataItem(dataIndex);\n      var color = data.getItemVisual(dataIndex, 'color');\n      var borderColor = data.getItemVisual(dataIndex, 'borderColor');\n      var tooltipModel = this.ecModel.getComponent('tooltip');\n      var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n      var renderMode = getTooltipRenderMode$1(renderModeOption);\n      var mainType = this.mainType;\n      var isSeries = mainType === 'series';\n      var userOutput = data.userOutput;\n      return {\n        componentType: mainType,\n        componentSubType: this.subType,\n        componentIndex: this.componentIndex,\n        seriesType: isSeries ? this.subType : null,\n        seriesIndex: this.seriesIndex,\n        seriesId: isSeries ? this.id : null,\n        seriesName: isSeries ? this.name : null,\n        name: name,\n        dataIndex: rawDataIndex,\n        data: itemOpt,\n        dataType: dataType,\n        value: rawValue,\n        color: color,\n        borderColor: borderColor,\n        dimensionNames: userOutput ? userOutput.dimensionNames : null,\n        encode: userOutput ? userOutput.encode : null,\n        marker: getTooltipMarker$1({\n          color: color,\n          renderMode: renderMode\n        }),\n        // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n        $vars: ['seriesName', 'name', 'value']\n      };\n    },\n\n    /**\n     * Format label\n     * @param {number} dataIndex\n     * @param {string} [status='normal'] 'normal' or 'emphasis'\n     * @param {string} [dataType]\n     * @param {number} [dimIndex] Only used in some chart that\n     *        use formatter in different dimensions, like radar.\n     * @param {string} [labelProp='label']\n     * @return {string} If not formatter, return null/undefined\n     */\n    getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n      status = status || 'normal';\n      var data = this.getData(dataType);\n      var itemModel = data.getItemModel(dataIndex);\n      var params = this.getDataParams(dataIndex, dataType);\n\n      if (dimIndex != null && params.value instanceof Array) {\n        params.value = params.value[dimIndex];\n      }\n\n      var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n      if (typeof formatter === 'function') {\n        params.status = status;\n        params.dimensionIndex = dimIndex;\n        return formatter(params);\n      } else if (typeof formatter === 'string') {\n        var str = formatTpl$1(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n        // Do not support '}' in dim name util have to.\n\n        return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n          var len = dim.length;\n\n          if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n            dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n          }\n\n          return retrieveRawValue$1(data, dataIndex, dim);\n        });\n      }\n    },\n\n    /**\n     * Get raw value in option\n     * @param {number} idx\n     * @param {string} [dataType]\n     * @return {Array|number|string}\n     */\n    getRawValue: function (idx, dataType) {\n      return retrieveRawValue$1(this.getData(dataType), idx);\n    },\n\n    /**\n     * Should be implemented.\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     * @return {string} tooltip string\n     */\n    formatTooltip: function () {// Empty function\n    }\n  };\n  var dataFormat = _default$13;\n\n  var isArray$7 = util.isArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} define\n   * @return See the return of `createTask`.\n   */\n  function createTask(define) {\n    return new Task(define);\n  }\n  /**\n   * @constructor\n   * @param {Object} define\n   * @param {Function} define.reset Custom reset\n   * @param {Function} [define.plan] Returns 'reset' indicate reset immediately.\n   * @param {Function} [define.count] count is used to determin data task.\n   * @param {Function} [define.onDirty] count is used to determin data task.\n   */\n\n\n  function Task(define) {\n    define = define || {};\n    this._reset = define.reset;\n    this._plan = define.plan;\n    this._count = define.count;\n    this._onDirty = define.onDirty;\n    this._dirty = true; // Context must be specified implicitly, to\n    // avoid miss update context when model changed.\n\n    this.context;\n  }\n\n  var taskProto = Task.prototype;\n  /**\n   * @param {Object} performArgs\n   * @param {number} [performArgs.step] Specified step.\n   * @param {number} [performArgs.skip] Skip customer perform call.\n   * @param {number} [performArgs.modBy] Sampling window size.\n   * @param {number} [performArgs.modDataCount] Sampling count.\n   */\n\n  taskProto.perform = function (performArgs) {\n    var upTask = this._upstream;\n    var skip = performArgs && performArgs.skip; // TODO some refactor.\n    // Pull data. Must pull data each time, because context.data\n    // may be updated by Series.setData.\n\n    if (this._dirty && upTask) {\n      var context = this.context;\n      context.data = context.outputData = upTask.context.outputData;\n    }\n\n    if (this.__pipeline) {\n      this.__pipeline.currentTask = this;\n    }\n\n    var planResult;\n\n    if (this._plan && !skip) {\n      planResult = this._plan(this.context);\n    } // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n    // elements uniformed distributed when progress, especially when moving or zooming.\n\n\n    var lastModBy = normalizeModBy(this._modBy);\n    var lastModDataCount = this._modDataCount || 0;\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\n\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n      planResult = 'reset';\n    }\n\n    function normalizeModBy(val) {\n      !(val >= 1) && (val = 1); // jshint ignore:line\n\n      return val;\n    }\n\n    var forceFirstProgress;\n\n    if (this._dirty || planResult === 'reset') {\n      this._dirty = false;\n      forceFirstProgress = reset(this, skip);\n    }\n\n    this._modBy = modBy;\n    this._modDataCount = modDataCount;\n    var step = performArgs && performArgs.step;\n\n    if (upTask) {\n      this._dueEnd = upTask._outputDueEnd;\n    } // DataTask or overallTask\n    else {\n        this._dueEnd = this._count ? this._count(this.context) : Infinity;\n      } // Note: Stubs, that its host overall task let it has progress, has progress.\n    // If no progress, pass index from upstream to downstream each time plan called.\n\n\n    if (this._progress) {\n      var start = this._dueIndex;\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n\n      if (!skip && (forceFirstProgress || start < end)) {\n        var progress = this._progress;\n\n        if (isArray$7(progress)) {\n          for (var i = 0; i < progress.length; i++) {\n            doProgress(this, progress[i], start, end, modBy, modDataCount);\n          }\n        } else {\n          doProgress(this, progress, start, end, modBy, modDataCount);\n        }\n      }\n\n      this._dueIndex = end; // If no `outputDueEnd`, assume that output data and\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\n\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n      this._outputDueEnd = outputDueEnd;\n    } else {\n      // (1) Some overall task has no progress.\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n      // This should always be performed so it can be passed to downstream.\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n    }\n\n    return this.unfinished();\n  };\n\n  var iterator = function () {\n    var end;\n    var current;\n    var modBy;\n    var modDataCount;\n    var winCount;\n    var it = {\n      reset: function (s, e, sStep, sCount) {\n        current = s;\n        end = e;\n        modBy = sStep;\n        modDataCount = sCount;\n        winCount = Math.ceil(modDataCount / modBy);\n        it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n      }\n    };\n    return it;\n\n    function sequentialNext() {\n      return current < end ? current++ : null;\n    }\n\n    function modNext() {\n      var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n      var result = current >= end ? null : dataIndex < modDataCount ? dataIndex // If modDataCount is smaller than data.count() (consider `appendData` case),\n      // Use normal linear rendering mode.\n      : current;\n      current++;\n      return result;\n    }\n  }();\n\n  taskProto.dirty = function () {\n    this._dirty = true;\n    this._onDirty && this._onDirty(this.context);\n  };\n\n  function doProgress(taskIns, progress, start, end, modBy, modDataCount) {\n    iterator.reset(start, end, modBy, modDataCount);\n    taskIns._callingProgress = progress;\n\n    taskIns._callingProgress({\n      start: start,\n      end: end,\n      count: end - start,\n      next: iterator.next\n    }, taskIns.context);\n  }\n\n  function reset(taskIns, skip) {\n    taskIns._dueIndex = taskIns._outputDueEnd = taskIns._dueEnd = 0;\n    taskIns._settedOutputEnd = null;\n    var progress;\n    var forceFirstProgress;\n\n    if (!skip && taskIns._reset) {\n      progress = taskIns._reset(taskIns.context);\n\n      if (progress && progress.progress) {\n        forceFirstProgress = progress.forceFirstProgress;\n        progress = progress.progress;\n      } // To simplify no progress checking, array must has item.\n\n\n      if (isArray$7(progress) && !progress.length) {\n        progress = null;\n      }\n    }\n\n    taskIns._progress = progress;\n    taskIns._modBy = taskIns._modDataCount = null;\n    var downstream = taskIns._downstream;\n    downstream && downstream.dirty();\n    return forceFirstProgress;\n  }\n  /**\n   * @return {boolean}\n   */\n\n\n  taskProto.unfinished = function () {\n    return this._progress && this._dueIndex < this._dueEnd;\n  };\n  /**\n   * @param {Object} downTask The downstream task.\n   * @return {Object} The downstream task.\n   */\n\n\n  taskProto.pipe = function (downTask) {\n    // If already downstream, do not dirty downTask.\n    if (this._downstream !== downTask || this._dirty) {\n      this._downstream = downTask;\n      downTask._upstream = this;\n      downTask.dirty();\n    }\n  };\n\n  taskProto.dispose = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    this._upstream && (this._upstream._downstream = null);\n    this._downstream && (this._downstream._upstream = null);\n    this._dirty = false;\n    this._disposed = true;\n  };\n\n  taskProto.getUpstream = function () {\n    return this._upstream;\n  };\n\n  taskProto.getDownstream = function () {\n    return this._downstream;\n  };\n\n  taskProto.setOutputEnd = function (end) {\n    // This only happend in dataTask, dataZoom, map, currently.\n    // where dataZoom do not set end each time, but only set\n    // when reset. So we should record the setted end, in case\n    // that the stub of dataZoom perform again and earse the\n    // setted end by upstream.\n    this._outputDueEnd = this._settedOutputEnd = end;\n  }; ///////////////////////////////////////////////////////////\n  // For stream debug (Should be commented out after used!)\n  // Usage: printTask(this, 'begin');\n  // Usage: printTask(this, null, {someExtraProp});\n  // function printTask(task, prefix, extra) {\n  //     window.ecTaskUID == null && (window.ecTaskUID = 0);\n  //     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n  //     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n  //     var props = [];\n  //     if (task.__pipeline) {\n  //         var val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n  //         props.push({text: 'idx', value: val});\n  //     } else {\n  //         var stubCount = 0;\n  //         task.agentStubMap.each(() => stubCount++);\n  //         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n  //     }\n  //     props.push({text: 'uid', value: task.uidDebug});\n  //     if (task.__pipeline) {\n  //         props.push({text: 'pid', value: task.__pipeline.id});\n  //         task.agent && props.push(\n  //             {text: 'stubFor', value: task.agent.uidDebug}\n  //         );\n  //     }\n  //     props.push(\n  //         {text: 'dirty', value: task._dirty},\n  //         {text: 'dueIndex', value: task._dueIndex},\n  //         {text: 'dueEnd', value: task._dueEnd},\n  //         {text: 'outputDueEnd', value: task._outputDueEnd}\n  //     );\n  //     if (extra) {\n  //         Object.keys(extra).forEach(key => {\n  //             props.push({text: key, value: extra[key]});\n  //         });\n  //     }\n  //     var args = ['color: blue'];\n  //     var msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n  //         args.push('color: black', 'color: red'),\n  //         `${item.text}: %c${item.value}`\n  //     )).join('%c, ');\n  //     console.log.apply(console, [msg].concat(args));\n  //     // console.log(this);\n  // }\n\n\n  var createTask_1 = createTask;\n\n  var task$2 = {\n  \tcreateTask: createTask_1\n  };\n\n  var formatTime$1 = format$1.formatTime;\n  var encodeHTML$1 = format$1.encodeHTML;\n  var addCommas$1 = format$1.addCommas;\n  var getTooltipMarker$2 = format$1.getTooltipMarker;\n\n\n\n\n\n\n\n\n\n\n\n  var getLayoutParams$1 = layout.getLayoutParams;\n  var mergeLayoutParam$1 = layout.mergeLayoutParam;\n\n\n\n  var createTask$1 = task$2.createTask;\n\n\n\n  var prepareSource$1 = sourceHelper.prepareSource;\n  var getSource$1 = sourceHelper.getSource;\n\n\n\n  var retrieveRawValue$2 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$4 = model.makeInner();\n  var SeriesModel = Component.extend({\n    type: 'series.__base__',\n\n    /**\n     * @readOnly\n     */\n    seriesIndex: 0,\n    // coodinateSystem will be injected in the echarts/CoordinateSystem\n    coordinateSystem: null,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * legend visual provider to the legend component\n     * @type {Object}\n     */\n    // PENDING\n    legendVisualProvider: null,\n\n    /**\n     * Access path of color for visual\n     */\n    visualColorAccessPath: 'itemStyle.color',\n\n    /**\n     * Access path of borderColor for visual\n     */\n    visualBorderColorAccessPath: 'itemStyle.borderColor',\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n    init: function (option, parentModel, ecModel, extraOpt) {\n      /**\n       * @type {number}\n       * @readOnly\n       */\n      this.seriesIndex = this.componentIndex;\n      this.dataTask = createTask$1({\n        count: dataTaskCount,\n        reset: dataTaskReset\n      });\n      this.dataTask.context = {\n        model: this\n      };\n      this.mergeDefaultAndTheme(option, ecModel);\n      prepareSource$1(this);\n      var data = this.getInitialData(option, ecModel);\n      wrapData(data, this);\n      this.dataTask.context.data = data;\n\n      /**\n       * @type {module:echarts/data/List|module:echarts/data/Tree|module:echarts/data/Graph}\n       * @private\n       */\n      inner$4(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n      // dataBeforeProcessed by cloneShallow), cloneShallow will\n      // cause data.graph.data !== data when using\n      // module:echarts/data/Graph or module:echarts/data/Tree.\n      // See module:echarts/data/helper/linkList\n      // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n      // init or merge stage, because the data can be restored. So we do not `restoreData`\n      // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n      // Call `seriesModel.getRawData()` instead.\n      // this.restoreData();\n\n      autoSeriesName(this);\n    },\n\n    /**\n     * Util for merge default and theme to option\n     * @param  {Object} option\n     * @param  {module:echarts/model/Global} ecModel\n     */\n    mergeDefaultAndTheme: function (option, ecModel) {\n      var layoutMode = this.layoutMode;\n      var inputPositionParams = layoutMode ? getLayoutParams$1(option) : {}; // Backward compat: using subType on theme.\n      // But if name duplicate between series subType\n      // (for example: parallel) add component mainType,\n      // add suffix 'Series'.\n\n      var themeSubType = this.subType;\n\n      if (Component.hasClass(themeSubType)) {\n        themeSubType += 'Series';\n      }\n\n      util.merge(option, ecModel.getTheme().get(this.subType));\n      util.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n      model.defaultEmphasis(option, 'label', ['show']);\n      this.fillDataTextStyle(option.data);\n\n      if (layoutMode) {\n        mergeLayoutParam$1(option, inputPositionParams, layoutMode);\n      }\n    },\n    mergeOption: function (newSeriesOption, ecModel) {\n      // this.settingTask.dirty();\n      newSeriesOption = util.merge(this.option, newSeriesOption, true);\n      this.fillDataTextStyle(newSeriesOption.data);\n      var layoutMode = this.layoutMode;\n\n      if (layoutMode) {\n        mergeLayoutParam$1(this.option, newSeriesOption, layoutMode);\n      }\n\n      prepareSource$1(this);\n      var data = this.getInitialData(newSeriesOption, ecModel);\n      wrapData(data, this);\n      this.dataTask.dirty();\n      this.dataTask.context.data = data;\n      inner$4(this).dataBeforeProcessed = data;\n      autoSeriesName(this);\n    },\n    fillDataTextStyle: function (data) {\n      // Default data label emphasis `show`\n      // FIXME Tree structure data ?\n      // FIXME Performance ?\n      if (data && !util.isTypedArray(data)) {\n        var props = ['show'];\n\n        for (var i = 0; i < data.length; i++) {\n          if (data[i] && data[i].label) {\n            model.defaultEmphasis(data[i], 'label', props);\n          }\n        }\n      }\n    },\n\n    /**\n     * Init a data structure from data related option in series\n     * Must be overwritten\n     */\n    getInitialData: function () {},\n\n    /**\n     * Append data to list\n     * @param {Object} params\n     * @param {Array|TypedArray} params.data\n     */\n    appendData: function (params) {\n      // FIXME ???\n      // (1) If data from dataset, forbidden append.\n      // (2) support append data of dataset.\n      var data = this.getRawData();\n      data.appendData(params.data);\n    },\n\n    /**\n     * Consider some method like `filter`, `map` need make new data,\n     * We should make sure that `seriesModel.getData()` get correct\n     * data in the stream procedure. So we fetch data from upstream\n     * each time `task.perform` called.\n     * @param {string} [dataType]\n     * @return {module:echarts/data/List}\n     */\n    getData: function (dataType) {\n      var task = getCurrentTask(this);\n\n      if (task) {\n        var data = task.context.data;\n        return dataType == null ? data : data.getLinkedData(dataType);\n      } else {\n        // When series is not alive (that may happen when click toolbox\n        // restore or setOption with not merge mode), series data may\n        // be still need to judge animation or something when graphic\n        // elements want to know whether fade out.\n        return inner$4(this).data;\n      }\n    },\n\n    /**\n     * @param {module:echarts/data/List} data\n     */\n    setData: function (data) {\n      var task = getCurrentTask(this);\n\n      if (task) {\n        var context = task.context; // Consider case: filter, data sample.\n\n        if (context.data !== data && task.modifyOutputEnd) {\n          task.setOutputEnd(data.count());\n        }\n\n        context.outputData = data; // Caution: setData should update context.data,\n        // Because getData may be called multiply in a\n        // single stage and expect to get the data just\n        // set. (For example, AxisProxy, x y both call\n        // getData and setDate sequentially).\n        // So the context.data should be fetched from\n        // upstream each time when a stage starts to be\n        // performed.\n\n        if (task !== this.dataTask) {\n          context.data = data;\n        }\n      }\n\n      inner$4(this).data = data;\n    },\n\n    /**\n     * @see {module:echarts/data/helper/sourceHelper#getSource}\n     * @return {module:echarts/data/Source} source\n     */\n    getSource: function () {\n      return getSource$1(this);\n    },\n\n    /**\n     * Get data before processed\n     * @return {module:echarts/data/List}\n     */\n    getRawData: function () {\n      return inner$4(this).dataBeforeProcessed;\n    },\n\n    /**\n     * Get base axis if has coordinate system and has axis.\n     * By default use coordSys.getBaseAxis();\n     * Can be overrided for some chart.\n     * @return {type} description\n     */\n    getBaseAxis: function () {\n      var coordSys = this.coordinateSystem;\n      return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n    },\n    // FIXME\n\n    /**\n     * Default tooltip formatter\n     *\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     * @param {string} [renderMode='html'] valid values: 'html' and 'richText'.\n     *                                     'html' is used for rendering tooltip in extra DOM form, and the result\n     *                                     string is used as DOM HTML content.\n     *                                     'richText' is used for rendering tooltip in rich text form, for those where\n     *                                     DOM operation is not supported.\n     * @return {Object} formatted tooltip with `html` and `markers`\n     */\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var series = this;\n      renderMode = renderMode || 'html';\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n      var isRichText = renderMode === 'richText';\n      var markers = {};\n      var markerId = 0;\n\n      function formatArrayValue(value) {\n        // ??? TODO refactor these logic.\n        // check: category-no-encode-has-axis-data in dataset.html\n        var vertially = util.reduce(value, function (vertially, val, idx) {\n          var dimItem = data.getDimensionInfo(idx);\n          return vertially |= dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\n        }, 0);\n        var result = [];\n        tooltipDims.length ? util.each(tooltipDims, function (dim) {\n          setEachItem(retrieveRawValue$2(data, dataIndex, dim), dim);\n        }) // By default, all dims is used on tooltip.\n        : util.each(value, setEachItem);\n\n        function setEachItem(val, dim) {\n          var dimInfo = data.getDimensionInfo(dim); // If `dimInfo.tooltip` is not set, show tooltip.\n\n          if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n            return;\n          }\n\n          var dimType = dimInfo.type;\n          var markName = 'sub' + series.seriesIndex + 'at' + markerId;\n          var dimHead = getTooltipMarker$2({\n            color: color,\n            type: 'subItem',\n            renderMode: renderMode,\n            markerId: markName\n          });\n          var dimHeadStr = typeof dimHead === 'string' ? dimHead : dimHead.content;\n          var valStr = (vertially ? dimHeadStr + encodeHTML$1(dimInfo.displayName || '-') + ': ' : '') + // FIXME should not format time for raw data?\n          encodeHTML$1(dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : formatTime$1('yyyy/MM/dd hh:mm:ss', val) : addCommas$1(val));\n          valStr && result.push(valStr);\n\n          if (isRichText) {\n            markers[markName] = color;\n            ++markerId;\n          }\n        }\n\n        var newLine = vertially ? isRichText ? '\\n' : '<br/>' : '';\n        var content = newLine + result.join(newLine || ', ');\n        return {\n          renderMode: renderMode,\n          content: content,\n          style: markers\n        };\n      }\n\n      function formatSingleValue(val) {\n        // return encodeHTML(addCommas(val));\n        return {\n          renderMode: renderMode,\n          content: encodeHTML$1(addCommas$1(val)),\n          style: markers\n        };\n      }\n\n      var data = this.getData();\n      var tooltipDims = data.mapDimension('defaultedTooltip', true);\n      var tooltipDimLen = tooltipDims.length;\n      var value = this.getRawValue(dataIndex);\n      var isValueArr = util.isArray(value);\n      var color = data.getItemVisual(dataIndex, 'color');\n\n      if (util.isObject(color) && color.colorStops) {\n        color = (color.colorStops[0] || {}).color;\n      }\n\n      color = color || 'transparent'; // Complicated rule for pretty tooltip.\n\n      var formattedValue = tooltipDimLen > 1 || isValueArr && !tooltipDimLen ? formatArrayValue(value) : tooltipDimLen ? formatSingleValue(retrieveRawValue$2(data, dataIndex, tooltipDims[0])) : formatSingleValue(isValueArr ? value[0] : value);\n      var content = formattedValue.content;\n      var markName = series.seriesIndex + 'at' + markerId;\n      var colorEl = getTooltipMarker$2({\n        color: color,\n        type: 'item',\n        renderMode: renderMode,\n        markerId: markName\n      });\n      markers[markName] = color;\n      ++markerId;\n      var name = data.getName(dataIndex);\n      var seriesName = this.name;\n\n      if (!model.isNameSpecified(this)) {\n        seriesName = '';\n      }\n\n      seriesName = seriesName ? encodeHTML$1(seriesName) + (!multipleSeries ? newLine : ': ') : '';\n      var colorStr = typeof colorEl === 'string' ? colorEl : colorEl.content;\n      var html = !multipleSeries ? seriesName + colorStr + (name ? encodeHTML$1(name) + ': ' + content : content) : colorStr + seriesName + content;\n      return {\n        html: html,\n        markers: markers\n      };\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n      if (env_1.node) {\n        return false;\n      }\n\n      var animationEnabled = this.getShallow('animation');\n\n      if (animationEnabled) {\n        if (this.getData().count() > this.getShallow('animationThreshold')) {\n          animationEnabled = false;\n        }\n      }\n\n      return animationEnabled;\n    },\n    restoreData: function () {\n      this.dataTask.dirty();\n    },\n    getColorFromPalette: function (name, scope, requestColorNum) {\n      var ecModel = this.ecModel; // PENDING\n\n      var color = colorPalette.getColorFromPalette.call(this, name, scope, requestColorNum);\n\n      if (!color) {\n        color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n      }\n\n      return color;\n    },\n\n    /**\n     * Use `data.mapDimension(coordDim, true)` instead.\n     * @deprecated\n     */\n    coordDimToDataDim: function (coordDim) {\n      return this.getRawData().mapDimension(coordDim, true);\n    },\n\n    /**\n     * Get progressive rendering count each step\n     * @return {number}\n     */\n    getProgressive: function () {\n      return this.get('progressive');\n    },\n\n    /**\n     * Get progressive rendering count each step\n     * @return {number}\n     */\n    getProgressiveThreshold: function () {\n      return this.get('progressiveThreshold');\n    },\n\n    /**\n     * Get data indices for show tooltip content. See tooltip.\n     * @abstract\n     * @param {Array.<string>|string} dim\n     * @param {Array.<number>} value\n     * @param {module:echarts/coord/single/SingleAxis} baseAxis\n     * @return {Object} {dataIndices, nestestValue}.\n     */\n    getAxisTooltipData: null,\n\n    /**\n     * See tooltip.\n     * @abstract\n     * @param {number} dataIndex\n     * @return {Array.<number>} Point of tooltip. null/undefined can be returned.\n     */\n    getTooltipPosition: null,\n\n    /**\n     * @see {module:echarts/stream/Scheduler}\n     */\n    pipeTask: null,\n\n    /**\n     * Convinient for override in extended class.\n     * @protected\n     * @type {Function}\n     */\n    preventIncremental: null,\n\n    /**\n     * @public\n     * @readOnly\n     * @type {Object}\n     */\n    pipelineContext: null\n  });\n  util.mixin(SeriesModel, dataFormat);\n  util.mixin(SeriesModel, colorPalette);\n  /**\n   * MUST be called after `prepareSource` called\n   * Here we need to make auto series, especially for auto legend. But we\n   * do not modify series.name in option to avoid side effects.\n   */\n\n  function autoSeriesName(seriesModel) {\n    // User specified name has higher priority, otherwise it may cause\n    // series can not be queried unexpectedly.\n    var name = seriesModel.name;\n\n    if (!model.isNameSpecified(seriesModel)) {\n      seriesModel.name = getSeriesAutoName(seriesModel) || name;\n    }\n  }\n\n  function getSeriesAutoName(seriesModel) {\n    var data = seriesModel.getRawData();\n    var dataDims = data.mapDimension('seriesName', true);\n    var nameArr = [];\n    util.each(dataDims, function (dataDim) {\n      var dimInfo = data.getDimensionInfo(dataDim);\n      dimInfo.displayName && nameArr.push(dimInfo.displayName);\n    });\n    return nameArr.join(' ');\n  }\n\n  function dataTaskCount(context) {\n    return context.model.getRawData().count();\n  }\n\n  function dataTaskReset(context) {\n    var seriesModel = context.model;\n    seriesModel.setData(seriesModel.getRawData().cloneShallow());\n    return dataTaskProgress;\n  }\n\n  function dataTaskProgress(param, context) {\n    // Avoid repead cloneShallow when data just created in reset.\n    if (context.outputData && param.end > context.outputData.count()) {\n      context.model.getRawData().cloneShallow(context.outputData);\n    }\n  } // TODO refactor\n\n\n  function wrapData(data, seriesModel) {\n    util.each(data.CHANGABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, util.curry(onDataSelfChange, seriesModel));\n    });\n  }\n\n  function onDataSelfChange(seriesModel) {\n    var task = getCurrentTask(seriesModel);\n\n    if (task) {\n      // Consider case: filter, selectRange\n      task.setOutputEnd(this.count());\n    }\n  }\n\n  function getCurrentTask(seriesModel) {\n    var scheduler = (seriesModel.ecModel || {}).scheduler;\n    var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n\n    if (pipeline) {\n      // When pipline finished, the currrentTask keep the last\n      // task (renderTask).\n      var task = pipeline.currentTask;\n\n      if (task) {\n        var agentStubMap = task.agentStubMap;\n\n        if (agentStubMap) {\n          task = agentStubMap.get(seriesModel.uid);\n        }\n      }\n\n      return task;\n    }\n  }\n\n  var _default$14 = SeriesModel;\n  var Series = _default$14;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var Component$1 = function () {\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group_1();\n    /**\n     * @type {string}\n     * @readOnly\n     */\n\n    this.uid = component.getUID('viewComponent');\n  };\n\n  Component$1.prototype = {\n    constructor: Component$1,\n    init: function (ecModel, api) {},\n    render: function (componentModel, ecModel, api, payload) {},\n    dispose: function () {},\n\n    /**\n     * @param {string} eventType\n     * @param {Object} query\n     * @param {module:zrender/Element} targetEl\n     * @param {Object} packedEvent\n     * @return {boolen} Pass only when return `true`.\n     */\n    filterForExposedEvent: null\n  };\n  var componentProto = Component$1.prototype;\n\n  componentProto.updateView = componentProto.updateLayout = componentProto.updateVisual = function (seriesModel, ecModel, api, payload) {// Do nothing;\n  }; // Enable Component.extend.\n\n\n  clazz.enableClassExtend(Component$1); // Enable capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  clazz.enableClassManagement(Component$1, {\n    registerWhenExtend: true\n  });\n  var _default$15 = Component$1;\n  var Component_1 = _default$15;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var makeInner$5 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @return {string} If large mode changed, return string 'reset';\n   */\n  function _default$16() {\n    var inner = makeInner$5();\n    return function (seriesModel) {\n      var fields = inner(seriesModel);\n      var pipelineContext = seriesModel.pipelineContext;\n      var originalLarge = fields.large;\n      var originalProgressive = fields.progressiveRender; // FIXME: if the planner works on a filtered series, `pipelineContext` does not\n      // exists. See #11611 . Probably we need to modify this structure, see the comment\n      // on `performRawSeries` in `Schedular.js`.\n\n      var large = fields.large = pipelineContext && pipelineContext.large;\n      var progressive = fields.progressiveRender = pipelineContext && pipelineContext.progressiveRender;\n      return !!(originalLarge ^ large || originalProgressive ^ progressive) && 'reset';\n    };\n  }\n\n  var createRenderPlanner = _default$16;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$b = util.each;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var createTask$2 = task$2.createTask;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$5 = model.makeInner();\n  var renderPlanner = createRenderPlanner();\n\n  function Chart() {\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group_1();\n    /**\n     * @type {string}\n     * @readOnly\n     */\n\n    this.uid = component.getUID('viewChart');\n    this.renderTask = createTask$2({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n\n  Chart.prototype = {\n    type: 'chart',\n\n    /**\n     * Init the chart.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    init: function (ecModel, api) {},\n\n    /**\n     * Render the chart.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    render: function (seriesModel, ecModel, api, payload) {},\n\n    /**\n     * Highlight series or specified data item.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    highlight: function (seriesModel, ecModel, api, payload) {\n      toggleHighlight(seriesModel.getData(), payload, 'emphasis');\n    },\n\n    /**\n     * Downplay series or specified data item.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    downplay: function (seriesModel, ecModel, api, payload) {\n      toggleHighlight(seriesModel.getData(), payload, 'normal');\n    },\n\n    /**\n     * Remove self.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    remove: function (ecModel, api) {\n      this.group.removeAll();\n    },\n\n    /**\n     * Dispose self.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    dispose: function () {},\n\n    /**\n     * Rendering preparation in progressive mode.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    incrementalPrepareRender: null,\n\n    /**\n     * Render in progressive mode.\n     * @param  {Object} params See taskParams in `stream/task.js`\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    incrementalRender: null,\n\n    /**\n     * Update transform directly.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     * @return {Object} {update: true}\n     */\n    updateTransform: null,\n\n    /**\n     * The view contains the given point.\n     * @interface\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    // containPoint: function () {}\n\n    /**\n     * @param {string} eventType\n     * @param {Object} query\n     * @param {module:zrender/Element} targetEl\n     * @param {Object} packedEvent\n     * @return {boolen} Pass only when return `true`.\n     */\n    filterForExposedEvent: null\n  };\n  var chartProto = Chart.prototype;\n\n  chartProto.updateView = chartProto.updateLayout = chartProto.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  /**\n   * Set state of single element\n   * @param {module:zrender/Element} el\n   * @param {string} state 'normal'|'emphasis'\n   * @param {number} highlightDigit\n   */\n\n\n  function elSetState(el, state, highlightDigit) {\n    if (el) {\n      el.trigger(state, highlightDigit);\n\n      if (el.isGroup // Simple optimize.\n      && !graphic.isHighDownDispatcher(el)) {\n        for (var i = 0, len = el.childCount(); i < len; i++) {\n          elSetState(el.childAt(i), state, highlightDigit);\n        }\n      }\n    }\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {Object} payload\n   * @param {string} state 'normal'|'emphasis'\n   */\n\n\n  function toggleHighlight(data, payload, state) {\n    var dataIndex = model.queryDataIndex(data, payload);\n    var highlightDigit = payload && payload.highlightKey != null ? graphic.getHighlightDigit(payload.highlightKey) : null;\n\n    if (dataIndex != null) {\n      each$b(model.normalizeToArray(dataIndex), function (dataIdx) {\n        elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n      });\n    } else {\n      data.eachItemGraphicEl(function (el) {\n        elSetState(el, state, highlightDigit);\n      });\n    }\n  } // Enable Chart.extend.\n\n\n  clazz.enableClassExtend(Chart, ['dispose']); // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  clazz.enableClassManagement(Chart, {\n    registerWhenExtend: true\n  });\n\n  Chart.markUpdateMethod = function (payload, methodName) {\n    inner$5(payload).updateMethod = methodName;\n  };\n\n  function renderTaskPlan(context) {\n    return renderPlanner(context.model);\n  }\n\n  function renderTaskReset(context) {\n    var seriesModel = context.model;\n    var ecModel = context.ecModel;\n    var api = context.api;\n    var payload = context.payload; // ???! remove updateView updateVisual\n\n    var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n    var view = context.view;\n    var updateMethod = payload && inner$5(payload).updateMethod;\n    var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod // `appendData` is also supported when data amount\n    // is less than progressive threshold.\n    : 'render';\n\n    if (methodName !== 'render') {\n      view[methodName](seriesModel, ecModel, api, payload);\n    }\n\n    return progressMethodMap[methodName];\n  }\n\n  var progressMethodMap = {\n    incrementalPrepareRender: {\n      progress: function (params, context) {\n        context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n      }\n    },\n    render: {\n      // Put view.render in `progress` to support appendData. But in this case\n      // view.render should not be called in reset, otherwise it will be called\n      // twise. Use `forceFirstProgress` to make sure that view.render is called\n      // in any cases.\n      forceFirstProgress: true,\n      progress: function (params, context) {\n        context.view.render(context.model, context.ecModel, context.api, context.payload);\n      }\n    }\n  };\n  var _default$17 = Chart;\n  var Chart_1 = _default$17;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var ORIGIN_METHOD = '\\0__throttleOriginMethod';\n  var RATE = '\\0__throttleRate';\n  var THROTTLE_TYPE = '\\0__throttleType';\n  /**\n   * @public\n   * @param {(Function)} fn\n   * @param {number} [delay=0] Unit: ms.\n   * @param {boolean} [debounce=false]\n   *        true: If call interval less than `delay`, only the last call works.\n   *        false: If call interval less than `delay, call works on fixed rate.\n   * @return {(Function)} throttled fn.\n   */\n\n  function throttle$1(fn, delay, debounce) {\n    var currCall;\n    var lastCall = 0;\n    var lastExec = 0;\n    var timer = null;\n    var diff;\n    var scope;\n    var args;\n    var debounceNextCall;\n    delay = delay || 0;\n\n    function exec() {\n      lastExec = new Date().getTime();\n      timer = null;\n      fn.apply(scope, args || []);\n    }\n\n    var cb = function () {\n      currCall = new Date().getTime();\n      scope = this;\n      args = arguments;\n      var thisDelay = debounceNextCall || delay;\n      var thisDebounce = debounceNextCall || debounce;\n      debounceNextCall = null;\n      diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n      clearTimeout(timer); // Here we should make sure that: the `exec` SHOULD NOT be called later\n      // than a new call of `cb`, that is, preserving the command order. Consider\n      // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n      // happens, either the `exec` is called dierectly, or the call is delayed.\n      // But the delayed call should never be later than next call of `cb`. Under\n      // this assurance, we can simply update view state each time `dispatchAction`\n      // triggered by user roaming, but not need to add extra code to avoid the\n      // state being \"rolled-back\".\n\n      if (thisDebounce) {\n        timer = setTimeout(exec, thisDelay);\n      } else {\n        if (diff >= 0) {\n          exec();\n        } else {\n          timer = setTimeout(exec, -diff);\n        }\n      }\n\n      lastCall = currCall;\n    };\n    /**\n     * Clear throttle.\n     * @public\n     */\n\n\n    cb.clear = function () {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      }\n    };\n    /**\n     * Enable debounce once.\n     */\n\n\n    cb.debounceNextCall = function (debounceDelay) {\n      debounceNextCall = debounceDelay;\n    };\n\n    return cb;\n  }\n  /**\n   * Create throttle method or update throttle rate.\n   *\n   * @example\n   * ComponentView.prototype.render = function () {\n   *     ...\n   *     throttle.createOrUpdate(\n   *         this,\n   *         '_dispatchAction',\n   *         this.model.get('throttle'),\n   *         'fixRate'\n   *     );\n   * };\n   * ComponentView.prototype.remove = function () {\n   *     throttle.clear(this, '_dispatchAction');\n   * };\n   * ComponentView.prototype.dispose = function () {\n   *     throttle.clear(this, '_dispatchAction');\n   * };\n   *\n   * @public\n   * @param {Object} obj\n   * @param {string} fnAttr\n   * @param {number} [rate]\n   * @param {string} [throttleType='fixRate'] 'fixRate' or 'debounce'\n   * @return {Function} throttled function.\n   */\n\n\n  function createOrUpdate(obj, fnAttr, rate, throttleType) {\n    var fn = obj[fnAttr];\n\n    if (!fn) {\n      return;\n    }\n\n    var originFn = fn[ORIGIN_METHOD] || fn;\n    var lastThrottleType = fn[THROTTLE_TYPE];\n    var lastRate = fn[RATE];\n\n    if (lastRate !== rate || lastThrottleType !== throttleType) {\n      if (rate == null || !throttleType) {\n        return obj[fnAttr] = originFn;\n      }\n\n      fn = obj[fnAttr] = throttle$1(originFn, rate, throttleType === 'debounce');\n      fn[ORIGIN_METHOD] = originFn;\n      fn[THROTTLE_TYPE] = throttleType;\n      fn[RATE] = rate;\n    }\n\n    return fn;\n  }\n  /**\n   * Clear throttle. Example see throttle.createOrUpdate.\n   *\n   * @public\n   * @param {Object} obj\n   * @param {string} fnAttr\n   */\n\n\n  function clear$1(obj, fnAttr) {\n    var fn = obj[fnAttr];\n\n    if (fn && fn[ORIGIN_METHOD]) {\n      obj[fnAttr] = fn[ORIGIN_METHOD];\n    }\n  }\n\n  var throttle_2 = throttle$1;\n  var createOrUpdate_1 = createOrUpdate;\n  var clear_1 = clear$1;\n\n  var throttle_1 = {\n  \tthrottle: throttle_2,\n  \tcreateOrUpdate: createOrUpdate_1,\n  \tclear: clear_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var isFunction$3 = util.isFunction;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$18 = {\n    createOnAllSeries: true,\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      var colorAccessPath = (seriesModel.visualColorAccessPath || 'itemStyle.color').split('.'); // Set in itemStyle\n\n      var color = seriesModel.get(colorAccessPath);\n      var colorCallback = isFunction$3(color) && !(color instanceof Gradient_1) ? color : null; // Default color\n\n      if (!color || colorCallback) {\n        color = seriesModel.getColorFromPalette( // TODO series count changed.\n        seriesModel.name, null, ecModel.getSeriesCount());\n      }\n\n      data.setVisual('color', color);\n      var borderColorAccessPath = (seriesModel.visualBorderColorAccessPath || 'itemStyle.borderColor').split('.');\n      var borderColor = seriesModel.get(borderColorAccessPath);\n      data.setVisual('borderColor', borderColor); // Only visible series has each data be visual encoded\n\n      if (!ecModel.isSeriesFiltered(seriesModel)) {\n        if (colorCallback) {\n          data.each(function (idx) {\n            data.setItemVisual(idx, 'color', colorCallback(seriesModel.getDataParams(idx)));\n          });\n        } // itemStyle in each data item\n\n\n        var dataEach = function (data, idx) {\n          var itemModel = data.getItemModel(idx);\n          var color = itemModel.get(colorAccessPath, true);\n          var borderColor = itemModel.get(borderColorAccessPath, true);\n\n          if (color != null) {\n            data.setItemVisual(idx, 'color', color);\n          }\n\n          if (borderColor != null) {\n            data.setItemVisual(idx, 'borderColor', borderColor);\n          }\n        };\n\n        return {\n          dataEach: data.hasItemOption ? dataEach : null\n        };\n      }\n    }\n  };\n  var seriesColor = _default$18;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Language: (Simplified) Chinese.\n   */\n  var _default$19 = {\n    legend: {\n      selector: {\n        all: '',\n        inverse: ''\n      }\n    },\n    toolbox: {\n      brush: {\n        title: {\n          rect: '',\n          polygon: '',\n          lineX: '',\n          lineY: '',\n          keep: '',\n          clear: ''\n        }\n      },\n      dataView: {\n        title: '',\n        lang: ['', '', '']\n      },\n      dataZoom: {\n        title: {\n          zoom: '',\n          back: ''\n        }\n      },\n      magicType: {\n        title: {\n          line: '',\n          bar: '',\n          stack: '',\n          tiled: ''\n        }\n      },\n      restore: {\n        title: ''\n      },\n      saveAsImage: {\n        title: '',\n        lang: ['']\n      }\n    },\n    series: {\n      typeNames: {\n        pie: '',\n        bar: '',\n        line: '',\n        scatter: '',\n        effectScatter: '',\n        radar: '',\n        tree: '',\n        treemap: '',\n        boxplot: '',\n        candlestick: 'K',\n        k: 'K',\n        heatmap: '',\n        map: '',\n        parallel: '',\n        lines: '',\n        graph: '',\n        sankey: '',\n        funnel: '',\n        gauge: '',\n        pictorialBar: '',\n        themeRiver: '',\n        sunburst: ''\n      }\n    },\n    aria: {\n      general: {\n        withTitle: '{title}',\n        withoutTitle: ''\n      },\n      series: {\n        single: {\n          prefix: '',\n          withName: '{seriesType}{seriesName}',\n          withoutName: '{seriesType}'\n        },\n        multiple: {\n          prefix: '{seriesCount}',\n          withName: '{seriesId}{seriesName}{seriesType}',\n          withoutName: '{seriesId}{seriesType}',\n          separator: {\n            middle: '',\n            end: ''\n          }\n        }\n      },\n      data: {\n        allData: '',\n        partialData: '{displayCnt}',\n        withName: '{name}{value}',\n        withoutName: '{value}',\n        separator: {\n          middle: '',\n          end: ''\n        }\n      }\n    }\n  };\n  var lang = _default$19;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var retrieveRawValue$3 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1a(dom, ecModel) {\n    var ariaModel = ecModel.getModel('aria');\n\n    if (!ariaModel.get('show')) {\n      return;\n    } else if (ariaModel.get('description')) {\n      dom.setAttribute('aria-label', ariaModel.get('description'));\n      return;\n    }\n\n    var seriesCnt = 0;\n    ecModel.eachSeries(function (seriesModel, idx) {\n      ++seriesCnt;\n    }, this);\n    var maxDataCnt = ariaModel.get('data.maxCount') || 10;\n    var maxSeriesCnt = ariaModel.get('series.maxCount') || 10;\n    var displaySeriesCnt = Math.min(seriesCnt, maxSeriesCnt);\n    var ariaLabel;\n\n    if (seriesCnt < 1) {\n      // No series, no aria label\n      return;\n    } else {\n      var title = getTitle();\n\n      if (title) {\n        ariaLabel = replace(getConfig('general.withTitle'), {\n          title: title\n        });\n      } else {\n        ariaLabel = getConfig('general.withoutTitle');\n      }\n\n      var seriesLabels = [];\n      var prefix = seriesCnt > 1 ? 'series.multiple.prefix' : 'series.single.prefix';\n      ariaLabel += replace(getConfig(prefix), {\n        seriesCount: seriesCnt\n      });\n      ecModel.eachSeries(function (seriesModel, idx) {\n        if (idx < displaySeriesCnt) {\n          var seriesLabel;\n          var seriesName = seriesModel.get('name');\n          var seriesTpl = 'series.' + (seriesCnt > 1 ? 'multiple' : 'single') + '.';\n          seriesLabel = getConfig(seriesName ? seriesTpl + 'withName' : seriesTpl + 'withoutName');\n          seriesLabel = replace(seriesLabel, {\n            seriesId: seriesModel.seriesIndex,\n            seriesName: seriesModel.get('name'),\n            seriesType: getSeriesTypeName(seriesModel.subType)\n          });\n          var data = seriesModel.getData();\n          window.data = data;\n\n          if (data.count() > maxDataCnt) {\n            // Show part of data\n            seriesLabel += replace(getConfig('data.partialData'), {\n              displayCnt: maxDataCnt\n            });\n          } else {\n            seriesLabel += getConfig('data.allData');\n          }\n\n          var dataLabels = [];\n\n          for (var i = 0; i < data.count(); i++) {\n            if (i < maxDataCnt) {\n              var name = data.getName(i);\n              var value = retrieveRawValue$3(data, i);\n              dataLabels.push(replace(name ? getConfig('data.withName') : getConfig('data.withoutName'), {\n                name: name,\n                value: value\n              }));\n            }\n          }\n\n          seriesLabel += dataLabels.join(getConfig('data.separator.middle')) + getConfig('data.separator.end');\n          seriesLabels.push(seriesLabel);\n        }\n      });\n      ariaLabel += seriesLabels.join(getConfig('series.multiple.separator.middle')) + getConfig('series.multiple.separator.end');\n      dom.setAttribute('aria-label', ariaLabel);\n    }\n\n    function replace(str, keyValues) {\n      if (typeof str !== 'string') {\n        return str;\n      }\n\n      var result = str;\n      util.each(keyValues, function (value, key) {\n        result = result.replace(new RegExp('\\\\{\\\\s*' + key + '\\\\s*\\\\}', 'g'), value);\n      });\n      return result;\n    }\n\n    function getConfig(path) {\n      var userConfig = ariaModel.get(path);\n\n      if (userConfig == null) {\n        var pathArr = path.split('.');\n        var result = lang.aria;\n\n        for (var i = 0; i < pathArr.length; ++i) {\n          result = result[pathArr[i]];\n        }\n\n        return result;\n      } else {\n        return userConfig;\n      }\n    }\n\n    function getTitle() {\n      var title = ecModel.getModel('title').option;\n\n      if (title && title.length) {\n        title = title[0];\n      }\n\n      return title && title.text;\n    }\n\n    function getSeriesTypeName(type) {\n      return lang.series.typeNames[type] || '';\n    }\n  }\n\n  var aria = _default$1a;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI$1 = Math.PI;\n  /**\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} [opts]\n   * @param {string} [opts.text]\n   * @param {string} [opts.color]\n   * @param {string} [opts.textColor]\n   * @return {module:zrender/Element}\n   */\n\n  function _default$1b(api, opts) {\n    opts = opts || {};\n    util.defaults(opts, {\n      text: 'loading',\n      textColor: '#000',\n      fontSize: '12px',\n      maskColor: 'rgba(255, 255, 255, 0.8)',\n      showSpinner: true,\n      color: '#c23531',\n      spinnerRadius: 10,\n      lineWidth: 5,\n      zlevel: 0\n    });\n    var group = new graphic.Group();\n    var mask = new graphic.Rect({\n      style: {\n        fill: opts.maskColor\n      },\n      zlevel: opts.zlevel,\n      z: 10000\n    });\n    group.add(mask);\n    var font = opts.fontSize + ' sans-serif';\n    var labelRect = new graphic.Rect({\n      style: {\n        fill: 'none',\n        text: opts.text,\n        font: font,\n        textPosition: 'right',\n        textDistance: 10,\n        textFill: opts.textColor\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    group.add(labelRect);\n\n    if (opts.showSpinner) {\n      var arc = new graphic.Arc({\n        shape: {\n          startAngle: -PI$1 / 2,\n          endAngle: -PI$1 / 2 + 0.1,\n          r: opts.spinnerRadius\n        },\n        style: {\n          stroke: opts.color,\n          lineCap: 'round',\n          lineWidth: opts.lineWidth\n        },\n        zlevel: opts.zlevel,\n        z: 10001\n      });\n      arc.animateShape(true).when(1000, {\n        endAngle: PI$1 * 3 / 2\n      }).start('circularInOut');\n      arc.animateShape(true).when(1000, {\n        startAngle: PI$1 * 3 / 2\n      }).delay(300).start('circularInOut');\n      group.add(arc);\n    } // Inject resize\n\n\n    group.resize = function () {\n      var textWidth = text.getWidth(opts.text, font);\n      var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n      // textDistance needs to be calculated when both animation and text exist\n\n      var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 // only show the text\n      - (opts.showSpinner ? 0 : textWidth / 2);\n      var cy = api.getHeight() / 2;\n      opts.showSpinner && arc.setShape({\n        cx: cx,\n        cy: cy\n      });\n      labelRect.setShape({\n        x: cx - r,\n        y: cy - r,\n        width: r * 2,\n        height: r * 2\n      });\n      mask.setShape({\n        x: 0,\n        y: 0,\n        width: api.getWidth(),\n        height: api.getHeight()\n      });\n    };\n\n    group.resize();\n    return group;\n  }\n\n  var _default_1 = _default$1b;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$c = util.each;\n  var map$4 = util.map;\n  var isFunction$4 = util.isFunction;\n  var createHashMap$5 = util.createHashMap;\n  var noop$2 = util.noop;\n\n\n\n  var createTask$3 = task$2.createTask;\n\n\n\n  var getUID$1 = component.getUID;\n\n\n\n\n\n\n\n  var normalizeToArray$3 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/stream/Scheduler\n   */\n\n  /**\n   * @constructor\n   */\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    this.ecInstance = ecInstance;\n    this.api = api;\n    this.unfinished; // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n\n    var dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    var visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n    /**\n     * @private\n     * @type {\n     *     [handlerUID: string]: {\n     *         seriesTaskMap?: {\n     *             [seriesUID: string]: Task\n     *         },\n     *         overallTask?: Task\n     *     }\n     * }\n     */\n\n    this._stageTaskMap = createHashMap$5();\n  }\n\n  var proto = Scheduler.prototype;\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Object} payload\n   */\n\n  proto.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload); // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  }; // If seriesModel provided, incremental threshold is check by series data.\n\n\n  proto.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n\n  proto.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\n   * Current, progressive rendering starts from visual and layout.\n   * Always detect render mode in the same stage, avoiding that incorrect\n   * detection caused by data filtering.\n   * Caution:\n   * `updateStreamModes` use `seriesModel.getData()`.\n   */\n\n\n  proto.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n\n    var data = seriesModel.getData();\n    var dataLen = data.count(); // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold'); // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n\n  proto.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap$5();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n      pipe(scheduler, seriesModel, seriesModel.dataTask);\n    });\n  };\n\n  proto.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.ecInstance.getModel();\n    var api = this.api;\n    each$c(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, []);\n      handler.reset && createSeriesStageTask(this, handler, record, ecModel, api);\n      handler.overallReset && createOverallStageTask(this, handler, record, ecModel, api);\n    }, this);\n  };\n\n  proto.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n    pipe(this, model, renderTask);\n  };\n\n  proto.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    performStageTasks(this, this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  }; // opt\n  // opt.visualType: 'visual' or 'layout'\n  // opt.setDirty\n\n\n  proto.performVisualTasks = function (ecModel, payload, opt) {\n    performStageTasks(this, this._visualHandlers, ecModel, payload, opt);\n  };\n\n  function performStageTasks(scheduler, stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished;\n    each$c(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n\n      if (overallTask) {\n        var overallNeedDirty;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty = true;\n          }\n        });\n        overallNeedDirty && overallTask.dirty();\n        updatePayload(overallTask, payload);\n        var performArgs = scheduler.getPerformArgs(overallTask, opt.block); // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs);\n        });\n        unfinished |= overallTask.perform(performArgs);\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n\n          var performArgs = scheduler.getPerformArgs(task, opt.block); // FIXME\n          // if intending to decalare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because is a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operaions\n          // and stream-independent operations should better not be mixed.\n\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          updatePayload(task, payload);\n          unfinished |= task.perform(performArgs);\n        });\n      }\n    });\n\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n\n    scheduler.unfinished |= unfinished;\n  }\n\n  proto.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished |= seriesModel.dataTask.perform();\n    });\n    this.unfinished |= unfinished;\n  };\n\n  proto.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n\n  var updatePayload = proto.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n\n  function createSeriesStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n    var seriesTaskMap = stageHandlerRecord.seriesTaskMap || (stageHandlerRecord.seriesTaskMap = createHashMap$5());\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries; // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid; // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n\n      var task = seriesTaskMap.get(pipelineId) || seriesTaskMap.set(pipelineId, createTask$3({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n      pipe(scheduler, seriesModel, task);\n    } // Clear unused series tasks.\n\n\n    var pipelineMap = scheduler._pipelineMap;\n    seriesTaskMap.each(function (task, pipelineId) {\n      if (!pipelineMap.get(pipelineId)) {\n        task.dispose();\n        seriesTaskMap.removeKey(pipelineId);\n      }\n    });\n  }\n\n  function createOverallStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask // For overall task, the function only be called on reset stage.\n    || createTask$3({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    }; // Reuse orignal stubs.\n\n    var agentStubMap = overallTask.agentStubMap = overallTask.agentStubMap || createHashMap$5();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var modifyOutputEnd = stageHandler.modifyOutputEnd; // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    } // Otherwise, (usually it is legancy case), the overall task will only be\n    // executed when upstream dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upsteam.\n    else {\n        overallProgress = false;\n        each$c(ecModel.getSeries(), createStub);\n      }\n\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = agentStubMap.get(pipelineId);\n\n      if (!stub) {\n        stub = agentStubMap.set(pipelineId, createTask$3({\n          reset: stubReset,\n          onDirty: stubOnDirty\n        })); // When the result of `getTargetSeries` changed, the overallTask\n        // should be set as dirty and re-performed.\n\n        overallTask.dirty();\n      }\n\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress,\n        modifyOutputEnd: modifyOutputEnd\n      };\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n      pipe(scheduler, seriesModel, stub);\n    } // Clear unused stubs.\n\n\n    var pipelineMap = scheduler._pipelineMap;\n    agentStubMap.each(function (stub, pipelineId) {\n      if (!pipelineMap.get(pipelineId)) {\n        stub.dispose(); // When the result of `getTargetSeries` changed, the overallTask\n        // should be set as dirty and re-performed.\n\n        overallTask.dirty();\n        agentStubMap.removeKey(pipelineId);\n      }\n    });\n  }\n\n  function overallTaskReset(context) {\n    context.overallReset(context.ecModel, context.api, context.payload);\n  }\n\n  function stubReset(context, upstreamContext) {\n    return context.overallProgress && stubProgress;\n  }\n\n  function stubProgress() {\n    this.agent.dirty();\n    this.getDownstream().dirty();\n  }\n\n  function stubOnDirty() {\n    this.agent && this.agent.dirty();\n  }\n\n  function seriesTaskPlan(context) {\n    return context.plan && context.plan(context.model, context.ecModel, context.api, context.payload);\n  }\n\n  function seriesTaskReset(context) {\n    if (context.useClearVisual) {\n      context.data.clearAllVisual();\n    }\n\n    var resetDefines = context.resetDefines = normalizeToArray$3(context.reset(context.model, context.ecModel, context.api, context.payload));\n    return resetDefines.length > 1 ? map$4(resetDefines, function (v, idx) {\n      return makeSeriesTaskProgress(idx);\n    }) : singleSeriesTaskProgress;\n  }\n\n  var singleSeriesTaskProgress = makeSeriesTaskProgress(0);\n\n  function makeSeriesTaskProgress(resetDefineIdx) {\n    return function (params, context) {\n      var data = context.data;\n      var resetDefine = context.resetDefines[resetDefineIdx];\n\n      if (resetDefine && resetDefine.dataEach) {\n        for (var i = params.start; i < params.end; i++) {\n          resetDefine.dataEach(data, i);\n        }\n      } else if (resetDefine && resetDefine.progress) {\n        resetDefine.progress(params, data);\n      }\n    };\n  }\n\n  function seriesTaskCount(context) {\n    return context.data.count();\n  }\n\n  function pipe(scheduler, seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n\n    var pipeline = scheduler._pipelineMap.get(pipelineId);\n\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  }\n\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction$4(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n\n    stageHandler.uid = getUID$1('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n  /**\n   * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n   * To ensure that they can work normally, they should work in block mode, that is,\n   * they should not be started util the previous tasks finished. So they cause the\n   * progressive rendering disabled. We try to detect the series type, to narrow down\n   * the block range to only the series type they concern, but not all series.\n   */\n\n\n  function detectSeriseType(legacyFunc) {\n    seriesType = null;\n\n    try {\n      // Assume there is no async when calling `eachSeriesByType`.\n      legacyFunc(ecModelMock, apiMock);\n    } catch (e) {}\n\n    return seriesType;\n  }\n\n  var ecModelMock = {};\n  var apiMock = {};\n  var seriesType;\n  mockMethods(ecModelMock, Global);\n  mockMethods(apiMock, ExtensionAPI_1);\n\n  ecModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n    seriesType = type;\n  };\n\n  ecModelMock.eachComponent = function (cond) {\n    if (cond.mainType === 'series' && cond.subType) {\n      seriesType = cond.subType;\n    }\n  };\n\n  function mockMethods(target, Clz) {\n    /* eslint-disable */\n    for (var name in Clz.prototype) {\n      // Do not use hasOwnProperty\n      target[name] = noop$2;\n    }\n    /* eslint-enable */\n\n  }\n\n  var _default$1c = Scheduler;\n  var Scheduler_1 = _default$1c;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\n  var _default$1d = {\n    color: colorAll,\n    colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n  };\n  var light = _default$1d;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var contrastColor = '#eee';\n\n  var axisCommon = function () {\n    return {\n      axisLine: {\n        lineStyle: {\n          color: contrastColor\n        }\n      },\n      axisTick: {\n        lineStyle: {\n          color: contrastColor\n        }\n      },\n      axisLabel: {\n        textStyle: {\n          color: contrastColor\n        }\n      },\n      splitLine: {\n        lineStyle: {\n          type: 'dashed',\n          color: '#aaa'\n        }\n      },\n      splitArea: {\n        areaStyle: {\n          color: contrastColor\n        }\n      }\n    };\n  };\n\n  var colorPalette$1 = ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78', '#73a373', '#73b9bc', '#7289ab', '#91ca8c', '#f49f42'];\n  var theme = {\n    color: colorPalette$1,\n    backgroundColor: '#333',\n    tooltip: {\n      axisPointer: {\n        lineStyle: {\n          color: contrastColor\n        },\n        crossStyle: {\n          color: contrastColor\n        },\n        label: {\n          color: '#000'\n        }\n      }\n    },\n    legend: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    textStyle: {\n      color: contrastColor\n    },\n    title: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    toolbox: {\n      iconStyle: {\n        normal: {\n          borderColor: contrastColor\n        }\n      }\n    },\n    dataZoom: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    visualMap: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    timeline: {\n      lineStyle: {\n        color: contrastColor\n      },\n      itemStyle: {\n        normal: {\n          color: colorPalette$1[1]\n        }\n      },\n      label: {\n        normal: {\n          textStyle: {\n            color: contrastColor\n          }\n        }\n      },\n      controlStyle: {\n        normal: {\n          color: contrastColor,\n          borderColor: contrastColor\n        }\n      }\n    },\n    timeAxis: axisCommon(),\n    logAxis: axisCommon(),\n    valueAxis: axisCommon(),\n    categoryAxis: axisCommon(),\n    line: {\n      symbol: 'circle'\n    },\n    graph: {\n      color: colorPalette$1\n    },\n    gauge: {\n      title: {\n        textStyle: {\n          color: contrastColor\n        }\n      }\n    },\n    candlestick: {\n      itemStyle: {\n        normal: {\n          color: '#FD1050',\n          color0: '#0CF49B',\n          borderColor: '#FD1050',\n          borderColor0: '#0CF49B'\n        }\n      }\n    }\n  };\n  theme.categoryAxis.splitLine.show = false;\n  var _default$1e = theme;\n  var dark = _default$1e;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var detectSourceFormat$1 = sourceHelper.detectSourceFormat;\n\n\n\n  var SERIES_LAYOUT_BY_COLUMN$2 = sourceType.SERIES_LAYOUT_BY_COLUMN;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * This module is imported by echarts directly.\n   *\n   * Notice:\n   * Always keep this file exists for backward compatibility.\n   * Because before 4.1.0, dataset is an optional component,\n   * some users may import this module manually.\n   */\n  Component.extend({\n    type: 'dataset',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n      // 'row', 'column'\n      seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN$2,\n      // null/'auto': auto detect header, see \"module:echarts/data/helper/sourceHelper\"\n      sourceHeader: null,\n      dimensions: null,\n      source: null\n    },\n    optionUpdated: function () {\n      detectSourceFormat$1(this);\n    }\n  });\n  Component_1.extend({\n    type: 'dataset'\n  });\n\n  /**\n   * \n   * @module zrender/graphic/shape/Ellipse\n   */\n  var _default$1f = Path_1.extend({\n    type: 'ellipse',\n    shape: {\n      cx: 0,\n      cy: 0,\n      rx: 0,\n      ry: 0\n    },\n    buildPath: function (ctx, shape) {\n      var k = 0.5522848;\n      var x = shape.cx;\n      var y = shape.cy;\n      var a = shape.rx;\n      var b = shape.ry;\n      var ox = a * k; // \n\n      var oy = b * k; // \n      // \n\n      ctx.moveTo(x - a, y);\n      ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n      ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n      ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n      ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n      ctx.closePath();\n    }\n  });\n\n  var Ellipse = _default$1f;\n\n  var createFromString$1 = path$2.createFromString;\n\n\n\n  var isString$6 = util.isString;\n  var extend$7 = util.extend;\n  var defaults$1 = util.defaults;\n  var trim$3 = util.trim;\n  var each$d = util.each;\n  // import RadialGradient from '../graphic/RadialGradient';\n  // import Pattern from '../graphic/Pattern';\n  // import * as vector from '../core/vector';\n  // Most of the values can be separated by comma and/or white space.\n  var DILIMITER_REG = /[\\s,]+/;\n  /**\n   * For big svg string, this method might be time consuming.\n   *\n   * @param {string} svg xml string\n   * @return {Object} xml root.\n   */\n\n  function parseXML(svg) {\n    if (isString$6(svg)) {\n      var parser = new DOMParser();\n      svg = parser.parseFromString(svg, 'text/xml');\n    } // Document node. If using $.get, doc node may be input.\n\n\n    if (svg.nodeType === 9) {\n      svg = svg.firstChild;\n    } // nodeName of <!DOCTYPE svg> is also 'svg'.\n\n\n    while (svg.nodeName.toLowerCase() !== 'svg' || svg.nodeType !== 1) {\n      svg = svg.nextSibling;\n    }\n\n    return svg;\n  }\n\n  function SVGParser() {\n    this._defs = {};\n    this._root = null;\n    this._isDefine = false;\n    this._isText = false;\n  }\n\n  SVGParser.prototype.parse = function (xml, opt) {\n    opt = opt || {};\n    var svg = parseXML(xml);\n\n    if (!svg) {\n      throw new Error('Illegal svg');\n    }\n\n    var root = new Group_1();\n    this._root = root; // parse view port\n\n    var viewBox = svg.getAttribute('viewBox') || ''; // If width/height not specified, means \"100%\" of `opt.width/height`.\n    // TODO: Other percent value not supported yet.\n\n    var width = parseFloat(svg.getAttribute('width') || opt.width);\n    var height = parseFloat(svg.getAttribute('height') || opt.height); // If width/height not specified, set as null for output.\n\n    isNaN(width) && (width = null);\n    isNaN(height) && (height = null); // Apply inline style on svg element.\n\n    parseAttributes(svg, root, null, true);\n    var child = svg.firstChild;\n\n    while (child) {\n      this._parseNode(child, root);\n\n      child = child.nextSibling;\n    }\n\n    var viewBoxRect;\n    var viewBoxTransform;\n\n    if (viewBox) {\n      var viewBoxArr = trim$3(viewBox).split(DILIMITER_REG); // Some invalid case like viewBox: 'none'.\n\n      if (viewBoxArr.length >= 4) {\n        viewBoxRect = {\n          x: parseFloat(viewBoxArr[0] || 0),\n          y: parseFloat(viewBoxArr[1] || 0),\n          width: parseFloat(viewBoxArr[2]),\n          height: parseFloat(viewBoxArr[3])\n        };\n      }\n    }\n\n    if (viewBoxRect && width != null && height != null) {\n      viewBoxTransform = makeViewBoxTransform(viewBoxRect, width, height);\n\n      if (!opt.ignoreViewBox) {\n        // If set transform on the output group, it probably bring trouble when\n        // some users only intend to show the clipped content inside the viewBox,\n        // but not intend to transform the output group. So we keep the output\n        // group no transform. If the user intend to use the viewBox as a\n        // camera, just set `opt.ignoreViewBox` as `true` and set transfrom\n        // manually according to the viewBox info in the output of this method.\n        var elRoot = root;\n        root = new Group_1();\n        root.add(elRoot);\n        elRoot.scale = viewBoxTransform.scale.slice();\n        elRoot.position = viewBoxTransform.position.slice();\n      }\n    } // Some shapes might be overflow the viewport, which should be\n    // clipped despite whether the viewBox is used, as the SVG does.\n\n\n    if (!opt.ignoreRootClip && width != null && height != null) {\n      root.setClipPath(new Rect({\n        shape: {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height\n        }\n      }));\n    } // Set width/height on group just for output the viewport size.\n\n\n    return {\n      root: root,\n      width: width,\n      height: height,\n      viewBoxRect: viewBoxRect,\n      viewBoxTransform: viewBoxTransform\n    };\n  };\n\n  SVGParser.prototype._parseNode = function (xmlNode, parentGroup) {\n    var nodeName = xmlNode.nodeName.toLowerCase(); // TODO\n    // support <style>...</style> in svg, where nodeName is 'style',\n    // CSS classes is defined globally wherever the style tags are declared.\n\n    if (nodeName === 'defs') {\n      // define flag\n      this._isDefine = true;\n    } else if (nodeName === 'text') {\n      this._isText = true;\n    }\n\n    var el;\n\n    if (this._isDefine) {\n      var parser = defineParsers[nodeName];\n\n      if (parser) {\n        var def = parser.call(this, xmlNode);\n        var id = xmlNode.getAttribute('id');\n\n        if (id) {\n          this._defs[id] = def;\n        }\n      }\n    } else {\n      var parser = nodeParsers[nodeName];\n\n      if (parser) {\n        el = parser.call(this, xmlNode, parentGroup);\n        parentGroup.add(el);\n      }\n    }\n\n    var child = xmlNode.firstChild;\n\n    while (child) {\n      if (child.nodeType === 1) {\n        this._parseNode(child, el);\n      } // Is text\n\n\n      if (child.nodeType === 3 && this._isText) {\n        this._parseText(child, el);\n      }\n\n      child = child.nextSibling;\n    } // Quit define\n\n\n    if (nodeName === 'defs') {\n      this._isDefine = false;\n    } else if (nodeName === 'text') {\n      this._isText = false;\n    }\n  };\n\n  SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n    if (xmlNode.nodeType === 1) {\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      this._textX += parseFloat(dx);\n      this._textY += parseFloat(dy);\n    }\n\n    var text = new Text_1({\n      style: {\n        text: xmlNode.textContent,\n        transformText: true\n      },\n      position: [this._textX || 0, this._textY || 0]\n    });\n    inheritStyle(parentGroup, text);\n    parseAttributes(xmlNode, text, this._defs);\n    var fontSize = text.style.fontSize;\n\n    if (fontSize && fontSize < 9) {\n      // PENDING\n      text.style.fontSize = 9;\n      text.scale = text.scale || [1, 1];\n      text.scale[0] *= fontSize / 9;\n      text.scale[1] *= fontSize / 9;\n    }\n\n    var rect = text.getBoundingRect();\n    this._textX += rect.width;\n    parentGroup.add(text);\n    return text;\n  };\n\n  var nodeParsers = {\n    'g': function (xmlNode, parentGroup) {\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      return g;\n    },\n    'rect': function (xmlNode, parentGroup) {\n      var rect = new Rect();\n      inheritStyle(parentGroup, rect);\n      parseAttributes(xmlNode, rect, this._defs);\n      rect.setShape({\n        x: parseFloat(xmlNode.getAttribute('x') || 0),\n        y: parseFloat(xmlNode.getAttribute('y') || 0),\n        width: parseFloat(xmlNode.getAttribute('width') || 0),\n        height: parseFloat(xmlNode.getAttribute('height') || 0)\n      }); // console.log(xmlNode.getAttribute('transform'));\n      // console.log(rect.transform);\n\n      return rect;\n    },\n    'circle': function (xmlNode, parentGroup) {\n      var circle = new Circle();\n      inheritStyle(parentGroup, circle);\n      parseAttributes(xmlNode, circle, this._defs);\n      circle.setShape({\n        cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n        cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n        r: parseFloat(xmlNode.getAttribute('r') || 0)\n      });\n      return circle;\n    },\n    'line': function (xmlNode, parentGroup) {\n      var line = new Line();\n      inheritStyle(parentGroup, line);\n      parseAttributes(xmlNode, line, this._defs);\n      line.setShape({\n        x1: parseFloat(xmlNode.getAttribute('x1') || 0),\n        y1: parseFloat(xmlNode.getAttribute('y1') || 0),\n        x2: parseFloat(xmlNode.getAttribute('x2') || 0),\n        y2: parseFloat(xmlNode.getAttribute('y2') || 0)\n      });\n      return line;\n    },\n    'ellipse': function (xmlNode, parentGroup) {\n      var ellipse = new Ellipse();\n      inheritStyle(parentGroup, ellipse);\n      parseAttributes(xmlNode, ellipse, this._defs);\n      ellipse.setShape({\n        cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n        cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n        rx: parseFloat(xmlNode.getAttribute('rx') || 0),\n        ry: parseFloat(xmlNode.getAttribute('ry') || 0)\n      });\n      return ellipse;\n    },\n    'polygon': function (xmlNode, parentGroup) {\n      var points = xmlNode.getAttribute('points');\n\n      if (points) {\n        points = parsePoints(points);\n      }\n\n      var polygon = new Polygon({\n        shape: {\n          points: points || []\n        }\n      });\n      inheritStyle(parentGroup, polygon);\n      parseAttributes(xmlNode, polygon, this._defs);\n      return polygon;\n    },\n    'polyline': function (xmlNode, parentGroup) {\n      var path = new Path_1();\n      inheritStyle(parentGroup, path);\n      parseAttributes(xmlNode, path, this._defs);\n      var points = xmlNode.getAttribute('points');\n\n      if (points) {\n        points = parsePoints(points);\n      }\n\n      var polyline = new Polyline({\n        shape: {\n          points: points || []\n        }\n      });\n      return polyline;\n    },\n    'image': function (xmlNode, parentGroup) {\n      var img = new Image$1();\n      inheritStyle(parentGroup, img);\n      parseAttributes(xmlNode, img, this._defs);\n      img.setStyle({\n        image: xmlNode.getAttribute('xlink:href'),\n        x: xmlNode.getAttribute('x'),\n        y: xmlNode.getAttribute('y'),\n        width: xmlNode.getAttribute('width'),\n        height: xmlNode.getAttribute('height')\n      });\n      return img;\n    },\n    'text': function (xmlNode, parentGroup) {\n      var x = xmlNode.getAttribute('x') || 0;\n      var y = xmlNode.getAttribute('y') || 0;\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      this._textX = parseFloat(x) + parseFloat(dx);\n      this._textY = parseFloat(y) + parseFloat(dy);\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      return g;\n    },\n    'tspan': function (xmlNode, parentGroup) {\n      var x = xmlNode.getAttribute('x');\n      var y = xmlNode.getAttribute('y');\n\n      if (x != null) {\n        // new offset x\n        this._textX = parseFloat(x);\n      }\n\n      if (y != null) {\n        // new offset y\n        this._textY = parseFloat(y);\n      }\n\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      this._textX += dx;\n      this._textY += dy;\n      return g;\n    },\n    'path': function (xmlNode, parentGroup) {\n      // TODO svg fill rule\n      // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule\n      // path.style.globalCompositeOperation = 'xor';\n      var d = xmlNode.getAttribute('d') || ''; // Performance sensitive.\n\n      var path = createFromString$1(d);\n      inheritStyle(parentGroup, path);\n      parseAttributes(xmlNode, path, this._defs);\n      return path;\n    }\n  };\n  var defineParsers = {\n    'lineargradient': function (xmlNode) {\n      var x1 = parseInt(xmlNode.getAttribute('x1') || 0, 10);\n      var y1 = parseInt(xmlNode.getAttribute('y1') || 0, 10);\n      var x2 = parseInt(xmlNode.getAttribute('x2') || 10, 10);\n      var y2 = parseInt(xmlNode.getAttribute('y2') || 0, 10);\n      var gradient = new LinearGradient_1(x1, y1, x2, y2);\n\n      _parseGradientColorStops(xmlNode, gradient);\n\n      return gradient;\n    },\n    'radialgradient': function (xmlNode) {}\n  };\n\n  function _parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n\n    while (stop) {\n      if (stop.nodeType === 1) {\n        var offset = stop.getAttribute('offset');\n\n        if (offset.indexOf('%') > 0) {\n          // percentage\n          offset = parseInt(offset, 10) / 100;\n        } else if (offset) {\n          // number from 0 to 1\n          offset = parseFloat(offset);\n        } else {\n          offset = 0;\n        }\n\n        var stopColor = stop.getAttribute('stop-color') || '#000000';\n        gradient.addColorStop(offset, stopColor);\n      }\n\n      stop = stop.nextSibling;\n    }\n  }\n\n  function inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n      if (!child.__inheritedStyle) {\n        child.__inheritedStyle = {};\n      }\n\n      defaults$1(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n  }\n\n  function parsePoints(pointsString) {\n    var list = trim$3(pointsString).split(DILIMITER_REG);\n    var points = [];\n\n    for (var i = 0; i < list.length; i += 2) {\n      var x = parseFloat(list[i]);\n      var y = parseFloat(list[i + 1]);\n      points.push([x, y]);\n    }\n\n    return points;\n  }\n\n  var attributesMap = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-align': 'textAlign',\n    'alignment-baseline': 'textBaseline'\n  };\n\n  function parseAttributes(xmlNode, el, defs, onlyInlineStyle) {\n    var zrStyle = el.__inheritedStyle || {};\n    var isTextEl = el.type === 'text'; // TODO Shadow\n\n    if (xmlNode.nodeType === 1) {\n      parseTransformAttribute(xmlNode, el);\n      extend$7(zrStyle, parseStyleAttribute(xmlNode));\n\n      if (!onlyInlineStyle) {\n        for (var svgAttrName in attributesMap) {\n          if (attributesMap.hasOwnProperty(svgAttrName)) {\n            var attrValue = xmlNode.getAttribute(svgAttrName);\n\n            if (attrValue != null) {\n              zrStyle[attributesMap[svgAttrName]] = attrValue;\n            }\n          }\n        }\n      }\n    }\n\n    var elFillProp = isTextEl ? 'textFill' : 'fill';\n    var elStrokeProp = isTextEl ? 'textStroke' : 'stroke';\n    el.style = el.style || new Style_1();\n    var elStyle = el.style;\n    zrStyle.fill != null && elStyle.set(elFillProp, getPaint(zrStyle.fill, defs));\n    zrStyle.stroke != null && elStyle.set(elStrokeProp, getPaint(zrStyle.stroke, defs));\n    each$d(['lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'], function (propName) {\n      var elPropName = propName === 'lineWidth' && isTextEl ? 'textStrokeWidth' : propName;\n      zrStyle[propName] != null && elStyle.set(elPropName, parseFloat(zrStyle[propName]));\n    });\n\n    if (!zrStyle.textBaseline || zrStyle.textBaseline === 'auto') {\n      zrStyle.textBaseline = 'alphabetic';\n    }\n\n    if (zrStyle.textBaseline === 'alphabetic') {\n      zrStyle.textBaseline = 'bottom';\n    }\n\n    if (zrStyle.textAlign === 'start') {\n      zrStyle.textAlign = 'left';\n    }\n\n    if (zrStyle.textAlign === 'end') {\n      zrStyle.textAlign = 'right';\n    }\n\n    each$d(['lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign', 'textBaseline'], function (propName) {\n      zrStyle[propName] != null && elStyle.set(propName, zrStyle[propName]);\n    });\n\n    if (zrStyle.lineDash) {\n      el.style.lineDash = trim$3(zrStyle.lineDash).split(DILIMITER_REG);\n    }\n\n    if (elStyle[elStrokeProp] && elStyle[elStrokeProp] !== 'none') {\n      // enable stroke\n      el[elStrokeProp] = true;\n    }\n\n    el.__inheritedStyle = zrStyle;\n  }\n\n  var urlRegex = /url\\(\\s*#(.*?)\\)/;\n\n  function getPaint(str, defs) {\n    // if (str === 'none') {\n    //     return;\n    // }\n    var urlMatch = defs && str && str.match(urlRegex);\n\n    if (urlMatch) {\n      var url = trim$3(urlMatch[1]);\n      var def = defs[url];\n      return def;\n    }\n\n    return str;\n  }\n\n  var transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g;\n\n  function parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n\n    if (transform) {\n      transform = transform.replace(/,/g, ' ');\n      var m = null;\n      var transformOps = [];\n      transform.replace(transformRegex, function (str, type, value) {\n        transformOps.push(type, value);\n      });\n\n      for (var i = transformOps.length - 1; i > 0; i -= 2) {\n        var value = transformOps[i];\n        var type = transformOps[i - 1];\n        m = m || matrix.create();\n\n        switch (type) {\n          case 'translate':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.translate(m, m, [parseFloat(value[0]), parseFloat(value[1] || 0)]);\n            break;\n\n          case 'scale':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.scale(m, m, [parseFloat(value[0]), parseFloat(value[1] || value[0])]);\n            break;\n\n          case 'rotate':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.rotate(m, m, parseFloat(value[0]));\n            break;\n\n          case 'skew':\n            value = trim$3(value).split(DILIMITER_REG);\n            console.warn('Skew transform is not supported yet');\n            break;\n\n          case 'matrix':\n            var value = trim$3(value).split(DILIMITER_REG);\n            m[0] = parseFloat(value[0]);\n            m[1] = parseFloat(value[1]);\n            m[2] = parseFloat(value[2]);\n            m[3] = parseFloat(value[3]);\n            m[4] = parseFloat(value[4]);\n            m[5] = parseFloat(value[5]);\n            break;\n        }\n      }\n\n      node.setLocalTransform(m);\n    }\n  } // Value may contain space.\n\n\n  var styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\n\n  function parseStyleAttribute(xmlNode) {\n    var style = xmlNode.getAttribute('style');\n    var result = {};\n\n    if (!style) {\n      return result;\n    }\n\n    var styleList = {};\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n      styleList[styleRegResult[1]] = styleRegResult[2];\n    }\n\n    for (var svgAttrName in attributesMap) {\n      if (attributesMap.hasOwnProperty(svgAttrName) && styleList[svgAttrName] != null) {\n        result[attributesMap[svgAttrName]] = styleList[svgAttrName];\n      }\n    }\n\n    return result;\n  }\n  /**\n   * @param {Array.<number>} viewBoxRect\n   * @param {number} width\n   * @param {number} height\n   * @return {Object} {scale, position}\n   */\n\n\n  function makeViewBoxTransform(viewBoxRect, width, height) {\n    var scaleX = width / viewBoxRect.width;\n    var scaleY = height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY); // preserveAspectRatio 'xMidYMid'\n\n    var viewBoxScale = [scale, scale];\n    var viewBoxPosition = [-(viewBoxRect.x + viewBoxRect.width / 2) * scale + width / 2, -(viewBoxRect.y + viewBoxRect.height / 2) * scale + height / 2];\n    return {\n      scale: viewBoxScale,\n      position: viewBoxPosition\n    };\n  }\n  /**\n   * @param {string|XMLElement} xml\n   * @param {Object} [opt]\n   * @param {number} [opt.width] Default width if svg width not specified or is a percent value.\n   * @param {number} [opt.height] Default height if svg height not specified or is a percent value.\n   * @param {boolean} [opt.ignoreViewBox]\n   * @param {boolean} [opt.ignoreRootClip]\n   * @return {Object} result:\n   * {\n   *     root: Group, The root of the the result tree of zrender shapes,\n   *     width: number, the viewport width of the SVG,\n   *     height: number, the viewport height of the SVG,\n   *     viewBoxRect: {x, y, width, height}, the declared viewBox rect of the SVG, if exists,\n   *     viewBoxTransform: the {scale, position} calculated by viewBox and viewport, is exists.\n   * }\n   */\n\n\n  function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n  }\n\n  var parseXML_1 = parseXML;\n  var makeViewBoxTransform_1 = makeViewBoxTransform;\n  var parseSVG_2 = parseSVG;\n\n  var parseSVG_1 = {\n  \tparseXML: parseXML_1,\n  \tmakeViewBoxTransform: makeViewBoxTransform_1,\n  \tparseSVG: parseSVG_2\n  };\n\n  var createHashMap$6 = util.createHashMap;\n  var isString$7 = util.isString;\n  var isArray$8 = util.isArray;\n  var each$e = util.each;\n\n\n\n  var parseXML$1 = parseSVG_1.parseXML;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var storage = createHashMap$6(); // For minimize the code size of common echarts package,\n  // do not put too much logic in this module.\n\n  var _default$1g = {\n    // The format of record: see `echarts.registerMap`.\n    // Compatible with previous `echarts.registerMap`.\n    registerMap: function (mapName, rawGeoJson, rawSpecialAreas) {\n      var records;\n\n      if (isArray$8(rawGeoJson)) {\n        records = rawGeoJson;\n      } else if (rawGeoJson.svg) {\n        records = [{\n          type: 'svg',\n          source: rawGeoJson.svg,\n          specialAreas: rawGeoJson.specialAreas\n        }];\n      } else {\n        // Backward compatibility.\n        if (rawGeoJson.geoJson && !rawGeoJson.features) {\n          rawSpecialAreas = rawGeoJson.specialAreas;\n          rawGeoJson = rawGeoJson.geoJson;\n        }\n\n        records = [{\n          type: 'geoJSON',\n          source: rawGeoJson,\n          specialAreas: rawSpecialAreas\n        }];\n      }\n\n      each$e(records, function (record) {\n        var type = record.type;\n        type === 'geoJson' && (type = record.type = 'geoJSON');\n        var parse = parsers[type];\n        parse(record);\n      });\n      return storage.set(mapName, records);\n    },\n    retrieveMap: function (mapName) {\n      return storage.get(mapName);\n    }\n  };\n  var parsers = {\n    geoJSON: function (record) {\n      var source = record.source;\n      record.geoJSON = !isString$7(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\n    },\n    // Only perform parse to XML object here, which might be time\n    // consiming for large SVG.\n    // Although convert XML to zrender element is also time consiming,\n    // if we do it here, the clone of zrender elements has to be\n    // required. So we do it once for each geo instance, util real\n    // performance issues call for optimizing it.\n    svg: function (record) {\n      record.svgXML = parseXML$1(record.source);\n    }\n  };\n  var mapDataStorage = _default$1g;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function defaultKeyGetter(item) {\n    return item;\n  }\n  /**\n   * @param {Array} oldArr\n   * @param {Array} newArr\n   * @param {Function} oldKeyGetter\n   * @param {Function} newKeyGetter\n   * @param {Object} [context] Can be visited by this.context in callback.\n   */\n\n\n  function DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context) {\n    this._old = oldArr;\n    this._new = newArr;\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n    this.context = context;\n  }\n\n  DataDiffer.prototype = {\n    constructor: DataDiffer,\n\n    /**\n     * Callback function when add a data\n     */\n    add: function (func) {\n      this._add = func;\n      return this;\n    },\n\n    /**\n     * Callback function when update a data\n     */\n    update: function (func) {\n      this._update = func;\n      return this;\n    },\n\n    /**\n     * Callback function when remove a data\n     */\n    remove: function (func) {\n      this._remove = func;\n      return this;\n    },\n    execute: function () {\n      var oldArr = this._old;\n      var newArr = this._new;\n      var oldDataIndexMap = {};\n      var newDataIndexMap = {};\n      var oldDataKeyArr = [];\n      var newDataKeyArr = [];\n      var i;\n      initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter', this);\n      initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter', this);\n\n      for (i = 0; i < oldArr.length; i++) {\n        var key = oldDataKeyArr[i];\n        var idx = newDataIndexMap[key]; // idx can never be empty array here. see 'set null' logic below.\n\n        if (idx != null) {\n          // Consider there is duplicate key (for example, use dataItem.name as key).\n          // We should make sure every item in newArr and oldArr can be visited.\n          var len = idx.length;\n\n          if (len) {\n            len === 1 && (newDataIndexMap[key] = null);\n            idx = idx.shift();\n          } else {\n            newDataIndexMap[key] = null;\n          }\n\n          this._update && this._update(idx, i);\n        } else {\n          this._remove && this._remove(i);\n        }\n      }\n\n      for (var i = 0; i < newDataKeyArr.length; i++) {\n        var key = newDataKeyArr[i];\n\n        if (newDataIndexMap.hasOwnProperty(key)) {\n          var idx = newDataIndexMap[key];\n\n          if (idx == null) {\n            continue;\n          } // idx can never be empty array here. see 'set null' logic above.\n\n\n          if (!idx.length) {\n            this._add && this._add(idx);\n          } else {\n            for (var j = 0, len = idx.length; j < len; j++) {\n              this._add && this._add(idx[j]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function initIndexMap(arr, map, keyArr, keyGetterName, dataDiffer) {\n    for (var i = 0; i < arr.length; i++) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var key = '_ec_' + dataDiffer[keyGetterName](arr[i], i);\n      var existence = map[key];\n\n      if (existence == null) {\n        keyArr.push(key);\n        map[key] = i;\n      } else {\n        if (!existence.length) {\n          map[key] = existence = [existence];\n        }\n\n        existence.push(i);\n      }\n    }\n  }\n\n  var _default$1h = DataDiffer;\n  var DataDiffer_1 = _default$1h;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$f = util.each;\n  var createHashMap$7 = util.createHashMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var OTHER_DIMENSIONS = createHashMap$7(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\n\n  function summarizeDimensions(data) {\n    var summary = {};\n    var encode = summary.encode = {};\n    var notExtraCoordDimMap = createHashMap$7();\n    var defaultedLabel = [];\n    var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n    var userOutput = summary.userOutput = {\n      dimensionNames: data.dimensions.slice(),\n      encode: {}\n    };\n    each$f(data.dimensions, function (dimName) {\n      var dimItem = data.getDimensionInfo(dimName);\n      var coordDim = dimItem.coordDim;\n\n      if (coordDim) {\n        var coordDimIndex = dimItem.coordDimIndex;\n        getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n        if (!dimItem.isExtraCoord) {\n          notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n          // because when dataset is used, it is hard to guess which dimension\n          // can be value dimension. If both show x, y on label is not look good,\n          // and conventionally y axis is focused more.\n\n          if (mayLabelDimType(dimItem.type)) {\n            defaultedLabel[0] = dimName;\n          } // User output encode do not contain generated coords.\n          // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n          getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n        }\n\n        if (dimItem.defaultTooltip) {\n          defaultedTooltip.push(dimName);\n        }\n      }\n\n      OTHER_DIMENSIONS.each(function (v, otherDim) {\n        var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n        var dimIndex = dimItem.otherDims[otherDim];\n\n        if (dimIndex != null && dimIndex !== false) {\n          encodeArr[dimIndex] = dimItem.name;\n        }\n      });\n    });\n    var dataDimsOnCoord = [];\n    var encodeFirstDimNotExtra = {};\n    notExtraCoordDimMap.each(function (v, coordDim) {\n      var dimArr = encode[coordDim]; // ??? FIXME extra coord should not be set in dataDimsOnCoord.\n      // But should fix the case that radar axes: simplify the logic\n      // of `completeDimension`, remove `extraPrefix`.\n\n      encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n      // dim canot on more than one coordDim.\n\n      dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n    });\n    summary.dataDimsOnCoord = dataDimsOnCoord;\n    summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n    var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n    // in this way. Use label.formatter instead. May be remove this approach someday.\n\n    if (encodeLabel && encodeLabel.length) {\n      defaultedLabel = encodeLabel.slice();\n    }\n\n    var encodeTooltip = encode.tooltip;\n\n    if (encodeTooltip && encodeTooltip.length) {\n      defaultedTooltip = encodeTooltip.slice();\n    } else if (!defaultedTooltip.length) {\n      defaultedTooltip = defaultedLabel.slice();\n    }\n\n    encode.defaultedLabel = defaultedLabel;\n    encode.defaultedTooltip = defaultedTooltip;\n    return summary;\n  }\n\n  function getOrCreateEncodeArr(encode, dim) {\n    if (!encode.hasOwnProperty(dim)) {\n      encode[dim] = [];\n    }\n\n    return encode[dim];\n  }\n\n  function getDimensionTypeByAxis(axisType) {\n    return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n  }\n\n  function mayLabelDimType(dimType) {\n    // In most cases, ordinal and time do not suitable for label.\n    // Ordinal info can be displayed on axis. Time is too long.\n    return !(dimType === 'ordinal' || dimType === 'time');\n  } // function findTheLastDimMayLabel(data) {\n  //     // Get last value dim\n  //     var dimensions = data.dimensions.slice();\n  //     var valueType;\n  //     var valueDim;\n  //     while (dimensions.length && (\n  //         valueDim = dimensions.pop(),\n  //         valueType = data.getDimensionInfo(valueDim).type,\n  //         valueType === 'ordinal' || valueType === 'time'\n  //     )) {} // jshint ignore:line\n  //     return valueDim;\n  // }\n\n\n  var OTHER_DIMENSIONS_1 = OTHER_DIMENSIONS;\n  var summarizeDimensions_1 = summarizeDimensions;\n  var getDimensionTypeByAxis_1 = getDimensionTypeByAxis;\n\n  var dimensionHelper = {\n  \tOTHER_DIMENSIONS: OTHER_DIMENSIONS_1,\n  \tsummarizeDimensions: summarizeDimensions_1,\n  \tgetDimensionTypeByAxis: getDimensionTypeByAxis_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @class\n   * @param {Object|DataDimensionInfo} [opt] All of the fields will be shallow copied.\n   */\n  function DataDimensionInfo(opt) {\n    if (opt != null) {\n      util.extend(this, opt);\n    }\n    /**\n     * Dimension name.\n     * Mandatory.\n     * @type {string}\n     */\n    // this.name;\n\n    /**\n     * The origin name in dimsDef, see source helper.\n     * If displayName given, the tooltip will displayed vertically.\n     * Optional.\n     * @type {string}\n     */\n    // this.displayName;\n\n    /**\n     * Which coordSys dimension this dimension mapped to.\n     * A `coordDim` can be a \"coordSysDim\" that the coordSys required\n     * (for example, an item in `coordSysDims` of `model/referHelper#CoordSysInfo`),\n     * or an generated \"extra coord name\" if does not mapped to any \"coordSysDim\"\n     * (That is determined by whether `isExtraCoord` is `true`).\n     * Mandatory.\n     * @type {string}\n     */\n    // this.coordDim;\n\n    /**\n     * The index of this dimension in `series.encode[coordDim]`.\n     * Mandatory.\n     * @type {number}\n     */\n    // this.coordDimIndex;\n\n    /**\n     * Dimension type. The enumerable values are the key of\n     * `dataCtors` of `data/List`.\n     * Optional.\n     * @type {string}\n     */\n    // this.type;\n\n    /**\n     * This index of this dimension info in `data/List#_dimensionInfos`.\n     * Mandatory after added to `data/List`.\n     * @type {number}\n     */\n    // this.index;\n\n    /**\n     * The format of `otherDims` is:\n     * ```js\n     * {\n     *     tooltip: number optional,\n     *     label: number optional,\n     *     itemName: number optional,\n     *     seriesName: number optional,\n     * }\n     * ```\n     *\n     * A `series.encode` can specified these fields:\n     * ```js\n     * encode: {\n     *     // \"3, 1, 5\" is the index of data dimension.\n     *     tooltip: [3, 1, 5],\n     *     label: [0, 3],\n     *     ...\n     * }\n     * ```\n     * `otherDims` is the parse result of the `series.encode` above, like:\n     * ```js\n     * // Suppose the index of this data dimension is `3`.\n     * this.otherDims = {\n     *     // `3` is at the index `0` of the `encode.tooltip`\n     *     tooltip: 0,\n     *     // `3` is at the index `1` of the `encode.tooltip`\n     *     label: 1\n     * };\n     * ```\n     *\n     * This prop should never be `null`/`undefined` after initialized.\n     * @type {Object}\n     */\n\n\n    this.otherDims = {};\n    /**\n     * Be `true` if this dimension is not mapped to any \"coordSysDim\" that the\n     * \"coordSys\" required.\n     * Mandatory.\n     * @type {boolean}\n     */\n    // this.isExtraCoord;\n\n    /**\n     * @type {module:data/OrdinalMeta}\n     */\n    // this.ordinalMeta;\n\n    /**\n     * Whether to create inverted indices.\n     * @type {boolean}\n     */\n    // this.createInvertedIndices;\n  }\n  var _default$1i = DataDimensionInfo;\n  var DataDimensionInfo_1 = _default$1i;\n\n  var defaultDimValueGetters$1 = dataProvider.defaultDimValueGetters;\n  var DefaultDataProvider$1 = dataProvider.DefaultDataProvider;\n\n\n\n  var summarizeDimensions$1 = dimensionHelper.summarizeDimensions;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float64Array, Int32Array, Uint32Array, Uint16Array */\n\n  /**\n   * List for data storage\n   * @module echarts/data/List\n   */\n  var isObject$b = util.isObject;\n  var UNDEFINED = 'undefined';\n  var INDEX_NOT_FOUND = -1; // Use prefix to avoid index to be the same as otherIdList[idx],\n  // which will cause weird udpate animation.\n\n  var ID_PREFIX = 'e\\0\\0';\n  var dataCtors = {\n    'float': typeof Float64Array === UNDEFINED ? Array : Float64Array,\n    'int': typeof Int32Array === UNDEFINED ? Array : Int32Array,\n    // Ordinal data type can be string or int\n    'ordinal': Array,\n    'number': Array,\n    'time': Array\n  }; // Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\n  // different from the Ctor of typed array.\n\n  var CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\n  var CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\n  var CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\n\n  function getIndicesCtor(list) {\n    // The possible max value in this._indicies is always this._rawCount despite of filtering.\n    return list._rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\n  }\n\n  function cloneChunk(originalChunk) {\n    var Ctor = originalChunk.constructor; // Only shallow clone is enough when Array.\n\n    return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\n  }\n\n  var TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_rawData', '_chunkSize', '_chunkCount', '_dimValueGetter', '_count', '_rawCount', '_nameDimIdx', '_idDimIdx'];\n  var CLONE_PROPERTIES = ['_extent', '_approximateExtent', '_rawExtent'];\n\n  function transferProperties(target, source) {\n    util.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n      if (source.hasOwnProperty(propName)) {\n        target[propName] = source[propName];\n      }\n    });\n    target.__wrappedMethods = source.__wrappedMethods;\n    util.each(CLONE_PROPERTIES, function (propName) {\n      target[propName] = util.clone(source[propName]);\n    });\n    target._calculationInfo = util.extend(source._calculationInfo);\n  }\n  /**\n   * @constructor\n   * @alias module:echarts/data/List\n   *\n   * @param {Array.<string|Object|module:data/DataDimensionInfo>} dimensions\n   *      For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n   *      Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n   * @param {module:echarts/model/Model} hostModel\n   */\n\n\n  var List = function (dimensions, hostModel) {\n    dimensions = dimensions || ['x', 'y'];\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    var invertedIndicesMap = {};\n\n    for (var i = 0; i < dimensions.length; i++) {\n      // Use the original dimensions[i], where other flag props may exists.\n      var dimensionInfo = dimensions[i];\n\n      if (util.isString(dimensionInfo)) {\n        dimensionInfo = new DataDimensionInfo_1({\n          name: dimensionInfo\n        });\n      } else if (!(dimensionInfo instanceof DataDimensionInfo_1)) {\n        dimensionInfo = new DataDimensionInfo_1(dimensionInfo);\n      }\n\n      var dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'float';\n\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n\n      dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n      dimensionNames.push(dimensionName);\n      dimensionInfos[dimensionName] = dimensionInfo;\n      dimensionInfo.index = i;\n\n      if (dimensionInfo.createInvertedIndices) {\n        invertedIndicesMap[dimensionName] = [];\n      }\n    }\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n\n\n    this.dimensions = dimensionNames;\n    /**\n     * Infomation of each data dimension, like data type.\n     * @type {Object}\n     */\n\n    this._dimensionInfos = dimensionInfos;\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.hostModel = hostModel;\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.dataType;\n    /**\n     * Indices stores the indices of data subset after filtered.\n     * This data subset will be used in chart.\n     * @type {Array.<number>}\n     * @readOnly\n     */\n\n    this._indices = null;\n    this._count = 0;\n    this._rawCount = 0;\n    /**\n     * Data storage\n     * @type {Object.<key, Array.<TypedArray|Array>>}\n     * @private\n     */\n\n    this._storage = {};\n    /**\n     * @type {Array.<string>}\n     */\n\n    this._nameList = [];\n    /**\n     * @type {Array.<string>}\n     */\n\n    this._idList = [];\n    /**\n     * Models of data option is stored sparse for optimizing memory cost\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._optionModels = [];\n    /**\n     * Global visual properties after visual coding\n     * @type {Object}\n     * @private\n     */\n\n    this._visual = {};\n    /**\n     * Globel layout properties.\n     * @type {Object}\n     * @private\n     */\n\n    this._layout = {};\n    /**\n     * Item visual properties after visual coding\n     * @type {Array.<Object>}\n     * @private\n     */\n\n    this._itemVisuals = [];\n    /**\n     * Key: visual type, Value: boolean\n     * @type {Object}\n     * @readOnly\n     */\n\n    this.hasItemVisual = {};\n    /**\n     * Item layout properties after layout\n     * @type {Array.<Object>}\n     * @private\n     */\n\n    this._itemLayouts = [];\n    /**\n     * Graphic elemnents\n     * @type {Array.<module:zrender/Element>}\n     * @private\n     */\n\n    this._graphicEls = [];\n    /**\n     * Max size of each chunk.\n     * @type {number}\n     * @private\n     */\n\n    this._chunkSize = 1e5;\n    /**\n     * @type {number}\n     * @private\n     */\n\n    this._chunkCount = 0;\n    /**\n     * @type {Array.<Array|Object>}\n     * @private\n     */\n\n    this._rawData;\n    /**\n     * Raw extent will not be cloned, but only transfered.\n     * It will not be calculated util needed.\n     * key: dim,\n     * value: {end: number, extent: Array.<number>}\n     * @type {Object}\n     * @private\n     */\n\n    this._rawExtent = {};\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._extent = {};\n    /**\n     * key: dim\n     * value: extent\n     * @type {Object}\n     * @private\n     */\n\n    this._approximateExtent = {};\n    /**\n     * Cache summary info for fast visit. See \"dimensionHelper\".\n     * @type {Object}\n     * @private\n     */\n\n    this._dimensionsSummary = summarizeDimensions$1(this);\n    /**\n     * @type {Object.<Array|TypedArray>}\n     * @private\n     */\n\n    this._invertedIndicesMap = invertedIndicesMap;\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._calculationInfo = {};\n    /**\n     * User output info of this data.\n     * DO NOT use it in other places!\n     *\n     * When preparing user params for user callbacks, we have\n     * to clone these inner data structures to prevent users\n     * from modifying them to effect built-in logic. And for\n     * performance consideration we make this `userOutput` to\n     * avoid clone them too many times.\n     *\n     * @type {Object}\n     * @readOnly\n     */\n\n    this.userOutput = this._dimensionsSummary.userOutput;\n  };\n\n  var listProto = List.prototype;\n  listProto.type = 'list';\n  /**\n   * If each data item has it's own option\n   * @type {boolean}\n   */\n\n  listProto.hasItemOption = true;\n  /**\n   * The meanings of the input parameter `dim`:\n   *\n   * + If dim is a number (e.g., `1`), it means the index of the dimension.\n   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n   * + If dim is a number-like string (e.g., `\"1\"`):\n   *     + If there is the same concrete dim name defined in `this.dimensions`, it means that concrete name.\n   *     + If not, it will be converted to a number, which means the index of the dimension.\n   *        (why? because of the backward compatbility. We have been tolerating number-like string in\n   *        dimension setting, although now it seems that it is not a good idea.)\n   *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n   *     if no dimension name is defined as `\"1\"`.\n   * + If dim is a not-number-like string, it means the concrete dim name.\n   *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n   *   or customized in `dimensions` property of option like `\"age\"`.\n   *\n   * Get dimension name\n   * @param {string|number} dim See above.\n   * @return {string} Concrete dim name.\n   */\n\n  listProto.getDimension = function (dim) {\n    if (typeof dim === 'number' // If being a number-like string but not being defined a dimension name.\n    || !isNaN(dim) && !this._dimensionInfos.hasOwnProperty(dim)) {\n      dim = this.dimensions[dim];\n    }\n\n    return dim;\n  };\n  /**\n   * Get type and calculation info of particular dimension\n   * @param {string|number} dim\n   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n   */\n\n\n  listProto.getDimensionInfo = function (dim) {\n    // Do not clone, because there may be categories in dimInfo.\n    return this._dimensionInfos[this.getDimension(dim)];\n  };\n  /**\n   * @return {Array.<string>} concrete dimension name list on coord.\n   */\n\n\n  listProto.getDimensionsOnCoord = function () {\n    return this._dimensionsSummary.dataDimsOnCoord.slice();\n  };\n  /**\n   * @param {string} coordDim\n   * @param {number} [idx] A coordDim may map to more than one data dim.\n   *        If idx is `true`, return a array of all mapped dims.\n   *        If idx is not specified, return the first dim not extra.\n   * @return {string|Array.<string>} concrete data dim.\n   *        If idx is number, and not found, return null/undefined.\n   *        If idx is `true`, and not found, return empty array (always return array).\n   */\n\n\n  listProto.mapDimension = function (coordDim, idx) {\n    var dimensionsSummary = this._dimensionsSummary;\n\n    if (idx == null) {\n      return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n    }\n\n    var dims = dimensionsSummary.encode[coordDim];\n    return idx === true // always return array if idx is `true`\n    ? (dims || []).slice() : dims && dims[idx];\n  };\n  /**\n   * Initialize from data\n   * @param {Array.<Object|number|Array>} data source or data or data provider.\n   * @param {Array.<string>} [nameLIst] The name of a datum is used on data diff and\n   *        default label/tooltip.\n   *        A name can be specified in encode.itemName,\n   *        or dataItem.name (only for series option data),\n   *        or provided in nameList from outside.\n   * @param {Function} [dimValueGetter] (dataItem, dimName, dataIndex, dimIndex) => number\n   */\n\n\n  listProto.initData = function (data, nameList, dimValueGetter) {\n    var notProvider = Source_1.isInstance(data) || util.isArrayLike(data);\n\n    if (notProvider) {\n      data = new DefaultDataProvider$1(data, this.dimensions.length);\n    }\n\n    this._rawData = data; // Clear\n\n    this._storage = {};\n    this._indices = null;\n    this._nameList = nameList || [];\n    this._idList = [];\n    this._nameRepeatCount = {};\n\n    if (!dimValueGetter) {\n      this.hasItemOption = false;\n    }\n    /**\n     * @readOnly\n     */\n\n\n    this.defaultDimValueGetter = defaultDimValueGetters$1[this._rawData.getSource().sourceFormat]; // Default dim value getter\n\n    this._dimValueGetter = dimValueGetter = dimValueGetter || this.defaultDimValueGetter;\n    this._dimValueGetterArrayRows = defaultDimValueGetters$1.arrayRows; // Reset raw extent.\n\n    this._rawExtent = {};\n\n    this._initDataFromProvider(0, data.count()); // If data has no item option.\n\n\n    if (data.pure) {\n      this.hasItemOption = false;\n    }\n  };\n\n  listProto.getProvider = function () {\n    return this._rawData;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n\n\n  listProto.appendData = function (data) {\n    var rawData = this._rawData;\n    var start = this.count();\n    rawData.appendData(data);\n    var end = rawData.count();\n\n    if (!rawData.persistent) {\n      end += start;\n    }\n\n    this._initDataFromProvider(start, end);\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   * This method does not modify `rawData` (`dataProvider`), but only\n   * add values to storage.\n   *\n   * The final count will be increased by `Math.max(values.length, names.length)`.\n   *\n   * @param {Array.<Array.<*>>} values That is the SourceType: 'arrayRows', like\n   *        [\n   *            [12, 33, 44],\n   *            [NaN, 43, 1],\n   *            ['-', 'asdf', 0]\n   *        ]\n   *        Each item is exaclty cooresponding to a dimension.\n   * @param {Array.<string>} [names]\n   */\n\n\n  listProto.appendValues = function (values, names) {\n    var chunkSize = this._chunkSize;\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var start = this.count();\n    var end = start + Math.max(values.length, names ? names.length : 0);\n    var originalChunkCount = this._chunkCount;\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      if (!storage[dim]) {\n        storage[dim] = [];\n      }\n\n      prepareChunks(storage, this._dimensionInfos[dim], chunkSize, originalChunkCount, end);\n      this._chunkCount = storage[dim].length;\n    }\n\n    var emptyDataItem = new Array(dimLen);\n\n    for (var idx = start; idx < end; idx++) {\n      var sourceIdx = idx - start;\n      var chunkIndex = Math.floor(idx / chunkSize);\n      var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n      for (var k = 0; k < dimLen; k++) {\n        var dim = dimensions[k];\n\n        var val = this._dimValueGetterArrayRows(values[sourceIdx] || emptyDataItem, dim, sourceIdx, k);\n\n        storage[dim][chunkIndex][chunkOffset] = val;\n        var dimRawExtent = rawExtent[dim];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      }\n\n      if (names) {\n        this._nameList[idx] = names[sourceIdx];\n      }\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  listProto._initDataFromProvider = function (start, end) {\n    // Optimize.\n    if (start >= end) {\n      return;\n    }\n\n    var chunkSize = this._chunkSize;\n    var rawData = this._rawData;\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var dimensionInfoMap = this._dimensionInfos;\n    var nameList = this._nameList;\n    var idList = this._idList;\n    var rawExtent = this._rawExtent;\n    var nameRepeatCount = this._nameRepeatCount = {};\n    var nameDimIdx;\n    var originalChunkCount = this._chunkCount;\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      var dimInfo = dimensionInfoMap[dim];\n\n      if (dimInfo.otherDims.itemName === 0) {\n        nameDimIdx = this._nameDimIdx = i;\n      }\n\n      if (dimInfo.otherDims.itemId === 0) {\n        this._idDimIdx = i;\n      }\n\n      if (!storage[dim]) {\n        storage[dim] = [];\n      }\n\n      prepareChunks(storage, dimInfo, chunkSize, originalChunkCount, end);\n      this._chunkCount = storage[dim].length;\n    }\n\n    var dataItem = new Array(dimLen);\n\n    for (var idx = start; idx < end; idx++) {\n      // NOTICE: Try not to write things into dataItem\n      dataItem = rawData.getItem(idx, dataItem); // Each data item is value\n      // [1, 2]\n      // 2\n      // Bar chart, line chart which uses category axis\n      // only gives the 'y' value. 'x' value is the indices of category\n      // Use a tempValue to normalize the value to be a (x, y) value\n\n      var chunkIndex = Math.floor(idx / chunkSize);\n      var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n      for (var k = 0; k < dimLen; k++) {\n        var dim = dimensions[k];\n        var dimStorage = storage[dim][chunkIndex]; // PENDING NULL is empty or zero\n\n        var val = this._dimValueGetter(dataItem, dim, idx, k);\n\n        dimStorage[chunkOffset] = val;\n        var dimRawExtent = rawExtent[dim];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      } // ??? FIXME not check by pure but sourceFormat?\n      // TODO refactor these logic.\n\n\n      if (!rawData.pure) {\n        var name = nameList[idx];\n\n        if (dataItem && name == null) {\n          // If dataItem is {name: ...}, it has highest priority.\n          // That is appropriate for many common cases.\n          if (dataItem.name != null) {\n            // There is no other place to persistent dataItem.name,\n            // so save it to nameList.\n            nameList[idx] = name = dataItem.name;\n          } else if (nameDimIdx != null) {\n            var nameDim = dimensions[nameDimIdx];\n            var nameDimChunk = storage[nameDim][chunkIndex];\n\n            if (nameDimChunk) {\n              name = nameDimChunk[chunkOffset];\n              var ordinalMeta = dimensionInfoMap[nameDim].ordinalMeta;\n\n              if (ordinalMeta && ordinalMeta.categories.length) {\n                name = ordinalMeta.categories[name];\n              }\n            }\n          }\n        } // Try using the id in option\n        // id or name is used on dynamical data, mapping old and new items.\n\n\n        var id = dataItem == null ? null : dataItem.id;\n\n        if (id == null && name != null) {\n          // Use name as id and add counter to avoid same name\n          nameRepeatCount[name] = nameRepeatCount[name] || 0;\n          id = name;\n\n          if (nameRepeatCount[name] > 0) {\n            id += '__ec__' + nameRepeatCount[name];\n          }\n\n          nameRepeatCount[name]++;\n        }\n\n        id != null && (idList[idx] = id);\n      }\n    }\n\n    if (!rawData.persistent && rawData.clean) {\n      // Clean unused data if data source is typed array.\n      rawData.clean();\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  function prepareChunks(storage, dimInfo, chunkSize, chunkCount, end) {\n    var DataCtor = dataCtors[dimInfo.type];\n    var lastChunkIndex = chunkCount - 1;\n    var dim = dimInfo.name;\n    var resizeChunkArray = storage[dim][lastChunkIndex];\n\n    if (resizeChunkArray && resizeChunkArray.length < chunkSize) {\n      var newStore = new DataCtor(Math.min(end - lastChunkIndex * chunkSize, chunkSize)); // The cost of the copy is probably inconsiderable\n      // within the initial chunkSize.\n\n      for (var j = 0; j < resizeChunkArray.length; j++) {\n        newStore[j] = resizeChunkArray[j];\n      }\n\n      storage[dim][lastChunkIndex] = newStore;\n    } // Create new chunks.\n\n\n    for (var k = chunkCount * chunkSize; k < end; k += chunkSize) {\n      storage[dim].push(new DataCtor(Math.min(end - k, chunkSize)));\n    }\n  }\n\n  function prepareInvertedIndex(list) {\n    var invertedIndicesMap = list._invertedIndicesMap;\n    util.each(invertedIndicesMap, function (invertedIndices, dim) {\n      var dimInfo = list._dimensionInfos[dim]; // Currently, only dimensions that has ordinalMeta can create inverted indices.\n\n      var ordinalMeta = dimInfo.ordinalMeta;\n\n      if (ordinalMeta) {\n        invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length); // The default value of TypedArray is 0. To avoid miss\n        // mapping to 0, we should set it as INDEX_NOT_FOUND.\n\n        for (var i = 0; i < invertedIndices.length; i++) {\n          invertedIndices[i] = INDEX_NOT_FOUND;\n        }\n\n        for (var i = 0; i < list._count; i++) {\n          // Only support the case that all values are distinct.\n          invertedIndices[list.get(dim, i)] = i;\n        }\n      }\n    });\n  }\n\n  function getRawValueFromStore(list, dimIndex, rawIndex) {\n    var val;\n\n    if (dimIndex != null) {\n      var chunkSize = list._chunkSize;\n      var chunkIndex = Math.floor(rawIndex / chunkSize);\n      var chunkOffset = rawIndex % chunkSize;\n      var dim = list.dimensions[dimIndex];\n      var chunk = list._storage[dim][chunkIndex];\n\n      if (chunk) {\n        val = chunk[chunkOffset];\n        var ordinalMeta = list._dimensionInfos[dim].ordinalMeta;\n\n        if (ordinalMeta && ordinalMeta.categories.length) {\n          val = ordinalMeta.categories[val];\n        }\n      }\n    }\n\n    return val;\n  }\n  /**\n   * @return {number}\n   */\n\n\n  listProto.count = function () {\n    return this._count;\n  };\n\n  listProto.getIndices = function () {\n    var newIndices;\n    var indices = this._indices;\n\n    if (indices) {\n      var Ctor = indices.constructor;\n      var thisCount = this._count; // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\n\n      if (Ctor === Array) {\n        newIndices = new Ctor(thisCount);\n\n        for (var i = 0; i < thisCount; i++) {\n          newIndices[i] = indices[i];\n        }\n      } else {\n        newIndices = new Ctor(indices.buffer, 0, thisCount);\n      }\n    } else {\n      var Ctor = getIndicesCtor(this);\n      var newIndices = new Ctor(this.count());\n\n      for (var i = 0; i < newIndices.length; i++) {\n        newIndices[i] = i;\n      }\n    }\n\n    return newIndices;\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   * @param {string} dim Dim must be concrete name.\n   * @param {number} idx\n   * @param {boolean} stack\n   * @return {number}\n   */\n\n\n  listProto.get = function (dim, idx\n  /*, stack */\n  ) {\n    if (!(idx >= 0 && idx < this._count)) {\n      return NaN;\n    }\n\n    var storage = this._storage;\n\n    if (!storage[dim]) {\n      // TODO Warn ?\n      return NaN;\n    }\n\n    idx = this.getRawIndex(idx);\n    var chunkIndex = Math.floor(idx / this._chunkSize);\n    var chunkOffset = idx % this._chunkSize;\n    var chunkStore = storage[dim][chunkIndex];\n    var value = chunkStore[chunkOffset]; // FIXME ordinal data type is not stackable\n    // if (stack) {\n    //     var dimensionInfo = this._dimensionInfos[dim];\n    //     if (dimensionInfo && dimensionInfo.stackable) {\n    //         var stackedOn = this.stackedOn;\n    //         while (stackedOn) {\n    //             // Get no stacked data of stacked on\n    //             var stackedValue = stackedOn.get(dim, idx);\n    //             // Considering positive stack, negative stack and empty data\n    //             if ((value >= 0 && stackedValue > 0)  // Positive stack\n    //                 || (value <= 0 && stackedValue < 0) // Negative stack\n    //             ) {\n    //                 value += stackedValue;\n    //             }\n    //             stackedOn = stackedOn.stackedOn;\n    //         }\n    //     }\n    // }\n\n    return value;\n  };\n  /**\n   * @param {string} dim concrete dim\n   * @param {number} rawIndex\n   * @return {number|string}\n   */\n\n\n  listProto.getByRawIndex = function (dim, rawIdx) {\n    if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\n      return NaN;\n    }\n\n    var dimStore = this._storage[dim];\n\n    if (!dimStore) {\n      // TODO Warn ?\n      return NaN;\n    }\n\n    var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n    var chunkOffset = rawIdx % this._chunkSize;\n    var chunkStore = dimStore[chunkIndex];\n    return chunkStore[chunkOffset];\n  };\n  /**\n   * FIXME Use `get` on chrome maybe slow(in filterSelf and selectRange).\n   * Hack a much simpler _getFast\n   * @private\n   */\n\n\n  listProto._getFast = function (dim, rawIdx) {\n    var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n    var chunkOffset = rawIdx % this._chunkSize;\n    var chunkStore = this._storage[dim][chunkIndex];\n    return chunkStore[chunkOffset];\n  };\n  /**\n   * Get value for multi dimensions.\n   * @param {Array.<string>} [dimensions] If ignored, using all dimensions.\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getValues = function (dimensions, idx\n  /*, stack */\n  ) {\n    var values = [];\n\n    if (!util.isArray(dimensions)) {\n      // stack = idx;\n      idx = dimensions;\n      dimensions = this.dimensions;\n    }\n\n    for (var i = 0, len = dimensions.length; i < len; i++) {\n      values.push(this.get(dimensions[i], idx\n      /*, stack */\n      ));\n    }\n\n    return values;\n  };\n  /**\n   * If value is NaN. Inlcuding '-'\n   * Only check the coord dimensions.\n   * @param {string} dim\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.hasValue = function (idx) {\n    var dataDimsOnCoord = this._dimensionsSummary.dataDimsOnCoord;\n\n    for (var i = 0, len = dataDimsOnCoord.length; i < len; i++) {\n      // Ordinal type originally can be string or number.\n      // But when an ordinal type is used on coord, it can\n      // not be string but only number. So we can also use isNaN.\n      if (isNaN(this.get(dataDimsOnCoord[i], idx))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Get extent of data in one dimension\n   * @param {string} dim\n   * @param {boolean} stack\n   */\n\n\n  listProto.getDataExtent = function (dim\n  /*, stack */\n  ) {\n    // Make sure use concrete dim as cache name.\n    dim = this.getDimension(dim);\n    var dimData = this._storage[dim];\n    var initialExtent = getInitialExtent(); // stack = !!((stack || false) && this.getCalculationInfo(dim));\n\n    if (!dimData) {\n      return initialExtent;\n    } // Make more strict checkings to ensure hitting cache.\n\n\n    var currEnd = this.count(); // var cacheName = [dim, !!stack].join('_');\n    // var cacheName = dim;\n    // Consider the most cases when using data zoom, `getDataExtent`\n    // happened before filtering. We cache raw extent, which is not\n    // necessary to be cleared and recalculated when restore data.\n\n    var useRaw = !this._indices; // && !stack;\n\n    var dimExtent;\n\n    if (useRaw) {\n      return this._rawExtent[dim].slice();\n    }\n\n    dimExtent = this._extent[dim];\n\n    if (dimExtent) {\n      return dimExtent.slice();\n    }\n\n    dimExtent = initialExtent;\n    var min = dimExtent[0];\n    var max = dimExtent[1];\n\n    for (var i = 0; i < currEnd; i++) {\n      // var value = stack ? this.get(dim, i, true) : this._getFast(dim, this.getRawIndex(i));\n      var value = this._getFast(dim, this.getRawIndex(i));\n\n      value < min && (min = value);\n      value > max && (max = value);\n    }\n\n    dimExtent = [min, max];\n    this._extent[dim] = dimExtent;\n    return dimExtent;\n  };\n  /**\n   * Optimize for the scenario that data is filtered by a given extent.\n   * Consider that if data amount is more than hundreds of thousand,\n   * extent calculation will cost more than 10ms and the cache will\n   * be erased because of the filtering.\n   */\n\n\n  listProto.getApproximateExtent = function (dim\n  /*, stack */\n  ) {\n    dim = this.getDimension(dim);\n    return this._approximateExtent[dim] || this.getDataExtent(dim\n    /*, stack */\n    );\n  };\n\n  listProto.setApproximateExtent = function (extent, dim\n  /*, stack */\n  ) {\n    dim = this.getDimension(dim);\n    this._approximateExtent[dim] = extent.slice();\n  };\n  /**\n   * @param {string} key\n   * @return {*}\n   */\n\n\n  listProto.getCalculationInfo = function (key) {\n    return this._calculationInfo[key];\n  };\n  /**\n   * @param {string|Object} key or k-v object\n   * @param {*} [value]\n   */\n\n\n  listProto.setCalculationInfo = function (key, value) {\n    isObject$b(key) ? util.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n  };\n  /**\n   * Get sum of data in one dimension\n   * @param {string} dim\n   */\n\n\n  listProto.getSum = function (dim\n  /*, stack */\n  ) {\n    var dimData = this._storage[dim];\n    var sum = 0;\n\n    if (dimData) {\n      for (var i = 0, len = this.count(); i < len; i++) {\n        var value = this.get(dim, i\n        /*, stack */\n        );\n\n        if (!isNaN(value)) {\n          sum += value;\n        }\n      }\n    }\n\n    return sum;\n  };\n  /**\n   * Get median of data in one dimension\n   * @param {string} dim\n   */\n\n\n  listProto.getMedian = function (dim\n  /*, stack */\n  ) {\n    var dimDataArray = []; // map all data of one dimension\n\n    this.each(dim, function (val, idx) {\n      if (!isNaN(val)) {\n        dimDataArray.push(val);\n      }\n    }); // TODO\n    // Use quick select?\n    // immutability & sort\n\n    var sortedDimDataArray = [].concat(dimDataArray).sort(function (a, b) {\n      return a - b;\n    });\n    var len = this.count(); // calculate median\n\n    return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\n  }; // /**\n  //  * Retreive the index with given value\n  //  * @param {string} dim Concrete dimension.\n  //  * @param {number} value\n  //  * @return {number}\n  //  */\n  // Currently incorrect: should return dataIndex but not rawIndex.\n  // Do not fix it until this method is to be used somewhere.\n  // FIXME Precision of float value\n  // listProto.indexOf = function (dim, value) {\n  //     var storage = this._storage;\n  //     var dimData = storage[dim];\n  //     var chunkSize = this._chunkSize;\n  //     if (dimData) {\n  //         for (var i = 0, len = this.count(); i < len; i++) {\n  //             var chunkIndex = Math.floor(i / chunkSize);\n  //             var chunkOffset = i % chunkSize;\n  //             if (dimData[chunkIndex][chunkOffset] === value) {\n  //                 return i;\n  //             }\n  //         }\n  //     }\n  //     return -1;\n  // };\n\n  /**\n   * Only support the dimension which inverted index created.\n   * Do not support other cases until required.\n   * @param {string} concrete dim\n   * @param {number|string} value\n   * @return {number} rawIndex\n   */\n\n\n  listProto.rawIndexOf = function (dim, value) {\n    var invertedIndices = dim && this._invertedIndicesMap[dim];\n    var rawIndex = invertedIndices[value];\n\n    if (rawIndex == null || isNaN(rawIndex)) {\n      return INDEX_NOT_FOUND;\n    }\n\n    return rawIndex;\n  };\n  /**\n   * Retreive the index with given name\n   * @param {number} idx\n   * @param {number} name\n   * @return {number}\n   */\n\n\n  listProto.indexOfName = function (name) {\n    for (var i = 0, len = this.count(); i < len; i++) {\n      if (this.getName(i) === name) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index with given raw data index\n   * @param {number} idx\n   * @param {number} name\n   * @return {number}\n   */\n\n\n  listProto.indexOfRawIndex = function (rawIndex) {\n    if (rawIndex >= this._rawCount || rawIndex < 0) {\n      return -1;\n    }\n\n    if (!this._indices) {\n      return rawIndex;\n    } // Indices are ascending\n\n\n    var indices = this._indices; // If rawIndex === dataIndex\n\n    var rawDataIndex = indices[rawIndex];\n\n    if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\n      return rawIndex;\n    }\n\n    var left = 0;\n    var right = this._count - 1;\n\n    while (left <= right) {\n      var mid = (left + right) / 2 | 0;\n\n      if (indices[mid] < rawIndex) {\n        left = mid + 1;\n      } else if (indices[mid] > rawIndex) {\n        right = mid - 1;\n      } else {\n        return mid;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index of nearest value\n   * @param {string} dim\n   * @param {number} value\n   * @param {number} [maxDistance=Infinity]\n   * @return {Array.<number>} If and only if multiple indices has\n   *        the same value, they are put to the result.\n   */\n\n\n  listProto.indicesOfNearest = function (dim, value, maxDistance) {\n    var storage = this._storage;\n    var dimData = storage[dim];\n    var nearestIndices = [];\n\n    if (!dimData) {\n      return nearestIndices;\n    }\n\n    if (maxDistance == null) {\n      maxDistance = Infinity;\n    }\n\n    var minDist = Infinity;\n    var minDiff = -1;\n    var nearestIndicesLen = 0; // Check the test case of `test/ut/spec/data/List.js`.\n\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var diff = value - this.get(dim, i);\n      var dist = Math.abs(diff);\n\n      if (dist <= maxDistance) {\n        // When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,\n        // we'd better not push both of them to `nearestIndices`, otherwise it is easy to\n        // get more than one item in `nearestIndices` (more specifically, in `tooltip`).\n        // So we chose the one that `diff >= 0` in this csae.\n        // But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them\n        // should be push to `nearestIndices`.\n        if (dist < minDist || dist === minDist && diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          nearestIndicesLen = 0;\n        }\n\n        if (diff === minDiff) {\n          nearestIndices[nearestIndicesLen++] = i;\n        }\n      }\n    }\n\n    nearestIndices.length = nearestIndicesLen;\n    return nearestIndices;\n  };\n  /**\n   * Get raw data index\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getRawIndex = getRawIndexWithoutIndices;\n\n  function getRawIndexWithoutIndices(idx) {\n    return idx;\n  }\n\n  function getRawIndexWithIndices(idx) {\n    if (idx < this._count && idx >= 0) {\n      return this._indices[idx];\n    }\n\n    return -1;\n  }\n  /**\n   * Get raw data item\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getRawDataItem = function (idx) {\n    if (!this._rawData.persistent) {\n      var val = [];\n\n      for (var i = 0; i < this.dimensions.length; i++) {\n        var dim = this.dimensions[i];\n        val.push(this.get(dim, idx));\n      }\n\n      return val;\n    } else {\n      return this._rawData.getItem(this.getRawIndex(idx));\n    }\n  };\n  /**\n   * @param {number} idx\n   * @param {boolean} [notDefaultIdx=false]\n   * @return {string}\n   */\n\n\n  listProto.getName = function (idx) {\n    var rawIndex = this.getRawIndex(idx);\n    return this._nameList[rawIndex] || getRawValueFromStore(this, this._nameDimIdx, rawIndex) || '';\n  };\n  /**\n   * @param {number} idx\n   * @param {boolean} [notDefaultIdx=false]\n   * @return {string}\n   */\n\n\n  listProto.getId = function (idx) {\n    return getId(this, this.getRawIndex(idx));\n  };\n\n  function getId(list, rawIndex) {\n    var id = list._idList[rawIndex];\n\n    if (id == null) {\n      id = getRawValueFromStore(list, list._idDimIdx, rawIndex);\n    }\n\n    if (id == null) {\n      // FIXME Check the usage in graph, should not use prefix.\n      id = ID_PREFIX + rawIndex;\n    }\n\n    return id;\n  }\n\n  function normalizeDimensions(dimensions) {\n    if (!util.isArray(dimensions)) {\n      dimensions = [dimensions];\n    }\n\n    return dimensions;\n  }\n  /**\n   * Data iteration\n   * @param {string|Array.<string>}\n   * @param {Function} cb\n   * @param {*} [context=this]\n   *\n   * @example\n   *  list.each('x', function (x, idx) {});\n   *  list.each(['x', 'y'], function (x, y, idx) {});\n   *  list.each(function (idx) {})\n   */\n\n\n  listProto.each = function (dims, cb, context, contextCompat) {\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dims === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dims;\n      dims = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    dims = util.map(normalizeDimensions(dims), this.getDimension, this);\n    var dimSize = dims.length;\n\n    for (var i = 0; i < this.count(); i++) {\n      // Simple optimization\n      switch (dimSize) {\n        case 0:\n          cb.call(context, i);\n          break;\n\n        case 1:\n          cb.call(context, this.get(dims[0], i), i);\n          break;\n\n        case 2:\n          cb.call(context, this.get(dims[0], i), this.get(dims[1], i), i);\n          break;\n\n        default:\n          var k = 0;\n          var value = [];\n\n          for (; k < dimSize; k++) {\n            value[k] = this.get(dims[k], i);\n          } // Index\n\n\n          value[k] = i;\n          cb.apply(context, value);\n      }\n    }\n  };\n  /**\n   * Data filter\n   * @param {string|Array.<string>}\n   * @param {Function} cb\n   * @param {*} [context=this]\n   */\n\n\n  listProto.filterSelf = function (dimensions, cb, context, contextCompat) {\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dimensions === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dimensions;\n      dimensions = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    dimensions = util.map(normalizeDimensions(dimensions), this.getDimension, this);\n    var count = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(count);\n    var value = [];\n    var dimSize = dimensions.length;\n    var offset = 0;\n    var dim0 = dimensions[0];\n\n    for (var i = 0; i < count; i++) {\n      var keep;\n      var rawIdx = this.getRawIndex(i); // Simple optimization\n\n      if (dimSize === 0) {\n        keep = cb.call(context, i);\n      } else if (dimSize === 1) {\n        var val = this._getFast(dim0, rawIdx);\n\n        keep = cb.call(context, val, i);\n      } else {\n        for (var k = 0; k < dimSize; k++) {\n          value[k] = this._getFast(dim0, rawIdx);\n        }\n\n        value[k] = i;\n        keep = cb.apply(context, value);\n      }\n\n      if (keep) {\n        newIndices[offset++] = rawIdx;\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < count) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n\n\n  listProto.selectRange = function (range) {\n\n    if (!this._count) {\n      return;\n    }\n\n    var dimensions = [];\n\n    for (var dim in range) {\n      if (range.hasOwnProperty(dim)) {\n        dimensions.push(dim);\n      }\n    }\n\n    var dimSize = dimensions.length;\n\n    if (!dimSize) {\n      return;\n    }\n\n    var originalCount = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(originalCount);\n    var offset = 0;\n    var dim0 = dimensions[0];\n    var min = range[dim0][0];\n    var max = range[dim0][1];\n    var quickFinished = false;\n\n    if (!this._indices) {\n      // Extreme optimization for common case. About 2x faster in chrome.\n      var idx = 0;\n\n      if (dimSize === 1) {\n        var dimStorage = this._storage[dimensions[0]];\n\n        for (var k = 0; k < this._chunkCount; k++) {\n          var chunkStorage = dimStorage[k];\n          var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n          for (var i = 0; i < len; i++) {\n            var val = chunkStorage[i]; // NaN will not be filtered. Consider the case, in line chart, empty\n            // value indicates the line should be broken. But for the case like\n            // scatter plot, a data item with empty value will not be rendered,\n            // but the axis extent may be effected if some other dim of the data\n            // item has value. Fortunately it is not a significant negative effect.\n\n            if (val >= min && val <= max || isNaN(val)) {\n              newIndices[offset++] = idx;\n            }\n\n            idx++;\n          }\n        }\n\n        quickFinished = true;\n      } else if (dimSize === 2) {\n        var dimStorage = this._storage[dim0];\n        var dimStorage2 = this._storage[dimensions[1]];\n        var min2 = range[dimensions[1]][0];\n        var max2 = range[dimensions[1]][1];\n\n        for (var k = 0; k < this._chunkCount; k++) {\n          var chunkStorage = dimStorage[k];\n          var chunkStorage2 = dimStorage2[k];\n          var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n          for (var i = 0; i < len; i++) {\n            var val = chunkStorage[i];\n            var val2 = chunkStorage2[i]; // Do not filter NaN, see comment above.\n\n            if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\n              newIndices[offset++] = idx;\n            }\n\n            idx++;\n          }\n        }\n\n        quickFinished = true;\n      }\n    }\n\n    if (!quickFinished) {\n      if (dimSize === 1) {\n        for (var i = 0; i < originalCount; i++) {\n          var rawIndex = this.getRawIndex(i);\n\n          var val = this._getFast(dim0, rawIndex); // Do not filter NaN, see comment above.\n\n\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = rawIndex;\n          }\n        }\n      } else {\n        for (var i = 0; i < originalCount; i++) {\n          var keep = true;\n          var rawIndex = this.getRawIndex(i);\n\n          for (var k = 0; k < dimSize; k++) {\n            var dimk = dimensions[k];\n\n            var val = this._getFast(dim, rawIndex); // Do not filter NaN, see comment above.\n\n\n            if (val < range[dimk][0] || val > range[dimk][1]) {\n              keep = false;\n            }\n          }\n\n          if (keep) {\n            newIndices[offset++] = this.getRawIndex(i);\n          }\n        }\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < originalCount) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /**\n   * Data mapping to a plain array\n   * @param {string|Array.<string>} [dimensions]\n   * @param {Function} cb\n   * @param {*} [context=this]\n   * @return {Array}\n   */\n\n\n  listProto.mapArray = function (dimensions, cb, context, contextCompat) {\n\n    if (typeof dimensions === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dimensions;\n      dimensions = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    var result = [];\n    this.each(dimensions, function () {\n      result.push(cb && cb.apply(this, arguments));\n    }, context);\n    return result;\n  }; // Data in excludeDimensions is copied, otherwise transfered.\n\n\n  function cloneListForMapAndSample(original, excludeDimensions) {\n    var allDimensions = original.dimensions;\n    var list = new List(util.map(allDimensions, original.getDimensionInfo, original), original.hostModel); // FIXME If needs stackedOn, value may already been stacked\n\n    transferProperties(list, original);\n    var storage = list._storage = {};\n    var originalStorage = original._storage; // Init storage\n\n    for (var i = 0; i < allDimensions.length; i++) {\n      var dim = allDimensions[i];\n\n      if (originalStorage[dim]) {\n        // Notice that we do not reset invertedIndicesMap here, becuase\n        // there is no scenario of mapping or sampling ordinal dimension.\n        if (util.indexOf(excludeDimensions, dim) >= 0) {\n          storage[dim] = cloneDimStore(originalStorage[dim]);\n          list._rawExtent[dim] = getInitialExtent();\n          list._extent[dim] = null;\n        } else {\n          // Direct reference for other dimensions\n          storage[dim] = originalStorage[dim];\n        }\n      }\n    }\n\n    return list;\n  }\n\n  function cloneDimStore(originalDimStore) {\n    var newDimStore = new Array(originalDimStore.length);\n\n    for (var j = 0; j < originalDimStore.length; j++) {\n      newDimStore[j] = cloneChunk(originalDimStore[j]);\n    }\n\n    return newDimStore;\n  }\n\n  function getInitialExtent() {\n    return [Infinity, -Infinity];\n  }\n  /**\n   * Data mapping to a new List with given dimensions\n   * @param {string|Array.<string>} dimensions\n   * @param {Function} cb\n   * @param {*} [context=this]\n   * @return {Array}\n   */\n\n\n  listProto.map = function (dimensions, cb, context, contextCompat) {\n\n    context = context || contextCompat || this;\n    dimensions = util.map(normalizeDimensions(dimensions), this.getDimension, this);\n    var list = cloneListForMapAndSample(this, dimensions); // Following properties are all immutable.\n    // So we can reference to the same value\n\n    list._indices = this._indices;\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    var storage = list._storage;\n    var tmpRetValue = [];\n    var chunkSize = this._chunkSize;\n    var dimSize = dimensions.length;\n    var dataCount = this.count();\n    var values = [];\n    var rawExtent = list._rawExtent;\n\n    for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\n      for (var dimIndex = 0; dimIndex < dimSize; dimIndex++) {\n        values[dimIndex] = this.get(dimensions[dimIndex], dataIndex\n        /*, stack */\n        );\n      }\n\n      values[dimSize] = dataIndex;\n      var retValue = cb && cb.apply(context, values);\n\n      if (retValue != null) {\n        // a number or string (in oridinal dimension)?\n        if (typeof retValue !== 'object') {\n          tmpRetValue[0] = retValue;\n          retValue = tmpRetValue;\n        }\n\n        var rawIndex = this.getRawIndex(dataIndex);\n        var chunkIndex = Math.floor(rawIndex / chunkSize);\n        var chunkOffset = rawIndex % chunkSize;\n\n        for (var i = 0; i < retValue.length; i++) {\n          var dim = dimensions[i];\n          var val = retValue[i];\n          var rawExtentOnDim = rawExtent[dim];\n          var dimStore = storage[dim];\n\n          if (dimStore) {\n            dimStore[chunkIndex][chunkOffset] = val;\n          }\n\n          if (val < rawExtentOnDim[0]) {\n            rawExtentOnDim[0] = val;\n          }\n\n          if (val > rawExtentOnDim[1]) {\n            rawExtentOnDim[1] = val;\n          }\n        }\n      }\n    }\n\n    return list;\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param {string} dimension\n   * @param {number} rate\n   * @param {Function} sampleValue\n   * @param {Function} sampleIndex Sample index for name and id\n   */\n\n\n  listProto.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this, [dimension]);\n    var targetStorage = list._storage;\n    var frameValues = [];\n    var frameSize = Math.floor(1 / rate);\n    var dimStore = targetStorage[dimension];\n    var len = this.count();\n    var chunkSize = this._chunkSize;\n    var rawExtentOnDim = list._rawExtent[dimension];\n    var newIndices = new (getIndicesCtor(this))(len);\n    var offset = 0;\n\n    for (var i = 0; i < len; i += frameSize) {\n      // Last frame\n      if (frameSize > len - i) {\n        frameSize = len - i;\n        frameValues.length = frameSize;\n      }\n\n      for (var k = 0; k < frameSize; k++) {\n        var dataIdx = this.getRawIndex(i + k);\n        var originalChunkIndex = Math.floor(dataIdx / chunkSize);\n        var originalChunkOffset = dataIdx % chunkSize;\n        frameValues[k] = dimStore[originalChunkIndex][originalChunkOffset];\n      }\n\n      var value = sampleValue(frameValues);\n      var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1));\n      var sampleChunkIndex = Math.floor(sampleFrameIdx / chunkSize);\n      var sampleChunkOffset = sampleFrameIdx % chunkSize; // Only write value on the filtered data\n\n      dimStore[sampleChunkIndex][sampleChunkOffset] = value;\n\n      if (value < rawExtentOnDim[0]) {\n        rawExtentOnDim[0] = value;\n      }\n\n      if (value > rawExtentOnDim[1]) {\n        rawExtentOnDim[1] = value;\n      }\n\n      newIndices[offset++] = sampleFrameIdx;\n    }\n\n    list._count = offset;\n    list._indices = newIndices;\n    list.getRawIndex = getRawIndexWithIndices;\n    return list;\n  };\n  /**\n   * Get model of one data item.\n   *\n   * @param {number} idx\n   */\n  // FIXME Model proxy ?\n\n\n  listProto.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    return new Model_1(this.getRawDataItem(idx), hostModel, hostModel && hostModel.ecModel);\n  };\n  /**\n   * Create a data differ\n   * @param {module:echarts/data/List} otherList\n   * @return {module:echarts/data/DataDiffer}\n   */\n\n\n  listProto.diff = function (otherList) {\n    var thisList = this;\n    return new DataDiffer_1(otherList ? otherList.getIndices() : [], this.getIndices(), function (idx) {\n      return getId(otherList, idx);\n    }, function (idx) {\n      return getId(thisList, idx);\n    });\n  };\n  /**\n   * Get visual property.\n   * @param {string} key\n   */\n\n\n  listProto.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n  };\n  /**\n   * Set visual property\n   * @param {string|Object} key\n   * @param {*} [value]\n   *\n   * @example\n   *  setVisual('color', color);\n   *  setVisual({\n   *      'color': color\n   *  });\n   */\n\n\n  listProto.setVisual = function (key, val) {\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.setVisual(name, key[name]);\n        }\n      }\n\n      return;\n    }\n\n    this._visual = this._visual || {};\n    this._visual[key] = val;\n  };\n  /**\n   * Set layout property.\n   * @param {string|Object} key\n   * @param {*} [val]\n   */\n\n\n  listProto.setLayout = function (key, val) {\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.setLayout(name, key[name]);\n        }\n      }\n\n      return;\n    }\n\n    this._layout[key] = val;\n  };\n  /**\n   * Get layout property.\n   * @param  {string} key.\n   * @return {*}\n   */\n\n\n  listProto.getLayout = function (key) {\n    return this._layout[key];\n  };\n  /**\n   * Get layout of single data item\n   * @param {number} idx\n   */\n\n\n  listProto.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n  };\n  /**\n   * Set layout of single data item\n   * @param {number} idx\n   * @param {Object} layout\n   * @param {boolean=} [merge=false]\n   */\n\n\n  listProto.setItemLayout = function (idx, layout, merge) {\n    this._itemLayouts[idx] = merge ? util.extend(this._itemLayouts[idx] || {}, layout) : layout;\n  };\n  /**\n   * Clear all layout of single data item\n   */\n\n\n  listProto.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n  };\n  /**\n   * Get visual property of single data item\n   * @param {number} idx\n   * @param {string} key\n   * @param {boolean} [ignoreParent=false]\n   */\n\n\n  listProto.getItemVisual = function (idx, key, ignoreParent) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n\n    if (val == null && !ignoreParent) {\n      // Use global visual property\n      return this.getVisual(key);\n    }\n\n    return val;\n  };\n  /**\n   * Set visual property of single data item\n   *\n   * @param {number} idx\n   * @param {string|Object} key\n   * @param {*} [value]\n   *\n   * @example\n   *  setItemVisual(0, 'color', color);\n   *  setItemVisual(0, {\n   *      'color': color\n   *  });\n   */\n\n\n  listProto.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    var hasItemVisual = this.hasItemVisual;\n    this._itemVisuals[idx] = itemVisual;\n\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          itemVisual[name] = key[name];\n          hasItemVisual[name] = true;\n        }\n      }\n\n      return;\n    }\n\n    itemVisual[key] = value;\n    hasItemVisual[key] = true;\n  };\n  /**\n   * Clear itemVisuals and list visual.\n   */\n\n\n  listProto.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n    this.hasItemVisual = {};\n  };\n\n  var setItemDataAndSeriesIndex = function (child) {\n    child.seriesIndex = this.seriesIndex;\n    child.dataIndex = this.dataIndex;\n    child.dataType = this.dataType;\n  };\n  /**\n   * Set graphic element relative to data. It can be set as null\n   * @param {number} idx\n   * @param {module:zrender/Element} [el]\n   */\n\n\n  listProto.setItemGraphicEl = function (idx, el) {\n    var hostModel = this.hostModel;\n\n    if (el) {\n      // Add data index and series index for indexing the data by element\n      // Useful in tooltip\n      el.dataIndex = idx;\n      el.dataType = this.dataType;\n      el.seriesIndex = hostModel && hostModel.seriesIndex;\n\n      if (el.type === 'group') {\n        el.traverse(setItemDataAndSeriesIndex, el);\n      }\n    }\n\n    this._graphicEls[idx] = el;\n  };\n  /**\n   * @param {number} idx\n   * @return {module:zrender/Element}\n   */\n\n\n  listProto.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n  };\n  /**\n   * @param {Function} cb\n   * @param {*} context\n   */\n\n\n  listProto.eachItemGraphicEl = function (cb, context) {\n    util.each(this._graphicEls, function (el, idx) {\n      if (el) {\n        cb && cb.call(context, el, idx);\n      }\n    });\n  };\n  /**\n   * Shallow clone a new list except visual and layout properties, and graph elements.\n   * New list only change the indices.\n   */\n\n\n  listProto.cloneShallow = function (list) {\n    if (!list) {\n      var dimensionInfoList = util.map(this.dimensions, this.getDimensionInfo, this);\n      list = new List(dimensionInfoList, this.hostModel);\n    } // FIXME\n\n\n    list._storage = this._storage;\n    transferProperties(list, this); // Clone will not change the data extent and indices\n\n    if (this._indices) {\n      var Ctor = this._indices.constructor;\n      list._indices = new Ctor(this._indices);\n    } else {\n      list._indices = null;\n    }\n\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return list;\n  };\n  /**\n   * Wrap some method to add more feature\n   * @param {string} methodName\n   * @param {Function} injectFunction\n   */\n\n\n  listProto.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n\n    if (typeof originalMethod !== 'function') {\n      return;\n    }\n\n    this.__wrappedMethods = this.__wrappedMethods || [];\n\n    this.__wrappedMethods.push(methodName);\n\n    this[methodName] = function () {\n      var res = originalMethod.apply(this, arguments);\n      return injectFunction.apply(this, [res].concat(util.slice(arguments)));\n    };\n  }; // Methods that create a new list based on this list should be listed here.\n  // Notice that those method should `RETURN` the new list.\n\n\n  listProto.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'map']; // Methods that change indices of this list should be listed here.\n\n  listProto.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\n  var _default$1j = List;\n  var List_1 = _default$1j;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$8 = util.createHashMap;\n  var each$g = util.each;\n  var isString$8 = util.isString;\n  var defaults$2 = util.defaults;\n  var extend$8 = util.extend;\n  var isObject$c = util.isObject;\n  var clone$6 = util.clone;\n\n\n\n  var normalizeToArray$4 = model.normalizeToArray;\n\n\n\n  var guessOrdinal$1 = sourceHelper.guessOrdinal;\n  var BE_ORDINAL$1 = sourceHelper.BE_ORDINAL;\n\n\n\n\n\n  var OTHER_DIMENSIONS$1 = dimensionHelper.OTHER_DIMENSIONS;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @deprecated\n   * Use `echarts/data/helper/createDimensions` instead.\n   */\n\n  /**\n   * @see {module:echarts/test/ut/spec/data/completeDimensions}\n   *\n   * This method builds the relationship between:\n   * + \"what the coord sys or series requires (see `sysDims`)\",\n   * + \"what the user defines (in `encode` and `dimensions`, see `opt.dimsDef` and `opt.encodeDef`)\"\n   * + \"what the data source provids (see `source`)\".\n   *\n   * Some guess strategy will be adapted if user does not define something.\n   * If no 'value' dimension specified, the first no-named dimension will be\n   * named as 'value'.\n   *\n   * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n   *      provides not only dim template, but also default order.\n   *      properties: 'name', 'type', 'displayName'.\n   *      `name` of each item provides default coord name.\n   *      [{dimsDef: [string|Object, ...]}, ...] dimsDef of sysDim item provides default dim name, and\n   *                                    provide dims count that the sysDim required.\n   *      [{ordinalMeta}] can be specified.\n   * @param {module:echarts/data/Source|Array|Object} source or data (for compatibal with pervious)\n   * @param {Object} [opt]\n   * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n   *      For example: ['asdf', {name, type}, ...].\n   * @param {Object|HashMap} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n   * @param {Function} [opt.encodeDefaulter] Called if no `opt.encodeDef` exists.\n   *      If not specified, auto find the next available data dim.\n   *      param source {module:data/Source}\n   *      param dimCount {number}\n   *      return {Object} encode Never be `null/undefined`.\n   * @param {string} [opt.generateCoord] Generate coord dim with the given name.\n   *      If not specified, extra dim names will be:\n   *      'value', 'value0', 'value1', ...\n   * @param {number} [opt.generateCoordCount] By default, the generated dim name is `generateCoord`.\n   *      If `generateCoordCount` specified, the generated dim names will be:\n   *      `generateCoord` + 0, `generateCoord` + 1, ...\n   *      can be Infinity, indicate that use all of the remain columns.\n   * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n   * @return {Array.<module:data/DataDimensionInfo>}\n   */\n  function completeDimensions(sysDims, source, opt) {\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    opt = opt || {};\n    sysDims = (sysDims || []).slice();\n    var dimsDef = (opt.dimsDef || []).slice();\n    var dataDimNameMap = createHashMap$8();\n    var coordDimNameMap = createHashMap$8(); // var valueCandidate;\n\n    var result = [];\n    var dimCount = getDimCount(source, sysDims, dimsDef, opt.dimCount); // Apply user defined dims (`name` and `type`) and init result.\n\n    for (var i = 0; i < dimCount; i++) {\n      var dimDefItem = dimsDef[i] = extend$8({}, isObject$c(dimsDef[i]) ? dimsDef[i] : {\n        name: dimsDef[i]\n      });\n      var userDimName = dimDefItem.name;\n      var resultItem = result[i] = new DataDimensionInfo_1(); // Name will be applied later for avoiding duplication.\n\n      if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n        // Only if `series.dimensions` is defined in option\n        // displayName, will be set, and dimension will be diplayed vertically in\n        // tooltip by default.\n        resultItem.name = resultItem.displayName = userDimName;\n        dataDimNameMap.set(userDimName, i);\n      }\n\n      dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n      dimDefItem.displayName != null && (resultItem.displayName = dimDefItem.displayName);\n    }\n\n    var encodeDef = opt.encodeDef;\n\n    if (!encodeDef && opt.encodeDefaulter) {\n      encodeDef = opt.encodeDefaulter(source, dimCount);\n    }\n\n    encodeDef = createHashMap$8(encodeDef); // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n    encodeDef.each(function (dataDims, coordDim) {\n      dataDims = normalizeToArray$4(dataDims).slice(); // Note: It is allowed that `dataDims.length` is `0`, e.g., options is\n      // `{encode: {x: -1, y: 1}}`. Should not filter anything in\n      // this case.\n\n      if (dataDims.length === 1 && !isString$8(dataDims[0]) && dataDims[0] < 0) {\n        encodeDef.set(coordDim, false);\n        return;\n      }\n\n      var validDataDims = encodeDef.set(coordDim, []);\n      each$g(dataDims, function (resultDimIdx, idx) {\n        // The input resultDimIdx can be dim name or index.\n        isString$8(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n        if (resultDimIdx != null && resultDimIdx < dimCount) {\n          validDataDims[idx] = resultDimIdx;\n          applyDim(result[resultDimIdx], coordDim, idx);\n        }\n      });\n    }); // Apply templetes and default order from `sysDims`.\n\n    var availDimIdx = 0;\n    each$g(sysDims, function (sysDimItem, sysDimIndex) {\n      var coordDim;\n      var sysDimItem;\n      var sysDimItemDimsDef;\n      var sysDimItemOtherDims;\n\n      if (isString$8(sysDimItem)) {\n        coordDim = sysDimItem;\n        sysDimItem = {};\n      } else {\n        coordDim = sysDimItem.name;\n        var ordinalMeta = sysDimItem.ordinalMeta;\n        sysDimItem.ordinalMeta = null;\n        sysDimItem = clone$6(sysDimItem);\n        sysDimItem.ordinalMeta = ordinalMeta; // `coordDimIndex` should not be set directly.\n\n        sysDimItemDimsDef = sysDimItem.dimsDef;\n        sysDimItemOtherDims = sysDimItem.otherDims;\n        sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n      }\n\n      var dataDims = encodeDef.get(coordDim); // negative resultDimIdx means no need to mapping.\n\n      if (dataDims === false) {\n        return;\n      }\n\n      var dataDims = normalizeToArray$4(dataDims); // dimensions provides default dim sequences.\n\n      if (!dataDims.length) {\n        for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n          while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n            availDimIdx++;\n          }\n\n          availDimIdx < result.length && dataDims.push(availDimIdx++);\n        }\n      } // Apply templates.\n\n\n      each$g(dataDims, function (resultDimIdx, coordDimIndex) {\n        var resultItem = result[resultDimIdx];\n        applyDim(defaults$2(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n        if (resultItem.name == null && sysDimItemDimsDef) {\n          var sysDimItemDimsDefItem = sysDimItemDimsDef[coordDimIndex];\n          !isObject$c(sysDimItemDimsDefItem) && (sysDimItemDimsDefItem = {\n            name: sysDimItemDimsDefItem\n          });\n          resultItem.name = resultItem.displayName = sysDimItemDimsDefItem.name;\n          resultItem.defaultTooltip = sysDimItemDimsDefItem.defaultTooltip;\n        } // FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}\n\n\n        sysDimItemOtherDims && defaults$2(resultItem.otherDims, sysDimItemOtherDims);\n      });\n    });\n\n    function applyDim(resultItem, coordDim, coordDimIndex) {\n      if (OTHER_DIMENSIONS$1.get(coordDim) != null) {\n        resultItem.otherDims[coordDim] = coordDimIndex;\n      } else {\n        resultItem.coordDim = coordDim;\n        resultItem.coordDimIndex = coordDimIndex;\n        coordDimNameMap.set(coordDim, true);\n      }\n    } // Make sure the first extra dim is 'value'.\n\n\n    var generateCoord = opt.generateCoord;\n    var generateCoordCount = opt.generateCoordCount;\n    var fromZero = generateCoordCount != null;\n    generateCoordCount = generateCoord ? generateCoordCount || 1 : 0;\n    var extra = generateCoord || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n    for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n      var resultItem = result[resultDimIdx] = result[resultDimIdx] || new DataDimensionInfo_1();\n      var coordDim = resultItem.coordDim;\n\n      if (coordDim == null) {\n        resultItem.coordDim = genName(extra, coordDimNameMap, fromZero);\n        resultItem.coordDimIndex = 0;\n\n        if (!generateCoord || generateCoordCount <= 0) {\n          resultItem.isExtraCoord = true;\n        }\n\n        generateCoordCount--;\n      }\n\n      resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n\n      if (resultItem.type == null && (guessOrdinal$1(source, resultDimIdx, resultItem.name) === BE_ORDINAL$1.Must // Consider the case:\n      // {\n      //    dataset: {source: [\n      //        ['2001', 123],\n      //        ['2002', 456],\n      //        ...\n      //        ['The others', 987],\n      //    ]},\n      //    series: {type: 'pie'}\n      // }\n      // The first colum should better be treated as a \"ordinal\" although it\n      // might not able to be detected as an \"ordinal\" by `guessOrdinal`.\n      || resultItem.isExtraCoord && (resultItem.otherDims.itemName != null || resultItem.otherDims.seriesName != null))) {\n        resultItem.type = 'ordinal';\n      }\n    }\n\n    return result;\n  } // ??? TODO\n  // Originally detect dimCount by data[0]. Should we\n  // optimize it to only by sysDims and dimensions and encode.\n  // So only necessary dims will be initialized.\n  // But\n  // (1) custom series should be considered. where other dims\n  // may be visited.\n  // (2) sometimes user need to calcualte bubble size or use visualMap\n  // on other dimensions besides coordSys needed.\n  // So, dims that is not used by system, should be shared in storage?\n\n\n  function getDimCount(source, sysDims, dimsDef, optDimCount) {\n    // Note that the result dimCount should not small than columns count\n    // of data, otherwise `dataDimNameMap` checking will be incorrect.\n    var dimCount = Math.max(source.dimensionsDetectCount || 1, sysDims.length, dimsDef.length, optDimCount || 0);\n    each$g(sysDims, function (sysDimItem) {\n      var sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n    });\n    return dimCount;\n  }\n\n  function genName(name, map, fromZero) {\n    if (fromZero || map.get(name) != null) {\n      var i = 0;\n\n      while (map.get(name + i) != null) {\n        i++;\n      }\n\n      name += i;\n    }\n\n    map.set(name, true);\n    return name;\n  }\n\n  var _default$1k = completeDimensions;\n  var completeDimensions_1 = _default$1k;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Substitute `completeDimensions`.\n   * `completeDimensions` is to be deprecated.\n   */\n\n  /**\n   * @param {module:echarts/data/Source|module:echarts/data/List} source or data.\n   * @param {Object|Array} [opt]\n   * @param {Array.<string|Object>} [opt.coordDimensions=[]]\n   * @param {number} [opt.dimensionsCount]\n   * @param {string} [opt.generateCoord]\n   * @param {string} [opt.generateCoordCount]\n   * @param {Array.<string|Object>} [opt.dimensionsDefine=source.dimensionsDefine] Overwrite source define.\n   * @param {Object|HashMap} [opt.encodeDefine=source.encodeDefine] Overwrite source define.\n   * @param {Function} [opt.encodeDefaulter] Make default encode if user not specified.\n   * @return {Array.<Object>} dimensionsInfo\n   */\n  function _default$1l(source, opt) {\n    opt = opt || {};\n    return completeDimensions_1(opt.coordDimensions || [], source, {\n      dimsDef: opt.dimensionsDefine || source.dimensionsDefine,\n      encodeDef: opt.encodeDefine || source.encodeDefine,\n      dimCount: opt.dimensionsCount,\n      encodeDefaulter: opt.encodeDefaulter,\n      generateCoord: opt.generateCoord,\n      generateCoordCount: opt.generateCoordCount\n    });\n  }\n\n  var createDimensions = _default$1l;\n\n  var createHashMap$9 = util.createHashMap;\n  var each$h = util.each;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Helper for model references.\n   * There are many manners to refer axis/coordSys.\n   */\n  // TODO\n  // merge relevant logic to this file?\n  // check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\n\n  /**\n   * @class\n   * For example:\n   * {\n   *     coordSysName: 'cartesian2d',\n   *     coordSysDims: ['x', 'y', ...],\n   *     axisMap: HashMap({\n   *         x: xAxisModel,\n   *         y: yAxisModel\n   *     }),\n   *     categoryAxisMap: HashMap({\n   *         x: xAxisModel,\n   *         y: undefined\n   *     }),\n   *     // The index of the first category axis in `coordSysDims`.\n   *     // `null/undefined` means no category axis exists.\n   *     firstCategoryDimIndex: 1,\n   *     // To replace user specified encode.\n   * }\n   */\n  function CoordSysInfo(coordSysName) {\n    /**\n     * @type {string}\n     */\n    this.coordSysName = coordSysName;\n    /**\n     * @type {Array.<string>}\n     */\n\n    this.coordSysDims = [];\n    /**\n     * @type {module:zrender/core/util#HashMap}\n     */\n\n    this.axisMap = createHashMap$9();\n    /**\n     * @type {module:zrender/core/util#HashMap}\n     */\n\n    this.categoryAxisMap = createHashMap$9();\n    /**\n     * @type {number}\n     */\n\n    this.firstCategoryDimIndex = null;\n  }\n  /**\n   * @return {module:model/referHelper#CoordSysInfo}\n   */\n\n\n  function getCoordSysInfoBySeries(seriesModel) {\n    var coordSysName = seriesModel.get('coordinateSystem');\n    var result = new CoordSysInfo(coordSysName);\n    var fetch = fetchers[coordSysName];\n\n    if (fetch) {\n      fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n      return result;\n    }\n  }\n\n  var fetchers = {\n    cartesian2d: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var xAxisModel = seriesModel.getReferringComponents('xAxis')[0];\n      var yAxisModel = seriesModel.getReferringComponents('yAxis')[0];\n      result.coordSysDims = ['x', 'y'];\n      axisMap.set('x', xAxisModel);\n      axisMap.set('y', yAxisModel);\n\n      if (isCategory(xAxisModel)) {\n        categoryAxisMap.set('x', xAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n\n      if (isCategory(yAxisModel)) {\n        categoryAxisMap.set('y', yAxisModel);\n        result.firstCategoryDimIndex == null & (result.firstCategoryDimIndex = 1);\n      }\n    },\n    singleAxis: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var singleAxisModel = seriesModel.getReferringComponents('singleAxis')[0];\n      result.coordSysDims = ['single'];\n      axisMap.set('single', singleAxisModel);\n\n      if (isCategory(singleAxisModel)) {\n        categoryAxisMap.set('single', singleAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n    },\n    polar: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var polarModel = seriesModel.getReferringComponents('polar')[0];\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      result.coordSysDims = ['radius', 'angle'];\n      axisMap.set('radius', radiusAxisModel);\n      axisMap.set('angle', angleAxisModel);\n\n      if (isCategory(radiusAxisModel)) {\n        categoryAxisMap.set('radius', radiusAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n\n      if (isCategory(angleAxisModel)) {\n        categoryAxisMap.set('angle', angleAxisModel);\n        result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n      }\n    },\n    geo: function (seriesModel, result, axisMap, categoryAxisMap) {\n      result.coordSysDims = ['lng', 'lat'];\n    },\n    parallel: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var ecModel = seriesModel.ecModel;\n      var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n      var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n      each$h(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n        var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n        var axisDim = coordSysDims[index];\n        axisMap.set(axisDim, axisModel);\n\n        if (isCategory(axisModel) && result.firstCategoryDimIndex == null) {\n          categoryAxisMap.set(axisDim, axisModel);\n          result.firstCategoryDimIndex = index;\n        }\n      });\n    }\n  };\n\n  function isCategory(axisModel) {\n    return axisModel.get('type') === 'category';\n  }\n\n  var getCoordSysInfoBySeries_1 = getCoordSysInfoBySeries;\n\n  var referHelper = {\n  \tgetCoordSysInfoBySeries: getCoordSysInfoBySeries_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$i = util.each;\n  var isString$9 = util.isString;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Note that it is too complicated to support 3d stack by value\n   * (have to create two-dimension inverted index), so in 3d case\n   * we just support that stacked by index.\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Array.<string|Object>} dimensionInfoList The same as the input of <module:echarts/data/List>.\n   *        The input dimensionInfoList will be modified.\n   * @param {Object} [opt]\n   * @param {boolean} [opt.stackedCoordDimension=''] Specify a coord dimension if needed.\n   * @param {boolean} [opt.byIndex=false]\n   * @return {Object} calculationInfo\n   * {\n   *     stackedDimension: string\n   *     stackedByDimension: string\n   *     isStackedByIndex: boolean\n   *     stackedOverDimension: string\n   *     stackResultDimension: string\n   * }\n   */\n  function enableDataStack(seriesModel, dimensionInfoList, opt) {\n    opt = opt || {};\n    var byIndex = opt.byIndex;\n    var stackedCoordDimension = opt.stackedCoordDimension; // Compatibal: when `stack` is set as '', do not stack.\n\n    var mayStack = !!(seriesModel && seriesModel.get('stack'));\n    var stackedByDimInfo;\n    var stackedDimInfo;\n    var stackResultDimension;\n    var stackedOverDimension;\n    each$i(dimensionInfoList, function (dimensionInfo, index) {\n      if (isString$9(dimensionInfo)) {\n        dimensionInfoList[index] = dimensionInfo = {\n          name: dimensionInfo\n        };\n      }\n\n      if (mayStack && !dimensionInfo.isExtraCoord) {\n        // Find the first ordinal dimension as the stackedByDimInfo.\n        if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {\n          stackedByDimInfo = dimensionInfo;\n        } // Find the first stackable dimension as the stackedDimInfo.\n\n\n        if (!stackedDimInfo && dimensionInfo.type !== 'ordinal' && dimensionInfo.type !== 'time' && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {\n          stackedDimInfo = dimensionInfo;\n        }\n      }\n    });\n\n    if (stackedDimInfo && !byIndex && !stackedByDimInfo) {\n      // Compatible with previous design, value axis (time axis) only stack by index.\n      // It may make sense if the user provides elaborately constructed data.\n      byIndex = true;\n    } // Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.\n    // That put stack logic in List is for using conveniently in echarts extensions, but it\n    // might not be a good way.\n\n\n    if (stackedDimInfo) {\n      // Use a weird name that not duplicated with other names.\n      stackResultDimension = '__\\0ecstackresult';\n      stackedOverDimension = '__\\0ecstackedover'; // Create inverted index to fast query index by value.\n\n      if (stackedByDimInfo) {\n        stackedByDimInfo.createInvertedIndices = true;\n      }\n\n      var stackedDimCoordDim = stackedDimInfo.coordDim;\n      var stackedDimType = stackedDimInfo.type;\n      var stackedDimCoordIndex = 0;\n      each$i(dimensionInfoList, function (dimensionInfo) {\n        if (dimensionInfo.coordDim === stackedDimCoordDim) {\n          stackedDimCoordIndex++;\n        }\n      });\n      dimensionInfoList.push({\n        name: stackResultDimension,\n        coordDim: stackedDimCoordDim,\n        coordDimIndex: stackedDimCoordIndex,\n        type: stackedDimType,\n        isExtraCoord: true,\n        isCalculationCoord: true\n      });\n      stackedDimCoordIndex++;\n      dimensionInfoList.push({\n        name: stackedOverDimension,\n        // This dimension contains stack base (generally, 0), so do not set it as\n        // `stackedDimCoordDim` to avoid extent calculation, consider log scale.\n        coordDim: stackedOverDimension,\n        coordDimIndex: stackedDimCoordIndex,\n        type: stackedDimType,\n        isExtraCoord: true,\n        isCalculationCoord: true\n      });\n    }\n\n    return {\n      stackedDimension: stackedDimInfo && stackedDimInfo.name,\n      stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,\n      isStackedByIndex: byIndex,\n      stackedOverDimension: stackedOverDimension,\n      stackResultDimension: stackResultDimension\n    };\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {string} stackedDim\n   */\n\n\n  function isDimensionStacked(data, stackedDim\n  /*, stackedByDim*/\n  ) {\n    // Each single series only maps to one pair of axis. So we do not need to\n    // check stackByDim, whatever stacked by a dimension or stacked by index.\n    return !!stackedDim && stackedDim === data.getCalculationInfo('stackedDimension'); // && (\n    //     stackedByDim != null\n    //         ? stackedByDim === data.getCalculationInfo('stackedByDimension')\n    //         : data.getCalculationInfo('isStackedByIndex')\n    // );\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {string} targetDim\n   * @param {string} [stackedByDim] If not input this parameter, check whether\n   *                                stacked by index.\n   * @return {string} dimension\n   */\n\n\n  function getStackedDimension(data, targetDim) {\n    return isDimensionStacked(data, targetDim) ? data.getCalculationInfo('stackResultDimension') : targetDim;\n  }\n\n  var enableDataStack_1 = enableDataStack;\n  var isDimensionStacked_1 = isDimensionStacked;\n  var getStackedDimension_1 = getStackedDimension;\n\n  var dataStackHelper = {\n  \tenableDataStack: enableDataStack_1,\n  \tisDimensionStacked: isDimensionStacked_1,\n  \tgetStackedDimension: getStackedDimension_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$4 = sourceType.SOURCE_FORMAT_ORIGINAL;\n\n\n\n  var getDimensionTypeByAxis$1 = dimensionHelper.getDimensionTypeByAxis;\n\n\n\n  var getDataItemValue$3 = model.getDataItemValue;\n\n\n\n\n\n  var getCoordSysInfoBySeries$1 = referHelper.getCoordSysInfoBySeries;\n\n\n\n\n\n  var enableDataStack$1 = dataStackHelper.enableDataStack;\n\n\n\n  var makeSeriesEncodeForAxisCoordSys$1 = sourceHelper.makeSeriesEncodeForAxisCoordSys;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/data/Source|Array} source Or raw data.\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Object} [opt]\n   * @param {string} [opt.generateCoord]\n   * @param {boolean} [opt.useEncodeDefaulter]\n   */\n  function createListFromArray(source, seriesModel, opt) {\n    opt = opt || {};\n\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    var coordSysName = seriesModel.get('coordinateSystem');\n    var registeredCoordSys = CoordinateSystem.get(coordSysName);\n    var coordSysInfo = getCoordSysInfoBySeries$1(seriesModel);\n    var coordSysDimDefs;\n\n    if (coordSysInfo) {\n      coordSysDimDefs = util.map(coordSysInfo.coordSysDims, function (dim) {\n        var dimInfo = {\n          name: dim\n        };\n        var axisModel = coordSysInfo.axisMap.get(dim);\n\n        if (axisModel) {\n          var axisType = axisModel.get('type');\n          dimInfo.type = getDimensionTypeByAxis$1(axisType); // dimInfo.stackable = isStackable(axisType);\n        }\n\n        return dimInfo;\n      });\n    }\n\n    if (!coordSysDimDefs) {\n      // Get dimensions from registered coordinate system\n      coordSysDimDefs = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ['x', 'y'];\n    }\n\n    var dimInfoList = createDimensions(source, {\n      coordDimensions: coordSysDimDefs,\n      generateCoord: opt.generateCoord,\n      encodeDefaulter: opt.useEncodeDefaulter ? util.curry(makeSeriesEncodeForAxisCoordSys$1, coordSysDimDefs, seriesModel) : null\n    });\n    var firstCategoryDimIndex;\n    var hasNameEncode;\n    coordSysInfo && util.each(dimInfoList, function (dimInfo, dimIndex) {\n      var coordDim = dimInfo.coordDim;\n      var categoryAxisModel = coordSysInfo.categoryAxisMap.get(coordDim);\n\n      if (categoryAxisModel) {\n        if (firstCategoryDimIndex == null) {\n          firstCategoryDimIndex = dimIndex;\n        }\n\n        dimInfo.ordinalMeta = categoryAxisModel.getOrdinalMeta();\n      }\n\n      if (dimInfo.otherDims.itemName != null) {\n        hasNameEncode = true;\n      }\n    });\n\n    if (!hasNameEncode && firstCategoryDimIndex != null) {\n      dimInfoList[firstCategoryDimIndex].otherDims.itemName = 0;\n    }\n\n    var stackCalculationInfo = enableDataStack$1(seriesModel, dimInfoList);\n    var list = new List_1(dimInfoList, seriesModel);\n    list.setCalculationInfo(stackCalculationInfo);\n    var dimValueGetter = firstCategoryDimIndex != null && isNeedCompleteOrdinalData(source) ? function (itemOpt, dimName, dataIndex, dimIndex) {\n      // Use dataIndex as ordinal value in categoryAxis\n      return dimIndex === firstCategoryDimIndex ? dataIndex : this.defaultDimValueGetter(itemOpt, dimName, dataIndex, dimIndex);\n    } : null;\n    list.hasItemOption = false;\n    list.initData(source, null, dimValueGetter);\n    return list;\n  }\n\n  function isNeedCompleteOrdinalData(source) {\n    if (source.sourceFormat === SOURCE_FORMAT_ORIGINAL$4) {\n      var sampleItem = firstDataNotNull(source.data || []);\n      return sampleItem != null && !util.isArray(getDataItemValue$3(sampleItem));\n    }\n  }\n\n  function firstDataNotNull(data) {\n    var i = 0;\n\n    while (i < data.length && data[i] == null) {\n      i++;\n    }\n\n    return data[i];\n  }\n\n  var _default$1m = createListFromArray;\n  var createListFromArray_1 = _default$1m;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * // Scale class management\n   * @module echarts/scale/Scale\n   */\n\n  /**\n   * @param {Object} [setting]\n   */\n  function Scale(setting) {\n    this._setting = setting || {};\n    /**\n     * Extent\n     * @type {Array.<number>}\n     * @protected\n     */\n\n    this._extent = [Infinity, -Infinity];\n    /**\n     * Step is calculated in adjustExtent\n     * @type {Array.<number>}\n     * @protected\n     */\n\n    this._interval = 0;\n    this.init && this.init.apply(this, arguments);\n  }\n  /**\n   * Parse input val to valid inner number.\n   * @param {*} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.parse = function (val) {\n    // Notice: This would be a trap here, If the implementation\n    // of this method depends on extent, and this method is used\n    // before extent set (like in dataZoom), it would be wrong.\n    // Nevertheless, parse does not depend on extent generally.\n    return val;\n  };\n\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n\n  Scale.prototype.contain = function (val) {\n    var extent = this._extent;\n    return val >= extent[0] && val <= extent[1];\n  };\n  /**\n   * Normalize value to linear [0, 1], return 0.5 if extent span is 0\n   * @param {number} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.normalize = function (val) {\n    var extent = this._extent;\n\n    if (extent[1] === extent[0]) {\n      return 0.5;\n    }\n\n    return (val - extent[0]) / (extent[1] - extent[0]);\n  };\n  /**\n   * Scale normalized value\n   * @param {number} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.scale = function (val) {\n    var extent = this._extent;\n    return val * (extent[1] - extent[0]) + extent[0];\n  };\n  /**\n   * Set extent from data\n   * @param {Array.<number>} other\n   */\n\n\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   * @param {module:echarts/data/List} data\n   * @param {string} dim\n   */\n\n\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   * @return {Array.<number>}\n   */\n\n\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   * @param {number} start\n   * @param {number} end\n   */\n\n\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  },\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n  /**\n   * @abstract\n   * @param {*} tick\n   * @return {string} label of the tick.\n   */\n\n  Scale.prototype.getLabel = null;\n  clazz.enableClassExtend(Scale);\n  clazz.enableClassManagement(Scale, {\n    registerWhenExtend: true\n  });\n  var _default$1n = Scale;\n  var Scale_1 = _default$1n;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$a = util.createHashMap;\n  var isObject$d = util.isObject;\n  var map$5 = util.map;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @constructor\n   * @param {Object} [opt]\n   * @param {Object} [opt.categories=[]]\n   * @param {Object} [opt.needCollect=false]\n   * @param {Object} [opt.deduplication=false]\n   */\n  function OrdinalMeta(opt) {\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n    this.categories = opt.categories || [];\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._needCollect = opt.needCollect;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._deduplication = opt.deduplication;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._map;\n  }\n  /**\n   * @param {module:echarts/model/Model} axisModel\n   * @return {module:echarts/data/OrdinalMeta}\n   */\n\n\n  OrdinalMeta.createByAxisModel = function (axisModel) {\n    var option = axisModel.option;\n    var data = option.data;\n    var categories = data && map$5(data, getName);\n    return new OrdinalMeta({\n      categories: categories,\n      needCollect: !categories,\n      // deduplication is default in axis.\n      deduplication: option.dedplication !== false\n    });\n  };\n\n  var proto$1 = OrdinalMeta.prototype;\n  /**\n   * @param {string} category\n   * @return {number} ordinal\n   */\n\n  proto$1.getOrdinal = function (category) {\n    return getOrCreateMap(this).get(category);\n  };\n  /**\n   * @param {*} category\n   * @return {number} The ordinal. If not found, return NaN.\n   */\n\n\n  proto$1.parseAndCollect = function (category) {\n    var index;\n    var needCollect = this._needCollect; // The value of category dim can be the index of the given category set.\n    // This feature is only supported when !needCollect, because we should\n    // consider a common case: a value is 2017, which is a number but is\n    // expected to be tread as a category. This case usually happen in dataset,\n    // where it happent to be no need of the index feature.\n\n    if (typeof category !== 'string' && !needCollect) {\n      return category;\n    } // Optimize for the scenario:\n    // category is ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // Notice, if a dataset dimension provide categroies, usually echarts\n    // should remove duplication except user tell echarts dont do that\n    // (set axis.deduplication = false), because echarts do not know whether\n    // the values in the category dimension has duplication (consider the\n    // parallel-aqi example)\n\n\n    if (needCollect && !this._deduplication) {\n      index = this.categories.length;\n      this.categories[index] = category;\n      return index;\n    }\n\n    var map = getOrCreateMap(this);\n    index = map.get(category);\n\n    if (index == null) {\n      if (needCollect) {\n        index = this.categories.length;\n        this.categories[index] = category;\n        map.set(category, index);\n      } else {\n        index = NaN;\n      }\n    }\n\n    return index;\n  }; // Consider big data, do not create map until needed.\n\n\n  function getOrCreateMap(ordinalMeta) {\n    return ordinalMeta._map || (ordinalMeta._map = createHashMap$a(ordinalMeta.categories));\n  }\n\n  function getName(obj) {\n    if (isObject$d(obj) && obj.value != null) {\n      return obj.value;\n    } else {\n      return obj + '';\n    }\n  }\n\n  var _default$1o = OrdinalMeta;\n  var OrdinalMeta_1 = _default$1o;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Linear continuous scale\n   * @module echarts/coord/scale/Ordinal\n   *\n   * http://en.wikipedia.org/wiki/Level_of_measurement\n   */\n  // FIXME only one data\n  var scaleProto = Scale_1.prototype;\n  var OrdinalScale = Scale_1.extend({\n    type: 'ordinal',\n\n    /**\n     * @param {module:echarts/data/OrdianlMeta|Array.<string>} ordinalMeta\n     */\n    init: function (ordinalMeta, extent) {\n      // Caution: Should not use instanceof, consider ec-extensions using\n      // import approach to get OrdinalMeta class.\n      if (!ordinalMeta || util.isArray(ordinalMeta)) {\n        ordinalMeta = new OrdinalMeta_1({\n          categories: ordinalMeta\n        });\n      }\n\n      this._ordinalMeta = ordinalMeta;\n      this._extent = extent || [0, ordinalMeta.categories.length - 1];\n    },\n    parse: function (val) {\n      return typeof val === 'string' ? this._ordinalMeta.getOrdinal(val) // val might be float.\n      : Math.round(val);\n    },\n    contain: function (rank) {\n      rank = this.parse(rank);\n      return scaleProto.contain.call(this, rank) && this._ordinalMeta.categories[rank] != null;\n    },\n\n    /**\n     * Normalize given rank or name to linear [0, 1]\n     * @param {number|string} [val]\n     * @return {number}\n     */\n    normalize: function (val) {\n      return scaleProto.normalize.call(this, this.parse(val));\n    },\n    scale: function (val) {\n      return Math.round(scaleProto.scale.call(this, val));\n    },\n\n    /**\n     * @return {Array}\n     */\n    getTicks: function () {\n      var ticks = [];\n      var extent = this._extent;\n      var rank = extent[0];\n\n      while (rank <= extent[1]) {\n        ticks.push(rank);\n        rank++;\n      }\n\n      return ticks;\n    },\n\n    /**\n     * Get item on rank n\n     * @param {number} n\n     * @return {string}\n     */\n    getLabel: function (n) {\n      if (!this.isBlank()) {\n        // Note that if no data, ordinalMeta.categories is an empty array.\n        return this._ordinalMeta.categories[n];\n      }\n    },\n\n    /**\n     * @return {number}\n     */\n    count: function () {\n      return this._extent[1] - this._extent[0] + 1;\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n      this.unionExtent(data.getApproximateExtent(dim));\n    },\n    getOrdinalMeta: function () {\n      return this._ordinalMeta;\n    },\n    niceTicks: util.noop,\n    niceExtent: util.noop\n  });\n  /**\n   * @return {module:echarts/scale/Time}\n   */\n\n  OrdinalScale.create = function () {\n    return new OrdinalScale();\n  };\n\n  var _default$1p = OrdinalScale;\n  var Ordinal = _default$1p;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * For testable.\n   */\n  var roundNumber = number.round;\n  /**\n   * @param {Array.<number>} extent Both extent[0] and extent[1] should be valid number.\n   *                                Should be extent[0] < extent[1].\n   * @param {number} splitNumber splitNumber should be >= 1.\n   * @param {number} [minInterval]\n   * @param {number} [maxInterval]\n   * @return {Object} {interval, intervalPrecision, niceTickExtent}\n   */\n\n  function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n    var result = {};\n    var span = extent[1] - extent[0];\n    var interval = result.interval = number.nice(span / splitNumber, true);\n\n    if (minInterval != null && interval < minInterval) {\n      interval = result.interval = minInterval;\n    }\n\n    if (maxInterval != null && interval > maxInterval) {\n      interval = result.interval = maxInterval;\n    } // Tow more digital for tick.\n\n\n    var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n    var niceTickExtent = result.niceTickExtent = [roundNumber(Math.ceil(extent[0] / interval) * interval, precision), roundNumber(Math.floor(extent[1] / interval) * interval, precision)];\n    fixExtent(niceTickExtent, extent);\n    return result;\n  }\n  /**\n   * @param {number} interval\n   * @return {number} interval precision\n   */\n\n\n  function getIntervalPrecision(interval) {\n    // Tow more digital for tick.\n    return number.getPrecisionSafe(interval) + 2;\n  }\n\n  function clamp(niceTickExtent, idx, extent) {\n    niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n  } // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\n  function fixExtent(niceTickExtent, extent) {\n    !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n    !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n    clamp(niceTickExtent, 0, extent);\n    clamp(niceTickExtent, 1, extent);\n\n    if (niceTickExtent[0] > niceTickExtent[1]) {\n      niceTickExtent[0] = niceTickExtent[1];\n    }\n  }\n\n  var intervalScaleNiceTicks_1 = intervalScaleNiceTicks;\n  var getIntervalPrecision_1 = getIntervalPrecision;\n  var fixExtent_1 = fixExtent;\n\n  var helper = {\n  \tintervalScaleNiceTicks: intervalScaleNiceTicks_1,\n  \tgetIntervalPrecision: getIntervalPrecision_1,\n  \tfixExtent: fixExtent_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Interval scale\n   * @module echarts/scale/Interval\n   */\n  var roundNumber$1 = number.round;\n  /**\n   * @alias module:echarts/coord/scale/Interval\n   * @constructor\n   */\n\n  var IntervalScale = Scale_1.extend({\n    type: 'interval',\n    _interval: 0,\n    _intervalPrecision: 2,\n    setExtent: function (start, end) {\n      var thisExtent = this._extent; //start,end may be a Number like '25',so...\n\n      if (!isNaN(start)) {\n        thisExtent[0] = parseFloat(start);\n      }\n\n      if (!isNaN(end)) {\n        thisExtent[1] = parseFloat(end);\n      }\n    },\n    unionExtent: function (other) {\n      var extent = this._extent;\n      other[0] < extent[0] && (extent[0] = other[0]);\n      other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n      IntervalScale.prototype.setExtent.call(this, extent[0], extent[1]);\n    },\n\n    /**\n     * Get interval\n     */\n    getInterval: function () {\n      return this._interval;\n    },\n\n    /**\n     * Set interval\n     */\n    setInterval: function (interval) {\n      this._interval = interval; // Dropped auto calculated niceExtent and use user setted extent\n      // We assume user wan't to set both interval, min, max to get a better result\n\n      this._niceExtent = this._extent.slice();\n      this._intervalPrecision = helper.getIntervalPrecision(interval);\n    },\n\n    /**\n     * @param {boolean} [expandToNicedExtent=false] If expand the ticks to niced extent.\n     * @return {Array.<number>}\n     */\n    getTicks: function (expandToNicedExtent) {\n      var interval = this._interval;\n      var extent = this._extent;\n      var niceTickExtent = this._niceExtent;\n      var intervalPrecision = this._intervalPrecision;\n      var ticks = []; // If interval is 0, return [];\n\n      if (!interval) {\n        return ticks;\n      } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n      var safeLimit = 10000;\n\n      if (extent[0] < niceTickExtent[0]) {\n        if (expandToNicedExtent) {\n          ticks.push(roundNumber$1(niceTickExtent[0] - interval, intervalPrecision));\n        } else {\n          ticks.push(extent[0]);\n        }\n      }\n\n      var tick = niceTickExtent[0];\n\n      while (tick <= niceTickExtent[1]) {\n        ticks.push(tick); // Avoid rounding error\n\n        tick = roundNumber$1(tick + interval, intervalPrecision);\n\n        if (tick === ticks[ticks.length - 1]) {\n          // Consider out of safe float point, e.g.,\n          // -3711126.9907707 + 2e-10 === -3711126.9907707\n          break;\n        }\n\n        if (ticks.length > safeLimit) {\n          return [];\n        }\n      } // Consider this case: the last item of ticks is smaller\n      // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n      var lastNiceTick = ticks.length ? ticks[ticks.length - 1] : niceTickExtent[1];\n\n      if (extent[1] > lastNiceTick) {\n        if (expandToNicedExtent) {\n          ticks.push(roundNumber$1(lastNiceTick + interval, intervalPrecision));\n        } else {\n          ticks.push(extent[1]);\n        }\n      }\n\n      return ticks;\n    },\n\n    /**\n     * @param {number} [splitNumber=5]\n     * @return {Array.<Array.<number>>}\n     */\n    getMinorTicks: function (splitNumber) {\n      var ticks = this.getTicks(true);\n      var minorTicks = [];\n      var extent = this.getExtent();\n\n      for (var i = 1; i < ticks.length; i++) {\n        var nextTick = ticks[i];\n        var prevTick = ticks[i - 1];\n        var count = 0;\n        var minorTicksGroup = [];\n        var interval = nextTick - prevTick;\n        var minorInterval = interval / splitNumber;\n\n        while (count < splitNumber - 1) {\n          var minorTick = number.round(prevTick + (count + 1) * minorInterval); // For the first and last interval. The count may be less than splitNumber.\n\n          if (minorTick > extent[0] && minorTick < extent[1]) {\n            minorTicksGroup.push(minorTick);\n          }\n\n          count++;\n        }\n\n        minorTicks.push(minorTicksGroup);\n      }\n\n      return minorTicks;\n    },\n\n    /**\n     * @param {number} data\n     * @param {Object} [opt]\n     * @param {number|string} [opt.precision] If 'auto', use nice presision.\n     * @param {boolean} [opt.pad] returns 1.50 but not 1.5 if precision is 2.\n     * @return {string}\n     */\n    getLabel: function (data, opt) {\n      if (data == null) {\n        return '';\n      }\n\n      var precision = opt && opt.precision;\n\n      if (precision == null) {\n        precision = number.getPrecisionSafe(data) || 0;\n      } else if (precision === 'auto') {\n        // Should be more precise then tick.\n        precision = this._intervalPrecision;\n      } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n      // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n      data = roundNumber$1(data, precision, true);\n      return format$1.addCommas(data);\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     *\n     * @param {number} [splitNumber = 5] Desired number of ticks\n     * @param {number} [minInterval]\n     * @param {number} [maxInterval]\n     */\n    niceTicks: function (splitNumber, minInterval, maxInterval) {\n      splitNumber = splitNumber || 5;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n\n      if (!isFinite(span)) {\n        return;\n      } // User may set axis min 0 and data are all negative\n      // FIXME If it needs to reverse ?\n\n\n      if (span < 0) {\n        span = -span;\n        extent.reverse();\n      }\n\n      var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n      this._intervalPrecision = result.intervalPrecision;\n      this._interval = result.interval;\n      this._niceExtent = result.niceTickExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @param {Object} opt\n     * @param {number} [opt.splitNumber = 5] Given approx tick number\n     * @param {boolean} [opt.fixMin=false]\n     * @param {boolean} [opt.fixMax=false]\n     * @param {boolean} [opt.minInterval]\n     * @param {boolean} [opt.maxInterval]\n     */\n    niceExtent: function (opt) {\n      var extent = this._extent; // If extent start and end are same, expand them\n\n      if (extent[0] === extent[1]) {\n        if (extent[0] !== 0) {\n          // Expand extent\n          var expandSize = extent[0]; // In the fowllowing case\n          //      Axis has been fixed max 100\n          //      Plus data are all 100 and axis extent are [100, 100].\n          // Extend to the both side will cause expanded max is larger than fixed max.\n          // So only expand to the smaller side.\n\n          if (!opt.fixMax) {\n            extent[1] += expandSize / 2;\n            extent[0] -= expandSize / 2;\n          } else {\n            extent[0] -= expandSize / 2;\n          }\n        } else {\n          extent[1] = 1;\n        }\n      }\n\n      var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n      if (!isFinite(span)) {\n        extent[0] = 0;\n        extent[1] = 1;\n      }\n\n      this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n      var interval = this._interval;\n\n      if (!opt.fixMin) {\n        extent[0] = roundNumber$1(Math.floor(extent[0] / interval) * interval);\n      }\n\n      if (!opt.fixMax) {\n        extent[1] = roundNumber$1(Math.ceil(extent[1] / interval) * interval);\n      }\n    }\n  });\n  /**\n   * @return {module:echarts/scale/Time}\n   */\n\n  IntervalScale.create = function () {\n    return new IntervalScale();\n  };\n\n  var _default$1q = IntervalScale;\n  var Interval = _default$1q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parsePercent$3 = number.parsePercent;\n\n\n\n  var isDimensionStacked$1 = dataStackHelper.isDimensionStacked;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float32Array */\n  var STACK_PREFIX = '__ec_stack_';\n  var LARGE_BAR_MIN_WIDTH = 0.5;\n  var LargeArr = typeof Float32Array !== 'undefined' ? Float32Array : Array;\n\n  function getSeriesStackId(seriesModel) {\n    return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n  }\n\n  function getAxisKey(axis) {\n    return axis.dim + axis.index;\n  }\n  /**\n   * @param {Object} opt\n   * @param {module:echarts/coord/Axis} opt.axis Only support category axis currently.\n   * @param {number} opt.count Positive interger.\n   * @param {number} [opt.barWidth]\n   * @param {number} [opt.barMaxWidth]\n   * @param {number} [opt.barMinWidth]\n   * @param {number} [opt.barGap]\n   * @param {number} [opt.barCategoryGap]\n   * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n   */\n\n\n  function getLayoutOnAxis(opt) {\n    var params = [];\n    var baseAxis = opt.axis;\n    var axisKey = 'axis0';\n\n    if (baseAxis.type !== 'category') {\n      return;\n    }\n\n    var bandWidth = baseAxis.getBandWidth();\n\n    for (var i = 0; i < opt.count || 0; i++) {\n      params.push(util.defaults({\n        bandWidth: bandWidth,\n        axisKey: axisKey,\n        stackId: STACK_PREFIX + i\n      }, opt));\n    }\n\n    var widthAndOffsets = doCalBarWidthAndOffset(params);\n    var result = [];\n\n    for (var i = 0; i < opt.count; i++) {\n      var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n      item.offsetCenter = item.offset + item.width / 2;\n      result.push(item);\n    }\n\n    return result;\n  }\n\n  function prepareLayoutBarSeries(seriesType, ecModel) {\n    var seriesModels = [];\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n      // Check series coordinate, do layout for cartesian2d only\n      if (isOnCartesian(seriesModel) && !isInLargeMode(seriesModel)) {\n        seriesModels.push(seriesModel);\n      }\n    });\n    return seriesModels;\n  }\n  /**\n   * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent\n   * values.\n   * This works for time axes, value axes, and log axes.\n   * For a single time axis, return value is in the form like\n   * {'x_0': [1000000]}.\n   * The value of 1000000 is in milliseconds.\n   */\n\n\n  function getValueAxesMinGaps(barSeries) {\n    /**\n     * Map from axis.index to values.\n     * For a single time axis, axisValues is in the form like\n     * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.\n     * Items in axisValues[x], e.g. 1495555200000, are time values of all\n     * series.\n     */\n    var axisValues = {};\n    util.each(barSeries, function (seriesModel) {\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n\n      if (baseAxis.type !== 'time' && baseAxis.type !== 'value') {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var key = baseAxis.dim + '_' + baseAxis.index;\n      var dim = data.mapDimension(baseAxis.dim);\n\n      for (var i = 0, cnt = data.count(); i < cnt; ++i) {\n        var value = data.get(dim, i);\n\n        if (!axisValues[key]) {\n          // No previous data for the axis\n          axisValues[key] = [value];\n        } else {\n          // No value in previous series\n          axisValues[key].push(value);\n        } // Ignore duplicated time values in the same axis\n\n      }\n    });\n    var axisMinGaps = [];\n\n    for (var key in axisValues) {\n      if (axisValues.hasOwnProperty(key)) {\n        var valuesInAxis = axisValues[key];\n\n        if (valuesInAxis) {\n          // Sort axis values into ascending order to calculate gaps\n          valuesInAxis.sort(function (a, b) {\n            return a - b;\n          });\n          var min = null;\n\n          for (var j = 1; j < valuesInAxis.length; ++j) {\n            var delta = valuesInAxis[j] - valuesInAxis[j - 1];\n\n            if (delta > 0) {\n              // Ignore 0 delta because they are of the same axis value\n              min = min === null ? delta : Math.min(min, delta);\n            }\n          } // Set to null if only have one data\n\n\n          axisMinGaps[key] = min;\n        }\n      }\n    }\n\n    return axisMinGaps;\n  }\n\n  function makeColumnLayout(barSeries) {\n    var axisMinGaps = getValueAxesMinGaps(barSeries);\n    var seriesInfoList = [];\n    util.each(barSeries, function (seriesModel) {\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var axisExtent = baseAxis.getExtent();\n      var bandWidth;\n\n      if (baseAxis.type === 'category') {\n        bandWidth = baseAxis.getBandWidth();\n      } else if (baseAxis.type === 'value' || baseAxis.type === 'time') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n        var minGap = axisMinGaps[key];\n        var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);\n        var scale = baseAxis.scale.getExtent();\n        var scaleSpan = Math.abs(scale[1] - scale[0]);\n        bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan; // When there is only one data value\n      } else {\n        var data = seriesModel.getData();\n        bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n      }\n\n      var barWidth = parsePercent$3(seriesModel.get('barWidth'), bandWidth);\n      var barMaxWidth = parsePercent$3(seriesModel.get('barMaxWidth'), bandWidth);\n      var barMinWidth = parsePercent$3( // barMinWidth by default is 1 in cartesian. Because in value axis,\n      // the auto-calculated bar width might be less than 1.\n      seriesModel.get('barMinWidth') || 1, bandWidth);\n      var barGap = seriesModel.get('barGap');\n      var barCategoryGap = seriesModel.get('barCategoryGap');\n      seriesInfoList.push({\n        bandWidth: bandWidth,\n        barWidth: barWidth,\n        barMaxWidth: barMaxWidth,\n        barMinWidth: barMinWidth,\n        barGap: barGap,\n        barCategoryGap: barCategoryGap,\n        axisKey: getAxisKey(baseAxis),\n        stackId: getSeriesStackId(seriesModel)\n      });\n    });\n    return doCalBarWidthAndOffset(seriesInfoList);\n  }\n\n  function doCalBarWidthAndOffset(seriesInfoList) {\n    // Columns info on each category axis. Key is cartesian name\n    var columnsMap = {};\n    util.each(seriesInfoList, function (seriesInfo, idx) {\n      var axisKey = seriesInfo.axisKey;\n      var bandWidth = seriesInfo.bandWidth;\n      var columnsOnAxis = columnsMap[axisKey] || {\n        bandWidth: bandWidth,\n        remainedWidth: bandWidth,\n        autoWidthCount: 0,\n        categoryGap: '20%',\n        gap: '30%',\n        stacks: {}\n      };\n      var stacks = columnsOnAxis.stacks;\n      columnsMap[axisKey] = columnsOnAxis;\n      var stackId = seriesInfo.stackId;\n\n      if (!stacks[stackId]) {\n        columnsOnAxis.autoWidthCount++;\n      }\n\n      stacks[stackId] = stacks[stackId] || {\n        width: 0,\n        maxWidth: 0\n      }; // Caution: In a single coordinate system, these barGrid attributes\n      // will be shared by series. Consider that they have default values,\n      // only the attributes set on the last series will work.\n      // Do not change this fact unless there will be a break change.\n\n      var barWidth = seriesInfo.barWidth;\n\n      if (barWidth && !stacks[stackId].width) {\n        // See #6312, do not restrict width.\n        stacks[stackId].width = barWidth;\n        barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n        columnsOnAxis.remainedWidth -= barWidth;\n      }\n\n      var barMaxWidth = seriesInfo.barMaxWidth;\n      barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n      var barMinWidth = seriesInfo.barMinWidth;\n      barMinWidth && (stacks[stackId].minWidth = barMinWidth);\n      var barGap = seriesInfo.barGap;\n      barGap != null && (columnsOnAxis.gap = barGap);\n      var barCategoryGap = seriesInfo.barCategoryGap;\n      barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n    });\n    var result = {};\n    util.each(columnsMap, function (columnsOnAxis, coordSysName) {\n      result[coordSysName] = {};\n      var stacks = columnsOnAxis.stacks;\n      var bandWidth = columnsOnAxis.bandWidth;\n      var categoryGap = parsePercent$3(columnsOnAxis.categoryGap, bandWidth);\n      var barGapPercent = parsePercent$3(columnsOnAxis.gap, 1);\n      var remainedWidth = columnsOnAxis.remainedWidth;\n      var autoWidthCount = columnsOnAxis.autoWidthCount;\n      var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n      autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n      util.each(stacks, function (column) {\n        var maxWidth = column.maxWidth;\n        var minWidth = column.minWidth;\n\n        if (!column.width) {\n          var finalWidth = autoWidth;\n\n          if (maxWidth && maxWidth < finalWidth) {\n            finalWidth = Math.min(maxWidth, remainedWidth);\n          } // `minWidth` has higher priority. `minWidth` decide that wheter the\n          // bar is able to be visible. So `minWidth` should not be restricted\n          // by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In\n          // the extreme cases for `value` axis, bars are allowed to overlap\n          // with each other if `minWidth` specified.\n\n\n          if (minWidth && minWidth > finalWidth) {\n            finalWidth = minWidth;\n          }\n\n          if (finalWidth !== autoWidth) {\n            column.width = finalWidth;\n            remainedWidth -= finalWidth + barGapPercent * finalWidth;\n            autoWidthCount--;\n          }\n        } else {\n          // `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as\n          // CSS does. Becuase barWidth can be a percent value, where\n          // `barMaxWidth` can be used to restrict the final width.\n          var finalWidth = column.width;\n\n          if (maxWidth) {\n            finalWidth = Math.min(finalWidth, maxWidth);\n          } // `minWidth` has higher priority, as described above\n\n\n          if (minWidth) {\n            finalWidth = Math.max(finalWidth, minWidth);\n          }\n\n          column.width = finalWidth;\n          remainedWidth -= finalWidth + barGapPercent * finalWidth;\n          autoWidthCount--;\n        }\n      }); // Recalculate width again\n\n      autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n      autoWidth = Math.max(autoWidth, 0);\n      var widthSum = 0;\n      var lastColumn;\n      util.each(stacks, function (column, idx) {\n        if (!column.width) {\n          column.width = autoWidth;\n        }\n\n        lastColumn = column;\n        widthSum += column.width * (1 + barGapPercent);\n      });\n\n      if (lastColumn) {\n        widthSum -= lastColumn.width * barGapPercent;\n      }\n\n      var offset = -widthSum / 2;\n      util.each(stacks, function (column, stackId) {\n        result[coordSysName][stackId] = result[coordSysName][stackId] || {\n          bandWidth: bandWidth,\n          offset: offset,\n          width: column.width\n        };\n        offset += column.width * (1 + barGapPercent);\n      });\n    });\n    return result;\n  }\n  /**\n   * @param {Object} barWidthAndOffset The result of makeColumnLayout\n   * @param {module:echarts/coord/Axis} axis\n   * @param {module:echarts/model/Series} [seriesModel] If not provided, return all.\n   * @return {Object} {stackId: {offset, width}} or {offset, width} if seriesModel provided.\n   */\n\n\n  function retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n    if (barWidthAndOffset && axis) {\n      var result = barWidthAndOffset[getAxisKey(axis)];\n\n      if (result != null && seriesModel != null) {\n        result = result[getSeriesStackId(seriesModel)];\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @param {string} seriesType\n   * @param {module:echarts/model/Global} ecModel\n   */\n\n\n  function layout$1(seriesType, ecModel) {\n    var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n    var barWidthAndOffset = makeColumnLayout(seriesModels);\n    var lastStackCoords = {};\n    util.each(seriesModels, function (seriesModel) {\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var stackId = getSeriesStackId(seriesModel);\n      var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n      var columnOffset = columnLayoutInfo.offset;\n      var columnWidth = columnLayoutInfo.width;\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var barMinHeight = seriesModel.get('barMinHeight') || 0;\n      lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n\n      data.setLayout({\n        bandWidth: columnLayoutInfo.bandWidth,\n        offset: columnOffset,\n        size: columnWidth\n      });\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var baseDim = data.mapDimension(baseAxis.dim);\n      var stacked = isDimensionStacked$1(data, valueDim\n      /*, baseDim*/\n      );\n      var isValueAxisH = valueAxis.isHorizontal();\n      var valueAxisStart = getValueAxisStart(baseAxis, valueAxis);\n\n      for (var idx = 0, len = data.count(); idx < len; idx++) {\n        var value = data.get(valueDim, idx);\n        var baseValue = data.get(baseDim, idx);\n        var sign = value >= 0 ? 'p' : 'n';\n        var baseCoord = valueAxisStart; // Because of the barMinHeight, we can not use the value in\n        // stackResultDimension directly.\n\n        if (stacked) {\n          // Only ordinal axis can be stacked.\n          if (!lastStackCoords[stackId][baseValue]) {\n            lastStackCoords[stackId][baseValue] = {\n              p: valueAxisStart,\n              // Positive stack\n              n: valueAxisStart // Negative stack\n\n            };\n          } // Should also consider #4243\n\n\n          baseCoord = lastStackCoords[stackId][baseValue][sign];\n        }\n\n        var x;\n        var y;\n        var width;\n        var height;\n\n        if (isValueAxisH) {\n          var coord = cartesian.dataToPoint([value, baseValue]);\n          x = baseCoord;\n          y = coord[1] + columnOffset;\n          width = coord[0] - valueAxisStart;\n          height = columnWidth;\n\n          if (Math.abs(width) < barMinHeight) {\n            width = (width < 0 ? -1 : 1) * barMinHeight;\n          } // Ignore stack from NaN value\n\n\n          if (!isNaN(width)) {\n            stacked && (lastStackCoords[stackId][baseValue][sign] += width);\n          }\n        } else {\n          var coord = cartesian.dataToPoint([baseValue, value]);\n          x = coord[0] + columnOffset;\n          y = baseCoord;\n          width = columnWidth;\n          height = coord[1] - valueAxisStart;\n\n          if (Math.abs(height) < barMinHeight) {\n            // Include zero to has a positive bar\n            height = (height <= 0 ? -1 : 1) * barMinHeight;\n          } // Ignore stack from NaN value\n\n\n          if (!isNaN(height)) {\n            stacked && (lastStackCoords[stackId][baseValue][sign] += height);\n          }\n        }\n\n        data.setItemLayout(idx, {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        });\n      }\n    }, this);\n  } // TODO: Do not support stack in large mode yet.\n\n\n  var largeLayout = {\n    seriesType: 'bar',\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      if (!isOnCartesian(seriesModel) || !isInLargeMode(seriesModel)) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var coordLayout = cartesian.grid.getRect();\n      var baseAxis = cartesian.getBaseAxis();\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var baseDim = data.mapDimension(baseAxis.dim);\n      var valueAxisHorizontal = valueAxis.isHorizontal();\n      var valueDimIdx = valueAxisHorizontal ? 0 : 1;\n      var barWidth = retrieveColumnLayout(makeColumnLayout([seriesModel]), baseAxis, seriesModel).width;\n\n      if (!(barWidth > LARGE_BAR_MIN_WIDTH)) {\n        // jshint ignore:line\n        barWidth = LARGE_BAR_MIN_WIDTH;\n      }\n\n      return {\n        progress: progress\n      };\n\n      function progress(params, data) {\n        var count = params.count;\n        var largePoints = new LargeArr(count * 2);\n        var largeBackgroundPoints = new LargeArr(count * 2);\n        var largeDataIndices = new LargeArr(count);\n        var dataIndex;\n        var coord = [];\n        var valuePair = [];\n        var pointsOffset = 0;\n        var idxOffset = 0;\n\n        while ((dataIndex = params.next()) != null) {\n          valuePair[valueDimIdx] = data.get(valueDim, dataIndex);\n          valuePair[1 - valueDimIdx] = data.get(baseDim, dataIndex);\n          coord = cartesian.dataToPoint(valuePair, null, coord); // Data index might not be in order, depends on `progressiveChunkMode`.\n\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coordLayout.x + coordLayout.width : coord[0];\n          largePoints[pointsOffset++] = coord[0];\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coord[1] : coordLayout.y + coordLayout.height;\n          largePoints[pointsOffset++] = coord[1];\n          largeDataIndices[idxOffset++] = dataIndex;\n        }\n\n        data.setLayout({\n          largePoints: largePoints,\n          largeDataIndices: largeDataIndices,\n          largeBackgroundPoints: largeBackgroundPoints,\n          barWidth: barWidth,\n          valueAxisStart: getValueAxisStart(baseAxis, valueAxis),\n          backgroundStart: valueAxisHorizontal ? coordLayout.x : coordLayout.y,\n          valueAxisHorizontal: valueAxisHorizontal\n        });\n      }\n    }\n  };\n\n  function isOnCartesian(seriesModel) {\n    return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n  }\n\n  function isInLargeMode(seriesModel) {\n    return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n  } // See cases in `test/bar-start.html` and `#7412`, `#8747`.\n\n\n  function getValueAxisStart(baseAxis, valueAxis, stacked) {\n    return valueAxis.toGlobalCoord(valueAxis.dataToCoord(valueAxis.type === 'log' ? 1 : 0));\n  }\n\n  var getLayoutOnAxis_1 = getLayoutOnAxis;\n  var prepareLayoutBarSeries_1 = prepareLayoutBarSeries;\n  var makeColumnLayout_1 = makeColumnLayout;\n  var retrieveColumnLayout_1 = retrieveColumnLayout;\n  var layout_1 = layout$1;\n  var largeLayout_1 = largeLayout;\n\n  var barGrid = {\n  \tgetLayoutOnAxis: getLayoutOnAxis_1,\n  \tprepareLayoutBarSeries: prepareLayoutBarSeries_1,\n  \tmakeColumnLayout: makeColumnLayout_1,\n  \tretrieveColumnLayout: retrieveColumnLayout_1,\n  \tlayout: layout_1,\n  \tlargeLayout: largeLayout_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * A third-party license is embeded for some of the code in this file:\n  * The \"scaleLevels\" was originally copied from \"d3.js\" with some\n  * modifications made for this project.\n  * (See more details in the comment on the definition of \"scaleLevels\" below.)\n  * The use of the source code of this file is also subject to the terms\n  * and consitions of the license of \"d3.js\" (BSD-3Clause, see\n  * </licenses/LICENSE-d3>).\n  */\n  // [About UTC and local time zone]:\n  // In most cases, `number.parseDate` will treat input data string as local time\n  // (except time zone is specified in time string). And `format.formateTime` returns\n  // local time by default. option.useUTC is false by default. This design have\n  // concidered these common case:\n  // (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n  // in local time by default.\n  // (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n  // as its original time, without any time difference.\n  var intervalScaleProto = Interval.prototype;\n  var mathCeil = Math.ceil;\n  var mathFloor = Math.floor;\n  var ONE_SECOND = 1000;\n  var ONE_MINUTE = ONE_SECOND * 60;\n  var ONE_HOUR = ONE_MINUTE * 60;\n  var ONE_DAY = ONE_HOUR * 24; // FIXME \n\n  var bisect = function (a, x, lo, hi) {\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n\n      if (a[mid][1] < x) {\n        lo = mid + 1;\n      } else {\n        hi = mid;\n      }\n    }\n\n    return lo;\n  };\n  /**\n   * @alias module:echarts/coord/scale/Time\n   * @constructor\n   */\n\n\n  var TimeScale = Interval.extend({\n    type: 'time',\n\n    /**\n     * @override\n     */\n    getLabel: function (val) {\n      var stepLvl = this._stepLvl;\n      var date = new Date(val);\n      return format$1.formatTime(stepLvl[0], date, this.getSetting('useUTC'));\n    },\n\n    /**\n     * @override\n     */\n    niceExtent: function (opt) {\n      var extent = this._extent; // If extent start and end are same, expand them\n\n      if (extent[0] === extent[1]) {\n        // Expand extent\n        extent[0] -= ONE_DAY;\n        extent[1] += ONE_DAY;\n      } // If there are no data and extent are [Infinity, -Infinity]\n\n\n      if (extent[1] === -Infinity && extent[0] === Infinity) {\n        var d = new Date();\n        extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n        extent[0] = extent[1] - ONE_DAY;\n      }\n\n      this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n      var interval = this._interval;\n\n      if (!opt.fixMin) {\n        extent[0] = number.round(mathFloor(extent[0] / interval) * interval);\n      }\n\n      if (!opt.fixMax) {\n        extent[1] = number.round(mathCeil(extent[1] / interval) * interval);\n      }\n    },\n\n    /**\n     * @override\n     */\n    niceTicks: function (approxTickNum, minInterval, maxInterval) {\n      approxTickNum = approxTickNum || 10;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n      var approxInterval = span / approxTickNum;\n\n      if (minInterval != null && approxInterval < minInterval) {\n        approxInterval = minInterval;\n      }\n\n      if (maxInterval != null && approxInterval > maxInterval) {\n        approxInterval = maxInterval;\n      }\n\n      var scaleLevelsLen = scaleLevels.length;\n      var idx = bisect(scaleLevels, approxInterval, 0, scaleLevelsLen);\n      var level = scaleLevels[Math.min(idx, scaleLevelsLen - 1)];\n      var interval = level[1]; // Same with interval scale if span is much larger than 1 year\n\n      if (level[0] === 'year') {\n        var yearSpan = span / interval; // From \"Nice Numbers for Graph Labels\" of Graphic Gems\n        // var niceYearSpan = numberUtil.nice(yearSpan, false);\n\n        var yearStep = number.nice(yearSpan / approxTickNum, true);\n        interval *= yearStep;\n      }\n\n      var timezoneOffset = this.getSetting('useUTC') ? 0 : new Date(+extent[0] || +extent[1]).getTimezoneOffset() * 60 * 1000;\n      var niceExtent = [Math.round(mathCeil((extent[0] - timezoneOffset) / interval) * interval + timezoneOffset), Math.round(mathFloor((extent[1] - timezoneOffset) / interval) * interval + timezoneOffset)];\n      helper.fixExtent(niceExtent, extent);\n      this._stepLvl = level; // Interval will be used in getTicks\n\n      this._interval = interval;\n      this._niceExtent = niceExtent;\n    },\n    parse: function (val) {\n      // val might be float.\n      return +number.parseDate(val);\n    }\n  });\n  util.each(['contain', 'normalize'], function (methodName) {\n    TimeScale.prototype[methodName] = function (val) {\n      return intervalScaleProto[methodName].call(this, this.parse(val));\n    };\n  });\n  /**\n   * This implementation was originally copied from \"d3.js\"\n   * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n   * with some modifications made for this program.\n   * See the license statement at the head of this file.\n   */\n\n  var scaleLevels = [// Format              interval\n  ['hh:mm:ss', ONE_SECOND], // 1s\n  ['hh:mm:ss', ONE_SECOND * 5], // 5s\n  ['hh:mm:ss', ONE_SECOND * 10], // 10s\n  ['hh:mm:ss', ONE_SECOND * 15], // 15s\n  ['hh:mm:ss', ONE_SECOND * 30], // 30s\n  ['hh:mm\\nMM-dd', ONE_MINUTE], // 1m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 5], // 5m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 10], // 10m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 15], // 15m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 30], // 30m\n  ['hh:mm\\nMM-dd', ONE_HOUR], // 1h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 2], // 2h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 6], // 6h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 12], // 12h\n  ['MM-dd\\nyyyy', ONE_DAY], // 1d\n  ['MM-dd\\nyyyy', ONE_DAY * 2], // 2d\n  ['MM-dd\\nyyyy', ONE_DAY * 3], // 3d\n  ['MM-dd\\nyyyy', ONE_DAY * 4], // 4d\n  ['MM-dd\\nyyyy', ONE_DAY * 5], // 5d\n  ['MM-dd\\nyyyy', ONE_DAY * 6], // 6d\n  ['week', ONE_DAY * 7], // 7d\n  ['MM-dd\\nyyyy', ONE_DAY * 10], // 10d\n  ['week', ONE_DAY * 14], // 2w\n  ['week', ONE_DAY * 21], // 3w\n  ['month', ONE_DAY * 31], // 1M\n  ['week', ONE_DAY * 42], // 6w\n  ['month', ONE_DAY * 62], // 2M\n  ['week', ONE_DAY * 70], // 10w\n  ['quarter', ONE_DAY * 95], // 3M\n  ['month', ONE_DAY * 31 * 4], // 4M\n  ['month', ONE_DAY * 31 * 5], // 5M\n  ['half-year', ONE_DAY * 380 / 2], // 6M\n  ['month', ONE_DAY * 31 * 8], // 8M\n  ['month', ONE_DAY * 31 * 10], // 10M\n  ['year', ONE_DAY * 380] // 1Y\n  ];\n  /**\n   * @param {module:echarts/model/Model}\n   * @return {module:echarts/scale/Time}\n   */\n\n  TimeScale.create = function (model) {\n    return new TimeScale({\n      useUTC: model.ecModel.get('useUTC')\n    });\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Log scale\n   * @module echarts/scale/Log\n   */\n  // Use some method of IntervalScale\n  var scaleProto$1 = Scale_1.prototype;\n  var intervalScaleProto$1 = Interval.prototype;\n  var getPrecisionSafe$1 = number.getPrecisionSafe;\n  var roundingErrorFix = number.round;\n  var mathFloor$1 = Math.floor;\n  var mathCeil$1 = Math.ceil;\n  var mathPow$1 = Math.pow;\n  var mathLog = Math.log;\n  var LogScale = Scale_1.extend({\n    type: 'log',\n    base: 10,\n    $constructor: function () {\n      Scale_1.apply(this, arguments);\n      this._originalScale = new Interval();\n    },\n\n    /**\n     * @param {boolean} [expandToNicedExtent=false] If expand the ticks to niced extent.\n     * @return {Array.<number>}\n     */\n    getTicks: function (expandToNicedExtent) {\n      var originalScale = this._originalScale;\n      var extent = this._extent;\n      var originalExtent = originalScale.getExtent();\n      return util.map(intervalScaleProto$1.getTicks.call(this, expandToNicedExtent), function (val) {\n        var powVal = number.round(mathPow$1(this.base, val)); // Fix #4158\n\n        powVal = val === extent[0] && originalScale.__fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n        powVal = val === extent[1] && originalScale.__fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n        return powVal;\n      }, this);\n    },\n\n    /**\n     * @param {number} splitNumber\n     * @return {Array.<Array.<number>>}\n     */\n    getMinorTicks: intervalScaleProto$1.getMinorTicks,\n\n    /**\n     * @param {number} val\n     * @return {string}\n     */\n    getLabel: intervalScaleProto$1.getLabel,\n\n    /**\n     * @param  {number} val\n     * @return {number}\n     */\n    scale: function (val) {\n      val = scaleProto$1.scale.call(this, val);\n      return mathPow$1(this.base, val);\n    },\n\n    /**\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n      var base = this.base;\n      start = mathLog(start) / mathLog(base);\n      end = mathLog(end) / mathLog(base);\n      intervalScaleProto$1.setExtent.call(this, start, end);\n    },\n\n    /**\n     * @return {number} end\n     */\n    getExtent: function () {\n      var base = this.base;\n      var extent = scaleProto$1.getExtent.call(this);\n      extent[0] = mathPow$1(base, extent[0]);\n      extent[1] = mathPow$1(base, extent[1]); // Fix #4158\n\n      var originalScale = this._originalScale;\n      var originalExtent = originalScale.getExtent();\n      originalScale.__fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n      originalScale.__fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n      return extent;\n    },\n\n    /**\n     * @param  {Array.<number>} extent\n     */\n    unionExtent: function (extent) {\n      this._originalScale.unionExtent(extent);\n\n      var base = this.base;\n      extent[0] = mathLog(extent[0]) / mathLog(base);\n      extent[1] = mathLog(extent[1]) / mathLog(base);\n      scaleProto$1.unionExtent.call(this, extent);\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n      // TODO\n      // filter value that <= 0\n      this.unionExtent(data.getApproximateExtent(dim));\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     * @param  {number} [approxTickNum = 10] Given approx tick number\n     */\n    niceTicks: function (approxTickNum) {\n      approxTickNum = approxTickNum || 10;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n\n      if (span === Infinity || span <= 0) {\n        return;\n      }\n\n      var interval = number.quantity(span);\n      var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n      if (err <= 0.5) {\n        interval *= 10;\n      } // Interval should be integer\n\n\n      while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n        interval *= 10;\n      }\n\n      var niceExtent = [number.round(mathCeil$1(extent[0] / interval) * interval), number.round(mathFloor$1(extent[1] / interval) * interval)];\n      this._interval = interval;\n      this._niceExtent = niceExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @override\n     */\n    niceExtent: function (opt) {\n      intervalScaleProto$1.niceExtent.call(this, opt);\n      var originalScale = this._originalScale;\n      originalScale.__fixMin = opt.fixMin;\n      originalScale.__fixMax = opt.fixMax;\n    }\n  });\n  util.each(['contain', 'normalize'], function (methodName) {\n    LogScale.prototype[methodName] = function (val) {\n      val = mathLog(val) / mathLog(this.base);\n      return scaleProto$1[methodName].call(this, val);\n    };\n  });\n\n  LogScale.create = function () {\n    return new LogScale();\n  };\n\n  function fixRoundingError(val, originalVal) {\n    return roundingErrorFix(val, getPrecisionSafe$1(originalVal));\n  }\n\n  var _default$1r = LogScale;\n  var Log = _default$1r;\n\n  var prepareLayoutBarSeries$1 = barGrid.prepareLayoutBarSeries;\n  var makeColumnLayout$1 = barGrid.makeColumnLayout;\n  var retrieveColumnLayout$1 = barGrid.retrieveColumnLayout;\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Get axis scale extent before niced.\n   * Item of returned array can only be number (including Infinity and NaN).\n   */\n  function getScaleExtent(scale, model) {\n    var scaleType = scale.type;\n    var min = model.getMin();\n    var max = model.getMax();\n    var originalExtent = scale.getExtent();\n    var axisDataLen;\n    var boundaryGap;\n    var span;\n\n    if (scaleType === 'ordinal') {\n      axisDataLen = model.getCategories().length;\n    } else {\n      boundaryGap = model.get('boundaryGap');\n\n      if (!util.isArray(boundaryGap)) {\n        boundaryGap = [boundaryGap || 0, boundaryGap || 0];\n      }\n\n      if (typeof boundaryGap[0] === 'boolean') {\n        boundaryGap = [0, 0];\n      }\n\n      boundaryGap[0] = number.parsePercent(boundaryGap[0], 1);\n      boundaryGap[1] = number.parsePercent(boundaryGap[1], 1);\n      span = originalExtent[1] - originalExtent[0] || Math.abs(originalExtent[0]);\n    } // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n    // FIXME\n    // (1) When min/max is 'dataMin' or 'dataMax', should boundaryGap be able to used?\n    // (2) When `needCrossZero` and all data is positive/negative, should it be ensured\n    // that the results processed by boundaryGap are positive/negative?\n\n\n    if (min === 'dataMin') {\n      min = originalExtent[0];\n    } else if (typeof min === 'function') {\n      min = min({\n        min: originalExtent[0],\n        max: originalExtent[1]\n      });\n    }\n\n    if (max === 'dataMax') {\n      max = originalExtent[1];\n    } else if (typeof max === 'function') {\n      max = max({\n        min: originalExtent[0],\n        max: originalExtent[1]\n      });\n    }\n\n    var fixMin = min != null;\n    var fixMax = max != null;\n\n    if (min == null) {\n      min = scaleType === 'ordinal' ? axisDataLen ? 0 : NaN : originalExtent[0] - boundaryGap[0] * span;\n    }\n\n    if (max == null) {\n      max = scaleType === 'ordinal' ? axisDataLen ? axisDataLen - 1 : NaN : originalExtent[1] + boundaryGap[1] * span;\n    }\n\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n    scale.setBlank(util.eqNaN(min) || util.eqNaN(max) || scaleType === 'ordinal' && !scale.getOrdinalMeta().categories.length); // Evaluate if axis needs cross zero\n\n    if (model.getNeedCrossZero()) {\n      // Axis is over zero and min is not set\n      if (min > 0 && max > 0 && !fixMin) {\n        min = 0;\n      } // Axis is under zero and max is not set\n\n\n      if (min < 0 && max < 0 && !fixMax) {\n        max = 0;\n      }\n    } // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n    // is base axis\n    // FIXME\n    // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n    // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n    //     Should not depend on series type `bar`?\n    // (3) Fix that might overlap when using dataZoom.\n    // (4) Consider other chart types using `barGrid`?\n    // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n\n    var ecModel = model.ecModel;\n\n    if (ecModel && scaleType === 'time'\n    /*|| scaleType === 'interval' */\n    ) {\n      var barSeriesModels = prepareLayoutBarSeries$1('bar', ecModel);\n      var isBaseAxisAndHasBarSeries;\n      util.each(barSeriesModels, function (seriesModel) {\n        isBaseAxisAndHasBarSeries |= seriesModel.getBaseAxis() === model.axis;\n      });\n\n      if (isBaseAxisAndHasBarSeries) {\n        // Calculate placement of bars on axis\n        var barWidthAndOffset = makeColumnLayout$1(barSeriesModels); // Adjust axis min and max to account for overflow\n\n        var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n        min = adjustedScale.min;\n        max = adjustedScale.max;\n      }\n    }\n\n    return {\n      extent: [min, max],\n      // \"fix\" means \"fixed\", the value should not be\n      // changed in the subsequent steps.\n      fixMin: fixMin,\n      fixMax: fixMax\n    };\n  }\n\n  function adjustScaleForOverflow(min, max, model, barWidthAndOffset) {\n    // Get Axis Length\n    var axisExtent = model.axis.getExtent();\n    var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n    var barsOnCurrentAxis = retrieveColumnLayout$1(barWidthAndOffset, model.axis);\n\n    if (barsOnCurrentAxis === undefined) {\n      return {\n        min: min,\n        max: max\n      };\n    }\n\n    var minOverflow = Infinity;\n    util.each(barsOnCurrentAxis, function (item) {\n      minOverflow = Math.min(item.offset, minOverflow);\n    });\n    var maxOverflow = -Infinity;\n    util.each(barsOnCurrentAxis, function (item) {\n      maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n    });\n    minOverflow = Math.abs(minOverflow);\n    maxOverflow = Math.abs(maxOverflow);\n    var totalOverFlow = minOverflow + maxOverflow; // Calulate required buffer based on old range and overflow\n\n    var oldRange = max - min;\n    var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n    var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n    max += overflowBuffer * (maxOverflow / totalOverFlow);\n    min -= overflowBuffer * (minOverflow / totalOverFlow);\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  function niceScaleExtent(scale, model) {\n    var extentInfo = getScaleExtent(scale, model);\n    var extent = extentInfo.extent;\n    var splitNumber = model.get('splitNumber');\n\n    if (scale.type === 'log') {\n      scale.base = model.get('logBase');\n    }\n\n    var scaleType = scale.type;\n    scale.setExtent(extent[0], extent[1]);\n    scale.niceExtent({\n      splitNumber: splitNumber,\n      fixMin: extentInfo.fixMin,\n      fixMax: extentInfo.fixMax,\n      minInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('minInterval') : null,\n      maxInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('maxInterval') : null\n    }); // If some one specified the min, max. And the default calculated interval\n    // is not good enough. He can specify the interval. It is often appeared\n    // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n    // to be 60.\n    // FIXME\n\n    var interval = model.get('interval');\n\n    if (interval != null) {\n      scale.setInterval && scale.setInterval(interval);\n    }\n  }\n  /**\n   * @param {module:echarts/model/Model} model\n   * @param {string} [axisType] Default retrieve from model.type\n   * @return {module:echarts/scale/*}\n   */\n\n\n  function createScaleByModel(model, axisType) {\n    axisType = axisType || model.get('type');\n\n    if (axisType) {\n      switch (axisType) {\n        // Buildin scale\n        case 'category':\n          return new Ordinal(model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(), [Infinity, -Infinity]);\n\n        case 'value':\n          return new Interval();\n        // Extended scale, like time and log\n\n        default:\n          return (Scale_1.getClass(axisType) || Interval).create(model);\n      }\n    }\n  }\n  /**\n   * Check if the axis corss 0\n   */\n\n\n  function ifAxisCrossZero(axis) {\n    var dataExtent = axis.scale.getExtent();\n    var min = dataExtent[0];\n    var max = dataExtent[1];\n    return !(min > 0 && max > 0 || min < 0 && max < 0);\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @return {Function} Label formatter function.\n   *         param: {number} tickValue,\n   *         param: {number} idx, the index in all ticks.\n   *                         If category axis, this param is not requied.\n   *         return: {string} label string.\n   */\n\n\n  function makeLabelFormatter(axis) {\n    var labelFormatter = axis.getLabelModel().get('formatter');\n    var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n    if (typeof labelFormatter === 'string') {\n      labelFormatter = function (tpl) {\n        return function (val) {\n          // For category axis, get raw value; for numeric axis,\n          // get foramtted label like '1,333,444'.\n          val = axis.scale.getLabel(val);\n          return tpl.replace('{value}', val != null ? val : '');\n        };\n      }(labelFormatter); // Consider empty array\n\n\n      return labelFormatter;\n    } else if (typeof labelFormatter === 'function') {\n      return function (tickValue, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tickValue - categoryTickStart;\n        }\n\n        return labelFormatter(getAxisRawValue(axis, tickValue), idx);\n      };\n    } else {\n      return function (tick) {\n        return axis.scale.getLabel(tick);\n      };\n    }\n  }\n\n  function getAxisRawValue(axis, value) {\n    // In category axis with data zoom, tick is not the original\n    // index of axis.data. So tick should not be exposed to user\n    // in category axis.\n    return axis.type === 'category' ? axis.scale.getLabel(value) : value;\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @return {module:zrender/core/BoundingRect} Be null/undefined if no labels.\n   */\n\n\n  function estimateLabelUnionRect(axis) {\n    var axisModel = axis.model;\n    var scale = axis.scale;\n\n    if (!axisModel.get('axisLabel.show') || scale.isBlank()) {\n      return;\n    }\n\n    var isCategory = axis.type === 'category';\n    var realNumberScaleTicks;\n    var tickCount;\n    var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n    if (isCategory) {\n      tickCount = scale.count();\n    } else {\n      realNumberScaleTicks = scale.getTicks();\n      tickCount = realNumberScaleTicks.length;\n    }\n\n    var axisLabelModel = axis.getLabelModel();\n    var labelFormatter = makeLabelFormatter(axis);\n    var rect;\n    var step = 1; // Simple optimization for large amount of labels\n\n    if (tickCount > 40) {\n      step = Math.ceil(tickCount / 40);\n    }\n\n    for (var i = 0; i < tickCount; i += step) {\n      var tickValue = realNumberScaleTicks ? realNumberScaleTicks[i] : categoryScaleExtent[0] + i;\n      var label = labelFormatter(tickValue);\n      var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n      var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n      rect ? rect.union(singleRect) : rect = singleRect;\n    }\n\n    return rect;\n  }\n\n  function rotateTextRect(textRect, rotate) {\n    var rotateRadians = rotate * Math.PI / 180;\n    var boundingBox = textRect.plain();\n    var beforeWidth = boundingBox.width;\n    var beforeHeight = boundingBox.height;\n    var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n    var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n    var rotatedRect = new BoundingRect_1(boundingBox.x, boundingBox.y, afterWidth, afterHeight);\n    return rotatedRect;\n  }\n  /**\n   * @param {module:echarts/src/model/Model} model axisLabelModel or axisTickModel\n   * @return {number|String} Can be null|'auto'|number|function\n   */\n\n\n  function getOptionCategoryInterval(model) {\n    var interval = model.get('interval');\n    return interval == null ? 'auto' : interval;\n  }\n  /**\n   * Set `categoryInterval` as 0 implicitly indicates that\n   * show all labels reguardless of overlap.\n   * @param {Object} axis axisModel.axis\n   * @return {boolean}\n   */\n\n\n  function shouldShowAllLabels(axis) {\n    return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n  }\n\n  var getScaleExtent_1 = getScaleExtent;\n  var niceScaleExtent_1 = niceScaleExtent;\n  var createScaleByModel_1 = createScaleByModel;\n  var ifAxisCrossZero_1 = ifAxisCrossZero;\n  var makeLabelFormatter_1 = makeLabelFormatter;\n  var getAxisRawValue_1 = getAxisRawValue;\n  var estimateLabelUnionRect_1 = estimateLabelUnionRect;\n  var getOptionCategoryInterval_1 = getOptionCategoryInterval;\n  var shouldShowAllLabels_1 = shouldShowAllLabels;\n\n  var axisHelper = {\n  \tgetScaleExtent: getScaleExtent_1,\n  \tniceScaleExtent: niceScaleExtent_1,\n  \tcreateScaleByModel: createScaleByModel_1,\n  \tifAxisCrossZero: ifAxisCrossZero_1,\n  \tmakeLabelFormatter: makeLabelFormatter_1,\n  \tgetAxisRawValue: getAxisRawValue_1,\n  \testimateLabelUnionRect: estimateLabelUnionRect_1,\n  \tgetOptionCategoryInterval: getOptionCategoryInterval_1,\n  \tshouldShowAllLabels: shouldShowAllLabels_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import * as axisHelper from './axisHelper';\n  var _default$1s = {\n    /**\n     * @param {boolean} origin\n     * @return {number|string} min value or 'dataMin' or null/undefined (means auto) or NaN\n     */\n    getMin: function (origin) {\n      var option = this.option;\n      var min = !origin && option.rangeStart != null ? option.rangeStart : option.min;\n\n      if (this.axis && min != null && min !== 'dataMin' && typeof min !== 'function' && !util.eqNaN(min)) {\n        min = this.axis.scale.parse(min);\n      }\n\n      return min;\n    },\n\n    /**\n     * @param {boolean} origin\n     * @return {number|string} max value or 'dataMax' or null/undefined (means auto) or NaN\n     */\n    getMax: function (origin) {\n      var option = this.option;\n      var max = !origin && option.rangeEnd != null ? option.rangeEnd : option.max;\n\n      if (this.axis && max != null && max !== 'dataMax' && typeof max !== 'function' && !util.eqNaN(max)) {\n        max = this.axis.scale.parse(max);\n      }\n\n      return max;\n    },\n\n    /**\n     * @return {boolean}\n     */\n    getNeedCrossZero: function () {\n      var option = this.option;\n      return option.rangeStart != null || option.rangeEnd != null ? false : !option.scale;\n    },\n\n    /**\n     * Should be implemented by each axis model if necessary.\n     * @return {module:echarts/model/Component} coordinate system model\n     */\n    getCoordSysModel: util.noop,\n\n    /**\n     * @param {number} rangeStart Can only be finite number or null/undefined or NaN.\n     * @param {number} rangeEnd Can only be finite number or null/undefined or NaN.\n     */\n    setRange: function (rangeStart, rangeEnd) {\n      this.option.rangeStart = rangeStart;\n      this.option.rangeEnd = rangeEnd;\n    },\n\n    /**\n     * Reset range\n     */\n    resetRange: function () {\n      // rangeStart and rangeEnd is readonly.\n      this.option.rangeStart = this.option.rangeEnd = null;\n    }\n  };\n  var axisModelCommonMixin = _default$1s;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var calculateTextPosition$1 = text.calculateTextPosition;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Symbol factory\n\n  /**\n   * Triangle shape\n   * @inner\n   */\n  var Triangle = graphic.extendShape({\n    type: 'triangle',\n    shape: {\n      cx: 0,\n      cy: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var cx = shape.cx;\n      var cy = shape.cy;\n      var width = shape.width / 2;\n      var height = shape.height / 2;\n      path.moveTo(cx, cy - height);\n      path.lineTo(cx + width, cy + height);\n      path.lineTo(cx - width, cy + height);\n      path.closePath();\n    }\n  });\n  /**\n   * Diamond shape\n   * @inner\n   */\n\n  var Diamond = graphic.extendShape({\n    type: 'diamond',\n    shape: {\n      cx: 0,\n      cy: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var cx = shape.cx;\n      var cy = shape.cy;\n      var width = shape.width / 2;\n      var height = shape.height / 2;\n      path.moveTo(cx, cy - height);\n      path.lineTo(cx + width, cy);\n      path.lineTo(cx, cy + height);\n      path.lineTo(cx - width, cy);\n      path.closePath();\n    }\n  });\n  /**\n   * Pin shape\n   * @inner\n   */\n\n  var Pin = graphic.extendShape({\n    type: 'pin',\n    shape: {\n      // x, y on the cusp\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var x = shape.x;\n      var y = shape.y;\n      var w = shape.width / 5 * 3; // Height must be larger than width\n\n      var h = Math.max(w, shape.height);\n      var r = w / 2; // Dist on y with tangent point and circle center\n\n      var dy = r * r / (h - r);\n      var cy = y - h + r + dy;\n      var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n      var dx = Math.cos(angle) * r;\n      var tanX = Math.sin(angle);\n      var tanY = Math.cos(angle);\n      var cpLen = r * 0.6;\n      var cpLen2 = r * 0.7;\n      path.moveTo(x - dx, cy + dy);\n      path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n      path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n      path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n      path.closePath();\n    }\n  });\n  /**\n   * Arrow shape\n   * @inner\n   */\n\n  var Arrow = graphic.extendShape({\n    type: 'arrow',\n    shape: {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (ctx, shape) {\n      var height = shape.height;\n      var width = shape.width;\n      var x = shape.x;\n      var y = shape.y;\n      var dx = width / 3 * 2;\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + dx, y + height);\n      ctx.lineTo(x, y + height / 4 * 3);\n      ctx.lineTo(x - dx, y + height);\n      ctx.lineTo(x, y);\n      ctx.closePath();\n    }\n  });\n  /**\n   * Map of path contructors\n   * @type {Object.<string, module:zrender/graphic/Path>}\n   */\n\n  var symbolCtors = {\n    line: graphic.Line,\n    rect: graphic.Rect,\n    roundRect: graphic.Rect,\n    square: graphic.Rect,\n    circle: graphic.Circle,\n    diamond: Diamond,\n    pin: Pin,\n    arrow: Arrow,\n    triangle: Triangle\n  };\n  var symbolShapeMakers = {\n    line: function (x, y, w, h, shape) {\n      // FIXME\n      shape.x1 = x;\n      shape.y1 = y + h / 2;\n      shape.x2 = x + w;\n      shape.y2 = y + h / 2;\n    },\n    rect: function (x, y, w, h, shape) {\n      shape.x = x;\n      shape.y = y;\n      shape.width = w;\n      shape.height = h;\n    },\n    roundRect: function (x, y, w, h, shape) {\n      shape.x = x;\n      shape.y = y;\n      shape.width = w;\n      shape.height = h;\n      shape.r = Math.min(w, h) / 4;\n    },\n    square: function (x, y, w, h, shape) {\n      var size = Math.min(w, h);\n      shape.x = x;\n      shape.y = y;\n      shape.width = size;\n      shape.height = size;\n    },\n    circle: function (x, y, w, h, shape) {\n      // Put circle in the center of square\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.r = Math.min(w, h) / 2;\n    },\n    diamond: function (x, y, w, h, shape) {\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    pin: function (x, y, w, h, shape) {\n      shape.x = x + w / 2;\n      shape.y = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    arrow: function (x, y, w, h, shape) {\n      shape.x = x + w / 2;\n      shape.y = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    triangle: function (x, y, w, h, shape) {\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    }\n  };\n  var symbolBuildProxies = {};\n  util.each(symbolCtors, function (Ctor, name) {\n    symbolBuildProxies[name] = new Ctor();\n  });\n  var SymbolClz = graphic.extendShape({\n    type: 'symbol',\n    shape: {\n      symbolType: '',\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    calculateTextPosition: function (out, style, rect) {\n      var res = calculateTextPosition$1(out, style, rect);\n      var shape = this.shape;\n\n      if (shape && shape.symbolType === 'pin' && style.textPosition === 'inside') {\n        res.y = rect.y + rect.height * 0.4;\n      }\n\n      return res;\n    },\n    buildPath: function (ctx, shape, inBundle) {\n      var symbolType = shape.symbolType;\n\n      if (symbolType !== 'none') {\n        var proxySymbol = symbolBuildProxies[symbolType];\n\n        if (!proxySymbol) {\n          // Default rect\n          symbolType = 'rect';\n          proxySymbol = symbolBuildProxies[symbolType];\n        }\n\n        symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n        proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n      }\n    }\n  }); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\n  function symbolPathSetColor(color, innerColor) {\n    if (this.type !== 'image') {\n      var symbolStyle = this.style;\n      var symbolShape = this.shape;\n\n      if (symbolShape && symbolShape.symbolType === 'line') {\n        symbolStyle.stroke = color;\n      } else if (this.__isEmptyBrush) {\n        symbolStyle.stroke = color;\n        symbolStyle.fill = innerColor || '#fff';\n      } else {\n        // FIXME  onlyStroke ?\n        symbolStyle.fill && (symbolStyle.fill = color);\n        symbolStyle.stroke && (symbolStyle.stroke = color);\n      }\n\n      this.dirty(false);\n    }\n  }\n  /**\n   * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n   * @param {string} symbolType\n   * @param {number} x\n   * @param {number} y\n   * @param {number} w\n   * @param {number} h\n   * @param {string} color\n   * @param {boolean} [keepAspect=false] whether to keep the ratio of w/h,\n   *                            for path and image only.\n   */\n\n\n  function createSymbol(symbolType, x, y, w, h, color, keepAspect) {\n    // TODO Support image object, DynamicImage.\n    var isEmpty = symbolType.indexOf('empty') === 0;\n\n    if (isEmpty) {\n      symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n    }\n\n    var symbolPath;\n\n    if (symbolType.indexOf('image://') === 0) {\n      symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect_1(x, y, w, h), keepAspect ? 'center' : 'cover');\n    } else if (symbolType.indexOf('path://') === 0) {\n      symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect_1(x, y, w, h), keepAspect ? 'center' : 'cover');\n    } else {\n      symbolPath = new SymbolClz({\n        shape: {\n          symbolType: symbolType,\n          x: x,\n          y: y,\n          width: w,\n          height: h\n        }\n      });\n    }\n\n    symbolPath.__isEmptyBrush = isEmpty;\n    symbolPath.setColor = symbolPathSetColor;\n    symbolPath.setColor(color);\n    return symbolPath;\n  }\n\n  var createSymbol_1 = createSymbol;\n\n  var symbol = {\n  \tcreateSymbol: createSymbol_1\n  };\n\n  var getLayoutRect_1$1 = layout.getLayoutRect;\n\n\n\n  var enableDataStack$2 = dataStackHelper.enableDataStack;\n  var isDimensionStacked$2 = dataStackHelper.isDimensionStacked;\n  var getStackedDimension$1 = dataStackHelper.getStackedDimension;\n\n\n\n  var completeDimensions$1 = completeDimensions_1;\n\n\n\n  var createDimensions$1 = createDimensions;\n\n\n\n  var createSymbol$1 = symbol.createSymbol;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import createGraphFromNodeEdge from './chart/helper/createGraphFromNodeEdge';\n\n  /**\n   * Create a muti dimension List structure from seriesModel.\n   * @param  {module:echarts/model/Model} seriesModel\n   * @return {module:echarts/data/List} list\n   */\n  function createList(seriesModel) {\n    return createListFromArray_1(seriesModel.getSource(), seriesModel);\n  } // export function createGraph(seriesModel) {\n  //     var nodes = seriesModel.get('data');\n  //     var links = seriesModel.get('links');\n  //     return createGraphFromNodeEdge(nodes, links, seriesModel);\n  // }\n\n\n  var dataStack$1 = {\n    isDimensionStacked: isDimensionStacked$2,\n    enableDataStack: enableDataStack$2,\n    getStackedDimension: getStackedDimension$1\n  };\n  /**\n   * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n   * @param {string} symbolDesc\n   * @param {number} x\n   * @param {number} y\n   * @param {number} w\n   * @param {number} h\n   * @param {string} color\n   */\n\n  /**\n   * Create scale\n   * @param {Array.<number>} dataExtent\n   * @param {Object|module:echarts/Model} option\n   */\n  function createScale(dataExtent, option) {\n    var axisModel = option;\n\n    if (!Model_1.isInstance(option)) {\n      axisModel = new Model_1(option);\n      util.mixin(axisModel, axisModelCommonMixin);\n    }\n\n    var scale = axisHelper.createScaleByModel(axisModel);\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n    axisHelper.niceScaleExtent(scale, axisModel);\n    return scale;\n  }\n  /**\n   * Mixin common methods to axis model,\n   *\n   * Inlcude methods\n   * `getFormattedLabels() => Array.<string>`\n   * `getCategories() => Array.<string>`\n   * `getMin(origin: boolean) => number`\n   * `getMax(origin: boolean) => number`\n   * `getNeedCrossZero() => boolean`\n   * `setRange(start: number, end: number)`\n   * `resetRange()`\n   */\n\n\n  function mixinAxisModelCommonMethods(Model) {\n    util.mixin(Model, axisModelCommonMixin);\n  }\n\n  var createList_1 = createList;\n  var dataStack_1 = dataStack$1;\n  var createScale_1 = createScale;\n  var mixinAxisModelCommonMethods_1 = mixinAxisModelCommonMethods;\n\n  var helper$1 = {\n  \tgetLayoutRect: getLayoutRect_1$1,\n  \tcompleteDimensions: completeDimensions$1,\n  \tcreateDimensions: createDimensions$1,\n  \tcreateSymbol: createSymbol$1,\n  \tcreateList: createList_1,\n  \tdataStack: dataStack_1,\n  \tcreateScale: createScale_1,\n  \tmixinAxisModelCommonMethods: mixinAxisModelCommonMethods_1\n  };\n\n  var EPSILON$3 = 1e-8;\n\n  function isAroundEqual$1(a, b) {\n    return Math.abs(a - b) < EPSILON$3;\n  }\n\n  function contain$1(points, x, y) {\n    var w = 0;\n    var p = points[0];\n\n    if (!p) {\n      return false;\n    }\n\n    for (var i = 1; i < points.length; i++) {\n      var p2 = points[i];\n      w += windingLine_1(p[0], p[1], p2[0], p2[1], x, y);\n      p = p2;\n    } // Close polygon\n\n\n    var p0 = points[0];\n\n    if (!isAroundEqual$1(p[0], p0[0]) || !isAroundEqual$1(p[1], p0[1])) {\n      w += windingLine_1(p[0], p[1], p0[0], p0[1], x, y);\n    }\n\n    return w !== 0;\n  }\n\n  var contain_1$1 = contain$1;\n\n  var polygon = {\n  \tcontain: contain_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/coord/geo/Region\n   */\n\n  /**\n   * @param {string|Region} name\n   * @param {Array} geometries\n   * @param {Array.<number>} cp\n   */\n  function Region(name, geometries, cp) {\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    this.name = name;\n    /**\n     * @type {Array.<Array>}\n     * @readOnly\n     */\n\n    this.geometries = geometries;\n\n    if (!cp) {\n      var rect = this.getBoundingRect();\n      cp = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    } else {\n      cp = [cp[0], cp[1]];\n    }\n    /**\n     * @type {Array.<number>}\n     */\n\n\n    this.center = cp;\n  }\n\n  Region.prototype = {\n    constructor: Region,\n    properties: null,\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n      var rect = this._rect;\n\n      if (rect) {\n        return rect;\n      }\n\n      var MAX_NUMBER = Number.MAX_VALUE;\n      var min = [MAX_NUMBER, MAX_NUMBER];\n      var max = [-MAX_NUMBER, -MAX_NUMBER];\n      var min2 = [];\n      var max2 = [];\n      var geometries = this.geometries;\n\n      for (var i = 0; i < geometries.length; i++) {\n        // Only support polygon\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        } // Doesn't consider hole\n\n\n        var exterior = geometries[i].exterior;\n        bbox.fromPoints(exterior, min2, max2);\n        vector.min(min, min, min2);\n        vector.max(max, max, max2);\n      } // No data\n\n\n      if (i === 0) {\n        min[0] = min[1] = max[0] = max[1] = 0;\n      }\n\n      return this._rect = new BoundingRect_1(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    },\n\n    /**\n     * @param {<Array.<number>} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n      var rect = this.getBoundingRect();\n      var geometries = this.geometries;\n\n      if (!rect.contain(coord[0], coord[1])) {\n        return false;\n      }\n\n      loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n        // Only support polygon.\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        }\n\n        var exterior = geometries[i].exterior;\n        var interiors = geometries[i].interiors;\n\n        if (polygon.contain(exterior, coord[0], coord[1])) {\n          // Not in the region if point is in the hole.\n          for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n            if (polygon.contain(interiors[k])) {\n              continue loopGeo;\n            }\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    },\n    transformTo: function (x, y, width, height) {\n      var rect = this.getBoundingRect();\n      var aspect = rect.width / rect.height;\n\n      if (!width) {\n        width = aspect * height;\n      } else if (!height) {\n        height = width / aspect;\n      }\n\n      var target = new BoundingRect_1(x, y, width, height);\n      var transform = rect.calculateTransform(target);\n      var geometries = this.geometries;\n\n      for (var i = 0; i < geometries.length; i++) {\n        // Only support polygon.\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        }\n\n        var exterior = geometries[i].exterior;\n        var interiors = geometries[i].interiors;\n\n        for (var p = 0; p < exterior.length; p++) {\n          vector.applyTransform(exterior[p], exterior[p], transform);\n        }\n\n        for (var h = 0; h < (interiors ? interiors.length : 0); h++) {\n          for (var p = 0; p < interiors[h].length; p++) {\n            vector.applyTransform(interiors[h][p], interiors[h][p], transform);\n          }\n        }\n      }\n\n      rect = this._rect;\n      rect.copy(target); // Update center\n\n      this.center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    },\n    cloneShallow: function (name) {\n      name == null && (name = this.name);\n      var newRegion = new Region(name, this.geometries, this.center);\n      newRegion._rect = this._rect;\n      newRegion.transformTo = null; // Simply avoid to be called.\n\n      return newRegion;\n    }\n  };\n  var _default$1t = Region;\n  var Region_1 = _default$1t;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Parse and decode geo json\n   * @module echarts/coord/geo/parseGeoJson\n   */\n  function decode(json) {\n    if (!json.UTF8Encoding) {\n      return json;\n    }\n\n    var encodeScale = json.UTF8Scale;\n\n    if (encodeScale == null) {\n      encodeScale = 1024;\n    }\n\n    var features = json.features;\n\n    for (var f = 0; f < features.length; f++) {\n      var feature = features[f];\n      var geometry = feature.geometry;\n      var coordinates = geometry.coordinates;\n      var encodeOffsets = geometry.encodeOffsets;\n\n      for (var c = 0; c < coordinates.length; c++) {\n        var coordinate = coordinates[c];\n\n        if (geometry.type === 'Polygon') {\n          coordinates[c] = decodePolygon(coordinate, encodeOffsets[c], encodeScale);\n        } else if (geometry.type === 'MultiPolygon') {\n          for (var c2 = 0; c2 < coordinate.length; c2++) {\n            var polygon = coordinate[c2];\n            coordinate[c2] = decodePolygon(polygon, encodeOffsets[c][c2], encodeScale);\n          }\n        }\n      }\n    } // Has been decoded\n\n\n    json.UTF8Encoding = false;\n    return json;\n  }\n\n  function decodePolygon(coordinate, encodeOffsets, encodeScale) {\n    var result = [];\n    var prevX = encodeOffsets[0];\n    var prevY = encodeOffsets[1];\n\n    for (var i = 0; i < coordinate.length; i += 2) {\n      var x = coordinate.charCodeAt(i) - 64;\n      var y = coordinate.charCodeAt(i + 1) - 64; // ZigZag decoding\n\n      x = x >> 1 ^ -(x & 1);\n      y = y >> 1 ^ -(y & 1); // Delta deocding\n\n      x += prevX;\n      y += prevY;\n      prevX = x;\n      prevY = y; // Dequantize\n\n      result.push([x / encodeScale, y / encodeScale]);\n    }\n\n    return result;\n  }\n  /**\n   * @alias module:echarts/coord/geo/parseGeoJson\n   * @param {Object} geoJson\n   * @param {string} nameProperty\n   * @return {module:zrender/container/Group}\n   */\n\n\n  function _default$1u(geoJson, nameProperty) {\n    decode(geoJson);\n    return util.map(util.filter(geoJson.features, function (featureObj) {\n      // Output of mapshaper may have geometry null\n      return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n    }), function (featureObj) {\n      var properties = featureObj.properties;\n      var geo = featureObj.geometry;\n      var coordinates = geo.coordinates;\n      var geometries = [];\n\n      if (geo.type === 'Polygon') {\n        geometries.push({\n          type: 'polygon',\n          // According to the GeoJSON specification.\n          // First must be exterior, and the rest are all interior(holes).\n          exterior: coordinates[0],\n          interiors: coordinates.slice(1)\n        });\n      }\n\n      if (geo.type === 'MultiPolygon') {\n        util.each(coordinates, function (item) {\n          if (item[0]) {\n            geometries.push({\n              type: 'polygon',\n              exterior: item[0],\n              interiors: item.slice(1)\n            });\n          }\n        });\n      }\n\n      var region = new Region_1(properties[nameProperty || 'name'], geometries, properties.cp);\n      region.properties = properties;\n      return region;\n    });\n  }\n\n  var parseGeoJson = _default$1u;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$6 = model.makeInner;\n\n\n\n  var makeLabelFormatter$1 = axisHelper.makeLabelFormatter;\n  var getOptionCategoryInterval$1 = axisHelper.getOptionCategoryInterval;\n  var shouldShowAllLabels$1 = axisHelper.shouldShowAllLabels;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$6 = makeInner$6();\n  /**\n   * @param {module:echats/coord/Axis} axis\n   * @return {Object} {\n   *     labels: [{\n   *         formattedLabel: string,\n   *         rawLabel: string,\n   *         tickValue: number\n   *     }, ...],\n   *     labelCategoryInterval: number\n   * }\n   */\n\n  function createAxisLabels(axis) {\n    // Only ordinal scale support tick interval\n    return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n  }\n  /**\n   * @param {module:echats/coord/Axis} axis\n   * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n   * @return {Object} {\n   *     ticks: Array.<number>\n   *     tickCategoryInterval: number\n   * }\n   */\n\n\n  function createAxisTicks(axis, tickModel) {\n    // Only ordinal scale support tick interval\n    return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n      ticks: axis.scale.getTicks()\n    };\n  }\n\n  function makeCategoryLabels(axis) {\n    var labelModel = axis.getLabelModel();\n    var result = makeCategoryLabelsActually(axis, labelModel);\n    return !labelModel.get('show') || axis.scale.isBlank() ? {\n      labels: [],\n      labelCategoryInterval: result.labelCategoryInterval\n    } : result;\n  }\n\n  function makeCategoryLabelsActually(axis, labelModel) {\n    var labelsCache = getListCache(axis, 'labels');\n    var optionLabelInterval = getOptionCategoryInterval$1(labelModel);\n    var result = listCacheGet(labelsCache, optionLabelInterval);\n\n    if (result) {\n      return result;\n    }\n\n    var labels;\n    var numericLabelInterval;\n\n    if (util.isFunction(optionLabelInterval)) {\n      labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n    } else {\n      numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n      labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n    } // Cache to avoid calling interval function repeatly.\n\n\n    return listCacheSet(labelsCache, optionLabelInterval, {\n      labels: labels,\n      labelCategoryInterval: numericLabelInterval\n    });\n  }\n\n  function makeCategoryTicks(axis, tickModel) {\n    var ticksCache = getListCache(axis, 'ticks');\n    var optionTickInterval = getOptionCategoryInterval$1(tickModel);\n    var result = listCacheGet(ticksCache, optionTickInterval);\n\n    if (result) {\n      return result;\n    }\n\n    var ticks;\n    var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n    // we should not return all ticks.\n\n    if (!tickModel.get('show') || axis.scale.isBlank()) {\n      ticks = [];\n    }\n\n    if (util.isFunction(optionTickInterval)) {\n      ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n    } // Always use label interval by default despite label show. Consider this\n    // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n    // labels. `splitLine` and `axisTick` should be consistent in this case.\n    else if (optionTickInterval === 'auto') {\n        var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n        tickCategoryInterval = labelsResult.labelCategoryInterval;\n        ticks = util.map(labelsResult.labels, function (labelItem) {\n          return labelItem.tickValue;\n        });\n      } else {\n        tickCategoryInterval = optionTickInterval;\n        ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n      } // Cache to avoid calling interval function repeatly.\n\n\n    return listCacheSet(ticksCache, optionTickInterval, {\n      ticks: ticks,\n      tickCategoryInterval: tickCategoryInterval\n    });\n  }\n\n  function makeRealNumberLabels(axis) {\n    var ticks = axis.scale.getTicks();\n    var labelFormatter = makeLabelFormatter$1(axis);\n    return {\n      labels: util.map(ticks, function (tickValue, idx) {\n        return {\n          formattedLabel: labelFormatter(tickValue, idx),\n          rawLabel: axis.scale.getLabel(tickValue),\n          tickValue: tickValue\n        };\n      })\n    };\n  } // Large category data calculation is performence sensitive, and ticks and label\n  // probably be fetched by multiple times. So we cache the result.\n  // axis is created each time during a ec process, so we do not need to clear cache.\n\n\n  function getListCache(axis, prop) {\n    // Because key can be funciton, and cache size always be small, we use array cache.\n    return inner$6(axis)[prop] || (inner$6(axis)[prop] = []);\n  }\n\n  function listCacheGet(cache, key) {\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i].key === key) {\n        return cache[i].value;\n      }\n    }\n  }\n\n  function listCacheSet(cache, key, value) {\n    cache.push({\n      key: key,\n      value: value\n    });\n    return value;\n  }\n\n  function makeAutoCategoryInterval(axis) {\n    var result = inner$6(axis).autoInterval;\n    return result != null ? result : inner$6(axis).autoInterval = axis.calculateCategoryInterval();\n  }\n  /**\n   * Calculate interval for category axis ticks and labels.\n   * To get precise result, at least one of `getRotate` and `isHorizontal`\n   * should be implemented in axis.\n   */\n\n\n  function calculateCategoryInterval(axis) {\n    var params = fetchAutoCategoryIntervalCalculationParams(axis);\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n    // avoid generating a long array by `getTicks`\n    // in large category data case.\n\n    var tickCount = ordinalScale.count();\n\n    if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n      return 0;\n    }\n\n    var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n    if (tickCount > 40) {\n      step = Math.max(1, Math.floor(tickCount / 40));\n    }\n\n    var tickValue = ordinalExtent[0];\n    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n    var unitW = Math.abs(unitSpan * Math.cos(rotation));\n    var unitH = Math.abs(unitSpan * Math.sin(rotation));\n    var maxW = 0;\n    var maxH = 0; // Caution: Performance sensitive for large category data.\n    // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n    for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n      var width = 0;\n      var height = 0; // Not precise, do not consider align and vertical align\n      // and each distance from axis line yet.\n\n      var rect = text.getBoundingRect(labelFormatter(tickValue), params.font, 'center', 'top'); // Magic number\n\n      width = rect.width * 1.3;\n      height = rect.height * 1.3; // Min size, void long loop.\n\n      maxW = Math.max(maxW, width, 7);\n      maxH = Math.max(maxH, height, 7);\n    }\n\n    var dw = maxW / unitW;\n    var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n    isNaN(dw) && (dw = Infinity);\n    isNaN(dh) && (dh = Infinity);\n    var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n    var cache = inner$6(axis.model);\n    var axisExtent = axis.getExtent();\n    var lastAutoInterval = cache.lastAutoInterval;\n    var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n    // otherwise the calculated interval might jitter when the zoom\n    // window size is close to the interval-changing size.\n    // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n    // The jitter will cause that sometimes the displayed labels are\n    // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n\n    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n    // point is not the same when zooming in or zooming out.\n    && lastAutoInterval > interval // If the axis change is caused by chart resize, the cache should not\n    // be used. Otherwise some hiden labels might not be shown again.\n    && cache.axisExtend0 === axisExtent[0] && cache.axisExtend1 === axisExtent[1]) {\n      interval = lastAutoInterval;\n    } // Only update cache if cache not used, otherwise the\n    // changing of interval is too insensitive.\n    else {\n        cache.lastTickCount = tickCount;\n        cache.lastAutoInterval = interval;\n        cache.axisExtend0 = axisExtent[0];\n        cache.axisExtend1 = axisExtent[1];\n      }\n\n    return interval;\n  }\n\n  function fetchAutoCategoryIntervalCalculationParams(axis) {\n    var labelModel = axis.getLabelModel();\n    return {\n      axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n      labelRotate: labelModel.get('rotate') || 0,\n      font: labelModel.getFont()\n    };\n  }\n\n  function makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent();\n    var labelModel = axis.getLabelModel();\n    var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n    var step = Math.max((categoryInterval || 0) + 1, 1);\n    var startTick = ordinalExtent[0];\n    var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n    // while zooming and moving while interval > 0. Otherwise the selection\n    // of displayable ticks and symbols probably keep changing.\n    // 3 is empirical value.\n\n    if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n      startTick = Math.round(Math.ceil(startTick / step) * step);\n    } // (1) Only add min max label here but leave overlap checking\n    // to render stage, which also ensure the returned list\n    // suitable for splitLine and splitArea rendering.\n    // (2) Scales except category always contain min max label so\n    // do not need to perform this process.\n\n\n    var showAllLabel = shouldShowAllLabels$1(axis);\n    var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n    var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n    if (includeMinLabel && startTick !== ordinalExtent[0]) {\n      addItem(ordinalExtent[0]);\n    } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n    var tickValue = startTick;\n\n    for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n      addItem(tickValue);\n    }\n\n    if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n      addItem(ordinalExtent[1]);\n    }\n\n    function addItem(tVal) {\n      result.push(onlyTick ? tVal : {\n        formattedLabel: labelFormatter(tVal),\n        rawLabel: ordinalScale.getLabel(tVal),\n        tickValue: tVal\n      });\n    }\n\n    return result;\n  } // When interval is function, the result `false` means ignore the tick.\n  // It is time consuming for large category data.\n\n\n  function makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n    var ordinalScale = axis.scale;\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var result = [];\n    util.each(ordinalScale.getTicks(), function (tickValue) {\n      var rawLabel = ordinalScale.getLabel(tickValue);\n\n      if (categoryInterval(tickValue, rawLabel)) {\n        result.push(onlyTick ? tickValue : {\n          formattedLabel: labelFormatter(tickValue),\n          rawLabel: rawLabel,\n          tickValue: tickValue\n        });\n      }\n    });\n    return result;\n  }\n\n  var createAxisLabels_1 = createAxisLabels;\n  var createAxisTicks_1 = createAxisTicks;\n  var calculateCategoryInterval_1 = calculateCategoryInterval;\n\n  var axisTickLabelBuilder = {\n  \tcreateAxisLabels: createAxisLabels_1,\n  \tcreateAxisTicks: createAxisTicks_1,\n  \tcalculateCategoryInterval: calculateCategoryInterval_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$j = util.each;\n  var map$6 = util.map;\n\n\n\n  var linearMap$1 = number.linearMap;\n  var getPixelPrecision$1 = number.getPixelPrecision;\n  var round$2 = number.round;\n\n\n\n  var createAxisTicks$1 = axisTickLabelBuilder.createAxisTicks;\n  var createAxisLabels$1 = axisTickLabelBuilder.createAxisLabels;\n  var calculateCategoryInterval$1 = axisTickLabelBuilder.calculateCategoryInterval;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var NORMALIZED_EXTENT = [0, 1];\n  /**\n   * Base class of Axis.\n   * @constructor\n   */\n\n  var Axis = function (dim, scale, extent) {\n    /**\n     * Axis dimension. Such as 'x', 'y', 'z', 'angle', 'radius'.\n     * @type {string}\n     */\n    this.dim = dim;\n    /**\n     * Axis scale\n     * @type {module:echarts/coord/scale/*}\n     */\n\n    this.scale = scale;\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n\n    this._extent = extent || [0, 0];\n    /**\n     * @type {boolean}\n     */\n\n    this.inverse = false;\n    /**\n     * Usually true when axis has a ordinal scale\n     * @type {boolean}\n     */\n\n    this.onBand = false;\n  };\n\n  Axis.prototype = {\n    constructor: Axis,\n\n    /**\n     * If axis extent contain given coord\n     * @param {number} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n      var extent = this._extent;\n      var min = Math.min(extent[0], extent[1]);\n      var max = Math.max(extent[0], extent[1]);\n      return coord >= min && coord <= max;\n    },\n\n    /**\n     * If axis extent contain given data\n     * @param {number} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n      return this.scale.contain(data);\n    },\n\n    /**\n     * Get coord extent.\n     * @return {Array.<number>}\n     */\n    getExtent: function () {\n      return this._extent.slice();\n    },\n\n    /**\n     * Get precision used for formatting\n     * @param {Array.<number>} [dataExtent]\n     * @return {number}\n     */\n    getPixelPrecision: function (dataExtent) {\n      return getPixelPrecision$1(dataExtent || this.scale.getExtent(), this._extent);\n    },\n\n    /**\n     * Set coord extent\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n      var extent = this._extent;\n      extent[0] = start;\n      extent[1] = end;\n    },\n\n    /**\n     * Convert data to coord. Data is the rank if it has an ordinal scale\n     * @param {number} data\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    dataToCoord: function (data, clamp) {\n      var extent = this._extent;\n      var scale = this.scale;\n      data = scale.normalize(data);\n\n      if (this.onBand && scale.type === 'ordinal') {\n        extent = extent.slice();\n        fixExtentWithBands(extent, scale.count());\n      }\n\n      return linearMap$1(data, NORMALIZED_EXTENT, extent, clamp);\n    },\n\n    /**\n     * Convert coord to data. Data is the rank if it has an ordinal scale\n     * @param {number} coord\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    coordToData: function (coord, clamp) {\n      var extent = this._extent;\n      var scale = this.scale;\n\n      if (this.onBand && scale.type === 'ordinal') {\n        extent = extent.slice();\n        fixExtentWithBands(extent, scale.count());\n      }\n\n      var t = linearMap$1(coord, extent, NORMALIZED_EXTENT, clamp);\n      return this.scale.scale(t);\n    },\n\n    /**\n     * Convert pixel point to data in axis\n     * @param {Array.<number>} point\n     * @param  {boolean} clamp\n     * @return {number} data\n     */\n    pointToData: function (point, clamp) {// Should be implemented in derived class if necessary.\n    },\n\n    /**\n     * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n     * `axis.getTicksCoords` considers `onBand`, which is used by\n     * `boundaryGap:true` of category axis and splitLine and splitArea.\n     * @param {Object} [opt]\n     * @param {Model} [opt.tickModel=axis.model.getModel('axisTick')]\n     * @param {boolean} [opt.clamp] If `true`, the first and the last\n     *        tick must be at the axis end points. Otherwise, clip ticks\n     *        that outside the axis extent.\n     * @return {Array.<Object>} [{\n     *     coord: ...,\n     *     tickValue: ...\n     * }, ...]\n     */\n    getTicksCoords: function (opt) {\n      opt = opt || {};\n      var tickModel = opt.tickModel || this.getTickModel();\n      var result = createAxisTicks$1(this, tickModel);\n      var ticks = result.ticks;\n      var ticksCoords = map$6(ticks, function (tickValue) {\n        return {\n          coord: this.dataToCoord(tickValue),\n          tickValue: tickValue\n        };\n      }, this);\n      var alignWithLabel = tickModel.get('alignWithLabel');\n      fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n      return ticksCoords;\n    },\n\n    /**\n     * @return {Array.<Array.<Object>>} [{ coord: ..., tickValue: ...}]\n     */\n    getMinorTicksCoords: function () {\n      if (this.scale.type === 'ordinal') {\n        // Category axis doesn't support minor ticks\n        return [];\n      }\n\n      var minorTickModel = this.model.getModel('minorTick');\n      var splitNumber = minorTickModel.get('splitNumber'); // Protection.\n\n      if (!(splitNumber > 0 && splitNumber < 100)) {\n        splitNumber = 5;\n      }\n\n      var minorTicks = this.scale.getMinorTicks(splitNumber);\n      var minorTicksCoords = map$6(minorTicks, function (minorTicksGroup) {\n        return map$6(minorTicksGroup, function (minorTick) {\n          return {\n            coord: this.dataToCoord(minorTick),\n            tickValue: minorTick\n          };\n        }, this);\n      }, this);\n      return minorTicksCoords;\n    },\n\n    /**\n     * @return {Array.<Object>} [{\n     *     formattedLabel: string,\n     *     rawLabel: axis.scale.getLabel(tickValue)\n     *     tickValue: number\n     * }, ...]\n     */\n    getViewLabels: function () {\n      return createAxisLabels$1(this).labels;\n    },\n\n    /**\n     * @return {module:echarts/coord/model/Model}\n     */\n    getLabelModel: function () {\n      return this.model.getModel('axisLabel');\n    },\n\n    /**\n     * Notice here we only get the default tick model. For splitLine\n     * or splitArea, we should pass the splitLineModel or splitAreaModel\n     * manually when calling `getTicksCoords`.\n     * In GL, this method may be overrided to:\n     * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n     * @return {module:echarts/coord/model/Model}\n     */\n    getTickModel: function () {\n      return this.model.getModel('axisTick');\n    },\n\n    /**\n     * Get width of band\n     * @return {number}\n     */\n    getBandWidth: function () {\n      var axisExtent = this._extent;\n      var dataExtent = this.scale.getExtent();\n      var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n      len === 0 && (len = 1);\n      var size = Math.abs(axisExtent[1] - axisExtent[0]);\n      return Math.abs(size) / len;\n    },\n\n    /**\n     * @abstract\n     * @return {boolean} Is horizontal\n     */\n    isHorizontal: null,\n\n    /**\n     * @abstract\n     * @return {number} Get axis rotate, by degree.\n     */\n    getRotate: null,\n\n    /**\n     * Only be called in category axis.\n     * Can be overrided, consider other axes like in 3D.\n     * @return {number} Auto interval for cateogry axis tick and label\n     */\n    calculateCategoryInterval: function () {\n      return calculateCategoryInterval$1(this);\n    }\n  };\n\n  function fixExtentWithBands(extent, nTick) {\n    var size = extent[1] - extent[0];\n    var len = nTick;\n    var margin = size / len / 2;\n    extent[0] += margin;\n    extent[1] -= margin;\n  } // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n  // |---1---|---2---|---3---|---4---|.\n  // So the displayed ticks and splitLine/splitArea should between\n  // each data item, otherwise cause misleading (e.g., split tow bars\n  // of a single data item when there are two bar series).\n  // Also consider if tickCategoryInterval > 0 and onBand, ticks and\n  // splitLine/spliteArea should layout appropriately corresponding\n  // to displayed labels. (So we should not use `getBandWidth` in this\n  // case).\n\n\n  function fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n    var ticksLen = ticksCoords.length;\n\n    if (!axis.onBand || alignWithLabel || !ticksLen) {\n      return;\n    }\n\n    var axisExtent = axis.getExtent();\n    var last;\n    var diffSize;\n\n    if (ticksLen === 1) {\n      ticksCoords[0].coord = axisExtent[0];\n      last = ticksCoords[1] = {\n        coord: axisExtent[0]\n      };\n    } else {\n      var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n      var shift = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n      each$j(ticksCoords, function (ticksItem) {\n        ticksItem.coord -= shift / 2;\n      });\n      var dataExtent = axis.scale.getExtent();\n      diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n      last = {\n        coord: ticksCoords[ticksLen - 1].coord + shift * diffSize\n      };\n      ticksCoords.push(last);\n    }\n\n    var inverse = axisExtent[0] > axisExtent[1]; // Handling clamp.\n\n    if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n      clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n    }\n\n    if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n      ticksCoords.unshift({\n        coord: axisExtent[0]\n      });\n    }\n\n    if (littleThan(axisExtent[1], last.coord)) {\n      clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n    }\n\n    if (clamp && littleThan(last.coord, axisExtent[1])) {\n      ticksCoords.push({\n        coord: axisExtent[1]\n      });\n    }\n\n    function littleThan(a, b) {\n      // Avoid rounding error cause calculated tick coord different with extent.\n      // It may cause an extra unecessary tick added.\n      a = round$2(a);\n      b = round$2(b);\n      return inverse ? a > b : a < b;\n    }\n  }\n\n  var _default$1v = Axis;\n  var Axis_1 = _default$1v;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var zrender_1 = zrender;\n\n\n\n  var matrix_1 = matrix;\n\n\n\n  var vector_1 = vector;\n\n\n\n\n\n  var color$1 = color;\n\n\n\n\n\n  var number$1 = number;\n\n\n\n  var format$2 = format$1;\n  var throttle_1$1 = throttle_1.throttle;\n\n\n\n  var helper$2 = helper$1;\n\n\n\n  var parseGeoJSON_1 = parseGeoJson;\n\n\n\n  var List$1 = List_1;\n\n\n\n  var Model$1 = Model_1;\n\n\n\n  var Axis$1 = Axis_1;\n\n\n\n  var env$1 = env_1;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Do not mount those modules on 'src/echarts' for better tree shaking.\n   */\n  var parseGeoJson$1 = parseGeoJson;\n  var ecUtil = {};\n  util.each(['map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter', 'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction', 'extend', 'defaults', 'clone', 'merge'], function (name) {\n    ecUtil[name] = util[name];\n  });\n  var graphic$1 = {};\n  util.each(['extendShape', 'extendPath', 'makePath', 'makeImage', 'mergePath', 'resizePath', 'createIcon', 'setHoverStyle', 'setLabelStyle', 'setTextStyle', 'setText', 'getFont', 'updateProps', 'initProps', 'getTransform', 'clipPointsByRect', 'clipRectByRect', 'registerShape', 'getShapeClass', 'Group', 'Image', 'Text', 'Circle', 'Sector', 'Ring', 'Polygon', 'Polyline', 'Rect', 'Line', 'BezierCurve', 'Arc', 'IncrementalDisplayable', 'CompoundPath', 'LinearGradient', 'RadialGradient', 'BoundingRect'], function (name) {\n    graphic$1[name] = graphic[name];\n  });\n  var parseGeoJson_1 = parseGeoJson$1;\n  var util$2 = ecUtil;\n  var graphic_1 = graphic$1;\n\n  var _export$1 = {\n  \tzrender: zrender_1,\n  \tmatrix: matrix_1,\n  \tvector: vector_1,\n  \tcolor: color$1,\n  \tnumber: number$1,\n  \tformat: format$2,\n  \tthrottle: throttle_1$1,\n  \thelper: helper$2,\n  \tparseGeoJSON: parseGeoJSON_1,\n  \tList: List$1,\n  \tModel: Model$1,\n  \tAxis: Axis$1,\n  \tenv: env$1,\n  \tparseGeoJson: parseGeoJson_1,\n  \tutil: util$2,\n  \tgraphic: graphic_1\n  };\n\n  var echarts = createCommonjsModule(function (module, exports) {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var throttle = throttle_1.throttle;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var assert = util.assert;\n  var each = util.each;\n  var isFunction = util.isFunction;\n  var isObject = util.isObject;\n  var parseClassType = Component.parseClassType;\n  var version = '4.9.0';\n  var dependencies = {\n    zrender: '4.3.2'\n  };\n  var TEST_FRAME_REMAIN_TIME = 1;\n  var PRIORITY_PROCESSOR_FILTER = 1000;\n  var PRIORITY_PROCESSOR_SERIES_FILTER = 800;\n  var PRIORITY_PROCESSOR_DATASTACK = 900;\n  var PRIORITY_PROCESSOR_STATISTIC = 5000;\n  var PRIORITY_VISUAL_LAYOUT = 1000;\n  var PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\n  var PRIORITY_VISUAL_GLOBAL = 2000;\n  var PRIORITY_VISUAL_CHART = 3000;\n  var PRIORITY_VISUAL_POST_CHART_LAYOUT = 3500;\n  var PRIORITY_VISUAL_COMPONENT = 4000; // FIXME\n  // necessary?\n\n  var PRIORITY_VISUAL_BRUSH = 5000;\n  var PRIORITY = {\n    PROCESSOR: {\n      FILTER: PRIORITY_PROCESSOR_FILTER,\n      SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n      STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n    },\n    VISUAL: {\n      LAYOUT: PRIORITY_VISUAL_LAYOUT,\n      PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n      GLOBAL: PRIORITY_VISUAL_GLOBAL,\n      CHART: PRIORITY_VISUAL_CHART,\n      POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n      COMPONENT: PRIORITY_VISUAL_COMPONENT,\n      BRUSH: PRIORITY_VISUAL_BRUSH\n    }\n  }; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n  // where they must not be invoked nestedly, except the only case: invoke\n  // dispatchAction with updateMethod \"none\" in main process.\n  // This flag is used to carry out this rule.\n  // All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\n\n  var IN_MAIN_PROCESS = '__flagInMainProcess';\n  var OPTION_UPDATED = '__optionUpdated';\n  var ACTION_REG = /^[a-zA-Z0-9_]+$/;\n\n  function createRegisterEventWithLowercaseName(method, ignoreDisposed) {\n    return function (eventName, handler, context) {\n      if (!ignoreDisposed && this._disposed) {\n        disposedWarning(this.id);\n        return;\n      } // Event name is all lowercase\n\n\n      eventName = eventName && eventName.toLowerCase();\n      Eventful_1.prototype[method].call(this, eventName, handler, context);\n    };\n  }\n  /**\n   * @module echarts~MessageCenter\n   */\n\n\n  function MessageCenter() {\n    Eventful_1.call(this);\n  }\n\n  MessageCenter.prototype.on = createRegisterEventWithLowercaseName('on', true);\n  MessageCenter.prototype.off = createRegisterEventWithLowercaseName('off', true);\n  MessageCenter.prototype.one = createRegisterEventWithLowercaseName('one', true);\n  util.mixin(MessageCenter, Eventful_1);\n  /**\n   * @module echarts~ECharts\n   */\n\n  function ECharts(dom, theme, opts) {\n    opts = opts || {}; // Get theme by name\n\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n    /**\n     * @type {string}\n     */\n\n\n    this.id;\n    /**\n     * Group id\n     * @type {string}\n     */\n\n    this.group;\n    /**\n     * @type {HTMLElement}\n     * @private\n     */\n\n    this._dom = dom;\n    var defaultRenderer = 'canvas';\n\n    /**\n     * @type {module:zrender/ZRender}\n     * @private\n     */\n    var zr = this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height\n    });\n    /**\n     * Expect 60 fps.\n     * @type {Function}\n     * @private\n     */\n\n    this._throttledZrFlush = throttle(util.bind(zr.flush, zr), 17);\n    var theme = util.clone(theme);\n    theme && backwardCompat(theme, true);\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._theme = theme;\n    /**\n     * @type {Array.<module:echarts/view/Chart>}\n     * @private\n     */\n\n    this._chartsViews = [];\n    /**\n     * @type {Object.<string, module:echarts/view/Chart>}\n     * @private\n     */\n\n    this._chartsMap = {};\n    /**\n     * @type {Array.<module:echarts/view/Component>}\n     * @private\n     */\n\n    this._componentsViews = [];\n    /**\n     * @type {Object.<string, module:echarts/view/Component>}\n     * @private\n     */\n\n    this._componentsMap = {};\n    /**\n     * @type {module:echarts/CoordinateSystem}\n     * @private\n     */\n\n    this._coordSysMgr = new CoordinateSystem();\n    /**\n     * @type {module:echarts/ExtensionAPI}\n     * @private\n     */\n\n    var api = this._api = createExtensionAPI(this); // Sort on demand\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    /**\n     * @type {module:echarts/stream/Scheduler}\n     */\n\n    this._scheduler = new Scheduler_1(this, api, dataProcessorFuncs, visualFuncs);\n    Eventful_1.call(this, this._ecEventProcessor = new EventProcessor());\n    /**\n     * @type {module:echarts~MessageCenter}\n     * @private\n     */\n\n    this._messageCenter = new MessageCenter(); // Init mouse events\n\n    this._initEvents(); // In case some people write `window.onresize = chart.resize`\n\n\n    this.resize = util.bind(this.resize, this); // Can't dispatch action during rendering procedure\n\n    this._pendingActions = [];\n    zr.animation.on('frame', this._onframe, this);\n    bindRenderedEvent(zr, this); // ECharts instance can be used as value.\n\n    util.setAsPrimitive(this);\n  }\n\n  var echartsProto = ECharts.prototype;\n\n  echartsProto._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    var scheduler = this._scheduler; // Lazy update\n\n    if (this[OPTION_UPDATED]) {\n      var silent = this[OPTION_UPDATED].silent;\n      this[IN_MAIN_PROCESS] = true;\n      prepare(this);\n      updateMethods.update.call(this);\n      this[IN_MAIN_PROCESS] = false;\n      this[OPTION_UPDATED] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n        // Stream progress.\n        var remainTime = TEST_FRAME_REMAIN_TIME;\n        var ecModel = this._model;\n        var api = this._api;\n        scheduler.unfinished = false;\n\n        do {\n          var startTime = +new Date();\n          scheduler.performSeriesTasks(ecModel); // Currently dataProcessorFuncs do not check threshold.\n\n          scheduler.performDataProcessorTasks(ecModel);\n          updateStreamModes(this, ecModel); // Do not update coordinate system here. Because that coord system update in\n          // each frame is not a good user experience. So we follow the rule that\n          // the extent of the coordinate system is determin in the first frame (the\n          // frame is executed immedietely after task reset.\n          // this._coordSysMgr.update(ecModel, api);\n          // console.log('--- ec frame visual ---', remainTime);\n\n          scheduler.performVisualTasks(ecModel);\n          renderSeries(this, this._model, api, 'remain');\n          remainTime -= +new Date() - startTime;\n        } while (remainTime > 0 && scheduler.unfinished); // Call flush explicitly for trigger finished event.\n\n\n        if (!scheduler.unfinished) {\n          this._zr.flush();\n        } // Else, zr flushing be ensue within the same frame,\n        // because zr flushing is after onframe event.\n\n      }\n  };\n  /**\n   * @return {HTMLElement}\n   */\n\n\n  echartsProto.getDom = function () {\n    return this._dom;\n  };\n  /**\n   * @return {module:zrender~ZRender}\n   */\n\n\n  echartsProto.getZr = function () {\n    return this._zr;\n  };\n  /**\n   * Usage:\n   * chart.setOption(option, notMerge, lazyUpdate);\n   * chart.setOption(option, {\n   *     notMerge: ...,\n   *     lazyUpdate: ...,\n   *     silent: ...\n   * });\n   *\n   * @param {Object} option\n   * @param {Object|boolean} [opts] opts or notMerge.\n   * @param {boolean} [opts.notMerge=false]\n   * @param {boolean} [opts.lazyUpdate=false] Useful when setOption frequently.\n   */\n\n\n  echartsProto.setOption = function (option, notMerge, lazyUpdate) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager_1(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new Global();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, theme, optionManager);\n    }\n\n    this._model.setOption(option, optionPreprocessorFuncs);\n\n    if (lazyUpdate) {\n      this[OPTION_UPDATED] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS] = false;\n    } else {\n      prepare(this);\n      updateMethods.update.call(this); // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n\n      this._zr.flush();\n\n      this[OPTION_UPDATED] = false;\n      this[IN_MAIN_PROCESS] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\n   * @DEPRECATED\n   */\n\n\n  echartsProto.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n  /**\n   * @return {module:echarts/model/Global}\n   */\n\n\n  echartsProto.getModel = function () {\n    return this._model;\n  };\n  /**\n   * @return {Object}\n   */\n\n\n  echartsProto.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getWidth = function () {\n    return this._zr.getWidth();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getHeight = function () {\n    return this._zr.getHeight();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n  };\n  /**\n   * Get canvas which has all thing rendered\n   * @param {Object} opts\n   * @param {string} [opts.backgroundColor]\n   * @return {string}\n   */\n\n\n  echartsProto.getRenderedCanvas = function (opts) {\n    if (!env_1.canvasSupported) {\n      return;\n    }\n\n    opts = opts || {};\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n    var zr = this._zr; // var list = zr.storage.getDisplayList();\n    // Stop animations\n    // Never works before in init animation, so remove it.\n    // zrUtil.each(list, function (el) {\n    //     el.stopAnimation(true);\n    // });\n\n    return zr.painter.getRenderedCanvas(opts);\n  };\n  /**\n   * Get svg data url\n   * @return {string}\n   */\n\n\n  echartsProto.getSvgDataURL = function () {\n    if (!env_1.svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList(); // Stop animations\n\n    util.each(list, function (el) {\n      el.stopAnimation(true);\n    });\n    return zr.painter.toDataURL();\n  };\n  /**\n   * @return {string}\n   * @param {Object} opts\n   * @param {string} [opts.type='png']\n   * @param {string} [opts.pixelRatio=1]\n   * @param {string} [opts.backgroundColor]\n   * @param {string} [opts.excludeComponents]\n   */\n\n\n  echartsProto.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n  /**\n   * @return {string}\n   * @param {Object} opts\n   * @param {string} [opts.type='png']\n   * @param {string} [opts.pixelRatio=1]\n   * @param {string} [opts.backgroundColor]\n   */\n\n\n  echartsProto.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!env_1.canvasSupported) {\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left = MAX_NUMBER;\n      var top = MAX_NUMBER;\n      var right = -MAX_NUMBER;\n      var bottom = -MAX_NUMBER;\n      var canvasList = [];\n      var dpr = opts && opts.pixelRatio || 1;\n      util.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(util.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left = mathMin(boundingRect.left, left);\n          top = mathMin(boundingRect.top, top);\n          right = mathMax(boundingRect.right, right);\n          bottom = mathMax(boundingRect.bottom, bottom);\n          canvasList.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left *= dpr;\n      top *= dpr;\n      right *= dpr;\n      bottom *= dpr;\n      var width = right - left;\n      var height = bottom - top;\n      var targetCanvas = util.createCanvas();\n      var zr = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content = '';\n        each(canvasList, function (item) {\n          var x = item.left - left;\n          var y = item.top - top;\n          content += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr.painter.getSvgRoot().innerHTML = content;\n\n        if (opts.connectedBackgroundColor) {\n          zr.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr.refreshImmediately();\n        return zr.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr - left,\n              y: item.top * dpr - top,\n              image: item.dom\n            }\n          });\n          zr.add(img);\n        });\n        zr.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n  /**\n   * Convert from logical coordinate system to pixel coordinate system.\n   * See CoordinateSystem#convertToPixel.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId, geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName,\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {Array|number} result\n   */\n\n\n  echartsProto.convertToPixel = util.curry(doConvertPixel, 'convertToPixel');\n  /**\n   * Convert from pixel coordinate system to logical coordinate system.\n   * See CoordinateSystem#convertFromPixel.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId / geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {Array|number} result\n   */\n\n  echartsProto.convertFromPixel = util.curry(doConvertPixel, 'convertFromPixel');\n\n  function doConvertPixel(methodName, finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n\n    var coordSysList = this._coordSysMgr.getCoordinateSystems();\n\n    var result;\n    finder = model.parseFinder(ecModel, finder);\n\n    for (var i = 0; i < coordSysList.length; i++) {\n      var coordSys = coordSysList[i];\n\n      if (coordSys[methodName] && (result = coordSys[methodName](ecModel, finder, value)) != null) {\n        return result;\n      }\n    }\n  }\n  /**\n   * Is the specified coordinate systems or components contain the given pixel point.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId / geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName,\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {boolean} result\n   */\n\n\n  echartsProto.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    finder = model.parseFinder(ecModel, finder);\n    util.each(finder, function (models, key) {\n      key.indexOf('Models') >= 0 && util.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result |= !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result |= view.containPoint(value, model);\n          }\n        } else ;\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\n   * Get visual from series or data.\n   * @param {string|Object} finder\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            dataIndex / dataIndexInside\n   *        }\n   *        If dataIndex is not specified, series visual will be fetched,\n   *        but not data item visual.\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\n   *        visual will be fetched from first series.\n   * @param {string} visualType 'color', 'symbol', 'symbolSize'\n   */\n\n\n  echartsProto.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    finder = model.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = finder.seriesModel;\n    var data = seriesModel.getData();\n    var dataIndexInside = finder.hasOwnProperty('dataIndexInside') ? finder.dataIndexInside : finder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(finder.dataIndex) : null;\n    return dataIndexInside != null ? data.getItemVisual(dataIndexInside, visualType) : data.getVisual(visualType);\n  };\n  /**\n   * Get view of corresponding component model\n   * @param  {module:echarts/model/Component} componentModel\n   * @return {module:echarts/view/Component}\n   */\n\n\n  echartsProto.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\n   * Get view of corresponding series model\n   * @param  {module:echarts/model/Series} seriesModel\n   * @return {module:echarts/view/Chart}\n   */\n\n\n  echartsProto.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  var updateMethods = {\n    prepareAndUpdate: function (payload) {\n      prepare(this);\n      updateMethods.update.call(this, payload);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    update: function (payload) {\n      // console.profile && console.profile('update');\n      var ecModel = this._model;\n      var api = this._api;\n      var zr = this._zr;\n      var coordSysMgr = this._coordSysMgr;\n      var scheduler = this._scheduler; // update before setOption\n\n      if (!ecModel) {\n        return;\n      }\n\n      scheduler.restoreData(ecModel, payload);\n      scheduler.performSeriesTasks(ecModel); // TODO\n      // Save total ecModel here for undo/redo (after restoring data and before processing data).\n      // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n      // Create new coordinate system each update\n      // In LineView may save the old coordinate system and use it to get the orignal point\n\n      coordSysMgr.create(ecModel, api);\n      scheduler.performDataProcessorTasks(ecModel, payload); // Current stream render is not supported in data process. So we can update\n      // stream modes after data processing, where the filtered data is used to\n      // deteming whether use progressive rendering.\n\n      updateStreamModes(this, ecModel); // We update stream modes before coordinate system updated, then the modes info\n      // can be fetched when coord sys updating (consider the barGrid extent fix). But\n      // the drawback is the full coord info can not be fetched. Fortunately this full\n      // coord is not requied in stream mode updater currently.\n\n      coordSysMgr.update(ecModel, api);\n      clearColorPalette(ecModel);\n      scheduler.performVisualTasks(ecModel, payload);\n      render(this, ecModel, api, payload); // Set background\n\n      var backgroundColor = ecModel.get('backgroundColor') || 'transparent'; // In IE8\n\n      if (!env_1.canvasSupported) {\n        var colorArr = color.parse(backgroundColor);\n        backgroundColor = color.stringify(colorArr, 'rgb');\n\n        if (colorArr[3] === 0) {\n          backgroundColor = 'transparent';\n        }\n      } else {\n        zr.setBackgroundColor(backgroundColor);\n      }\n\n      performPostUpdateFuncs(ecModel, api); // console.profile && console.profileEnd('update');\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateTransform: function (payload) {\n      var ecModel = this._model;\n      var ecIns = this;\n      var api = this._api; // update before setOption\n\n      if (!ecModel) {\n        return;\n      } // ChartView.markUpdateMethod(payload, 'updateTransform');\n\n\n      var componentDirtyList = [];\n      ecModel.eachComponent(function (componentType, componentModel) {\n        var componentView = ecIns.getViewOfComponentModel(componentModel);\n\n        if (componentView && componentView.__alive) {\n          if (componentView.updateTransform) {\n            var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n            result && result.update && componentDirtyList.push(componentView);\n          } else {\n            componentDirtyList.push(componentView);\n          }\n        }\n      });\n      var seriesDirtyMap = util.createHashMap();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n        if (chartView.updateTransform) {\n          var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n          result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n        } else {\n          seriesDirtyMap.set(seriesModel.uid, 1);\n        }\n      });\n      clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n\n      this._scheduler.performVisualTasks(ecModel, payload, {\n        setDirty: true,\n        dirtyMap: seriesDirtyMap\n      }); // Currently, not call render of components. Geo render cost a lot.\n      // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n\n\n      renderSeries(ecIns, ecModel, api, payload, seriesDirtyMap);\n      performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateView: function (payload) {\n      var ecModel = this._model; // update before setOption\n\n      if (!ecModel) {\n        return;\n      }\n\n      Chart_1.markUpdateMethod(payload, 'updateView');\n      clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n      this._scheduler.performVisualTasks(ecModel, payload, {\n        setDirty: true\n      });\n\n      render(this, this._model, this._api, payload);\n      performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateVisual: function (payload) {\n      updateMethods.update.call(this, payload); // var ecModel = this._model;\n      // // update before setOption\n      // if (!ecModel) {\n      //     return;\n      // }\n      // ChartView.markUpdateMethod(payload, 'updateVisual');\n      // clearColorPalette(ecModel);\n      // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // this._scheduler.performVisualTasks(ecModel, payload, {visualType: 'visual', setDirty: true});\n      // render(this, this._model, this._api, payload);\n      // performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateLayout: function (payload) {\n      updateMethods.update.call(this, payload); // var ecModel = this._model;\n      // // update before setOption\n      // if (!ecModel) {\n      //     return;\n      // }\n      // ChartView.markUpdateMethod(payload, 'updateLayout');\n      // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n      // this._scheduler.performVisualTasks(ecModel, payload, {setDirty: true});\n      // render(this, this._model, this._api, payload);\n      // performPostUpdateFuncs(ecModel, this._api);\n    }\n  };\n\n  function prepare(ecIns) {\n    var ecModel = ecIns._model;\n    var scheduler = ecIns._scheduler;\n    scheduler.restorePipelines(ecModel);\n    scheduler.prepareStageTasks();\n    prepareView(ecIns, 'component', ecModel, scheduler);\n    prepareView(ecIns, 'chart', ecModel, scheduler);\n    scheduler.plan();\n  }\n  /**\n   * @private\n   */\n\n\n  function updateDirectly(ecIns, method, payload, mainType, subType) {\n    var ecModel = ecIns._model; // broadcast\n\n    if (!mainType) {\n      // FIXME\n      // Chart will not be update directly here, except set dirty.\n      // But there is no such scenario now.\n      each(ecIns._componentsViews.concat(ecIns._chartsViews), callView);\n      return;\n    }\n\n    var query = {};\n    query[mainType + 'Id'] = payload[mainType + 'Id'];\n    query[mainType + 'Index'] = payload[mainType + 'Index'];\n    query[mainType + 'Name'] = payload[mainType + 'Name'];\n    var condition = {\n      mainType: mainType,\n      query: query\n    };\n    subType && (condition.subType = subType); // subType may be '' by parseClassType;\n\n    var excludeSeriesId = payload.excludeSeriesId;\n\n    if (excludeSeriesId != null) {\n      excludeSeriesId = util.createHashMap(model.normalizeToArray(excludeSeriesId));\n    } // If dispatchAction before setOption, do nothing.\n\n\n    ecModel && ecModel.eachComponent(condition, function (model) {\n      if (!excludeSeriesId || excludeSeriesId.get(model.id) == null) {\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n      }\n    }, ecIns);\n\n    function callView(view) {\n      view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n    }\n  }\n  /**\n   * Resize the chart\n   * @param {Object} opts\n   * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n   * @param {boolean} [opts.silent=false]\n   */\n\n\n  echartsProto.resize = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model; // Resize loading effect\n\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var optionChanged = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    this[IN_MAIN_PROCESS] = true;\n    optionChanged && prepare(this);\n    updateMethods.update.call(this);\n    this[IN_MAIN_PROCESS] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  function updateStreamModes(ecIns, ecModel) {\n    var chartsMap = ecIns._chartsMap;\n    var scheduler = ecIns._scheduler;\n    ecModel.eachSeries(function (seriesModel) {\n      scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n    });\n  }\n  /**\n   * Show loading effect\n   * @param  {string} [name='default']\n   * @param  {Object} [cfg]\n   */\n\n\n  echartsProto.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\n   * Hide loading effect\n   */\n\n\n  echartsProto.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n  /**\n   * @param {Object} eventObj\n   * @return {Object}\n   */\n\n\n  echartsProto.makeActionFromEvent = function (eventObj) {\n    var payload = util.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  /**\n   * @pubilc\n   * @param {Object} payload\n   * @param {string} [payload.type] Action type\n   * @param {Object|boolean} [opt] If pass boolean, means opt.silent\n   * @param {boolean} [opt.silent=false] Whether trigger events.\n   * @param {boolean} [opt.flush=undefined]\n   *                  true: Flush immediately, and then pixel in canvas can be fetched\n   *                      immediately. Caution: it might affect performance.\n   *                  false: Not flush.\n   *                  undefined: Auto decide whether perform flush.\n   */\n\n\n  echartsProto.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    } // Avoid dispatch action before setOption. Especially in `connect`.\n\n\n    if (!this._model) {\n      return;\n    } // May dispatchAction in rendering procedure\n\n\n    if (this[IN_MAIN_PROCESS]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    doDispatchAction.call(this, payload, opt.silent);\n\n    if (opt.flush) {\n      this._zr.flush(true);\n    } else if (opt.flush !== false && env_1.browser.weChat) {\n      // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh util user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, opt.silent);\n    triggerUpdatedEvent.call(this, opt.silent);\n  };\n\n  function doDispatchAction(payload, silent) {\n    var payloadType = payload.type;\n    var escapeConnect = payload.escapeConnect;\n    var actionWrap = actions[payloadType];\n    var actionInfo = actionWrap.actionInfo;\n    var cptType = (actionInfo.update || 'update').split(':');\n    var updateMethod = cptType.pop();\n    cptType = cptType[0] != null && parseClassType(cptType[0]);\n    this[IN_MAIN_PROCESS] = true;\n    var payloads = [payload];\n    var batched = false; // Batch action\n\n    if (payload.batch) {\n      batched = true;\n      payloads = util.map(payload.batch, function (item) {\n        item = util.defaults(util.extend({}, item), payload);\n        item.batch = null;\n        return item;\n      });\n    }\n\n    var eventObjBatch = [];\n    var eventObj;\n    var isHighDown = payloadType === 'highlight' || payloadType === 'downplay';\n    each(payloads, function (batchItem) {\n      // Action can specify the event by return it.\n      eventObj = actionWrap.action(batchItem, this._model, this._api); // Emit event outside\n\n      eventObj = eventObj || util.extend({}, batchItem); // Convert type to eventType\n\n      eventObj.type = actionInfo.event || eventObj.type;\n      eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\n\n      if (isHighDown) {\n        // method, payload, mainType, subType\n        updateDirectly(this, updateMethod, batchItem, 'series');\n      } else if (cptType) {\n        updateDirectly(this, updateMethod, batchItem, cptType.main, cptType.sub);\n      }\n    }, this);\n\n    if (updateMethod !== 'none' && !isHighDown && !cptType) {\n      // Still dirty\n      if (this[OPTION_UPDATED]) {\n        // FIXME Pass payload ?\n        prepare(this);\n        updateMethods.update.call(this, payload);\n        this[OPTION_UPDATED] = false;\n      } else {\n        updateMethods[updateMethod].call(this, payload);\n      }\n    } // Follow the rule of action batch\n\n\n    if (batched) {\n      eventObj = {\n        type: actionInfo.event || payloadType,\n        escapeConnect: escapeConnect,\n        batch: eventObjBatch\n      };\n    } else {\n      eventObj = eventObjBatch[0];\n    }\n\n    this[IN_MAIN_PROCESS] = false;\n    !silent && this._messageCenter.trigger(eventObj.type, eventObj);\n  }\n\n  function flushPendingActions(silent) {\n    var pendingActions = this._pendingActions;\n\n    while (pendingActions.length) {\n      var payload = pendingActions.shift();\n      doDispatchAction.call(this, payload, silent);\n    }\n  }\n\n  function triggerUpdatedEvent(silent) {\n    !silent && this.trigger('updated');\n  }\n  /**\n   * Event `rendered` is triggered when zr\n   * rendered. It is useful for realtime\n   * snapshot (reflect animation).\n   *\n   * Event `finished` is triggered when:\n   * (1) zrender rendering finished.\n   * (2) initial animation finished.\n   * (3) progressive rendering finished.\n   * (4) no pending action.\n   * (5) no delayed setOption needs to be processed.\n   */\n\n\n  function bindRenderedEvent(zr, ecIns) {\n    zr.on('rendered', function () {\n      ecIns.trigger('rendered'); // The `finished` event should not be triggered repeatly,\n      // so it should only be triggered when rendering indeed happend\n      // in zrender. (Consider the case that dipatchAction is keep\n      // triggering when mouse move).\n\n      if ( // Although zr is dirty if initial animation is not finished\n      // and this checking is called on frame, we also check\n      // animation finished for robustness.\n      zr.animation.isFinished() && !ecIns[OPTION_UPDATED] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n        ecIns.trigger('finished');\n      }\n    });\n  }\n  /**\n   * @param {Object} params\n   * @param {number} params.seriesIndex\n   * @param {Array|TypedArray} params.data\n   */\n\n\n  echartsProto.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    seriesModel.appendData(params); // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n\n    this._scheduler.unfinished = true;\n  };\n  /**\n   * Register event\n   * @method\n   */\n\n\n  echartsProto.on = createRegisterEventWithLowercaseName('on', false);\n  echartsProto.off = createRegisterEventWithLowercaseName('off', false);\n  echartsProto.one = createRegisterEventWithLowercaseName('one', false);\n  /**\n   * Prepare view instances of charts and components\n   * @param  {module:echarts/model/Global} ecModel\n   * @private\n   */\n\n  function prepareView(ecIns, type, ecModel, scheduler) {\n    var isComponent = type === 'component';\n    var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n    var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n    var zr = ecIns._zr;\n    var api = ecIns._api;\n\n    for (var i = 0; i < viewList.length; i++) {\n      viewList[i].__alive = false;\n    }\n\n    isComponent ? ecModel.eachComponent(function (componentType, model) {\n      componentType !== 'series' && doPrepare(model);\n    }) : ecModel.eachSeries(doPrepare);\n\n    function doPrepare(model) {\n      // Consider: id same and type changed.\n      var viewId = '_ec_' + model.id + '_' + model.type;\n      var view = viewMap[viewId];\n\n      if (!view) {\n        var classType = parseClassType(model.type);\n        var Clazz = isComponent ? Component_1.getClass(classType.main, classType.sub) : Chart_1.getClass(classType.sub);\n        view = new Clazz();\n        view.init(ecModel, api);\n        viewMap[viewId] = view;\n        viewList.push(view);\n        zr.add(view.group);\n      }\n\n      model.__viewId = view.__id = viewId;\n      view.__alive = true;\n      view.__model = model;\n      view.group.__ecComponentInfo = {\n        mainType: model.mainType,\n        index: model.componentIndex\n      };\n      !isComponent && scheduler.prepareView(view, model, ecModel, api);\n    }\n\n    for (var i = 0; i < viewList.length;) {\n      var view = viewList[i];\n\n      if (!view.__alive) {\n        !isComponent && view.renderTask.dispose();\n        zr.remove(view.group);\n        view.dispose(ecModel, api);\n        viewList.splice(i, 1);\n        delete viewMap[view.__id];\n        view.__id = view.group.__ecComponentInfo = null;\n      } else {\n        i++;\n      }\n    }\n  } // /**\n  //  * Encode visual infomation from data after data processing\n  //  *\n  //  * @param {module:echarts/model/Global} ecModel\n  //  * @param {object} layout\n  //  * @param {boolean} [layoutFilter] `true`: only layout,\n  //  *                                 `false`: only not layout,\n  //  *                                 `null`/`undefined`: all.\n  //  * @param {string} taskBaseTag\n  //  * @private\n  //  */\n  // function startVisualEncoding(ecIns, ecModel, api, payload, layoutFilter) {\n  //     each(visualFuncs, function (visual, index) {\n  //         var isLayout = visual.isLayout;\n  //         if (layoutFilter == null\n  //             || (layoutFilter === false && !isLayout)\n  //             || (layoutFilter === true && isLayout)\n  //         ) {\n  //             visual.func(ecModel, api, payload);\n  //         }\n  //     });\n  // }\n\n\n  function clearColorPalette(ecModel) {\n    ecModel.clearColorPalette();\n    ecModel.eachSeries(function (seriesModel) {\n      seriesModel.clearColorPalette();\n    });\n  }\n\n  function render(ecIns, ecModel, api, payload) {\n    renderComponents(ecIns, ecModel, api, payload);\n    each(ecIns._chartsViews, function (chart) {\n      chart.__alive = false;\n    });\n    renderSeries(ecIns, ecModel, api, payload); // Remove groups of unrendered charts\n\n    each(ecIns._chartsViews, function (chart) {\n      if (!chart.__alive) {\n        chart.remove(ecModel, api);\n      }\n    });\n  }\n\n  function renderComponents(ecIns, ecModel, api, payload, dirtyList) {\n    each(dirtyList || ecIns._componentsViews, function (componentView) {\n      var componentModel = componentView.__model;\n      componentView.render(componentModel, ecModel, api, payload);\n      updateZ(componentModel, componentView);\n    });\n  }\n  /**\n   * Render each chart and component\n   * @private\n   */\n\n\n  function renderSeries(ecIns, ecModel, api, payload, dirtyMap) {\n    // Render all charts\n    var scheduler = ecIns._scheduler;\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      var chartView = ecIns._chartsMap[seriesModel.__viewId];\n      chartView.__alive = true;\n      var renderTask = chartView.renderTask;\n      scheduler.updatePayload(renderTask, payload);\n\n      if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n        renderTask.dirty();\n      }\n\n      unfinished |= renderTask.perform(scheduler.getPerformArgs(renderTask));\n      chartView.group.silent = !!seriesModel.get('silent');\n      updateZ(seriesModel, chartView);\n      updateBlend(seriesModel, chartView);\n    });\n    scheduler.unfinished |= unfinished; // If use hover layer\n\n    updateHoverLayerStatus(ecIns, ecModel); // Add aria\n\n    aria(ecIns._zr.dom, ecModel);\n  }\n\n  function performPostUpdateFuncs(ecModel, api) {\n    each(postUpdateFuncs, function (func) {\n      func(ecModel, api);\n    });\n  }\n\n  var MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n  /**\n   * @private\n   */\n\n  echartsProto._initEvents = function () {\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = this.getModel();\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout'; // no e.target when 'globalout'.\n\n        if (isGlobalOut) {\n          params = {};\n        } else if (el && el.dataIndex != null) {\n          var dataModel = el.dataModel || ecModel.getSeriesByIndex(el.seriesIndex);\n          params = dataModel && dataModel.getDataParams(el.dataIndex, el.dataType, el) || {};\n        } // If element has custom eventData of components\n        else if (el && el.eventData) {\n            params = util.extend({}, el.eventData);\n          } // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex; // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n          params.event = e;\n          params.type = eveName;\n          this._ecEventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n          this.trigger(eveName, params);\n        }\n      }; // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n\n\n      handler.zrEventfulCallAtLast = true;\n\n      this._zr.on(eveName, handler, this);\n    }, this);\n    each(eventActionMap, function (actionType, eventType) {\n      this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, this);\n    }, this);\n  };\n  /**\n   * @return {boolean}\n   */\n\n\n  echartsProto.isDisposed = function () {\n    return this._disposed;\n  };\n  /**\n   * Clear\n   */\n\n\n  echartsProto.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n  /**\n   * Dispose instance\n   */\n\n\n  echartsProto.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    model.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    }); // Dispose after all views disposed\n\n    this._zr.dispose();\n\n    delete instances[this.id];\n  };\n\n  util.mixin(ECharts, Eventful_1);\n\n  function disposedWarning(id) {}\n\n  function updateHoverLayerStatus(ecIns, ecModel) {\n    var zr = ecIns._zr;\n    var storage = zr.storage;\n    var elCount = 0;\n    storage.traverse(function (el) {\n      elCount++;\n    });\n\n    if (elCount > ecModel.get('hoverLayerThreshold') && !env_1.node) {\n      ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.preventUsingHoverLayer) {\n          return;\n        }\n\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n        if (chartView.__alive) {\n          chartView.group.traverse(function (el) {\n            // Don't switch back.\n            el.useHoverLayer = true;\n          });\n        }\n      });\n    }\n  }\n  /**\n   * Update chart progressive and blend.\n   * @param {module:echarts/model/Series|module:echarts/model/Component} model\n   * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n   */\n\n\n  function updateBlend(seriesModel, chartView) {\n    var blendMode = seriesModel.get('blendMode') || null;\n    chartView.group.traverse(function (el) {\n      // FIXME marker and other components\n      if (!el.isGroup) {\n        // Only set if blendMode is changed. In case element is incremental and don't wan't to rerender.\n        if (el.style.blend !== blendMode) {\n          el.setStyle('blend', blendMode);\n        }\n      }\n\n      if (el.eachPendingDisplayable) {\n        el.eachPendingDisplayable(function (displayable) {\n          displayable.setStyle('blend', blendMode);\n        });\n      }\n    });\n  }\n  /**\n   * @param {module:echarts/model/Series|module:echarts/model/Component} model\n   * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n   */\n\n\n  function updateZ(model, view) {\n    var z = model.get('z');\n    var zlevel = model.get('zlevel'); // Set z and zlevel\n\n    view.group.traverse(function (el) {\n      if (el.type !== 'group') {\n        z != null && (el.z = z);\n        zlevel != null && (el.zlevel = zlevel);\n      }\n    });\n  }\n\n  function createExtensionAPI(ecInstance) {\n    var coordSysMgr = ecInstance._coordSysMgr;\n    return util.extend(new ExtensionAPI_1(ecInstance), {\n      // Inject methods\n      getCoordinateSystems: util.bind(coordSysMgr.getCoordinateSystems, coordSysMgr),\n      getComponentByElement: function (el) {\n        while (el) {\n          var modelInfo = el.__ecComponentInfo;\n\n          if (modelInfo != null) {\n            return ecInstance._model.getComponent(modelInfo.mainType, modelInfo.index);\n          }\n\n          el = el.parent;\n        }\n      }\n    });\n  }\n  /**\n   * @class\n   * Usage of query:\n   * `chart.on('click', query, handler);`\n   * The `query` can be:\n   * + The component type query string, only `mainType` or `mainType.subType`,\n   *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n   * + The component query object, like:\n   *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n   *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n   * + The data query object, like:\n   *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n   * + The other query object (cmponent customized query), like:\n   *   `{element: 'some'}` (only available in custom series).\n   *\n   * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n   * same as there is no such prop in the `query` object.\n   */\n\n\n  function EventProcessor() {\n    // These info required: targetEl, packedEvent, model, view\n    this.eventInfo;\n  }\n\n  EventProcessor.prototype = {\n    constructor: EventProcessor,\n    normalizeQuery: function (query) {\n      var cptQuery = {};\n      var dataQuery = {};\n      var otherQuery = {}; // `query` is `mainType` or `mainType.subType` of component.\n\n      if (util.isString(query)) {\n        var condCptType = parseClassType(query); // `.main` and `.sub` may be ''.\n\n        cptQuery.mainType = condCptType.main || null;\n        cptQuery.subType = condCptType.sub || null;\n      } // `query` is an object, convert to {mainType, index, name, id}.\n      else {\n          // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n          // can not be used in `compomentModel.filterForExposedEvent`.\n          var suffixes = ['Index', 'Name', 'Id'];\n          var dataKeys = {\n            name: 1,\n            dataIndex: 1,\n            dataType: 1\n          };\n          util.each(query, function (val, key) {\n            var reserved = false;\n\n            for (var i = 0; i < suffixes.length; i++) {\n              var propSuffix = suffixes[i];\n              var suffixPos = key.lastIndexOf(propSuffix);\n\n              if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n                var mainType = key.slice(0, suffixPos); // Consider `dataIndex`.\n\n                if (mainType !== 'data') {\n                  cptQuery.mainType = mainType;\n                  cptQuery[propSuffix.toLowerCase()] = val;\n                  reserved = true;\n                }\n              }\n            }\n\n            if (dataKeys.hasOwnProperty(key)) {\n              dataQuery[key] = val;\n              reserved = true;\n            }\n\n            if (!reserved) {\n              otherQuery[key] = val;\n            }\n          });\n        }\n\n      return {\n        cptQuery: cptQuery,\n        dataQuery: dataQuery,\n        otherQuery: otherQuery\n      };\n    },\n    filter: function (eventType, query, args) {\n      // They should be assigned before each trigger call.\n      var eventInfo = this.eventInfo;\n\n      if (!eventInfo) {\n        return true;\n      }\n\n      var targetEl = eventInfo.targetEl;\n      var packedEvent = eventInfo.packedEvent;\n      var model = eventInfo.model;\n      var view = eventInfo.view; // For event like 'globalout'.\n\n      if (!model || !view) {\n        return true;\n      }\n\n      var cptQuery = query.cptQuery;\n      var dataQuery = query.dataQuery;\n      return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n\n      function check(query, host, prop, propOnHost) {\n        return query[prop] == null || host[propOnHost || prop] === query[prop];\n      }\n    },\n    afterTrigger: function () {\n      // Make sure the eventInfo wont be used in next trigger.\n      this.eventInfo = null;\n    }\n  };\n  /**\n   * @type {Object} key: actionType.\n   * @inner\n   */\n\n  var actions = {};\n  /**\n   * Map eventType to actionType\n   * @type {Object}\n   */\n\n  var eventActionMap = {};\n  /**\n   * Data processor functions of each stage\n   * @type {Array.<Object.<string, Function>>}\n   * @inner\n   */\n\n  var dataProcessorFuncs = [];\n  /**\n   * @type {Array.<Function>}\n   * @inner\n   */\n\n  var optionPreprocessorFuncs = [];\n  /**\n   * @type {Array.<Function>}\n   * @inner\n   */\n\n  var postUpdateFuncs = [];\n  /**\n   * Visual encoding functions of each stage\n   * @type {Array.<Object.<string, Function>>}\n   */\n\n  var visualFuncs = [];\n  /**\n   * Theme storage\n   * @type {Object.<key, Object>}\n   */\n\n  var themeStorage = {};\n  /**\n   * Loading effects\n   */\n\n  var loadingEffects = {};\n  var instances = {};\n  var connectedGroups = {};\n  var idBase = new Date() - 0;\n  var groupIdBase = new Date() - 0;\n  var DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\n  function enableConnect(chart) {\n    var STATUS_PENDING = 0;\n    var STATUS_UPDATING = 1;\n    var STATUS_UPDATED = 2;\n    var STATUS_KEY = '__connectUpdateStatus';\n\n    function updateConnectedChartsStatus(charts, status) {\n      for (var i = 0; i < charts.length; i++) {\n        var otherChart = charts[i];\n        otherChart[STATUS_KEY] = status;\n      }\n    }\n\n    each(eventActionMap, function (actionType, eventType) {\n      chart._messageCenter.on(eventType, function (event) {\n        if (connectedGroups[chart.group] && chart[STATUS_KEY] !== STATUS_PENDING) {\n          if (event && event.escapeConnect) {\n            return;\n          }\n\n          var action = chart.makeActionFromEvent(event);\n          var otherCharts = [];\n          each(instances, function (otherChart) {\n            if (otherChart !== chart && otherChart.group === chart.group) {\n              otherCharts.push(otherChart);\n            }\n          });\n          updateConnectedChartsStatus(otherCharts, STATUS_PENDING);\n          each(otherCharts, function (otherChart) {\n            if (otherChart[STATUS_KEY] !== STATUS_UPDATING) {\n              otherChart.dispatchAction(action);\n            }\n          });\n          updateConnectedChartsStatus(otherCharts, STATUS_UPDATED);\n        }\n      });\n    });\n  }\n  /**\n   * @param {HTMLElement} dom\n   * @param {Object} [theme]\n   * @param {Object} opts\n   * @param {number} [opts.devicePixelRatio] Use window.devicePixelRatio by default\n   * @param {string} [opts.renderer] Can choose 'canvas' or 'svg' to render the chart.\n   * @param {number} [opts.width] Use clientWidth of the input `dom` by default.\n   *                              Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Use clientHeight of the input `dom` by default.\n   *                               Can be 'auto' (the same as null/undefined)\n   */\n\n\n  function init(dom, theme, opts) {\n    var existInstance = getInstanceByDom(dom);\n\n    if (existInstance) {\n      return existInstance;\n    }\n\n    var chart = new ECharts(dom, theme, opts);\n    chart.id = 'ec_' + idBase++;\n    instances[chart.id] = chart;\n    model.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n    enableConnect(chart);\n    return chart;\n  }\n  /**\n   * @return {string|Array.<module:echarts~ECharts>} groupId\n   */\n\n\n  function connect(groupId) {\n    // Is array of charts\n    if (util.isArray(groupId)) {\n      var charts = groupId;\n      groupId = null; // If any chart has group\n\n      each(charts, function (chart) {\n        if (chart.group != null) {\n          groupId = chart.group;\n        }\n      });\n      groupId = groupId || 'g_' + groupIdBase++;\n      each(charts, function (chart) {\n        chart.group = groupId;\n      });\n    }\n\n    connectedGroups[groupId] = true;\n    return groupId;\n  }\n  /**\n   * @DEPRECATED\n   * @return {string} groupId\n   */\n\n\n  function disConnect(groupId) {\n    connectedGroups[groupId] = false;\n  }\n  /**\n   * @return {string} groupId\n   */\n\n\n  var disconnect = disConnect;\n  /**\n   * Dispose a chart instance\n   * @param  {module:echarts~ECharts|HTMLDomElement|string} chart\n   */\n\n  function dispose(chart) {\n    if (typeof chart === 'string') {\n      chart = instances[chart];\n    } else if (!(chart instanceof ECharts)) {\n      // Try to treat as dom\n      chart = getInstanceByDom(chart);\n    }\n\n    if (chart instanceof ECharts && !chart.isDisposed()) {\n      chart.dispose();\n    }\n  }\n  /**\n   * @param  {HTMLElement} dom\n   * @return {echarts~ECharts}\n   */\n\n\n  function getInstanceByDom(dom) {\n    return instances[model.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n  }\n  /**\n   * @param {string} key\n   * @return {echarts~ECharts}\n   */\n\n\n  function getInstanceById(key) {\n    return instances[key];\n  }\n  /**\n   * Register theme\n   */\n\n\n  function registerTheme(name, theme) {\n    themeStorage[name] = theme;\n  }\n  /**\n   * Register option preprocessor\n   * @param {Function} preprocessorFunc\n   */\n\n\n  function registerPreprocessor(preprocessorFunc) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n  /**\n   * @param {number} [priority=1000]\n   * @param {Object|Function} processor\n   */\n\n\n  function registerProcessor(priority, processor) {\n    normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_FILTER);\n  }\n  /**\n   * Register postUpdater\n   * @param {Function} postUpdateFunc\n   */\n\n\n  function registerPostUpdate(postUpdateFunc) {\n    postUpdateFuncs.push(postUpdateFunc);\n  }\n  /**\n   * Usage:\n   * registerAction('someAction', 'someEvent', function () { ... });\n   * registerAction('someAction', function () { ... });\n   * registerAction(\n   *     {type: 'someAction', event: 'someEvent', update: 'updateView'},\n   *     function () { ... }\n   * );\n   *\n   * @param {(string|Object)} actionInfo\n   * @param {string} actionInfo.type\n   * @param {string} [actionInfo.event]\n   * @param {string} [actionInfo.update]\n   * @param {string} [eventName]\n   * @param {Function} action\n   */\n\n\n  function registerAction(actionInfo, eventName, action) {\n    if (typeof eventName === 'function') {\n      action = eventName;\n      eventName = '';\n    }\n\n    var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n      event: eventName\n    }][0]; // Event name is all lowercase\n\n    actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n    eventName = actionInfo.event; // Validate action type and event name.\n\n    assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n    if (!actions[actionType]) {\n      actions[actionType] = {\n        action: action,\n        actionInfo: actionInfo\n      };\n    }\n\n    eventActionMap[eventName] = actionType;\n  }\n  /**\n   * @param {string} type\n   * @param {*} CoordinateSystem\n   */\n\n\n  function registerCoordinateSystem(type, CoordinateSystem$1) {\n    CoordinateSystem.register(type, CoordinateSystem$1);\n  }\n  /**\n   * Get dimensions of specified coordinate system.\n   * @param {string} type\n   * @return {Array.<string|Object>}\n   */\n\n\n  function getCoordinateSystemDimensions(type) {\n    var coordSysCreator = CoordinateSystem.get(type);\n\n    if (coordSysCreator) {\n      return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n    }\n  }\n  /**\n   * Layout is a special stage of visual encoding\n   * Most visual encoding like color are common for different chart\n   * But each chart has it's own layout algorithm\n   *\n   * @param {number} [priority=1000]\n   * @param {Function} layoutTask\n   */\n\n\n  function registerLayout(priority, layoutTask) {\n    normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n  }\n  /**\n   * @param {number} [priority=3000]\n   * @param {module:echarts/stream/Task} visualTask\n   */\n\n\n  function registerVisual(priority, visualTask) {\n    normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n  }\n  /**\n   * @param {Object|Function} fn: {seriesType, createOnAllSeries, performRawSeries, reset}\n   */\n\n\n  function normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n    if (isFunction(priority) || isObject(priority)) {\n      fn = priority;\n      priority = defaultPriority;\n    }\n\n    var stageHandler = Scheduler_1.wrapStageHandler(fn, visualType);\n    stageHandler.__prio = priority;\n    stageHandler.__raw = fn;\n    targetList.push(stageHandler);\n    return stageHandler;\n  }\n  /**\n   * @param {string} name\n   */\n\n\n  function registerLoading(name, loadingFx) {\n    loadingEffects[name] = loadingFx;\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendComponentModel(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ComponentModel;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return Component.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendComponentView(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ComponentView;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentView.getClass(classType.main, classType.sub, true);\n    // }\n    return Component_1.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendSeriesModel(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = SeriesModel;\n    // if (superClass) {\n    //     superClass = 'series.' + superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return Series.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendChartView(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ChartView;\n    // if (superClass) {\n    //     superClass = superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ChartView.getClass(classType.main, true);\n    // }\n    return Chart_1.extend(opts);\n  }\n  /**\n   * ZRender need a canvas context to do measureText.\n   * But in node environment canvas may be created by node-canvas.\n   * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n   *\n   * Be careful of using it in the browser.\n   *\n   * @param {Function} creator\n   * @example\n   *     var Canvas = require('canvas');\n   *     var echarts = require('echarts');\n   *     echarts.setCanvasCreator(function () {\n   *         // Small size is enough.\n   *         return new Canvas(32, 32);\n   *     });\n   */\n\n\n  function setCanvasCreator(creator) {\n    util.$override('createCanvas', creator);\n  }\n  /**\n   * @param {string} mapName\n   * @param {Array.<Object>|Object|string} geoJson\n   * @param {Object} [specialAreas]\n   *\n   * @example GeoJSON\n   *     $.get('USA.json', function (geoJson) {\n   *         echarts.registerMap('USA', geoJson);\n   *         // Or\n   *         echarts.registerMap('USA', {\n   *             geoJson: geoJson,\n   *             specialAreas: {}\n   *         })\n   *     });\n   *\n   *     $.get('airport.svg', function (svg) {\n   *         echarts.registerMap('airport', {\n   *             svg: svg\n   *         }\n   *     });\n   *\n   *     echarts.registerMap('eu', [\n   *         {svg: eu-topographic.svg},\n   *         {geoJSON: eu.json}\n   *     ])\n   */\n\n\n  function registerMap(mapName, geoJson, specialAreas) {\n    mapDataStorage.registerMap(mapName, geoJson, specialAreas);\n  }\n  /**\n   * @param {string} mapName\n   * @return {Object}\n   */\n\n\n  function getMap(mapName) {\n    // For backward compatibility, only return the first one.\n    var records = mapDataStorage.retrieveMap(mapName);\n    return records && records[0] && {\n      geoJson: records[0].geoJSON,\n      specialAreas: records[0].specialAreas\n    };\n  }\n\n  registerVisual(PRIORITY_VISUAL_GLOBAL, seriesColor);\n  registerPreprocessor(backwardCompat);\n  registerProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\n  registerLoading('default', _default_1); // Default actions\n\n  registerAction({\n    type: 'highlight',\n    event: 'highlight',\n    update: 'highlight'\n  }, util.noop);\n  registerAction({\n    type: 'downplay',\n    event: 'downplay',\n    update: 'downplay'\n  }, util.noop); // Default theme\n\n  registerTheme('light', light);\n  registerTheme('dark', dark); // For backward compatibility, where the namespace `dataTool` will\n  // be mounted on `echarts` is the extension `dataTool` is imported.\n\n  var dataTool = {};\n  exports.version = version;\n  exports.dependencies = dependencies;\n  exports.PRIORITY = PRIORITY;\n  exports.init = init;\n  exports.connect = connect;\n  exports.disConnect = disConnect;\n  exports.disconnect = disconnect;\n  exports.dispose = dispose;\n  exports.getInstanceByDom = getInstanceByDom;\n  exports.getInstanceById = getInstanceById;\n  exports.registerTheme = registerTheme;\n  exports.registerPreprocessor = registerPreprocessor;\n  exports.registerProcessor = registerProcessor;\n  exports.registerPostUpdate = registerPostUpdate;\n  exports.registerAction = registerAction;\n  exports.registerCoordinateSystem = registerCoordinateSystem;\n  exports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\n  exports.registerLayout = registerLayout;\n  exports.registerVisual = registerVisual;\n  exports.registerLoading = registerLoading;\n  exports.extendComponentModel = extendComponentModel;\n  exports.extendComponentView = extendComponentView;\n  exports.extendSeriesModel = extendSeriesModel;\n  exports.extendChartView = extendChartView;\n  exports.setCanvasCreator = setCanvasCreator;\n  exports.registerMap = registerMap;\n  exports.getMap = getMap;\n  exports.dataTool = dataTool;\n\n  (function () {\n      for (var key in _export$1) {\n          if (_export$1.hasOwnProperty(key)) {\n              exports[key] = _export$1[key];\n          }\n      }\n  })();\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$1w = Series.extend({\n    type: 'series.line',\n    dependencies: ['grid', 'polar'],\n    getInitialData: function (option, ecModel) {\n      return createListFromArray_1(this.getSource(), this, {\n        useEncodeDefaulter: true\n      });\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      coordinateSystem: 'cartesian2d',\n      legendHoverLink: true,\n      hoverAnimation: true,\n      // stack: null\n      // xAxisIndex: 0,\n      // yAxisIndex: 0,\n      // polarIndex: 0,\n      // If clip the overflow value\n      clip: true,\n      // cursor: null,\n      label: {\n        position: 'top'\n      },\n      // itemStyle: {\n      // },\n      lineStyle: {\n        width: 2,\n        type: 'solid'\n      },\n      // areaStyle: {\n      // origin of areaStyle. Valid values:\n      // `'auto'/null/undefined`: from axisLine to data\n      // `'start'`: from min to data\n      // `'end'`: from data to max\n      // origin: 'auto'\n      // },\n      // false, 'start', 'end', 'middle'\n      step: false,\n      // Disabled if step is true\n      smooth: false,\n      smoothMonotone: null,\n      symbol: 'emptyCircle',\n      symbolSize: 4,\n      symbolRotate: null,\n      showSymbol: true,\n      // `false`: follow the label interval strategy.\n      // `true`: show all symbols.\n      // `'auto'`: If possible, show all symbols, otherwise\n      //           follow the label interval strategy.\n      showAllSymbol: 'auto',\n      // Whether to connect break point.\n      connectNulls: false,\n      // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n      sampling: 'none',\n      animationEasing: 'linear',\n      // Disable progressive\n      progressive: 0,\n      hoverLayerThreshold: Infinity\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieveRawValue$4 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @return {string} label string. Not null/undefined\n   */\n  function getDefaultLabel(data, dataIndex) {\n    var labelDims = data.mapDimension('defaultedLabel', true);\n    var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n    if (len === 1) {\n      return retrieveRawValue$4(data, dataIndex, labelDims[0]);\n    } else if (len) {\n      var vals = [];\n\n      for (var i = 0; i < labelDims.length; i++) {\n        var val = retrieveRawValue$4(data, dataIndex, labelDims[i]);\n        vals.push(val);\n      }\n\n      return vals.join(' ');\n    }\n  }\n\n  var getDefaultLabel_1 = getDefaultLabel;\n\n  var labelHelper = {\n  \tgetDefaultLabel: getDefaultLabel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var createSymbol$2 = symbol.createSymbol;\n\n\n\n\n\n  var parsePercent$4 = number.parsePercent;\n\n\n\n  var getDefaultLabel$1 = labelHelper.getDefaultLabel;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/Symbol\n   */\n\n  /**\n   * @constructor\n   * @alias {module:echarts/chart/helper/Symbol}\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @extends {module:zrender/graphic/Group}\n   */\n  function SymbolClz$1(data, idx, seriesScope) {\n    graphic.Group.call(this);\n    this.updateData(data, idx, seriesScope);\n  }\n\n  var symbolProto = SymbolClz$1.prototype;\n  /**\n   * @public\n   * @static\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @return {Array.<number>} [width, height]\n   */\n\n  var getSymbolSize = SymbolClz$1.getSymbolSize = function (data, idx) {\n    var symbolSize = data.getItemVisual(idx, 'symbolSize');\n    return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  };\n\n  function getScale(symbolSize) {\n    return [symbolSize[0] / 2, symbolSize[1] / 2];\n  }\n\n  function driftSymbol(dx, dy) {\n    this.parent.drift(dx, dy);\n  }\n\n  symbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll();\n    var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n\n    var symbolPath = createSymbol$2(symbolType, -1, -1, 2, 2, color, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scale: getScale(symbolSize)\n    }); // Rewrite drift method\n\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n\n\n  symbolProto.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(toLastFrame);\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n\n\n  symbolProto.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Get scale(aka, current symbol size).\n   * Including the change caused by animation\n   */\n\n\n  symbolProto.getScale = function () {\n    return this.childAt(0).scale;\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  symbolProto.highlight = function () {\n    this.childAt(0).trigger('emphasis');\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  symbolProto.downplay = function () {\n    this.childAt(0).trigger('normal');\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n\n\n  symbolProto.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n\n  symbolProto.setDraggable = function (draggable) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @param {Object} [seriesScope]\n   * @param {Object} [seriesScope.itemStyle]\n   * @param {Object} [seriesScope.hoverItemStyle]\n   * @param {Object} [seriesScope.symbolRotate]\n   * @param {Object} [seriesScope.symbolOffset]\n   * @param {module:echarts/model/Model} [seriesScope.labelModel]\n   * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n   * @param {boolean} [seriesScope.hoverAnimation]\n   * @param {Object} [seriesScope.cursorStyle]\n   * @param {module:echarts/model/Model} [seriesScope.itemModel]\n   * @param {string} [seriesScope.symbolInnerColor]\n   * @param {Object} [seriesScope.fadeIn=false]\n   */\n\n\n  symbolProto.updateData = function (data, idx, seriesScope) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      graphic.updateProps(symbolPath, {\n        scale: getScale(symbolSize)\n      }, seriesModel, idx);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope);\n\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n      var fadeIn = seriesScope && seriesScope.fadeIn;\n      var target = {\n        scale: symbolPath.scale.slice()\n      };\n      fadeIn && (target.style = {\n        opacity: symbolPath.style.opacity\n      });\n      symbolPath.scale = [0, 0];\n      fadeIn && (symbolPath.style.opacity = 0);\n      graphic.initProps(symbolPath, target, seriesModel, idx);\n    }\n\n    this._seriesModel = seriesModel;\n  }; // Update common properties\n\n\n  var normalStyleAccessPath = ['itemStyle'];\n  var emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\n  var normalLabelAccessPath = ['label'];\n  var emphasisLabelAccessPath = ['emphasis', 'label'];\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @param {Array.<number>} symbolSize\n   * @param {Object} [seriesScope]\n   */\n\n  symbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var color = data.getItemVisual(idx, 'color'); // Reset style\n\n    if (symbolPath.type !== 'image') {\n      symbolPath.useStyle({\n        strokeNoScale: true\n      });\n    } else {\n      symbolPath.setStyle({\n        opacity: 1,\n        shadowBlur: null,\n        shadowOffsetX: null,\n        shadowOffsetY: null,\n        shadowColor: null\n      });\n    }\n\n    var itemStyle = seriesScope && seriesScope.itemStyle;\n    var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n    var symbolOffset = seriesScope && seriesScope.symbolOffset;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n    var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n    var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n      // Because symbol provide setColor individually to set fill and stroke\n\n      itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n      hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n      symbolOffset = itemModel.getShallow('symbolOffset');\n      labelModel = itemModel.getModel(normalLabelAccessPath);\n      hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n      hoverAnimation = itemModel.getShallow('hoverAnimation');\n      cursorStyle = itemModel.getShallow('cursor');\n    } else {\n      hoverItemStyle = util.extend({}, hoverItemStyle);\n    }\n\n    var elStyle = symbolPath.style;\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n    if (symbolOffset) {\n      symbolPath.attr('position', [parsePercent$4(symbolOffset[0], symbolSize[0]), parsePercent$4(symbolOffset[1], symbolSize[1])]);\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n    symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n    symbolPath.setStyle(itemStyle);\n    var opacity = data.getItemVisual(idx, 'opacity');\n\n    if (opacity != null) {\n      elStyle.opacity = opacity;\n    }\n\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = symbolPath.__z2Origin;\n\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        symbolPath.__z2Origin = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      symbolPath.__z2Origin = null;\n    }\n\n    var useNameLabel = seriesScope && seriesScope.useNameLabel;\n    graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      isRectText: true,\n      autoColor: color\n    }); // Do not execute util needed.\n\n    function getLabelDefaultText(idx, opt) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel$1(data, idx);\n    }\n\n    symbolPath.__symbolOriginalScale = getScale(symbolSize);\n    symbolPath.hoverStyle = hoverItemStyle;\n    symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n    graphic.setHoverStyle(symbolPath);\n  };\n\n  function highDownOnUpdate(fromState, toState) {\n    // Do not support this hover animation util some scenario required.\n    // Animation can only be supported in hover layer when using `el.incremetal`.\n    if (this.incremental || this.useHoverLayer) {\n      return;\n    }\n\n    if (toState === 'emphasis') {\n      var scale = this.__symbolOriginalScale;\n      var ratio = scale[1] / scale[0];\n      var emphasisOpt = {\n        scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n      }; // FIXME\n      // modify it after support stop specified animation.\n      // toState === fromState\n      //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n      this.animateTo(emphasisOpt, 400, 'elasticOut');\n    } else if (toState === 'normal') {\n      this.animateTo({\n        scale: this.__symbolOriginalScale\n      }, 400, 'elasticOut');\n    }\n  }\n  /**\n   * @param {Function} cb\n   * @param {Object} [opt]\n   * @param {Object} [opt.keepLabel=true]\n   */\n\n\n  symbolProto.fadeOut = function (cb, opt) {\n    var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n    this.silent = symbolPath.silent = true; // Not show text when animating\n\n    !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n    graphic.updateProps(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scale: [0, 0]\n    }, this._seriesModel, this.dataIndex, cb);\n  };\n\n  util.inherits(SymbolClz$1, graphic.Group);\n  var _default$1x = SymbolClz$1;\n  var _Symbol = _default$1x;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var isObject$e = util.isObject;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/SymbolDraw\n   */\n\n  /**\n   * @constructor\n   * @alias module:echarts/chart/helper/SymbolDraw\n   * @param {module:zrender/graphic/Group} [symbolCtor]\n   */\n  function SymbolDraw(symbolCtor) {\n    this.group = new graphic.Group();\n    this._symbolCtor = symbolCtor || _Symbol;\n  }\n\n  var symbolDrawProto = SymbolDraw.prototype;\n\n  function symbolNeedsDraw(data, point, idx, opt) {\n    return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n    // the symbol element shape. We use the same clip shape here as\n    // the line clip.\n    && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n  }\n  /**\n   * Update symbols draw by new data\n   * @param {module:echarts/data/List} data\n   * @param {Object} [opt] Or isIgnore\n   * @param {Function} [opt.isIgnore]\n   * @param {Object} [opt.clipShape]\n   */\n\n\n  symbolDrawProto.updateData = function (data, opt) {\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._symbolCtor;\n    var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!oldData) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      var point = data.getItemLayout(newIdx);\n\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n        symbolEl.attr('position', point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = data.getItemLayout(newIdx);\n\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      if (!symbolEl) {\n        symbolEl = new SymbolCtor(data, newIdx);\n        symbolEl.attr('position', point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope);\n        graphic.updateProps(symbolEl, {\n          position: point\n        }, seriesModel);\n      } // Add back\n\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      });\n    }).execute();\n    this._data = data;\n  };\n\n  symbolDrawProto.isPersistent = function () {\n    return true;\n  };\n\n  symbolDrawProto.updateLayout = function () {\n    var data = this._data;\n\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = data.getItemLayout(idx);\n        el.attr('position', point);\n      });\n    }\n  };\n\n  symbolDrawProto.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n  /**\n   * Update symbols draw by new data\n   * @param {module:echarts/data/List} data\n   * @param {Object} [opt] Or isIgnore\n   * @param {Function} [opt.isIgnore]\n   * @param {Object} [opt.clipShape]\n   */\n\n\n  symbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n    opt = normalizeUpdateOpt(opt);\n\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = el.useHoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._symbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.attr('position', point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  function normalizeUpdateOpt(opt) {\n    if (opt != null && !isObject$e(opt)) {\n      opt = {\n        isIgnore: opt\n      };\n    }\n\n    return opt || {};\n  }\n\n  symbolDrawProto.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data; // Incremental model do not have this._data.\n\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        });\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n\n  function makeSeriesScope(data) {\n    var seriesModel = data.hostModel;\n    return {\n      itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n      hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      labelModel: seriesModel.getModel('label'),\n      hoverLabelModel: seriesModel.getModel('emphasis.label'),\n      cursorStyle: seriesModel.get('cursor')\n    };\n  }\n\n  var _default$1y = SymbolDraw;\n  var SymbolDraw_1 = _default$1y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var isDimensionStacked$3 = dataStackHelper.isDimensionStacked;\n\n\n\n  var map$7 = util.map;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} coordSys\n   * @param {module:echarts/data/List} data\n   * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n   */\n  function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n    var baseAxis = coordSys.getBaseAxis();\n    var valueAxis = coordSys.getOtherAxis(baseAxis);\n    var valueStart = getValueStart(valueAxis, valueOrigin);\n    var baseAxisDim = baseAxis.dim;\n    var valueAxisDim = valueAxis.dim;\n    var valueDim = data.mapDimension(valueAxisDim);\n    var baseDim = data.mapDimension(baseAxisDim);\n    var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n    var dims = map$7(coordSys.dimensions, function (coordDim) {\n      return data.mapDimension(coordDim);\n    });\n    var stacked;\n    var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n    if (stacked |= isDimensionStacked$3(data, dims[0]\n    /*, dims[1]*/\n    )) {\n      // jshint ignore:line\n      dims[0] = stackResultDim;\n    }\n\n    if (stacked |= isDimensionStacked$3(data, dims[1]\n    /*, dims[0]*/\n    )) {\n      // jshint ignore:line\n      dims[1] = stackResultDim;\n    }\n\n    return {\n      dataDimsForPoint: dims,\n      valueStart: valueStart,\n      valueAxisDim: valueAxisDim,\n      baseAxisDim: baseAxisDim,\n      stacked: !!stacked,\n      valueDim: valueDim,\n      baseDim: baseDim,\n      baseDataOffset: baseDataOffset,\n      stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n    };\n  }\n\n  function getValueStart(valueAxis, valueOrigin) {\n    var valueStart = 0;\n    var extent = valueAxis.scale.getExtent();\n\n    if (valueOrigin === 'start') {\n      valueStart = extent[0];\n    } else if (valueOrigin === 'end') {\n      valueStart = extent[1];\n    } // auto\n    else {\n        // Both positive\n        if (extent[0] > 0) {\n          valueStart = extent[0];\n        } // Both negative\n        else if (extent[1] < 0) {\n            valueStart = extent[1];\n          } // If is one positive, and one negative, onZero shall be true\n\n      }\n\n    return valueStart;\n  }\n\n  function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n    var value = NaN;\n\n    if (dataCoordInfo.stacked) {\n      value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n    }\n\n    if (isNaN(value)) {\n      value = dataCoordInfo.valueStart;\n    }\n\n    var baseDataOffset = dataCoordInfo.baseDataOffset;\n    var stackedData = [];\n    stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n    stackedData[1 - baseDataOffset] = value;\n    return coordSys.dataToPoint(stackedData);\n  }\n\n  var prepareDataCoordInfo_1 = prepareDataCoordInfo;\n  var getStackedOnPoint_1 = getStackedOnPoint;\n\n  var helper$3 = {\n  \tprepareDataCoordInfo: prepareDataCoordInfo_1,\n  \tgetStackedOnPoint: getStackedOnPoint_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var prepareDataCoordInfo$1 = helper$3.prepareDataCoordInfo;\n  var getStackedOnPoint$1 = helper$3.getStackedOnPoint;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // var arrayDiff = require('zrender/src/core/arrayDiff');\n  // 'zrender/src/core/arrayDiff' has been used before, but it did\n  // not do well in performance when roam with fixed dataZoom window.\n  // function convertToIntId(newIdList, oldIdList) {\n  //     // Generate int id instead of string id.\n  //     // Compare string maybe slow in score function of arrDiff\n  //     // Assume id in idList are all unique\n  //     var idIndicesMap = {};\n  //     var idx = 0;\n  //     for (var i = 0; i < newIdList.length; i++) {\n  //         idIndicesMap[newIdList[i]] = idx;\n  //         newIdList[i] = idx++;\n  //     }\n  //     for (var i = 0; i < oldIdList.length; i++) {\n  //         var oldId = oldIdList[i];\n  //         // Same with newIdList\n  //         if (idIndicesMap[oldId]) {\n  //             oldIdList[i] = idIndicesMap[oldId];\n  //         }\n  //         else {\n  //             oldIdList[i] = idx++;\n  //         }\n  //     }\n  // }\n  function diffData(oldData, newData) {\n    var diffResult = [];\n    newData.diff(oldData).add(function (idx) {\n      diffResult.push({\n        cmd: '+',\n        idx: idx\n      });\n    }).update(function (newIdx, oldIdx) {\n      diffResult.push({\n        cmd: '=',\n        idx: oldIdx,\n        idx1: newIdx\n      });\n    }).remove(function (idx) {\n      diffResult.push({\n        cmd: '-',\n        idx: idx\n      });\n    }).execute();\n    return diffResult;\n  }\n\n  function _default$1z(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n    var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n    // var oldIdList = oldData.mapArray(oldData.getId);\n    // convertToIntId(newIdList, oldIdList);\n    // // FIXME One data ?\n    // diff = arrayDiff(oldIdList, newIdList);\n\n    var currPoints = [];\n    var nextPoints = []; // Points for stacking base line\n\n    var currStackedPoints = [];\n    var nextStackedPoints = [];\n    var status = [];\n    var sortedIndices = [];\n    var rawIndices = [];\n    var newDataOldCoordInfo = prepareDataCoordInfo$1(oldCoordSys, newData, oldValueOrigin);\n    var oldDataNewCoordInfo = prepareDataCoordInfo$1(newCoordSys, oldData, newValueOrigin);\n\n    for (var i = 0; i < diff.length; i++) {\n      var diffItem = diff[i];\n      var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n      // Which is in case remvoing or add more than one data in the tail or head\n\n      switch (diffItem.cmd) {\n        case '=':\n          var currentPt = oldData.getItemLayout(diffItem.idx);\n          var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n          if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n            currentPt = nextPt.slice();\n          }\n\n          currPoints.push(currentPt);\n          nextPoints.push(nextPt);\n          currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n          nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n          rawIndices.push(newData.getRawIndex(diffItem.idx1));\n          break;\n\n        case '+':\n          var idx = diffItem.idx;\n          currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n          nextPoints.push(newData.getItemLayout(idx).slice());\n          currStackedPoints.push(getStackedOnPoint$1(newDataOldCoordInfo, oldCoordSys, newData, idx));\n          nextStackedPoints.push(newStackedOnPoints[idx]);\n          rawIndices.push(newData.getRawIndex(idx));\n          break;\n\n        case '-':\n          var idx = diffItem.idx;\n          var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n          // FIXME FIXME FIXME\n\n          if (rawIndex !== idx) {\n            currPoints.push(oldData.getItemLayout(idx));\n            nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n            currStackedPoints.push(oldStackedOnPoints[idx]);\n            nextStackedPoints.push(getStackedOnPoint$1(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n            rawIndices.push(rawIndex);\n          } else {\n            pointAdded = false;\n          }\n\n      } // Original indices\n\n\n      if (pointAdded) {\n        status.push(diffItem);\n        sortedIndices.push(sortedIndices.length);\n      }\n    } // Diff result may be crossed if all items are changed\n    // Sort by data index\n\n\n    sortedIndices.sort(function (a, b) {\n      return rawIndices[a] - rawIndices[b];\n    });\n    var sortedCurrPoints = [];\n    var sortedNextPoints = [];\n    var sortedCurrStackedPoints = [];\n    var sortedNextStackedPoints = [];\n    var sortedStatus = [];\n\n    for (var i = 0; i < sortedIndices.length; i++) {\n      var idx = sortedIndices[i];\n      sortedCurrPoints[i] = currPoints[idx];\n      sortedNextPoints[i] = nextPoints[idx];\n      sortedCurrStackedPoints[i] = currStackedPoints[idx];\n      sortedNextStackedPoints[i] = nextStackedPoints[idx];\n      sortedStatus[i] = status[idx];\n    }\n\n    return {\n      current: sortedCurrPoints,\n      next: sortedNextPoints,\n      stackedOnCurrent: sortedCurrStackedPoints,\n      stackedOnNext: sortedNextStackedPoints,\n      status: sortedStatus\n    };\n  }\n\n  var lineAnimationDiff = _default$1z;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Poly path support NaN point\n  var vec2Min = vector.min;\n  var vec2Max = vector.max;\n  var scaleAndAdd$1 = vector.scaleAndAdd;\n  var v2Copy = vector.copy; // Temporary variable\n\n  var v = [];\n  var cp0 = [];\n  var cp1 = [];\n\n  function isPointNull(p) {\n    return isNaN(p[0]) || isNaN(p[1]);\n  }\n\n  function drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    // if (smoothMonotone == null) {\n    //     if (isMono(points, 'x')) {\n    //         return drawMono(ctx, points, start, segLen, allLen,\n    //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n    //     }\n    //     else if (isMono(points, 'y')) {\n    //         return drawMono(ctx, points, start, segLen, allLen,\n    //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n    //     }\n    //     else {\n    //         return drawNonMono.apply(this, arguments);\n    //     }\n    // }\n    // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n    //     return drawMono.apply(this, arguments);\n    // }\n    // else {\n    //     return drawNonMono.apply(this, arguments);\n    // }\n    if (smoothMonotone === 'none' || !smoothMonotone) {\n      return drawNonMono.apply(this, arguments);\n    } else {\n      return drawMono.apply(this, arguments);\n    }\n  }\n  /**\n   * Check if points is in monotone.\n   *\n   * @param {number[][]} points         Array of points which is in [x, y] form\n   * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n   *                                    dimension that is checking.\n   *                                    If is 'none', `drawNonMono` should be\n   *                                    called.\n   *                                    If is undefined, either being monotone\n   *                                    in 'x' or 'y' will call `drawMono`.\n   */\n  // function isMono(points, smoothMonotone) {\n  //     if (points.length <= 1) {\n  //         return true;\n  //     }\n  //     var dim = smoothMonotone === 'x' ? 0 : 1;\n  //     var last = points[0][dim];\n  //     var lastDiff = 0;\n  //     for (var i = 1; i < points.length; ++i) {\n  //         var diff = points[i][dim] - last;\n  //         if (!isNaN(diff) && !isNaN(lastDiff)\n  //             && diff !== 0 && lastDiff !== 0\n  //             && ((diff >= 0) !== (lastDiff >= 0))\n  //         ) {\n  //             return false;\n  //         }\n  //         if (!isNaN(diff) && diff !== 0) {\n  //             lastDiff = diff;\n  //             last = points[i][dim];\n  //         }\n  //     }\n  //     return true;\n  // }\n\n  /**\n   * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n   * control points will be used. This should be used when points are monotone\n   * either in x or y dimension.\n   */\n\n\n  function drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    var prevIdx = 0;\n    var idx = start;\n\n    for (var k = 0; k < segLen; k++) {\n      var p = points[idx];\n\n      if (idx >= allLen || idx < 0) {\n        break;\n      }\n\n      if (isPointNull(p)) {\n        if (connectNulls) {\n          idx += dir;\n          continue;\n        }\n\n        break;\n      }\n\n      if (idx === start) {\n        ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      } else {\n        if (smooth > 0) {\n          var prevP = points[prevIdx];\n          var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n          var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n          v2Copy(cp0, prevP);\n          cp0[dim] = prevP[dim] + ctrlLen;\n          v2Copy(cp1, p);\n          cp1[dim] = p[dim] - ctrlLen;\n          ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n        } else {\n          ctx.lineTo(p[0], p[1]);\n        }\n      }\n\n      prevIdx = idx;\n      idx += dir;\n    }\n\n    return k;\n  }\n  /**\n   * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n   * situations. This should be used when points are non-monotone neither in x or\n   * y dimension.\n   */\n\n\n  function drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    var prevIdx = 0;\n    var idx = start;\n\n    for (var k = 0; k < segLen; k++) {\n      var p = points[idx];\n\n      if (idx >= allLen || idx < 0) {\n        break;\n      }\n\n      if (isPointNull(p)) {\n        if (connectNulls) {\n          idx += dir;\n          continue;\n        }\n\n        break;\n      }\n\n      if (idx === start) {\n        ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n        v2Copy(cp0, p);\n      } else {\n        if (smooth > 0) {\n          var nextIdx = idx + dir;\n          var nextP = points[nextIdx];\n\n          if (connectNulls) {\n            // Find next point not null\n            while (nextP && isPointNull(points[nextIdx])) {\n              nextIdx += dir;\n              nextP = points[nextIdx];\n            }\n          }\n\n          var ratioNextSeg = 0.5;\n          var prevP = points[prevIdx];\n          var nextP = points[nextIdx]; // Last point\n\n          if (!nextP || isPointNull(nextP)) {\n            v2Copy(cp1, p);\n          } else {\n            // If next data is null in not connect case\n            if (isPointNull(nextP) && !connectNulls) {\n              nextP = p;\n            }\n\n            vector.sub(v, nextP, prevP);\n            var lenPrevSeg;\n            var lenNextSeg;\n\n            if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n              var dim = smoothMonotone === 'x' ? 0 : 1;\n              lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n              lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n            } else {\n              lenPrevSeg = vector.dist(p, prevP);\n              lenNextSeg = vector.dist(p, nextP);\n            } // Use ratio of seg length\n\n\n            ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n            scaleAndAdd$1(cp1, p, v, -smooth * (1 - ratioNextSeg));\n          } // Smooth constraint\n\n\n          vec2Min(cp0, cp0, smoothMax);\n          vec2Max(cp0, cp0, smoothMin);\n          vec2Min(cp1, cp1, smoothMax);\n          vec2Max(cp1, cp1, smoothMin);\n          ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n          scaleAndAdd$1(cp0, p, v, smooth * ratioNextSeg);\n        } else {\n          ctx.lineTo(p[0], p[1]);\n        }\n      }\n\n      prevIdx = idx;\n      idx += dir;\n    }\n\n    return k;\n  }\n\n  function getBoundingBox(points, smoothConstraint) {\n    var ptMin = [Infinity, Infinity];\n    var ptMax = [-Infinity, -Infinity];\n\n    if (smoothConstraint) {\n      for (var i = 0; i < points.length; i++) {\n        var pt = points[i];\n\n        if (pt[0] < ptMin[0]) {\n          ptMin[0] = pt[0];\n        }\n\n        if (pt[1] < ptMin[1]) {\n          ptMin[1] = pt[1];\n        }\n\n        if (pt[0] > ptMax[0]) {\n          ptMax[0] = pt[0];\n        }\n\n        if (pt[1] > ptMax[1]) {\n          ptMax[1] = pt[1];\n        }\n      }\n    }\n\n    return {\n      min: smoothConstraint ? ptMin : ptMax,\n      max: smoothConstraint ? ptMax : ptMin\n    };\n  }\n\n  var Polyline$1 = Path_1.extend({\n    type: 'ec-polyline',\n    shape: {\n      points: [],\n      smooth: 0,\n      smoothConstraint: true,\n      smoothMonotone: null,\n      connectNulls: false\n    },\n    style: {\n      fill: null,\n      stroke: '#000'\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var points = shape.points;\n      var i = 0;\n      var len = points.length;\n      var result = getBoundingBox(points, shape.smoothConstraint);\n\n      if (shape.connectNulls) {\n        // Must remove first and last null values avoid draw error in polygon\n        for (; len > 0; len--) {\n          if (!isPointNull(points[len - 1])) {\n            break;\n          }\n        }\n\n        for (; i < len; i++) {\n          if (!isPointNull(points[i])) {\n            break;\n          }\n        }\n      }\n\n      while (i < len) {\n        i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n      }\n    }\n  });\n  var Polygon$1 = Path_1.extend({\n    type: 'ec-polygon',\n    shape: {\n      points: [],\n      // Offset between stacked base points and points\n      stackedOnPoints: [],\n      smooth: 0,\n      stackedOnSmooth: 0,\n      smoothConstraint: true,\n      smoothMonotone: null,\n      connectNulls: false\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var points = shape.points;\n      var stackedOnPoints = shape.stackedOnPoints;\n      var i = 0;\n      var len = points.length;\n      var smoothMonotone = shape.smoothMonotone;\n      var bbox = getBoundingBox(points, shape.smoothConstraint);\n      var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n      if (shape.connectNulls) {\n        // Must remove first and last null values avoid draw error in polygon\n        for (; len > 0; len--) {\n          if (!isPointNull(points[len - 1])) {\n            break;\n          }\n        }\n\n        for (; i < len; i++) {\n          if (!isPointNull(points[i])) {\n            break;\n          }\n        }\n      }\n\n      while (i < len) {\n        var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n        drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n        i += k + 1;\n        ctx.closePath();\n      }\n    }\n  });\n  var Polyline_1$1 = Polyline$1;\n  var Polygon_1$1 = Polygon$1;\n\n  var poly$1 = {\n  \tPolyline: Polyline_1$1,\n  \tPolygon: Polygon_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var round$3 = number.round;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function createGridClipPath(cartesian, hasAnimation, seriesModel) {\n    var rect = cartesian.getArea();\n    var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n    var x = rect.x;\n    var y = rect.y;\n    var width = rect.width;\n    var height = rect.height;\n    var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n    x -= lineWidth / 2;\n    y -= lineWidth / 2;\n    width += lineWidth;\n    height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n    x = Math.floor(x);\n    width = Math.round(width);\n    var clipPath = new graphic.Rect({\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      }\n    });\n\n    if (hasAnimation) {\n      clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n      graphic.initProps(clipPath, {\n        shape: {\n          width: width,\n          height: height\n        }\n      }, seriesModel);\n    }\n\n    return clipPath;\n  }\n\n  function createPolarClipPath(polar, hasAnimation, seriesModel) {\n    var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: round$3(polar.cx, 1),\n        cy: round$3(polar.cy, 1),\n        r0: round$3(sectorArea.r0, 1),\n        r: round$3(sectorArea.r, 1),\n        startAngle: sectorArea.startAngle,\n        endAngle: sectorArea.endAngle,\n        clockwise: sectorArea.clockwise\n      }\n    });\n\n    if (hasAnimation) {\n      clipPath.shape.endAngle = sectorArea.startAngle;\n      graphic.initProps(clipPath, {\n        shape: {\n          endAngle: sectorArea.endAngle\n        }\n      }, seriesModel);\n    }\n\n    return clipPath;\n  }\n\n  function createClipPath(coordSys, hasAnimation, seriesModel) {\n    if (!coordSys) {\n      return null;\n    } else if (coordSys.type === 'polar') {\n      return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n    } else if (coordSys.type === 'cartesian2d') {\n      return createGridClipPath(coordSys, hasAnimation, seriesModel);\n    }\n\n    return null;\n  }\n\n  var createGridClipPath_1 = createGridClipPath;\n  var createPolarClipPath_1 = createPolarClipPath;\n  var createClipPath_1 = createClipPath;\n\n  var createClipPathFromCoordSys = {\n  \tcreateGridClipPath: createGridClipPath_1,\n  \tcreatePolarClipPath: createPolarClipPath_1,\n  \tcreateClipPath: createClipPath_1\n  };\n\n  var fromPoints$1 = bbox.fromPoints;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var Polyline$2 = poly$1.Polyline;\n  var Polygon$2 = poly$1.Polygon;\n\n\n\n\n\n  var prepareDataCoordInfo$2 = helper$3.prepareDataCoordInfo;\n  var getStackedOnPoint$2 = helper$3.getStackedOnPoint;\n\n\n\n  var createGridClipPath$1 = createClipPathFromCoordSys.createGridClipPath;\n  var createPolarClipPath$1 = createClipPathFromCoordSys.createPolarClipPath;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME step not support polar\n  function isPointsSame(points1, points2) {\n    if (points1.length !== points2.length) {\n      return;\n    }\n\n    for (var i = 0; i < points1.length; i++) {\n      var p1 = points1[i];\n      var p2 = points2[i];\n\n      if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n        return;\n      }\n    }\n\n    return true;\n  }\n\n  function getBoundingDiff(points1, points2) {\n    var min1 = [];\n    var max1 = [];\n    var min2 = [];\n    var max2 = [];\n    fromPoints$1(points1, min1, max1);\n    fromPoints$1(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n    return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n  }\n\n  function getSmooth(smooth) {\n    return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n  }\n  /**\n   * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n   * @param {module:echarts/data/List} data\n   * @param {Object} dataCoordInfo\n   * @param {Array.<Array.<number>>} points\n   */\n\n\n  function getStackedOnPoints(coordSys, data, dataCoordInfo) {\n    if (!dataCoordInfo.valueDim) {\n      return [];\n    }\n\n    var points = [];\n\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      points.push(getStackedOnPoint$2(dataCoordInfo, coordSys, data, idx));\n    }\n\n    return points;\n  }\n\n  function turnPointsIntoStep(points, coordSys, stepTurnAt) {\n    var baseAxis = coordSys.getBaseAxis();\n    var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n    var stepPoints = [];\n\n    for (var i = 0; i < points.length - 1; i++) {\n      var nextPt = points[i + 1];\n      var pt = points[i];\n      stepPoints.push(pt);\n      var stepPt = [];\n\n      switch (stepTurnAt) {\n        case 'end':\n          stepPt[baseIndex] = nextPt[baseIndex];\n          stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n          stepPoints.push(stepPt);\n          break;\n\n        case 'middle':\n          // default is start\n          var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n          var stepPt2 = [];\n          stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n          stepPt[1 - baseIndex] = pt[1 - baseIndex];\n          stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n          stepPoints.push(stepPt);\n          stepPoints.push(stepPt2);\n          break;\n\n        default:\n          stepPt[baseIndex] = pt[baseIndex];\n          stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n          stepPoints.push(stepPt);\n      }\n    } // Last points\n\n\n    points[i] && stepPoints.push(points[i]);\n    return stepPoints;\n  }\n\n  function getVisualGradient(data, coordSys) {\n    var visualMetaList = data.getVisual('visualMeta');\n\n    if (!visualMetaList || !visualMetaList.length || !data.count()) {\n      // When data.count() is 0, gradient range can not be calculated.\n      return;\n    }\n\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var coordDim;\n    var visualMeta;\n\n    for (var i = visualMetaList.length - 1; i >= 0; i--) {\n      var dimIndex = visualMetaList[i].dimension;\n      var dimName = data.dimensions[dimIndex];\n      var dimInfo = data.getDimensionInfo(dimName);\n      coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n      if (coordDim === 'x' || coordDim === 'y') {\n        visualMeta = visualMetaList[i];\n        break;\n      }\n    }\n\n    if (!visualMeta) {\n      return;\n    } // If the area to be rendered is bigger than area defined by LinearGradient,\n    // the canvas spec prescribes that the color of the first stop and the last\n    // stop should be used. But if two stops are added at offset 0, in effect\n    // browsers use the color of the second stop to render area outside\n    // LinearGradient. So we can only infinitesimally extend area defined in\n    // LinearGradient to render `outerColors`.\n\n\n    var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n    var colorStops = util.map(visualMeta.stops, function (stop) {\n      return {\n        coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n        color: stop.color\n      };\n    });\n    var stopLen = colorStops.length;\n    var outerColors = visualMeta.outerColors.slice();\n\n    if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n      colorStops.reverse();\n      outerColors.reverse();\n    }\n\n    var tinyExtent = 10; // Arbitrary value: 10px\n\n    var minCoord = colorStops[0].coord - tinyExtent;\n    var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n    var coordSpan = maxCoord - minCoord;\n\n    if (coordSpan < 1e-3) {\n      return 'transparent';\n    }\n\n    util.each(colorStops, function (stop) {\n      stop.offset = (stop.coord - minCoord) / coordSpan;\n    });\n    colorStops.push({\n      offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n      color: outerColors[1] || 'transparent'\n    });\n    colorStops.unshift({\n      // notice colorStops.length have been changed.\n      offset: stopLen ? colorStops[0].offset : 0.5,\n      color: outerColors[0] || 'transparent'\n    }); // zrUtil.each(colorStops, function (colorStop) {\n    //     // Make sure each offset has rounded px to avoid not sharp edge\n    //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n    // });\n\n    var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n    gradient[coordDim] = minCoord;\n    gradient[coordDim + '2'] = maxCoord;\n    return gradient;\n  }\n\n  function getIsIgnoreFunc(seriesModel, data, coordSys) {\n    var showAllSymbol = seriesModel.get('showAllSymbol');\n    var isAuto = showAllSymbol === 'auto';\n\n    if (showAllSymbol && !isAuto) {\n      return;\n    }\n\n    var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n    if (!categoryAxis) {\n      return;\n    } // Note that category label interval strategy might bring some weird effect\n    // in some scenario: users may wonder why some of the symbols are not\n    // displayed. So we show all symbols as possible as we can.\n\n\n    if (isAuto // Simplify the logic, do not determine label overlap here.\n    && canShowAllSymbolForCategory(categoryAxis, data)) {\n      return;\n    } // Otherwise follow the label interval strategy on category axis.\n\n\n    var categoryDataDim = data.mapDimension(categoryAxis.dim);\n    var labelMap = {};\n    util.each(categoryAxis.getViewLabels(), function (labelItem) {\n      labelMap[labelItem.tickValue] = 1;\n    });\n    return function (dataIndex) {\n      return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n    };\n  }\n\n  function canShowAllSymbolForCategory(categoryAxis, data) {\n    // In mose cases, line is monotonous on category axis, and the label size\n    // is close with each other. So we check the symbol size and some of the\n    // label size alone with the category axis to estimate whether all symbol\n    // can be shown without overlap.\n    var axisExtent = categoryAxis.getExtent();\n    var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n    isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n    // Sampling some points, max 5.\n\n    var dataLen = data.count();\n    var step = Math.max(1, Math.round(dataLen / 5));\n\n    for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n      if (_Symbol.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n      )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n      * 1.5 > availSize) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function createLineClipPath(coordSys, hasAnimation, seriesModel) {\n    if (coordSys.type === 'cartesian2d') {\n      var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n      var clipPath = createGridClipPath$1(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n      if (!seriesModel.get('clip', true)) {\n        var rectShape = clipPath.shape;\n        var expandSize = Math.max(rectShape.width, rectShape.height);\n\n        if (isHorizontal) {\n          rectShape.y -= expandSize;\n          rectShape.height += expandSize * 2;\n        } else {\n          rectShape.x -= expandSize;\n          rectShape.width += expandSize * 2;\n        }\n      }\n\n      return clipPath;\n    } else {\n      return createPolarClipPath$1(coordSys, hasAnimation, seriesModel);\n    }\n  }\n\n  var _default$1A = Chart_1.extend({\n    type: 'line',\n    init: function () {\n      var lineGroup = new graphic.Group();\n      var symbolDraw = new SymbolDraw_1();\n      this.group.add(symbolDraw.group);\n      this._symbolDraw = symbolDraw;\n      this._lineGroup = lineGroup;\n    },\n    render: function (seriesModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var group = this.group;\n      var data = seriesModel.getData();\n      var lineStyleModel = seriesModel.getModel('lineStyle');\n      var areaStyleModel = seriesModel.getModel('areaStyle');\n      var points = data.mapArray(data.getItemLayout);\n      var isCoordSysPolar = coordSys.type === 'polar';\n      var prevCoordSys = this._coordSys;\n      var symbolDraw = this._symbolDraw;\n      var polyline = this._polyline;\n      var polygon = this._polygon;\n      var lineGroup = this._lineGroup;\n      var hasAnimation = seriesModel.get('animation');\n      var isAreaChart = !areaStyleModel.isEmpty();\n      var valueOrigin = areaStyleModel.get('origin');\n      var dataCoordInfo = prepareDataCoordInfo$2(coordSys, data, valueOrigin);\n      var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n      var showSymbol = seriesModel.get('showSymbol');\n      var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n      var oldData = this._data;\n      oldData && oldData.eachItemGraphicEl(function (el, idx) {\n        if (el.__temp) {\n          group.remove(el);\n          oldData.setItemGraphicEl(idx, null);\n        }\n      }); // Remove previous created symbols if showSymbol changed to false\n\n      if (!showSymbol) {\n        symbolDraw.remove();\n      }\n\n      group.add(lineGroup); // FIXME step not support polar\n\n      var step = !isCoordSysPolar && seriesModel.get('step');\n      var clipShapeForSymbol;\n\n      if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n        clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n        // See #7913 and `test/dataZoom-clip.html`.\n\n        if (clipShapeForSymbol.width != null) {\n          clipShapeForSymbol.x -= 0.1;\n          clipShapeForSymbol.y -= 0.1;\n          clipShapeForSymbol.width += 0.2;\n          clipShapeForSymbol.height += 0.2;\n        } else if (clipShapeForSymbol.r0) {\n          clipShapeForSymbol.r0 -= 0.5;\n          clipShapeForSymbol.r1 += 0.5;\n        }\n      }\n\n      this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n      if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n        showSymbol && symbolDraw.updateData(data, {\n          isIgnore: isIgnoreFunc,\n          clipShape: clipShapeForSymbol\n        });\n\n        if (step) {\n          // TODO If stacked series is not step\n          points = turnPointsIntoStep(points, coordSys, step);\n          stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n        }\n\n        polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n        if (isAreaChart) {\n          polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n        }\n\n        lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n      } else {\n        if (isAreaChart && !polygon) {\n          // If areaStyle is added\n          polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n        } else if (polygon && !isAreaChart) {\n          // If areaStyle is removed\n          lineGroup.remove(polygon);\n          polygon = this._polygon = null;\n        } // Update clipPath\n\n\n        lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n        // because points are not changed\n\n        showSymbol && symbolDraw.updateData(data, {\n          isIgnore: isIgnoreFunc,\n          clipShape: clipShapeForSymbol\n        }); // Stop symbol animation and sync with line points\n        // FIXME performance?\n\n        data.eachItemGraphicEl(function (el) {\n          el.stopAnimation(true);\n        }); // In the case data zoom triggerred refreshing frequently\n        // Data may not change if line has a category axis. So it should animate nothing\n\n        if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n          if (hasAnimation) {\n            this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n          } else {\n            // Not do it in update with animation\n            if (step) {\n              // TODO If stacked series is not step\n              points = turnPointsIntoStep(points, coordSys, step);\n              stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n            }\n\n            polyline.setShape({\n              points: points\n            });\n            polygon && polygon.setShape({\n              points: points,\n              stackedOnPoints: stackedOnPoints\n            });\n          }\n        }\n      }\n\n      var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n      polyline.useStyle(util.defaults( // Use color in lineStyle first\n      lineStyleModel.getLineStyle(), {\n        fill: 'none',\n        stroke: visualColor,\n        lineJoin: 'bevel'\n      }));\n      var smooth = seriesModel.get('smooth');\n      smooth = getSmooth(seriesModel.get('smooth'));\n      polyline.setShape({\n        smooth: smooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n\n      if (polygon) {\n        var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n        var stackedOnSmooth = 0;\n        polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(), {\n          fill: visualColor,\n          opacity: 0.7,\n          lineJoin: 'bevel'\n        }));\n\n        if (stackedOnSeries) {\n          stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n        }\n\n        polygon.setShape({\n          smooth: smooth,\n          stackedOnSmooth: stackedOnSmooth,\n          smoothMonotone: seriesModel.get('smoothMonotone'),\n          connectNulls: seriesModel.get('connectNulls')\n        });\n      }\n\n      this._data = data; // Save the coordinate system for transition animation when data changed\n\n      this._coordSys = coordSys;\n      this._stackedOnPoints = stackedOnPoints;\n      this._points = points;\n      this._step = step;\n      this._valueOrigin = valueOrigin;\n    },\n    dispose: function () {},\n    highlight: function (seriesModel, ecModel, api, payload) {\n      var data = seriesModel.getData();\n      var dataIndex = model.queryDataIndex(data, payload);\n\n      if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n        var symbol = data.getItemGraphicEl(dataIndex);\n\n        if (!symbol) {\n          // Create a temporary symbol if it is not exists\n          var pt = data.getItemLayout(dataIndex);\n\n          if (!pt) {\n            // Null data\n            return;\n          } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n          if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n            return;\n          }\n\n          symbol = new _Symbol(data, dataIndex);\n          symbol.position = pt;\n          symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n          symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n          symbol.__temp = true;\n          data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n          symbol.stopSymbolAnimation(true);\n          this.group.add(symbol);\n        }\n\n        symbol.highlight();\n      } else {\n        // Highlight whole series\n        Chart_1.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n      }\n    },\n    downplay: function (seriesModel, ecModel, api, payload) {\n      var data = seriesModel.getData();\n      var dataIndex = model.queryDataIndex(data, payload);\n\n      if (dataIndex != null && dataIndex >= 0) {\n        var symbol = data.getItemGraphicEl(dataIndex);\n\n        if (symbol) {\n          if (symbol.__temp) {\n            data.setItemGraphicEl(dataIndex, null);\n            this.group.remove(symbol);\n          } else {\n            symbol.downplay();\n          }\n        }\n      } else {\n        // FIXME\n        // can not downplay completely.\n        // Downplay whole series\n        Chart_1.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n      }\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolyline: function (points) {\n      var polyline = this._polyline; // Remove previous created polyline\n\n      if (polyline) {\n        this._lineGroup.remove(polyline);\n      }\n\n      polyline = new Polyline$2({\n        shape: {\n          points: points\n        },\n        silent: true,\n        z2: 10\n      });\n\n      this._lineGroup.add(polyline);\n\n      this._polyline = polyline;\n      return polyline;\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} stackedOnPoints\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolygon: function (points, stackedOnPoints) {\n      var polygon = this._polygon; // Remove previous created polygon\n\n      if (polygon) {\n        this._lineGroup.remove(polygon);\n      }\n\n      polygon = new Polygon$2({\n        shape: {\n          points: points,\n          stackedOnPoints: stackedOnPoints\n        },\n        silent: true\n      });\n\n      this._lineGroup.add(polygon);\n\n      this._polygon = polygon;\n      return polygon;\n    },\n\n    /**\n     * @private\n     */\n    // FIXME Two value axis\n    _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n      var polyline = this._polyline;\n      var polygon = this._polygon;\n      var seriesModel = data.hostModel;\n      var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n      var current = diff.current;\n      var stackedOnCurrent = diff.stackedOnCurrent;\n      var next = diff.next;\n      var stackedOnNext = diff.stackedOnNext;\n\n      if (step) {\n        // TODO If stacked series is not step\n        current = turnPointsIntoStep(diff.current, coordSys, step);\n        stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n        next = turnPointsIntoStep(diff.next, coordSys, step);\n        stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n      } // Don't apply animation if diff is large.\n      // For better result and avoid memory explosion problems like\n      // https://github.com/apache/incubator-echarts/issues/12229\n\n\n      if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n        polyline.setShape({\n          points: next\n        });\n\n        if (polygon) {\n          polygon.setShape({\n            points: next,\n            stackedOnPoints: stackedOnNext\n          });\n        }\n\n        return;\n      } // `diff.current` is subset of `current` (which should be ensured by\n      // turnPointsIntoStep), so points in `__points` can be updated when\n      // points in `current` are update during animation.\n\n\n      polyline.shape.__points = diff.current;\n      polyline.shape.points = current;\n      graphic.updateProps(polyline, {\n        shape: {\n          points: next\n        }\n      }, seriesModel);\n\n      if (polygon) {\n        polygon.setShape({\n          points: current,\n          stackedOnPoints: stackedOnCurrent\n        });\n        graphic.updateProps(polygon, {\n          shape: {\n            points: next,\n            stackedOnPoints: stackedOnNext\n          }\n        }, seriesModel);\n      }\n\n      var updatedDataInfo = [];\n      var diffStatus = diff.status;\n\n      for (var i = 0; i < diffStatus.length; i++) {\n        var cmd = diffStatus[i].cmd;\n\n        if (cmd === '=') {\n          var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n          if (el) {\n            updatedDataInfo.push({\n              el: el,\n              ptIdx: i // Index of points\n\n            });\n          }\n        }\n      }\n\n      if (polyline.animators && polyline.animators.length) {\n        polyline.animators[0].during(function () {\n          for (var i = 0; i < updatedDataInfo.length; i++) {\n            var el = updatedDataInfo[i].el;\n            el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n          }\n        });\n      }\n    },\n    remove: function (ecModel) {\n      var group = this.group;\n      var oldData = this._data;\n\n      this._lineGroup.removeAll();\n\n      this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n      oldData && oldData.eachItemGraphicEl(function (el, idx) {\n        if (el.__temp) {\n          group.remove(el);\n          oldData.setItemGraphicEl(idx, null);\n        }\n      });\n      this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var isFunction$5 = util.isFunction;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1B(seriesType, defaultSymbolType, legendSymbol) {\n    // Encoding visual for all series include which is filtered for legend drawing\n    return {\n      seriesType: seriesType,\n      // For legend.\n      performRawSeries: true,\n      reset: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var symbolType = seriesModel.get('symbol');\n        var symbolSize = seriesModel.get('symbolSize');\n        var keepAspect = seriesModel.get('symbolKeepAspect');\n        var symbolRotate = seriesModel.get('symbolRotate');\n        var hasSymbolTypeCallback = isFunction$5(symbolType);\n        var hasSymbolSizeCallback = isFunction$5(symbolSize);\n        var hasSymbolRotateCallback = isFunction$5(symbolRotate);\n        var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback;\n        var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n        var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n        data.setVisual({\n          legendSymbol: legendSymbol || seriesSymbol,\n          // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n          // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n          // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n          // some cases but generally it is not recommanded.\n          symbol: seriesSymbol,\n          symbolSize: seriesSymbolSize,\n          symbolKeepAspect: keepAspect,\n          symbolRotate: symbolRotate\n        }); // Only visible series has each data be visual encoded\n\n        if (ecModel.isSeriesFiltered(seriesModel)) {\n          return;\n        }\n\n        function dataEach(data, idx) {\n          if (hasCallback) {\n            var rawValue = seriesModel.getRawValue(idx);\n            var params = seriesModel.getDataParams(idx);\n            hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n            hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n            hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n          }\n\n          if (data.hasItemOption) {\n            var itemModel = data.getItemModel(idx);\n            var itemSymbolType = itemModel.getShallow('symbol', true);\n            var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n            var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n            var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n            if (itemSymbolType != null) {\n              data.setItemVisual(idx, 'symbol', itemSymbolType);\n            }\n\n            if (itemSymbolSize != null) {\n              // PENDING Transform symbolSize ?\n              data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n            }\n\n            if (itemSymbolRotate != null) {\n              data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n            }\n\n            if (itemSymbolKeepAspect != null) {\n              data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n            }\n          }\n        }\n\n        return {\n          dataEach: data.hasItemOption || hasCallback ? dataEach : null\n        };\n      }\n    };\n  }\n\n  var symbol$1 = _default$1B;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var map$8 = util.map;\n\n\n\n\n\n  var isDimensionStacked$4 = dataStackHelper.isDimensionStacked;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float32Array */\n  function _default$1C(seriesType) {\n    return {\n      seriesType: seriesType,\n      plan: createRenderPlanner(),\n      reset: function (seriesModel) {\n        var data = seriesModel.getData();\n        var coordSys = seriesModel.coordinateSystem;\n        var pipelineContext = seriesModel.pipelineContext;\n        var isLargeRender = pipelineContext.large;\n\n        if (!coordSys) {\n          return;\n        }\n\n        var dims = map$8(coordSys.dimensions, function (dim) {\n          return data.mapDimension(dim);\n        }).slice(0, 2);\n        var dimLen = dims.length;\n        var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n        if (isDimensionStacked$4(data, dims[0]\n        /*, dims[1]*/\n        )) {\n          dims[0] = stackResultDim;\n        }\n\n        if (isDimensionStacked$4(data, dims[1]\n        /*, dims[0]*/\n        )) {\n          dims[1] = stackResultDim;\n        }\n\n        function progress(params, data) {\n          var segCount = params.end - params.start;\n          var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n          for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n            var point;\n\n            if (dimLen === 1) {\n              var x = data.get(dims[0], i);\n              point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              var x = tmpIn[0] = data.get(dims[0], i);\n              var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n              point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (isLargeRender) {\n              points[offset++] = point ? point[0] : NaN;\n              points[offset++] = point ? point[1] : NaN;\n            } else {\n              data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n            }\n          }\n\n          isLargeRender && data.setLayout('symbolPoints', points);\n        }\n\n        return dimLen && {\n          progress: progress\n        };\n      }\n    };\n  }\n\n  var points$1 = _default$1C;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var samplers = {\n    average: function (frame) {\n      var sum = 0;\n      var count = 0;\n\n      for (var i = 0; i < frame.length; i++) {\n        if (!isNaN(frame[i])) {\n          sum += frame[i];\n          count++;\n        }\n      } // Return NaN if count is 0\n\n\n      return count === 0 ? NaN : sum / count;\n    },\n    sum: function (frame) {\n      var sum = 0;\n\n      for (var i = 0; i < frame.length; i++) {\n        // Ignore NaN\n        sum += frame[i] || 0;\n      }\n\n      return sum;\n    },\n    max: function (frame) {\n      var max = -Infinity;\n\n      for (var i = 0; i < frame.length; i++) {\n        frame[i] > max && (max = frame[i]);\n      } // NaN will cause illegal axis extent.\n\n\n      return isFinite(max) ? max : NaN;\n    },\n    min: function (frame) {\n      var min = Infinity;\n\n      for (var i = 0; i < frame.length; i++) {\n        frame[i] < min && (min = frame[i]);\n      } // NaN will cause illegal axis extent.\n\n\n      return isFinite(min) ? min : NaN;\n    },\n    // TODO\n    // Median\n    nearest: function (frame) {\n      return frame[0];\n    }\n  };\n\n  var indexSampler = function (frame, value) {\n    return Math.round(frame.length / 2);\n  };\n\n  function _default$1D(seriesType) {\n    return {\n      seriesType: seriesType,\n      modifyOutputEnd: true,\n      reset: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var sampling = seriesModel.get('sampling');\n        var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n        if (coordSys.type === 'cartesian2d' && sampling) {\n          var baseAxis = coordSys.getBaseAxis();\n          var valueAxis = coordSys.getOtherAxis(baseAxis);\n          var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n          var size = Math.abs(extent[1] - extent[0]);\n          var rate = Math.round(data.count() / size);\n\n          if (rate > 1) {\n            var sampler;\n\n            if (typeof sampling === 'string') {\n              sampler = samplers[sampling];\n            } else if (typeof sampling === 'function') {\n              sampler = sampling;\n            }\n\n            if (sampler) {\n              // Only support sample the first dim mapped from value axis.\n              seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n            }\n          }\n        }\n      }\n    };\n  }\n\n  var dataSample = _default$1D;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Cartesian coordinate system\n   * @module  echarts/coord/Cartesian\n   *\n   */\n  function dimAxisMapper(dim) {\n    return this._axes[dim];\n  }\n  /**\n   * @alias module:echarts/coord/Cartesian\n   * @constructor\n   */\n\n\n  var Cartesian = function (name) {\n    this._axes = {};\n    this._dimList = [];\n    /**\n     * @type {string}\n     */\n\n    this.name = name || '';\n  };\n\n  Cartesian.prototype = {\n    constructor: Cartesian,\n    type: 'cartesian',\n\n    /**\n     * Get axis\n     * @param  {number|string} dim\n     * @return {module:echarts/coord/Cartesian~Axis}\n     */\n    getAxis: function (dim) {\n      return this._axes[dim];\n    },\n\n    /**\n     * Get axes list\n     * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n     */\n    getAxes: function () {\n      return util.map(this._dimList, dimAxisMapper, this);\n    },\n\n    /**\n     * Get axes list by given scale type\n     */\n    getAxesByScale: function (scaleType) {\n      scaleType = scaleType.toLowerCase();\n      return util.filter(this.getAxes(), function (axis) {\n        return axis.scale.type === scaleType;\n      });\n    },\n\n    /**\n     * Add axis\n     * @param {module:echarts/coord/Cartesian.Axis}\n     */\n    addAxis: function (axis) {\n      var dim = axis.dim;\n      this._axes[dim] = axis;\n\n      this._dimList.push(dim);\n    },\n\n    /**\n     * Convert data to coord in nd space\n     * @param {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    dataToCoord: function (val) {\n      return this._dataCoordConvert(val, 'dataToCoord');\n    },\n\n    /**\n     * Convert coord in nd space to data\n     * @param  {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    coordToData: function (val) {\n      return this._dataCoordConvert(val, 'coordToData');\n    },\n    _dataCoordConvert: function (input, method) {\n      var dimList = this._dimList;\n      var output = input instanceof Array ? [] : {};\n\n      for (var i = 0; i < dimList.length; i++) {\n        var dim = dimList[i];\n        var axis = this._axes[dim];\n        output[dim] = axis[method](input[dim]);\n      }\n\n      return output;\n    }\n  };\n  var _default$1E = Cartesian;\n  var Cartesian_1 = _default$1E;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function Cartesian2D(name) {\n    Cartesian_1.call(this, name);\n  }\n\n  Cartesian2D.prototype = {\n    constructor: Cartesian2D,\n    type: 'cartesian2d',\n\n    /**\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    dimensions: ['x', 'y'],\n\n    /**\n     * Base axis will be used on stacking.\n     *\n     * @return {module:echarts/coord/cartesian/Axis2D}\n     */\n    getBaseAxis: function () {\n      return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n    },\n\n    /**\n     * If contain point\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    containPoint: function (point) {\n      var axisX = this.getAxis('x');\n      var axisY = this.getAxis('y');\n      return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n    },\n\n    /**\n     * If contain data\n     * @param {Array.<number>} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n      return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n    },\n\n    /**\n     * @param {Array.<number>} data\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (data, reserved, out) {\n      var xAxis = this.getAxis('x');\n      var yAxis = this.getAxis('y');\n      out = out || [];\n      out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n      out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n      return out;\n    },\n\n    /**\n     * @param {Array.<number>} data\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    clampData: function (data, out) {\n      var xScale = this.getAxis('x').scale;\n      var yScale = this.getAxis('y').scale;\n      var xAxisExtent = xScale.getExtent();\n      var yAxisExtent = yScale.getExtent();\n      var x = xScale.parse(data[0]);\n      var y = yScale.parse(data[1]);\n      out = out || [];\n      out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n      out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n      return out;\n    },\n\n    /**\n     * @param {Array.<number>} point\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    pointToData: function (point, out) {\n      var xAxis = this.getAxis('x');\n      var yAxis = this.getAxis('y');\n      out = out || [];\n      out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n      out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n      return out;\n    },\n\n    /**\n     * Get other axis\n     * @param {module:echarts/coord/cartesian/Axis2D} axis\n     */\n    getOtherAxis: function (axis) {\n      return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n    },\n\n    /**\n     * Get rect area of cartesian.\n     * Area will have a contain function to determine if a point is in the coordinate system.\n     * @return {BoundingRect}\n     */\n    getArea: function () {\n      var xExtent = this.getAxis('x').getGlobalExtent();\n      var yExtent = this.getAxis('y').getGlobalExtent();\n      var x = Math.min(xExtent[0], xExtent[1]);\n      var y = Math.min(yExtent[0], yExtent[1]);\n      var width = Math.max(xExtent[0], xExtent[1]) - x;\n      var height = Math.max(yExtent[0], yExtent[1]) - y;\n      var rect = new BoundingRect_1(x, y, width, height);\n      return rect;\n    }\n  };\n  util.inherits(Cartesian2D, Cartesian_1);\n  var _default$1F = Cartesian2D;\n  var Cartesian2D_1 = _default$1F;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Extend axis 2d\n   * @constructor module:echarts/coord/cartesian/Axis2D\n   * @extends {module:echarts/coord/cartesian/Axis}\n   * @param {string} dim\n   * @param {*} scale\n   * @param {Array.<number>} coordExtent\n   * @param {string} axisType\n   * @param {string} position\n   */\n  var Axis2D = function (dim, scale, coordExtent, axisType, position) {\n    Axis_1.call(this, dim, scale, coordExtent);\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n\n    this.type = axisType || 'value';\n    /**\n     * Axis position\n     *  - 'top'\n     *  - 'bottom'\n     *  - 'left'\n     *  - 'right'\n     */\n\n    this.position = position || 'bottom';\n  };\n\n  Axis2D.prototype = {\n    constructor: Axis2D,\n\n    /**\n     * Index of axis, can be used as key\n     */\n    index: 0,\n\n    /**\n     * Implemented in <module:echarts/coord/cartesian/Grid>.\n     * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n     *         If not on zero of other axis, return null/undefined.\n     *         If no axes, return an empty array.\n     */\n    getAxesOnZeroOf: null,\n\n    /**\n     * Axis model\n     * @param {module:echarts/coord/cartesian/AxisModel}\n     */\n    model: null,\n    isHorizontal: function () {\n      var position = this.position;\n      return position === 'top' || position === 'bottom';\n    },\n\n    /**\n     * Each item cooresponds to this.getExtent(), which\n     * means globalExtent[0] may greater than globalExtent[1],\n     * unless `asc` is input.\n     *\n     * @param {boolean} [asc]\n     * @return {Array.<number>}\n     */\n    getGlobalExtent: function (asc) {\n      var ret = this.getExtent();\n      ret[0] = this.toGlobalCoord(ret[0]);\n      ret[1] = this.toGlobalCoord(ret[1]);\n      asc && ret[0] > ret[1] && ret.reverse();\n      return ret;\n    },\n    getOtherAxis: function () {\n      this.grid.getOtherAxis();\n    },\n\n    /**\n     * @override\n     */\n    pointToData: function (point, clamp) {\n      return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n    },\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var localCoord = axis.toLocalCoord(80);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toLocalCoord: null,\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var globalCoord = axis.toLocalCoord(40);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toGlobalCoord: null\n  };\n  util.inherits(Axis2D, Axis_1);\n  var _default$1G = Axis2D;\n  var Axis2D_1 = _default$1G;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var defaultOption = {\n    show: true,\n    zlevel: 0,\n    z: 0,\n    // Inverse the axis.\n    inverse: false,\n    // Axis name displayed.\n    name: '',\n    // 'start' | 'middle' | 'end'\n    nameLocation: 'end',\n    // By degree. By default auto rotate by nameLocation.\n    nameRotate: null,\n    nameTruncate: {\n      maxWidth: null,\n      ellipsis: '...',\n      placeholder: '.'\n    },\n    // Use global text style by default.\n    nameTextStyle: {},\n    // The gap between axisName and axisLine.\n    nameGap: 15,\n    // Default `false` to support tooltip.\n    silent: false,\n    // Default `false` to avoid legacy user event listener fail.\n    triggerEvent: false,\n    tooltip: {\n      show: false\n    },\n    axisPointer: {},\n    axisLine: {\n      show: true,\n      onZero: true,\n      onZeroAxisIndex: null,\n      lineStyle: {\n        color: '#333',\n        width: 1,\n        type: 'solid'\n      },\n      // The arrow at both ends the the axis.\n      symbol: ['none', 'none'],\n      symbolSize: [10, 15]\n    },\n    axisTick: {\n      show: true,\n      // Whether axisTick is inside the grid or outside the grid.\n      inside: false,\n      // The length of axisTick.\n      length: 5,\n      lineStyle: {\n        width: 1\n      }\n    },\n    axisLabel: {\n      show: true,\n      // Whether axisLabel is inside the grid or outside the grid.\n      inside: false,\n      rotate: 0,\n      // true | false | null/undefined (auto)\n      showMinLabel: null,\n      // true | false | null/undefined (auto)\n      showMaxLabel: null,\n      margin: 8,\n      // formatter: null,\n      fontSize: 12\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: ['#ccc'],\n        width: 1,\n        type: 'solid'\n      }\n    },\n    splitArea: {\n      show: false,\n      areaStyle: {\n        color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n      }\n    }\n  };\n  var axisDefault = {};\n  axisDefault.categoryAxis = util.merge({\n    // The gap at both ends of the axis. For categoryAxis, boolean.\n    boundaryGap: true,\n    // Set false to faster category collection.\n    // Only usefull in the case like: category is\n    // ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // null means \"auto\":\n    // if axis.data provided, do not deduplication,\n    // else do deduplication.\n    deduplication: null,\n    // splitArea: {\n    // show: false\n    // },\n    splitLine: {\n      show: false\n    },\n    axisTick: {\n      // If tick is align with label when boundaryGap is true\n      alignWithLabel: false,\n      interval: 'auto'\n    },\n    axisLabel: {\n      interval: 'auto'\n    }\n  }, defaultOption);\n  axisDefault.valueAxis = util.merge({\n    // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n    // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n    boundaryGap: [0, 0],\n    // TODO\n    // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n    // Min value of the axis. can be:\n    // + a number\n    // + 'dataMin': use the min value in data.\n    // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n    // min: null,\n    // Max value of the axis. can be:\n    // + a number\n    // + 'dataMax': use the max value in data.\n    // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n    // max: null,\n    // Readonly prop, specifies start value of the range when using data zoom.\n    // rangeStart: null\n    // Readonly prop, specifies end value of the range when using data zoom.\n    // rangeEnd: null\n    // Optional value can be:\n    // + `false`: always include value 0.\n    // + `true`: the extent do not consider value 0.\n    // scale: false,\n    // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n    splitNumber: 5,\n    // Interval specifies the span of the ticks is mandatorily.\n    // interval: null\n    // Specify min interval when auto calculate tick interval.\n    // minInterval: null\n    // Specify max interval when auto calculate tick interval.\n    // maxInterval: null\n    minorTick: {\n      // Minor tick, not available for cateogry axis.\n      show: false,\n      // Split number of minor ticks. The value should be in range of (0, 100)\n      splitNumber: 5,\n      // Lenght of minor tick\n      length: 3,\n      // Same inside with axisTick\n      // Line style\n      lineStyle: {// Default to be same with axisTick\n      }\n    },\n    minorSplitLine: {\n      show: false,\n      lineStyle: {\n        color: '#eee',\n        width: 1\n      }\n    }\n  }, defaultOption);\n  axisDefault.timeAxis = util.defaults({\n    scale: true,\n    min: 'dataMin',\n    max: 'dataMax'\n  }, axisDefault.valueAxis);\n  axisDefault.logAxis = util.defaults({\n    scale: true,\n    logBase: 10\n  }, axisDefault.valueAxis);\n  var _default$1H = axisDefault;\n  var axisDefault_1 = _default$1H;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var getLayoutParams$2 = layout.getLayoutParams;\n  var mergeLayoutParam$2 = layout.mergeLayoutParam;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME axisType is fixed ?\n  var AXIS_TYPES = ['value', 'category', 'time', 'log'];\n  /**\n   * Generate sub axis model class\n   * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n   * @param {module:echarts/model/Component} BaseAxisModelClass\n   * @param {Function} axisTypeDefaulter\n   * @param {Object} [extraDefaultOption]\n   */\n\n  function _default$1I(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n    util.each(AXIS_TYPES, function (axisType) {\n      BaseAxisModelClass.extend({\n        /**\n         * @readOnly\n         */\n        type: axisName + 'Axis.' + axisType,\n        mergeDefaultAndTheme: function (option, ecModel) {\n          var layoutMode = this.layoutMode;\n          var inputPositionParams = layoutMode ? getLayoutParams$2(option) : {};\n          var themeModel = ecModel.getTheme();\n          util.merge(option, themeModel.get(axisType + 'Axis'));\n          util.merge(option, this.getDefaultOption());\n          option.type = axisTypeDefaulter(axisName, option);\n\n          if (layoutMode) {\n            mergeLayoutParam$2(option, inputPositionParams, layoutMode);\n          }\n        },\n\n        /**\n         * @override\n         */\n        optionUpdated: function () {\n          var thisOption = this.option;\n\n          if (thisOption.type === 'category') {\n            this.__ordinalMeta = OrdinalMeta_1.createByAxisModel(this);\n          }\n        },\n\n        /**\n         * Should not be called before all of 'getInitailData' finished.\n         * Because categories are collected during initializing data.\n         */\n        getCategories: function (rawData) {\n          var option = this.option; // FIXME\n          // warning if called before all of 'getInitailData' finished.\n\n          if (option.type === 'category') {\n            if (rawData) {\n              return option.data;\n            }\n\n            return this.__ordinalMeta.categories;\n          }\n        },\n        getOrdinalMeta: function () {\n          return this.__ordinalMeta;\n        },\n        defaultOption: util.mergeAll([{}, axisDefault_1[axisType + 'Axis'], extraDefaultOption], true)\n      });\n    });\n    Component.registerSubTypeDefaulter(axisName + 'Axis', util.curry(axisTypeDefaulter, axisName));\n  }\n\n  var axisModelCreator = _default$1I;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisModel = Component.extend({\n    type: 'cartesian2dAxis',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Axis2D}\n     */\n    axis: null,\n\n    /**\n     * @override\n     */\n    init: function () {\n      AxisModel.superApply(this, 'init', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function () {\n      AxisModel.superApply(this, 'mergeOption', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    restoreData: function () {\n      AxisModel.superApply(this, 'restoreData', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     * @return {module:echarts/model/Component}\n     */\n    getCoordSysModel: function () {\n      return this.ecModel.queryComponents({\n        mainType: 'grid',\n        index: this.option.gridIndex,\n        id: this.option.gridId\n      })[0];\n    }\n  });\n\n  function getAxisType(axisDim, option) {\n    // Default axis with data is category axis\n    return option.type || (option.data ? 'category' : 'value');\n  }\n\n  util.merge(AxisModel.prototype, axisModelCommonMixin);\n  var extraOption = {\n    // gridIndex: 0,\n    // gridId: '',\n    // Offset is for multiple axis on the same position\n    offset: 0\n  };\n  axisModelCreator('x', AxisModel, getAxisType, extraOption);\n  axisModelCreator('y', AxisModel, getAxisType, extraOption);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Grid \n  //  Cartesian2D \n  var _default$1J = Component.extend({\n    type: 'grid',\n    dependencies: ['xAxis', 'yAxis'],\n    layoutMode: 'box',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Grid}\n     */\n    coordinateSystem: null,\n    defaultOption: {\n      show: false,\n      zlevel: 0,\n      z: 0,\n      left: '10%',\n      top: 60,\n      right: '10%',\n      bottom: 60,\n      // If grid size contain label\n      containLabel: false,\n      // width: {totalWidth} - left - right,\n      // height: {totalHeight} - top - bottom,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    }\n  });\n\n  var isObject$f = util.isObject;\n  var each$k = util.each;\n  var map$9 = util.map;\n  var indexOf$4 = util.indexOf;\n\n\n\n  var getLayoutRect$1 = layout.getLayoutRect;\n\n\n\n  var createScaleByModel$1 = axisHelper.createScaleByModel;\n  var ifAxisCrossZero$1 = axisHelper.ifAxisCrossZero;\n  var niceScaleExtent$1 = axisHelper.niceScaleExtent;\n  var estimateLabelUnionRect$1 = axisHelper.estimateLabelUnionRect;\n\n\n\n\n\n\n\n\n\n  var getStackedDimension$2 = dataStackHelper.getStackedDimension;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Grid is a region which contains at most 4 cartesian systems\n   *\n   * TODO Default cartesian\n   */\n  // Depends on GridModel, AxisModel, which performs preprocess.\n\n  /**\n   * Check if the axis is used in the specified grid\n   * @inner\n   */\n  function isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n    return axisModel.getCoordSysModel() === gridModel;\n  }\n\n  function Grid(gridModel, ecModel, api) {\n    /**\n     * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n     * @private\n     */\n    this._coordsMap = {};\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n     * @private\n     */\n\n    this._coordsList = [];\n    /**\n     * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n     * @private\n     */\n\n    this._axesMap = {};\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n     * @private\n     */\n\n    this._axesList = [];\n\n    this._initCartesian(gridModel, ecModel, api);\n\n    this.model = gridModel;\n  }\n\n  var gridProto = Grid.prototype;\n  gridProto.type = 'grid';\n  gridProto.axisPointerEnabled = true;\n\n  gridProto.getRect = function () {\n    return this._rect;\n  };\n\n  gridProto.update = function (ecModel, api) {\n    var axesMap = this._axesMap;\n\n    this._updateScale(ecModel, this.model);\n\n    each$k(axesMap.x, function (xAxis) {\n      niceScaleExtent$1(xAxis.scale, xAxis.model);\n    });\n    each$k(axesMap.y, function (yAxis) {\n      niceScaleExtent$1(yAxis.scale, yAxis.model);\n    }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n    var onZeroRecords = {};\n    each$k(axesMap.x, function (xAxis) {\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n    });\n    each$k(axesMap.y, function (yAxis) {\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n    }); // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n\n    this.resize(this.model, api);\n  };\n\n  function fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n    axis.getAxesOnZeroOf = function () {\n      // TODO: onZero of multiple axes.\n      return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n    }; // onZero can not be enabled in these two situations:\n    // 1. When any other axis is a category axis.\n    // 2. When no axis is cross 0 point.\n\n\n    var otherAxes = axesMap[otherAxisDim];\n    var otherAxisOnZeroOf;\n    var axisModel = axis.model;\n    var onZero = axisModel.get('axisLine.onZero');\n    var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n    if (!onZero) {\n      return;\n    } // If target axis is specified.\n\n\n    if (onZeroAxisIndex != null) {\n      if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n        otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n      }\n    } else {\n      // Find the first available other axis.\n      for (var idx in otherAxes) {\n        if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n        // if both onZero, the two Y axes overlap.\n        && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n          otherAxisOnZeroOf = otherAxes[idx];\n          break;\n        }\n      }\n    }\n\n    if (otherAxisOnZeroOf) {\n      onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n    }\n\n    function getOnZeroRecordKey(axis) {\n      return axis.dim + '_' + axis.index;\n    }\n  }\n\n  function canOnZeroToAxis(axis) {\n    return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero$1(axis);\n  }\n  /**\n   * Resize the grid\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n\n  gridProto.resize = function (gridModel, api, ignoreContainLabel) {\n    var gridRect = getLayoutRect$1(gridModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._rect = gridRect;\n    var axesList = this._axesList;\n    adjustAxes(); // Minus label size\n\n    if (!ignoreContainLabel && gridModel.get('containLabel')) {\n      each$k(axesList, function (axis) {\n        if (!axis.model.get('axisLabel.inside')) {\n          var labelUnionRect = estimateLabelUnionRect$1(axis);\n\n          if (labelUnionRect) {\n            var dim = axis.isHorizontal() ? 'height' : 'width';\n            var margin = axis.model.get('axisLabel.margin');\n            gridRect[dim] -= labelUnionRect[dim] + margin;\n\n            if (axis.position === 'top') {\n              gridRect.y += labelUnionRect.height + margin;\n            } else if (axis.position === 'left') {\n              gridRect.x += labelUnionRect.width + margin;\n            }\n          }\n        }\n      });\n      adjustAxes();\n    }\n\n    function adjustAxes() {\n      each$k(axesList, function (axis) {\n        var isHorizontal = axis.isHorizontal();\n        var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n        var idx = axis.inverse ? 1 : 0;\n        axis.setExtent(extent[idx], extent[1 - idx]);\n        updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n      });\n    }\n  };\n  /**\n   * @param {string} axisType\n   * @param {number} [axisIndex]\n   */\n\n\n  gridProto.getAxis = function (axisType, axisIndex) {\n    var axesMapOnDim = this._axesMap[axisType];\n\n    if (axesMapOnDim != null) {\n      if (axisIndex == null) {\n        // Find first axis\n        for (var name in axesMapOnDim) {\n          if (axesMapOnDim.hasOwnProperty(name)) {\n            return axesMapOnDim[name];\n          }\n        }\n      }\n\n      return axesMapOnDim[axisIndex];\n    }\n  };\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n\n\n  gridProto.getAxes = function () {\n    return this._axesList.slice();\n  };\n  /**\n   * Usage:\n   *      grid.getCartesian(xAxisIndex, yAxisIndex);\n   *      grid.getCartesian(xAxisIndex);\n   *      grid.getCartesian(null, yAxisIndex);\n   *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n   *\n   * @param {number|Object} [xAxisIndex]\n   * @param {number} [yAxisIndex]\n   */\n\n\n  gridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      return this._coordsMap[key];\n    }\n\n    if (isObject$f(xAxisIndex)) {\n      yAxisIndex = xAxisIndex.yAxisIndex;\n      xAxisIndex = xAxisIndex.xAxisIndex;\n    } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n        return coordList[i];\n      }\n    }\n  };\n\n  gridProto.getCartesians = function () {\n    return this._coordsList.slice();\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n  };\n  /**\n   * @inner\n   */\n\n\n  gridProto._findConvertTarget = function (ecModel, finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n\n    if (seriesModel) {\n      cartesian = seriesModel.coordinateSystem;\n      indexOf$4(coordsList, cartesian) < 0 && (cartesian = null);\n    } else if (xAxisModel && yAxisModel) {\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    } else if (xAxisModel) {\n      axis = this.getAxis('x', xAxisModel.componentIndex);\n    } else if (yAxisModel) {\n      axis = this.getAxis('y', yAxisModel.componentIndex);\n    } // Lowest priority.\n    else if (gridModel) {\n        var grid = gridModel.coordinateSystem;\n\n        if (grid === this) {\n          cartesian = this._coordsList[0];\n        }\n      }\n\n    return {\n      cartesian: cartesian,\n      axis: axis\n    };\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.containPoint = function (point) {\n    var coord = this._coordsList[0];\n\n    if (coord) {\n      return coord.containPoint(point);\n    }\n  };\n  /**\n   * Initialize cartesian coordinate systems\n   * @private\n   */\n\n\n  gridProto._initCartesian = function (gridModel, ecModel, api) {\n    var axisPositionUsed = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var axesMap = {\n      x: {},\n      y: {}\n    };\n    var axesCount = {\n      x: 0,\n      y: 0\n    }; /// Create axis\n\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n    if (!axesCount.x || !axesCount.y) {\n      // Roll back when there no either x or y axis\n      this._axesMap = {};\n      this._axesList = [];\n      return;\n    }\n\n    this._axesMap = axesMap; /// Create cartesian2d\n\n    each$k(axesMap.x, function (xAxis, xAxisIndex) {\n      each$k(axesMap.y, function (yAxis, yAxisIndex) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        var cartesian = new Cartesian2D_1(key);\n        cartesian.grid = this;\n        cartesian.model = gridModel;\n        this._coordsMap[key] = cartesian;\n\n        this._coordsList.push(cartesian);\n\n        cartesian.addAxis(xAxis);\n        cartesian.addAxis(yAxis);\n      }, this);\n    }, this);\n\n    function createAxisCreator(axisType) {\n      return function (axisModel, idx) {\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\n          return;\n        }\n\n        var axisPosition = axisModel.get('position');\n\n        if (axisType === 'x') {\n          // Fix position\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n            // Default bottom of X\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n          }\n        } else {\n          // Fix position\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\n            // Default left of Y\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\n          }\n        }\n\n        axisPositionUsed[axisPosition] = true;\n        var axis = new Axis2D_1(axisType, createScaleByModel$1(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n        axisModel.axis = axis; // Inject axisModel into axis\n\n        axis.model = axisModel; // Inject grid info axis\n\n        axis.grid = this; // Index of axis, can be used as key\n\n        axis.index = idx;\n\n        this._axesList.push(axis);\n\n        axesMap[axisType][idx] = axis;\n        axesCount[axisType]++;\n      };\n    }\n  };\n  /**\n   * Update cartesian properties from series\n   * @param  {module:echarts/model/Option} option\n   * @private\n   */\n\n\n  gridProto._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each$k(this._axesList, function (axis) {\n      axis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (isCartesian2D(seriesModel)) {\n        var axesModels = findAxesModels(seriesModel);\n        var xAxisModel = axesModels[0];\n        var yAxisModel = axesModels[1];\n\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\n          return;\n        }\n\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n        var data = seriesModel.getData();\n        var xAxis = cartesian.getAxis('x');\n        var yAxis = cartesian.getAxis('y');\n\n        if (data.type === 'list') {\n          unionExtent(data, xAxis);\n          unionExtent(data, yAxis);\n        }\n      }\n    }, this);\n\n    function unionExtent(data, axis, seriesModel) {\n      each$k(data.mapDimension(axis.dim, true), function (dim) {\n        axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n        // is [0.1, 0.5], the extent of the `stackResultDimension`\n        // is [7, 9], the final extent should not include [0.1, 0.5].\n        data, getStackedDimension$2(data, dim));\n      });\n    }\n  };\n  /**\n   * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n\n\n  gridProto.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n    each$k(this.getCartesians(), function (cartesian) {\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\n      indexOf$4(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n      indexOf$4(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n    return {\n      baseAxes: baseAxes,\n      otherAxes: otherAxes\n    };\n  };\n  /**\n   * @inner\n   */\n\n\n  function updateAxisTransform(axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n    axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return axisExtentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return axisExtentSum - coord + coordBase;\n    };\n  }\n\n  var axesTypes = ['xAxis', 'yAxis'];\n  /**\n   * @inner\n   */\n\n  function findAxesModels(seriesModel, ecModel) {\n    return map$9(axesTypes, function (axisType) {\n      var axisModel = seriesModel.getReferringComponents(axisType)[0];\n      return axisModel;\n    });\n  }\n  /**\n   * @inner\n   */\n\n\n  function isCartesian2D(seriesModel) {\n    return seriesModel.get('coordinateSystem') === 'cartesian2d';\n  }\n\n  Grid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n      var grid = new Grid(gridModel, ecModel, api);\n      grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n      // should be performed in create stage.\n\n      grid.resize(gridModel, api, true);\n      gridModel.coordinateSystem = grid;\n      grids.push(grid);\n    }); // Inject the coordinateSystems into seriesModel\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (!isCartesian2D(seriesModel)) {\n        return;\n      }\n\n      var axesModels = findAxesModels(seriesModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n      var gridModel = xAxisModel.getCoordSysModel();\n      var grid = gridModel.coordinateSystem;\n      seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    });\n    return grids;\n  }; // For deciding which dimensions to use when creating list data\n\n\n  Grid.dimensions = Grid.prototype.dimensions = Cartesian2D_1.prototype.dimensions;\n  CoordinateSystem.register('cartesian2d', Grid);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieve$1 = util.retrieve;\n  var defaults$3 = util.defaults;\n  var extend$9 = util.extend;\n  var each$l = util.each;\n\n\n\n\n\n\n\n\n\n  var isRadianAroundZero$1 = number.isRadianAroundZero;\n  var remRadian$1 = number.remRadian;\n\n\n\n  var createSymbol$3 = symbol.createSymbol;\n\n\n\n\n\n  var v2ApplyTransform$2 = vector.applyTransform;\n\n\n\n  var shouldShowAllLabels$2 = axisHelper.shouldShowAllLabels;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI$2 = Math.PI;\n  /**\n   * A final axis is translated and rotated from a \"standard axis\".\n   * So opt.position and opt.rotation is required.\n   *\n   * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n   * for example: (0, 0) ------------> (0, 50)\n   *\n   * nameDirection or tickDirection or labelDirection is 1 means tick\n   * or label is below the standard axis, whereas is -1 means above\n   * the standard axis. labelOffset means offset between label and axis,\n   * which is useful when 'onZero', where axisLabel is in the grid and\n   * label in outside grid.\n   *\n   * Tips: like always,\n   * positive rotation represents anticlockwise, and negative rotation\n   * represents clockwise.\n   * The direction of position coordinate is the same as the direction\n   * of screen coordinate.\n   *\n   * Do not need to consider axis 'inverse', which is auto processed by\n   * axis extent.\n   *\n   * @param {module:zrender/container/Group} group\n   * @param {Object} axisModel\n   * @param {Object} opt Standard axis parameters.\n   * @param {Array.<number>} opt.position [x, y]\n   * @param {number} opt.rotation by radian\n   * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n   * @param {number} [opt.tickDirection=1] 1 or -1\n   * @param {number} [opt.labelDirection=1] 1 or -1\n   * @param {number} [opt.labelOffset=0] Usefull when onZero.\n   * @param {string} [opt.axisLabelShow] default get from axisModel.\n   * @param {string} [opt.axisName] default get from axisModel.\n   * @param {number} [opt.axisNameAvailableWidth]\n   * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n   * @param {number} [opt.strokeContainThreshold] Default label interval when label\n   * @param {number} [opt.nameTruncateMaxWidth]\n   */\n\n  var AxisBuilder = function (axisModel, opt) {\n    /**\n     * @readOnly\n     */\n    this.opt = opt;\n    /**\n     * @readOnly\n     */\n\n    this.axisModel = axisModel; // Default value\n\n    defaults$3(opt, {\n      labelOffset: 0,\n      nameDirection: 1,\n      tickDirection: 1,\n      labelDirection: 1,\n      silent: true\n    });\n    /**\n     * @readOnly\n     */\n\n    this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n    var dumbGroup = new graphic.Group({\n      position: opt.position.slice(),\n      rotation: opt.rotation\n    }); // this.group.add(dumbGroup);\n    // this._dumbGroup = dumbGroup;\n\n    dumbGroup.updateTransform();\n    this._transform = dumbGroup.transform;\n    this._dumbGroup = dumbGroup;\n  };\n\n  AxisBuilder.prototype = {\n    constructor: AxisBuilder,\n    hasBuilder: function (name) {\n      return !!builders[name];\n    },\n    add: function (name) {\n      builders[name].call(this);\n    },\n    getGroup: function () {\n      return this.group;\n    }\n  };\n  var builders = {\n    /**\n     * @private\n     */\n    axisLine: function () {\n      var opt = this.opt;\n      var axisModel = this.axisModel;\n\n      if (!axisModel.get('axisLine.show')) {\n        return;\n      }\n\n      var extent = this.axisModel.axis.getExtent();\n      var matrix = this._transform;\n      var pt1 = [extent[0], 0];\n      var pt2 = [extent[1], 0];\n\n      if (matrix) {\n        v2ApplyTransform$2(pt1, pt1, matrix);\n        v2ApplyTransform$2(pt2, pt2, matrix);\n      }\n\n      var lineStyle = extend$9({\n        lineCap: 'round'\n      }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n      this.group.add(new graphic.Line({\n        // Id for animation\n        anid: 'line',\n        subPixelOptimize: true,\n        shape: {\n          x1: pt1[0],\n          y1: pt1[1],\n          x2: pt2[0],\n          y2: pt2[1]\n        },\n        style: lineStyle,\n        strokeContainThreshold: opt.strokeContainThreshold || 5,\n        silent: true,\n        z2: 1\n      }));\n      var arrows = axisModel.get('axisLine.symbol');\n      var arrowSize = axisModel.get('axisLine.symbolSize');\n      var arrowOffset = axisModel.get('axisLine.symbolOffset') || 0;\n\n      if (typeof arrowOffset === 'number') {\n        arrowOffset = [arrowOffset, arrowOffset];\n      }\n\n      if (arrows != null) {\n        if (typeof arrows === 'string') {\n          // Use the same arrow for start and end point\n          arrows = [arrows, arrows];\n        }\n\n        if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n          // Use the same size for width and height\n          arrowSize = [arrowSize, arrowSize];\n        }\n\n        var symbolWidth = arrowSize[0];\n        var symbolHeight = arrowSize[1];\n        each$l([{\n          rotate: opt.rotation + Math.PI / 2,\n          offset: arrowOffset[0],\n          r: 0\n        }, {\n          rotate: opt.rotation - Math.PI / 2,\n          offset: arrowOffset[1],\n          r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n        }], function (point, index) {\n          if (arrows[index] !== 'none' && arrows[index] != null) {\n            var symbol = createSymbol$3(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true); // Calculate arrow position with offset\n\n            var r = point.r + point.offset;\n            var pos = [pt1[0] + r * Math.cos(opt.rotation), pt1[1] - r * Math.sin(opt.rotation)];\n            symbol.attr({\n              rotation: point.rotate,\n              position: pos,\n              silent: true,\n              z2: 11\n            });\n            this.group.add(symbol);\n          }\n        }, this);\n      }\n    },\n\n    /**\n     * @private\n     */\n    axisTickLabel: function () {\n      var axisModel = this.axisModel;\n      var opt = this.opt;\n      var ticksEls = buildAxisMajorTicks(this, axisModel, opt);\n      var labelEls = buildAxisLabel(this, axisModel, opt);\n      fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n      buildAxisMinorTicks(this, axisModel, opt);\n    },\n\n    /**\n     * @private\n     */\n    axisName: function () {\n      var opt = this.opt;\n      var axisModel = this.axisModel;\n      var name = retrieve$1(opt.axisName, axisModel.get('name'));\n\n      if (!name) {\n        return;\n      }\n\n      var nameLocation = axisModel.get('nameLocation');\n      var nameDirection = opt.nameDirection;\n      var textStyleModel = axisModel.getModel('nameTextStyle');\n      var gap = axisModel.get('nameGap') || 0;\n      var extent = this.axisModel.axis.getExtent();\n      var gapSignal = extent[0] > extent[1] ? -1 : 1;\n      var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n      // Reuse labelOffset.\n      isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n      var labelLayout;\n      var nameRotation = axisModel.get('nameRotate');\n\n      if (nameRotation != null) {\n        nameRotation = nameRotation * PI$2 / 180; // To radian.\n      }\n\n      var axisNameAvailableWidth;\n\n      if (isNameLocationCenter(nameLocation)) {\n        labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n        nameDirection);\n      } else {\n        labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n        axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n        if (axisNameAvailableWidth != null) {\n          axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n          !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n        }\n      }\n\n      var textFont = textStyleModel.getFont();\n      var truncateOpt = axisModel.get('nameTruncate', true) || {};\n      var ellipsis = truncateOpt.ellipsis;\n      var maxWidth = retrieve$1(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n      // truncate rich text? (consider performance)\n\n      var truncatedText = ellipsis != null && maxWidth != null ? format$1.truncateText(name, maxWidth, textFont, ellipsis, {\n        minChar: 2,\n        placeholder: truncateOpt.placeholder\n      }) : name;\n      var tooltipOpt = axisModel.get('tooltip', true);\n      var mainType = axisModel.mainType;\n      var formatterParams = {\n        componentType: mainType,\n        name: name,\n        $vars: ['name']\n      };\n      formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n      var textEl = new graphic.Text({\n        // Id for animation\n        anid: 'name',\n        __fullText: name,\n        __truncatedText: truncatedText,\n        position: pos,\n        rotation: labelLayout.rotation,\n        silent: isLabelSilent(axisModel),\n        z2: 1,\n        tooltip: tooltipOpt && tooltipOpt.show ? extend$9({\n          content: name,\n          formatter: function () {\n            return name;\n          },\n          formatterParams: formatterParams\n        }, tooltipOpt) : null\n      });\n      graphic.setTextStyle(textEl.style, textStyleModel, {\n        text: truncatedText,\n        textFont: textFont,\n        textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n        textAlign: textStyleModel.get('align') || labelLayout.textAlign,\n        textVerticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n      });\n\n      if (axisModel.get('triggerEvent')) {\n        textEl.eventData = makeAxisEventDataBase(axisModel);\n        textEl.eventData.targetType = 'axisName';\n        textEl.eventData.name = name;\n      } // FIXME\n\n\n      this._dumbGroup.add(textEl);\n\n      textEl.updateTransform();\n      this.group.add(textEl);\n      textEl.decomposeTransform();\n    }\n  };\n\n  var makeAxisEventDataBase = AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n    var eventData = {\n      componentType: axisModel.mainType,\n      componentIndex: axisModel.componentIndex\n    };\n    eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n    return eventData;\n  };\n  /**\n   * @public\n   * @static\n   * @param {Object} opt\n   * @param {number} axisRotation in radian\n   * @param {number} textRotation in radian\n   * @param {number} direction\n   * @return {Object} {\n   *  rotation, // according to axis\n   *  textAlign,\n   *  textVerticalAlign\n   * }\n   */\n\n\n  var innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n    var rotationDiff = remRadian$1(textRotation - axisRotation);\n    var textAlign;\n    var textVerticalAlign;\n\n    if (isRadianAroundZero$1(rotationDiff)) {\n      // Label is parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else if (isRadianAroundZero$1(rotationDiff - PI$2)) {\n      // Label is inverse parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n\n      if (rotationDiff > 0 && rotationDiff < PI$2) {\n        textAlign = direction > 0 ? 'right' : 'left';\n      } else {\n        textAlign = direction > 0 ? 'left' : 'right';\n      }\n    }\n\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  };\n\n  function endTextLayout(opt, textPosition, textRotate, extent) {\n    var rotationDiff = remRadian$1(textRotate - opt.rotation);\n    var textAlign;\n    var textVerticalAlign;\n    var inverse = extent[0] > extent[1];\n    var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n    if (isRadianAroundZero$1(rotationDiff - PI$2 / 2)) {\n      textVerticalAlign = onLeft ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else if (isRadianAroundZero$1(rotationDiff - PI$2 * 1.5)) {\n      textVerticalAlign = onLeft ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n\n      if (rotationDiff < PI$2 * 1.5 && rotationDiff > PI$2 / 2) {\n        textAlign = onLeft ? 'left' : 'right';\n      } else {\n        textAlign = onLeft ? 'right' : 'left';\n      }\n    }\n\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  }\n\n  var isLabelSilent = AxisBuilder.isLabelSilent = function (axisModel) {\n    var tooltipOpt = axisModel.get('tooltip');\n    return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n    || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n  };\n\n  function fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n    if (shouldShowAllLabels$2(axisModel.axis)) {\n      return;\n    } // If min or max are user set, we need to check\n    // If the tick on min(max) are overlap on their neighbour tick\n    // If they are overlapped, we need to hide the min(max) tick label\n\n\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n    // Have not consider onBand yet, where tick els is more than label els.\n\n    labelEls = labelEls || [];\n    tickEls = tickEls || [];\n    var firstLabel = labelEls[0];\n    var nextLabel = labelEls[1];\n    var lastLabel = labelEls[labelEls.length - 1];\n    var prevLabel = labelEls[labelEls.length - 2];\n    var firstTick = tickEls[0];\n    var nextTick = tickEls[1];\n    var lastTick = tickEls[tickEls.length - 1];\n    var prevTick = tickEls[tickEls.length - 2];\n\n    if (showMinLabel === false) {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n      if (showMinLabel) {\n        ignoreEl(nextLabel);\n        ignoreEl(nextTick);\n      } else {\n        ignoreEl(firstLabel);\n        ignoreEl(firstTick);\n      }\n    }\n\n    if (showMaxLabel === false) {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n      if (showMaxLabel) {\n        ignoreEl(prevLabel);\n        ignoreEl(prevTick);\n      } else {\n        ignoreEl(lastLabel);\n        ignoreEl(lastTick);\n      }\n    }\n  }\n\n  function ignoreEl(el) {\n    el && (el.ignore = true);\n  }\n\n  function isTwoLabelOverlapped(current, next, labelLayout) {\n    // current and next has the same rotation.\n    var firstRect = current && current.getBoundingRect().clone();\n    var nextRect = next && next.getBoundingRect().clone();\n\n    if (!firstRect || !nextRect) {\n      return;\n    } // When checking intersect of two rotated labels, we use mRotationBack\n    // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n    var mRotationBack = matrix.identity([]);\n    matrix.rotate(mRotationBack, mRotationBack, -current.rotation);\n    firstRect.applyTransform(matrix.mul([], mRotationBack, current.getLocalTransform()));\n    nextRect.applyTransform(matrix.mul([], mRotationBack, next.getLocalTransform()));\n    return firstRect.intersect(nextRect);\n  }\n\n  function isNameLocationCenter(nameLocation) {\n    return nameLocation === 'middle' || nameLocation === 'center';\n  }\n\n  function createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, aniid) {\n    var tickEls = [];\n    var pt1 = [];\n    var pt2 = [];\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = ticksCoords[i].coord;\n      pt1[0] = tickCoord;\n      pt1[1] = 0;\n      pt2[0] = tickCoord;\n      pt2[1] = tickEndCoord;\n\n      if (tickTransform) {\n        v2ApplyTransform$2(pt1, pt1, tickTransform);\n        v2ApplyTransform$2(pt2, pt2, tickTransform);\n      } // Tick line, Not use group transform to have better line draw\n\n\n      var tickEl = new graphic.Line({\n        // Id for animation\n        anid: aniid + '_' + ticksCoords[i].tickValue,\n        subPixelOptimize: true,\n        shape: {\n          x1: pt1[0],\n          y1: pt1[1],\n          x2: pt2[0],\n          y2: pt2[1]\n        },\n        style: tickLineStyle,\n        z2: 2,\n        silent: true\n      });\n      tickEls.push(tickEl);\n    }\n\n    return tickEls;\n  }\n\n  function buildAxisMajorTicks(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var tickModel = axisModel.getModel('axisTick');\n\n    if (!tickModel.get('show') || axis.scale.isBlank()) {\n      return;\n    }\n\n    var lineStyleModel = tickModel.getModel('lineStyle');\n    var tickEndCoord = opt.tickDirection * tickModel.get('length');\n    var ticksCoords = axis.getTicksCoords();\n    var ticksEls = createTicks(ticksCoords, axisBuilder._transform, tickEndCoord, defaults$3(lineStyleModel.getLineStyle(), {\n      stroke: axisModel.get('axisLine.lineStyle.color')\n    }), 'ticks');\n\n    for (var i = 0; i < ticksEls.length; i++) {\n      axisBuilder.group.add(ticksEls[i]);\n    }\n\n    return ticksEls;\n  }\n\n  function buildAxisMinorTicks(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var minorTickModel = axisModel.getModel('minorTick');\n\n    if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n      return;\n    }\n\n    var minorTicksCoords = axis.getMinorTicksCoords();\n\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var lineStyleModel = minorTickModel.getModel('lineStyle');\n    var tickEndCoord = opt.tickDirection * minorTickModel.get('length');\n    var minorTickLineStyle = defaults$3(lineStyleModel.getLineStyle(), defaults$3(axisModel.getModel('axisTick').getLineStyle(), {\n      stroke: axisModel.get('axisLine.lineStyle.color')\n    }));\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      var minorTicksEls = createTicks(minorTicksCoords[i], axisBuilder._transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n\n      for (var k = 0; k < minorTicksEls.length; k++) {\n        axisBuilder.group.add(minorTicksEls[k]);\n      }\n    }\n  }\n\n  function buildAxisLabel(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var show = retrieve$1(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n    if (!show || axis.scale.isBlank()) {\n      return;\n    }\n\n    var labelModel = axisModel.getModel('axisLabel');\n    var labelMargin = labelModel.get('margin');\n    var labels = axis.getViewLabels(); // Special label rotate.\n\n    var labelRotation = (retrieve$1(opt.labelRotate, labelModel.get('rotate')) || 0) * PI$2 / 180;\n    var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n    var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n    var labelEls = [];\n    var silent = isLabelSilent(axisModel);\n    var triggerEvent = axisModel.get('triggerEvent');\n    each$l(labels, function (labelItem, index) {\n      var tickValue = labelItem.tickValue;\n      var formattedLabel = labelItem.formattedLabel;\n      var rawLabel = labelItem.rawLabel;\n      var itemLabelModel = labelModel;\n\n      if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n        itemLabelModel = new Model_1(rawCategoryData[tickValue].textStyle, labelModel, axisModel.ecModel);\n      }\n\n      var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n      var tickCoord = axis.dataToCoord(tickValue);\n      var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n      var textEl = new graphic.Text({\n        // Id for animation\n        anid: 'label_' + tickValue,\n        position: pos,\n        rotation: labelLayout.rotation,\n        silent: silent,\n        z2: 10\n      });\n      graphic.setTextStyle(textEl.style, itemLabelModel, {\n        text: formattedLabel,\n        textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n        textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n        textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n        // index of axis.data. So tick should not be exposed to user\n        // in category axis.\n        // (2) Compatible with previous version, which always use formatted label as\n        // input. But in interval scale the formatted label is like '223,445', which\n        // maked user repalce ','. So we modify it to return original val but remain\n        // it as 'string' to avoid error in replacing.\n        axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n      }); // Pack data for mouse event\n\n      if (triggerEvent) {\n        textEl.eventData = makeAxisEventDataBase(axisModel);\n        textEl.eventData.targetType = 'axisLabel';\n        textEl.eventData.value = rawLabel;\n      } // FIXME\n\n\n      axisBuilder._dumbGroup.add(textEl);\n\n      textEl.updateTransform();\n      labelEls.push(textEl);\n      axisBuilder.group.add(textEl);\n      textEl.decomposeTransform();\n    });\n    return labelEls;\n  }\n\n  var _default$1K = AxisBuilder;\n  var AxisBuilder_1 = _default$1K;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$m = util.each;\n  var curry$1 = util.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n\n  function collect(ecModel, api) {\n    var result = {\n      /**\n       * key: makeKey(axis.model)\n       * value: {\n       *      axis,\n       *      coordSys,\n       *      axisPointerModel,\n       *      triggerTooltip,\n       *      involveSeries,\n       *      snap,\n       *      seriesModels,\n       *      seriesDataCount\n       * }\n       */\n      axesInfo: {},\n      seriesInvolved: false,\n\n      /**\n       * key: makeKey(coordSys.model)\n       * value: Object: key makeKey(axis.model), value: axisInfo\n       */\n      coordSysAxesInfo: {},\n      coordSysMap: {}\n    };\n    collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n    result.seriesInvolved && collectSeriesInfo(result, ecModel);\n    return result;\n  }\n\n  function collectAxesInfo(result, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n    var linksOption = globalAxisPointerModel.get('link', true) || [];\n    var linkGroups = []; // Collect axes info.\n\n    each$m(api.getCoordinateSystems(), function (coordSys) {\n      // Some coordinate system do not support axes, like geo.\n      if (!coordSys.axisPointerEnabled) {\n        return;\n      }\n\n      var coordSysKey = makeKey(coordSys.model);\n      var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n      result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n      // for user. So we enable seting tooltip on coordSys model.\n\n      var coordSysModel = coordSys.model;\n      var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n      each$m(coordSys.getAxes(), curry$1(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n      // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n      if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n      // show but axisPointer will show as normal.\n      && baseTooltipModel.get('show')) {\n        // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n        // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n        var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n        var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n        var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n        if (triggerAxis || cross) {\n          each$m(tooltipAxes.baseAxes, curry$1(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n        }\n\n        if (cross) {\n          each$m(tooltipAxes.otherAxes, curry$1(saveTooltipAxisInfo, 'cross', false));\n        }\n      } // fromTooltip: true | false | 'cross'\n      // triggerTooltip: true | false | null\n\n\n      function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n        var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n        var axisPointerShow = axisPointerModel.get('show');\n\n        if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n          return;\n        }\n\n        if (triggerTooltip == null) {\n          triggerTooltip = axisPointerModel.get('triggerTooltip');\n        }\n\n        axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n        var snap = axisPointerModel.get('snap');\n        var key = makeKey(axis.model);\n        var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n        var axisInfo = result.axesInfo[key] = {\n          key: key,\n          axis: axis,\n          coordSys: coordSys,\n          axisPointerModel: axisPointerModel,\n          triggerTooltip: triggerTooltip,\n          involveSeries: involveSeries,\n          snap: snap,\n          useHandle: isHandleTrigger(axisPointerModel),\n          seriesModels: []\n        };\n        axesInfoInCoordSys[key] = axisInfo;\n        result.seriesInvolved |= involveSeries;\n        var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n        if (groupIndex != null) {\n          var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n            axesInfo: {}\n          });\n          linkGroup.axesInfo[key] = axisInfo;\n          linkGroup.mapper = linksOption[groupIndex].mapper;\n          axisInfo.linkGroup = linkGroup;\n        }\n      }\n    });\n  }\n\n  function makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n    var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n    var volatileOption = {};\n    each$m(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n      volatileOption[field] = util.clone(tooltipAxisPointerModel.get(field));\n    }); // category axis do not auto snap, otherwise some tick that do not\n    // has value can not be hovered. value/time/log axis default snap if\n    // triggered from tooltip and trigger tooltip.\n\n    volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n    // Only these properties can be overrided from tooltip to axisPointer.\n\n    if (tooltipAxisPointerModel.get('type') === 'cross') {\n      volatileOption.type = 'line';\n    }\n\n    var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n    labelOption.show == null && (labelOption.show = false);\n\n    if (fromTooltip === 'cross') {\n      // When 'cross', both axes show labels.\n      var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get('label.show');\n      labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\n      // (cross style is dashed by default)\n\n      if (!triggerTooltip) {\n        var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n        crossStyle && util.defaults(labelOption, crossStyle.textStyle);\n      }\n    }\n\n    return axis.model.getModel('axisPointer', new Model_1(volatileOption, globalAxisPointerModel, ecModel));\n  }\n\n  function collectSeriesInfo(result, ecModel) {\n    // Prepare data for axis trigger\n    ecModel.eachSeries(function (seriesModel) {\n      // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n      var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n      if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n        return;\n      }\n\n      each$m(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n        var axis = axisInfo.axis;\n\n        if (coordSys.getAxis(axis.dim) === axis) {\n          axisInfo.seriesModels.push(seriesModel);\n          axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n          axisInfo.seriesDataCount += seriesModel.getData().count();\n        }\n      });\n    }, this);\n  }\n  /**\n   * For example:\n   * {\n   *     axisPointer: {\n   *         links: [{\n   *             xAxisIndex: [2, 4],\n   *             yAxisIndex: 'all'\n   *         }, {\n   *             xAxisId: ['a5', 'a7'],\n   *             xAxisName: 'xxx'\n   *         }]\n   *     }\n   * }\n   */\n\n\n  function getLinkGroupIndex(linksOption, axis) {\n    var axisModel = axis.model;\n    var dim = axis.dim;\n\n    for (var i = 0; i < linksOption.length; i++) {\n      var linkOption = linksOption[i] || {};\n\n      if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n        return i;\n      }\n    }\n  }\n\n  function checkPropInLink(linkPropValue, axisPropValue) {\n    return linkPropValue === 'all' || util.isArray(linkPropValue) && util.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n  }\n\n  function fixValue(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n\n    if (!axisInfo) {\n      return;\n    }\n\n    var axisPointerModel = axisInfo.axisPointerModel;\n    var scale = axisInfo.axis.scale;\n    var option = axisPointerModel.option;\n    var status = axisPointerModel.get('status');\n    var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n    if (value != null) {\n      value = scale.parse(value);\n    }\n\n    var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n    // and status should be initialized.\n\n    if (status == null) {\n      option.status = useHandle ? 'show' : 'hide';\n    }\n\n    var extent = scale.getExtent().slice();\n    extent[0] > extent[1] && extent.reverse();\n\n    if ( // Pick a value on axis when initializing.\n    value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n    // where we should re-pick a value to keep `handle` displaying normally.\n    || value > extent[1]) {\n      // Make handle displayed on the end of the axis when init, which looks better.\n      value = extent[1];\n    }\n\n    if (value < extent[0]) {\n      value = extent[0];\n    }\n\n    option.value = value;\n\n    if (useHandle) {\n      option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n    }\n  }\n\n  function getAxisInfo(axisModel) {\n    var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n    return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n  }\n\n  function getAxisPointerModel(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n    return axisInfo && axisInfo.axisPointerModel;\n  }\n\n  function isHandleTrigger(axisPointerModel) {\n    return !!axisPointerModel.get('handle.show');\n  }\n  /**\n   * @param {module:echarts/model/Model} model\n   * @return {string} unique key\n   */\n\n\n  function makeKey(model) {\n    return model.type + '||' + model.id;\n  }\n\n  var collect_1 = collect;\n  var fixValue_1 = fixValue;\n  var getAxisInfo_1 = getAxisInfo;\n  var getAxisPointerModel_1 = getAxisPointerModel;\n  var makeKey_1 = makeKey;\n\n  var modelHelper = {\n  \tcollect: collect_1,\n  \tfixValue: fixValue_1,\n  \tgetAxisInfo: getAxisInfo_1,\n  \tgetAxisPointerModel: getAxisPointerModel_1,\n  \tmakeKey: makeKey_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Base class of AxisView.\n   */\n  var AxisView = echarts.extendComponentView({\n    type: 'axis',\n\n    /**\n     * @private\n     */\n    _axisPointer: null,\n\n    /**\n     * @protected\n     * @type {string}\n     */\n    axisPointerClass: null,\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n      // FIXME\n      // This process should proformed after coordinate systems updated\n      // (axis scale updated), and should be performed each time update.\n      // So put it here temporarily, although it is not appropriate to\n      // put a model-writing procedure in `view`.\n      this.axisPointerClass && modelHelper.fixValue(axisModel);\n      AxisView.superApply(this, 'render', arguments);\n      updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n    },\n\n    /**\n     * Action handler.\n     * @public\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/model/Global} ecModel\n     * @param {module:echarts/ExtensionAPI} api\n     * @param {Object} payload\n     */\n    updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n      updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n      var axisPointer = this._axisPointer;\n      axisPointer && axisPointer.remove(api);\n      AxisView.superApply(this, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n      disposeAxisPointer(this, api);\n      AxisView.superApply(this, 'dispose', arguments);\n    }\n  });\n\n  function updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n    var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n    if (!Clazz) {\n      return;\n    }\n\n    var axisPointerModel = modelHelper.getAxisPointerModel(axisModel);\n    axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n  }\n\n  function disposeAxisPointer(axisView, ecModel, api) {\n    var axisPointer = axisView._axisPointer;\n    axisPointer && axisPointer.dispose(ecModel, api);\n    axisView._axisPointer = null;\n  }\n\n  var axisPointerClazz = [];\n\n  AxisView.registerAxisPointerClass = function (type, clazz) {\n    axisPointerClazz[type] = clazz;\n  };\n\n  AxisView.getAxisPointerClass = function (type) {\n    return type && axisPointerClazz[type];\n  };\n\n  var _default$1L = AxisView;\n  var AxisView_1 = _default$1L;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Can only be called after coordinate system creation stage.\n   * (Can be called before coordinate system update stage).\n   *\n   * @param {Object} opt {labelInside}\n   * @return {Object} {\n   *  position, rotation, labelDirection, labelOffset,\n   *  tickDirection, labelRotate, z2\n   * }\n   */\n  function layout$2(gridModel, axisModel, opt) {\n    opt = opt || {};\n    var grid = gridModel.coordinateSystem;\n    var axis = axisModel.axis;\n    var layout = {};\n    var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n    var rawAxisPosition = axis.position;\n    var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n    var axisDim = axis.dim;\n    var rect = grid.getRect();\n    var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n    var idx = {\n      left: 0,\n      right: 1,\n      top: 0,\n      bottom: 1,\n      onZero: 2\n    };\n    var axisOffset = axisModel.get('offset') || 0;\n    var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n    if (otherAxisOnZeroOf) {\n      var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n      posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n    } // Axis position\n\n\n    layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n    layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n    var dirMap = {\n      top: -1,\n      bottom: 1,\n      left: -1,\n      right: 1\n    };\n    layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n    layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n    if (axisModel.get('axisTick.inside')) {\n      layout.tickDirection = -layout.tickDirection;\n    }\n\n    if (util.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n      layout.labelDirection = -layout.labelDirection;\n    } // Special label rotation\n\n\n    var labelRotate = axisModel.get('axisLabel.rotate');\n    layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n    layout.z2 = 1;\n    return layout;\n  }\n\n  var layout_1$1 = layout$2;\n\n  var cartesianAxisHelper = {\n  \tlayout: layout_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitAreaModel = axisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitAreaModel,\n      clamp: true\n    });\n\n    if (!ticksCoords.length) {\n      return;\n    } // For Making appropriate splitArea animation, the color and anid\n    // should be corresponding to previous one if possible.\n\n\n    var areaColorsLen = areaColors.length;\n    var lastSplitAreaColors = axisView.__splitAreaColors;\n    var newSplitAreaColors = util.createHashMap();\n    var colorIndex = 0;\n\n    if (lastSplitAreaColors) {\n      for (var i = 0; i < ticksCoords.length; i++) {\n        var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n        if (cIndex != null) {\n          colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n          break;\n        }\n      }\n    }\n\n    var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n    var areaStyle = areaStyleModel.getAreaStyle();\n    areaColors = util.isArray(areaColors) ? areaColors : [areaColors];\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (axis.isHorizontal()) {\n        x = prev;\n        y = gridRect.y;\n        width = tickCoord - x;\n        height = gridRect.height;\n        prev = x + width;\n      } else {\n        x = gridRect.x;\n        y = prev;\n        width = gridRect.width;\n        height = tickCoord - y;\n        prev = y + height;\n      }\n\n      var tickValue = ticksCoords[i - 1].tickValue;\n      tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n      axisGroup.add(new graphic.Rect({\n        anid: tickValue != null ? 'area_' + tickValue : null,\n        shape: {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        },\n        style: util.defaults({\n          fill: areaColors[colorIndex]\n        }, areaStyle),\n        silent: true\n      }));\n      colorIndex = (colorIndex + 1) % areaColorsLen;\n    }\n\n    axisView.__splitAreaColors = newSplitAreaColors;\n  }\n\n  function rectCoordAxisHandleRemove(axisView) {\n    axisView.__splitAreaColors = null;\n  }\n\n  var rectCoordAxisBuildSplitArea_1 = rectCoordAxisBuildSplitArea;\n  var rectCoordAxisHandleRemove_1 = rectCoordAxisHandleRemove;\n\n  var axisSplitHelper = {\n  \trectCoordAxisBuildSplitArea: rectCoordAxisBuildSplitArea_1,\n  \trectCoordAxisHandleRemove: rectCoordAxisHandleRemove_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var rectCoordAxisBuildSplitArea$1 = axisSplitHelper.rectCoordAxisBuildSplitArea;\n  var rectCoordAxisHandleRemove$1 = axisSplitHelper.rectCoordAxisHandleRemove;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\n  var selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\n  var CartesianAxisView = AxisView_1.extend({\n    type: 'cartesianAxis',\n    axisPointerClass: 'CartesianAxisPointer',\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n      this.group.removeAll();\n      var oldAxisGroup = this._axisGroup;\n      this._axisGroup = new graphic.Group();\n      this.group.add(this._axisGroup);\n\n      if (!axisModel.get('show')) {\n        return;\n      }\n\n      var gridModel = axisModel.getCoordSysModel();\n      var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n      var axisBuilder = new AxisBuilder_1(axisModel, layout);\n      util.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n      this._axisGroup.add(axisBuilder.getGroup());\n\n      util.each(selfBuilderAttrs, function (name) {\n        if (axisModel.get(name + '.show')) {\n          this['_' + name](axisModel, gridModel);\n        }\n      }, this);\n      graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n      CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n    },\n    remove: function () {\n      rectCoordAxisHandleRemove$1(this);\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _splitLine: function (axisModel, gridModel) {\n      var axis = axisModel.axis;\n\n      if (axis.scale.isBlank()) {\n        return;\n      }\n\n      var splitLineModel = axisModel.getModel('splitLine');\n      var lineStyleModel = splitLineModel.getModel('lineStyle');\n      var lineColors = lineStyleModel.get('color');\n      lineColors = util.isArray(lineColors) ? lineColors : [lineColors];\n      var gridRect = gridModel.coordinateSystem.getRect();\n      var isHorizontal = axis.isHorizontal();\n      var lineCount = 0;\n      var ticksCoords = axis.getTicksCoords({\n        tickModel: splitLineModel\n      });\n      var p1 = [];\n      var p2 = [];\n      var lineStyle = lineStyleModel.getLineStyle();\n\n      for (var i = 0; i < ticksCoords.length; i++) {\n        var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n\n        var colorIndex = lineCount++ % lineColors.length;\n        var tickValue = ticksCoords[i].tickValue;\n\n        this._axisGroup.add(new graphic.Line({\n          anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n          subPixelOptimize: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: util.defaults({\n            stroke: lineColors[colorIndex]\n          }, lineStyle),\n          silent: true\n        }));\n      }\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _minorSplitLine: function (axisModel, gridModel) {\n      var axis = axisModel.axis;\n      var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n      var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n      var gridRect = gridModel.coordinateSystem.getRect();\n      var isHorizontal = axis.isHorizontal();\n      var minorTicksCoords = axis.getMinorTicksCoords();\n\n      if (!minorTicksCoords.length) {\n        return;\n      }\n\n      var p1 = [];\n      var p2 = [];\n      var lineStyle = lineStyleModel.getLineStyle();\n\n      for (var i = 0; i < minorTicksCoords.length; i++) {\n        for (var k = 0; k < minorTicksCoords[i].length; k++) {\n          var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n\n          if (isHorizontal) {\n            p1[0] = tickCoord;\n            p1[1] = gridRect.y;\n            p2[0] = tickCoord;\n            p2[1] = gridRect.y + gridRect.height;\n          } else {\n            p1[0] = gridRect.x;\n            p1[1] = tickCoord;\n            p2[0] = gridRect.x + gridRect.width;\n            p2[1] = tickCoord;\n          }\n\n          this._axisGroup.add(new graphic.Line({\n            anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n            subPixelOptimize: true,\n            shape: {\n              x1: p1[0],\n              y1: p1[1],\n              x2: p2[0],\n              y2: p2[1]\n            },\n            style: lineStyle,\n            silent: true\n          }));\n        }\n      }\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _splitArea: function (axisModel, gridModel) {\n      rectCoordAxisBuildSplitArea$1(this, this._axisGroup, axisModel, gridModel);\n    }\n  });\n  CartesianAxisView.extend({\n    type: 'xAxis'\n  });\n  CartesianAxisView.extend({\n    type: 'yAxis'\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Grid view\n  echarts.extendComponentView({\n    type: 'grid',\n    render: function (gridModel, ecModel) {\n      this.group.removeAll();\n\n      if (gridModel.get('show')) {\n        this.group.add(new graphic.Rect({\n          shape: gridModel.coordinateSystem.getRect(),\n          style: util.defaults({\n            fill: gridModel.get('backgroundColor')\n          }, gridModel.getItemStyle()),\n          silent: true,\n          z2: -1\n        }));\n      }\n    }\n  });\n  echarts.registerPreprocessor(function (option) {\n    // Only create grid when need\n    if (option.xAxis && option.yAxis && !option.grid) {\n      option.grid = {};\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // In case developer forget to include grid component\n  echarts.registerVisual(symbol$1('line', 'circle', 'line'));\n  echarts.registerLayout(points$1('line')); // Down sample after filter\n\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n   * @param {module:echarts/model/Global} ecModel\n   * @return {Object} {point: [x, y], el: ...} point Will not be null.\n   */\n  function _default$1M(finder, ecModel) {\n    var point = [];\n    var seriesIndex = finder.seriesIndex;\n    var seriesModel;\n\n    if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n      return {\n        point: []\n      };\n    }\n\n    var data = seriesModel.getData();\n    var dataIndex = model.queryDataIndex(data, finder);\n\n    if (dataIndex == null || dataIndex < 0 || util.isArray(dataIndex)) {\n      return {\n        point: []\n      };\n    }\n\n    var el = data.getItemGraphicEl(dataIndex);\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (seriesModel.getTooltipPosition) {\n      point = seriesModel.getTooltipPosition(dataIndex) || [];\n    } else if (coordSys && coordSys.dataToPoint) {\n      point = coordSys.dataToPoint(data.getValues(util.map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }), dataIndex, true)) || [];\n    } else if (el) {\n      // Use graphic bounding rect\n      var rect = el.getBoundingRect().clone();\n      rect.applyTransform(el.transform);\n      point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    }\n\n    return {\n      point: point,\n      el: el\n    };\n  }\n\n  var findPointFromSeries = _default$1M;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var makeInner$7 = model.makeInner;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$n = util.each;\n  var curry$2 = util.curry;\n  var inner$7 = makeInner$7();\n  /**\n   * Basic logic: check all axis, if they do not demand show/highlight,\n   * then hide/downplay them.\n   *\n   * @param {Object} coordSysAxesInfo\n   * @param {Object} payload\n   * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n   * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n   *              trigger axisPointer and tooltip.\n   * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n   *              trigger axisPointer and tooltip.\n   * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n   * @param {Object} [payload.dataIndex] finder, restrict target axes.\n   * @param {Object} [payload.axesInfo] finder, restrict target axes.\n   *        [{\n   *          axisDim: 'x'|'y'|'angle'|...,\n   *          axisIndex: ...,\n   *          value: ...\n   *        }, ...]\n   * @param {Function} [payload.dispatchAction]\n   * @param {Object} [payload.tooltipOption]\n   * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n   *        which can be specified in dispatchAction\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @return {Object} content of event obj for echarts.connect.\n   */\n\n  function _default$1N(payload, ecModel, api) {\n    var currTrigger = payload.currTrigger;\n    var point = [payload.x, payload.y];\n    var finder = payload;\n    var dispatchAction = payload.dispatchAction || util.bind(api.dispatchAction, api);\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n    // See #6121. But we are not able to reproduce it yet.\n\n    if (!coordSysAxesInfo) {\n      return;\n    }\n\n    if (illegalPoint(point)) {\n      // Used in the default behavior of `connection`: use the sample seriesIndex\n      // and dataIndex. And also used in the tooltipView trigger.\n      point = findPointFromSeries({\n        seriesIndex: finder.seriesIndex,\n        // Do not use dataIndexInside from other ec instance.\n        // FIXME: auto detect it?\n        dataIndex: finder.dataIndex\n      }, ecModel).point;\n    }\n\n    var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n    // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n    // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n    // and dataIndex.\n\n    var inputAxesInfo = finder.axesInfo;\n    var axesInfo = coordSysAxesInfo.axesInfo;\n    var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n    var outputFinder = {};\n    var showValueMap = {};\n    var dataByCoordSys = {\n      list: [],\n      map: {}\n    };\n    var updaters = {\n      showPointer: curry$2(showPointer, showValueMap),\n      showTooltip: curry$2(showTooltip, dataByCoordSys)\n    }; // Process for triggered axes.\n\n    each$n(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n      // If a point given, it must be contained by the coordinate system.\n      var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n      each$n(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n        var axis = axisInfo.axis;\n        var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n        if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n          var val = inputAxisInfo && inputAxisInfo.value;\n\n          if (val == null && !isIllegalPoint) {\n            val = axis.pointToData(point);\n          }\n\n          val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n        }\n      });\n    }); // Process for linked axes.\n\n    var linkTriggers = {};\n    each$n(axesInfo, function (tarAxisInfo, tarKey) {\n      var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n      if (linkGroup && !showValueMap[tarKey]) {\n        each$n(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n          var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n          if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n            var val = srcValItem.value;\n            linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n            linkTriggers[tarAxisInfo.key] = val;\n          }\n        });\n      }\n    });\n    each$n(linkTriggers, function (val, tarKey) {\n      processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n    });\n    updateModelActually(showValueMap, axesInfo, outputFinder);\n    dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n    dispatchHighDownActually(axesInfo, dispatchAction, api);\n    return outputFinder;\n  }\n\n  function processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n    var axis = axisInfo.axis;\n\n    if (axis.scale.isBlank() || !axis.containData(newValue)) {\n      return;\n    }\n\n    if (!axisInfo.involveSeries) {\n      updaters.showPointer(axisInfo, newValue);\n      return;\n    } // Heavy calculation. So put it after axis.containData checking.\n\n\n    var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n    var payloadBatch = payloadInfo.payloadBatch;\n    var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n    // By default use the first involved series data as a sample to connect.\n\n    if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n      util.extend(outputFinder, payloadBatch[0]);\n    } // If no linkSource input, this process is for collecting link\n    // target, where snap should not be accepted.\n\n\n    if (!dontSnap && axisInfo.snap) {\n      if (axis.containData(snapToValue) && snapToValue != null) {\n        newValue = snapToValue;\n      }\n    }\n\n    updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n    // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n    updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n  }\n\n  function buildPayloadsBySeries(value, axisInfo) {\n    var axis = axisInfo.axis;\n    var dim = axis.dim;\n    var snapToValue = value;\n    var payloadBatch = [];\n    var minDist = Number.MAX_VALUE;\n    var minDiff = -1;\n    each$n(axisInfo.seriesModels, function (series, idx) {\n      var dataDim = series.getData().mapDimension(dim, true);\n      var seriesNestestValue;\n      var dataIndices;\n\n      if (series.getAxisTooltipData) {\n        var result = series.getAxisTooltipData(dataDim, value, axis);\n        dataIndices = result.dataIndices;\n        seriesNestestValue = result.nestestValue;\n      } else {\n        dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n        // when data length is not same.\n        // false,\n        axis.type === 'category' ? 0.5 : null);\n\n        if (!dataIndices.length) {\n          return;\n        }\n\n        seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n      }\n\n      if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n        return;\n      }\n\n      var diff = value - seriesNestestValue;\n      var dist = Math.abs(diff); // Consider category case\n\n      if (dist <= minDist) {\n        if (dist < minDist || diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          snapToValue = seriesNestestValue;\n          payloadBatch.length = 0;\n        }\n\n        each$n(dataIndices, function (dataIndex) {\n          payloadBatch.push({\n            seriesIndex: series.seriesIndex,\n            dataIndexInside: dataIndex,\n            dataIndex: series.getData().getRawIndex(dataIndex)\n          });\n        });\n      }\n    });\n    return {\n      payloadBatch: payloadBatch,\n      snapToValue: snapToValue\n    };\n  }\n\n  function showPointer(showValueMap, axisInfo, value, payloadBatch) {\n    showValueMap[axisInfo.key] = {\n      value: value,\n      payloadBatch: payloadBatch\n    };\n  }\n\n  function showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n    var payloadBatch = payloadInfo.payloadBatch;\n    var axis = axisInfo.axis;\n    var axisModel = axis.model;\n    var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n    // whose length will be used to judge whether dispatch action.\n\n    if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n      return;\n    }\n\n    var coordSysModel = axisInfo.coordSys.model;\n    var coordSysKey = modelHelper.makeKey(coordSysModel);\n    var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n    if (!coordSysItem) {\n      coordSysItem = dataByCoordSys.map[coordSysKey] = {\n        coordSysId: coordSysModel.id,\n        coordSysIndex: coordSysModel.componentIndex,\n        coordSysType: coordSysModel.type,\n        coordSysMainType: coordSysModel.mainType,\n        dataByAxis: []\n      };\n      dataByCoordSys.list.push(coordSysItem);\n    }\n\n    coordSysItem.dataByAxis.push({\n      axisDim: axis.dim,\n      axisIndex: axisModel.componentIndex,\n      axisType: axisModel.type,\n      axisId: axisModel.id,\n      value: value,\n      // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n      // depends that all models have been updated. So it should not be performed\n      // here. Considering axisPointerModel used here is volatile, which is hard\n      // to be retrieve in TooltipView, we prepare parameters here.\n      valueLabelOpt: {\n        precision: axisPointerModel.get('label.precision'),\n        formatter: axisPointerModel.get('label.formatter')\n      },\n      seriesDataIndices: payloadBatch.slice()\n    });\n  }\n\n  function updateModelActually(showValueMap, axesInfo, outputFinder) {\n    var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n    each$n(axesInfo, function (axisInfo, key) {\n      var option = axisInfo.axisPointerModel.option;\n      var valItem = showValueMap[key];\n\n      if (valItem) {\n        !axisInfo.useHandle && (option.status = 'show');\n        option.value = valItem.value; // For label formatter param and highlight.\n\n        option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n      } // When always show (e.g., handle used), remain\n      // original value and status.\n      else {\n          // If hide, value still need to be set, consider\n          // click legend to toggle axis blank.\n          !axisInfo.useHandle && (option.status = 'hide');\n        } // If status is 'hide', should be no info in payload.\n\n\n      option.status === 'show' && outputAxesInfo.push({\n        axisDim: axisInfo.axis.dim,\n        axisIndex: axisInfo.axis.model.componentIndex,\n        value: option.value\n      });\n    });\n  }\n\n  function dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n    // Basic logic: If no showTip required, hideTip will be dispatched.\n    if (illegalPoint(point) || !dataByCoordSys.list.length) {\n      dispatchAction({\n        type: 'hideTip'\n      });\n      return;\n    } // In most case only one axis (or event one series is used). It is\n    // convinient to fetch payload.seriesIndex and payload.dataIndex\n    // dirtectly. So put the first seriesIndex and dataIndex of the first\n    // axis on the payload.\n\n\n    var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n    dispatchAction({\n      type: 'showTip',\n      escapeConnect: true,\n      x: point[0],\n      y: point[1],\n      tooltipOption: payload.tooltipOption,\n      position: payload.position,\n      dataIndexInside: sampleItem.dataIndexInside,\n      dataIndex: sampleItem.dataIndex,\n      seriesIndex: sampleItem.seriesIndex,\n      dataByCoordSys: dataByCoordSys.list\n    });\n  }\n\n  function dispatchHighDownActually(axesInfo, dispatchAction, api) {\n    // FIXME\n    // highlight status modification shoule be a stage of main process?\n    // (Consider confilct (e.g., legend and axisPointer) and setOption)\n    var zr = api.getZr();\n    var highDownKey = 'axisPointerLastHighlights';\n    var lastHighlights = inner$7(zr)[highDownKey] || {};\n    var newHighlights = inner$7(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n    // Build hash map and remove duplicate incidentally.\n\n    each$n(axesInfo, function (axisInfo, key) {\n      var option = axisInfo.axisPointerModel.option;\n      option.status === 'show' && each$n(option.seriesDataIndices, function (batchItem) {\n        var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n        newHighlights[key] = batchItem;\n      });\n    }); // Diff.\n\n    var toHighlight = [];\n    var toDownplay = [];\n    util.each(lastHighlights, function (batchItem, key) {\n      !newHighlights[key] && toDownplay.push(batchItem);\n    });\n    util.each(newHighlights, function (batchItem, key) {\n      !lastHighlights[key] && toHighlight.push(batchItem);\n    });\n    toDownplay.length && api.dispatchAction({\n      type: 'downplay',\n      escapeConnect: true,\n      batch: toDownplay\n    });\n    toHighlight.length && api.dispatchAction({\n      type: 'highlight',\n      escapeConnect: true,\n      batch: toHighlight\n    });\n  }\n\n  function findInputAxisInfo(inputAxesInfo, axisInfo) {\n    for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n      var inputAxisInfo = inputAxesInfo[i];\n\n      if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n        return inputAxisInfo;\n      }\n    }\n  }\n\n  function makeMapperParam(axisInfo) {\n    var axisModel = axisInfo.axis.model;\n    var item = {};\n    var dim = item.axisDim = axisInfo.axis.dim;\n    item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n    item.axisName = item[dim + 'AxisName'] = axisModel.name;\n    item.axisId = item[dim + 'AxisId'] = axisModel.id;\n    return item;\n  }\n\n  function illegalPoint(point) {\n    return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n  }\n\n  var axisTrigger = _default$1N;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisPointerModel = echarts.extendComponentModel({\n    type: 'axisPointer',\n    coordSysAxesInfo: null,\n    defaultOption: {\n      // 'auto' means that show when triggered by tooltip or handle.\n      show: 'auto',\n      // 'click' | 'mousemove' | 'none'\n      triggerOn: null,\n      // set default in AxisPonterView.js\n      zlevel: 0,\n      z: 50,\n      type: 'line',\n      // 'line' 'shadow' 'cross' 'none'.\n      // axispointer triggered by tootip determine snap automatically,\n      // see `modelHelper`.\n      snap: false,\n      triggerTooltip: true,\n      value: null,\n      status: null,\n      // Init value depends on whether handle is used.\n      // [group0, group1, ...]\n      // Each group can be: {\n      //      mapper: function () {},\n      //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n      //      xAxisId: ...,\n      //      yAxisName: ...,\n      //      angleAxisIndex: ...\n      // }\n      // mapper: can be ignored.\n      //      input: {axisInfo, value}\n      //      output: {axisInfo, value}\n      link: [],\n      // Do not set 'auto' here, otherwise global animation: false\n      // will not effect at this axispointer.\n      animation: null,\n      animationDurationUpdate: 200,\n      lineStyle: {\n        color: '#aaa',\n        width: 1,\n        type: 'solid'\n      },\n      shadowStyle: {\n        color: 'rgba(150,150,150,0.3)'\n      },\n      label: {\n        show: true,\n        formatter: null,\n        // string | Function\n        precision: 'auto',\n        // Or a number like 0, 1, 2 ...\n        margin: 3,\n        color: '#fff',\n        padding: [5, 7, 5, 7],\n        backgroundColor: 'auto',\n        // default: axis line color\n        borderColor: null,\n        borderWidth: 0,\n        shadowBlur: 3,\n        shadowColor: '#aaa' // Considering applicability, common style should\n        // better not have shadowOffset.\n        // shadowOffsetX: 0,\n        // shadowOffsetY: 2\n\n      },\n      handle: {\n        show: false,\n\n        /* eslint-disable */\n        icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n        // jshint ignore:line\n\n        /* eslint-enable */\n        size: 45,\n        // handle margin is from symbol center to axis, which is stable when circular move.\n        margin: 50,\n        // color: '#1b8bbd'\n        // color: '#2f4554'\n        color: '#333',\n        shadowBlur: 3,\n        shadowColor: '#aaa',\n        shadowOffsetX: 0,\n        shadowOffsetY: 2,\n        // For mobile performance\n        throttle: 40\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$8 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$8 = makeInner$8();\n  var each$o = util.each;\n  /**\n   * @param {string} key\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Function} handler\n   *      param: {string} currTrigger\n   *      param: {Array.<number>} point\n   */\n\n  function register(key, api, handler) {\n    if (env_1.node) {\n      return;\n    }\n\n    var zr = api.getZr();\n    inner$8(zr).records || (inner$8(zr).records = {});\n    initGlobalListeners(zr, api);\n    var record = inner$8(zr).records[key] || (inner$8(zr).records[key] = {});\n    record.handler = handler;\n  }\n\n  function initGlobalListeners(zr, api) {\n    if (inner$8(zr).initialized) {\n      return;\n    }\n\n    inner$8(zr).initialized = true;\n    useHandler('click', util.curry(doEnter, 'click'));\n    useHandler('mousemove', util.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n    useHandler('globalout', onLeave);\n\n    function useHandler(eventType, cb) {\n      zr.on(eventType, function (e) {\n        var dis = makeDispatchAction(api);\n        each$o(inner$8(zr).records, function (record) {\n          record && cb(record, e, dis.dispatchAction);\n        });\n        dispatchTooltipFinally(dis.pendings, api);\n      });\n    }\n  }\n\n  function dispatchTooltipFinally(pendings, api) {\n    var showLen = pendings.showTip.length;\n    var hideLen = pendings.hideTip.length;\n    var actuallyPayload;\n\n    if (showLen) {\n      actuallyPayload = pendings.showTip[showLen - 1];\n    } else if (hideLen) {\n      actuallyPayload = pendings.hideTip[hideLen - 1];\n    }\n\n    if (actuallyPayload) {\n      actuallyPayload.dispatchAction = null;\n      api.dispatchAction(actuallyPayload);\n    }\n  }\n\n  function onLeave(record, e, dispatchAction) {\n    record.handler('leave', null, dispatchAction);\n  }\n\n  function doEnter(currTrigger, record, e, dispatchAction) {\n    record.handler(currTrigger, e, dispatchAction);\n  }\n\n  function makeDispatchAction(api) {\n    var pendings = {\n      showTip: [],\n      hideTip: []\n    }; // FIXME\n    // better approach?\n    // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n    // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n    // So we have to add \"final stage\" to merge those dispatched actions.\n\n    var dispatchAction = function (payload) {\n      var pendingList = pendings[payload.type];\n\n      if (pendingList) {\n        pendingList.push(payload);\n      } else {\n        payload.dispatchAction = dispatchAction;\n        api.dispatchAction(payload);\n      }\n    };\n\n    return {\n      dispatchAction: dispatchAction,\n      pendings: pendings\n    };\n  }\n  /**\n   * @param {string} key\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n\n  function unregister(key, api) {\n    if (env_1.node) {\n      return;\n    }\n\n    var zr = api.getZr();\n    var record = (inner$8(zr).records || {})[key];\n\n    if (record) {\n      inner$8(zr).records[key] = null;\n    }\n  }\n\n  var register_1 = register;\n  var unregister_1 = unregister;\n\n  var globalListener = {\n  \tregister: register_1,\n  \tunregister: unregister_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisPointerView = echarts.extendComponentView({\n    type: 'axisPointer',\n    render: function (globalAxisPointerModel, ecModel, api) {\n      var globalTooltipModel = ecModel.getComponent('tooltip');\n      var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n      // AxisPointerView to be independent to Tooltip.\n\n      globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n        // If 'none', it is not controlled by mouse totally.\n        if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n          dispatchAction({\n            type: 'updateAxisPointer',\n            currTrigger: currTrigger,\n            x: e && e.offsetX,\n            y: e && e.offsetY\n          });\n        }\n      });\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n      globalListener.unregister(api.getZr(), 'axisPointer');\n      AxisPointerView.superApply(this._model, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n      globalListener.unregister('axisPointer', api);\n      AxisPointerView.superApply(this._model, 'dispose', arguments);\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var makeInner$9 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$9 = makeInner$9();\n  var clone$7 = util.clone;\n  var bind$2 = util.bind;\n  /**\n   * Base axis pointer class in 2D.\n   * Implemenents {module:echarts/component/axis/IAxisPointer}.\n   */\n\n  function BaseAxisPointer() {}\n\n  BaseAxisPointer.prototype = {\n    /**\n     * @private\n     */\n    _group: null,\n\n    /**\n     * @private\n     */\n    _lastGraphicKey: null,\n\n    /**\n     * @private\n     */\n    _handle: null,\n\n    /**\n     * @private\n     */\n    _dragging: false,\n\n    /**\n     * @private\n     */\n    _lastValue: null,\n\n    /**\n     * @private\n     */\n    _lastStatus: null,\n\n    /**\n     * @private\n     */\n    _payloadInfo: null,\n\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     * @protected\n     */\n    animationThreshold: 15,\n\n    /**\n     * @implement\n     */\n    render: function (axisModel, axisPointerModel, api, forceRender) {\n      var value = axisPointerModel.get('value');\n      var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n      // be replaced when user calling setOption in not merge mode.\n\n      this._axisModel = axisModel;\n      this._axisPointerModel = axisPointerModel;\n      this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n      // So it is power consuming if performing `render` each time,\n      // especially on mobile device.\n\n      if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n        return;\n      }\n\n      this._lastValue = value;\n      this._lastStatus = status;\n      var group = this._group;\n      var handle = this._handle;\n\n      if (!status || status === 'hide') {\n        // Do not clear here, for animation better.\n        group && group.hide();\n        handle && handle.hide();\n        return;\n      }\n\n      group && group.show();\n      handle && handle.show(); // Otherwise status is 'show'\n\n      var elOption = {};\n      this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n      var graphicKey = elOption.graphicKey;\n\n      if (graphicKey !== this._lastGraphicKey) {\n        this.clear(api);\n      }\n\n      this._lastGraphicKey = graphicKey;\n      var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n      if (!group) {\n        group = this._group = new graphic.Group();\n        this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n        this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n        api.getZr().add(group);\n      } else {\n        var doUpdateProps = util.curry(updateProps$1, axisPointerModel, moveAnimation);\n        this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n        this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n      }\n\n      updateMandatoryProps(group, axisPointerModel, true);\n\n      this._renderHandle(value);\n    },\n\n    /**\n     * @implement\n     */\n    remove: function (api) {\n      this.clear(api);\n    },\n\n    /**\n     * @implement\n     */\n    dispose: function (api) {\n      this.clear(api);\n    },\n\n    /**\n     * @protected\n     */\n    determineAnimation: function (axisModel, axisPointerModel) {\n      var animation = axisPointerModel.get('animation');\n      var axis = axisModel.axis;\n      var isCategoryAxis = axis.type === 'category';\n      var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n      if (!useSnap && !isCategoryAxis) {\n        return false;\n      }\n\n      if (animation === 'auto' || animation == null) {\n        var animationThreshold = this.animationThreshold;\n\n        if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n          return true;\n        } // It is important to auto animation when snap used. Consider if there is\n        // a dataZoom, animation will be disabled when too many points exist, while\n        // it will be enabled for better visual effect when little points exist.\n\n\n        if (useSnap) {\n          var seriesDataCount = modelHelper.getAxisInfo(axisModel).seriesDataCount;\n          var axisExtent = axis.getExtent(); // Approximate band width\n\n          return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n        }\n\n        return false;\n      }\n\n      return animation === true;\n    },\n\n    /**\n     * add {pointer, label, graphicKey} to elOption\n     * @protected\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n    },\n\n    /**\n     * @protected\n     */\n    createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n      var pointerOption = elOption.pointer;\n\n      if (pointerOption) {\n        var pointerEl = inner$9(group).pointerEl = new graphic[pointerOption.type](clone$7(elOption.pointer));\n        group.add(pointerEl);\n      }\n    },\n\n    /**\n     * @protected\n     */\n    createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n      if (elOption.label) {\n        var labelEl = inner$9(group).labelEl = new graphic.Rect(clone$7(elOption.label));\n        group.add(labelEl);\n        updateLabelShowHide(labelEl, axisPointerModel);\n      }\n    },\n\n    /**\n     * @protected\n     */\n    updatePointerEl: function (group, elOption, updateProps) {\n      var pointerEl = inner$9(group).pointerEl;\n\n      if (pointerEl && elOption.pointer) {\n        pointerEl.setStyle(elOption.pointer.style);\n        updateProps(pointerEl, {\n          shape: elOption.pointer.shape\n        });\n      }\n    },\n\n    /**\n     * @protected\n     */\n    updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n      var labelEl = inner$9(group).labelEl;\n\n      if (labelEl) {\n        labelEl.setStyle(elOption.label.style);\n        updateProps(labelEl, {\n          // Consider text length change in vertical axis, animation should\n          // be used on shape, otherwise the effect will be weird.\n          shape: elOption.label.shape,\n          position: elOption.label.position\n        });\n        updateLabelShowHide(labelEl, axisPointerModel);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _renderHandle: function (value) {\n      if (this._dragging || !this.updateHandleTransform) {\n        return;\n      }\n\n      var axisPointerModel = this._axisPointerModel;\n\n      var zr = this._api.getZr();\n\n      var handle = this._handle;\n      var handleModel = axisPointerModel.getModel('handle');\n      var status = axisPointerModel.get('status');\n\n      if (!handleModel.get('show') || !status || status === 'hide') {\n        handle && zr.remove(handle);\n        this._handle = null;\n        return;\n      }\n\n      var isInit;\n\n      if (!this._handle) {\n        isInit = true;\n        handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n          cursor: 'move',\n          draggable: true,\n          onmousemove: function (e) {\n            // Fot mobile devicem, prevent screen slider on the button.\n            event.stop(e.event);\n          },\n          onmousedown: bind$2(this._onHandleDragMove, this, 0, 0),\n          drift: bind$2(this._onHandleDragMove, this),\n          ondragend: bind$2(this._onHandleDragEnd, this)\n        });\n        zr.add(handle);\n      }\n\n      updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n      var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n      handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n      var handleSize = handleModel.get('size');\n\n      if (!util.isArray(handleSize)) {\n        handleSize = [handleSize, handleSize];\n      }\n\n      handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n      throttle_1.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n      this._moveHandleToValue(value, isInit);\n    },\n\n    /**\n     * @private\n     */\n    _moveHandleToValue: function (value, isInit) {\n      updateProps$1(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragMove: function (dx, dy) {\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      this._dragging = true; // Persistent for throttle.\n\n      var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n      this._payloadInfo = trans;\n      handle.stopAnimation();\n      handle.attr(getHandleTransProps(trans));\n      inner$9(handle).lastProp = null;\n\n      this._doDispatchAxisPointer();\n    },\n\n    /**\n     * Throttled method.\n     * @private\n     */\n    _doDispatchAxisPointer: function () {\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      var payloadInfo = this._payloadInfo;\n      var axisModel = this._axisModel;\n\n      this._api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payloadInfo.cursorPoint[0],\n        y: payloadInfo.cursorPoint[1],\n        tooltipOption: payloadInfo.tooltipOption,\n        axesInfo: [{\n          axisDim: axisModel.axis.dim,\n          axisIndex: axisModel.componentIndex\n        }]\n      });\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragEnd: function (moveAnimation) {\n      this._dragging = false;\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n      // axisPointer. So move handle to align the exact value position when\n      // drag ended.\n\n\n      this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n      // button, and will be hidden after finger left handle button.\n\n\n      this._api.dispatchAction({\n        type: 'hideTip'\n      });\n    },\n\n    /**\n     * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {number} value\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0}\n     */\n    getHandleTransform: null,\n\n    /**\n     * * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {Object} transform {position, rotation}\n     * @param {Array.<number>} delta [dx, dy]\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n     */\n    updateHandleTransform: null,\n\n    /**\n     * @private\n     */\n    clear: function (api) {\n      this._lastValue = null;\n      this._lastStatus = null;\n      var zr = api.getZr();\n      var group = this._group;\n      var handle = this._handle;\n\n      if (zr && group) {\n        this._lastGraphicKey = null;\n        group && zr.remove(group);\n        handle && zr.remove(handle);\n        this._group = null;\n        this._handle = null;\n        this._payloadInfo = null;\n      }\n    },\n\n    /**\n     * @protected\n     */\n    doClear: function () {// Implemented by sub-class if necessary.\n    },\n\n    /**\n     * @protected\n     * @param {Array.<number>} xy\n     * @param {Array.<number>} wh\n     * @param {number} [xDimIndex=0] or 1\n     */\n    buildLabel: function (xy, wh, xDimIndex) {\n      xDimIndex = xDimIndex || 0;\n      return {\n        x: xy[xDimIndex],\n        y: xy[1 - xDimIndex],\n        width: wh[xDimIndex],\n        height: wh[1 - xDimIndex]\n      };\n    }\n  };\n  BaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\n  function updateProps$1(animationModel, moveAnimation, el, props) {\n    // Animation optimize.\n    if (!propsEqual(inner$9(el).lastProp, props)) {\n      inner$9(el).lastProp = props;\n      moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n    }\n  }\n\n  function propsEqual(lastProps, newProps) {\n    if (util.isObject(lastProps) && util.isObject(newProps)) {\n      var equals = true;\n      util.each(newProps, function (item, key) {\n        equals = equals && propsEqual(lastProps[key], item);\n      });\n      return !!equals;\n    } else {\n      return lastProps === newProps;\n    }\n  }\n\n  function updateLabelShowHide(labelEl, axisPointerModel) {\n    labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n  }\n\n  function getHandleTransProps(trans) {\n    return {\n      position: trans.position.slice(),\n      rotation: trans.rotation || 0\n    };\n  }\n\n  function updateMandatoryProps(group, axisPointerModel, silent) {\n    var z = axisPointerModel.get('z');\n    var zlevel = axisPointerModel.get('zlevel');\n    group && group.traverse(function (el) {\n      if (el.type !== 'group') {\n        z != null && (el.z = z);\n        zlevel != null && (el.zlevel = zlevel);\n        el.silent = silent;\n      }\n    });\n  }\n\n  clazz.enableClassExtend(BaseAxisPointer);\n  var _default$1O = BaseAxisPointer;\n  var BaseAxisPointer_1 = _default$1O;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/model/Model} axisPointerModel\n   */\n  function buildElStyle(axisPointerModel) {\n    var axisPointerType = axisPointerModel.get('type');\n    var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n    var style;\n\n    if (axisPointerType === 'line') {\n      style = styleModel.getLineStyle();\n      style.fill = null;\n    } else if (axisPointerType === 'shadow') {\n      style = styleModel.getAreaStyle();\n      style.stroke = null;\n    }\n\n    return style;\n  }\n  /**\n   * @param {Function} labelPos {align, verticalAlign, position}\n   */\n\n\n  function buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n    var value = axisPointerModel.get('value');\n    var text$1 = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    });\n    var labelModel = axisPointerModel.getModel('label');\n    var paddings = format$1.normalizeCssArray(labelModel.get('padding') || 0);\n    var font = labelModel.getFont();\n    var textRect = text.getBoundingRect(text$1, font);\n    var position = labelPos.position;\n    var width = textRect.width + paddings[1] + paddings[3];\n    var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n    var align = labelPos.align;\n    align === 'right' && (position[0] -= width);\n    align === 'center' && (position[0] -= width / 2);\n    var verticalAlign = labelPos.verticalAlign;\n    verticalAlign === 'bottom' && (position[1] -= height);\n    verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n    confineInContainer(position, width, height, api);\n    var bgColor = labelModel.get('backgroundColor');\n\n    if (!bgColor || bgColor === 'auto') {\n      bgColor = axisModel.get('axisLine.lineStyle.color');\n    }\n\n    elOption.label = {\n      shape: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        r: labelModel.get('borderRadius')\n      },\n      position: position.slice(),\n      // TODO: rich\n      style: {\n        text: text$1,\n        textFont: font,\n        textFill: labelModel.getTextColor(),\n        textPosition: 'inside',\n        textPadding: paddings,\n        fill: bgColor,\n        stroke: labelModel.get('borderColor') || 'transparent',\n        lineWidth: labelModel.get('borderWidth') || 0,\n        shadowBlur: labelModel.get('shadowBlur'),\n        shadowColor: labelModel.get('shadowColor'),\n        shadowOffsetX: labelModel.get('shadowOffsetX'),\n        shadowOffsetY: labelModel.get('shadowOffsetY')\n      },\n      // Lable should be over axisPointer.\n      z2: 10\n    };\n  } // Do not overflow ec container\n\n\n  function confineInContainer(position, width, height, api) {\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    position[0] = Math.min(position[0] + width, viewWidth) - width;\n    position[1] = Math.min(position[1] + height, viewHeight) - height;\n    position[0] = Math.max(position[0], 0);\n    position[1] = Math.max(position[1], 0);\n  }\n  /**\n   * @param {number} value\n   * @param {module:echarts/coord/Axis} axis\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Object} opt\n   * @param {Array.<Object>} seriesDataIndices\n   * @param {number|string} opt.precision 'auto' or a number\n   * @param {string|Function} opt.formatter label formatter\n   */\n\n\n  function getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n    value = axis.scale.parse(value);\n    var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n    // helps to debounce when when moving label.\n    value, {\n      precision: opt.precision\n    });\n    var formatter = opt.formatter;\n\n    if (formatter) {\n      var params = {\n        value: axisHelper.getAxisRawValue(axis, value),\n        axisDimension: axis.dim,\n        axisIndex: axis.index,\n        seriesData: []\n      };\n      util.each(seriesDataIndices, function (idxItem) {\n        var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n        var dataIndex = idxItem.dataIndexInside;\n        var dataParams = series && series.getDataParams(dataIndex);\n        dataParams && params.seriesData.push(dataParams);\n      });\n\n      if (util.isString(formatter)) {\n        text = formatter.replace('{value}', text);\n      } else if (util.isFunction(formatter)) {\n        text = formatter(params);\n      }\n    }\n\n    return text;\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @param {number} value\n   * @param {Object} layoutInfo {\n   *  rotation, position, labelOffset, labelDirection, labelMargin\n   * }\n   */\n\n\n  function getTransformedPosition(axis, value, layoutInfo) {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, layoutInfo.rotation);\n    matrix.translate(transform, transform, layoutInfo.position);\n    return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n  }\n\n  function buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n    var textLayout = AxisBuilder_1.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n    layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n    buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n      position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n      align: textLayout.textAlign,\n      verticalAlign: textLayout.textVerticalAlign\n    });\n  }\n  /**\n   * @param {Array.<number>} p1\n   * @param {Array.<number>} p2\n   * @param {number} [xDimIndex=0] or 1\n   */\n\n\n  function makeLineShape(p1, p2, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x1: p1[xDimIndex],\n      y1: p1[1 - xDimIndex],\n      x2: p2[xDimIndex],\n      y2: p2[1 - xDimIndex]\n    };\n  }\n  /**\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n\n\n  function makeRectShape(xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n\n  function makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n    return {\n      cx: cx,\n      cy: cy,\n      r0: r0,\n      r: r,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      clockwise: true\n    };\n  }\n\n  var buildElStyle_1 = buildElStyle;\n  var buildLabelElOption_1 = buildLabelElOption;\n  var getValueLabel_1 = getValueLabel;\n  var getTransformedPosition_1 = getTransformedPosition;\n  var buildCartesianSingleLabelElOption_1 = buildCartesianSingleLabelElOption;\n  var makeLineShape_1 = makeLineShape;\n  var makeRectShape_1 = makeRectShape;\n  var makeSectorShape_1 = makeSectorShape;\n\n  var viewHelper = {\n  \tbuildElStyle: buildElStyle_1,\n  \tbuildLabelElOption: buildLabelElOption_1,\n  \tgetValueLabel: getValueLabel_1,\n  \tgetTransformedPosition: getTransformedPosition_1,\n  \tbuildCartesianSingleLabelElOption: buildCartesianSingleLabelElOption_1,\n  \tmakeLineShape: makeLineShape_1,\n  \tmakeRectShape: makeRectShape_1,\n  \tmakeSectorShape: makeSectorShape_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var CartesianAxisPointer = BaseAxisPointer_1.extend({\n    /**\n     * @override\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n      var axis = axisModel.axis;\n      var grid = axis.grid;\n      var axisPointerType = axisPointerModel.get('type');\n      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n      var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n      if (axisPointerType && axisPointerType !== 'none') {\n        var elStyle = viewHelper.buildElStyle(axisPointerModel);\n        var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n        pointerOption.style = elStyle;\n        elOption.graphicKey = pointerOption.type;\n        elOption.pointer = pointerOption;\n      }\n\n      var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n      viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n    },\n\n    /**\n     * @override\n     */\n    getHandleTransform: function (value, axisModel, axisPointerModel) {\n      var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n        labelInside: false\n      });\n      layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n      return {\n        position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n        rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n      };\n    },\n\n    /**\n     * @override\n     */\n    updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n      var axis = axisModel.axis;\n      var grid = axis.grid;\n      var axisExtent = axis.getGlobalExtent(true);\n      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n      var dimIndex = axis.dim === 'x' ? 0 : 1;\n      var currPosition = transform.position;\n      currPosition[dimIndex] += delta[dimIndex];\n      currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n      currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n      var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n      var cursorPoint = [cursorOtherValue, cursorOtherValue];\n      cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n      var tooltipOptions = [{\n        verticalAlign: 'middle'\n      }, {\n        align: 'center'\n      }];\n      return {\n        position: currPosition,\n        rotation: transform.rotation,\n        cursorPoint: cursorPoint,\n        tooltipOption: tooltipOptions[dimIndex]\n      };\n    }\n  });\n\n  function getCartesian(grid, axis) {\n    var opt = {};\n    opt[axis.dim + 'AxisIndex'] = axis.index;\n    return grid.getCartesian(opt);\n  }\n\n  var pointerShapeBuilder = {\n    line: function (axis, pixelValue, otherExtent) {\n      var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n      return {\n        type: 'Line',\n        subPixelOptimize: true,\n        shape: targetShape\n      };\n    },\n    shadow: function (axis, pixelValue, otherExtent) {\n      var bandWidth = Math.max(1, axis.getBandWidth());\n      var span = otherExtent[1] - otherExtent[0];\n      return {\n        type: 'Rect',\n        shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n      };\n    }\n  };\n\n  function getAxisDimIndex(axis) {\n    return axis.dim === 'x' ? 0 : 1;\n  }\n\n  AxisView_1.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // CartesianAxisPointer is not supposed to be required here. But consider\n  // echarts.simple.js and online build tooltip, which only require gridSimple,\n  // CartesianAxisPointer should be able to required somewhere.\n  echarts.registerPreprocessor(function (option) {\n    // Always has a global axisPointerModel for default setting.\n    if (option) {\n      (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n      var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n      // is not set, remain null/undefined, otherwise it will\n      // override existent link setting.\n\n      if (link && !util.isArray(link)) {\n        option.axisPointer.link = [link];\n      }\n    }\n  }); // This process should proformed after coordinate systems created\n  // and series data processed. So put it on statistic processing stage.\n\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n    // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n    // allAxesInfo should be updated when setOption performed.\n    ecModel.getComponent('axisPointer').coordSysAxesInfo = modelHelper.collect(ecModel, api);\n  }); // Broadcast to all views.\n\n  echarts.registerAction({\n    type: 'updateAxisPointer',\n    event: 'updateAxisPointer',\n    update: ':updateAxisPointer'\n  }, axisTrigger);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$1P = echarts.extendComponentModel({\n    type: 'tooltip',\n    dependencies: ['axisPointer'],\n    defaultOption: {\n      zlevel: 0,\n      z: 60,\n      show: true,\n      // tooltip\n      showContent: true,\n      // 'trigger' only works on coordinate system.\n      // 'item' | 'axis' | 'none'\n      trigger: 'item',\n      // 'click' | 'mousemove' | 'none'\n      triggerOn: 'mousemove|click',\n      alwaysShowContent: false,\n      displayMode: 'single',\n      // 'single' | 'multipleByCoordSys'\n      renderMode: 'auto',\n      // 'auto' | 'html' | 'richText'\n      // 'auto': use html by default, and use non-html if `document` is not defined\n      // 'html': use html for tooltip\n      // 'richText': use canvas, svg, and etc. for tooltip\n      //  {Array} | {Function}\n      // position: null\n      // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n      // align: null,\n      // verticalAlign: null,\n      //  content  viewRect  false \n      confine: false,\n      // {string}Template  {Function}\n      // formatter: null\n      showDelay: 0,\n      // ms\n      hideDelay: 100,\n      // s\n      transitionDuration: 0.4,\n      enterable: false,\n      // 0.7\n      backgroundColor: 'rgba(50,50,50,0.7)',\n      // \n      borderColor: '#333',\n      // px4\n      borderRadius: 4,\n      // px0\n      borderWidth: 0,\n      // px5\n      // css\n      padding: 5,\n      // Extra css text\n      extraCssText: '',\n      // \n      axisPointer: {\n        // \n        // 'line' | 'shadow' | 'cross'\n        type: 'line',\n        // type  line  tooltip line \n        //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n        //  'auto' category  x \n        //  angle \n        axis: 'auto',\n        animation: 'auto',\n        animationDurationUpdate: 200,\n        animationEasingUpdate: 'exponentialOut',\n        crossStyle: {\n          color: '#999',\n          width: 1,\n          type: 'dashed',\n          // TODO formatter\n          textStyle: {} // lineStyle and shadowStyle should not be specified here,\n          // otherwise it will always override those styles on option.axisPointer.\n\n        }\n      },\n      textStyle: {\n        color: '#fff',\n        fontSize: 14\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$p = util.each;\n  var toCamelCase$1 = format$1.toCamelCase;\n  var vendors = ['', '-webkit-', '-moz-', '-o-'];\n  var gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n  /**\n   * @param {number} duration\n   * @return {string}\n   * @inner\n   */\n\n  function assembleTransition(duration) {\n    var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n    var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n    return util.map(vendors, function (vendorPrefix) {\n      return vendorPrefix + 'transition:' + transitionText;\n    }).join(';');\n  }\n  /**\n   * @param {Object} textStyle\n   * @return {string}\n   * @inner\n   */\n\n\n  function assembleFont(textStyleModel) {\n    var cssText = [];\n    var fontSize = textStyleModel.get('fontSize');\n    var color = textStyleModel.getTextColor();\n    color && cssText.push('color:' + color);\n    cssText.push('font:' + textStyleModel.getFont());\n    var lineHeight = textStyleModel.get('lineHeight');\n\n    if (lineHeight == null) {\n      lineHeight = Math.round(fontSize * 3 / 2);\n    }\n\n    fontSize && cssText.push('line-height:' + lineHeight + 'px');\n    var shadowColor = textStyleModel.get('textShadowColor');\n    var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n    var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n    var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n    shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n    each$p(['decoration', 'align'], function (name) {\n      var val = textStyleModel.get(name);\n      val && cssText.push('text-' + name + ':' + val);\n    });\n    return cssText.join(';');\n  }\n  /**\n   * @param {Object} tooltipModel\n   * @return {string}\n   * @inner\n   */\n\n\n  function assembleCssText(tooltipModel) {\n    var cssText = [];\n    var transitionDuration = tooltipModel.get('transitionDuration');\n    var backgroundColor = tooltipModel.get('backgroundColor');\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n    transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n    if (backgroundColor) {\n      if (env_1.canvasSupported) {\n        cssText.push('background-Color:' + backgroundColor);\n      } else {\n        // for ie\n        cssText.push('background-Color:#' + color.toHex(backgroundColor));\n        cssText.push('filter:alpha(opacity=70)');\n      }\n    } // Border style\n\n\n    each$p(['width', 'color', 'radius'], function (name) {\n      var borderName = 'border-' + name;\n      var camelCase = toCamelCase$1(borderName);\n      var val = tooltipModel.get(camelCase);\n      val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n    }); // Text style\n\n    cssText.push(assembleFont(textStyleModel)); // Padding\n\n    if (padding != null) {\n      cssText.push('padding:' + format$1.normalizeCssArray(padding).join('px ') + 'px');\n    }\n\n    return cssText.join(';') + ';';\n  } // If not able to make, do not modify the input `out`.\n\n\n  function makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n    var zrPainter = zr && zr.painter;\n\n    if (appendToBody) {\n      var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n      if (zrViewportRoot) {\n        // Some APPs might use scale on body, so we support CSS transform here.\n        dom.transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n      }\n    } else {\n      out[0] = zrX;\n      out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n      // the sibling of canvas root. So padding of ec container\n      // should be considered here.\n\n      var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n      if (viewportRootOffset) {\n        out[0] += viewportRootOffset.offsetLeft;\n        out[1] += viewportRootOffset.offsetTop;\n      }\n    }\n\n    out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n    out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n  }\n  /**\n   * @alias module:echarts/component/tooltip/TooltipContent\n   * @param {HTMLElement} container\n   * @param {ExtensionAPI} api\n   * @param {Object} [opt]\n   * @param {boolean} [opt.appendToBody]\n   *        `false`: the DOM element will be inside the container. Default value.\n   *        `true`: the DOM element will be appended to HTML body, which avoid\n   *                some overflow clip but intrude outside of the container.\n   * @constructor\n   */\n\n\n  function TooltipContent(container, api, opt) {\n    if (env_1.wxa) {\n      return null;\n    }\n\n    var el = document.createElement('div');\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendToBody = this._appendToBody = opt && opt.appendToBody;\n    this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n    makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n    if (appendToBody) {\n      document.body.appendChild(el);\n    } else {\n      container.appendChild(el);\n    }\n\n    this._container = container;\n    this._show = false;\n    /**\n     * @private\n     */\n\n    this._hideTimeout; // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n\n    var self = this;\n\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    };\n\n    el.onmousemove = function (e) {\n      e = e || window.event;\n\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        event.normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n\n    el.onmouseleave = function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    };\n  }\n\n  TooltipContent.prototype = {\n    constructor: TooltipContent,\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _enterable: true,\n\n    /**\n     * Update when tooltip is rendered\n     */\n    update: function (tooltipModel) {\n      // FIXME\n      // Move this logic to ec main?\n      var container = this._container;\n      var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n      var domStyle = container.style;\n\n      if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n\n      var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      alwaysShowContent && this._moveTooltipIfResized(); // Hide the tooltip\n      // PENDING\n      // this.hide();\n    },\n\n    /**\n     * when `alwaysShowContent` is true,\n     * we should move the tooltip after chart resized\n     */\n    _moveTooltipIfResized: function () {\n      var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n      var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n      var realX = ratioX * this._zr.getWidth();\n\n      var realY = ratioY * this._zr.getHeight();\n\n      this.moveTo(realX, realY);\n    },\n    show: function (tooltipModel) {\n      clearTimeout(this._hideTimeout);\n      var el = this.el;\n      var styleCoord = this._styleCoord;\n      el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n      // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n      // we should set initial value to `left` and `top`.\n      + ';left:' + styleCoord[0] + 'px;top:' + styleCoord[1] + 'px;' + (tooltipModel.get('extraCssText') || '');\n      el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n\n      el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n      this._show = true;\n    },\n    setContent: function (content) {\n      this.el.innerHTML = content == null ? '' : content;\n    },\n    setEnterable: function (enterable) {\n      this._enterable = enterable;\n    },\n    getSize: function () {\n      var el = this.el;\n      return [el.clientWidth, el.clientHeight];\n    },\n    moveTo: function (zrX, zrY) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n      var style = this.el.style;\n      style.left = styleCoord[0] + 'px';\n      style.top = styleCoord[1] + 'px';\n    },\n    hide: function () {\n      this.el.style.display = 'none';\n      this._show = false;\n    },\n    hideLater: function (time) {\n      if (this._show && !(this._inContent && this._enterable)) {\n        if (time) {\n          this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n          this._show = false;\n          this._hideTimeout = setTimeout(util.bind(this.hide, this), time);\n        } else {\n          this.hide();\n        }\n      }\n    },\n    isShow: function () {\n      return this._show;\n    },\n    dispose: function () {\n      this.el.parentNode.removeChild(this.el);\n    },\n    getOuterSize: function () {\n      var width = this.el.clientWidth;\n      var height = this.el.clientHeight; // Consider browser compatibility.\n      // IE8 does not support getComputedStyle.\n\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        var stl = document.defaultView.getComputedStyle(this.el);\n\n        if (stl) {\n          width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n          height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n        }\n      }\n\n      return {\n        width: width,\n        height: height\n      };\n    }\n  };\n  var _default$1Q = TooltipContent;\n  var TooltipContent_1 = _default$1Q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import Group from 'zrender/src/container/Group';\n  function makeStyleCoord$1(out, zr, zrX, zrY) {\n    out[0] = zrX;\n    out[1] = zrY;\n    out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n    out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n  }\n  /**\n   * @alias module:echarts/component/tooltip/TooltipRichContent\n   * @constructor\n   */\n\n\n  function TooltipRichContent(api) {\n    var zr = this._zr = api.getZr();\n    this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n    makeStyleCoord$1(this._styleCoord, zr, api.getWidth() / 2, api.getHeight() / 2);\n    this._show = false;\n    /**\n     * @private\n     */\n\n    this._hideTimeout;\n  }\n\n  TooltipRichContent.prototype = {\n    constructor: TooltipRichContent,\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _enterable: true,\n\n    /**\n     * Update when tooltip is rendered\n     */\n    update: function (tooltipModel) {\n      var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      alwaysShowContent && this._moveTooltipIfResized();\n    },\n\n    /**\n     * when `alwaysShowContent` is true,\n     * we should move the tooltip after chart resized\n     */\n    _moveTooltipIfResized: function () {\n      var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n      var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n      var realX = ratioX * this._zr.getWidth();\n\n      var realY = ratioY * this._zr.getHeight();\n\n      this.moveTo(realX, realY);\n    },\n    show: function (tooltipModel) {\n      if (this._hideTimeout) {\n        clearTimeout(this._hideTimeout);\n      }\n\n      this.el.attr('show', true);\n      this._show = true;\n    },\n\n    /**\n     * Set tooltip content\n     *\n     * @param {string} content rich text string of content\n     * @param {Object} markerRich rich text style\n     * @param {Object} tooltipModel tooltip model\n     */\n    setContent: function (content, markerRich, tooltipModel) {\n      if (this.el) {\n        this._zr.remove(this.el);\n      }\n\n      var markers = {};\n      var text = content;\n      var prefix = '{marker';\n      var suffix = '|}';\n      var startId = text.indexOf(prefix);\n\n      while (startId >= 0) {\n        var endId = text.indexOf(suffix);\n        var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n        if (name.indexOf('sub') > -1) {\n          markers['marker' + name] = {\n            textWidth: 4,\n            textHeight: 4,\n            textBorderRadius: 2,\n            textBackgroundColor: markerRich[name],\n            // TODO: textOffset is not implemented for rich text\n            textOffset: [3, 0]\n          };\n        } else {\n          markers['marker' + name] = {\n            textWidth: 10,\n            textHeight: 10,\n            textBorderRadius: 5,\n            textBackgroundColor: markerRich[name]\n          };\n        }\n\n        text = text.substr(endId + 1);\n        startId = text.indexOf('{marker');\n      }\n\n      var textStyleModel = tooltipModel.getModel('textStyle');\n      var fontSize = textStyleModel.get('fontSize');\n      var lineHeight = tooltipModel.get('textLineHeight');\n\n      if (lineHeight == null) {\n        lineHeight = Math.round(fontSize * 3 / 2);\n      }\n\n      this.el = new Text_1({\n        style: graphic.setTextStyle({}, textStyleModel, {\n          rich: markers,\n          text: content,\n          textBackgroundColor: tooltipModel.get('backgroundColor'),\n          textBorderRadius: tooltipModel.get('borderRadius'),\n          textFill: tooltipModel.get('textStyle.color'),\n          textPadding: tooltipModel.get('padding'),\n          textLineHeight: lineHeight\n        }),\n        z: tooltipModel.get('z')\n      });\n\n      this._zr.add(this.el);\n\n      var self = this;\n      this.el.on('mouseover', function () {\n        // clear the timeout in hideLater and keep showing tooltip\n        if (self._enterable) {\n          clearTimeout(self._hideTimeout);\n          self._show = true;\n        }\n\n        self._inContent = true;\n      });\n      this.el.on('mouseout', function () {\n        if (self._enterable) {\n          if (self._show) {\n            self.hideLater(self._hideDelay);\n          }\n        }\n\n        self._inContent = false;\n      });\n    },\n    setEnterable: function (enterable) {\n      this._enterable = enterable;\n    },\n    getSize: function () {\n      var bounding = this.el.getBoundingRect();\n      return [bounding.width, bounding.height];\n    },\n    moveTo: function (x, y) {\n      if (this.el) {\n        var styleCoord = this._styleCoord;\n        makeStyleCoord$1(styleCoord, this._zr, x, y);\n        this.el.attr('position', [styleCoord[0], styleCoord[1]]);\n      }\n    },\n    hide: function () {\n      if (this.el) {\n        this.el.hide();\n      }\n\n      this._show = false;\n    },\n    hideLater: function (time) {\n      if (this._show && !(this._inContent && this._enterable)) {\n        if (time) {\n          this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n          this._show = false;\n          this._hideTimeout = setTimeout(util.bind(this.hide, this), time);\n        } else {\n          this.hide();\n        }\n      }\n    },\n    isShow: function () {\n      return this._show;\n    },\n    dispose: function () {\n      clearTimeout(this._hideTimeout);\n\n      if (this.el) {\n        this._zr.remove(this.el);\n      }\n    },\n    getOuterSize: function () {\n      var size = this.getSize();\n      return {\n        width: size[0],\n        height: size[1]\n      };\n    }\n  };\n  var _default$1R = TooltipRichContent;\n  var TooltipRichContent_1 = _default$1R;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var getTooltipRenderMode$2 = model.getTooltipRenderMode;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var bind$3 = util.bind;\n  var each$q = util.each;\n  var parsePercent$5 = number.parsePercent;\n  var proxyRect = new graphic.Rect({\n    shape: {\n      x: -1,\n      y: -1,\n      width: 2,\n      height: 2\n    }\n  });\n\n  var _default$1S = echarts.extendComponentView({\n    type: 'tooltip',\n    init: function (ecModel, api) {\n      if (env_1.node) {\n        return;\n      }\n\n      var tooltipModel = ecModel.getComponent('tooltip');\n      var renderMode = tooltipModel.get('renderMode');\n      this._renderMode = getTooltipRenderMode$2(renderMode);\n      var tooltipContent;\n\n      if (this._renderMode === 'html') {\n        tooltipContent = new TooltipContent_1(api.getDom(), api, {\n          appendToBody: tooltipModel.get('appendToBody', true)\n        });\n        this._newLine = '<br/>';\n      } else {\n        tooltipContent = new TooltipRichContent_1(api);\n        this._newLine = '\\n';\n      }\n\n      this._tooltipContent = tooltipContent;\n    },\n    render: function (tooltipModel, ecModel, api) {\n      if (env_1.node) {\n        return;\n      } // Reset\n\n\n      this.group.removeAll();\n      /**\n       * @private\n       * @type {module:echarts/component/tooltip/TooltipModel}\n       */\n\n      this._tooltipModel = tooltipModel;\n      /**\n       * @private\n       * @type {module:echarts/model/Global}\n       */\n\n      this._ecModel = ecModel;\n      /**\n       * @private\n       * @type {module:echarts/ExtensionAPI}\n       */\n\n      this._api = api;\n      /**\n       * Should be cleaned when render.\n       * @private\n       * @type {Array.<Array.<Object>>}\n       */\n\n      this._lastDataByCoordSys = null;\n      /**\n       * @private\n       * @type {boolean}\n       */\n\n      this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      var tooltipContent = this._tooltipContent;\n      tooltipContent.update(tooltipModel);\n      tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n      this._initGlobalListener();\n\n      this._keepShow();\n    },\n    _initGlobalListener: function () {\n      var tooltipModel = this._tooltipModel;\n      var triggerOn = tooltipModel.get('triggerOn');\n      globalListener.register('itemTooltip', this._api, bind$3(function (currTrigger, e, dispatchAction) {\n        // If 'none', it is not controlled by mouse totally.\n        if (triggerOn !== 'none') {\n          if (triggerOn.indexOf(currTrigger) >= 0) {\n            this._tryShow(e, dispatchAction);\n          } else if (currTrigger === 'leave') {\n            this._hide(dispatchAction);\n          }\n        }\n      }, this));\n    },\n    _keepShow: function () {\n      var tooltipModel = this._tooltipModel;\n      var ecModel = this._ecModel;\n      var api = this._api; // Try to keep the tooltip show when refreshing\n\n      if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n      // self.manuallyShowTip({x, y}) might cause tooltip hide,\n      // which is not expected.\n      && tooltipModel.get('triggerOn') !== 'none') {\n        var self = this;\n        clearTimeout(this._refreshUpdateTimeout);\n        this._refreshUpdateTimeout = setTimeout(function () {\n          // Show tip next tick after other charts are rendered\n          // In case highlight action has wrong result\n          // FIXME\n          !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n            x: self._lastX,\n            y: self._lastY\n          });\n        });\n      }\n    },\n\n    /**\n     * Show tip manually by\n     * dispatchAction({\n     *     type: 'showTip',\n     *     x: 10,\n     *     y: 10\n     * });\n     * Or\n     * dispatchAction({\n     *      type: 'showTip',\n     *      seriesIndex: 0,\n     *      dataIndex or dataIndexInside or name\n     * });\n     *\n     *  TODO Batch\n     */\n    manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n      if (payload.from === this.uid || env_1.node) {\n        return;\n      }\n\n      var dispatchAction = makeDispatchAction$1(payload, api); // Reset ticket\n\n      this._ticket = ''; // When triggered from axisPointer.\n\n      var dataByCoordSys = payload.dataByCoordSys;\n\n      if (payload.tooltip && payload.x != null && payload.y != null) {\n        var el = proxyRect;\n        el.position = [payload.x, payload.y];\n        el.update();\n        el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          target: el\n        }, dispatchAction);\n      } else if (dataByCoordSys) {\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          position: payload.position,\n          dataByCoordSys: payload.dataByCoordSys,\n          tooltipOption: payload.tooltipOption\n        }, dispatchAction);\n      } else if (payload.seriesIndex != null) {\n        if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n          return;\n        }\n\n        var pointInfo = findPointFromSeries(payload, ecModel);\n        var cx = pointInfo.point[0];\n        var cy = pointInfo.point[1];\n\n        if (cx != null && cy != null) {\n          this._tryShow({\n            offsetX: cx,\n            offsetY: cy,\n            position: payload.position,\n            target: pointInfo.el\n          }, dispatchAction);\n        }\n      } else if (payload.x != null && payload.y != null) {\n        // FIXME\n        // should wrap dispatchAction like `axisPointer/globalListener` ?\n        api.dispatchAction({\n          type: 'updateAxisPointer',\n          x: payload.x,\n          y: payload.y\n        });\n\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          position: payload.position,\n          target: api.getZr().findHover(payload.x, payload.y).target\n        }, dispatchAction);\n      }\n    },\n    manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n      var tooltipContent = this._tooltipContent;\n\n      if (!this._alwaysShowContent && this._tooltipModel) {\n        tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n      }\n\n      this._lastX = this._lastY = null;\n\n      if (payload.from !== this.uid) {\n        this._hide(makeDispatchAction$1(payload, api));\n      }\n    },\n    // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n    // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n    // and tooltip.\n    _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n      var seriesIndex = payload.seriesIndex;\n      var dataIndex = payload.dataIndex;\n      var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n      if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n        return;\n      }\n\n      var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n      if (!seriesModel) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n      if (tooltipModel.get('trigger') !== 'axis') {\n        return;\n      }\n\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        seriesIndex: seriesIndex,\n        dataIndex: dataIndex,\n        position: payload.position\n      });\n      return true;\n    },\n    _tryShow: function (e, dispatchAction) {\n      var el = e.target;\n      var tooltipModel = this._tooltipModel;\n\n      if (!tooltipModel) {\n        return;\n      } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n      this._lastX = e.offsetX;\n      this._lastY = e.offsetY;\n      var dataByCoordSys = e.dataByCoordSys;\n\n      if (dataByCoordSys && dataByCoordSys.length) {\n        this._showAxisTooltip(dataByCoordSys, e);\n      } // Always show item tooltip if mouse is on the element with dataIndex\n      else if (el && el.dataIndex != null) {\n          this._lastDataByCoordSys = null;\n\n          this._showSeriesItemTooltip(e, el, dispatchAction);\n        } // Tooltip provided directly. Like legend.\n        else if (el && el.tooltip) {\n            this._lastDataByCoordSys = null;\n\n            this._showComponentItemTooltip(e, el, dispatchAction);\n          } else {\n            this._lastDataByCoordSys = null;\n\n            this._hide(dispatchAction);\n          }\n    },\n    _showOrMove: function (tooltipModel, cb) {\n      // showDelay is used in this case: tooltip.enterable is set\n      // as true. User intent to move mouse into tooltip and click\n      // something. `showDelay` makes it easier to enter the content\n      // but tooltip do not move immediately.\n      var delay = tooltipModel.get('showDelay');\n      cb = util.bind(cb, this);\n      clearTimeout(this._showTimout);\n      delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n    },\n    _showAxisTooltip: function (dataByCoordSys, e) {\n      var ecModel = this._ecModel;\n      var globalTooltipModel = this._tooltipModel;\n      var point = [e.offsetX, e.offsetY];\n      var singleDefaultHTML = [];\n      var singleParamsList = [];\n      var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n      var renderMode = this._renderMode;\n      var newLine = this._newLine;\n      var markers = {};\n      each$q(dataByCoordSys, function (itemCoordSys) {\n        // var coordParamList = [];\n        // var coordDefaultHTML = [];\n        // var coordTooltipModel = buildTooltipModel([\n        //     e.tooltipOption,\n        //     itemCoordSys.tooltipOption,\n        //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n        //     globalTooltipModel\n        // ]);\n        // var displayMode = coordTooltipModel.get('displayMode');\n        // var paramsList = displayMode === 'single' ? singleParamsList : [];\n        each$q(itemCoordSys.dataByAxis, function (item) {\n          var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n          var axisValue = item.value;\n          var seriesDefaultHTML = [];\n\n          if (!axisModel || axisValue == null) {\n            return;\n          }\n\n          var valueLabel = viewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n          util.each(item.seriesDataIndices, function (idxItem) {\n            var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n            var dataIndex = idxItem.dataIndexInside;\n            var dataParams = series && series.getDataParams(dataIndex);\n            dataParams.axisDim = item.axisDim;\n            dataParams.axisIndex = item.axisIndex;\n            dataParams.axisType = item.axisType;\n            dataParams.axisId = item.axisId;\n            dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n            dataParams.axisValueLabel = valueLabel;\n\n            if (dataParams) {\n              singleParamsList.push(dataParams);\n              var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n              var html;\n\n              if (util.isObject(seriesTooltip)) {\n                html = seriesTooltip.html;\n                var newMarkers = seriesTooltip.markers;\n                util.merge(markers, newMarkers);\n              } else {\n                html = seriesTooltip;\n              }\n\n              seriesDefaultHTML.push(html);\n            }\n          }); // Default tooltip content\n          // FIXME\n          // (1) should be the first data which has name?\n          // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n          var firstLine = valueLabel;\n\n          if (renderMode !== 'html') {\n            singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n          } else {\n            singleDefaultHTML.push((firstLine ? format$1.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n          }\n        });\n      }, this); // In most case, the second axis is shown upper than the first one.\n\n      singleDefaultHTML.reverse();\n      singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n      var positionExpr = e.position;\n\n      this._showOrMove(singleTooltipModel, function () {\n        if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n          this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n        } else {\n          this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n        }\n      }); // Do not trigger events here, because this branch only be entered\n      // from dispatchAction.\n\n    },\n    _showSeriesItemTooltip: function (e, el, dispatchAction) {\n      var ecModel = this._ecModel; // Use dataModel in element if possible\n      // Used when mouseover on a element like markPoint or edge\n      // In which case, the data is not main data in series.\n\n      var seriesIndex = el.seriesIndex;\n      var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n      var dataModel = el.dataModel || seriesModel;\n      var dataIndex = el.dataIndex;\n      var dataType = el.dataType;\n      var data = dataModel.getData(dataType);\n      var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n      var tooltipTrigger = tooltipModel.get('trigger');\n\n      if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n        return;\n      }\n\n      var params = dataModel.getDataParams(dataIndex, dataType);\n      var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n      var defaultHtml;\n      var markers;\n\n      if (util.isObject(seriesTooltip)) {\n        defaultHtml = seriesTooltip.html;\n        markers = seriesTooltip.markers;\n      } else {\n        defaultHtml = seriesTooltip;\n        markers = null;\n      }\n\n      var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n      this._showOrMove(tooltipModel, function () {\n        this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n      }); // FIXME\n      // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n      dispatchAction({\n        type: 'showTip',\n        dataIndexInside: dataIndex,\n        dataIndex: data.getRawIndex(dataIndex),\n        seriesIndex: seriesIndex,\n        from: this.uid\n      });\n    },\n    _showComponentItemTooltip: function (e, el, dispatchAction) {\n      var tooltipOpt = el.tooltip;\n\n      if (typeof tooltipOpt === 'string') {\n        var content = tooltipOpt;\n        tooltipOpt = {\n          content: content,\n          // Fixed formatter\n          formatter: content\n        };\n      }\n\n      var subTooltipModel = new Model_1(tooltipOpt, this._tooltipModel, this._ecModel);\n      var defaultHtml = subTooltipModel.get('content');\n      var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n      // only works on coordinate system. In fact, we have not found case\n      // that requires setting `trigger` nothing on component yet.\n\n      this._showOrMove(subTooltipModel, function () {\n        this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n      }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n      dispatchAction({\n        type: 'showTip',\n        from: this.uid\n      });\n    },\n    _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n      // Reset ticket\n      this._ticket = '';\n\n      if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n        return;\n      }\n\n      var tooltipContent = this._tooltipContent;\n      var formatter = tooltipModel.get('formatter');\n      positionExpr = positionExpr || tooltipModel.get('position');\n      var html = defaultHtml;\n\n      if (formatter && typeof formatter === 'string') {\n        html = format$1.formatTpl(formatter, params, true);\n      } else if (typeof formatter === 'function') {\n        var callback = bind$3(function (cbTicket, html) {\n          if (cbTicket === this._ticket) {\n            tooltipContent.setContent(html, markers, tooltipModel);\n\n            this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n          }\n        }, this);\n        this._ticket = asyncTicket;\n        html = formatter(params, asyncTicket, callback);\n      }\n\n      tooltipContent.setContent(html, markers, tooltipModel);\n      tooltipContent.show(tooltipModel);\n\n      this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n    },\n\n    /**\n     * @param  {string|Function|Array.<number>|Object} positionExpr\n     * @param  {number} x Mouse x\n     * @param  {number} y Mouse y\n     * @param  {boolean} confine Whether confine tooltip content in view rect.\n     * @param  {Object|<Array.<Object>} params\n     * @param  {module:zrender/Element} el target element\n     * @param  {module:echarts/ExtensionAPI} api\n     * @return {Array.<number>}\n     */\n    _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n      var viewWidth = this._api.getWidth();\n\n      var viewHeight = this._api.getHeight();\n\n      positionExpr = positionExpr || tooltipModel.get('position');\n      var contentSize = content.getSize();\n      var align = tooltipModel.get('align');\n      var vAlign = tooltipModel.get('verticalAlign');\n      var rect = el && el.getBoundingRect().clone();\n      el && rect.applyTransform(el.transform);\n\n      if (typeof positionExpr === 'function') {\n        // Callback of position can be an array or a string specify the position\n        positionExpr = positionExpr([x, y], params, content.el, rect, {\n          viewSize: [viewWidth, viewHeight],\n          contentSize: contentSize.slice()\n        });\n      }\n\n      if (util.isArray(positionExpr)) {\n        x = parsePercent$5(positionExpr[0], viewWidth);\n        y = parsePercent$5(positionExpr[1], viewHeight);\n      } else if (util.isObject(positionExpr)) {\n        positionExpr.width = contentSize[0];\n        positionExpr.height = contentSize[1];\n        var layoutRect = layout.getLayoutRect(positionExpr, {\n          width: viewWidth,\n          height: viewHeight\n        });\n        x = layoutRect.x;\n        y = layoutRect.y;\n        align = null; // When positionExpr is left/top/right/bottom,\n        // align and verticalAlign will not work.\n\n        vAlign = null;\n      } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n      else if (typeof positionExpr === 'string' && el) {\n          var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n          x = pos[0];\n          y = pos[1];\n        } else {\n          var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n          x = pos[0];\n          y = pos[1];\n        }\n\n      align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n      vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n      if (tooltipModel.get('confine')) {\n        var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n        x = pos[0];\n        y = pos[1];\n      }\n\n      content.moveTo(x, y);\n    },\n    // FIXME\n    // Should we remove this but leave this to user?\n    _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n      var lastCoordSys = this._lastDataByCoordSys;\n      var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n      contentNotChanged && each$q(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n        var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n        var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n        var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n        contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n        contentNotChanged && each$q(lastDataByAxis, function (lastItem, indexAxis) {\n          var thisItem = thisDataByAxis[indexAxis] || {};\n          var lastIndices = lastItem.seriesDataIndices || [];\n          var newIndices = thisItem.seriesDataIndices || [];\n          contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n          contentNotChanged && each$q(lastIndices, function (lastIdxItem, j) {\n            var newIdxItem = newIndices[j];\n            contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n          });\n        });\n      });\n      this._lastDataByCoordSys = dataByCoordSys;\n      return !!contentNotChanged;\n    },\n    _hide: function (dispatchAction) {\n      // Do not directly hideLater here, because this behavior may be prevented\n      // in dispatchAction when showTip is dispatched.\n      // FIXME\n      // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n      this._lastDataByCoordSys = null;\n      dispatchAction({\n        type: 'hideTip',\n        from: this.uid\n      });\n    },\n    dispose: function (ecModel, api) {\n      if (env_1.node) {\n        return;\n      }\n\n      this._tooltipContent.dispose();\n\n      globalListener.unregister('itemTooltip', api);\n    }\n  });\n  /**\n   * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n   * From top to bottom. (the last one should be globalTooltipModel);\n   */\n\n\n  function buildTooltipModel(modelCascade) {\n    var resultModel = modelCascade.pop();\n\n    while (modelCascade.length) {\n      var tooltipOpt = modelCascade.pop();\n\n      if (tooltipOpt) {\n        if (Model_1.isInstance(tooltipOpt)) {\n          tooltipOpt = tooltipOpt.get('tooltip', true);\n        } // In each data item tooltip can be simply write:\n        // {\n        //  value: 10,\n        //  tooltip: 'Something you need to know'\n        // }\n\n\n        if (typeof tooltipOpt === 'string') {\n          tooltipOpt = {\n            formatter: tooltipOpt\n          };\n        }\n\n        resultModel = new Model_1(tooltipOpt, resultModel, resultModel.ecModel);\n      }\n    }\n\n    return resultModel;\n  }\n\n  function makeDispatchAction$1(payload, api) {\n    return payload.dispatchAction || util.bind(api.dispatchAction, api);\n  }\n\n  function refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n    var size = content.getOuterSize();\n    var width = size.width;\n    var height = size.height;\n\n    if (gapH != null) {\n      if (x + width + gapH > viewWidth) {\n        x -= width + gapH;\n      } else {\n        x += gapH;\n      }\n    }\n\n    if (gapV != null) {\n      if (y + height + gapV > viewHeight) {\n        y -= height + gapV;\n      } else {\n        y += gapV;\n      }\n    }\n\n    return [x, y];\n  }\n\n  function confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n    var size = content.getOuterSize();\n    var width = size.width;\n    var height = size.height;\n    x = Math.min(x + width, viewWidth) - width;\n    y = Math.min(y + height, viewHeight) - height;\n    x = Math.max(x, 0);\n    y = Math.max(y, 0);\n    return [x, y];\n  }\n\n  function calcTooltipPosition(position, rect, contentSize) {\n    var domWidth = contentSize[0];\n    var domHeight = contentSize[1];\n    var gap = 5;\n    var x = 0;\n    var y = 0;\n    var rectWidth = rect.width;\n    var rectHeight = rect.height;\n\n    switch (position) {\n      case 'inside':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n        break;\n\n      case 'top':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y - domHeight - gap;\n        break;\n\n      case 'bottom':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y + rectHeight + gap;\n        break;\n\n      case 'left':\n        x = rect.x - domWidth - gap;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n        break;\n\n      case 'right':\n        x = rect.x + rectWidth + gap;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n    }\n\n    return [x, y];\n  }\n\n  function isCenterAlign(align) {\n    return align === 'center' || align === 'middle';\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME Better way to pack data in graphic element\n\n  /**\n   * @action\n   * @property {string} type\n   * @property {number} seriesIndex\n   * @property {number} dataIndex\n   * @property {number} [x]\n   * @property {number} [y]\n   */\n  echarts.registerAction({\n    type: 'showTip',\n    event: 'showTip',\n    update: 'tooltip:manuallyShowTip'\n  }, // noop\n  function () {});\n  echarts.registerAction({\n    type: 'hideTip',\n    event: 'hideTip',\n    update: 'tooltip:manuallyHideTip'\n  }, // noop\n  function () {});\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var isNameSpecified$1 = model.isNameSpecified;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var langSelector = lang.legend.selector;\n  var defaultSelectorOption = {\n    all: {\n      type: 'all',\n      title: util.clone(langSelector.all)\n    },\n    inverse: {\n      type: 'inverse',\n      title: util.clone(langSelector.inverse)\n    }\n  };\n  var LegendModel = echarts.extendComponentModel({\n    type: 'legend.plain',\n    dependencies: ['series'],\n    layoutMode: {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    },\n    init: function (option, parentModel, ecModel) {\n      this.mergeDefaultAndTheme(option, ecModel);\n      option.selected = option.selected || {};\n\n      this._updateSelector(option);\n    },\n    mergeOption: function (option) {\n      LegendModel.superCall(this, 'mergeOption', option);\n\n      this._updateSelector(option);\n    },\n    _updateSelector: function (option) {\n      var selector = option.selector;\n\n      if (selector === true) {\n        selector = option.selector = ['all', 'inverse'];\n      }\n\n      if (util.isArray(selector)) {\n        util.each(selector, function (item, index) {\n          util.isString(item) && (item = {\n            type: item\n          });\n          selector[index] = util.merge(item, defaultSelectorOption[item.type]);\n        });\n      }\n    },\n    optionUpdated: function () {\n      this._updateData(this.ecModel);\n\n      var legendData = this._data; // If selectedMode is single, try to select one\n\n      if (legendData[0] && this.get('selectedMode') === 'single') {\n        var hasSelected = false; // If has any selected in option.selected\n\n        for (var i = 0; i < legendData.length; i++) {\n          var name = legendData[i].get('name');\n\n          if (this.isSelected(name)) {\n            // Force to unselect others\n            this.select(name);\n            hasSelected = true;\n            break;\n          }\n        } // Try select the first if selectedMode is single\n\n\n        !hasSelected && this.select(legendData[0].get('name'));\n      }\n    },\n    _updateData: function (ecModel) {\n      var potentialData = [];\n      var availableNames = [];\n      ecModel.eachRawSeries(function (seriesModel) {\n        var seriesName = seriesModel.name;\n        availableNames.push(seriesName);\n        var isPotential;\n\n        if (seriesModel.legendVisualProvider) {\n          var provider = seriesModel.legendVisualProvider;\n          var names = provider.getAllNames();\n\n          if (!ecModel.isSeriesFiltered(seriesModel)) {\n            availableNames = availableNames.concat(names);\n          }\n\n          if (names.length) {\n            potentialData = potentialData.concat(names);\n          } else {\n            isPotential = true;\n          }\n        } else {\n          isPotential = true;\n        }\n\n        if (isPotential && isNameSpecified$1(seriesModel)) {\n          potentialData.push(seriesModel.name);\n        }\n      });\n      /**\n       * @type {Array.<string>}\n       * @private\n       */\n\n      this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n      // which is convinient for user preparing option.\n\n      var rawData = this.get('data') || potentialData;\n      var legendData = util.map(rawData, function (dataItem) {\n        // Can be string or number\n        if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n          dataItem = {\n            name: dataItem\n          };\n        }\n\n        return new Model_1(dataItem, this, this.ecModel);\n      }, this);\n      /**\n       * @type {Array.<module:echarts/model/Model>}\n       * @private\n       */\n\n      this._data = legendData;\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Model>}\n     */\n    getData: function () {\n      return this._data;\n    },\n\n    /**\n     * @param {string} name\n     */\n    select: function (name) {\n      var selected = this.option.selected;\n      var selectedMode = this.get('selectedMode');\n\n      if (selectedMode === 'single') {\n        var data = this._data;\n        util.each(data, function (dataItem) {\n          selected[dataItem.get('name')] = false;\n        });\n      }\n\n      selected[name] = true;\n    },\n\n    /**\n     * @param {string} name\n     */\n    unSelect: function (name) {\n      if (this.get('selectedMode') !== 'single') {\n        this.option.selected[name] = false;\n      }\n    },\n\n    /**\n     * @param {string} name\n     */\n    toggleSelected: function (name) {\n      var selected = this.option.selected; // Default is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      this[selected[name] ? 'unSelect' : 'select'](name);\n    },\n    allSelect: function () {\n      var data = this._data;\n      var selected = this.option.selected;\n      util.each(data, function (dataItem) {\n        selected[dataItem.get('name', true)] = true;\n      });\n    },\n    inverseSelect: function () {\n      var data = this._data;\n      var selected = this.option.selected;\n      util.each(data, function (dataItem) {\n        var name = dataItem.get('name', true); // Initially, default value is true\n\n        if (!selected.hasOwnProperty(name)) {\n          selected[name] = true;\n        }\n\n        selected[name] = !selected[name];\n      });\n    },\n\n    /**\n     * @param {string} name\n     */\n    isSelected: function (name) {\n      var selected = this.option.selected;\n      return !(selected.hasOwnProperty(name) && !selected[name]) && util.indexOf(this._availableNames, name) >= 0;\n    },\n    getOrient: function () {\n      return this.get('orient') === 'vertical' ? {\n        index: 1,\n        name: 'vertical'\n      } : {\n        index: 0,\n        name: 'horizontal'\n      };\n    },\n    defaultOption: {\n      // \n      zlevel: 0,\n      // \n      z: 4,\n      show: true,\n      // \n      // 'horizontal' | 'vertical'\n      orient: 'horizontal',\n      left: 'center',\n      // right: 'center',\n      top: 0,\n      // bottom: null,\n      // \n      // 'auto' | 'left' | 'right'\n      //  'auto',  x \n      align: 'auto',\n      backgroundColor: 'rgba(0,0,0,0)',\n      // \n      borderColor: '#ccc',\n      borderRadius: 0,\n      // px0\n      borderWidth: 0,\n      // px5\n      // css\n      padding: 5,\n      // itempx10\n      // \n      itemGap: 10,\n      // the width of legend symbol\n      itemWidth: 25,\n      // the height of legend symbol\n      itemHeight: 14,\n      // the color of unselected legend symbol\n      inactiveColor: '#ccc',\n      // the borderColor of unselected legend symbol\n      inactiveBorderColor: '#ccc',\n      itemStyle: {\n        // the default borderWidth of legend symbol\n        borderWidth: 0\n      },\n      textStyle: {\n        // \n        color: '#333'\n      },\n      // formatter: '',\n      // \n      selectedMode: true,\n      // LEGEND.SELECTED\n      // selected: null,\n      // legend.dataitem\n      // data: [],\n      // Usage:\n      // selector: [{type: 'all or inverse', title: xxx}]\n      // or\n      // selector: true\n      // or\n      // selector: ['all', 'inverse']\n      selector: false,\n      selectorLabel: {\n        show: true,\n        borderRadius: 10,\n        padding: [3, 5, 3, 5],\n        fontSize: 12,\n        fontFamily: ' sans-serif',\n        color: '#666',\n        borderWidth: 1,\n        borderColor: '#666'\n      },\n      emphasis: {\n        selectorLabel: {\n          show: true,\n          color: '#eee',\n          backgroundColor: '#666'\n        }\n      },\n      // Value can be 'start' or 'end'\n      selectorPosition: 'auto',\n      selectorItemGap: 7,\n      selectorButtonGap: 10,\n      // Tooltip \n      tooltip: {\n        show: false\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function legendSelectActionHandler(methodName, payload, ecModel) {\n    var selectedMap = {};\n    var isToggleSelect = methodName === 'toggleSelected';\n    var isSelected; // Update all legend components\n\n    ecModel.eachComponent('legend', function (legendModel) {\n      if (isToggleSelect && isSelected != null) {\n        // Force other legend has same selected status\n        // Or the first is toggled to true and other are toggled to false\n        // In the case one legend has some item unSelected in option. And if other legend\n        // doesn't has the item, they will assume it is selected.\n        legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n      } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n        legendModel[methodName]();\n      } else {\n        legendModel[methodName](payload.name);\n        isSelected = legendModel.isSelected(payload.name);\n      }\n\n      var legendData = legendModel.getData();\n      util.each(legendData, function (model) {\n        var name = model.get('name'); // Wrap element\n\n        if (name === '\\n' || name === '') {\n          return;\n        }\n\n        var isItemSelected = legendModel.isSelected(name);\n\n        if (selectedMap.hasOwnProperty(name)) {\n          // Unselected if any legend is unselected\n          selectedMap[name] = selectedMap[name] && isItemSelected;\n        } else {\n          selectedMap[name] = isItemSelected;\n        }\n      });\n    }); // Return the event explicitly\n\n    return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n      selected: selectedMap\n    } : {\n      name: payload.name,\n      selected: selectedMap\n    };\n  }\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n\n\n  echarts.registerAction('legendToggleSelect', 'legendselectchanged', util.curry(legendSelectActionHandler, 'toggleSelected'));\n  echarts.registerAction('legendAllSelect', 'legendselectall', util.curry(legendSelectActionHandler, 'allSelect'));\n  echarts.registerAction('legendInverseSelect', 'legendinverseselect', util.curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  echarts.registerAction('legendSelect', 'legendselected', util.curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  echarts.registerAction('legendUnSelect', 'legendunselected', util.curry(legendSelectActionHandler, 'unSelect'));\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var getLayoutRect$2 = layout.getLayoutRect;\n  var layoutBox = layout.box;\n  var positionElement$1 = layout.positionElement;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Layout list like component.\n   * It will box layout each items in group of component and then position the whole group in the viewport\n   * @param {module:zrender/group/Group} group\n   * @param {module:echarts/model/Component} componentModel\n   * @param {module:echarts/ExtensionAPI}\n   */\n  function layout$3(group, componentModel, api) {\n    var boxLayoutParams = componentModel.getBoxLayoutParams();\n    var padding = componentModel.get('padding');\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var rect = getLayoutRect$2(boxLayoutParams, viewportSize, padding);\n    layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n    positionElement$1(group, boxLayoutParams, viewportSize, padding);\n  }\n\n  function makeBackground(rect, componentModel) {\n    var padding = format$1.normalizeCssArray(componentModel.get('padding'));\n    var style = componentModel.getItemStyle(['color', 'opacity']);\n    style.fill = componentModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[1] + padding[3],\n        height: rect.height + padding[0] + padding[2],\n        r: componentModel.get('borderRadius')\n      },\n      style: style,\n      silent: true,\n      z2: -1\n    }); // FIXME\n    // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n    // and background rect when setting like `left: 0`, `top: 0`.\n    // graphic.subPixelOptimizeRect(rect);\n\n    return rect;\n  }\n\n  var layout_1$2 = layout$3;\n  var makeBackground_1 = makeBackground;\n\n  var listComponent = {\n  \tlayout: layout_1$2,\n  \tmakeBackground: makeBackground_1\n  };\n\n  var createSymbol$4 = symbol.createSymbol;\n\n\n\n\n\n  var makeBackground$1 = listComponent.makeBackground;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var curry$3 = util.curry;\n  var each$r = util.each;\n  var Group$1 = graphic.Group;\n\n  var _default$1T = echarts.extendComponentView({\n    type: 'legend.plain',\n    newlineDisabled: false,\n\n    /**\n     * @override\n     */\n    init: function () {\n      /**\n       * @private\n       * @type {module:zrender/container/Group}\n       */\n      this.group.add(this._contentGroup = new Group$1());\n      /**\n       * @private\n       * @type {module:zrender/Element}\n       */\n\n      this._backgroundEl;\n      /**\n       * @private\n       * @type {module:zrender/container/Group}\n       */\n\n      this.group.add(this._selectorGroup = new Group$1());\n      /**\n       * If first rendering, `contentGroup.position` is [0, 0], which\n       * does not make sense and may cause unexepcted animation if adopted.\n       * @private\n       * @type {boolean}\n       */\n\n      this._isFirstRender = true;\n    },\n\n    /**\n     * @protected\n     */\n    getContentGroup: function () {\n      return this._contentGroup;\n    },\n\n    /**\n     * @protected\n     */\n    getSelectorGroup: function () {\n      return this._selectorGroup;\n    },\n\n    /**\n     * @override\n     */\n    render: function (legendModel, ecModel, api) {\n      var isFirstRender = this._isFirstRender;\n      this._isFirstRender = false;\n      this.resetInner();\n\n      if (!legendModel.get('show', true)) {\n        return;\n      }\n\n      var itemAlign = legendModel.get('align');\n      var orient = legendModel.get('orient');\n\n      if (!itemAlign || itemAlign === 'auto') {\n        itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n      }\n\n      var selector = legendModel.get('selector', true);\n      var selectorPosition = legendModel.get('selectorPosition', true);\n\n      if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n        selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n      }\n\n      this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n      var positionInfo = legendModel.getBoxLayoutParams();\n      var viewportSize = {\n        width: api.getWidth(),\n        height: api.getHeight()\n      };\n      var padding = legendModel.get('padding');\n      var maxSize = layout.getLayoutRect(positionInfo, viewportSize, padding);\n      var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n      var layoutRect = layout.getLayoutRect(util.defaults({\n        width: mainRect.width,\n        height: mainRect.height\n      }, positionInfo), viewportSize, padding);\n      this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n      this.group.add(this._backgroundEl = makeBackground$1(mainRect, legendModel));\n    },\n\n    /**\n     * @protected\n     */\n    resetInner: function () {\n      this.getContentGroup().removeAll();\n      this._backgroundEl && this.group.remove(this._backgroundEl);\n      this.getSelectorGroup().removeAll();\n    },\n\n    /**\n     * @protected\n     */\n    renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n      var contentGroup = this.getContentGroup();\n      var legendDrawnMap = util.createHashMap();\n      var selectMode = legendModel.get('selectedMode');\n      var excludeSeriesId = [];\n      ecModel.eachRawSeries(function (seriesModel) {\n        !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n      });\n      each$r(legendModel.getData(), function (itemModel, dataIndex) {\n        var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n        if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n          contentGroup.add(new Group$1({\n            newline: true\n          }));\n          return;\n        } // Representitive series.\n\n\n        var seriesModel = ecModel.getSeriesByName(name)[0];\n\n        if (legendDrawnMap.get(name)) {\n          // Have been drawed\n          return;\n        } // Legend to control series.\n\n\n        if (seriesModel) {\n          var data = seriesModel.getData();\n          var color = data.getVisual('color');\n          var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n          if (typeof color === 'function') {\n            // Use the first data\n            color = color(seriesModel.getDataParams(0));\n          } // If borderColor is a callback function\n\n\n          if (typeof borderColor === 'function') {\n            // Use the first data\n            borderColor = borderColor(seriesModel.getDataParams(0));\n          } // Using rect symbol defaultly\n\n\n          var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n          var symbolType = data.getVisual('symbol');\n\n          var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n          itemGroup.on('click', curry$3(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry$3(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry$3(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n          legendDrawnMap.set(name, true);\n        } else {\n          // Legend to control data. In pie and funnel.\n          ecModel.eachRawSeries(function (seriesModel) {\n            // In case multiple series has same data name\n            if (legendDrawnMap.get(name)) {\n              return;\n            }\n\n            if (seriesModel.legendVisualProvider) {\n              var provider = seriesModel.legendVisualProvider;\n\n              if (!provider.containName(name)) {\n                return;\n              }\n\n              var idx = provider.indexOfName(name);\n              var color = provider.getItemVisual(idx, 'color');\n              var borderColor = provider.getItemVisual(idx, 'borderColor');\n              var legendSymbolType = 'roundRect';\n\n              var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n              itemGroup.on('click', curry$3(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n              // more than one pie series.\n              .on('mouseover', curry$3(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry$3(dispatchDownplayAction, null, name, api, excludeSeriesId));\n              legendDrawnMap.set(name, true);\n            }\n          }, this);\n        }\n      }, this);\n\n      if (selector) {\n        this._createSelector(selector, legendModel, api, orient, selectorPosition);\n      }\n    },\n    _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n      var selectorGroup = this.getSelectorGroup();\n      each$r(selector, function (selectorItem) {\n        createSelectorButton(selectorItem);\n      });\n\n      function createSelectorButton(selectorItem) {\n        var type = selectorItem.type;\n        var labelText = new graphic.Text({\n          style: {\n            x: 0,\n            y: 0,\n            align: 'center',\n            verticalAlign: 'middle'\n          },\n          onclick: function () {\n            api.dispatchAction({\n              type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n            });\n          }\n        });\n        selectorGroup.add(labelText);\n        var labelModel = legendModel.getModel('selectorLabel');\n        var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n        graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n          defaultText: selectorItem.title,\n          isRectText: false\n        });\n        graphic.setHoverStyle(labelText);\n      }\n    },\n    _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n      var itemWidth = legendModel.get('itemWidth');\n      var itemHeight = legendModel.get('itemHeight');\n      var inactiveColor = legendModel.get('inactiveColor');\n      var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n      var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n      var legendModelItemStyle = legendModel.getModel('itemStyle');\n      var isSelected = legendModel.isSelected(name);\n      var itemGroup = new Group$1();\n      var textStyleModel = itemModel.getModel('textStyle');\n      var itemIcon = itemModel.get('icon');\n      var tooltipModel = itemModel.getModel('tooltip');\n      var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n      legendSymbolType = itemIcon || legendSymbolType;\n      var legendSymbol = createSymbol$4(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect);\n      itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n      // PENDING\n\n      if (!itemIcon && symbolType // At least show one symbol, can't be all none\n      && (symbolType !== legendSymbolType || symbolType === 'none')) {\n        var size = itemHeight * 0.8;\n\n        if (symbolType === 'none') {\n          symbolType = 'circle';\n        }\n\n        var legendSymbolCenter = createSymbol$4(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n        symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n        itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n      }\n\n      var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n      var textAlign = itemAlign;\n      var formatter = legendModel.get('formatter');\n      var content = name;\n\n      if (typeof formatter === 'string' && formatter) {\n        content = formatter.replace('{name}', name != null ? name : '');\n      } else if (typeof formatter === 'function') {\n        content = formatter(name);\n      }\n\n      itemGroup.add(new graphic.Text({\n        style: graphic.setTextStyle({}, textStyleModel, {\n          text: content,\n          x: textX,\n          y: itemHeight / 2,\n          textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n          textAlign: textAlign,\n          textVerticalAlign: 'middle'\n        })\n      })); // Add a invisible rect to increase the area of mouse hover\n\n      var hitRect = new graphic.Rect({\n        shape: itemGroup.getBoundingRect(),\n        invisible: true,\n        tooltip: tooltipModel.get('show') ? util.extend({\n          content: name,\n          // Defaul formatter\n          formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n            return name;\n          },\n          formatterParams: {\n            componentType: 'legend',\n            legendIndex: legendModel.componentIndex,\n            name: name,\n            $vars: ['name']\n          }\n        }, tooltipModel.option) : null\n      });\n      itemGroup.add(hitRect);\n      itemGroup.eachChild(function (child) {\n        child.silent = true;\n      });\n      hitRect.silent = !selectMode;\n      this.getContentGroup().add(itemGroup);\n      graphic.setHoverStyle(itemGroup);\n      itemGroup.__legendDataIndex = dataIndex;\n      return itemGroup;\n    },\n\n    /**\n     * @protected\n     */\n    layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n      var contentGroup = this.getContentGroup();\n      var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n      layout.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n      var contentRect = contentGroup.getBoundingRect();\n      var contentPos = [-contentRect.x, -contentRect.y];\n\n      if (selector) {\n        // Place buttons in selectorGroup\n        layout.box( // Buttons in selectorGroup always layout horizontally\n        'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n        var selectorRect = selectorGroup.getBoundingRect();\n        var selectorPos = [-selectorRect.x, -selectorRect.y];\n        var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n        var orientIdx = legendModel.getOrient().index;\n        var wh = orientIdx === 0 ? 'width' : 'height';\n        var hw = orientIdx === 0 ? 'height' : 'width';\n        var yx = orientIdx === 0 ? 'y' : 'x';\n\n        if (selectorPosition === 'end') {\n          selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n        } else {\n          contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n        } //Always align selector to content as 'middle'\n\n\n        selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n        selectorGroup.attr('position', selectorPos);\n        contentGroup.attr('position', contentPos);\n        var mainRect = {\n          x: 0,\n          y: 0\n        };\n        mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n        mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n        mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n        return mainRect;\n      } else {\n        contentGroup.attr('position', contentPos);\n        return this.group.getBoundingRect();\n      }\n    },\n\n    /**\n     * @protected\n     */\n    remove: function () {\n      this.getContentGroup().removeAll();\n      this._isFirstRender = true;\n    }\n  });\n\n  function setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n    var itemStyle;\n\n    if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n      itemStyle = legendModelItemStyle.getItemStyle();\n      symbol.style.stroke = borderColor;\n\n      if (!isSelected) {\n        itemStyle.stroke = inactiveBorderColor;\n      }\n    } else {\n      itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n    }\n\n    return symbol.setStyle(itemStyle);\n  }\n\n  function dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n    // downplay before unselect\n    dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n    api.dispatchAction({\n      type: 'legendToggleSelect',\n      name: seriesName != null ? seriesName : dataName\n    }); // highlight after select\n\n    dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n  }\n\n  function dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n\n    if (!(el && el.useHoverLayer)) {\n      api.dispatchAction({\n        type: 'highlight',\n        seriesName: seriesName,\n        name: dataName,\n        excludeSeriesId: excludeSeriesId\n      });\n    }\n  }\n\n  function dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n\n    if (!(el && el.useHoverLayer)) {\n      api.dispatchAction({\n        type: 'downplay',\n        seriesName: seriesName,\n        name: dataName,\n        excludeSeriesId: excludeSeriesId\n      });\n    }\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1U(ecModel) {\n    var legendModels = ecModel.findComponents({\n      mainType: 'legend'\n    });\n\n    if (legendModels && legendModels.length) {\n      ecModel.filterSeries(function (series) {\n        // If in any legend component the status is not selected.\n        // Because in legend series is assumed selected when it is not in the legend data.\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(series.name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  }\n\n  var legendFilter = _default$1U;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Do not contain scrollable legend, for sake of file size.\n  // Series Filter\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  Component.registerSubTypeDefaulter('legend', function () {\n    // Default 'plain' when no type specified.\n    return 'plain';\n  });\n\n  var constants = createCommonjsModule(function (module, exports) {\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  var DEFAULT_THEME = {\n    categoryAxis: {\n      axisLine: { show: false },\n      axisTick: { show: false },\n      splitLine: { show: false }\n    },\n    valueAxis: {\n      axisLine: { show: false }\n    },\n    line: {\n      smooth: true\n    },\n    grid: {\n      containLabel: true,\n      left: 10,\n      right: 10\n    }\n  };\n\n  var DEFAULT_COLORS = ['#19d4ae', '#5ab1ef', '#fa6e86', '#ffb980', '#0067a6', '#c4b4e4', '#d87a80', '#9cbbff', '#d9d0c7', '#87a997', '#d49ea2', '#5b4947', '#7ba3a8'];\n\n  var HEAT_MAP_COLOR = ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026'];\n\n  var HEAT_BMAP_COLOR = ['blue', 'blue', 'green', 'yellow', 'red'];\n\n  var itemPoint = function itemPoint(color) {\n    return ['<span style=\"', 'background-color:' + color + ';', 'display: inline-block;', 'width: 10px;', 'height: 10px;', 'border-radius: 50%;', 'margin-right:2px;', '\"></span>'].join('');\n  };\n\n  var STATIC_PROPS = ['initOptions', 'loading', 'dataEmpty', 'judgeWidth', 'widthChangeDelay'];\n\n  var ECHARTS_SETTINGS = ['grid', 'dataZoom', 'visualMap', 'toolbox', 'title', 'legend', 'xAxis', 'yAxis', 'radar', 'tooltip', 'axisPointer', 'brush', 'geo', 'timeline', 'graphic', 'series', 'backgroundColor', 'textStyle'];\n\n  exports.DEFAULT_THEME = DEFAULT_THEME;\n  exports.DEFAULT_COLORS = DEFAULT_COLORS;\n  exports.HEAT_MAP_COLOR = HEAT_MAP_COLOR;\n  exports.HEAT_BMAP_COLOR = HEAT_BMAP_COLOR;\n  exports.itemPoint = itemPoint;\n  exports.STATIC_PROPS = STATIC_PROPS;\n  exports.ECHARTS_SETTINGS = ECHARTS_SETTINGS;\n  });\n\n  function _interopDefault$1 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n  var echartsLib = _interopDefault$1(echarts);\n\n\n  var numerify$1 = _interopDefault$1(require$$3);\n\n\n  var Loading = { render: function render() {\n      var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"v-charts-component-loading\" }, [_c('div', { staticClass: \"loader\" }, [_c('div', { staticClass: \"loading-spinner\" }, [_c('svg', { staticClass: \"circular\", attrs: { \"viewBox\": \"25 25 50 50\" } }, [_c('circle', { staticClass: \"path\", attrs: { \"cx\": \"50\", \"cy\": \"50\", \"r\": \"20\", \"fill\": \"none\" } })])])])]);\n    }, staticRenderFns: []\n  };\n\n  var DataEmpty = { render: function render() {\n      var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"v-charts-data-empty\" }, [_vm._v(\"  \")]);\n    }, staticRenderFns: []\n  };\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function setExtend (options, extend) {\n    Object.keys(extend).forEach(function (attr) {\n      var value = extend[attr];\n      if (~attr.indexOf('.')) {\n        // eg: a.b.c a.1.b\n        utilsLite.set(options, attr, value);\n      } else if (typeof value === 'function') {\n        // get callback value\n        options[attr] = value(options[attr]);\n      } else {\n        // mixin extend value\n        if (utilsLite.isArray(options[attr]) && utilsLite.isObject(options[attr][0])) {\n          // eg: [{ xx: 1 }, { xx: 2 }]\n          options[attr].forEach(function (option, index) {\n            options[attr][index] = _extends({}, option, value);\n          });\n        } else if (utilsLite.isObject(options[attr])) {\n          // eg: { xx: 1, yy: 2 }\n          options[attr] = _extends({}, options[attr], value);\n        } else {\n          options[attr] = value;\n        }\n      }\n    });\n  }\n\n  function setMark (seriesItem, marks) {\n    Object.keys(marks).forEach(function (key) {\n      if (marks[key]) seriesItem[key] = marks[key];\n    });\n  }\n\n  function setAnimation (options, animation) {\n    Object.keys(animation).forEach(function (key) {\n      options[key] = animation[key];\n    });\n  }\n\n  var core = {\n    render: function render(h) {\n      return h('div', {\n        class: [utilsLite.camelToKebab(this.$options.name || this.$options._componentTag)],\n        style: this.canvasStyle\n      }, [h('div', {\n        style: this.canvasStyle,\n        class: { 'v-charts-mask-status': this.dataEmpty || this.loading },\n        ref: 'canvas'\n      }), h(DataEmpty, {\n        style: { display: this.dataEmpty ? '' : 'none' }\n      }), h(Loading, {\n        style: { display: this.loading ? '' : 'none' }\n      }), this.$slots.default]);\n    },\n\n\n    props: {\n      data: { type: [Object, Array], default: function _default() {\n          return {};\n        }\n      },\n      settings: { type: Object, default: function _default() {\n          return {};\n        }\n      },\n      width: { type: String, default: 'auto' },\n      height: { type: String, default: '400px' },\n      beforeConfig: { type: Function },\n      afterConfig: { type: Function },\n      afterSetOption: { type: Function },\n      afterSetOptionOnce: { type: Function },\n      events: { type: Object },\n      grid: { type: [Object, Array] },\n      colors: { type: Array },\n      tooltipVisible: { type: Boolean, default: true },\n      legendVisible: { type: Boolean, default: true },\n      legendPosition: { type: String },\n      markLine: { type: Object },\n      markArea: { type: Object },\n      markPoint: { type: Object },\n      visualMap: { type: [Object, Array] },\n      dataZoom: { type: [Object, Array] },\n      toolbox: { type: [Object, Array] },\n      initOptions: { type: Object, default: function _default() {\n          return {};\n        }\n      },\n      title: [Object, Array],\n      legend: [Object, Array],\n      xAxis: [Object, Array],\n      yAxis: [Object, Array],\n      radar: Object,\n      tooltip: Object,\n      axisPointer: [Object, Array],\n      brush: [Object, Array],\n      geo: [Object, Array],\n      timeline: [Object, Array],\n      graphic: [Object, Array],\n      series: [Object, Array],\n      backgroundColor: [Object, String],\n      textStyle: [Object, Array],\n      animation: Object,\n      theme: Object,\n      themeName: String,\n      loading: Boolean,\n      dataEmpty: Boolean,\n      extend: Object,\n      judgeWidth: { type: Boolean, default: false },\n      widthChangeDelay: { type: Number, default: 300 },\n      tooltipFormatter: { type: Function },\n      resizeable: { type: Boolean, default: true },\n      resizeDelay: { type: Number, default: 200 },\n      changeDelay: { type: Number, default: 0 },\n      setOptionOpts: { type: [Boolean, Object], default: true },\n      cancelResizeCheck: Boolean,\n      notSetUnchange: Array,\n      log: Boolean\n    },\n\n    watch: {\n      data: {\n        deep: true,\n        handler: function handler(v) {\n          if (v) {\n            this.changeHandler();\n          }\n        }\n      },\n\n      settings: {\n        deep: true,\n        handler: function handler(v) {\n          if (v.type && this.chartLib) this.chartHandler = this.chartLib[v.type];\n          this.changeHandler();\n        }\n      },\n\n      width: 'nextTickResize',\n      height: 'nextTickResize',\n\n      events: {\n        deep: true,\n        handler: 'createEventProxy'\n      },\n\n      theme: {\n        deep: true,\n        handler: 'themeChange'\n      },\n\n      themeName: 'themeChange',\n\n      resizeable: 'resizeableHandler'\n    },\n\n    computed: {\n      canvasStyle: function canvasStyle() {\n        return {\n          width: this.width,\n          height: this.height,\n          position: 'relative'\n        };\n      },\n      chartColor: function chartColor() {\n        return this.colors || this.theme && this.theme.color || constants.DEFAULT_COLORS;\n      }\n    },\n\n    methods: {\n      dataHandler: function dataHandler() {\n        if (!this.chartHandler) return;\n        var data = this.data;\n        var _data = data,\n            _data$columns = _data.columns,\n            columns = _data$columns === undefined ? [] : _data$columns,\n            _data$rows = _data.rows,\n            rows = _data$rows === undefined ? [] : _data$rows;\n\n        var extra = {\n          tooltipVisible: this.tooltipVisible,\n          legendVisible: this.legendVisible,\n          echarts: this.echarts,\n          color: this.chartColor,\n          tooltipFormatter: this.tooltipFormatter,\n          _once: this._once\n        };\n        if (this.beforeConfig) data = this.beforeConfig(data);\n\n        var options = this.chartHandler(columns, rows, this.settings, extra);\n        if (options) {\n          if (typeof options.then === 'function') {\n            options.then(this.optionsHandler);\n          } else {\n            this.optionsHandler(options);\n          }\n        }\n      },\n      nextTickResize: function nextTickResize() {\n        this.$nextTick(this.resize);\n      },\n      resize: function resize() {\n        if (!this.cancelResizeCheck) {\n          if (this.$el && this.$el.clientWidth && this.$el.clientHeight) {\n            this.echartsResize();\n          }\n        } else {\n          this.echartsResize();\n        }\n      },\n      echartsResize: function echartsResize() {\n        this.echarts && this.echarts.resize();\n      },\n      optionsHandler: function optionsHandler(options) {\n        var _this = this;\n\n        // legend\n        if (this.legendPosition && options.legend) {\n          options.legend[this.legendPosition] = 10;\n          if (~['left', 'right'].indexOf(this.legendPosition)) {\n            options.legend.top = 'middle';\n            options.legend.orient = 'vertical';\n          }\n        }\n        // color\n        options.color = this.chartColor;\n        // echarts self settings\n        constants.ECHARTS_SETTINGS.forEach(function (setting) {\n          if (_this[setting]) options[setting] = _this[setting];\n        });\n        // animation\n        if (this.animation) setAnimation(options, this.animation);\n        // marks\n        if (this.markArea || this.markLine || this.markPoint) {\n          var marks = {\n            markArea: this.markArea,\n            markLine: this.markLine,\n            markPoint: this.markPoint\n          };\n          var series = options.series;\n          if (utilsLite.isArray(series)) {\n            series.forEach(function (item) {\n              setMark(item, marks);\n            });\n          } else if (utilsLite.isObject(series)) {\n            setMark(series, marks);\n          }\n        }\n        // change inited echarts settings\n        if (this.extend) setExtend(options, this.extend);\n        if (this.afterConfig) options = this.afterConfig(options);\n        var setOptionOpts = this.setOptionOpts;\n        // map chart not merge\n        if ((this.settings.bmap || this.settings.amap) && !utilsLite.isObject(setOptionOpts)) {\n          setOptionOpts = false;\n        }\n        // exclude unchange options\n        if (this.notSetUnchange && this.notSetUnchange.length) {\n          this.notSetUnchange.forEach(function (item) {\n            var value = options[item];\n            if (value) {\n              if (utilsLite.isEqual(value, _this._store[item])) {\n                options[item] = undefined;\n              } else {\n                _this._store[item] = utilsLite.cloneDeep(value);\n              }\n            }\n          });\n          if (utilsLite.isObject(setOptionOpts)) {\n            setOptionOpts.notMerge = false;\n          } else {\n            setOptionOpts = false;\n          }\n        }\n        if (this._isDestroyed) return;\n        if (this.log) console.log(options);\n        this.echarts.setOption(options, setOptionOpts);\n        this.$emit('ready', this.echarts, options, echartsLib);\n        if (!this._once['ready-once']) {\n          this._once['ready-once'] = true;\n          this.$emit('ready-once', this.echarts, options, echartsLib);\n        }\n        if (this.judgeWidth) this.judgeWidthHandler(options);\n        if (this.afterSetOption) this.afterSetOption(this.echarts, options, echartsLib);\n        if (this.afterSetOptionOnce && !this._once['afterSetOptionOnce']) {\n          this._once['afterSetOptionOnce'] = true;\n          this.afterSetOptionOnce(this.echarts, options, echartsLib);\n        }\n      },\n      judgeWidthHandler: function judgeWidthHandler(options) {\n        var _this2 = this;\n\n        var widthChangeDelay = this.widthChangeDelay,\n            resize = this.resize;\n\n        if (this.$el.clientWidth || this.$el.clientHeight) {\n          resize();\n        } else {\n          this.$nextTick(function (_) {\n            if (_this2.$el.clientWidth || _this2.$el.clientHeight) {\n              resize();\n            } else {\n              setTimeout(function (_) {\n                resize();\n                if (!_this2.$el.clientWidth || !_this2.$el.clientHeight) {\n                  console.warn(' Can\\'t get dom width or height ');\n                }\n              }, widthChangeDelay);\n            }\n          });\n        }\n      },\n      resizeableHandler: function resizeableHandler(resizeable) {\n        if (resizeable && !this._once.onresize) this.addResizeListener();\n        if (!resizeable && this._once.onresize) this.removeResizeListener();\n      },\n      init: function init() {\n        if (this.echarts) return;\n        var themeName = this.themeName || this.theme || constants.DEFAULT_THEME;\n        this.echarts = echartsLib.init(this.$refs.canvas, themeName, this.initOptions);\n        if (this.data) this.changeHandler();\n        this.createEventProxy();\n        if (this.resizeable) this.addResizeListener();\n      },\n      addResizeListener: function addResizeListener() {\n        window.addEventListener('resize', this.resizeHandler);\n        this._once.onresize = true;\n      },\n      removeResizeListener: function removeResizeListener() {\n        window.removeEventListener('resize', this.resizeHandler);\n        this._once.onresize = false;\n      },\n      addWatchToProps: function addWatchToProps() {\n        var _this3 = this;\n\n        var watchedVariable = this._watchers.map(function (watcher) {\n          return watcher.expression;\n        });\n        Object.keys(this.$props).forEach(function (prop) {\n          if (!~watchedVariable.indexOf(prop) && !~constants.STATIC_PROPS.indexOf(prop)) {\n            var opts = {};\n            if (~['[object Object]', '[object Array]'].indexOf(utilsLite.getType(_this3.$props[prop]))) {\n              opts.deep = true;\n            }\n            _this3.$watch(prop, function () {\n              _this3.changeHandler();\n            }, opts);\n          }\n        });\n      },\n      createEventProxy: function createEventProxy() {\n        var _this4 = this;\n\n        //  on \n        //  events \n        //  events \n        var self = this;\n        var keys = Object.keys(this.events || {});\n        keys.length && keys.forEach(function (ev) {\n          if (_this4.registeredEvents.indexOf(ev) === -1) {\n            _this4.registeredEvents.push(ev);\n            _this4.echarts.on(ev, function (ev) {\n              return function () {\n                if (ev in self.events) {\n                  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = arguments[_key];\n                  }\n\n                  self.events[ev].apply(null, args);\n                }\n              };\n            }(ev));\n          }\n        });\n      },\n      themeChange: function themeChange(theme) {\n        this.clean();\n        this.echarts = null;\n        this.init();\n      },\n      clean: function clean() {\n        if (this.resizeable) this.removeResizeListener();\n        this.echarts.dispose();\n      }\n    },\n\n    created: function created() {\n      this.echarts = null;\n      this.registeredEvents = [];\n      this._once = {};\n      this._store = {};\n      this.resizeHandler = utilsLite.debounce(this.resize, this.resizeDelay);\n      this.changeHandler = utilsLite.debounce(this.dataHandler, this.changeDelay);\n      this.addWatchToProps();\n    },\n    mounted: function mounted() {\n      this.init();\n    },\n    beforeDestroy: function beforeDestroy() {\n      this.clean();\n    },\n\n\n    _numerify: numerify$1\n  };\n\n  var core_1 = core;\n\n  function _interopDefault$2 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core = _interopDefault$2(core_1);\n\n  var _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function getLineXAxis(args) {\n    var dimension = args.dimension,\n        rows = args.rows,\n        xAxisName = args.xAxisName,\n        axisVisible = args.axisVisible,\n        xAxisType = args.xAxisType;\n\n    return dimension.map(function (item, index) {\n      return {\n        type: xAxisType,\n        nameLocation: 'middle',\n        nameGap: 22,\n        name: xAxisName[index] || '',\n        axisTick: { show: true, lineStyle: { color: '#eee' } },\n        data: rows.map(function (row) {\n          return row[item];\n        }),\n        show: axisVisible\n      };\n    });\n  }\n\n  function getLineSeries(args) {\n    var rows = args.rows,\n        axisSite = args.axisSite,\n        metrics = args.metrics,\n        area = args.area,\n        stack = args.stack,\n        nullAddZero = args.nullAddZero,\n        labelMap = args.labelMap,\n        label = args.label,\n        itemStyle = args.itemStyle,\n        lineStyle = args.lineStyle,\n        areaStyle = args.areaStyle,\n        dimension = args.dimension;\n\n    var series = [];\n    var dataTemp = {};\n    var stackMap = stack && utils.getStackMap(stack);\n    metrics.forEach(function (item) {\n      dataTemp[item] = [];\n    });\n    rows.forEach(function (row) {\n      metrics.forEach(function (item) {\n        var value = null;\n        if (row[item] != null) {\n          value = row[item];\n        } else if (nullAddZero) {\n          value = 0;\n        }\n        dataTemp[item].push([row[dimension[0]], value]);\n      });\n    });\n    metrics.forEach(function (item) {\n      var seriesItem = {\n        name: labelMap[item] != null ? labelMap[item] : item,\n        type: 'line',\n        data: dataTemp[item]\n      };\n\n      if (area) seriesItem.areaStyle = { normal: {} };\n      if (axisSite.right) {\n        seriesItem.yAxisIndex = ~axisSite.right.indexOf(item) ? 1 : 0;\n      }\n\n      if (stack && stackMap[item]) seriesItem.stack = stackMap[item];\n\n      if (label) seriesItem.label = label;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n      if (lineStyle) seriesItem.lineStyle = lineStyle;\n      if (areaStyle) seriesItem.areaStyle = areaStyle;\n\n      series.push(seriesItem);\n    });\n    return series;\n  }\n\n  function getLineYAxis(args) {\n    var yAxisName = args.yAxisName,\n        yAxisType = args.yAxisType,\n        axisVisible = args.axisVisible,\n        scale = args.scale,\n        min = args.min,\n        max = args.max,\n        digit = args.digit;\n\n    var yAxisBase = {\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      show: axisVisible\n    };\n    var yAxis = [];\n\n    var _loop = function _loop(i) {\n      if (yAxisType[i]) {\n        yAxis[i] = _extends$1({}, yAxisBase, {\n          axisLabel: {\n            formatter: function formatter(val) {\n              return utils.getFormated(val, yAxisType[i], digit);\n            }\n          }\n        });\n      } else {\n        yAxis[i] = _extends$1({}, yAxisBase);\n      }\n      yAxis[i].name = yAxisName[i] || '';\n      yAxis[i].scale = scale[i] || false;\n      yAxis[i].min = min[i] || null;\n      yAxis[i].max = max[i] || null;\n    };\n\n    for (var i = 0; i < 2; i++) {\n      _loop(i);\n    }\n    return yAxis;\n  }\n\n  function getLineTooltip(args) {\n    var axisSite = args.axisSite,\n        yAxisType = args.yAxisType,\n        digit = args.digit,\n        labelMap = args.labelMap,\n        tooltipFormatter = args.tooltipFormatter;\n\n    var rightItems = axisSite.right || [];\n    var rightList = labelMap ? rightItems.map(function (item) {\n      return labelMap[item] === undefined ? item : labelMap[item];\n    }) : rightItems;\n    return {\n      trigger: 'axis',\n      formatter: function formatter(items) {\n        if (tooltipFormatter) {\n          return tooltipFormatter.apply(null, arguments);\n        }\n        var tpl = [];\n        var _items$ = items[0],\n            name = _items$.name,\n            axisValueLabel = _items$.axisValueLabel;\n\n        var title = name || axisValueLabel;\n        tpl.push(title + '<br>');\n        items.forEach(function (_ref) {\n          var seriesName = _ref.seriesName,\n              data = _ref.data,\n              marker = _ref.marker;\n\n          var showData = null;\n          var type = ~rightList.indexOf(seriesName) ? yAxisType[1] : yAxisType[0];\n          var itemData = utilsLite.isArray(data) ? data[1] : data;\n          showData = utils.getFormated(itemData, type, digit);\n          tpl.push(marker);\n          tpl.push(seriesName + ': ' + showData);\n          tpl.push('<br>');\n        });\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getLegend(args) {\n    var metrics = args.metrics,\n        legendName = args.legendName,\n        labelMap = args.labelMap;\n\n    if (!legendName && !labelMap) return { data: metrics };\n    var data = labelMap ? metrics.map(function (item) {\n      return labelMap[item] == null ? item : labelMap[item];\n    }) : metrics;\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  var line$1 = function line$$1(columns, rows, settings, extra) {\n    rows = utilsLite.isArray(rows) ? rows : [];\n    columns = utilsLite.isArray(columns) ? columns : [];\n    var _settings$axisSite = settings.axisSite,\n        axisSite = _settings$axisSite === undefined ? {} : _settings$axisSite,\n        _settings$yAxisType = settings.yAxisType,\n        yAxisType = _settings$yAxisType === undefined ? ['normal', 'normal'] : _settings$yAxisType,\n        _settings$xAxisType = settings.xAxisType,\n        xAxisType = _settings$xAxisType === undefined ? 'category' : _settings$xAxisType,\n        _settings$yAxisName = settings.yAxisName,\n        yAxisName = _settings$yAxisName === undefined ? [] : _settings$yAxisName,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? [columns[0]] : _settings$dimension,\n        _settings$xAxisName = settings.xAxisName,\n        xAxisName = _settings$xAxisName === undefined ? [] : _settings$xAxisName,\n        _settings$axisVisible = settings.axisVisible,\n        axisVisible = _settings$axisVisible === undefined ? true : _settings$axisVisible,\n        area = settings.area,\n        stack = settings.stack,\n        _settings$scale = settings.scale,\n        scale = _settings$scale === undefined ? [false, false] : _settings$scale,\n        _settings$min = settings.min,\n        min = _settings$min === undefined ? [null, null] : _settings$min,\n        _settings$max = settings.max,\n        max = _settings$max === undefined ? [null, null] : _settings$max,\n        _settings$nullAddZero = settings.nullAddZero,\n        nullAddZero = _settings$nullAddZero === undefined ? false : _settings$nullAddZero,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$labelMap = settings.labelMap,\n        labelMap = _settings$labelMap === undefined ? {} : _settings$labelMap,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        lineStyle = settings.lineStyle,\n        areaStyle = settings.areaStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible,\n        tooltipFormatter = extra.tooltipFormatter;\n\n    var metrics = columns.slice();\n\n    if (axisSite.left && axisSite.right) {\n      metrics = axisSite.left.concat(axisSite.right);\n    } else if (axisSite.left && !axisSite.right) {\n      metrics = axisSite.left;\n    } else if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension[0]), 1);\n    }\n\n    var legend = legendVisible && getLegend({ metrics: metrics, legendName: legendName, labelMap: labelMap });\n    var tooltip = tooltipVisible && getLineTooltip({\n      axisSite: axisSite,\n      yAxisType: yAxisType,\n      digit: digit,\n      labelMap: labelMap,\n      xAxisType: xAxisType,\n      tooltipFormatter: tooltipFormatter\n    });\n    var xAxis = getLineXAxis({\n      dimension: dimension,\n      rows: rows,\n      xAxisName: xAxisName,\n      axisVisible: axisVisible,\n      xAxisType: xAxisType\n    });\n    var yAxis = getLineYAxis({\n      yAxisName: yAxisName,\n      yAxisType: yAxisType,\n      axisVisible: axisVisible,\n      scale: scale,\n      min: min,\n      max: max,\n      digit: digit\n    });\n    var series = getLineSeries({\n      rows: rows,\n      axisSite: axisSite,\n      metrics: metrics,\n      area: area,\n      stack: stack,\n      nullAddZero: nullAddZero,\n      labelMap: labelMap,\n      label: label,\n      itemStyle: itemStyle,\n      lineStyle: lineStyle,\n      areaStyle: areaStyle,\n      xAxisType: xAxisType,\n      dimension: dimension\n    });\n    var options = { legend: legend, xAxis: xAxis, series: series, yAxis: yAxis, tooltip: tooltip };\n    return options;\n  };\n\n  var index = _extends$1({}, Core, {\n    name: 'VeLine',\n    data: function data() {\n      this.chartHandler = line$1;\n      return {};\n    }\n  });\n\n  var line_common = index;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function IndicatorAxis(dim, scale, radiusExtent) {\n    Axis_1.call(this, dim, scale, radiusExtent);\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n\n    this.type = 'value';\n    this.angle = 0;\n    /**\n     * Indicator name\n     * @type {string}\n     */\n\n    this.name = '';\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.model;\n  }\n\n  util.inherits(IndicatorAxis, Axis_1);\n  var _default$1V = IndicatorAxis;\n  var IndicatorAxis_1 = _default$1V;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  var getScaleExtent$1 = axisHelper.getScaleExtent;\n  var niceScaleExtent$2 = axisHelper.niceScaleExtent;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO clockwise\n  function Radar(radarModel, ecModel, api) {\n    this._model = radarModel;\n    /**\n     * Radar dimensions\n     * @type {Array.<string>}\n     */\n\n    this.dimensions = [];\n    this._indicatorAxes = util.map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n      var dim = 'indicator_' + idx;\n      var indicatorAxis = new IndicatorAxis_1(dim, indicatorModel.get('axisType') === 'log' ? new Log() : new Interval());\n      indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\n\n      indicatorAxis.model = indicatorModel;\n      indicatorModel.axis = indicatorAxis;\n      this.dimensions.push(dim);\n      return indicatorAxis;\n    }, this);\n    this.resize(radarModel, api);\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.cx;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.cy;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.r;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.r0;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.startAngle;\n  }\n\n  Radar.prototype.getIndicatorAxes = function () {\n    return this._indicatorAxes;\n  };\n\n  Radar.prototype.dataToPoint = function (value, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n  };\n\n  Radar.prototype.coordToPoint = function (coord, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    var angle = indicatorAxis.angle;\n    var x = this.cx + coord * Math.cos(angle);\n    var y = this.cy - coord * Math.sin(angle);\n    return [x, y];\n  };\n\n  Radar.prototype.pointToData = function (pt) {\n    var dx = pt[0] - this.cx;\n    var dy = pt[1] - this.cy;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx); // Find the closest angle\n    // FIXME index can calculated directly\n\n    var minRadianDiff = Infinity;\n    var closestAxis;\n    var closestAxisIdx = -1;\n\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\n      var indicatorAxis = this._indicatorAxes[i];\n      var diff = Math.abs(radian - indicatorAxis.angle);\n\n      if (diff < minRadianDiff) {\n        closestAxis = indicatorAxis;\n        closestAxisIdx = i;\n        minRadianDiff = diff;\n      }\n    }\n\n    return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\n  };\n\n  Radar.prototype.resize = function (radarModel, api) {\n    var center = radarModel.get('center');\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\n    this.cx = number.parsePercent(center[0], viewWidth);\n    this.cy = number.parsePercent(center[1], viewHeight);\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180; // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\n\n    var radius = radarModel.get('radius');\n\n    if (typeof radius === 'string' || typeof radius === 'number') {\n      radius = [0, radius];\n    }\n\n    this.r0 = number.parsePercent(radius[0], viewSize);\n    this.r = number.parsePercent(radius[1], viewSize);\n    util.each(this._indicatorAxes, function (indicatorAxis, idx) {\n      indicatorAxis.setExtent(this.r0, this.r);\n      var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\n\n      angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n      indicatorAxis.angle = angle;\n    }, this);\n  };\n\n  Radar.prototype.update = function (ecModel, api) {\n    var indicatorAxes = this._indicatorAxes;\n    var radarModel = this._model;\n    util.each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n      if (radarSeries.get('coordinateSystem') !== 'radar' || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n        return;\n      }\n\n      var data = radarSeries.getData();\n      util.each(indicatorAxes, function (indicatorAxis) {\n        indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\n      });\n    }, this);\n    var splitNumber = radarModel.get('splitNumber');\n\n    function increaseInterval(interval) {\n      var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10)); // Increase interval\n\n      var f = interval / exp10;\n\n      if (f === 2) {\n        f = 5;\n      } else {\n        // f is 2 or 5\n        f *= 2;\n      }\n\n      return f * exp10;\n    } // Force all the axis fixing the maxSplitNumber.\n\n\n    util.each(indicatorAxes, function (indicatorAxis, idx) {\n      var rawExtent = getScaleExtent$1(indicatorAxis.scale, indicatorAxis.model).extent;\n      niceScaleExtent$2(indicatorAxis.scale, indicatorAxis.model);\n      var axisModel = indicatorAxis.model;\n      var scale = indicatorAxis.scale;\n      var fixedMin = axisModel.getMin();\n      var fixedMax = axisModel.getMax();\n      var interval = scale.getInterval();\n\n      if (fixedMin != null && fixedMax != null) {\n        // User set min, max, divide to get new interval\n        scale.setExtent(+fixedMin, +fixedMax);\n        scale.setInterval((fixedMax - fixedMin) / splitNumber);\n      } else if (fixedMin != null) {\n        var max; // User set min, expand extent on the other side\n\n        do {\n          max = fixedMin + interval * splitNumber;\n          scale.setExtent(+fixedMin, max); // Interval must been set after extent\n          // FIXME\n\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n      } else if (fixedMax != null) {\n        var min; // User set min, expand extent on the other side\n\n        do {\n          min = fixedMax - interval * splitNumber;\n          scale.setExtent(min, +fixedMax);\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n      } else {\n        var nicedSplitNumber = scale.getTicks().length - 1;\n\n        if (nicedSplitNumber > splitNumber) {\n          interval = increaseInterval(interval);\n        } // TODO\n\n\n        var max = Math.ceil(rawExtent[1] / interval) * interval;\n        var min = number.round(max - interval * splitNumber);\n        scale.setExtent(min, max);\n        scale.setInterval(interval);\n      }\n    });\n  };\n  /**\n   * Radar dimensions is based on the data\n   * @type {Array}\n   */\n\n\n  Radar.dimensions = [];\n\n  Radar.create = function (ecModel, api) {\n    var radarList = [];\n    ecModel.eachComponent('radar', function (radarModel) {\n      var radar = new Radar(radarModel, ecModel, api);\n      radarList.push(radar);\n      radarModel.coordinateSystem = radar;\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\n      if (radarSeries.get('coordinateSystem') === 'radar') {\n        // Inject coordinate system\n        radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n      }\n    });\n    return radarList;\n  };\n\n  CoordinateSystem.register('radar', Radar);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var valueAxisDefault = axisDefault_1.valueAxis;\n\n  function defaultsShow(opt, show) {\n    return util.defaults({\n      show: show\n    }, opt);\n  }\n\n  var RadarModel = echarts.extendComponentModel({\n    type: 'radar',\n    optionUpdated: function () {\n      var boundaryGap = this.get('boundaryGap');\n      var splitNumber = this.get('splitNumber');\n      var scale = this.get('scale');\n      var axisLine = this.get('axisLine');\n      var axisTick = this.get('axisTick');\n      var axisType = this.get('axisType');\n      var axisLabel = this.get('axisLabel');\n      var nameTextStyle = this.get('name');\n      var showName = this.get('name.show');\n      var nameFormatter = this.get('name.formatter');\n      var nameGap = this.get('nameGap');\n      var triggerEvent = this.get('triggerEvent');\n      var indicatorModels = util.map(this.get('indicator') || [], function (indicatorOpt) {\n        // PENDING\n        if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n          indicatorOpt.min = 0;\n        } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n          indicatorOpt.max = 0;\n        }\n\n        var iNameTextStyle = nameTextStyle;\n\n        if (indicatorOpt.color != null) {\n          iNameTextStyle = util.defaults({\n            color: indicatorOpt.color\n          }, nameTextStyle);\n        } // Use same configuration\n\n\n        indicatorOpt = util.merge(util.clone(indicatorOpt), {\n          boundaryGap: boundaryGap,\n          splitNumber: splitNumber,\n          scale: scale,\n          axisLine: axisLine,\n          axisTick: axisTick,\n          axisType: axisType,\n          axisLabel: axisLabel,\n          // Compatible with 2 and use text\n          name: indicatorOpt.text,\n          nameLocation: 'end',\n          nameGap: nameGap,\n          // min: 0,\n          nameTextStyle: iNameTextStyle,\n          triggerEvent: triggerEvent\n        }, false);\n\n        if (!showName) {\n          indicatorOpt.name = '';\n        }\n\n        if (typeof nameFormatter === 'string') {\n          var indName = indicatorOpt.name;\n          indicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n        } else if (typeof nameFormatter === 'function') {\n          indicatorOpt.name = nameFormatter(indicatorOpt.name, indicatorOpt);\n        }\n\n        var model = util.extend(new Model_1(indicatorOpt, null, this.ecModel), axisModelCommonMixin); // For triggerEvent.\n\n        model.mainType = 'radar';\n        model.componentIndex = this.componentIndex;\n        return model;\n      }, this);\n\n      this.getIndicatorModels = function () {\n        return indicatorModels;\n      };\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 0,\n      center: ['50%', '50%'],\n      radius: '75%',\n      startAngle: 90,\n      name: {\n        show: true // formatter: null\n        // textStyle: {}\n\n      },\n      boundaryGap: [0, 0],\n      splitNumber: 5,\n      nameGap: 15,\n      scale: false,\n      // Polygon or circle\n      shape: 'polygon',\n      axisLine: util.merge({\n        lineStyle: {\n          color: '#bbb'\n        }\n      }, valueAxisDefault.axisLine),\n      axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n      axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n      axisType: 'interval',\n      splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n      splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n      // {text, min, max}\n      indicator: []\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var axisBuilderAttrs$1 = ['axisLine', 'axisTickLabel', 'axisName'];\n\n  var _default$1W = echarts.extendComponentView({\n    type: 'radar',\n    render: function (radarModel, ecModel, api) {\n      var group = this.group;\n      group.removeAll();\n\n      this._buildAxes(radarModel);\n\n      this._buildSplitLineAndArea(radarModel);\n    },\n    _buildAxes: function (radarModel) {\n      var radar = radarModel.coordinateSystem;\n      var indicatorAxes = radar.getIndicatorAxes();\n      var axisBuilders = util.map(indicatorAxes, function (indicatorAxis) {\n        var axisBuilder = new AxisBuilder_1(indicatorAxis.model, {\n          position: [radar.cx, radar.cy],\n          rotation: indicatorAxis.angle,\n          labelDirection: -1,\n          tickDirection: -1,\n          nameDirection: 1\n        });\n        return axisBuilder;\n      });\n      util.each(axisBuilders, function (axisBuilder) {\n        util.each(axisBuilderAttrs$1, axisBuilder.add, axisBuilder);\n        this.group.add(axisBuilder.getGroup());\n      }, this);\n    },\n    _buildSplitLineAndArea: function (radarModel) {\n      var radar = radarModel.coordinateSystem;\n      var indicatorAxes = radar.getIndicatorAxes();\n\n      if (!indicatorAxes.length) {\n        return;\n      }\n\n      var shape = radarModel.get('shape');\n      var splitLineModel = radarModel.getModel('splitLine');\n      var splitAreaModel = radarModel.getModel('splitArea');\n      var lineStyleModel = splitLineModel.getModel('lineStyle');\n      var areaStyleModel = splitAreaModel.getModel('areaStyle');\n      var showSplitLine = splitLineModel.get('show');\n      var showSplitArea = splitAreaModel.get('show');\n      var splitLineColors = lineStyleModel.get('color');\n      var splitAreaColors = areaStyleModel.get('color');\n      splitLineColors = util.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n      splitAreaColors = util.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n      var splitLines = [];\n      var splitAreas = [];\n\n      function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n        var colorIndex = idx % areaOrLineColorList.length;\n        areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n        return colorIndex;\n      }\n\n      if (shape === 'circle') {\n        var ticksRadius = indicatorAxes[0].getTicksCoords();\n        var cx = radar.cx;\n        var cy = radar.cy;\n\n        for (var i = 0; i < ticksRadius.length; i++) {\n          if (showSplitLine) {\n            var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n            splitLines[colorIndex].push(new graphic.Circle({\n              shape: {\n                cx: cx,\n                cy: cy,\n                r: ticksRadius[i].coord\n              }\n            }));\n          }\n\n          if (showSplitArea && i < ticksRadius.length - 1) {\n            var colorIndex = getColorIndex(splitAreas, splitAreaColors, i);\n            splitAreas[colorIndex].push(new graphic.Ring({\n              shape: {\n                cx: cx,\n                cy: cy,\n                r0: ticksRadius[i].coord,\n                r: ticksRadius[i + 1].coord\n              }\n            }));\n          }\n        }\n      } // Polyyon\n      else {\n          var realSplitNumber;\n          var axesTicksPoints = util.map(indicatorAxes, function (indicatorAxis, idx) {\n            var ticksCoords = indicatorAxis.getTicksCoords();\n            realSplitNumber = realSplitNumber == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber);\n            return util.map(ticksCoords, function (tickCoord) {\n              return radar.coordToPoint(tickCoord.coord, idx);\n            });\n          });\n          var prevPoints = [];\n\n          for (var i = 0; i <= realSplitNumber; i++) {\n            var points = [];\n\n            for (var j = 0; j < indicatorAxes.length; j++) {\n              points.push(axesTicksPoints[j][i]);\n            } // Close\n\n\n            if (points[0]) {\n              points.push(points[0].slice());\n            }\n\n            if (showSplitLine) {\n              var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n              splitLines[colorIndex].push(new graphic.Polyline({\n                shape: {\n                  points: points\n                }\n              }));\n            }\n\n            if (showSplitArea && prevPoints) {\n              var colorIndex = getColorIndex(splitAreas, splitAreaColors, i - 1);\n              splitAreas[colorIndex].push(new graphic.Polygon({\n                shape: {\n                  points: points.concat(prevPoints)\n                }\n              }));\n            }\n\n            prevPoints = points.slice().reverse();\n          }\n        }\n\n      var lineStyle = lineStyleModel.getLineStyle();\n      var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\n\n      util.each(splitAreas, function (splitAreas, idx) {\n        this.group.add(graphic.mergePath(splitAreas, {\n          style: util.defaults({\n            stroke: 'none',\n            fill: splitAreaColors[idx % splitAreaColors.length]\n          }, areaStyle),\n          silent: true\n        }));\n      }, this);\n      util.each(splitLines, function (splitLines, idx) {\n        this.group.add(graphic.mergePath(splitLines, {\n          style: util.defaults({\n            fill: 'none',\n            stroke: splitLineColors[idx % splitLineColors.length]\n          }, lineStyle),\n          silent: true\n        }));\n      }, this);\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var extend$a = util.extend;\n  var isArray$9 = util.isArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * [Usage]:\n   * (1)\n   * createListSimply(seriesModel, ['value']);\n   * (2)\n   * createListSimply(seriesModel, {\n   *     coordDimensions: ['value'],\n   *     dimensionsCount: 5\n   * });\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n   *        The options in opt, see `echarts/data/helper/createDimensions`\n   * @param {Array.<string>} [nameList]\n   * @return {module:echarts/data/List}\n   */\n  function _default$1X(seriesModel, opt, nameList) {\n    opt = isArray$9(opt) && {\n      coordDimensions: opt\n    } || extend$a({}, opt);\n    var source = seriesModel.getSource();\n    var dimensionsInfo = createDimensions(source, opt);\n    var list = new List_1(dimensionsInfo, seriesModel);\n    list.initData(source, nameList);\n    return list;\n  }\n\n  var createListSimply = _default$1X;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * LegendVisualProvider is an bridge that pick encoded color from data and\n   * provide to the legend component.\n   * @param {Function} getDataWithEncodedVisual Function to get data after filtered. It stores all the encoding info\n   * @param {Function} getRawData Function to get raw data before filtered.\n   */\n  function LegendVisualProvider(getDataWithEncodedVisual, getRawData) {\n    this.getAllNames = function () {\n      var rawData = getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n      // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n      return rawData.mapArray(rawData.getName);\n    };\n\n    this.containName = function (name) {\n      var rawData = getRawData();\n      return rawData.indexOfName(name) >= 0;\n    };\n\n    this.indexOfName = function (name) {\n      // Only get data when necessary.\n      // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n      // Invoking Series#getData immediately will throw an error.\n      var dataWithEncodedVisual = getDataWithEncodedVisual();\n      return dataWithEncodedVisual.indexOfName(name);\n    };\n\n    this.getItemVisual = function (dataIndex, key) {\n      // Get encoded visual properties from final filtered data.\n      var dataWithEncodedVisual = getDataWithEncodedVisual();\n      return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n    };\n  }\n\n  var _default$1Y = LegendVisualProvider;\n  var LegendVisualProvider_1 = _default$1Y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var encodeHTML$2 = format$1.encodeHTML;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var RadarSeries = Series.extend({\n    type: 'series.radar',\n    dependencies: ['radar'],\n    // Overwrite\n    init: function (option) {\n      RadarSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this));\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        generateCoord: 'indicator_',\n        generateCoordCount: Infinity\n      });\n    },\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var data = this.getData();\n      var coordSys = this.coordinateSystem;\n      var indicatorAxes = coordSys.getIndicatorAxes();\n      var name = this.getData().getName(dataIndex);\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n      return encodeHTML$2(name === '' ? this.name : name) + newLine + util.map(indicatorAxes, function (axis, idx) {\n        var val = data.get(data.mapDimension(axis.dim), dataIndex);\n        return encodeHTML$2(axis.name + ' : ' + val);\n      }).join(newLine);\n    },\n\n    /**\n     * @implement\n     */\n    getTooltipPosition: function (dataIndex) {\n      if (dataIndex != null) {\n        var data = this.getData();\n        var coordSys = this.coordinateSystem;\n        var values = data.getValues(util.map(coordSys.dimensions, function (dim) {\n          return data.mapDimension(dim);\n        }), dataIndex, true);\n\n        for (var i = 0, len = values.length; i < len; i++) {\n          if (!isNaN(values[i])) {\n            var indicatorAxes = coordSys.getIndicatorAxes();\n            return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]), i);\n          }\n        }\n      }\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      coordinateSystem: 'radar',\n      legendHoverLink: true,\n      radarIndex: 0,\n      lineStyle: {\n        width: 2,\n        type: 'solid'\n      },\n      label: {\n        position: 'top'\n      },\n      // areaStyle: {\n      // },\n      // itemStyle: {}\n      symbol: 'emptyCircle',\n      symbolSize: 4 // symbolRotate: null\n\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function normalizeSymbolSize(symbolSize) {\n    if (!util.isArray(symbolSize)) {\n      symbolSize = [+symbolSize, +symbolSize];\n    }\n\n    return symbolSize;\n  }\n\n  var _default$1Z = echarts.extendChartView({\n    type: 'radar',\n    render: function (seriesModel, ecModel, api) {\n      var polar = seriesModel.coordinateSystem;\n      var group = this.group;\n      var data = seriesModel.getData();\n      var oldData = this._data;\n\n      function createSymbol(data, idx) {\n        var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n        var color = data.getItemVisual(idx, 'color');\n\n        if (symbolType === 'none') {\n          return;\n        }\n\n        var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n        var symbolPath = symbol.createSymbol(symbolType, -1, -1, 2, 2, color);\n        var symbolRotate = data.getItemVisual(idx, 'symbolRotate') || 0;\n        symbolPath.attr({\n          style: {\n            strokeNoScale: true\n          },\n          z2: 100,\n          scale: [symbolSize[0] / 2, symbolSize[1] / 2],\n          rotation: symbolRotate * Math.PI / 180 || 0\n        });\n        return symbolPath;\n      }\n\n      function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n        // Simply rerender all\n        symbolGroup.removeAll();\n\n        for (var i = 0; i < newPoints.length - 1; i++) {\n          var symbolPath = createSymbol(data, idx);\n\n          if (symbolPath) {\n            symbolPath.__dimIdx = i;\n\n            if (oldPoints[i]) {\n              symbolPath.attr('position', oldPoints[i]);\n              graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n                position: newPoints[i]\n              }, seriesModel, idx);\n            } else {\n              symbolPath.attr('position', newPoints[i]);\n            }\n\n            symbolGroup.add(symbolPath);\n          }\n        }\n      }\n\n      function getInitialPoints(points) {\n        return util.map(points, function (pt) {\n          return [polar.cx, polar.cy];\n        });\n      }\n\n      data.diff(oldData).add(function (idx) {\n        var points = data.getItemLayout(idx);\n\n        if (!points) {\n          return;\n        }\n\n        var polygon = new graphic.Polygon();\n        var polyline = new graphic.Polyline();\n        var target = {\n          shape: {\n            points: points\n          }\n        };\n        polygon.shape.points = getInitialPoints(points);\n        polyline.shape.points = getInitialPoints(points);\n        graphic.initProps(polygon, target, seriesModel, idx);\n        graphic.initProps(polyline, target, seriesModel, idx);\n        var itemGroup = new graphic.Group();\n        var symbolGroup = new graphic.Group();\n        itemGroup.add(polyline);\n        itemGroup.add(polygon);\n        itemGroup.add(symbolGroup);\n        updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n        data.setItemGraphicEl(idx, itemGroup);\n      }).update(function (newIdx, oldIdx) {\n        var itemGroup = oldData.getItemGraphicEl(oldIdx);\n        var polyline = itemGroup.childAt(0);\n        var polygon = itemGroup.childAt(1);\n        var symbolGroup = itemGroup.childAt(2);\n        var target = {\n          shape: {\n            points: data.getItemLayout(newIdx)\n          }\n        };\n\n        if (!target.shape.points) {\n          return;\n        }\n\n        updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n        graphic.updateProps(polyline, target, seriesModel);\n        graphic.updateProps(polygon, target, seriesModel);\n        data.setItemGraphicEl(newIdx, itemGroup);\n      }).remove(function (idx) {\n        group.remove(oldData.getItemGraphicEl(idx));\n      }).execute();\n      data.eachItemGraphicEl(function (itemGroup, idx) {\n        var itemModel = data.getItemModel(idx);\n        var polyline = itemGroup.childAt(0);\n        var polygon = itemGroup.childAt(1);\n        var symbolGroup = itemGroup.childAt(2);\n        var color = data.getItemVisual(idx, 'color');\n        group.add(itemGroup);\n        polyline.useStyle(util.defaults(itemModel.getModel('lineStyle').getLineStyle(), {\n          fill: 'none',\n          stroke: color\n        }));\n        polyline.hoverStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n        var areaStyleModel = itemModel.getModel('areaStyle');\n        var hoverAreaStyleModel = itemModel.getModel('emphasis.areaStyle');\n        var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n        var hoverPolygonIgnore = hoverAreaStyleModel.isEmpty() && hoverAreaStyleModel.parentModel.isEmpty();\n        hoverPolygonIgnore = hoverPolygonIgnore && polygonIgnore;\n        polygon.ignore = polygonIgnore;\n        polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(), {\n          fill: color,\n          opacity: 0.7\n        }));\n        polygon.hoverStyle = hoverAreaStyleModel.getAreaStyle();\n        var itemStyle = itemModel.getModel('itemStyle').getItemStyle(['color']);\n        var itemHoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n        var labelModel = itemModel.getModel('label');\n        var labelHoverModel = itemModel.getModel('emphasis.label');\n        symbolGroup.eachChild(function (symbolPath) {\n          symbolPath.setStyle(itemStyle);\n          symbolPath.hoverStyle = util.clone(itemHoverStyle);\n          var defaultText = data.get(data.dimensions[symbolPath.__dimIdx], idx);\n          (defaultText == null || isNaN(defaultText)) && (defaultText = '');\n          graphic.setLabelStyle(symbolPath.style, symbolPath.hoverStyle, labelModel, labelHoverModel, {\n            labelFetcher: data.hostModel,\n            labelDataIndex: idx,\n            labelDimIndex: symbolPath.__dimIdx,\n            defaultText: defaultText,\n            autoColor: color,\n            isRectText: true\n          });\n        });\n\n        itemGroup.highDownOnUpdate = function (fromState, toState) {\n          polygon.attr('ignore', toState === 'emphasis' ? hoverPolygonIgnore : polygonIgnore);\n        };\n\n        graphic.setHoverStyle(itemGroup);\n      });\n      this._data = data;\n    },\n    remove: function () {\n      this.group.removeAll();\n      this._data = null;\n    },\n    dispose: function () {}\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$b = util.createHashMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Pick color from palette for each data item.\n  // Applicable for charts that require applying color palette\n  // in data level (like pie, funnel, chord).\n  function _default$1_(seriesType) {\n    return {\n      getTargetSeries: function (ecModel) {\n        // Pie and funnel may use diferrent scope\n        var paletteScope = {};\n        var seiresModelMap = createHashMap$b();\n        ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n          seriesModel.__paletteScope = paletteScope;\n          seiresModelMap.set(seriesModel.uid, seriesModel);\n        });\n        return seiresModelMap;\n      },\n      reset: function (seriesModel, ecModel) {\n        var dataAll = seriesModel.getRawData();\n        var idxMap = {};\n        var data = seriesModel.getData();\n        data.each(function (idx) {\n          var rawIdx = data.getRawIndex(idx);\n          idxMap[rawIdx] = idx;\n        });\n        dataAll.each(function (rawIdx) {\n          var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n          var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n          var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n          var itemModel;\n\n          if (!singleDataColor || !singleDataBorderColor) {\n            // FIXME Performance\n            itemModel = dataAll.getItemModel(rawIdx);\n          }\n\n          if (!singleDataColor) {\n            var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Data is not filtered\n\n            if (filteredIdx != null) {\n              data.setItemVisual(filteredIdx, 'color', color);\n            }\n          }\n\n          if (!singleDataBorderColor) {\n            var borderColor = itemModel.get('itemStyle.borderColor'); // Data is not filtered\n\n            if (filteredIdx != null) {\n              data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n            }\n          }\n        });\n      }\n    };\n  }\n\n  var dataColor = _default$1_;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1$(ecModel) {\n    ecModel.eachSeriesByType('radar', function (seriesModel) {\n      var data = seriesModel.getData();\n      var points = [];\n      var coordSys = seriesModel.coordinateSystem;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var axes = coordSys.getIndicatorAxes();\n      util.each(axes, function (axis, axisIndex) {\n        data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n          points[dataIndex] = points[dataIndex] || [];\n          var point = coordSys.dataToPoint(val, axisIndex);\n          points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n        });\n      }); // Close polygon\n\n      data.each(function (idx) {\n        // TODO\n        // Is it appropriate to connect to the next data when some data is missing?\n        // Or, should trade it like `connectNull` in line chart?\n        var firstPoint = util.find(points[idx], function (point) {\n          return isValidPoint(point);\n        }) || getValueMissingPoint(coordSys); // Copy the first actual point to the end of the array\n\n        points[idx].push(firstPoint.slice());\n        data.setItemLayout(idx, points[idx]);\n      });\n    });\n  }\n\n  function isValidPoint(point) {\n    return !isNaN(point[0]) && !isNaN(point[1]);\n  }\n\n  function getValueMissingPoint(coordSys) {\n    // It is error-prone to input [NaN, NaN] into polygon, polygon.\n    // (probably cause problem when refreshing or animating)\n    return [coordSys.cx, coordSys.cy];\n  }\n\n  var radarLayout = _default$1$;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$20(seriesType) {\n    return {\n      seriesType: seriesType,\n      reset: function (seriesModel, ecModel) {\n        var legendModels = ecModel.findComponents({\n          mainType: 'legend'\n        });\n\n        if (!legendModels || !legendModels.length) {\n          return;\n        }\n\n        var data = seriesModel.getData();\n        data.filterSelf(function (idx) {\n          var name = data.getName(idx); // If in any legend component the status is not selected.\n\n          for (var i = 0; i < legendModels.length; i++) {\n            if (!legendModels[i].isSelected(name)) {\n              return false;\n            }\n          }\n\n          return true;\n        });\n      }\n    };\n  }\n\n  var dataFilter = _default$20;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Backward compat for radar chart in 2\n  function _default$21(option) {\n    var polarOptArr = option.polar;\n\n    if (polarOptArr) {\n      if (!util.isArray(polarOptArr)) {\n        polarOptArr = [polarOptArr];\n      }\n\n      var polarNotRadar = [];\n      util.each(polarOptArr, function (polarOpt, idx) {\n        if (polarOpt.indicator) {\n          if (polarOpt.type && !polarOpt.shape) {\n            polarOpt.shape = polarOpt.type;\n          }\n\n          option.radar = option.radar || [];\n\n          if (!util.isArray(option.radar)) {\n            option.radar = [option.radar];\n          }\n\n          option.radar.push(polarOpt);\n        } else {\n          polarNotRadar.push(polarOpt);\n        }\n      });\n      option.polar = polarNotRadar;\n    }\n\n    util.each(option.series, function (seriesOpt) {\n      if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n        seriesOpt.radarIndex = seriesOpt.polarIndex;\n      }\n    });\n  }\n\n  var backwardCompat$1 = _default$21;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Must use radar component\n  echarts.registerVisual(dataColor('radar'));\n  echarts.registerVisual(symbol$1('radar', 'circle'));\n  echarts.registerLayout(radarLayout);\n  echarts.registerProcessor(dataFilter('radar'));\n  echarts.registerPreprocessor(backwardCompat$1);\n\n  function _interopDefault$3 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core$1 = _interopDefault$3(core_1);\n\n  function getRadarLegend(rows, dimension, legendName) {\n    var legendData = rows.map(function (row) {\n      return row[dimension];\n    });\n\n    return {\n      data: legendData,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getRadarTooltip(dataType, radar$$1, digit) {\n    var typeTemp = [];\n    var nameTemp = [];\n    radar$$1.indicator.map(function (item, index) {\n      typeTemp[index] = dataType[item.name];\n      nameTemp[index] = item.name;\n    });\n    return {\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        tpl.push(item.name + '<br />');\n        item.data.value.forEach(function (val, index) {\n          tpl.push(nameTemp[index] + ': ');\n          tpl.push(utils.getFormated(val, typeTemp[index], digit) + '<br />');\n        });\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getRadarSetting(rows, metrics, labelMap) {\n    var settingBase = {\n      indicator: [],\n      shape: 'circle',\n      splitNumber: 5\n    };\n    var indicatorTemp = {};\n    rows.forEach(function (items) {\n      metrics.forEach(function (item) {\n        var key = labelMap[item] != null ? labelMap[item] : item;\n        if (!indicatorTemp[key]) {\n          indicatorTemp[key] = [items[item]];\n        } else {\n          indicatorTemp[key].push(items[item]);\n        }\n      });\n    });\n    settingBase.indicator = Object.keys(indicatorTemp).map(function (key) {\n      return {\n        name: key,\n        max: Math.max.apply(null, indicatorTemp[key])\n      };\n    });\n    return settingBase;\n  }\n\n  function getRadarSeries(args) {\n    var rows = args.rows,\n        dimension = args.dimension,\n        metrics = args.metrics,\n        radar$$1 = args.radar,\n        label = args.label,\n        itemStyle = args.itemStyle,\n        lineStyle = args.lineStyle,\n        labelMap = args.labelMap,\n        areaStyle = args.areaStyle;\n\n    var radarIndexObj = {};\n    radar$$1.indicator.forEach(function (item, index) {\n      var name = item.name;\n      radarIndexObj[name] = index;\n    });\n\n    var seriesData = rows.map(function (row) {\n      var serieData = {\n        value: [],\n        name: row[dimension]\n      };\n      Object.keys(row).forEach(function (key) {\n        if (~metrics.indexOf(key)) {\n          var k = labelMap[key] != null ? radarIndexObj[labelMap[key]] : radarIndexObj[key];\n          serieData.value[k] = row[key];\n        }\n      });\n      return serieData;\n    });\n    var result = {\n      name: dimension,\n      type: 'radar',\n      data: seriesData\n    };\n    if (label) result.label = label;\n    if (itemStyle) result.itemStyle = itemStyle;\n    if (lineStyle) result.lineStyle = lineStyle;\n    if (areaStyle) result.areaStyle = areaStyle;\n    return [result];\n  }\n\n  var radar$1 = function radar$$1(columns, rows, settings, extra) {\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? {} : _settings$dataType,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$labelMap = settings.labelMap,\n        labelMap = _settings$labelMap === undefined ? {} : _settings$labelMap,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        lineStyle = settings.lineStyle,\n        areaStyle = settings.areaStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    var metrics = columns.slice();\n    if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension), 1);\n    }\n    var legend = legendVisible && getRadarLegend(rows, dimension, legendName);\n    var radar$$1 = getRadarSetting(rows, metrics, labelMap);\n    var tooltip = tooltipVisible && getRadarTooltip(dataType, radar$$1, digit);\n    var series = getRadarSeries({\n      rows: rows,\n      dimension: dimension,\n      metrics: metrics,\n      radar: radar$$1,\n      label: label,\n      itemStyle: itemStyle,\n      lineStyle: lineStyle,\n      labelMap: labelMap,\n      areaStyle: areaStyle\n    });\n    var options = { legend: legend, tooltip: tooltip, radar: radar$$1, series: series };\n    return options;\n  };\n\n  var _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var index$1 = _extends$2({}, Core$1, {\n    name: 'VeRadar',\n    data: function data() {\n      this.chartHandler = radar$1;\n      return {};\n    }\n  });\n\n  var radar_common = index$1;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Data selectable mixin for chart series.\n   * To eanble data select, option of series must have `selectedMode`.\n   * And each data item will use `selected` to toggle itself selected status\n   */\n  var _default$22 = {\n    /**\n     * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n     *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n     *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n     */\n    updateSelectedMap: function (targetList) {\n      this._targetList = util.isArray(targetList) ? targetList.slice() : [];\n      this._selectTargetMap = util.reduce(targetList || [], function (targetMap, target) {\n        targetMap.set(target.name, target);\n        return targetMap;\n      }, util.createHashMap());\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    // PENGING If selectedMode is null ?\n    select: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n      var selectedMode = this.get('selectedMode');\n\n      if (selectedMode === 'single') {\n        this._selectTargetMap.each(function (target) {\n          target.selected = false;\n        });\n      }\n\n      target && (target.selected = true);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    unSelect: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n      // selectedMode !== 'single' && target && (target.selected = false);\n\n      target && (target.selected = false);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    toggleSelected: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n      if (target != null) {\n        this[target.selected ? 'unSelect' : 'select'](name, id);\n        return target.selected;\n      }\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    isSelected: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n      return target && target.selected;\n    }\n  };\n  var selectableMixin = _default$22;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  var getPercentWithPrecision$1 = number.getPercentWithPrecision;\n\n\n\n\n\n  var retrieveRawAttr$1 = dataProvider.retrieveRawAttr;\n\n\n\n  var makeSeriesEncodeForNameBased$1 = sourceHelper.makeSeriesEncodeForNameBased;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PieSeries = echarts.extendSeriesModel({\n    type: 'series.pie',\n    // Overwrite\n    init: function (option) {\n      PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this));\n      this.updateSelectedMap(this._createSelectableList());\n\n      this._defaultLabelLine(option);\n    },\n    // Overwrite\n    mergeOption: function (newOption) {\n      PieSeries.superCall(this, 'mergeOption', newOption);\n      this.updateSelectedMap(this._createSelectableList());\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        coordDimensions: ['value'],\n        encodeDefaulter: util.curry(makeSeriesEncodeForNameBased$1, this)\n      });\n    },\n    _createSelectableList: function () {\n      var data = this.getRawData();\n      var valueDim = data.mapDimension('value');\n      var targetList = [];\n\n      for (var i = 0, len = data.count(); i < len; i++) {\n        targetList.push({\n          name: data.getName(i),\n          value: data.get(valueDim, i),\n          selected: retrieveRawAttr$1(data, i, 'selected')\n        });\n      }\n\n      return targetList;\n    },\n    // Overwrite\n    getDataParams: function (dataIndex) {\n      var data = this.getData();\n      var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n      var valueList = [];\n      data.each(data.mapDimension('value'), function (value) {\n        valueList.push(value);\n      });\n      params.percent = getPercentWithPrecision$1(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n      params.$vars.push('percent');\n      return params;\n    },\n    _defaultLabelLine: function (option) {\n      // Extend labelLine emphasis\n      model.defaultEmphasis(option, 'labelLine', ['show']);\n      var labelLineNormalOpt = option.labelLine;\n      var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n      labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n      labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      legendHoverLink: true,\n      hoverAnimation: true,\n      // \n      center: ['50%', '50%'],\n      radius: [0, '75%'],\n      // \n      clockwise: true,\n      startAngle: 90,\n      // 0\n      minAngle: 0,\n      // If the angle of a sector less than `minShowLabelAngle`,\n      // the label will not be displayed.\n      minShowLabelAngle: 0,\n      // \n      selectedOffset: 10,\n      // \n      hoverOffset: 10,\n      // If use strategy to avoid label overlapping\n      avoidLabelOverlap: true,\n      // singlemultiple\n      // selectedMode: false,\n      // 'radius' | 'area'\n      // roseType: null,\n      percentPrecision: 2,\n      // If still show when all data zero.\n      stillShowZeroSum: true,\n      // cursor: null,\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      width: null,\n      height: null,\n      label: {\n        // If rotate around circle\n        rotate: false,\n        show: true,\n        // 'outer', 'inside', 'center'\n        position: 'outer',\n        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n        alignTo: 'none',\n        // Closest distance between label and chart edge.\n        // Works only position is 'outer' and alignTo is 'edge'.\n        margin: '25%',\n        // Works only position is 'outer' and alignTo is not 'edge'.\n        bleedMargin: 10,\n        // Distance between text and label line.\n        distanceToLabelLine: 5 // formatter: Tooltip.formatter\n        // TEXTSTYLE\n        // distance: positioninnerlabel()\n\n      },\n      // Enabled when label.normal.position is 'outer'\n      labelLine: {\n        show: true,\n        // \n        length: 15,\n        // \n        length2: 15,\n        smooth: false,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      itemStyle: {\n        borderWidth: 1\n      },\n      // Animation type. Valid values: expansion, scale\n      animationType: 'expansion',\n      // Animation type when update. Valid values: transition, expansion\n      animationTypeUpdate: 'transition',\n      animationEasing: 'cubicOut'\n    }\n  });\n  util.mixin(PieSeries, selectableMixin);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {boolean} hasAnimation\n   * @inner\n   */\n  function updateDataSelected(uid, seriesModel, hasAnimation, api) {\n    var data = seriesModel.getData();\n    var dataIndex = this.dataIndex;\n    var name = data.getName(dataIndex);\n    var selectedOffset = seriesModel.get('selectedOffset');\n    api.dispatchAction({\n      type: 'pieToggleSelect',\n      from: uid,\n      name: name,\n      seriesId: seriesModel.id\n    });\n    data.each(function (idx) {\n      toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n    });\n  }\n  /**\n   * @param {module:zrender/graphic/Sector} el\n   * @param {Object} layout\n   * @param {boolean} isSelected\n   * @param {number} selectedOffset\n   * @param {boolean} hasAnimation\n   * @inner\n   */\n\n\n  function toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var offset = isSelected ? selectedOffset : 0;\n    var position = [dx * offset, dy * offset];\n    hasAnimation // animateTo will stop revious animation like update transition\n    ? el.animate().when(200, {\n      position: position\n    }).start('bounceOut') : el.attr('position', position);\n  }\n  /**\n   * Piece of pie including Sector, Label, LabelLine\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   */\n\n\n  function PiePiece(data, idx) {\n    graphic.Group.call(this);\n    var sector = new graphic.Sector({\n      z2: 2\n    });\n    var polyline = new graphic.Polyline();\n    var text = new graphic.Text();\n    this.add(sector);\n    this.add(polyline);\n    this.add(text);\n    this.updateData(data, idx, true);\n  }\n\n  var piePieceProto = PiePiece.prototype;\n\n  piePieceProto.updateData = function (data, idx, firstCreate) {\n    var sector = this.childAt(0);\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var sectorShape = util.extend({}, layout);\n    sectorShape.label = null;\n    var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          sector.shape.endAngle = layout.startAngle;\n          graphic.updateProps(sector, {\n            shape: {\n              endAngle: layout.endAngle\n            }\n          }, seriesModel, idx);\n        }\n    } else {\n      if (animationTypeUpdate === 'expansion') {\n        // Sectors are set to be target shape and an overlaying clipPath is used for animation\n        sector.setShape(sectorShape);\n      } else {\n        // Transition animation from the old shape\n        graphic.updateProps(sector, {\n          shape: sectorShape\n        }, seriesModel, idx);\n      }\n    } // Update common style\n\n\n    var visualColor = data.getItemVisual(idx, 'color');\n    sector.useStyle(util.defaults({\n      lineJoin: 'bevel',\n      fill: visualColor\n    }, itemModel.getModel('itemStyle').getItemStyle()));\n    sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n    toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n    var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n    this._updateLabel(data, idx, withAnimation);\n\n    this.highDownOnUpdate = !seriesModel.get('silent') ? function (fromState, toState) {\n      var hasAnimation = seriesModel.isAnimationEnabled() && itemModel.get('hoverAnimation');\n\n      if (toState === 'emphasis') {\n        labelLine.ignore = labelLine.hoverIgnore;\n        labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n        // Or it may stopped on the wrong shape\n\n        if (hasAnimation) {\n          sector.stopAnimation(true);\n          sector.animateTo({\n            shape: {\n              r: layout.r + seriesModel.get('hoverOffset')\n            }\n          }, 300, 'elasticOut');\n        }\n      } else {\n        labelLine.ignore = labelLine.normalIgnore;\n        labelText.ignore = labelText.normalIgnore;\n\n        if (hasAnimation) {\n          sector.stopAnimation(true);\n          sector.animateTo({\n            shape: {\n              r: layout.r\n            }\n          }, 300, 'elasticOut');\n        }\n      }\n    } : null;\n    graphic.setHoverStyle(this);\n  };\n\n  piePieceProto._updateLabel = function (data, idx, withAnimation) {\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n      labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n      return;\n    }\n\n    var targetLineShape = {\n      points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n    };\n    var targetTextStyle = {\n      x: labelLayout.x,\n      y: labelLayout.y\n    };\n\n    if (withAnimation) {\n      graphic.updateProps(labelLine, {\n        shape: targetLineShape\n      }, seriesModel, idx);\n      graphic.updateProps(labelText, {\n        style: targetTextStyle\n      }, seriesModel, idx);\n    } else {\n      labelLine.attr({\n        shape: targetLineShape\n      });\n      labelText.attr({\n        style: targetTextStyle\n      });\n    }\n\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      origin: [labelLayout.x, labelLayout.y],\n      z2: 10\n    });\n    var labelModel = itemModel.getModel('label');\n    var labelHoverModel = itemModel.getModel('emphasis.label');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultText: labelLayout.text,\n      autoColor: visualColor,\n      useInsideStyle: !!labelLayout.inside\n    }, {\n      textAlign: labelLayout.textAlign,\n      textVerticalAlign: labelLayout.verticalAlign,\n      opacity: data.getItemVisual(idx, 'opacity')\n    });\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n    labelLine.setStyle({\n      stroke: visualColor,\n      opacity: data.getItemVisual(idx, 'opacity')\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n    var smooth = labelLineModel.get('smooth');\n\n    if (smooth && smooth === true) {\n      smooth = 0.4;\n    }\n\n    labelLine.setShape({\n      smooth: smooth\n    });\n  };\n\n  util.inherits(PiePiece, graphic.Group); // Pie view\n\n  var PieView = Chart_1.extend({\n    type: 'pie',\n    init: function () {\n      var sectorGroup = new graphic.Group();\n      this._sectorGroup = sectorGroup;\n    },\n    render: function (seriesModel, ecModel, api, payload) {\n      if (payload && payload.from === this.uid) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var group = this.group;\n      var hasAnimation = ecModel.get('animation');\n      var isFirstRender = !oldData;\n      var animationType = seriesModel.get('animationType');\n      var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n      var onSectorClick = util.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n      var selectedMode = seriesModel.get('selectedMode');\n      data.diff(oldData).add(function (idx) {\n        var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n        if (isFirstRender && animationType !== 'scale') {\n          piePiece.eachChild(function (child) {\n            child.stopAnimation(true);\n          });\n        }\n\n        selectedMode && piePiece.on('click', onSectorClick);\n        data.setItemGraphicEl(idx, piePiece);\n        group.add(piePiece);\n      }).update(function (newIdx, oldIdx) {\n        var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n        if (!isFirstRender && animationTypeUpdate !== 'transition') {\n          piePiece.eachChild(function (child) {\n            child.stopAnimation(true);\n          });\n        }\n\n        piePiece.updateData(data, newIdx);\n        piePiece.off('click');\n        selectedMode && piePiece.on('click', onSectorClick);\n        group.add(piePiece);\n        data.setItemGraphicEl(newIdx, piePiece);\n      }).remove(function (idx) {\n        var piePiece = oldData.getItemGraphicEl(idx);\n        group.remove(piePiece);\n      }).execute();\n\n      if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n        var shape = data.getItemLayout(0);\n\n        for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n          shape = data.getItemLayout(s);\n        }\n\n        var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n        var removeClipPath = util.bind(group.removeClipPath, group);\n        group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n      } else {\n        // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n        group.removeClipPath();\n      }\n\n      this._data = data;\n    },\n    dispose: function () {},\n    _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n      var clipPath = new graphic.Sector({\n        shape: {\n          cx: cx,\n          cy: cy,\n          r0: 0,\n          r: r,\n          startAngle: startAngle,\n          endAngle: startAngle,\n          clockwise: clockwise\n        }\n      });\n      var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n      initOrUpdate(clipPath, {\n        shape: {\n          endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n        }\n      }, seriesModel, cb);\n      return clipPath;\n    },\n\n    /**\n     * @implement\n     */\n    containPoint: function (point, seriesModel) {\n      var data = seriesModel.getData();\n      var itemLayout = data.getItemLayout(0);\n\n      if (itemLayout) {\n        var dx = point[0] - itemLayout.cx;\n        var dy = point[1] - itemLayout.cy;\n        var radius = Math.sqrt(dx * dx + dy * dy);\n        return radius <= itemLayout.r && radius >= itemLayout.r0;\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$23(seriesType, actionInfos) {\n    util.each(actionInfos, function (actionInfo) {\n      actionInfo.update = 'updateView';\n      /**\n       * @payload\n       * @property {string} seriesName\n       * @property {string} name\n       */\n\n      echarts.registerAction(actionInfo, function (payload, ecModel) {\n        var selected = {};\n        ecModel.eachComponent({\n          mainType: 'series',\n          subType: seriesType,\n          query: payload\n        }, function (seriesModel) {\n          if (seriesModel[actionInfo.method]) {\n            seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n          }\n\n          var data = seriesModel.getData(); // Create selected map\n\n          data.each(function (idx) {\n            var name = data.getName(idx);\n            selected[name] = seriesModel.isSelected(name) || false;\n          });\n        });\n        return {\n          name: payload.name,\n          selected: selected,\n          seriesId: payload.seriesId\n        };\n      });\n    });\n  }\n\n  var createDataSelectAction = _default$23;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parsePercent$6 = number.parsePercent;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME emphasis label position is not same with normal label position\n  var RADIAN = Math.PI / 180;\n\n  function adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n    list.sort(function (a, b) {\n      return a.y - b.y;\n    });\n\n    function shiftDown(start, end, delta, dir) {\n      for (var j = start; j < end; j++) {\n        if (list[j].y + delta > viewTop + viewHeight) {\n          break;\n        }\n\n        list[j].y += delta;\n\n        if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n          shiftUp(j, delta / 2);\n          return;\n        }\n      }\n\n      shiftUp(end - 1, delta / 2);\n    }\n\n    function shiftUp(end, delta) {\n      for (var j = end; j >= 0; j--) {\n        if (list[j].y - delta < viewTop) {\n          break;\n        }\n\n        list[j].y -= delta;\n\n        if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n          break;\n        }\n      }\n    }\n\n    function changeX(list, isDownList, cx, cy, r, dir) {\n      var lastDeltaX = dir > 0 ? isDownList // right-side\n      ? Number.MAX_VALUE // down\n      : 0 // up\n      : isDownList // left-side\n      ? Number.MAX_VALUE // down\n      : 0; // up\n\n      for (var i = 0, l = list.length; i < l; i++) {\n        if (list[i].labelAlignTo !== 'none') {\n          continue;\n        }\n\n        var deltaY = Math.abs(list[i].y - cy);\n        var length = list[i].len;\n        var length2 = list[i].len2;\n        var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n        if (isDownList && deltaX >= lastDeltaX) {\n          // right-down, left-down\n          deltaX = lastDeltaX - 10;\n        }\n\n        if (!isDownList && deltaX <= lastDeltaX) {\n          // right-up, left-up\n          deltaX = lastDeltaX + 10;\n        }\n\n        list[i].x = cx + deltaX * dir;\n        lastDeltaX = deltaX;\n      }\n    }\n\n    var lastY = 0;\n    var delta;\n    var len = list.length;\n    var upList = [];\n    var downList = [];\n\n    for (var i = 0; i < len; i++) {\n      if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n        var dx = list[i].x - farthestX;\n        list[i].linePoints[1][0] += dx;\n        list[i].x = farthestX;\n      }\n\n      delta = list[i].y - lastY;\n\n      if (delta < 0) {\n        shiftDown(i, len, -delta);\n      }\n\n      lastY = list[i].y + list[i].height;\n    }\n\n    if (viewHeight - lastY < 0) {\n      shiftUp(len - 1, lastY - viewHeight);\n    }\n\n    for (var i = 0; i < len; i++) {\n      if (list[i].y >= cy) {\n        downList.push(list[i]);\n      } else {\n        upList.push(list[i]);\n      }\n    }\n\n    changeX(upList, false, cx, cy, r, dir);\n    changeX(downList, true, cx, cy, r, dir);\n  }\n\n  function avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n    var leftList = [];\n    var rightList = [];\n    var leftmostX = Number.MAX_VALUE;\n    var rightmostX = -Number.MAX_VALUE;\n\n    for (var i = 0; i < labelLayoutList.length; i++) {\n      if (isPositionCenter(labelLayoutList[i])) {\n        continue;\n      }\n\n      if (labelLayoutList[i].x < cx) {\n        leftmostX = Math.min(leftmostX, labelLayoutList[i].x);\n        leftList.push(labelLayoutList[i]);\n      } else {\n        rightmostX = Math.max(rightmostX, labelLayoutList[i].x);\n        rightList.push(labelLayoutList[i]);\n      }\n    }\n\n    adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n    adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n    for (var i = 0; i < labelLayoutList.length; i++) {\n      var layout = labelLayoutList[i];\n\n      if (isPositionCenter(layout)) {\n        continue;\n      }\n\n      var linePoints = layout.linePoints;\n\n      if (linePoints) {\n        var isAlignToEdge = layout.labelAlignTo === 'edge';\n        var realTextWidth = layout.textRect.width;\n        var targetTextWidth;\n\n        if (isAlignToEdge) {\n          if (layout.x < cx) {\n            targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.labelMargin;\n          } else {\n            targetTextWidth = viewLeft + viewWidth - layout.labelMargin - linePoints[2][0] - layout.labelDistance;\n          }\n        } else {\n          if (layout.x < cx) {\n            targetTextWidth = layout.x - viewLeft - layout.bleedMargin;\n          } else {\n            targetTextWidth = viewLeft + viewWidth - layout.x - layout.bleedMargin;\n          }\n        }\n\n        if (targetTextWidth < layout.textRect.width) {\n          layout.text = text.truncateText(layout.text, targetTextWidth, layout.font);\n\n          if (layout.labelAlignTo === 'edge') {\n            realTextWidth = text.getWidth(layout.text, layout.font);\n          }\n        }\n\n        var dist = linePoints[1][0] - linePoints[2][0];\n\n        if (isAlignToEdge) {\n          if (layout.x < cx) {\n            linePoints[2][0] = viewLeft + layout.labelMargin + realTextWidth + layout.labelDistance;\n          } else {\n            linePoints[2][0] = viewLeft + viewWidth - layout.labelMargin - realTextWidth - layout.labelDistance;\n          }\n        } else {\n          if (layout.x < cx) {\n            linePoints[2][0] = layout.x + layout.labelDistance;\n          } else {\n            linePoints[2][0] = layout.x - layout.labelDistance;\n          }\n\n          linePoints[1][0] = linePoints[2][0] + dist;\n        }\n\n        linePoints[1][1] = linePoints[2][1] = layout.y;\n      }\n    }\n  }\n\n  function isPositionCenter(layout) {\n    // Not change x for center label\n    return layout.position === 'center';\n  }\n\n  function _default$24(seriesModel, r, viewWidth, viewHeight, viewLeft, viewTop) {\n    var data = seriesModel.getData();\n    var labelLayoutList = [];\n    var cx;\n    var cy;\n    var hasLabelRotate = false;\n    var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n    data.each(function (idx) {\n      var layout = data.getItemLayout(idx);\n      var itemModel = data.getItemModel(idx);\n      var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n      var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n      var labelDistance = labelModel.get('distanceToLabelLine');\n      var labelAlignTo = labelModel.get('alignTo');\n      var labelMargin = parsePercent$6(labelModel.get('margin'), viewWidth);\n      var bleedMargin = labelModel.get('bleedMargin');\n      var font = labelModel.getFont();\n      var labelLineModel = itemModel.getModel('labelLine');\n      var labelLineLen = labelLineModel.get('length');\n      labelLineLen = parsePercent$6(labelLineLen, viewWidth);\n      var labelLineLen2 = labelLineModel.get('length2');\n      labelLineLen2 = parsePercent$6(labelLineLen2, viewWidth);\n\n      if (layout.angle < minShowLabelRadian) {\n        return;\n      }\n\n      var midAngle = (layout.startAngle + layout.endAngle) / 2;\n      var dx = Math.cos(midAngle);\n      var dy = Math.sin(midAngle);\n      var textX;\n      var textY;\n      var linePoints;\n      var textAlign;\n      cx = layout.cx;\n      cy = layout.cy;\n      var text$1 = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n      var textRect = text.getBoundingRect(text$1, font, textAlign, 'top');\n      var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n      if (labelPosition === 'center') {\n        textX = layout.cx;\n        textY = layout.cy;\n        textAlign = 'center';\n      } else {\n        var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n        var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n        textX = x1 + dx * 3;\n        textY = y1 + dy * 3;\n\n        if (!isLabelInside) {\n          // For roseType\n          var x2 = x1 + dx * (labelLineLen + r - layout.r);\n          var y2 = y1 + dy * (labelLineLen + r - layout.r);\n          var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n          var y3 = y2;\n\n          if (labelAlignTo === 'edge') {\n            // Adjust textX because text align of edge is opposite\n            textX = dx < 0 ? viewLeft + labelMargin : viewLeft + viewWidth - labelMargin;\n          } else {\n            textX = x3 + (dx < 0 ? -labelDistance : labelDistance);\n          }\n\n          textY = y3;\n          linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n        }\n\n        textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? dx > 0 ? 'right' : 'left' : dx > 0 ? 'left' : 'right';\n      }\n\n      var labelRotate;\n      var rotate = labelModel.get('rotate');\n\n      if (typeof rotate === 'number') {\n        labelRotate = rotate * (Math.PI / 180);\n      } else {\n        labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n      }\n\n      hasLabelRotate = !!labelRotate;\n      layout.label = {\n        x: textX,\n        y: textY,\n        position: labelPosition,\n        height: textRect.height,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        linePoints: linePoints,\n        textAlign: textAlign,\n        verticalAlign: 'middle',\n        rotation: labelRotate,\n        inside: isLabelInside,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        labelMargin: labelMargin,\n        bleedMargin: bleedMargin,\n        textRect: textRect,\n        text: text$1,\n        font: font\n      }; // Not layout the inside label\n\n      if (!isLabelInside) {\n        labelLayoutList.push(layout.label);\n      }\n    });\n\n    if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n      avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n    }\n  }\n\n  var labelLayout = _default$24;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var parsePercent$7 = number.parsePercent;\n  var linearMap$2 = number.linearMap;\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI2$4 = Math.PI * 2;\n  var RADIAN$1 = Math.PI / 180;\n\n  function getViewRect(seriesModel, api) {\n    return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  }\n\n  function _default$25(seriesType, ecModel, api, payload) {\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n      var data = seriesModel.getData();\n      var valueDim = data.mapDimension('value');\n      var viewRect = getViewRect(seriesModel, api);\n      var center = seriesModel.get('center');\n      var radius = seriesModel.get('radius');\n\n      if (!util.isArray(radius)) {\n        radius = [0, radius];\n      }\n\n      if (!util.isArray(center)) {\n        center = [center, center];\n      }\n\n      var width = parsePercent$7(viewRect.width, api.getWidth());\n      var height = parsePercent$7(viewRect.height, api.getHeight());\n      var size = Math.min(width, height);\n      var cx = parsePercent$7(center[0], width) + viewRect.x;\n      var cy = parsePercent$7(center[1], height) + viewRect.y;\n      var r0 = parsePercent$7(radius[0], size / 2);\n      var r = parsePercent$7(radius[1], size / 2);\n      var startAngle = -seriesModel.get('startAngle') * RADIAN$1;\n      var minAngle = seriesModel.get('minAngle') * RADIAN$1;\n      var validDataCount = 0;\n      data.each(valueDim, function (value) {\n        !isNaN(value) && validDataCount++;\n      });\n      var sum = data.getSum(valueDim); // Sum may be 0\n\n      var unitRadian = Math.PI / (sum || validDataCount) * 2;\n      var clockwise = seriesModel.get('clockwise');\n      var roseType = seriesModel.get('roseType');\n      var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n      var extent = data.getDataExtent(valueDim);\n      extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n      var restAngle = PI2$4;\n      var valueSumLargerThanMinAngle = 0;\n      var currentAngle = startAngle;\n      var dir = clockwise ? 1 : -1;\n      data.each(valueDim, function (value, idx) {\n        var angle;\n\n        if (isNaN(value)) {\n          data.setItemLayout(idx, {\n            angle: NaN,\n            startAngle: NaN,\n            endAngle: NaN,\n            clockwise: clockwise,\n            cx: cx,\n            cy: cy,\n            r0: r0,\n            r: roseType ? NaN : r,\n            viewRect: viewRect\n          });\n          return;\n        } // FIXME  2.0  roseType  area \n\n\n        if (roseType !== 'area') {\n          angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n        } else {\n          angle = PI2$4 / validDataCount;\n        }\n\n        if (angle < minAngle) {\n          angle = minAngle;\n          restAngle -= minAngle;\n        } else {\n          valueSumLargerThanMinAngle += value;\n        }\n\n        var endAngle = currentAngle + dir * angle;\n        data.setItemLayout(idx, {\n          angle: angle,\n          startAngle: currentAngle,\n          endAngle: endAngle,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? linearMap$2(value, extent, [r0, r]) : r,\n          viewRect: viewRect\n        });\n        currentAngle = endAngle;\n      }); // Some sector is constrained by minAngle\n      // Rest sectors needs recalculate angle\n\n      if (restAngle < PI2$4 && validDataCount) {\n        // Average the angle if rest angle is not enough after all angles is\n        // Constrained by minAngle\n        if (restAngle <= 1e-3) {\n          var angle = PI2$4 / validDataCount;\n          data.each(valueDim, function (value, idx) {\n            if (!isNaN(value)) {\n              var layout = data.getItemLayout(idx);\n              layout.angle = angle;\n              layout.startAngle = startAngle + dir * idx * angle;\n              layout.endAngle = startAngle + dir * (idx + 1) * angle;\n            }\n          });\n        } else {\n          unitRadian = restAngle / valueSumLargerThanMinAngle;\n          currentAngle = startAngle;\n          data.each(valueDim, function (value, idx) {\n            if (!isNaN(value)) {\n              var layout = data.getItemLayout(idx);\n              var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n              layout.startAngle = currentAngle;\n              layout.endAngle = currentAngle + dir * angle;\n              currentAngle += dir * angle;\n            }\n          });\n        }\n      }\n\n      labelLayout(seriesModel, r, viewRect.width, viewRect.height, viewRect.x, viewRect.y);\n    });\n  }\n\n  var pieLayout = _default$25;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  createDataSelectAction('pie', [{\n    type: 'pieToggleSelect',\n    event: 'pieselectchanged',\n    method: 'toggleSelected'\n  }, {\n    type: 'pieSelect',\n    event: 'pieselected',\n    method: 'select'\n  }, {\n    type: 'pieUnSelect',\n    event: 'pieunselected',\n    method: 'unSelect'\n  }]);\n  echarts.registerVisual(dataColor('pie'));\n  echarts.registerLayout(util.curry(pieLayout, 'pie'));\n  echarts.registerProcessor(dataFilter('pie'));\n\n  function _interopDefault$4 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n\n  var Core$2 = _interopDefault$4(core_1);\n\n  var _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var pieRadius = 100;\n  var ringRadius = [80, 100];\n  var roseRingRadius = [20, 100];\n  var pieOffsetY = 200;\n\n  function getPieSeries(args) {\n    var innerRows = args.innerRows,\n        dataType = args.dataType,\n        percentShow = args.percentShow,\n        dimension = args.dimension,\n        metrics = args.metrics,\n        radius = args.radius,\n        offsetY = args.offsetY,\n        selectedMode = args.selectedMode,\n        hoverAnimation = args.hoverAnimation,\n        digit = args.digit,\n        roseType = args.roseType,\n        label = args.label,\n        level = args.level,\n        limitShowNum = args.limitShowNum,\n        isRing = args.isRing,\n        labelLine = args.labelLine,\n        itemStyle = args.itemStyle;\n\n\n    var series = [];\n    var levelTemp = {};\n    var rowsTemp = [];\n    if (level) {\n      level.forEach(function (levelItems, index) {\n        levelItems.forEach(function (item) {\n          utils.setArrayValue(levelTemp, item, index);\n        });\n      });\n      innerRows.forEach(function (row) {\n        var itemLevel = levelTemp[row[dimension]];\n        if (itemLevel && itemLevel.length) {\n          itemLevel.forEach(function (levelItem) {\n            utils.setArrayValue(rowsTemp, levelItem, row);\n          });\n        }\n      });\n    } else {\n      rowsTemp.push(innerRows);\n    }\n    var seriesBase = {\n      type: 'pie',\n      selectedMode: selectedMode,\n      hoverAnimation: hoverAnimation,\n      roseType: roseType,\n      center: ['50%', offsetY]\n    };\n    var rowsTempLength = rowsTemp.length;\n    rowsTemp.forEach(function (dataRows, index) {\n      var seriesItem = _extends$3({ data: [] }, seriesBase);\n      var centerWidth = radius / rowsTempLength;\n      if (!index) {\n        seriesItem.radius = isRing ? radius : centerWidth;\n      } else {\n        var outerWidth = centerWidth + radius / (2 * rowsTempLength) * (2 * index - 1);\n        var innerWidth = outerWidth + radius / (2 * rowsTempLength);\n        seriesItem.radius = [outerWidth, innerWidth];\n      }\n      if (rowsTempLength > 1 && index === 0) {\n        seriesItem.label = {\n          normal: { position: 'inner' }\n        };\n      }\n      if (label) seriesItem.label = label;\n      if (labelLine) seriesItem.labelLine = labelLine;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n      if (percentShow) {\n        seriesItem.label = {\n          normal: {\n            show: true,\n            position: rowsTempLength > 1 && index === 0 ? 'inner' : 'outside',\n            formatter: function formatter(item) {\n              var tpl = [];\n              tpl.push(item.name + ':');\n              tpl.push(utils.getFormated(item.value, dataType, digit));\n              tpl.push('(' + item.percent + '%)');\n              return tpl.join(' ');\n            }\n          }\n        };\n      }\n      seriesItem.data = dataRows.map(function (row) {\n        return {\n          name: row[dimension],\n          value: row[metrics]\n        };\n      });\n      series.push(seriesItem);\n    });\n    if (limitShowNum && limitShowNum < series[0].data.length) {\n      var firstData = series[0].data;\n      var remainArr = firstData.slice(limitShowNum, firstData.length);\n      var sum = 0;\n      remainArr.forEach(function (item) {\n        sum += item.value;\n      });\n      series[0].data = firstData.slice(0, limitShowNum);\n      series[0].data.push({ name: '', value: sum });\n    }\n    return series;\n  }\n\n  function getPieLegend(args) {\n    var innerRows = args.innerRows,\n        dimension = args.dimension,\n        legendLimit = args.legendLimit,\n        legendName = args.legendName,\n        level = args.level,\n        limitShowNum = args.limitShowNum;\n\n    var legend = [];\n    var levelTemp = [];\n    if (level) {\n      level.forEach(function (levelItem) {\n        levelItem.forEach(function (item) {\n          levelTemp.push(item);\n        });\n      });\n      legend = levelTemp;\n    } else if (limitShowNum && limitShowNum < innerRows.length) {\n      for (var i = 0; i < limitShowNum; i++) {\n        legend.push(innerRows[i][dimension]);\n      }\n      legend.push('');\n    } else {\n      legend = innerRows.map(function (row) {\n        return row[dimension];\n      });\n    }\n    if (legend.length) {\n      return {\n        data: legend,\n        show: legend.length < legendLimit,\n        formatter: function formatter(name) {\n          return legendName[name] != null ? legendName[name] : name;\n        }\n      };\n    } else {\n      return false;\n    }\n  }\n\n  function getPieTooltip(args) {\n    var dataType = args.dataType,\n        innerRows = args.innerRows,\n        limitShowNum = args.limitShowNum,\n        digit = args.digit,\n        metrics = args.metrics,\n        dimension = args.dimension;\n\n    var sum = 0;\n    var remainArr = innerRows.map(function (row) {\n      sum += row[metrics];\n      return {\n        name: row[dimension],\n        value: row[metrics]\n      };\n    }).slice(limitShowNum, innerRows.length);\n    return {\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        if (limitShowNum && item.name === '') {\n          tpl.push(':');\n          remainArr.forEach(function (_ref) {\n            var name = _ref.name,\n                value = _ref.value;\n\n            var percent = utils.getFormated(value / sum, 'percent');\n            tpl.push('<br>' + name + ':');\n            tpl.push(utils.getFormated(value, dataType, digit));\n            tpl.push('(' + percent + ')');\n          });\n        } else {\n          tpl.push(item.name + ':');\n          tpl.push(utils.getFormated(item.value, dataType, digit));\n          tpl.push('(' + item.percent + '%)');\n        }\n        return tpl.join(' ');\n      }\n    };\n  }\n\n  var pie$1 = function pie$$1(columns, rows, settings, extra, isRing) {\n    var innerRows = utilsLite.cloneDeep(rows);\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? 'normal' : _settings$dataType,\n        percentShow = settings.percentShow,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$metrics = settings.metrics,\n        metrics = _settings$metrics === undefined ? columns[1] : _settings$metrics,\n        _settings$roseType = settings.roseType,\n        roseType = _settings$roseType === undefined ? false : _settings$roseType,\n        _settings$radius = settings.radius,\n        radius = _settings$radius === undefined ? isRing ? roseType ? roseRingRadius : ringRadius : pieRadius : _settings$radius,\n        _settings$offsetY = settings.offsetY,\n        offsetY = _settings$offsetY === undefined ? pieOffsetY : _settings$offsetY,\n        _settings$legendLimit = settings.legendLimit,\n        legendLimit = _settings$legendLimit === undefined ? 30 : _settings$legendLimit,\n        _settings$selectedMod = settings.selectedMode,\n        selectedMode = _settings$selectedMod === undefined ? false : _settings$selectedMod,\n        _settings$hoverAnimat = settings.hoverAnimation,\n        hoverAnimation = _settings$hoverAnimat === undefined ? true : _settings$hoverAnimat,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$label = settings.label,\n        label = _settings$label === undefined ? false : _settings$label,\n        _settings$level = settings.level,\n        level = _settings$level === undefined ? false : _settings$level,\n        _settings$limitShowNu = settings.limitShowNum,\n        limitShowNum = _settings$limitShowNu === undefined ? 0 : _settings$limitShowNu,\n        labelLine = settings.labelLine,\n        itemStyle = settings.itemStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    if (limitShowNum) innerRows.sort(function (a, b) {\n      return b[metrics] - a[metrics];\n    });\n    var seriesParams = {\n      innerRows: innerRows,\n      dataType: dataType,\n      percentShow: percentShow,\n      dimension: dimension,\n      metrics: metrics,\n      radius: radius,\n      offsetY: offsetY,\n      selectedMode: selectedMode,\n      hoverAnimation: hoverAnimation,\n      digit: digit,\n      roseType: roseType,\n      label: label,\n      level: level,\n      legendName: legendName,\n      limitShowNum: limitShowNum,\n      isRing: isRing,\n      labelLine: labelLine,\n      itemStyle: itemStyle\n    };\n    var series = getPieSeries(seriesParams);\n    var legendParams = {\n      innerRows: innerRows,\n      dimension: dimension,\n      legendLimit: legendLimit,\n      legendName: legendName,\n      level: level,\n      limitShowNum: limitShowNum\n    };\n    var legend = legendVisible && getPieLegend(legendParams);\n    var tooltip = tooltipVisible && getPieTooltip({\n      dataType: dataType,\n      innerRows: innerRows,\n      limitShowNum: limitShowNum,\n      digit: digit,\n      metrics: metrics,\n      dimension: dimension\n    });\n    var options = { series: series, legend: legend, tooltip: tooltip };\n    return options;\n  };\n\n  var index$2 = _extends$3({}, Core$2, {\n    name: 'VePie',\n    data: function data() {\n      this.chartHandler = pie$1;\n      return {};\n    }\n  });\n\n  var pie_common = index$2;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$26 = Series.extend({\n    type: 'series.__base_bar__',\n    getInitialData: function (option, ecModel) {\n      return createListFromArray_1(this.getSource(), this, {\n        useEncodeDefaulter: true\n      });\n    },\n    getMarkerPosition: function (value) {\n      var coordSys = this.coordinateSystem;\n\n      if (coordSys) {\n        // PENDING if clamp ?\n        var pt = coordSys.dataToPoint(coordSys.clampData(value));\n        var data = this.getData();\n        var offset = data.getLayout('offset');\n        var size = data.getLayout('size');\n        var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n        pt[offsetIndex] += offset + size / 2;\n        return pt;\n      }\n\n      return [NaN, NaN];\n    },\n    defaultOption: {\n      zlevel: 0,\n      // \n      z: 2,\n      // \n      coordinateSystem: 'cartesian2d',\n      legendHoverLink: true,\n      // stack: null\n      // Cartesian coordinate system\n      // xAxisIndex: 0,\n      // yAxisIndex: 0,\n      // 0\n      barMinHeight: 0,\n      // 0\n      barMinAngle: 0,\n      // cursor: null,\n      large: false,\n      largeThreshold: 400,\n      progressive: 3e3,\n      progressiveChunkMode: 'mod',\n      // barMaxWidth: null,\n      // In cartesian, the default value is 1. Otherwise null.\n      // barMinWidth: null,\n      // \n      // barWidth: null,\n      // 30%\n      // barGap: '30%',\n      // 20%\n      // barCategoryGap: '20%',\n      // label: {\n      //      show: false\n      // },\n      itemStyle: {},\n      emphasis: {}\n    }\n  });\n\n  var BaseBarSeries = _default$26;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$27 = BaseBarSeries.extend({\n    type: 'series.bar',\n    dependencies: ['grid', 'polar'],\n    brushSelector: 'rect',\n\n    /**\n     * @override\n     */\n    getProgressive: function () {\n      // Do not support progressive in normal mode.\n      return this.get('large') ? this.get('progressive') : false;\n    },\n\n    /**\n     * @override\n     */\n    getProgressiveThreshold: function () {\n      // Do not support progressive in normal mode.\n      var progressiveThreshold = this.get('progressiveThreshold');\n      var largeThreshold = this.get('largeThreshold');\n\n      if (largeThreshold > progressiveThreshold) {\n        progressiveThreshold = largeThreshold;\n      }\n\n      return progressiveThreshold;\n    },\n    defaultOption: {\n      // If clipped\n      // Only available on cartesian2d\n      clip: true,\n      // If use caps on two sides of bars\n      // Only available on tangential polar bar\n      roundCap: false,\n      showBackground: false,\n      backgroundStyle: {\n        color: 'rgba(180, 180, 180, 0.2)',\n        borderColor: null,\n        borderWidth: 0,\n        borderType: 'solid',\n        borderRadius: 0,\n        shadowBlur: 0,\n        shadowColor: null,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        opacity: 1\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var getDefaultLabel$2 = labelHelper.getDefaultLabel;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n    var labelModel = itemModel.getModel('label');\n    var hoverLabelModel = itemModel.getModel('emphasis.label');\n    graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n      labelFetcher: seriesModel,\n      labelDataIndex: dataIndex,\n      defaultText: getDefaultLabel$2(seriesModel.getData(), dataIndex),\n      isRectText: true,\n      autoColor: color\n    });\n    fixPosition(normalStyle);\n    fixPosition(hoverStyle);\n  }\n\n  function fixPosition(style, labelPositionOutside) {\n    if (style.textPosition === 'outside') {\n      style.textPosition = labelPositionOutside;\n    }\n  }\n\n  var setLabel_1 = setLabel;\n\n  var helper$4 = {\n  \tsetLabel: setLabel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n  ['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n  var _default$28 = {\n    getBarItemStyle: function (excludes) {\n      var style = getBarItemStyle(this, excludes);\n\n      if (this.getBorderLineDash) {\n        var lineDash = this.getBorderLineDash();\n        lineDash && (style.lineDash = lineDash);\n      }\n\n      return style;\n    }\n  };\n  var barItemStyle = _default$28;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var extendShape$1 = graphic.extendShape;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Sausage: similar to sector, but have half circle on both sides\n   * @public\n   */\n  var _default$29 = extendShape$1({\n    type: 'sausage',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r0: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r0 = Math.max(shape.r0 || 0, 0);\n      var r = Math.max(shape.r, 0);\n      var dr = (r - r0) * 0.5;\n      var rCenter = r0 + dr;\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitStartX = Math.cos(startAngle);\n      var unitStartY = Math.sin(startAngle);\n      var unitEndX = Math.cos(endAngle);\n      var unitEndY = Math.sin(endAngle);\n      var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n      if (lessThanCircle) {\n        ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n        ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n      }\n\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n      ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n      ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n      if (r0 !== 0) {\n        ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n        ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n      }\n\n      ctx.closePath();\n    }\n  });\n\n  var sausage = _default$29;\n\n  var setLabel$1 = helper$4.setLabel;\n\n\n\n\n\n\n\n\n\n\n\n  var throttle$2 = throttle_1.throttle;\n\n\n\n  var createClipPath$1 = createClipPathFromCoordSys.createClipPath;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\n  var _eventPos = [0, 0]; // FIXME\n  // Just for compatible with ec2.\n\n  util.extend(Model_1.prototype, barItemStyle);\n\n  function getClipArea(coord, data) {\n    var coordSysClipArea = coord.getArea && coord.getArea();\n\n    if (coord.type === 'cartesian2d') {\n      var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n      // We should not clip this part.\n      // See test/bar2.html\n\n      if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n        var expandWidth = data.getLayout('bandWidth');\n\n        if (baseAxis.isHorizontal()) {\n          coordSysClipArea.x -= expandWidth;\n          coordSysClipArea.width += expandWidth * 2;\n        } else {\n          coordSysClipArea.y -= expandWidth;\n          coordSysClipArea.height += expandWidth * 2;\n        }\n      }\n    }\n\n    return coordSysClipArea;\n  }\n\n  var _default$2a = echarts.extendChartView({\n    type: 'bar',\n    render: function (seriesModel, ecModel, api) {\n      this._updateDrawMode(seriesModel);\n\n      var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n      if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n        this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n      }\n\n      return this.group;\n    },\n    incrementalPrepareRender: function (seriesModel, ecModel, api) {\n      this._clear();\n\n      this._updateDrawMode(seriesModel);\n    },\n    incrementalRender: function (params, seriesModel, ecModel, api) {\n      // Do not support progressive in normal mode.\n      this._incrementalRenderLarge(params, seriesModel);\n    },\n    _updateDrawMode: function (seriesModel) {\n      var isLargeDraw = seriesModel.pipelineContext.large;\n\n      if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n        this._isLargeDraw = isLargeDraw;\n\n        this._clear();\n      }\n    },\n    _renderNormal: function (seriesModel, ecModel, api) {\n      var group = this.group;\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var coord = seriesModel.coordinateSystem;\n      var baseAxis = coord.getBaseAxis();\n      var isHorizontalOrRadial;\n\n      if (coord.type === 'cartesian2d') {\n        isHorizontalOrRadial = baseAxis.isHorizontal();\n      } else if (coord.type === 'polar') {\n        isHorizontalOrRadial = baseAxis.dim === 'angle';\n      }\n\n      var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n      var needsClip = seriesModel.get('clip', true);\n      var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n      group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n      // And don't want the label are clipped.\n\n      var roundCap = seriesModel.get('roundCap', true);\n      var drawBackground = seriesModel.get('showBackground', true);\n      var backgroundModel = seriesModel.getModel('backgroundStyle');\n      var barBorderRadius = backgroundModel.get('barBorderRadius') || 0;\n      var bgEls = [];\n      var oldBgEls = this._backgroundEls || [];\n\n      var createBackground = function (dataIndex) {\n        var bgLayout = getLayout[coord.type](data, dataIndex);\n        var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n        bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n        if (coord.type === 'cartesian2d') {\n          bgEl.setShape('r', barBorderRadius);\n        }\n\n        bgEls[dataIndex] = bgEl;\n        return bgEl;\n      };\n\n      data.diff(oldData).add(function (dataIndex) {\n        var itemModel = data.getItemModel(dataIndex);\n        var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n        if (drawBackground) {\n          createBackground(dataIndex);\n        } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n        if (!data.hasValue(dataIndex)) {\n          return;\n        }\n\n        if (needsClip) {\n          // Clip will modify the layout params.\n          // And return a boolean to determine if the shape are fully clipped.\n          var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n          if (isClipped) {\n            group.remove(el);\n            return;\n          }\n        }\n\n        var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n        data.setItemGraphicEl(dataIndex, el);\n        group.add(el);\n        updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }).update(function (newIndex, oldIndex) {\n        var itemModel = data.getItemModel(newIndex);\n        var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n        if (drawBackground) {\n          var bgEl;\n\n          if (oldBgEls.length === 0) {\n            bgEl = createBackground(oldIndex);\n          } else {\n            bgEl = oldBgEls[oldIndex];\n            bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n            if (coord.type === 'cartesian2d') {\n              bgEl.setShape('r', barBorderRadius);\n            }\n\n            bgEls[newIndex] = bgEl;\n          }\n\n          var bgLayout = getLayout[coord.type](data, newIndex);\n          var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n          graphic.updateProps(bgEl, {\n            shape: shape\n          }, animationModel, newIndex);\n        }\n\n        var el = oldData.getItemGraphicEl(oldIndex);\n\n        if (!data.hasValue(newIndex)) {\n          group.remove(el);\n          return;\n        }\n\n        if (needsClip) {\n          var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n          if (isClipped) {\n            group.remove(el);\n            return;\n          }\n        }\n\n        if (el) {\n          graphic.updateProps(el, {\n            shape: layout\n          }, animationModel, newIndex);\n        } else {\n          el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n        }\n\n        data.setItemGraphicEl(newIndex, el); // Add back\n\n        group.add(el);\n        updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }).remove(function (dataIndex) {\n        var el = oldData.getItemGraphicEl(dataIndex);\n\n        if (coord.type === 'cartesian2d') {\n          el && removeRect(dataIndex, animationModel, el);\n        } else {\n          el && removeSector(dataIndex, animationModel, el);\n        }\n      }).execute();\n      var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group_1());\n      bgGroup.removeAll();\n\n      for (var i = 0; i < bgEls.length; ++i) {\n        bgGroup.add(bgEls[i]);\n      }\n\n      group.add(bgGroup);\n      this._backgroundEls = bgEls;\n      this._data = data;\n    },\n    _renderLarge: function (seriesModel, ecModel, api) {\n      this._clear();\n\n      createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n      var clipPath = seriesModel.get('clip', true) ? createClipPath$1(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n      if (clipPath) {\n        this.group.setClipPath(clipPath);\n      } else {\n        this.group.removeClipPath();\n      }\n    },\n    _incrementalRenderLarge: function (params, seriesModel) {\n      this._removeBackground();\n\n      createLarge(seriesModel, this.group, true);\n    },\n    dispose: util.noop,\n    remove: function (ecModel) {\n      this._clear(ecModel);\n    },\n    _clear: function (ecModel) {\n      var group = this.group;\n      var data = this._data;\n\n      if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n        this._removeBackground();\n\n        this._backgroundEls = [];\n        data.eachItemGraphicEl(function (el) {\n          if (el.type === 'sector') {\n            removeSector(el.dataIndex, ecModel, el);\n          } else {\n            removeRect(el.dataIndex, ecModel, el);\n          }\n        });\n      } else {\n        group.removeAll();\n      }\n\n      this._data = null;\n    },\n    _removeBackground: function () {\n      this.group.remove(this._backgroundGroup);\n      this._backgroundGroup = null;\n    }\n  });\n\n  var mathMax$4 = Math.max;\n  var mathMin$4 = Math.min;\n  var clip = {\n    cartesian2d: function (coordSysBoundingRect, layout) {\n      var signWidth = layout.width < 0 ? -1 : 1;\n      var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n      if (signWidth < 0) {\n        layout.x += layout.width;\n        layout.width = -layout.width;\n      }\n\n      if (signHeight < 0) {\n        layout.y += layout.height;\n        layout.height = -layout.height;\n      }\n\n      var x = mathMax$4(layout.x, coordSysBoundingRect.x);\n      var x2 = mathMin$4(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n      var y = mathMax$4(layout.y, coordSysBoundingRect.y);\n      var y2 = mathMin$4(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n      layout.x = x;\n      layout.y = y;\n      layout.width = x2 - x;\n      layout.height = y2 - y;\n      var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n      if (signWidth < 0) {\n        layout.x += layout.width;\n        layout.width = -layout.width;\n      }\n\n      if (signHeight < 0) {\n        layout.y += layout.height;\n        layout.height = -layout.height;\n      }\n\n      return clipped;\n    },\n    polar: function (coordSysClipArea, layout) {\n      var signR = layout.r0 <= layout.r ? 1 : -1; // Make sure r is larger than r0\n\n      if (signR < 0) {\n        var r = layout.r;\n        layout.r = layout.r0;\n        layout.r0 = r;\n      }\n\n      var r = mathMin$4(layout.r, coordSysClipArea.r);\n      var r0 = mathMax$4(layout.r0, coordSysClipArea.r0);\n      layout.r = r;\n      layout.r0 = r0;\n      var clipped = r - r0 < 0; // Reverse back\n\n      if (signR < 0) {\n        var r = layout.r;\n        layout.r = layout.r0;\n        layout.r0 = r;\n      }\n\n      return clipped;\n    }\n  };\n  var elementCreator = {\n    cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n      var rect = new graphic.Rect({\n        shape: util.extend({}, layout),\n        z2: 1\n      });\n      rect.name = 'item'; // Animation\n\n      if (animationModel) {\n        var rectShape = rect.shape;\n        var animateProperty = isHorizontal ? 'height' : 'width';\n        var animateTarget = {};\n        rectShape[animateProperty] = 0;\n        animateTarget[animateProperty] = layout[animateProperty];\n        graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n          shape: animateTarget\n        }, animationModel, dataIndex);\n      }\n\n      return rect;\n    },\n    polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n      // Keep the same logic with bar in catesion: use end value to control\n      // direction. Notice that if clockwise is true (by default), the sector\n      // will always draw clockwisely, no matter whether endAngle is greater\n      // or less than startAngle.\n      var clockwise = layout.startAngle < layout.endAngle;\n      var ShapeClass = !isRadial && roundCap ? sausage : graphic.Sector;\n      var sector = new ShapeClass({\n        shape: util.defaults({\n          clockwise: clockwise\n        }, layout),\n        z2: 1\n      });\n      sector.name = 'item'; // Animation\n\n      if (animationModel) {\n        var sectorShape = sector.shape;\n        var animateProperty = isRadial ? 'r' : 'endAngle';\n        var animateTarget = {};\n        sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n        animateTarget[animateProperty] = layout[animateProperty];\n        graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n          shape: animateTarget\n        }, animationModel, dataIndex);\n      }\n\n      return sector;\n    }\n  };\n\n  function removeRect(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    graphic.updateProps(el, {\n      shape: {\n        width: 0\n      }\n    }, animationModel, dataIndex, function () {\n      el.parent && el.parent.remove(el);\n    });\n  }\n\n  function removeSector(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    graphic.updateProps(el, {\n      shape: {\n        r: el.shape.r0\n      }\n    }, animationModel, dataIndex, function () {\n      el.parent && el.parent.remove(el);\n    });\n  }\n\n  var getLayout = {\n    // itemModel is only used to get borderWidth, which is not needed\n    // when calculating bar background layout.\n    cartesian2d: function (data, dataIndex, itemModel) {\n      var layout = data.getItemLayout(dataIndex);\n      var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n      var signX = layout.width > 0 ? 1 : -1;\n      var signY = layout.height > 0 ? 1 : -1;\n      return {\n        x: layout.x + signX * fixedLineWidth / 2,\n        y: layout.y + signY * fixedLineWidth / 2,\n        width: layout.width - signX * fixedLineWidth,\n        height: layout.height - signY * fixedLineWidth\n      };\n    },\n    polar: function (data, dataIndex, itemModel) {\n      var layout = data.getItemLayout(dataIndex);\n      return {\n        cx: layout.cx,\n        cy: layout.cy,\n        r0: layout.r0,\n        r: layout.r,\n        startAngle: layout.startAngle,\n        endAngle: layout.endAngle\n      };\n    }\n  };\n\n  function isZeroOnPolar(layout) {\n    return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n  }\n\n  function updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n    var color = data.getItemVisual(dataIndex, 'color');\n    var opacity = data.getItemVisual(dataIndex, 'opacity');\n    var stroke = data.getVisual('borderColor');\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n    if (!isPolar) {\n      el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n    }\n\n    el.useStyle(util.defaults({\n      stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n      fill: isZeroOnPolar(layout) ? 'none' : color,\n      opacity: opacity\n    }, itemStyleModel.getBarItemStyle()));\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && el.attr('cursor', cursorStyle);\n    var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n    if (!isPolar) {\n      setLabel$1(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n    }\n\n    if (isZeroOnPolar(layout)) {\n      hoverStyle.fill = hoverStyle.stroke = 'none';\n    }\n\n    graphic.setHoverStyle(el, hoverStyle);\n  } // In case width or height are too small.\n\n\n  function getLineWidth(itemModel, rawLayout) {\n    var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0; // width or height may be NaN for empty data\n\n    var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n    var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n    return Math.min(lineWidth, width, height);\n  }\n\n  var LargePath = Path_1.extend({\n    type: 'largeBar',\n    shape: {\n      points: []\n    },\n    buildPath: function (ctx, shape) {\n      // Drawing lines is more efficient than drawing\n      // a whole line or drawing rects.\n      var points = shape.points;\n      var startPoint = this.__startPoint;\n      var baseDimIdx = this.__baseDimIdx;\n\n      for (var i = 0; i < points.length; i += 2) {\n        startPoint[baseDimIdx] = points[i + baseDimIdx];\n        ctx.moveTo(startPoint[0], startPoint[1]);\n        ctx.lineTo(points[i], points[i + 1]);\n      }\n    }\n  });\n\n  function createLarge(seriesModel, group, incremental) {\n    // TODO support polar\n    var data = seriesModel.getData();\n    var startPoint = [];\n    var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n    startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n    var largeDataIndices = data.getLayout('largeDataIndices');\n    var barWidth = data.getLayout('barWidth');\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var drawBackground = seriesModel.get('showBackground', true);\n\n    if (drawBackground) {\n      var points = data.getLayout('largeBackgroundPoints');\n      var backgroundStartPoint = [];\n      backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n      var bgEl = new LargePath({\n        shape: {\n          points: points\n        },\n        incremental: !!incremental,\n        __startPoint: backgroundStartPoint,\n        __baseDimIdx: baseDimIdx,\n        __largeDataIndices: largeDataIndices,\n        __barWidth: barWidth,\n        silent: true,\n        z2: 0\n      });\n      setLargeBackgroundStyle(bgEl, backgroundModel, data);\n      group.add(bgEl);\n    }\n\n    var el = new LargePath({\n      shape: {\n        points: data.getLayout('largePoints')\n      },\n      incremental: !!incremental,\n      __startPoint: startPoint,\n      __baseDimIdx: baseDimIdx,\n      __largeDataIndices: largeDataIndices,\n      __barWidth: barWidth\n    });\n    group.add(el);\n    setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n    el.seriesIndex = seriesModel.seriesIndex;\n\n    if (!seriesModel.get('silent')) {\n      el.on('mousedown', largePathUpdateDataIndex);\n      el.on('mousemove', largePathUpdateDataIndex);\n    }\n  } // Use throttle to avoid frequently traverse to find dataIndex.\n\n\n  var largePathUpdateDataIndex = throttle$2(function (event) {\n    var largePath = this;\n    var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n    largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n  }, 30, false);\n\n  function largePathFindDataIndex(largePath, x, y) {\n    var baseDimIdx = largePath.__baseDimIdx;\n    var valueDimIdx = 1 - baseDimIdx;\n    var points = largePath.shape.points;\n    var largeDataIndices = largePath.__largeDataIndices;\n    var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n    var startValueVal = largePath.__startPoint[valueDimIdx];\n    _eventPos[0] = x;\n    _eventPos[1] = y;\n    var pointerBaseVal = _eventPos[baseDimIdx];\n    var pointerValueVal = _eventPos[1 - baseDimIdx];\n    var baseLowerBound = pointerBaseVal - barWidthHalf;\n    var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n    for (var i = 0, len = points.length / 2; i < len; i++) {\n      var ii = i * 2;\n      var barBaseVal = points[ii + baseDimIdx];\n      var barValueVal = points[ii + valueDimIdx];\n\n      if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n        return largeDataIndices[i];\n      }\n    }\n\n    return -1;\n  }\n\n  function setLargeStyle(el, seriesModel, data) {\n    var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n    var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n    el.useStyle(itemStyle);\n    el.style.fill = null;\n    el.style.stroke = borderColor;\n    el.style.lineWidth = data.getLayout('barWidth');\n  }\n\n  function setLargeBackgroundStyle(el, backgroundModel, data) {\n    var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n    var itemStyle = backgroundModel.getItemStyle(['color', 'borderColor']);\n    el.useStyle(itemStyle);\n    el.style.fill = null;\n    el.style.stroke = borderColor;\n    el.style.lineWidth = data.getLayout('barWidth');\n  }\n\n  function createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n    var coordLayout;\n    var isPolar = coord.type === 'polar';\n\n    if (isPolar) {\n      coordLayout = coord.getArea();\n    } else {\n      coordLayout = coord.grid.getRect();\n    }\n\n    if (isPolar) {\n      return {\n        cx: coordLayout.cx,\n        cy: coordLayout.cy,\n        r0: isHorizontalOrRadial ? coordLayout.r0 : layout.r0,\n        r: isHorizontalOrRadial ? coordLayout.r : layout.r,\n        startAngle: isHorizontalOrRadial ? layout.startAngle : 0,\n        endAngle: isHorizontalOrRadial ? layout.endAngle : Math.PI * 2\n      };\n    } else {\n      return {\n        x: isHorizontalOrRadial ? layout.x : coordLayout.x,\n        y: isHorizontalOrRadial ? coordLayout.y : layout.y,\n        width: isHorizontalOrRadial ? layout.width : coordLayout.width,\n        height: isHorizontalOrRadial ? coordLayout.height : layout.height\n      };\n    }\n  }\n\n  function createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n    var ElementClz = coord.type === 'polar' ? graphic.Sector : graphic.Rect;\n    return new ElementClz({\n      shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n      silent: true,\n      z2: 0\n    });\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var layout$4 = barGrid.layout;\n  var largeLayout$1 = barGrid.largeLayout;\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // In case developer forget to include grid component\n  echarts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, util.curry(layout$4, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n  // only exist in this module, but probably also exist in other modules, like `barPolar`.\n\n  echarts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout$1);\n  echarts.registerVisual({\n    seriesType: 'bar',\n    reset: function (seriesModel) {\n      // Visual coding for legend\n      seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n    }\n  });\n\n  function _interopDefault$5 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n\n  var Core$3 = _interopDefault$5(core_1);\n\n  var defineProperty$7 = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  var _extends$4 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  // default opacity of bar while dim-axis type is 'value'\n  var VALUE_AXIS_OPACITY = 0.5;\n\n  function getBarDimAxis(args) {\n    var innerRows = args.innerRows,\n        dimAxisName = args.dimAxisName,\n        dimension = args.dimension,\n        axisVisible = args.axisVisible,\n        dimAxisType = args.dimAxisType,\n        dims = args.dims;\n\n    return dimension.map(function (item) {\n      return {\n        type: 'category',\n        name: dimAxisName,\n        nameLocation: 'middle',\n        nameGap: 22,\n        data: dimAxisType === 'value' ? getValueAxisData(dims) : innerRows.map(function (row) {\n          return row[item];\n        }),\n        axisLabel: {\n          formatter: function formatter(v) {\n            return String(v);\n          }\n        },\n        show: axisVisible\n      };\n    });\n  }\n\n  function getValueAxisData(dims) {\n    var max = Math.max.apply(null, dims);\n    var min = Math.min.apply(null, dims);\n    var result = [];\n    for (var i = min; i <= max; i++) {\n      result.push(i);\n    }\n    return result;\n  }\n\n  function getBarMeaAxis(args) {\n    var meaAxisName = args.meaAxisName,\n        meaAxisType = args.meaAxisType,\n        axisVisible = args.axisVisible,\n        digit = args.digit,\n        scale = args.scale,\n        min = args.min,\n        max = args.max;\n\n    var meaAxisBase = {\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      show: axisVisible\n    };\n    var meaAxis = [];\n\n    var _loop = function _loop(i) {\n      if (meaAxisType[i]) {\n        meaAxis[i] = _extends$4({}, meaAxisBase, {\n          axisLabel: {\n            formatter: function formatter(val) {\n              return utils.getFormated(val, meaAxisType[i], digit);\n            }\n          }\n        });\n      } else {\n        meaAxis[i] = _extends$4({}, meaAxisBase);\n      }\n      meaAxis[i].name = meaAxisName[i] || '';\n      meaAxis[i].scale = scale[i] || false;\n      meaAxis[i].min = min[i] || null;\n      meaAxis[i].max = max[i] || null;\n    };\n\n    for (var i = 0; i < 2; i++) {\n      _loop(i);\n    }\n\n    return meaAxis;\n  }\n\n  function getBarTooltip(args) {\n    var axisSite = args.axisSite,\n        isHistogram = args.isHistogram,\n        meaAxisType = args.meaAxisType,\n        digit = args.digit,\n        labelMap = args.labelMap;\n\n    var secondAxis = isHistogram ? axisSite.right || [] : axisSite.top || [];\n    if (labelMap) {\n      secondAxis = secondAxis.map(function (item) {\n        return labelMap[item] === undefined ? item : labelMap[item];\n      });\n    }\n    return {\n      trigger: 'axis',\n      formatter: function formatter(items) {\n        var tpl = [];\n        tpl.push(items[0].name + '<br>');\n        items.forEach(function (item) {\n          var seriesName = item.seriesName;\n          var type = ~secondAxis.indexOf(seriesName) ? meaAxisType[1] : meaAxisType[0];\n          tpl.push(constants.itemPoint(item.color));\n          tpl.push(seriesName + ': ');\n          tpl.push(utils.getFormated(item.value, type, digit));\n          tpl.push('<br>');\n        });\n\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getValueData(seriesTemp, dims) {\n    var max = Math.max.apply(null, dims);\n    var min = Math.min.apply(null, dims);\n    var result = [];\n    for (var i = min; i <= max; i++) {\n      var index = dims.indexOf(i);\n      if (~index) {\n        result.push(seriesTemp[index]);\n      } else {\n        result.push(null);\n      }\n    }\n    return result;\n  }\n\n  function getBarSeries(args) {\n    var innerRows = args.innerRows,\n        metrics = args.metrics,\n        stack = args.stack,\n        axisSite = args.axisSite,\n        isHistogram = args.isHistogram,\n        labelMap = args.labelMap,\n        itemStyle = args.itemStyle,\n        label = args.label,\n        _args$showLine = args.showLine,\n        showLine = _args$showLine === undefined ? [] : _args$showLine,\n        dimAxisType = args.dimAxisType,\n        barGap = args.barGap,\n        opacity = args.opacity,\n        dims = args.dims;\n\n    var series = [];\n    var seriesTemp = {};\n    var secondAxis = isHistogram ? axisSite.right || [] : axisSite.top || [];\n    var secondDimAxisIndex = isHistogram ? 'yAxisIndex' : 'xAxisIndex';\n    var stackMap = stack && utils.getStackMap(stack);\n    metrics.forEach(function (item) {\n      seriesTemp[item] = [];\n    });\n    innerRows.forEach(function (row) {\n      metrics.forEach(function (item) {\n        seriesTemp[item].push(row[item]);\n      });\n    });\n    series = Object.keys(seriesTemp).map(function (item, index) {\n      var data = dimAxisType === 'value' ? getValueData(seriesTemp[item], dims) : seriesTemp[item];\n      var seriesItem = defineProperty$7({\n        name: labelMap[item] != null ? labelMap[item] : item,\n        type: ~showLine.indexOf(item) ? 'line' : 'bar',\n        data: data\n      }, secondDimAxisIndex, ~secondAxis.indexOf(item) ? '1' : '0');\n\n      if (stack && stackMap[item]) seriesItem.stack = stackMap[item];\n\n      if (label) seriesItem.label = label;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n\n      var itemOpacity = opacity || utilsLite.get(seriesItem, 'itemStyle.normal.opacity');\n      if (dimAxisType === 'value') {\n        seriesItem.barGap = barGap;\n        seriesItem.barCategoryGap = '1%';\n        if (itemOpacity == null) itemOpacity = VALUE_AXIS_OPACITY;\n      }\n\n      if (itemOpacity != null) {\n        utilsLite.set(seriesItem, 'itemStyle.normal.opacity', itemOpacity);\n      }\n\n      return seriesItem;\n    });\n\n    return series.length ? series : false;\n  }\n\n  function getLegend$1(args) {\n    var metrics = args.metrics,\n        labelMap = args.labelMap,\n        legendName = args.legendName;\n\n    if (!legendName && !labelMap) return { data: metrics };\n    var data = labelMap ? metrics.map(function (item) {\n      return labelMap[item] == null ? item : labelMap[item];\n    }) : metrics;\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getDims(rows, dimension) {\n    return rows.map(function (row) {\n      return row[dimension[0]];\n    });\n  }\n\n  var histogram = function histogram(columns, rows, settings, status) {\n    var innerRows = utilsLite.cloneDeep(rows);\n    var _settings$axisSite2 = settings.axisSite,\n        axisSite = _settings$axisSite2 === undefined ? {} : _settings$axisSite2,\n        _settings$dimension2 = settings.dimension,\n        dimension = _settings$dimension2 === undefined ? [columns[0]] : _settings$dimension2,\n        _settings$stack2 = settings.stack,\n        stack = _settings$stack2 === undefined ? {} : _settings$stack2,\n        _settings$axisVisible2 = settings.axisVisible,\n        axisVisible = _settings$axisVisible2 === undefined ? true : _settings$axisVisible2,\n        _settings$digit2 = settings.digit,\n        digit = _settings$digit2 === undefined ? 2 : _settings$digit2,\n        _settings$dataOrder2 = settings.dataOrder,\n        dataOrder = _settings$dataOrder2 === undefined ? false : _settings$dataOrder2,\n        _settings$scale2 = settings.scale,\n        scale = _settings$scale2 === undefined ? [false, false] : _settings$scale2,\n        _settings$min2 = settings.min,\n        min = _settings$min2 === undefined ? [null, null] : _settings$min2,\n        _settings$max2 = settings.max,\n        max = _settings$max2 === undefined ? [null, null] : _settings$max2,\n        _settings$labelMap2 = settings.labelMap,\n        labelMap = _settings$labelMap2 === undefined ? {} : _settings$labelMap2,\n        _settings$legendName2 = settings.legendName,\n        legendName = _settings$legendName2 === undefined ? {} : _settings$legendName2,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        showLine = settings.showLine,\n        _settings$barGap2 = settings.barGap,\n        barGap = _settings$barGap2 === undefined ? '-100%' : _settings$barGap2,\n        opacity = settings.opacity;\n\n\n    if (dataOrder) {\n      var _label2 = dataOrder.label,\n          order = dataOrder.order;\n\n      if (!_label2 || !order) {\n        console.warn('Need to provide name and order parameters');\n      } else {\n        innerRows.sort(function (a, b) {\n          if (order === 'desc') {\n            return a[_label2] - b[_label2];\n          } else {\n            return b[_label2] - a[_label2];\n          }\n        });\n      }\n    }\n\n    var tooltipVisible = status.tooltipVisible,\n        legendVisible = status.legendVisible;\n\n    var metrics = columns.slice();\n    if (axisSite.left && axisSite.right) {\n      metrics = axisSite.left.concat(axisSite.right);\n    } else if (axisSite.left && !axisSite.right) {\n      metrics = axisSite.left;\n    } else if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension[0]), 1);\n    }\n    var meaAxisType = settings.yAxisType || ['normal', 'normal'];\n    var dimAxisType = settings.xAxisType || 'category';\n    var meaAxisName = settings.yAxisName || [];\n    var dimAxisName = settings.xAxisName || '';\n    var isHistogram = true;\n    var dims = getDims(innerRows, dimension);\n\n    var legend = legendVisible && getLegend$1({ metrics: metrics, labelMap: labelMap, legendName: legendName });\n    var xAxis = getBarDimAxis({\n      innerRows: innerRows,\n      dimAxisName: dimAxisName,\n      dimension: dimension,\n      axisVisible: axisVisible,\n      dimAxisType: dimAxisType,\n      dims: dims\n    });\n    var yAxis = getBarMeaAxis({\n      meaAxisName: meaAxisName,\n      meaAxisType: meaAxisType,\n      axisVisible: axisVisible,\n      digit: digit,\n      scale: scale,\n      min: min,\n      max: max\n    });\n    var series = getBarSeries({\n      innerRows: innerRows,\n      metrics: metrics,\n      stack: stack,\n      axisSite: axisSite,\n      isHistogram: isHistogram,\n      labelMap: labelMap,\n      itemStyle: itemStyle,\n      label: label,\n      showLine: showLine,\n      dimAxisType: dimAxisType,\n      dimension: dimension,\n      barGap: barGap,\n      opacity: opacity,\n      dims: dims\n    });\n    var tooltipParams = { axisSite: axisSite, isHistogram: isHistogram, meaAxisType: meaAxisType, digit: digit, labelMap: labelMap };\n    var tooltip = tooltipVisible && getBarTooltip(tooltipParams);\n    var options = { legend: legend, yAxis: yAxis, series: series, xAxis: xAxis, tooltip: tooltip };\n    return options;\n  };\n\n  var index$3 = _extends$4({}, Core$3, {\n    name: 'VeHistogram',\n    data: function data() {\n      this.chartHandler = histogram;\n      return {};\n    }\n  });\n\n  var histogram_common = index$3;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var defaultEmphasis$1 = model.defaultEmphasis;\n\n\n\n  var makeSeriesEncodeForNameBased$2 = sourceHelper.makeSeriesEncodeForNameBased;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var FunnelSeries = echarts.extendSeriesModel({\n    type: 'series.funnel',\n    init: function (option) {\n      FunnelSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this)); // Extend labelLine emphasis\n\n      this._defaultLabelLine(option);\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        coordDimensions: ['value'],\n        encodeDefaulter: util.curry(makeSeriesEncodeForNameBased$2, this)\n      });\n    },\n    _defaultLabelLine: function (option) {\n      // Extend labelLine emphasis\n      defaultEmphasis$1(option, 'labelLine', ['show']);\n      var labelLineNormalOpt = option.labelLine;\n      var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n      labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n      labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n    },\n    // Overwrite\n    getDataParams: function (dataIndex) {\n      var data = this.getData();\n      var params = FunnelSeries.superCall(this, 'getDataParams', dataIndex);\n      var valueDim = data.mapDimension('value');\n      var sum = data.getSum(valueDim); // Percent is 0 if sum is 0\n\n      params.percent = !sum ? 0 : +(data.get(valueDim, dataIndex) / sum * 100).toFixed(2);\n      params.$vars.push('percent');\n      return params;\n    },\n    defaultOption: {\n      zlevel: 0,\n      // \n      z: 2,\n      // \n      legendHoverLink: true,\n      left: 80,\n      top: 60,\n      right: 80,\n      bottom: 60,\n      // width: {totalWidth} - left - right,\n      // height: {totalHeight} - top - bottom,\n      // \n      // min: 0,\n      // max: 100,\n      minSize: '0%',\n      maxSize: '100%',\n      sort: 'descending',\n      // 'ascending', 'descending'\n      orient: 'vertical',\n      gap: 0,\n      funnelAlign: 'center',\n      label: {\n        show: true,\n        position: 'outer' // formatter: Tooltip.formatter\n\n      },\n      labelLine: {\n        show: true,\n        length: 20,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      itemStyle: {\n        // color: ,\n        borderColor: '#fff',\n        borderWidth: 1\n      },\n      emphasis: {\n        label: {\n          show: true\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Piece of pie including Sector, Label, LabelLine\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   */\n  function FunnelPiece(data, idx) {\n    graphic.Group.call(this);\n    var polygon = new graphic.Polygon();\n    var labelLine = new graphic.Polyline();\n    var text = new graphic.Text();\n    this.add(polygon);\n    this.add(labelLine);\n    this.add(text);\n\n    this.highDownOnUpdate = function (fromState, toState) {\n      if (toState === 'emphasis') {\n        labelLine.ignore = labelLine.hoverIgnore;\n        text.ignore = text.hoverIgnore;\n      } else {\n        labelLine.ignore = labelLine.normalIgnore;\n        text.ignore = text.normalIgnore;\n      }\n    };\n\n    this.updateData(data, idx, true);\n  }\n\n  var funnelPieceProto = FunnelPiece.prototype;\n  var opacityAccessPath = ['itemStyle', 'opacity'];\n\n  funnelPieceProto.updateData = function (data, idx, firstCreate) {\n    var polygon = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var opacity = data.getItemModel(idx).get(opacityAccessPath);\n    opacity = opacity == null ? 1 : opacity; // Reset style\n\n    polygon.useStyle({});\n\n    if (firstCreate) {\n      polygon.setShape({\n        points: layout.points\n      });\n      polygon.setStyle({\n        opacity: 0\n      });\n      graphic.initProps(polygon, {\n        style: {\n          opacity: opacity\n        }\n      }, seriesModel, idx);\n    } else {\n      graphic.updateProps(polygon, {\n        style: {\n          opacity: opacity\n        },\n        shape: {\n          points: layout.points\n        }\n      }, seriesModel, idx);\n    } // Update common style\n\n\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var visualColor = data.getItemVisual(idx, 'color');\n    polygon.setStyle(util.defaults({\n      lineJoin: 'round',\n      fill: visualColor\n    }, itemStyleModel.getItemStyle(['opacity'])));\n    polygon.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n    this._updateLabel(data, idx);\n\n    graphic.setHoverStyle(this);\n  };\n\n  funnelPieceProto._updateLabel = function (data, idx) {\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.updateProps(labelLine, {\n      shape: {\n        points: labelLayout.linePoints || labelLayout.linePoints\n      }\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: {\n        x: labelLayout.x,\n        y: labelLayout.y\n      }\n    }, seriesModel, idx);\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      origin: [labelLayout.x, labelLayout.y],\n      z2: 10\n    });\n    var labelModel = itemModel.getModel('label');\n    var labelHoverModel = itemModel.getModel('emphasis.label');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultText: data.getName(idx),\n      autoColor: visualColor,\n      useInsideStyle: !!labelLayout.inside\n    }, {\n      textAlign: labelLayout.textAlign,\n      textVerticalAlign: labelLayout.verticalAlign\n    });\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n    labelLine.setStyle({\n      stroke: visualColor\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  };\n\n  util.inherits(FunnelPiece, graphic.Group);\n  var FunnelView = Chart_1.extend({\n    type: 'funnel',\n    render: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var group = this.group;\n      data.diff(oldData).add(function (idx) {\n        var funnelPiece = new FunnelPiece(data, idx);\n        data.setItemGraphicEl(idx, funnelPiece);\n        group.add(funnelPiece);\n      }).update(function (newIdx, oldIdx) {\n        var piePiece = oldData.getItemGraphicEl(oldIdx);\n        piePiece.updateData(data, newIdx);\n        group.add(piePiece);\n        data.setItemGraphicEl(newIdx, piePiece);\n      }).remove(function (idx) {\n        var piePiece = oldData.getItemGraphicEl(idx);\n        group.remove(piePiece);\n      }).execute();\n      this._data = data;\n    },\n    remove: function () {\n      this.group.removeAll();\n      this._data = null;\n    },\n    dispose: function () {}\n  });\n\n  var parsePercent$8 = number.parsePercent;\n  var linearMap$3 = number.linearMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function getViewRect$1(seriesModel, api) {\n    return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  }\n\n  function getSortedIndices(data, sort) {\n    var valueDim = data.mapDimension('value');\n    var valueArr = data.mapArray(valueDim, function (val) {\n      return val;\n    });\n    var indices = [];\n    var isAscending = sort === 'ascending';\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      indices[i] = i;\n    } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n    if (typeof sort === 'function') {\n      indices.sort(sort);\n    } else if (sort !== 'none') {\n      indices.sort(function (a, b) {\n        return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n      });\n    }\n\n    return indices;\n  }\n\n  function labelLayout$1(data) {\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelModel = itemModel.getModel('label');\n      var labelPosition = labelModel.get('position');\n      var orient = itemModel.get('orient');\n      var labelLineModel = itemModel.getModel('labelLine');\n      var layout = data.getItemLayout(idx);\n      var points = layout.points;\n      var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n      var textAlign;\n      var textX;\n      var textY;\n      var linePoints;\n\n      if (isLabelInside) {\n        if (labelPosition === 'insideLeft') {\n          textX = (points[0][0] + points[3][0]) / 2 + 5;\n          textY = (points[0][1] + points[3][1]) / 2;\n          textAlign = 'left';\n        } else if (labelPosition === 'insideRight') {\n          textX = (points[1][0] + points[2][0]) / 2 - 5;\n          textY = (points[1][1] + points[2][1]) / 2;\n          textAlign = 'right';\n        } else {\n          textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n          textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n          textAlign = 'center';\n        }\n\n        linePoints = [[textX, textY], [textX, textY]];\n      } else {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        var labelLineLen = labelLineModel.get('length');\n\n        if (labelPosition === 'left') {\n          // Left side\n          x1 = (points[3][0] + points[0][0]) / 2;\n          y1 = (points[3][1] + points[0][1]) / 2;\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        } else if (labelPosition === 'right') {\n          // Right side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'left';\n        } else if (labelPosition === 'top') {\n          // Top side\n          x1 = (points[3][0] + points[0][0]) / 2;\n          y1 = (points[3][1] + points[0][1]) / 2;\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else if (labelPosition === 'bottom') {\n          // Bottom side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else if (labelPosition === 'rightTop') {\n          // RightTop side\n          x1 = orient === 'horizontal' ? points[3][0] : points[1][0];\n          y1 = orient === 'horizontal' ? points[3][1] : points[1][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 - labelLineLen;\n            textY = y2 - 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'top';\n          }\n        } else if (labelPosition === 'rightBottom') {\n          // RightBottom side\n          x1 = points[2][0];\n          y1 = points[2][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'bottom';\n          }\n        } else if (labelPosition === 'leftTop') {\n          // LeftTop side\n          x1 = points[0][0];\n          y1 = orient === 'horizontal' ? points[0][1] : points[1][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 - labelLineLen;\n            textY = y2 - 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 - labelLineLen;\n            textX = x2 - 5;\n            textAlign = 'right';\n          }\n        } else if (labelPosition === 'leftBottom') {\n          // LeftBottom side\n          x1 = orient === 'horizontal' ? points[1][0] : points[3][0];\n          y1 = orient === 'horizontal' ? points[1][1] : points[2][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 - labelLineLen;\n            textX = x2 - 5;\n            textAlign = 'right';\n          }\n        } else {\n          // Right side or Bottom side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'left';\n          }\n        }\n\n        if (orient === 'horizontal') {\n          x2 = x1;\n          textX = x2;\n        } else {\n          y2 = y1;\n          textY = y2;\n        }\n\n        linePoints = [[x1, y1], [x2, y2]];\n      }\n\n      layout.label = {\n        linePoints: linePoints,\n        x: textX,\n        y: textY,\n        verticalAlign: 'middle',\n        textAlign: textAlign,\n        inside: isLabelInside\n      };\n    });\n  }\n\n  function _default$2b(ecModel, api, payload) {\n    ecModel.eachSeriesByType('funnel', function (seriesModel) {\n      var data = seriesModel.getData();\n      var valueDim = data.mapDimension('value');\n      var sort = seriesModel.get('sort');\n      var viewRect = getViewRect$1(seriesModel, api);\n      var indices = getSortedIndices(data, sort);\n      var orient = seriesModel.get('orient');\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var x = viewRect.x;\n      var y = viewRect.y;\n      var sizeExtent = orient === 'horizontal' ? [parsePercent$8(seriesModel.get('minSize'), viewHeight), parsePercent$8(seriesModel.get('maxSize'), viewHeight)] : [parsePercent$8(seriesModel.get('minSize'), viewWidth), parsePercent$8(seriesModel.get('maxSize'), viewWidth)];\n      var dataExtent = data.getDataExtent(valueDim);\n      var min = seriesModel.get('min');\n      var max = seriesModel.get('max');\n\n      if (min == null) {\n        min = Math.min(dataExtent[0], 0);\n      }\n\n      if (max == null) {\n        max = dataExtent[1];\n      }\n\n      var funnelAlign = seriesModel.get('funnelAlign');\n      var gap = seriesModel.get('gap');\n      var viewSize = orient === 'horizontal' ? viewWidth : viewHeight;\n      var itemSize = (viewSize - gap * (data.count() - 1)) / data.count();\n\n      var getLinePoints = function (idx, offset) {\n        // End point index is data.count() and we assign it 0\n        if (orient === 'horizontal') {\n          var val = data.get(valueDim, idx) || 0;\n          var itemHeight = linearMap$3(val, [min, max], sizeExtent, true);\n          var y0;\n\n          switch (funnelAlign) {\n            case 'top':\n              y0 = y;\n              break;\n\n            case 'center':\n              y0 = y + (viewHeight - itemHeight) / 2;\n              break;\n\n            case 'bottom':\n              y0 = y + (viewHeight - itemHeight);\n              break;\n          }\n\n          return [[offset, y0], [offset, y0 + itemHeight]];\n        }\n\n        var val = data.get(valueDim, idx) || 0;\n        var itemWidth = linearMap$3(val, [min, max], sizeExtent, true);\n        var x0;\n\n        switch (funnelAlign) {\n          case 'left':\n            x0 = x;\n            break;\n\n          case 'center':\n            x0 = x + (viewWidth - itemWidth) / 2;\n            break;\n\n          case 'right':\n            x0 = x + viewWidth - itemWidth;\n            break;\n        }\n\n        return [[x0, offset], [x0 + itemWidth, offset]];\n      };\n\n      if (sort === 'ascending') {\n        // From bottom to top\n        itemSize = -itemSize;\n        gap = -gap;\n\n        if (orient === 'horizontal') {\n          x += viewWidth;\n        } else {\n          y += viewHeight;\n        }\n\n        indices = indices.reverse();\n      }\n\n      for (var i = 0; i < indices.length; i++) {\n        var idx = indices[i];\n        var nextIdx = indices[i + 1];\n        var itemModel = data.getItemModel(idx);\n\n        if (orient === 'horizontal') {\n          var width = itemModel.get('itemStyle.width');\n\n          if (width == null) {\n            width = itemSize;\n          } else {\n            width = parsePercent$8(width, viewWidth);\n\n            if (sort === 'ascending') {\n              width = -width;\n            }\n          }\n\n          var start = getLinePoints(idx, x);\n          var end = getLinePoints(nextIdx, x + width);\n          x += width + gap;\n          data.setItemLayout(idx, {\n            points: start.concat(end.slice().reverse())\n          });\n        } else {\n          var height = itemModel.get('itemStyle.height');\n\n          if (height == null) {\n            height = itemSize;\n          } else {\n            height = parsePercent$8(height, viewHeight);\n\n            if (sort === 'ascending') {\n              height = -height;\n            }\n          }\n\n          var start = orient === 'horizontal' ? getLinePoints(idx, x) : getLinePoints(idx, y);\n          var end = orient === 'horizontal' ? getLinePoints(nextIdx, x + width) : getLinePoints(nextIdx, y + height);\n          y += height + gap;\n          data.setItemLayout(idx, {\n            points: start.concat(end.slice().reverse())\n          });\n        }\n      }\n\n      labelLayout$1(data);\n    });\n  }\n\n  var funnelLayout = _default$2b;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerVisual(dataColor('funnel'));\n  echarts.registerLayout(funnelLayout);\n  echarts.registerProcessor(dataFilter('funnel'));\n\n  function _interopDefault$6 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core$4 = _interopDefault$6(core_1);\n\n  function getFunnelTooltip(dataType, digit) {\n    return {\n      trigger: 'item',\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        tpl.push(item.name + ': ' + utils.getFormated(item.data.realValue, dataType, digit));\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getFunnelLegend(args) {\n    var data = args.data,\n        legendName = args.legendName;\n\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getFunnelSeries(args) {\n    var dimension = args.dimension,\n        metrics = args.metrics,\n        rows = args.rows,\n        sequence = args.sequence,\n        ascending = args.ascending,\n        label = args.label,\n        labelLine = args.labelLine,\n        itemStyle = args.itemStyle,\n        filterZero = args.filterZero,\n        useDefaultOrder = args.useDefaultOrder;\n\n    var series = { type: 'funnel' };\n    var innerRows = rows.sort(function (a, b) {\n      return sequence.indexOf(a[dimension]) - sequence.indexOf(b[dimension]);\n    });\n\n    if (filterZero) {\n      innerRows = innerRows.filter(function (row) {\n        return row[metrics];\n      });\n    }\n\n    var falseFunnel = false;\n    innerRows.some(function (row, index) {\n      if (index && row[metrics] > innerRows[index - 1][metrics]) {\n        falseFunnel = true;\n        return true;\n      }\n    });\n\n    var step = 100 / innerRows.length;\n\n    if (falseFunnel && !useDefaultOrder) {\n      series.data = innerRows.slice().reverse().map(function (row, index) {\n        return {\n          name: row[dimension],\n          value: (index + 1) * step,\n          realValue: row[metrics]\n        };\n      });\n    } else {\n      series.data = innerRows.map(function (row) {\n        return {\n          name: row[dimension],\n          value: row[metrics],\n          realValue: row[metrics]\n        };\n      });\n    }\n\n    if (ascending) series.sort = 'ascending';\n    if (label) series.label = label;\n    if (labelLine) series.labelLine = labelLine;\n    if (itemStyle) series.itemStyle = itemStyle;\n    return series;\n  }\n\n  var funnel$1 = function funnel$$1(outerColumns, outerRows, settings, extra) {\n    var columns = outerColumns.slice();\n    var rows = outerRows.slice();\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? 'normal' : _settings$dataType,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$sequence = settings.sequence,\n        sequence = _settings$sequence === undefined ? rows.map(function (row) {\n      return row[dimension];\n    }) : _settings$sequence,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        ascending = settings.ascending,\n        label = settings.label,\n        labelLine = settings.labelLine,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        itemStyle = settings.itemStyle,\n        filterZero = settings.filterZero,\n        useDefaultOrder = settings.useDefaultOrder;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    var metrics = void 0;\n    if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      var metricsTemp = columns.slice();\n      metricsTemp.splice(columns.indexOf(dimension), 1);\n      metrics = metricsTemp[0];\n    }\n\n    var tooltip = tooltipVisible && getFunnelTooltip(dataType, digit);\n    var legend = legendVisible && getFunnelLegend({ data: sequence, legendName: legendName });\n    var series = getFunnelSeries({\n      dimension: dimension,\n      metrics: metrics,\n      rows: rows,\n      sequence: sequence,\n      ascending: ascending,\n      label: label,\n      labelLine: labelLine,\n      itemStyle: itemStyle,\n      filterZero: filterZero,\n      useDefaultOrder: useDefaultOrder\n    });\n    var options = { tooltip: tooltip, legend: legend, series: series };\n    return options;\n  };\n\n  var _extends$5 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var index$4 = _extends$5({}, Core$4, {\n    name: 'VeFunnel',\n    data: function data() {\n      this.chartHandler = funnel$1;\n      return {};\n    }\n  });\n\n  var funnel_common = index$4;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var addCommas$2 = format$1.addCommas;\n  var encodeHTML$3 = format$1.encodeHTML;\n\n  function fillLabel(opt) {\n    model.defaultEmphasis(opt, 'label', ['show']);\n  }\n\n  var MarkerModel = echarts.extendComponentModel({\n    type: 'marker',\n    dependencies: ['series', 'grid', 'polar', 'geo'],\n\n    /**\n     * @overrite\n     */\n    init: function (option, parentModel, ecModel) {\n      this.mergeDefaultAndTheme(option, ecModel);\n\n      this._mergeOption(option, ecModel, false, true);\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n      if (env_1.node) {\n        return false;\n      }\n\n      var hostSeries = this.__hostSeries;\n      return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n    },\n\n    /**\n     * @overrite\n     */\n    mergeOption: function (newOpt, ecModel) {\n      this._mergeOption(newOpt, ecModel, false, false);\n    },\n    _mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n      var MarkerModel = this.constructor;\n      var modelPropName = this.mainType + 'Model';\n\n      if (!createdBySelf) {\n        ecModel.eachSeries(function (seriesModel) {\n          var markerOpt = seriesModel.get(this.mainType, true);\n          var markerModel = seriesModel[modelPropName];\n\n          if (!markerOpt || !markerOpt.data) {\n            seriesModel[modelPropName] = null;\n            return;\n          }\n\n          if (!markerModel) {\n            if (isInit) {\n              // Default label emphasis `position` and `show`\n              fillLabel(markerOpt);\n            }\n\n            util.each(markerOpt.data, function (item) {\n              // FIXME Overwrite fillLabel method ?\n              if (item instanceof Array) {\n                fillLabel(item[0]);\n                fillLabel(item[1]);\n              } else {\n                fillLabel(item);\n              }\n            });\n            markerModel = new MarkerModel(markerOpt, this, ecModel);\n            util.extend(markerModel, {\n              mainType: this.mainType,\n              // Use the same series index and name\n              seriesIndex: seriesModel.seriesIndex,\n              name: seriesModel.name,\n              createdBySelf: true\n            });\n            markerModel.__hostSeries = seriesModel;\n          } else {\n            markerModel._mergeOption(markerOpt, ecModel, true);\n          }\n\n          seriesModel[modelPropName] = markerModel;\n        }, this);\n      }\n    },\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var data = this.getData();\n      var value = this.getRawValue(dataIndex);\n      var formattedValue = util.isArray(value) ? util.map(value, addCommas$2).join(', ') : addCommas$2(value);\n      var name = data.getName(dataIndex);\n      var html = encodeHTML$3(this.name);\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n\n      if (value != null || name) {\n        html += newLine;\n      }\n\n      if (name) {\n        html += encodeHTML$3(name);\n\n        if (value != null) {\n          html += ' : ';\n        }\n      }\n\n      if (value != null) {\n        html += encodeHTML$3(formattedValue);\n      }\n\n      return html;\n    },\n    getData: function () {\n      return this._data;\n    },\n    setData: function (data) {\n      this._data = data;\n    }\n  });\n  util.mixin(MarkerModel, dataFormat);\n  var _default$2c = MarkerModel;\n  var MarkerModel_1 = _default$2c;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2d = MarkerModel_1.extend({\n    type: 'markLine',\n    defaultOption: {\n      zlevel: 0,\n      z: 5,\n      symbol: ['circle', 'arrow'],\n      symbolSize: [8, 16],\n      //symbolRotate: 0,\n      precision: 2,\n      tooltip: {\n        trigger: 'item'\n      },\n      label: {\n        show: true,\n        position: 'end',\n        distance: 5\n      },\n      lineStyle: {\n        type: 'dashed'\n      },\n      emphasis: {\n        label: {\n          show: true\n        },\n        lineStyle: {\n          width: 3\n        }\n      },\n      animationEasing: 'linear'\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var isDimensionStacked$5 = dataStackHelper.isDimensionStacked;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var indexOf$5 = util.indexOf;\n\n  function hasXOrY(item) {\n    return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n  }\n\n  function hasXAndY(item) {\n    return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n  } // Make it simple, do not visit all stacked value to count precision.\n  // function getPrecision(data, valueAxisDim, dataIndex) {\n  //     var precision = -1;\n  //     var stackedDim = data.mapDimension(valueAxisDim);\n  //     do {\n  //         precision = Math.max(\n  //             numberUtil.getPrecision(data.get(stackedDim, dataIndex)),\n  //             precision\n  //         );\n  //         var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n  //         if (stackedOnSeries) {\n  //             var byValue = data.get(data.getCalculationInfo('stackedByDimension'), dataIndex);\n  //             data = stackedOnSeries.getData();\n  //             dataIndex = data.indexOf(data.getCalculationInfo('stackedByDimension'), byValue);\n  //             stackedDim = data.getCalculationInfo('stackedDimension');\n  //         }\n  //         else {\n  //             data = null;\n  //         }\n  //     } while (data);\n  //     return precision;\n  // }\n\n\n  function markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n    var coordArr = [];\n    var stacked = isDimensionStacked$5(data, targetDataDim\n    /*, otherDataDim*/\n    );\n    var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n    var value = numCalculate(data, calcDataDim, mlType);\n    var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n    coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n    coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n    var coordArrValue = data.get(targetDataDim, dataIndex); // Make it simple, do not visit all stacked value to count precision.\n\n    var precision = number.getPrecision(data.get(targetDataDim, dataIndex));\n    precision = Math.min(precision, 20);\n\n    if (precision >= 0) {\n      coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n    }\n\n    return [coordArr, coordArrValue];\n  }\n\n  var curry$4 = util.curry; // TODO Specified percent\n\n  var markerTypeCalculator = {\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    min: curry$4(markerTypeCalculatorWithExtent, 'min'),\n\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    max: curry$4(markerTypeCalculatorWithExtent, 'max'),\n\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    average: curry$4(markerTypeCalculatorWithExtent, 'average')\n  };\n  /**\n   * Transform markPoint data item to format used in List by do the following\n   * 1. Calculate statistic like `max`, `min`, `average`\n   * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/coord/*} [coordSys]\n   * @param  {Object} item\n   * @return {Object}\n   */\n\n  function dataTransform(seriesModel, item) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n    // 2. If `coord` is not a data array. Which uses `xAxis`,\n    // `yAxis` to specify the coord on each dimension\n    // parseFloat first because item.x and item.y can be percent string like '20%'\n\n    if (item && !hasXAndY(item) && !util.isArray(item.coord) && coordSys) {\n      var dims = coordSys.dimensions;\n      var axisInfo = getAxisInfo$1(item, data, coordSys, seriesModel); // Clone the option\n      // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n      item = util.clone(item);\n\n      if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n        var otherCoordIndex = indexOf$5(dims, axisInfo.baseAxis.dim);\n        var targetCoordIndex = indexOf$5(dims, axisInfo.valueAxis.dim);\n        var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n        item.coord = coordInfo[0]; // Force to use the value of calculated value.\n        // let item use the value without stack.\n\n        item.value = coordInfo[1];\n      } else {\n        // FIXME Only has one of xAxis and yAxis.\n        var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n        for (var i = 0; i < 2; i++) {\n          if (markerTypeCalculator[coord[i]]) {\n            coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n          }\n        }\n\n        item.coord = coord;\n      }\n    }\n\n    return item;\n  }\n\n  function getAxisInfo$1(item, data, coordSys, seriesModel) {\n    var ret = {};\n\n    if (item.valueIndex != null || item.valueDim != null) {\n      ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n      ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n      ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n      ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    } else {\n      ret.baseAxis = seriesModel.getBaseAxis();\n      ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n      ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n      ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n    }\n\n    return ret;\n  }\n\n  function dataDimToCoordDim(seriesModel, dataDim) {\n    var data = seriesModel.getData();\n    var dimensions = data.dimensions;\n    dataDim = data.getDimension(dataDim);\n\n    for (var i = 0; i < dimensions.length; i++) {\n      var dimItem = data.getDimensionInfo(dimensions[i]);\n\n      if (dimItem.name === dataDim) {\n        return dimItem.coordDim;\n      }\n    }\n  }\n  /**\n   * Filter data which is out of coordinateSystem range\n   * [dataFilter description]\n   * @param  {module:echarts/coord/*} [coordSys]\n   * @param  {Object} item\n   * @return {boolean}\n   */\n\n\n  function dataFilter$1(coordSys, item) {\n    // Alwalys return true if there is no coordSys\n    return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n  }\n\n  function dimValueGetter(item, dimName, dataIndex, dimIndex) {\n    // x, y, radius, angle\n    if (dimIndex < 2) {\n      return item.coord && item.coord[dimIndex];\n    }\n\n    return item.value;\n  }\n\n  function numCalculate(data, valueDataDim, type) {\n    if (type === 'average') {\n      var sum = 0;\n      var count = 0;\n      data.each(valueDataDim, function (val, idx) {\n        if (!isNaN(val)) {\n          sum += val;\n          count++;\n        }\n      });\n      return sum / count;\n    } else if (type === 'median') {\n      return data.getMedian(valueDataDim);\n    } else {\n      // max & min\n      return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n    }\n  }\n\n  var dataTransform_1 = dataTransform;\n  var getAxisInfo_1$1 = getAxisInfo$1;\n  var dataFilter_1 = dataFilter$1;\n  var dimValueGetter_1 = dimValueGetter;\n  var numCalculate_1 = numCalculate;\n\n  var markerHelper = {\n  \tdataTransform: dataTransform_1,\n  \tgetAxisInfo: getAxisInfo_1$1,\n  \tdataFilter: dataFilter_1,\n  \tdimValueGetter: dimValueGetter_1,\n  \tnumCalculate: numCalculate_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Line path for bezier and straight line draw\n   */\n  var straightLineProto = graphic.Line.prototype;\n  var bezierCurveProto = graphic.BezierCurve.prototype;\n\n  function isLine(shape) {\n    return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n  }\n\n  var _default$2e = graphic.extendShape({\n    type: 'ec-line',\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    shape: {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      percent: 1,\n      cpx1: null,\n      cpy1: null\n    },\n    buildPath: function (ctx, shape) {\n      this[isLine(shape) ? '_buildPathLine' : '_buildPathCurve'](ctx, shape);\n    },\n    _buildPathLine: straightLineProto.buildPath,\n    _buildPathCurve: bezierCurveProto.buildPath,\n    pointAt: function (t) {\n      return this[isLine(this.shape) ? '_pointAtLine' : '_pointAtCurve'](t);\n    },\n    _pointAtLine: straightLineProto.pointAt,\n    _pointAtCurve: bezierCurveProto.pointAt,\n    tangentAt: function (t) {\n      var shape = this.shape;\n      var p = isLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : this._tangentAtCurve(t);\n      return vector.normalize(p, p);\n    },\n    _tangentAtCurve: bezierCurveProto.tangentAt\n  });\n\n  var LinePath = _default$2e;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var round$4 = number.round;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/Line\n   */\n  var SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\n  function makeSymbolTypeKey(symbolCategory) {\n    return '_' + symbolCategory + 'Type';\n  }\n  /**\n   * @inner\n   */\n\n\n  function createSymbol$5(name, lineData, idx) {\n    var symbolType = lineData.getItemVisual(idx, name);\n\n    if (!symbolType || symbolType === 'none') {\n      return;\n    }\n\n    var color = lineData.getItemVisual(idx, 'color');\n    var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n    var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n\n    if (!util.isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n\n    var symbolPath = symbol.createSymbol(symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2, symbolSize[0], symbolSize[1], color); // rotate by default if symbolRotate is not specified or NaN\n\n    symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n    symbolPath.name = name;\n    return symbolPath;\n  }\n\n  function createLine(points) {\n    var line = new LinePath({\n      name: 'line',\n      subPixelOptimize: true\n    });\n    setLinePoints(line.shape, points);\n    return line;\n  }\n\n  function setLinePoints(targetShape, points) {\n    targetShape.x1 = points[0][0];\n    targetShape.y1 = points[0][1];\n    targetShape.x2 = points[1][0];\n    targetShape.y2 = points[1][1];\n    targetShape.percent = 1;\n    var cp1 = points[2];\n\n    if (cp1) {\n      targetShape.cpx1 = cp1[0];\n      targetShape.cpy1 = cp1[1];\n    } else {\n      targetShape.cpx1 = NaN;\n      targetShape.cpy1 = NaN;\n    }\n  }\n\n  function updateSymbolAndLabelBeforeLineUpdate() {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.childOfName('label'); // Quick reject\n\n    if (!symbolFrom && !symbolTo && label.ignore) {\n      return;\n    }\n\n    var invScale = 1;\n    var parentNode = this.parent;\n\n    while (parentNode) {\n      if (parentNode.scale) {\n        invScale /= parentNode.scale[0];\n      }\n\n      parentNode = parentNode.parent;\n    }\n\n    var line = lineGroup.childOfName('line'); // If line not changed\n    // FIXME Parent scale changed\n\n    if (!this.__dirty && !line.__dirty) {\n      return;\n    }\n\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n    var d = vector.sub([], toPos, fromPos);\n    vector.normalize(d, d);\n\n    if (symbolFrom) {\n      symbolFrom.attr('position', fromPos); // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n\n      var specifiedRotation = symbolFrom.__specifiedRotation;\n\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(0);\n        symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbolFrom.attr('rotation', specifiedRotation);\n      }\n\n      symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n    }\n\n    if (symbolTo) {\n      symbolTo.attr('position', toPos); // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n\n      var specifiedRotation = symbolTo.__specifiedRotation;\n\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(1);\n        symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbolTo.attr('rotation', specifiedRotation);\n      }\n\n      symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n    }\n\n    if (!label.ignore) {\n      label.attr('position', toPos);\n      var textPosition;\n      var textAlign;\n      var textVerticalAlign;\n      var textOrigin;\n      var distance = label.__labelDistance;\n      var distanceX = distance[0] * invScale;\n      var distanceY = distance[1] * invScale;\n      var halfPercent = percent / 2;\n      var tangent = line.tangentAt(halfPercent);\n      var n = [tangent[1], -tangent[0]];\n      var cp = line.pointAt(halfPercent);\n\n      if (n[1] > 0) {\n        n[0] = -n[0];\n        n[1] = -n[1];\n      }\n\n      var dir = tangent[0] < 0 ? -1 : 1;\n\n      if (label.__position !== 'start' && label.__position !== 'end') {\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n\n        label.attr('rotation', rotation);\n      }\n\n      var dy;\n\n      switch (label.__position) {\n        case 'insideStartTop':\n        case 'insideMiddleTop':\n        case 'insideEndTop':\n        case 'middle':\n          dy = -distanceY;\n          textVerticalAlign = 'bottom';\n          break;\n\n        case 'insideStartBottom':\n        case 'insideMiddleBottom':\n        case 'insideEndBottom':\n          dy = distanceY;\n          textVerticalAlign = 'top';\n          break;\n\n        default:\n          dy = 0;\n          textVerticalAlign = 'middle';\n      }\n\n      switch (label.__position) {\n        case 'end':\n          textPosition = [d[0] * distanceX + toPos[0], d[1] * distanceY + toPos[1]];\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n          break;\n\n        case 'start':\n          textPosition = [-d[0] * distanceX + fromPos[0], -d[1] * distanceY + fromPos[1]];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n          break;\n\n        case 'insideStartTop':\n        case 'insideStart':\n        case 'insideStartBottom':\n          textPosition = [distanceX * dir + fromPos[0], fromPos[1] + dy];\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\n          textOrigin = [-distanceX * dir, -dy];\n          break;\n\n        case 'insideMiddleTop':\n        case 'insideMiddle':\n        case 'insideMiddleBottom':\n        case 'middle':\n          textPosition = [cp[0], cp[1] + dy];\n          textAlign = 'center';\n          textOrigin = [0, -dy];\n          break;\n\n        case 'insideEndTop':\n        case 'insideEnd':\n        case 'insideEndBottom':\n          textPosition = [-distanceX * dir + toPos[0], toPos[1] + dy];\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\n          textOrigin = [distanceX * dir, -dy];\n          break;\n      }\n\n      label.attr({\n        style: {\n          // Use the user specified text align and baseline first\n          textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n          textAlign: label.__textAlign || textAlign\n        },\n        position: textPosition,\n        scale: [invScale, invScale],\n        origin: textOrigin\n      });\n    }\n  }\n  /**\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   * @alias {module:echarts/chart/helper/Line}\n   */\n\n\n  function Line$1(lineData, idx, seriesScope) {\n    graphic.Group.call(this);\n\n    this._createLine(lineData, idx, seriesScope);\n  }\n\n  var lineProto = Line$1.prototype; // Update symbol position and rotation\n\n  lineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\n  lineProto._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    graphic.initProps(line, {\n      shape: {\n        percent: 1\n      }\n    }, seriesModel, idx);\n    this.add(line);\n    var label = new graphic.Text({\n      name: 'label',\n      // FIXME\n      // Temporary solution for `focusNodeAdjacency`.\n      // line label do not use the opacity of lineStyle.\n      lineLabelOriginalOpacity: 1\n    });\n    this.add(label);\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = createSymbol$5(symbolCategory, lineData, idx); // symbols must added after line to make sure\n      // it will be updated after line#update.\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n      this.add(symbol);\n      this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  lineProto.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n      shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    graphic.updateProps(line, target, seriesModel, idx);\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbolType = lineData.getItemVisual(idx, symbolCategory);\n      var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n      if (this[key] !== symbolType) {\n        this.remove(this.childOfName(symbolCategory));\n        var symbol = createSymbol$5(symbolCategory, lineData, idx);\n        this.add(symbol);\n      }\n\n      this[key] = symbolType;\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  lineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var lineStyle = seriesScope && seriesScope.lineStyle;\n    var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel; // Optimization for large dataset\n\n    if (!seriesScope || lineData.hasItemOption) {\n      var itemModel = lineData.getItemModel(idx);\n      lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n      hoverLineStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n      labelModel = itemModel.getModel('label');\n      hoverLabelModel = itemModel.getModel('emphasis.label');\n    }\n\n    var visualColor = lineData.getItemVisual(idx, 'color');\n    var visualOpacity = util.retrieve3(lineData.getItemVisual(idx, 'opacity'), lineStyle.opacity, 1);\n    line.useStyle(util.defaults({\n      strokeNoScale: true,\n      fill: 'none',\n      stroke: visualColor,\n      opacity: visualOpacity\n    }, lineStyle));\n    line.hoverStyle = hoverLineStyle; // Update symbol\n\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = this.childOfName(symbolCategory);\n\n      if (symbol) {\n        symbol.setColor(visualColor);\n        symbol.setStyle({\n          opacity: visualOpacity\n        });\n      }\n    }, this);\n    var showLabel = labelModel.getShallow('show');\n    var hoverShowLabel = hoverLabelModel.getShallow('show');\n    var label = this.childOfName('label');\n    var defaultLabelColor;\n    var baseText; // FIXME: the logic below probably should be merged to `graphic.setLabelStyle`.\n\n    if (showLabel || hoverShowLabel) {\n      defaultLabelColor = visualColor || '#000';\n      baseText = seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType);\n\n      if (baseText == null) {\n        var rawVal = seriesModel.getRawValue(idx);\n        baseText = rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round$4(rawVal) : rawVal;\n      }\n    }\n\n    var normalText = showLabel ? baseText : null;\n    var emphasisText = hoverShowLabel ? util.retrieve2(seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType), baseText) : null;\n    var labelStyle = label.style; // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n\n    if (normalText != null || emphasisText != null) {\n      graphic.setTextStyle(label.style, labelModel, {\n        text: normalText\n      }, {\n        autoColor: defaultLabelColor\n      });\n      label.__textAlign = labelStyle.textAlign;\n      label.__verticalAlign = labelStyle.textVerticalAlign; // 'start', 'middle', 'end'\n\n      label.__position = labelModel.get('position') || 'middle';\n      var distance = labelModel.get('distance');\n\n      if (!util.isArray(distance)) {\n        distance = [distance, distance];\n      }\n\n      label.__labelDistance = distance;\n    }\n\n    if (emphasisText != null) {\n      // Only these properties supported in this emphasis style here.\n      label.hoverStyle = {\n        text: emphasisText,\n        textFill: hoverLabelModel.getTextColor(true),\n        // For merging hover style to normal style, do not use\n        // `hoverLabelModel.getFont()` here.\n        fontStyle: hoverLabelModel.getShallow('fontStyle'),\n        fontWeight: hoverLabelModel.getShallow('fontWeight'),\n        fontSize: hoverLabelModel.getShallow('fontSize'),\n        fontFamily: hoverLabelModel.getShallow('fontFamily')\n      };\n    } else {\n      label.hoverStyle = {\n        text: null\n      };\n    }\n\n    label.ignore = !showLabel && !hoverShowLabel;\n    graphic.setHoverStyle(this);\n  };\n\n  lineProto.highlight = function () {\n    this.trigger('emphasis');\n  };\n\n  lineProto.downplay = function () {\n    this.trigger('normal');\n  };\n\n  lineProto.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n  };\n\n  lineProto.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n  };\n\n  util.inherits(Line$1, graphic.Group);\n  var _default$2f = Line$1;\n  var Line_1$1 = _default$2f;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/LineDraw\n   */\n  // import IncrementalDisplayable from 'zrender/src/graphic/IncrementalDisplayable';\n\n  /**\n   * @alias module:echarts/component/marker/LineDraw\n   * @constructor\n   */\n  function LineDraw(ctor) {\n    this._ctor = ctor || Line_1$1;\n    this.group = new graphic.Group();\n  }\n\n  var lineDrawProto = LineDraw.prototype;\n\n  lineDrawProto.isPersistent = function () {\n    return true;\n  };\n  /**\n   * @param {module:echarts/data/List} lineData\n   */\n\n\n  lineDrawProto.updateData = function (lineData) {\n    var lineDraw = this;\n    var group = lineDraw.group;\n    var oldLineData = lineDraw._lineData;\n    lineDraw._lineData = lineData; // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!oldLineData) {\n      group.removeAll();\n    }\n\n    var seriesScope = makeSeriesScope$1(lineData);\n    lineData.diff(oldLineData).add(function (idx) {\n      doAdd(lineDraw, lineData, idx, seriesScope);\n    }).update(function (newIdx, oldIdx) {\n      doUpdate(lineDraw, oldLineData, lineData, oldIdx, newIdx, seriesScope);\n    }).remove(function (idx) {\n      group.remove(oldLineData.getItemGraphicEl(idx));\n    }).execute();\n  };\n\n  function doAdd(lineDraw, lineData, idx, seriesScope) {\n    var itemLayout = lineData.getItemLayout(idx);\n\n    if (!lineNeedsDraw(itemLayout)) {\n      return;\n    }\n\n    var el = new lineDraw._ctor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, el);\n    lineDraw.group.add(el);\n  }\n\n  function doUpdate(lineDraw, oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n      lineDraw.group.remove(itemEl);\n      return;\n    }\n\n    if (!itemEl) {\n      itemEl = new lineDraw._ctor(newLineData, newIdx, seriesScope);\n    } else {\n      itemEl.updateData(newLineData, newIdx, seriesScope);\n    }\n\n    newLineData.setItemGraphicEl(newIdx, itemEl);\n    lineDraw.group.add(itemEl);\n  }\n\n  lineDrawProto.updateLayout = function () {\n    var lineData = this._lineData; // Do not support update layout in incremental mode.\n\n    if (!lineData) {\n      return;\n    }\n\n    lineData.eachItemGraphicEl(function (el, idx) {\n      el.updateLayout(lineData, idx);\n    }, this);\n  };\n\n  lineDrawProto.incrementalPrepareUpdate = function (lineData) {\n    this._seriesScope = makeSeriesScope$1(lineData);\n    this._lineData = null;\n    this.group.removeAll();\n  };\n\n  function isEffectObject(el) {\n    return el.animators && el.animators.length > 0;\n  }\n\n  lineDrawProto.incrementalUpdate = function (taskParams, lineData) {\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup && !isEffectObject(el)) {\n        el.incremental = el.useHoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var itemLayout = lineData.getItemLayout(idx);\n\n      if (lineNeedsDraw(itemLayout)) {\n        var el = new this._ctor(lineData, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        this.group.add(el);\n        lineData.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  function makeSeriesScope$1(lineData) {\n    var hostModel = lineData.hostModel;\n    return {\n      lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n      hoverLineStyle: hostModel.getModel('emphasis.lineStyle').getLineStyle(),\n      labelModel: hostModel.getModel('label'),\n      hoverLabelModel: hostModel.getModel('emphasis.label')\n    };\n  }\n\n  lineDrawProto.remove = function () {\n    this._clearIncremental();\n\n    this._incremental = null;\n    this.group.removeAll();\n  };\n\n  lineDrawProto._clearIncremental = function () {\n    var incremental = this._incremental;\n\n    if (incremental) {\n      incremental.clearDisplaybles();\n    }\n  };\n\n  function isPointNaN(pt) {\n    return isNaN(pt[0]) || isNaN(pt[1]);\n  }\n\n  function lineNeedsDraw(pts) {\n    return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n  }\n\n  var _default$2g = LineDraw;\n  var LineDraw_1 = _default$2g;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2h = echarts.extendComponentView({\n    type: 'marker',\n    init: function () {\n      /**\n       * Markline grouped by series\n       * @private\n       * @type {module:zrender/core/util.HashMap}\n       */\n      this.markerGroupMap = util.createHashMap();\n    },\n    render: function (markerModel, ecModel, api) {\n      var markerGroupMap = this.markerGroupMap;\n      markerGroupMap.each(function (item) {\n        item.__keep = false;\n      });\n      var markerModelKey = this.type + 'Model';\n      ecModel.eachSeries(function (seriesModel) {\n        var markerModel = seriesModel[markerModelKey];\n        markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n      }, this);\n      markerGroupMap.each(function (item) {\n        !item.__keep && this.group.remove(item.group);\n      }, this);\n    },\n    renderSeries: function () {}\n  });\n\n  var MarkerView = _default$2h;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var getStackedDimension$3 = dataStackHelper.getStackedDimension;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n    var data = seriesModel.getData(); // Special type markLine like 'min', 'max', 'average', 'median'\n\n    var mlType = item.type;\n\n    if (!util.isArray(item) && (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median' // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null)) {\n      var valueAxis;\n      var value;\n\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = util.retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension$3(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex;\n      var mlFrom = util.clone(item);\n      var mlTo = {};\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlTo.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n\n      if (precision >= 0 && typeof value === 'number') {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      item = [mlFrom, mlTo, {\n        // Extra option for tooltip and label\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    }\n\n    item = [markerHelper.dataTransform(seriesModel, item[0]), markerHelper.dataTransform(seriesModel, item[1]), util.extend({}, item[2])]; // Avoid line data type is extended by from(to) data type\n\n    item[2].type = item[2].type || ''; // Merge from option and to option into line option\n\n    util.merge(item[2], item[0]);\n    util.merge(item[2], item[1]);\n    return item;\n  };\n\n  function isInifinity(val) {\n    return !isNaN(val) && !isFinite(val);\n  } // If a markLine has one dim\n\n\n  function ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    var dimName = coordSys.dimensions[dimIndex];\n    return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n  }\n\n  function markLineFilter(coordSys, item) {\n    if (coordSys.type === 'cartesian2d') {\n      var fromCoord = item[0].coord;\n      var toCoord = item[1].coord; // In case\n      // {\n      //  markLine: {\n      //    data: [{ yAxis: 2 }]\n      //  }\n      // }\n\n      if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n        return true;\n      }\n    }\n\n    return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n  }\n\n  function updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n    var point;\n    var xPx = number.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = number.parsePercent(itemModel.get('y'), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } else {\n      // Chart like bar may have there own marker positioning logic\n      if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n      } else {\n        var dims = coordSys.dimensions;\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n        point = coordSys.dataToPoint([x, y]);\n      } // Expand line to the edge of grid if value on one axis is Inifnity\n      // In case\n      //  markLine: {\n      //    data: [{\n      //      yAxis: 2\n      //      // or\n      //      type: 'average'\n      //    }]\n      //  }\n\n\n      if (coordSys.type === 'cartesian2d') {\n        var xAxis = coordSys.getAxis('x');\n        var yAxis = coordSys.getAxis('y');\n        var dims = coordSys.dimensions;\n\n        if (isInifinity(data.get(dims[0], idx))) {\n          point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n        } else if (isInifinity(data.get(dims[1], idx))) {\n          point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n        }\n      } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n    }\n\n    data.setItemLayout(idx, point);\n  }\n\n  var _default$2i = MarkerView.extend({\n    type: 'markLine',\n    // updateLayout: function (markLineModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var mlModel = seriesModel.markLineModel;\n    //         if (mlModel) {\n    //             var mlData = mlModel.getData();\n    //             var fromData = mlModel.__from;\n    //             var toData = mlModel.__to;\n    //             // Update visual and layout of from symbol and to symbol\n    //             fromData.each(function (idx) {\n    //                 updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n    //                 updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n    //             });\n    //             // Update layout of line\n    //             mlData.each(function (idx) {\n    //                 mlData.setItemLayout(idx, [\n    //                     fromData.getItemLayout(idx),\n    //                     toData.getItemLayout(idx)\n    //                 ]);\n    //             });\n    //             this.markerGroupMap.get(seriesModel.id).updateLayout();\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markLineModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var mlModel = seriesModel.markLineModel;\n\n        if (mlModel) {\n          var mlData = mlModel.getData();\n          var fromData = mlModel.__from;\n          var toData = mlModel.__to; // Update visual and layout of from symbol and to symbol\n\n          fromData.each(function (idx) {\n            updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n            updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n          }); // Update layout of line\n\n          mlData.each(function (idx) {\n            mlData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n          });\n          this.markerGroupMap.get(seriesModel.id).updateLayout();\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, mlModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var lineDrawMap = this.markerGroupMap;\n      var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw_1());\n      this.group.add(lineDraw.group);\n      var mlData = createList$1(coordSys, seriesModel, mlModel);\n      var fromData = mlData.from;\n      var toData = mlData.to;\n      var lineData = mlData.line;\n      mlModel.__from = fromData;\n      mlModel.__to = toData; // Line data for tooltip and formatter\n\n      mlModel.setData(lineData);\n      var symbolType = mlModel.get('symbol');\n      var symbolSize = mlModel.get('symbolSize');\n\n      if (!util.isArray(symbolType)) {\n        symbolType = [symbolType, symbolType];\n      }\n\n      if (typeof symbolSize === 'number') {\n        symbolSize = [symbolSize, symbolSize];\n      } // Update visual and layout of from symbol and to symbol\n\n\n      mlData.from.each(function (idx) {\n        updateDataVisualAndLayout(fromData, idx, true);\n        updateDataVisualAndLayout(toData, idx, false);\n      }); // Update visual and layout of line\n\n      lineData.each(function (idx) {\n        var lineColor = lineData.getItemModel(idx).get('lineStyle.color');\n        lineData.setItemVisual(idx, {\n          color: lineColor || fromData.getItemVisual(idx, 'color')\n        });\n        lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n        lineData.setItemVisual(idx, {\n          'fromSymbolRotate': fromData.getItemVisual(idx, 'symbolRotate'),\n          'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n          'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n          'toSymbolRotate': toData.getItemVisual(idx, 'symbolRotate'),\n          'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n          'toSymbol': toData.getItemVisual(idx, 'symbol')\n        });\n      });\n      lineDraw.updateData(lineData); // Set host model for tooltip\n      // FIXME\n\n      mlData.line.eachItemGraphicEl(function (el, idx) {\n        el.traverse(function (child) {\n          child.dataModel = mlModel;\n        });\n      });\n\n      function updateDataVisualAndLayout(data, idx, isFrom) {\n        var itemModel = data.getItemModel(idx);\n        updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n        data.setItemVisual(idx, {\n          symbolRotate: itemModel.get('symbolRotate'),\n          symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n          symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n          color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n        });\n      }\n\n      lineDraw.__keep = true;\n      lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} coordSys\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n\n  function createList$1(coordSys, seriesModel, mlModel) {\n    var coordDimsInfos;\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n    }\n\n    var fromData = new List_1(coordDimsInfos, mlModel);\n    var toData = new List_1(coordDimsInfos, mlModel); // No dimensions\n\n    var lineData = new List_1([], mlModel);\n    var optData = util.map(mlModel.get('data'), util.curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n    if (coordSys) {\n      optData = util.filter(optData, util.curry(markLineFilter, coordSys));\n    }\n\n    var dimValueGetter = coordSys ? markerHelper.dimValueGetter : function (item) {\n      return item.value;\n    };\n    fromData.initData(util.map(optData, function (item) {\n      return item[0];\n    }), null, dimValueGetter);\n    toData.initData(util.map(optData, function (item) {\n      return item[1];\n    }), null, dimValueGetter);\n    lineData.initData(util.map(optData, function (item) {\n      return item[2];\n    }));\n    lineData.hasItemOption = true;\n    return {\n      from: fromData,\n      to: toData,\n      line: lineData\n    };\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markLine component is enabled\n    opt.markLine = opt.markLine || {};\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2j = MarkerModel_1.extend({\n    type: 'markPoint',\n    defaultOption: {\n      zlevel: 0,\n      z: 5,\n      symbol: 'pin',\n      symbolSize: 50,\n      //symbolRotate: 0,\n      //symbolOffset: [0, 0]\n      tooltip: {\n        trigger: 'item'\n      },\n      label: {\n        show: true,\n        position: 'inside'\n      },\n      itemStyle: {\n        borderWidth: 2\n      },\n      emphasis: {\n        label: {\n          show: true\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function updateMarkerLayout(mpData, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var point;\n      var xPx = number.parsePercent(itemModel.get('x'), api.getWidth());\n      var yPx = number.parsePercent(itemModel.get('y'), api.getHeight());\n\n      if (!isNaN(xPx) && !isNaN(yPx)) {\n        point = [xPx, yPx];\n      } // Chart like bar may have there own marker positioning logic\n      else if (seriesModel.getMarkerPosition) {\n          // Use the getMarkerPoisition\n          point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n        } else if (coordSys) {\n          var x = mpData.get(coordSys.dimensions[0], idx);\n          var y = mpData.get(coordSys.dimensions[1], idx);\n          point = coordSys.dataToPoint([x, y]);\n        } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n\n      mpData.setItemLayout(idx, point);\n    });\n  }\n\n  var _default$2k = MarkerView.extend({\n    type: 'markPoint',\n    // updateLayout: function (markPointModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var mpModel = seriesModel.markPointModel;\n    //         if (mpModel) {\n    //             updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    //             this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markPointModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var mpModel = seriesModel.markPointModel;\n\n        if (mpModel) {\n          updateMarkerLayout(mpModel.getData(), seriesModel, api);\n          this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, mpModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var symbolDrawMap = this.markerGroupMap;\n      var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw_1());\n      var mpData = createList$2(coordSys, seriesModel, mpModel); // FIXME\n\n      mpModel.setData(mpData);\n      updateMarkerLayout(mpModel.getData(), seriesModel, api);\n      mpData.each(function (idx) {\n        var itemModel = mpData.getItemModel(idx);\n        var symbol = itemModel.getShallow('symbol');\n        var symbolSize = itemModel.getShallow('symbolSize');\n        var symbolRotate = itemModel.getShallow('symbolRotate');\n        var isFnSymbol = util.isFunction(symbol);\n        var isFnSymbolSize = util.isFunction(symbolSize);\n        var isFnSymbolRotate = util.isFunction(symbolRotate);\n\n        if (isFnSymbol || isFnSymbolSize || isFnSymbolRotate) {\n          var rawIdx = mpModel.getRawValue(idx);\n          var dataParams = mpModel.getDataParams(idx);\n\n          if (isFnSymbol) {\n            symbol = symbol(rawIdx, dataParams);\n          }\n\n          if (isFnSymbolSize) {\n            // FIXME  ECharts 2.x2.x \n            symbolSize = symbolSize(rawIdx, dataParams);\n          }\n\n          if (isFnSymbolRotate) {\n            symbolRotate = symbolRotate(rawIdx, dataParams);\n          }\n        }\n\n        mpData.setItemVisual(idx, {\n          symbol: symbol,\n          symbolSize: symbolSize,\n          symbolRotate: symbolRotate,\n          color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n        });\n      }); // TODO Text are wrong\n\n      symbolDraw.updateData(mpData);\n      this.group.add(symbolDraw.group); // Set host model for tooltip\n      // FIXME\n\n      mpData.eachItemGraphicEl(function (el) {\n        el.traverse(function (child) {\n          child.dataModel = mpModel;\n        });\n      });\n      symbolDraw.__keep = true;\n      symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} [coordSys]\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n\n  function createList$2(coordSys, seriesModel, mpModel) {\n    var coordDimsInfos;\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n    }\n\n    var mpData = new List_1(coordDimsInfos, mpModel);\n    var dataOpt = util.map(mpModel.get('data'), util.curry(markerHelper.dataTransform, seriesModel));\n\n    if (coordSys) {\n      dataOpt = util.filter(dataOpt, util.curry(markerHelper.dataFilter, coordSys));\n    }\n\n    mpData.initData(dataOpt, null, coordSys ? markerHelper.dimValueGetter : function (item) {\n      return item.value;\n    });\n    return mpData;\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // HINT Markpoint can't be used too much\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markPoint component is enabled\n    opt.markPoint = opt.markPoint || {};\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2l = MarkerModel_1.extend({\n    type: 'markArea',\n    defaultOption: {\n      zlevel: 0,\n      // PENDING\n      z: 1,\n      tooltip: {\n        trigger: 'item'\n      },\n      // markArea should fixed on the coordinate system\n      animation: false,\n      label: {\n        show: true,\n        position: 'top'\n      },\n      itemStyle: {\n        // color and borderColor default to use color from series\n        // color: 'auto'\n        // borderColor: 'auto'\n        borderWidth: 0\n      },\n      emphasis: {\n        label: {\n          show: true,\n          position: 'top'\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO Better on polar\n  var markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n    var lt = markerHelper.dataTransform(seriesModel, item[0]);\n    var rb = markerHelper.dataTransform(seriesModel, item[1]);\n    var retrieve = util.retrieve; // FIXME make sure lt is less than rb\n\n    var ltCoord = lt.coord;\n    var rbCoord = rb.coord;\n    ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n    ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n    rbCoord[0] = retrieve(rbCoord[0], Infinity);\n    rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n    var result = util.mergeAll([{}, lt, rb]);\n    result.coord = [lt.coord, rb.coord];\n    result.x0 = lt.x;\n    result.y0 = lt.y;\n    result.x1 = rb.x;\n    result.y1 = rb.y;\n    return result;\n  };\n\n  function isInifinity$1(val) {\n    return !isNaN(val) && !isFinite(val);\n  } // If a markArea has one dim\n\n\n  function ifMarkLineHasOnlyDim$1(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    return isInifinity$1(fromCoord[otherDimIndex]) && isInifinity$1(toCoord[otherDimIndex]);\n  }\n\n  function markAreaFilter(coordSys, item) {\n    var fromCoord = item.coord[0];\n    var toCoord = item.coord[1];\n\n    if (coordSys.type === 'cartesian2d') {\n      // In case\n      // {\n      //  markArea: {\n      //    data: [{ yAxis: 2 }]\n      //  }\n      // }\n      if (fromCoord && toCoord && (ifMarkLineHasOnlyDim$1(1, fromCoord, toCoord) || ifMarkLineHasOnlyDim$1(0, fromCoord, toCoord))) {\n        return true;\n      }\n    }\n\n    return markerHelper.dataFilter(coordSys, {\n      coord: fromCoord,\n      x: item.x0,\n      y: item.y0\n    }) || markerHelper.dataFilter(coordSys, {\n      coord: toCoord,\n      x: item.x1,\n      y: item.y1\n    });\n  } // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\n\n  function getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n    var point;\n    var xPx = number.parsePercent(itemModel.get(dims[0]), api.getWidth());\n    var yPx = number.parsePercent(itemModel.get(dims[1]), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } else {\n      // Chart like bar may have there own marker positioning logic\n      if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(data.getValues(dims, idx));\n      } else {\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n        var pt = [x, y];\n        coordSys.clampData && coordSys.clampData(pt, pt);\n        point = coordSys.dataToPoint(pt, true);\n      }\n\n      if (coordSys.type === 'cartesian2d') {\n        var xAxis = coordSys.getAxis('x');\n        var yAxis = coordSys.getAxis('y');\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n\n        if (isInifinity$1(x)) {\n          point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n        } else if (isInifinity$1(y)) {\n          point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n        }\n      } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n    }\n\n    return point;\n  }\n\n  var dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\n  MarkerView.extend({\n    type: 'markArea',\n    // updateLayout: function (markAreaModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var maModel = seriesModel.markAreaModel;\n    //         if (maModel) {\n    //             var areaData = maModel.getData();\n    //             areaData.each(function (idx) {\n    //                 var points = zrUtil.map(dimPermutations, function (dim) {\n    //                     return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n    //                 });\n    //                 // Layout\n    //                 areaData.setItemLayout(idx, points);\n    //                 var el = areaData.getItemGraphicEl(idx);\n    //                 el.setShape('points', points);\n    //             });\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markAreaModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var maModel = seriesModel.markAreaModel;\n\n        if (maModel) {\n          var areaData = maModel.getData();\n          areaData.each(function (idx) {\n            var points = util.map(dimPermutations, function (dim) {\n              return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n            }); // Layout\n\n            areaData.setItemLayout(idx, points);\n            var el = areaData.getItemGraphicEl(idx);\n            el.setShape('points', points);\n          });\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, maModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var areaGroupMap = this.markerGroupMap;\n      var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n        group: new graphic.Group()\n      });\n      this.group.add(polygonGroup.group);\n      polygonGroup.__keep = true;\n      var areaData = createList$3(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n      maModel.setData(areaData); // Update visual and layout of line\n\n      areaData.each(function (idx) {\n        // Layout\n        var points = util.map(dimPermutations, function (dim) {\n          return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n        }); // If none of the area is inside coordSys, allClipped is set to be true\n        // in layout so that label will not be displayed. See #12591\n\n        var allClipped = true;\n        util.each(dimPermutations, function (dim) {\n          if (!allClipped) {\n            return;\n          }\n\n          var xValue = areaData.get(dim[0], idx);\n          var yValue = areaData.get(dim[1], idx); // If is infinity, the axis should be considered not clipped\n\n          if ((isInifinity$1(xValue) || coordSys.getAxis('x').containData(xValue)) && (isInifinity$1(yValue) || coordSys.getAxis('y').containData(yValue))) {\n            allClipped = false;\n          }\n        });\n        areaData.setItemLayout(idx, {\n          points: points,\n          allClipped: allClipped\n        }); // Visual\n\n        areaData.setItemVisual(idx, {\n          color: seriesData.getVisual('color')\n        });\n      });\n      areaData.diff(polygonGroup.__data).add(function (idx) {\n        var layout = areaData.getItemLayout(idx);\n\n        if (!layout.allClipped) {\n          var polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n          areaData.setItemGraphicEl(idx, polygon);\n          polygonGroup.group.add(polygon);\n        }\n      }).update(function (newIdx, oldIdx) {\n        var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n\n        var layout = areaData.getItemLayout(newIdx);\n\n        if (!layout.allClipped) {\n          if (polygon) {\n            graphic.updateProps(polygon, {\n              shape: {\n                points: layout.points\n              }\n            }, maModel, newIdx);\n          } else {\n            polygon = new graphic.Polygon({\n              shape: {\n                points: layout.points\n              }\n            });\n          }\n\n          areaData.setItemGraphicEl(newIdx, polygon);\n          polygonGroup.group.add(polygon);\n        } else if (polygon) {\n          polygonGroup.group.remove(polygon);\n        }\n      }).remove(function (idx) {\n        var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n\n        polygonGroup.group.remove(polygon);\n      }).execute();\n      areaData.eachItemGraphicEl(function (polygon, idx) {\n        var itemModel = areaData.getItemModel(idx);\n        var labelModel = itemModel.getModel('label');\n        var labelHoverModel = itemModel.getModel('emphasis.label');\n        var color$1 = areaData.getItemVisual(idx, 'color');\n        polygon.useStyle(util.defaults(itemModel.getModel('itemStyle').getItemStyle(), {\n          fill: color.modifyAlpha(color$1, 0.4),\n          stroke: color$1\n        }));\n        polygon.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n        graphic.setLabelStyle(polygon.style, polygon.hoverStyle, labelModel, labelHoverModel, {\n          labelFetcher: maModel,\n          labelDataIndex: idx,\n          defaultText: areaData.getName(idx) || '',\n          isRectText: true,\n          autoColor: color$1\n        });\n        graphic.setHoverStyle(polygon, {});\n        polygon.dataModel = maModel;\n      });\n      polygonGroup.__data = areaData;\n      polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} coordSys\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n  function createList$3(coordSys, seriesModel, maModel) {\n    var coordDimsInfos;\n    var areaData;\n    var dims = ['x0', 'y0', 'x1', 'y1'];\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var data = seriesModel.getData();\n        var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n      areaData = new List_1(util.map(dims, function (dim, idx) {\n        return {\n          name: dim,\n          type: coordDimsInfos[idx % 2].type\n        };\n      }), maModel);\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n      areaData = new List_1(coordDimsInfos, maModel);\n    }\n\n    var optData = util.map(maModel.get('data'), util.curry(markAreaTransform, seriesModel, coordSys, maModel));\n\n    if (coordSys) {\n      optData = util.filter(optData, util.curry(markAreaFilter, coordSys));\n    }\n\n    var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n      return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    } : function (item) {\n      return item.value;\n    };\n    areaData.initData(optData, null, dimValueGetter);\n    areaData.hasItemOption = true;\n    return areaData;\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markArea component is enabled\n    opt.markArea = opt.markArea || {};\n  });\n\n  var HAS_SPECIES_SUPPORT$3 = arrayMethodHasSpeciesSupport('slice');\n  var USES_TO_LENGTH$6 = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var SPECIES$5 = wellKnownSymbol('species');\n  var nativeSlice$1 = [].slice;\n  var max$4 = Math.max;\n\n  // `Array.prototype.slice` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$3 || !USES_TO_LENGTH$6 }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n      var Constructor, result, n;\n      if (isArray(O)) {\n        Constructor = O.constructor;\n        // cross-realm fallback\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$5];\n          if (Constructor === null) Constructor = undefined;\n        }\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice$1.call(O, k, fin);\n        }\n      }\n      result = new (Constructor === undefined ? Array : Constructor)(max$4(fin - k, 0));\n      for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n      result.length = n;\n      return result;\n    }\n  });\n\n  var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n\n  // `Object.{ entries, values }` methods implementation\n  var createMethod$3 = function (TO_ENTRIES) {\n    return function (it) {\n      var O = toIndexedObject(it);\n      var keys = objectKeys(O);\n      var length = keys.length;\n      var i = 0;\n      var result = [];\n      var key;\n      while (length > i) {\n        key = keys[i++];\n        if (!descriptors || propertyIsEnumerable.call(O, key)) {\n          result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n        }\n      }\n      return result;\n    };\n  };\n\n  var objectToArray = {\n    // `Object.entries` method\n    // https://tc39.github.io/ecma262/#sec-object.entries\n    entries: createMethod$3(true),\n    // `Object.values` method\n    // https://tc39.github.io/ecma262/#sec-object.values\n    values: createMethod$3(false)\n  };\n\n  var $values = objectToArray.values;\n\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  _export({ target: 'Object', stat: true }, {\n    values: function values(O) {\n      return $values(O);\n    }\n  });\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  var arrayWithHoles = _arrayWithHoles;\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  var iterableToArrayLimit = _iterableToArrayLimit;\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var nonIterableRest = _nonIterableRest;\n\n  function _slicedToArray(arr, i) {\n    return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n  }\n\n  var slicedToArray = _slicedToArray;\n\n  var _typeof_1 = createCommonjsModule(function (module) {\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      module.exports = _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      module.exports = _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  module.exports = _typeof;\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var classCallCheck = _classCallCheck;\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  var createClass = _createClass;\n\n  /**\r\n   *\r\n   declare module ExcelRows {\r\n    export interface cell {\r\n        text: string;\r\n    }\r\n    export interface Cells {\r\n      0: cell;\r\n      1: cell;\r\n      2: cell;\r\n    }\r\n    export interface ExcelRows {\r\n      cells: Cells;\r\n    }\r\n  }\r\n   */\n\n  /**\r\n    *\r\n    BinaryMatrix = [\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n    ]\r\n\r\n    ExcelDataType = [\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n    ]\r\n    */\n  var Parser = /*#__PURE__*/function () {\n    function Parser() {\n      classCallCheck(this, Parser);\n    }\n\n    createClass(Parser, null, [{\n      key: \"dataset2excel\",\n\n      /**\r\n       *\r\n       * @param {*} dataset ExcelDataType\r\n       */\n      value: function dataset2excel(dataset) {\n        return dataset.map(function (item) {\n          return {\n            cells: {\n              0: {\n                text: item.x\n              },\n              1: {\n                text: item.y\n              },\n              2: {\n                text: item.s\n              }\n            }\n          };\n        });\n      }\n      /**\r\n       *\r\n        [\r\n          [1,2,3,4],\r\n          [5,6,7,8],\r\n          [9,10,11,12]\r\n        ]\r\n       * @param {Object} BinaryMatrix\r\n       * @returns {Object} ExcelDataType\r\n       */\n\n    }, {\n      key: \"binaryMatrix2excel\",\n      value: function binaryMatrix2excel() {\n        var binaryMatrix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var excelData = binaryMatrix.map(function (row, rowIndex) {\n          // cells: {\n          //   0: { text: item.x },\n          //   1: { text: item.y },\n          //   2: { text: item.s }\n          // }\n          var cells = {};\n          row.forEach(function (cellValue, cellIndex) {\n            cells[cellIndex] = {\n              text: cellValue\n            };\n          });\n          return {\n            cells: cells\n          };\n        });\n        return excelData;\n      }\n    }, {\n      key: \"excel2chartDataSet\",\n      value: function excel2chartDataSet(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          var _Object$values$map = Object.values(row.cells).map(function (item) {\n            return item.text;\n          }),\n              _Object$values$map2 = slicedToArray(_Object$values$map, 3),\n              x = _Object$values$map2[0],\n              y = _Object$values$map2[1],\n              s = _Object$values$map2[2];\n\n          return {\n            x: x,\n            y: y,\n            s: s\n          };\n        });\n        return dataset;\n      }\n    }, {\n      key: \"excel2BinaryMatrix\",\n      value: function excel2BinaryMatrix(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          // [1,2,3,4]\n          var cells = Object.values(row.cells).map(function (item) {\n            return item.text;\n          });\n          return cells;\n        });\n        console.log('dataset', dataset);\n        return dataset;\n      }\n      /**\r\n      *\r\n      * @param {Array} csvArray\r\n      *    [\r\n             ['', ''],\r\n             [\"11\",123],\r\n             [\"12\",1223],\r\n             [\"13\",2123],\r\n             [\"14\",4123],\r\n             [\"15\",3123],\r\n             [\"16\",7123]\r\n           ]\r\n      * @returns {Object}\r\n         {\r\n           columns: ['', ''],\r\n           rows:[\r\n             { '': '11', '': 123 },\r\n             { '': '12', '': 1223 },\r\n             { '': '13', '': 2123 },\r\n             { '': '14', '': 4123 },\r\n             { '': '15', '': 3123 },\r\n             { '': '16', '': 7123 }\r\n           ]\r\n         }\r\n      */\n\n    }, {\n      key: \"csv2VChartJson\",\n      value: function csv2VChartJson(csvArray) {\n        var columns = csvArray[0];\n        var rows = csvArray.slice(1);\n        var json = {\n          columns: columns,\n          rows: rows.map(function (row, index) {\n            var obj = {};\n            columns.forEach(function (col, colIndex) {\n              obj[col.trim()] = row[colIndex];\n            });\n            return obj;\n          })\n        };\n        return json;\n      }\n    }]);\n\n    return Parser;\n  }();\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-17 16:44:01\r\n   * @Description :\r\n   */\n\n  var LbpLineChart = {\n    name: 'lbp-line-chart',\n    // mixins: [ChartMixin],\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['', ''], ['11', 123], ['12', 1223], ['13', 2123], ['14', 4123], ['15', 3123], ['16', 7123]];\n        }\n      }),\n      type: PropTypes.string({\n        label: '',\n        defaultValue: 'line',\n        visible: false\n      }),\n      colors: PropTypes.colors({\n        label: '',\n        defaultValue: function defaultValue() {\n          return [// https://github.com/ElemeFE/v-charts/blob/01ebb541a5d905047dd52957ae0898d529342235/src/constants.js#L20\n          '#19d4ae', '#5ab1ef', '#fa6e86', '#ffb980', '#0067a6', '#c4b4e4', '#d87a80', '#9cbbff', '#d9d0c7', '#87a997', '#d49ea2', '#5b4947', '#7ba3a8'];\n        }\n      })\n    },\n    data: function data() {\n      return {\n        option: {}\n      };\n    },\n    render: function render() {\n      var h = arguments[0];\n      var chartData = Parser.csv2VChartJson(this.dataset);\n\n      switch (this.type) {\n        case 'line':\n          return h(line_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'histogram':\n          return h(histogram_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'pie':\n          return h(pie_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'funnel':\n          return h(funnel_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'radar':\n          return h(radar_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        default:\n          return null;\n      }\n    },\n    mounted: function mounted() {// this.renderChart()\n    }\n  };\n\n  // `Array.prototype.{ reduce, reduceRight }` methods implementation\n  var createMethod$4 = function (IS_RIGHT) {\n    return function (that, callbackfn, argumentsLength, memo) {\n      aFunction$1(callbackfn);\n      var O = toObject(that);\n      var self = indexedObject(O);\n      var length = toLength(O.length);\n      var index = IS_RIGHT ? length - 1 : 0;\n      var i = IS_RIGHT ? -1 : 1;\n      if (argumentsLength < 2) while (true) {\n        if (index in self) {\n          memo = self[index];\n          index += i;\n          break;\n        }\n        index += i;\n        if (IS_RIGHT ? index < 0 : length <= index) {\n          throw TypeError('Reduce of empty array with no initial value');\n        }\n      }\n      for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n        memo = callbackfn(memo, self[index], index, O);\n      }\n      return memo;\n    };\n  };\n\n  var arrayReduce = {\n    // `Array.prototype.reduce` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n    left: createMethod$4(false),\n    // `Array.prototype.reduceRight` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n    right: createMethod$4(true)\n  };\n\n  var $reduce = arrayReduce.left;\n\n\n\n  var STRICT_METHOD$3 = arrayMethodIsStrict('reduce');\n  var USES_TO_LENGTH$7 = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  _export({ target: 'Array', proto: true, forced: !STRICT_METHOD$3 || !USES_TO_LENGTH$7 }, {\n    reduce: function reduce(callbackfn /* , initialValue */) {\n      return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  function sum() {\n    var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var key = arguments.length > 1 ? arguments[1] : undefined;\n    return arr.map(function (item) {\n      return item[key];\n    }).reduce(function (a, b) {\n      return a + b;\n    }, 0);\n  }\n\n  var LbpTable = {\n    name: 'lbp-table',\n    data: function data() {\n      return {\n        mainTableWrapperEle: null,\n        mainTableEle: null,\n        fixedTableWrapperEle: null,\n        fixedTableEle: null\n      };\n    },\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      theme: PropTypes.string({\n        defaultValue: '',\n        label: '',\n        visible: false\n      }),\n      columnWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 100\n      }),\n      freezeCount: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['A', 'B', 'C'], ['', '', ''], ['', '', ''], ['', '', '']];\n        }\n      })\n    },\n    watch: {\n      freezeCount: function freezeCount() {\n        var _this = this;\n\n        setTimeout(function () {\n          _this.setFixedTableStyle();\n        }, 100);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n\n      var renderCell = function renderCell(cell) {\n        return h(\"td\", [h(\"div\", {\n          \"class\": \"cell\"\n        }, [cell])]);\n      };\n\n      var renderTable = function renderTable() {\n        var tableData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var tableClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        var tableStyle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var headers = tableData.length ? tableData[0] : [];\n        var columnsCount = headers.length;\n        return h(\"table\", {\n          \"class\": tableClass,\n          \"style\": tableStyle\n        }, [h(\"colgroup\", [toConsumableArray(Array(columnsCount)).map(function (item, i) {\n          return h(\"col\", {\n            \"style\": {\n              width: _this2.columnWidth + 'px'\n            }\n          });\n        })]), h(\"tbody\", [tableData.map(function (row) {\n          return h(\"tr\", [row.map(renderCell)]);\n        })])]);\n      };\n\n      return h(\"div\", {\n        \"class\": ['lbp-table', this.theme],\n        \"ref\": \"lbpTable\"\n      }, [h(\"div\", {\n        \"class\": \"main-table-wrapper\"\n      }, [renderTable(this.dataset)]), h(\"div\", {\n        \"class\": \"fixed-table-wrapper\",\n        \"directives\": [{\n          name: \"show\",\n          value: \"freezeCount\"\n        }]\n      }, [renderTable(this.dataset, 'left-table')])]);\n    },\n    methods: {\n      getFixedColsWidth: function getFixedColsWidth() {\n        var tableHeaders = [].slice.apply(this.mainTableEle.querySelectorAll('tr:first-child > td'));\n        var freezeColsWidth = sum(tableHeaders.slice(0, +this.freezeCount), 'offsetWidth');\n        return freezeColsWidth;\n      },\n      setFixedTableStyle: function setFixedTableStyle() {\n        this.fixedTableWrapperEle.style.width = \"\".concat(this.getFixedColsWidth(), \"px\");\n        this.fixedTableWrapperEle.style.height = \"calc(100% - \".concat(this.mainTableWrapperEle.offsetHeight - this.mainTableWrapperEle.scrollHeight, \"px)\");\n      },\n      setTableWidth: function setTableWidth() {\n        var parentWidth = this.$el.parentNode.style.width;\n        this.fixedTableEle.style.width = this.mainTableEle.style.width = parentWidth;\n      },\n      initElements: function initElements() {\n        var root = this.$el;\n        this.mainTableWrapperEle = root.querySelector('.main-table-wrapper');\n        this.mainTableEle = root.querySelector('.main-table-wrapper > table');\n        this.fixedTableWrapperEle = root.querySelector('.fixed-table-wrapper');\n        this.fixedTableEle = root.querySelector('.left-table');\n      },\n      __resizeHandler: function __resizeHandler() {\n        this.setTableWidth();\n\n        if (this.freezeCount) {\n          this.setFixedTableStyle();\n        }\n      }\n    },\n    mounted: function mounted() {\n      this.initElements();\n      this.setTableWidth();\n      this.setFixedTableStyle();\n      resizeDetector.addListener(this.$refs.lbpTable, this.__resizeHandler);\n    },\n    destroy: function destroy() {\n      resizeDetector.removeListener(this.$el, this.__resizeHandler);\n    }\n  };\n\n  /**\r\n   *\r\n   declare module ExcelRows {\r\n    export interface cell {\r\n        text: string;\r\n    }\r\n    export interface Cells {\r\n      0: cell;\r\n      1: cell;\r\n      2: cell;\r\n    }\r\n    export interface ExcelRows {\r\n      cells: Cells;\r\n    }\r\n  }\r\n   */\n\n  /**\r\n    *\r\n    BinaryMatrix = [\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n    ]\r\n\r\n    ExcelDataType = [\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n    ]\r\n    */\n  var Parser$1 = /*#__PURE__*/function () {\n    function Parser() {\n      classCallCheck(this, Parser);\n    }\n\n    createClass(Parser, null, [{\n      key: \"dataset2excel\",\n\n      /**\r\n       *\r\n       * @param {*} dataset ExcelDataType\r\n       */\n      value: function dataset2excel(dataset) {\n        return dataset.map(function (item) {\n          return {\n            cells: {\n              0: {\n                text: item.x\n              },\n              1: {\n                text: item.y\n              },\n              2: {\n                text: item.s\n              }\n            }\n          };\n        });\n      }\n      /**\r\n       *\r\n        [\r\n          [1,2,3,4],\r\n          [5,6,7,8],\r\n          [9,10,11,12]\r\n        ]\r\n       * @param {Object} BinaryMatrix\r\n       * @returns {Object} ExcelDataType\r\n       */\n\n    }, {\n      key: \"binaryMatrix2excel\",\n      value: function binaryMatrix2excel() {\n        var binaryMatrix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var excelData = binaryMatrix.map(function (row, rowIndex) {\n          // cells: {\n          //   0: { text: item.x },\n          //   1: { text: item.y },\n          //   2: { text: item.s }\n          // }\n          var cells = {};\n          row.forEach(function (cellValue, cellIndex) {\n            cells[cellIndex] = {\n              text: cellValue\n            };\n          });\n          return {\n            cells: cells\n          };\n        });\n        return excelData;\n      }\n    }, {\n      key: \"excel2chartDataSet\",\n      value: function excel2chartDataSet(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          var _Object$values$map = Object.values(row.cells).map(function (item) {\n            return item.text;\n          }),\n              _Object$values$map2 = slicedToArray(_Object$values$map, 3),\n              x = _Object$values$map2[0],\n              y = _Object$values$map2[1],\n              s = _Object$values$map2[2];\n\n          return {\n            x: x,\n            y: y,\n            s: s\n          };\n        });\n        return dataset;\n      }\n    }, {\n      key: \"excel2BinaryMatrix\",\n      value: function excel2BinaryMatrix(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          // [1,2,3,4]\n          var cells = Object.values(row.cells).map(function (item) {\n            return item.text;\n          });\n          return cells;\n        });\n        console.log('dataset', dataset);\n        return dataset;\n      }\n      /**\r\n      *\r\n      * @param {Array} csvArray\r\n      *    [\r\n             ['', ''],\r\n             [\"11\",123],\r\n             [\"12\",1223],\r\n             [\"13\",2123],\r\n             [\"14\",4123],\r\n             [\"15\",3123],\r\n             [\"16\",7123]\r\n           ]\r\n      * @returns {Object}\r\n         {\r\n           columns: ['', ''],\r\n           rows:[\r\n             { '': '11', '': 123 },\r\n             { '': '12', '': 1223 },\r\n             { '': '13', '': 2123 },\r\n             { '': '14', '': 4123 },\r\n             { '': '15', '': 3123 },\r\n             { '': '16', '': 7123 }\r\n           ]\r\n         }\r\n      */\n\n    }, {\n      key: \"csv2VChartJson\",\n      value: function csv2VChartJson(csvArray) {\n        var columns = csvArray[0];\n        var rows = csvArray.slice(1);\n        var json = {\n          columns: columns,\n          rows: rows.map(function (row, index) {\n            var obj = {};\n            columns.forEach(function (col, colIndex) {\n              obj[col.trim()] = row[colIndex];\n            });\n            return obj;\n          })\n        };\n        return json;\n      }\n    }]);\n\n    return Parser;\n  }();\n\n  var LbpNewsList = {\n    name: 'lbp-news-list',\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['', '', '', '', ''], ['1 . H5 ', 'H5-H5', 'https://luban-h5.com/', '2020-01-01', 'H5'], ['2 . H5-', 'en: web design tool || mobile page builder/editor || mini webflow for mobile page. zh: H5.', 'https://github.com/ly525/luban-h5', '2020-01-01', 'H5(github)']];\n        }\n      })\n    },\n    data: function data() {\n      return {\n        option: {}\n      };\n    },\n    render: function render() {\n      var h = arguments[0];\n\n      /**\r\n       * rows[0] {\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n        }\r\n       */\n      var _Parser$csv2VChartJso = Parser$1.csv2VChartJson(this.dataset),\n          rows = _Parser$csv2VChartJso.rows;\n\n      return h(\"div\", {\n        \"class\": \"newslist\",\n        \"style\": \"border-color: transparent;\"\n      }, [rows.map(function (item, i) {\n        return h(\"div\", {\n          \"class\": \"news-item\"\n        }, [h(\"a\", {\n          \"attrs\": {\n            \"href\": item[''],\n            \"target\": \"_blank\"\n          },\n          \"class\": \"link\"\n        }, [h(\"div\", {\n          \"class\": \"title\"\n        }, [item['']])]), h(\"div\", {\n          \"class\": \"content\"\n        }, [item['']]), h(\"div\", {\n          \"class\": \"source\"\n        }, [item['']]), h(\"div\", {\n          \"class\": \"time\"\n        }, [item['']])]);\n      })]);\n    },\n    mounted: function mounted() {// this.renderChart()\n    }\n  };\n\n  var _plugins = [{\n    i18nTitle: {\n      'en-US': 'RadarChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'line-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'radar'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'line-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'line'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'bar-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'histogram'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'pie-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'pie'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'filter',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'funnel'\n    }\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Notice-Bar',\n      'zh-CN': ''\n    },\n    icon: 'volume-up',\n    visible: true,\n    name: LbpNoticeBar.name,\n    component: LbpNoticeBar\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Rate',\n      'zh-CN': ''\n    },\n    icon: 'star-o',\n    visible: true,\n    name: LbpRate.name,\n    component: LbpRate\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Picture',\n      'zh-CN': ''\n    },\n    icon: 'photo',\n    visible: true,\n    name: LbpPicture.name,\n    component: LbpPicture\n  }, {\n    i18nTitle: {\n      'en-US': 'Text',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'text-width',\n    visible: true,\n    name: LbpText.name,\n    component: LbpText\n  }, {\n    i18nTitle: {\n      'en-US': 'Button',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'hand-pointer-o',\n    visible: true,\n    name: LbpButton.name,\n    component: LbpButton\n  }, {\n    i18nTitle: {\n      'en-US': 'Carousel',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'photo',\n    visible: true,\n    name: LbpSlide.name,\n    component: LbpSlide\n  }, {\n    i18nTitle: {\n      'en-US': 'Map',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'map-o',\n    visible: true,\n    name: __vue_component__.name,\n    component: __vue_component__\n  }, {\n    i18nTitle: {\n      'en-US': 'Video',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'file-video-o',\n    visible: true,\n    name: LbpVideo.name,\n    component: LbpVideo\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Input',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'pencil-square-o',\n    visible: true,\n    name: LbpFormInput.name,\n    component: LbpFormInput\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Submit',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'hand-pointer-o',\n    visible: true,\n    name: LbpFormButton.name,\n    component: LbpFormButton\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Checkbox',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'check-square-o',\n    visible: true,\n    name: LbpFormCheckboxGroup.name,\n    component: LbpFormCheckboxGroup\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Radio',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'dot-circle-o',\n    visible: true,\n    name: LbpFormRadioGroup.name,\n    component: LbpFormRadioGroup\n  }, {\n    i18nTitle: {\n      'en-US': 'Background',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'dot-circle-o',\n    visible: false,\n    name: LbpBackground.name,\n    component: LbpBackground\n  }, {\n    i18nTitle: {\n      'en-US': 'BgMusic',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'music',\n    visible: true,\n    name: LbpBgMusic.name,\n    component: LbpBgMusic\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(Default)',\n      'zh-CN': ''\n    },\n    icon: 'table',\n    visible: true,\n    name: LbpTable.name,\n    component: LbpTable\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(Stripe)',\n      'zh-CN': '()'\n    },\n    icon: 'table',\n    visible: true,\n    name: LbpTable.name,\n    component: LbpTable,\n    shortcutProps: {\n      theme: 'lbp-table-theme-stripe'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(LightBlue)',\n      'zh-CN': '()'\n    },\n    icon: 'table',\n    visible: true,\n    name: LbpTable.name,\n    component: LbpTable,\n    shortcutProps: {\n      theme: 'lbp-table-theme-light-blue'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'NewsList',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'list',\n    visible: true,\n    name: LbpNewsList.name,\n    component: LbpNewsList\n  }];\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-16 15:12:42\r\n   * @LastEditTime : 2020-11-16 15:12:49\r\n   * @Description :\r\n   */\n  var LbpPlugin = function LbpPlugin() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        name = _ref.name,\n        _ref$i18nTitle = _ref.i18nTitle,\n        i18nTitle = _ref$i18nTitle === void 0 ? {} : _ref$i18nTitle,\n        title = _ref.title,\n        icon = _ref.icon,\n        visible = _ref.visible,\n        component = _ref.component;\n\n    classCallCheck(this, LbpPlugin);\n\n    this.name = name;\n    this.i18nTitle = i18nTitle;\n    this.title = title;\n    this.icon = icon;\n    this.visible = visible;\n    this.component = component;\n  };\n\n  var LbpPluginController = /*#__PURE__*/function () {\n    function LbpPluginController() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n          _ref$plugins = _ref.plugins,\n          plugins = _ref$plugins === void 0 ? [] : _ref$plugins;\n\n      classCallCheck(this, LbpPluginController);\n\n      this._plugins = [];\n      this._pluginsMap = {};\n      plugins.forEach(function (v) {\n        return _this.registerPlugin(v);\n      });\n    }\n\n    createClass(LbpPluginController, [{\n      key: \"registerPlugin\",\n      value: function registerPlugin() {\n        var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!option.name) return;\n        var plugin = new LbpPlugin(option);\n\n        this._plugins.push(plugin);\n\n        this._pluginsMap[plugin.name] = plugin;\n      }\n    }, {\n      key: \"getPlugins\",\n      value: function getPlugins() {\n        return this._plugins;\n      }\n    }, {\n      key: \"getPluginsMap\",\n      value: function getPluginsMap() {\n        return this._pluginsMap;\n      }\n    }, {\n      key: \"getPlugin\",\n      value: function getPlugin(name) {\n        return this.getPluginsMap()[name];\n      }\n    }]);\n\n    return LbpPluginController;\n  }();\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-11 19:49:25\r\n   * @LastEditTime : 2020-11-16 15:18:02\r\n   * @Description :\r\n   */\n  var lbpPluginController = new LbpPluginController({\n    plugins: _plugins\n  });\n\n  var enUSLang = {\n    app: {\n      title: 'Luban H5'\n    },\n    header: {\n      chineseDocument: '',\n      englishDocument: 'Document(En)',\n      chat: 'Discussion Group',\n      //\n      logout: 'Logout'\n    },\n    sidebar: {\n      myWorks: 'My Works',\n      dataCenter: 'Data Center',\n      basicData: 'Basic Data',\n      templateCenter: 'Templates',\n      freeTemplates: 'Templates List',\n      accountCenter: 'Account'\n    },\n    workCard: {\n      description: 'Desc',\n      createTime: 'Time',\n      useNow: 'Use it Now',\n      preview: 'Preview',\n      edit: 'Edit',\n      createNewWork: 'Create New',\n      view: 'View Work'\n    },\n    basicData: {\n      viewData: 'View Data'\n    },\n    editor: {\n      sidebar: {\n        components: 'Components',\n        pages: 'Pages',\n        templates: 'Templates',\n        tree: 'Tree'\n      },\n      pageManager: {\n        title: 'Page {index}',\n        action: {\n          add: 'Add Page',\n          copy: 'Copy Page',\n          delete: 'Delete Page'\n        }\n      },\n      header: {\n        preview: 'Preview',\n        save: 'Save',\n        publish: 'Publish',\n        setAsTemplate: 'Set As Template'\n      },\n      centerPanel: {\n        mode: {\n          edit: 'Edit',\n          preview: 'Preview'\n        },\n        contextMenu: {\n          copy: 'Copy',\n          delete: 'Delete',\n          moveToTop: 'Move To Top',\n          moveToBottom: 'Move To Bottom',\n          moveUp: 'Move Up',\n          moveDown: 'Move Down',\n          showOnlyButton: 'showOnlyButton',\n          showExcludePicture: 'showExcludePicture'\n        }\n      },\n      fixedTool: {\n        undo: 'Undo{hotkey}',\n        redo: 'Redo{hotkey}',\n        preview: 'Preview',\n        copyCurrentPage: 'CopyCurrentPage',\n        copyCurrentElement: 'copyCurrentElement',\n        importPSD: 'Import PSD',\n        zoomIn: 'Zoom In{hotkey}',\n        zoomOut: 'Zoom Out{hotkey}',\n        issues: 'Issues'\n      },\n      editPanel: {\n        tab: {\n          prop: 'Prop',\n          animation: 'Animation',\n          action: 'Action',\n          script: 'Script',\n          page: 'Page'\n        },\n        animation: {\n          add: 'Add',\n          run: 'Run',\n          type: 'Type',\n          duration: 'Duration',\n          delay: 'Delay',\n          iteration: 'Iteration',\n          inifinite: 'Inifinite',\n          list: 'Select Animation',\n          title: 'Animation {index}'\n        },\n        common: {\n          empty: 'Select an element first please!'\n        }\n      },\n      tip: {\n        componentUsage: 'Tip: just {0} on component',\n        click: 'click/drag'\n      }\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2019-11-24 18:51:58\r\n   * @LastEditors: ly525\r\n   * @LastEditTime: 2020-10-13 01:29:21\r\n   * @FilePath: /h5/src/locales/lang/zh-CN.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var zhCNLang = {\n    app: {\n      title: ' H5'\n    },\n    header: {\n      chineseDocument: '',\n      englishDocument: '',\n      chat: '',\n      //  Discussion Group\n      logout: ''\n    },\n    sidebar: {\n      myWorks: '',\n      dataCenter: '',\n      basicData: '',\n      templateCenter: '',\n      freeTemplates: '',\n      accountCenter: ''\n    },\n    workCard: {\n      description: '',\n      createTime: '',\n      useNow: '',\n      preview: '',\n      createNewWork: '',\n      edit: '',\n      view: ''\n    },\n    basicData: {\n      viewData: ''\n    },\n    editor: {\n      sidebar: {\n        components: '',\n        pages: '',\n        templates: '',\n        tree: ''\n      },\n      pageManager: {\n        title: '{index}',\n        action: {\n          add: '',\n          copy: '',\n          delete: ''\n        }\n      },\n      header: {\n        preview: '',\n        save: '',\n        publish: '',\n        setAsTemplate: ''\n      },\n      centerPanel: {\n        mode: {\n          edit: 'Edit',\n          preview: 'Preview'\n        },\n        contextMenu: {\n          copy: '',\n          delete: '',\n          moveToTop: '',\n          moveToBottom: '',\n          moveUp: '',\n          moveDown: '',\n          showOnlyButton: '',\n          showExcludePicture: ''\n        }\n      },\n      fixedTool: {\n        undo: '{hotkey}',\n        redo: '{hotkey}',\n        preview: '',\n        copyCurrentPage: '',\n        copyCurrentElement: '',\n        importPSD: 'PSD',\n        zoomIn: '{hotkey}',\n        zoomOut: '{hotkey}',\n        issues: ''\n      },\n      editPanel: {\n        tab: {\n          prop: '',\n          animation: '',\n          action: '',\n          script: '',\n          page: ''\n        },\n        animation: {\n          add: '',\n          run: '',\n          type: '',\n          duration: '',\n          delay: '',\n          iteration: '',\n          inifinite: '',\n          list: '',\n          title: 'Animation {index}'\n        },\n        common: {\n          empty: 'Select an element first please!'\n        }\n      },\n      tip: {\n        componentUsage: ': {0} ',\n        click: ''\n      }\n    }\n  };\n\n  function ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { defineProperty$3(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  Vue__default['default'].use(VueI18n__default['default']);\n  var messages = {\n    'en-US': _objectSpread$1({}, enUSLang),\n    'zh-CN': _objectSpread$1({}, zhCNLang)\n  };\n  var defaultLang = 'zh-CN';\n  var i18n = new VueI18n__default['default']({\n    locale: defaultLang,\n    fallbackLocale: defaultLang,\n    messages: messages\n  });\n\n  function _extends$6(){return _extends$6=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends$6.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends$6({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e);}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h);}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments);}};var helper$5=mergeJsxProps;\n\n  var $entries = objectToArray.entries;\n\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  _export({ target: 'Object', stat: true }, {\n    entries: function entries(O) {\n      return $entries(O);\n    }\n  });\n\n  // `RegExp.prototype.flags` getter implementation\n  // https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\n  var regexpFlags = function () {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  };\n\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n\n  var regexpStickyHelpers = {\n  \tUNSUPPORTED_Y: UNSUPPORTED_Y,\n  \tBROKEN_CARET: BROKEN_CARET\n  };\n\n  var nativeExec = RegExp.prototype.exec;\n  // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n  var nativeReplace = String.prototype.replace;\n\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = (function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  })();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET;\n\n  // nonparticipating capturing group, copied from es5-shim's String#split patch.\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex);\n        // Support anchored sticky behavior.\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        }\n        // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec;\n\n  _export({ target: 'RegExp', proto: true, forced: /./.exec !== regexpExec }, {\n    exec: regexpExec\n  });\n\n  // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n\n\n\n\n\n  var SPECIES$6 = wellKnownSymbol('species');\n\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n    re.exec = function () {\n      var result = [];\n      result.groups = { a: '7' };\n      return result;\n    };\n    return ''.replace(re, '$<a>') !== '7';\n  });\n\n  // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n  var REPLACE_KEEPS_$0 = (function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  })();\n\n  var REPLACE = wellKnownSymbol('replace');\n  // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n    return false;\n  })();\n\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    var re = /(?:)/;\n    var originalExec = re.exec;\n    re.exec = function () { return originalExec.apply(this, arguments); };\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    });\n\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {};\n        // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n        re.constructor = {};\n        re.constructor[SPECIES$6] = function () { return re; };\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () { execCalled = true; return null; };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (\n      !DELEGATES_TO_SYMBOL ||\n      !DELEGATES_TO_EXEC ||\n      (KEY === 'replace' && !(\n        REPLACE_SUPPORTS_NAMED_GROUPS &&\n        REPLACE_KEEPS_$0 &&\n        !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      )) ||\n      (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n    ) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return regexMethod.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return regexMethod.call(string, this); }\n      );\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  };\n\n  // `String.prototype.{ codePointAt, at }` methods implementation\n  var createMethod$5 = function (CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size\n        || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n          ? CONVERT_TO_STRING ? S.charAt(position) : first\n          : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$5(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$5(true)\n  };\n\n  var charAt = stringMultibyte.charAt;\n\n  // `AdvanceStringIndex` abstract operation\n  // https://tc39.github.io/ecma262/#sec-advancestringindex\n  var advanceStringIndex = function (S, index, unicode) {\n    return index + (unicode ? charAt(S, index).length : 1);\n  };\n\n  // `RegExpExec` abstract operation\n  // https://tc39.github.io/ecma262/#sec-regexpexec\n  var regexpExecAbstract = function (R, S) {\n    var exec = R.exec;\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  };\n\n  var max$5 = Math.max;\n  var min$5 = Math.min;\n  var floor$1 = Math.floor;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n  var maybeToString = function (it) {\n    return it === undefined ? it : String(it);\n  };\n\n  // @@replace logic\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n    return [\n      // `String.prototype.replace` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n      function replace(searchValue, replaceValue) {\n        var O = requireObjectCoercible(this);\n        var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n        return replacer !== undefined\n          ? replacer.call(searchValue, O, replaceValue)\n          : nativeReplace.call(String(O), searchValue, replaceValue);\n      },\n      // `RegExp.prototype[@@replace]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n      function (regexp, replaceValue) {\n        if (\n          (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n          (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n        ) {\n          var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n          if (res.done) return res.value;\n        }\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        var functionalReplace = typeof replaceValue === 'function';\n        if (!functionalReplace) replaceValue = String(replaceValue);\n\n        var global = rx.global;\n        if (global) {\n          var fullUnicode = rx.unicode;\n          rx.lastIndex = 0;\n        }\n        var results = [];\n        while (true) {\n          var result = regexpExecAbstract(rx, S);\n          if (result === null) break;\n\n          results.push(result);\n          if (!global) break;\n\n          var matchStr = String(result[0]);\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        }\n\n        var accumulatedResult = '';\n        var nextSourcePosition = 0;\n        for (var i = 0; i < results.length; i++) {\n          result = results[i];\n\n          var matched = String(result[0]);\n          var position = max$5(min$5(toInteger(result.index), S.length), 0);\n          var captures = [];\n          // NOTE: This is equivalent to\n          //   captures = result.slice(1).map(maybeToString)\n          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n          // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n          for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n          var namedCaptures = result.groups;\n          if (functionalReplace) {\n            var replacerArgs = [matched].concat(captures, position, S);\n            if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n            var replacement = String(replaceValue.apply(undefined, replacerArgs));\n          } else {\n            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n          }\n          if (position >= nextSourcePosition) {\n            accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n            nextSourcePosition = position + matched.length;\n          }\n        }\n        return accumulatedResult + S.slice(nextSourcePosition);\n      }\n    ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n    function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n      var tailPos = position + matched.length;\n      var m = captures.length;\n      var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n      if (namedCaptures !== undefined) {\n        namedCaptures = toObject(namedCaptures);\n        symbols = SUBSTITUTION_SYMBOLS;\n      }\n      return nativeReplace.call(replacement, symbols, function (match, ch) {\n        var capture;\n        switch (ch.charAt(0)) {\n          case '$': return '$';\n          case '&': return matched;\n          case '`': return str.slice(0, position);\n          case \"'\": return str.slice(tailPos);\n          case '<':\n            capture = namedCaptures[ch.slice(1, -1)];\n            break;\n          default: // \\d\\d?\n            var n = +ch;\n            if (n === 0) return match;\n            if (n > m) {\n              var f = floor$1(n / 10);\n              if (f === 0) return match;\n              if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n              return match;\n            }\n            capture = captures[n - 1];\n        }\n        return capture === undefined ? '' : capture;\n      });\n    }\n  });\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-17 16:59:14\r\n   * @LastEditTime : 2020-11-17 16:59:14\r\n   * @Description :\r\n   */\n  var hyphenateStyleName = function hyphenateStyleName(name) {\n    var uppercasePattern = /([A-Z])/g;\n    var msPattern = /^ms-/;\n    return name.replace(uppercasePattern, '-$1').toLowerCase().replace(msPattern, '-ms-');\n  };\n\n  /**\r\n   * scopeNode  \r\n   *\r\n   */\n  var HANDLERS_PROPERTY = '__v-click-outside';\n  var HAS_WINDOWS = typeof window !== 'undefined';\n  var HAS_NAVIGATOR = typeof navigator !== 'undefined';\n  var IS_TOUCH = HAS_WINDOWS && ('ontouchstart' in window || HAS_NAVIGATOR && navigator.msMaxTouchPoints > 0);\n  var EVENTS = IS_TOUCH ? ['touchstart'] : ['click'];\n\n  function processDirectiveArguments(bindingValue) {\n    var isFunction = typeof bindingValue === 'function';\n\n    if (!isFunction && _typeof_1(bindingValue) !== 'object') {\n      throw new Error('v-click-outside: Binding value must be a function or an object');\n    }\n\n    return {\n      handler: isFunction ? bindingValue : bindingValue.handler,\n      middleware: bindingValue.middleware || function (item) {\n        return item;\n      },\n      events: bindingValue.events || EVENTS,\n      isActive: !(bindingValue.isActive === false),\n      detectIframe: !(bindingValue.detectIframe === false),\n      capture: !!bindingValue.capture,\n      scopeNode: bindingValue.scopeNode || document.documentElement\n    };\n  }\n\n  function execHandler(_ref) {\n    var event = _ref.event,\n        handler = _ref.handler,\n        middleware = _ref.middleware;\n\n    if (middleware(event)) {\n      handler && handler(event);\n    }\n  }\n\n  function onFauxIframeClick(_ref2) {\n    var el = _ref2.el,\n        event = _ref2.event,\n        handler = _ref2.handler,\n        middleware = _ref2.middleware;\n    // Note: on firefox clicking on iframe triggers blur, but only on\n    //       next event loop it becomes document.activeElement\n    // https://stackoverflow.com/q/2381336#comment61192398_23231136\n    setTimeout(function () {\n      var _document = document,\n          activeElement = _document.activeElement;\n\n      if (activeElement && activeElement.tagName === 'IFRAME' && !el.contains(activeElement)) {\n        execHandler({\n          event: event,\n          handler: handler,\n          middleware: middleware\n        });\n      }\n    }, 0);\n  }\n\n  function onEvent(_ref3) {\n    var el = _ref3.el,\n        event = _ref3.event,\n        handler = _ref3.handler,\n        middleware = _ref3.middleware,\n        scopeNode = _ref3.scopeNode;\n    // Note: composedPath is not supported on IE and Edge, more information here:\n    //       https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath\n    //       In the meanwhile, we are using el.contains for those browsers, not\n    //       the ideal solution, but using IE or EDGE is not ideal either.\n    var path = event.path || event.composedPath && event.composedPath();\n    var isClickOutside = path ? path.indexOf(el) < 0 && path.indexOf(scopeNode) > -1 : !el.contains(event.target) && scopeNode.contains(event.target);\n\n    if (!isClickOutside) {\n      return;\n    }\n\n    execHandler({\n      event: event,\n      handler: handler,\n      middleware: middleware\n    });\n  }\n\n  function bind$4(el, _ref4) {\n    var value = _ref4.value;\n\n    var _processDirectiveArgu = processDirectiveArguments(value),\n        events = _processDirectiveArgu.events,\n        _handler = _processDirectiveArgu.handler,\n        middleware = _processDirectiveArgu.middleware,\n        isActive = _processDirectiveArgu.isActive,\n        detectIframe = _processDirectiveArgu.detectIframe,\n        capture = _processDirectiveArgu.capture,\n        scopeNode = _processDirectiveArgu.scopeNode;\n\n    if (!isActive || !_handler) {\n      return;\n    }\n\n    el[HANDLERS_PROPERTY] = events.map(function (eventName) {\n      return {\n        event: eventName,\n        srcTarget: document.documentElement,\n        handler: function handler(event) {\n          return onEvent({\n            el: el,\n            event: event,\n            handler: _handler,\n            middleware: middleware,\n            scopeNode: scopeNode\n          });\n        },\n        capture: capture\n      };\n    });\n\n    if (detectIframe) {\n      var detectIframeEvent = {\n        event: 'blur',\n        srcTarget: window,\n        handler: function handler(event) {\n          return onFauxIframeClick({\n            el: el,\n            event: event,\n            handler: _handler,\n            middleware: middleware\n          });\n        },\n        capture: capture\n      };\n      el[HANDLERS_PROPERTY] = [].concat(toConsumableArray(el[HANDLERS_PROPERTY]), [detectIframeEvent]);\n    }\n\n    el[HANDLERS_PROPERTY].forEach(function (_ref5) {\n      var event = _ref5.event,\n          srcTarget = _ref5.srcTarget,\n          handler = _ref5.handler;\n      return setTimeout(function () {\n        // Note: More info about this implementation can be found here:\n        //       https://github.com/ndelvalle/v-click-outside/issues/137\n        if (!el[HANDLERS_PROPERTY]) {\n          return;\n        }\n\n        srcTarget.addEventListener(event, handler, capture);\n      }, 0);\n    });\n  }\n\n  function unbind(el) {\n    var handlers = el[HANDLERS_PROPERTY] || [];\n    handlers.forEach(function (_ref6) {\n      var event = _ref6.event,\n          srcTarget = _ref6.srcTarget,\n          handler = _ref6.handler,\n          capture = _ref6.capture;\n      return srcTarget.removeEventListener(event, handler, capture);\n    });\n    delete el[HANDLERS_PROPERTY];\n  }\n\n  function update(el, _ref7) {\n    var value = _ref7.value,\n        oldValue = _ref7.oldValue;\n\n    if (JSON.stringify(value) === JSON.stringify(oldValue)) {\n      return;\n    }\n\n    unbind(el);\n    bind$4(el, {\n      value: value\n    });\n  }\n\n  var directive = {\n    bind: bind$4,\n    update: update,\n    unbind: unbind\n  };\n  var vClickOutside = HAS_WINDOWS ? directive : {};\n\n  function ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { defineProperty$3(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  /**\r\n   * #!zh:   \r\n   * #!en: top(north)bottom(south)left(west)right(east)\r\n   */\n  // const directionKey = {\n  //   t: 'n',\n  //   b: 's',\n  //   l: 'w',\n  //   r: 'e'\n  // }\n\n  var ShapeLayerDefaultProps = {\n    top: 0,\n    left: 0,\n    width: 100,\n    height: 40\n  };\n  var points$2 = ['lt', 'rt', 'lb', 'rb', 'lm', 'rm', 'tm', 'bm'];\n  var ShapeLayer = {\n    directives: {\n      clickOutside: vClickOutside\n    },\n    props: {\n      elStyle: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      disable: {\n        type: Boolean,\n        default: ShapeLayerDefaultProps.disable\n      }\n    },\n    inject: ['canvas'],\n    data: function data() {\n      return {\n        rect: this.getReact(this.elStyle),\n        shapeStyle: this.getStyle(this.elStyle),\n        startY: 0,\n        startX: 0,\n        point: '',\n        active: false,\n        vcoConfig: {}\n      };\n    },\n    computed: {\n      ltPointStyle: function ltPointStyle() {\n        return {\n          left: \"\".concat(0, \"px\"),\n          top: \"\".concat(0, \"px\")\n        };\n      },\n      rtPointStyle: function rtPointStyle() {\n        var width = this.rect.width;\n        return {\n          left: \"\".concat(width, \"px\"),\n          top: \"\".concat(0, \"px\")\n        };\n      },\n      lbPointStyle: function lbPointStyle() {\n        var height = this.rect.height;\n        return {\n          left: \"\".concat(0, \"px\"),\n          top: \"\".concat(height, \"px\")\n        };\n      },\n      rbPointStyle: function rbPointStyle() {\n        var _this$rect = this.rect,\n            width = _this$rect.width,\n            height = _this$rect.height;\n        return {\n          left: \"\".concat(width, \"px\"),\n          top: \"\".concat(height, \"px\")\n        };\n      },\n      lmPointStyle: function lmPointStyle() {\n        var height = this.rect.height;\n        return {\n          left: \"\".concat(0, \"px\"),\n          top: \"\".concat(height / 2, \"px\")\n        };\n      },\n      rmPointStyle: function rmPointStyle() {\n        var _this$rect2 = this.rect,\n            width = _this$rect2.width,\n            height = _this$rect2.height;\n        return {\n          left: \"\".concat(width, \"px\"),\n          top: \"\".concat(height / 2, \"px\")\n        };\n      },\n      tmPointStyle: function tmPointStyle() {\n        var width = this.rect.width;\n        return {\n          left: \"\".concat(width / 2, \"px\"),\n          top: \"\".concat(0, \"px\")\n        };\n      },\n      bmPointStyle: function bmPointStyle() {\n        var _this$rect3 = this.rect,\n            width = _this$rect3.width,\n            height = _this$rect3.height;\n        return {\n          left: \"\".concat(width / 2, \"px\"),\n          top: \"\".concat(height, \"px\")\n        };\n      },\n      bound: function bound() {\n        return {\n          left: 0,\n          top: 0,\n          right: this.canvas.width,\n          bottom: this.canvas.height\n        };\n      }\n    },\n    mounted: function mounted() {\n      this.vcoConfig = {\n        events: ['mousedown'],\n        handler: this.onClickOutside,\n        scopeNode: document.querySelector('.lb-canvas-wrapper')\n      };\n    },\n    watch: {\n      elStyle: function elStyle() {\n        var elStyle = this.elStyle;\n        this.rect = this.getReact(elStyle);\n        this.shapeStyle = this.getStyle(elStyle);\n      },\n      rect: {\n        handler: function handler() {\n          var newStyle = _objectSpread$2(_objectSpread$2({}, this.elStyle), this.rect);\n\n          this.shapeStyle = _objectSpread$2(_objectSpread$2({}, this.shapeStyle), this.getStyle(this.rect));\n          this.$emit('change', newStyle);\n        },\n        deep: true\n      }\n    },\n    methods: {\n      getReact: function getReact(elStyle) {\n        return {\n          left: elStyle.left,\n          top: elStyle.top,\n          width: elStyle.width,\n          height: elStyle.height\n        };\n      },\n      getStyle: function getStyle(style) {\n        var newStyle = {};\n        Object.entries(style).forEach(function (_ref) {\n          var _ref2 = slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          var v = typeof value === 'number' ? \"\".concat(value, \"px\") : value;\n          var n = hyphenateStyleName(key);\n          newStyle[n] = v;\n        });\n        return newStyle;\n      },\n      setActive: function setActive(active) {\n        if (this.active === active) return;\n        active ? this.$emit('active', active) : this.$emit('deactive', active);\n        this.active = active;\n      },\n      onClickOutside: function onClickOutside() {\n        this.setActive(false);\n      },\n      addWidth: function addWidth(distance) {\n        var _this$rect4 = this.rect,\n            currentLeft = _this$rect4.left,\n            currentWidth = _this$rect4.width;\n        var boundRight = this.bound.right;\n        var nextWidth = currentWidth + distance;\n        if (nextWidth < 0) nextWidth = 0;\n        if (currentLeft + nextWidth > boundRight) return;\n        return this.rect.width = nextWidth;\n      },\n      addHeight: function addHeight(distance) {\n        var _this$rect5 = this.rect,\n            currentTop = _this$rect5.top,\n            currentHeight = _this$rect5.height;\n        var boundBottom = this.bound.bottom;\n        var nextHeight = currentHeight + distance;\n        if (nextHeight < 0) nextHeight = 0;\n        if (currentTop + nextHeight > boundBottom) return;\n        return this.rect.height = nextHeight;\n      },\n      addLeft: function addLeft(distance) {\n        var _this$rect6 = this.rect,\n            currentLeft = _this$rect6.left,\n            currentWidth = _this$rect6.width;\n        var _this$bound = this.bound,\n            boundLeft = _this$bound.left,\n            boundRight = _this$bound.right;\n        var nextLeft = currentLeft + distance;\n        if (nextLeft < boundLeft) nextLeft = boundLeft;\n        if (nextLeft + currentWidth > boundRight) return;\n        return this.rect.left = nextLeft;\n      },\n      addTop: function addTop(distance) {\n        var _this$rect7 = this.rect,\n            currentTop = _this$rect7.top,\n            currentHeight = _this$rect7.height;\n        var _this$bound2 = this.bound,\n            boundTop = _this$bound2.top,\n            boundBottom = _this$bound2.bottom;\n        var nextTop = currentTop + distance;\n        if (nextTop < boundTop) nextTop = boundTop;\n        if (nextTop + currentHeight > boundBottom) return;\n        return this.rect.top = nextTop;\n      },\n      handleShapeDown: function handleShapeDown(e) {\n        this.setActive(true);\n        this.startY = e.clientY;\n        this.startX = e.clientX;\n        document.addEventListener('mousemove', this.handleShapeMove);\n        document.addEventListener('mouseup', this.handleShapeUp);\n      },\n      handleShapeMove: function handleShapeMove(e) {\n        e.preventDefault();\n        var distanceX = e.clientX - this.startX;\n        var distanceY = e.clientY - this.startY;\n        this.startX = e.clientX;\n        this.startY = e.clientY;\n        this.addLeft(distanceX);\n        this.addTop(distanceY);\n      },\n      handleShapeUp: function handleShapeUp() {\n        document.removeEventListener('mousemove', this.handleShapeMove);\n        document.removeEventListener('mouseup', this.handleShapeUp);\n      },\n      handlePointDown: function handlePointDown(point, e) {\n        this.startY = e.clientY;\n        this.startX = e.clientX;\n        this.point = point;\n        document.addEventListener('mousemove', this.handlePointMove);\n        document.addEventListener('mouseup', this.handlePointUp);\n      },\n      handlePointMove: function handlePointMove(e) {\n        var _this = this;\n\n        var effect = [/l/, /t/, /r/, /b/].map(function (v) {\n          return v.test(_this.point);\n        });\n\n        var _effect = slicedToArray(effect, 4),\n            effectLeft = _effect[0],\n            effectTop = _effect[1],\n            effectWidth = _effect[2],\n            effectHeight = _effect[3];\n\n        var distanceX = e.clientX - this.startX;\n        var distanceY = e.clientY - this.startY;\n        this.startX = e.clientX;\n        this.startY = e.clientY;\n\n        if (effectLeft) {\n          var _this$rect8 = this.rect,\n              currentLeft = _this$rect8.left,\n              currentWidth = _this$rect8.width;\n          var effectLeftDistance = Math.min(currentWidth, distanceX);\n          var effectWidthDistance = Math.min(currentLeft, -distanceX);\n          this.addLeft(effectLeftDistance);\n          this.addWidth(effectWidthDistance);\n        }\n\n        if (effectTop) {\n          var _this$rect9 = this.rect,\n              currentTop = _this$rect9.top,\n              currentHeight = _this$rect9.height;\n          var effectTopDistance = Math.min(currentHeight, distanceY);\n          var effectHeightDistance = Math.min(currentTop, -distanceY);\n          this.addTop(effectTopDistance);\n          this.addHeight(effectHeightDistance);\n        }\n\n        effectWidth && this.addWidth(distanceX);\n        effectHeight && this.addHeight(distanceY);\n      },\n      handlePointUp: function handlePointUp() {\n        document.removeEventListener('mousemove', this.handlePointMove);\n        document.removeEventListener('mouseup', this.handlePointUp);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      return h(\"div\", {\n        \"attrs\": {\n          \"tabindex\": \"0\"\n        },\n        \"directives\": [{\n          name: \"click-outside\",\n          value: this.vcoConfig\n        }],\n        \"style\": this.getStyle(this.shapeStyle),\n        \"class\": ['shape-layer', {\n          active: this.active\n        }],\n        \"on\": {\n          \"mousedown\": this.handleShapeDown\n        },\n        \"ref\": \"shape\"\n      }, [h(\"div\", {\n        \"class\": \"shape-content\"\n      }, [this.$slots.default]), h(\"div\", {\n        \"class\": \"control\"\n      }, [points$2.map(function (v) {\n        return h(\"div\", {\n          \"directives\": [{\n            name: \"show\",\n            value: _this2.active\n          }],\n          \"style\": _this2[\"\".concat(v, \"PointStyle\")],\n          \"class\": \"shape-scale__point\",\n          \"attrs\": {\n            \"data-point\": v\n          },\n          \"on\": {\n            \"mousedown\": _this2.handlePointDown.bind(_this2, v)\n          }\n        });\n      })])]);\n    }\n  };\n\n  function ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { defineProperty$3(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var id$1 = 0;\n\n  var LbpElement = /*#__PURE__*/function () {\n    function LbpElement() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      classCallCheck(this, LbpElement);\n\n      var _options$name = options.name,\n          name = _options$name === void 0 ? '' : _options$name,\n          _options$props = options.props,\n          props = _options$props === void 0 ? {} : _options$props,\n          _options$style = options.style,\n          style = _options$style === void 0 ? {} : _options$style,\n          _options$attrs = options.attrs,\n          attrs = _options$attrs === void 0 ? {} : _options$attrs,\n          _options$animations = options.animations,\n          animations = _options$animations === void 0 ? [] : _options$animations;\n\n      if (name) {\n        this.name = name;\n        this.id = id$1++;\n        this.vm = null;\n\n        var _pluginsControl$getPl = lbpPluginController.getPlugin(name),\n            component = _pluginsControl$getPl.component; // element render  \n\n\n        this.props = _objectSpread$3(_objectSpread$3({}, LbpElement.getPluginProps(component)), props); // element render  \n\n        this.attrs = _objectSpread$3({}, attrs); // element render  \n\n        this.class = _objectSpread$3({}, options.class); //  shapeLayer \n\n        this.style = _objectSpread$3(_objectSpread$3({}, ShapeLayerDefaultProps), style); //  animateLayer \n\n        this.animations = toConsumableArray(animations);\n      } else {\n        console.error('lbpElement need a name of plugin');\n      }\n    }\n\n    createClass(LbpElement, [{\n      key: \"clone\",\n      value: function clone() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref$zIndex = _ref.zIndex,\n            zIndex = _ref$zIndex === void 0 ? this.zIndex + 1 : _ref$zIndex;\n\n        return new LbpElement({\n          zIndex: zIndex,\n          name: this.name,\n          pluginProps: this.pluginProps,\n          commonStyle: _objectSpread$3(_objectSpread$3({}, this.commonStyle), {}, {\n            top: this.commonStyle.top + 20,\n            left: this.commonStyle.left + 20\n          })\n        });\n      }\n    }, {\n      key: \"update\",\n      value: function update(_ref2) {\n        var props = _ref2.props,\n            style = _ref2.style,\n            animations = _ref2.animations;\n        props && Object.assign(this.props, props);\n        style && Object.assign(this.style, style);\n\n        if (animations) {\n          Object.assign(this.animations, animations);\n          this.animations.length = animations.length;\n        }\n      }\n    }, {\n      key: \"setVm\",\n      value: function setVm(vm) {\n        this.vm = vm;\n      }\n    }], [{\n      key: \"getPluginProps\",\n      value: function getPluginProps(component) {\n        var props = {};\n        var propsDefine = component.props;\n        Object.entries(propsDefine).forEach(function (_ref3) {\n          var _ref4 = slicedToArray(_ref3, 2),\n              key = _ref4[0],\n              prop = _ref4[1];\n\n          props[key] = LbpElement.getPropDefaultValue(null, prop);\n        });\n        return props;\n      }\n    }, {\n      key: \"getPropDefaultValue\",\n      value: function getPropDefaultValue(vm, prop) {\n        if (!Object.prototype.hasOwnProperty.call(prop, 'default')) {\n          return undefined;\n        }\n\n        var def = prop.default;\n        return lodash.isFunction(def) ? def.call(vm) : def;\n      }\n    }]);\n\n    return LbpElement;\n  }();\n\n  var Render = {\n    props: {\n      elName: {\n        type: String,\n        require: true\n      },\n      elProps: {\n        type: Object,\n        require: true\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var component = lbpPluginController.getPlugin(this.elName).component;\n      return h(component, helper$5([{}, {\n        \"props\": this.elProps\n      }]));\n    }\n  };\n\n  var EventBus = new Vue__default['default'](); // event bus\n\n  var AnimateLayer = {\n    props: {\n      animations: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    methods: {\n      runAnimations: function runAnimations() {\n        if (!this.animations) return;\n        var animationQueue = this.animations || [];\n        var len = animationQueue.length;\n        if (len === 0) return;\n        var parentNode = this.$el;\n        var animIdx = 0;\n        runAnimation();\n\n        function runAnimation() {\n          if (animIdx < len) {\n            var animation = animationQueue[animIdx];\n            Object.assign(parentNode.style, {\n              animationName: animation.type,\n              animationDuration: \"\".concat(animation.duration, \"s\"),\n              animationIterationCount: animation.infinite ? 'infinite' : animation.interationCount,\n              animationDelay: \"\".concat(animation.delay, \"s\"),\n              animationFillMode: 'both'\n            });\n            animIdx++;\n          } else {\n            Object.assign(parentNode.style, {\n              animationName: null,\n              animationDuration: null,\n              animationIterationCount: null,\n              animationDelay: null,\n              animationFillMode: null\n            });\n          }\n        }\n\n        parentNode.addEventListener('animationend', runAnimation, false);\n      }\n    },\n    created: function created() {\n      var _this = this;\n\n      EventBus.$on('RUN_ANIMATIONS', function () {\n        _this.runAnimations();\n      });\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"animate-layer\"\n      }, [this.$slots.default]);\n    }\n  };\n\n  var ElementRender = {\n    props: {\n      element: {\n        type: LbpElement,\n        default: function _default() {\n          return new LbpElement({});\n        }\n      }\n    },\n    created: function created() {\n      this.element.setVm(this);\n    },\n    render: function render() {\n      var h = arguments[0];\n      var element = this.element;\n      return h(ShapeLayer, helper$5([{\n        \"attrs\": {\n          \"elStyle\": element.style\n        }\n      }, {\n        \"on\": this.$listeners\n      }]), [h(AnimateLayer, {\n        \"attrs\": {\n          \"animations\": element.animations\n        }\n      }, [h(Render, {\n        \"attrs\": {\n          \"elProps\": element.props,\n          \"elName\": element.name\n        }\n      })])]);\n    }\n  };\n\n  var LbpCanvas = {\n    props: {\n      width: {\n        type: Number,\n        default: 0\n      },\n      height: {\n        type: Number,\n        default: 0\n      },\n      elements: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    provide: function provide() {\n      return {\n        canvas: this.canvas\n      };\n    },\n    data: function data() {\n      return {\n        canvas: {\n          width: this.width,\n          height: this.height\n        }\n      };\n    },\n    watch: {\n      width: function width(_width) {\n        this.updateCanvas({\n          width: _width\n        });\n      },\n      height: function height(_height) {\n        this.updateCanvas({\n          height: _height\n        });\n      }\n    },\n    computed: {\n      canvasStyle: function canvasStyle() {\n        return {\n          width: \"\".concat(this.width, \"px\"),\n          height: \"\".concat(this.height, \"px\")\n        };\n      }\n    },\n    methods: {\n      updateCanvas: function updateCanvas(data) {\n        Object.assign(this.canvas, data);\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"lb-canvas\",\n        \"style\": this.canvasStyle\n      }, [h(\"div\", {\n        \"class\": \"lb-canvas-wrapper\"\n      }, [h(\"div\", {\n        \"class\": \"elements\"\n      }, [this.elements.map(function (element) {\n        return h(ElementRender, {\n          \"key\": element.id,\n          \"attrs\": {\n            \"element\": element\n          },\n          \"on\": {\n            \"active\": function active() {\n              return _this.$listeners.active(element);\n            },\n            \"deactive\": function deactive() {\n              return _this.$listeners.deactive(element);\n            },\n            \"change\": _this.$listeners.elementRectChange\n          }\n        });\n      })])])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-17 14:58:22\r\n   * @Description :\r\n   */\n  // import undoRedoHistory from '@/store/plugins/undo-redo/History'\n  var fixedTools = [{\n    i18nTooltip: 'editor.fixedTool.undo',\n    icon: 'mail-reply',\n    // action: () => undoRedoHistory.undo(),\n    hotkey: 'ctrl&z,&z',\n    hotkeyTooltip: '(ctrl+z)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.redo',\n    icon: 'mail-forward',\n    // action: () => undoRedoHistory.redo(),\n    hotkey: 'ctrl&y,&u',\n    hotkeyTooltip: '(ctrl+y)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.preview',\n    icon: 'eye',\n    action: function action() {\n      this.previewDialogVisible = true;\n    }\n  }, {\n    i18nTooltip: 'editor.fixedTool.copyCurrentPage',\n    icon: 'copy',\n    action: function action() {\n      this.pageManager({\n        type: 'copy'\n      });\n    },\n    hotkey: 'ctrl&c,&c'\n  }, {\n    i18nTooltip: 'editor.fixedTool.copyCurrentElement',\n    icon: 'copy',\n    action: function action() {\n      this.elementManager({\n        type: 'copy'\n      });\n    }\n  }, {\n    i18nTooltip: 'editor.fixedTool.importPSD',\n    text: 'Ps',\n    icon: '',\n    // : icon > text > i18nTooltip\n    action: '',\n    disabled: true\n  }, {\n    i18nTooltip: 'editor.fixedTool.zoomOut',\n    icon: 'plus',\n    action: function action() {\n      this.updateScaleRate(0.25);\n    },\n    hotkey: 'ctrl&=,&=',\n    hotkeyTooltip: '(ctrl +)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.zoomIn',\n    icon: 'minus',\n    action: function action() {\n      this.updateScaleRate(-0.25);\n    },\n    hotkey: 'ctrl&-,&-',\n    hotkeyTooltip: '(ctrl -)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.issues',\n    icon: 'question',\n    action: function action() {\n      window.open('https://github.com/ly525/luban-h5/issues/110');\n    }\n  }];\n\n  var _components;\n  var FixedTools = {\n    components: (_components = {}, defineProperty$3(_components, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$3(_components, antDesignVue.Button.Group.name, antDesignVue.Button.Group), defineProperty$3(_components, antDesignVue.Tooltip.name, antDesignVue.Tooltip), defineProperty$3(_components, antDesignVue.Button.name, antDesignVue.Button), _components),\n    data: function data() {\n      return {\n        scaleRate: 1\n      };\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": \"40\",\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          background: '#fff',\n          border: '1px solid #eee'\n        }\n      }, [h(\"a-button-group\", {\n        \"style\": {\n          display: 'flex',\n          flexDirection: 'column'\n        }\n      }, [fixedTools.map(function (tool) {\n        return h(\"a-tooltip\", {\n          \"attrs\": {\n            \"effect\": \"dark\",\n            \"placement\": \"left\",\n            \"title\": _this.$t(tool.i18nTooltip, {\n              hotkey: tool.hotkeyTooltip\n            })\n          }\n        }, [h(\"a-button\", {\n          \"attrs\": {\n            \"block\": true,\n            \"type\": \"link\",\n            \"size\": \"small\",\n            \"disabled\": !!tool.disabled\n          },\n          \"class\": \"transparent-bg\",\n          \"style\": {\n            height: '40px',\n            color: '#000'\n          },\n          \"on\": {\n            \"click\": function click() {\n              return tool.action && tool.action.call(_this);\n            }\n          }\n        }, [tool.icon ? h(\"i\", {\n          \"class\": ['shortcut-icon', 'fa', \"fa-\".concat(tool.icon)],\n          \"attrs\": {\n            \"aria-hidden\": \"true\"\n          }\n        }) : tool.text || _this.$t(tool.i18nTooltip)]), tool.icon === 'minus' && h(\"div\", {\n          \"style\": {\n            fontSize: '12px',\n            textAlign: 'center'\n          }\n        }, [_this.scaleRate * 100, \"%\"])]);\n      })])]);\n    },\n    mounted: function mounted() {\n      var _this2 = this;\n\n      fixedTools.map(function (tool) {\n        tool.hotkey && hotkeys__default['default'](tool.hotkey, {\n          splitKey: '&'\n        }, function (event, handler) {\n          event.preventDefault();\n          event.stopPropagation();\n          tool.action && tool.action.call(_this2);\n        });\n      });\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-17 11:44:55\r\n   * @Description :\r\n   */\n  var colorsPanel = {\n    name: 'colors-panel',\n    props: {\n      value: {\n        type: [Array, String]\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [Array.isArray(this.value) ? this.value.map(function (v, index) {\n        return h(\"input\", {\n          \"attrs\": {\n            \"size\": \"small\",\n            \"type\": \"color\",\n            \"autocomplete\": true\n          },\n          \"domProps\": {\n            \"value\": v\n          },\n          \"on\": {\n            \"change\": function change(e) {\n              var colors = _this.value.slice(0);\n\n              colors[index] = e.target.value;\n\n              _this.$emit('change', colors);\n            }\n          }\n        });\n      }) : h(\"input\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"type\": \"color\",\n          \"autocomplete\": true\n        },\n        \"domProps\": {\n          \"value\": this.value\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.$emit('change', e.target.value);\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$1;\n  var lbsTextAlign = {\n    name: 'lbs-text-align',\n    components: (_components$1 = {}, defineProperty$3(_components$1, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$3(_components$1, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), defineProperty$3(_components$1, antDesignVue.Tooltip.name, antDesignVue.Tooltip), _components$1),\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"div\", {\n        \"class\": \"wrap\"\n      }, [h(\"a-radio-group\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"value\": this.value\n        },\n        \"on\": {\n          \"change\": function change(value) {\n            _this.$emit('change', value);\n\n            _this.$emit('input', value);\n          }\n        }\n      }, [this.textAlignTabs.map(function (item) {\n        return h(\"a-tooltip\", {\n          \"attrs\": {\n            \"effect\": \"dark\",\n            \"placement\": \"top\",\n            \"title\": item.label\n          },\n          \"key\": item.value\n        }, [h(\"a-radio-button\", {\n          \"attrs\": {\n            \"value\": item.value\n          }\n        }, [h(\"i\", {\n          \"class\": ['fa', 'fa-align-' + item.value],\n          \"attrs\": {\n            \"aria-hidden\": \"true\"\n          }\n        })])]);\n      })])]);\n    },\n    props: {\n      value: {\n        type: [String, Number]\n      }\n    },\n    data: function data() {\n      return {\n        textAlignTabs: [{\n          label: '',\n          value: 'left'\n        }, {\n          label: '',\n          value: 'center'\n        }, {\n          label: '',\n          value: 'right'\n        }]\n      };\n    }\n  };\n\n  /**\r\n   *\r\n   declare module ExcelRows {\r\n    export interface cell {\r\n        text: string;\r\n    }\r\n    export interface Cells {\r\n      0: cell;\r\n      1: cell;\r\n      2: cell;\r\n    }\r\n    export interface ExcelRows {\r\n      cells: Cells;\r\n    }\r\n  }\r\n   */\n\n  /**\r\n    *\r\n    BinaryMatrix = [\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n    ]\r\n\r\n    ExcelDataType = [\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n    ]\r\n    */\n  var Parser$2 = /*#__PURE__*/function () {\n    function Parser() {\n      classCallCheck(this, Parser);\n    }\n\n    createClass(Parser, null, [{\n      key: \"dataset2excel\",\n\n      /**\r\n       *\r\n       * @param {*} dataset ExcelDataType\r\n       */\n      value: function dataset2excel(dataset) {\n        return dataset.map(function (item) {\n          return {\n            cells: {\n              0: {\n                text: item.x\n              },\n              1: {\n                text: item.y\n              },\n              2: {\n                text: item.s\n              }\n            }\n          };\n        });\n      }\n      /**\r\n       *\r\n        [\r\n          [1,2,3,4],\r\n          [5,6,7,8],\r\n          [9,10,11,12]\r\n        ]\r\n       * @param {Object} BinaryMatrix\r\n       * @returns {Object} ExcelDataType\r\n       */\n\n    }, {\n      key: \"binaryMatrix2excel\",\n      value: function binaryMatrix2excel() {\n        var binaryMatrix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var excelData = binaryMatrix.map(function (row, rowIndex) {\n          // cells: {\n          //   0: { text: item.x },\n          //   1: { text: item.y },\n          //   2: { text: item.s }\n          // }\n          var cells = {};\n          row.forEach(function (cellValue, cellIndex) {\n            cells[cellIndex] = {\n              text: cellValue\n            };\n          });\n          return {\n            cells: cells\n          };\n        });\n        return excelData;\n      }\n    }, {\n      key: \"excel2chartDataSet\",\n      value: function excel2chartDataSet(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          var _Object$values$map = Object.values(row.cells).map(function (item) {\n            return item.text;\n          }),\n              _Object$values$map2 = slicedToArray(_Object$values$map, 3),\n              x = _Object$values$map2[0],\n              y = _Object$values$map2[1],\n              s = _Object$values$map2[2];\n\n          return {\n            x: x,\n            y: y,\n            s: s\n          };\n        });\n        return dataset;\n      }\n    }, {\n      key: \"excel2BinaryMatrix\",\n      value: function excel2BinaryMatrix(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          // [1,2,3,4]\n          var cells = Object.values(row.cells).map(function (item) {\n            return item.text;\n          });\n          return cells;\n        });\n        console.log('dataset', dataset);\n        return dataset;\n      }\n      /**\r\n      *\r\n      * @param {Array} csvArray\r\n      *    [\r\n             ['', ''],\r\n             [\"11\",123],\r\n             [\"12\",1223],\r\n             [\"13\",2123],\r\n             [\"14\",4123],\r\n             [\"15\",3123],\r\n             [\"16\",7123]\r\n           ]\r\n      * @returns {Object}\r\n         {\r\n           columns: ['', ''],\r\n           rows:[\r\n             { '': '11', '': 123 },\r\n             { '': '12', '': 1223 },\r\n             { '': '13', '': 2123 },\r\n             { '': '14', '': 4123 },\r\n             { '': '15', '': 3123 },\r\n             { '': '16', '': 7123 }\r\n           ]\r\n         }\r\n      */\n\n    }, {\n      key: \"csv2VChartJson\",\n      value: function csv2VChartJson(csvArray) {\n        var columns = csvArray[0];\n        var rows = csvArray.slice(1);\n        var json = {\n          columns: columns,\n          rows: rows.map(function (row, index) {\n            var obj = {};\n            columns.forEach(function (col, colIndex) {\n              obj[col.trim()] = row[colIndex];\n            });\n            return obj;\n          })\n        };\n        return json;\n      }\n    }]);\n\n    return Parser;\n  }();\n\n  var validFileMimeTypes = ['text/csv', 'text/x-csv', 'application/vnd.ms-excel', 'text/plain'];\n  var CsvImport = {\n    name: 'lbs-csv-import',\n    methods: {\n      checkMimeType: function checkMimeType(type) {\n        return validFileMimeTypes.indexOf(type) > -1;\n      },\n      validFileMimeType: function validFileMimeType(e) {\n        e.preventDefault();\n        var file = this.$refs.csv.files[0];\n        var isValidFileMimeType = this.checkMimeType(file.type);\n        if (isValidFileMimeType) this.loadFile();\n      },\n      loadFile: function loadFile() {\n        var _this = this;\n\n        /**\r\n         * output {String}\r\n            \"columnA,columnB,columnC\r\n            \"Susan\",41,a\r\n            \"Mike\",5,b\r\n            \"Jake\",33,c\r\n            \"Jill\",30,d\r\n            \"\r\n          * csv {Object}\r\n          {\r\n            \"data\": [\r\n              [\"columnA\", \"columnB\", \"columnC\"],\r\n              [\"Susan\", \"41\", \"a\"],\r\n              [\"Mike\", \"5\", \"b\"],\r\n              [\"Jake\", \"33\", \"c\"],\r\n              [\"Jill\", \"30\", \"d\"],\r\n            ],\r\n            \"errors\": [],\r\n            \"meta\": {\r\n              \"delimiter\": \",\",\r\n              \"linebreak\": \"\\n\",\r\n              \"aborted\": false,\r\n              \"truncated\": false,\r\n              \"cursor\": 72\r\n            }\r\n          }\r\n         */\n        this.readFile(function (output) {\n          // const sample = Papa.parse(output, { preview: 2, skipEmptyLines: true })\n          var csv = Papa__default['default'].parse(output, {\n            skipEmptyLines: true\n          });\n\n          _this.$emit('parse', csv);\n\n          _this.$refs.input.value = '';\n        });\n      },\n      readFile: function readFile(callback) {\n        var file = this.$refs.csv.files[0];\n\n        if (file) {\n          var reader = new FileReader();\n          reader.readAsText(file, 'UTF-8');\n\n          reader.onload = function (evt) {\n            callback(evt.target.result);\n          };\n\n          reader.onerror = function () {};\n        }\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var randomId = +new Date();\n      return h(\"div\", {\n        \"style\": \"height: 24px;\"\n      }, [h(\"label\", {\n        \"attrs\": {\n          \"for\": randomId\n        },\n        \"class\": \"ant-btn ant-btn-primary ant-btn-sm\"\n      }, [\"\\u9009\\u62E9\\u5BFC\\u5165 csv \\u6587\\u4EF6\"]), h(\"input\", {\n        \"ref\": \"csv\",\n        \"attrs\": {\n          \"id\": randomId,\n          \"type\": \"file\",\n          \"name\": \"csv\"\n        },\n        \"on\": {\n          \"change\": this.validFileMimeType\n        },\n        \"style\": \"visibility:hidden;\"\n      }, [\"xxxx\"])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-17 16:45:47\r\n   * @Description :\r\n   */\n  var lbsExcelEditor = {\n    name: 'lbs-excel-editor',\n    props: {\n      value: {\n        type: Array\n      },\n      formatter: {\n        type: Function\n      }\n    },\n    computed: {\n      innerItems: {\n        get: function get() {\n          return Parser$2.binaryMatrix2excel(this.value);\n        },\n        set: function set(val) {\n          this.$emit('input', val);\n        }\n      }\n    },\n    watch: {\n      value: function value() {\n        this.refreshSheet({\n          rows: this.innerItems\n        });\n      }\n    },\n    methods: {\n      parseCSV: function parseCSV(csv) {\n        var sheetData = Parser$2.binaryMatrix2excel(csv.data);\n        this.$emit('change', csv.data);\n        this.refreshSheet({\n          rows: sheetData\n        });\n      },\n\n      /**\r\n       *\r\n       * @param {Object} data { rows }\r\n       */\n      refreshSheet: function refreshSheet(data) {\n        this.sheet.loadData(data);\n        this.sheet.reRender();\n      },\n      initSheet: function initSheet() {\n        var _this = this;\n\n        var ele = this.$refs.excel;\n        return this.sheet || new Spreadsheet__default['default'](ele, {\n          showToolbar: false,\n          showGrid: true,\n          showContextmenu: true // view: {\n          //   height: () => 400,\n          //   width: () => ele.getBoundingClientRect().width\n          // }\n\n        }).change(function (excelData) {\n          // console.log('----------')\n          // console.log(excelData)\n          // console.log(this.formatter(excelData))\n          // console.log('----------')\n          _this.$emit('change', _this.formatter(excelData)\n          /** BinaryMatrix */\n          ); // save data to db\n\n        });\n      }\n    },\n    // ()  data  props  render watcher \n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"style\": \"max-height: 320px;overflow:scroll;\"\n      }, [h(\"div\", {\n        \"style\": \"line-height:2;\"\n      }, [h(\"span\", [\"\\u65B9\\u68481: \", h(CsvImport, {\n        \"on\": {\n          \"parse\": this.parseCSV\n        }\n      })]), h(\"span\", [\"\\u65B9\\u68482: \\u76F4\\u63A5\\u7F16\\u8F91 Excel\"]), h(\"div\", {\n        \"ref\": \"excel\",\n        \"style\": \"margin-right: 12px;width: 100%;overflow: scroll\"\n      })])]);\n    },\n    mounted: function mounted() {\n      this.sheet = this.initSheet();\n      this.refreshSheet({\n        rows: this.innerItems\n      });\n    }\n  };\n\n  var _components$2;\n  var lbpSlideCustomEditor = {\n    components: (_components$2 = {}, defineProperty$3(_components$2, antDesignVue.Pagination.name, antDesignVue.Pagination), defineProperty$3(_components$2, antDesignVue.Button.name, antDesignVue.Pagination), _components$2),\n    props: {\n      elementProps: {\n        type: Object,\n        default: function _default() {\n          return {\n            items: [],\n            activeIndex: 0\n          };\n        }\n      }\n    },\n    computed: {\n      innerItems: function innerItems() {\n        return this.elementProps.items;\n      }\n    },\n    data: function data() {\n      return {\n        current: 1\n      };\n    },\n    methods: {\n      itemRender: function itemRender(current, type, originalElement) {\n        var _this = this;\n\n        var h = this.$createElement;\n\n        if (type === 'prev') {\n          return h(\"a-button\", {\n            \"style\": {\n              marginRight: '8px'\n            },\n            \"attrs\": {\n              \"size\": \"small\",\n              \"icon\": \"minus\",\n              \"disabled\": this.innerItems.length === 1\n            },\n            \"on\": {\n              \"click\": function click() {\n                return _this.minus(current);\n              }\n            }\n          });\n        } else if (type === 'next') {\n          return h(\"a-button\", {\n            \"style\": {\n              marginLeft: '8px'\n            },\n            \"attrs\": {\n              \"size\": \"small\",\n              \"icon\": \"plus\"\n            },\n            \"on\": {\n              \"click\": this.add\n            }\n          });\n        }\n\n        return originalElement;\n      },\n      add: function add() {\n        this.elementProps.items.push({\n          image: '',\n          value: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-value\"),\n          label: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-label\")\n        });\n      },\n      minus: function minus(index) {\n        if (this.innerItems.length === 1) return;\n        this.elementProps.items.splice(index, 1); // this.elementProps.activeIndex = index > 0 ? index - 1 : 0\n\n        this.elementProps.activeIndex = Math.max(index - 1, 0);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      var currentItem = this.innerItems[this.current - 1] || {};\n      return h(\"div\", [h(\"a-pagination\", {\n        \"attrs\": {\n          \"current\": this.current,\n          \"size\": \"small\",\n          \"total\": this.innerItems.length,\n          \"defaultPageSize\": 1,\n          \"itemRender\": this.itemRender\n        },\n        \"on\": {\n          \"change\": function change(page) {\n            _this2.current = page;\n            _this2.elementProps.activeIndex = page - 1;\n          }\n        }\n      }), h(\"lbs-image-gallery\", {\n        \"style\": {\n          margin: '16px 0'\n        },\n        \"attrs\": {\n          \"value\": currentItem.image\n        },\n        \"on\": {\n          \"change\": function change(url) {\n            currentItem.image = url;\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$3;\n\n  function ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { defineProperty$3(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderPropsEditor = {\n    components: (_components$3 = {}, defineProperty$3(_components$3, antDesignVue.Form.name, antDesignVue.Form), defineProperty$3(_components$3, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$3(_components$3, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$3(_components$3, antDesignVue.Button.name, antDesignVue.Button), defineProperty$3(_components$3, antDesignVue.Radio.name, antDesignVue.Radio), defineProperty$3(_components$3, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$3(_components$3, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), defineProperty$3(_components$3, antDesignVue.Input.name, antDesignVue.Input), defineProperty$3(_components$3, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$3(_components$3, antDesignVue.Switch.name, antDesignVue.Switch), defineProperty$3(_components$3, antDesignVue.InputNumber.name, antDesignVue.InputNumber), defineProperty$3(_components$3, antDesignVue.Select.name, antDesignVue.Select), defineProperty$3(_components$3, \"colorsPanel\", colorsPanel), defineProperty$3(_components$3, \"lbsTextAlign\", lbsTextAlign), defineProperty$3(_components$3, \"lbsExcelEditor\", lbsExcelEditor), defineProperty$3(_components$3, \"lbpSlideCustomEditor\", lbpSlideCustomEditor), _components$3),\n    data: function data() {\n      return {\n        loadCustomEditorFlag: false\n      };\n    },\n    props: {\n      layout: {\n        type: String,\n        default: 'horizontal'\n      },\n      config: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      value: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      }\n    },\n    watch: {\n      config: function config() {\n        var _this = this;\n\n        // config render\n        setTimeout(function () {\n          _this.form.setFieldsValue(_this.value);\n        });\n      }\n    },\n    created: function created() {\n      var _this2 = this;\n\n      this.form = this.$form.createForm(this, {\n        onFieldsChange: function onFieldsChange() {\n          _this2.$emit('change', _this2.form.getFieldsValue());\n        }\n      });\n    },\n    computed: {\n      formItemLayout: function formItemLayout() {\n        return this.layout === 'horizontal' ? {\n          labelCol: {\n            span: 6\n          },\n          wrapperCol: {\n            span: 16,\n            offset: 2\n          }\n        } : {};\n      }\n    },\n    methods: {\n      renderPropFormItem: function renderPropFormItem(propName, propConfig) {\n        var h = this.$createElement;\n        var editor = propConfig.editor;\n        if (!editor) return;\n        var formItemData = {\n          props: _objectSpread$4(_objectSpread$4(_objectSpread$4({}, this.formItemLayout), editor.layout), {}, {\n            label: editor.label\n          })\n        };\n        return h(\"a-form-item\", helper$5([{}, formItemData]), [h(editor.type, helper$5([{\n          \"directives\": [{\n            name: \"decorator\",\n            value: [propName]\n          }]\n        }, {\n          \"props\": editor.props\n        }]))]);\n      }\n    },\n    render: function render() {\n      var _this3 = this;\n\n      var h = arguments[0];\n      var configEntries = Object.entries(this.config);\n      return h(\"a-form\", {\n        \"attrs\": {\n          \"form\": this.form,\n          \"size\": \"mini\",\n          \"layout\": this.layout,\n          \"initialValue\": this.value\n        },\n        \"class\": \"props-config-form\"\n      }, [configEntries.map(function (_ref) {\n        var _ref2 = slicedToArray(_ref, 2),\n            propName = _ref2[0],\n            propConfig = _ref2[1];\n\n        return _this3.renderPropFormItem(propName, propConfig);\n      })]);\n    }\n  };\n\n  var _components$4;\n  var RenderScriptEditor = {\n    components: (_components$4 = {}, defineProperty$3(_components$4, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$3(_components$4, antDesignVue.Button.name, antDesignVue.Button), _components$4),\n    data: function data() {\n      return {\n        editorContent: \"return {\\n      editorMethods: {              // \\u6B64\\u9879\\u914D\\u7F6E\\u81EA\\u5B9A\\u4E49\\u65B9\\u6CD5\\u7684\\u5728\\u7EC4\\u4EF6\\u914D\\u7F6E\\u9762\\u677F\\u5982\\u4F55\\u5C55\\u793A\\n        projectJump1: {             // \\u65B9\\u6CD5\\u540D\\uFF0C\\u5BF9\\u5E94\\u4E8E methods \\u5185\\u7684\\u67D0\\u65B9\\u6CD5\\n          label: '\\u5916\\u90E8\\u8DF3\\u8F6C1',        // \\u81EA\\u5B9A\\u4E49\\u65B9\\u6CD5\\u663E\\u793A\\u540D\\n          params: [                 // \\u53C2\\u6570\\u5217\\u8868\\uFF0C\\u5BF9\\u8C61\\u6570\\u7EC4\\n            {\\n              label: '\\u8DF3\\u8F6C\\u5730\\u5740',     // \\u53C2\\u65701\\u7684\\u540D\\u79F0\\n              desc: '\\u9879\\u76EE\\u76F8\\u5BF9\\u5730\\u5740',   // \\u53C2\\u65701\\u7684\\u63CF\\u8FF0\\n              type: 'string',       // \\u53C2\\u65701\\u7684\\u7C7B\\u578B\\uFF0C\\u652F\\u6301string|number|boolean|array|object\\n              default: ''           // \\u53C2\\u65701\\u9ED8\\u8BA4\\u503C\\n            },\\n            {\\n              label: '\\u53C2\\u6570',\\n              desc: 'query\\u5F62\\u5F0F\\u53C2\\u6570',\\n              type: 'object',\\n              default: {}\\n            }\\n          ]\\n        }\\n      },\\n      methods:{\\n        projectJump1:function(url, query){\\n          console.log(url, query)\\n          let win = window.open(url, '_blank')\\n          win.focus()\\n        }\\n      }\\n    }\"\n      };\n    },\n    render: function render(h) {\n      return h(\"span\", [this.$t('editor.editPanel.common.empty')]);\n    }\n  };\n\n  // @@match logic\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [\n      // `String.prototype.match` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.match\n      function match(regexp) {\n        var O = requireObjectCoercible(this);\n        var matcher = regexp == undefined ? undefined : regexp[MATCH];\n        return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n      },\n      // `RegExp.prototype[@@match]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n      function (regexp) {\n        var res = maybeCallNative(nativeMatch, regexp, this);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        if (!rx.global) return regexpExecAbstract(rx, S);\n\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n        var A = [];\n        var n = 0;\n        var result;\n        while ((result = regexpExecAbstract(rx, S)) !== null) {\n          var matchStr = String(result[0]);\n          A[n] = matchStr;\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n          n++;\n        }\n        return n === 0 ? null : A;\n      }\n    ];\n  });\n\n  // #!zh: \n  var firstLevelAnimationOptions = [{\n    label: '',\n    value: //\n  }, {\n    label: '',\n    value: //\n  }, {\n    label: '',\n    value: /|/\n  }];\n  var animationOptions = [{\n    label: '',\n    value: '',\n    children: [{\n      label: '',\n      value: ''\n    }]\n  }, {\n    label: '',\n    value: 'Attention Seekers',\n    children: [{\n      label: '',\n      value: 'justRotate'\n    }, {\n      label: '',\n      value: 'bounce'\n    }, {\n      label: '',\n      value: 'flash'\n    }, {\n      label: '',\n      value: 'pulse'\n    }, {\n      label: '',\n      value: 'shake'\n    }, {\n      label: '',\n      value: 'swing'\n    }, {\n      label: '',\n      value: 'rubberBand'\n    }, {\n      label: '',\n      value: 'jello'\n    }, {\n      label: '',\n      value: 'tada'\n    }, {\n      label: '',\n      value: 'wobble'\n    }]\n  }, {\n    label: '',\n    value: 'Bouncing Entrances',\n    children: [{\n      label: '',\n      value: 'bounceIn'\n    }, {\n      label: '',\n      value: 'bounceInDown'\n    }, {\n      label: '',\n      value: 'bounceInLeft'\n    }, {\n      label: '',\n      value: 'bounceInRight'\n    }, {\n      label: '',\n      value: 'bounceInUp'\n    }]\n  }, {\n    label: '',\n    value: 'Bouncing Exits',\n    children: [{\n      label: '',\n      value: 'bounceOut'\n    }, {\n      label: '',\n      value: 'bounceOutDown'\n    }, {\n      label: '',\n      value: 'bounceOutLeft'\n    }, {\n      label: '',\n      value: 'bounceOutRight'\n    }, {\n      label: '',\n      value: 'bounceOutUp'\n    }]\n  }, {\n    label: '',\n    value: 'Fading Entrances',\n    children: [{\n      label: '',\n      value: 'fadeIn'\n    }, {\n      label: '',\n      value: 'fadeInDown'\n    }, {\n      label: '',\n      value: 'fadeInDownBig'\n    }, {\n      label: '',\n      value: 'fadeInLeft'\n    }, {\n      label: '',\n      value: 'fadeInLeftBig'\n    }, {\n      label: '',\n      value: 'fadeInRight'\n    }, {\n      label: '',\n      value: 'fadeInRightBig'\n    }, {\n      label: '',\n      value: 'fadeInUp'\n    }, {\n      label: '',\n      value: 'fadeInUpBig'\n    }]\n  }, {\n    label: '',\n    value: 'Fading Exits',\n    children: [{\n      label: '',\n      value: 'fadeOut'\n    }, {\n      label: '',\n      value: 'fadeOutDown'\n    }, {\n      label: '',\n      value: 'fadeOutDownBig'\n    }, {\n      label: '',\n      value: 'fadeOutLeft'\n    }, {\n      label: '',\n      value: 'fadeOutLeftBig'\n    }, {\n      label: '',\n      value: 'fadeOutRight'\n    }, {\n      label: '',\n      value: 'fadeOutRightBig'\n    }, {\n      label: '',\n      value: 'fadeOutUp'\n    }, {\n      label: '',\n      value: 'fadeOutUpBig'\n    }]\n  }, {\n    label: '',\n    value: 'Flippers',\n    children: [{\n      label: '',\n      value: 'flip'\n    }, {\n      label: '',\n      value: 'flipInX'\n    }, {\n      label: '',\n      value: 'flipInY'\n    }, {\n      label: '',\n      value: 'flipOutX'\n    }, {\n      label: '',\n      value: 'flipOutY'\n    }]\n  }, {\n    label: '',\n    value: 'Lightspeed',\n    children: [{\n      label: '',\n      value: 'lightSpeedIn'\n    }, {\n      label: '',\n      value: 'lightSpeedOut'\n    }]\n  }, {\n    label: '',\n    value: 'Rotating Entrances',\n    children: [{\n      label: '',\n      value: 'rotateIn'\n    }, {\n      label: '',\n      value: 'rotateInDownLeft'\n    }, {\n      label: '',\n      value: 'rotateInDownRight'\n    }, {\n      label: '',\n      value: 'rotateInUpLeft'\n    }, {\n      label: '',\n      value: 'rotateInUpRight'\n    }]\n  }, {\n    label: '',\n    value: 'Rotating Exits',\n    children: [{\n      label: '',\n      value: 'rotateOut'\n    }, {\n      label: '',\n      value: 'rotateOutDownLeft'\n    }, {\n      label: '',\n      value: 'rotateOutDownRight'\n    }, {\n      label: '',\n      value: 'rotateOutUpLeft'\n    }, {\n      label: '',\n      value: 'rotateOutUpRight'\n    }]\n  }, {\n    label: '',\n    value: 'Sliding Entrances',\n    children: [{\n      label: '',\n      value: 'slideInUp'\n    }, {\n      label: '',\n      value: 'slideInDown'\n    }, {\n      label: '',\n      value: 'slideInLeft'\n    }, {\n      label: '',\n      value: 'slideInRight'\n    }]\n  }, {\n    label: '',\n    value: 'Sliding Exits',\n    children: [{\n      label: '',\n      value: 'slideOutUp'\n    }, {\n      label: '',\n      value: 'slideOutDown'\n    }, {\n      label: '',\n      value: 'slideOutLeft'\n    }, {\n      label: '',\n      value: 'slideOutRight'\n    }]\n  }, {\n    label: '',\n    value: 'Zoom Entrances',\n    children: [{\n      label: '',\n      value: 'zoomIn'\n    }, {\n      label: '',\n      value: 'zoomInDown'\n    }, {\n      label: '',\n      value: 'zoomInLeft'\n    }, {\n      label: '',\n      value: 'zoomInRight'\n    }, {\n      label: '',\n      value: 'zoomInUp'\n    }]\n  }, {\n    label: '',\n    value: 'Zoom Exits',\n    children: [{\n      label: '',\n      value: 'zoomOut'\n    }, {\n      label: '',\n      value: 'zoomOutDown'\n    }, {\n      label: '',\n      value: 'zoomOutLeft'\n    }, {\n      label: '',\n      value: 'zoomOutRight'\n    }, {\n      label: '',\n      value: 'zoomOutUp'\n    }]\n  }, {\n    label: '',\n    value: 'Specials',\n    children: [{\n      label: '',\n      value: 'hinge'\n    }, {\n      label: '',\n      value: 'rollIn'\n    }, {\n      label: '',\n      value: 'rollOut'\n    }]\n  }];\n  /**\r\n   * @return {Object} { animationValue: animatonLabel }\r\n   */\n\n  var animationValue2Name = animationOptions.reduce(function (obj, curr) {\n    var items = curr.children;\n    items.forEach(function (item) {\n      obj[item.value] = item.label;\n    });\n    return obj;\n  }, {});\n\n  var _components$5;\n  var RenderAnimationEditor = {\n    components: (_components$5 = {}, defineProperty$3(_components$5, antDesignVue.InputNumber.name, antDesignVue.InputNumber), defineProperty$3(_components$5, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$3(_components$5, antDesignVue.List.name, antDesignVue.List), defineProperty$3(_components$5, antDesignVue.List.Item.name, antDesignVue.List.Item), defineProperty$3(_components$5, antDesignVue.Form.name, antDesignVue.Form), defineProperty$3(_components$5, antDesignVue.Button.name, antDesignVue.Button), defineProperty$3(_components$5, antDesignVue.Popover.name, antDesignVue.Popover), defineProperty$3(_components$5, antDesignVue.Slider.name, antDesignVue.Slider), defineProperty$3(_components$5, antDesignVue.Switch.name, antDesignVue.Switch), defineProperty$3(_components$5, antDesignVue.Collapse.name, antDesignVue.Collapse), defineProperty$3(_components$5, antDesignVue.Collapse.Panel.name, antDesignVue.Collapse.Panel), defineProperty$3(_components$5, antDesignVue.Icon.name, antDesignVue.Icon), defineProperty$3(_components$5, antDesignVue.Drawer.name, antDesignVue.Drawer), defineProperty$3(_components$5, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), defineProperty$3(_components$5, antDesignVue.Button.Group.name, antDesignVue.Button.Group), defineProperty$3(_components$5, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$3(_components$5, antDesignVue.Tag.name, antDesignVue.Tag), _components$5),\n    props: {\n      value: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    computed: {\n      animationQueue: function animationQueue() {\n        return this.value || [];\n      }\n    },\n    data: function data() {\n      return {\n        activeCollapsePanel: 0,\n        activePreviewAnimation: '',\n        drawerVisible: false\n      };\n    },\n    methods: {\n      addAnimation: function addAnimation() {\n        this.animationQueue.push({\n          type: '',\n          duration: 1,\n          delay: 0,\n          interationCount: 1,\n          infinite: false\n        });\n        this.activeCollapsePanel = this.animationQueue.length - 1;\n        this.$emit('change', this.animationQueue);\n      },\n      deleteAnimate: function deleteAnimate(index) {\n        this.animationQueue.splice(index, 1);\n        this.$emit('change', this.animationQueue);\n      },\n      updateAnimation: function updateAnimation(type) {\n        var activeAnimationQueue = this.animationQueue[this.activeCollapsePanel];\n\n        if (activeAnimationQueue) {\n          activeAnimationQueue.type = type;\n        }\n\n        this.drawerVisible = false;\n        this.$emit('change', this.animationQueue);\n      },\n      runAnimate: function runAnimate() {\n        EventBus.$emit('RUN_ANIMATIONS');\n      },\n      renderSecondAnimationTabs: function renderSecondAnimationTabs(animations) {\n        var _this = this;\n\n        var h = this.$createElement;\n        return h(\"a-tabs\", {\n          \"attrs\": {\n            \"defaultActiveKey\": animations[0].value,\n            \"tabBarStyle\": {\n              marginLeft: '-16px'\n            },\n            \"size\": \"small\",\n            \"tabBarGutter\": 0,\n            \"tabPosition\": \"left\"\n          },\n          \"on\": {\n            \"change\": function change(tab) {}\n          },\n          \"style\": \"width:100%;\"\n        }, [animations.map(function (group) {\n          return h(\"a-tab-pane\", {\n            \"attrs\": {\n              \"tab\": group.label || group.value\n            },\n            \"key\": group.value\n          }, [h(\"a-list\", {\n            \"attrs\": {\n              \"grid\": {\n                gutter: 12,\n                column: 2\n              },\n              \"dataSource\": group.children,\n              \"renderItem\": function renderItem(item, index) {\n                return h(\"a-list-item\", {\n                  \"class\": \"shortcut-button-wrapper\"\n                }, [h(\"div\", {\n                  \"on\": {\n                    \"click\": function click() {\n                      return _this.updateAnimation(item.value);\n                    },\n                    \"mouseenter\": function mouseenter(e) {\n                      _this.activePreviewAnimation = item.value;\n                    },\n                    \"mouseleave\": function mouseleave() {}\n                  },\n                  \"class\": ['shortcut-button', _this.activePreviewAnimation === item.value && \"\".concat(item.value, \" animated\")]\n                }, [item.label])]);\n              }\n            }\n          })]);\n        })]);\n      },\n      renderAvaiableAnimations: function renderAvaiableAnimations() {\n        var _this2 = this;\n\n        var h = this.$createElement;\n        return h(\"a-tabs\", {\n          \"class\": \"avaiable-animations-tabs\",\n          \"attrs\": {\n            \"defaultActiveKey\": firstLevelAnimationOptions[0].label,\n            \"size\": \"small\",\n            \"tabBarGutter\": 0\n          },\n          \"on\": {\n            \"change\": function change(tab) {}\n          },\n          \"style\": \"width:100%;\"\n        }, [firstLevelAnimationOptions.map(function (firstGroup) {\n          return h(\"a-tab-pane\", {\n            \"attrs\": {\n              \"tab\": firstGroup.label\n            },\n            \"key\": firstGroup.label\n          }, [_this2.renderSecondAnimationTabs(animationOptions.filter(function (group) {\n            return !!group.label.match(firstGroup.value);\n          }))]);\n        })]);\n      },\n      renderAnimationOptions: function renderAnimationOptions(animationOption) {\n        var _this3 = this;\n\n        var h = this.$createElement;\n        return h(\"a-form\", {\n          \"attrs\": {\n            \"layout\": \"horizontal\"\n          }\n        }, [h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.type'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          }\n        }, [h(\"a-button\", {\n          \"attrs\": {\n            \"type\": \"link\",\n            \"size\": \"small\",\n            \"icon\": \"ordered-list\"\n          },\n          \"on\": {\n            \"click\": function click() {\n              _this3.drawerVisible = true;\n            }\n          }\n        }, [this.$t('editor.editPanel.animation.list')])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.duration'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)'\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.duration\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.duration = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)',\n            marginLeft: '4px'\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u79D2(s)\");\n            },\n            \"value\": animationOption.duration\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.duration = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.delay'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)'\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.delay\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.delay = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)',\n            marginLeft: '4px'\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u79D2(s)\");\n            },\n            \"value\": animationOption.delay\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.delay = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.iteration'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)'\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.interationCount\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.interationCount = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)',\n            marginLeft: '4px'\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u6B21(times)\");\n            },\n            \"value\": animationOption.interationCount\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.interationCount = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.inifinite'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-switch\", {\n          \"attrs\": {\n            \"value\": animationOption.infinite\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.infinite = value;\n            }\n          }\n        })])]);\n      }\n    },\n    render: function render(h) {\n      var _this4 = this;\n\n      return h(\"div\", {\n        \"class\": \"main-animate widget\",\n        \"attrs\": {\n          \"id\": \"animation-right-panel\"\n        }\n      }, [h(\"a-button-group\", [h(\"a-button\", {\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"on\": {\n          \"click\": this.addAnimation\n        }\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      }), this.$t('editor.editPanel.animation.add')]), h(\"a-button\", {\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"on\": {\n          \"click\": this.runAnimate\n        }\n      }, [this.$t('editor.editPanel.animation.run'), h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"right-circle\"\n        }\n      })])]), h(\"a-collapse\", {\n        \"attrs\": {\n          \"accordion\": true,\n          \"activeKey\": '' + this.activeCollapsePanel\n        },\n        \"class\": \"collapse-wrapper\",\n        \"on\": {\n          \"change\": function change(key) {\n            // key  undefined\n            _this4.activeCollapsePanel = typeof key !== 'undefined' ? +key : -1;\n          }\n        }\n      }, [this.animationQueue.map(function (addedAnimation, index) {\n        return h(\"a-collapse-panel\", {\n          \"key\": \"\".concat(index)\n        }, [h(\"template\", {\n          \"slot\": \"header\"\n        }, [h(\"span\", [_this4.$t('editor.editPanel.animation.title', {\n          index: index + 1\n        })]), h(\"a-tag\", {\n          \"attrs\": {\n            \"color\": \"orange\"\n          }\n        }, [animationValue2Name[addedAnimation.type] || addedAnimation.type]), h(\"a-icon\", {\n          \"attrs\": {\n            \"type\": \"delete\",\n            \"title\": \"\"\n          },\n          \"on\": {\n            \"click\": function click() {\n              return _this4.deleteAnimate(index);\n            }\n          }\n        })]), _this4.renderAnimationOptions(addedAnimation)]);\n      })]), h(\"a-drawer\", {\n        \"attrs\": {\n          \"title\": \"\",\n          \"placement\": \"left\",\n          \"closable\": true,\n          \"width\": \"100%\",\n          \"visible\": this.drawerVisible,\n          \"wrapStyle\": {\n            position: 'absolute'\n          },\n          \"getContainer\": false\n        },\n        \"on\": {\n          \"close\": function close() {\n            _this4.drawerVisible = false;\n          }\n        }\n      }, [h(\"div\", [this.renderAvaiableAnimations()])])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-12 16:35:48\r\n   * @Description :\r\n   */\n  var RenderActionEditor = {\n    data: function data() {\n      return {};\n    },\n    render: function render() {\n      var h = arguments[0];\n      var ele = this.editingElement;\n      if (!ele) return h(\"span\", [this.$t('editor.editPanel.common.empty')]);\n      return h(\"div\", [\"TODO\"]);\n    }\n  };\n\n  var freezing = !fails(function () {\n    return Object.isExtensible(Object.preventExtensions({}));\n  });\n\n  var internalMetadata = createCommonjsModule(function (module) {\n  var defineProperty = objectDefineProperty.f;\n\n\n\n  var METADATA = uid('meta');\n  var id = 0;\n\n  var isExtensible = Object.isExtensible || function () {\n    return true;\n  };\n\n  var setMetadata = function (it) {\n    defineProperty(it, METADATA, { value: {\n      objectID: 'O' + ++id, // object ID\n      weakData: {}          // weak collections IDs\n    } });\n  };\n\n  var fastKey = function (it, create) {\n    // return a primitive with prefix\n    if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return 'F';\n      // not necessary to add metadata\n      if (!create) return 'E';\n      // add missing metadata\n      setMetadata(it);\n    // return object ID\n    } return it[METADATA].objectID;\n  };\n\n  var getWeakData = function (it, create) {\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return true;\n      // not necessary to add metadata\n      if (!create) return false;\n      // add missing metadata\n      setMetadata(it);\n    // return the store of weak collections IDs\n    } return it[METADATA].weakData;\n  };\n\n  // add metadata on freeze-family methods calling\n  var onFreeze = function (it) {\n    if (freezing && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n    return it;\n  };\n\n  var meta = module.exports = {\n    REQUIRED: false,\n    fastKey: fastKey,\n    getWeakData: getWeakData,\n    onFreeze: onFreeze\n  };\n\n  hiddenKeys[METADATA] = true;\n  });\n\n  var onFreeze = internalMetadata.onFreeze;\n\n  var nativeFreeze = Object.freeze;\n  var FAILS_ON_PRIMITIVES$2 = fails(function () { nativeFreeze(1); });\n\n  // `Object.freeze` method\n  // https://tc39.github.io/ecma262/#sec-object.freeze\n  _export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$2, sham: !freezing }, {\n    freeze: function freeze(it) {\n      return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n    }\n  });\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-06 14:56:14\r\n   * @Description :\r\n   */\n\n  /**\r\n    * \r\n    * h5_swipper H5\r\n    * h5_long_page H5\r\n   */\n  var PAGE_MODE = {\n    SWIPPER_PAGE: 'h5_swipper',\n    LONG_PAGE: 'h5_long_page',\n    WIDTH: 375,\n    HEIGHT: 667\n  };\n  var PAGE_MODE_LABEL = {\n    SWIPPER_PAGE: 'H5',\n    LONG_PAGE: ''\n  };\n\n  var _components$6;\n  var RenderBackgroundEditor = {\n    components: (_components$6 = {}, defineProperty$3(_components$6, antDesignVue.Form.name, antDesignVue.Form), defineProperty$3(_components$6, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$3(_components$6, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$3(_components$6, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), _components$6),\n    data: function data() {\n      return {\n        formLayout: 'vertical',\n        PAGE_MODE: Object.freeze(PAGE_MODE),\n        PAGE_MODE_LABEL: Object.freeze(PAGE_MODE_LABEL)\n      };\n    },\n    computed: {\n      pageMode: {\n        get: function get() {\n          return this.work.page_mode || PAGE_MODE.SWIPPER_PAGE;\n        },\n        set: function set(pageMode) {\n          this.updateWork({\n            page_mode: pageMode\n          });\n        }\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"a-form\", {\n        \"attrs\": {\n          \"layout\": this.formLayout\n        }\n      }, [h(\"a-form-item\", {\n        \"attrs\": {\n          \"label\": \"H5\"\n        }\n      }, [h(\"a-radio-group\", {\n        \"attrs\": {\n          \"size\": \"small\"\n        },\n        \"model\": {\n          value: _this.pageMode,\n          callback: function callback($$v) {\n            _this.pageMode = $$v;\n          }\n        }\n      }, [PAGE_MODE.map(function (v, k) {\n        return h(\"a-radio-button\", {\n          \"key\": k,\n          \"attrs\": {\n            \"value\": v\n          }\n        }, [PAGE_MODE_LABEL[k]]);\n      })])])])]);\n    }\n  };\n\n  var _components$7;\n  var EditorRightPanel = {\n    name: 'ElementPropsEditor',\n    components: (_components$7 = {}, defineProperty$3(_components$7, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$3(_components$7, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$3(_components$7, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), _components$7),\n    props: {\n      width: {\n        type: Number,\n        default: 375\n      },\n      element: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      }\n    },\n    computed: {\n      editPropsConfig: function editPropsConfig() {\n        var element = this.element;\n\n        if (element && element.name) {\n          var _pluginsControl$getPl = lbpPluginController.getPlugin(element.name),\n              component = _pluginsControl$getPl.component;\n\n          return this.getPropsWithEditor(component.props);\n        } else {\n          return {};\n        }\n      },\n      editPropsValue: function editPropsValue() {\n        var element = this.element,\n            editPropsConfig = this.editPropsConfig;\n        var editPropsConfigKeys = Object.keys(editPropsConfig);\n        var props = element ? element.props : {};\n        var propsValue = {};\n        editPropsConfigKeys.forEach(function (key) {\n          propsValue[key] = props[key];\n        });\n        return propsValue;\n      },\n      editAnimationValue: function editAnimationValue() {\n        var element = this.element;\n        var animations = element ? element.animations : [];\n        return animations;\n      }\n    },\n    data: function data() {\n      return {\n        activeTabKey: ''\n      };\n    },\n    methods: {\n      setActiveTab: function setActiveTab(activeTabKey) {\n        this.activeTabKey = activeTabKey;\n      },\n      getPropsWithEditor: function getPropsWithEditor(props) {\n        var propsWithEditor = {};\n        Object.entries(props).forEach(function (_ref) {\n          var _ref2 = slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          if (value.editor) {\n            propsWithEditor[key] = value;\n          }\n        });\n        return propsWithEditor;\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": this.width,\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          padding: '0 12px'\n        }\n      }, [h(\"a-tabs\", {\n        \"style\": \"height: 100%;\",\n        \"attrs\": {\n          \"tabBarGutter\": 10,\n          \"defaultActiveKey\": this.activeTabKey,\n          \"activeKey\": this.activeTabKey\n        },\n        \"on\": {\n          \"change\": this.setActiveTab\n        }\n      }, [h(\"a-tab-pane\", {\n        \"key\": \"\"\n      }, [h(\"span\", {\n        \"slot\": \"tab\"\n      }, [this.$t('editor.editPanel.tab.prop')]), h(RenderPropsEditor, {\n        \"attrs\": {\n          \"config\": this.editPropsConfig,\n          \"value\": this.editPropsValue\n        },\n        \"on\": {\n          \"change\": this.$listeners.propsChange\n        }\n      })]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.animation')\n        },\n        \"key\": \"\"\n      }, [h(RenderAnimationEditor, {\n        \"attrs\": {\n          \"value\": this.editAnimationValue\n        },\n        \"on\": {\n          \"change\": this.$listeners.animationsChange\n        }\n      })]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.action')\n        },\n        \"key\": \"\"\n      }, [this.activeTabKey === '' && h(RenderActionEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.script')\n        },\n        \"key\": \"\"\n      }, [h(RenderScriptEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.page')\n        },\n        \"key\": \"\"\n      }, [this.activeTabKey === '' && h(RenderBackgroundEditor)])])]);\n    }\n  };\n\n  var ShortcutButton = {\n    functional: true,\n    props: {\n      faIcon: {\n        required: true,\n        type: String\n      },\n      title: {\n        required: true,\n        type: String\n      },\n      clickFn: {\n        required: false,\n        type: Function,\n        default: function _default() {}\n      },\n      mousedownFn: {\n        required: false,\n        type: Function,\n        default: function _default() {}\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      }\n    },\n    render: function render(h, _ref) {\n      var props = _ref.props,\n          listeners = _ref.listeners,\n          slots = _ref.slots;\n      return h(\"button\", {\n        \"class\": \"shortcut-button\",\n        \"on\": {\n          \"click\": props.clickFn,\n          \"mousedown\": props.mousedownFn\n        },\n        \"attrs\": {\n          \"disabled\": props.disabled\n        }\n      }, [h(\"i\", {\n        \"class\": ['shortcut-icon', 'fa', \"fa-\".concat(props.faIcon)],\n        \"attrs\": {\n          \"aria-hidden\": 'true'\n        }\n      }), h(\"span\", [props.title])]);\n    }\n  };\n\n  var UsageTip = {\n    components: defineProperty$3({}, antDesignVue.Icon.name, antDesignVue.Icon),\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"plugin-usage-tip \"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"info-circle\"\n        }\n      }), h(\"i18n\", {\n        \"attrs\": {\n          \"path\": \"editor.tip.componentUsage\",\n          \"tag\": \"span\"\n        },\n        \"class\": \"ml-1\"\n      }, [h(\"strong\", [this.$t('editor.tip.click')]), this.$t('editor.tip.click')])]);\n    }\n  };\n\n  var _components$8;\n\n  function ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { defineProperty$3(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var script$1 = {\n    components: (_components$8 = {}, defineProperty$3(_components$8, antDesignVue.Modal.name, antDesignVue.Modal), defineProperty$3(_components$8, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$3(_components$8, antDesignVue.Button.name, antDesignVue.Button), _components$8),\n    data: function data() {\n      return {\n        visible: false,\n        confirmLoading: false,\n        text: JSON.stringify([{\n          package: '@luban-h5/lbp-slide',\n          version: '0.0.7',\n          name: 'lbp-slide',\n          icon: 'photo',\n          i18nTitle: {\n            'en-US': 'Carousel',\n            'zh-CN': ''\n          },\n          title: '',\n          visible: true\n        }], null, 2)\n      };\n    },\n    methods: {\n      showModal: function showModal() {\n        this.visible = true;\n      },\n      handleOk: function handleOk(e) {\n        var createjs = window.createjs; // eslint-disable-next-line no-new-func\n\n        var npmPackages = new Function(\"return \".concat(this.text).replace('\\n', ''))();\n        npmPackages = npmPackages.map(function (pluginInfo) {\n          return _objectSpread$5(_objectSpread$5({}, pluginInfo), {}, {\n            // src: `https://cdn.jsdelivr.net/npm/${pluginInfo}/dist/${pluginInfo.name}.umd.js`\n            // src: `https://unpkg.com/${pluginInfo}/dist/${pluginName}.umd.js`\n            src: \"https://cdn.jsdelivr.net/npm/\".concat(pluginInfo.package, \"@\").concat(pluginInfo.version, \"/dist/\").concat(pluginInfo.name, \".umd.js\")\n          });\n        });\n        var queue = new createjs.LoadQueue();\n        queue.on('fileload', handleFileLoad, this);\n        queue.on('complete', handleComplete, this);\n        queue.loadManifest(npmPackages);\n\n        function handleComplete(e) {\n          //  this  queryon  bind this \n          this.visible = false;\n          this.confirmLoading = false;\n          this.$emit('loadComplete', npmPackages);\n        }\n\n        function handleFileLoad(event) {\n          var name = event.item.name;\n          Vue__default['default'].component(name, window[name]);\n        }\n      },\n      handleCancel: function handleCancel(e) {\n        this.visible = false;\n      }\n    }\n  };\n\n  /* script */\n  const __vue_script__$1 = script$1;\n\n  /* template */\n  var __vue_render__$1 = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\n      \"div\",\n      { staticStyle: { \"text-align\": \"center\" } },\n      [\n        _c(\n          \"a-button\",\n          {\n            staticStyle: { \"margin-top\": \"16px\" },\n            attrs: { type: \"primary\" },\n            on: { click: _vm.showModal }\n          },\n          [_vm._v(\" NPM \")]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"a-modal\",\n          {\n            attrs: {\n              title: \"NPM \",\n              visible: _vm.visible,\n              confirmLoading: _vm.confirmLoading\n            },\n            on: { ok: _vm.handleOk, cancel: _vm.handleCancel }\n          },\n          [\n            _c(\n              \"div\",\n              [\n                _c(\"a-textarea\", {\n                  attrs: { placeholder: \"Basic usage\", rows: 20 },\n                  model: {\n                    value: _vm.text,\n                    callback: function($$v) {\n                      _vm.text = $$v;\n                    },\n                    expression: \"text\"\n                  }\n                })\n              ],\n              1\n            )\n          ]\n        )\n      ],\n      1\n    )\n  };\n  var __vue_staticRenderFns__$1 = [];\n  __vue_render__$1._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__$1 = undefined;\n    /* scoped */\n    const __vue_scope_id__$1 = undefined;\n    /* module identifier */\n    const __vue_module_identifier__$1 = undefined;\n    /* functional template */\n    const __vue_is_functional_template__$1 = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__$1 = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },\n      __vue_inject_styles__$1,\n      __vue_script__$1,\n      __vue_scope_id__$1,\n      __vue_is_functional_template__$1,\n      __vue_module_identifier__$1,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  function ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { defineProperty$3(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-17 17:21:04\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-11-11 17:03:29\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/mixins/drag.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   * @Description:\r\n   *  \r\n   *  https://github.com/hakubox/haku-form-design tab \r\n   */\n  var dragDom = null;\n  var dragConfig = {\n    isPreDrag: false,\n    // \n    isDrag: false,\n    // \n    origin: {\n      clientY: 0,\n      // \n      clientX: 0,\n      layerX: 0,\n      // .x .left \n      layerY: 0 // .y .top  \n\n    }\n  };\n\n  var Drag = /*#__PURE__*/function () {\n    function Drag(options) {\n      classCallCheck(this, Drag);\n\n      this.mousedown = options.mousedown;\n      this.mousemove = options.mousemove;\n      this.mouseup = options.mouseup;\n      this._mousedown = this._mousedown.bind(this);\n      this._mousemove = this._mousemove.bind(this);\n      this._mouseup = this._mouseup.bind(this);\n    }\n\n    createClass(Drag, [{\n      key: \"start\",\n      value: function start(e) {\n        this._mousedown(e);\n      }\n    }, {\n      key: \"_mousedown\",\n      value: function _mousedown(e) {\n        this.mousedown(e);\n        this.toggleListener('add');\n      }\n    }, {\n      key: \"_mousemove\",\n      value: function _mousemove(e) {\n        this.mousemove(e);\n      }\n    }, {\n      key: \"_mouseup\",\n      value: function _mouseup(e) {\n        this.mouseup(e);\n        this.toggleListener('remove');\n      }\n    }, {\n      key: \"toggleListener\",\n      value: function toggleListener(action) {\n        document[\"\".concat(action, \"EventListener\")]('mousemove', this._mousemove);\n        document[\"\".concat(action, \"EventListener\")]('mouseup', this._mouseup);\n      }\n    }]);\n\n    return Drag;\n  }();\n\n  var dragMixin = {\n    data: function data() {\n      return {};\n    },\n    methods: {\n      /**\r\n       *\r\n       * @param {*} element shortcutItem\r\n       * @param {*} e\r\n       */\n      handleDragStartFromMixin: function handleDragStartFromMixin(element, e) {\n        // https://developer.mozilla.org/zh-CN/docs/Web/API/event.button\n        // 0  .\n        if (e.button !== 0) return;\n\n        if (dragDom) {\n          document.body.removeChild(dragDom);\n          dragDom = null;\n        }\n\n        this.dragElement = element;\n        dragDom = e.target.cloneNode(true);\n        document.body.appendChild(dragDom);\n        new Drag({\n          mousedown: this.mousedown,\n          mousemove: this.mousemove,\n          mouseup: this.mouseup\n        }).start(e);\n      },\n\n      /**\r\n       *\r\n       * @param {*} e\r\n       */\n      mousedown: function mousedown(e) {\n        // .x  \n        var layerX = e.layerX,\n            layerY = e.layerY;\n        dragConfig.origin.layerX = layerX;\n        dragConfig.origin.layerY = layerY;\n        dragConfig.origin.clientX = e.clientX;\n        dragConfig.origin.clientY = e.clientY;\n        dragDom.style.position = 'absolute';\n        dragDom.style.left = e.clientX - layerX + 'px';\n        dragDom.style.top = e.clientY - layerY + 'px';\n        dragDom.classList.add('dragging-dom-ele', 'hidden');\n        dragConfig.isPreDrag = true;\n      },\n\n      /**  */\n      mousemove: function mousemove(e) {\n        dragDom.classList.remove('hidden');\n        var _dragConfig$origin = dragConfig.origin,\n            layerX = _dragConfig$origin.layerX,\n            layerY = _dragConfig$origin.layerY;\n        dragDom.style.left = e.clientX - layerX + 'px';\n        dragDom.style.top = e.clientY - layerY + 'px';\n      },\n      mouseup: function mouseup(e) {\n        var _dragConfig$origin2 = dragConfig.origin,\n            layerX = _dragConfig$origin2.layerX,\n            layerY = _dragConfig$origin2.layerY;\n        document.body.removeChild(dragDom);\n        dragDom = null;\n        var canMousedown = this.checkCanMousedown(e, {\n          minOffset: 10\n        });\n        if (!canMousedown) return;\n        var canvasWrapper = document.querySelector('.lb-canvas');\n        var position = canvasWrapper.getBoundingClientRect();\n        this.dragElement && this.clone(_objectSpread$6(_objectSpread$6({}, this.dragElement), {}, {\n          dragStyle: {\n            left: e.clientX - layerX - position.left,\n            top: e.clientY - layerY - position.top\n          }\n        }));\n      },\n      checkCanMousedown: function checkCanMousedown(e, _ref) {\n        var minOffsetX = _ref.minOffsetX,\n            minOffsetY = _ref.minOffsetY,\n            minOffset = _ref.minOffset;\n        var offsetX = e.clientX - dragConfig.origin.clientX;\n        var offsetY = e.clientY - dragConfig.origin.clientY;\n        return offsetX >= (minOffsetX || minOffset) || offsetY >= (minOffsetY || minOffset);\n      }\n    },\n    updated: function updated() {\n      console.log('updated');\n    }\n  };\n\n  var _components$9;\n  var RenderShortcutsPanel = {\n    name: 'shotcuts-panel',\n    components: (_components$9 = {}, defineProperty$3(_components$9, antDesignVue.Row.name, antDesignVue.Row), defineProperty$3(_components$9, antDesignVue.Col.name, antDesignVue.Col), _components$9),\n    mixins: [dragMixin],\n    data: function data() {\n      return {\n        npmPackages: []\n      };\n    },\n    methods: {\n      clone: function clone(shortcutItem) {\n        this.$emit('add', shortcutItem);\n      }\n    },\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"a-row\", {\n        \"style\": \"padding-bottom: 24px\"\n      }, [h(UsageTip), [].concat(lbpPluginController.getPlugins(), this.npmPackages).filter(function (plugin) {\n        return plugin.visible;\n      }).map(function (plugin) {\n        return h(\"a-col\", {\n          \"attrs\": {\n            \"span\": 12\n          },\n          \"style\": {\n            marginTop: '10px'\n          }\n        }, [h(ShortcutButton, {\n          \"attrs\": {\n            \"clickFn\": _this.clone.bind(_this, plugin),\n            \"mousedownFn\": _this.handleDragStartFromMixin.bind(_this, plugin),\n            \"title\": plugin.i18nTitle[_this.$i18n.locale] || plugin.title,\n            \"faIcon\": plugin.icon,\n            \"disabled\": plugin.disabled\n          }\n        })]);\n      }), h(__vue_component__$1, {\n        \"on\": {\n          \"loadComplete\": function loadComplete(npmPackages) {\n            _this.npmPackages = npmPackages;\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$a;\n  var PageTitleEditor = {\n    components: (_components$a = {}, defineProperty$3(_components$a, antDesignVue.Popconfirm.name, antDesignVue.Popconfirm), defineProperty$3(_components$a, antDesignVue.Input.name, antDesignVue.Input), defineProperty$3(_components$a, antDesignVue.Icon.name, antDesignVue.Icon), _components$a),\n    props: ['page', 'pageIndex'],\n    data: function data() {\n      return {\n        editingTitle: '' //  title Yes  page title\n\n      };\n    },\n    methods: {\n      getTitle: function getTitle() {\n        return this.page.title || this.$t('editor.pageManager.title', {\n          index: this.pageIndex\n        });\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"a-popconfirm\", {\n        \"attrs\": {\n          \"placement\": \"bottom\",\n          \"okText\": \"Yes\",\n          \"cancelText\": \"No\"\n        },\n        \"on\": {\n          \"confirm\": function confirm() {\n            _this.$emit('editTitle', {\n              newTitle: _this.editingTitle,\n              pageIndex: _this.pageIndex\n            });\n          },\n          \"cancel\": function cancel() {}\n        }\n      }, [h(\"a-input\", {\n        \"slot\": \"title\",\n        \"attrs\": {\n          \"value\": this.editingTitle,\n          \"size\": \"small\"\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.editingTitle = e.target.value;\n          }\n        }\n      }), h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"edit\"\n        },\n        \"on\": {\n          \"click\": function click(e) {\n            e.stopPropagation(); //  click icon  click page item \n\n            _this.editingTitle = _this.getTitle();\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$b;\n  var PageTitleMenu = {\n    components: (_components$b = {}, defineProperty$3(_components$b, antDesignVue.Dropdown.name, antDesignVue.Dropdown), defineProperty$3(_components$b, antDesignVue.Menu.name, antDesignVue.Menu), defineProperty$3(_components$b, antDesignVue.Menu.Item.name, antDesignVue.Menu.Item), defineProperty$3(_components$b, antDesignVue.Icon.name, antDesignVue.Icon), _components$b),\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      var addPageText = this.$t('editor.pageManager.action.add');\n      var copyPageText = this.$t('editor.pageManager.action.copy');\n      var deletePageText = this.$t('editor.pageManager.action.delete');\n      return h(\"a-dropdown\", {\n        \"attrs\": {\n          \"trigger\": ['hover'],\n          \"placement\": \"bottomCenter\"\n        }\n      }, [h(\"a\", {\n        \"class\": \"ml-2\",\n        \"attrs\": {\n          \"href\": \"#\"\n        }\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"down\"\n        }\n      })]), h(\"a-menu\", {\n        \"slot\": \"overlay\",\n        \"on\": {\n          \"click\": function click(_ref) {\n            var key = _ref.key;\n            return _this.$emit('selectMenuItem', key);\n          }\n        }\n      }, [h(\"a-menu-item\", {\n        \"key\": \"add\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      }), addPageText]), h(\"a-menu-item\", {\n        \"key\": \"copy\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"copy\"\n        }\n      }), copyPageText]), h(\"a-menu-item\", {\n        \"key\": \"delete\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"delete\"\n        }\n      }), deletePageText])])]);\n    }\n  };\n\n  var PageTitleText = {\n    components: defineProperty$3({}, antDesignVue.Badge.name, antDesignVue.Badge),\n    props: ['page', 'pageIndex'],\n    methods: {\n      getTitle: function getTitle() {\n        return this.page.title || this.$t('editor.pageManager.title', {\n          index: this.pageIndex\n        });\n      }\n    },\n    render: function render(h) {\n      // #!en: Page<Index>\n      // #!zh: <Index>\n      return h(\"span\", [h(\"a-badge\", {\n        \"attrs\": {\n          \"count\": this.pageIndex + 1,\n          \"numberStyle\": {\n            backgroundColor: '#fff',\n            color: '#999',\n            boxShadow: '0 0 0 1px #d9d9d9 inset'\n          }\n        }\n      }), h(\"span\", {\n        \"class\": \"ml-3\"\n      }, [this.getTitle()])]);\n    }\n  };\n\n  var RenderPageManager = {\n    name: 'page-manager',\n    props: {\n      pages: {\n        type: Array,\n        default: []\n      }\n    },\n    components: defineProperty$3({}, antDesignVue.Button.name, antDesignVue.Button),\n    data: function data() {\n      return {\n        pageIndex: 0 // \n\n      };\n    },\n    methods: {\n      onSelectMenuItem: function onSelectMenuItem(menuKey) {\n        this.$emit('add');\n      },\n      onEditTitle: function onEditTitle(_ref) {\n        var pageIndex = _ref.pageIndex,\n            newTitle = _ref.newTitle;\n        this.pageManager({\n          type: 'editTitle',\n          value: {\n            pageIndex: pageIndex,\n            newTitle: newTitle\n          }\n        });\n      },\n      onSelectPage: function onSelectPage(pageIndex) {\n        this.pageIndex = pageIndex;\n        this.$emit('pageChange', pageIndex);\n      },\n      onLeave: function onLeave() {\n        this.hoverIndex = -1;\n      }\n    },\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"div\", {\n        \"class\": \"page-manager-panel\"\n      }, [this.pages.map(function (page, index) {\n        return h(\"span\", {\n          \"class\": ['cursor-pointer', 'page-manager-panel__item', index === _this.pageIndex && 'active'],\n          \"on\": {\n            \"click\": function click() {\n              return _this.onSelectPage(index);\n            },\n            \"mouseenter\": function mouseenter() {\n              _this.hoverIndex = index;\n            }\n          }\n        }, [h(PageTitleText, {\n          \"attrs\": {\n            \"page\": page,\n            \"pageIndex\": index\n          }\n        }), h(\"span\", [_this.hoverIndex === index && h(PageTitleEditor, {\n          \"attrs\": {\n            \"page\": page,\n            \"pageIndex\": index\n          },\n          \"on\": {\n            \"editTitle\": _this.onEditTitle\n          }\n        }), h(PageTitleMenu, {\n          \"on\": {\n            \"selectMenuItem\": _this.onSelectMenuItem\n          }\n        })])]);\n      }), h(\"a-button\", {\n        \"attrs\": {\n          \"icon\": \"plus\",\n          \"type\": \"dashed\"\n        },\n        \"class\": \"footer-actions\",\n        \"on\": {\n          \"click\": function click() {\n            return _this.onSelectMenuItem('add');\n          }\n        }\n      }, [this.$t('editor.pageManager.action.add')])]);\n    }\n  };\n\n  function getTreeNode(ele) {\n    return {\n      title: ele.name,\n      key: ele.id,\n      children: (ele.children || []).map(getTreeNode)\n    };\n  }\n\n  var script$2 = {\n    name: 'page-tree',\n    components: defineProperty$3({}, antDesignVue.Tree.name, antDesignVue.Tree),\n    computed: {\n      treeData: function treeData() {\n        return this.elements.map(getTreeNode);\n      }\n    },\n    data: function data() {\n      return {\n        gData: [],\n        expandedKeys: []\n      };\n    }\n  };\n\n  /* script */\n  const __vue_script__$2 = script$2;\n\n  /* template */\n  var __vue_render__$2 = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\"a-tree\", {\n      staticClass: \"draggable-tree\",\n      attrs: {\n        \"default-expanded-keys\": _vm.expandedKeys,\n        draggable: \"\",\n        \"tree-data\": _vm.treeData\n      }\n    })\n  };\n  var __vue_staticRenderFns__$2 = [];\n  __vue_render__$2._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__$2 = undefined;\n    /* scoped */\n    const __vue_scope_id__$2 = undefined;\n    /* module identifier */\n    const __vue_module_identifier__$2 = undefined;\n    /* functional template */\n    const __vue_is_functional_template__$2 = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__$2 = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__$2, staticRenderFns: __vue_staticRenderFns__$2 },\n      __vue_inject_styles__$2,\n      __vue_script__$2,\n      __vue_scope_id__$2,\n      __vue_is_functional_template__$2,\n      __vue_module_identifier__$2,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  var _components$c;\n  var EditorLeftPanel = {\n    props: {\n      pages: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    components: (_components$c = {}, defineProperty$3(_components$c, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$3(_components$c, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$3(_components$c, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), _components$c),\n    name: 'EditorLeftPanel',\n    render: function render(h) {\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": \"240\",\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          padding: '0 12px',\n          height: '100%',\n          overflow: 'auto'\n        }\n      }, [h(\"a-tabs\", {\n        \"attrs\": {\n          \"tabBarGutter\": 10\n        }\n      }, [h(\"a-tab-pane\", {\n        \"key\": \"plugin-list\",\n        \"attrs\": {\n          \"tab\": this.$t('editor.sidebar.components')\n        }\n      }, [h(RenderShortcutsPanel, {\n        \"on\": {\n          \"add\": this.$listeners.addElement\n        }\n      })]), h(\"a-tab-pane\", {\n        \"key\": \"page-manager\",\n        \"attrs\": {\n          \"tab\": this.$t('editor.sidebar.pages')\n        }\n      }, [h(RenderPageManager, {\n        \"attrs\": {\n          \"pages\": this.pages\n        },\n        \"on\": {\n          \"add\": this.$listeners.addPage,\n          \"pageChange\": this.$listeners.pageChange\n        }\n      })]), h(\"a-tab-pane\", {\n        \"key\": \"page-tree\",\n        \"attrs\": {\n          \"tab\": this.$t('editor.sidebar.tree')\n        }\n      }, [h(__vue_component__$2)])])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-06 10:50:05\r\n   * @LastEditTime : 2020-11-16 18:07:04\r\n   * @Description :\r\n   */\n  var AuxiliayLine = {\n    props: {\n      width: {\n        type: Number,\n        default: 0\n      },\n      height: {\n        type: Number,\n        default: 0\n      },\n      data: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    data: function data() {\n      return {\n        vLines: [],\n        hLines: []\n      };\n    },\n    watch: {\n      data: {\n        handler: 'calcVHLine',\n        deep: true\n      }\n    },\n    methods: {\n      drawVLine: function drawVLine(newLeft) {\n        this.vLines = [{\n          left: newLeft\n        }];\n      },\n      clearVLine: function clearVLine() {\n        this.vLines = [];\n      },\n      drawHLine: function drawHLine(newTop) {\n        this.hLines = [{\n          top: newTop\n        }];\n      },\n      clearHLine: function clearHLine() {\n        this.hLines = [];\n      },\n      genBorder: function genBorder(_ref) {\n        var left = _ref.left,\n            top = _ref.top,\n            width = _ref.width,\n            height = _ref.height;\n        return [[left + width, left + width / 2, left], [top + height, top + height / 2, top]];\n      },\n      calcVHLine: function calcVHLine() {\n        var _this = this;\n\n        var referElementsXCoords = [];\n        var referElementsYCoords = [];\n        var hasVLine = false;\n        var hasHLine = false;\n        this.data.forEach(function (e) {\n          var _this$genBorder = _this.genBorder(e),\n              _this$genBorder2 = slicedToArray(_this$genBorder, 2),\n              xCoords = _this$genBorder2[0],\n              yCoords = _this$genBorder2[1];\n\n          referElementsXCoords.push.apply(referElementsXCoords, toConsumableArray(xCoords));\n          referElementsYCoords.push.apply(referElementsYCoords, toConsumableArray(yCoords));\n        });\n\n        var _this$genBorder3 = this.genBorder({\n          left: 0,\n          top: 0,\n          width: this.width,\n          height: this.height\n        }),\n            _this$genBorder4 = slicedToArray(_this$genBorder3, 2),\n            exCoords = _this$genBorder4[0],\n            eyCoords = _this$genBorder4[1];\n\n        exCoords.forEach(function (eX) {\n          referElementsXCoords.forEach(function (referX) {\n            var offset = referX - eX;\n\n            if (Math.abs(offset) <= 5) {\n              _this.drawVLine(referX);\n\n              hasVLine = true;\n            }\n          });\n        });\n        eyCoords.forEach(function (eY) {\n          referElementsYCoords.forEach(function (referY) {\n            var offset = referY - eY;\n\n            if (Math.abs(offset) <= 5) {\n              _this.drawHLine(referY);\n\n              hasHLine = true;\n            }\n          });\n        });\n\n        if (!hasVLine) {\n          this.clearVLine();\n        }\n\n        if (!hasHLine) {\n          this.clearHLine();\n        }\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"luban-auxiliary-line\"\n      }, [this.vLines.map(function (line) {\n        return h(\"div\", {\n          \"class\": \"v-line\",\n          \"style\": {\n            left: \"\".concat(line.left, \"px\"),\n            height: \"\".concat(_this2.height, \"px\")\n          }\n        });\n      }), this.hLines.map(function (line) {\n        return h(\"div\", {\n          \"class\": \"h-line\",\n          \"style\": {\n            top: \"\".concat(line.top, \"px\"),\n            width: \"\".concat(_this2.width, \"px\")\n          }\n        });\n      })]);\n    }\n  };\n\n  var AdjustHeight = {\n    props: {\n      height: {\n        type: Number,\n        default: 0\n      }\n    },\n    components: defineProperty$3({}, antDesignVue.InputNumber.name, antDesignVue.InputNumber),\n    methods: {\n      /**\r\n       * \r\n       * @param {Number} height\r\n       */\n      updateWorkHeight: function updateWorkHeight(height) {\n        this.$emit('change', height);\n      },\n\n      /**\r\n       * TODO  adjust editor scale \r\n       * scale: height/width\r\n       * @param {MouseEvent} e\r\n       */\n      mousedownForAdjustLine: function mousedownForAdjustLine(e) {\n        var _this = this;\n\n        var startY = e.clientY;\n        var startHeight = this.height;\n        var canvasOuterWrapper = document.querySelector('#editor-wrapper .ant-layout');\n\n        var move = function move(moveEvent) {\n          // !#zh OK\n          moveEvent.stopPropagation();\n          moveEvent.preventDefault();\n          var currY = moveEvent.clientY;\n          var moveHeight = currY - startY;\n          var currentHeight = moveHeight + startHeight;\n\n          _this.updateWorkHeight(currentHeight);\n\n          if (canvasOuterWrapper) {\n            canvasOuterWrapper.scrollTop = canvasOuterWrapper.scrollHeight;\n          }\n        };\n\n        var up = function up() {\n          document.removeEventListener('mousemove', move, true);\n          document.removeEventListener('mouseup', up, true);\n        };\n\n        document.addEventListener('mousemove', move, true);\n        document.addEventListener('mouseup', up, true);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"style\": {\n          position: 'absolute',\n          bottom: '0px',\n          width: '100%',\n          transform: 'translateY(100%)'\n        }\n      }, [h(\"div\", {\n        \"class\": \"adjust-line-wrapper adjust-line-wrapper-h\"\n      }, [h(\"div\", {\n        \"class\": \"adjust-line adjust-line-h\"\n      }), h(\"div\", {\n        \"class\": \"adjust-button\",\n        \"on\": {\n          \"mousedown\": this.mousedownForAdjustLine\n        }\n      }, [h(\"div\", {\n        \"class\": \"indicator\"\n      })]), h(\"div\", {\n        \"class\": \"adjust-tip\"\n      }, [h(\"span\", [\"375 x\"]), h(\"a-input-number\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"value\": this.height\n        },\n        \"style\": \"margin: 0 4px; width:60px;\",\n        \"on\": {\n          \"change\": this.updateWorkHeight\n        }\n      }), h(\"span\", [\"px\"])])])]);\n    }\n  };\n\n  var AdjustLineV = {\n    methods: {\n      onMousedown: function onMousedown(e) {\n        var _this = this;\n\n        var startX = e.clientX;\n\n        var move = function move(moveEvent) {\n          moveEvent.preventDefault();\n          moveEvent.stopPropagation();\n          var offset = startX - moveEvent.clientX;\n\n          _this.$emit('lineMove', offset);\n\n          startX -= offset;\n        };\n\n        var up = function up(moveEvent) {\n          document.removeEventListener('mousemove', move, true);\n          document.removeEventListener('mouseup', up, true);\n        };\n\n        document.addEventListener('mousemove', move, true);\n        document.addEventListener('mouseup', up, true);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"adjust-line-wrapper adjust-line-wrapper-v\",\n        \"on\": {\n          \"mousedown\": this.onMousedown\n        }\n      }, [h(\"div\", {\n        \"class\": \"adjust-line adjust-line-v\"\n      }), h(\"div\", {\n        \"class\": \"adjust-button\"\n      }, [h(\"div\", {\n        \"class\": \"indicator\"\n      })])]);\n    }\n  };\n\n  var defineProperty$8 = objectDefineProperty.f;\n\n\n  var NativeSymbol = global_1.Symbol;\n\n  if (descriptors && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n    // Safari 12 bug\n    NativeSymbol().description !== undefined\n  )) {\n    var EmptyStringDescriptionStore = {};\n    // wrap Symbol constructor for correct work with undefined description\n    var SymbolWrapper = function Symbol() {\n      var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var result = this instanceof SymbolWrapper\n        ? new NativeSymbol(description)\n        // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n        : description === undefined ? NativeSymbol() : NativeSymbol(description);\n      if (description === '') EmptyStringDescriptionStore[result] = true;\n      return result;\n    };\n    copyConstructorProperties(SymbolWrapper, NativeSymbol);\n    var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n    symbolPrototype.constructor = SymbolWrapper;\n\n    var symbolToString = symbolPrototype.toString;\n    var native = String(NativeSymbol('test')) == 'Symbol(test)';\n    var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n    defineProperty$8(symbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        var symbol = isObject(this) ? this.valueOf() : this;\n        var string = symbolToString.call(symbol);\n        if (has(EmptyStringDescriptionStore, symbol)) return '';\n        var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n        return desc === '' ? undefined : desc;\n      }\n    });\n\n    _export({ global: true, forced: true }, {\n      Symbol: SymbolWrapper\n    });\n  }\n\n  var Page = /*#__PURE__*/function () {\n    function Page() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$title = _ref.title,\n          title = _ref$title === void 0 ? '' : _ref$title,\n          _ref$elements = _ref.elements,\n          elements = _ref$elements === void 0 ? [] : _ref$elements,\n          _ref$height = _ref.height,\n          height = _ref$height === void 0 ? PAGE_MODE.HEIGHT : _ref$height,\n          _ref$width = _ref.width,\n          width = _ref$width === void 0 ? PAGE_MODE.WIDTH : _ref$width,\n          _ref$pageMode = _ref.pageMode,\n          pageMode = _ref$pageMode === void 0 ? PAGE_MODE.SWIPPER_PAGE : _ref$pageMode;\n\n      classCallCheck(this, Page);\n\n      this.id = +new Date();\n      this.title = title;\n      this.width = width >= 0 ? width : PAGE_MODE.WIDTH;\n      this.height = height >= 0 ? height : PAGE_MODE.HEIGHT;\n      this.pageMode = pageMode;\n      this.elements = this.genElements(elements);\n    }\n\n    createClass(Page, [{\n      key: \"clone\",\n      value: function clone() {\n        var elements = this.elements.map(function (element) {\n          return new LbpElement(element);\n        });\n        return new Page({\n          title: this.title,\n          elements: elements\n        });\n      }\n    }, {\n      key: \"genElements\",\n      value: function genElements() {\n        var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        return Array.isArray(elements) && elements.length > 0 ? elements.map(function (v) {\n          return new LbpElement(v);\n        }) : [new LbpElement({\n          name: LbpBackground.name\n        })];\n      }\n    }]);\n\n    return Page;\n  }();\n\n  var Work = /*#__PURE__*/function () {\n    function Work() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          id = _ref.id,\n          _ref$title = _ref.title,\n          title = _ref$title === void 0 ? '' : _ref$title,\n          _ref$description = _ref.description,\n          description = _ref$description === void 0 ? '' : _ref$description,\n          _ref$pages = _ref.pages,\n          pages = _ref$pages === void 0 ? [] : _ref$pages,\n          isPublish = _ref.isPublish,\n          isTemplate = _ref.isTemplate;\n\n      classCallCheck(this, Work);\n\n      this.id = id;\n      this.title = title;\n      this.description = description;\n      this.pages = this.genPages(pages);\n      this.cover_image_url = '';\n      this.is_publish = !!isPublish;\n      this.is_template = !!isTemplate;\n    }\n\n    createClass(Work, [{\n      key: \"genPages\",\n      value: function genPages(pages) {\n        return Array.isArray(pages) && pages.length > 0 ? pages.map(function (v) {\n          return new Page(v);\n        }) : [new Page()];\n      }\n    }]);\n\n    return Work;\n  }();\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-12 14:49:13\r\n   * @LastEditTime : 2020-11-12 14:49:29\r\n   * @Description :\r\n   */\n  var config$1 = {\n    rightPanelWidth: 375\n  };\n\n  var _components$d;\n  var Editor = {\n    name: 'lbp-editor',\n    i18n: i18n,\n    components: (_components$d = {}, defineProperty$3(_components$d, antDesignVue.Layout.name, antDesignVue.Layout), defineProperty$3(_components$d, antDesignVue.Layout.Content.name, antDesignVue.Layout), _components$d),\n    props: {\n      data: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      }\n    },\n    data: function data() {\n      return {\n        work: {},\n        pageIndex: 0,\n        activeElement: null,\n        auxiliayVisible: false,\n        rightPanelWidth: config$1.rightPanelWidth\n      };\n    },\n    computed: {\n      currentPage: function currentPage() {\n        var _this$work$pages = this.work.pages,\n            pages = _this$work$pages === void 0 ? [] : _this$work$pages;\n        var currentPage = pages[this.pageIndex] || {};\n        return currentPage;\n      },\n      elementsRect: function elementsRect() {\n        var _this$currentPage = this.currentPage,\n            currentPage = _this$currentPage === void 0 ? {} : _this$currentPage;\n        var _currentPage$elements = currentPage.elements,\n            elements = _currentPage$elements === void 0 ? [] : _currentPage$elements;\n        return elements.map(function (_ref) {\n          var style = _ref.style;\n          return style;\n        });\n      }\n    },\n    watch: {\n      data: {\n        handler: function handler() {\n          var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          this.work = new Work(data);\n          console.log(this.work);\n        },\n        immediate: true\n      },\n      currentPage: function currentPage() {\n        var currentPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var _currentPage$elements2 = currentPage.elements,\n            elements = _currentPage$elements2 === void 0 ? [] : _currentPage$elements2;\n        this.clear();\n        this.addElements.apply(this, toConsumableArray(elements));\n      }\n    },\n    methods: {\n      getData: function getData() {\n        return this.work;\n      },\n      addPage: function addPage(title) {\n        this.work.pages.push(new Page({\n          title: title\n        }));\n      },\n      changePageIndex: function changePageIndex(index) {\n        this.pageIndex = index;\n      },\n      updatePage: function updatePage(data) {\n        Object.assign(this.currentPage, data);\n      },\n      addElements: function addElements() {\n        for (var _len = arguments.length, element = new Array(_len), _key = 0; _key < _len; _key++) {\n          element[_key] = arguments[_key];\n        }\n\n        element.forEach(this.addElement);\n      },\n      addElement: function addElement(element) {\n        if (element instanceof LbpElement) {\n          this.currentPage.elements.push(element);\n        } else {\n          var lbpElement = new LbpElement(element);\n          this.currentPage.elements.push(lbpElement);\n        }\n      },\n      updateElement: function updateElement(data) {\n        this.activeElement.update(data);\n      },\n      clear: function clear() {\n        this.currentPage.elements = [];\n      },\n      _hideAuxiliay: function _hideAuxiliay() {\n        this.auxiliayVisible = false;\n      },\n      _showAuxiliay: function _showAuxiliay() {\n        this.auxiliayVisible = true;\n      },\n      _handleElementActive: function _handleElementActive(element) {\n        this.activeElement = element;\n      },\n      _handleElementDeactive: function _handleElementDeactive(deactiveElement) {\n        if (deactiveElement === this.activeElement) {\n          this.activeElement = null;\n        }\n      },\n      _handleAdjustLieMove: function _handleAdjustLieMove(offset) {\n        this.rightPanelWidth += offset;\n      },\n      _handlePropsChange: function _handlePropsChange(value) {\n        this.updateElement({\n          props: value\n        });\n      },\n      _handleAnimationsChange: function _handleAnimationsChange(value) {\n        this.updateElement({\n          animations: value\n        });\n      },\n      _handleElementRectChange: function _handleElementRectChange(value) {\n        this.updateElement({\n          style: value\n        });\n      },\n      _handleAddElement: function _handleAddElement(data) {\n        this.addElement(data);\n      },\n      _handleAddPage: function _handleAddPage(data) {\n        this.addPage(data);\n      },\n      _handlePageHeightChange: function _handlePageHeightChange(height) {\n        this.updatePage({\n          height: height\n        });\n      },\n      _handlePageIndexChange: function _handlePageIndexChange(index) {\n        this.changePageIndex(index);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"a-layout\", {\n        \"style\": {\n          height: '100%'\n        }\n      }, [h(EditorLeftPanel, {\n        \"attrs\": {\n          \"pages\": this.work.pages\n        },\n        \"on\": {\n          \"pageChange\": this._handlePageIndexChange,\n          \"addElement\": this._handleAddElement,\n          \"addPage\": this._handleAddPage\n        }\n      }), h(\"a-layout\", {\n        \"attrs\": {\n          \"id\": \"editor-wrapper\"\n        }\n      }, [h(\"a-layout-content\", {\n        \"class\": \"scroll-view remove-scrollbar\"\n      }, [h(\"div\", {\n        \"class\": \"editor-content\",\n        \"on\": {\n          \"mousedown\": this._showAuxiliay,\n          \"mouseup\": this._hideAuxiliay\n        }\n      }, [h(AuxiliayLine, {\n        \"attrs\": {\n          \"data\": this.elementsRect,\n          \"width\": this.currentPage.width,\n          \"height\": this.currentPage.height\n        },\n        \"directives\": [{\n          name: \"show\",\n          value: this.auxiliayVisible\n        }]\n      }), h(LbpCanvas, {\n        \"attrs\": {\n          \"width\": this.currentPage.width,\n          \"height\": this.currentPage.height,\n          \"elements\": this.currentPage.elements\n        },\n        \"on\": {\n          \"active\": this._handleElementActive,\n          \"deactive\": this._handleElementDeactive,\n          \"elementRectChange\": this._handleElementRectChange\n        }\n      }), h(AdjustHeight, {\n        \"attrs\": {\n          \"height\": this.currentPage.height\n        },\n        \"on\": {\n          \"change\": this._handlePageHeightChange\n        }\n      })])])]), h(AdjustLineV, {\n        \"on\": {\n          \"lineMove\": this._handleAdjustLieMove\n        }\n      }), h(FixedTools), h(EditorRightPanel, {\n        \"attrs\": {\n          \"width\": this.rightPanelWidth,\n          \"element\": this.activeElement\n        },\n        \"on\": {\n          \"propsChange\": this._handlePropsChange,\n          \"animationsChange\": this._handleAnimationsChange\n        }\n      })]);\n    }\n  };\n\n  Editor.install = function (Vue) {\n    Vue.component(Editor.name, Editor);\n  }; // scriptVue\n\n\n  if (typeof window !== 'undefined' && window.Vue) {\n    Editor.install(window.Vue);\n  }\n\n  return Editor;\n\n})));\n//# sourceMappingURL=luban-h5-editor.js.map\n"],"sourceRoot":""}