{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?b219","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/lib/luban-h5-editor/dist/luban-h5-editor.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticStyle","work","staticRenderFns","title","description","cover_image_url","pages","is_publish","is_template","created_at","updated_at","height","page_mode","components","component","Vue","config","productionTip","use","lubanH5Editor","render","h","App","$mount","factory","antDesignVue","Spreadsheet","Papa","Vuex","hotkeys","lodash","vClickOutside","vueQuillEditor","vant","resizeDetector","VueI18n","_interopDefaultLegacy","Spreadsheet__default","Papa__default","Vuex__default","hotkeys__default","Vue__default","vClickOutside__default","VueI18n__default","fails","exec","error","descriptors","commonjsGlobal","globalThis","global","self","createCommonjsModule","fn","basedir","path","require","base","commonjsRequire","undefined","getAugmentedNamespace","a","forEach","k","getOwnPropertyDescriptor","check","it","Math","global_1","Function","isObject","document$1","document","EXISTS","createElement","documentCreateElement","ie8DomDefine","anObject","TypeError","String","toPrimitive","input","PREFERRED_STRING","val","toString","valueOf","nativeDefineProperty","f","O","P","Attributes","objectDefineProperty","FunctionPrototype","FunctionPrototypeToString","nameRE","NAME","_defineProperty","obj","configurable","writable","match","defineProperty$1","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","f$1","V","descriptor","objectPropertyIsEnumerable","createPropertyDescriptor","bitmap","classofRaw","split","indexedObject","requireObjectCoercible","toIndexedObject","has","nativeGetOwnPropertyDescriptor","f$2","objectGetOwnPropertyDescriptor","createNonEnumerableProperty","setGlobal","SHARED","store","sharedStore","functionToString","inspectSource","set","has$1","WeakMap","nativeWeakMap","test","shared","version","copyright","postfix","random","uid","sharedKey","hiddenKeys","WeakMap$1","enforce","getterFor","TYPE","state","type","store$1","wmget","wmhas","wmset","metadata","STATE","internalState","redefine","getInternalState","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","aFunction","variable","getBuiltIn","namespace","method","arguments","ceil","floor","toInteger","argument","isNaN","min","toLength","max","min$1","toAbsoluteIndex","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","objectKeysInternal","names","enumBugKeys","hiddenKeys$1","concat","f$3","getOwnPropertyNames","objectGetOwnPropertyNames","f$4","getOwnPropertySymbols","objectGetOwnPropertySymbols","ownKeys","copyConstructorProperties","target","replacement","isForced","feature","detection","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","isForced_1","getOwnPropertyDescriptor$1","_export","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","sham","isArray","Array","arg","toObject","createProperty","propertyKey","nativeSymbol","useSymbolAsUid","iterator","WellKnownSymbolsStore","Symbol$1","createWellKnownSymbol","withoutSetter","wellKnownSymbol","SPECIES","arraySpeciesCreate","originalArray","C","constructor","engineUserAgent","process","versions","v8","engineV8Version","SPECIES$1","arrayMethodHasSpeciesSupport","METHOD_NAME","array","foo","Boolean","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","proto","len","E","A","aFunction$1","functionBindContext","that","b","createMethod$1","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","boundFunction","arrayIteration","filter","some","every","find","findIndex","defineProperty$2","cache","thrower","arrayMethodUsesToLength","ACCESSORS","argument0","argument1","$map","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","HAS_SPECIES_SUPPORT$1","USES_TO_LENGTH$1","0","SPECIES$2","nativeSlice","max$1","start","end","Constructor","fin","HAS_SPECIES_SUPPORT$2","USES_TO_LENGTH$2","max$2","min$2","MAX_SAFE_INTEGER$1","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","_arrayLikeToArray","arr","arr2","deleteCount","insertCount","actualDeleteCount","from","to","actualStart","argumentsLength","arrayLikeToArray","_arrayWithoutHoles","arrayWithoutHoles","_iterableToArray","iter","iterableToArray","_unsupportedIterableToArray","minLen","unsupportedIterableToArray","_nonIterableSpread","nonIterableSpread","_toConsumableArray","_components","toConsumableArray","Icon","Input","$filter","HAS_SPECIES_SUPPORT$3","USES_TO_LENGTH$3","arrayMethodIsStrict","$forEach","STRICT_METHOD","USES_TO_LENGTH$4","arrayForEach","objectKeys","createMethod$2","TO_ENTRIES","objectToArray","entries","values","$values","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod$3","stringTrim","trim","non","stringTrimForced","$trim","domIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","COLLECTION_NAME","Collection","CollectionPrototype","_arrayWithHoles","arrayWithHoles","_iterableToArrayLimit","_arr","_n","_d","_e","_s","_i","next","done","err","iterableToArrayLimit","_nonIterableRest","nonIterableRest","_slicedToArray","slicedToArray","_typeof_1","_typeof","_classCallCheck","instance","classCallCheck","_defineProperties","props","_createClass","protoProps","staticProps","createClass","Parser","dataset","item","cells","text","x","y","2","binaryMatrix","excelData","row","rowIndex","cellValue","cellIndex","rowsArray","rows","_Object$values$map","_Object$values$map2","console","log","csvArray","columns","json","col","colIndex","$indexOf","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD$1","USES_TO_LENGTH$5","searchElement","activeXDocument","validFileMimeTypes","CsvImport","methods","checkMimeType","validFileMimeType","preventDefault","file","$refs","csv","files","isValidFileMimeType","loadFile","_this","readFile","output","parse","skipEmptyLines","$emit","callback","reader","FileReader","readAsText","onload","evt","onerror","randomId","Date","lbsExcelEditor","default","formatter","excel2BinaryMatrix","computed","innerItems","binaryMatrix2excel","watch","refreshSheet","parseCSV","sheetData","sheet","loadData","reRender","initSheet","ele","excel","showToolbar","showGrid","showContextmenu","change","mounted","colorsPanel","v","colors","objectDefineProperties","defineProperties","Properties","html","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","objectCreate","nativeGetOwnPropertyNames","toString$1","windowNames","getWindowNames","f$5","objectGetOwnPropertyNamesExternal","f$6","wellKnownSymbolWrapped","defineProperty$3","defineWellKnownSymbol","defineProperty$4","TO_STRING_TAG","setToStringTag","TAG","$forEach$1","HIDDEN","SYMBOL","PROTOTYPE$1","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor$1","nativeDefineProperty$1","nativeGetOwnPropertyNames$1","nativePropertyIsEnumerable$1","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore$1","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","tag","symbol","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","setter","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","replacer","space","$replacer","args","nativeGetOwnPropertyDescriptor$2","FAILS_ON_PRIMITIVES","FORCED$1","getOwnPropertyDescriptors","FAILS_ON_PRIMITIVES$1","_components$1","UndoRedoHistory","currentIndex","history","canUndo","prevState","replaceState","cloneDeep","canRedo","nextState","undoRedoHistory","fixedTools","i18nTooltip","icon","action","undo","hotkey","hotkeyTooltip","redo","previewDialogVisible","pageManager","elementManager","disabled","updateScaleRate","ownKeys$1","enumerableOnly","symbols","_objectSpread","FixedTools","Layout","Sider","Button","Group","Tooltip","mapState","scaleRate","mapActions","background","border","flexDirection","tool","$t","color","fontSize","textAlign","_this2","splitKey","event","handler","stopPropagation","aPossiblePrototype","objectSetPrototypeOf","setPrototypeOf","CORRECT_SETTER","__proto__","inheritIfRequired","dummy","Wrapper","NewTarget","NewTargetPrototype","getOwnPropertyDescriptor$2","defineProperty$5","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","first","third","radix","maxCode","digits","charCodeAt","NaN","parseInt","NumberWrapper","keys$1","$entries","_extends","assign","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","g","mergeFn","helper","TO_STRING_TAG$1","toStringTagSupport","TO_STRING_TAG$2","CORRECT_ARGUMENTS","tryGet","classof","callee","objectToString","regexpFlags","ignoreCase","multiline","dotAll","unicode","sticky","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","flags","INCORRECT_NAME","R","rf","styleKey","getComponentsForPropsEditor","elementName","Ctor","$options","componentsForPropsEditor","getVM","pluginName","swapZindex","tmp","zindex","px2Rem","px","rem","parsePx","isRem","_components$2","_components$3","_components$4","genUUID","substring","EventBus","lbsTextAlign","Radio","textAlignTabs","label","Number","lbpSlideCustomEditor","Pagination","elementProps","items","activeIndex","current","itemRender","originalElement","marginRight","minus","marginLeft","add","image","currentItem","page","margin","url","ownKeys$2","_objectSpread$1","_components$5","RenderPropsEditor","Form","Item","Tabs","TextArea","Switch","InputNumber","Select","loadCustomEditorFlag","layout","realEditingElement","stateEditingElement","editingElement","customEditorName","loadCustomEditorForPlugin","mixinEnhancedPropsEditor","renderPropFormItem","_ref","propKey","propConfig","editor","pluginProps","on","formItemLayout","labelCol","span","wrapperCol","offset","formItemData","extra","renderPropsEditorPanel","vm","_ref2","_ref3","isVisible","visible","custom","_ref4","_ref5","renderWorkGlobalPropsPanel","created","$on","ownKeys$3","_objectSpread$2","RenderScriptEditor","editorContent","mixinScript","RE","UNSUPPORTED_Y","re","lastIndex","BROKEN_CARET","regexpStickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y$1","NPCG_INCLUDED","PATCH","str","reCopy","charsAdded","strCopy","regexpExec","SPECIES$3","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","fixRegexpWellKnownSymbolLogic","KEY","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","regexp","arg2","forceStringMethod","stringMethod","regexMethod","createMethod$4","CONVERT_TO_STRING","pos","second","S","position","size","charAt","stringMultibyte","codeAt","advanceStringIndex","regexpExecAbstract","MATCH","nativeMatch","maybeCallNative","matcher","res","rx","fullUnicode","matchStr","createMethod$5","IS_RIGHT","memo","arrayReduce","left","right","$reduce","STRICT_METHOD$2","USES_TO_LENGTH$6","_components$6","firstLevelAnimationOptions","animationOptions","children","animationValue2Name","curr","ownKeys$4","_objectSpread$3","RenderAnimationEditor","List","Popover","Slider","Collapse","Panel","Pane","Drawer","TabPane","animationQueue","animations","activeCollapsePanel","activePreviewAnimation","drawerVisible","addAnimation","duration","delay","interationCount","infinite","deleteAnimate","runAnimate","renderSecondAnimationTabs","tab","group","gutter","column","renderAvaiableAnimations","firstGroup","renderAnimationOptions","animationOption","_this3","width","_this4","addedAnimation","ownKeys$5","_objectSpread$4","RenderActionEditor","UNSCOPABLES","ArrayPrototype","addToUnscopables","$find","FIND","SKIPS_HOLES","USES_TO_LENGTH$7","freezing","isExtensible","preventExtensions","internalMetadata","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","onFreeze","meta","REQUIRED","nativeFreeze","freeze","FAILS_ON_PRIMITIVES$2","_components$7","PAGE_MODE","SWIPPER_PAGE","LONG_PAGE","PAGE_MODE_LABEL","ownKeys$6","_objectSpread$5","script","formLayout","pageMode","updateWork","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","shadowRoot","originalRender","existing","beforeCreate","__vue_script__","__vue_render__","model","$$v","expression","_l","_v","__vue_staticRenderFns__","_withStripped","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","ownKeys$7","_objectSpread$6","_components$8","RenderBackgroundEditor","bgEle","editingPage","elements","EditorRightPanel","activeTabKey","setActiveTab","padding","nativeJoin","ES3_STRINGS","STRICT_METHOD$3","separator","isRegexp","isRegExp","SPECIES$4","speciesConstructor","defaultConstructor","arrayPush","min$3","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","internalSplit","limit","lim","lastLength","lastLastIndex","separatorCopy","splitter","unicodeMatching","q","z","max$3","min$4","floor$1","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","getComputedCSSText","cssText","attr","reason","UNSAFE_SUBSTITUTE","searchValue","replaceValue","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","ch","capture","animationMixin","runAnimations","element","parentNode","$el","animIdx","oldStyle","getStyle","runAnimation","addEventListener","animation","animationStyle","animationName","animationDuration","animationIterationCount","animationDelay","animationFillMode","ownKeys$8","_objectSpread$7","directionKey","points","Shape","mixins","defaultPosition","getPointStyle","point","isWrapElement","top","hasT","hasB","hasL","hasR","newLeft","newTop","marginTop","cursor","reverse","handleWrapperClick","mousedownForMark","downEvent","startX","clientX","startY","clientY","move","moveEvent","currX","currY","disY","disX","newHeight","newWidth","handlePointMoveProp","up","handlePointMouseUpProp","removeEventListener","mousedownForElement","startTop","startLeft","handleElementMoveProp","handleElementMouseUpProp","handleMousedown","handleMousedownProp","handleDeleteByKeyboard","keyCode","charCode","handleKeyPressed","active","pointStyle","$slots","$includes","USES_TO_LENGTH$8","SPECIES$5","setSpecies","CONSTRUCTOR_NAME","defineProperty$6","getOwnPropertyNames$1","setInternalState$1","MATCH$1","NativeRegExp","RegExpPrototype$1","CORRECT_NEW","UNSUPPORTED_Y$2","FORCED$2","RegExpWrapper","pattern","thisIsRegExp","patternIsRegExp","flagsAreUndefined","proxy","keys$2","_components$9","notARegexp","MATCH$2","correctIsRegexpLogic","ownKeys$9","_objectSpread$8","searchString","_components$a","contextmenuOptions","i18nLabel","elementWhiteList","elementBlackList","zindexContextMenu","ContextMenu","Menu","Card","filteredOptions","option","wl","bl","handleSelectMenu","selectedKeys","ownKeys$a","_objectSpread$9","_components$b","RenderEditCanvas","vLines","hLines","contextmenuPos","drawVLine","clearVLine","drawHLine","clearHLine","calcVHLine","isPointMove","uuid","referElements","referElementsXCoords","referElementsYCoords","commonStyle","eleft","etop","ewidth","eheight","exCoords","eyCoords","hasVLine","hasHLine","eX","referX","abs","setElementPosition","eY","referY","handleElementMove","handlePointMove","bindContextMenu","_this$$el$getBounding","getBoundingClientRect","hideContextMenu","handleClickCanvas","classList","contains","setEditingElement","updateWorkHeight","mousedownForAdjustLine","startHeight","canvasOuterWrapper","querySelector","currentHeight","scrollTop","scrollHeight","renderCanvas","getProps","class","editorMode","recordElementRect","line","userSelect","zIndex","NodeWrapper","RenderPreviewCanvas","renderPreview","pageWrapperStyle","getPreviewData","ownKeys$b","_objectSpread$a","_components$c","EditorCanvas","Content","isPreviewMode","handleToggleMode","transform","ShortcutButton","faIcon","required","clickFn","mousedownFn","listeners","slots","UsageTip","ownKeys$c","_objectSpread$b","script$1","Modal","confirmLoading","JSON","package","i18nTitle","showModal","handleOk","createjs","npmPackages","pluginInfo","queue","LoadQueue","handleComplete","handleFileLoad","loadManifest","handleCancel","__vue_script__$1","__vue_render__$1","click","ok","cancel","placeholder","__vue_staticRenderFns__$1","__vue_inject_styles__$1","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","__vue_component__$1","ownKeys$d","_objectSpread$c","langMixin","currentLang","i18n","lang","setLang","SetLang","ownKeys$e","_objectSpread$d","dragDom","dragConfig","isPreDrag","isDrag","origin","layerX","layerY","Drag","mousedown","mousemove","mouseup","_mousedown","_mousemove","_mouseup","toggleListener","dragMixin","handleDragStartFromMixin","button","body","removeChild","dragElement","cloneNode","remove","_dragConfig$origin","_dragConfig$origin2","canMousedown","checkCanMousedown","minOffset","canvasWrapper","clone","dragStyle","minOffsetX","minOffsetY","offsetX","offsetY","updated","defaultNumberInputProp","dataSourceLayout","PropTypes","boolean","_ref$label","_ref$defaultValue","defaultValue","_ref$props","_ref$visible","vertical","_ref2$label","_ref2$defaultValue","_ref2$visible","showAlpha","_ref3$label","_ref3$defaultValue","_ref3$layout","_ref3$visible","number","_ref4$label","_ref4$defaultValue","_ref4$props","_ref4$visible","_ref5$label","_ref5$defaultValue","_ref5$component","_ref5$props","_ref5$visible","_ref6","_ref6$label","_ref6$defaultValue","_ref6$visible","textOptions","_ref7","_ref7$label","_ref7$defaultValue","_ref7$visible","_ref8","_ref8$label","_ref8$defaultValue","_ref8$visible","_ref9","_ref9$label","_ref9$defaultValue","_ref9$layout","_ref9$visible","select","_ref10","_ref10$valueType","valueType","_ref10$label","_ref10$defaultValue","_ref10$visible","_ref10$options","LbpButton","backgroundColor","lineHeight","borderColor","borderRadius","borderWidth","textDecoration","placeholderImg","LbpPicture","imgSrc","objectFit","fillType","playIcon","LbpVideo","useIframe","iframeSrc","appendIframe","iframeWrapper","innerHTML","LbpText","directives","clickOutside","directive","canEdit","previewText","quillEditor","toolbar","theme","quill","innerText","editorConfig","typeOptions","LbpFormInput","LbpFormButton","handleClick","inputs","querySelectorAll","formData","FormData","append","XMLHttpRequest","onreadystatechange","readyState","message","status","$message","info","workId","__work","send","LbpFormRadio","aliasName","checked","onFocus","onClick","onBlur","doChange","handleChange","getDefaultItems","defaultItems","LbpFormRadioGroup","defaultStyle","value_","_type","onChange","toggleRadio","toggleCheckbox","getDefaultItems$1","LbpFormCheckboxGroup","renderWaterMark","_ref$container","container","_ref$width","_ref$height","_ref$textAlign","_ref$textBaseline","textBaseline","_ref$fontSize","_ref$fillStyle","fillStyle","_ref$content","_ref$rotate","rotate","_ref$zIndex","canvas","setAttribute","ctx","getContext","font","fillText","parseFloat","base64Url","toDataURL","wmEl","watermarkDiv","styleStr","insertBefore","firstChild","ownKeys$f","_objectSpread$e","LbpBackground","waterMarkText","waterMarkFontSize","waterMarkRotate","waterMarkColor","root","$watch","getDefaultItems$2","LbpSlide","interval","Swipe","SwipeItem","LbpBgMusic","autoplay","isPlaying","toggle","bgAudio","pause","play","btnStyle","LbpNoticeBar","NoticeBar","LbpRate","count","Rate","nativePromiseConstructor","Promise","redefineAll","anInstance","iterators","ITERATOR","ArrayPrototype$1","isArrayIteratorMethod","ITERATOR$1","getIteratorMethod","callWithSafeIterationClosing","ENTRIES","returnMethod","iterate_1","Result","stopped","iterate","iterable","AS_ENTRIES","IS_ITERATOR","iterFn","step","stop","ITERATOR$2","SAFE_CLOSING","called","iteratorWithReturn","defer","channel","port","checkCorrectnessOfIteration","SKIP_CLOSING","ITERATION_SUPPORT","engineIsIos","location","set$1","setImmediate","clear","clearImmediate","process$1","MessageChannel","Dispatch","counter","ONREADYSTATECHANGE","run","runner","listener","post","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","importScripts","setTimeout","flush","head","last","notify","node","promise","then","task","getOwnPropertyDescriptor$3","macrotask","MutationObserver","WebKitMutationObserver","process$2","Promise$1","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","exit","enter","createTextNode","observe","characterData","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","microtask","PromiseCapability","reject","$$resolve","$$reject","f$7","newPromiseCapability","promiseResolve","promiseCapability","hostReportErrors","perform","task$1","SPECIES$6","PROMISE","getInternalState$1","setInternalState$2","getInternalPromiseState","PromiseConstructor","TypeError$1","document$2","process$3","$fetch","newPromiseCapability$1","newGenericPromiseCapability","IS_NODE$1","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","FORCED$3","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","all","isThenable","notify$1","isReject","notified","chain","reactions","exited","reaction","fail","rejection","onHandleUnhandled","onUnhandled","initEvent","IS_UNHANDLED","isUnhandled","emit","unwrap","internalReject","internalResolve","wrapper","isScriptLoaded","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","remaining","alreadyCalled","race","Map","load","qq","init","getPosition","lat","lng","maps","LatLng","MapMixin","loadMap","setMarker","poi","center","latLng","marker","setMap","Marker","panTo","script$2","labelContent","zoomLevel","qqMapKey","checkMapAvailable","deep","_labelContent","setLabel","_zoomLevel","setZoomLevel","onSearch","Label","setVisible","setContent","setPosition","zoomTo","initMap","mapElement","zoom","disableDefaultUI","draggable","scrollwheel","disableDoubleClickZoom","__vue_script__$2","__vue_render__$2","__vue_staticRenderFns__$2","__vue_inject_styles__$2","__vue_scope_id__$2","__vue_module_identifier__$2","__vue_is_functional_template__$2","__vue_component__$2","ABBR","th","mi","bi","tr","DEFAULT_OPTIONS","zeroFormat","nullFormat","defaultFormat","scalePercentBy100","abbrLabel","TRILLION","BILLION","MILLION","THOUSAND","numIsNaN","toFixed","maxDecimals","roundingFunction","optionals","splitValue","minDecimals","boundedPrecision","power","pow","optionalsRegExp","numberToFormat","format","negP","optDec","abbr","decimal","neg","abbrForce","signed","int","precision","thousands","leadingCount","trillion","million","extend","sub","numerifyPercent","formatType","numerify","_numberToFormat","formats","round","formatFunction","kind","register","unregister","setOptions","opts","reset","index_es","debounce","timer","clearTimeout","throttle","wait","previous","set$2","targetTemp","pathArr","get$1","getStore","localStorage","getItem","setStore","setItem","getType","getTypeof","isObject$1","isArray$1","isFunction","isString","isBoolean","isEmptyObj","isNumber","kebabToCamel","_","toUpperCase","camelToKebab","unique","getLinearValue","x1","y1","x2","y2","x3","getFnAndObjValue","arrDelItem","diffItem","arrDelArrItem","diffArr","getArrMin","getArrMax","toArray","noop","hasOwn","extend$1","isEqual","alice","bob","aliceValue","bobValue","aliceType","_key","index_es$1","require$$3","utilsLite","utils","_interopDefault","ex","getFormated","digit","defaultVal","digitStr","getStackMap","stack","stackMap","$get","xhr","responseText","mapPromise","getMapJSON","positionJsonLink","beforeRegisterMapOnce","mapURLProfix","link","bmapPromise","amapPromise","getBmap","callbackName","getAmap","setArrayValue","idStart","_default","guid","env","wx","getSystemInfoSync","browser","os","wxa","canvasSupported","svgSupported","touchEventsSupported","domSupported","worker","navigator","detect","userAgent","_default$1","ua","firefox","ie","edge","weChat","SVGRect","pointerEventsSupported","env_1","BUILTIN_OBJECT","TYPED_ARRAY","objToString","arrayProto","nativeForEach","nativeFilter","nativeSlice$1","nativeMap","nativeReduce","$override","_ctx","clone$1","typeStr","isPrimitive","isDom","merge","overwrite","isObject$2","targetProp","sourceProp","isArray$2","isBuiltInObject","mergeAll","targetAndSources","extend$2","defaults","overlay","createCanvas","indexOf$1","inherits","clazz","baseClazz","clazzPrototype","prop","superClass","mixin","isArrayLike","each","cb","bind$1","func","curry","isFunction$1","isString$1","isTypedArray","nodeType","ownerDocument","eqNaN","retrieve","retrieve2","value0","value1","retrieve3","value2","normalizeCssArray","assert","condition","trim$1","primitiveKey","setAsPrimitive","HashMap","isArr","thisMap","visit","createHashMap","concatArray","newArray","noop$1","removeKey","$override_1","clone_1","merge_1","mergeAll_1","extend_1","defaults_1","createCanvas_1","getContext_1","indexOf_1","inherits_1","mixin_1","isArrayLike_1","each_1","map_1","reduce_1","filter_1","find_1","bind_1","curry_1","isArray_1","isFunction_1","isString_1","isObject_1","isBuiltInObject_1","isTypedArray_1","isDom_1","eqNaN_1","retrieve_1","retrieve2_1","retrieve3_1","slice_1","normalizeCssArray_1","assert_1","trim_1","setAsPrimitive_1","isPrimitive_1","createHashMap_1","concatArray_1","noop_1","util","ArrayCtor","Float32Array","out","copy","clone$2","set$3","v1","v2","scaleAndAdd","sqrt","lenSquare","lengthSquare","mul","div","dot","scale","normalize$1","distance","dist","distanceSquare","distSquare","negate","lerp","applyTransform","min$5","max$4","create_1","copy_1","clone_1$1","set_1","add_1","scaleAndAdd_1","sub_1","len_1","length_1","lenSquare_1","lengthSquare_1","mul_1","div_1","dot_1","scale_1","normalize_1","distance_1","dist_1","distanceSquare_1","distSquare_1","negate_1","lerp_1","applyTransform_1","min_1","max_1","vector","Draggable","_dragStart","_drag","_dragEnd","param","topTarget","draggingTarget","_draggingTarget","dragging","_x","_y","dispatchToElement","dx","dy","drift","dropTarget","findHover","lastDropTarget","_dropTarget","_default$2","Draggable_1","arrySlice","Eventful","eventProcessor","_$handlers","_$eventProcessor","normalizeQuery","query","eventful","isOnce","one","callAtLast","zrEventfulCallAtLast","lastWrap","isSilent","off","newList","trigger","argLen","hItem","afterTrigger","triggerWithContext","_default$3","Eventful_1","LN2","determinant","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","subRowMask","subRowStart","sum","colLocalIdx","colTag","buildTransformer","dest","mA","det","vh","srcPointX","srcPointY","pk","buildTransformer_1","fourPointsTransform","buildTransformer$1","EVENT_SAVED_PROP","_calcOut","transformLocalCoord","elFrom","elTarget","inX","inY","transformCoordWithViewport","inverse","isCanvasEl","saved","markers","prepareCoordMarkers","transformer","preparePointerTransformer","propLR","propTB","stl","idxLR","idxTB","transformerName","oldSrcCoords","srcCoords","oldCoordTheSame","destCoords","rect","ii","offsetLeft","offsetTop","nodeName","transformLocalCoord_1","transformCoordWithViewport_1","isCanvasEl_1","dom","Dispatcher","isCanvasEl$1","transformCoordWithViewport$1","isDomLevel2","MOUSE_EVENT_REG","_calcOut$1","clientToLocal","calculate","calculateZrXY","zrX","zrY","ey","box","getNativeEvent","normalizeEvent","eventType","isTouch","touch","targetTouches","changedTouches","zrDelta","wheelDelta","detail","which","opt","attachEvent","detachEvent","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse","clientToLocal_1","getNativeEvent_1","normalizeEvent_1","addEventListener_1","removeEventListener_1","stop_1","isMiddleOrRightButtonOnMouseUpDown_1","notLeftMouse_1","GestureMgr","_track","dist$1","pointPair","recognize","_doTrack","_recognize","event$1","touches","trackItem","eventName","recognizers","gestureInfo","pinch","track","trackLen","pinchEnd","pinchPre","pinchScale","isFinite","pinchCenter","pinchX","pinchY","_default$4","GestureMgr_1","SILENT","makeEventPacket","eveType","targetInfo","gestureEvent","zrByTouch","stopEvent","EmptyProxy","dispose","handlerNames","Handler","storage","painter","painterRoot","_hovered","_lastTouchMoment","_lastX","_lastY","_gestureMgr","setHandlerProxy","isHover","displayable","rectHover","clipPath","contain","silent","isOutsideBoundary","handlerInstance","getWidth","getHeight","isOutside","lastHovered","lastHoveredTarget","__zr","hovered","hoveredTarget","setCursor","mouseout","eventControl","zrEventControl","zrIsToLocalDOM","resize","dispatch","eventArgs","setCursorStyle","cursorStyle","eventHandler","eventPacket","eachOtherLayer","layer","exclude","list","getDisplayList","hoverCheckResult","ignore","processGesture","stage","gestureMgr","_downEl","_downPoint","_upEl","_default$5","Handler_1","ArrayCtor$1","create$1","identity","copy$1","mul$1","m1","m2","out0","out1","out2","out3","out4","out5","translate","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","scale$1","vx","vy","invert","clone$3","create_1$1","identity_1","copy_1$1","mul_1$1","translate_1","rotate_1","scale_1$1","invert_1","clone_1$2","matrix","mIdentity","EPSILON","isNotAroundZero","Transformable","rotation","transformableProto","needLocalTransform","scaleTmp","updateTransform","parentHasTransform","getLocalTransform","globalScaleRatio","getGlobalScale","relX","relY","sx","sy","invTransform","setTransform","dpr","restoreTransform","tmpTransform","originTransform","setLocalTransform","atan2","decomposeTransform","transformCoordToLocal","transformCoordToGlobal","_default$6","Transformable_1","easing","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","PI","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","_default$7","easing_1","Clip","_target","_life","life","_delay","_initialized","loop","gap","onframe","ondestroy","onrestart","_pausedTime","_paused","globalTime","deltaTime","_startTime","percent","easingFunc","schedule","fire","restart","_needsRemove","remainder","resume","_default$8","Clip_1","LinkedList","tail","_len","linkedListProto","insert","entry","Entry","insertEntry","prev","LRU","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","put","removed","leastUsedEntry","_default$9","LRU_1","kCSSColorTable","clampCssByte","clampCssAngle","clampCssFloat","parseCssInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","cached","op","ep","fname","substr","params","alpha","pop","hsla2rgba","iv","hsla","rgba","rgba2hsla","H","G","B","vMin","vMax","delta","L","deltaR","deltaG","deltaB","lift","level","colorArr","toHex","fastLerp","normalizedValue","leftIndex","rightIndex","leftColor","rightColor","dv","fastMapToColor","lerp$1","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","parse_1","lift_1","toHex_1","fastLerp_1","fastMapToColor_1","lerp_1$1","mapToColor_1","modifyHSL_1","modifyAlpha_1","stringify_1","isArrayLike$1","arraySlice","defaultGetter","defaultSetter","interpolateNumber","p0","p1","interpolateString","interpolateArray","arrDim","len2","fillArr","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","isArraySame","catmullRomInterpolateArray","p2","p3","t2","t3","catmullRomInterpolate","v0","cloneValue","ret","rgba2String","getArrayDim","keyframes","lastValue","createTrackClip","animator","oneTrackDone","propName","forceAnimate","_getter","_setter","useSpline","trackMaxTime","firstVal","isValueArray","isValueColor","isValueString","sort","time","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","w","lastFrame","lastFramePercent","frame","range","clip","_loop","Animator","_tracks","_clipCount","_doneList","_onframeList","_clipList","when","tracks","during","isPaused","_doneCallback","doneList","lastClip","clipCount","addClip","oldOnFrame","forwardToLast","clipList","removeClip","getClips","_default$a","Animator_1","devicePixelRatio","debugMode","debugMode_1","devicePixelRatio_1","logError","_default$b","isString$2","isFunction$2","isObject$3","isArrayLike$2","indexOf$2","Animatable","animators","animateTo","animatable","stopAnimation","animateToShallow","objShallow","propertyCount","setAttrByPath","animate","animatingShape","zr","pathSplitted","dirty","addAnimator","animateFrom","_default$c","Animatable_1","Element","isGroup","beforeUpdate","afterUpdate","update","traverse","attrKV","hide","refresh","show","setClipPath","addSelfToZr","removeClipPath","__clipTarget","removeSelfFromZr","removeAnimator","_default$d","Element_1","v2ApplyTransform","mathMin","mathMax","BoundingRect","union","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","plain","_default$e","BoundingRect_1","_children","__storage","__dirty","childAt","idx","childOfName","childCount","child","_doAdd","addBefore","nextSibling","addToStorage","addChildrenToStorage","delFromStorage","delChildrenFromStorage","removeAll","eachChild","getBoundingRect","includeChildren","tmpRect","tmpMat","invisible","childRect","_default$f","Group_1","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","mid","pivot","gallopLeft","hint","lastOffset","maxOffset","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","start1","length1","start2","length2","mergeLow","mergeHigh","cursor1","cursor2","count1","count2","_minGallop","customCursor","customDest","ts","minRun","force","timsort","shapeCompareFunc","zlevel","z2","Storage","_roots","_displayList","_displayListLen","includeIgnore","updateDisplayList","roots","displayList","_updateAndAddDisplayable","clipPaths","userSetClipPath","currentClipPath","parentClipPath","__clipPaths","addRoot","delRoot","_renderList","displayableSortFunc","_default$g","Storage_1","SHADOW_PROPS","_default$h","fixShadow","ContextCachedBy","NONE","STYLE_BIND","PLAIN_TEXT","WILL_BE_RESTORED","ContextCachedBy_1","WILL_BE_RESTORED_1","constant","ContextCachedBy$1","STYLE_COMMON_PROPS","Style","extendFrom","createLinearGradient","canvasGradient","createRadialGradient","fill","stroke","opacity","fillOpacity","strokeOpacity","lineDash","lineDashOffset","shadowBlur","shadowOffsetX","shadowOffsetY","lineWidth","strokeNoScale","textFont","fontStyle","fontWeight","fontFamily","textTag","textFill","textStroke","textWidth","textHeight","textStrokeWidth","textLineHeight","textPosition","textRect","textOffset","textVerticalAlign","textDistance","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","transformText","textRotation","textOrigin","textBackgroundColor","textBorderColor","textBorderWidth","textBorderRadius","textPadding","rich","truncate","blend","prevEl","prevStyle","notCheckCache","__attrCachedBy","styleName","strokeStyle","globalAlpha","globalCompositeOperation","hasStroke","getLineScale","hasFill","otherStyle","newStyle","getGradient","colorStops","addColorStop","styleProto","_default$i","Style_1","Pattern","repeat","getCanvasPattern","createPattern","_default$j","Pattern_1","devicePixelRatio$1","returnFalse","createDom","newDom","newDomStyle","Layer","domStyle","onselectstart","domBack","ctxBack","clearColor","motionBlur","lastFrameAlpha","__used","__drawIndex","__startIndex","__endIndex","incremental","getElementCount","initContext","createBackBuffer","clearAll","clearColorGradientOrPattern","haveMotionBLur","drawImage","clearRect","__canvasGradient","save","fillRect","restore","_default$k","Layer_1","_default$l","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","hostEl","cbPayload","__zrImageSrc","pendingWrap","isImageReady","pending","Image","imageOnLoad","__cachedImgObj","findExistImage_1","createOrUpdateImage_1","isImageReady_1","getContext$1","extend$3","retrieve2$1","retrieve3$1","trim$2","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","methods$1","$override$1","textLines","measureText","getRichTextRect","getPlainTextRect","contentBlock","parsePlainText","outerWidth","outerHeight","adjustTextX","adjustTextY","parseRichText","calculateTextPosition","halfHeight","adjustTextPositionOnRect","dummyStyle","truncateText","containerWidth","ellipsis","prepareTruncateOptions","truncateSingleLine","maxIterations","minChar","cnCharWidth","ascCharWidth","contentWidth","ellipsisWidth","textLine","subLength","estimateLength","getLineHeight","lines","canCacheByTextString","truncOuterHeight","truncOuterWidth","matchedIndex","pushTokens","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","tokens","token","tokenStyle","tokenHeight","tokenWidth","tokenWidthNotSpecified","percentWidth","bgImg","paddingW","remianTruncWidth","block","isEmptyStr","strs","isLineHolder","tokensLen","makeFont","DEFAULT_FONT_1","$override_1$1","getWidth_1","getBoundingRect_1","adjustTextX_1","adjustTextY_1","calculateTextPosition_1","adjustTextPositionOnRect_1","truncateText_1","getLineHeight_1","measureText_1","parsePlainText_1","parseRichText_1","makeFont_1","buildPath","shape","r1","r2","r3","r4","total","moveTo","lineTo","arc","buildPath_1","roundRect","retrieve2$2","retrieve3$2","each$1","normalizeCssArray$1","isString$3","isObject$4","ContextCachedBy$2","WILL_BE_RESTORED$1","DEFAULT_FONT$1","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","bottom","middle","SHADOW_STYLE_COMMON_PROPS","_tmpTextPositionResult","_tmpBoxPositionResult","normalizeTextStyle","normalizeStyle","renderText","renderRichText","renderPlainText","text$1","needDrawBg","needDrawBackground","checkCache","cachedByMe","styleFont","computedFont","__computedFont","__styleFont","__textCotentBlock","__dirtyText","boxPos","getBoxPosition","baseX","baseY","applyTextRotation","boxY","textX","textY","boxX","drawBackground","getTextXForPadding","propItem","styleProp","ctxProp","textStrokeWidthPrev","strokeWidthChanged","strokeChanged","getStroke","getFill","strokeText","drawRichText","xLeft","lineTop","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","placeToken","setCtx","isPlainBg","beginPath","closePath","originalGlobalAlpha","image$1","onBgImageLoaded","parsePercent","maxValue","lastIndexOf","needDrawText","normalizeTextStyle_1","renderText_1","getBoxPosition_1","getStroke_1","getFill_1","parsePercent_1","needDrawText_1","WILL_BE_RESTORED$2","RectText","drawRectText","_default$m","RectText_1","Displayable","_rect","culling","progressive","beforeBrush","afterBrush","brush","rectContain","coord","animateStyle","setStyle","useStyle","_default$n","Displayable_1","ZImage","_image","aspect","sWidth","sHeight","_default$o","Image$1","devicePixelRatio$2","HOVER_LAYER_ZLEVEL","CANVAS_ZLEVEL","EL_AFTER_INCREMENTAL_INC","INCREMENTAL_INC","parseInt10","isLayerValid","__builtin__","tmpRect$1","viewRect","isDisplayableCulled","isClipPathChanged","prevClipPaths","doClip","createRoot","domRoot","Painter","singleCanvas","_opts","_singleCanvas","rootStyle","zlevelList","_zlevelList","layers","_layers","_layerConfig","_needsManuallyCompositing","_width","_height","mainLayer","_domRoot","_getSize","_hoverlayer","_hoverElements","isSingleCanvas","getViewportRoot","getViewportRootOffset","viewportRoot","paintAll","_redrawId","_paintList","_backgroundColor","refreshHover","addHover","hoverStyle","__hoverMir","elMirror","__from","removeHover","hoverElements","clearHover","hoverLayer","getLayer","scope","originalEl","_doPaintEl","getHoverLayer","redrawId","_updateLayerStatus","finished","_doPaintList","_compositeManually","eachBuiltinLayer","virtual","layerList","zi","useTimer","startTime","firstEl","notClear","dTime","prevElClipPaths","draw","currentLayer","forcePaint","insertLayer","layersMap","prevLayer","prevDom","eachLayer","getLayers","updatePrevLayer","prevZlevel","incrementalLayerCount","_clearLayer","setBackgroundColor","configLayer","layerConfig","_zlevel","delLayer","_progressiveLayers","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","renderToCanvas","whIdx","wh","cwh","plt","prb","defaultView","getComputedStyle","pathToImage","shadowBlurSize","leftMargin","rightMargin","topMargin","bottomMargin","pathTransform","ImageShape","imgShape","_default$p","Painter_1","Dispatcher$1","Animation","_clips","_running","_time","_pauseStart","clips","_update","getTime","deferredEvents","deferredClips","_startLoop","isFinished","_default$q","Animation_1","addEventListener$1","removeEventListener$1","normalizeEvent$1","getNativeEvent$1","TOUCH_CLICK_DELAY","globalEventSupported","localNativeListenerNames","mouseHandlerNames","touchHandlerNames","pointerEventNameMap","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","mouse","pointer","globalNativeListenerNames","eventNameFix","isPointerFromTouch","pointerType","setTouchTimer","touching","touchTimer","markTouch","normalizeGlobalEvent","FakeGlobalEvent","isLocalEl","elTmp","isLocal","domBelongToZr","currentTarget","fakeGlobalEventProto","stopImmediatePropagation","localDOMHandlers","_mayPointerCapture","downPoint","togglePointerCapture","_pointerCapturing","toElement","relatedTarget","touchstart","touchmove","touchend","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","domHandlers","nativeEventName","mountSingleDOMEventListener","mountGlobalDOMEventListeners","mount","nativeEventListener","listenerOpts","domTarget","unmountDOMEventListeners","isPointerCapturing","globalHandlerScope","_globalHandlerScope","DOMHandlerScope","HandlerDomProxy","_localHandlerScope","handlerDomProxyProto","_default$r","HandlerProxy","useVML","painterCtors","instances","version$1","ZRender","getInstance","registerPainter","delInstance","rendererType","renderer","vml","handerProxy","_needsRefresh","oldDelFromStorage","oldAddToStorage","getId","zLevel","refreshImmediately","_needsRefreshHover","triggerRendered","refreshHoverImmediately","clearAnimation","version_1","init_1","dispose_1","getInstance_1","registerPainter_1","zrender","each$2","isObject$5","isArray$3","DUMMY_COMPONENT_NAME_PREFIX","normalizeToArray","defaultEmphasis","subOpts","emphasis","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","isDataItemOption","mappingToExists","exists","newCptOptions","exist","cptOption","isIdInner","makeIdAndName","mapResult","idMap","existCpt","keyInfo","idNum","isNameSpecified","componentModel","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","seriesId","dataIndices","dataIndex","otherDataIndices","lenj","isData","queryDataIndex","payload","dataIndexInside","indexOfRawIndex","indexOfName","makeInner","innerUniqueIndex","hostObj","parseFinder","ecModel","finder","defaultMainType","has$2","parsedKey","mainType","queryType","includeMainTypes","queryParam","models","queryComponents","getAttribute","getTooltipRenderMode","renderModeOption","groupData","getKey","buckets","normalizeToArray_1","defaultEmphasis_1","TEXT_STYLE_OPTIONS_1","getDataItemValue_1","isDataItemOption_1","mappingToExists_1","makeIdAndName_1","isNameSpecified_1","isIdInner_1","compressBatches_1","queryDataIndex_1","makeInner_1","parseFinder_1","setAttribute_1","getAttribute_1","getTooltipRenderMode_1","groupData_1","TYPE_DELIMITER","IS_CONTAINER","parseClassType","componentType","main","checkClassType","enableClassExtend","RootClass","mandatoryMethods","$constructor","ExtendedClass","superCall","superApply","classBase","enableClassCheck","Clz","classAttr","isInstance","methodName","enableClassManagement","entity","makeContainer","registerClass","Clazz","getClass","componentMainType","subType","throwWhenNotFound","getClassesByMainType","hasClass","getAllClassMainTypes","types","hasSubTypes","registerWhenExtend","originalExtend","setReadOnly","parseClassType_1","enableClassExtend_1","enableClassCheck_1","enableClassManagement_1","setReadOnly_1","_default$s","excludes","getShallow","makeStyleMapper","getLineStyle","_default$t","getLineDash","lineType","dotSize","dashSize","lineStyle","getAreaStyle","_default$u","areaStyle","v2Create","v2DistSquare","mathPow","mathSqrt","EPSILON$1","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","isNotAroundZero$1","cubicAt","onet","cubicDerivativeAt","cubicRootAt","t1","disc","K","discSqrt","Y1","Y2","T","theta","acos","ASqrt","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","y3","d1","d2","Infinity","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","cubicAt_1","cubicDerivativeAt_1","cubicRootAt_1","cubicExtrema_1","cubicSubdivide_1","cubicProjectPoint_1","quadraticAt_1","quadraticDerivativeAt_1","quadraticRootAt_1","quadraticExtremum_1","quadraticSubdivide_1","quadraticProjectPoint_1","curve","mathMin$1","mathMax$1","mathSin","mathCos","PI2","extremity","fromPoints","fromLine","xDim","yDim","fromCubic","fromQuadratic","tx","ty","fromArc","ry","startAngle","endAngle","anticlockwise","vec2Min","vec2Max","diff","angle","fromPoints_1","fromLine_1","fromCubic_1","fromQuadratic_1","fromArc_1","bbox","dpr$1","CMD","M","Q","Z","min$6","max$5","min2","max2","mathMin$2","mathMax$2","mathCos$1","mathSin$1","mathSqrt$1","mathAbs","hasTypedArray","PathProxy","notSaveData","_saveData","_xi","_yi","_x0","_y0","_ux","_uy","_lineDash","_dashOffset","_dashIdx","_dashSum","setScale","segmentIgnoreThreshold","addData","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","cx","cy","arcTo","radius","toStatic","setLineDash","lineDashSum","setLineDashOffset","setData","appendPath","appendSize","appendPathData","cmd","_expandData","_prevCmd","newData","dash","dashSum","nDash","bezierLen","tmpLen","MAX_VALUE","xi","yi","rebuildPath","ux","uy","dTheta","psi","fs","scaleX","scaleY","isEllipse","_default$v","PathProxy_1","containStroke","_a","_b","containStroke_1","containStroke$1","containStroke_1$1","cubic","quadraticProjectPoint$1","containStroke$2","containStroke_1$2","quadratic","PI2$1","normalizeRadian","normalizeRadian_1","util$1","normalizeRadian$1","PI2$2","containStroke$3","containStroke_1$3","windingLine","dir","x_","windingLine_1","normalizeRadian$2","CMD$1","PI2$3","EPSILON$2","isAroundEqual","swapExtrema","windingCubic","nRoots","y0_","y1_","nExtrema","unit","windingQuadratic","y_","windingArc","containPath","isStroke","pathData","containStroke$4","contain_1","containStroke_1$4","path$1","pathProxyForDraw","Path","__dirtyPath","strokeContainThreshold","subPixelOptimize","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","_fillGradient","_strokeGradient","ctxLineDash","shapeCfg","inBundle","createPathProxy","needsUpdateRect","rectWithStroke","_rectWithStroke","lineScale","localPos","dirtyPath","animateShape","setShape","Sub","defaultShape","thisShape","_default$w","Path_1","v2ApplyTransform$1","CMD$2","points$1","mathSqrt$2","mathAtan2","_default$x","nPoint","transformPath","mathSqrt$3","mathSin$2","mathCos$2","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","createPathProxyFromString","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","ctlPtx","ctlPty","createPathOptions","pathProxy","createFromString","extendFromString","mergePath","pathEls","pathList","pathEl","pathBundle","createFromString_1","extendFromString_1","mergePath_1","path$2","ContextCachedBy$3","Text","shadowColor","text$2","_default$y","Text_1","_default$z","Circle","shadowTemp","_default$A","orignalBrush","modified","fixClipWithShadow","_default$B","r0","clockwise","unitX","unitY","Sector","_default$C","Ring","v2Distance","interpolate","_default$D","isLoop","segs","w2","w3","smoothSpline","v2Min","v2Max","v2Scale","v2Distance$1","v2Add","v2Clone","v2Sub","_default$E","smooth","constraint","prevPoint","nextPoint","cps","d0","cp0","cp1","smoothBezier","buildPath$1","controlPoints","smoothConstraint","cp2","buildPath_1$1","poly","_default$F","Polygon","_default$G","Polyline","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originX","originY","originWidth","originHeight","positiveOrNegative","doubledPosition","subPixelOptimizeLine_1","subPixelOptimizeRect_1","subPixelOptimize_2","subPixelOptimize_1","subPixelOptimizeRect$1","subPixelOptimizeOutputShape","_default$H","Rect","subPixelOptimizeLine$1","subPixelOptimizeOutputShape$1","_default$I","pointAt","Line","quadraticSubdivide$1","cubicSubdivide$1","quadraticAt$1","cubicAt$1","quadraticDerivativeAt$1","cubicDerivativeAt$1","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","_default$J","tangentAt","BezierCurve","_default$K","Arc","_default$L","paths","_updatePathDirty","CompoundPath","Gradient","_default$M","Gradient_1","LinearGradient","globalCoord","_default$N","LinearGradient_1","RadialGradient","_default$O","RadialGradient_1","inherits$1","IncrementalDisplayble","_displayables","_temporaryDisplayables","_cursor","clearDisplaybles","addDisplayable","notPersistent","addDisplayables","displayables","eachPendingDisplayable","_default$P","IncrementalDisplayable","Image$2","Group_1$1","Text_1$1","Circle_1","Sector_1","Ring_1","Polygon_1","Polyline_1","Rect_1","Line_1","BezierCurve_1","Arc_1","CompoundPath_1","LinearGradient_1$1","RadialGradient_1$1","BoundingRect_1$1","IncrementalDisplayable_1","mathMax$3","mathMin$3","EMPTY_OBJ","Z2_EMPHASIS_LIFT","CACHED_LABEL_STYLE_PROPERTIES","EMPHASIS","NORMAL","_highlightNextDigit","_highlightKeyMap","_customShapeMap","extendShape","extendPath","registerShape","ShapeClass","getShapeClass","makePath","centerGraphic","resizePath","makeImage","imageUrl","img","boundingRect","mergePath$1","pathRect","subPixelOptimizeLine$2","subPixelOptimizeRect$2","subPixelOptimize$1","hasFillOrStroke","fillOrStroke","liftedColorMap","liftedColorCount","liftColor","color$1","liftedColor","cacheElementStl","__hoverStlDirty","__hoverStl","normalStyle","__cachedNormalStl","__cachedNormalZ2","elStyle","singleEnterEmphasis","hoverStl","__highlighted","useHoverLayer","targetStyle","rollbackDefaultTextStyle","setDefaultHoverFillStroke","applyDefaultTextStyle","singleEnterNormal","highlighted","normalStl","normalZ2","traverseUpdate","updater","commonParam","fromState","toState","__highDownOnUpdate","setElementHoverStyle","onElementMouseOver","shouldSilent","__highByOuter","onElementMouseOut","onElementEmphasisEvent","highlightDigit","onElementNormalEvent","__highDownSilentOnTouch","setHoverStyle","setAsHighDownDispatcher","asDispatcher","disable","highDownSilentOnTouch","highDownOnUpdate","__highDownDispatcher","isHighDownDispatcher","getHighlightDigit","highlightKey","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","baseText","labelFetcher","labelDataIndex","labelDimIndex","labelProp","showNormal","showEmphasis","getFormattedLabel","defaultText","normalStyleText","emphasisStyleText","setTextStyle","modifyLabelStyle","normalStyleProps","emphasisStyleProps","textStyle","textStyleModel","specifiedTextStyle","isEmphasis","setTextStyleCommon","setText","labelModel","defaultColor","isRectText","autoColor","getTextPosition","labelRotate","richResult","globalTextStyle","richItemNames","getRichItemNames","richTextStyle","getModel","setTokenTextStyle","forceRich","richItemNameMap","parentModel","isBlock","getAutoColor","insideRollbackOpt","disableBox","insideRollback","useInsideStyle","useInsideStyleCache","useAutoColorCache","getFont","gTextStyleModel","animateOrSetProps","isUpdate","animatableModel","animationEnabled","isAnimationEnabled","animationEasing","getAnimationDelayParams","updateProps","initProps","getTransform","ancestor","mat","applyTransform$1","transformDirection","direction","hBase","vBase","vertex","groupTransition","g1","g2","elMap1","getElMap","anid","oldEl","newProp","getAnimatableProps","elMap","clipPointsByRect","clipRectByRect","targetRect","createIcon","iconStr","linePolygonIntersect","a1x","a1y","a2x","a2y","lineLineIntersect","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","crossProduct2d","nearZero","b1a1x","b1a1y","Z2_EMPHASIS_LIFT_1","CACHED_LABEL_STYLE_PROPERTIES_1","extendShape_1","extendPath_1","registerShape_1","getShapeClass_1","makePath_1","makeImage_1","mergePath_1$1","resizePath_1","subPixelOptimizeLine_1$1","subPixelOptimizeRect_1$1","subPixelOptimize_1$1","setElementHoverStyle_1","setHoverStyle_1","setAsHighDownDispatcher_1","isHighDownDispatcher_1","getHighlightDigit_1","setLabelStyle_1","modifyLabelStyle_1","setTextStyle_1","setText_1","getFont_1","updateProps_1","initProps_1","getTransform_1","applyTransform_1$1","transformDirection_1","groupTransition_1","clipPointsByRect_1","clipRectByRect_1","createIcon_1","linePolygonIntersect_1","lineLineIntersect_1","graphic","PATH_COLOR","_default$Q","getTextColor","getTextRect","getItemStyle","_default$R","getBorderLineDash","itemStyle","makeInner$1","enableClassExtend$1","enableClassCheck$1","mixin$1","inner","Model","doGet","getParent","getParentMethod","mergeOption","ignoreParent","parsePath","thisParentModel","isEmpty","restoreData","customizeGetParent","_default$S","Model_1","parseClassType$1","getUID","enableSubTypeDefaulter","subTypeDefaulters","registerSubTypeDefaulter","defaulter","determineSubType","componentTypeMain","enableTopologicalTravel","dependencyGetter","makeDepndencyGraph","fullNameList","graph","noEntryList","thisItem","createDependencyGraphItem","originalDeps","availableDeps","getAvailableDependencies","entryCount","dependentName","predecessor","thatItem","successor","dep","topologicalTravel","targetNameList","targetNameSet","currComponentType","currVertex","isInTargetNameSet","removeEdgeAndAdd","removeEdge","succComponentType","getUID_1","enableSubTypeDefaulter_1","enableTopologicalTravel_1","RADIAN_EPSILON","_trim","linearMap","clamp","subDomain","subRange","parsePercent$1","round$1","returnStr","asc","getPrecision","getPrecisionSafe","eIndex","dotIndex","getPixelPrecision","dataExtent","pixelExtent","LN10","dataQuantity","sizeQuantity","getPercentWithPrecision","valueList","acc","votesPerQuota","targetSeats","seats","votes","currentSum","NEGATIVE_INFINITY","maxId","MAX_SAFE_INTEGER$2","remRadian","radian","pi2","isRadianAroundZero","TIME_REG","parseDate","hour","UTC","quantity","quantityExponent","exp","nice","nf","exponent","exp10","quantile","ascArr","reformIntervals","littleThan","currClose","lg","isNumeric","linearMap_1","parsePercent_1$1","round_1","asc_1","getPrecision_1","getPrecisionSafe_1","getPixelPrecision_1","getPercentWithPrecision_1","MAX_SAFE_INTEGER_1","remRadian_1","isRadianAroundZero_1","parseDate_1","quantity_1","quantityExponent_1","nice_1","quantile_1","reformIntervals_1","isNumeric_1","addCommas","toCamelCase","upperCaseFirst","group1","normalizeCssArray$2","replaceReg","replaceMap","'","encodeHTML","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","formatTpl","tpl","paramsList","encode","seriesLen","$vars","alias","formatTplSimple","getTooltipMarker","extraCssText","renderMode","markerId","pad","formatTime","isUTC","date","utc","capitalFirst","truncateText$1","getTextBoundingRect","windowOpen","blank","opener","addCommas_1","toCamelCase_1","normalizeCssArray_1$1","encodeHTML_1","formatTpl_1","formatTplSimple_1","getTooltipMarker_1","formatTime_1","capitalFirst_1","truncateText_1$1","getTextBoundingRect_1","getTextRect_1","windowOpen_1","format$1","parsePercent$2","each$3","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","maxWidth","maxHeight","currentLineMaxSize","nextX","nextY","nextChild","nextChildRect","moveX","newline","moveY","vbox","hbox","getAvailableSize","positionInfo","containerRect","containerHeight","getLayoutRect","verticalMargin","horizontalMargin","positionElement","hv","boundingMode","elPos","sizeCalculable","hvIdx","mergeLayoutParam","targetOption","newOption","ignoreSize","hResult","vResult","newParams","newValueCount","merged","mergedValueCount","enoughParamNumber","hasProp","hasValue","getLayoutParams","copyLayoutParams","LOCATION_PARAMS_1","HV_NAMES_1","box_1","vbox_1","hbox_1","getAvailableSize_1","getLayoutRect_1","positionElement_1","sizeCalculable_1","mergeLayoutParam_1","getLayoutParams_1","copyLayoutParams_1","_default$T","getBoxLayoutParams","boxLayout$1","enableClassManagement$1","parseClassType$2","makeInner$2","inner$1","ComponentModel","componentIndex","defaultOption","dependentModels","layoutMode","extraOpt","mergeDefaultAndTheme","inputPositionParams","themeModel","getTheme","getDefaultOption","optionUpdated","newCptOption","isInit","fields","optList","Class","getReferringComponents","getDependencies","deps","dependencies","unshift","_default$U","Component","platform","_default$V","gradientColor","blendMode","animationDurationUpdate","animationEasingUpdate","animationThreshold","progressiveThreshold","hoverLayerThreshold","useUTC","globalDefault","makeInner$3","normalizeToArray$1","inner$2","getNearestColorPalette","requestColorNum","paletteNum","_default$W","clearColorPalette","colorIdx","colorNameMap","getColorFromPalette","scopeFields","defaultColorPalette","layeredColorPalette","colorPalette","SOURCE_FORMAT_ORIGINAL","SOURCE_FORMAT_ARRAY_ROWS","SOURCE_FORMAT_OBJECT_ROWS","SOURCE_FORMAT_KEYED_COLUMNS","SOURCE_FORMAT_UNKNOWN","SOURCE_FORMAT_TYPED_ARRAY","SERIES_LAYOUT_BY_COLUMN","SERIES_LAYOUT_BY_ROW","SOURCE_FORMAT_ORIGINAL_1","SOURCE_FORMAT_ARRAY_ROWS_1","SOURCE_FORMAT_OBJECT_ROWS_1","SOURCE_FORMAT_KEYED_COLUMNS_1","SOURCE_FORMAT_UNKNOWN_1","SOURCE_FORMAT_TYPED_ARRAY_1","SERIES_LAYOUT_BY_COLUMN_1","SERIES_LAYOUT_BY_ROW_1","sourceType","createHashMap$1","isTypedArray$1","enableClassCheck$2","SOURCE_FORMAT_ORIGINAL$1","SERIES_LAYOUT_BY_COLUMN$1","SOURCE_FORMAT_UNKNOWN$1","SOURCE_FORMAT_TYPED_ARRAY$1","SOURCE_FORMAT_KEYED_COLUMNS$1","Source","fromDataset","sourceFormat","seriesLayoutBy","dimensionsDefine","encodeDefine","startIndex","dimensionsDetectCount","seriesDataToSource","_default$X","Source_1","makeInner$4","getDataItemValue$1","createHashMap$2","each$4","map$1","isArray$4","isString$4","isObject$6","isTypedArray$2","isArrayLike$3","extend$4","SOURCE_FORMAT_ORIGINAL$2","SOURCE_FORMAT_ARRAY_ROWS$1","SOURCE_FORMAT_OBJECT_ROWS$1","SOURCE_FORMAT_KEYED_COLUMNS$2","SOURCE_FORMAT_UNKNOWN$2","SOURCE_FORMAT_TYPED_ARRAY$2","SERIES_LAYOUT_BY_ROW$1","BE_ORDINAL","Must","Might","Not","inner$3","detectSourceFormat","datasetModel","getSource","seriesModel","resetSourceDefaulter","datasetMap","prepareSource","seriesOption","sourceHeader","dimensions","getDatasetModel","datasetOption","completeResult","completeBySourceData","normalizeDimensionsDefine","arrayRowsTravelFirst","objectRowsCollectDimensions","colArr","nameMap","displayName","maxLoop","firstIndex","makeSeriesEncodeForAxisCoordSys","coordDimensions","baseCategoryDimIndex","categoryWayValueDimStart","encodeItemName","encodeSeriesName","coordDimInfo","coordDimIdx","getDataDimCountOnCoordDim","datasetRecord","categoryWayDim","valueWayDim","pushDim","dimIdxArr","idxFrom","idxCount","dimsDef","coordDimName","itemName","seriesName","makeSeriesEncodeForNameBased","dimCount","potentialNameDimIndex","dim","idxResult","idxRes0","idxRes1","guessRecords","guessResult","doGuessOrdinal","isPureNumber","nameDimIndex","thisData","getComponent","datasetIndex","guessOrdinal","dimIndex","dimName","dimType","dimDefItem","sample","detectValue","beStr","BE_ORDINAL_1","detectSourceFormat_1","getSource_1","resetSourceDefaulter_1","prepareSource_1","makeSeriesEncodeForAxisCoordSys_1","makeSeriesEncodeForNameBased_1","guessOrdinal_1","sourceHelper","each$5","filter$1","map$2","isArray$5","indexOf$3","isObject$7","isString$5","createHashMap$3","assert$1","clone$4","merge$1","extend$5","mixin$2","resetSourceDefaulter$1","OPTION_INNER_KEY","GlobalModel","optionManager","_theme","_optionManager","setOption","optionPreprocessorFuncs","resetOption","optionChanged","baseOption","mountOption","initBase","timelineOption","getTimelineOption","mediaOptions","getMediaOption","_api","mediaOption","componentsMap","_componentsMap","newCptTypes","visitComponent","newCptOptionList","getComponentsByTypes","resultItem","ComponentModelClass","createSeriesIndices","componentOption","_seriesIndicesMap","_seriesIndices","getOption","cpts","isIdArray","cpt","isNameArray","filterBySubType","findComponents","queryCond","getQueryCond","doFilter","indexAttr","idAttr","nameAttr","eachComponent","queryResult","getSeriesByName","series","oneSeries","getSeriesByIndex","seriesIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","rawSeriesIndex","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","getCurrentSeriesIndices","filterSeries","filteredSeries","componentTypes","isNotTargetSeries","seiresIndex","mergeTheme","notMergeColorLayer","colorLayer","themeItem","existComponent","seriesModels","_default$Y","Global","echartsAPIList","ExtensionAPI","chartInstance","_default$Z","ExtensionAPI_1","coordinateSystemCreators","CoordinateSystemManager","_coordinateSystems","api","coordinateSystems","creater","coordSys","getCoordinateSystems","coordinateSystemCreator","_default$_","CoordinateSystem","each$6","clone$5","map$3","merge$2","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_mediaDefault","_currentMediaIndices","_optionBackup","_newBaseOption","parseRawOption","rawOption","isNew","mediaDefault","timelineOptions","mediaList","timelineOpt","timeline","media","singleMedia","preProcess","applyMediaQuery","ecWidth","ecHeight","realMap","aspectratio","applicatable","operator","realAttr","real","expect","indicesEquals","indices1","indices2","oldOption","newCptOpt","oldCptOpt","oldOptionBackup","newParsedOption","isRecreate","optionBackup","timelineModel","getCurrentIndex","indices","_default$$","OptionManager_1","each$7","isObject$8","POSSIBLE_STYLES","compatEC2ItemStyle","itemStyleOpt","normalItemStyleOpt","normal","emphasisItemStyleOpt","convertNormalEmphasis","optType","useExtend","normalOpt","emphasisOpt","removeEC3NormalStatus","compatTextStyle","labelOptSingle","compatEC3CommonStyles","processSeries","seriesOpt","markPoint","markLine","markArea","nodes","edgeData","links","edges","categories","mpData","mlData","breadcrumb","levels","leaves","toArr","toObj","_default$10","isTheme","axes","axisName","axisOpt","axisPointer","parallel","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","geo","geoOpt","regions","regionObj","toolbox","toolboxOpt","featureOpt","tooltip","compatStyle","each$8","isArray$6","isObject$9","normalizeToArray$2","get$2","set$4","compatLayoutProperties","LAYOUT_PROPERTIES","COMPATITABLE_COMPONENTS","_default$11","seriesType","clipOverflow","clockWise","pointerColor","dataRange","visualMap","componentName","backwardCompat","createHashMap$4","each$9","_default$12","stackInfoMap","stackInfoList","getData","stackInfo","stackResultDimension","getCalculationInfo","stackedOverDimension","stackedDimension","stackedByDimension","isStackedByIndex","setCalculationInfo","calculateStack","targetStackInfo","idxInStack","resultVal","resultNaN","dims","targetData","byValue","stackedDataRawIndex","getRawIndex","stackedOver","rawIndexOf","getByRawIndex","hostModel","dataStack","extend$6","each$a","isObject$a","getDataItemValue$2","isDataItemOption$1","parseDate$1","SOURCE_FORMAT_TYPED_ARRAY$3","SOURCE_FORMAT_ARRAY_ROWS$2","SOURCE_FORMAT_ORIGINAL$3","SOURCE_FORMAT_OBJECT_ROWS$2","DefaultDataProvider","dimSize","_source","_data","_offset","_dimSize","providerMethods","providerProto","pure","persistent","appendData","appendDataSimply","countSimply","getItemSimply","newCol","oldCol","clean","rawValueGetters","arrayRows","getRawValueSimply","objectRows","keyedColumns","original","typedArray","defaultDimValueGetters","getDimValueSimply","converDataValue","_dimensionInfos","_rawData","hasItemOption","dimInfo","ordinalMeta","parseAndCollect","retrieveRawValue","getRawDataItem","getProvider","getDimensionInfo","retrieveRawAttr","DefaultDataProvider_1","defaultDimValueGetters_1","retrieveRawValue_1","retrieveRawAttr_1","dataProvider","retrieveRawValue$1","getTooltipMarker$1","formatTpl$1","getTooltipRenderMode$1","DIMENSION_LABEL_REG","_default$13","getDataParams","dataType","rawValue","getRawValue","rawDataIndex","getName","itemOpt","getItemVisual","tooltipModel","isSeries","userOutput","componentSubType","dimensionNames","itemModel","getItemModel","dimensionIndex","formatTooltip","dataFormat","isArray$7","createTask","define","Task","_reset","_plan","plan","_count","_onDirty","onDirty","_dirty","taskProto","performArgs","planResult","upTask","_upstream","skip","outputData","__pipeline","currentTask","forceFirstProgress","lastModBy","normalizeModBy","_modBy","lastModDataCount","_modDataCount","modBy","modDataCount","_dueEnd","_outputDueEnd","_progress","_dueIndex","progress","doProgress","outputDueEnd","_settedOutputEnd","unfinished","winCount","sStep","sCount","modNext","sequentialNext","taskIns","_callingProgress","downstream","_downstream","pipe","downTask","_disposed","getUpstream","getDownstream","setOutputEnd","createTask_1","task$2","formatTime$1","encodeHTML$1","addCommas$1","getTooltipMarker$2","getLayoutParams$1","mergeLayoutParam$1","createTask$1","prepareSource$1","getSource$1","retrieveRawValue$2","inner$4","SeriesModel","coordinateSystem","legendVisualProvider","visualColorAccessPath","visualBorderColorAccessPath","dataTask","dataTaskCount","dataTaskReset","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","themeSubType","fillDataTextStyle","newSeriesOption","getRawData","getCurrentTask","getLinkedData","modifyOutputEnd","getBaseAxis","multipleSeries","newLine","isRichText","formatArrayValue","vertially","dimItem","setEachItem","otherDims","markName","dimHead","dimHeadStr","valStr","tooltipDims","formatSingleValue","mapDimension","tooltipDimLen","isValueArr","formattedValue","colorEl","coordDimToDataDim","coordDim","getProgressive","getProgressiveThreshold","getAxisTooltipData","getTooltipPosition","pipeTask","preventIncremental","pipelineContext","getSeriesAutoName","dataDims","nameArr","dataDim","cloneShallow","dataTaskProgress","CHANGABLE_METHODS","wrapMethod","onDataSelfChange","scheduler","pipeline","getPipeline","agentStubMap","_default$14","Series","Component$1","filterForExposedEvent","componentProto","updateView","updateLayout","updateVisual","_default$15","Component_1","makeInner$5","_default$16","originalLarge","large","originalProgressive","progressiveRender","createRenderPlanner","each$b","createTask$2","inner$5","renderPlanner","Chart","renderTask","renderTaskPlan","renderTaskReset","view","highlight","toggleHighlight","downplay","incrementalPrepareRender","incrementalRender","chartProto","elSetState","dataIdx","getItemGraphicEl","eachItemGraphicEl","updateMethod","progressMethodMap","markUpdateMethod","_default$17","Chart_1","ORIGIN_METHOD","RATE","THROTTLE_TYPE","throttle$1","currCall","debounceNextCall","lastCall","lastExec","thisDelay","thisDebounce","debounceDelay","createOrUpdate","fnAttr","rate","throttleType","originFn","lastThrottleType","lastRate","clear$1","throttle_2","createOrUpdate_1","clear_1","throttle_1","isFunction$3","_default$18","createOnAllSeries","performRawSeries","colorAccessPath","colorCallback","setVisual","borderColorAccessPath","setItemVisual","dataEach","seriesColor","_default$19","legend","selector","polygon","lineX","lineY","keep","dataView","dataZoom","back","magicType","bar","tiled","saveAsImage","typeNames","pie","scatter","effectScatter","tree","treemap","boxplot","candlestick","heatmap","sankey","funnel","gauge","pictorialBar","themeRiver","sunburst","aria","general","withTitle","withoutTitle","single","prefix","withName","withoutName","multiple","allData","partialData","retrieveRawValue$3","_default$1a","ariaModel","seriesCnt","ariaLabel","maxDataCnt","maxSeriesCnt","displaySeriesCnt","getTitle","getConfig","seriesLabels","seriesCount","seriesLabel","seriesTpl","getSeriesTypeName","displayCnt","dataLabels","keyValues","userConfig","PI$1","_default$1b","textColor","maskColor","showSpinner","spinnerRadius","mask","labelRect","lineCap","_default_1","each$c","map$4","isFunction$4","createHashMap$5","noop$2","createTask$3","getUID$1","normalizeToArray$3","Scheduler","ecInstance","dataProcessorHandlers","visualHandlers","_dataProcessorHandlers","_visualHandlers","_allHandlers","_stageTaskMap","performStageTasks","stageHandlers","needSetDirty","setDirty","dirtyMap","stageHandler","visualType","stageHandlerRecord","seriesTaskMap","overallTask","overallNeedDirty","stub","updatePayload","getPerformArgs","pipelineId","taskRecord","_pipelineMap","pCtx","progressiveEnabled","__idxInPipeline","blockIndex","updateStreamModes","dataLen","threshold","restorePipelines","pipelineMap","prepareStageTasks","stageTaskMap","record","createSeriesStageTask","overallReset","createOverallStageTask","prepareView","__block","performDataProcessorTasks","performVisualTasks","performSeriesTasks","getTargetSeries","seriesTaskPlan","seriesTaskReset","seriesTaskCount","useClearVisual","isVisual","isLayout","overallTaskReset","overallProgress","createStub","stubReset","stubOnDirty","agent","upstreamContext","stubProgress","clearAllVisual","resetDefines","makeSeriesTaskProgress","singleSeriesTaskProgress","resetDefineIdx","resetDefine","detectSeriseType","legacyFunc","ecModelMock","apiMock","wrapStageHandler","mockMethods","cond","_default$1c","Scheduler_1","colorAll","_default$1d","light","contrastColor","axisCommon","axisLine","axisTick","axisLabel","splitLine","splitArea","colorPalette$1","crossStyle","iconStyle","controlStyle","timeAxis","logAxis","valueAxis","categoryAxis","color0","borderColor0","_default$1e","dark","detectSourceFormat$1","SERIES_LAYOUT_BY_COLUMN$2","_default$1f","ox","oy","Ellipse","createFromString$1","isString$6","extend$7","defaults$1","trim$3","each$d","DILIMITER_REG","parseXML","svg","parser","DOMParser","parseFromString","SVGParser","_defs","_root","_isDefine","_isText","xml","viewBox","parseAttributes","viewBoxRect","viewBoxTransform","_parseNode","viewBoxArr","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","xmlNode","parentGroup","defineParsers","def","nodeParsers","_parseText","_textX","_textY","textContent","inheritStyle","circle","ellipse","parsePoints","polyline","gradient","_parseGradientColorStops","stopColor","__inheritedStyle","pointsString","attributesMap","defs","onlyInlineStyle","zrStyle","isTextEl","parseTransformAttribute","parseStyleAttribute","svgAttrName","attrValue","elFillProp","elStrokeProp","getPaint","elPropName","urlRegex","urlMatch","transformRegex","transformOps","warn","styleRegex","styleRegResult","styleList","viewBoxScale","viewBoxPosition","parseSVG","parseXML_1","makeViewBoxTransform_1","parseSVG_2","parseSVG_1","createHashMap$6","isString$7","isArray$8","each$e","parseXML$1","_default$1g","registerMap","mapName","rawGeoJson","rawSpecialAreas","records","specialAreas","geoJson","features","parsers","retrieveMap","geoJSON","svgXML","mapDataStorage","defaultKeyGetter","DataDiffer","oldArr","newArr","oldKeyGetter","newKeyGetter","_old","_new","_oldKeyGetter","_newKeyGetter","initIndexMap","keyArr","keyGetterName","dataDiffer","existence","_add","_remove","execute","oldDataIndexMap","newDataIndexMap","oldDataKeyArr","newDataKeyArr","_default$1h","DataDiffer_1","each$f","createHashMap$7","OTHER_DIMENSIONS","summarizeDimensions","summary","notExtraCoordDimMap","defaultedLabel","defaultedTooltip","coordDimIndex","getOrCreateEncodeArr","isExtraCoord","mayLabelDimType","defaultTooltip","otherDim","encodeArr","dataDimsOnCoord","encodeFirstDimNotExtra","dimArr","encodeLabel","encodeTooltip","getDimensionTypeByAxis","axisType","OTHER_DIMENSIONS_1","summarizeDimensions_1","getDimensionTypeByAxis_1","dimensionHelper","DataDimensionInfo","_default$1i","DataDimensionInfo_1","defaultDimValueGetters$1","DefaultDataProvider$1","summarizeDimensions$1","isObject$b","UNDEFINED","INDEX_NOT_FOUND","ID_PREFIX","dataCtors","Float64Array","Int32Array","CtorUint32Array","Uint32Array","CtorInt32Array","CtorUint16Array","Uint16Array","getIndicesCtor","_rawCount","cloneChunk","originalChunk","TRANSFERABLE_PROPERTIES","CLONE_PROPERTIES","transferProperties","__wrappedMethods","_calculationInfo","dimensionInfos","invertedIndicesMap","dimensionInfo","dimensionName","createInvertedIndices","_indices","_storage","_nameList","_idList","_optionModels","_visual","_layout","_itemVisuals","hasItemVisual","_itemLayouts","_graphicEls","_chunkSize","_chunkCount","_rawExtent","_extent","_approximateExtent","_dimensionsSummary","_invertedIndicesMap","listProto","prepareChunks","chunkSize","chunkCount","DataCtor","lastChunkIndex","resizeChunkArray","newStore","prepareInvertedIndex","invertedIndices","getRawValueFromStore","rawIndex","chunkIndex","chunkOffset","chunk","getRawIndexWithoutIndices","getRawIndexWithIndices","_idDimIdx","normalizeDimensions","cloneListForMapAndSample","excludeDimensions","allDimensions","originalStorage","cloneDimStore","getInitialExtent","originalDimStore","newDimStore","getDimension","getDimensionsOnCoord","dimensionsSummary","initData","nameList","dimValueGetter","notProvider","_nameRepeatCount","defaultDimValueGetter","_dimValueGetter","_dimValueGetterArrayRows","_initDataFromProvider","rawData","appendValues","dimLen","rawExtent","originalChunkCount","emptyDataItem","sourceIdx","dimRawExtent","nameDimIdx","dimensionInfoMap","idList","nameRepeatCount","_nameDimIdx","itemId","dimStorage","nameDim","nameDimChunk","getIndices","thisCount","newIndices","buffer","chunkStore","rawIdx","dimStore","_getFast","getValues","getDataExtent","dimData","initialExtent","dimExtent","currEnd","useRaw","getApproximateExtent","setApproximateExtent","extent","getSum","getMedian","dimDataArray","sortedDimDataArray","indicesOfNearest","maxDistance","nearestIndices","minDist","minDiff","nearestIndicesLen","contextCompat","filterSelf","dim0","selectRange","originalCount","quickFinished","chunkStorage","dimStorage2","chunkStorage2","val2","dimk","mapArray","tmpRetValue","dataCount","retValue","rawExtentOnDim","downSample","dimension","sampleValue","sampleIndex","targetStorage","frameValues","frameSize","originalChunkIndex","originalChunkOffset","sampleFrameIdx","sampleChunkIndex","sampleChunkOffset","otherList","thisList","getVisual","visual","setLayout","getLayout","getItemLayout","setItemLayout","clearItemLayouts","itemVisual","setItemDataAndSeriesIndex","setItemGraphicEl","dimensionInfoList","injectFunction","originalMethod","TRANSFERABLE_METHODS","_default$1j","List_1","createHashMap$8","each$g","isString$8","defaults$2","extend$8","isObject$c","clone$6","normalizeToArray$4","guessOrdinal$1","BE_ORDINAL$1","OTHER_DIMENSIONS$1","completeDimensions","sysDims","dataDimNameMap","coordDimNameMap","getDimCount","userDimName","encodeDef","encodeDefaulter","validDataDims","resultDimIdx","applyDim","availDimIdx","sysDimItem","sysDimIndex","sysDimItemDimsDef","sysDimItemOtherDims","sysDimItemDimsDefItem","generateCoord","generateCoordCount","fromZero","genName","optDimCount","_default$1k","completeDimensions_1","_default$1l","dimensionsCount","createDimensions","createHashMap$9","each$h","CoordSysInfo","coordSysName","coordSysDims","axisMap","categoryAxisMap","firstCategoryDimIndex","getCoordSysInfoBySeries","fetchers","cartesian2d","xAxisModel","yAxisModel","isCategory","singleAxis","singleAxisModel","polar","polarModel","radiusAxisModel","findAxisModel","angleAxisModel","parallelModel","parallelAxisIndex","axisIndex","axisModel","axisDim","getCoordSysInfoBySeries_1","referHelper","each$i","isString$9","enableDataStack","stackedByDimInfo","stackedDimInfo","byIndex","stackedCoordDimension","mayStack","stackedDimCoordDim","stackedDimType","stackedDimCoordIndex","isCalculationCoord","isDimensionStacked","stackedDim","getStackedDimension","targetDim","enableDataStack_1","isDimensionStacked_1","getStackedDimension_1","dataStackHelper","SOURCE_FORMAT_ORIGINAL$4","getDimensionTypeByAxis$1","getDataItemValue$3","getCoordSysInfoBySeries$1","enableDataStack$1","makeSeriesEncodeForAxisCoordSys$1","createListFromArray","coordSysDimDefs","registeredCoordSys","coordSysInfo","getDimensionsInfo","hasNameEncode","dimInfoList","useEncodeDefaulter","categoryAxisModel","getOrdinalMeta","stackCalculationInfo","isNeedCompleteOrdinalData","sampleItem","firstDataNotNull","_default$1m","createListFromArray_1","Scale","setting","_setting","_interval","getSetting","unionExtent","unionExtentFromData","getExtent","setExtent","thisExtent","isBlank","_isBlank","setBlank","getLabel","_default$1n","Scale_1","createHashMap$a","isObject$d","map$5","OrdinalMeta","_needCollect","needCollect","_deduplication","deduplication","createByAxisModel","dedplication","proto$1","getOrCreateMap","getOrdinal","category","_default$1o","OrdinalMeta_1","scaleProto","OrdinalScale","_ordinalMeta","getTicks","ticks","niceTicks","niceExtent","_default$1p","Ordinal","roundNumber","intervalScaleNiceTicks","splitNumber","minInterval","maxInterval","intervalPrecision","getIntervalPrecision","niceTickExtent","fixExtent","intervalScaleNiceTicks_1","getIntervalPrecision_1","fixExtent_1","helper$1","roundNumber$1","IntervalScale","_intervalPrecision","getInterval","setInterval","_niceExtent","expandToNicedExtent","safeLimit","tick","lastNiceTick","getMinorTicks","minorTicks","prevTick","minorTicksGroup","minorInterval","minorTick","expandSize","fixMax","fixMin","_default$1q","Interval","parsePercent$3","isDimensionStacked$1","STACK_PREFIX","LARGE_BAR_MIN_WIDTH","LargeArr","getSeriesStackId","getAxisKey","axis","getLayoutOnAxis","baseAxis","axisKey","bandWidth","getBandWidth","stackId","widthAndOffsets","doCalBarWidthAndOffset","offsetCenter","prepareLayoutBarSeries","isOnCartesian","isInLargeMode","getValueAxesMinGaps","barSeries","axisValues","cartesian","cnt","axisMinGaps","valuesInAxis","makeColumnLayout","seriesInfoList","axisExtent","minGap","extentSpan","scaleSpan","barWidth","barMaxWidth","barMinWidth","barGap","barCategoryGap","columnsMap","seriesInfo","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","minWidth","barGapPercent","autoWidth","finalWidth","lastColumn","widthSum","retrieveColumnLayout","barWidthAndOffset","layout$1","lastStackCoords","columnLayoutInfo","columnOffset","columnWidth","getOtherAxis","barMinHeight","valueDim","baseDim","stacked","isValueAxisH","isHorizontal","valueAxisStart","getValueAxisStart","baseValue","sign","baseCoord","dataToPoint","largeLayout","coordLayout","grid","getRect","valueAxisHorizontal","valueDimIdx","largePoints","largeBackgroundPoints","largeDataIndices","valuePair","pointsOffset","idxOffset","backgroundStart","toGlobalCoord","dataToCoord","getLayoutOnAxis_1","prepareLayoutBarSeries_1","makeColumnLayout_1","retrieveColumnLayout_1","layout_1","largeLayout_1","barGrid","intervalScaleProto","mathCeil","mathFloor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","bisect","TimeScale","stepLvl","_stepLvl","getFullYear","getMonth","getDate","approxTickNum","approxInterval","scaleLevelsLen","scaleLevels","yearSpan","yearStep","timezoneOffset","getTimezoneOffset","scaleProto$1","intervalScaleProto$1","getPrecisionSafe$1","roundingErrorFix","mathFloor$1","mathCeil$1","mathPow$1","mathLog","LogScale","_originalScale","originalScale","originalExtent","powVal","__fixMin","fixRoundingError","__fixMax","originalVal","_default$1r","Log","prepareLayoutBarSeries$1","makeColumnLayout$1","retrieveColumnLayout$1","getScaleExtent","axisDataLen","boundaryGap","scaleType","getMin","getMax","getCategories","getNeedCrossZero","isBaseAxisAndHasBarSeries","barSeriesModels","adjustedScale","adjustScaleForOverflow","axisLength","barsOnCurrentAxis","minOverflow","maxOverflow","totalOverFlow","oldRange","oldRangePercentOfNew","overflowBuffer","niceScaleExtent","extentInfo","createScaleByModel","ifAxisCrossZero","makeLabelFormatter","labelFormatter","getLabelModel","categoryTickStart","tickValue","getAxisRawValue","estimateLabelUnionRect","realNumberScaleTicks","tickCount","categoryScaleExtent","axisLabelModel","unrotatedSingleRect","singleRect","rotateTextRect","rotateRadians","boundingBox","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","getOptionCategoryInterval","shouldShowAllLabels","getScaleExtent_1","niceScaleExtent_1","createScaleByModel_1","ifAxisCrossZero_1","makeLabelFormatter_1","getAxisRawValue_1","estimateLabelUnionRect_1","getOptionCategoryInterval_1","shouldShowAllLabels_1","axisHelper","_default$1s","rangeStart","rangeEnd","getCoordSysModel","setRange","resetRange","axisModelCommonMixin","calculateTextPosition$1","Triangle","Diamond","Pin","tanX","tanY","cpLen","cpLen2","Arrow","symbolCtors","square","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","symbolType","proxySymbol","symbolPathSetColor","innerColor","symbolStyle","symbolShape","__isEmptyBrush","createSymbol","keepAspect","symbolPath","setColor","createSymbol_1","getLayoutRect_1$1","enableDataStack$2","isDimensionStacked$2","getStackedDimension$1","completeDimensions$1","createDimensions$1","createSymbol$1","createList","dataStack$1","createScale","mixinAxisModelCommonMethods","createList_1","dataStack_1","createScale_1","mixinAxisModelCommonMethods_1","helper$2","EPSILON$3","isAroundEqual$1","contain$1","contain_1$1","Region","geometries","cp","MAX_NUMBER","exterior","loopGeo","interiors","transformTo","newRegion","_default$1t","Region_1","decode","UTF8Encoding","encodeScale","UTF8Scale","geometry","coordinates","encodeOffsets","coordinate","decodePolygon","c2","prevX","prevY","_default$1u","nameProperty","featureObj","region","parseGeoJson","makeInner$6","makeLabelFormatter$1","getOptionCategoryInterval$1","shouldShowAllLabels$1","inner$6","createAxisLabels","makeCategoryLabels","makeRealNumberLabels","createAxisTicks","tickModel","makeCategoryTicks","makeCategoryLabelsActually","labels","labelCategoryInterval","numericLabelInterval","labelsCache","getListCache","optionLabelInterval","listCacheGet","makeLabelsByCustomizedCategoryInterval","makeAutoCategoryInterval","makeLabelsByNumericCategoryInterval","listCacheSet","tickCategoryInterval","ticksCache","optionTickInterval","labelsResult","labelItem","formattedLabel","rawLabel","autoInterval","calculateCategoryInterval","fetchAutoCategoryIntervalCalculationParams","axisRotate","ordinalScale","ordinalExtent","unitSpan","unitW","unitH","maxW","maxH","dw","dh","lastAutoInterval","lastTickCount","axisExtend0","axisExtend1","getRotate","categoryInterval","onlyTick","startTick","showAllLabel","includeMinLabel","includeMaxLabel","addItem","tVal","createAxisLabels_1","createAxisTicks_1","calculateCategoryInterval_1","axisTickLabelBuilder","each$j","map$6","linearMap$1","getPixelPrecision$1","round$2","createAxisTicks$1","createAxisLabels$1","calculateCategoryInterval$1","NORMALIZED_EXTENT","Axis","onBand","fixExtentWithBands","nTick","fixOnBandTicksCoords","ticksCoords","alignWithLabel","ticksLen","diffSize","crossLen","ticksItem","containData","coordToData","pointToData","getTicksCoords","getTickModel","getMinorTicksCoords","minorTickModel","minorTicksCoords","getViewLabels","_default$1v","Axis_1","zrender_1","matrix_1","vector_1","number$1","format$2","throttle_1$1","helper$3","parseGeoJSON_1","List$1","Model$1","Axis$1","env$1","parseGeoJson$1","ecUtil","graphic$1","parseGeoJson_1","util$2","graphic_1","_export$1","parseGeoJSON","echarts","TEST_FRAME_REMAIN_TIME","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_SERIES_FILTER","PRIORITY_PROCESSOR_DATASTACK","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_PROGRESSIVE_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_POST_CHART_LAYOUT","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_BRUSH","PRIORITY","PROCESSOR","FILTER","SERIES_FILTER","STATISTIC","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","CHART","POST_CHART_LAYOUT","COMPONENT","BRUSH","IN_MAIN_PROCESS","OPTION_UPDATED","ACTION_REG","createRegisterEventWithLowercaseName","ignoreDisposed","disposedWarning","MessageCenter","ECharts","themeStorage","_dom","defaultRenderer","_zr","_throttledZrFlush","_chartsViews","_chartsMap","_componentsViews","_coordSysMgr","createExtensionAPI","prioritySortFunc","__prio","visualFuncs","dataProcessorFuncs","_scheduler","_ecEventProcessor","EventProcessor","_messageCenter","_initEvents","_pendingActions","_onframe","bindRenderedEvent","echartsProto","doConvertPixel","_model","coordSysList","prepare","updateMethods","flushPendingActions","triggerUpdatedEvent","remainTime","renderSeries","getDom","getZr","notMerge","lazyUpdate","setTheme","getDevicePixelRatio","getSvgDataURL","getDataURL","excludeComponents","excludesComponentViews","__viewId","getConnectedDataURL","isSvg","groupId","connectedGroups","canvasList","chart","getSvgDom","targetCanvas","getSvgRoot","connectedBackgroundColor","convertToPixel","convertFromPixel","containPixel","containPoint","getViewOfComponentModel","getViewOfSeriesModel","prepareAndUpdate","coordSysMgr","performPostUpdateFuncs","ecIns","componentDirtyList","componentView","__alive","seriesDirtyMap","chartView","updateDirectly","excludeSeriesId","callView","__model","chartsMap","doDispatchAction","payloadType","escapeConnect","actionWrap","actions","actionInfo","cptType","payloads","batched","batch","eventObj","eventObjBatch","isHighDown","batchItem","pendingActions","isComponent","viewList","viewMap","doPrepare","viewId","classType","__id","__ecComponentInfo","renderComponents","dirtyList","updateZ","updateBlend","updateHoverLayerStatus","postUpdateFuncs","_loadingFX","showLoading","cfg","hideLoading","loadingEffects","makeActionFromEvent","eventActionMap","dispatchAction","MOUSE_EVENT_NAMES","elCount","preventUsingHoverLayer","getComponentByElement","modelInfo","eventInfo","eveName","isGlobalOut","dataModel","eventData","targetEl","packedEvent","actionType","isDisposed","DOM_ATTRIBUTE_KEY","cptQuery","dataQuery","otherQuery","condCptType","suffixes","dataKeys","reserved","propSuffix","suffixPos","propOnHost","idBase","groupIdBase","enableConnect","STATUS_PENDING","STATUS_UPDATING","STATUS_UPDATED","STATUS_KEY","updateConnectedChartsStatus","charts","otherChart","otherCharts","existInstance","getInstanceByDom","connect","disConnect","disconnect","getInstanceById","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processor","normalizeRegister","registerPostUpdate","postUpdateFunc","registerAction","registerCoordinateSystem","CoordinateSystem$1","getCoordinateSystemDimensions","coordSysCreator","registerLayout","layoutTask","registerVisual","visualTask","targetList","defaultPriority","__raw","registerLoading","loadingFx","extendComponentModel","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","getMap","dataTool","retrieveRawValue$4","legendHoverLink","hoverAnimation","smoothMonotone","symbolSize","symbolRotate","showSymbol","showAllSymbol","connectNulls","sampling","getDefaultLabel","labelDims","vals","getDefaultLabel_1","labelHelper","createSymbol$2","parsePercent$4","getDefaultLabel$1","SymbolClz$1","seriesScope","updateData","symbolProto","getSymbolSize","getScale","driftSymbol","_createSymbol","_symbolType","stopSymbolAnimation","toLastFrame","getSymbolPath","setZ","setDraggable","_updateCommon","fadeIn","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","__symbolOriginalScale","ratio","hoverItemStyle","symbolOffset","hoverLabelModel","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","getLabelDefaultText","fadeOut","keepLabel","_default$1x","_Symbol","isObject$e","SymbolDraw","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","isIgnore","clipShape","normalizeUpdateOpt","makeSeriesScope","oldData","SymbolCtor","newIdx","symbolEl","oldIdx","isPersistent","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","enableAnimation","_default$1y","SymbolDraw_1","isDimensionStacked$3","map$7","prepareDataCoordInfo","valueOrigin","valueStart","getValueStart","baseAxisDim","valueAxisDim","baseDataOffset","stackResultDim","dataDimsForPoint","getStackedOnPoint","dataCoordInfo","stackedData","prepareDataCoordInfo_1","getStackedOnPoint_1","helper$4","prepareDataCoordInfo$1","getStackedOnPoint$1","diffData","diffResult","idx1","_default$1z","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","pointAdded","currentPt","nextPt","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","stackedOnCurrent","stackedOnNext","lineAnimationDiff","scaleAndAdd$1","v2Copy","isPointNull","drawSegment","segLen","allLen","smoothMin","smoothMax","drawMono","drawNonMono","prevIdx","prevP","ctrlLen","nextIdx","nextP","ratioNextSeg","lenPrevSeg","lenNextSeg","getBoundingBox","ptMin","ptMax","pt","Polyline$1","Polygon$1","stackedOnPoints","stackedOnSmooth","stackedOnBBox","Polyline_1$1","Polygon_1$1","poly$1","round$3","createGridClipPath","hasAnimation","getArea","createPolarClipPath","sectorArea","createClipPath","createGridClipPath_1","createPolarClipPath_1","createClipPath_1","createClipPathFromCoordSys","fromPoints$1","Polyline$2","Polygon$2","prepareDataCoordInfo$2","getStackedOnPoint$2","createGridClipPath$1","createPolarClipPath$1","isPointsSame","points1","points2","getBoundingDiff","min1","max1","getSmooth","getStackedOnPoints","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","stepPt2","getVisualGradient","visualMetaList","visualMeta","getAxis","stops","stopLen","outerColors","tinyExtent","minCoord","maxCoord","coordSpan","getIsIgnoreFunc","isAuto","getAxesByScale","canShowAllSymbolForCategory","categoryDataDim","labelMap","availSize","createLineClipPath","rectShape","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","areaStyleModel","isCoordSysPolar","prevCoordSys","_coordSys","_polyline","_polygon","isAreaChart","isIgnoreFunc","__temp","clipShapeForSymbol","_clipShapeForSymbol","_step","_newPolygon","_stackedOnPoints","_points","_updateAnimation","_newPolyline","visualColor","lineJoin","stackedOnSeries","_valueOrigin","__points","updatedDataInfo","diffStatus","ptIdx","isFunction$5","_default$1B","defaultSymbolType","legendSymbol","hasSymbolTypeCallback","hasSymbolSizeCallback","hasSymbolRotateCallback","hasCallback","seriesSymbol","seriesSymbolSize","symbolKeepAspect","itemSymbolType","itemSymbolSize","itemSymbolRotate","itemSymbolKeepAspect","symbol$1","map$8","isDimensionStacked$4","_default$1C","isLargeRender","segCount","tmpIn","tmpOut","points$2","samplers","average","nearest","indexSampler","_default$1D","sampler","dataSample","dimAxisMapper","_axes","Cartesian","_dimList","getAxes","addAxis","_dataCoordConvert","dimList","_default$1E","Cartesian_1","Cartesian2D","axisX","axisY","toLocalCoord","xAxis","yAxis","clampData","xScale","yScale","xAxisExtent","yAxisExtent","xExtent","getGlobalExtent","yExtent","_default$1F","Cartesian2D_1","Axis2D","coordExtent","getAxesOnZeroOf","_default$1G","Axis2D_1","nameLocation","nameRotate","nameTruncate","nameTextStyle","nameGap","triggerEvent","onZero","onZeroAxisIndex","inside","showMinLabel","showMaxLabel","axisDefault","minorSplitLine","logBase","_default$1H","axisDefault_1","getLayoutParams$2","mergeLayoutParam$2","AXIS_TYPES","_default$1I","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","thisOption","__ordinalMeta","axisModelCreator","AxisModel","gridIndex","gridId","getAxisType","extraOption","containLabel","isObject$f","each$k","map$9","indexOf$4","getLayoutRect$1","createScaleByModel$1","ifAxisCrossZero$1","niceScaleExtent$1","estimateLabelUnionRect$1","getStackedDimension$2","isAxisUsedInTheGrid","gridModel","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","gridProto","fixAxisOnZero","axesMap","otherAxisDim","onZeroRecords","otherAxisOnZeroOf","otherAxes","canOnZeroToAxis","getOnZeroRecordKey","updateAxisTransform","coordBase","axisExtentSum","axisPointerEnabled","_updateScale","ignoreContainLabel","gridRect","axesList","adjustAxes","labelUnionRect","axesMapOnDim","getCartesian","xAxisIndex","yAxisIndex","coordList","getCartesians","_findConvertTarget","coordsList","axisPositionUsed","axesCount","createAxisCreator","axisPosition","isCartesian2D","axesModels","findAxesModels","getTooltipAxes","baseAxes","otherAxis","axesTypes","grids","retrieve$1","defaults$3","extend$9","each$l","isRadianAroundZero$1","remRadian$1","createSymbol$3","v2ApplyTransform$2","shouldShowAllLabels$2","PI$2","AxisBuilder","labelOffset","nameDirection","tickDirection","labelDirection","dumbGroup","_transform","_dumbGroup","hasBuilder","builders","getGroup","pt1","pt2","arrows","arrowSize","arrowOffset","symbolWidth","symbolHeight","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","labelLayout","axisNameAvailableWidth","gapSignal","isNameLocationCenter","nameRotation","innerTextLayout","endTextLayout","truncateOpt","nameTruncateMaxWidth","truncatedText","tooltipOpt","formatterParams","textEl","__fullText","__truncatedText","isLabelSilent","makeAxisEventDataBase","targetType","axisRotation","rotationDiff","textRotate","onLeft","tickEls","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","lastTick","ignoreEl","isTwoLabelOverlapped","firstRect","nextRect","mRotationBack","createTicks","tickTransform","tickEndCoord","tickLineStyle","aniid","tickCoord","tickEl","axisBuilder","minorTickLineStyle","minorTicksEls","axisLabelShow","labelMargin","labelRotation","rawCategoryData","itemLabelModel","_default$1K","AxisBuilder_1","each$m","curry$1","collect","axesInfo","seriesInvolved","coordSysAxesInfo","coordSysMap","collectAxesInfo","collectSeriesInfo","globalTooltipModel","globalAxisPointerModel","linksOption","linkGroups","coordSysKey","makeKey","axesInfoInCoordSys","coordSysModel","baseTooltipModel","saveTooltipAxisInfo","triggerAxis","cross","tooltipAxes","fromTooltip","triggerTooltip","axisPointerModel","axisPointerShow","isHandleTrigger","makeAxisPointerModel","snap","involveSeries","axisInfo","useHandle","groupIndex","getLinkGroupIndex","linkGroup","mapper","tooltipAxisPointerModel","volatileOption","field","labelOption","tooltipAxisPointerLabelShow","seriesTooltipTrigger","seriesTooltipShow","seriesDataCount","linkOption","checkPropInLink","linkPropValue","axisPropValue","fixValue","getAxisInfo","getAxisPointerModel","collect_1","fixValue_1","getAxisInfo_1","getAxisPointerModel_1","makeKey_1","modelHelper","AxisView","_axisPointer","axisPointerClass","updateAxisPointer","disposeAxisPointer","axisView","forceRender","getAxisPointerClass","axisPointerClazz","registerAxisPointerClass","_default$1L","AxisView_1","layout$2","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelInside","layout_1$1","cartesianAxisHelper","rectCoordAxisBuildSplitArea","axisGroup","splitAreaModel","areaColors","areaColorsLen","lastSplitAreaColors","__splitAreaColors","newSplitAreaColors","colorIndex","cIndex","rectCoordAxisHandleRemove","rectCoordAxisBuildSplitArea_1","rectCoordAxisHandleRemove_1","axisSplitHelper","rectCoordAxisBuildSplitArea$1","rectCoordAxisHandleRemove$1","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","_splitLine","splitLineModel","lineColors","lineCount","_minorSplitLine","minorSplitLineModel","_splitArea","_default$1M","findPointFromSeries","makeInner$7","each$n","curry$2","inner$7","_default$1N","currTrigger","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","dataByCoordSys","updaters","showPointer","showTooltip","coordSysContainsPoint","inputAxisInfo","findInputAxisInfo","processOnAxis","linkTriggers","tarAxisInfo","tarKey","srcAxisInfo","srcKey","srcValItem","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","payloadInfo","buildPayloadsBySeries","payloadBatch","snapToValue","seriesNestestValue","nestestValue","coordSysItem","coordSysId","coordSysIndex","coordSysType","coordSysMainType","dataByAxis","axisId","valueLabelOpt","seriesDataIndices","outputAxesInfo","valItem","tooltipOption","highDownKey","lastHighlights","newHighlights","toHighlight","toDownplay","axisTrigger","makeInner$8","triggerOn","shadowStyle","handle","inner$8","each$o","initGlobalListeners","useHandler","dis","makeDispatchAction","dispatchTooltipFinally","pendings","initialized","doEnter","onLeave","actuallyPayload","showLen","showTip","hideLen","hideTip","register_1","unregister_1","globalListener","AxisPointerView","makeInner$9","inner$9","clone$7","bind$2","BaseAxisPointer","updateProps$1","animationModel","moveAnimation","propsEqual","lastProp","lastProps","newProps","equals","updateLabelShowHide","labelEl","getHandleTransProps","trans","updateMandatoryProps","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","_axisModel","_axisPointerModel","elOption","makeElOption","graphicKey","_moveAnimation","determineAnimation","doUpdateProps","updatePointerEl","updateLabelEl","createPointerEl","createLabelEl","_renderHandle","isCategoryAxis","useSnap","pointerOption","pointerEl","updateHandleTransform","handleModel","onmousemove","onmousedown","_onHandleDragMove","ondragend","_onHandleDragEnd","includeStyles","handleSize","_moveHandleToValue","getHandleTransform","_doDispatchAxisPointer","cursorPoint","doClear","buildLabel","xy","xDimIndex","_default$1O","BaseAxisPointer_1","buildElStyle","axisPointerType","styleModel","buildLabelElOption","labelPos","getValueLabel","paddings","align","verticalAlign","confineInContainer","bgColor","viewWidth","viewHeight","axisDimension","seriesData","idxItem","dataParams","getTransformedPosition","layoutInfo","buildCartesianSingleLabelElOption","textLayout","makeLineShape","makeRectShape","makeSectorShape","buildElStyle_1","buildLabelElOption_1","getValueLabel_1","getTransformedPosition_1","buildCartesianSingleLabelElOption_1","makeLineShape_1","makeRectShape_1","makeSectorShape_1","viewHelper","CartesianAxisPointer","otherExtent","pixelValue","pointerShapeBuilder","currPosition","cursorOtherValue","tooltipOptions","targetShape","getAxisDimIndex","shadow","showContent","alwaysShowContent","displayMode","confine","showDelay","hideDelay","transitionDuration","enterable","each$p","toCamelCase$1","vendors","gCssText","assembleTransition","transitionCurve","transitionText","vendorPrefix","assembleFont","assembleCssText","borderName","camelCase","makeStyleCoord","appendToBody","zrPainter","zrViewportRoot","viewportRootOffset","TooltipContent","_appendToBody","_styleCoord","_container","_show","_hideTimeout","onmouseenter","_enterable","_inContent","onmouseleave","hideLater","_hideDelay","currentStyle","_moveTooltipIfResized","ratioX","ratioY","realX","realY","styleCoord","pointerEvents","setEnterable","getSize","clientWidth","clientHeight","isShow","getOuterSize","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","_default$1Q","TooltipContent_1","makeStyleCoord$1","TooltipRichContent","markerRich","suffix","startId","endId","bounding","_default$1R","TooltipRichContent_1","getTooltipRenderMode$2","bind$3","each$q","parsePercent$5","proxyRect","tooltipContent","_renderMode","_newLine","_tooltipContent","_tooltipModel","_ecModel","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","_tryShow","_hide","_refreshUpdateTimeout","manuallyShowTip","makeDispatchAction$1","_ticket","_manuallyAxisShowTip","pointInfo","manuallyHideTip","buildTooltipModel","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","_showTimout","singleDefaultHTML","singleParamsList","singleTooltipModel","itemCoordSys","axisValue","seriesDefaultHTML","valueLabel","axisValueLabel","seriesTooltip","newMarkers","firstLine","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","tooltipTrigger","defaultHtml","asyncTicket","subTooltipModel","cbTicket","contentSize","vAlign","viewSize","layoutRect","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","lastIndices","lastIdxItem","newIdxItem","modelCascade","resultModel","gapH","gapV","domWidth","domHeight","rectWidth","rectHeight","isNameSpecified$1","langSelector","defaultSelectorOption","LegendModel","selected","_updateSelector","_updateData","legendData","hasSelected","isSelected","potentialData","availableNames","isPotential","provider","getAllNames","_availableNames","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","getOrient","itemGap","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","selectorLabel","selectorPosition","selectorItemGap","selectorButtonGap","legendSelectActionHandler","selectedMap","isToggleSelect","legendModel","isItemSelected","getLayoutRect$2","layoutBox","positionElement$1","layout$3","boxLayoutParams","viewportSize","makeBackground","layout_1$2","makeBackground_1","listComponent","createSymbol$4","makeBackground$1","curry$3","each$r","Group$1","newlineDisabled","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","isFirstRender","resetInner","itemAlign","renderInner","mainRect","layoutInner","contentGroup","legendDrawnMap","selectMode","legendSymbolType","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","containName","_createSelector","selectorGroup","createSelectorButton","selectorItem","labelText","onclick","emphasisLabelModel","legendModelItemStyle","itemIcon","legendGlobalTooltipModel","setSymbolStyle","legendSymbolCenter","hitRect","legendIndex","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","hw","yx","dataName","_default$1U","legendModels","legendFilter","constants","DEFAULT_THEME","DEFAULT_COLORS","HEAT_MAP_COLOR","HEAT_BMAP_COLOR","itemPoint","STATIC_PROPS","ECHARTS_SETTINGS","_interopDefault$1","echartsLib","numerify$1","Loading","staticClass","DataEmpty","_extends$1","setExtend","setMark","seriesItem","marks","setAnimation","core","_componentTag","canvasStyle","dataEmpty","loading","settings","beforeConfig","afterConfig","afterSetOption","afterSetOptionOnce","events","tooltipVisible","legendVisible","legendPosition","initOptions","themeName","judgeWidth","widthChangeDelay","tooltipFormatter","resizeable","resizeDelay","changeDelay","setOptionOpts","cancelResizeCheck","notSetUnchange","changeHandler","chartLib","chartHandler","chartColor","dataHandler","_data$columns","_data$rows","_once","optionsHandler","nextTickResize","$nextTick","echartsResize","bmap","amap","_store","_isDestroyed","judgeWidthHandler","resizeableHandler","onresize","addResizeListener","removeResizeListener","createEventProxy","resizeHandler","addWatchToProps","watchedVariable","_watchers","watcher","$props","ev","registeredEvents","themeChange","beforeDestroy","_numerify","core_1","_interopDefault$2","Core","_extends$2","getLineXAxis","xAxisName","axisVisible","xAxisType","getLineSeries","axisSite","metrics","area","nullAddZero","dataTemp","getLineYAxis","yAxisName","yAxisType","yAxisBase","getLineTooltip","rightItems","rightList","_items$","showData","itemData","getLegend","legendName","line$1","_settings$axisSite","_settings$yAxisType","_settings$xAxisType","_settings$yAxisName","_settings$dimension","_settings$xAxisName","_settings$axisVisible","_settings$scale","_settings$min","_settings$max","_settings$nullAddZero","_settings$digit","_settings$legendName","_settings$labelMap","index$1","line_common","IndicatorAxis","radiusExtent","_default$1V","IndicatorAxis_1","getScaleExtent$1","niceScaleExtent$2","Radar","radarModel","_indicatorAxes","getIndicatorModels","indicatorModel","indicatorAxis","getIndicatorAxes","indicatorIndex","coordToPoint","closestAxis","minRadianDiff","closestAxisIdx","indicatorAxes","radarSeries","increaseInterval","fixedMin","fixedMax","nicedSplitNumber","radarList","valueAxisDefault","defaultsShow","showName","nameFormatter","indicatorModels","indicatorOpt","iNameTextStyle","indName","indicator","axisBuilderAttrs$1","extend$a","_buildAxes","_buildSplitLineAndArea","axisBuilders","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","splitLines","splitAreas","ticksRadius","getColorIndex","realSplitNumber","axesTicksPoints","prevPoints","areaOrLine","areaOrLineColorList","isArray$9","_default$1X","dimensionsInfo","createListSimply","LegendVisualProvider","getDataWithEncodedVisual","dataWithEncodedVisual","_default$1Y","LegendVisualProvider_1","encodeHTML$2","RadarSeries","radarIndex","normalizeSymbolSize","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","hoverAreaStyleModel","polygonIgnore","hoverPolygonIgnore","itemHoverStyle","labelHoverModel","createHashMap$b","_default$1_","paletteScope","seiresModelMap","__paletteScope","dataAll","idxMap","filteredIdx","singleDataColor","singleDataBorderColor","dataColor","_default$1$","isValidPoint","getValueMissingPoint","firstPoint","radarLayout","_default$20","dataFilter","_default$21","polarOptArr","polarNotRadar","polarOpt","polarIndex","backwardCompat$1","_interopDefault$3","Core$1","getRadarLegend","getRadarTooltip","radar$$1","typeTemp","nameTemp","getRadarSetting","settingBase","indicatorTemp","getRadarSeries","radarIndexObj","serieData","radar$1","_settings$dataType","_extends$3","index$2","radar_common","_default$22","updateSelectedMap","_targetList","_selectTargetMap","targetMap","selectableMixin","getPercentWithPrecision$1","retrieveRawAttr$1","makeSeriesEncodeForNameBased$1","PieSeries","_createSelectableList","_defaultLabelLine","labelLineNormalOpt","labelLine","labelLineEmphasisOpt","minAngle","minShowLabelAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","alignTo","bleedMargin","distanceToLabelLine","animationType","animationTypeUpdate","updateDataSelected","toggleItemSelected","midAngle","PiePiece","sector","piePieceProto","firstCreate","sectorShape","withAnimation","_updateLabel","hoverIgnore","normalIgnore","targetLineShape","linePoints","targetTextStyle","labelLineModel","labelLineHoverModel","sectorGroup","_sectorGroup","onSectorClick","piePiece","_createClipPath","initOrUpdate","itemLayout","_default$23","actionInfos","createDataSelectAction","parsePercent$6","RADIAN","adjustSingleSide","viewLeft","viewTop","farthestX","shiftDown","shiftUp","changeX","isDownList","lastDeltaX","labelAlignTo","deltaY","deltaX","lastY","upList","downList","avoidOverlap","labelLayoutList","leftList","leftmostX","rightmostX","isPositionCenter","targetTextWidth","isAlignToEdge","realTextWidth","labelDistance","_default$24","hasLabelRotate","minShowLabelRadian","labelPosition","labelLineLen","labelLineLen2","isLabelInside","parsePercent$7","linearMap$2","PI2$4","RADIAN$1","getViewRect","_default$25","validDataCount","unitRadian","roseType","restAngle","valueSumLargerThanMinAngle","currentAngle","pieLayout","_interopDefault$4","Core$2","_extends$4","pieRadius","ringRadius","roseRingRadius","pieOffsetY","getPieSeries","innerRows","percentShow","limitShowNum","isRing","levelTemp","rowsTemp","levelItems","itemLevel","levelItem","seriesBase","rowsTempLength","dataRows","centerWidth","innerWidth","firstData","remainArr","getPieLegend","legendLimit","getPieTooltip","pie$1","_settings$metrics","_settings$roseType","_settings$radius","_settings$offsetY","_settings$legendLimit","_settings$selectedMod","_settings$hoverAnimat","_settings$label","_settings$level","_settings$limitShowNu","seriesParams","legendParams","index$3","pie_common","_default$26","getMarkerPosition","offsetIndex","barMinAngle","largeThreshold","progressiveChunkMode","BaseBarSeries","getDefaultLabel$2","brushSelector","roundCap","showBackground","backgroundStyle","borderType","labelPositionOutside","fixPosition","setLabel_1","helper$5","getBarItemStyle","_default$28","barItemStyle","extendShape$1","_default$29","dr","rCenter","unitStartX","unitStartY","unitEndX","unitEndY","lessThanCircle","sausage","setLabel$1","throttle$2","createClipPath$1","BAR_BORDER_WIDTH_QUERY","_eventPos","getClipArea","coordSysClipArea","expandWidth","_updateDrawMode","coordinateSystemType","_isLargeDraw","_renderLarge","_renderNormal","_clear","_incrementalRenderLarge","isLargeDraw","isHorizontalOrRadial","needsClip","backgroundModel","barBorderRadius","bgEls","oldBgEls","_backgroundEls","createBackground","bgLayout","bgEl","createBackgroundEl","isClipped","elementCreator","updateStyle","newIndex","oldIndex","createBackgroundShape","removeRect","removeSector","bgGroup","_backgroundGroup","createLarge","_removeBackground","mathMax$4","mathMin$4","coordSysBoundingRect","signWidth","signHeight","clipped","signR","animateProperty","animateTarget","isRadial","fixedLineWidth","getLineWidth","signX","signY","isZeroOnPolar","isPolar","itemStyleModel","rawLayout","LargePath","startPoint","__startPoint","baseDimIdx","__baseDimIdx","backgroundStartPoint","__largeDataIndices","__barWidth","setLargeBackgroundStyle","setLargeStyle","largePathUpdateDataIndex","largePath","largePathFindDataIndex","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","barBaseVal","barValueVal","ElementClz","layout$4","largeLayout$1","_interopDefault$5","Core$3","defineProperty$7","_extends$5","VALUE_AXIS_OPACITY","getBarDimAxis","dimAxisName","dimAxisType","getValueAxisData","getBarMeaAxis","meaAxisName","meaAxisType","meaAxisBase","meaAxis","getBarTooltip","isHistogram","secondAxis","getValueData","seriesTemp","getBarSeries","_args$showLine","showLine","secondDimAxisIndex","itemOpacity","getLegend$1","getDims","histogram","_settings$axisSite2","_settings$dimension2","_settings$stack2","_settings$axisVisible2","_settings$digit2","_settings$dataOrder2","dataOrder","_settings$scale2","_settings$min2","_settings$max2","_settings$labelMap2","_settings$legendName2","_settings$barGap2","_label2","order","tooltipParams","index$4","histogram_common","defaultEmphasis$1","makeSeriesEncodeForNameBased$2","FunnelSeries","minSize","funnelAlign","FunnelPiece","funnelPieceProto","opacityAccessPath","funnelPiece","parsePercent$8","linearMap$3","getViewRect$1","getSortedIndices","valueArr","isAscending","labelLayout$1","_default$2b","sizeExtent","itemSize","getLinePoints","funnelLayout","_interopDefault$6","Core$4","getFunnelTooltip","realValue","getFunnelLegend","getFunnelSeries","sequence","ascending","filterZero","useDefaultOrder","falseFunnel","funnel$1","outerColumns","outerRows","_settings$sequence","metricsTemp","_extends$6","index$5","funnel_common","addCommas$2","encodeHTML$3","fillLabel","MarkerModel","_mergeOption","hostSeries","__hostSeries","newOpt","createdBySelf","modelPropName","markerOpt","markerModel","_default$2c","MarkerModel_1","isDimensionStacked$5","indexOf$5","hasXOrY","hasXAndY","markerTypeCalculatorWithExtent","mlType","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","calcDataDim","numCalculate","coordArrValue","curry$4","markerTypeCalculator","dataTransform","getAxisInfo$1","coordInfo","baseDataDim","valueDataDim","radiusAxis","angleAxis","valueIndex","dataDimToCoordDim","dataFilter$1","dataTransform_1","getAxisInfo_1$1","dataFilter_1","dimValueGetter_1","numCalculate_1","markerHelper","straightLineProto","bezierCurveProto","isLine","_default$2e","_buildPathLine","_buildPathCurve","_pointAtLine","_pointAtCurve","_tangentAtCurve","LinePath","round$4","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","createSymbol$5","lineData","__specifiedRotation","createLine","setLinePoints","updateSymbolAndLabelBeforeLineUpdate","symbolFrom","symbolTo","invScale","fromPos","toPos","specifiedRotation","tangent","__labelDistance","distanceX","distanceY","halfPercent","__position","__verticalAlign","__textAlign","Line$1","_createLine","lineProto","lineLabelOriginalOpacity","_updateCommonStl","hoverLineStyle","visualOpacity","defaultLabelColor","showLabel","hoverShowLabel","rawVal","normalText","emphasisText","labelStyle","linePath","_default$2f","Line_1$1","LineDraw","ctor","_ctor","lineDrawProto","doAdd","lineDraw","lineNeedsDraw","doUpdate","oldLineData","newLineData","itemEl","isEffectObject","makeSeriesScope$1","isPointNaN","pts","_lineData","_clearIncremental","_incremental","_default$2g","LineDraw_1","_default$2h","markerGroupMap","__keep","markerModelKey","MarkerView","getStackedDimension$3","markLineTransform","mlModel","mlFrom","mlTo","isInifinity","ifMarkLineHasOnlyDim","fromCoord","toCoord","otherDimIndex","markLineFilter","updateSingleMarkerEndLayout","isFrom","xPx","yPx","markLineModel","fromData","toData","__to","lineDrawMap","createList$1","updateDataVisualAndLayout","lineColor","coordDimsInfos","optData","updateMarkerLayout","markPointModel","mpModel","symbolDrawMap","createList$2","isFnSymbol","isFnSymbolSize","isFnSymbolRotate","dataOpt","markAreaTransform","maModel","ltCoord","rbCoord","isInifinity$1","ifMarkLineHasOnlyDim$1","markAreaFilter","getSingleMarkerEndPoint","dimPermutations","createList$3","areaData","markAreaModel","areaGroupMap","polygonGroup","allClipped","xValue","yValue","__data","LbpLineChart","chartData","csv2VChartJson","_components$d","LbpTable","mainTableWrapperEle","mainTableEle","fixedTableWrapperEle","fixedTableEle","freezeCount","setFixedTableStyle","renderCell","cell","renderTable","tableData","tableClass","tableStyle","headers","columnsCount","getFixedColsWidth","tableHeaders","freezeColsWidth","offsetHeight","setTableWidth","parentWidth","initElements","__resizeHandler","addListener","lbpTable","destroy","removeListener","LbpNewsList","_Parser$csv2VChartJso","pluginsList","shortcutProps","loadPluginsMixin","mixinPlugins2Editor","plugin","ownKeys$g","_objectSpread$f","Col","_components$e","_components$f","RenderShortcutsPanel","Row","shortcutItem","PageTitleEditor","Popconfirm","editingTitle","pageIndex","newTitle","PageTitleMenu","Dropdown","addPageText","copyPageText","deletePageText","PageTitleText","Badge","boxShadow","ownKeys$h","_objectSpread$g","RenderPageManager","hoverIndex","onSelectMenuItem","menuKey","onEditTitle","saveWork","isSaveCover","onSelectPage","setEditingPage","ownKeys$i","_objectSpread$h","getTreeNode","script$3","treeData","gData","expandedKeys","onDragEnter","onDrop","__vue_script__$3","__vue_render__$3","dragenter","drop","__vue_staticRenderFns__$3","__vue_inject_styles__$3","__vue_scope_id__$3","__vue_module_identifier__$3","__vue_is_functional_template__$3","__vue_component__$3","_components$g","EditorLeftPanel","AdjustLineV","onMousedown","recordHistoryMutationTypes","undoRedoPlugin","subscribe","mutation","addState","defineProperty$8","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","ownKeys$j","_objectSpread$i","disabledPluginsForEditMode","cloneObj","Element$1","_ref$isRem","getPluginProps","getCommonStyle","getDefaultPluginProps","_ele$props","_ele$shortcutProps","_ref2$position","_ref3$mode","_ref4$position","_ref4$mode","getAttrs","_ref5$zindex","Page","Work","commit","mutations","scaleRateDiff","$findIndex","FIND_INDEX","SKIPS_HOLES$1","USES_TO_LENGTH$9","actions$1","mutations$1","newPages","ownKeys$k","_objectSpread$j","actions$2","setElementShape","mutations$2","setElementCommonStyle","_index","newElements","maxZindex","eleZindex","flag","swapElement","recordRect","test$1","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD$4","FORCED$4","ownKeys$l","_objectSpread$k","comparefn","actions$3","mutations$3","setWorkCover","_value","cover","setWorkTemplates","workTemplates","setWork","previewWork","deployWork","formDetailOfWork","ownKeys$m","_objectSpread$l","works","uuidMap2Name","formRecords","getters","actions$4","mutations$4","namespaced","enUSLang","app","header","chineseDocument","englishDocument","chat","logout","sidebar","myWorks","dataCenter","basicData","templateCenter","freeTemplates","accountCenter","workCard","createTime","useNow","preview","edit","createNewWork","viewData","templates","delete","publish","setAsTemplate","centerPanel","contextMenu","moveToTop","moveToBottom","moveUp","moveDown","showOnlyButton","showExcludePicture","fixedTool","copyCurrentPage","copyCurrentElement","importPSD","zoomIn","zoomOut","issues","editPanel","iteration","inifinite","common","empty","tip","componentUsage","zhCNLang","ownKeys$n","_objectSpread$m","messages","defaultLang","locale","fallbackLocale","loadedLanguages","setI18nLanguage","loadLanguageAsync","setLocaleMessage","msg","i18n$1","SET_LANG","store$2","Store","plugins","CoreEditor","$store","propsPanelWidth","handlePreview","install"],"mappings":"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","file":"js/app.11a93244.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('CoreEditor',{ref:\"editor\",staticStyle:{\"height\":\"100vh\"},attrs:{\"work\":_vm.work}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @author: Mater\n * @Email: bxh8640@gmail.com\n * @Date: 2020-11-02 09:25:51\n * @LastEditTime: 2020-11-03 10:12:43\n * @Description:\n-->\n<template>\n  <div id=\"app\">\n    <CoreEditor :work=\"work\" ref=\"editor\" style=\"height: 100vh\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\";\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      work: {\n        id: '3c31d1a0-0c91-4448-bf0a-9510b5b34be3',\n        title: '',\n        description: '',\n        cover_image_url: null,\n        pages: [\n          {\n            uuid: 1602484481828,\n            title: '',\n            elements: [\n              {\n                name: 'lbp-background',\n                uuid: 1602484481828,\n                pluginProps: {\n                  uuid: 1602484481828,\n                  imgSrc: '',\n                  backgroundColor: 'rgba(255, 255, 255, 0.2)'\n                },\n                commonStyle: {\n                  top: 100,\n                  left: 100,\n                  width: 100,\n                  height: 40,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14\n                },\n                events: [],\n                animations: [],\n                isRem: false\n              },\n              {\n                name: 'lbp-video',\n                uuid: 1602484483861,\n                pluginProps: {\n                  uuid: 1602484483861,\n                  src:\n                    'http://localhost:1337/uploads/419a4b0c60f9488c9d44c398dc987471.mp4',\n                  disabled: false,\n                  useIframe: false,\n                  iframeSrc: ''\n                },\n                commonStyle: {\n                  top: 100,\n                  left: 100,\n                  width: 100,\n                  height: 40,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14\n                },\n                events: [],\n                animations: [],\n                isRem: false\n              },\n              {\n                name: 'lbp-picture',\n                uuid: 1602484484973,\n                pluginProps: {\n                  uuid: 1602484484973,\n                  imgSrc: '',\n                  fillType: 'contain'\n                },\n                commonStyle: {\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14\n                },\n                events: [],\n                animations: [],\n                isRem: false\n              }\n            ]\n          }\n        ],\n        is_publish: 0,\n        is_template: 0,\n        created_at: '2020-10-12T06:34:41.000Z',\n        updated_at: '2020-10-28T01:24:23.000Z',\n        height: 568,\n        page_mode: 'h5_swipper'\n      }\n    }\n  },\n  components: {}\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=de0b685c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @author : Mater\r\n * @Email : bxh8640@gmail.com\r\n * @Date : 2020-11-02 09:25:51\r\n * @LastEditTime : 2020-11-03 15:48:17\r\n * @Description :\r\n */\r\nimport Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\n\r\nimport \"./lib/luban-h5-editor/dist/luban-h5-editor.css\";\r\nimport lubanH5Editor from \"./lib/luban-h5-editor/dist/luban-h5-editor.js\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(lubanH5Editor);\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('ant-design-vue'), require('x-data-spreadsheet'), require('papaparse'), require('vuex'), require('hotkeys-js'), require('lodash'), require('vue'), require('v-click-outside'), require('vue-quill-editor'), require('vant'), require('resize-detector'), require('vue-i18n')) :\n  typeof define === 'function' && define.amd ? define(['ant-design-vue', 'x-data-spreadsheet', 'papaparse', 'vuex', 'hotkeys-js', 'lodash', 'vue', 'v-click-outside', 'vue-quill-editor', 'vant', 'resize-detector', 'vue-i18n'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global['luban-h5-editor'] = factory(global['ant-design-vue'], global.x_spreadsheet, global.papaparse, global.Vuex, global.hotkeys, global.lodash, global.Vue, global['v-click-outside'], global.VueQuillEditor, global.vant, global.resizeDetector, global.VueI18n));\n}(this, (function (antDesignVue, Spreadsheet, Papa, Vuex, hotkeys, lodash, Vue, vClickOutside, vueQuillEditor, vant, resizeDetector, VueI18n) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var Spreadsheet__default = /*#__PURE__*/_interopDefaultLegacy(Spreadsheet);\n  var Papa__default = /*#__PURE__*/_interopDefaultLegacy(Papa);\n  var Vuex__default = /*#__PURE__*/_interopDefaultLegacy(Vuex);\n  var hotkeys__default = /*#__PURE__*/_interopDefaultLegacy(hotkeys);\n  var Vue__default = /*#__PURE__*/_interopDefaultLegacy(Vue);\n  var vClickOutside__default = /*#__PURE__*/_interopDefaultLegacy(vClickOutside);\n  var VueI18n__default = /*#__PURE__*/_interopDefaultLegacy(VueI18n);\n\n  var fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n  });\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, basedir, module) {\n  \treturn module = {\n  \t\tpath: basedir,\n  \t\texports: {},\n  \t\trequire: function (path, base) {\n  \t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n  \t\t}\n  \t}, fn(module, module.exports), module.exports;\n  }\n\n  function getAugmentedNamespace(n) {\n  \tif (n.__esModule) return n;\n  \tvar a = Object.defineProperty({}, '__esModule', {value: true});\n  \tObject.keys(n).forEach(function (k) {\n  \t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n  \t\tObject.defineProperty(a, k, d.get ? d : {\n  \t\t\tenumerable: true,\n  \t\t\tget: function () {\n  \t\t\t\treturn n[k];\n  \t\t\t}\n  \t\t});\n  \t});\n  \treturn a;\n  }\n\n  function commonjsRequire () {\n  \tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  var check = function (it) {\n    return it && it.Math == Math && it;\n  };\n\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global_1 =\n    // eslint-disable-next-line no-undef\n    check(typeof globalThis == 'object' && globalThis) ||\n    check(typeof window == 'object' && window) ||\n    check(typeof self == 'object' && self) ||\n    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n    // eslint-disable-next-line no-new-func\n    Function('return this')();\n\n  var isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var document$1 = global_1.document;\n  // typeof document.createElement is 'object' in old IE\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function (it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function () { return 7; }\n    }).a != 7;\n  });\n\n  var anObject = function (it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    } return it;\n  };\n\n  // `ToPrimitive` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var toPrimitive = function (input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var nativeDefineProperty = Object.defineProperty;\n\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  var f = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var objectDefineProperty = {\n  \tf: f\n  };\n\n  var defineProperty = objectDefineProperty.f;\n\n  var FunctionPrototype = Function.prototype;\n  var FunctionPrototypeToString = FunctionPrototype.toString;\n  var nameRE = /^\\s*function ([^ (]*)/;\n  var NAME = 'name';\n\n  // Function instances `.name` property\n  // https://tc39.github.io/ecma262/#sec-function-instances-name\n  if (descriptors && !(NAME in FunctionPrototype)) {\n    defineProperty(FunctionPrototype, NAME, {\n      configurable: true,\n      get: function () {\n        try {\n          return FunctionPrototypeToString.call(this).match(nameRE)[1];\n        } catch (error) {\n          return '';\n        }\n      }\n    });\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var defineProperty$1 = _defineProperty;\n\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // Nashorn ~ JDK8 bug\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n  // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\n  var f$1 = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n\n  var objectPropertyIsEnumerable = {\n  \tf: f$1\n  };\n\n  var createPropertyDescriptor = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split;\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object;\n\n  // `RequireObjectCoercible` abstract operation\n  // https://tc39.github.io/ecma262/#sec-requireobjectcoercible\n  var requireObjectCoercible = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  };\n\n  // toObject with fallback for non-array-like ES3 strings\n\n\n\n  var toIndexedObject = function (it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  var f$2 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) { /* empty */ }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n\n  var objectGetOwnPropertyDescriptor = {\n  \tf: f$2\n  };\n\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function (key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    } return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n\n  var sharedStore = store;\n\n  var functionToString = Function.toString;\n\n  // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n\n  var WeakMap = global_1.WeakMap;\n\n  var nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n  var shared = createCommonjsModule(function (module) {\n  (module.exports = function (key, value) {\n    return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: '3.6.5',\n    mode:  'global',\n    copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n  });\n  });\n\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function (key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function (key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n\n  var WeakMap$1 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function (it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function (TYPE) {\n    return function (it) {\n      var state;\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      } return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = new WeakMap$1();\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n    set = function (it, metadata) {\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return wmget.call(store$1, it) || {};\n    };\n    has$1 = function (it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n    set = function (it, metadata) {\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n    has$1 = function (it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n\n  var redefine = createCommonjsModule(function (module) {\n  var getInternalState = internalState.get;\n  var enforceInternalState = internalState.enforce;\n  var TEMPLATE = String(String).split('String');\n\n  (module.exports = function (O, key, value, options) {\n    var unsafe = options ? !!options.unsafe : false;\n    var simple = options ? !!options.enumerable : false;\n    var noTargetGet = options ? !!options.noTargetGet : false;\n    if (typeof value == 'function') {\n      if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n      enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n    if (O === global_1) {\n      if (simple) O[key] = value;\n      else setGlobal(key, value);\n      return;\n    } else if (!unsafe) {\n      delete O[key];\n    } else if (!noTargetGet && O[key]) {\n      simple = true;\n    }\n    if (simple) O[key] = value;\n    else createNonEnumerableProperty(O, key, value);\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, 'toString', function toString() {\n    return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n  });\n  });\n\n  var path = global_1;\n\n  var aFunction = function (variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function (namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace])\n      : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n\n  // `ToInteger` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tointeger\n  var toInteger = function (argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min;\n\n  // `ToLength` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tolength\n  var toLength = function (argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n\n  // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n  var toAbsoluteIndex = function (index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  };\n\n  // `Array.prototype.{ indexOf, includes }` methods implementation\n  var createMethod = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n\n  var indexOf = arrayIncludes.indexOf;\n\n\n  var objectKeysInternal = function (object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (has(O, key = names[i++])) {\n      ~indexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE8- don't enum bug keys\n  var enumBugKeys = [\n    'constructor',\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'toLocaleString',\n    'toString',\n    'valueOf'\n  ];\n\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n  \tf: f$3\n  };\n\n  var f$4 = Object.getOwnPropertySymbols;\n\n  var objectGetOwnPropertySymbols = {\n  \tf: f$4\n  };\n\n  // all object keys, includes non-enumerable and symbols\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function (target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function (feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true\n      : value == NATIVE ? false\n      : typeof detection == 'function' ? fails(detection)\n      : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n\n  var isForced_1 = isForced;\n\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n  var _export = function (options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n      // contained in target\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      }\n      // add a flag to not completely full polyfills\n      if (options.sham || (targetProperty && targetProperty.sham)) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      }\n      // extend global\n      redefine(target, key, sourceProperty, options);\n    }\n  };\n\n  // `IsArray` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isarray\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  };\n\n  // `ToObject` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toobject\n  var toObject = function (argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  var createProperty = function (object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));\n    else object[propertyKey] = value;\n  };\n\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    // Chrome 38 Symbol has incorrect toString conversion\n    // eslint-disable-next-line no-undef\n    return !String(Symbol());\n  });\n\n  var useSymbolAsUid = nativeSymbol\n    // eslint-disable-next-line no-undef\n    && !Symbol.sham\n    // eslint-disable-next-line no-undef\n    && typeof Symbol.iterator == 'symbol';\n\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function (name) {\n    if (!has(WellKnownSymbolsStore, name)) {\n      if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];\n      else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    } return WellKnownSymbolsStore[name];\n  };\n\n  var SPECIES = wellKnownSymbol('species');\n\n  // `ArraySpeciesCreate` abstract operation\n  // https://tc39.github.io/ecma262/#sec-arrayspeciescreate\n  var arraySpeciesCreate = function (originalArray, length) {\n    var C;\n    if (isArray(originalArray)) {\n      C = originalArray.constructor;\n      // cross-realm fallback\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n      else if (isObject(C)) {\n        C = C[SPECIES];\n        if (C === null) C = undefined;\n      }\n    } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n\n  var SPECIES$1 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n      constructor[SPECIES$1] = function () {\n        return { foo: 1 };\n      };\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function (O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n  // `Array.prototype.concat` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n  _export({ target: 'Array', proto: true, forced: FORCED }, {\n    concat: function concat(arg) { // eslint-disable-line no-unused-vars\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n      A.length = n;\n      return A;\n    }\n  });\n\n  var aFunction$1 = function (it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    } return it;\n  };\n\n  // optional / simple context binding\n  var functionBindContext = function (fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 0: return function () {\n        return fn.call(that);\n      };\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var push = [].push;\n\n  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\n  var createMethod$1 = function (TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n      var value, result;\n      for (;length > index; index++) if (NO_HOLES || index in self) {\n        value = self[index];\n        result = boundFunction(value, index, O);\n        if (TYPE) {\n          if (IS_MAP) target[index] = result; // map\n          else if (result) switch (TYPE) {\n            case 3: return true;              // some\n            case 5: return value;             // find\n            case 6: return index;             // findIndex\n            case 2: push.call(target, value); // filter\n          } else if (IS_EVERY) return false;  // every\n        }\n      }\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$1(0),\n    // `Array.prototype.map` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.map\n    map: createMethod$1(1),\n    // `Array.prototype.filter` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n    filter: createMethod$1(2),\n    // `Array.prototype.some` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.some\n    some: createMethod$1(3),\n    // `Array.prototype.every` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.every\n    every: createMethod$1(4),\n    // `Array.prototype.find` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.find\n    find: createMethod$1(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$1(6)\n  };\n\n  var defineProperty$2 = Object.defineProperty;\n  var cache = {};\n\n  var thrower = function (it) { throw it; };\n\n  var arrayMethodUsesToLength = function (METHOD_NAME, options) {\n    if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n    if (!options) options = {};\n    var method = [][METHOD_NAME];\n    var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n    var argument0 = has(options, 0) ? options[0] : thrower;\n    var argument1 = has(options, 1) ? options[1] : undefined;\n\n    return cache[METHOD_NAME] = !!method && !fails(function () {\n      if (ACCESSORS && !descriptors) return true;\n      var O = { length: -1 };\n\n      if (ACCESSORS) defineProperty$2(O, 1, { enumerable: true, get: thrower });\n      else O[1] = 1;\n\n      method.call(O, argument0, argument1);\n    });\n  };\n\n  var $map = arrayIteration.map;\n\n\n\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n  // FF49- issue\n  var USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n    map: function map(callbackfn /* , thisArg */) {\n      return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('slice');\n  var USES_TO_LENGTH$1 = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var SPECIES$2 = wellKnownSymbol('species');\n  var nativeSlice = [].slice;\n  var max$1 = Math.max;\n\n  // `Array.prototype.slice` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 || !USES_TO_LENGTH$1 }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n      var Constructor, result, n;\n      if (isArray(O)) {\n        Constructor = O.constructor;\n        // cross-realm fallback\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$2];\n          if (Constructor === null) Constructor = undefined;\n        }\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice.call(O, k, fin);\n        }\n      }\n      result = new (Constructor === undefined ? Array : Constructor)(max$1(fin - k, 0));\n      for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n      result.length = n;\n      return result;\n    }\n  });\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('splice');\n  var USES_TO_LENGTH$2 = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var max$2 = Math.max;\n  var min$2 = Math.min;\n  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n  // `Array.prototype.splice` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.splice\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 || !USES_TO_LENGTH$2 }, {\n    splice: function splice(start, deleteCount /* , ...items */) {\n      var O = toObject(this);\n      var len = toLength(O.length);\n      var actualStart = toAbsoluteIndex(start, len);\n      var argumentsLength = arguments.length;\n      var insertCount, actualDeleteCount, A, k, from, to;\n      if (argumentsLength === 0) {\n        insertCount = actualDeleteCount = 0;\n      } else if (argumentsLength === 1) {\n        insertCount = 0;\n        actualDeleteCount = len - actualStart;\n      } else {\n        insertCount = argumentsLength - 2;\n        actualDeleteCount = min$2(max$2(toInteger(deleteCount), 0), len - actualStart);\n      }\n      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n        throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n      }\n      A = arraySpeciesCreate(O, actualDeleteCount);\n      for (k = 0; k < actualDeleteCount; k++) {\n        from = actualStart + k;\n        if (from in O) createProperty(A, k, O[from]);\n      }\n      A.length = actualDeleteCount;\n      if (insertCount < actualDeleteCount) {\n        for (k = actualStart; k < len - actualDeleteCount; k++) {\n          from = k + actualDeleteCount;\n          to = k + insertCount;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n        for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n      } else if (insertCount > actualDeleteCount) {\n        for (k = len - actualDeleteCount; k > actualStart; k--) {\n          from = k + actualDeleteCount - 1;\n          to = k + insertCount - 1;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n      }\n      for (k = 0; k < insertCount; k++) {\n        O[k + actualStart] = arguments[k + 2];\n      }\n      O.length = len - actualDeleteCount + insertCount;\n      return A;\n    }\n  });\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  var arrayLikeToArray = _arrayLikeToArray;\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return arrayLikeToArray(arr);\n  }\n\n  var arrayWithoutHoles = _arrayWithoutHoles;\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  var iterableToArray = _iterableToArray;\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n  }\n\n  var unsupportedIterableToArray = _unsupportedIterableToArray;\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var nonIterableSpread = _nonIterableSpread;\n\n  function _toConsumableArray(arr) {\n    return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n  }\n\n  var toConsumableArray = _toConsumableArray;\n\n  var _components;\n  ({\n    components: (_components = {}, defineProperty$1(_components, antDesignVue.Icon.name, antDesignVue.Icon), defineProperty$1(_components, antDesignVue.Input.name, antDesignVue.Input), _components),\n    name: \"lbs-props-text-enum-editor\",\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [this.innerItems.map(function (item, index) {\n        return h(\"div\", [h(\"a-input\", {\n          \"attrs\": {\n            \"value\": item.value\n          },\n          \"on\": {\n            \"change\": function change(e) {\n              item.value = e.target.value;\n            }\n          },\n          \"style\": {\n            width: \"70%\"\n          }\n        }), h(\"a-icon\", {\n          \"attrs\": {\n            \"type\": \"plus-circle\"\n          },\n          \"on\": {\n            \"click\": _this.add\n          },\n          \"class\": \"ml-2\"\n        }), h(\"a-icon\", {\n          \"attrs\": {\n            \"type\": \"minus-circle\"\n          },\n          \"on\": {\n            \"click\": function click(item, index) {\n              return _this.minus(item, index);\n            }\n          },\n          \"class\": \"ml-1\"\n        })]);\n      })]);\n    },\n    props: {\n      value: {\n        type: Array,\n        default: function _default() {\n          return [{\n            value: \"default\",\n            label: \"default\"\n          }];\n        }\n      }\n    },\n    computed: {\n      innerItems: {\n        get: function get() {\n          return this.value;\n        },\n        set: function set(val) {\n          this.$emit(\"input\", val);\n        }\n      }\n    },\n    methods: {\n      add: function add() {\n        this.$emit(\"change\", [].concat(toConsumableArray(this.innerItems), [{\n          value: \"\\u9009\\u9879\".concat(this.innerItems.length + 1),\n          label: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-label\")\n        }]));\n      },\n      minus: function minus(item, index) {\n        var items = this.innerItems.slice(0);\n        items.splice(index, 1);\n        this.$emit(\"change\", items);\n      }\n    }\n  });\n\n  var $filter = arrayIteration.filter;\n\n\n\n  var HAS_SPECIES_SUPPORT$3 = arrayMethodHasSpeciesSupport('filter');\n  // Edge 14- issue\n  var USES_TO_LENGTH$3 = arrayMethodUsesToLength('filter');\n\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$3 || !USES_TO_LENGTH$3 }, {\n    filter: function filter(callbackfn /* , thisArg */) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var arrayMethodIsStrict = function (METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal\n      method.call(null, argument || function () { throw 1; }, 1);\n    });\n  };\n\n  var $forEach = arrayIteration.forEach;\n\n\n\n  var STRICT_METHOD = arrayMethodIsStrict('forEach');\n  var USES_TO_LENGTH$4 = arrayMethodUsesToLength('forEach');\n\n  // `Array.prototype.forEach` method implementation\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  var arrayForEach = (!STRICT_METHOD || !USES_TO_LENGTH$4) ? function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  } : [].forEach;\n\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  _export({ target: 'Array', proto: true, forced: [].forEach != arrayForEach }, {\n    forEach: arrayForEach\n  });\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  };\n\n  var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n\n  // `Object.{ entries, values }` methods implementation\n  var createMethod$2 = function (TO_ENTRIES) {\n    return function (it) {\n      var O = toIndexedObject(it);\n      var keys = objectKeys(O);\n      var length = keys.length;\n      var i = 0;\n      var result = [];\n      var key;\n      while (length > i) {\n        key = keys[i++];\n        if (!descriptors || propertyIsEnumerable.call(O, key)) {\n          result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n        }\n      }\n      return result;\n    };\n  };\n\n  var objectToArray = {\n    // `Object.entries` method\n    // https://tc39.github.io/ecma262/#sec-object.entries\n    entries: createMethod$2(true),\n    // `Object.values` method\n    // https://tc39.github.io/ecma262/#sec-object.values\n    values: createMethod$2(false)\n  };\n\n  var $values = objectToArray.values;\n\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  _export({ target: 'Object', stat: true }, {\n    values: function values(O) {\n      return $values(O);\n    }\n  });\n\n  // a string of all valid unicode whitespaces\n  // eslint-disable-next-line max-len\n  var whitespaces = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n  var whitespace = '[' + whitespaces + ']';\n  var ltrim = RegExp('^' + whitespace + whitespace + '*');\n  var rtrim = RegExp(whitespace + whitespace + '*$');\n\n  // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\n  var createMethod$3 = function (TYPE) {\n    return function ($this) {\n      var string = String(requireObjectCoercible($this));\n      if (TYPE & 1) string = string.replace(ltrim, '');\n      if (TYPE & 2) string = string.replace(rtrim, '');\n      return string;\n    };\n  };\n\n  var stringTrim = {\n    // `String.prototype.{ trimLeft, trimStart }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n    start: createMethod$3(1),\n    // `String.prototype.{ trimRight, trimEnd }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n    end: createMethod$3(2),\n    // `String.prototype.trim` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n    trim: createMethod$3(3)\n  };\n\n  var non = '\\u200B\\u0085\\u180E';\n\n  // check that a method works with the correct list\n  // of whitespaces and has a correct name\n  var stringTrimForced = function (METHOD_NAME) {\n    return fails(function () {\n      return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n    });\n  };\n\n  var $trim = stringTrim.trim;\n\n\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  _export({ target: 'String', proto: true, forced: stringTrimForced('trim') }, {\n    trim: function trim() {\n      return $trim(this);\n    }\n  });\n\n  // iterable DOM collections\n  // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\n  var domIterables = {\n    CSSRuleList: 0,\n    CSSStyleDeclaration: 0,\n    CSSValueList: 0,\n    ClientRectList: 0,\n    DOMRectList: 0,\n    DOMStringList: 0,\n    DOMTokenList: 1,\n    DataTransferItemList: 0,\n    FileList: 0,\n    HTMLAllCollection: 0,\n    HTMLCollection: 0,\n    HTMLFormElement: 0,\n    HTMLSelectElement: 0,\n    MediaList: 0,\n    MimeTypeArray: 0,\n    NamedNodeMap: 0,\n    NodeList: 1,\n    PaintRequestList: 0,\n    Plugin: 0,\n    PluginArray: 0,\n    SVGLengthList: 0,\n    SVGNumberList: 0,\n    SVGPathSegList: 0,\n    SVGPointList: 0,\n    SVGStringList: 0,\n    SVGTransformList: 0,\n    SourceBufferList: 0,\n    StyleSheetList: 0,\n    TextTrackCueList: 0,\n    TextTrackList: 0,\n    TouchList: 0\n  };\n\n  for (var COLLECTION_NAME in domIterables) {\n    var Collection = global_1[COLLECTION_NAME];\n    var CollectionPrototype = Collection && Collection.prototype;\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype && CollectionPrototype.forEach !== arrayForEach) try {\n      createNonEnumerableProperty(CollectionPrototype, 'forEach', arrayForEach);\n    } catch (error) {\n      CollectionPrototype.forEach = arrayForEach;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  var arrayWithHoles = _arrayWithHoles;\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  var iterableToArrayLimit = _iterableToArrayLimit;\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var nonIterableRest = _nonIterableRest;\n\n  function _slicedToArray(arr, i) {\n    return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n  }\n\n  var slicedToArray = _slicedToArray;\n\n  var _typeof_1 = createCommonjsModule(function (module) {\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      module.exports = _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      module.exports = _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  module.exports = _typeof;\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var classCallCheck = _classCallCheck;\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  var createClass = _createClass;\n\n  /**\r\n   *\r\n   declare module ExcelRows {\r\n    export interface cell {\r\n        text: string;\r\n    }\r\n    export interface Cells {\r\n      0: cell;\r\n      1: cell;\r\n      2: cell;\r\n    }\r\n    export interface ExcelRows {\r\n      cells: Cells;\r\n    }\r\n  }\r\n   */\n\n  /**\r\n    *\r\n    BinaryMatrix = [\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n    ]\r\n\r\n    ExcelDataType = [\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n    ]\r\n    */\n  var Parser = /*#__PURE__*/function () {\n    function Parser() {\n      classCallCheck(this, Parser);\n    }\n\n    createClass(Parser, null, [{\n      key: \"dataset2excel\",\n\n      /**\r\n       *\r\n       * @param {*} dataset ExcelDataType\r\n       */\n      value: function dataset2excel(dataset) {\n        return dataset.map(function (item) {\n          return {\n            cells: {\n              0: {\n                text: item.x\n              },\n              1: {\n                text: item.y\n              },\n              2: {\n                text: item.s\n              }\n            }\n          };\n        });\n      }\n      /**\r\n       *\r\n        [\r\n          [1,2,3,4],\r\n          [5,6,7,8],\r\n          [9,10,11,12]\r\n        ]\r\n       * @param {Object} BinaryMatrix\r\n       * @returns {Object} ExcelDataType\r\n       */\n\n    }, {\n      key: \"binaryMatrix2excel\",\n      value: function binaryMatrix2excel(binaryMatrix) {\n        var excelData = binaryMatrix.map(function (row, rowIndex) {\n          // cells: {\n          //   0: { text: item.x },\n          //   1: { text: item.y },\n          //   2: { text: item.s }\n          // }\n          var cells = {};\n          row.forEach(function (cellValue, cellIndex) {\n            cells[cellIndex] = {\n              text: cellValue\n            };\n          });\n          return {\n            cells: cells\n          };\n        });\n        return excelData;\n      }\n    }, {\n      key: \"excel2chartDataSet\",\n      value: function excel2chartDataSet(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          var _Object$values$map = Object.values(row.cells).map(function (item) {\n            return item.text;\n          }),\n              _Object$values$map2 = slicedToArray(_Object$values$map, 3),\n              x = _Object$values$map2[0],\n              y = _Object$values$map2[1],\n              s = _Object$values$map2[2];\n\n          return {\n            x: x,\n            y: y,\n            s: s\n          };\n        });\n        return dataset;\n      }\n    }, {\n      key: \"excel2BinaryMatrix\",\n      value: function excel2BinaryMatrix(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          // [1,2,3,4]\n          var cells = Object.values(row.cells).map(function (item) {\n            return item.text;\n          });\n          return cells;\n        });\n        console.log('dataset', dataset);\n        return dataset;\n      }\n      /**\r\n      *\r\n      * @param {Array} csvArray\r\n      *    [\r\n             ['', ''],\r\n             [\"11\",123],\r\n             [\"12\",1223],\r\n             [\"13\",2123],\r\n             [\"14\",4123],\r\n             [\"15\",3123],\r\n             [\"16\",7123]\r\n           ]\r\n      * @returns {Object}\r\n         {\r\n           columns: ['', ''],\r\n           rows:[\r\n             { '': '11', '': 123 },\r\n             { '': '12', '': 1223 },\r\n             { '': '13', '': 2123 },\r\n             { '': '14', '': 4123 },\r\n             { '': '15', '': 3123 },\r\n             { '': '16', '': 7123 }\r\n           ]\r\n         }\r\n      */\n\n    }, {\n      key: \"csv2VChartJson\",\n      value: function csv2VChartJson(csvArray) {\n        var columns = csvArray[0];\n        var rows = csvArray.slice(1);\n        var json = {\n          columns: columns,\n          rows: rows.map(function (row, index) {\n            var obj = {};\n            columns.forEach(function (col, colIndex) {\n              obj[col.trim()] = row[colIndex];\n            });\n            return obj;\n          })\n        };\n        return json;\n      }\n    }]);\n\n    return Parser;\n  }();\n\n  var $indexOf = arrayIncludes.indexOf;\n\n\n\n  var nativeIndexOf = [].indexOf;\n\n  var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\n  var STRICT_METHOD$1 = arrayMethodIsStrict('indexOf');\n  var USES_TO_LENGTH$5 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  _export({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD$1 || !USES_TO_LENGTH$5 }, {\n    indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n      return NEGATIVE_ZERO\n        // convert -0 to +0\n        ? nativeIndexOf.apply(this, arguments) || 0\n        : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var validFileMimeTypes = ['text/csv', 'text/x-csv', 'application/vnd.ms-excel', 'text/plain'];\n  var CsvImport = {\n    name: 'lbs-csv-import',\n    methods: {\n      checkMimeType: function checkMimeType(type) {\n        return validFileMimeTypes.indexOf(type) > -1;\n      },\n      validFileMimeType: function validFileMimeType(e) {\n        e.preventDefault();\n        var file = this.$refs.csv.files[0];\n        var isValidFileMimeType = this.checkMimeType(file.type);\n        if (isValidFileMimeType) this.loadFile();\n      },\n      loadFile: function loadFile() {\n        var _this = this;\n\n        /**\r\n         * output {String}\r\n            \"columnA,columnB,columnC\r\n            \"Susan\",41,a\r\n            \"Mike\",5,b\r\n            \"Jake\",33,c\r\n            \"Jill\",30,d\r\n            \"\r\n          * csv {Object}\r\n          {\r\n            \"data\": [\r\n              [\"columnA\", \"columnB\", \"columnC\"],\r\n              [\"Susan\", \"41\", \"a\"],\r\n              [\"Mike\", \"5\", \"b\"],\r\n              [\"Jake\", \"33\", \"c\"],\r\n              [\"Jill\", \"30\", \"d\"],\r\n            ],\r\n            \"errors\": [],\r\n            \"meta\": {\r\n              \"delimiter\": \",\",\r\n              \"linebreak\": \"\\n\",\r\n              \"aborted\": false,\r\n              \"truncated\": false,\r\n              \"cursor\": 72\r\n            }\r\n          }\r\n         */\n        this.readFile(function (output) {\n          // const sample = Papa.parse(output, { preview: 2, skipEmptyLines: true })\n          var csv = Papa__default['default'].parse(output, {\n            skipEmptyLines: true\n          });\n\n          _this.$emit('parse', csv);\n\n          _this.$refs.input.value = '';\n        });\n      },\n      readFile: function readFile(callback) {\n        var file = this.$refs.csv.files[0];\n\n        if (file) {\n          var reader = new FileReader();\n          reader.readAsText(file, 'UTF-8');\n\n          reader.onload = function (evt) {\n            callback(evt.target.result);\n          };\n\n          reader.onerror = function () {};\n        }\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var randomId = +new Date();\n      return h(\"div\", {\n        \"style\": \"height: 24px;\"\n      }, [h(\"label\", {\n        \"attrs\": {\n          \"for\": randomId\n        },\n        \"class\": \"ant-btn ant-btn-primary ant-btn-sm\"\n      }, [\"\\u9009\\u62E9\\u5BFC\\u5165 csv \\u6587\\u4EF6\"]), h(\"input\", {\n        \"ref\": \"csv\",\n        \"attrs\": {\n          \"id\": randomId,\n          \"type\": \"file\",\n          \"name\": \"csv\"\n        },\n        \"on\": {\n          \"change\": this.validFileMimeType\n        },\n        \"style\": \"visibility:hidden;\"\n      }, [\"xxxx\"])]);\n    }\n  };\n\n  /**\r\n   * https://github.com/myliang/x-spreadsheet/issues/159\r\n   */\n  //   [1, 2, 3, 4],\n  //   [5, 6, 7, 8],\n  //   [9, 10, 11, 12]\n  // ]\n\n  var lbsExcelEditor = {\n    name: 'lbs-excel-editor',\n    props: {\n      value: {\n        type: Array,\n        // default: () => getDefaultTableMatrix()\n        default: function _default() {\n          return [];\n        }\n      },\n      formatter: {\n        type: Function,\n        default: Parser.excel2BinaryMatrix\n      }\n    },\n    computed: {\n      innerItems: {\n        get: function get() {\n          return Parser.binaryMatrix2excel(this.value);\n        },\n        set: function set(val) {\n          this.$emit('input', val);\n        }\n      }\n    },\n    watch: {\n      value: function value() {\n        this.refreshSheet({\n          rows: this.innerItems\n        });\n      }\n    },\n    methods: {\n      parseCSV: function parseCSV(csv) {\n        var sheetData = Parser.binaryMatrix2excel(csv.data);\n        this.$emit('change', csv.data);\n        this.refreshSheet({\n          rows: sheetData\n        });\n      },\n\n      /**\r\n       *\r\n       * @param {Object} data { rows }\r\n       */\n      refreshSheet: function refreshSheet(data) {\n        this.sheet.loadData(data);\n        this.sheet.reRender();\n      },\n      initSheet: function initSheet() {\n        var _this = this;\n\n        var ele = this.$refs.excel;\n        return this.sheet || new Spreadsheet__default['default'](ele, {\n          showToolbar: false,\n          showGrid: true,\n          showContextmenu: true // view: {\n          //   height: () => 400,\n          //   width: () => ele.getBoundingClientRect().width\n          // }\n\n        }).change(function (excelData) {\n          // console.log('----------')\n          // console.log(excelData)\n          // console.log(this.formatter(excelData))\n          // console.log('----------')\n          _this.$emit('change', _this.formatter(excelData)\n          /** BinaryMatrix */\n          ); // save data to db\n\n        });\n      }\n    },\n    // ()  data  props  render watcher \n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"style\": \"max-height: 320px;overflow:scroll;\"\n      }, [h(\"div\", {\n        \"style\": \"line-height:2;\"\n      }, [h(\"span\", [\"\\u65B9\\u68481: \", h(CsvImport, {\n        \"on\": {\n          \"parse\": this.parseCSV\n        }\n      })]), h(\"span\", [\"\\u65B9\\u68482: \\u76F4\\u63A5\\u7F16\\u8F91 Excel\"]), h(\"div\", {\n        \"ref\": \"excel\",\n        \"style\": \"margin-right: 12px;width: 100%;overflow: scroll\"\n      })])]);\n    },\n    mounted: function mounted() {\n      this.sheet = this.initSheet();\n      this.refreshSheet({\n        rows: this.innerItems\n      });\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-03 16:51:42\r\n   * @Description :\r\n   */\n  var colorsPanel = {\n    name: \"colors-panel\",\n    props: {\n      value: {\n        type: [Array, String],\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [Array.isArray(this.value) ? this.value.map(function (v, index) {\n        h(\"input\", {\n          \"attrs\": {\n            \"size\": \"small\",\n            \"type\": \"color\",\n            \"autocomplete\": true\n          },\n          \"domProps\": {\n            \"value\": v\n          },\n          \"on\": {\n            \"change\": function change(e) {\n              var colors = _this.value.slice(0);\n\n              colors[index] = e.target.value;\n\n              _this.$emit(\"change\", colors);\n            }\n          }\n        });\n      }) : h(\"input\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"type\": \"color\",\n          \"autocomplete\": true\n        },\n        \"domProps\": {\n          \"value\": this.value\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.$emit(\"change\", e.target.value);\n          }\n        }\n      })]);\n    }\n  };\n\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n    while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n    return O;\n  };\n\n  var html = getBuiltIn('document', 'documentElement');\n\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function () { /* empty */ };\n\n  var scriptTag = function (content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  };\n\n  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n  var NullProtoObjectViaActiveX = function (activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n    return temp;\n  };\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var NullProtoObjectViaIFrame = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe);\n    // https://github.com/zloirock/core-js/issues/475\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  };\n\n  // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n  var activeXDocument;\n  var NullProtoObject = function () {\n    try {\n      /* global ActiveXObject */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) { /* ignore */ }\n    NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n    return NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true;\n\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO] = O;\n    } else result = NullProtoObject();\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  var nativeGetOwnPropertyNames = objectGetOwnPropertyNames.f;\n\n  var toString$1 = {}.toString;\n\n  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n    ? Object.getOwnPropertyNames(window) : [];\n\n  var getWindowNames = function (it) {\n    try {\n      return nativeGetOwnPropertyNames(it);\n    } catch (error) {\n      return windowNames.slice();\n    }\n  };\n\n  // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n  var f$5 = function getOwnPropertyNames(it) {\n    return windowNames && toString$1.call(it) == '[object Window]'\n      ? getWindowNames(it)\n      : nativeGetOwnPropertyNames(toIndexedObject(it));\n  };\n\n  var objectGetOwnPropertyNamesExternal = {\n  \tf: f$5\n  };\n\n  var f$6 = wellKnownSymbol;\n\n  var wellKnownSymbolWrapped = {\n  \tf: f$6\n  };\n\n  var defineProperty$3 = objectDefineProperty.f;\n\n  var defineWellKnownSymbol = function (NAME) {\n    var Symbol = path.Symbol || (path.Symbol = {});\n    if (!has(Symbol, NAME)) defineProperty$3(Symbol, NAME, {\n      value: wellKnownSymbolWrapped.f(NAME)\n    });\n  };\n\n  var defineProperty$4 = objectDefineProperty.f;\n\n\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\n  var setToStringTag = function (it, TAG, STATIC) {\n    if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n      defineProperty$4(it, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n  };\n\n  var $forEach$1 = arrayIteration.forEach;\n\n  var HIDDEN = sharedKey('hidden');\n  var SYMBOL = 'Symbol';\n  var PROTOTYPE$1 = 'prototype';\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n  var setInternalState = internalState.set;\n  var getInternalState = internalState.getterFor(SYMBOL);\n  var ObjectPrototype = Object[PROTOTYPE$1];\n  var $Symbol = global_1.Symbol;\n  var $stringify = getBuiltIn('JSON', 'stringify');\n  var nativeGetOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n  var nativeDefineProperty$1 = objectDefineProperty.f;\n  var nativeGetOwnPropertyNames$1 = objectGetOwnPropertyNamesExternal.f;\n  var nativePropertyIsEnumerable$1 = objectPropertyIsEnumerable.f;\n  var AllSymbols = shared('symbols');\n  var ObjectPrototypeSymbols = shared('op-symbols');\n  var StringToSymbolRegistry = shared('string-to-symbol-registry');\n  var SymbolToStringRegistry = shared('symbol-to-string-registry');\n  var WellKnownSymbolsStore$1 = shared('wks');\n  var QObject = global_1.QObject;\n  // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n  var USE_SETTER = !QObject || !QObject[PROTOTYPE$1] || !QObject[PROTOTYPE$1].findChild;\n\n  // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n  var setSymbolDescriptor = descriptors && fails(function () {\n    return objectCreate(nativeDefineProperty$1({}, 'a', {\n      get: function () { return nativeDefineProperty$1(this, 'a', { value: 7 }).a; }\n    })).a != 7;\n  }) ? function (O, P, Attributes) {\n    var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor$1(ObjectPrototype, P);\n    if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n    nativeDefineProperty$1(O, P, Attributes);\n    if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n      nativeDefineProperty$1(ObjectPrototype, P, ObjectPrototypeDescriptor);\n    }\n  } : nativeDefineProperty$1;\n\n  var wrap = function (tag, description) {\n    var symbol = AllSymbols[tag] = objectCreate($Symbol[PROTOTYPE$1]);\n    setInternalState(symbol, {\n      type: SYMBOL,\n      tag: tag,\n      description: description\n    });\n    if (!descriptors) symbol.description = description;\n    return symbol;\n  };\n\n  var isSymbol = useSymbolAsUid ? function (it) {\n    return typeof it == 'symbol';\n  } : function (it) {\n    return Object(it) instanceof $Symbol;\n  };\n\n  var $defineProperty = function defineProperty(O, P, Attributes) {\n    if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n    anObject(O);\n    var key = toPrimitive(P, true);\n    anObject(Attributes);\n    if (has(AllSymbols, key)) {\n      if (!Attributes.enumerable) {\n        if (!has(O, HIDDEN)) nativeDefineProperty$1(O, HIDDEN, createPropertyDescriptor(1, {}));\n        O[HIDDEN][key] = true;\n      } else {\n        if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n        Attributes = objectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n      } return setSymbolDescriptor(O, key, Attributes);\n    } return nativeDefineProperty$1(O, key, Attributes);\n  };\n\n  var $defineProperties = function defineProperties(O, Properties) {\n    anObject(O);\n    var properties = toIndexedObject(Properties);\n    var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n    $forEach$1(keys, function (key) {\n      if (!descriptors || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n    });\n    return O;\n  };\n\n  var $create = function create(O, Properties) {\n    return Properties === undefined ? objectCreate(O) : $defineProperties(objectCreate(O), Properties);\n  };\n\n  var $propertyIsEnumerable = function propertyIsEnumerable(V) {\n    var P = toPrimitive(V, true);\n    var enumerable = nativePropertyIsEnumerable$1.call(this, P);\n    if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n    return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n  };\n\n  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n    var it = toIndexedObject(O);\n    var key = toPrimitive(P, true);\n    if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n    var descriptor = nativeGetOwnPropertyDescriptor$1(it, key);\n    if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n      descriptor.enumerable = true;\n    }\n    return descriptor;\n  };\n\n  var $getOwnPropertyNames = function getOwnPropertyNames(O) {\n    var names = nativeGetOwnPropertyNames$1(toIndexedObject(O));\n    var result = [];\n    $forEach$1(names, function (key) {\n      if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n    });\n    return result;\n  };\n\n  var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n    var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n    var names = nativeGetOwnPropertyNames$1(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n    var result = [];\n    $forEach$1(names, function (key) {\n      if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n        result.push(AllSymbols[key]);\n      }\n    });\n    return result;\n  };\n\n  // `Symbol` constructor\n  // https://tc39.github.io/ecma262/#sec-symbol-constructor\n  if (!nativeSymbol) {\n    $Symbol = function Symbol() {\n      if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n      var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var tag = uid(description);\n      var setter = function (value) {\n        if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n        if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n        setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n      };\n      if (descriptors && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n      return wrap(tag, description);\n    };\n\n    redefine($Symbol[PROTOTYPE$1], 'toString', function toString() {\n      return getInternalState(this).tag;\n    });\n\n    redefine($Symbol, 'withoutSetter', function (description) {\n      return wrap(uid(description), description);\n    });\n\n    objectPropertyIsEnumerable.f = $propertyIsEnumerable;\n    objectDefineProperty.f = $defineProperty;\n    objectGetOwnPropertyDescriptor.f = $getOwnPropertyDescriptor;\n    objectGetOwnPropertyNames.f = objectGetOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n    objectGetOwnPropertySymbols.f = $getOwnPropertySymbols;\n\n    wellKnownSymbolWrapped.f = function (name) {\n      return wrap(wellKnownSymbol(name), name);\n    };\n\n    if (descriptors) {\n      // https://github.com/tc39/proposal-Symbol-description\n      nativeDefineProperty$1($Symbol[PROTOTYPE$1], 'description', {\n        configurable: true,\n        get: function description() {\n          return getInternalState(this).description;\n        }\n      });\n      {\n        redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n      }\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: !nativeSymbol, sham: !nativeSymbol }, {\n    Symbol: $Symbol\n  });\n\n  $forEach$1(objectKeys(WellKnownSymbolsStore$1), function (name) {\n    defineWellKnownSymbol(name);\n  });\n\n  _export({ target: SYMBOL, stat: true, forced: !nativeSymbol }, {\n    // `Symbol.for` method\n    // https://tc39.github.io/ecma262/#sec-symbol.for\n    'for': function (key) {\n      var string = String(key);\n      if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n      var symbol = $Symbol(string);\n      StringToSymbolRegistry[string] = symbol;\n      SymbolToStringRegistry[symbol] = string;\n      return symbol;\n    },\n    // `Symbol.keyFor` method\n    // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n    keyFor: function keyFor(sym) {\n      if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n      if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n    },\n    useSetter: function () { USE_SETTER = true; },\n    useSimple: function () { USE_SETTER = false; }\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol, sham: !descriptors }, {\n    // `Object.create` method\n    // https://tc39.github.io/ecma262/#sec-object.create\n    create: $create,\n    // `Object.defineProperty` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperty\n    defineProperty: $defineProperty,\n    // `Object.defineProperties` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperties\n    defineProperties: $defineProperties,\n    // `Object.getOwnPropertyDescriptor` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n    getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol }, {\n    // `Object.getOwnPropertyNames` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n    getOwnPropertyNames: $getOwnPropertyNames,\n    // `Object.getOwnPropertySymbols` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n    getOwnPropertySymbols: $getOwnPropertySymbols\n  });\n\n  // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3443\n  _export({ target: 'Object', stat: true, forced: fails(function () { objectGetOwnPropertySymbols.f(1); }) }, {\n    getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n      return objectGetOwnPropertySymbols.f(toObject(it));\n    }\n  });\n\n  // `JSON.stringify` method behavior with symbols\n  // https://tc39.github.io/ecma262/#sec-json.stringify\n  if ($stringify) {\n    var FORCED_JSON_STRINGIFY = !nativeSymbol || fails(function () {\n      var symbol = $Symbol();\n      // MS Edge converts symbol values to JSON as {}\n      return $stringify([symbol]) != '[null]'\n        // WebKit converts symbol values to JSON as null\n        || $stringify({ a: symbol }) != '{}'\n        // V8 throws on boxed symbols\n        || $stringify(Object(symbol)) != '{}';\n    });\n\n    _export({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n      // eslint-disable-next-line no-unused-vars\n      stringify: function stringify(it, replacer, space) {\n        var args = [it];\n        var index = 1;\n        var $replacer;\n        while (arguments.length > index) args.push(arguments[index++]);\n        $replacer = replacer;\n        if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n        if (!isArray(replacer)) replacer = function (key, value) {\n          if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n          if (!isSymbol(value)) return value;\n        };\n        args[1] = replacer;\n        return $stringify.apply(null, args);\n      }\n    });\n  }\n\n  // `Symbol.prototype[@@toPrimitive]` method\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\n  if (!$Symbol[PROTOTYPE$1][TO_PRIMITIVE]) {\n    createNonEnumerableProperty($Symbol[PROTOTYPE$1], TO_PRIMITIVE, $Symbol[PROTOTYPE$1].valueOf);\n  }\n  // `Symbol.prototype[@@toStringTag]` property\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\n  setToStringTag($Symbol, SYMBOL);\n\n  hiddenKeys[HIDDEN] = true;\n\n  var nativeGetOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n\n\n  var FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor$2(1); });\n  var FORCED$1 = !descriptors || FAILS_ON_PRIMITIVES;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  _export({ target: 'Object', stat: true, forced: FORCED$1, sham: !descriptors }, {\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n      return nativeGetOwnPropertyDescriptor$2(toIndexedObject(it), key);\n    }\n  });\n\n  // `Object.getOwnPropertyDescriptors` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  _export({ target: 'Object', stat: true, sham: !descriptors }, {\n    getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n      var O = toIndexedObject(object);\n      var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n      var keys = ownKeys(O);\n      var result = {};\n      var index = 0;\n      var key, descriptor;\n      while (keys.length > index) {\n        descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n        if (descriptor !== undefined) createProperty(result, key, descriptor);\n      }\n      return result;\n    }\n  });\n\n  var FAILS_ON_PRIMITIVES$1 = fails(function () { objectKeys(1); });\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  _export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$1 }, {\n    keys: function keys(it) {\n      return objectKeys(toObject(it));\n    }\n  });\n\n  var UndoRedoHistory = /*#__PURE__*/function () {\n    function UndoRedoHistory() {\n      classCallCheck(this, UndoRedoHistory);\n\n      defineProperty$1(this, \"store\", void 0);\n\n      defineProperty$1(this, \"history\", []);\n\n      defineProperty$1(this, \"currentIndex\", -1);\n    }\n\n    createClass(UndoRedoHistory, [{\n      key: \"init\",\n      value: function init(store) {\n        this.store = store;\n      }\n    }, {\n      key: \"addState\",\n      value: function addState(state) {\n        // may be we have to remove redo steps\n        if (this.currentIndex + 1 < this.history.length) {\n          this.history.splice(this.currentIndex + 1);\n        }\n\n        this.history.push(state);\n        this.currentIndex++;\n      }\n    }, {\n      key: \"undo\",\n      value: function undo() {\n        if (!this.canUndo) return;\n        var prevState = this.history[this.currentIndex - 1]; // take a copy of the history state\n        // because it would be changed during store mutations\n        // what would corrupt the undo-redo-history\n        // (same on redo)\n\n        this.store.replaceState(lodash.cloneDeep(prevState));\n        this.currentIndex--;\n      }\n    }, {\n      key: \"redo\",\n      value: function redo() {\n        if (!this.canRedo) return;\n        var nextState = this.history[this.currentIndex + 1];\n        this.store.replaceState(lodash.cloneDeep(nextState));\n        this.currentIndex++;\n      }\n    }, {\n      key: \"canUndo\",\n      get: function get() {\n        return this.currentIndex > 0;\n      }\n    }, {\n      key: \"canRedo\",\n      get: function get() {\n        return this.history.length > this.currentIndex + 1;\n      }\n    }]);\n\n    return UndoRedoHistory;\n  }();\n\n  var undoRedoHistory = new UndoRedoHistory();\n\n  var fixedTools = [{\n    i18nTooltip: 'editor.fixedTool.undo',\n    icon: 'mail-reply',\n    action: function action() {\n      return undoRedoHistory.undo();\n    },\n    hotkey: 'ctrl&z,&z',\n    hotkeyTooltip: '(ctrl+z)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.redo',\n    icon: 'mail-forward',\n    action: function action() {\n      return undoRedoHistory.redo();\n    },\n    hotkey: 'ctrl&y,&u',\n    hotkeyTooltip: '(ctrl+y)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.preview',\n    icon: 'eye',\n    action: function action() {\n      this.previewDialogVisible = true;\n    }\n  }, {\n    i18nTooltip: 'editor.fixedTool.copyCurrentPage',\n    icon: 'copy',\n    action: function action() {\n      this.pageManager({\n        type: 'copy'\n      });\n    },\n    hotkey: 'ctrl&c,&c'\n  }, {\n    i18nTooltip: 'editor.fixedTool.copyCurrentElement',\n    icon: 'copy',\n    action: function action() {\n      this.elementManager({\n        type: 'copy'\n      });\n    }\n  }, {\n    i18nTooltip: 'editor.fixedTool.importPSD',\n    text: 'Ps',\n    icon: '',\n    // : icon > text > i18nTooltip\n    action: '',\n    disabled: true\n  }, {\n    i18nTooltip: 'editor.fixedTool.zoomOut',\n    icon: 'plus',\n    action: function action() {\n      this.updateScaleRate(0.25);\n    },\n    hotkey: 'ctrl&=,&=',\n    hotkeyTooltip: '(ctrl +)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.zoomIn',\n    icon: 'minus',\n    action: function action() {\n      this.updateScaleRate(-0.25);\n    },\n    hotkey: 'ctrl&-,&-',\n    hotkeyTooltip: '(ctrl -)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.issues',\n    icon: 'question',\n    action: function action() {\n      window.open('https://github.com/ly525/luban-h5/issues/110');\n    }\n  }];\n\n  var _components$1;\n\n  function ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var FixedTools = {\n    components: (_components$1 = {}, defineProperty$1(_components$1, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$1(_components$1, antDesignVue.Button.Group.name, antDesignVue.Button.Group), defineProperty$1(_components$1, antDesignVue.Tooltip.name, antDesignVue.Tooltip), defineProperty$1(_components$1, antDesignVue.Button.name, antDesignVue.Button), _components$1),\n    computed: _objectSpread({}, Vuex.mapState(\"editor\", {\n      scaleRate: function scaleRate(state) {\n        return state.scaleRate;\n      }\n    })),\n    methods: _objectSpread({}, Vuex.mapActions(\"editor\", [\"pageManager\", \"elementManager\", \"updateScaleRate\"])),\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": \"40\",\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          background: \"#fff\",\n          border: \"1px solid #eee\"\n        }\n      }, [h(\"a-button-group\", {\n        \"style\": {\n          display: \"flex\",\n          flexDirection: \"column\"\n        }\n      }, [fixedTools.map(function (tool) {\n        return h(\"a-tooltip\", {\n          \"attrs\": {\n            \"effect\": \"dark\",\n            \"placement\": \"left\",\n            \"title\": _this.$t(tool.i18nTooltip, {\n              hotkey: tool.hotkeyTooltip\n            })\n          }\n        }, [h(\"a-button\", {\n          \"attrs\": {\n            \"block\": true,\n            \"type\": \"link\",\n            \"size\": \"small\",\n            \"disabled\": !!tool.disabled\n          },\n          \"class\": \"transparent-bg\",\n          \"style\": {\n            height: \"40px\",\n            color: \"#000\"\n          },\n          \"on\": {\n            \"click\": function click() {\n              return tool.action && tool.action.call(_this);\n            }\n          }\n        }, [tool.icon ? h(\"i\", {\n          \"class\": [\"shortcut-icon\", \"fa\", \"fa-\".concat(tool.icon)],\n          \"attrs\": {\n            \"aria-hidden\": \"true\"\n          }\n        }) : tool.text || _this.$t(tool.i18nTooltip)]), tool.icon === \"minus\" && h(\"div\", {\n          \"style\": {\n            fontSize: \"12px\",\n            textAlign: \"center\"\n          }\n        }, [_this.scaleRate * 100, \"%\"])]);\n      })])]);\n    },\n    mounted: function mounted() {\n      var _this2 = this;\n\n      fixedTools.map(function (tool) {\n        tool.hotkey && hotkeys__default['default'](tool.hotkey, {\n          splitKey: \"&\"\n        }, function (event, handler) {\n          event.preventDefault();\n          event.stopPropagation();\n          tool.action && tool.action.call(_this2);\n        });\n      });\n    }\n  };\n\n  var aPossiblePrototype = function (it) {\n    if (!isObject(it) && it !== null) {\n      throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n    } return it;\n  };\n\n  // `Object.setPrototypeOf` method\n  // https://tc39.github.io/ecma262/#sec-object.setprototypeof\n  // Works with __proto__ only. Old v8 can't work with null proto objects.\n  /* eslint-disable no-proto */\n  var objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n    var CORRECT_SETTER = false;\n    var test = {};\n    var setter;\n    try {\n      setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n      setter.call(test, []);\n      CORRECT_SETTER = test instanceof Array;\n    } catch (error) { /* empty */ }\n    return function setPrototypeOf(O, proto) {\n      anObject(O);\n      aPossiblePrototype(proto);\n      if (CORRECT_SETTER) setter.call(O, proto);\n      else O.__proto__ = proto;\n      return O;\n    };\n  }() : undefined);\n\n  // makes subclassing work correct for wrapped built-ins\n  var inheritIfRequired = function ($this, dummy, Wrapper) {\n    var NewTarget, NewTargetPrototype;\n    if (\n      // it can work only with native `setPrototypeOf`\n      objectSetPrototypeOf &&\n      // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n      typeof (NewTarget = dummy.constructor) == 'function' &&\n      NewTarget !== Wrapper &&\n      isObject(NewTargetPrototype = NewTarget.prototype) &&\n      NewTargetPrototype !== Wrapper.prototype\n    ) objectSetPrototypeOf($this, NewTargetPrototype);\n    return $this;\n  };\n\n  var getOwnPropertyNames = objectGetOwnPropertyNames.f;\n  var getOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n  var defineProperty$5 = objectDefineProperty.f;\n  var trim = stringTrim.trim;\n\n  var NUMBER = 'Number';\n  var NativeNumber = global_1[NUMBER];\n  var NumberPrototype = NativeNumber.prototype;\n\n  // Opera ~12 has broken Object#toString\n  var BROKEN_CLASSOF = classofRaw(objectCreate(NumberPrototype)) == NUMBER;\n\n  // `ToNumber` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tonumber\n  var toNumber = function (argument) {\n    var it = toPrimitive(argument, false);\n    var first, third, radix, maxCode, digits, length, index, code;\n    if (typeof it == 'string' && it.length > 2) {\n      it = trim(it);\n      first = it.charCodeAt(0);\n      if (first === 43 || first === 45) {\n        third = it.charCodeAt(2);\n        if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n      } else if (first === 48) {\n        switch (it.charCodeAt(1)) {\n          case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n          case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n          default: return +it;\n        }\n        digits = it.slice(2);\n        length = digits.length;\n        for (index = 0; index < length; index++) {\n          code = digits.charCodeAt(index);\n          // parseInt parses a string to a first unavailable symbol\n          // but ToNumber should return NaN if a string contains unavailable symbols\n          if (code < 48 || code > maxCode) return NaN;\n        } return parseInt(digits, radix);\n      }\n    } return +it;\n  };\n\n  // `Number` constructor\n  // https://tc39.github.io/ecma262/#sec-number-constructor\n  if (isForced_1(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n    var NumberWrapper = function Number(value) {\n      var it = arguments.length < 1 ? 0 : value;\n      var dummy = this;\n      return dummy instanceof NumberWrapper\n        // check on 1..constructor(foo) case\n        && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classofRaw(dummy) != NUMBER)\n          ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n    };\n    for (var keys$1 = descriptors ? getOwnPropertyNames(NativeNumber) : (\n      // ES3:\n      'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n      // ES2015 (in case, if modules with ES2015 Number statics required before):\n      'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n      'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n    ).split(','), j = 0, key; keys$1.length > j; j++) {\n      if (has(NativeNumber, key = keys$1[j]) && !has(NumberWrapper, key)) {\n        defineProperty$5(NumberWrapper, key, getOwnPropertyDescriptor$2(NativeNumber, key));\n      }\n    }\n    NumberWrapper.prototype = NumberPrototype;\n    NumberPrototype.constructor = NumberWrapper;\n    redefine(global_1, NUMBER, NumberWrapper);\n  }\n\n  var $entries = objectToArray.entries;\n\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  _export({ target: 'Object', stat: true }, {\n    entries: function entries(O) {\n      return $entries(O);\n    }\n  });\n\n  function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e);}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h);}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments);}};var helper=mergeJsxProps;\n\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag');\n  var test = {};\n\n  test[TO_STRING_TAG$1] = 'z';\n\n  var toStringTagSupport = String(test) === '[object z]';\n\n  var TO_STRING_TAG$2 = wellKnownSymbol('toStringTag');\n  // ES3 wrong here\n  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n  // fallback for IE11 Script Access Denied error\n  var tryGet = function (it, key) {\n    try {\n      return it[key];\n    } catch (error) { /* empty */ }\n  };\n\n  // getting tag from ES6+ `Object.prototype.toString`\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null'\n      // @@toStringTag case\n      : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$2)) == 'string' ? tag\n      // builtinTag case\n      : CORRECT_ARGUMENTS ? classofRaw(O)\n      // ES3 arguments fallback\n      : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  };\n\n  // `Object.prototype.toString` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  };\n\n  // `Object.prototype.toString` method\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, { unsafe: true });\n  }\n\n  // `RegExp.prototype.flags` getter implementation\n  // https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\n  var regexpFlags = function () {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  };\n\n  var TO_STRING = 'toString';\n  var RegExpPrototype = RegExp.prototype;\n  var nativeToString = RegExpPrototype[TO_STRING];\n\n  var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n  // FF44- RegExp#toString has a wrong name\n  var INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n  // `RegExp.prototype.toString` method\n  // https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\n  if (NOT_GENERIC || INCORRECT_NAME) {\n    redefine(RegExp.prototype, TO_STRING, function toString() {\n      var R = anObject(this);\n      var p = String(R.source);\n      var rf = R.flags;\n      var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n      return '/' + p + '/' + f;\n    }, { unsafe: true });\n  }\n\n  var styleKey = 'commonStyle';\n  /**\r\n   *\r\n\r\n   *  componentsForPropsEditor\r\n   * @param {String} elementName\r\n   *\r\n   *  Demo\r\n   {\r\n    name: 'lbp-button',\r\n    props: {\r\n      color: {\r\n        default: 'red',\r\n        editor: {\r\n          type: 'custom-color-editor'\r\n        }\r\n      }\r\n    },\r\n    componentsForPropsEditor: {\r\n      'custom-color-editor': {\r\n        render() {\r\n          return <input type=\"color\" />\r\n        }\r\n      }\r\n    }\r\n   }\r\n   */\n\n  function getComponentsForPropsEditor(elementName) {\n    var Ctor = Vue__default['default'].component(elementName); // TODO  return new Ctor()  vuex  state Cannot convert a Symbol value to a string\n\n    return new Ctor().$options.componentsForPropsEditor;\n  }\n  function getVM(pluginName) {\n    var Ctor = Vue__default['default'].component(pluginName);\n    return new Ctor();\n  }\n  function swapZindex(x, y) {\n    var tmp = y[styleKey].zindex;\n    y[styleKey].zindex = x[styleKey].zindex;\n    x[styleKey].zindex = tmp;\n  }\n  /**\r\n   * !#zh  px  rem\r\n   * @param {Number} px\r\n   */\n\n  function px2Rem(px) {\n    var rem = px * 2 / 100 + 'rem';\n    return rem;\n  }\n  /**\r\n   *\r\n   * @param {Number} px  height\r\n   * @param {Boolean} isToRem  px  rem\r\n   */\n\n\n  function parsePx(px) {\n    var isRem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (isRem) return px2Rem(px);\n    return \"\".concat(px, \"px\");\n  }\n  var genUUID = function genUUID() {\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n  };\n\n  var EventBus = new Vue__default['default'](); // event bus\n\n  var _components$2;\n  var lbsTextAlign = {\n    name: 'lbs-text-align',\n    components: (_components$2 = {}, defineProperty$1(_components$2, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$1(_components$2, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), defineProperty$1(_components$2, antDesignVue.Tooltip.name, antDesignVue.Tooltip), _components$2),\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"div\", {\n        \"class\": \"wrap\"\n      }, [h(\"a-radio-group\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"value\": this.value\n        },\n        \"on\": {\n          \"change\": function change(value) {\n            _this.$emit('change', value);\n\n            _this.$emit('input', value);\n          }\n        }\n      }, [this.textAlignTabs.map(function (item) {\n        return h(\"a-tooltip\", {\n          \"attrs\": {\n            \"effect\": \"dark\",\n            \"placement\": \"top\",\n            \"title\": item.label\n          },\n          \"key\": item.value\n        }, [h(\"a-radio-button\", {\n          \"attrs\": {\n            \"value\": item.value\n          }\n        }, [h(\"i\", {\n          \"class\": ['fa', 'fa-align-' + item.value],\n          \"attrs\": {\n            \"aria-hidden\": \"true\"\n          }\n        })])]);\n      })])]);\n    },\n    props: {\n      value: {\n        type: [String, Number]\n      }\n    },\n    data: function data() {\n      return {\n        textAlignTabs: [{\n          label: '',\n          value: 'left'\n        }, {\n          label: '',\n          value: 'center'\n        }, {\n          label: '',\n          value: 'right'\n        }]\n      };\n    }\n  };\n\n  var _components$3;\n  var lbpSlideCustomEditor = {\n    components: (_components$3 = {}, defineProperty$1(_components$3, antDesignVue.Pagination.name, antDesignVue.Pagination), defineProperty$1(_components$3, antDesignVue.Button.name, antDesignVue.Pagination), _components$3),\n    props: {\n      elementProps: {\n        type: Object,\n        default: function _default() {\n          return {\n            items: [],\n            activeIndex: 0\n          };\n        }\n      }\n    },\n    computed: {\n      innerItems: function innerItems() {\n        return this.elementProps.items;\n      }\n    },\n    data: function data() {\n      return {\n        current: 1\n      };\n    },\n    methods: {\n      itemRender: function itemRender(current, type, originalElement) {\n        var _this = this;\n\n        var h = this.$createElement;\n\n        if (type === \"prev\") {\n          return h(\"a-button\", {\n            \"style\": {\n              marginRight: \"8px\"\n            },\n            \"attrs\": {\n              \"size\": \"small\",\n              \"icon\": \"minus\",\n              \"disabled\": this.innerItems.length === 1\n            },\n            \"on\": {\n              \"click\": function click() {\n                return _this.minus(current);\n              }\n            }\n          });\n        } else if (type === \"next\") {\n          return h(\"a-button\", {\n            \"style\": {\n              marginLeft: \"8px\"\n            },\n            \"attrs\": {\n              \"size\": \"small\",\n              \"icon\": \"plus\"\n            },\n            \"on\": {\n              \"click\": this.add\n            }\n          });\n        }\n\n        return originalElement;\n      },\n      add: function add() {\n        this.elementProps.items.push({\n          image: \"\",\n          value: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-value\"),\n          label: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-label\")\n        });\n      },\n      minus: function minus(index) {\n        if (this.innerItems.length === 1) return;\n        this.elementProps.items.splice(index, 1); // this.elementProps.activeIndex = index > 0 ? index - 1 : 0\n\n        this.elementProps.activeIndex = Math.max(index - 1, 0);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      var currentItem = this.innerItems[this.current - 1] || {};\n      return h(\"div\", [h(\"a-pagination\", {\n        \"attrs\": {\n          \"current\": this.current,\n          \"size\": \"small\",\n          \"total\": this.innerItems.length,\n          \"defaultPageSize\": 1,\n          \"itemRender\": this.itemRender\n        },\n        \"on\": {\n          \"change\": function change(page) {\n            _this2.current = page;\n            _this2.elementProps.activeIndex = page - 1;\n          }\n        }\n      }), h(\"lbs-image-gallery\", {\n        \"style\": {\n          margin: \"16px 0\"\n        },\n        \"attrs\": {\n          \"value\": currentItem.image\n        },\n        \"on\": {\n          \"change\": function change(url) {\n            currentItem.image = url;\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$4;\n\n  function ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderPropsEditor = {\n    components: (_components$4 = {}, defineProperty$1(_components$4, antDesignVue.Form.name, antDesignVue.Form), defineProperty$1(_components$4, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$1(_components$4, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$1(_components$4, antDesignVue.Button.name, antDesignVue.Button), defineProperty$1(_components$4, antDesignVue.Radio.name, antDesignVue.Radio), defineProperty$1(_components$4, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$1(_components$4, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), defineProperty$1(_components$4, antDesignVue.Input.name, antDesignVue.Input), defineProperty$1(_components$4, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$1(_components$4, antDesignVue.Switch.name, antDesignVue.Switch), defineProperty$1(_components$4, antDesignVue.InputNumber.name, antDesignVue.InputNumber), defineProperty$1(_components$4, antDesignVue.Select.name, antDesignVue.Select), defineProperty$1(_components$4, \"colorsPanel\", colorsPanel), defineProperty$1(_components$4, \"lbsTextAlign\", lbsTextAlign), defineProperty$1(_components$4, \"lbsExcelEditor\", lbsExcelEditor), defineProperty$1(_components$4, \"lbpSlideCustomEditor\", lbpSlideCustomEditor), _components$4),\n    data: function data() {\n      return {\n        loadCustomEditorFlag: false\n      };\n    },\n    props: {\n      layout: {\n        type: String,\n        default: \"horizontal\"\n      },\n      // \n      realEditingElement: {\n        type: Object,\n        default: function _default() {\n          return null;\n        }\n      }\n    },\n    computed: _objectSpread$1(_objectSpread$1({}, Vuex.mapState(\"editor\", {\n      stateEditingElement: function stateEditingElement(state) {\n        return state.editingElement;\n      }\n    })), {}, {\n      customEditorName: function customEditorName() {\n        return \"\".concat(this.editingElement.name, \"-custom-editor\");\n      },\n      editingElement: function editingElement() {\n        return this.realEditingElement || this.stateEditingElement;\n      }\n    }),\n    methods: _objectSpread$1(_objectSpread$1({}, Vuex.mapActions(\"editor\", [\"setEditingElement\"])), {}, {\n      loadCustomEditorForPlugin: function loadCustomEditorForPlugin() {\n        this.loadCustomEditorFlag = false;\n        if (!this.editingElement) return;\n\n        if (Vue__default['default'].component(this.customEditorName)) {\n          this.loadCustomEditorFlag = true;\n        }\n      },\n\n      /**\r\n       *   \r\n       */\n      mixinEnhancedPropsEditor: function mixinEnhancedPropsEditor(editingElement) {\n        if (!this.componentsForPropsEditor) return;\n\n        for (var key in this.componentsForPropsEditor) {\n          if (this.$options.components[key]) return;\n          this.$options.components[key] = this.componentsForPropsEditor[key];\n        }\n      },\n\n      /**\r\n       *\r\n       * propKey: e.g:'color'\r\n       * propConfig: {\r\n       *  editor: {},\r\n       *  default: 'red'\r\n       * }\r\n       */\n      renderPropFormItem: function renderPropFormItem(h, _ref) {\n        var propKey = _ref.propKey,\n            propConfig = _ref.propConfig;\n        var editingElement = this.editingElement;\n        var item = propConfig.editor; // https://vuejs.org/v2/guide/render-function.html\n\n        var data = {\n          // style: { width: '100%' },\n          props: _objectSpread$1(_objectSpread$1({}, item.props || {}), {}, defineProperty$1({}, item.type === \"a-switch\" ? \"checked\" : \"value\", editingElement.pluginProps[propKey])),\n          on: {\n            // https://vuejs.org/v2/guide/render-function.html#v-model\n            // input (e) {\n            //   editingElement.pluginProps[propKey] = e.target ? e.target.value : e\n            // }\n            change: function change(e) {\n              // fixme: update plugin props in vuex with dispatch\n              editingElement.pluginProps[propKey] = e.target ? e.target.value : e;\n            }\n          }\n        };\n        var formItemLayout = this.layout === \"horizontal\" ? {\n          labelCol: {\n            span: 6\n          },\n          wrapperCol: {\n            span: 16,\n            offset: 2\n          }\n        } : {};\n        var formItemData = {\n          props: _objectSpread$1(_objectSpread$1({}, formItemLayout), {}, {\n            label: item.label\n          }, item.layout)\n        };\n        return h(\"a-form-item\", helper([{}, formItemData]), [item.extra && h(\"div\", {\n          \"slot\": \"extra\"\n        }, [typeof item.extra === \"function\" ? item.extra(h) : item.extra]), h(item.type, data)]);\n      },\n      renderPropsEditorPanel: function renderPropsEditorPanel(h, editingElement) {\n        var _this = this;\n\n        var vm = getVM(editingElement.name);\n        var props = vm.$options.props;\n        return h(\"a-form\", {\n          \"ref\": \"form\",\n          \"attrs\": {\n            \"size\": \"mini\",\n            \"layout\": this.layout\n          },\n          \"class\": \"props-config-form\"\n        }, [// plugin-custom-editor\n        this.loadCustomEditorFlag && h(this.customEditorName, {\n          props: {\n            elementProps: editingElement.pluginProps\n          }\n        }), Object.entries(props).filter(function (_ref2) {\n          var _ref3 = slicedToArray(_ref2, 2),\n              propKey = _ref3[0],\n              propConfig = _ref3[1];\n\n          // 1.  prop  visible \n          // 2. true\n          // 3.  editorMode(/)\n          var isVisible = propConfig.hasOwnProperty(\"visible\") ? propConfig.visible : true;\n          return isVisible && propConfig.editor && !propConfig.editor.custom;\n        }).map(function (_ref4) {\n          var _ref5 = slicedToArray(_ref4, 2),\n              propKey = _ref5[0],\n              propConfig = _ref5[1];\n\n          return _this.renderPropFormItem(h, {\n            propKey: propKey,\n            propConfig: propConfig\n          });\n        })]);\n      },\n      renderWorkGlobalPropsPanel: function renderWorkGlobalPropsPanel(h) {\n        return h(\"RenderWorkMode\");\n      }\n    }),\n    render: function render(h) {\n      var ele = this.editingElement;\n      if (!ele) return \"\";\n      this.mixinEnhancedPropsEditor(ele);\n      return this.renderPropsEditorPanel(h, ele);\n    },\n    created: function created() {\n      var _this2 = this;\n\n      EventBus.$on(\"setEditingElement\", function (ele) {\n        _this2.loadCustomEditorForPlugin();\n\n        _this2.componentsForPropsEditor = getComponentsForPropsEditor(ele.name);\n      });\n    }\n  };\n\n  var _components$5;\n\n  function ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderScriptEditor = {\n    components: (_components$5 = {}, defineProperty$1(_components$5, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$1(_components$5, antDesignVue.Button.name, antDesignVue.Button), _components$5),\n    data: function data() {\n      return {\n        editorContent: \"return {\\n      editorMethods: {              // \\u6B64\\u9879\\u914D\\u7F6E\\u81EA\\u5B9A\\u4E49\\u65B9\\u6CD5\\u7684\\u5728\\u7EC4\\u4EF6\\u914D\\u7F6E\\u9762\\u677F\\u5982\\u4F55\\u5C55\\u793A\\n        projectJump1: {             // \\u65B9\\u6CD5\\u540D\\uFF0C\\u5BF9\\u5E94\\u4E8E methods \\u5185\\u7684\\u67D0\\u65B9\\u6CD5\\n          label: '\\u5916\\u90E8\\u8DF3\\u8F6C1',        // \\u81EA\\u5B9A\\u4E49\\u65B9\\u6CD5\\u663E\\u793A\\u540D\\n          params: [                 // \\u53C2\\u6570\\u5217\\u8868\\uFF0C\\u5BF9\\u8C61\\u6570\\u7EC4\\n            {\\n              label: '\\u8DF3\\u8F6C\\u5730\\u5740',     // \\u53C2\\u65701\\u7684\\u540D\\u79F0\\n              desc: '\\u9879\\u76EE\\u76F8\\u5BF9\\u5730\\u5740',   // \\u53C2\\u65701\\u7684\\u63CF\\u8FF0\\n              type: 'string',       // \\u53C2\\u65701\\u7684\\u7C7B\\u578B\\uFF0C\\u652F\\u6301string|number|boolean|array|object\\n              default: ''           // \\u53C2\\u65701\\u9ED8\\u8BA4\\u503C\\n            },\\n            {\\n              label: '\\u53C2\\u6570',\\n              desc: 'query\\u5F62\\u5F0F\\u53C2\\u6570',\\n              type: 'object',\\n              default: {}\\n            }\\n          ]\\n        }\\n      },\\n      methods:{\\n        projectJump1:function(url, query){\\n          console.log(url, query)\\n          let win = window.open(url, '_blank')\\n          win.focus()\\n        }\\n      }\\n    }\"\n      };\n    },\n    computed: _objectSpread$2({}, Vuex.mapState(\"editor\", [\"editingElement\"])),\n    methods: _objectSpread$2(_objectSpread$2({}, Vuex.mapActions(\"editor\", [\"setEditingElement\"])), {}, {\n      mixinScript: function mixinScript() {// mixin script\n      }\n    }),\n    render: function render(h) {\n      var _this = this;\n\n      var ele = this.editingElement;\n      if (!ele) return h(\"span\", [this.$t(\"editor.editPanel.common.empty\")]);\n      return h(\"div\", [h(\"a-button\", {\n        \"on\": {\n          \"click\": this.mixinScript\n        },\n        \"attrs\": {\n          \"disabled\": true\n        }\n      }, [\"\\u4F7F\\u7528\\u811A\\u672C\"]), h(\"div\", {\n        \"style\": {\n          margin: \"20px\"\n        }\n      }), h(\"a-textarea\", {\n        \"attrs\": {\n          \"rows\": 12,\n          \"placeholder\": \"Basic usage\",\n          \"value\": this.editorContent\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.editorContent = e.target.value;\n          }\n        }\n      })]);\n    }\n  };\n\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n\n  var regexpStickyHelpers = {\n  \tUNSUPPORTED_Y: UNSUPPORTED_Y,\n  \tBROKEN_CARET: BROKEN_CARET\n  };\n\n  var nativeExec = RegExp.prototype.exec;\n  // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n  var nativeReplace = String.prototype.replace;\n\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = (function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  })();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET;\n\n  // nonparticipating capturing group, copied from es5-shim's String#split patch.\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex);\n        // Support anchored sticky behavior.\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        }\n        // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec;\n\n  _export({ target: 'RegExp', proto: true, forced: /./.exec !== regexpExec }, {\n    exec: regexpExec\n  });\n\n  // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n\n\n\n\n\n  var SPECIES$3 = wellKnownSymbol('species');\n\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n    re.exec = function () {\n      var result = [];\n      result.groups = { a: '7' };\n      return result;\n    };\n    return ''.replace(re, '$<a>') !== '7';\n  });\n\n  // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n  var REPLACE_KEEPS_$0 = (function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  })();\n\n  var REPLACE = wellKnownSymbol('replace');\n  // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n    return false;\n  })();\n\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    var re = /(?:)/;\n    var originalExec = re.exec;\n    re.exec = function () { return originalExec.apply(this, arguments); };\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    });\n\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {};\n        // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n        re.constructor = {};\n        re.constructor[SPECIES$3] = function () { return re; };\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () { execCalled = true; return null; };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (\n      !DELEGATES_TO_SYMBOL ||\n      !DELEGATES_TO_EXEC ||\n      (KEY === 'replace' && !(\n        REPLACE_SUPPORTS_NAMED_GROUPS &&\n        REPLACE_KEEPS_$0 &&\n        !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      )) ||\n      (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n    ) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return regexMethod.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return regexMethod.call(string, this); }\n      );\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  };\n\n  // `String.prototype.{ codePointAt, at }` methods implementation\n  var createMethod$4 = function (CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size\n        || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n          ? CONVERT_TO_STRING ? S.charAt(position) : first\n          : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$4(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$4(true)\n  };\n\n  var charAt = stringMultibyte.charAt;\n\n  // `AdvanceStringIndex` abstract operation\n  // https://tc39.github.io/ecma262/#sec-advancestringindex\n  var advanceStringIndex = function (S, index, unicode) {\n    return index + (unicode ? charAt(S, index).length : 1);\n  };\n\n  // `RegExpExec` abstract operation\n  // https://tc39.github.io/ecma262/#sec-regexpexec\n  var regexpExecAbstract = function (R, S) {\n    var exec = R.exec;\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  };\n\n  // @@match logic\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [\n      // `String.prototype.match` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.match\n      function match(regexp) {\n        var O = requireObjectCoercible(this);\n        var matcher = regexp == undefined ? undefined : regexp[MATCH];\n        return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n      },\n      // `RegExp.prototype[@@match]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n      function (regexp) {\n        var res = maybeCallNative(nativeMatch, regexp, this);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        if (!rx.global) return regexpExecAbstract(rx, S);\n\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n        var A = [];\n        var n = 0;\n        var result;\n        while ((result = regexpExecAbstract(rx, S)) !== null) {\n          var matchStr = String(result[0]);\n          A[n] = matchStr;\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n          n++;\n        }\n        return n === 0 ? null : A;\n      }\n    ];\n  });\n\n  // `Array.prototype.{ reduce, reduceRight }` methods implementation\n  var createMethod$5 = function (IS_RIGHT) {\n    return function (that, callbackfn, argumentsLength, memo) {\n      aFunction$1(callbackfn);\n      var O = toObject(that);\n      var self = indexedObject(O);\n      var length = toLength(O.length);\n      var index = IS_RIGHT ? length - 1 : 0;\n      var i = IS_RIGHT ? -1 : 1;\n      if (argumentsLength < 2) while (true) {\n        if (index in self) {\n          memo = self[index];\n          index += i;\n          break;\n        }\n        index += i;\n        if (IS_RIGHT ? index < 0 : length <= index) {\n          throw TypeError('Reduce of empty array with no initial value');\n        }\n      }\n      for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n        memo = callbackfn(memo, self[index], index, O);\n      }\n      return memo;\n    };\n  };\n\n  var arrayReduce = {\n    // `Array.prototype.reduce` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n    left: createMethod$5(false),\n    // `Array.prototype.reduceRight` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n    right: createMethod$5(true)\n  };\n\n  var $reduce = arrayReduce.left;\n\n\n\n  var STRICT_METHOD$2 = arrayMethodIsStrict('reduce');\n  var USES_TO_LENGTH$6 = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  _export({ target: 'Array', proto: true, forced: !STRICT_METHOD$2 || !USES_TO_LENGTH$6 }, {\n    reduce: function reduce(callbackfn /* , initialValue */) {\n      return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // #!zh: \n  var firstLevelAnimationOptions = [{\n    label: '',\n    value: //\n  }, {\n    label: '',\n    value: //\n  }, {\n    label: '',\n    value: /|/\n  }];\n  var animationOptions = [{\n    label: '',\n    value: '',\n    children: [{\n      label: '',\n      value: ''\n    }]\n  }, {\n    label: '',\n    value: 'Attention Seekers',\n    children: [{\n      label: '',\n      value: 'justRotate'\n    }, {\n      label: '',\n      value: 'bounce'\n    }, {\n      label: '',\n      value: 'flash'\n    }, {\n      label: '',\n      value: 'pulse'\n    }, {\n      label: '',\n      value: 'shake'\n    }, {\n      label: '',\n      value: 'swing'\n    }, {\n      label: '',\n      value: 'rubberBand'\n    }, {\n      label: '',\n      value: 'jello'\n    }, {\n      label: '',\n      value: 'tada'\n    }, {\n      label: '',\n      value: 'wobble'\n    }]\n  }, {\n    label: '',\n    value: 'Bouncing Entrances',\n    children: [{\n      label: '',\n      value: 'bounceIn'\n    }, {\n      label: '',\n      value: 'bounceInDown'\n    }, {\n      label: '',\n      value: 'bounceInLeft'\n    }, {\n      label: '',\n      value: 'bounceInRight'\n    }, {\n      label: '',\n      value: 'bounceInUp'\n    }]\n  }, {\n    label: '',\n    value: 'Bouncing Exits',\n    children: [{\n      label: '',\n      value: 'bounceOut'\n    }, {\n      label: '',\n      value: 'bounceOutDown'\n    }, {\n      label: '',\n      value: 'bounceOutLeft'\n    }, {\n      label: '',\n      value: 'bounceOutRight'\n    }, {\n      label: '',\n      value: 'bounceOutUp'\n    }]\n  }, {\n    label: '',\n    value: 'Fading Entrances',\n    children: [{\n      label: '',\n      value: 'fadeIn'\n    }, {\n      label: '',\n      value: 'fadeInDown'\n    }, {\n      label: '',\n      value: 'fadeInDownBig'\n    }, {\n      label: '',\n      value: 'fadeInLeft'\n    }, {\n      label: '',\n      value: 'fadeInLeftBig'\n    }, {\n      label: '',\n      value: 'fadeInRight'\n    }, {\n      label: '',\n      value: 'fadeInRightBig'\n    }, {\n      label: '',\n      value: 'fadeInUp'\n    }, {\n      label: '',\n      value: 'fadeInUpBig'\n    }]\n  }, {\n    label: '',\n    value: 'Fading Exits',\n    children: [{\n      label: '',\n      value: 'fadeOut'\n    }, {\n      label: '',\n      value: 'fadeOutDown'\n    }, {\n      label: '',\n      value: 'fadeOutDownBig'\n    }, {\n      label: '',\n      value: 'fadeOutLeft'\n    }, {\n      label: '',\n      value: 'fadeOutLeftBig'\n    }, {\n      label: '',\n      value: 'fadeOutRight'\n    }, {\n      label: '',\n      value: 'fadeOutRightBig'\n    }, {\n      label: '',\n      value: 'fadeOutUp'\n    }, {\n      label: '',\n      value: 'fadeOutUpBig'\n    }]\n  }, {\n    label: '',\n    value: 'Flippers',\n    children: [{\n      label: '',\n      value: 'flip'\n    }, {\n      label: '',\n      value: 'flipInX'\n    }, {\n      label: '',\n      value: 'flipInY'\n    }, {\n      label: '',\n      value: 'flipOutX'\n    }, {\n      label: '',\n      value: 'flipOutY'\n    }]\n  }, {\n    label: '',\n    value: 'Lightspeed',\n    children: [{\n      label: '',\n      value: 'lightSpeedIn'\n    }, {\n      label: '',\n      value: 'lightSpeedOut'\n    }]\n  }, {\n    label: '',\n    value: 'Rotating Entrances',\n    children: [{\n      label: '',\n      value: 'rotateIn'\n    }, {\n      label: '',\n      value: 'rotateInDownLeft'\n    }, {\n      label: '',\n      value: 'rotateInDownRight'\n    }, {\n      label: '',\n      value: 'rotateInUpLeft'\n    }, {\n      label: '',\n      value: 'rotateInUpRight'\n    }]\n  }, {\n    label: '',\n    value: 'Rotating Exits',\n    children: [{\n      label: '',\n      value: 'rotateOut'\n    }, {\n      label: '',\n      value: 'rotateOutDownLeft'\n    }, {\n      label: '',\n      value: 'rotateOutDownRight'\n    }, {\n      label: '',\n      value: 'rotateOutUpLeft'\n    }, {\n      label: '',\n      value: 'rotateOutUpRight'\n    }]\n  }, {\n    label: '',\n    value: 'Sliding Entrances',\n    children: [{\n      label: '',\n      value: 'slideInUp'\n    }, {\n      label: '',\n      value: 'slideInDown'\n    }, {\n      label: '',\n      value: 'slideInLeft'\n    }, {\n      label: '',\n      value: 'slideInRight'\n    }]\n  }, {\n    label: '',\n    value: 'Sliding Exits',\n    children: [{\n      label: '',\n      value: 'slideOutUp'\n    }, {\n      label: '',\n      value: 'slideOutDown'\n    }, {\n      label: '',\n      value: 'slideOutLeft'\n    }, {\n      label: '',\n      value: 'slideOutRight'\n    }]\n  }, {\n    label: '',\n    value: 'Zoom Entrances',\n    children: [{\n      label: '',\n      value: 'zoomIn'\n    }, {\n      label: '',\n      value: 'zoomInDown'\n    }, {\n      label: '',\n      value: 'zoomInLeft'\n    }, {\n      label: '',\n      value: 'zoomInRight'\n    }, {\n      label: '',\n      value: 'zoomInUp'\n    }]\n  }, {\n    label: '',\n    value: 'Zoom Exits',\n    children: [{\n      label: '',\n      value: 'zoomOut'\n    }, {\n      label: '',\n      value: 'zoomOutDown'\n    }, {\n      label: '',\n      value: 'zoomOutLeft'\n    }, {\n      label: '',\n      value: 'zoomOutRight'\n    }, {\n      label: '',\n      value: 'zoomOutUp'\n    }]\n  }, {\n    label: '',\n    value: 'Specials',\n    children: [{\n      label: '',\n      value: 'hinge'\n    }, {\n      label: '',\n      value: 'rollIn'\n    }, {\n      label: '',\n      value: 'rollOut'\n    }]\n  }];\n  /**\r\n   * @return {Object} { animationValue: animatonLabel }\r\n   */\n\n  var animationValue2Name = animationOptions.reduce(function (obj, curr) {\n    var items = curr.children;\n    items.forEach(function (item) {\n      obj[item.value] = item.label;\n    });\n    return obj;\n  }, {});\n\n  var _components$6;\n\n  function ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderAnimationEditor = {\n    components: (_components$6 = {}, defineProperty$1(_components$6, antDesignVue.InputNumber.name, antDesignVue.InputNumber), defineProperty$1(_components$6, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$1(_components$6, antDesignVue.List.name, antDesignVue.List), defineProperty$1(_components$6, antDesignVue.Form.name, antDesignVue.Form), defineProperty$1(_components$6, antDesignVue.Button.name, antDesignVue.Button), defineProperty$1(_components$6, antDesignVue.Popover.name, antDesignVue.Popover), defineProperty$1(_components$6, antDesignVue.Slider.name, antDesignVue.Slider), defineProperty$1(_components$6, antDesignVue.Switch.name, antDesignVue.Switch), defineProperty$1(_components$6, antDesignVue.Collapse.name, antDesignVue.Collapse), defineProperty$1(_components$6, antDesignVue.Collapse.Panel.name, antDesignVue.Collapse.Pane), defineProperty$1(_components$6, antDesignVue.Icon.name, antDesignVue.Icon), defineProperty$1(_components$6, antDesignVue.Drawer.name, antDesignVue.Drawer), defineProperty$1(_components$6, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), defineProperty$1(_components$6, antDesignVue.Button.Group.name, antDesignVue.Button.Group), defineProperty$1(_components$6, antDesignVue.Form.Item.name, antDesignVue.Form.Item), _components$6),\n    computed: _objectSpread$3(_objectSpread$3({}, Vuex.mapState(\"editor\", [\"editingElement\"])), {}, {\n      animationQueue: function animationQueue() {\n        return this.editingElement && this.editingElement.animations || [];\n      }\n    }),\n    data: function data() {\n      return {\n        // animationQueue: [],\n        activeCollapsePanel: 0,\n        activePreviewAnimation: \"\",\n        drawerVisible: false\n      };\n    },\n    methods: {\n      addAnimation: function addAnimation() {\n        // TODO move this to vuex\n        this.animationQueue.push({\n          type: \"\",\n          duration: 1,\n          delay: 0,\n          interationCount: 1,\n          infinite: false\n        });\n        this.activeCollapsePanel = this.animationQueue.length - 1;\n      },\n      deleteAnimate: function deleteAnimate(index) {\n        // TODO move this to vuex\n        this.animationQueue.splice(index, 1);\n      },\n      runAnimate: function runAnimate() {\n        // front-end/h5/src/components/core/editor/index.js created()\n        EventBus.$emit(\"RUN_ANIMATIONS\");\n      },\n      renderSecondAnimationTabs: function renderSecondAnimationTabs(animations) {\n        var _this = this;\n\n        var h = this.$createElement;\n        return h(\"a-tabs\", {\n          \"attrs\": {\n            \"defaultActiveKey\": animations[0].value,\n            \"tabBarStyle\": {\n              marginLeft: \"-16px\"\n            },\n            \"size\": \"small\",\n            \"tabBarGutter\": 0,\n            \"tabPosition\": \"left\"\n          },\n          \"on\": {\n            \"change\": function change(tab) {}\n          },\n          \"style\": \"width:100%;\"\n        }, [animations.map(function (group) {\n          return h(\"a-tab-pane\", {\n            \"attrs\": {\n              \"tab\": group.label || group.value\n            },\n            \"key\": group.value\n          }, [h(\"a-list\", {\n            \"attrs\": {\n              \"grid\": {\n                gutter: 12,\n                column: 2\n              },\n              \"dataSource\": group.children,\n              \"renderItem\": function renderItem(item, index) {\n                return (// [key point] onMouseover vs onMouseenter\n                  // https://stackoverflow.com/questions/7286532/jquery-mouseenter-vs-mouseover\n                  // https://www.quirksmode.org/js/events_mouse.html#mouseenter\n                  h(\"a-list-item\", [h(\"div\", {\n                    \"on\": {\n                      \"click\": function click(e) {\n                        // TODO move this to vuex mutation\n                        _this.editingElement.animations[_this.activeCollapsePanel].type = item.value;\n                      },\n                      \"mouseenter\": function mouseenter(e) {\n                        _this.activePreviewAnimation = item.value;\n                      },\n                      \"mouseleave\": function mouseleave() {// [key point] why not set activePreviewAnimation='' after mouseleave, see more here: https://stackoverflow.com/questions/32279782/mouseenter-called-multiple-times\n                        // this.activePreviewAnimation = ''\n                      }\n                    },\n                    \"class\": [_this.activePreviewAnimation === item.value && item.value + \" animated\", \"shortcut-button\"]\n                  }, [item.label])])\n                );\n              }\n            }\n          })]);\n        })]);\n      },\n      renderAvaiableAnimations: function renderAvaiableAnimations() {\n        var _this2 = this;\n\n        var h = this.$createElement;\n        return h(\"a-tabs\", {\n          \"class\": \"avaiable-animations-tabs\",\n          \"attrs\": {\n            \"defaultActiveKey\": firstLevelAnimationOptions[0].label,\n            \"size\": \"small\",\n            \"tabBarGutter\": 0\n          },\n          \"on\": {\n            \"change\": function change(tab) {}\n          },\n          \"style\": \"width:100%;\"\n        }, [firstLevelAnimationOptions.map(function (firstGroup) {\n          return h(\"a-tab-pane\", {\n            \"attrs\": {\n              \"tab\": firstGroup.label\n            },\n            \"key\": firstGroup.label\n          }, [_this2.renderSecondAnimationTabs(animationOptions.filter(function (group) {\n            return !!group.label.match(firstGroup.value);\n          }))]);\n        })]);\n      },\n      renderAnimationOptions: function renderAnimationOptions(animationOption) {\n        var _this3 = this;\n\n        var h = this.$createElement;\n        return h(\"a-form\", {\n          \"attrs\": {\n            \"layout\": \"horizontal\"\n          }\n        }, [h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t(\"editor.editPanel.animation.type\"),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          }\n        }, [h(\"a-button\", {\n          \"attrs\": {\n            \"type\": \"link\",\n            \"size\": \"small\",\n            \"icon\": \"ordered-list\"\n          },\n          \"on\": {\n            \"click\": function click() {\n              _this3.drawerVisible = true;\n            }\n          }\n        }, [this.$t(\"editor.editPanel.animation.list\")])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t(\"editor.editPanel.animation.duration\"),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: \"inline-block\",\n            width: \"calc(50% - 12px)\"\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.duration\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.duration = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: \"inline-block\",\n            width: \"calc(50% - 12px)\",\n            marginLeft: \"4px\"\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u79D2(s)\");\n            },\n            \"value\": animationOption.duration\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.duration = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t(\"editor.editPanel.animation.delay\"),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: \"inline-block\",\n            width: \"calc(50% - 12px)\"\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.delay\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.delay = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: \"inline-block\",\n            width: \"calc(50% - 12px)\",\n            marginLeft: \"4px\"\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u79D2(s)\");\n            },\n            \"value\": animationOption.delay\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.delay = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t(\"editor.editPanel.animation.iteration\"),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: \"inline-block\",\n            width: \"calc(50% - 12px)\"\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.interationCount\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.interationCount = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: \"inline-block\",\n            width: \"calc(50% - 12px)\",\n            marginLeft: \"4px\"\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u6B21(times)\");\n            },\n            \"value\": animationOption.interationCount\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.interationCount = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t(\"editor.editPanel.animation.inifinite\"),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-switch\", {\n          \"attrs\": {\n            \"value\": animationOption.infinite\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.infinite = value;\n            }\n          }\n        })])]);\n      }\n    },\n    render: function render(h) {\n      var _this4 = this;\n\n      var ele = this.editingElement;\n      if (!ele) return h(\"span\", [this.$t(\"editor.editPanel.common.empty\")]);\n      return h(\"div\", {\n        \"class\": \"main-animate widget\",\n        \"attrs\": {\n          \"id\": \"animation-right-panel\"\n        }\n      }, [h(\"a-button-group\", [h(\"a-button\", {\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"on\": {\n          \"click\": this.addAnimation\n        }\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      }), this.$t(\"editor.editPanel.animation.add\")]), h(\"a-button\", {\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"on\": {\n          \"click\": this.runAnimate\n        }\n      }, [this.$t(\"editor.editPanel.animation.run\"), h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"right-circle\"\n        }\n      })])]), // Qthis.animationQueue.length && ?\n      // A length === 00 UI \n      !!this.animationQueue.length && h(\"a-collapse\", {\n        \"attrs\": {\n          \"accordion\": true,\n          \"activeKey\": \"\" + this.activeCollapsePanel\n        },\n        \"class\": \"collapse-wrapper\",\n        \"on\": {\n          \"change\": function change(key) {\n            // key  undefined\n            _this4.activeCollapsePanel = typeof key !== \"undefined\" ? +key : -1;\n          }\n        }\n      }, [this.animationQueue.map(function (addedAnimation, index) {\n        return h(\"a-collapse-panel\", {\n          \"key\": \"\".concat(index)\n        }, [h(\"template\", {\n          \"slot\": \"header\"\n        }, [h(\"span\", [_this4.$t(\"editor.editPanel.animation.title\", {\n          index: index + 1\n        })]), h(\"a-tag\", {\n          \"attrs\": {\n            \"color\": \"orange\"\n          }\n        }, [animationValue2Name[addedAnimation.type] || addedAnimation.type]), h(\"a-icon\", {\n          \"attrs\": {\n            \"type\": \"delete\",\n            \"title\": \"\"\n          },\n          \"on\": {\n            \"click\": function click() {\n              return _this4.deleteAnimate(index);\n            }\n          }\n        })]), _this4.renderAnimationOptions(addedAnimation)]);\n      })]), h(\"a-drawer\", {\n        \"attrs\": {\n          \"title\": \"\",\n          \"placement\": \"left\",\n          \"closable\": true,\n          \"visible\": this.drawerVisible,\n          \"width\": 400,\n          \"wrapStyle\": {\n            margin: \"-16px\"\n          }\n        },\n        \"on\": {\n          \"close\": function close() {\n            _this4.drawerVisible = false;\n          }\n        }\n      }, [h(\"div\", {\n        \"style\": \"width: 100%;\"\n      }, [this.renderAvaiableAnimations()])])]);\n    }\n  };\n\n  function ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderActionEditor = {\n    data: function data() {\n      return {};\n    },\n    computed: _objectSpread$4({}, Vuex.mapState('editor', ['editingElement'])),\n    methods: _objectSpread$4({}, Vuex.mapActions('editor', ['setEditingElement'])),\n    created: function created() {},\n    render: function render(h) {\n      var ele = this.editingElement;\n      if (!ele) return h(\"span\", [this.$t('editor.editPanel.common.empty')]);\n      return h(\"div\", [\"TODO\"]);\n    }\n  };\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype;\n\n  // Array.prototype[@@unscopables]\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  }\n\n  // add a key to Array.prototype[@@unscopables]\n  var addToUnscopables = function (key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var $find = arrayIteration.find;\n\n\n\n  var FIND = 'find';\n  var SKIPS_HOLES = true;\n\n  var USES_TO_LENGTH$7 = arrayMethodUsesToLength(FIND);\n\n  // Shouldn't skip holes\n  if (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  _export({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH$7 }, {\n    find: function find(callbackfn /* , that = undefined */) {\n      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables(FIND);\n\n  var freezing = !fails(function () {\n    return Object.isExtensible(Object.preventExtensions({}));\n  });\n\n  var internalMetadata = createCommonjsModule(function (module) {\n  var defineProperty = objectDefineProperty.f;\n\n\n\n  var METADATA = uid('meta');\n  var id = 0;\n\n  var isExtensible = Object.isExtensible || function () {\n    return true;\n  };\n\n  var setMetadata = function (it) {\n    defineProperty(it, METADATA, { value: {\n      objectID: 'O' + ++id, // object ID\n      weakData: {}          // weak collections IDs\n    } });\n  };\n\n  var fastKey = function (it, create) {\n    // return a primitive with prefix\n    if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return 'F';\n      // not necessary to add metadata\n      if (!create) return 'E';\n      // add missing metadata\n      setMetadata(it);\n    // return object ID\n    } return it[METADATA].objectID;\n  };\n\n  var getWeakData = function (it, create) {\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return true;\n      // not necessary to add metadata\n      if (!create) return false;\n      // add missing metadata\n      setMetadata(it);\n    // return the store of weak collections IDs\n    } return it[METADATA].weakData;\n  };\n\n  // add metadata on freeze-family methods calling\n  var onFreeze = function (it) {\n    if (freezing && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n    return it;\n  };\n\n  var meta = module.exports = {\n    REQUIRED: false,\n    fastKey: fastKey,\n    getWeakData: getWeakData,\n    onFreeze: onFreeze\n  };\n\n  hiddenKeys[METADATA] = true;\n  });\n\n  var onFreeze = internalMetadata.onFreeze;\n\n  var nativeFreeze = Object.freeze;\n  var FAILS_ON_PRIMITIVES$2 = fails(function () { nativeFreeze(1); });\n\n  // `Object.freeze` method\n  // https://tc39.github.io/ecma262/#sec-object.freeze\n  _export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$2, sham: !freezing }, {\n    freeze: function freeze(it) {\n      return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n    }\n  });\n\n  /**\r\n    * \r\n    * h5_swipper H5\r\n    * h5_long_page H5\r\n   */\n  var PAGE_MODE = {\n    SWIPPER_PAGE: 'h5_swipper',\n    LONG_PAGE: 'h5_long_page'\n  };\n  var PAGE_MODE_LABEL = {\n    SWIPPER_PAGE: 'H5',\n    LONG_PAGE: ''\n  };\n\n  var _components$7;\n\n  function ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var script = {\n    components: (_components$7 = {}, defineProperty$1(_components$7, antDesignVue.Form.name, antDesignVue.Form), defineProperty$1(_components$7, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$1(_components$7, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$1(_components$7, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), _components$7),\n    data: function data() {\n      return {\n        formLayout: 'vertical',\n        PAGE_MODE: Object.freeze(PAGE_MODE),\n        PAGE_MODE_LABEL: Object.freeze(PAGE_MODE_LABEL)\n      };\n    },\n    computed: _objectSpread$5(_objectSpread$5({}, Vuex.mapState('editor', ['work'])), {}, {\n      // \n      // src/constants/work -> PAGE_MODE\n      // https://vuex.vuejs.org/zh/guide/forms.html#%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E7%9A%84%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7\n      pageMode: {\n        get: function get() {\n          return this.work.page_mode || PAGE_MODE.SWIPPER_PAGE;\n        },\n        set: function set(pageMode) {\n          this.updateWork({\n            page_mode: pageMode\n          });\n        }\n      }\n    }),\n    methods: _objectSpread$5({}, Vuex.mapActions('editor', ['updateWork']))\n  };\n\n  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n      if (typeof shadowMode !== 'boolean') {\r\n          createInjectorSSR = createInjector;\r\n          createInjector = shadowMode;\r\n          shadowMode = false;\r\n      }\r\n      // Vue.extend constructor export interop.\r\n      const options = typeof script === 'function' ? script.options : script;\r\n      // render functions\r\n      if (template && template.render) {\r\n          options.render = template.render;\r\n          options.staticRenderFns = template.staticRenderFns;\r\n          options._compiled = true;\r\n          // functional template\r\n          if (isFunctionalTemplate) {\r\n              options.functional = true;\r\n          }\r\n      }\r\n      // scopedId\r\n      if (scopeId) {\r\n          options._scopeId = scopeId;\r\n      }\r\n      let hook;\r\n      if (moduleIdentifier) {\r\n          // server build\r\n          hook = function (context) {\r\n              // 2.3 injection\r\n              context =\r\n                  context || // cached call\r\n                      (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                      (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n              // 2.2 with runInNewContext: true\r\n              if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                  context = __VUE_SSR_CONTEXT__;\r\n              }\r\n              // inject component styles\r\n              if (style) {\r\n                  style.call(this, createInjectorSSR(context));\r\n              }\r\n              // register component module identifier for async chunk inference\r\n              if (context && context._registeredComponents) {\r\n                  context._registeredComponents.add(moduleIdentifier);\r\n              }\r\n          };\r\n          // used by ssr in case component is cached and beforeCreate\r\n          // never gets called\r\n          options._ssrRegister = hook;\r\n      }\r\n      else if (style) {\r\n          hook = shadowMode\r\n              ? function (context) {\r\n                  style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n              }\r\n              : function (context) {\r\n                  style.call(this, createInjector(context));\r\n              };\r\n      }\r\n      if (hook) {\r\n          if (options.functional) {\r\n              // register for functional component in vue file\r\n              const originalRender = options.render;\r\n              options.render = function renderWithStyleInjection(h, context) {\r\n                  hook.call(context);\r\n                  return originalRender(h, context);\r\n              };\r\n          }\r\n          else {\r\n              // inject component registration as beforeCreate hook\r\n              const existing = options.beforeCreate;\r\n              options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n          }\r\n      }\r\n      return script;\r\n  }\n\n  /* script */\n  const __vue_script__ = script;\n\n  /* template */\n  var __vue_render__ = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\n      \"a-form\",\n      { attrs: { layout: _vm.formLayout } },\n      [\n        _c(\n          \"a-form-item\",\n          { attrs: { label: \"H5\" } },\n          [\n            _c(\n              \"a-radio-group\",\n              {\n                attrs: { size: \"small\" },\n                model: {\n                  value: _vm.pageMode,\n                  callback: function($$v) {\n                    _vm.pageMode = $$v;\n                  },\n                  expression: \"pageMode\"\n                }\n              },\n              _vm._l(_vm.PAGE_MODE, function(value, key) {\n                return _c(\n                  \"a-radio-button\",\n                  { key: key, attrs: { value: value } },\n                  [_vm._v(_vm._s(_vm.PAGE_MODE_LABEL[key]))]\n                )\n              }),\n              1\n            )\n          ],\n          1\n        )\n      ],\n      1\n    )\n  };\n  var __vue_staticRenderFns__ = [];\n  __vue_render__._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__ = undefined;\n    /* scoped */\n    const __vue_scope_id__ = undefined;\n    /* module identifier */\n    const __vue_module_identifier__ = undefined;\n    /* functional template */\n    const __vue_is_functional_template__ = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__ = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n      __vue_inject_styles__,\n      __vue_script__,\n      __vue_scope_id__,\n      __vue_is_functional_template__,\n      __vue_module_identifier__,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  function ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderBackgroundEditor = {\n    computed: _objectSpread$6({}, Vuex.mapState('editor', ['editingPage'])),\n    methods: _objectSpread$6({}, Vuex.mapActions('editor', ['setEditingElement'])),\n    render: function render() {\n      var h = arguments[0];\n      var bgEle = this.editingPage.elements.find(function (e) {\n        return e.name === 'lbp-background';\n      });\n      return h(\"div\", [h(__vue_component__), h(RenderPropsEditor, {\n        \"attrs\": {\n          \"layout\": \"vertical\",\n          \"realEditingElement\": bgEle\n        }\n      })]);\n    }\n  };\n\n  var _components$8;\n  var EditorRightPanel = {\n    components: (_components$8 = {}, defineProperty$1(_components$8, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$1(_components$8, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$1(_components$8, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), _components$8),\n    name: \"ElementPropsEditor\",\n    props: {\n      width: {\n        type: Number,\n        default: 375\n      }\n    },\n    data: function data() {\n      return {\n        activeTabKey: \"\"\n      };\n    },\n    methods: {\n      /**\r\n       * #!zh:  tab  active tab\r\n       * #!en: set background(bg) tab as active tab\r\n       */\n      setActiveTab: function setActiveTab(activeTabKey) {\n        this.activeTabKey = activeTabKey;\n      }\n    },\n    render: function render(h) {\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": this.width,\n          \"data-set-width\": this.width,\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          background: \"#fff\",\n          padding: \"0 12px 0 12px\"\n        }\n      }, [h(\"a-tabs\", {\n        \"style\": \"height: 100%;\",\n        \"attrs\": {\n          \"tabBarGutter\": 10,\n          \"defaultActiveKey\": this.activeTabKey,\n          \"activeKey\": this.activeTabKey\n        },\n        \"on\": {\n          \"change\": this.setActiveTab\n        }\n      }, [h(\"a-tab-pane\", {\n        \"key\": \"\"\n      }, [h(\"span\", {\n        \"slot\": \"tab\"\n      }, [this.$t(\"editor.editPanel.tab.prop\")]), h(RenderPropsEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t(\"editor.editPanel.tab.animation\")\n        },\n        \"key\": \"\"\n      }, [h(RenderAnimationEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t(\"editor.editPanel.tab.action\")\n        },\n        \"key\": \"\"\n      }, [this.activeTabKey === \"\" && h(RenderActionEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t(\"editor.editPanel.tab.script\")\n        },\n        \"key\": \"\"\n      }, [h(RenderScriptEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t(\"editor.editPanel.tab.page\")\n        },\n        \"key\": \"\"\n      }, [this.activeTabKey === \"\" && h(RenderBackgroundEditor)])])]);\n    },\n    created: function created() {\n      var _this = this;\n\n      EventBus.$on(\"setEditingElement\", function (_ref) {\n        var name = _ref.name;\n\n        _this.setActiveTab(name === \"lbp-background\" ? \"\" : \"\");\n      });\n    }\n  };\n\n  var nativeJoin = [].join;\n\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD$3 = arrayMethodIsStrict('join', ',');\n\n  // `Array.prototype.join` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.join\n  _export({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$3 }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  });\n\n  var MATCH = wellKnownSymbol('match');\n\n  // `IsRegExp` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isregexp\n  var isRegexp = function (it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var SPECIES$4 = wellKnownSymbol('species');\n\n  // `SpeciesConstructor` abstract operation\n  // https://tc39.github.io/ecma262/#sec-speciesconstructor\n  var speciesConstructor = function (O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$4]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var arrayPush = [].push;\n  var min$3 = Math.min;\n  var MAX_UINT32 = 0xFFFFFFFF;\n\n  // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\n  var SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n  // @@split logic\n  fixRegexpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n    var internalSplit;\n    if (\n      'abbc'.split(/(b)*/)[1] == 'c' ||\n      'test'.split(/(?:)/, -1).length != 4 ||\n      'ab'.split(/(?:ab)*/).length != 2 ||\n      '.'.split(/(.?)(.?)/).length != 4 ||\n      '.'.split(/()()/).length > 1 ||\n      ''.split(/.?/).length\n    ) {\n      // based on es5-shim implementation, need to rework it\n      internalSplit = function (separator, limit) {\n        var string = String(requireObjectCoercible(this));\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (separator === undefined) return [string];\n        // If `separator` is not a regex, use native split\n        if (!isRegexp(separator)) {\n          return nativeSplit.call(string, separator, lim);\n        }\n        var output = [];\n        var flags = (separator.ignoreCase ? 'i' : '') +\n                    (separator.multiline ? 'm' : '') +\n                    (separator.unicode ? 'u' : '') +\n                    (separator.sticky ? 'y' : '');\n        var lastLastIndex = 0;\n        // Make `global` and avoid `lastIndex` issues by working with a copy\n        var separatorCopy = new RegExp(separator.source, flags + 'g');\n        var match, lastIndex, lastLength;\n        while (match = regexpExec.call(separatorCopy, string)) {\n          lastIndex = separatorCopy.lastIndex;\n          if (lastIndex > lastLastIndex) {\n            output.push(string.slice(lastLastIndex, match.index));\n            if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n            lastLength = match[0].length;\n            lastLastIndex = lastIndex;\n            if (output.length >= lim) break;\n          }\n          if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n        }\n        if (lastLastIndex === string.length) {\n          if (lastLength || !separatorCopy.test('')) output.push('');\n        } else output.push(string.slice(lastLastIndex));\n        return output.length > lim ? output.slice(0, lim) : output;\n      };\n    // Chakra, V8\n    } else if ('0'.split(undefined, 0).length) {\n      internalSplit = function (separator, limit) {\n        return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n      };\n    } else internalSplit = nativeSplit;\n\n    return [\n      // `String.prototype.split` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.split\n      function split(separator, limit) {\n        var O = requireObjectCoercible(this);\n        var splitter = separator == undefined ? undefined : separator[SPLIT];\n        return splitter !== undefined\n          ? splitter.call(separator, O, limit)\n          : internalSplit.call(String(O), separator, limit);\n      },\n      // `RegExp.prototype[@@split]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n      //\n      // NOTE: This cannot be properly polyfilled in engines that don't support\n      // the 'y' flag.\n      function (regexp, limit) {\n        var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n        var C = speciesConstructor(rx, RegExp);\n\n        var unicodeMatching = rx.unicode;\n        var flags = (rx.ignoreCase ? 'i' : '') +\n                    (rx.multiline ? 'm' : '') +\n                    (rx.unicode ? 'u' : '') +\n                    (SUPPORTS_Y ? 'y' : 'g');\n\n        // ^(? + rx + ) is needed, in combination with some S slicing, to\n        // simulate the 'y' flag.\n        var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n        if (lim === 0) return [];\n        if (S.length === 0) return regexpExecAbstract(splitter, S) === null ? [S] : [];\n        var p = 0;\n        var q = 0;\n        var A = [];\n        while (q < S.length) {\n          splitter.lastIndex = SUPPORTS_Y ? q : 0;\n          var z = regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));\n          var e;\n          if (\n            z === null ||\n            (e = min$3(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n          ) {\n            q = advanceStringIndex(S, q, unicodeMatching);\n          } else {\n            A.push(S.slice(p, q));\n            if (A.length === lim) return A;\n            for (var i = 1; i <= z.length - 1; i++) {\n              A.push(z[i]);\n              if (A.length === lim) return A;\n            }\n            q = p = e;\n          }\n        }\n        A.push(S.slice(p));\n        return A;\n      }\n    ];\n  }, !SUPPORTS_Y);\n\n  var max$3 = Math.max;\n  var min$4 = Math.min;\n  var floor$1 = Math.floor;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n  var maybeToString = function (it) {\n    return it === undefined ? it : String(it);\n  };\n\n  // @@replace logic\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n    return [\n      // `String.prototype.replace` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n      function replace(searchValue, replaceValue) {\n        var O = requireObjectCoercible(this);\n        var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n        return replacer !== undefined\n          ? replacer.call(searchValue, O, replaceValue)\n          : nativeReplace.call(String(O), searchValue, replaceValue);\n      },\n      // `RegExp.prototype[@@replace]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n      function (regexp, replaceValue) {\n        if (\n          (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n          (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n        ) {\n          var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n          if (res.done) return res.value;\n        }\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        var functionalReplace = typeof replaceValue === 'function';\n        if (!functionalReplace) replaceValue = String(replaceValue);\n\n        var global = rx.global;\n        if (global) {\n          var fullUnicode = rx.unicode;\n          rx.lastIndex = 0;\n        }\n        var results = [];\n        while (true) {\n          var result = regexpExecAbstract(rx, S);\n          if (result === null) break;\n\n          results.push(result);\n          if (!global) break;\n\n          var matchStr = String(result[0]);\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        }\n\n        var accumulatedResult = '';\n        var nextSourcePosition = 0;\n        for (var i = 0; i < results.length; i++) {\n          result = results[i];\n\n          var matched = String(result[0]);\n          var position = max$3(min$4(toInteger(result.index), S.length), 0);\n          var captures = [];\n          // NOTE: This is equivalent to\n          //   captures = result.slice(1).map(maybeToString)\n          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n          // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n          for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n          var namedCaptures = result.groups;\n          if (functionalReplace) {\n            var replacerArgs = [matched].concat(captures, position, S);\n            if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n            var replacement = String(replaceValue.apply(undefined, replacerArgs));\n          } else {\n            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n          }\n          if (position >= nextSourcePosition) {\n            accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n            nextSourcePosition = position + matched.length;\n          }\n        }\n        return accumulatedResult + S.slice(nextSourcePosition);\n      }\n    ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n    function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n      var tailPos = position + matched.length;\n      var m = captures.length;\n      var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n      if (namedCaptures !== undefined) {\n        namedCaptures = toObject(namedCaptures);\n        symbols = SUBSTITUTION_SYMBOLS;\n      }\n      return nativeReplace.call(replacement, symbols, function (match, ch) {\n        var capture;\n        switch (ch.charAt(0)) {\n          case '$': return '$';\n          case '&': return matched;\n          case '`': return str.slice(0, position);\n          case \"'\": return str.slice(tailPos);\n          case '<':\n            capture = namedCaptures[ch.slice(1, -1)];\n            break;\n          default: // \\d\\d?\n            var n = +ch;\n            if (n === 0) return match;\n            if (n > m) {\n              var f = floor$1(n / 10);\n              if (f === 0) return match;\n              if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n              return match;\n            }\n            capture = captures[n - 1];\n        }\n        return capture === undefined ? '' : capture;\n      });\n    }\n  });\n\n  function getComputedCSSText(style) {\n    var cssText = '';\n\n    for (var attr in style) {\n      // m <?> matched\n      // #!en: hump to line\n      // #!zh: \n      cssText += \"\".concat(attr.replace(/[A-Z]+/g, function (m) {\n        return \"-\".concat(m.toLowerCase());\n      }), \":\").concat(style[attr], \";\");\n    }\n\n    return cssText;\n  }\n\n  var animationMixin = {\n    methods: {\n      runAnimations: function runAnimations() {\n        var animationQueue = this.animations || this.element.animations || [];\n        var len = animationQueue.length;\n        if (len === 0) return;\n        var that = this;\n        var parentNode = this.$el;\n        var animIdx = 0;\n        var oldStyle = that.element.getStyle({\n          position: 'absolute'\n        });\n        runAnimation();\n\n        function runAnimation() {\n          if (animIdx < len) {\n            var animation = animationQueue[animIdx];\n            var animationStyle = {\n              animationName: animation.type,\n              animationDuration: \"\".concat(animation.duration, \"s\"),\n              animationIterationCount: animation.infinite ? 'infinite' : animation.interationCount,\n              animationDelay: \"\".concat(animation.delay, \"s\"),\n              animationFillMode: 'both'\n            };\n            parentNode.style.cssText = getComputedCSSText(animationStyle) + getComputedCSSText(oldStyle);\n            animIdx++;\n          } else {\n            // reset to the initial state after the animation ended\n            parentNode.style.cssText = getComputedCSSText(oldStyle);\n          }\n        }\n\n        parentNode.addEventListener('animationend', runAnimation, false);\n      }\n    },\n    created: function created() {\n      var that = this;\n      EventBus && EventBus.$on('RUN_ANIMATIONS', function () {\n        that.runAnimations(); // if (that.active) {\n        //   that.runAnimations()\n        // }\n      });\n    }\n  };\n\n  function ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$8(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  /**\r\n   * #!zh:   \r\n   * #!en: top(north)bottom(south)left(west)right(east)\r\n   */\n\n  var directionKey = {\n    t: 'n',\n    b: 's',\n    l: 'w',\n    r: 'e'\n  }; // #!zh: \n\n  var points = ['lt', 'rt', 'lb', 'rb', 'l', 'r', 't', 'b'];\n  var Shape = {\n    mixins: [animationMixin],\n    props: ['defaultPosition', 'active', 'handleMousedownProp', 'handleElementMoveProp', 'handlePointMoveProp', 'handleElementMouseUpProp', 'handlePointMouseUpProp', 'element'],\n    computed: {\n      position: function position() {\n        return _objectSpread$7({}, this.defaultPosition);\n      }\n    },\n    methods: {\n      /**\r\n       *  topleft\r\n       */\n      getPointStyle: function getPointStyle(point) {\n        var isWrapElement = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        var pos = this.position;\n        var top = pos.top; // !#zh 4 border \n\n        var left = pos.left;\n        var height = pos.height;\n        var width = pos.width;\n        var hasT = /t/.test(point);\n        var hasB = /b/.test(point);\n        var hasL = /l/.test(point);\n        var hasR = /r/.test(point);\n        var newLeft = 0;\n        var newTop = 0;\n\n        if (point.length === 2) {\n          newLeft = hasL ? 0 : width;\n          newTop = hasT ? 0 : height;\n        } else {\n          // !#zh \n          if (hasT || hasB) {\n            newLeft = width / 2;\n            newTop = hasT ? 0 : height;\n          } // !#zh \n\n\n          if (hasL || hasR) {\n            newLeft = hasL ? 0 : width;\n            newTop = height / 2;\n          }\n        }\n\n        var style = {\n          marginLeft: hasL || hasR ? '-3px' : 0,\n          marginTop: hasT || hasB ? '-3px' : 0,\n          left: \"\".concat(newLeft + (isWrapElement ? 0 : left), \"px\"),\n          top: \"\".concat(newTop + (isWrapElement ? 0 : top), \"px\"),\n          cursor: point.split('').reverse().map(function (m) {\n            return directionKey[m];\n          }).join('') + '-resize'\n        };\n        return style;\n      },\n\n      /**\r\n       * !#zh \r\n       */\n      handleWrapperClick: function handleWrapperClick(e) {\n        e.stopPropagation();\n        e.preventDefault();\n      },\n      mousedownForMark: function mousedownForMark(point, downEvent) {\n        var _this = this;\n\n        downEvent.stopPropagation();\n        downEvent.preventDefault(); // Let's stop this event.\n\n        var pos = _objectSpread$7({}, this.position);\n\n        var height = pos.height;\n        var width = pos.width;\n        var top = pos.top;\n        var left = pos.left;\n        var startX = downEvent.clientX;\n        var startY = downEvent.clientY;\n\n        var move = function move(moveEvent) {\n          var currX = moveEvent.clientX;\n          var currY = moveEvent.clientY;\n          var disY = currY - startY;\n          var disX = currX - startX;\n          var hasT = /t/.test(point);\n          var hasB = /b/.test(point);\n          var hasL = /l/.test(point);\n          var hasR = /r/.test(point);\n          var newHeight = +height + (hasT ? -disY : hasB ? disY : 0);\n          var newWidth = +width + (hasL ? -disX : hasR ? disX : 0);\n          pos.height = newHeight > 0 ? newHeight : 0;\n          pos.width = newWidth > 0 ? newWidth : 0;\n          pos.left = +left + (hasL ? disX : 0);\n          pos.top = +top + (hasT ? disY : 0);\n\n          _this.handlePointMoveProp(pos);\n        };\n\n        var up = function up() {\n          _this.handlePointMouseUpProp();\n\n          document.removeEventListener('mousemove', move);\n          document.removeEventListener('mouseup', up);\n        };\n\n        document.addEventListener('mousemove', move);\n        document.addEventListener('mouseup', up);\n      },\n\n      /**\r\n       * !#zh   \r\n       *\r\n       * @param {mouseEvent} e\r\n       */\n      mousedownForElement: function mousedownForElement(e) {\n        var _this2 = this;\n\n        var pos = _objectSpread$7({}, this.position);\n\n        var startY = e.clientY;\n        var startX = e.clientX;\n        var startTop = pos.top;\n        var startLeft = pos.left;\n\n        var move = function move(moveEvent) {\n          // !#zh OK\n          moveEvent.stopPropagation();\n          moveEvent.preventDefault();\n          var currX = moveEvent.clientX;\n          var currY = moveEvent.clientY;\n          pos.top = currY - startY + startTop;\n          pos.left = currX - startX + startLeft;\n\n          _this2.handleElementMoveProp(pos);\n        };\n\n        var up = function up(moveEvent) {\n          _this2.handleElementMouseUpProp();\n\n          document.removeEventListener('mousemove', move, true);\n          document.removeEventListener('mouseup', up, true);\n        };\n\n        document.addEventListener('mousemove', move, true);\n        document.addEventListener('mouseup', up, true);\n      },\n      handleMousedown: function handleMousedown(e) {\n        if (this.handleMousedownProp) {\n          this.handleMousedownProp();\n          this.mousedownForElement(e, this.element);\n        }\n      },\n\n      /**\r\n       * !#en: delete element with keyboard\r\n       * !#zh: \r\n       *\r\n       * TODO:   \r\n       */\n      handleDeleteByKeyboard: function handleDeleteByKeyboard(event) {\n        var key = event.keyCode || event.charCode;\n\n        if (key === 8 || key === 46) {\n          this.$emit('delete');\n        }\n      },\n\n      /**\r\n       * detect key pressed on keyboard\r\n       *  \r\n       *\r\n       * \r\n       * - Backspace/Delete \r\n       */\n      handleKeyPressed: function handleKeyPressed(e) {\n        this.handleDeleteByKeyboard(e);\n      }\n    },\n    render: function render(h) {\n      var _this3 = this;\n\n      return h(\"div\", {\n        \"attrs\": {\n          \"tabIndex\": \"0\"\n        },\n        \"on\": {\n          \"keydown\": this.handleKeyPressed,\n          \"click\": this.handleWrapperClick,\n          \"mousedown\": this.handleMousedown\n        },\n        \"class\": {\n          'shape__wrapper-active': this.active\n        }\n      }, [this.active && points.map(function (point) {\n        var pointStyle = _this3.getPointStyle(point);\n\n        return h(\"div\", {\n          \"key\": point,\n          \"attrs\": {\n            \"data-point\": point\n          },\n          \"style\": pointStyle,\n          \"class\": \"shape__scale-point\",\n          \"on\": {\n            \"mousedown\": _this3.mousedownForMark.bind(_this3, point)\n          }\n        });\n      }), this.$slots.default]);\n    }\n  };\n\n  var $includes = arrayIncludes.includes;\n\n\n\n  var USES_TO_LENGTH$8 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  _export({ target: 'Array', proto: true, forced: !USES_TO_LENGTH$8 }, {\n    includes: function includes(el /* , fromIndex = 0 */) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables('includes');\n\n  var SPECIES$5 = wellKnownSymbol('species');\n\n  var setSpecies = function (CONSTRUCTOR_NAME) {\n    var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n    var defineProperty = objectDefineProperty.f;\n\n    if (descriptors && Constructor && !Constructor[SPECIES$5]) {\n      defineProperty(Constructor, SPECIES$5, {\n        configurable: true,\n        get: function () { return this; }\n      });\n    }\n  };\n\n  var defineProperty$6 = objectDefineProperty.f;\n  var getOwnPropertyNames$1 = objectGetOwnPropertyNames.f;\n\n\n\n\n\n  var setInternalState$1 = internalState.set;\n\n\n\n  var MATCH$1 = wellKnownSymbol('match');\n  var NativeRegExp = global_1.RegExp;\n  var RegExpPrototype$1 = NativeRegExp.prototype;\n  var re1 = /a/g;\n  var re2 = /a/g;\n\n  // \"new\" should create a new object, old webkit bug\n  var CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\n  var UNSUPPORTED_Y$2 = regexpStickyHelpers.UNSUPPORTED_Y;\n\n  var FORCED$2 = descriptors && isForced_1('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y$2 || fails(function () {\n    re2[MATCH$1] = false;\n    // RegExp constructor can alter flags and IsRegExp works correct with @@match\n    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n  })));\n\n  // `RegExp` constructor\n  // https://tc39.github.io/ecma262/#sec-regexp-constructor\n  if (FORCED$2) {\n    var RegExpWrapper = function RegExp(pattern, flags) {\n      var thisIsRegExp = this instanceof RegExpWrapper;\n      var patternIsRegExp = isRegexp(pattern);\n      var flagsAreUndefined = flags === undefined;\n      var sticky;\n\n      if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n        return pattern;\n      }\n\n      if (CORRECT_NEW) {\n        if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n      } else if (pattern instanceof RegExpWrapper) {\n        if (flagsAreUndefined) flags = regexpFlags.call(pattern);\n        pattern = pattern.source;\n      }\n\n      if (UNSUPPORTED_Y$2) {\n        sticky = !!flags && flags.indexOf('y') > -1;\n        if (sticky) flags = flags.replace(/y/g, '');\n      }\n\n      var result = inheritIfRequired(\n        CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n        thisIsRegExp ? this : RegExpPrototype$1,\n        RegExpWrapper\n      );\n\n      if (UNSUPPORTED_Y$2 && sticky) setInternalState$1(result, { sticky: sticky });\n\n      return result;\n    };\n    var proxy = function (key) {\n      key in RegExpWrapper || defineProperty$6(RegExpWrapper, key, {\n        configurable: true,\n        get: function () { return NativeRegExp[key]; },\n        set: function (it) { NativeRegExp[key] = it; }\n      });\n    };\n    var keys$2 = getOwnPropertyNames$1(NativeRegExp);\n    var index = 0;\n    while (keys$2.length > index) proxy(keys$2[index++]);\n    RegExpPrototype$1.constructor = RegExpWrapper;\n    RegExpWrapper.prototype = RegExpPrototype$1;\n    redefine(global_1, 'RegExp', RegExpWrapper);\n  }\n\n  // https://tc39.github.io/ecma262/#sec-get-regexp-@@species\n  setSpecies('RegExp');\n\n  var notARegexp = function (it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    } return it;\n  };\n\n  var MATCH$2 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function (METHOD_NAME) {\n    var regexp = /./;\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (e) {\n      try {\n        regexp[MATCH$2] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (f) { /* empty */ }\n    } return false;\n  };\n\n  // `String.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.includes\n  _export({ target: 'String', proto: true, forced: !correctIsRegexpLogic('includes') }, {\n    includes: function includes(searchString /* , position = 0 */) {\n      return !!~String(requireObjectCoercible(this))\n        .indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var _components$9;\n\n  function ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$9(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function isRegExp(value) {\n    return value instanceof RegExp;\n  } // \n\n\n  var contextmenuOptions = [{\n    i18nLabel: \"editor.centerPanel.contextMenu.copy\",\n    label: \"\",\n    value: \"copy\"\n  }, {\n    i18nLabel: \"editor.centerPanel.contextMenu.delete\",\n    label: \"\",\n    value: \"delete\"\n  },\n  /**\r\n   * contextMenu \r\n   * \r\n   * [ElementName]\r\n   * RegExp\r\n   */\n  {\n    i18nLabel: \"editor.centerPanel.contextMenu.showOnlyButton\",\n    label: \"showOnlyButton\",\n    value: \"showOnlyButton\",\n    elementWhiteList: [\"lbp-button\"]\n  },\n  /**\r\n   * contextMenu \r\n   * \r\n   * [ElementName]\r\n   * RegExp\r\n   */\n  {\n    i18nLabel: \"editor.centerPanel.contextMenu.showExcludePicture\",\n    label: \"showExcludePicture\",\n    value: \"showExcludePicture\",\n    elementBlackList: /^lbp-picture/\n  }]; // \n\n  var zindexContextMenu = [{\n    i18nLabel: \"editor.centerPanel.contextMenu.moveToTop\",\n    label: \"\",\n    value: \"move2Top\"\n  }, {\n    i18nLabel: \"editor.centerPanel.contextMenu.moveToBottom\",\n    label: \"\",\n    value: \"move2Bottom\"\n  }, {\n    i18nLabel: \"editor.centerPanel.contextMenu.moveUp\",\n    label: \"\",\n    value: \"addZindex\"\n  }, {\n    i18nLabel: \"editor.centerPanel.contextMenu.moveDown\",\n    label: \"\",\n    value: \"minusZindex\"\n  }];\n  var ContextMenu = {\n    components: (_components$9 = {}, defineProperty$1(_components$9, antDesignVue.Menu.name, antDesignVue.Menu), defineProperty$1(_components$9, antDesignVue.Menu.Item.name, antDesignVue.Menu.Item), defineProperty$1(_components$9, antDesignVue.Card.name, antDesignVue.Card), _components$9),\n    computed: _objectSpread$8(_objectSpread$8({}, Vuex.mapState(\"editor\", [\"editingElement\", \"work\"])), {}, {\n      /**\r\n       * \r\n       *\r\n       */\n      filteredOptions: function filteredOptions() {\n        var elementName = this.editingElement.name;\n        var filteredOptions = contextmenuOptions.filter(function (option) {\n          var wl = option.elementWhiteList;\n          var bl = option.elementBlackList;\n\n          if (wl) {\n            if (Array.isArray(wl)) return wl.includes(elementName);\n            if (isRegExp(wl)) return wl.test(elementName);\n          }\n\n          if (bl) {\n            if (Array.isArray(bl)) return !bl.includes(elementName);\n            if (isRegExp(bl)) return !bl.test(elementName);\n          }\n\n          return true;\n        });\n        return filteredOptions;\n      }\n    }),\n    props: {\n      position: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    methods: {\n      handleSelectMenu: function handleSelectMenu(_ref) {\n        var item = _ref.item,\n            key = _ref.key,\n            selectedKeys = _ref.selectedKeys;\n        this.$emit(\"select\", {\n          item: item,\n          key: key,\n          selectedKeys: selectedKeys\n        }); // elementManager({ type: key })\n      }\n    },\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"a-card\", {\n        \"attrs\": {\n          \"bodyStyle\": {\n            padding: \"4px\"\n          }\n        },\n        \"class\": \"contextmenu\"\n      }, [h(\"a-menu\", {\n        \"attrs\": {\n          \"inlineIndent\": 4,\n          \"mode\": \"inline\"\n        },\n        \"on\": {\n          \"select\": this.handleSelectMenu\n        },\n        \"class\": \"contextmenu__vertical-menus\"\n      }, [this.filteredOptions.map(function (option) {\n        return h(\"a-menu-item\", {\n          \"key\": option.value,\n          \"attrs\": {\n            \"data-command\": option.value\n          },\n          \"class\": \"contextmenu__vertical-menus__item\"\n        }, [_this.$t(option.i18nLabel)]);\n      })]), h(\"a-menu\", {\n        \"attrs\": {\n          \"mode\": \"horizontal\"\n        },\n        \"on\": {\n          \"select\": this.handleSelectMenu\n        },\n        \"class\": \"contextmenu__horizontal-menus\"\n      }, [zindexContextMenu.map(function (option) {\n        return h(\"a-menu-item\", {\n          \"key\": option.value,\n          \"attrs\": {\n            \"data-command\": option.value\n          },\n          \"class\": \"contextmenu__horizontal-menus__item\"\n        }, [_this.$t(option.i18nLabel)]);\n      })])]);\n    }\n  };\n\n  var _components$a;\n\n  function ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$a(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderEditCanvas = {\n    components: (_components$a = {}, defineProperty$1(_components$a, antDesignVue.InputNumber.name, antDesignVue.InputNumber), defineProperty$1(_components$a, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), _components$a),\n    props: [\"elements\", \"handleClickElementProp\", \"handleClickCanvasProp\"],\n    data: function data() {\n      return {\n        vLines: [],\n        hLines: [],\n        contextmenuPos: []\n      };\n    },\n    computed: _objectSpread$9({}, Vuex.mapState(\"editor\", [\"editingElement\", \"work\"])),\n    methods: _objectSpread$9(_objectSpread$9({}, Vuex.mapActions(\"editor\", [\"setEditingElement\", \"setElementPosition\", \"setElementShape\", \"recordElementRect\", \"elementManager\", \"updateWork\"])), {}, {\n      // generate vertical line\n      drawVLine: function drawVLine(newLeft) {\n        this.vLines = [{\n          left: newLeft\n        }];\n      },\n      clearVLine: function clearVLine() {\n        this.vLines = [];\n      },\n      // generate horizontal line\n      drawHLine: function drawHLine(newTop) {\n        this.hLines = [{\n          top: newTop\n        }];\n      },\n      clearHLine: function clearHLine() {\n        this.hLines = [];\n      },\n      calcVHLine: function calcVHLine(isPointMove) {\n        var _this = this;\n\n        var uuid = this.editingElement.uuid;\n        var referElements = this.elements.filter(function (e) {\n          return e.uuid !== uuid;\n        });\n        var referElementsXCoords = [];\n        var referElementsYCoords = [];\n        referElements.forEach(function (e) {\n          var width = e.commonStyle.width;\n          var left = e.commonStyle.left;\n          var height = e.commonStyle.height;\n          var top = e.commonStyle.top;\n          referElementsXCoords = [].concat(toConsumableArray(referElementsXCoords), [left, left + width / 2, left + width]);\n          referElementsYCoords = [].concat(toConsumableArray(referElementsYCoords), [top, top + height / 2, top + height]);\n        }); // e editingElement\n\n        var eleft = this.editingElement.commonStyle.left;\n        var etop = this.editingElement.commonStyle.top;\n        var ewidth = this.editingElement.commonStyle.width;\n        var eheight = this.editingElement.commonStyle.height;\n        var exCoords = [eleft + ewidth, eleft + ewidth / 2, eleft];\n        var eyCoords = [etop + eheight, etop + eheight / 2, etop];\n        var hasVLine = false;\n        var hasHLine = false;\n        exCoords.forEach(function (eX) {\n          referElementsXCoords.forEach(function (referX) {\n            var offset = referX - eX;\n\n            if (Math.abs(offset) <= 5) {\n              if (isPointMove) {\n                _this.setElementPosition({\n                  width: ewidth + offset\n                });\n              } else {\n                _this.setElementPosition({\n                  left: eleft + offset\n                });\n              }\n\n              _this.drawVLine(referX);\n\n              hasVLine = true;\n            }\n          });\n        });\n        eyCoords.forEach(function (eY) {\n          referElementsYCoords.forEach(function (referY) {\n            var offset = referY - eY;\n\n            if (Math.abs(offset) <= 5) {\n              if (isPointMove) {\n                _this.setElementPosition({\n                  height: eheight + offset\n                });\n              } else {\n                _this.setElementPosition({\n                  top: etop + offset\n                });\n              }\n\n              _this.drawHLine(referY);\n\n              hasHLine = true;\n            }\n          });\n        });\n\n        if (!hasVLine) {\n          this.clearVLine();\n        }\n\n        if (!hasHLine) {\n          this.clearHLine();\n        }\n      },\n\n      /**\r\n       * #!zh: \r\n       */\n      handleElementMove: function handleElementMove(pos) {\n        this.setElementPosition(pos);\n        this.calcVHLine(false);\n      },\n      handlePointMove: function handlePointMove(pos) {\n        this.setElementPosition(pos);\n        this.calcVHLine(true);\n      },\n      bindContextMenu: function bindContextMenu(e) {\n        // \n        var _this$$el$getBounding = this.$el.getBoundingClientRect(),\n            x = _this$$el$getBounding.x,\n            y = _this$$el$getBounding.y;\n\n        this.contextmenuPos = [e.clientX - x, e.clientY - y];\n      },\n      hideContextMenu: function hideContextMenu() {\n        this.contextmenuPos = [];\n      },\n      handleClickCanvas: function handleClickCanvas(e) {\n        if (!e.target.classList.contains(\"element-on-edit-canvas\")) {\n          this.setEditingElement();\n        }\n      },\n\n      /**\r\n       * \r\n       * @param {Number} height\r\n       */\n      updateWorkHeight: function updateWorkHeight(height) {\n        this.updateWork({\n          height: height\n        });\n      },\n\n      /**\r\n       * TODO  adjust editor scale \r\n       * scale: height/width\r\n       * @param {MouseEvent} e\r\n       */\n      mousedownForAdjustLine: function mousedownForAdjustLine(e) {\n        var _this2 = this;\n\n        var startY = e.clientY;\n        var startHeight = this.work.height;\n        var canvasOuterWrapper = document.querySelector(\"#canvas-outer-wrapper\");\n\n        var move = function move(moveEvent) {\n          // !#zh OK\n          moveEvent.stopPropagation();\n          moveEvent.preventDefault();\n          var currY = moveEvent.clientY;\n          var currentHeight = currY - startY + startHeight;\n\n          _this2.updateWorkHeight(currentHeight); // \n\n\n          canvasOuterWrapper && (canvasOuterWrapper.scrollTop = canvasOuterWrapper.scrollHeight);\n        };\n\n        var up = function up(moveEvent) {\n          document.removeEventListener(\"mousemove\", move, true);\n          document.removeEventListener(\"mouseup\", up, true);\n        };\n\n        document.addEventListener(\"mousemove\", move, true);\n        document.addEventListener(\"mouseup\", up, true);\n      },\n\n      /**\r\n       * #!zh: renderCanvas \r\n       * elements\r\n       * @param {*} h\r\n       * @param {*} elements\r\n       * @returns\r\n       */\n      renderCanvas: function renderCanvas(h, elements) {\n        var _this3 = this;\n\n        return h(\"div\", {\n          \"style\": {\n            height: \"100%\",\n            position: \"relative\"\n          },\n          \"on\": {\n            \"click\": function click(e) {\n              _this3.hideContextMenu();\n\n              _this3.handleClickCanvas(e);\n            },\n            \"contextmenu\": function contextmenu(e) {\n              e.preventDefault();\n              e.stopPropagation(); // this.bindContextMenu(e)\n            }\n          }\n        }, [elements.map(function (element, index) {\n          if (element.name === \"lbp-background\") {\n            return h(\"lbp-background\", {\n              props: element.getProps()\n            });\n          }\n\n          var data = {\n            style: {\n              width: \"100%\",\n              height: \"100%\"\n            },\n            //  class  handleClickCanvasProp ,\n            // clickEvent.target.classList  className editingElement=null\n            class: \"element-on-edit-canvas\",\n            props: _objectSpread$9(_objectSpread$9({}, element.getProps()), {}, {\n              // #6 #3,\n              editorMode: \"edit\"\n            }),\n            // nativeOn: {\n            //   contextmenu: e => {\n            //     this.bindContextMenu(e)\n            //   }\n            // },\n            on: {\n              // \n              // click: () => this.setEditingElement(element)\n              input: function input(_ref) {\n                var value = _ref.value,\n                    pluginName = _ref.pluginName;\n\n                if (pluginName === \"lbp-text\") {\n                  element.pluginProps.text = value;\n                }\n              }\n            }\n          };\n          return h(Shape, {\n            \"on\": {\n              \"delete\": function _delete() {\n                return _this3.elementManager({\n                  type: \"delete\"\n                });\n              }\n            },\n            \"style\": element.getStyle({\n              position: \"absolute\"\n            }),\n            \"attrs\": {\n              \"defaultPosition\": element.commonStyle,\n              \"element\": element,\n              \"active\": _this3.editingElement === element,\n              \"handleMousedownProp\": function handleMousedownProp() {\n                // \n                //  contextmenu\n                // \n                // 1.  2. editingElement + \n                _this3.hideContextMenu(); //  shape  mousedown plugin  onClick \n                //  mousedown  editingElement()\n                //  plugin  onClick \n\n\n                _this3.setEditingElement(element);\n              },\n              \"handlePointMoveProp\": _this3.handlePointMove,\n              \"handleElementMoveProp\": _this3.handleElementMove,\n              \"handleElementMouseUpProp\": function handleElementMouseUpProp() {\n                _this3.clearHLine();\n\n                _this3.clearVLine();\n\n                _this3.recordElementRect();\n              },\n              \"handlePointMouseUpProp\": function handlePointMouseUpProp() {\n                _this3.clearHLine();\n\n                _this3.clearVLine();\n\n                _this3.recordElementRect();\n              }\n            },\n            \"nativeOn\": {\n              \"contextmenu\": function contextmenu(e) {\n                _this3.bindContextMenu(e);\n              }\n            }\n          }, [h(element.name, data)]);\n        }), this.vLines.map(function (line) {\n          return h(\"div\", {\n            \"class\": \"v-line\",\n            \"style\": {\n              left: \"\".concat(line.left, \"px\")\n            }\n          });\n        }), this.hLines.map(function (line) {\n          return h(\"div\", {\n            \"class\": \"h-line\",\n            \"style\": {\n              top: \"\".concat(line.top, \"px\")\n            }\n          });\n        }), this.contextmenuPos.length ? h(ContextMenu, {\n          \"style\": {\n            left: this.contextmenuPos[0] + \"px\",\n            top: this.contextmenuPos[1] + \"px\",\n            userSelect: \"none\",\n            position: \"absolute\",\n            zIndex: 999\n          },\n          \"on\": {\n            \"select\": function select(_ref2) {\n              var item = _ref2.item,\n                  key = _ref2.key,\n                  selectedKeys = _ref2.selectedKeys;\n\n              _this3.elementManager({\n                type: key\n              });\n\n              _this3.hideContextMenu();\n            },\n            \"hideMenu\": this.hideContextMenu\n          }\n        }) : null, h(\"div\", {\n          \"style\": {\n            position: \"absolute\",\n            top: \"\".concat(this.work.height, \"px\"),\n            width: \"100%\"\n          }\n        }, [h(\"div\", {\n          \"class\": \"adjust-line-wrapper adjust-line-wrapper-h\"\n        }, [h(\"div\", {\n          \"class\": \"adjust-line adjust-line-h\"\n        }), h(\"div\", {\n          \"class\": \"adjust-button\",\n          \"on\": {\n            \"mousedown\": this.mousedownForAdjustLine\n          }\n        }, [h(\"div\", {\n          \"class\": \"indicator\"\n        })]), h(\"div\", {\n          \"class\": \"adjust-tip\"\n        }, [h(\"span\", [\"375 x\"]), h(\"a-input-number\", {\n          \"attrs\": {\n            \"size\": \"small\",\n            \"value\": this.work.height\n          },\n          \"style\": \"margin: 0 4px; width:60px;\",\n          \"on\": {\n            \"change\": function change(height) {\n              _this3.updateWork({\n                height: height\n              });\n            }\n          }\n        }), h(\"span\", [\"px\"])])])])]);\n      }\n    }),\n    render: function render(h) {\n      return this.renderCanvas(h, this.elements);\n    }\n  };\n\n  var NodeWrapper = {\n    mixins: [animationMixin],\n    props: ['element'],\n    mounted: function mounted() {\n      this.runAnimations();\n    },\n    render: function render(h) {\n      return h(\"div\", {\n        \"style\": this.element.getStyle({\n          position: 'absolute'\n        })\n      }, [this.$slots.default]);\n    }\n  };\n\n  /**\r\n   * \r\n   * preview h5 work module\r\n   */\n\n  var RenderPreviewCanvas = {\n    props: ['elements', 'height'],\n    components: {\n      NodeWrapper: NodeWrapper\n    },\n    methods: {\n      renderPreview: function renderPreview(h, elements) {\n        var pageWrapperStyle = {\n          height: this.height || '100%',\n          position: 'relative'\n        };\n        return h(\"div\", {\n          \"style\": pageWrapperStyle\n        }, [elements.map(function (element, index) {\n          return h(\"node-wrapper\", {\n            \"attrs\": {\n              \"element\": element\n            }\n          }, [h(element.name, element.getPreviewData({\n            position: 'static'\n          }))]);\n        })]);\n      }\n    },\n    render: function render(h) {\n      return this.renderPreview(h, this.elements);\n    }\n  };\n\n  var _components$b;\n\n  function ownKeys$b(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$b(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$b(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var EditorCanvas = {\n    name: \"EditorCanvas\",\n    components: (_components$b = {}, defineProperty$1(_components$b, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), defineProperty$1(_components$b, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$1(_components$b, antDesignVue.Layout.name, antDesignVue.Layout), defineProperty$1(_components$b, antDesignVue.Layout.Content.name, antDesignVue.Layout), _components$b),\n    data: function data() {\n      return {\n        isPreviewMode: false\n      };\n    },\n    computed: _objectSpread$a({}, Vuex.mapState(\"editor\", {\n      editingPage: function editingPage(state) {\n        return state.editingPage;\n      },\n      editingElement: function editingElement(state) {\n        return state.editingElement;\n      },\n      elements: function elements(state) {\n        return state.editingPage.elements;\n      },\n      pages: function pages(state) {\n        return state.work.pages;\n      },\n      work: function work(state) {\n        return state.work;\n      },\n      scaleRate: function scaleRate(state) {\n        return state.scaleRate;\n      }\n    })),\n    methods: _objectSpread$a(_objectSpread$a({}, Vuex.mapActions(\"editor\", [\"setEditingElement\"])), {}, {\n      handleToggleMode: function handleToggleMode(isPreviewMode) {\n        this.isPreviewMode = isPreviewMode;\n\n        if (isPreviewMode) {\n          // \n          this.setEditingElement(); //   setEditingElement(null)\n        }\n      }\n    }),\n    created: function created() {\n      console.log(this.elements);\n    },\n    render: function render(h) {\n      return h(\"a-layout\", {\n        \"attrs\": {\n          \"id\": \"canvas-outer-wrapper\"\n        },\n        \"style\": {\n          \"margin-bottom\": \"24px\"\n        }\n      }, [h(\"a-radio-group\", {\n        \"class\": \"mode-toggle-wrapper\",\n        \"attrs\": {\n          \"size\": \"small\",\n          \"value\": this.isPreviewMode\n        },\n        \"on\": {\n          \"input\": this.handleToggleMode\n        }\n      }, [h(\"a-radio-button\", {\n        \"attrs\": {\n          \"label\": false,\n          \"value\": false\n        }\n      }, [this.$t(\"editor.centerPanel.mode.edit\")]), h(\"a-radio-button\", {\n        \"attrs\": {\n          \"label\": true,\n          \"value\": true\n        }\n      }, [this.$t(\"editor.centerPanel.mode.preview\")])]), h(\"a-layout-content\", {\n        \"style\": {\n          transform: \"scale(\".concat(this.scaleRate, \")\"),\n          \"transform-origin\": \"center top\"\n        }\n      }, [h(\"div\", {\n        \"class\": \"canvas-wrapper\",\n        \"style\": {\n          height: \"\".concat(this.work.height, \"px\")\n        }\n      }, [this.isPreviewMode ? h(RenderPreviewCanvas, {\n        \"attrs\": {\n          \"elements\": this.elements\n        }\n      }) : h(RenderEditCanvas, {\n        \"class\": \"edit-mode\",\n        \"attrs\": {\n          \"elements\": this.elements\n        }\n      })])])]);\n    }\n  };\n\n  var ShortcutButton = {\n    functional: true,\n    props: {\n      faIcon: {\n        required: true,\n        type: String\n      },\n      title: {\n        required: true,\n        type: String\n      },\n      clickFn: {\n        required: false,\n        type: Function,\n        default: function _default() {}\n      },\n      mousedownFn: {\n        required: false,\n        type: Function,\n        default: function _default() {}\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      }\n    },\n    render: function render(h, _ref) {\n      var props = _ref.props,\n          listeners = _ref.listeners,\n          slots = _ref.slots;\n      return h(\"button\", {\n        \"class\": \"shortcut-button\",\n        \"on\": {\n          \"click\": props.clickFn,\n          \"mousedown\": props.mousedownFn\n        },\n        \"attrs\": {\n          \"disabled\": props.disabled\n        }\n      }, [h(\"i\", {\n        \"class\": ['shortcut-icon', 'fa', \"fa-\".concat(props.faIcon)],\n        \"attrs\": {\n          \"aria-hidden\": 'true'\n        }\n      }), h(\"span\", [props.title])]);\n    }\n  };\n\n  var UsageTip = {\n    components: defineProperty$1({}, antDesignVue.Icon.name, antDesignVue.Icon),\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"plugin-usage-tip \"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"info-circle\"\n        }\n      }), h(\"i18n\", {\n        \"attrs\": {\n          \"path\": \"editor.tip.componentUsage\",\n          \"tag\": \"span\"\n        },\n        \"class\": \"ml-1\"\n      }, [h(\"strong\", [this.$t(\"editor.tip.click\")]), this.$t(\"editor.tip.click\")])]);\n    }\n  };\n\n  var _components$c;\n\n  function ownKeys$c(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$b(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$c(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$c(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var script$1 = {\n    components: (_components$c = {}, defineProperty$1(_components$c, antDesignVue.Modal.name, antDesignVue.Modal), defineProperty$1(_components$c, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$1(_components$c, antDesignVue.Button.name, antDesignVue.Button), _components$c),\n    data: function data() {\n      return {\n        visible: false,\n        confirmLoading: false,\n        text: JSON.stringify([{\n          package: '@luban-h5/lbp-slide',\n          version: '0.0.7',\n          name: 'lbp-slide',\n          icon: 'photo',\n          i18nTitle: {\n            'en-US': 'Carousel',\n            'zh-CN': ''\n          },\n          title: '',\n          visible: true\n        }], null, 2)\n      };\n    },\n    methods: {\n      showModal: function showModal() {\n        this.visible = true;\n      },\n      handleOk: function handleOk(e) {\n        var createjs = window.createjs; // eslint-disable-next-line no-new-func\n\n        var npmPackages = new Function(\"return \".concat(this.text).replace('\\n', ''))();\n        npmPackages = npmPackages.map(function (pluginInfo) {\n          return _objectSpread$b(_objectSpread$b({}, pluginInfo), {}, {\n            // src: `https://cdn.jsdelivr.net/npm/${pluginInfo}/dist/${pluginInfo.name}.umd.js`\n            // src: `https://unpkg.com/${pluginInfo}/dist/${pluginName}.umd.js`\n            src: \"https://cdn.jsdelivr.net/npm/\".concat(pluginInfo.package, \"@\").concat(pluginInfo.version, \"/dist/\").concat(pluginInfo.name, \".umd.js\")\n          });\n        });\n        var queue = new createjs.LoadQueue();\n        queue.on('fileload', handleFileLoad, this);\n        queue.on('complete', handleComplete, this);\n        queue.loadManifest(npmPackages);\n\n        function handleComplete(e) {\n          //  this  queryon  bind this \n          this.visible = false;\n          this.confirmLoading = false;\n          this.$emit('loadComplete', npmPackages);\n        }\n\n        function handleFileLoad(event) {\n          var name = event.item.name;\n          Vue__default['default'].component(name, window[name]);\n        }\n      },\n      handleCancel: function handleCancel(e) {\n        this.visible = false;\n      }\n    }\n  };\n\n  /* script */\n  const __vue_script__$1 = script$1;\n\n  /* template */\n  var __vue_render__$1 = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\n      \"div\",\n      { staticStyle: { \"text-align\": \"center\" } },\n      [\n        _c(\n          \"a-button\",\n          {\n            staticStyle: { \"margin-top\": \"16px\" },\n            attrs: { type: \"primary\" },\n            on: { click: _vm.showModal }\n          },\n          [_vm._v(\" NPM \")]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"a-modal\",\n          {\n            attrs: {\n              title: \"NPM \",\n              visible: _vm.visible,\n              confirmLoading: _vm.confirmLoading\n            },\n            on: { ok: _vm.handleOk, cancel: _vm.handleCancel }\n          },\n          [\n            _c(\n              \"div\",\n              [\n                _c(\"a-textarea\", {\n                  attrs: { placeholder: \"Basic usage\", rows: 20 },\n                  model: {\n                    value: _vm.text,\n                    callback: function($$v) {\n                      _vm.text = $$v;\n                    },\n                    expression: \"text\"\n                  }\n                })\n              ],\n              1\n            )\n          ]\n        )\n      ],\n      1\n    )\n  };\n  var __vue_staticRenderFns__$1 = [];\n  __vue_render__$1._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__$1 = undefined;\n    /* scoped */\n    const __vue_scope_id__$1 = undefined;\n    /* module identifier */\n    const __vue_module_identifier__$1 = undefined;\n    /* functional template */\n    const __vue_is_functional_template__$1 = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__$1 = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },\n      __vue_inject_styles__$1,\n      __vue_script__$1,\n      __vue_scope_id__$1,\n      __vue_is_functional_template__$1,\n      __vue_module_identifier__$1,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  function ownKeys$d(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$c(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$d(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$d(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var langMixin = {\n    computed: _objectSpread$c({}, Vuex.mapState({\n      currentLang: function currentLang(state) {\n        return state.i18n.lang;\n      }\n    })),\n    methods: _objectSpread$c(_objectSpread$c({}, Vuex.mapActions('i18n', ['SetLang'])), {}, {\n      setLang: function setLang(lang) {\n        this.SetLang(lang);\n      }\n    })\n  };\n\n  function ownKeys$e(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$d(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$e(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$e(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-17 17:21:04\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-28 09:22:04\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/core/mixins/drag.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   * @Description:\r\n   *  \r\n   *  https://github.com/hakubox/haku-form-design tab \r\n   */\n  var dragDom = null;\n  var dragConfig = {\n    isPreDrag: false,\n    // \n    isDrag: false,\n    // \n    origin: {\n      clientY: 0,\n      // \n      clientX: 0,\n      layerX: 0,\n      // .x .left \n      layerY: 0 // .y .top  \n\n    }\n  };\n\n  var Drag = /*#__PURE__*/function () {\n    function Drag(options) {\n      classCallCheck(this, Drag);\n\n      this.mousedown = options.mousedown;\n      this.mousemove = options.mousemove;\n      this.mouseup = options.mouseup;\n      this._mousedown = this._mousedown.bind(this);\n      this._mousemove = this._mousemove.bind(this);\n      this._mouseup = this._mouseup.bind(this);\n    }\n\n    createClass(Drag, [{\n      key: \"start\",\n      value: function start(e) {\n        this._mousedown(e);\n      }\n    }, {\n      key: \"_mousedown\",\n      value: function _mousedown(e) {\n        this.mousedown(e);\n        this.toggleListener('add');\n      }\n    }, {\n      key: \"_mousemove\",\n      value: function _mousemove(e) {\n        this.mousemove(e);\n      }\n    }, {\n      key: \"_mouseup\",\n      value: function _mouseup(e) {\n        this.mouseup(e);\n        this.toggleListener('remove');\n      }\n    }, {\n      key: \"toggleListener\",\n      value: function toggleListener(action) {\n        document[\"\".concat(action, \"EventListener\")]('mousemove', this._mousemove);\n        document[\"\".concat(action, \"EventListener\")]('mouseup', this._mouseup);\n      }\n    }]);\n\n    return Drag;\n  }();\n\n  var dragMixin = {\n    data: function data() {\n      return {};\n    },\n    methods: {\n      /**\r\n       *\r\n       * @param {*} element shortcutItem\r\n       * @param {*} e\r\n       */\n      handleDragStartFromMixin: function handleDragStartFromMixin(element, e) {\n        // https://developer.mozilla.org/zh-CN/docs/Web/API/event.button\n        // 0  .\n        if (e.button !== 0) return;\n\n        if (dragDom) {\n          document.body.removeChild(dragDom);\n          dragDom = null;\n        }\n\n        this.dragElement = element;\n        dragDom = e.target.cloneNode(true);\n        document.body.appendChild(dragDom);\n        new Drag({\n          mousedown: this.mousedown,\n          mousemove: this.mousemove,\n          mouseup: this.mouseup\n        }).start(e);\n      },\n\n      /**\r\n       *\r\n       * @param {*} e\r\n       */\n      mousedown: function mousedown(e) {\n        // .x  \n        var layerX = e.layerX,\n            layerY = e.layerY;\n        dragConfig.origin.layerX = layerX;\n        dragConfig.origin.layerY = layerY;\n        dragConfig.origin.clientX = e.clientX;\n        dragConfig.origin.clientY = e.clientY;\n        dragDom.style.position = 'absolute';\n        dragDom.style.left = e.clientX - layerX + 'px';\n        dragDom.style.top = e.clientY - layerY + 'px';\n        dragDom.classList.add('dragging-dom-ele', 'hidden');\n        dragConfig.isPreDrag = true;\n      },\n\n      /**  */\n      mousemove: function mousemove(e) {\n        dragDom.classList.remove('hidden');\n        var _dragConfig$origin = dragConfig.origin,\n            layerX = _dragConfig$origin.layerX,\n            layerY = _dragConfig$origin.layerY;\n        dragDom.style.left = e.clientX - layerX + 'px';\n        dragDom.style.top = e.clientY - layerY + 'px';\n      },\n      mouseup: function mouseup(e) {\n        var _dragConfig$origin2 = dragConfig.origin,\n            layerX = _dragConfig$origin2.layerX,\n            layerY = _dragConfig$origin2.layerY;\n        document.body.removeChild(dragDom);\n        dragDom = null;\n        var canMousedown = this.checkCanMousedown(e, {\n          minOffset: 10\n        });\n        if (!canMousedown) return;\n        var canvasWrapper = document.querySelector('.canvas-wrapper');\n        var position = canvasWrapper.getBoundingClientRect();\n        this.dragElement && this.clone(_objectSpread$d(_objectSpread$d({}, this.dragElement), {}, {\n          dragStyle: {\n            left: e.clientX - layerX - position.left,\n            top: e.clientY - layerY - position.top\n          }\n        }));\n      },\n      checkCanMousedown: function checkCanMousedown(e, _ref) {\n        var minOffsetX = _ref.minOffsetX,\n            minOffsetY = _ref.minOffsetY,\n            minOffset = _ref.minOffset;\n        var offsetX = e.clientX - dragConfig.origin.clientX;\n        var offsetY = e.clientY - dragConfig.origin.clientY;\n        return offsetX >= (minOffsetX || minOffset) || offsetY >= (minOffsetY || minOffset);\n      }\n    },\n    updated: function updated() {\n      console.log('updated');\n    }\n  };\n\n  var defaultNumberInputProp = {// step: 1,\n    // min: 0,\n    // max: 144\n  };\n  var dataSourceLayout = {\n    labelCol: {\n      span: 24\n    },\n    wrapperCol: {\n      span: 24,\n      offset: 0\n    }\n  };\n  var PropTypes = {\n    boolean: function boolean() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$label = _ref.label,\n          label = _ref$label === void 0 ? '' : _ref$label,\n          _ref$defaultValue = _ref.defaultValue,\n          defaultValue = _ref$defaultValue === void 0 ? false : _ref$defaultValue,\n          _ref$props = _ref.props,\n          props = _ref$props === void 0 ? {} : _ref$props,\n          _ref$visible = _ref.visible,\n          visible = _ref$visible === void 0 ? true : _ref$visible;\n\n      return {\n        type: Boolean,\n        default: defaultValue,\n\n        /**\r\n         *\r\n         * !#zh: \r\n         * !#en: whether visible in props config panel\r\n         *\r\n         * \r\n         *\r\n         *  \r\n         * editorMode(edit/preview) (/)\r\n         * \r\n         *\r\n         */\n        visible: visible,\n        editor: {\n          type: 'a-switch',\n          label: label,\n          props: props\n        }\n      };\n    },\n    required: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\r\n     *  \r\n     * Q:  transparent \r\n     * A:  MDN  value # + 616\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color#Value\r\n     * The value of an <input> element of type color is always a DOMString which contains a 7-character string specifying an RGB color in hexadecimal format.\r\n     *\r\n     */\n    color: function color() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$label = _ref2.label,\n          label = _ref2$label === void 0 ? '' : _ref2$label,\n          _ref2$defaultValue = _ref2.defaultValue,\n          defaultValue = _ref2$defaultValue === void 0 ? '#000000' : _ref2$defaultValue,\n          _ref2$visible = _ref2.visible,\n          visible = _ref2$visible === void 0 ? true : _ref2$visible;\n\n      return {\n        type: String,\n        //  MDN  value # + 616\n        // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color#Value\n        // The value of an <input> element of type color is always a DOMString which contains a 7-character string specifying an RGB color in hexadecimal format.\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'colors-panel',\n          label: label,\n          // !#zh  props\n          props: {\n            size: 'mini',\n            showAlpha: true\n          },\n          require: true\n        }\n      };\n    },\n    colors: function colors() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$label = _ref3.label,\n          label = _ref3$label === void 0 ? '' : _ref3$label,\n          _ref3$defaultValue = _ref3.defaultValue,\n          defaultValue = _ref3$defaultValue === void 0 ? function () {\n        return [];\n      } : _ref3$defaultValue,\n          _ref3$layout = _ref3.layout,\n          layout = _ref3$layout === void 0 ? dataSourceLayout : _ref3$layout,\n          _ref3$visible = _ref3.visible,\n          visible = _ref3$visible === void 0 ? true : _ref3$visible;\n\n      return {\n        type: Array,\n        //  MDN  value # + 616\n        // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color#Value\n        // The value of an <input> element of type color is always a DOMString which contains a 7-character string specifying an RGB color in hexadecimal format.\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'colors-panel',\n          label: label,\n          // !#zh  props\n          props: {\n            size: 'mini',\n            showAlpha: true\n          },\n          layout: layout,\n          require: true\n        }\n      };\n    },\n\n    /**\r\n     *  \r\n     */\n    number: function number() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$label = _ref4.label,\n          label = _ref4$label === void 0 ? '' : _ref4$label,\n          _ref4$defaultValue = _ref4.defaultValue,\n          defaultValue = _ref4$defaultValue === void 0 ? 10 : _ref4$defaultValue,\n          _ref4$props = _ref4.props,\n          props = _ref4$props === void 0 ? defaultNumberInputProp : _ref4$props,\n          _ref4$visible = _ref4.visible,\n          visible = _ref4$visible === void 0 ? true : _ref4$visible;\n\n      return {\n        type: Number,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-input-number',\n          label: label,\n          require: true,\n          props: props\n        }\n      };\n    },\n\n    /**\r\n     *  \r\n     *\r\n     * component \r\n     * 1. a-input\r\n     * 2. a-textarea\r\n     * 3. \r\n     */\n    string: function string() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$label = _ref5.label,\n          label = _ref5$label === void 0 ? '' : _ref5$label,\n          _ref5$defaultValue = _ref5.defaultValue,\n          defaultValue = _ref5$defaultValue === void 0 ? '' : _ref5$defaultValue,\n          _ref5$component = _ref5.component,\n          component = _ref5$component === void 0 ? 'a-input' : _ref5$component,\n          _ref5$props = _ref5.props,\n          props = _ref5$props === void 0 ? {} : _ref5$props,\n          extra = _ref5.extra,\n          _ref5$visible = _ref5.visible,\n          visible = _ref5$visible === void 0 ? true : _ref5$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: component,\n          label: label,\n          require: true,\n          props: props,\n          extra: extra\n        }\n      };\n    },\n    textAlign: function textAlign() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$label = _ref6.label,\n          label = _ref6$label === void 0 ? '' : _ref6$label,\n          _ref6$defaultValue = _ref6.defaultValue,\n          defaultValue = _ref6$defaultValue === void 0 ? 'center' : _ref6$defaultValue,\n          _ref6$visible = _ref6.visible,\n          visible = _ref6$visible === void 0 ? true : _ref6$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-text-align',\n          label: label,\n          require: true\n        }\n      };\n    },\n    textOptions: function textOptions() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$label = _ref7.label,\n          label = _ref7$label === void 0 ? '' : _ref7$label,\n          _ref7$defaultValue = _ref7.defaultValue,\n          defaultValue = _ref7$defaultValue === void 0 ? function () {\n        return [{\n          label: 'label1',\n          value: 'value1'\n        }];\n      } : _ref7$defaultValue,\n          _ref7$visible = _ref7.visible,\n          visible = _ref7$visible === void 0 ? true : _ref7$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-props-text-enum-editor',\n          label: label,\n          require: true\n        }\n      };\n    },\n    image: function image() {\n      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref8$label = _ref8.label,\n          label = _ref8$label === void 0 ? '' : _ref8$label,\n          _ref8$defaultValue = _ref8.defaultValue,\n          defaultValue = _ref8$defaultValue === void 0 ? '' : _ref8$defaultValue,\n          _ref8$visible = _ref8.visible,\n          visible = _ref8$visible === void 0 ? true : _ref8$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-image-gallery',\n          label: label\n        }\n      };\n    },\n\n    /**\r\n     * \r\n     */\n    excel: function excel() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref9$label = _ref9.label,\n          label = _ref9$label === void 0 ? '' : _ref9$label,\n          _ref9$defaultValue = _ref9.defaultValue,\n          defaultValue = _ref9$defaultValue === void 0 ? [] : _ref9$defaultValue,\n          _ref9$layout = _ref9.layout,\n          layout = _ref9$layout === void 0 ? dataSourceLayout : _ref9$layout,\n          _ref9$visible = _ref9.visible,\n          visible = _ref9$visible === void 0 ? true : _ref9$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-excel-editor',\n          label: label,\n          layout: layout\n        }\n      };\n    },\n    select: function select() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref10$valueType = _ref10.valueType,\n          valueType = _ref10$valueType === void 0 ? String : _ref10$valueType,\n          _ref10$label = _ref10.label,\n          label = _ref10$label === void 0 ? '' : _ref10$label,\n          _ref10$defaultValue = _ref10.defaultValue,\n          defaultValue = _ref10$defaultValue === void 0 ? [] : _ref10$defaultValue,\n          _ref10$visible = _ref10.visible,\n          visible = _ref10$visible === void 0 ? true : _ref10$visible,\n          _ref10$options = _ref10.options,\n          options = _ref10$options === void 0 ? [] : _ref10$options;\n\n      return {\n        type: valueType,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-select',\n          label: label,\n          props: {\n            options: options\n          }\n        }\n      };\n    }\n  };\n\n  // https://github.com/luban-h5-components/plugin-common-props\n  var LbpButton = {\n    render: function render() {\n      var h = arguments[0];\n      var color = this.color,\n          textAlign = this.textAlign,\n          backgroundColor = this.backgroundColor,\n          fontSize = this.fontSize,\n          lineHeight = this.lineHeight,\n          borderColor = this.borderColor,\n          borderRadius = this.borderRadius,\n          borderWidth = this.borderWidth,\n          text = this.text;\n      var style = {\n        color: color,\n        textAlign: textAlign,\n        backgroundColor: backgroundColor,\n        fontSize: fontSize,\n        lineHeight: lineHeight + 'em',\n        borderColor: borderColor,\n        borderRadius: borderRadius + 'px',\n        borderWidth: borderWidth + 'px',\n        textDecoration: 'none'\n      };\n      return h(\"button\", {\n        \"style\": style\n      }, [text]);\n    },\n    name: 'lbp-button',\n    props: {\n      text: PropTypes.string(),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ffffff'\n      }),\n      color: PropTypes.color(),\n      fontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 14\n      }),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 4\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign()\n    }\n  };\n\n  var placeholderImg = \"lbp-picture-placeholder.png\";\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-10-27 15:04:59\r\n   * @LastEditTime : 2020-10-28 09:23:44\r\n   * @Description :\r\n   */\n\n  var LbpPicture = {\n    name: 'lbp-picture',\n    render: function render() {\n      var h = arguments[0];\n      return h(\"img\", {\n        \"attrs\": {\n          \"src\": this.imgSrc || placeholderImg,\n          \"alt\": \"\",\n          \"srcset\": \"\",\n          \"width\": \"100%\"\n        },\n        \"style\": {\n          objectFit: this.fillType\n        }\n      });\n    },\n    props: {\n      imgSrc: PropTypes.string({\n        label: ''\n      }),\n      fillType: {\n        type: String,\n        default: 'contain',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: 'contain ',\n              value: 'contain'\n            }, {\n              label: 'cover ',\n              value: 'cover'\n            }, {\n              label: 'fill ',\n              value: 'fill'\n            }, {\n              label: 'none ',\n              value: 'none'\n            }, {\n              label: 'scale-down ',\n              value: 'scale-down'\n            }]\n          }\n        }\n      }\n    },\n    data: function data() {\n      return {\n        placeholderImg: placeholderImg\n      };\n    }\n  };\n\n  var playIcon = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyMHB4IiBoZWlnaHQ9IjE4MHB4IiB2aWV3Qm94PSIwIDAgMzIwIDE4MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4NCiAgICA8dGl0bGU+UmVjdGFuZ2xlIDM8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0icGxheSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJHcm91cC0yOSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMyIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyMCIgaGVpZ2h0PSIxODAiPjwvcmVjdD4NCiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjQuMDAwMDAwLCA1NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMC40MDAwMDAwMDYiIGN4PSIzNiIgY3k9IjM2IiByPSIzNiI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUyLjUwMTQ1NzEsMzguNDY4NzAzOSBMMjkuNTEyNTQ3NCw1My4wOTEwNDA2IEMyOC40MjUyMDE2LDUzLjc4MjY1ODMgMjYuOTgzMDY2Nyw1My40NjE4NTczIDI2LjI5MTQ0OSw1Mi4zNzQ1MTE0IEMyNi4wNTMzNzY0LDUyLjAwMDIxOSAyNS45MjY5Mjk1LDUxLjU2NTgxODMgMjUuOTI2OTI5NSw1MS4xMjIyMjY4IEwyNS45MjY5Mjk1LDIxLjg3NzU1MzQgQzI1LjkyNjkyOTUsMjAuNTg4ODg5IDI2Ljk3MTU5ODQsMTkuNTQ0MjIwMSAyOC4yNjAyNjI4LDE5LjU0NDIyMDEgQzI4LjcwMzg1NDMsMTkuNTQ0MjIwMSAyOS4xMzgyNTUsMTkuNjcwNjY3MSAyOS41MTI1NDc0LDE5LjkwODczOTcgTDUyLjUwMTQ1NzEsMzQuNTMxMDc2NCBDNTMuNTg4ODAyOSwzNS4yMjI2OTQxIDUzLjkwOTYwNCwzNi42NjQ4Mjg5IDUzLjIxNzk4NjMsMzcuNzUyMTc0NyBDNTMuMDM0NTE1OCwzOC4wNDA2MjI5IDUyLjc4OTkwNTIsMzguMjg1MjMzNSA1Mi41MDE0NTcxLDM4LjQ2ODcwMzkgWiIgaWQ9IlRyaWFuZ2xlLTIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+\";\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2019-12-01 18:11:50\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-28 09:23:27\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/core/plugins/lbp-video.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n\n  var LbpVideo = {\n    name: 'lbp-video',\n    props: {\n      src: PropTypes.string({\n        label: ''\n      }),\n      disabled: PropTypes.boolean({\n        label: 'disabled'\n      }),\n      useIframe: PropTypes.boolean({\n        label: 'iframe'\n      }),\n      iframeSrc: PropTypes.string({\n        default: '',\n        label: 'iframe ',\n        props: {\n          type: 'textarea',\n          placeholder: 'iframe'\n        },\n        extra: function extra(h) {\n          return 'iframe';\n        }\n      })\n    },\n    watch: {\n      src: function src() {\n        this.appendIframe();\n      },\n      disabled: function disabled() {\n        this.appendIframe();\n      },\n      useIframe: function useIframe() {\n        this.appendIframe();\n      },\n      iframeSrc: function iframeSrc() {\n        this.appendIframe();\n      }\n    },\n    mounted: function mounted() {\n      this.appendIframe();\n    },\n    methods: {\n      appendIframe: function appendIframe() {\n        if (this.useIframe && this.iframeSrc) {\n          // v-html\n          this.$refs.iframeWrapper && (this.$refs.iframeWrapper.innerHTML = this.iframeSrc);\n        } // else if (this.src) {\n        //   this.$refs.videoTag && (this.$refs.videoTag.innerHTML = `<source type=\"video/mp4\" src=${this.src} />`)\n        // }\n\n      }\n    },\n    render: function render(h) {\n      var style = this.disabled ? {\n        'pointer-events': 'none'\n      } : {};\n      return h(\"div\", {\n        \"class\": \"lbc-video\",\n        \"style\": style\n      }, [this.useIframe ? h(\"div\", {\n        \"ref\": \"iframeWrapper\"\n      }, [h(\"img\", {\n        \"attrs\": {\n          \"src\": playIcon,\n          \"width\": \"100%\",\n          \"height\": \"100%\"\n        }\n      })]) : h(\"video\", {\n        \"attrs\": {\n          \"playsinline\": \"true\",\n          \"webkit-playsinline\": \"\",\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"poster\": playIcon,\n          \"controls\": true\n        },\n        \"ref\": \"videoTag\"\n      }, [h(\"source\", {\n        \"attrs\": {\n          \"type\": \"video/mp4\",\n          \"src\": this.src\n        }\n      })])]);\n    },\n    componentsForPropsEditor: {}\n  };\n\n  var LbpText = {\n    directives: {\n      clickOutside: vClickOutside__default['default'].directive\n    },\n    render: function render(h) {\n      var _this = this;\n\n      var canEdit = this.canEdit && this.editorMode === 'edit';\n      var style = {\n        position: 'relative',\n        color: \"\".concat(this.color, \" !important\"),\n        textDecoration: 'none',\n        backgroundColor: this.backgroundColor || 'rgba(255, 255, 255, 0.2)',\n        lineHeight: \"\".concat(this.lineHeight, \"em\"),\n        border: \"\".concat(this.borderWidth, \"px solid \").concat(this.borderColor),\n        borderRadius: \"\".concat(this.borderRadius, \"px\")\n      };\n      /**\r\n       * https://github.com/ly525/luban-h5/issues/155\r\n       *  ql-snow (ql-editor) theme \r\n       *  h1 .ql-snow .ql-editor h1 {font-size: 2em;}\r\n       *  div.ql-snow > div.ql-editor wrapper\r\n       */\n\n      var previewText = h(\"div\", {\n        \"class\": \"ql-snow\"\n      }, [h(\"div\", {\n        \"domProps\": {\n          \"innerHTML\": this.text\n        },\n        \"class\": \"ql-editor ql-container\"\n      })]);\n      return h(\"div\", {\n        \"on\": {\n          \"dblclick\": function dblclick(e) {\n            _this.canEdit = true;\n            e.stopPropagation();\n          },\n          \"mousedown\": function mousedown(e) {\n            if (_this.canEdit) {\n              e.stopPropagation();\n            }\n          },\n          \"keydown\": function keydown(event) {\n            var key = event.keyCode || event.charCode; // #!en: backspace/delete key should only delete letter in textarea, do not delete element in canvas\n            // #!zh: \n\n            if (key === 8 || key === 46) {\n              event.stopPropagation();\n            }\n          }\n        },\n        \"directives\": [{\n          name: \"click-outside\",\n          value: function value(e) {\n            _this.canEdit = false;\n          }\n        }],\n        \"style\": style\n      }, [canEdit ? h(vueQuillEditor.quillEditor, {\n        \"attrs\": {\n          \"content\": this.text,\n          \"options\": {\n            modules: {\n              // toolbar: '#toolbar-wrapper'\n              toolbar: [['bold', 'italic', 'underline', 'strike'], // \n              [{\n                'list': 'ordered'\n              }, {\n                'list': 'bullet'\n              }], [{\n                'color': []\n              }, {\n                'background': []\n              }], // \n              [{\n                'align': []\n              }], ['clean'], // \n              [{\n                'header': [1, 2, 3, 4, 5, 6, false]\n              }] // https://github.com/quilljs/quill/issues/1208\n              ]\n            },\n            theme: 'snow'\n          }\n        },\n        \"on\": {\n          \"change\": function change(_ref) {\n            var quill = _ref.quill,\n                html = _ref.html,\n                text = _ref.text;\n\n            _this.$emit('input', {\n              value: html,\n              pluginName: 'lbp-text'\n            });\n          }\n        }\n      }) : previewText]);\n    },\n    name: 'lbp-text',\n    data: function data() {\n      return {\n        canEdit: false,\n        innerText: this.text || ''\n      };\n    },\n    props: {\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(0, 0, 0, 0)'\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)'\n      }),\n      borderColor: PropTypes.color({\n        label: ''\n      }),\n      text: PropTypes.string({\n        label: '',\n        defaultValue: '',\n        visible: false\n      }),\n      editorMode: PropTypes.string({\n        defaultValue: 'preview',\n        // : preview/edit\n        label: '',\n        visible: false\n      })\n    },\n    editorConfig: {}\n  };\n\n  var typeOptions = [{\n    label: '',\n    value: 'text'\n  }, {\n    label: '',\n    value: 'password'\n  }, {\n    label: '',\n    value: 'date'\n  }, {\n    label: '',\n    value: 'email'\n  }, {\n    label: '',\n    value: 'tel'\n  }];\n  var LbpFormInput = {\n    name: 'lbp-form-input',\n    render: function render(h) {\n      var style = {\n        color: this.color,\n        textAlign: this.textAlign,\n        backgroundColor: this.backgroundColor,\n        fontSize: this.fontSize + 'px',\n        lineHeight: this.lineHeight + 'em',\n        borderColor: this.borderColor,\n        borderRadius: this.borderRadius + 'px',\n        borderWidth: this.borderWidth + 'px',\n        padding: '0 5px'\n      };\n      return h(\"input\", {\n        \"attrs\": {\n          \"disabled\": this.disabled,\n          \"type\": this.type,\n          \"name\": this.name,\n          \"placeholder\": this.placeholder,\n          \"autocomplete\": \"off\",\n          \"data-type\": \"lbp-form-input\"\n        },\n        \"style\": style\n      });\n    },\n    props: {\n      type: PropTypes.select({\n        defaultValue: 'text',\n        label: '',\n        options: typeOptions\n      }),\n      name: PropTypes.string({\n        defaultValue: 'name',\n        label: 'name'\n      }),\n      disabled: PropTypes.boolean({\n        label: 'disabled'\n      }),\n      fontSize: PropTypes.number({\n        label: '(px)'\n      }),\n      placeholder: PropTypes.string({\n        defaultValue: '',\n        label: ''\n      }),\n      color: PropTypes.color(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign({\n        defaultValue: 'left'\n      }),\n      vertical: PropTypes.boolean(),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      })\n    }\n  }; // .lb-plugin__input {\n  //   display: block;\n  //   margin: 0;\n  //   padding: 0 5px;\n  //   box-sizing: border-box;\n  //   overflow: visible;\n  //   border: 1px solid #ced4da;\n  //   &:focus {\n  //     outline: none;\n  //   }\n  // }\n\n  var LbpFormButton = {\n    render: function render() {\n      var h = arguments[0];\n      var color = this.color,\n          textAlign = this.textAlign,\n          backgroundColor = this.backgroundColor,\n          fontSize = this.fontSize,\n          lineHeight = this.lineHeight,\n          borderColor = this.borderColor,\n          borderRadius = this.borderRadius,\n          borderWidth = this.borderWidth,\n          text = this.text,\n          disabled = this.disabled;\n      var style = {\n        color: color,\n        textAlign: textAlign,\n        backgroundColor: backgroundColor,\n        fontSize: fontSize,\n        lineHeight: lineHeight + 'em',\n        borderColor: borderColor,\n        borderRadius: borderRadius + 'px',\n        borderWidth: borderWidth + 'px',\n        textDecoration: 'none',\n        disabled: disabled\n      };\n      return h(\"button\", {\n        \"style\": style,\n        \"on\": {\n          \"click\": this.handleClick\n        }\n      }, [text]);\n    },\n    name: 'lbp-form-button',\n    props: {\n      text: PropTypes.string({\n        defaultValue: ''\n      }),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      color: PropTypes.color(),\n      fontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 14\n      }),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 4\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign(),\n      disabled: PropTypes.boolean()\n    },\n    methods: {\n      handleClick: function handleClick() {\n        if (this.disabled) return; // #!zh: data-type=lbp-form-input  lbp-form-input \n\n        var inputs = document.querySelectorAll(\"[data-type^='lbp-form-input']\");\n        if (!inputs.length) return;\n        var self = this;\n        var formData = new FormData();\n        inputs.forEach(function (input) {\n          return formData.append(input.dataset.uuid, input.value);\n        });\n        var req = new XMLHttpRequest();\n\n        req.onreadystatechange = function () {\n          if (req.readyState === 4) {\n            var message = req.status === 200 ? '' : '';\n            self.$message.info(message);\n          }\n        }; // #!zh: vuex.module.editor.setWork \n\n\n        var workId = window.__work.id; // TODO #!zh: \n\n        req.open('post', \"/works/form/submit/\".concat(workId), true);\n        req.send(formData);\n      }\n    }\n  };\n\n  var LbpFormRadio = {\n    name: 'lbp-form-radio',\n    props: {\n      value: {\n        type: [String, Number],\n        default: ''\n      },\n      aliasName: {\n        type: String,\n        default: ''\n      },\n      type: {\n        type: String,\n        default: 'radio'\n      },\n      checked: {\n        type: Boolean,\n        default: false\n      },\n      onFocus: {\n        type: Function,\n        default: function _default() {}\n      },\n      onClick: {\n        type: Function,\n        default: function _default() {}\n      },\n      onBlur: {\n        type: Function,\n        default: function _default() {}\n      },\n      doChange: {\n        type: Function,\n        default: function _default() {}\n      }\n    },\n    methods: {\n      handleChange: function handleChange(e) {\n        if (this.disabled) return;\n        this.$emit('change', e.target.value);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var aliasName = this.aliasName,\n          type = this.type,\n          disabled = this.disabled,\n          checked = this.checked,\n          value = this.value;\n      var uuid = +new Date() + genUUID();\n      return h(\"div\", {\n        \"class\": ['lbp-' + this.type + '-wrapper', 'lbp-rc-wrapper']\n      }, [h(\"span\", {\n        \"class\": \"tag\"\n      }, [value]), h(\"input\", {\n        \"class\": ['lbp-' + this.type, 'lbp-rc-input'],\n        \"attrs\": {\n          \"name\": aliasName,\n          \"id\": uuid,\n          \"type\": type,\n          \"disabled\": disabled\n        },\n        \"ref\": \"input\",\n        \"domProps\": {\n          \"value\": value,\n          \"checked\": !!checked\n        },\n        \"on\": {\n          \"change\": this.handleChange\n        }\n      }), h(\"label\", {\n        \"attrs\": {\n          \"for\": uuid\n        }\n      })]);\n    }\n  };\n\n  function getDefaultItems() {\n    // defaultItems.slice(0)[0] === defaultItems.slice(0)[0] -> true\n    // Object.assign(defaultItems)[0] === Object.assign(defaultItems)[0] -> true\n    // clone = (val) => JSON.parse(JSON.stringify(val))\n    // clone(defaultItems)[0] === clone(defaultItems)[0] -> false\n    var defaultItems = [{\n      value: 'A'\n    }, {\n      value: 'B'\n    }, {\n      value: 'C'\n    }];\n    return defaultItems;\n  }\n\n  var LbpFormRadioGroup = {\n    extra: {\n      defaultStyle: {\n        width: 120,\n        height: 120\n      }\n    },\n    name: 'lbp-form-radio-group',\n    props: {\n      aliasName: PropTypes.string({\n        defaultValue: \"\\u6807\\u9898\\u6F14\\u793A\",\n        label: ''\n      }),\n      items: PropTypes.textOptions({\n        label: '',\n        defaultValue: function defaultValue() {\n          return getDefaultItems();\n        }\n      }),\n      type: {\n        type: String,\n        default: 'radio',\n        editor: {\n          type: 'a-radio-group',\n          label: '',\n          require: true,\n          props: {\n            options: [{\n              label: '',\n              value: 'radio'\n            }, {\n              label: '',\n              value: 'checkbox'\n            }],\n            name: 'mode'\n          }\n        }\n      }\n    },\n    data: function data() {\n      return {\n        value: this.type === 'radio' ? '' : [],\n        uuid: undefined\n      };\n    },\n    computed: {\n      value_: function value_() {\n        if (this.type === 'radio') {\n          return this.value;\n        } else {\n          var value = Array.isArray(this.value) && this.value || [];\n          return value.join(',');\n        }\n      }\n    },\n    watch: {\n      type: function type(_type) {\n        this.value = _type === 'radio' ? '' : [];\n      }\n    },\n    mounted: function mounted() {\n      this.uuid = this.$el.dataset.uuid;\n    },\n    methods: {\n      /**\r\n       * @param {String, Number} val radioValue or checkboxValue\r\n       */\n      onChange: function onChange(val) {\n        switch (this.type) {\n          case 'radio':\n            this.toggleRadio(val);\n            break;\n\n          case 'checkbox':\n            this.toggleCheckbox(val);\n            break;\n        }\n      },\n      toggleCheckbox: function toggleCheckbox(val) {\n        var index = this.value.indexOf(val);\n\n        if (index === -1) {\n          this.value.push(val);\n        } else {\n          this.value.splice(index, 1);\n        }\n      },\n      toggleRadio: function toggleRadio(val) {\n        this.value = val;\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"h3\", [this.aliasName]), h(\"input\", {\n        \"attrs\": {\n          \"type\": \"text\",\n          \"hidden\": true,\n          \"data-type\": \"lbp-form-input\",\n          \"data-uuid\": this.uuid\n        },\n        \"domProps\": {\n          \"value\": this.value_\n        }\n      }), this.items.map(function (item) {\n        return h(LbpFormRadio, {\n          \"attrs\": {\n            \"vertical\": true,\n            \"value\": item.value,\n            \"checked\": _this.value === item.value,\n            \"aliasName\": _this.uuid,\n            \"type\": _this.type\n          },\n          \"on\": {\n            \"change\": _this.onChange\n          }\n        }, [item.value]);\n      })]);\n    }\n  };\n\n  function getDefaultItems$1() {\n    // defaultItems.slice(0)[0] === defaultItems.slice(0)[0] -> true\n    // Object.assign(defaultItems)[0] === Object.assign(defaultItems)[0] -> true\n    // clone = (val) => JSON.parse(JSON.stringify(val))\n    // clone(defaultItems)[0] === clone(defaultItems)[0] -> false\n    var defaultItems = [{\n      value: \"A\"\n    }, {\n      value: \"B\"\n    }, {\n      value: \"C\"\n    }];\n    return defaultItems;\n  }\n\n  var LbpFormCheckboxGroup = {\n    extra: {\n      defaultStyle: {\n        width: 120,\n        height: 120\n      }\n    },\n    name: \"lbp-form-checkbox-group\",\n    components: {\n      LbpFormRadio: LbpFormRadio\n    },\n    props: {\n      aliasName: PropTypes.string({\n        defaultValue: \"\",\n        label: \"\"\n      }),\n      items: PropTypes.textOptions({\n        label: \"\",\n        defaultValue: function defaultValue() {\n          return getDefaultItems$1();\n        }\n      }),\n      // TODO  radio-group  common-props\n      type: {\n        type: String,\n        default: \"checkbox\",\n        editor: {\n          type: \"a-radio-group\",\n          label: \"\",\n          require: true,\n          props: {\n            options: [{\n              label: \"\",\n              value: \"radio\"\n            }, {\n              label: \"\",\n              value: \"checkbox\"\n            }],\n            name: \"mode\"\n          }\n        }\n      }\n    },\n    data: function data() {\n      return {\n        value: this.type === \"radio\" ? \"\" : [],\n        uuid: undefined\n      };\n    },\n    computed: {\n      value_: function value_() {\n        if (this.type === \"radio\") {\n          return this.value;\n        } else {\n          var value = Array.isArray(this.value) && this.value || [];\n          return value.join(\",\");\n        }\n      }\n    },\n    watch: {\n      type: function type(_type) {\n        this.value = _type === \"radio\" ? \"\" : [];\n      }\n    },\n    mounted: function mounted() {\n      this.uuid = this.$el.dataset.uuid;\n    },\n    methods: {\n      /**\r\n       * @param {String, Number} val radioValue or checkboxValue\r\n       */\n      onChange: function onChange(val) {\n        switch (this.type) {\n          case \"radio\":\n            this.toggleRadio(val);\n            break;\n\n          case \"checkbox\":\n            this.toggleCheckbox(val);\n            break;\n        }\n      },\n      toggleCheckbox: function toggleCheckbox(val) {\n        var index = this.value.indexOf(val);\n\n        if (index === -1) {\n          this.value.push(val);\n        } else {\n          this.value.splice(index, 1);\n        }\n      },\n      toggleRadio: function toggleRadio(val) {\n        this.value = val;\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"h3\", [this.aliasName]), h(\"input\", {\n        \"attrs\": {\n          \"type\": \"text\",\n          \"hidden\": true,\n          \"data-type\": \"lbp-form-input\",\n          \"data-uuid\": this.uuid\n        },\n        \"domProps\": {\n          \"value\": this.value_\n        }\n      }), this.items.map(function (item) {\n        return h(\"lbp-form-radio\", {\n          \"attrs\": {\n            \"vertical\": true,\n            \"value\": item.value,\n            \"checked\": _this.type === \"radio\" ? _this.value === item.value : _this.value.includes(item.value),\n            \"aliasName\": _this.uuid,\n            \"type\": _this.type\n          },\n          \"on\": {\n            \"change\": _this.onChange\n          }\n        }, [item.value]);\n      })]);\n    }\n  };\n\n  /**\r\n   *\r\n   * @param {*} param0 canvas  watermark\r\n   */\n\n  function renderWaterMark() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$container = _ref.container,\n        container = _ref$container === void 0 ? document.body : _ref$container,\n        _ref$width = _ref.width,\n        width = _ref$width === void 0 ? '100px' : _ref$width,\n        _ref$height = _ref.height,\n        height = _ref$height === void 0 ? '100px' : _ref$height,\n        _ref$textAlign = _ref.textAlign,\n        textAlign = _ref$textAlign === void 0 ? 'center' : _ref$textAlign,\n        _ref$textBaseline = _ref.textBaseline,\n        textBaseline = _ref$textBaseline === void 0 ? 'middle' : _ref$textBaseline,\n        _ref$fontSize = _ref.fontSize,\n        fontSize = _ref$fontSize === void 0 ? 16 : _ref$fontSize,\n        _ref$fillStyle = _ref.fillStyle,\n        fillStyle = _ref$fillStyle === void 0 ? 'rgba(184, 184, 184, 0.2 )' : _ref$fillStyle,\n        _ref$content = _ref.content,\n        content = _ref$content === void 0 ? '' : _ref$content,\n        _ref$rotate = _ref.rotate,\n        rotate = _ref$rotate === void 0 ? 0 : _ref$rotate,\n        _ref$zIndex = _ref.zIndex,\n        zIndex = _ref$zIndex === void 0 ? 1000 : _ref$zIndex;\n\n    var canvas = document.createElement('canvas');\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n    var ctx = canvas.getContext('2d');\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = \"\".concat(fontSize, \"px Arial\");\n    ctx.fillStyle = fillStyle; // ctx.rotate(Math.PI / 180 * rotate);\n\n    ctx.fillText(content, 0, parseFloat(height) / 3);\n    var base64Url = canvas.toDataURL();\n    var wmEl = document.querySelector('.luban_h5__wm');\n    var watermarkDiv = wmEl || document.createElement('div');\n    var styleStr = \"\\n    transform: rotate(\".concat(rotate, \"deg);\\n    position:absolute;\\n    top:0;\\n    left:0;\\n    width:100%;\\n    height:100%;\\n    z-index:\").concat(zIndex, \";\\n    pointer-events:none;\\n    background-repeat:repeat;\\n    background-image:url('\").concat(base64Url, \"')\");\n    watermarkDiv.setAttribute('style', styleStr);\n\n    if (!wmEl) {\n      watermarkDiv.classList.add('luban_h5__wm');\n      container.style.position = 'relative';\n      container.insertBefore(watermarkDiv, container.firstChild);\n    }\n  }\n\n  function ownKeys$f(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$e(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$f(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$f(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var LbpBackground = {\n    name: 'lbp-background',\n    props: {\n      imgSrc: PropTypes.image({\n        label: ''\n      }),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      waterMarkText: PropTypes.string({\n        label: '',\n        defaultValue: ''\n      }),\n      waterMarkFontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 16\n      }),\n      waterMarkRotate: PropTypes.number({\n        label: '',\n        defaultValue: 10\n      }),\n      waterMarkColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(184, 184, 184, 0.2)'\n      })\n    },\n    methods: {\n      renderWaterMark: function renderWaterMark$1() {\n        renderWaterMark({\n          container: this.$refs.root,\n          content: this.waterMarkText,\n          fontSize: this.waterMarkFontSize,\n          rotate: this.waterMarkRotate,\n          fillStyle: this.waterMarkColor\n        });\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var style = {\n        width: '100%',\n        height: '100%'\n      };\n\n      if (this.imgSrc) {\n        style = _objectSpread$e(_objectSpread$e({}, style), {}, {\n          'background-size': 'cover',\n          'background-position': '50% 50%',\n          'background-origin': 'content-box',\n          'background-image': \"url(\".concat(this.imgSrc, \")\")\n        });\n      } else {\n        style = _objectSpread$e(_objectSpread$e({}, style), {}, {\n          backgroundColor: this.backgroundColor\n        });\n      }\n\n      return (// [:CSS] : https://codesandbox.io/s/ziyuansuzindexzaigao-wufafugaifuyuansudexiongdiyuansu-n15rd?file=/index.html\n        h(\"div\", {\n          \"style\": \"width: 100%; height: 100%; overflow: hidden; position: absolute; z-index: 0; opacity: 1;\",\n          \"ref\": \"root\"\n        }, [h(\"div\", {\n          \"style\": style\n        })])\n      );\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      this.renderWaterMark();\n      ['waterMarkText', 'waterMarkFontSize', 'waterMarkRotate', 'waterMarkColor'].forEach(function (key) {\n        _this.$watch(key, _this.renderWaterMark);\n      });\n    }\n  };\n\n  function getDefaultItems$2() {\n    var defaultItems = [{\n      image: 'https://img.yzcdn.cn/vant/apple-1.jpg'\n    }, {\n      image: 'https://img.yzcdn.cn/vant/apple-2.jpg'\n    }];\n    return defaultItems;\n  }\n\n  var LbpSlide = {\n    name: 'lbp-slide',\n    props: {\n      interval: PropTypes.number({\n        defaultValue: 4000,\n        label: ''\n      }),\n      editorMode: PropTypes.string({\n        defaultValue: 'preview',\n        label: ''\n      }),\n      activeIndex: {\n        type: Number,\n        default: 0,\n        editor: {\n          custom: true\n        }\n      },\n      items: {\n        type: Array,\n        default: function _default() {\n          return getDefaultItems$2();\n        },\n        editor: {\n          custom: true\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      var items = this.items,\n          activeIndex = this.activeIndex;\n      return this.editorMode === 'edit' ? items.length && h(\"img\", {\n        \"attrs\": {\n          \"src\": items[activeIndex].image\n        }\n      }) : h(vant.Swipe, {\n        \"attrs\": {\n          \"autoplay\": +this.interval,\n          \"indicator-color\": \"red\"\n        }\n      }, [items.map(function (item) {\n        return h(vant.SwipeItem, [h(\"img\", {\n          \"attrs\": {\n            \"src\": item.image,\n            \"width\": \"100%\",\n            \"height\": \"100%\"\n          }\n        })]);\n      })]);\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-01-03 23:43:34\r\n   * @LastEditors: ly525\r\n   * @LastEditTime: 2020-10-10 23:32:41\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/core/plugins/lbp-bg-music.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpBgMusic = {\n    name: 'lbp-bg-music',\n    props: {\n      disabled: PropTypes.boolean({\n        defaultValue: true,\n        label: 'disabled'\n      }),\n      autoplay: PropTypes.boolean({\n        defaultValue: true,\n        label: ''\n      }),\n      src: PropTypes.string({\n        label: 'URL',\n        defaultValue: 'http://go.163.com/2018/0209/mengniu/audio/bgm.mp3',\n        props: {\n          type: 'textarea'\n        }\n      })\n    },\n    data: function data() {\n      return {\n        isPlaying: true\n      };\n    },\n    methods: {\n      toggle: function toggle() {\n        var bgAudio = this.$refs.bgAudio;\n        if (!bgAudio) return;\n        this.isPlaying ? bgAudio.pause() : bgAudio.play();\n        this.isPlaying = !this.isPlaying;\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var btnStyle = {\n        'animation-play-state': this.isPlaying ? 'running' : 'paused'\n      };\n      return h(\"div\", {\n        \"class\": \"bg-music-wrapper\",\n        \"style\": \"display: block;\"\n      }, [h(\"div\", {\n        \"class\": \"bg-music-btn rotate\",\n        \"style\": btnStyle,\n        \"on\": {\n          \"click\": this.toggle\n        },\n        \"attrs\": {\n          \"disabled\": this.disabled\n        }\n      }, [h(\"audio\", {\n        \"attrs\": {\n          \"src\": this.src,\n          \"autoplay\": this.autoplay,\n          \"preload\": true,\n          \"loop\": true\n        },\n        \"ref\": 'bgAudio'\n      })])]);\n    },\n    created: function created() {\n      // autoplay \n      // \n      this.isPlaying = this.autoplay;\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-14 08:09:44\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-11-03 10:16:58\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/core/plugins/lbp-notice-bar.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpNoticeBar = {\n    extra: {\n      defaultStyle: {\n        width: 300,\n        height: 30\n      }\n    },\n    name: 'lbp-notice-bar',\n    props: {\n      text: PropTypes.string({\n        defaultValue: '',\n        label: '',\n        props: {\n          type: 'textarea'\n        }\n      }),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: '#fffbe8'\n      }),\n\n      /**  */\n      color: PropTypes.color({\n        defaultValue: '#ed6a0c'\n      }),\n\n      /**  */\n      mode: {\n        type: String,\n        default: '',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: '',\n              value: ''\n            }, {\n              label: '',\n              value: 'link'\n            }, {\n              label: '',\n              value: 'closeable'\n            }]\n          }\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      return h(vant.NoticeBar, {\n        \"attrs\": {\n          \"mode\": this.mode,\n          \"color\": this.color,\n          \"left-icon\": \"volume-o\",\n          \"text\": this.text,\n          \"background\": this.backgroundColor\n        }\n      });\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-17 20:04:23\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-28 17:58:59\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/core/plugins/lbp-rate.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpRate = {\n    name: 'lbp-rate',\n    props: {\n      value: PropTypes.number({\n        defaultValue: 5,\n        label: ''\n      }),\n      count: PropTypes.number({\n        defaultValue: 5,\n        label: ''\n      }),\n      size: PropTypes.number({\n        defaultValue: 16,\n        label: ''\n      }),\n      gutter: PropTypes.number({\n        defaultValue: 16,\n        label: ''\n      }),\n      mode: {\n        type: String,\n        default: '',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: 'star',\n              value: 'star'\n            }, {\n              label: '',\n              value: 'like'\n            }, {\n              label: 'Good',\n              value: 'good-job'\n            }]\n          }\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      return h(vant.Rate, {\n        \"attrs\": {\n          \"value\": this.value,\n          \"count\": this.count,\n          \"size\": this.size,\n          \"color\": this.color,\n          \"gutter\": this.gutter,\n          \"void-icon\": \"star\",\n          \"void-color\": \"#eee\"\n        }\n      });\n    }\n  };\n\n  var nativePromiseConstructor = global_1.Promise;\n\n  var redefineAll = function (target, src, options) {\n    for (var key in src) redefine(target, key, src[key], options);\n    return target;\n  };\n\n  var anInstance = function (it, Constructor, name) {\n    if (!(it instanceof Constructor)) {\n      throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n    } return it;\n  };\n\n  var iterators = {};\n\n  var ITERATOR = wellKnownSymbol('iterator');\n  var ArrayPrototype$1 = Array.prototype;\n\n  // check on default Array iterator\n  var isArrayIteratorMethod = function (it) {\n    return it !== undefined && (iterators.Array === it || ArrayPrototype$1[ITERATOR] === it);\n  };\n\n  var ITERATOR$1 = wellKnownSymbol('iterator');\n\n  var getIteratorMethod = function (it) {\n    if (it != undefined) return it[ITERATOR$1]\n      || it['@@iterator']\n      || iterators[classof(it)];\n  };\n\n  // call something on iterator step with safe closing on error\n  var callWithSafeIterationClosing = function (iterator, fn, value, ENTRIES) {\n    try {\n      return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n    // 7.4.6 IteratorClose(iterator, completion)\n    } catch (error) {\n      var returnMethod = iterator['return'];\n      if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n      throw error;\n    }\n  };\n\n  var iterate_1 = createCommonjsModule(function (module) {\n  var Result = function (stopped, result) {\n    this.stopped = stopped;\n    this.result = result;\n  };\n\n  var iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n    var boundFunction = functionBindContext(fn, that, AS_ENTRIES ? 2 : 1);\n    var iterator, iterFn, index, length, result, next, step;\n\n    if (IS_ITERATOR) {\n      iterator = iterable;\n    } else {\n      iterFn = getIteratorMethod(iterable);\n      if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n      // optimisation for array iterators\n      if (isArrayIteratorMethod(iterFn)) {\n        for (index = 0, length = toLength(iterable.length); length > index; index++) {\n          result = AS_ENTRIES\n            ? boundFunction(anObject(step = iterable[index])[0], step[1])\n            : boundFunction(iterable[index]);\n          if (result && result instanceof Result) return result;\n        } return new Result(false);\n      }\n      iterator = iterFn.call(iterable);\n    }\n\n    next = iterator.next;\n    while (!(step = next.call(iterator)).done) {\n      result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n      if (typeof result == 'object' && result && result instanceof Result) return result;\n    } return new Result(false);\n  };\n\n  iterate.stop = function (result) {\n    return new Result(true, result);\n  };\n  });\n\n  var ITERATOR$2 = wellKnownSymbol('iterator');\n  var SAFE_CLOSING = false;\n\n  try {\n    var called = 0;\n    var iteratorWithReturn = {\n      next: function () {\n        return { done: !!called++ };\n      },\n      'return': function () {\n        SAFE_CLOSING = true;\n      }\n    };\n    iteratorWithReturn[ITERATOR$2] = function () {\n      return this;\n    };\n    // eslint-disable-next-line no-throw-literal\n    Array.from(iteratorWithReturn, function () { throw 2; });\n  } catch (error) { /* empty */ }\n\n  var checkCorrectnessOfIteration = function (exec, SKIP_CLOSING) {\n    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n    var ITERATION_SUPPORT = false;\n    try {\n      var object = {};\n      object[ITERATOR$2] = function () {\n        return {\n          next: function () {\n            return { done: ITERATION_SUPPORT = true };\n          }\n        };\n      };\n      exec(object);\n    } catch (error) { /* empty */ }\n    return ITERATION_SUPPORT;\n  };\n\n  var engineIsIos = /(iphone|ipod|ipad).*applewebkit/i.test(engineUserAgent);\n\n  var location = global_1.location;\n  var set$1 = global_1.setImmediate;\n  var clear = global_1.clearImmediate;\n  var process$1 = global_1.process;\n  var MessageChannel = global_1.MessageChannel;\n  var Dispatch = global_1.Dispatch;\n  var counter = 0;\n  var queue = {};\n  var ONREADYSTATECHANGE = 'onreadystatechange';\n  var defer, channel, port;\n\n  var run = function (id) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (queue.hasOwnProperty(id)) {\n      var fn = queue[id];\n      delete queue[id];\n      fn();\n    }\n  };\n\n  var runner = function (id) {\n    return function () {\n      run(id);\n    };\n  };\n\n  var listener = function (event) {\n    run(event.data);\n  };\n\n  var post = function (id) {\n    // old engines have not location.origin\n    global_1.postMessage(id + '', location.protocol + '//' + location.host);\n  };\n\n  // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n  if (!set$1 || !clear) {\n    set$1 = function setImmediate(fn) {\n      var args = [];\n      var i = 1;\n      while (arguments.length > i) args.push(arguments[i++]);\n      queue[++counter] = function () {\n        // eslint-disable-next-line no-new-func\n        (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n      };\n      defer(counter);\n      return counter;\n    };\n    clear = function clearImmediate(id) {\n      delete queue[id];\n    };\n    // Node.js 0.8-\n    if (classofRaw(process$1) == 'process') {\n      defer = function (id) {\n        process$1.nextTick(runner(id));\n      };\n    // Sphere (JS game engine) Dispatch API\n    } else if (Dispatch && Dispatch.now) {\n      defer = function (id) {\n        Dispatch.now(runner(id));\n      };\n    // Browsers with MessageChannel, includes WebWorkers\n    // except iOS - https://github.com/zloirock/core-js/issues/624\n    } else if (MessageChannel && !engineIsIos) {\n      channel = new MessageChannel();\n      port = channel.port2;\n      channel.port1.onmessage = listener;\n      defer = functionBindContext(port.postMessage, port, 1);\n    // Browsers with postMessage, skip WebWorkers\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n    } else if (\n      global_1.addEventListener &&\n      typeof postMessage == 'function' &&\n      !global_1.importScripts &&\n      !fails(post) &&\n      location.protocol !== 'file:'\n    ) {\n      defer = post;\n      global_1.addEventListener('message', listener, false);\n    // IE8-\n    } else if (ONREADYSTATECHANGE in documentCreateElement('script')) {\n      defer = function (id) {\n        html.appendChild(documentCreateElement('script'))[ONREADYSTATECHANGE] = function () {\n          html.removeChild(this);\n          run(id);\n        };\n      };\n    // Rest old browsers\n    } else {\n      defer = function (id) {\n        setTimeout(runner(id), 0);\n      };\n    }\n  }\n\n  var task = {\n    set: set$1,\n    clear: clear\n  };\n\n  var getOwnPropertyDescriptor$3 = objectGetOwnPropertyDescriptor.f;\n\n  var macrotask = task.set;\n\n\n  var MutationObserver = global_1.MutationObserver || global_1.WebKitMutationObserver;\n  var process$2 = global_1.process;\n  var Promise$1 = global_1.Promise;\n  var IS_NODE = classofRaw(process$2) == 'process';\n  // Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\n  var queueMicrotaskDescriptor = getOwnPropertyDescriptor$3(global_1, 'queueMicrotask');\n  var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\n  var flush, head, last, notify, toggle, node, promise, then;\n\n  // modern engines have queueMicrotask method\n  if (!queueMicrotask) {\n    flush = function () {\n      var parent, fn;\n      if (IS_NODE && (parent = process$2.domain)) parent.exit();\n      while (head) {\n        fn = head.fn;\n        head = head.next;\n        try {\n          fn();\n        } catch (error) {\n          if (head) notify();\n          else last = undefined;\n          throw error;\n        }\n      } last = undefined;\n      if (parent) parent.enter();\n    };\n\n    // Node.js\n    if (IS_NODE) {\n      notify = function () {\n        process$2.nextTick(flush);\n      };\n    // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n    } else if (MutationObserver && !engineIsIos) {\n      toggle = true;\n      node = document.createTextNode('');\n      new MutationObserver(flush).observe(node, { characterData: true });\n      notify = function () {\n        node.data = toggle = !toggle;\n      };\n    // environments with maybe non-completely correct, but existent Promise\n    } else if (Promise$1 && Promise$1.resolve) {\n      // Promise.resolve without an argument throws an error in LG WebOS 2\n      promise = Promise$1.resolve(undefined);\n      then = promise.then;\n      notify = function () {\n        then.call(promise, flush);\n      };\n    // for other environments - macrotask based on:\n    // - setImmediate\n    // - MessageChannel\n    // - window.postMessag\n    // - onreadystatechange\n    // - setTimeout\n    } else {\n      notify = function () {\n        // strange IE + webpack dev server bug - use .call(global)\n        macrotask.call(global_1, flush);\n      };\n    }\n  }\n\n  var microtask = queueMicrotask || function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n\n  var PromiseCapability = function (C) {\n    var resolve, reject;\n    this.promise = new C(function ($$resolve, $$reject) {\n      if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n      resolve = $$resolve;\n      reject = $$reject;\n    });\n    this.resolve = aFunction$1(resolve);\n    this.reject = aFunction$1(reject);\n  };\n\n  // 25.4.1.5 NewPromiseCapability(C)\n  var f$7 = function (C) {\n    return new PromiseCapability(C);\n  };\n\n  var newPromiseCapability = {\n  \tf: f$7\n  };\n\n  var promiseResolve = function (C, x) {\n    anObject(C);\n    if (isObject(x) && x.constructor === C) return x;\n    var promiseCapability = newPromiseCapability.f(C);\n    var resolve = promiseCapability.resolve;\n    resolve(x);\n    return promiseCapability.promise;\n  };\n\n  var hostReportErrors = function (a, b) {\n    var console = global_1.console;\n    if (console && console.error) {\n      arguments.length === 1 ? console.error(a) : console.error(a, b);\n    }\n  };\n\n  var perform = function (exec) {\n    try {\n      return { error: false, value: exec() };\n    } catch (error) {\n      return { error: true, value: error };\n    }\n  };\n\n  var task$1 = task.set;\n\n\n\n\n\n\n\n\n\n\n  var SPECIES$6 = wellKnownSymbol('species');\n  var PROMISE = 'Promise';\n  var getInternalState$1 = internalState.get;\n  var setInternalState$2 = internalState.set;\n  var getInternalPromiseState = internalState.getterFor(PROMISE);\n  var PromiseConstructor = nativePromiseConstructor;\n  var TypeError$1 = global_1.TypeError;\n  var document$2 = global_1.document;\n  var process$3 = global_1.process;\n  var $fetch = getBuiltIn('fetch');\n  var newPromiseCapability$1 = newPromiseCapability.f;\n  var newGenericPromiseCapability = newPromiseCapability$1;\n  var IS_NODE$1 = classofRaw(process$3) == 'process';\n  var DISPATCH_EVENT = !!(document$2 && document$2.createEvent && global_1.dispatchEvent);\n  var UNHANDLED_REJECTION = 'unhandledrejection';\n  var REJECTION_HANDLED = 'rejectionhandled';\n  var PENDING = 0;\n  var FULFILLED = 1;\n  var REJECTED = 2;\n  var HANDLED = 1;\n  var UNHANDLED = 2;\n  var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n  var FORCED$3 = isForced_1(PROMISE, function () {\n    var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n    if (!GLOBAL_CORE_JS_PROMISE) {\n      // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // We can't detect it synchronously, so just check versions\n      if (engineV8Version === 66) return true;\n      // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n      if (!IS_NODE$1 && typeof PromiseRejectionEvent != 'function') return true;\n    }\n    // We can't use @@species feature detection in V8 since it causes\n    // deoptimization and performance degradation\n    // https://github.com/zloirock/core-js/issues/679\n    if (engineV8Version >= 51 && /native code/.test(PromiseConstructor)) return false;\n    // Detect correctness of subclassing with @@species support\n    var promise = PromiseConstructor.resolve(1);\n    var FakePromise = function (exec) {\n      exec(function () { /* empty */ }, function () { /* empty */ });\n    };\n    var constructor = promise.constructor = {};\n    constructor[SPECIES$6] = FakePromise;\n    return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n  });\n\n  var INCORRECT_ITERATION = FORCED$3 || !checkCorrectnessOfIteration(function (iterable) {\n    PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n  });\n\n  // helpers\n  var isThenable = function (it) {\n    var then;\n    return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n  };\n\n  var notify$1 = function (promise, state, isReject) {\n    if (state.notified) return;\n    state.notified = true;\n    var chain = state.reactions;\n    microtask(function () {\n      var value = state.value;\n      var ok = state.state == FULFILLED;\n      var index = 0;\n      // variable length - can't use forEach\n      while (chain.length > index) {\n        var reaction = chain[index++];\n        var handler = ok ? reaction.ok : reaction.fail;\n        var resolve = reaction.resolve;\n        var reject = reaction.reject;\n        var domain = reaction.domain;\n        var result, then, exited;\n        try {\n          if (handler) {\n            if (!ok) {\n              if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n              state.rejection = HANDLED;\n            }\n            if (handler === true) result = value;\n            else {\n              if (domain) domain.enter();\n              result = handler(value); // can throw\n              if (domain) {\n                domain.exit();\n                exited = true;\n              }\n            }\n            if (result === reaction.promise) {\n              reject(TypeError$1('Promise-chain cycle'));\n            } else if (then = isThenable(result)) {\n              then.call(result, resolve, reject);\n            } else resolve(result);\n          } else reject(value);\n        } catch (error) {\n          if (domain && !exited) domain.exit();\n          reject(error);\n        }\n      }\n      state.reactions = [];\n      state.notified = false;\n      if (isReject && !state.rejection) onUnhandled(promise, state);\n    });\n  };\n\n  var dispatchEvent = function (name, promise, reason) {\n    var event, handler;\n    if (DISPATCH_EVENT) {\n      event = document$2.createEvent('Event');\n      event.promise = promise;\n      event.reason = reason;\n      event.initEvent(name, false, true);\n      global_1.dispatchEvent(event);\n    } else event = { promise: promise, reason: reason };\n    if (handler = global_1['on' + name]) handler(event);\n    else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n  };\n\n  var onUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      var value = state.value;\n      var IS_UNHANDLED = isUnhandled(state);\n      var result;\n      if (IS_UNHANDLED) {\n        result = perform(function () {\n          if (IS_NODE$1) {\n            process$3.emit('unhandledRejection', value, promise);\n          } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n        });\n        // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n        state.rejection = IS_NODE$1 || isUnhandled(state) ? UNHANDLED : HANDLED;\n        if (result.error) throw result.value;\n      }\n    });\n  };\n\n  var isUnhandled = function (state) {\n    return state.rejection !== HANDLED && !state.parent;\n  };\n\n  var onHandleUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      if (IS_NODE$1) {\n        process$3.emit('rejectionHandled', promise);\n      } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n    });\n  };\n\n  var bind = function (fn, promise, state, unwrap) {\n    return function (value) {\n      fn(promise, state, value, unwrap);\n    };\n  };\n\n  var internalReject = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    state.value = value;\n    state.state = REJECTED;\n    notify$1(promise, state, true);\n  };\n\n  var internalResolve = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    try {\n      if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n      var then = isThenable(value);\n      if (then) {\n        microtask(function () {\n          var wrapper = { done: false };\n          try {\n            then.call(value,\n              bind(internalResolve, promise, wrapper, state),\n              bind(internalReject, promise, wrapper, state)\n            );\n          } catch (error) {\n            internalReject(promise, wrapper, error, state);\n          }\n        });\n      } else {\n        state.value = value;\n        state.state = FULFILLED;\n        notify$1(promise, state, false);\n      }\n    } catch (error) {\n      internalReject(promise, { done: false }, error, state);\n    }\n  };\n\n  // constructor polyfill\n  if (FORCED$3) {\n    // 25.4.3.1 Promise(executor)\n    PromiseConstructor = function Promise(executor) {\n      anInstance(this, PromiseConstructor, PROMISE);\n      aFunction$1(executor);\n      Internal.call(this);\n      var state = getInternalState$1(this);\n      try {\n        executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n      } catch (error) {\n        internalReject(this, state, error);\n      }\n    };\n    // eslint-disable-next-line no-unused-vars\n    Internal = function Promise(executor) {\n      setInternalState$2(this, {\n        type: PROMISE,\n        done: false,\n        notified: false,\n        parent: false,\n        reactions: [],\n        rejection: false,\n        state: PENDING,\n        value: undefined\n      });\n    };\n    Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n      // `Promise.prototype.then` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n      then: function then(onFulfilled, onRejected) {\n        var state = getInternalPromiseState(this);\n        var reaction = newPromiseCapability$1(speciesConstructor(this, PromiseConstructor));\n        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n        reaction.fail = typeof onRejected == 'function' && onRejected;\n        reaction.domain = IS_NODE$1 ? process$3.domain : undefined;\n        state.parent = true;\n        state.reactions.push(reaction);\n        if (state.state != PENDING) notify$1(this, state, false);\n        return reaction.promise;\n      },\n      // `Promise.prototype.catch` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n      'catch': function (onRejected) {\n        return this.then(undefined, onRejected);\n      }\n    });\n    OwnPromiseCapability = function () {\n      var promise = new Internal();\n      var state = getInternalState$1(promise);\n      this.promise = promise;\n      this.resolve = bind(internalResolve, promise, state);\n      this.reject = bind(internalReject, promise, state);\n    };\n    newPromiseCapability.f = newPromiseCapability$1 = function (C) {\n      return C === PromiseConstructor || C === PromiseWrapper\n        ? new OwnPromiseCapability(C)\n        : newGenericPromiseCapability(C);\n    };\n\n    if ( typeof nativePromiseConstructor == 'function') {\n      nativeThen = nativePromiseConstructor.prototype.then;\n\n      // wrap native Promise#then for native async functions\n      redefine(nativePromiseConstructor.prototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // wrap fetch result\n      if (typeof $fetch == 'function') _export({ global: true, enumerable: true, forced: true }, {\n        // eslint-disable-next-line no-unused-vars\n        fetch: function fetch(input /* , init */) {\n          return promiseResolve(PromiseConstructor, $fetch.apply(global_1, arguments));\n        }\n      });\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: FORCED$3 }, {\n    Promise: PromiseConstructor\n  });\n\n  setToStringTag(PromiseConstructor, PROMISE, false);\n  setSpecies(PROMISE);\n\n  PromiseWrapper = getBuiltIn(PROMISE);\n\n  // statics\n  _export({ target: PROMISE, stat: true, forced: FORCED$3 }, {\n    // `Promise.reject` method\n    // https://tc39.github.io/ecma262/#sec-promise.reject\n    reject: function reject(r) {\n      var capability = newPromiseCapability$1(this);\n      capability.reject.call(undefined, r);\n      return capability.promise;\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced:  FORCED$3 }, {\n    // `Promise.resolve` method\n    // https://tc39.github.io/ecma262/#sec-promise.resolve\n    resolve: function resolve(x) {\n      return promiseResolve( this, x);\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n    // `Promise.all` method\n    // https://tc39.github.io/ecma262/#sec-promise.all\n    all: function all(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        var values = [];\n        var counter = 0;\n        var remaining = 1;\n        iterate_1(iterable, function (promise) {\n          var index = counter++;\n          var alreadyCalled = false;\n          values.push(undefined);\n          remaining++;\n          $promiseResolve.call(C, promise).then(function (value) {\n            if (alreadyCalled) return;\n            alreadyCalled = true;\n            values[index] = value;\n            --remaining || resolve(values);\n          }, reject);\n        });\n        --remaining || resolve(values);\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    },\n    // `Promise.race` method\n    // https://tc39.github.io/ecma262/#sec-promise.race\n    race: function race(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        iterate_1(iterable, function (promise) {\n          $promiseResolve.call(C, promise).then(capability.resolve, reject);\n        });\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    }\n  });\n\n  function isScriptLoaded(src) {\n    return !!document.querySelector('script[src=\"' + src + '\"]');\n  }\n\n  var Map = {\n    map: null,\n    load: function load(key) {\n      return new Promise(function (resolve, reject) {\n        var src = '//map.qq.com/api/js?v=2.exp&libraries=place&callback=init&key=' + key;\n\n        if (isScriptLoaded(src)) {\n          resolve(window.qq);\n          return;\n        }\n\n        window.init = function () {\n          resolve(window.qq); // \n        };\n\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = src;\n        script.onerror = reject;\n        document.head.appendChild(script);\n      });\n    },\n    getPosition: function getPosition(_ref) {\n      var lat = _ref.lat,\n          lng = _ref.lng;\n      return new window.qq.maps.LatLng(lat, lng); // \n    }\n  };\n\n  function getPosition(_ref) {\n    var lat = _ref.lat,\n        lng = _ref.lng;\n    return new window.qq.maps.LatLng(lat, lng); // \n  }\n\n  var MapMixin = {\n    methods: {\n      loadMap: function loadMap(key) {\n        return Map.load(key);\n      },\n      setMarker: function setMarker(poi) {\n        var map = this.map;\n        var center = getPosition(poi.latLng); // \n\n        if (this.marker) {\n          this.marker.setMap(null);\n          this.marker = new window.qq.maps.Marker({\n            map: map,\n            position: poi.latLng\n          });\n          map.panTo(center);\n        } else {\n          this.marker = new window.qq.maps.Marker({\n            map: map,\n            position: center\n          });\n        }\n      }\n    }\n  };\n\n  var script$2 = {\n    // extra.defaultStyle\n    // : { width: 100px, height: 40px }\n    // { width: 320px, height: 180px }\n    //  extra.defaultStyle \n    extra: {\n      defaultStyle: {\n        width: 375,\n        height: 180\n      }\n    },\n    name: 'lbp-qq-map',\n    mixins: [MapMixin],\n    // loadMapsetMarker\n    props: {\n      labelContent: PropTypes.string({\n        label: '',\n        defaultValue: ''\n      }),\n      // \n      zoomLevel: PropTypes.number({\n        label: '',\n        defaultValue: 12,\n        visible: false\n      }),\n      // https://lbs.qq.com/dev/console/key/manage\n      qqMapKey: PropTypes.string({\n        label: 'Key',\n        defaultValue: 'GENBZ-G5S3J-7OLFW-FLBX4-WVEMK-SOBL4',\n        component: 'a-textarea',\n        extra: function extra(h) {\n          return h(\"div\", [h(\"div\", [\"1. \\u8BF7\\u586B\\u5165\\u81EA\\u5DF1\\u7684\\u817E\\u8BAF\\u5730\\u56FE\\u5F00\\u53D1\\u5BC6\\u94A5\\uFF0C\", h(\"a\", {\n            \"attrs\": {\n              \"href\": \"https://lbs.qq.com/dev/console/key/manage\",\n              \"target\": \"_blank\"\n            }\n          }, [\"\\u524D\\u5F80\\u7533\\u8BF7>>\"])]), h(\"div\", [\"2. \\u9C81\\u73ED\\u7684 Demo Key \\u968F\\u65F6\\u53EF\\u80FD\\u5931\\u6548\\uFF1B\\u5931\\u6548\\u63D0\\u793A: \\u9274\\u6743\\u5931\\u8D25\\uFF0C\\u8BF7\\u4F20\\u5165\\u6B63\\u786E\\u7684key\"])]);\n        }\n      }),\n      poi: {\n        type: Object,\n        default: function _default() {\n          return {\n            'latLng': {\n              'lat': 39.90469,\n              'lng': 116.40717\n            },\n            'name': '',\n            'type': 4\n          };\n        },\n        editor: {\n          custom: true\n        }\n      }\n    },\n    watch: {\n      poi: {\n        handler: function handler(poi) {\n          if (!this.checkMapAvailable()) return;\n          this.setMarker(poi);\n        },\n        deep: true\n      },\n      labelContent: function labelContent(_labelContent) {\n        if (!this.checkMapAvailable()) return;\n        this.setLabel(_labelContent);\n      },\n      zoomLevel: function zoomLevel(_zoomLevel) {\n        if (!this.checkMapAvailable()) return;\n        this.setZoomLevel(_zoomLevel);\n      }\n    },\n    methods: {\n      checkMapAvailable: function checkMapAvailable() {\n        return window.qq && window.qq.maps;\n      },\n      onSearch: function onSearch(value) {\n        console.log(value);\n      },\n      setLabel: function setLabel(labelContent) {\n        var center = Map.getPosition(this.poi.latLng); // \n\n        this.label = this.label || new window.qq.maps.Label({\n          position: center,\n          map: this.map,\n          content: ''\n        });\n\n        if (labelContent.trim()) {\n          // https://lbs.qq.com/webDemoCenter/javascriptV2/marker/label\n          this.label.setVisible(true);\n          this.label.setContent(labelContent || '');\n          this.label.setPosition(center);\n        } else {\n          this.label.setVisible(false);\n        }\n      },\n      setZoomLevel: function setZoomLevel(zoomLevel) {\n        this.map.zoomTo(zoomLevel);\n      },\n      init: function init() {\n        var _this = this;\n\n        var poi = this.poi,\n            qqMapKey = this.qqMapKey;\n        this.loadMap(qqMapKey).then(function (qq) {\n          _this.initMap(poi);\n\n          _this.setLabel(_this.labelContent);\n\n          _this.setMarker(poi);\n        });\n      },\n      initMap: function initMap(poi) {\n        var el = this.$refs.mapElement;\n        var center = Map.getPosition(poi.latLng); // \n\n        this.map = new window.qq.maps.Map(el, {\n          center: center,\n          zoom: this.zoomLevel,\n          // \n          disableDefaultUI: true,\n          // \n          draggable: false,\n          // \n          scrollwheel: false,\n          // \n          disableDoubleClickZoom: true // \n          // MapType\n\n        });\n      }\n    },\n    mounted: function mounted() {\n      this.init();\n    }\n  };\n\n  /* script */\n  const __vue_script__$2 = script$2;\n\n  /* template */\n  var __vue_render__$2 = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\"div\", [\n      _c(\"div\", {\n        ref: \"mapElement\",\n        staticStyle: { height: \"100%\", width: \"100%\" },\n        attrs: { id: \"qq-map-container\" }\n      })\n    ])\n  };\n  var __vue_staticRenderFns__$2 = [];\n  __vue_render__$2._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__$2 = undefined;\n    /* scoped */\n    const __vue_scope_id__$2 = undefined;\n    /* module identifier */\n    const __vue_module_identifier__$2 = undefined;\n    /* functional template */\n    const __vue_is_functional_template__$2 = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__$2 = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__$2, staticRenderFns: __vue_staticRenderFns__$2 },\n      __vue_inject_styles__$2,\n      __vue_script__$2,\n      __vue_scope_id__$2,\n      __vue_is_functional_template__$2,\n      __vue_module_identifier__$2,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  var ABBR = {\n    th: 3,\n    mi: 6,\n    bi: 9,\n    tr: 12\n  };\n\n  var DEFAULT_OPTIONS = {\n    zeroFormat: null,\n    nullFormat: null,\n    defaultFormat: '0,0',\n    scalePercentBy100: true,\n    abbrLabel: {\n      th: 'k',\n      mi: 'm',\n      bi: 'b',\n      tr: 't'\n    }\n  };\n\n  var TRILLION = 1e12;\n  var BILLION = 1e9;\n  var MILLION = 1e6;\n  var THOUSAND = 1e3;\n\n  function numIsNaN(value) {\n    return typeof value === 'number' && isNaN(value);\n  }\n\n  function toFixed(value, maxDecimals, roundingFunction, optionals) {\n    var splitValue = value.toString().split('.');\n    var minDecimals = maxDecimals - (optionals || 0);\n    var boundedPrecision = splitValue.length === 2 ? Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals) : minDecimals;\n    var power = Math.pow(10, boundedPrecision);\n    var output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n    if (optionals > maxDecimals - boundedPrecision) {\n      var optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n      output = output.replace(optionalsRegExp, '');\n    }\n\n    return output;\n  }\n\n  function numberToFormat(options, value, format, roundingFunction) {\n    var abs = Math.abs(value);\n    var negP = false;\n    var optDec = false;\n    var abbr = '';\n    var decimal = '';\n    var neg = false;\n    var abbrForce = void 0;\n    var signed = void 0;\n    format = format || '';\n\n    value = value || 0;\n\n    if (~format.indexOf('(')) {\n      negP = true;\n      format = format.replace(/[(|)]/g, '');\n    } else if (~format.indexOf('+') || ~format.indexOf('-')) {\n      signed = ~format.indexOf('+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n      format = format.replace(/[+|-]/g, '');\n    }\n    if (~format.indexOf('a')) {\n      abbrForce = format.match(/a(k|m|b|t)?/);\n\n      abbrForce = abbrForce ? abbrForce[1] : false;\n\n      if (~format.indexOf(' a')) abbr = ' ';\n      format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n      if (abs >= TRILLION && !abbrForce || abbrForce === 't') {\n        abbr += options.abbrLabel.tr;\n        value = value / TRILLION;\n      } else if (abs < TRILLION && abs >= BILLION && !abbrForce || abbrForce === 'b') {\n        abbr += options.abbrLabel.bi;\n        value = value / BILLION;\n      } else if (abs < BILLION && abs >= MILLION && !abbrForce || abbrForce === 'm') {\n        abbr += options.abbrLabel.mi;\n        value = value / MILLION;\n      } else if (abs < MILLION && abs >= THOUSAND && !abbrForce || abbrForce === 'k') {\n        abbr += options.abbrLabel.th;\n        value = value / THOUSAND;\n      }\n    }\n    if (~format.indexOf('[.]')) {\n      optDec = true;\n      format = format.replace('[.]', '.');\n    }\n    var int = value.toString().split('.')[0];\n    var precision = format.split('.')[1];\n    var thousands = format.indexOf(',');\n    var leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n    if (precision) {\n      if (~precision.indexOf('[')) {\n        precision = precision.replace(']', '');\n        precision = precision.split('[');\n        decimal = toFixed(value, precision[0].length + precision[1].length, roundingFunction, precision[1].length);\n      } else {\n        decimal = toFixed(value, precision.length, roundingFunction);\n      }\n\n      int = decimal.split('.')[0];\n      decimal = ~decimal.indexOf('.') ? '.' + decimal.split('.')[1] : '';\n      if (optDec && +decimal.slice(1) === 0) decimal = '';\n    } else {\n      int = toFixed(value, 0, roundingFunction);\n    }\n    if (abbr && !abbrForce && +int >= 1000 && abbr !== ABBR.trillion) {\n      int = '' + +int / 1000;\n      abbr = ABBR.million;\n    }\n    if (~int.indexOf('-')) {\n      int = int.slice(1);\n      neg = true;\n    }\n    if (int.length < leadingCount) {\n      for (var i = leadingCount - int.length; i > 0; i--) {\n        int = '0' + int;\n      }\n    }\n\n    if (thousands > -1) {\n      int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + ',');\n    }\n\n    if (!format.indexOf('.')) int = '';\n\n    var output = int + decimal + (abbr || '');\n\n    if (negP) {\n      output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n    } else {\n      if (signed >= 0) {\n        output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n      } else if (neg) {\n        output = '-' + output;\n      }\n    }\n\n    return output;\n  }\n\n  function extend(target, sub) {\n    Object.keys(sub).forEach(function (key) {\n      target[key] = sub[key];\n    });\n  }\n\n  var numerifyPercent = {\n    regexp: /%/,\n    format: function format(value, formatType, roundingFunction, numerify) {\n      var space = ~formatType.indexOf(' %') ? ' ' : '';\n      var output = void 0;\n\n      if (numerify.options.scalePercentBy100) value = value * 100;\n\n      formatType = formatType.replace(/\\s?%/, '');\n\n      output = numerify._numberToFormat(value, formatType, roundingFunction);\n\n      if (~output.indexOf(')')) {\n        output = output.split('');\n        output.splice(-1, 0, space + '%');\n        output = output.join('');\n      } else {\n        output = output + space + '%';\n      }\n\n      return output;\n    }\n  };\n\n  var options = {};\n  var formats = {};\n\n  extend(options, DEFAULT_OPTIONS);\n\n  function format(value, formatType, roundingFunction) {\n    formatType = formatType || options.defaultFormat;\n    roundingFunction = roundingFunction || Math.round;\n    var output = void 0;\n    var formatFunction = void 0;\n\n    if (value === 0 && options.zeroFormat !== null) {\n      output = options.zeroFormat;\n    } else if (value === null && options.nullFormat !== null) {\n      output = options.nullFormat;\n    } else {\n      for (var kind in formats) {\n        if (formats[kind] && formatType.match(formats[kind].regexp)) {\n          formatFunction = formats[kind].format;\n          break;\n        }\n      }\n      formatFunction = formatFunction || numberToFormat.bind(null, options);\n      output = formatFunction(value, formatType, roundingFunction, numerify);\n    }\n\n    return output;\n  }\n\n  function numerify(input, formatType, roundingFunction) {\n    var value = void 0;\n\n    if (input === 0 || typeof input === 'undefined') {\n      value = 0;\n    } else if (input === null || numIsNaN(input)) {\n      value = null;\n    } else if (typeof input === 'string') {\n      if (options.zeroFormat && input === options.zeroFormat) {\n        value = 0;\n      } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n        value = null;\n      } else {\n        value = +input;\n      }\n    } else {\n      value = +input || null;\n    }\n\n    return format(value, formatType, roundingFunction);\n  }\n\n  numerify.options = options;\n  numerify._numberToFormat = numberToFormat.bind(null, options);\n  numerify.register = function (name, format) {\n    formats[name] = format;\n  };\n  numerify.unregister = function (name) {\n    formats[name] = null;\n  };\n  numerify.setOptions = function (opts) {\n    extend(options, opts);\n  };\n  numerify.reset = function () {\n    extend(options, DEFAULT_OPTIONS);\n  };\n\n  numerify.register('percentage', numerifyPercent);\n\n  var index_es = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': numerify\n  });\n\n  function debounce(fn, delay) {\n    var timer = null;\n    return function () {\n      var self = this;\n      var args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(self, args);\n      }, delay);\n    };\n  }\n\n  function throttle(fn, wait, delay) {\n    var timer = null;\n    var previous = null;\n\n    return function () {\n      var self = this;\n      var args = arguments;\n      var now = Date.now();\n      if (!previous) previous = now;\n      if (now - previous > wait) {\n        fn.apply(self, args);\n        previous = now;\n      } else if (delay) {\n        clearTimeout(timer);\n        timer = setTimeout(function () {\n          fn.apply(self, args);\n        }, delay);\n      }\n    };\n  }\n\n  function set$2(target, path, value) {\n    if (!path) return;\n    var targetTemp = target;\n    var pathArr = path.split('.');\n    pathArr.forEach(function (item, index) {\n      if (index === pathArr.length - 1) {\n        targetTemp[item] = value;\n      } else {\n        if (!targetTemp[item]) targetTemp[item] = {};\n        targetTemp = targetTemp[item];\n      }\n    });\n  }\n\n  function get$1(target, path, defaultValue) {\n    if (!path) return target;\n    var pathArr = path.split('.');\n    var targetTemp = target;\n    pathArr.some(function (item, index) {\n      if (targetTemp[item] === undefined) {\n        targetTemp = defaultValue;\n        return true;\n      } else {\n        targetTemp = targetTemp[item];\n      }\n    });\n    return targetTemp;\n  }\n\n  function getStore(name) {\n    try {\n      return JSON.parse(window.localStorage.getItem(name));\n    } catch (e) {}\n  }\n\n  function setStore(name, data) {\n    try {\n      window.localStorage.setItem(name, JSON.stringify(data));\n    } catch (e) {}\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function getType(v) {\n    return Object.prototype.toString.call(v);\n  }\n\n  function getTypeof(v) {\n    return typeof v === 'undefined' ? 'undefined' : _typeof(v);\n  }\n\n  function isObject$1(v) {\n    return getType(v) === '[object Object]';\n  }\n\n  function isArray$1(v) {\n    return getType(v) === '[object Array]';\n  }\n\n  function isFunction(v) {\n    return getType(v) === '[object Function]';\n  }\n\n  function isString(v) {\n    return getType(v) === '[object String]';\n  }\n\n  function isBoolean(v) {\n    return getType(v) === '[object Boolean]';\n  }\n\n  function isEmptyObj(v) {\n    return isObject$1(v) && !Object.keys(v).length;\n  }\n\n  function isNumber(v) {\n    return getType(v) === '[object Number]';\n  }\n\n  function clone(v) {\n    if (isObject$1(v)) return Object.assign({}, v);\n    if (isArray$1(v)) return v.slice();\n  }\n\n  function cloneDeep(v) {\n    return JSON.parse(JSON.stringify(v));\n  }\n\n  function kebabToCamel(s) {\n    return s.replace(/-(\\w)/g, function (_, c) {\n      return c.toUpperCase();\n    });\n  }\n\n  function camelToKebab(s) {\n    return s.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n\n  function unique(arr) {\n    var result = [];\n    arr.forEach(function (item) {\n      if (!~result.indexOf(item)) result.push(item);\n    });\n    return result;\n  }\n\n  function getLinearValue(x1, y1, x2, y2, x3) {\n    var k = (y2 - y1) / (x2 - x1);\n    var b = y1 - x1 * k;\n    if (x3 == null) {\n      return { k: k, b: b };\n    } else {\n      return x3 * k + b;\n    }\n  }\n\n  function getFnAndObjValue(target, key) {\n    return isFunction(target) ? target(key) : !isObject$1(target) ? key : target[key] != null ? target[key] : key;\n  }\n\n  function arrDelItem(arr, diffItem) {\n    return arr.filter(function (item) {\n      return diffItem !== item;\n    });\n  }\n\n  var arrDelArrItem = function arrDelArrItem(arr, diffArr) {\n    return arr.filter(function (item) {\n      return !~diffArr.indexOf(item);\n    });\n  };\n\n  function getArrMin(arr) {\n    return Math.min.apply(null, arr);\n  }\n\n  function getArrMax(arr) {\n    return Math.max.apply(null, arr);\n  }\n\n  function toArray(v) {\n    return Array.prototype.slice.call(v);\n  }\n\n  function noop() {}\n\n  function hasOwn(source, target) {\n    return Object.prototype.hasOwnProperty.call(source, target);\n  }\n\n  var extend$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (hasOwn(source, key)) target[key] = source[key];\n      }\n    }\n    return target;\n  };\n\n  function isEqual(alice, bob) {\n    if (alice === bob) return true;\n    if (alice === null || bob === null || getTypeof(alice) !== 'object' || getTypeof(bob) !== 'object') {\n      return alice === bob;\n    }\n\n    for (var key in alice) {\n      if (!hasOwn(alice, key)) continue;\n      var aliceValue = alice[key];\n      var bobValue = bob[key];\n      var aliceType = getTypeof(aliceValue);\n\n      if (getTypeof(bobValue) === 'undefined') {\n        return false;\n      } else if (aliceType === 'object') {\n        if (!isEqual(aliceValue, bobValue)) return false;\n      } else if (aliceValue !== bobValue) {\n        return false;\n      }\n    }\n    for (var _key in bob) {\n      if (!hasOwn(bob, _key)) continue;\n      if (getTypeof(alice)[_key] === 'undefined') return false;\n    }\n\n    return true;\n  }\n\n  var index_es$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    debounce: debounce,\n    throttle: throttle,\n    set: set$2,\n    get: get$1,\n    getStore: getStore,\n    setStore: setStore,\n    clone: clone,\n    cloneDeep: cloneDeep,\n    getType: getType,\n    getTypeof: getTypeof,\n    isObject: isObject$1,\n    isArray: isArray$1,\n    isFunction: isFunction,\n    isString: isString,\n    isBoolean: isBoolean,\n    isEmptyObj: isEmptyObj,\n    isNumber: isNumber,\n    kebabToCamel: kebabToCamel,\n    camelToKebab: camelToKebab,\n    unique: unique,\n    getLinearValue: getLinearValue,\n    getFnAndObjValue: getFnAndObjValue,\n    arrDelItem: arrDelItem,\n    arrDelArrItem: arrDelArrItem,\n    getArrMin: getArrMin,\n    getArrMax: getArrMax,\n    toArray: toArray,\n    noop: noop,\n    extend: extend$1,\n    isEqual: isEqual,\n    hasOwn: hasOwn\n  });\n\n  var require$$3 = /*@__PURE__*/getAugmentedNamespace(index_es);\n\n  var utilsLite = /*@__PURE__*/getAugmentedNamespace(index_es$1);\n\n  var utils = createCommonjsModule(function (module, exports) {\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n  var numerify = _interopDefault(require$$3);\n\n\n  var getFormated = function getFormated(val, type, digit) {\n    var defaultVal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '-';\n\n    if (isNaN(val)) return defaultVal;\n    if (!type) return val;\n    if (utilsLite.isFunction(type)) return type(val, numerify);\n\n    digit = isNaN(digit) ? 0 : ++digit;\n    var digitStr = '.[' + new Array(digit).join(0) + ']';\n    var formatter = type;\n    switch (type) {\n      case 'KMB':\n        formatter = digit ? '0,0' + digitStr + 'a' : '0,0a';\n        break;\n      case 'normal':\n        formatter = digit ? '0,0' + digitStr : '0,0';\n        break;\n      case 'percent':\n        formatter = digit ? '0,0' + digitStr + '%' : '0,0.[00]%';\n        break;\n    }\n    return numerify(val, formatter);\n  };\n\n  var getStackMap = function getStackMap(stack) {\n    var stackMap = {};\n    Object.keys(stack).forEach(function (item) {\n      stack[item].forEach(function (name) {\n        stackMap[name] = item;\n      });\n    });\n    return stackMap;\n  };\n\n  var $get = function $get(url) {\n    return new Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url);\n      xhr.send(null);\n      xhr.onload = function () {\n        resolve(JSON.parse(xhr.responseText));\n      };\n      xhr.onerror = function () {\n        reject(JSON.parse(xhr.responseText));\n      };\n    });\n  };\n\n  var mapPromise = {};\n\n  var getMapJSON = function getMapJSON(_ref) {\n    var position = _ref.position,\n        positionJsonLink = _ref.positionJsonLink,\n        beforeRegisterMapOnce = _ref.beforeRegisterMapOnce,\n        mapURLProfix = _ref.mapURLProfix;\n\n    var link = positionJsonLink || '' + mapURLProfix + position + '.json';\n    if (!mapPromise[link]) {\n      mapPromise[link] = $get(link).then(function (res) {\n        if (beforeRegisterMapOnce) res = beforeRegisterMapOnce(res);\n        return res;\n      });\n    }\n    return mapPromise[link];\n  };\n\n  var bmapPromise = null;\n  var amapPromise = null;\n\n  var getBmap = function getBmap(key, v) {\n    if (!bmapPromise) {\n      bmapPromise = new Promise(function (resolve, reject) {\n        var callbackName = 'bmap' + Date.now();\n        window[callbackName] = resolve;\n        var script = document.createElement('script');\n        script.src = ['https://api.map.baidu.com/api?v=' + (v || '2.0'), 'ak=' + key, 'callback=' + callbackName].join('&');\n\n        document.body.appendChild(script);\n      });\n    }\n    return bmapPromise;\n  };\n\n  var getAmap = function getAmap(key, v) {\n    if (!amapPromise) {\n      amapPromise = new Promise(function (resolve, reject) {\n        var callbackName = 'amap' + Date.now();\n        window[callbackName] = resolve;\n        var script = document.createElement('script');\n        script.src = ['https://webapi.amap.com/maps?v=' + (v || '1.4.3'), 'key=' + key, 'callback=' + callbackName].join('&');\n\n        document.body.appendChild(script);\n      });\n    }\n    return amapPromise;\n  };\n\n  function setArrayValue(arr, index, value) {\n    if (arr[index] !== undefined) {\n      arr[index].push(value);\n    } else {\n      arr[index] = [value];\n    }\n  }\n\n  exports.getFormated = getFormated;\n  exports.getStackMap = getStackMap;\n  exports.$get = $get;\n  exports.getMapJSON = getMapJSON;\n  exports.getBmap = getBmap;\n  exports.getAmap = getAmap;\n  exports.setArrayValue = setArrayValue;\n  });\n\n  /**\n   * zrender: id\n   *\n   * @author errorrik (errorrik@gmail.com)\n   */\n  var idStart = 0x0907;\n\n  function _default() {\n    return idStart++;\n  }\n\n  var guid = _default;\n\n  /**\n   * echarts\n   *\n   * @desc echartsCanvasJavascript\n   * @author firede[firede@firede.us]\n   * @desc thanks zepto.\n   */\n\n  /* global wx */\n  var env = {};\n\n  if (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n    // In Weixin Application\n    env = {\n      browser: {},\n      os: {},\n      node: false,\n      wxa: true,\n      // Weixin Application\n      canvasSupported: true,\n      svgSupported: false,\n      touchEventsSupported: true,\n      domSupported: false\n    };\n  } else if (typeof document === 'undefined' && typeof self !== 'undefined') {\n    // In worker\n    env = {\n      browser: {},\n      os: {},\n      node: false,\n      worker: true,\n      canvasSupported: true,\n      domSupported: false\n    };\n  } else if (typeof navigator === 'undefined') {\n    // In node\n    env = {\n      browser: {},\n      os: {},\n      node: true,\n      worker: false,\n      // Assume canvas is supported\n      canvasSupported: true,\n      svgSupported: true,\n      domSupported: false\n    };\n  } else {\n    env = detect(navigator.userAgent);\n  }\n\n  var _default$1 = env; // Zepto.js\n  // (c) 2010-2013 Thomas Fuchs\n  // Zepto.js may be freely distributed under the MIT license.\n\n  function detect(ua) {\n    var os = {};\n    var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n    // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n    // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n    // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n    // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n    // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n    // var touchpad = webos && ua.match(/TouchPad/);\n    // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n    // var silk = ua.match(/Silk\\/([\\d._]+)/);\n    // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n    // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n    // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n    // var playbook = ua.match(/PlayBook/);\n    // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n    // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n    var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n    || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n    var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n    // - discern (more) between multiple browsers on android\n    // - decide if kindle fire in silk mode is android or not\n    // - Firefox on Android doesn't specify the Android version\n    // - possibly devide in os, device and browser hashes\n    // if (browser.webkit = !!webkit) browser.version = webkit[1];\n    // if (android) os.android = true, os.version = android[2];\n    // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n    // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n    // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    // if (webos) os.webos = true, os.version = webos[2];\n    // if (touchpad) os.touchpad = true;\n    // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n    // if (bb10) os.bb10 = true, os.version = bb10[2];\n    // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n    // if (playbook) browser.playbook = true;\n    // if (kindle) os.kindle = true, os.version = kindle[1];\n    // if (silk) browser.silk = true, browser.version = silk[1];\n    // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n    // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n    if (firefox) {\n      browser.firefox = true;\n      browser.version = firefox[1];\n    } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n    // if (webview) browser.webview = true;\n\n\n    if (ie) {\n      browser.ie = true;\n      browser.version = ie[1];\n    }\n\n    if (edge) {\n      browser.edge = true;\n      browser.version = edge[1];\n    } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n    // not be set on win phone. So we do not consider Win Phone.\n\n\n    if (weChat) {\n      browser.weChat = true;\n    } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n    //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n    // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n    //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n    //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n    return {\n      browser: browser,\n      os: os,\n      node: false,\n      // canvas\n      // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n      canvasSupported: !!document.createElement('canvas').getContext,\n      svgSupported: typeof SVGRect !== 'undefined',\n      // works on most browsers\n      // IE10/11 does not support touch event, and MS Edge supports them but not by\n      // default, so we dont check navigator.maxTouchPoints for them here.\n      touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n      // <http://caniuse.com/#search=pointer%20event>.\n      pointerEventsSupported: // (1) Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n      // events currently. So we dont use that on other browsers unless tested sufficiently.\n      // For example, in iOS 13 Mobile Chromium 78, if the touching behavior starts page\n      // scroll, the `pointermove` event can not be fired any more. That will break some\n      // features like \"pan horizontally to move something and pan vertically to page scroll\".\n      // The horizontal pan probably be interrupted by the casually triggered page scroll.\n      // (2) Although IE 10 supports pointer event, it use old style and is different from the\n      // standard. So we exclude that. (IE 10 is hardly used on touch device)\n      'onpointerdown' in window && (browser.edge || browser.ie && browser.version >= 11),\n      // passiveSupported: detectPassiveSupport()\n      domSupported: typeof document !== 'undefined'\n    };\n  } // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n  // function detectPassiveSupport() {\n  //     // Test via a getter in the options object to see if the passive property is accessed\n  //     var supportsPassive = false;\n  //     try {\n  //         var opts = Object.defineProperty({}, 'passive', {\n  //             get: function() {\n  //                 supportsPassive = true;\n  //             }\n  //         });\n  //         window.addEventListener('testPassive', function() {}, opts);\n  //     } catch (e) {\n  //     }\n  //     return supportsPassive;\n  // }\n\n\n  var env_1 = _default$1;\n\n  /**\n   * @module zrender/core/util\n   */\n  // mergeDate\n  var BUILTIN_OBJECT = {\n    '[object Function]': 1,\n    '[object RegExp]': 1,\n    '[object Date]': 1,\n    '[object Error]': 1,\n    '[object CanvasGradient]': 1,\n    '[object CanvasPattern]': 1,\n    // For node-canvas\n    '[object Image]': 1,\n    '[object Canvas]': 1\n  };\n  var TYPED_ARRAY = {\n    '[object Int8Array]': 1,\n    '[object Uint8Array]': 1,\n    '[object Uint8ClampedArray]': 1,\n    '[object Int16Array]': 1,\n    '[object Uint16Array]': 1,\n    '[object Int32Array]': 1,\n    '[object Uint32Array]': 1,\n    '[object Float32Array]': 1,\n    '[object Float64Array]': 1\n  };\n  var objToString = Object.prototype.toString;\n  var arrayProto = Array.prototype;\n  var nativeForEach = arrayProto.forEach;\n  var nativeFilter = arrayProto.filter;\n  var nativeSlice$1 = arrayProto.slice;\n  var nativeMap = arrayProto.map;\n  var nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\n  var methods = {};\n\n  function $override(name, fn) {\n    // Clear ctx instance for different environment\n    if (name === 'createCanvas') {\n      _ctx = null;\n    }\n\n    methods[name] = fn;\n  }\n  /**\n   * Those data types can be cloned:\n   *     Plain object, Array, TypedArray, number, string, null, undefined.\n   * Those data types will be assgined using the orginal data:\n   *     BUILTIN_OBJECT\n   * Instance of user defined class will be cloned to a plain object, without\n   * properties in prototype.\n   * Other data types is not supported (not sure what will happen).\n   *\n   * Caution: do not support clone Date, for performance consideration.\n   * (There might be a large number of date in `series.data`).\n   * So date should not be modified in and out of echarts.\n   *\n   * @param {*} source\n   * @return {*} new\n   */\n\n\n  function clone$1(source) {\n    if (source == null || typeof source !== 'object') {\n      return source;\n    }\n\n    var result = source;\n    var typeStr = objToString.call(source);\n\n    if (typeStr === '[object Array]') {\n      if (!isPrimitive(source)) {\n        result = [];\n\n        for (var i = 0, len = source.length; i < len; i++) {\n          result[i] = clone$1(source[i]);\n        }\n      }\n    } else if (TYPED_ARRAY[typeStr]) {\n      if (!isPrimitive(source)) {\n        var Ctor = source.constructor;\n\n        if (source.constructor.from) {\n          result = Ctor.from(source);\n        } else {\n          result = new Ctor(source.length);\n\n          for (var i = 0, len = source.length; i < len; i++) {\n            result[i] = clone$1(source[i]);\n          }\n        }\n      }\n    } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n      result = {};\n\n      for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n          result[key] = clone$1(source[key]);\n        }\n      }\n    }\n\n    return result;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} target\n   * @param {*} source\n   * @param {boolean} [overwrite=false]\n   */\n\n\n  function merge(target, source, overwrite) {\n    // We should escapse that source is string\n    // and enter for ... in ...\n    if (!isObject$2(source) || !isObject$2(target)) {\n      return overwrite ? clone$1(source) : target;\n    }\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        var targetProp = target[key];\n        var sourceProp = source[key];\n\n        if (isObject$2(sourceProp) && isObject$2(targetProp) && !isArray$2(sourceProp) && !isArray$2(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n          // merge\n          merge(targetProp, sourceProp, overwrite);\n        } else if (overwrite || !(key in target)) {\n          // overwritetrue\n          // NOTE target[key] \n          target[key] = clone$1(source[key]);\n        }\n      }\n    }\n\n    return target;\n  }\n  /**\n   * @param {Array} targetAndSources The first item is target, and the rests are source.\n   * @param {boolean} [overwrite=false]\n   * @return {*} target\n   */\n\n\n  function mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n      result = merge(result, targetAndSources[i], overwrite);\n    }\n\n    return result;\n  }\n  /**\n   * @param {*} target\n   * @param {*} source\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function extend$2(target, source) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n  /**\n   * @param {*} target\n   * @param {*} source\n   * @param {boolean} [overlay=false]\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function defaults(target, source, overlay) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  var createCanvas = function () {\n    return methods.createCanvas();\n  };\n\n  methods.createCanvas = function () {\n    return document.createElement('canvas');\n  }; // FIXME\n\n\n  var _ctx;\n\n  function getContext() {\n    if (!_ctx) {\n      // Use util.createCanvas instead of createCanvas\n      // because createCanvas may be overwritten in different environment\n      _ctx = createCanvas().getContext('2d');\n    }\n\n    return _ctx;\n  }\n  /**\n   * index\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function indexOf$1(array, value) {\n    if (array) {\n      if (array.indexOf) {\n        return array.indexOf(value);\n      }\n\n      for (var i = 0, len = array.length; i < len; i++) {\n        if (array[i] === value) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * \n   *\n   * @memberOf module:zrender/core/util\n   * @param {Function} clazz \n   * @param {Function} baseClazz \n   */\n\n\n  function inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n\n    function F() {}\n\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n\n    for (var prop in clazzPrototype) {\n      if (clazzPrototype.hasOwnProperty(prop)) {\n        clazz.prototype[prop] = clazzPrototype[prop];\n      }\n    }\n\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Object|Function} target\n   * @param {Object|Function} sorce\n   * @param {boolean} overlay\n   */\n\n\n  function mixin(target, source, overlay) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n    defaults(target, source, overlay);\n  }\n  /**\n   * Consider typed array.\n   * @param {Array|TypedArray} data\n   */\n\n\n  function isArrayLike(data) {\n    if (!data) {\n      return;\n    }\n\n    if (typeof data === 'string') {\n      return false;\n    }\n\n    return typeof data.length === 'number';\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Object|Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   */\n\n\n  function each(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.forEach && obj.forEach === nativeForEach) {\n      obj.forEach(cb, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, len = obj.length; i < len; i++) {\n        cb.call(context, obj[i], i, obj);\n      }\n    } else {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          cb.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function map(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.map && obj.map === nativeMap) {\n      return obj.map(cb, context);\n    } else {\n      var result = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        result.push(cb.call(context, obj[i], i, obj));\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {Object} [memo]\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function reduce(obj, cb, memo, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.reduce && obj.reduce === nativeReduce) {\n      return obj.reduce(cb, memo, context);\n    } else {\n      for (var i = 0, len = obj.length; i < len; i++) {\n        memo = cb.call(context, memo, obj[i], i, obj);\n      }\n\n      return memo;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function filter(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.filter && obj.filter === nativeFilter) {\n      return obj.filter(cb, context);\n    } else {\n      var result = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (cb.call(context, obj[i], i, obj)) {\n          result.push(obj[i]);\n        }\n      }\n\n      return result;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {*}\n   */\n\n\n  function find(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        return obj[i];\n      }\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Function} func\n   * @param {*} context\n   * @return {Function}\n   */\n\n\n  function bind$1(func, context) {\n    var args = nativeSlice$1.call(arguments, 2);\n    return function () {\n      return func.apply(context, args.concat(nativeSlice$1.call(arguments)));\n    };\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Function} func\n   * @return {Function}\n   */\n\n\n  function curry(func) {\n    var args = nativeSlice$1.call(arguments, 1);\n    return function () {\n      return func.apply(this, args.concat(nativeSlice$1.call(arguments)));\n    };\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isArray$2(value) {\n    return objToString.call(value) === '[object Array]';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isFunction$1(value) {\n    return typeof value === 'function';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isString$1(value) {\n    return objToString.call(value) === '[object String]';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isObject$2(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return type === 'function' || !!value && type === 'object';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isTypedArray(value) {\n    return !!TYPED_ARRAY[objToString.call(value)];\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isDom(value) {\n    return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n  }\n  /**\n   * Whether is exactly NaN. Notice isNaN('a') returns true.\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function eqNaN(value) {\n    /* eslint-disable-next-line no-self-compare */\n    return value !== value;\n  }\n  /**\n   * If value1 is not null, then return value1, otherwise judget rest of values.\n   * Low performance.\n   * @memberOf module:zrender/core/util\n   * @return {*} Final value\n   */\n\n\n  function retrieve(values) {\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      if (arguments[i] != null) {\n        return arguments[i];\n      }\n    }\n  }\n\n  function retrieve2(value0, value1) {\n    return value0 != null ? value0 : value1;\n  }\n\n  function retrieve3(value0, value1, value2) {\n    return value0 != null ? value0 : value1 != null ? value1 : value2;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Array} arr\n   * @param {number} startIndex\n   * @param {number} endIndex\n   * @return {Array}\n   */\n\n\n  function slice() {\n    return Function.call.apply(nativeSlice$1, arguments);\n  }\n  /**\n   * Normalize css liked array configuration\n   * e.g.\n   *  3 => [3, 3, 3, 3]\n   *  [4, 2] => [4, 2, 4, 2]\n   *  [4, 3, 2] => [4, 3, 2, 3]\n   * @param {number|Array.<number>} val\n   * @return {Array.<number>}\n   */\n\n\n  function normalizeCssArray(val) {\n    if (typeof val === 'number') {\n      return [val, val, val, val];\n    }\n\n    var len = val.length;\n\n    if (len === 2) {\n      // vertical | horizontal\n      return [val[0], val[1], val[0], val[1]];\n    } else if (len === 3) {\n      // top | horizontal | bottom\n      return [val[0], val[1], val[2], val[1]];\n    }\n\n    return val;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {boolean} condition\n   * @param {string} message\n   */\n\n\n  function assert(condition, message) {\n    if (!condition) {\n      throw new Error(message);\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {string} str string to be trimed\n   * @return {string} trimed string\n   */\n\n\n  function trim$1(str) {\n    if (str == null) {\n      return null;\n    } else if (typeof str.trim === 'function') {\n      return str.trim();\n    } else {\n      return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n  }\n\n  var primitiveKey = '__ec_primitive__';\n  /**\n   * Set an object as primitive to be ignored traversing children in clone or merge\n   */\n\n  function setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n  }\n\n  function isPrimitive(obj) {\n    return obj[primitiveKey];\n  }\n  /**\n   * @constructor\n   * @param {Object} obj Only apply `ownProperty`.\n   */\n\n\n  function HashMap(obj) {\n    var isArr = isArray$2(obj); // Key should not be set on this, otherwise\n    // methods get/set/... may be overrided.\n\n    this.data = {};\n    var thisMap = this;\n    obj instanceof HashMap ? obj.each(visit) : obj && each(obj, visit);\n\n    function visit(value, key) {\n      isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n    }\n  }\n\n  HashMap.prototype = {\n    constructor: HashMap,\n    // Do not provide `has` method to avoid defining what is `has`.\n    // (We usually treat `null` and `undefined` as the same, different\n    // from ES6 Map).\n    get: function (key) {\n      return this.data.hasOwnProperty(key) ? this.data[key] : null;\n    },\n    set: function (key, value) {\n      // Comparing with invocation chaining, `return value` is more commonly\n      // used in this case: `var someVal = map.set('a', genVal());`\n      return this.data[key] = value;\n    },\n    // Although util.each can be performed on this hashMap directly, user\n    // should not use the exposed keys, who are prefixed.\n    each: function (cb, context) {\n      context !== void 0 && (cb = bind$1(cb, context));\n      /* eslint-disable guard-for-in */\n\n      for (var key in this.data) {\n        this.data.hasOwnProperty(key) && cb(this.data[key], key);\n      }\n      /* eslint-enable guard-for-in */\n\n    },\n    // Do not use this method if performance sensitive.\n    removeKey: function (key) {\n      delete this.data[key];\n    }\n  };\n\n  function createHashMap(obj) {\n    return new HashMap(obj);\n  }\n\n  function concatArray(a, b) {\n    var newArray = new a.constructor(a.length + b.length);\n\n    for (var i = 0; i < a.length; i++) {\n      newArray[i] = a[i];\n    }\n\n    var offset = a.length;\n\n    for (i = 0; i < b.length; i++) {\n      newArray[i + offset] = b[i];\n    }\n\n    return newArray;\n  }\n\n  function noop$1() {}\n\n  var $override_1 = $override;\n  var clone_1 = clone$1;\n  var merge_1 = merge;\n  var mergeAll_1 = mergeAll;\n  var extend_1 = extend$2;\n  var defaults_1 = defaults;\n  var createCanvas_1 = createCanvas;\n  var getContext_1 = getContext;\n  var indexOf_1 = indexOf$1;\n  var inherits_1 = inherits;\n  var mixin_1 = mixin;\n  var isArrayLike_1 = isArrayLike;\n  var each_1 = each;\n  var map_1 = map;\n  var reduce_1 = reduce;\n  var filter_1 = filter;\n  var find_1 = find;\n  var bind_1 = bind$1;\n  var curry_1 = curry;\n  var isArray_1 = isArray$2;\n  var isFunction_1 = isFunction$1;\n  var isString_1 = isString$1;\n  var isObject_1 = isObject$2;\n  var isBuiltInObject_1 = isBuiltInObject;\n  var isTypedArray_1 = isTypedArray;\n  var isDom_1 = isDom;\n  var eqNaN_1 = eqNaN;\n  var retrieve_1 = retrieve;\n  var retrieve2_1 = retrieve2;\n  var retrieve3_1 = retrieve3;\n  var slice_1 = slice;\n  var normalizeCssArray_1 = normalizeCssArray;\n  var assert_1 = assert;\n  var trim_1 = trim$1;\n  var setAsPrimitive_1 = setAsPrimitive;\n  var isPrimitive_1 = isPrimitive;\n  var createHashMap_1 = createHashMap;\n  var concatArray_1 = concatArray;\n  var noop_1 = noop$1;\n\n  var util = {\n  \t$override: $override_1,\n  \tclone: clone_1,\n  \tmerge: merge_1,\n  \tmergeAll: mergeAll_1,\n  \textend: extend_1,\n  \tdefaults: defaults_1,\n  \tcreateCanvas: createCanvas_1,\n  \tgetContext: getContext_1,\n  \tindexOf: indexOf_1,\n  \tinherits: inherits_1,\n  \tmixin: mixin_1,\n  \tisArrayLike: isArrayLike_1,\n  \teach: each_1,\n  \tmap: map_1,\n  \treduce: reduce_1,\n  \tfilter: filter_1,\n  \tfind: find_1,\n  \tbind: bind_1,\n  \tcurry: curry_1,\n  \tisArray: isArray_1,\n  \tisFunction: isFunction_1,\n  \tisString: isString_1,\n  \tisObject: isObject_1,\n  \tisBuiltInObject: isBuiltInObject_1,\n  \tisTypedArray: isTypedArray_1,\n  \tisDom: isDom_1,\n  \teqNaN: eqNaN_1,\n  \tretrieve: retrieve_1,\n  \tretrieve2: retrieve2_1,\n  \tretrieve3: retrieve3_1,\n  \tslice: slice_1,\n  \tnormalizeCssArray: normalizeCssArray_1,\n  \tassert: assert_1,\n  \ttrim: trim_1,\n  \tsetAsPrimitive: setAsPrimitive_1,\n  \tisPrimitive: isPrimitive_1,\n  \tcreateHashMap: createHashMap_1,\n  \tconcatArray: concatArray_1,\n  \tnoop: noop_1\n  };\n\n  /* global Float32Array */\n  var ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n  /**\n   * \n   * @param {number} [x=0]\n   * @param {number} [y=0]\n   * @return {Vector2}\n   */\n\n  function create(x, y) {\n    var out = new ArrayCtor(2);\n\n    if (x == null) {\n      x = 0;\n    }\n\n    if (y == null) {\n      y = 0;\n    }\n\n    out[0] = x;\n    out[1] = y;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @return {Vector2}\n   */\n\n\n  function copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v\n   * @return {Vector2}\n   */\n\n\n  function clone$2(v) {\n    var out = new ArrayCtor(2);\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {number} a\n   * @param {number} b\n   * @return {Vector2} \n   */\n\n\n  function set$3(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @param {number} a\n   */\n\n\n  function scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v\n   * @return {number}\n   */\n\n\n  function len(v) {\n    return Math.sqrt(lenSquare(v));\n  }\n\n  var length = len; // jshint ignore:line\n\n  /**\n   * \n   * @param {Vector2} v\n   * @return {number}\n   */\n\n  function lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n  }\n\n  var lengthSquare = lenSquare;\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n  function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n\n  function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @param {number} s\n   */\n\n\n  function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   */\n\n\n  function normalize$1(out, v) {\n    var d = len(v);\n\n    if (d === 0) {\n      out[0] = 0;\n      out[1] = 0;\n    } else {\n      out[0] = v[0] / d;\n      out[1] = v[1] / d;\n    }\n\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n\n  function distance(v1, v2) {\n    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n  }\n\n  var dist = distance;\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n  function distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n  }\n\n  var distSquare = distanceSquare;\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   */\n\n  function negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @param {number} t\n   */\n\n\n  function lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @param {Vector2} m\n   */\n\n\n  function applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n  }\n  /**\n   * \n   * @param  {Vector2} out\n   * @param  {Vector2} v1\n   * @param  {Vector2} v2\n   */\n\n\n  function min$5(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n  }\n  /**\n   * \n   * @param  {Vector2} out\n   * @param  {Vector2} v1\n   * @param  {Vector2} v2\n   */\n\n\n  function max$4(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n  }\n\n  var create_1 = create;\n  var copy_1 = copy;\n  var clone_1$1 = clone$2;\n  var set_1 = set$3;\n  var add_1 = add;\n  var scaleAndAdd_1 = scaleAndAdd;\n  var sub_1 = sub;\n  var len_1 = len;\n  var length_1 = length;\n  var lenSquare_1 = lenSquare;\n  var lengthSquare_1 = lengthSquare;\n  var mul_1 = mul;\n  var div_1 = div;\n  var dot_1 = dot;\n  var scale_1 = scale;\n  var normalize_1 = normalize$1;\n  var distance_1 = distance;\n  var dist_1 = dist;\n  var distanceSquare_1 = distanceSquare;\n  var distSquare_1 = distSquare;\n  var negate_1 = negate;\n  var lerp_1 = lerp;\n  var applyTransform_1 = applyTransform;\n  var min_1 = min$5;\n  var max_1 = max$4;\n\n  var vector = {\n  \tcreate: create_1,\n  \tcopy: copy_1,\n  \tclone: clone_1$1,\n  \tset: set_1,\n  \tadd: add_1,\n  \tscaleAndAdd: scaleAndAdd_1,\n  \tsub: sub_1,\n  \tlen: len_1,\n  \tlength: length_1,\n  \tlenSquare: lenSquare_1,\n  \tlengthSquare: lengthSquare_1,\n  \tmul: mul_1,\n  \tdiv: div_1,\n  \tdot: dot_1,\n  \tscale: scale_1,\n  \tnormalize: normalize_1,\n  \tdistance: distance_1,\n  \tdist: dist_1,\n  \tdistanceSquare: distanceSquare_1,\n  \tdistSquare: distSquare_1,\n  \tnegate: negate_1,\n  \tlerp: lerp_1,\n  \tapplyTransform: applyTransform_1,\n  \tmin: min_1,\n  \tmax: max_1\n  };\n\n  // TODO Draggable for group\n  // FIXME Draggable on element which has parent rotation or scale\n  function Draggable() {\n    this.on('mousedown', this._dragStart, this);\n    this.on('mousemove', this._drag, this);\n    this.on('mouseup', this._dragEnd, this); // `mosuemove` and `mouseup` can be continue to fire when dragging.\n    // See [Drag outside] in `Handler.js`. So we do not need to trigger\n    // `_dragEnd` when globalout. That would brings better user experience.\n    // this.on('globalout', this._dragEnd, this);\n    // this._dropTarget = null;\n    // this._draggingTarget = null;\n    // this._x = 0;\n    // this._y = 0;\n  }\n\n  Draggable.prototype = {\n    constructor: Draggable,\n    _dragStart: function (e) {\n      var draggingTarget = e.target; // Find if there is draggable in the ancestor\n\n      while (draggingTarget && !draggingTarget.draggable) {\n        draggingTarget = draggingTarget.parent;\n      }\n\n      if (draggingTarget) {\n        this._draggingTarget = draggingTarget;\n        draggingTarget.dragging = true;\n        this._x = e.offsetX;\n        this._y = e.offsetY;\n        this.dispatchToElement(param(draggingTarget, e), 'dragstart', e.event);\n      }\n    },\n    _drag: function (e) {\n      var draggingTarget = this._draggingTarget;\n\n      if (draggingTarget) {\n        var x = e.offsetX;\n        var y = e.offsetY;\n        var dx = x - this._x;\n        var dy = y - this._y;\n        this._x = x;\n        this._y = y;\n        draggingTarget.drift(dx, dy, e);\n        this.dispatchToElement(param(draggingTarget, e), 'drag', e.event);\n        var dropTarget = this.findHover(x, y, draggingTarget).target;\n        var lastDropTarget = this._dropTarget;\n        this._dropTarget = dropTarget;\n\n        if (draggingTarget !== dropTarget) {\n          if (lastDropTarget && dropTarget !== lastDropTarget) {\n            this.dispatchToElement(param(lastDropTarget, e), 'dragleave', e.event);\n          }\n\n          if (dropTarget && dropTarget !== lastDropTarget) {\n            this.dispatchToElement(param(dropTarget, e), 'dragenter', e.event);\n          }\n        }\n      }\n    },\n    _dragEnd: function (e) {\n      var draggingTarget = this._draggingTarget;\n\n      if (draggingTarget) {\n        draggingTarget.dragging = false;\n      }\n\n      this.dispatchToElement(param(draggingTarget, e), 'dragend', e.event);\n\n      if (this._dropTarget) {\n        this.dispatchToElement(param(this._dropTarget, e), 'drop', e.event);\n      }\n\n      this._draggingTarget = null;\n      this._dropTarget = null;\n    }\n  };\n\n  function param(target, e) {\n    return {\n      target: target,\n      topTarget: e && e.topTarget\n    };\n  }\n\n  var _default$2 = Draggable;\n  var Draggable_1 = _default$2;\n\n  /**\n   * Event Mixin\n   * @module zrender/mixin/Eventful\n   * @author Kener (@Kener-, kener.linfeng@gmail.com)\n   *         pissang (https://www.github.com/pissang)\n   */\n  var arrySlice = Array.prototype.slice;\n  /**\n   * Event dispatcher.\n   *\n   * @alias module:zrender/mixin/Eventful\n   * @constructor\n   * @param {Object} [eventProcessor] The object eventProcessor is the scope when\n   *        `eventProcessor.xxx` called.\n   * @param {Function} [eventProcessor.normalizeQuery]\n   *        param: {string|Object} Raw query.\n   *        return: {string|Object} Normalized query.\n   * @param {Function} [eventProcessor.filter] Event will be dispatched only\n   *        if it returns `true`.\n   *        param: {string} eventType\n   *        param: {string|Object} query\n   *        return: {boolean}\n   * @param {Function} [eventProcessor.afterTrigger] Called after all handlers called.\n   *        param: {string} eventType\n   */\n\n  var Eventful = function (eventProcessor) {\n    this._$handlers = {};\n    this._$eventProcessor = eventProcessor;\n  };\n\n  Eventful.prototype = {\n    constructor: Eventful,\n\n    /**\n     * The handler can only be triggered once, then removed.\n     *\n     * @param {string} event The event name.\n     * @param {string|Object} [query] Condition used on event filter.\n     * @param {Function} handler The event handler.\n     * @param {Object} context\n     */\n    one: function (event, query, handler, context) {\n      return on(this, event, query, handler, context, true);\n    },\n\n    /**\n     * Bind a handler.\n     *\n     * @param {string} event The event name.\n     * @param {string|Object} [query] Condition used on event filter.\n     * @param {Function} handler The event handler.\n     * @param {Object} [context]\n     */\n    on: function (event, query, handler, context) {\n      return on(this, event, query, handler, context, false);\n    },\n\n    /**\n     * Whether any handler has bound.\n     *\n     * @param  {string}  event\n     * @return {boolean}\n     */\n    isSilent: function (event) {\n      var _h = this._$handlers;\n      return !_h[event] || !_h[event].length;\n    },\n\n    /**\n     * Unbind a event.\n     *\n     * @param {string} [event] The event name.\n     *        If no `event` input, \"off\" all listeners.\n     * @param {Function} [handler] The event handler.\n     *        If no `handler` input, \"off\" all listeners of the `event`.\n     */\n    off: function (event, handler) {\n      var _h = this._$handlers;\n\n      if (!event) {\n        this._$handlers = {};\n        return this;\n      }\n\n      if (handler) {\n        if (_h[event]) {\n          var newList = [];\n\n          for (var i = 0, l = _h[event].length; i < l; i++) {\n            if (_h[event][i].h !== handler) {\n              newList.push(_h[event][i]);\n            }\n          }\n\n          _h[event] = newList;\n        }\n\n        if (_h[event] && _h[event].length === 0) {\n          delete _h[event];\n        }\n      } else {\n        delete _h[event];\n      }\n\n      return this;\n    },\n\n    /**\n     * Dispatch a event.\n     *\n     * @param {string} type The event name.\n     */\n    trigger: function (type) {\n      var _h = this._$handlers[type];\n      var eventProcessor = this._$eventProcessor;\n\n      if (_h) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 3) {\n          args = arrySlice.call(args, 1);\n        }\n\n        var len = _h.length;\n\n        for (var i = 0; i < len;) {\n          var hItem = _h[i];\n\n          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n            i++;\n            continue;\n          } // Optimize advise from backbone\n\n\n          switch (argLen) {\n            case 1:\n              hItem.h.call(hItem.ctx);\n              break;\n\n            case 2:\n              hItem.h.call(hItem.ctx, args[1]);\n              break;\n\n            case 3:\n              hItem.h.call(hItem.ctx, args[1], args[2]);\n              break;\n\n            default:\n              // have more than 2 given arguments\n              hItem.h.apply(hItem.ctx, args);\n              break;\n          }\n\n          if (hItem.one) {\n            _h.splice(i, 1);\n\n            len--;\n          } else {\n            i++;\n          }\n        }\n      }\n\n      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n      return this;\n    },\n\n    /**\n     * Dispatch a event with context, which is specified at the last parameter.\n     *\n     * @param {string} type The event name.\n     */\n    triggerWithContext: function (type) {\n      var _h = this._$handlers[type];\n      var eventProcessor = this._$eventProcessor;\n\n      if (_h) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 4) {\n          args = arrySlice.call(args, 1, args.length - 1);\n        }\n\n        var ctx = args[args.length - 1];\n        var len = _h.length;\n\n        for (var i = 0; i < len;) {\n          var hItem = _h[i];\n\n          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n            i++;\n            continue;\n          } // Optimize advise from backbone\n\n\n          switch (argLen) {\n            case 1:\n              hItem.h.call(ctx);\n              break;\n\n            case 2:\n              hItem.h.call(ctx, args[1]);\n              break;\n\n            case 3:\n              hItem.h.call(ctx, args[1], args[2]);\n              break;\n\n            default:\n              // have more than 2 given arguments\n              hItem.h.apply(ctx, args);\n              break;\n          }\n\n          if (hItem.one) {\n            _h.splice(i, 1);\n\n            len--;\n          } else {\n            i++;\n          }\n        }\n      }\n\n      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n      return this;\n    }\n  };\n\n  function normalizeQuery(host, query) {\n    var eventProcessor = host._$eventProcessor;\n\n    if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n      query = eventProcessor.normalizeQuery(query);\n    }\n\n    return query;\n  }\n\n  function on(eventful, event, query, handler, context, isOnce) {\n    var _h = eventful._$handlers;\n\n    if (typeof query === 'function') {\n      context = handler;\n      handler = query;\n      query = null;\n    }\n\n    if (!handler || !event) {\n      return eventful;\n    }\n\n    query = normalizeQuery(eventful, query);\n\n    if (!_h[event]) {\n      _h[event] = [];\n    }\n\n    for (var i = 0; i < _h[event].length; i++) {\n      if (_h[event][i].h === handler) {\n        return eventful;\n      }\n    }\n\n    var wrap = {\n      h: handler,\n      one: isOnce,\n      query: query,\n      ctx: context || eventful,\n      // FIXME\n      // Do not publish this feature util it is proved that it makes sense.\n      callAtLast: handler.zrEventfulCallAtLast\n    };\n    var lastIndex = _h[event].length - 1;\n    var lastWrap = _h[event][lastIndex];\n    lastWrap && lastWrap.callAtLast ? _h[event].splice(lastIndex, 0, wrap) : _h[event].push(wrap);\n    return eventful;\n  } // ----------------------\n  // The events in zrender\n  // ----------------------\n\n  /**\n   * @event module:zrender/mixin/Eventful#onclick\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseover\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseout\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousemove\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousewheel\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousedown\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseup\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondrag\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragstart\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragend\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragenter\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragleave\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragover\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondrop\n   * @type {Function}\n   * @default null\n   */\n\n\n  var _default$3 = Eventful;\n  var Eventful_1 = _default$3;\n\n  /**\n   * The algoritm is learnt from\n   * https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n   * And we made some optimization for matrix inversion.\n   * Other similar approaches:\n   * \"cv::getPerspectiveTransform\", \"Direct Linear Transformation\".\n   */\n  var LN2 = Math.log(2);\n\n  function determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n\n    if (detCache.hasOwnProperty(cacheKey)) {\n      return detCache[cacheKey];\n    }\n\n    if (rank === 1) {\n      // In this case the colMask must be like: `11101111`. We can find the place of `0`.\n      var colStart = Math.round(Math.log((1 << fullRank) - 1 & ~colMask) / LN2);\n      return rows[rowStart][colStart];\n    }\n\n    var subRowMask = rowMask | 1 << rowStart;\n    var subRowStart = rowStart + 1;\n\n    while (rowMask & 1 << subRowStart) {\n      subRowStart++;\n    }\n\n    var sum = 0;\n\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n      var colTag = 1 << j;\n\n      if (!(colTag & colMask)) {\n        sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j] // det(subMatrix(0, j))\n        * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n        colLocalIdx++;\n      }\n    }\n\n    detCache[cacheKey] = sum;\n    return sum;\n  }\n  /**\n   * Usage:\n   * ```js\n   * var transformer = buildTransformer(\n   *     [10, 44, 100, 44, 100, 300, 10, 300],\n   *     [50, 54, 130, 14, 140, 330, 14, 220]\n   * );\n   * var out = [];\n   * transformer && transformer([11, 33], out);\n   * ```\n   *\n   * Notice: `buildTransformer` may take more than 10ms in some Android device.\n   *\n   * @param {Array.<number>} src source four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n   * @param {Array.<number>} dest destination four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n   * @return {Function} transformer If fail, return null/undefined.\n   */\n\n\n  function buildTransformer(src, dest) {\n    var mA = [[src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]], [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]], [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]], [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]], [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]], [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]], [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]], [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n\n    if (det === 0) {\n      // can not make transformer when and only when\n      // any three of the markers are collinear.\n      return;\n    } // `invert(mA) * dest`, that is, `adj(mA) / det * dest`.\n\n\n    var vh = [];\n\n    for (var i = 0; i < 8; i++) {\n      for (var j = 0; j < 8; j++) {\n        vh[j] == null && (vh[j] = 0);\n        vh[j] += ((i + j) % 2 ? -1 : 1) * // det(subMatrix(i, j))\n        determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache) / det * dest[i];\n      }\n    }\n\n    return function (out, srcPointX, srcPointY) {\n      var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n      out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n      out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n  }\n\n  var buildTransformer_1 = buildTransformer;\n\n  var fourPointsTransform = {\n  \tbuildTransformer: buildTransformer_1\n  };\n\n  var buildTransformer$1 = fourPointsTransform.buildTransformer;\n  var EVENT_SAVED_PROP = '___zrEVENTSAVED';\n  var _calcOut = [];\n  /**\n   * Transform \"local coord\" from `elFrom` to `elTarget`.\n   * \"local coord\": the coord based on the input `el`. The origin point is at\n   *     the position of \"left: 0; top: 0;\" in the `el`.\n   *\n   * Support when CSS transform is used.\n   *\n   * Having the `out` (that is, `[outX, outY]`), we can create an DOM element\n   * and set the CSS style as \"left: outX; top: outY;\" and append it to `elTarge`\n   * to locate the element.\n   *\n   * For example, this code below positions a child of `document.body` on the event\n   * point, no matter whether `body` has `margin`/`paddin`/`transfrom`/... :\n   * ```js\n   * transformLocalCoord(out, container, document.body, event.offsetX, event.offsetY);\n   * if (!eqNaN(out[0])) {\n   *     // Then locate the tip element on the event point.\n   *     var tipEl = document.createElement('div');\n   *     tipEl.style.cssText = 'position: absolute; left:' + out[0] + ';top:' + out[1] + ';';\n   *     document.body.appendChild(tipEl);\n   * }\n   * ```\n   *\n   * Notice: In some env this method is not supported. If called, `out` will be `[NaN, NaN]`.\n   *\n   * @param {Array.<number>} out [inX: number, inY: number] The output..\n   *        If can not transform, `out` will not be modified but return `false`.\n   * @param {HTMLElement} elFrom The `[inX, inY]` is based on elFrom.\n   * @param {HTMLElement} elTarget The `out` is based on elTarget.\n   * @param {number} inX\n   * @param {number} inY\n   * @return {boolean} Whether transform successfully.\n   */\n\n  function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true) && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n  }\n  /**\n   * Transform between a \"viewport coord\" and a \"local coord\".\n   * \"viewport coord\": the coord based on the left-top corner of the viewport\n   *     of the browser.\n   * \"local coord\": the coord based on the input `el`. The origin point is at\n   *     the position of \"left: 0; top: 0;\" in the `el`.\n   *\n   * Support the case when CSS transform is used on el.\n   *\n   * @param {Array.<number>} out [inX: number, inY: number] The output. If `inverse: false`,\n   *        it represents \"local coord\", otherwise \"vireport coord\".\n   *        If can not transform, `out` will not be modified but return `false`.\n   * @param {HTMLElement} el The \"local coord\" is based on the `el`, see comment above.\n   * @param {number} inX If `inverse: false`,\n   *        it represents \"vireport coord\", otherwise \"local coord\".\n   * @param {number} inY If `inverse: false`,\n   *        it represents \"vireport coord\", otherwise \"local coord\".\n   * @param {boolean} [inverse=false]\n   *        `true`: from \"viewport coord\" to \"local coord\".\n   *        `false`: from \"local coord\" to \"viewport coord\".\n   * @return {boolean} Whether transform successfully.\n   */\n\n\n  function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env_1.domSupported && !isCanvasEl(el)) {\n      var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n      var markers = prepareCoordMarkers(el, saved);\n      var transformer = preparePointerTransformer(markers, saved, inverse);\n\n      if (transformer) {\n        transformer(out, inX, inY);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n\n    if (markers) {\n      return markers;\n    }\n\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n\n    for (var i = 0; i < 4; i++) {\n      var marker = document.createElement('div');\n      var stl = marker.style;\n      var idxLR = i % 2;\n      var idxTB = (i >> 1) % 2;\n      stl.cssText = ['position: absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'user-select: none', 'width:0', 'height:0', // 'width: 5px',\n      // 'height: 5px',\n      propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n      el.appendChild(marker);\n      markers.push(marker);\n    }\n\n    return markers;\n  }\n\n  function preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var oldCoordTheSame = true;\n    var srcCoords = [];\n    var destCoords = [];\n\n    for (var i = 0; i < 4; i++) {\n      var rect = markers[i].getBoundingClientRect();\n      var ii = 2 * i;\n      var x = rect.left;\n      var y = rect.top;\n      srcCoords.push(x, y);\n      oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n      destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    } // Cache to avoid time consuming of `buildTransformer`.\n\n\n    return oldCoordTheSame && transformer ? transformer : (saved.srcCoords = srcCoords, saved[transformerName] = inverse ? buildTransformer$1(destCoords, srcCoords) : buildTransformer$1(srcCoords, destCoords));\n  }\n\n  function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n  }\n\n  var transformLocalCoord_1 = transformLocalCoord;\n  var transformCoordWithViewport_1 = transformCoordWithViewport;\n  var isCanvasEl_1 = isCanvasEl;\n\n  var dom = {\n  \ttransformLocalCoord: transformLocalCoord_1,\n  \ttransformCoordWithViewport: transformCoordWithViewport_1,\n  \tisCanvasEl: isCanvasEl_1\n  };\n\n  var Dispatcher = Eventful_1;\n\n\n\n\n\n  var isCanvasEl$1 = dom.isCanvasEl;\n  var transformCoordWithViewport$1 = dom.transformCoordWithViewport;\n\n  /**\n   * Utilities for mouse or touch events.\n   */\n  var isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\n  var MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\n  var _calcOut$1 = [];\n  /**\n   * Get the `zrX` and `zrY`, which are relative to the top-left of\n   * the input `el`.\n   * CSS transform (2D & 3D) is supported.\n   *\n   * The strategy to fetch the coords:\n   * + If `calculate` is not set as `true`, users of this method should\n   * ensure that `el` is the same or the same size & location as `e.target`.\n   * Otherwise the result coords are probably not expected. Because we\n   * firstly try to get coords from e.offsetX/e.offsetY.\n   * + If `calculate` is set as `true`, the input `el` can be any element\n   * and we force to calculate the coords based on `el`.\n   * + The input `el` should be positionable (not position:static).\n   *\n   * The force `calculate` can be used in case like:\n   * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n   *\n   * @param {HTMLElement} el DOM element.\n   * @param {Event} e Mouse event or touch event.\n   * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n   * @param {boolean} [calculate=false] Whether to force calculate\n   *        the coordinates but not use ones provided by browser.\n   */\n\n  function clientToLocal(el, e, out, calculate) {\n    out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n    // to the padding edge of the target element. The only browser using this convention\n    // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n    // not support the properties.\n    // (see http://www.jacklmoore.com/notes/mouse-position/)\n    // In zr painter.dom, padding edge equals to border edge.\n\n    if (calculate || !env_1.canvasSupported) {\n      calculateZrXY(el, e, out);\n    } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n    // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n    // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n    // zoom-factor, overflow / opacity layers, transforms ...)\n    // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n    // <https://bugs.jquery.com/ticket/8523#comment:14>\n    // BTW3, In ff, offsetX/offsetY is always 0.\n    else if (env_1.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n      } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n      else if (e.offsetX != null) {\n          out.zrX = e.offsetX;\n          out.zrY = e.offsetY;\n        } // For some other device, e.g., IOS safari.\n        else {\n            calculateZrXY(el, e, out);\n          }\n\n    return out;\n  }\n\n  function calculateZrXY(el, e, out) {\n    // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n    if (env_1.domSupported && el.getBoundingClientRect) {\n      var ex = e.clientX;\n      var ey = e.clientY;\n\n      if (isCanvasEl$1(el)) {\n        // Original approach, which do not support CSS transform.\n        // marker can not be locationed in a canvas container\n        // (getBoundingClientRect is always 0). We do not support\n        // that input a pre-created canvas to zr while using css\n        // transform in iOS.\n        var box = el.getBoundingClientRect();\n        out.zrX = ex - box.left;\n        out.zrY = ey - box.top;\n        return;\n      } else {\n        if (transformCoordWithViewport$1(_calcOut$1, el, ex, ey)) {\n          out.zrX = _calcOut$1[0];\n          out.zrY = _calcOut$1[1];\n          return;\n        }\n      }\n    }\n\n    out.zrX = out.zrY = 0;\n  }\n  /**\n   * Find native event compat for legency IE.\n   * Should be called at the begining of a native event listener.\n   *\n   * @param {Event} [e] Mouse event or touch event or pointer event.\n   *        For lagency IE, we use `window.event` is used.\n   * @return {Event} The native event.\n   */\n\n\n  function getNativeEvent(e) {\n    return e || window.event;\n  }\n  /**\n   * Normalize the coordinates of the input event.\n   *\n   * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n   * the input `el`.\n   * Get `e.zrDelta` if using mouse wheel.\n   * Get `e.which`, see the comment inside this function.\n   *\n   * Do not calculate repeatly if `zrX` and `zrY` already exist.\n   *\n   * Notice: see comments in `clientToLocal`. check the relationship\n   * between the result coords and the parameters `el` and `calculate`.\n   *\n   * @param {HTMLElement} el DOM element.\n   * @param {Event} [e] See `getNativeEvent`.\n   * @param {boolean} [calculate=false] Whether to force calculate\n   *        the coordinates but not use ones provided by browser.\n   * @return {UIEvent} The normalized native UIEvent.\n   */\n\n\n  function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n\n    if (e.zrX != null) {\n      return e;\n    }\n\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n    if (!isTouch) {\n      clientToLocal(el, e, e, calculate);\n      e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n    } else {\n      var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n      touch && clientToLocal(el, touch, e, calculate);\n    } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n    // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n    // If e.which has been defined, it may be readonly,\n    // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n    var button = e.button;\n\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n      e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n    } // [Caution]: `e.which` from browser is not always reliable. For example,\n    // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n    // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n    // `mousedown (pointerdown)` is the same as Chrome does.\n\n\n    return e;\n  }\n  /**\n   * @param {HTMLElement} el\n   * @param {string} name\n   * @param {Function} handler\n   * @param {Object|boolean} opt If boolean, means `opt.capture`\n   * @param {boolean} [opt.capture=false]\n   * @param {boolean} [opt.passive=false]\n   */\n\n\n  function addEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n      // Reproduct the console warning:\n      // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n      // Consider marking event handler as 'passive' to make the page more responsive.\n      // Just set console log level: verbose in chrome dev tool.\n      // then the warning log will be printed when addEventListener called.\n      // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n      // We have not yet found a neat way to using passive. Because in zrender the dom event\n      // listener delegate all of the upper events of element. Some of those events need\n      // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n      // Before passive can be adopted, these issues should be considered:\n      // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n      // passive or not.\n      // (2) How to tread that some zrender event listener is passive, and some is not. If\n      // we use other way but not preventDefault of mousewheel and touchmove, browser\n      // compatibility should be handled.\n      // var opts = (env.passiveSupported && name === 'mousewheel')\n      //     ? {passive: true}\n      //     // By default, the third param of el.addEventListener is `capture: false`.\n      //     : void 0;\n      // el.addEventListener(name, handler /* , opts */);\n      el.addEventListener(name, handler, opt);\n    } else {\n      // For simplicity, do not implement `setCapture` for IE9-.\n      el.attachEvent('on' + name, handler);\n    }\n  }\n  /**\n   * Parameter are the same as `addEventListener`.\n   *\n   * Notice that if a listener is registered twice, one with capture and one without,\n   * remove each one separately. Removal of a capturing listener does not affect a\n   * non-capturing version of the same listener, and vice versa.\n   */\n\n\n  function removeEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n      el.removeEventListener(name, handler, opt);\n    } else {\n      el.detachEvent('on' + name, handler);\n    }\n  }\n  /**\n   * preventDefault and stopPropagation.\n   * Notice: do not use this method in zrender. It can only be\n   * used by upper applications if necessary.\n   *\n   * @param {Event} e A mouse or touch event.\n   */\n\n\n  var stop = isDomLevel2 ? function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n  } : function (e) {\n    e.returnValue = false;\n    e.cancelBubble = true;\n  };\n  /**\n   * This method only works for mouseup and mousedown. The functionality is restricted\n   * for fault tolerance, See the `e.which` compatibility above.\n   *\n   * @param {MouseEvent} e\n   * @return {boolean}\n   */\n\n  function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n  }\n  /**\n   * To be removed.\n   * @deprecated\n   */\n\n\n  function notLeftMouse(e) {\n    // If e.which is undefined, considered as left mouse event.\n    return e.which > 1;\n  } // For backward compatibility\n\n\n  var clientToLocal_1 = clientToLocal;\n  var getNativeEvent_1 = getNativeEvent;\n  var normalizeEvent_1 = normalizeEvent;\n  var addEventListener_1 = addEventListener;\n  var removeEventListener_1 = removeEventListener;\n  var stop_1 = stop;\n  var isMiddleOrRightButtonOnMouseUpDown_1 = isMiddleOrRightButtonOnMouseUpDown;\n  var notLeftMouse_1 = notLeftMouse;\n\n  var event = {\n  \tDispatcher: Dispatcher,\n  \tclientToLocal: clientToLocal_1,\n  \tgetNativeEvent: getNativeEvent_1,\n  \tnormalizeEvent: normalizeEvent_1,\n  \taddEventListener: addEventListener_1,\n  \tremoveEventListener: removeEventListener_1,\n  \tstop: stop_1,\n  \tisMiddleOrRightButtonOnMouseUpDown: isMiddleOrRightButtonOnMouseUpDown_1,\n  \tnotLeftMouse: notLeftMouse_1\n  };\n\n  /**\n   * Only implements needed gestures for mobile.\n   */\n  var GestureMgr = function () {\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n    this._track = [];\n  };\n\n  GestureMgr.prototype = {\n    constructor: GestureMgr,\n    recognize: function (event, target, root) {\n      this._doTrack(event, target, root);\n\n      return this._recognize(event);\n    },\n    clear: function () {\n      this._track.length = 0;\n      return this;\n    },\n    _doTrack: function (event$1, target, root) {\n      var touches = event$1.touches;\n\n      if (!touches) {\n        return;\n      }\n\n      var trackItem = {\n        points: [],\n        touches: [],\n        target: target,\n        event: event$1\n      };\n\n      for (var i = 0, len = touches.length; i < len; i++) {\n        var touch = touches[i];\n        var pos = event.clientToLocal(root, touch, {});\n        trackItem.points.push([pos.zrX, pos.zrY]);\n        trackItem.touches.push(touch);\n      }\n\n      this._track.push(trackItem);\n    },\n    _recognize: function (event) {\n      for (var eventName in recognizers) {\n        if (recognizers.hasOwnProperty(eventName)) {\n          var gestureInfo = recognizers[eventName](this._track, event);\n\n          if (gestureInfo) {\n            return gestureInfo;\n          }\n        }\n      }\n    }\n  };\n\n  function dist$1(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function center(pointPair) {\n    return [(pointPair[0][0] + pointPair[1][0]) / 2, (pointPair[0][1] + pointPair[1][1]) / 2];\n  }\n\n  var recognizers = {\n    pinch: function (track, event) {\n      var trackLen = track.length;\n\n      if (!trackLen) {\n        return;\n      }\n\n      var pinchEnd = (track[trackLen - 1] || {}).points;\n      var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n      if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {\n        var pinchScale = dist$1(pinchEnd) / dist$1(pinchPre);\n        !isFinite(pinchScale) && (pinchScale = 1);\n        event.pinchScale = pinchScale;\n        var pinchCenter = center(pinchEnd);\n        event.pinchX = pinchCenter[0];\n        event.pinchY = pinchCenter[1];\n        return {\n          type: 'pinch',\n          target: track[0].target,\n          event: event\n        };\n      }\n    } // Only pinch currently.\n\n  };\n  var _default$4 = GestureMgr;\n  var GestureMgr_1 = _default$4;\n\n  /**\n   * [The interface between `Handler` and `HandlerProxy`]:\n   *\n   * The default `HandlerProxy` only support the common standard web environment\n   * (e.g., standalone browser, headless browser, embed browser in mobild APP, ...).\n   * But `HandlerProxy` can be replaced to support more non-standard environment\n   * (e.g., mini app), or to support more feature that the default `HandlerProxy`\n   * not provided (like echarts-gl did).\n   * So the interface between `Handler` and `HandlerProxy` should be stable. Do not\n   * make break changes util inevitable. The interface include the public methods\n   * of `Handler` and the events listed in `handlerNames` below, by which `HandlerProxy`\n   * drives `Handler`.\n   */\n\n  /**\n   * [Drag outside]:\n   *\n   * That is, triggering `mousemove` and `mouseup` event when the pointer is out of the\n   * zrender area when dragging. That is important for the improvement of the user experience\n   * when dragging something near the boundary without being terminated unexpectedly.\n   *\n   * We originally consider to introduce new events like `pagemovemove` and `pagemouseup`\n   * to resolve this issue. But some drawbacks of it is described in\n   * https://github.com/ecomfe/zrender/pull/536#issuecomment-560286899\n   *\n   * Instead, we referenced the specifications:\n   * https://www.w3.org/TR/touch-events/#the-touchmove-event\n   * https://www.w3.org/TR/2014/WD-DOM-Level-3-Events-20140925/#event-type-mousemove\n   * where the the mousemove/touchmove can be continue to fire if the user began a drag\n   * operation and the pointer has left the boundary. (for the mouse event, browsers\n   * only do it on `document` and when the pointer has left the boundary of the browser.)\n   *\n   * So the default `HandlerProxy` supports this feature similarly: if it is in the dragging\n   * state (see `pointerCapture` in `HandlerProxy`), the `mousemove` and `mouseup` continue\n   * to fire until release the pointer. That is implemented by listen to those event on\n   * `document`.\n   * If we implement some other `HandlerProxy` only for touch device, that would be easier.\n   * The touch event support this feature by default.\n   *\n   * Note:\n   * There might be some cases that the mouse event can not be\n   * received on `document`. For example,\n   * (A) `useCapture` is not supported and some user defined event listeners on the ancestor\n   * of zr dom throw Error .\n   * (B) `useCapture` is not supported Some user defined event listeners on the ancestor of\n   * zr dom call `stopPropagation`.\n   * In these cases, the `mousemove` event might be keep triggered event\n   * if the mouse is released. We try to reduce the side-effect in those cases.\n   * That is, do nothing (especially, `findHover`) in those cases. See `isOutsideBoundary`.\n   *\n   * Note:\n   * If `HandlerProxy` listens to `document` with `useCapture`, `HandlerProxy` needs to\n   * make sure `stopPropagation` and `preventDefault` doing nothing if and only if the event\n   * target is not zrender dom. Becuase it is dangerous to enable users to call them in\n   * `document` capture phase to prevent the propagation to any listener of the webpage.\n   * But they are needed to work when the pointer inside the zrender dom.\n   */\n  var SILENT = 'silent';\n\n  function makeEventPacket(eveType, targetInfo, event) {\n    return {\n      type: eveType,\n      event: event,\n      // target can only be an element that is not silent.\n      target: targetInfo.target,\n      // topTarget can be a silent element.\n      topTarget: targetInfo.topTarget,\n      cancelBubble: false,\n      offsetX: event.zrX,\n      offsetY: event.zrY,\n      gestureEvent: event.gestureEvent,\n      pinchX: event.pinchX,\n      pinchY: event.pinchY,\n      pinchScale: event.pinchScale,\n      wheelDelta: event.zrDelta,\n      zrByTouch: event.zrByTouch,\n      which: event.which,\n      stop: stopEvent\n    };\n  }\n\n  function stopEvent() {\n    event.stop(this.event);\n  }\n\n  function EmptyProxy() {}\n\n  EmptyProxy.prototype.dispose = function () {};\n\n  var handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n  /**\n   * @alias module:zrender/Handler\n   * @constructor\n   * @extends module:zrender/mixin/Eventful\n   * @param {module:zrender/Storage} storage Storage instance.\n   * @param {module:zrender/Painter} painter Painter instance.\n   * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n   * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n   */\n\n  var Handler = function (storage, painter, proxy, painterRoot) {\n    Eventful_1.call(this);\n    this.storage = storage;\n    this.painter = painter;\n    this.painterRoot = painterRoot;\n    proxy = proxy || new EmptyProxy();\n    /**\n     * Proxy of event. can be Dom, WebGLSurface, etc.\n     */\n\n    this.proxy = null;\n    /**\n     * {target, topTarget, x, y}\n     * @private\n     * @type {Object}\n     */\n\n    this._hovered = {};\n    /**\n     * @private\n     * @type {Date}\n     */\n\n    this._lastTouchMoment;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._lastX;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._lastY;\n    /**\n     * @private\n     * @type {module:zrender/core/GestureMgr}\n     */\n\n    this._gestureMgr;\n    Draggable_1.call(this);\n    this.setHandlerProxy(proxy);\n  };\n\n  Handler.prototype = {\n    constructor: Handler,\n    setHandlerProxy: function (proxy) {\n      if (this.proxy) {\n        this.proxy.dispose();\n      }\n\n      if (proxy) {\n        util.each(handlerNames, function (name) {\n          proxy.on && proxy.on(name, this[name], this);\n        }, this); // Attach handler\n\n        proxy.handler = this;\n      }\n\n      this.proxy = proxy;\n    },\n    mousemove: function (event) {\n      var x = event.zrX;\n      var y = event.zrY;\n      var isOutside = isOutsideBoundary(this, x, y);\n      var lastHovered = this._hovered;\n      var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n      // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n      // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n      // See #6198.\n\n      if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n        lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n        lastHoveredTarget = lastHovered.target;\n      }\n\n      var hovered = this._hovered = isOutside ? {\n        x: x,\n        y: y\n      } : this.findHover(x, y);\n      var hoveredTarget = hovered.target;\n      var proxy = this.proxy;\n      proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n      if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n        this.dispatchToElement(lastHovered, 'mouseout', event);\n      } // Mouse moving on one element\n\n\n      this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n      if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n        this.dispatchToElement(hovered, 'mouseover', event);\n      }\n    },\n    mouseout: function (event) {\n      var eventControl = event.zrEventControl;\n      var zrIsToLocalDOM = event.zrIsToLocalDOM;\n\n      if (eventControl !== 'only_globalout') {\n        this.dispatchToElement(this._hovered, 'mouseout', event);\n      }\n\n      if (eventControl !== 'no_globalout') {\n        // FIXME: if the pointer moving from the extra doms to realy \"outside\",\n        // the `globalout` should have been triggered. But currently not.\n        !zrIsToLocalDOM && this.trigger('globalout', {\n          type: 'globalout',\n          event: event\n        });\n      }\n    },\n\n    /**\n     * Resize\n     */\n    resize: function (event) {\n      this._hovered = {};\n    },\n\n    /**\n     * Dispatch event\n     * @param {string} eventName\n     * @param {event=} eventArgs\n     */\n    dispatch: function (eventName, eventArgs) {\n      var handler = this[eventName];\n      handler && handler.call(this, eventArgs);\n    },\n\n    /**\n     * Dispose\n     */\n    dispose: function () {\n      this.proxy.dispose();\n      this.storage = this.proxy = this.painter = null;\n    },\n\n    /**\n     * cursor style\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n      var proxy = this.proxy;\n      proxy.setCursor && proxy.setCursor(cursorStyle);\n    },\n\n    /**\n     * \n     *\n     * @private\n     * @param {Object} targetInfo {target, topTarget} \n     * @param {string} eventName \n     * @param {Object} event \n     */\n    dispatchToElement: function (targetInfo, eventName, event) {\n      targetInfo = targetInfo || {};\n      var el = targetInfo.target;\n\n      if (el && el.silent) {\n        return;\n      }\n\n      var eventHandler = 'on' + eventName;\n      var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n      while (el) {\n        el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n        el.trigger(eventName, eventPacket);\n        el = el.parent;\n\n        if (eventPacket.cancelBubble) {\n          break;\n        }\n      }\n\n      if (!eventPacket.cancelBubble) {\n        //  zrender \n        this.trigger(eventName, eventPacket); // \n        //  click  dispose painter \n\n        this.painter && this.painter.eachOtherLayer(function (layer) {\n          if (typeof layer[eventHandler] === 'function') {\n            layer[eventHandler].call(layer, eventPacket);\n          }\n\n          if (layer.trigger) {\n            layer.trigger(eventName, eventPacket);\n          }\n        });\n      }\n    },\n\n    /**\n     * @private\n     * @param {number} x\n     * @param {number} y\n     * @param {module:zrender/graphic/Displayable} exclude\n     * @return {model:zrender/Element}\n     * @method\n     */\n    findHover: function (x, y, exclude) {\n      var list = this.storage.getDisplayList();\n      var out = {\n        x: x,\n        y: y\n      };\n\n      for (var i = list.length - 1; i >= 0; i--) {\n        var hoverCheckResult;\n\n        if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n        && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n          !out.topTarget && (out.topTarget = list[i]);\n\n          if (hoverCheckResult !== SILENT) {\n            out.target = list[i];\n            break;\n          }\n        }\n      }\n\n      return out;\n    },\n    processGesture: function (event, stage) {\n      if (!this._gestureMgr) {\n        this._gestureMgr = new GestureMgr_1();\n      }\n\n      var gestureMgr = this._gestureMgr;\n      stage === 'start' && gestureMgr.clear();\n      var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n      stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n      if (gestureInfo) {\n        var type = gestureInfo.type;\n        event.gestureEvent = type;\n        this.dispatchToElement({\n          target: gestureInfo.target\n        }, type, gestureInfo.event);\n      }\n    }\n  }; // Common handlers\n\n  util.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n      var x = event.zrX;\n      var y = event.zrY;\n      var isOutside = isOutsideBoundary(this, x, y);\n      var hovered;\n      var hoveredTarget;\n\n      if (name !== 'mouseup' || !isOutside) {\n        // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n        hovered = this.findHover(x, y);\n        hoveredTarget = hovered.target;\n      }\n\n      if (name === 'mousedown') {\n        this._downEl = hoveredTarget;\n        this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n        this._upEl = hoveredTarget;\n      } else if (name === 'mouseup') {\n        this._upEl = hoveredTarget;\n      } else if (name === 'click') {\n        if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n        // including the case that `mousedown` - `mousemove` - `mouseup`,\n        // which should be filtered, otherwise it will bring trouble to\n        // pan and zoom.\n        || !this._downPoint // Arbitrary value\n        || vector.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n          return;\n        }\n\n        this._downPoint = null;\n      }\n\n      this.dispatchToElement(hovered, name, event);\n    };\n  });\n\n  function isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n      var el = displayable;\n      var isSilent;\n\n      while (el) {\n        // If clipped by ancestor.\n        // FIXME: If clipPath has neither stroke nor fill,\n        // el.clipPath.contain(x, y) will always return false.\n        if (el.clipPath && !el.clipPath.contain(x, y)) {\n          return false;\n        }\n\n        if (el.silent) {\n          isSilent = true;\n        }\n\n        el = el.parent;\n      }\n\n      return isSilent ? SILENT : true;\n    }\n\n    return false;\n  }\n  /**\n   * See [Drag outside].\n   */\n\n\n  function isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n  }\n\n  util.mixin(Handler, Eventful_1);\n  util.mixin(Handler, Draggable_1);\n  var _default$5 = Handler;\n  var Handler_1 = _default$5;\n\n  /**\n   * 3x2\n   * @exports zrender/tool/matrix\n   */\n\n  /* global Float32Array */\n  var ArrayCtor$1 = typeof Float32Array === 'undefined' ? Array : Float32Array;\n  /**\n   * Create a identity matrix.\n   * @return {Float32Array|Array.<number>}\n   */\n\n  function create$1() {\n    var out = new ArrayCtor$1(6);\n    identity(out);\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   */\n\n\n  function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} m\n   */\n\n\n  function copy$1(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} m1\n   * @param {Float32Array|Array.<number>} m2\n   */\n\n\n  function mul$1(out, m1, m2) {\n    // Consider matrix.mul(m, m2, m);\n    // where out is the same as m2.\n    // So use temp variable to escape error.\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {Float32Array|Array.<number>} v\n   */\n\n\n  function translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {number} rad\n   */\n\n\n  function rotate(out, a, rad) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * atx + st * aty;\n    out[5] = ct * aty - st * atx;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {Float32Array|Array.<number>} v\n   */\n\n\n  function scale$1(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   */\n\n\n  function invert(out, a) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var det = aa * ad - ab * ac;\n\n    if (!det) {\n      return null;\n    }\n\n    det = 1.0 / det;\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n  }\n  /**\n   * Clone a new matrix.\n   * @param {Float32Array|Array.<number>} a\n   */\n\n\n  function clone$3(a) {\n    var b = create$1();\n    copy$1(b, a);\n    return b;\n  }\n\n  var create_1$1 = create$1;\n  var identity_1 = identity;\n  var copy_1$1 = copy$1;\n  var mul_1$1 = mul$1;\n  var translate_1 = translate;\n  var rotate_1 = rotate;\n  var scale_1$1 = scale$1;\n  var invert_1 = invert;\n  var clone_1$2 = clone$3;\n\n  var matrix = {\n  \tcreate: create_1$1,\n  \tidentity: identity_1,\n  \tcopy: copy_1$1,\n  \tmul: mul_1$1,\n  \ttranslate: translate_1,\n  \trotate: rotate_1,\n  \tscale: scale_1$1,\n  \tinvert: invert_1,\n  \tclone: clone_1$2\n  };\n\n  /**\n   * \n   * @module zrender/mixin/Transformable\n   * @author pissang (https://www.github.com/pissang)\n   */\n  var mIdentity = matrix.identity;\n  var EPSILON = 5e-5;\n\n  function isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n  }\n  /**\n   * @alias module:zrender/mixin/Transformable\n   * @constructor\n   */\n\n\n  var Transformable = function (opts) {\n    opts = opts || {}; // If there are no given position, rotation, scale\n\n    if (!opts.position) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default [0, 0]\n       */\n      this.position = [0, 0];\n    }\n\n    if (opts.rotation == null) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default 0\n       */\n      this.rotation = 0;\n    }\n\n    if (!opts.scale) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default [1, 1]\n       */\n      this.scale = [1, 1];\n    }\n    /**\n     * \n     * @type {Array.<number>}\n     * @default null\n     */\n\n\n    this.origin = this.origin || null;\n  };\n\n  var transformableProto = Transformable.prototype;\n  transformableProto.transform = null;\n  /**\n   * \n   * , position, rotation, scaletransformtransform\n   */\n\n  transformableProto.needLocalTransform = function () {\n    return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n  };\n\n  var scaleTmp = [];\n\n  transformableProto.updateTransform = function () {\n    var parent = this.parent;\n    var parentHasTransform = parent && parent.transform;\n    var needLocalTransform = this.needLocalTransform();\n    var m = this.transform;\n\n    if (!(needLocalTransform || parentHasTransform)) {\n      m && mIdentity(m);\n      return;\n    }\n\n    m = m || matrix.create();\n\n    if (needLocalTransform) {\n      this.getLocalTransform(m);\n    } else {\n      mIdentity(m);\n    } // \n\n\n    if (parentHasTransform) {\n      if (needLocalTransform) {\n        matrix.mul(m, parent.transform, m);\n      } else {\n        matrix.copy(m, parent.transform);\n      }\n    } // \n\n\n    this.transform = m;\n    var globalScaleRatio = this.globalScaleRatio;\n\n    if (globalScaleRatio != null && globalScaleRatio !== 1) {\n      this.getGlobalScale(scaleTmp);\n      var relX = scaleTmp[0] < 0 ? -1 : 1;\n      var relY = scaleTmp[1] < 0 ? -1 : 1;\n      var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n      var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n      m[0] *= sx;\n      m[1] *= sx;\n      m[2] *= sy;\n      m[3] *= sy;\n    }\n\n    this.invTransform = this.invTransform || matrix.create();\n    matrix.invert(this.invTransform, m);\n  };\n\n  transformableProto.getLocalTransform = function (m) {\n    return Transformable.getLocalTransform(this, m);\n  };\n  /**\n   * transformcontext\n   * @param {CanvasRenderingContext2D} ctx\n   */\n\n\n  transformableProto.setTransform = function (ctx) {\n    var m = this.transform;\n    var dpr = ctx.dpr || 1;\n\n    if (m) {\n      ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    } else {\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n  };\n\n  transformableProto.restoreTransform = function (ctx) {\n    var dpr = ctx.dpr || 1;\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  };\n\n  var tmpTransform = [];\n  var originTransform = matrix.create();\n\n  transformableProto.setLocalTransform = function (m) {\n    if (!m) {\n      // TODO return or set identity?\n      return;\n    }\n\n    var sx = m[0] * m[0] + m[1] * m[1];\n    var sy = m[2] * m[2] + m[3] * m[3];\n    var position = this.position;\n    var scale = this.scale;\n\n    if (isNotAroundZero(sx - 1)) {\n      sx = Math.sqrt(sx);\n    }\n\n    if (isNotAroundZero(sy - 1)) {\n      sy = Math.sqrt(sy);\n    }\n\n    if (m[0] < 0) {\n      sx = -sx;\n    }\n\n    if (m[3] < 0) {\n      sy = -sy;\n    }\n\n    position[0] = m[4];\n    position[1] = m[5];\n    scale[0] = sx;\n    scale[1] = sy;\n    this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n  };\n  /**\n   * `transform``position`, `rotation`, `scale`\n   */\n\n\n  transformableProto.decomposeTransform = function () {\n    if (!this.transform) {\n      return;\n    }\n\n    var parent = this.parent;\n    var m = this.transform;\n\n    if (parent && parent.transform) {\n      // Get local transform and decompose them to position, scale, rotation\n      matrix.mul(tmpTransform, parent.invTransform, m);\n      m = tmpTransform;\n    }\n\n    var origin = this.origin;\n\n    if (origin && (origin[0] || origin[1])) {\n      originTransform[4] = origin[0];\n      originTransform[5] = origin[1];\n      matrix.mul(tmpTransform, m, originTransform);\n      tmpTransform[4] -= origin[0];\n      tmpTransform[5] -= origin[1];\n      m = tmpTransform;\n    }\n\n    this.setLocalTransform(m);\n  };\n  /**\n   * Get global scale\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.getGlobalScale = function (out) {\n    var m = this.transform;\n    out = out || [];\n\n    if (!m) {\n      out[0] = 1;\n      out[1] = 1;\n      return out;\n    }\n\n    out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n    out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n    if (m[0] < 0) {\n      out[0] = -out[0];\n    }\n\n    if (m[3] < 0) {\n      out[1] = -out[1];\n    }\n\n    return out;\n  };\n  /**\n   *  shape \n   * @method\n   * @param {number} x\n   * @param {number} y\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.transformCoordToLocal = function (x, y) {\n    var v2 = [x, y];\n    var invTransform = this.invTransform;\n\n    if (invTransform) {\n      vector.applyTransform(v2, v2, invTransform);\n    }\n\n    return v2;\n  };\n  /**\n   * \n   * @method\n   * @param {number} x\n   * @param {number} y\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.transformCoordToGlobal = function (x, y) {\n    var v2 = [x, y];\n    var transform = this.transform;\n\n    if (transform) {\n      vector.applyTransform(v2, v2, transform);\n    }\n\n    return v2;\n  };\n  /**\n   * @static\n   * @param {Object} target\n   * @param {Array.<number>} target.origin\n   * @param {number} target.rotation\n   * @param {Array.<number>} target.position\n   * @param {Array.<number>} [m]\n   */\n\n\n  Transformable.getLocalTransform = function (target, m) {\n    m = m || [];\n    mIdentity(m);\n    var origin = target.origin;\n    var scale = target.scale || [1, 1];\n    var rotation = target.rotation || 0;\n    var position = target.position || [0, 0];\n\n    if (origin) {\n      // Translate to origin\n      m[4] -= origin[0];\n      m[5] -= origin[1];\n    }\n\n    matrix.scale(m, m, scale);\n\n    if (rotation) {\n      matrix.rotate(m, m, rotation);\n    }\n\n    if (origin) {\n      // Translate back from origin\n      m[4] += origin[0];\n      m[5] += origin[1];\n    }\n\n    m[4] += position[0];\n    m[5] += position[1];\n    return m;\n  };\n\n  var _default$6 = Transformable;\n  var Transformable_1 = _default$6;\n\n  /**\n   *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n   * @see http://sole.github.io/tween.js/examples/03_graphs.html\n   * @exports zrender/animation/easing\n   */\n  var easing = {\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    linear: function (k) {\n      return k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticIn: function (k) {\n      return k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticOut: function (k) {\n      return k * (2 - k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    },\n    // t^3\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicIn: function (k) {\n      return k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicOut: function (k) {\n      return --k * k * k + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    },\n    // t^4\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticIn: function (k) {\n      return k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticOut: function (k) {\n      return 1 - --k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k;\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n    // t^5\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticIn: function (k) {\n      return k * k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticOut: function (k) {\n      return --k * k * k * k * k + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n    // sin(t)\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalIn: function (k) {\n      return 1 - Math.cos(k * Math.PI / 2);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalOut: function (k) {\n      return Math.sin(k * Math.PI / 2);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalInOut: function (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n    // 2^t\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialIn: function (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialOut: function (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialInOut: function (k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1);\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n    // sqrt(1-t^2)\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularIn: function (k) {\n      return 1 - Math.sqrt(1 - k * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularOut: function (k) {\n      return Math.sqrt(1 - --k * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticIn: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticOut: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticInOut: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      if ((k *= 2) < 1) {\n        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n      }\n\n      return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backIn: function (k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backOut: function (k) {\n      var s = 1.70158;\n      return --k * k * ((s + 1) * k + s) + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backInOut: function (k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceIn: function (k) {\n      return 1 - easing.bounceOut(1 - k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceOut: function (k) {\n      if (k < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n      }\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceInOut: function (k) {\n      if (k < 0.5) {\n        return easing.bounceIn(k * 2) * 0.5;\n      }\n\n      return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n  };\n  var _default$7 = easing;\n  var easing_1 = _default$7;\n\n  /**\n   * \n   * @config target onframe\n   * @config life(1000) \n   * @config delay(0) \n   * @config loop(true)\n   * @config gap(0) \n   * @config onframe\n   * @config easing(optional)\n   * @config ondestroy(optional)\n   * @config onrestart(optional)\n   *\n   * TODO pause\n   */\n  function Clip(options) {\n    this._target = options.target; // \n\n    this._life = options.life || 1000; // \n\n    this._delay = options.delay || 0; // \n    // this._startTime = new Date().getTime() + this._delay;// \n\n    this._initialized = false; // \n\n    this.loop = options.loop == null ? false : options.loop;\n    this.gap = options.gap || 0;\n    this.easing = options.easing || 'Linear';\n    this.onframe = options.onframe;\n    this.ondestroy = options.ondestroy;\n    this.onrestart = options.onrestart;\n    this._pausedTime = 0;\n    this._paused = false;\n  }\n\n  Clip.prototype = {\n    constructor: Clip,\n    step: function (globalTime, deltaTime) {\n      // Set startTime on first step, or _startTime may has milleseconds different between clips\n      // PENDING\n      if (!this._initialized) {\n        this._startTime = globalTime + this._delay;\n        this._initialized = true;\n      }\n\n      if (this._paused) {\n        this._pausedTime += deltaTime;\n        return;\n      }\n\n      var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // \n\n      if (percent < 0) {\n        return;\n      }\n\n      percent = Math.min(percent, 1);\n      var easing = this.easing;\n      var easingFunc = typeof easing === 'string' ? easing_1[easing] : easing;\n      var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n      this.fire('frame', schedule); // \n\n      if (percent === 1) {\n        if (this.loop) {\n          this.restart(globalTime); // \n          //  stage.update \n\n          return 'restart';\n        } // \n        // Animation.update\n\n\n        this._needsRemove = true;\n        return 'destroy';\n      }\n\n      return null;\n    },\n    restart: function (globalTime) {\n      var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n      this._startTime = globalTime - remainder + this.gap;\n      this._pausedTime = 0;\n      this._needsRemove = false;\n    },\n    fire: function (eventType, arg) {\n      eventType = 'on' + eventType;\n\n      if (this[eventType]) {\n        this[eventType](this._target, arg);\n      }\n    },\n    pause: function () {\n      this._paused = true;\n    },\n    resume: function () {\n      this._paused = false;\n    }\n  };\n  var _default$8 = Clip;\n  var Clip_1 = _default$8;\n\n  // Simple LRU cache use doubly linked list\n  // @module zrender/core/LRU\n\n  /**\n   * Simple double linked list. Compared with array, it has O(1) remove operation.\n   * @constructor\n   */\n  var LinkedList = function () {\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n    this.head = null;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.tail = null;\n    this._len = 0;\n  };\n\n  var linkedListProto = LinkedList.prototype;\n  /**\n   * Insert a new value at the tail\n   * @param  {} val\n   * @return {module:zrender/core/LRU~Entry}\n   */\n\n  linkedListProto.insert = function (val) {\n    var entry = new Entry(val);\n    this.insertEntry(entry);\n    return entry;\n  };\n  /**\n   * Insert an entry at the tail\n   * @param  {module:zrender/core/LRU~Entry} entry\n   */\n\n\n  linkedListProto.insertEntry = function (entry) {\n    if (!this.head) {\n      this.head = this.tail = entry;\n    } else {\n      this.tail.next = entry;\n      entry.prev = this.tail;\n      entry.next = null;\n      this.tail = entry;\n    }\n\n    this._len++;\n  };\n  /**\n   * Remove entry.\n   * @param  {module:zrender/core/LRU~Entry} entry\n   */\n\n\n  linkedListProto.remove = function (entry) {\n    var prev = entry.prev;\n    var next = entry.next;\n\n    if (prev) {\n      prev.next = next;\n    } else {\n      // Is head\n      this.head = next;\n    }\n\n    if (next) {\n      next.prev = prev;\n    } else {\n      // Is tail\n      this.tail = prev;\n    }\n\n    entry.next = entry.prev = null;\n    this._len--;\n  };\n  /**\n   * @return {number}\n   */\n\n\n  linkedListProto.len = function () {\n    return this._len;\n  };\n  /**\n   * Clear list\n   */\n\n\n  linkedListProto.clear = function () {\n    this.head = this.tail = null;\n    this._len = 0;\n  };\n  /**\n   * @constructor\n   * @param {} val\n   */\n\n\n  var Entry = function (val) {\n    /**\n     * @type {}\n     */\n    this.value = val;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.next;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.prev;\n  };\n  /**\n   * LRU Cache\n   * @constructor\n   * @alias module:zrender/core/LRU\n   */\n\n\n  var LRU = function (maxSize) {\n    this._list = new LinkedList();\n    this._map = {};\n    this._maxSize = maxSize || 10;\n    this._lastRemovedEntry = null;\n  };\n\n  var LRUProto = LRU.prototype;\n  /**\n   * @param  {string} key\n   * @param  {} value\n   * @return {} Removed value\n   */\n\n  LRUProto.put = function (key, value) {\n    var list = this._list;\n    var map = this._map;\n    var removed = null;\n\n    if (map[key] == null) {\n      var len = list.len(); // Reuse last removed entry\n\n      var entry = this._lastRemovedEntry;\n\n      if (len >= this._maxSize && len > 0) {\n        // Remove the least recently used\n        var leastUsedEntry = list.head;\n        list.remove(leastUsedEntry);\n        delete map[leastUsedEntry.key];\n        removed = leastUsedEntry.value;\n        this._lastRemovedEntry = leastUsedEntry;\n      }\n\n      if (entry) {\n        entry.value = value;\n      } else {\n        entry = new Entry(value);\n      }\n\n      entry.key = key;\n      list.insertEntry(entry);\n      map[key] = entry;\n    }\n\n    return removed;\n  };\n  /**\n   * @param  {string} key\n   * @return {}\n   */\n\n\n  LRUProto.get = function (key) {\n    var entry = this._map[key];\n    var list = this._list;\n\n    if (entry != null) {\n      // Put the latest used entry in the tail\n      if (entry !== list.tail) {\n        list.remove(entry);\n        list.insertEntry(entry);\n      }\n\n      return entry.value;\n    }\n  };\n  /**\n   * Clear the cache\n   */\n\n\n  LRUProto.clear = function () {\n    this._list.clear();\n\n    this._map = {};\n  };\n\n  var _default$9 = LRU;\n  var LRU_1 = _default$9;\n\n  var kCSSColorTable = {\n    'transparent': [0, 0, 0, 0],\n    'aliceblue': [240, 248, 255, 1],\n    'antiquewhite': [250, 235, 215, 1],\n    'aqua': [0, 255, 255, 1],\n    'aquamarine': [127, 255, 212, 1],\n    'azure': [240, 255, 255, 1],\n    'beige': [245, 245, 220, 1],\n    'bisque': [255, 228, 196, 1],\n    'black': [0, 0, 0, 1],\n    'blanchedalmond': [255, 235, 205, 1],\n    'blue': [0, 0, 255, 1],\n    'blueviolet': [138, 43, 226, 1],\n    'brown': [165, 42, 42, 1],\n    'burlywood': [222, 184, 135, 1],\n    'cadetblue': [95, 158, 160, 1],\n    'chartreuse': [127, 255, 0, 1],\n    'chocolate': [210, 105, 30, 1],\n    'coral': [255, 127, 80, 1],\n    'cornflowerblue': [100, 149, 237, 1],\n    'cornsilk': [255, 248, 220, 1],\n    'crimson': [220, 20, 60, 1],\n    'cyan': [0, 255, 255, 1],\n    'darkblue': [0, 0, 139, 1],\n    'darkcyan': [0, 139, 139, 1],\n    'darkgoldenrod': [184, 134, 11, 1],\n    'darkgray': [169, 169, 169, 1],\n    'darkgreen': [0, 100, 0, 1],\n    'darkgrey': [169, 169, 169, 1],\n    'darkkhaki': [189, 183, 107, 1],\n    'darkmagenta': [139, 0, 139, 1],\n    'darkolivegreen': [85, 107, 47, 1],\n    'darkorange': [255, 140, 0, 1],\n    'darkorchid': [153, 50, 204, 1],\n    'darkred': [139, 0, 0, 1],\n    'darksalmon': [233, 150, 122, 1],\n    'darkseagreen': [143, 188, 143, 1],\n    'darkslateblue': [72, 61, 139, 1],\n    'darkslategray': [47, 79, 79, 1],\n    'darkslategrey': [47, 79, 79, 1],\n    'darkturquoise': [0, 206, 209, 1],\n    'darkviolet': [148, 0, 211, 1],\n    'deeppink': [255, 20, 147, 1],\n    'deepskyblue': [0, 191, 255, 1],\n    'dimgray': [105, 105, 105, 1],\n    'dimgrey': [105, 105, 105, 1],\n    'dodgerblue': [30, 144, 255, 1],\n    'firebrick': [178, 34, 34, 1],\n    'floralwhite': [255, 250, 240, 1],\n    'forestgreen': [34, 139, 34, 1],\n    'fuchsia': [255, 0, 255, 1],\n    'gainsboro': [220, 220, 220, 1],\n    'ghostwhite': [248, 248, 255, 1],\n    'gold': [255, 215, 0, 1],\n    'goldenrod': [218, 165, 32, 1],\n    'gray': [128, 128, 128, 1],\n    'green': [0, 128, 0, 1],\n    'greenyellow': [173, 255, 47, 1],\n    'grey': [128, 128, 128, 1],\n    'honeydew': [240, 255, 240, 1],\n    'hotpink': [255, 105, 180, 1],\n    'indianred': [205, 92, 92, 1],\n    'indigo': [75, 0, 130, 1],\n    'ivory': [255, 255, 240, 1],\n    'khaki': [240, 230, 140, 1],\n    'lavender': [230, 230, 250, 1],\n    'lavenderblush': [255, 240, 245, 1],\n    'lawngreen': [124, 252, 0, 1],\n    'lemonchiffon': [255, 250, 205, 1],\n    'lightblue': [173, 216, 230, 1],\n    'lightcoral': [240, 128, 128, 1],\n    'lightcyan': [224, 255, 255, 1],\n    'lightgoldenrodyellow': [250, 250, 210, 1],\n    'lightgray': [211, 211, 211, 1],\n    'lightgreen': [144, 238, 144, 1],\n    'lightgrey': [211, 211, 211, 1],\n    'lightpink': [255, 182, 193, 1],\n    'lightsalmon': [255, 160, 122, 1],\n    'lightseagreen': [32, 178, 170, 1],\n    'lightskyblue': [135, 206, 250, 1],\n    'lightslategray': [119, 136, 153, 1],\n    'lightslategrey': [119, 136, 153, 1],\n    'lightsteelblue': [176, 196, 222, 1],\n    'lightyellow': [255, 255, 224, 1],\n    'lime': [0, 255, 0, 1],\n    'limegreen': [50, 205, 50, 1],\n    'linen': [250, 240, 230, 1],\n    'magenta': [255, 0, 255, 1],\n    'maroon': [128, 0, 0, 1],\n    'mediumaquamarine': [102, 205, 170, 1],\n    'mediumblue': [0, 0, 205, 1],\n    'mediumorchid': [186, 85, 211, 1],\n    'mediumpurple': [147, 112, 219, 1],\n    'mediumseagreen': [60, 179, 113, 1],\n    'mediumslateblue': [123, 104, 238, 1],\n    'mediumspringgreen': [0, 250, 154, 1],\n    'mediumturquoise': [72, 209, 204, 1],\n    'mediumvioletred': [199, 21, 133, 1],\n    'midnightblue': [25, 25, 112, 1],\n    'mintcream': [245, 255, 250, 1],\n    'mistyrose': [255, 228, 225, 1],\n    'moccasin': [255, 228, 181, 1],\n    'navajowhite': [255, 222, 173, 1],\n    'navy': [0, 0, 128, 1],\n    'oldlace': [253, 245, 230, 1],\n    'olive': [128, 128, 0, 1],\n    'olivedrab': [107, 142, 35, 1],\n    'orange': [255, 165, 0, 1],\n    'orangered': [255, 69, 0, 1],\n    'orchid': [218, 112, 214, 1],\n    'palegoldenrod': [238, 232, 170, 1],\n    'palegreen': [152, 251, 152, 1],\n    'paleturquoise': [175, 238, 238, 1],\n    'palevioletred': [219, 112, 147, 1],\n    'papayawhip': [255, 239, 213, 1],\n    'peachpuff': [255, 218, 185, 1],\n    'peru': [205, 133, 63, 1],\n    'pink': [255, 192, 203, 1],\n    'plum': [221, 160, 221, 1],\n    'powderblue': [176, 224, 230, 1],\n    'purple': [128, 0, 128, 1],\n    'red': [255, 0, 0, 1],\n    'rosybrown': [188, 143, 143, 1],\n    'royalblue': [65, 105, 225, 1],\n    'saddlebrown': [139, 69, 19, 1],\n    'salmon': [250, 128, 114, 1],\n    'sandybrown': [244, 164, 96, 1],\n    'seagreen': [46, 139, 87, 1],\n    'seashell': [255, 245, 238, 1],\n    'sienna': [160, 82, 45, 1],\n    'silver': [192, 192, 192, 1],\n    'skyblue': [135, 206, 235, 1],\n    'slateblue': [106, 90, 205, 1],\n    'slategray': [112, 128, 144, 1],\n    'slategrey': [112, 128, 144, 1],\n    'snow': [255, 250, 250, 1],\n    'springgreen': [0, 255, 127, 1],\n    'steelblue': [70, 130, 180, 1],\n    'tan': [210, 180, 140, 1],\n    'teal': [0, 128, 128, 1],\n    'thistle': [216, 191, 216, 1],\n    'tomato': [255, 99, 71, 1],\n    'turquoise': [64, 224, 208, 1],\n    'violet': [238, 130, 238, 1],\n    'wheat': [245, 222, 179, 1],\n    'white': [255, 255, 255, 1],\n    'whitesmoke': [245, 245, 245, 1],\n    'yellow': [255, 255, 0, 1],\n    'yellowgreen': [154, 205, 50, 1]\n  };\n\n  function clampCssByte(i) {\n    // Clamp to integer 0 .. 255.\n    i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n  }\n\n  function clampCssAngle(i) {\n    // Clamp to integer 0 .. 360.\n    i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n  }\n\n  function clampCssFloat(f) {\n    // Clamp to float 0.0 .. 1.0.\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n  }\n\n  function parseCssInt(str) {\n    // int or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n      return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n\n    return clampCssByte(parseInt(str, 10));\n  }\n\n  function parseCssFloat(str) {\n    // float or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n      return clampCssFloat(parseFloat(str) / 100);\n    }\n\n    return clampCssFloat(parseFloat(str));\n  }\n\n  function cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n      h += 1;\n    } else if (h > 1) {\n      h -= 1;\n    }\n\n    if (h * 6 < 1) {\n      return m1 + (m2 - m1) * h * 6;\n    }\n\n    if (h * 2 < 1) {\n      return m2;\n    }\n\n    if (h * 3 < 2) {\n      return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    }\n\n    return m1;\n  }\n\n  function lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n  }\n\n  function setRgba(out, r, g, b, a) {\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n  }\n\n  function copyRgba(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n  }\n\n  var colorCache = new LRU_1(20);\n  var lastRemovedArr = null;\n\n  function putToCache(colorStr, rgbaArr) {\n    // Reuse removed array\n    if (lastRemovedArr) {\n      copyRgba(lastRemovedArr, rgbaArr);\n    }\n\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n  }\n  /**\n   * @param {string} colorStr\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n      return;\n    }\n\n    rgbaArr = rgbaArr || [];\n    var cached = colorCache.get(colorStr);\n\n    if (cached) {\n      return copyRgba(rgbaArr, cached);\n    } // colorStr may be not string\n\n\n    colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n    var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n    if (str in kCSSColorTable) {\n      copyRgba(rgbaArr, kCSSColorTable[str]);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } // #abc and #abc123 syntax.\n\n\n    if (str.charAt(0) === '#') {\n      if (str.length === 4) {\n        var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n        if (!(iv >= 0 && iv <= 0xfff)) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return; // Covers NaN.\n        }\n\n        setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n      } else if (str.length === 7) {\n        var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n        if (!(iv >= 0 && iv <= 0xffffff)) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return; // Covers NaN.\n        }\n\n        setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n      }\n\n      return;\n    }\n\n    var op = str.indexOf('(');\n    var ep = str.indexOf(')');\n\n    if (op !== -1 && ep + 1 === str.length) {\n      var fname = str.substr(0, op);\n      var params = str.substr(op + 1, ep - (op + 1)).split(',');\n      var alpha = 1; // To allow case fallthrough.\n\n      switch (fname) {\n        case 'rgba':\n          if (params.length !== 4) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          alpha = parseCssFloat(params.pop());\n        // jshint ignore:line\n        // Fall through.\n\n        case 'rgb':\n          if (params.length !== 3) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        case 'hsla':\n          if (params.length !== 4) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          params[3] = parseCssFloat(params[3]);\n          hsla2rgba(params, rgbaArr);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        case 'hsl':\n          if (params.length !== 3) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          hsla2rgba(params, rgbaArr);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        default:\n          return;\n      }\n    }\n\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n  }\n  /**\n   * @param {Array.<number>} hsla\n   * @param {Array.<number>} rgba\n   * @return {Array.<number>} rgba\n   */\n\n\n  function hsla2rgba(hsla, rgba) {\n    var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n    // NOTE(deanm): According to the CSS spec s/l should only be\n    // percentages, but we don't bother and let float or percentage.\n\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n    rgba = rgba || [];\n    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n    if (hsla.length === 4) {\n      rgba[3] = hsla[3];\n    }\n\n    return rgba;\n  }\n  /**\n   * @param {Array.<number>} rgba\n   * @return {Array.<number>} hsla\n   */\n\n\n  function rgba2hsla(rgba) {\n    if (!rgba) {\n      return;\n    } // RGB from 0 to 255\n\n\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n    var vMin = Math.min(R, G, B); // Min. value of RGB\n\n    var vMax = Math.max(R, G, B); // Max. value of RGB\n\n    var delta = vMax - vMin; // Delta RGB value\n\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S; // HSL results from 0 to 1\n\n    if (delta === 0) {\n      H = 0;\n      S = 0;\n    } else {\n      if (L < 0.5) {\n        S = delta / (vMax + vMin);\n      } else {\n        S = delta / (2 - vMax - vMin);\n      }\n\n      var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n      var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n      var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n      if (R === vMax) {\n        H = deltaB - deltaG;\n      } else if (G === vMax) {\n        H = 1 / 3 + deltaR - deltaB;\n      } else if (B === vMax) {\n        H = 2 / 3 + deltaG - deltaR;\n      }\n\n      if (H < 0) {\n        H += 1;\n      }\n\n      if (H > 1) {\n        H -= 1;\n      }\n    }\n\n    var hsla = [H * 360, S, L];\n\n    if (rgba[3] != null) {\n      hsla.push(rgba[3]);\n    }\n\n    return hsla;\n  }\n  /**\n   * @param {string} color\n   * @param {number} level\n   * @return {string}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function lift(color, level) {\n    var colorArr = parse(color);\n\n    if (colorArr) {\n      for (var i = 0; i < 3; i++) {\n        if (level < 0) {\n          colorArr[i] = colorArr[i] * (1 - level) | 0;\n        } else {\n          colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n        }\n\n        if (colorArr[i] > 255) {\n          colorArr[i] = 255;\n        } else if (color[i] < 0) {\n          colorArr[i] = 0;\n        }\n      }\n\n      return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n  }\n  /**\n   * @param {string} color\n   * @return {string}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function toHex(color) {\n    var colorArr = parse(color);\n\n    if (colorArr) {\n      return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n    }\n  }\n  /**\n   * Map value to color. Faster than lerp methods because color is represented by rgba array.\n   * @param {number} normalizedValue A float between 0 and 1.\n   * @param {Array.<Array.<number>>} colors List of rgba color array\n   * @param {Array.<number>} [out] Mapped gba color array\n   * @return {Array.<number>} will be null/undefined if input illegal.\n   */\n\n\n  function fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n      return;\n    }\n\n    out = out || [];\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n    return out;\n  }\n  /**\n   * @deprecated\n   */\n\n\n  var fastMapToColor = fastLerp;\n  /**\n   * @param {number} normalizedValue A float between 0 and 1.\n   * @param {Array.<string>} colors Color list.\n   * @param {boolean=} fullOutput Default false.\n   * @return {(string|Object)} Result color. If fullOutput,\n   *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n   * @memberOf module:zrender/util/color\n   */\n\n  function lerp$1(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n      return;\n    }\n\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n    var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n    return fullOutput ? {\n      color: color,\n      leftIndex: leftIndex,\n      rightIndex: rightIndex,\n      value: value\n    } : color;\n  }\n  /**\n   * @deprecated\n   */\n\n\n  var mapToColor = lerp$1;\n  /**\n   * @param {string} color\n   * @param {number=} h 0 ~ 360, ignore when null.\n   * @param {number=} s 0 ~ 1, ignore when null.\n   * @param {number=} l 0 ~ 1, ignore when null.\n   * @return {string} Color string in rgba format.\n   * @memberOf module:zrender/util/color\n   */\n\n  function modifyHSL(color, h, s, l) {\n    color = parse(color);\n\n    if (color) {\n      color = rgba2hsla(color);\n      h != null && (color[0] = clampCssAngle(h));\n      s != null && (color[1] = parseCssFloat(s));\n      l != null && (color[2] = parseCssFloat(l));\n      return stringify(hsla2rgba(color), 'rgba');\n    }\n  }\n  /**\n   * @param {string} color\n   * @param {number=} alpha 0 ~ 1\n   * @return {string} Color string in rgba format.\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function modifyAlpha(color, alpha) {\n    color = parse(color);\n\n    if (color && alpha != null) {\n      color[3] = clampCssFloat(alpha);\n      return stringify(color, 'rgba');\n    }\n  }\n  /**\n   * @param {Array.<number>} arrColor like [12,33,44,0.4]\n   * @param {string} type 'rgba', 'hsva', ...\n   * @return {string} Result color. (If input illegal, return undefined).\n   */\n\n\n  function stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n      return;\n    }\n\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n      colorStr += ',' + arrColor[3];\n    }\n\n    return type + '(' + colorStr + ')';\n  }\n\n  var parse_1 = parse;\n  var lift_1 = lift;\n  var toHex_1 = toHex;\n  var fastLerp_1 = fastLerp;\n  var fastMapToColor_1 = fastMapToColor;\n  var lerp_1$1 = lerp$1;\n  var mapToColor_1 = mapToColor;\n  var modifyHSL_1 = modifyHSL;\n  var modifyAlpha_1 = modifyAlpha;\n  var stringify_1 = stringify;\n\n  var color = {\n  \tparse: parse_1,\n  \tlift: lift_1,\n  \ttoHex: toHex_1,\n  \tfastLerp: fastLerp_1,\n  \tfastMapToColor: fastMapToColor_1,\n  \tlerp: lerp_1$1,\n  \tmapToColor: mapToColor_1,\n  \tmodifyHSL: modifyHSL_1,\n  \tmodifyAlpha: modifyAlpha_1,\n  \tstringify: stringify_1\n  };\n\n  var isArrayLike$1 = util.isArrayLike;\n\n  /**\n   * @module echarts/animation/Animator\n   */\n  var arraySlice = Array.prototype.slice;\n\n  function defaultGetter(target, key) {\n    return target[key];\n  }\n\n  function defaultSetter(target, key, value) {\n    target[key] = value;\n  }\n  /**\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} percent\n   * @return {number}\n   */\n\n\n  function interpolateNumber(p0, p1, percent) {\n    return (p1 - p0) * percent + p0;\n  }\n  /**\n   * @param  {string} p0\n   * @param  {string} p1\n   * @param  {number} percent\n   * @return {string}\n   */\n\n\n  function interpolateString(p0, p1, percent) {\n    return percent > 0.5 ? p1 : p0;\n  }\n  /**\n   * @param  {Array} p0\n   * @param  {Array} p1\n   * @param  {number} percent\n   * @param  {Array} out\n   * @param  {number} arrDim\n   */\n\n\n  function interpolateArray(p0, p1, percent, out, arrDim) {\n    var len = p0.length;\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        out[i] = interpolateNumber(p0[i], p1[i], percent);\n      }\n    } else {\n      var len2 = len && p0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n        }\n      }\n    }\n  } // arr0 is source array, arr1 is target array.\n  // Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\n  function fillArr(arr0, arr1, arrDim) {\n    var arr0Len = arr0.length;\n    var arr1Len = arr1.length;\n\n    if (arr0Len !== arr1Len) {\n      // FIXME Not work for TypedArray\n      var isPreviousLarger = arr0Len > arr1Len;\n\n      if (isPreviousLarger) {\n        // Cut the previous\n        arr0.length = arr1Len;\n      } else {\n        // Fill the previous\n        for (var i = arr0Len; i < arr1Len; i++) {\n          arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n        }\n      }\n    } // Handling NaN value\n\n\n    var len2 = arr0[0] && arr0[0].length;\n\n    for (var i = 0; i < arr0.length; i++) {\n      if (arrDim === 1) {\n        if (isNaN(arr0[i])) {\n          arr0[i] = arr1[i];\n        }\n      } else {\n        for (var j = 0; j < len2; j++) {\n          if (isNaN(arr0[i][j])) {\n            arr0[i][j] = arr1[i][j];\n          }\n        }\n      }\n    }\n  }\n  /**\n   * @param  {Array} arr0\n   * @param  {Array} arr1\n   * @param  {number} arrDim\n   * @return {boolean}\n   */\n\n\n  function isArraySame(arr0, arr1, arrDim) {\n    if (arr0 === arr1) {\n      return true;\n    }\n\n    var len = arr0.length;\n\n    if (len !== arr1.length) {\n      return false;\n    }\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        if (arr0[i] !== arr1[i]) {\n          return false;\n        }\n      }\n    } else {\n      var len2 = arr0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          if (arr0[i][j] !== arr1[i][j]) {\n            return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n  /**\n   * Catmull Rom interpolate array\n   * @param  {Array} p0\n   * @param  {Array} p1\n   * @param  {Array} p2\n   * @param  {Array} p3\n   * @param  {number} t\n   * @param  {number} t2\n   * @param  {number} t3\n   * @param  {Array} out\n   * @param  {number} arrDim\n   */\n\n\n  function catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n    var len = p0.length;\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n      }\n    } else {\n      var len2 = p0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n        }\n      }\n    }\n  }\n  /**\n   * Catmull Rom interpolate number\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @param  {number} t2\n   * @param  {number} t3\n   * @return {number}\n   */\n\n\n  function catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n\n  function cloneValue(value) {\n    if (isArrayLike$1(value)) {\n      var len = value.length;\n\n      if (isArrayLike$1(value[0])) {\n        var ret = [];\n\n        for (var i = 0; i < len; i++) {\n          ret.push(arraySlice.call(value[i]));\n        }\n\n        return ret;\n      }\n\n      return arraySlice.call(value);\n    }\n\n    return value;\n  }\n\n  function rgba2String(rgba) {\n    rgba[0] = Math.floor(rgba[0]);\n    rgba[1] = Math.floor(rgba[1]);\n    rgba[2] = Math.floor(rgba[2]);\n    return 'rgba(' + rgba.join(',') + ')';\n  }\n\n  function getArrayDim(keyframes) {\n    var lastValue = keyframes[keyframes.length - 1].value;\n    return isArrayLike$1(lastValue && lastValue[0]) ? 2 : 1;\n  }\n\n  function createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n    var getter = animator._getter;\n    var setter = animator._setter;\n    var useSpline = easing === 'spline';\n    var trackLen = keyframes.length;\n\n    if (!trackLen) {\n      return;\n    } // Guess data type\n\n\n    var firstVal = keyframes[0].value;\n    var isValueArray = isArrayLike$1(firstVal);\n    var isValueColor = false;\n    var isValueString = false; // For vertices morphing\n\n    var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n    var trackMaxTime; // Sort keyframe as ascending\n\n    keyframes.sort(function (a, b) {\n      return a.time - b.time;\n    });\n    trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n    var kfPercents = []; // Value of each keyframe\n\n    var kfValues = [];\n    var prevValue = keyframes[0].value;\n    var isAllValueEqual = true;\n\n    for (var i = 0; i < trackLen; i++) {\n      kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n      var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n      if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n        isAllValueEqual = false;\n      }\n\n      prevValue = value; // Try converting a string to a color array\n\n      if (typeof value === 'string') {\n        var colorArray = color.parse(value);\n\n        if (colorArray) {\n          value = colorArray;\n          isValueColor = true;\n        } else {\n          isValueString = true;\n        }\n      }\n\n      kfValues.push(value);\n    }\n\n    if (!forceAnimate && isAllValueEqual) {\n      return;\n    }\n\n    var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n    for (var i = 0; i < trackLen - 1; i++) {\n      if (isValueArray) {\n        fillArr(kfValues[i], lastValue, arrDim);\n      } else {\n        if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n          kfValues[i] = lastValue;\n        }\n      }\n    }\n\n    isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n    // animation playback is sequency\n\n    var lastFrame = 0;\n    var lastFramePercent = 0;\n    var start;\n    var w;\n    var p0;\n    var p1;\n    var p2;\n    var p3;\n\n    if (isValueColor) {\n      var rgba = [0, 0, 0, 0];\n    }\n\n    var onframe = function (target, percent) {\n      // Find the range keyframes\n      // kf1-----kf2---------current--------kf3\n      // find kf2 and kf3 and do interpolation\n      var frame; // In the easing function like elasticOut, percent may less than 0\n\n      if (percent < 0) {\n        frame = 0;\n      } else if (percent < lastFramePercent) {\n        // Start from next key\n        // PENDING start from lastFrame ?\n        start = Math.min(lastFrame + 1, trackLen - 1);\n\n        for (frame = start; frame >= 0; frame--) {\n          if (kfPercents[frame] <= percent) {\n            break;\n          }\n        } // PENDING really need to do this ?\n\n\n        frame = Math.min(frame, trackLen - 2);\n      } else {\n        for (frame = lastFrame; frame < trackLen; frame++) {\n          if (kfPercents[frame] > percent) {\n            break;\n          }\n        }\n\n        frame = Math.min(frame - 1, trackLen - 2);\n      }\n\n      lastFrame = frame;\n      lastFramePercent = percent;\n      var range = kfPercents[frame + 1] - kfPercents[frame];\n\n      if (range === 0) {\n        return;\n      } else {\n        w = (percent - kfPercents[frame]) / range;\n      }\n\n      if (useSpline) {\n        p1 = kfValues[frame];\n        p0 = kfValues[frame === 0 ? frame : frame - 1];\n        p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n        p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n        if (isValueArray) {\n          catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n        } else {\n          var value;\n\n          if (isValueColor) {\n            value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n            value = rgba2String(rgba);\n          } else if (isValueString) {\n            // String is step(0.5)\n            return interpolateString(p1, p2, w);\n          } else {\n            value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n          }\n\n          setter(target, propName, value);\n        }\n      } else {\n        if (isValueArray) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n        } else {\n          var value;\n\n          if (isValueColor) {\n            interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n            value = rgba2String(rgba);\n          } else if (isValueString) {\n            // String is step(0.5)\n            return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n          } else {\n            value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n          }\n\n          setter(target, propName, value);\n        }\n      }\n    };\n\n    var clip = new Clip_1({\n      target: animator._target,\n      life: trackMaxTime,\n      loop: animator._loop,\n      delay: animator._delay,\n      onframe: onframe,\n      ondestroy: oneTrackDone\n    });\n\n    if (easing && easing !== 'spline') {\n      clip.easing = easing;\n    }\n\n    return clip;\n  }\n  /**\n   * @alias module:zrender/animation/Animator\n   * @constructor\n   * @param {Object} target\n   * @param {boolean} loop\n   * @param {Function} getter\n   * @param {Function} setter\n   */\n\n\n  var Animator = function (target, loop, getter, setter) {\n    this._tracks = {};\n    this._target = target;\n    this._loop = loop || false;\n    this._getter = getter || defaultGetter;\n    this._setter = setter || defaultSetter;\n    this._clipCount = 0;\n    this._delay = 0;\n    this._doneList = [];\n    this._onframeList = [];\n    this._clipList = [];\n  };\n\n  Animator.prototype = {\n    /**\n     * Set Animation keyframe\n     * @param  {number} time ms\n     * @param  {Object} props key-value\n     * @return {module:zrender/animation/Animator}\n     */\n    when: function (time\n    /* ms */\n    , props) {\n      var tracks = this._tracks;\n\n      for (var propName in props) {\n        if (!props.hasOwnProperty(propName)) {\n          continue;\n        }\n\n        if (!tracks[propName]) {\n          tracks[propName] = []; // Invalid value\n\n          var value = this._getter(this._target, propName);\n\n          if (value == null) {\n            // zrLog('Invalid property ' + propName);\n            continue;\n          } // If time is 0\n          //  Then props is given initialize value\n          // Else\n          //  Initialize value from current prop value\n\n\n          if (time !== 0) {\n            tracks[propName].push({\n              time: 0,\n              value: cloneValue(value)\n            });\n          }\n        }\n\n        tracks[propName].push({\n          time: time,\n          value: props[propName]\n        });\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} callback\n     * @return {module:zrender/animation/Animator}\n     */\n    during: function (callback) {\n      this._onframeList.push(callback);\n\n      return this;\n    },\n    pause: function () {\n      for (var i = 0; i < this._clipList.length; i++) {\n        this._clipList[i].pause();\n      }\n\n      this._paused = true;\n    },\n    resume: function () {\n      for (var i = 0; i < this._clipList.length; i++) {\n        this._clipList[i].resume();\n      }\n\n      this._paused = false;\n    },\n    isPaused: function () {\n      return !!this._paused;\n    },\n    _doneCallback: function () {\n      // Clear all tracks\n      this._tracks = {}; // Clear all clips\n\n      this._clipList.length = 0;\n      var doneList = this._doneList;\n      var len = doneList.length;\n\n      for (var i = 0; i < len; i++) {\n        doneList[i].call(this);\n      }\n    },\n\n    /**\n     * Start the animation\n     * @param  {string|Function} [easing]\n     *         {@link module:zrender/animation/easing}\n     * @param  {boolean} forceAnimate\n     * @return {module:zrender/animation/Animator}\n     */\n    start: function (easing, forceAnimate) {\n      var self = this;\n      var clipCount = 0;\n\n      var oneTrackDone = function () {\n        clipCount--;\n\n        if (!clipCount) {\n          self._doneCallback();\n        }\n      };\n\n      var lastClip;\n\n      for (var propName in this._tracks) {\n        if (!this._tracks.hasOwnProperty(propName)) {\n          continue;\n        }\n\n        var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n        if (clip) {\n          this._clipList.push(clip);\n\n          clipCount++; // If start after added to animation\n\n          if (this.animation) {\n            this.animation.addClip(clip);\n          }\n\n          lastClip = clip;\n        }\n      } // Add during callback on the last clip\n\n\n      if (lastClip) {\n        var oldOnFrame = lastClip.onframe;\n\n        lastClip.onframe = function (target, percent) {\n          oldOnFrame(target, percent);\n\n          for (var i = 0; i < self._onframeList.length; i++) {\n            self._onframeList[i](target, percent);\n          }\n        };\n      } // This optimization will help the case that in the upper application\n      // the view may be refreshed frequently, where animation will be\n      // called repeatly but nothing changed.\n\n\n      if (!clipCount) {\n        this._doneCallback();\n      }\n\n      return this;\n    },\n\n    /**\n     * Stop animation\n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stop: function (forwardToLast) {\n      var clipList = this._clipList;\n      var animation = this.animation;\n\n      for (var i = 0; i < clipList.length; i++) {\n        var clip = clipList[i];\n\n        if (forwardToLast) {\n          // Move to last frame before stop\n          clip.onframe(this._target, 1);\n        }\n\n        animation && animation.removeClip(clip);\n      }\n\n      clipList.length = 0;\n    },\n\n    /**\n     * Set when animation delay starts\n     * @param  {number} time ms\n     * @return {module:zrender/animation/Animator}\n     */\n    delay: function (time) {\n      this._delay = time;\n      return this;\n    },\n\n    /**\n     * Add callback for animation end\n     * @param  {Function} cb\n     * @return {module:zrender/animation/Animator}\n     */\n    done: function (cb) {\n      if (cb) {\n        this._doneList.push(cb);\n      }\n\n      return this;\n    },\n\n    /**\n     * @return {Array.<module:zrender/animation/Clip>}\n     */\n    getClips: function () {\n      return this._clipList;\n    }\n  };\n  var _default$a = Animator;\n  var Animator_1 = _default$a;\n\n  var dpr = 1; // If in browser environment\n\n  if (typeof window !== 'undefined') {\n    dpr = Math.max(window.devicePixelRatio || 1, 1);\n  }\n  /**\n   * config\n   * @exports zrender/config\n   * @author Kener (@Kener-, kener.linfeng@gmail.com)\n   */\n\n  /**\n   * Debug log mode:\n   * 0: Do nothing, for release.\n   * 1: console.error, for debug.\n   */\n\n\n  var debugMode = 0; // retina \n\n  var devicePixelRatio = dpr;\n  var debugMode_1 = debugMode;\n  var devicePixelRatio_1 = devicePixelRatio;\n\n  var config = {\n  \tdebugMode: debugMode_1,\n  \tdevicePixelRatio: devicePixelRatio_1\n  };\n\n  var logError = function () {};\n\n  var _default$b = logError;\n  var log = _default$b;\n\n  var isString$2 = util.isString;\n  var isFunction$2 = util.isFunction;\n  var isObject$3 = util.isObject;\n  var isArrayLike$2 = util.isArrayLike;\n  var indexOf$2 = util.indexOf;\n\n  /**\n   * @alias module:zrender/mixin/Animatable\n   * @constructor\n   */\n  var Animatable = function () {\n    /**\n     * @type {Array.<module:zrender/animation/Animator>}\n     * @readOnly\n     */\n    this.animators = [];\n  };\n\n  Animatable.prototype = {\n    constructor: Animatable,\n\n    /**\n     * \n     *\n     * @param {string} path The path to fetch value from object, like 'a.b.c'.\n     * @param {boolean} [loop] Whether to loop animation.\n     * @return {module:zrender/animation/Animator}\n     * @example:\n     *     el.animate('style', false)\n     *         .when(1000, {x: 10} )\n     *         .done(function(){ // Animation done })\n     *         .start()\n     */\n    animate: function (path, loop) {\n      var target;\n      var animatingShape = false;\n      var el = this;\n      var zr = this.__zr;\n\n      if (path) {\n        var pathSplitted = path.split('.');\n        var prop = el; // If animating shape\n\n        animatingShape = pathSplitted[0] === 'shape';\n\n        for (var i = 0, l = pathSplitted.length; i < l; i++) {\n          if (!prop) {\n            continue;\n          }\n\n          prop = prop[pathSplitted[i]];\n        }\n\n        if (prop) {\n          target = prop;\n        }\n      } else {\n        target = el;\n      }\n\n      if (!target) {\n        log('Property \"' + path + '\" is not existed in element ' + el.id);\n        return;\n      }\n\n      var animators = el.animators;\n      var animator = new Animator_1(target, loop);\n      animator.during(function (target) {\n        el.dirty(animatingShape);\n      }).done(function () {\n        // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n        animators.splice(indexOf$2(animators, animator), 1);\n      });\n      animators.push(animator); // If animate after added to the zrender\n\n      if (zr) {\n        zr.animation.addAnimator(animator);\n      }\n\n      return animator;\n    },\n\n    /**\n     * \n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stopAnimation: function (forwardToLast) {\n      var animators = this.animators;\n      var len = animators.length;\n\n      for (var i = 0; i < len; i++) {\n        animators[i].stop(forwardToLast);\n      }\n\n      animators.length = 0;\n      return this;\n    },\n\n    /**\n     * Caution: this method will stop previous animation.\n     * So do not use this method to one element twice before\n     * animation starts, unless you know what you are doing.\n     * @param {Object} target\n     * @param {number} [time=500] Time in ms\n     * @param {string} [easing='linear']\n     * @param {number} [delay=0]\n     * @param {Function} [callback]\n     * @param {Function} [forceAnimate] Prevent stop animation and callback\n     *        immediently when target values are the same as current values.\n     *\n     * @example\n     *  // Animate position\n     *  el.animateTo({\n     *      position: [10, 10]\n     *  }, function () { // done })\n     *\n     *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n     *  el.animateTo({\n     *      shape: {\n     *          width: 500\n     *      },\n     *      style: {\n     *          fill: 'red'\n     *      }\n     *      position: [10, 10]\n     *  }, 100, 100, 'cubicOut', function () { // done })\n     */\n    // TODO Return animation key\n    animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n      animateTo(this, target, time, delay, easing, callback, forceAnimate);\n    },\n\n    /**\n     * Animate from the target state to current state.\n     * The params and the return value are the same as `this.animateTo`.\n     */\n    animateFrom: function (target, time, delay, easing, callback, forceAnimate) {\n      animateTo(this, target, time, delay, easing, callback, forceAnimate, true);\n    }\n  };\n\n  function animateTo(animatable, target, time, delay, easing, callback, forceAnimate, reverse) {\n    // animateTo(target, time, easing, callback);\n    if (isString$2(delay)) {\n      callback = easing;\n      easing = delay;\n      delay = 0;\n    } // animateTo(target, time, delay, callback);\n    else if (isFunction$2(easing)) {\n        callback = easing;\n        easing = 'linear';\n        delay = 0;\n      } // animateTo(target, time, callback);\n      else if (isFunction$2(delay)) {\n          callback = delay;\n          delay = 0;\n        } // animateTo(target, callback)\n        else if (isFunction$2(time)) {\n            callback = time;\n            time = 500;\n          } // animateTo(target)\n          else if (!time) {\n              time = 500;\n            } // Stop all previous animations\n\n\n    animatable.stopAnimation();\n    animateToShallow(animatable, '', animatable, target, time, delay, reverse); // Animators may be removed immediately after start\n    // if there is nothing to animate\n\n    var animators = animatable.animators.slice();\n    var count = animators.length;\n\n    function done() {\n      count--;\n\n      if (!count) {\n        callback && callback();\n      }\n    } // No animators. This should be checked before animators[i].start(),\n    // because 'done' may be executed immediately if no need to animate.\n\n\n    if (!count) {\n      callback && callback();\n    } // Start after all animators created\n    // Incase any animator is done immediately when all animation properties are not changed\n\n\n    for (var i = 0; i < animators.length; i++) {\n      animators[i].done(done).start(easing, forceAnimate);\n    }\n  }\n  /**\n   * @param {string} path=''\n   * @param {Object} source=animatable\n   * @param {Object} target\n   * @param {number} [time=500]\n   * @param {number} [delay=0]\n   * @param {boolean} [reverse] If `true`, animate\n   *        from the `target` to current state.\n   *\n   * @example\n   *  // Animate position\n   *  el._animateToShallow({\n   *      position: [10, 10]\n   *  })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms\n   *  el._animateToShallow({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100)\n   */\n\n\n  function animateToShallow(animatable, path, source, target, time, delay, reverse) {\n    var objShallow = {};\n    var propertyCount = 0;\n\n    for (var name in target) {\n      if (!target.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (source[name] != null) {\n        if (isObject$3(target[name]) && !isArrayLike$2(target[name])) {\n          animateToShallow(animatable, path ? path + '.' + name : name, source[name], target[name], time, delay, reverse);\n        } else {\n          if (reverse) {\n            objShallow[name] = source[name];\n            setAttrByPath(animatable, path, name, target[name]);\n          } else {\n            objShallow[name] = target[name];\n          }\n\n          propertyCount++;\n        }\n      } else if (target[name] != null && !reverse) {\n        setAttrByPath(animatable, path, name, target[name]);\n      }\n    }\n\n    if (propertyCount > 0) {\n      animatable.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n    }\n  }\n\n  function setAttrByPath(el, path, name, value) {\n    // Attr directly if not has property\n    // FIXME, if some property not needed for element ?\n    if (!path) {\n      el.attr(name, value);\n    } else {\n      // Only support set shape or style\n      var props = {};\n      props[path] = {};\n      props[path][name] = value;\n      el.attr(props);\n    }\n  }\n\n  var _default$c = Animatable;\n  var Animatable_1 = _default$c;\n\n  /**\n   * @alias module:zrender/Element\n   * @constructor\n   * @extends {module:zrender/mixin/Animatable}\n   * @extends {module:zrender/mixin/Transformable}\n   * @extends {module:zrender/mixin/Eventful}\n   */\n  var Element = function (opts) {\n    // jshint ignore:line\n    Transformable_1.call(this, opts);\n    Eventful_1.call(this, opts);\n    Animatable_1.call(this, opts);\n    /**\n     * ID\n     * @type {string}\n     */\n\n    this.id = opts.id || guid();\n  };\n\n  Element.prototype = {\n    /**\n     * \n     * Element type\n     * @type {string}\n     */\n    type: 'element',\n\n    /**\n     * \n     * Element name\n     * @type {string}\n     */\n    name: '',\n\n    /**\n     * ZRender  element  zrender \n     * ZRender instance will be assigned when element is associated with zrender\n     * @name module:/zrender/Element#__zr\n     * @type {module:zrender/ZRender}\n     */\n    __zr: null,\n\n    /**\n     * true\n     * If ignore drawing and events of the element object\n     * @name module:/zrender/Element#ignore\n     * @type {boolean}\n     * @default false\n     */\n    ignore: false,\n\n    /**\n     * (shape) Group \n     * \n     * @type {module:zrender/graphic/Path}\n     * @see http://www.w3.org/TR/2dcontext/#clipping-region\n     * @readOnly\n     */\n    clipPath: null,\n\n    /**\n     *  Group\n     * @type {boolean}\n     */\n    isGroup: false,\n\n    /**\n     * Drift element\n     * @param  {number} dx dx on the global space\n     * @param  {number} dy dy on the global space\n     */\n    drift: function (dx, dy) {\n      switch (this.draggable) {\n        case 'horizontal':\n          dy = 0;\n          break;\n\n        case 'vertical':\n          dx = 0;\n          break;\n      }\n\n      var m = this.transform;\n\n      if (!m) {\n        m = this.transform = [1, 0, 0, 1, 0, 0];\n      }\n\n      m[4] += dx;\n      m[5] += dy;\n      this.decomposeTransform();\n      this.dirty(false);\n    },\n\n    /**\n     * Hook before update\n     */\n    beforeUpdate: function () {},\n\n    /**\n     * Hook after update\n     */\n    afterUpdate: function () {},\n\n    /**\n     * Update each frame\n     */\n    update: function () {\n      this.updateTransform();\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {},\n\n    /**\n     * @protected\n     */\n    attrKV: function (key, value) {\n      if (key === 'position' || key === 'scale' || key === 'origin') {\n        // Copy the array\n        if (value) {\n          var target = this[key];\n\n          if (!target) {\n            target = this[key] = [];\n          }\n\n          target[0] = value[0];\n          target[1] = value[1];\n        }\n      } else {\n        this[key] = value;\n      }\n    },\n\n    /**\n     * Hide the element\n     */\n    hide: function () {\n      this.ignore = true;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * Show the element\n     */\n    show: function () {\n      this.ignore = false;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * @param {string|Object} key\n     * @param {*} value\n     */\n    attr: function (key, value) {\n      if (typeof key === 'string') {\n        this.attrKV(key, value);\n      } else if (util.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            this.attrKV(name, key[name]);\n          }\n        }\n      }\n\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * @param {module:zrender/graphic/Path} clipPath\n     */\n    setClipPath: function (clipPath) {\n      var zr = this.__zr;\n\n      if (zr) {\n        clipPath.addSelfToZr(zr);\n      } // Remove previous clip path\n\n\n      if (this.clipPath && this.clipPath !== clipPath) {\n        this.removeClipPath();\n      }\n\n      this.clipPath = clipPath;\n      clipPath.__zr = zr;\n      clipPath.__clipTarget = this;\n      this.dirty(false);\n    },\n\n    /**\n     */\n    removeClipPath: function () {\n      var clipPath = this.clipPath;\n\n      if (clipPath) {\n        if (clipPath.__zr) {\n          clipPath.removeSelfFromZr(clipPath.__zr);\n        }\n\n        clipPath.__zr = null;\n        clipPath.__clipTarget = null;\n        this.clipPath = null;\n        this.dirty(false);\n      }\n    },\n\n    /**\n     * Add self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    addSelfToZr: function (zr) {\n      this.__zr = zr; // \n\n      var animators = this.animators;\n\n      if (animators) {\n        for (var i = 0; i < animators.length; i++) {\n          zr.animation.addAnimator(animators[i]);\n        }\n      }\n\n      if (this.clipPath) {\n        this.clipPath.addSelfToZr(zr);\n      }\n    },\n\n    /**\n     * Remove self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    removeSelfFromZr: function (zr) {\n      this.__zr = null; // \n\n      var animators = this.animators;\n\n      if (animators) {\n        for (var i = 0; i < animators.length; i++) {\n          zr.animation.removeAnimator(animators[i]);\n        }\n      }\n\n      if (this.clipPath) {\n        this.clipPath.removeSelfFromZr(zr);\n      }\n    }\n  };\n  util.mixin(Element, Animatable_1);\n  util.mixin(Element, Transformable_1);\n  util.mixin(Element, Eventful_1);\n  var _default$d = Element;\n  var Element_1 = _default$d;\n\n  /**\n   * @module echarts/core/BoundingRect\n   */\n  var v2ApplyTransform = vector.applyTransform;\n  var mathMin = Math.min;\n  var mathMax = Math.max;\n  /**\n   * @alias module:echarts/core/BoundingRect\n   */\n\n  function BoundingRect(x, y, width, height) {\n    if (width < 0) {\n      x = x + width;\n      width = -width;\n    }\n\n    if (height < 0) {\n      y = y + height;\n      height = -height;\n    }\n    /**\n     * @type {number}\n     */\n\n\n    this.x = x;\n    /**\n     * @type {number}\n     */\n\n    this.y = y;\n    /**\n     * @type {number}\n     */\n\n    this.width = width;\n    /**\n     * @type {number}\n     */\n\n    this.height = height;\n  }\n\n  BoundingRect.prototype = {\n    constructor: BoundingRect,\n\n    /**\n     * @param {module:echarts/core/BoundingRect} other\n     */\n    union: function (other) {\n      var x = mathMin(other.x, this.x);\n      var y = mathMin(other.y, this.y);\n      this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n      this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n      this.x = x;\n      this.y = y;\n    },\n\n    /**\n     * @param {Array.<number>} m\n     * @methods\n     */\n    applyTransform: function () {\n      var lt = [];\n      var rb = [];\n      var lb = [];\n      var rt = [];\n      return function (m) {\n        // In case usage like this\n        // el.getBoundingRect().applyTransform(el.transform)\n        // And element has no transform\n        if (!m) {\n          return;\n        }\n\n        lt[0] = lb[0] = this.x;\n        lt[1] = rt[1] = this.y;\n        rb[0] = rt[0] = this.x + this.width;\n        rb[1] = lb[1] = this.y + this.height;\n        v2ApplyTransform(lt, lt, m);\n        v2ApplyTransform(rb, rb, m);\n        v2ApplyTransform(lb, lb, m);\n        v2ApplyTransform(rt, rt, m);\n        this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n        this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n        var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n        var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n        this.width = maxX - this.x;\n        this.height = maxY - this.y;\n      };\n    }(),\n\n    /**\n     * Calculate matrix of transforming from self to target rect\n     * @param  {module:zrender/core/BoundingRect} b\n     * @return {Array.<number>}\n     */\n    calculateTransform: function (b) {\n      var a = this;\n      var sx = b.width / a.width;\n      var sy = b.height / a.height;\n      var m = matrix.create(); // \n\n      matrix.translate(m, m, [-a.x, -a.y]);\n      matrix.scale(m, m, [sx, sy]);\n      matrix.translate(m, m, [b.x, b.y]);\n      return m;\n    },\n\n    /**\n     * @param {(module:echarts/core/BoundingRect|Object)} b\n     * @return {boolean}\n     */\n    intersect: function (b) {\n      if (!b) {\n        return false;\n      }\n\n      if (!(b instanceof BoundingRect)) {\n        // Normalize negative width/height.\n        b = BoundingRect.create(b);\n      }\n\n      var a = this;\n      var ax0 = a.x;\n      var ax1 = a.x + a.width;\n      var ay0 = a.y;\n      var ay1 = a.y + a.height;\n      var bx0 = b.x;\n      var bx1 = b.x + b.width;\n      var by0 = b.y;\n      var by1 = b.y + b.height;\n      return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n    },\n    contain: function (x, y) {\n      var rect = this;\n      return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n    },\n\n    /**\n     * @return {module:echarts/core/BoundingRect}\n     */\n    clone: function () {\n      return new BoundingRect(this.x, this.y, this.width, this.height);\n    },\n\n    /**\n     * Copy from another rect\n     */\n    copy: function (other) {\n      this.x = other.x;\n      this.y = other.y;\n      this.width = other.width;\n      this.height = other.height;\n    },\n    plain: function () {\n      return {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height\n      };\n    }\n  };\n  /**\n   * @param {Object|module:zrender/core/BoundingRect} rect\n   * @param {number} rect.x\n   * @param {number} rect.y\n   * @param {number} rect.width\n   * @param {number} rect.height\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n  BoundingRect.create = function (rect) {\n    return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n  };\n\n  var _default$e = BoundingRect;\n  var BoundingRect_1 = _default$e;\n\n  /**\n   * GroupGroup\n   * @module zrender/graphic/Group\n   * @example\n   *     var Group = require('zrender/container/Group');\n   *     var Circle = require('zrender/graphic/shape/Circle');\n   *     var g = new Group();\n   *     g.position[0] = 100;\n   *     g.position[1] = 100;\n   *     g.add(new Circle({\n   *         style: {\n   *             x: 100,\n   *             y: 100,\n   *             r: 20,\n   *         }\n   *     }));\n   *     zr.add(g);\n   */\n\n  /**\n   * @alias module:zrender/graphic/Group\n   * @constructor\n   * @extends module:zrender/mixin/Transformable\n   * @extends module:zrender/mixin/Eventful\n   */\n  var Group = function (opts) {\n    opts = opts || {};\n    Element_1.call(this, opts);\n\n    for (var key in opts) {\n      if (opts.hasOwnProperty(key)) {\n        this[key] = opts[key];\n      }\n    }\n\n    this._children = [];\n    this.__storage = null;\n    this.__dirty = true;\n  };\n\n  Group.prototype = {\n    constructor: Group,\n    isGroup: true,\n\n    /**\n     * @type {string}\n     */\n    type: 'group',\n\n    /**\n     * \n     * @name module:/zrender/container/Group#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * @return {Array.<module:zrender/Element>}\n     */\n    children: function () {\n      return this._children.slice();\n    },\n\n    /**\n     *  index \n     * @param  {number} idx\n     * @return {module:zrender/Element}\n     */\n    childAt: function (idx) {\n      return this._children[idx];\n    },\n\n    /**\n     * \n     * @param  {string} name\n     * @return {module:zrender/Element}\n     */\n    childOfName: function (name) {\n      var children = this._children;\n\n      for (var i = 0; i < children.length; i++) {\n        if (children[i].name === name) {\n          return children[i];\n        }\n      }\n    },\n\n    /**\n     * @return {number}\n     */\n    childCount: function () {\n      return this._children.length;\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    add: function (child) {\n      if (child && child !== this && child.parent !== this) {\n        this._children.push(child);\n\n        this._doAdd(child);\n      }\n\n      return this;\n    },\n\n    /**\n     *  nextSibling \n     * @param {module:zrender/Element} child\n     * @param {module:zrender/Element} nextSibling\n     */\n    addBefore: function (child, nextSibling) {\n      if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n        var children = this._children;\n        var idx = children.indexOf(nextSibling);\n\n        if (idx >= 0) {\n          children.splice(idx, 0, child);\n\n          this._doAdd(child);\n        }\n      }\n\n      return this;\n    },\n    _doAdd: function (child) {\n      if (child.parent) {\n        child.parent.remove(child);\n      }\n\n      child.parent = this;\n      var storage = this.__storage;\n      var zr = this.__zr;\n\n      if (storage && storage !== child.__storage) {\n        storage.addToStorage(child);\n\n        if (child instanceof Group) {\n          child.addChildrenToStorage(storage);\n        }\n      }\n\n      zr && zr.refresh();\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    remove: function (child) {\n      var zr = this.__zr;\n      var storage = this.__storage;\n      var children = this._children;\n      var idx = util.indexOf(children, child);\n\n      if (idx < 0) {\n        return this;\n      }\n\n      children.splice(idx, 1);\n      child.parent = null;\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      zr && zr.refresh();\n      return this;\n    },\n\n    /**\n     * \n     */\n    removeAll: function () {\n      var children = this._children;\n      var storage = this.__storage;\n      var child;\n      var i;\n\n      for (i = 0; i < children.length; i++) {\n        child = children[i];\n\n        if (storage) {\n          storage.delFromStorage(child);\n\n          if (child instanceof Group) {\n            child.delChildrenFromStorage(storage);\n          }\n        }\n\n        child.parent = null;\n      }\n\n      children.length = 0;\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    eachChild: function (cb, context) {\n      var children = this._children;\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        cb.call(context, child, i);\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        cb.call(context, child);\n\n        if (child.type === 'group') {\n          child.traverse(cb, context);\n        }\n      }\n\n      return this;\n    },\n    addChildrenToStorage: function (storage) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        storage.addToStorage(child);\n\n        if (child instanceof Group) {\n          child.addChildrenToStorage(storage);\n        }\n      }\n    },\n    delChildrenFromStorage: function (storage) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n    },\n    dirty: function () {\n      this.__dirty = true;\n      this.__zr && this.__zr.refresh();\n      return this;\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function (includeChildren) {\n      // TODO Caching\n      var rect = null;\n      var tmpRect = new BoundingRect_1(0, 0, 0, 0);\n      var children = includeChildren || this._children;\n      var tmpMat = [];\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child.ignore || child.invisible) {\n          continue;\n        }\n\n        var childRect = child.getBoundingRect();\n        var transform = child.getLocalTransform(tmpMat); // TODO\n        // The boundingRect cacluated by transforming original\n        // rect may be bigger than the actual bundingRect when rotation\n        // is used. (Consider a circle rotated aginst its center, where\n        // the actual boundingRect should be the same as that not be\n        // rotated.) But we can not find better approach to calculate\n        // actual boundingRect yet, considering performance.\n\n        if (transform) {\n          tmpRect.copy(childRect);\n          tmpRect.applyTransform(transform);\n          rect = rect || tmpRect.clone();\n          rect.union(tmpRect);\n        } else {\n          rect = rect || childRect.clone();\n          rect.union(childRect);\n        }\n      }\n\n      return rect || tmpRect;\n    }\n  };\n  util.inherits(Group, Element_1);\n  var _default$f = Group;\n  var Group_1 = _default$f;\n\n  // https://github.com/mziccard/node-timsort\n  var DEFAULT_MIN_MERGE = 32;\n  var DEFAULT_MIN_GALLOPING = 7;\n\n  function minRunLength(n) {\n    var r = 0;\n\n    while (n >= DEFAULT_MIN_MERGE) {\n      r |= n & 1;\n      n >>= 1;\n    }\n\n    return n + r;\n  }\n\n  function makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n\n    if (runHi === hi) {\n      return 1;\n    }\n\n    if (compare(array[runHi++], array[lo]) < 0) {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n        runHi++;\n      }\n\n      reverseRun(array, lo, runHi);\n    } else {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n        runHi++;\n      }\n    }\n\n    return runHi - lo;\n  }\n\n  function reverseRun(array, lo, hi) {\n    hi--;\n\n    while (lo < hi) {\n      var t = array[lo];\n      array[lo++] = array[hi];\n      array[hi--] = t;\n    }\n  }\n\n  function binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n      start++;\n    }\n\n    for (; start < hi; start++) {\n      var pivot = array[start];\n      var left = lo;\n      var right = start;\n      var mid;\n\n      while (left < right) {\n        mid = left + right >>> 1;\n\n        if (compare(pivot, array[mid]) < 0) {\n          right = mid;\n        } else {\n          left = mid + 1;\n        }\n      }\n\n      var n = start - left;\n\n      switch (n) {\n        case 3:\n          array[left + 3] = array[left + 2];\n\n        case 2:\n          array[left + 2] = array[left + 1];\n\n        case 1:\n          array[left + 1] = array[left];\n          break;\n\n        default:\n          while (n > 0) {\n            array[left + n] = array[left + n - 1];\n            n--;\n          }\n\n      }\n\n      array[left] = pivot;\n    }\n  }\n\n  function gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) > 0) {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    } else {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) > 0) {\n        lastOffset = m + 1;\n      } else {\n        offset = m;\n      }\n    }\n\n    return offset;\n  }\n\n  function gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) < 0) {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    } else {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) < 0) {\n        offset = m;\n      } else {\n        lastOffset = m + 1;\n      }\n    }\n\n    return offset;\n  }\n\n  function TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var length = 0;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    length = array.length;\n\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n\n    function pushRun(_runStart, _runLength) {\n      runStart[stackSize] = _runStart;\n      runLength[stackSize] = _runLength;\n      stackSize += 1;\n    }\n\n    function mergeRuns() {\n      while (stackSize > 1) {\n        var n = stackSize - 2;\n\n        if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n          if (runLength[n - 1] < runLength[n + 1]) {\n            n--;\n          }\n        } else if (runLength[n] > runLength[n + 1]) {\n          break;\n        }\n\n        mergeAt(n);\n      }\n    }\n\n    function forceMergeRuns() {\n      while (stackSize > 1) {\n        var n = stackSize - 2;\n\n        if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n          n--;\n        }\n\n        mergeAt(n);\n      }\n    }\n\n    function mergeAt(i) {\n      var start1 = runStart[i];\n      var length1 = runLength[i];\n      var start2 = runStart[i + 1];\n      var length2 = runLength[i + 1];\n      runLength[i] = length1 + length2;\n\n      if (i === stackSize - 3) {\n        runStart[i + 1] = runStart[i + 2];\n        runLength[i + 1] = runLength[i + 2];\n      }\n\n      stackSize--;\n      var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n      start1 += k;\n      length1 -= k;\n\n      if (length1 === 0) {\n        return;\n      }\n\n      length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n      if (length2 === 0) {\n        return;\n      }\n\n      if (length1 <= length2) {\n        mergeLow(start1, length1, start2, length2);\n      } else {\n        mergeHigh(start1, length1, start2, length2);\n      }\n    }\n\n    function mergeLow(start1, length1, start2, length2) {\n      var i = 0;\n\n      for (i = 0; i < length1; i++) {\n        tmp[i] = array[start1 + i];\n      }\n\n      var cursor1 = 0;\n      var cursor2 = start2;\n      var dest = start1;\n      array[dest++] = array[cursor2++];\n\n      if (--length2 === 0) {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n\n        return;\n      }\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n\n        array[dest + length2] = tmp[cursor1];\n        return;\n      }\n\n      var _minGallop = minGallop;\n      var count1;\n      var count2;\n      var exit;\n\n      while (1) {\n        count1 = 0;\n        count2 = 0;\n        exit = false;\n\n        do {\n          if (compare(array[cursor2], tmp[cursor1]) < 0) {\n            array[dest++] = array[cursor2++];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest++] = tmp[cursor1++];\n            count1++;\n            count2 = 0;\n\n            if (--length1 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < _minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n          if (count1 !== 0) {\n            for (i = 0; i < count1; i++) {\n              array[dest + i] = tmp[cursor1 + i];\n            }\n\n            dest += count1;\n            cursor1 += count1;\n            length1 -= count1;\n\n            if (length1 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = array[cursor2++];\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n\n          count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n          if (count2 !== 0) {\n            for (i = 0; i < count2; i++) {\n              array[dest + i] = array[cursor2 + i];\n            }\n\n            dest += count2;\n            cursor2 += count2;\n            length2 -= count2;\n\n            if (length2 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = tmp[cursor1++];\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n\n          _minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (_minGallop < 0) {\n          _minGallop = 0;\n        }\n\n        _minGallop += 2;\n      }\n\n      minGallop = _minGallop;\n      minGallop < 1 && (minGallop = 1);\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n\n        array[dest + length2] = tmp[cursor1];\n      } else if (length1 === 0) {\n        throw new Error(); // throw new Error('mergeLow preconditions were not respected');\n      } else {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n      }\n    }\n\n    function mergeHigh(start1, length1, start2, length2) {\n      var i = 0;\n\n      for (i = 0; i < length2; i++) {\n        tmp[i] = array[start2 + i];\n      }\n\n      var cursor1 = start1 + length1 - 1;\n      var cursor2 = length2 - 1;\n      var dest = start2 + length2 - 1;\n      var customCursor = 0;\n      var customDest = 0;\n      array[dest--] = array[cursor1--];\n\n      if (--length1 === 0) {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n\n        return;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n        return;\n      }\n\n      var _minGallop = minGallop;\n\n      while (true) {\n        var count1 = 0;\n        var count2 = 0;\n        var exit = false;\n\n        do {\n          if (compare(tmp[cursor2], array[cursor1]) < 0) {\n            array[dest--] = array[cursor1--];\n            count1++;\n            count2 = 0;\n\n            if (--length1 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest--] = tmp[cursor2--];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < _minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n          if (count1 !== 0) {\n            dest -= count1;\n            cursor1 -= count1;\n            length1 -= count1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n\n            for (i = count1 - 1; i >= 0; i--) {\n              array[customDest + i] = array[customCursor + i];\n            }\n\n            if (length1 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = tmp[cursor2--];\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n\n          count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n          if (count2 !== 0) {\n            dest -= count2;\n            cursor2 -= count2;\n            length2 -= count2;\n            customDest = dest + 1;\n            customCursor = cursor2 + 1;\n\n            for (i = 0; i < count2; i++) {\n              array[customDest + i] = tmp[customCursor + i];\n            }\n\n            if (length2 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = array[cursor1--];\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n\n          _minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (_minGallop < 0) {\n          _minGallop = 0;\n        }\n\n        _minGallop += 2;\n      }\n\n      minGallop = _minGallop;\n\n      if (minGallop < 1) {\n        minGallop = 1;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n      } else if (length2 === 0) {\n        throw new Error(); // throw new Error('mergeHigh preconditions were not respected');\n      } else {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n      }\n    }\n\n    this.mergeRuns = mergeRuns;\n    this.forceMergeRuns = forceMergeRuns;\n    this.pushRun = pushRun;\n  }\n\n  function sort(array, compare, lo, hi) {\n    if (!lo) {\n      lo = 0;\n    }\n\n    if (!hi) {\n      hi = array.length;\n    }\n\n    var remaining = hi - lo;\n\n    if (remaining < 2) {\n      return;\n    }\n\n    var runLength = 0;\n\n    if (remaining < DEFAULT_MIN_MERGE) {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n      binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n      return;\n    }\n\n    var ts = new TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n\n    do {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n\n      if (runLength < minRun) {\n        var force = remaining;\n\n        if (force > minRun) {\n          force = minRun;\n        }\n\n        binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n        runLength = force;\n      }\n\n      ts.pushRun(lo, runLength);\n      ts.mergeRuns();\n      remaining -= runLength;\n      lo += runLength;\n    } while (remaining !== 0);\n\n    ts.forceMergeRuns();\n  }\n\n  var timsort = sort;\n\n  // Use timsort because in most case elements are partially sorted\n  // https://jsfiddle.net/pissang/jr4x7mdm/8/\n  function shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n      if (a.z === b.z) {\n        // if (a.z2 === b.z2) {\n        //     // FIXME Slow has renderidx compare\n        //     // http://stackoverflow.com/questions/20883421/sorting-in-javascript-should-every-compare-function-have-a-return-0-statement\n        //     // https://github.com/v8/v8/blob/47cce544a31ed5577ffe2963f67acb4144ee0232/src/js/array.js#L1012\n        //     return a.__renderidx - b.__renderidx;\n        // }\n        return a.z2 - b.z2;\n      }\n\n      return a.z - b.z;\n    }\n\n    return a.zlevel - b.zlevel;\n  }\n  /**\n   *  (M)\n   * @alias module:zrender/Storage\n   * @constructor\n   */\n\n\n  var Storage = function () {\n    // jshint ignore:line\n    this._roots = [];\n    this._displayList = [];\n    this._displayListLen = 0;\n  };\n\n  Storage.prototype = {\n    constructor: Storage,\n\n    /**\n     * @param  {Function} cb\n     *\n     */\n    traverse: function (cb, context) {\n      for (var i = 0; i < this._roots.length; i++) {\n        this._roots[i].traverse(cb, context);\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [update=false] \n     * @param {boolean} [includeIgnore=false]  ignore ,  update  true \n     *\n     * {@link module:zrender/graphic/Displayable.prototype.updateDisplayList}\n     * @return {Array.<module:zrender/graphic/Displayable>}\n     */\n    getDisplayList: function (update, includeIgnore) {\n      includeIgnore = includeIgnore || false;\n\n      if (update) {\n        this.updateDisplayList(includeIgnore);\n      }\n\n      return this._displayList;\n    },\n\n    /**\n     * \n     * GroupShapeShape\n     * zlevel > z > \n     * @param {boolean} [includeIgnore=false]  ignore \n     */\n    updateDisplayList: function (includeIgnore) {\n      this._displayListLen = 0;\n      var roots = this._roots;\n      var displayList = this._displayList;\n\n      for (var i = 0, len = roots.length; i < len; i++) {\n        this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n      }\n\n      displayList.length = this._displayListLen;\n      env_1.canvasSupported && timsort(displayList, shapeCompareFunc);\n    },\n    _updateAndAddDisplayable: function (el, clipPaths, includeIgnore) {\n      if (el.ignore && !includeIgnore) {\n        return;\n      }\n\n      el.beforeUpdate();\n\n      if (el.__dirty) {\n        el.update();\n      }\n\n      el.afterUpdate();\n      var userSetClipPath = el.clipPath;\n\n      if (userSetClipPath) {\n        // FIXME \n        if (clipPaths) {\n          clipPaths = clipPaths.slice();\n        } else {\n          clipPaths = [];\n        }\n\n        var currentClipPath = userSetClipPath;\n        var parentClipPath = el; // Recursively add clip path\n\n        while (currentClipPath) {\n          // clipPath  clipPath \n          currentClipPath.parent = parentClipPath;\n          currentClipPath.updateTransform();\n          clipPaths.push(currentClipPath);\n          parentClipPath = currentClipPath;\n          currentClipPath = currentClipPath.clipPath;\n        }\n      }\n\n      if (el.isGroup) {\n        var children = el._children;\n\n        for (var i = 0; i < children.length; i++) {\n          var child = children[i]; // Force to mark as dirty if group is dirty\n          // FIXME __dirtyPath ?\n\n          if (el.__dirty) {\n            child.__dirty = true;\n          }\n\n          this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n        } // Mark group clean here\n\n\n        el.__dirty = false;\n      } else {\n        el.__clipPaths = clipPaths;\n        this._displayList[this._displayListLen++] = el;\n      }\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {module:zrender/Element} el\n     */\n    addRoot: function (el) {\n      if (el.__storage === this) {\n        return;\n      }\n\n      if (el instanceof Group_1) {\n        el.addChildrenToStorage(this);\n      }\n\n      this.addToStorage(el);\n\n      this._roots.push(el);\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {string|Array.<string>} [el] Storage\n     */\n    delRoot: function (el) {\n      if (el == null) {\n        // el\n        for (var i = 0; i < this._roots.length; i++) {\n          var root = this._roots[i];\n\n          if (root instanceof Group_1) {\n            root.delChildrenFromStorage(this);\n          }\n        }\n\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n      }\n\n      if (el instanceof Array) {\n        for (var i = 0, l = el.length; i < l; i++) {\n          this.delRoot(el[i]);\n        }\n\n        return;\n      }\n\n      var idx = util.indexOf(this._roots, el);\n\n      if (idx >= 0) {\n        this.delFromStorage(el);\n\n        this._roots.splice(idx, 1);\n\n        if (el instanceof Group_1) {\n          el.delChildrenFromStorage(this);\n        }\n      }\n    },\n    addToStorage: function (el) {\n      if (el) {\n        el.__storage = this;\n        el.dirty(false);\n      }\n\n      return this;\n    },\n    delFromStorage: function (el) {\n      if (el) {\n        el.__storage = null;\n      }\n\n      return this;\n    },\n\n    /**\n     * Storage\n     */\n    dispose: function () {\n      this._renderList = this._roots = null;\n    },\n    displayableSortFunc: shapeCompareFunc\n  };\n  var _default$g = Storage;\n  var Storage_1 = _default$g;\n\n  var SHADOW_PROPS = {\n    'shadowBlur': 1,\n    'shadowOffsetX': 1,\n    'shadowOffsetY': 1,\n    'textShadowBlur': 1,\n    'textShadowOffsetX': 1,\n    'textShadowOffsetY': 1,\n    'textBoxShadowBlur': 1,\n    'textBoxShadowOffsetX': 1,\n    'textBoxShadowOffsetY': 1\n  };\n\n  function _default$h(ctx, propName, value) {\n    if (SHADOW_PROPS.hasOwnProperty(propName)) {\n      return value *= ctx.dpr;\n    }\n\n    return value;\n  }\n\n  var fixShadow = _default$h;\n\n  var ContextCachedBy = {\n    NONE: 0,\n    STYLE_BIND: 1,\n    PLAIN_TEXT: 2\n  }; // Avoid confused with 0/false.\n\n  var WILL_BE_RESTORED = 9;\n  var ContextCachedBy_1 = ContextCachedBy;\n  var WILL_BE_RESTORED_1 = WILL_BE_RESTORED;\n\n  var constant = {\n  \tContextCachedBy: ContextCachedBy_1,\n  \tWILL_BE_RESTORED: WILL_BE_RESTORED_1\n  };\n\n  var ContextCachedBy$1 = constant.ContextCachedBy;\n  var STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n  // var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\n  var Style = function (opts) {\n    this.extendFrom(opts, false);\n  };\n\n  function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n\n    if (!obj.global) {\n      x = x * rect.width + rect.x;\n      x2 = x2 * rect.width + rect.x;\n      y = y * rect.height + rect.y;\n      y2 = y2 * rect.height + rect.y;\n    } // Fix NaN when rect is Infinity\n\n\n    x = isNaN(x) ? 0 : x;\n    x2 = isNaN(x2) ? 1 : x2;\n    y = isNaN(y) ? 0 : y;\n    y2 = isNaN(y2) ? 0 : y2;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n  }\n\n  function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n\n    if (!obj.global) {\n      x = x * width + rect.x;\n      y = y * height + rect.y;\n      r = r * min;\n    }\n\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n  }\n\n  Style.prototype = {\n    constructor: Style,\n\n    /**\n     * @type {string}\n     */\n    fill: '#000',\n\n    /**\n     * @type {string}\n     */\n    stroke: null,\n\n    /**\n     * @type {number}\n     */\n    opacity: 1,\n\n    /**\n     * @type {number}\n     */\n    fillOpacity: null,\n\n    /**\n     * @type {number}\n     */\n    strokeOpacity: null,\n\n    /**\n     * `true` is not supported.\n     * `false`/`null`/`undefined` are the same.\n     * `false` is used to remove lineDash in some\n     * case that `null`/`undefined` can not be set.\n     * (e.g., emphasis.lineStyle in echarts)\n     * @type {Array.<number>|boolean}\n     */\n    lineDash: null,\n\n    /**\n     * @type {number}\n     */\n    lineDashOffset: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetY: 0,\n\n    /**\n     * @type {number}\n     */\n    lineWidth: 1,\n\n    /**\n     * If stroke ignore scale\n     * @type {Boolean}\n     */\n    strokeNoScale: false,\n    // Bounding rect text configuration\n    // Not affected by element transform\n\n    /**\n     * @type {string}\n     */\n    text: null,\n\n    /**\n     * If `fontSize` or `fontFamily` exists, `font` will be reset by\n     * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n     * So do not visit it directly in upper application (like echarts),\n     * but use `contain/text#makeFont` instead.\n     * @type {string}\n     */\n    font: null,\n\n    /**\n     * The same as font. Use font please.\n     * @deprecated\n     * @type {string}\n     */\n    textFont: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontStyle: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontWeight: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * Should be 12 but not '12px'.\n     * @type {number}\n     */\n    fontSize: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontFamily: null,\n\n    /**\n     * Reserved for special functinality, like 'hr'.\n     * @type {string}\n     */\n    textTag: null,\n\n    /**\n     * @type {string}\n     */\n    textFill: '#000',\n\n    /**\n     * @type {string}\n     */\n    textStroke: null,\n\n    /**\n     * @type {number}\n     */\n    textWidth: null,\n\n    /**\n     * Only for textBackground.\n     * @type {number}\n     */\n    textHeight: null,\n\n    /**\n     * textStroke may be set as some color as a default\n     * value in upper applicaion, where the default value\n     * of textStrokeWidth should be 0 to make sure that\n     * user can choose to do not use text stroke.\n     * @type {number}\n     */\n    textStrokeWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textLineHeight: null,\n\n    /**\n     * 'inside', 'left', 'right', 'top', 'bottom'\n     * [x, y]\n     * Based on x, y of rect.\n     * @type {string|Array.<number>}\n     * @default 'inside'\n     */\n    textPosition: 'inside',\n\n    /**\n     * If not specified, use the boundingRect of a `displayable`.\n     * @type {Object}\n     */\n    textRect: null,\n\n    /**\n     * [x, y]\n     * @type {Array.<number>}\n     */\n    textOffset: null,\n\n    /**\n     * @type {string}\n     */\n    textAlign: null,\n\n    /**\n     * @type {string}\n     */\n    textVerticalAlign: null,\n\n    /**\n     * @type {number}\n     */\n    textDistance: 5,\n\n    /**\n     * @type {string}\n     */\n    textShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetY: 0,\n\n    /**\n     * @type {string}\n     */\n    textBoxShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetY: 0,\n\n    /**\n     * Whether transform text.\n     * Only available in Path and Image element,\n     * where the text is called as `RectText`.\n     * @type {boolean}\n     */\n    transformText: false,\n\n    /**\n     * Text rotate around position of Path or Image.\n     * The origin of the rotation can be specified by `textOrigin`.\n     * Only available in Path and Image element,\n     * where the text is called as `RectText`.\n     */\n    textRotation: 0,\n\n    /**\n     * Text origin of text rotation.\n     * Useful in the case like label rotation of circular symbol.\n     * Only available in Path and Image element, where the text is called\n     * as `RectText` and the element is called as \"host element\".\n     * The value can be:\n     * + If specified as a coordinate like `[10, 40]`, it is the `[x, y]`\n     * base on the left-top corner of the rect of its host element.\n     * + If specified as a string `center`, it is the center of the rect of\n     * its host element.\n     * + By default, this origin is the `textPosition`.\n     * @type {string|Array.<number>}\n     */\n    textOrigin: null,\n\n    /**\n     * @type {string}\n     */\n    textBackgroundColor: null,\n\n    /**\n     * @type {string}\n     */\n    textBorderColor: null,\n\n    /**\n     * @type {number}\n     */\n    textBorderWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textBorderRadius: 0,\n\n    /**\n     * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n     * @type {number|Array.<number>}\n     */\n    textPadding: null,\n\n    /**\n     * Text styles for rich text.\n     * @type {Object}\n     */\n    rich: null,\n\n    /**\n     * {outerWidth, outerHeight, ellipsis, placeholder}\n     * @type {Object}\n     */\n    truncate: null,\n\n    /**\n     * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n     * @type {string}\n     */\n    blend: null,\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    bind: function (ctx, el, prevEl) {\n      var style = this;\n      var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n      // Only apply cache if the last time cachced by this function.\n\n      var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy$1.STYLE_BIND;\n      ctx.__attrCachedBy = ContextCachedBy$1.STYLE_BIND;\n\n      for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n        var prop = STYLE_COMMON_PROPS[i];\n        var styleName = prop[0];\n\n        if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n          // FIXME Invalid property value will cause style leak from previous element.\n          ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n        }\n      }\n\n      if (notCheckCache || style.fill !== prevStyle.fill) {\n        ctx.fillStyle = style.fill;\n      }\n\n      if (notCheckCache || style.stroke !== prevStyle.stroke) {\n        ctx.strokeStyle = style.stroke;\n      }\n\n      if (notCheckCache || style.opacity !== prevStyle.opacity) {\n        ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n      }\n\n      if (notCheckCache || style.blend !== prevStyle.blend) {\n        ctx.globalCompositeOperation = style.blend || 'source-over';\n      }\n\n      if (this.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n      }\n    },\n    hasFill: function () {\n      var fill = this.fill;\n      return fill != null && fill !== 'none';\n    },\n    hasStroke: function () {\n      var stroke = this.stroke;\n      return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n    },\n\n    /**\n     * Extend from other style\n     * @param {zrender/graphic/Style} otherStyle\n     * @param {boolean} overwrite true: overwrirte any way.\n     *                            false: overwrite only when !target.hasOwnProperty\n     *                            others: overwrite when property is not null/undefined.\n     */\n    extendFrom: function (otherStyle, overwrite) {\n      if (otherStyle) {\n        for (var name in otherStyle) {\n          if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n            this[name] = otherStyle[name];\n          }\n        }\n      }\n    },\n\n    /**\n     * Batch setting style with a given object\n     * @param {Object|string} obj\n     * @param {*} [obj]\n     */\n    set: function (obj, value) {\n      if (typeof obj === 'string') {\n        this[obj] = value;\n      } else {\n        this.extendFrom(obj, true);\n      }\n    },\n\n    /**\n     * Clone\n     * @return {zrender/graphic/Style} [description]\n     */\n    clone: function () {\n      var newStyle = new this.constructor();\n      newStyle.extendFrom(this, true);\n      return newStyle;\n    },\n    getGradient: function (ctx, obj, rect) {\n      var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n      var canvasGradient = method(ctx, obj, rect);\n      var colorStops = obj.colorStops;\n\n      for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n      }\n\n      return canvasGradient;\n    }\n  };\n  var styleProto = Style.prototype;\n\n  for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n    var prop = STYLE_COMMON_PROPS[i];\n\n    if (!(prop[0] in styleProto)) {\n      styleProto[prop[0]] = prop[1];\n    }\n  } // Provide for others\n\n\n  Style.getGradient = styleProto.getGradient;\n  var _default$i = Style;\n  var Style_1 = _default$i;\n\n  var Pattern = function (image, repeat) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {image: ...}`, where this constructor will not be called.\n    this.image = image;\n    this.repeat = repeat; // Can be cloned\n\n    this.type = 'pattern';\n  };\n\n  Pattern.prototype.getCanvasPattern = function (ctx) {\n    return ctx.createPattern(this.image, this.repeat || 'repeat');\n  };\n\n  var _default$j = Pattern;\n  var Pattern_1 = _default$j;\n\n  var devicePixelRatio$1 = config.devicePixelRatio;\n\n\n\n\n\n  /**\n   * @module zrender/Layer\n   * @author pissang(https://www.github.com/pissang)\n   */\n  function returnFalse() {\n    return false;\n  }\n  /**\n   * dom\n   *\n   * @inner\n   * @param {string} id dom id \n   * @param {Painter} painter painter instance\n   * @param {number} number\n   */\n\n\n  function createDom(id, painter, dpr) {\n    var newDom = util.createCanvas();\n    var width = painter.getWidth();\n    var height = painter.getHeight();\n    var newDomStyle = newDom.style;\n\n    if (newDomStyle) {\n      // In node or some other non-browser environment\n      newDomStyle.position = 'absolute';\n      newDomStyle.left = 0;\n      newDomStyle.top = 0;\n      newDomStyle.width = width + 'px';\n      newDomStyle.height = height + 'px';\n      newDom.setAttribute('data-zr-dom-id', id);\n    }\n\n    newDom.width = width * dpr;\n    newDom.height = height * dpr;\n    return newDom;\n  }\n  /**\n   * @alias module:zrender/Layer\n   * @constructor\n   * @extends module:zrender/mixin/Transformable\n   * @param {string} id\n   * @param {module:zrender/Painter} painter\n   * @param {number} [dpr]\n   */\n\n\n  var Layer = function (id, painter, dpr) {\n    var dom;\n    dpr = dpr || devicePixelRatio$1;\n\n    if (typeof id === 'string') {\n      dom = createDom(id, painter, dpr);\n    } // Not using isDom because in node it will return false\n    else if (util.isObject(id)) {\n        dom = id;\n        id = dom.id;\n      }\n\n    this.id = id;\n    this.dom = dom;\n    var domStyle = dom.style;\n\n    if (domStyle) {\n      // Not in node\n      dom.onselectstart = returnFalse; // \n\n      domStyle['-webkit-user-select'] = 'none';\n      domStyle['user-select'] = 'none';\n      domStyle['-webkit-touch-callout'] = 'none';\n      domStyle['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n      domStyle['padding'] = 0; // eslint-disable-line dot-notation\n\n      domStyle['margin'] = 0; // eslint-disable-line dot-notation\n\n      domStyle['border-width'] = 0;\n    }\n\n    this.domBack = null;\n    this.ctxBack = null;\n    this.painter = painter;\n    this.config = null; // Configs\n\n    /**\n     * \n     * @type {string}\n     * @default 0\n     */\n\n    this.clearColor = 0;\n    /**\n     * \n     * @type {boolean}\n     * @default false\n     */\n\n    this.motionBlur = false;\n    /**\n     * alpha\n     * @type {number}\n     * @default 0.7\n     */\n\n    this.lastFrameAlpha = 0.7;\n    /**\n     * Layer dpr\n     * @type {number}\n     */\n\n    this.dpr = dpr;\n  };\n\n  Layer.prototype = {\n    constructor: Layer,\n    __dirty: true,\n    __used: false,\n    __drawIndex: 0,\n    __startIndex: 0,\n    __endIndex: 0,\n    incremental: false,\n    getElementCount: function () {\n      return this.__endIndex - this.__startIndex;\n    },\n    initContext: function () {\n      this.ctx = this.dom.getContext('2d');\n      this.ctx.dpr = this.dpr;\n    },\n    createBackBuffer: function () {\n      var dpr = this.dpr;\n      this.domBack = createDom('back-' + this.id, this.painter, dpr);\n      this.ctxBack = this.domBack.getContext('2d');\n\n      if (dpr !== 1) {\n        this.ctxBack.scale(dpr, dpr);\n      }\n    },\n\n    /**\n     * @param  {number} width\n     * @param  {number} height\n     */\n    resize: function (width, height) {\n      var dpr = this.dpr;\n      var dom = this.dom;\n      var domStyle = dom.style;\n      var domBack = this.domBack;\n\n      if (domStyle) {\n        domStyle.width = width + 'px';\n        domStyle.height = height + 'px';\n      }\n\n      dom.width = width * dpr;\n      dom.height = height * dpr;\n\n      if (domBack) {\n        domBack.width = width * dpr;\n        domBack.height = height * dpr;\n\n        if (dpr !== 1) {\n          this.ctxBack.scale(dpr, dpr);\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [clearAll]=false Clear all with out motion blur\n     * @param {Color} [clearColor]\n     */\n    clear: function (clearAll, clearColor) {\n      var dom = this.dom;\n      var ctx = this.ctx;\n      var width = dom.width;\n      var height = dom.height;\n      var clearColor = clearColor || this.clearColor;\n      var haveMotionBLur = this.motionBlur && !clearAll;\n      var lastFrameAlpha = this.lastFrameAlpha;\n      var dpr = this.dpr;\n\n      if (haveMotionBLur) {\n        if (!this.domBack) {\n          this.createBackBuffer();\n        }\n\n        this.ctxBack.globalCompositeOperation = 'copy';\n        this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n      }\n\n      ctx.clearRect(0, 0, width, height);\n\n      if (clearColor && clearColor !== 'transparent') {\n        var clearColorGradientOrPattern; // Gradient\n\n        if (clearColor.colorStops) {\n          // Cache canvas gradient\n          clearColorGradientOrPattern = clearColor.__canvasGradient || Style_1.getGradient(ctx, clearColor, {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          });\n          clearColor.__canvasGradient = clearColorGradientOrPattern;\n        } // Pattern\n        else if (clearColor.image) {\n            clearColorGradientOrPattern = Pattern_1.prototype.getCanvasPattern.call(clearColor, ctx);\n          }\n\n        ctx.save();\n        ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n        ctx.fillRect(0, 0, width, height);\n        ctx.restore();\n      }\n\n      if (haveMotionBLur) {\n        var domBack = this.domBack;\n        ctx.save();\n        ctx.globalAlpha = lastFrameAlpha;\n        ctx.drawImage(domBack, 0, 0, width, height);\n        ctx.restore();\n      }\n    }\n  };\n  var _default$k = Layer;\n  var Layer_1 = _default$k;\n\n  var _default$l = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || // https://github.com/ecomfe/zrender/issues/189#issuecomment-224919809\n  window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (func) {\n    setTimeout(func, 16);\n  };\n\n  var requestAnimationFrame = _default$l;\n\n  var globalImageCache = new LRU_1(50);\n  /**\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n   * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n   */\n\n  function findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n      var cachedImgObj = globalImageCache.get(newImageOrSrc);\n      return cachedImgObj && cachedImgObj.image;\n    } else {\n      return newImageOrSrc;\n    }\n  }\n  /**\n   * Caution: User should cache loaded images, but not just count on LRU.\n   * Consider if required images more than LRU size, will dead loop occur?\n   *\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n   * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n   * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n   * @param {Function} [cb] params: (image, cbPayload)\n   * @param {Object} [cbPayload] Payload on cb calling.\n   * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n   */\n\n\n  function createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n    if (!newImageOrSrc) {\n      return image;\n    } else if (typeof newImageOrSrc === 'string') {\n      // Image should not be loaded repeatly.\n      if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n        return image;\n      } // Only when there is no existent image or existent image src\n      // is different, this method is responsible for load.\n\n\n      var cachedImgObj = globalImageCache.get(newImageOrSrc);\n      var pendingWrap = {\n        hostEl: hostEl,\n        cb: cb,\n        cbPayload: cbPayload\n      };\n\n      if (cachedImgObj) {\n        image = cachedImgObj.image;\n        !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n      } else {\n        image = new Image();\n        image.onload = image.onerror = imageOnLoad;\n        globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n          image: image,\n          pending: [pendingWrap]\n        });\n        image.src = image.__zrImageSrc = newImageOrSrc;\n      }\n\n      return image;\n    } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n    else {\n        return newImageOrSrc;\n      }\n  }\n\n  function imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.onerror = this.__cachedImgObj = null;\n\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n      var pendingWrap = cachedImgObj.pending[i];\n      var cb = pendingWrap.cb;\n      cb && cb(this, pendingWrap.cbPayload);\n      pendingWrap.hostEl.dirty();\n    }\n\n    cachedImgObj.pending.length = 0;\n  }\n\n  function isImageReady(image) {\n    return image && image.width && image.height;\n  }\n\n  var findExistImage_1 = findExistImage;\n  var createOrUpdateImage_1 = createOrUpdateImage;\n  var isImageReady_1 = isImageReady;\n\n  var image = {\n  \tfindExistImage: findExistImage_1,\n  \tcreateOrUpdateImage: createOrUpdateImage_1,\n  \tisImageReady: isImageReady_1\n  };\n\n  var getContext$1 = util.getContext;\n  var extend$3 = util.extend;\n  var retrieve2$1 = util.retrieve2;\n  var retrieve3$1 = util.retrieve3;\n  var trim$2 = util.trim;\n  var textWidthCache = {};\n  var textWidthCacheCounter = 0;\n  var TEXT_CACHE_MAX = 5000;\n  var STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\n  var DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\n  var methods$1 = {};\n\n  function $override$1(name, fn) {\n    methods$1[name] = fn;\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @return {number} width\n   */\n\n\n  function getWidth(text, font) {\n    font = font || DEFAULT_FONT;\n    var key = text + ':' + font;\n\n    if (textWidthCache[key]) {\n      return textWidthCache[key];\n    }\n\n    var textLines = (text + '').split('\\n');\n    var width = 0;\n\n    for (var i = 0, l = textLines.length; i < l; i++) {\n      // textContain.measureText may be overrided in SVG or VML\n      width = Math.max(measureText(textLines[i], font).width, width);\n    }\n\n    if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n      textWidthCacheCounter = 0;\n      textWidthCache = {};\n    }\n\n    textWidthCacheCounter++;\n    textWidthCache[key] = width;\n    return width;\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @param {string} [textAlign='left']\n   * @param {string} [textVerticalAlign='top']\n   * @param {Array.<number>} [textPadding]\n   * @param {Object} [rich]\n   * @param {Object} [truncate]\n   * @return {Object} {x, y, width, height, lineHeight}\n   */\n\n\n  function getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n    return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate);\n  }\n\n  function getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate) {\n    var contentBlock = parsePlainText(text, font, textPadding, textLineHeight, truncate);\n    var outerWidth = getWidth(text, font);\n\n    if (textPadding) {\n      outerWidth += textPadding[1] + textPadding[3];\n    }\n\n    var outerHeight = contentBlock.outerHeight;\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n    var rect = new BoundingRect_1(x, y, outerWidth, outerHeight);\n    rect.lineHeight = contentBlock.lineHeight;\n    return rect;\n  }\n\n  function getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n    var contentBlock = parseRichText(text, {\n      rich: rich,\n      truncate: truncate,\n      font: font,\n      textAlign: textAlign,\n      textPadding: textPadding,\n      textLineHeight: textLineHeight\n    });\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n    return new BoundingRect_1(x, y, outerWidth, outerHeight);\n  }\n  /**\n   * @public\n   * @param {number} x\n   * @param {number} width\n   * @param {string} [textAlign='left']\n   * @return {number} Adjusted x.\n   */\n\n\n  function adjustTextX(x, width, textAlign) {\n    // FIXME Right to left language\n    if (textAlign === 'right') {\n      x -= width;\n    } else if (textAlign === 'center') {\n      x -= width / 2;\n    }\n\n    return x;\n  }\n  /**\n   * @public\n   * @param {number} y\n   * @param {number} height\n   * @param {string} [textVerticalAlign='top']\n   * @return {number} Adjusted y.\n   */\n\n\n  function adjustTextY(y, height, textVerticalAlign) {\n    if (textVerticalAlign === 'middle') {\n      y -= height / 2;\n    } else if (textVerticalAlign === 'bottom') {\n      y -= height;\n    }\n\n    return y;\n  }\n  /**\n   * Follow same interface to `Displayable.prototype.calculateTextPosition`.\n   * @public\n   * @param {Obejct} [out] Prepared out object. If not input, auto created in the method.\n   * @param {module:zrender/graphic/Style} style where `textPosition` and `textDistance` are visited.\n   * @param {Object} rect {x, y, width, height} Rect of the host elment, according to which the text positioned.\n   * @return {Object} The input `out`. Set: {x, y, textAlign, textVerticalAlign}\n   */\n\n\n  function calculateTextPosition(out, style, rect) {\n    var textPosition = style.textPosition;\n    var distance = style.textDistance;\n    var x = rect.x;\n    var y = rect.y;\n    distance = distance || 0;\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n\n    switch (textPosition) {\n      case 'left':\n        x -= distance;\n        y += halfHeight;\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'right':\n        x += distance + width;\n        y += halfHeight;\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'top':\n        x += width / 2;\n        y -= distance;\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'bottom':\n        x += width / 2;\n        y += height + distance;\n        textAlign = 'center';\n        break;\n\n      case 'inside':\n        x += width / 2;\n        y += halfHeight;\n        textAlign = 'center';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideLeft':\n        x += distance;\n        y += halfHeight;\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideRight':\n        x += width - distance;\n        y += halfHeight;\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideTop':\n        x += width / 2;\n        y += distance;\n        textAlign = 'center';\n        break;\n\n      case 'insideBottom':\n        x += width / 2;\n        y += height - distance;\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideTopLeft':\n        x += distance;\n        y += distance;\n        break;\n\n      case 'insideTopRight':\n        x += width - distance;\n        y += distance;\n        textAlign = 'right';\n        break;\n\n      case 'insideBottomLeft':\n        x += distance;\n        y += height - distance;\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideBottomRight':\n        x += width - distance;\n        y += height - distance;\n        textAlign = 'right';\n        textVerticalAlign = 'bottom';\n        break;\n    }\n\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.textAlign = textAlign;\n    out.textVerticalAlign = textVerticalAlign;\n    return out;\n  }\n  /**\n   * To be removed. But still do not remove in case that some one has imported it.\n   * @deprecated\n   * @public\n   * @param {stirng} textPosition\n   * @param {Object} rect {x, y, width, height}\n   * @param {number} distance\n   * @return {Object} {x, y, textAlign, textVerticalAlign}\n   */\n\n\n  function adjustTextPositionOnRect(textPosition, rect, distance) {\n    var dummyStyle = {\n      textPosition: textPosition,\n      textDistance: distance\n    };\n    return calculateTextPosition({}, dummyStyle, rect);\n  }\n  /**\n   * Show ellipsis if overflow.\n   *\n   * @public\n   * @param  {string} text\n   * @param  {string} containerWidth\n   * @param  {string} font\n   * @param  {number} [ellipsis='...']\n   * @param  {Object} [options]\n   * @param  {number} [options.maxIterations=3]\n   * @param  {number} [options.minChar=0] If truncate result are less\n   *                  then minChar, ellipsis will not show, which is\n   *                  better for user hint in some cases.\n   * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n   * @return {string}\n   */\n\n\n  function truncateText(text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n      return '';\n    }\n\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n    // It is not appropriate that every line has '...' when truncate multiple lines.\n\n    for (var i = 0, len = textLines.length; i < len; i++) {\n      textLines[i] = truncateSingleLine(textLines[i], options);\n    }\n\n    return textLines.join('\\n');\n  }\n\n  function prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = extend$3({}, options);\n    options.font = font;\n    var ellipsis = retrieve2$1(ellipsis, '...');\n    options.maxIterations = retrieve2$1(options.maxIterations, 2);\n    var minChar = options.minChar = retrieve2$1(options.minChar, 0); // FIXME\n    // Other languages?\n\n    options.cnCharWidth = getWidth('', font); // FIXME\n    // Consider proportional font?\n\n    var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n    options.placeholder = retrieve2$1(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n    // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n      contentWidth -= ascCharWidth;\n    }\n\n    var ellipsisWidth = getWidth(ellipsis, font);\n\n    if (ellipsisWidth > contentWidth) {\n      ellipsis = '';\n      ellipsisWidth = 0;\n    }\n\n    contentWidth = containerWidth - ellipsisWidth;\n    options.ellipsis = ellipsis;\n    options.ellipsisWidth = ellipsisWidth;\n    options.contentWidth = contentWidth;\n    options.containerWidth = containerWidth;\n    return options;\n  }\n\n  function truncateSingleLine(textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n\n    if (!containerWidth) {\n      return '';\n    }\n\n    var lineWidth = getWidth(textLine, font);\n\n    if (lineWidth <= containerWidth) {\n      return textLine;\n    }\n\n    for (var j = 0;; j++) {\n      if (lineWidth <= contentWidth || j >= options.maxIterations) {\n        textLine += options.ellipsis;\n        break;\n      }\n\n      var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n      textLine = textLine.substr(0, subLength);\n      lineWidth = getWidth(textLine, font);\n    }\n\n    if (textLine === '') {\n      textLine = options.placeholder;\n    }\n\n    return textLine;\n  }\n\n  function estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n      var charCode = text.charCodeAt(i);\n      width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n    }\n\n    return i;\n  }\n  /**\n   * @public\n   * @param {string} font\n   * @return {number} line height\n   */\n\n\n  function getLineHeight(font) {\n    // FIXME A rough approach.\n    return getWidth('', font);\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @return {Object} width\n   */\n\n\n  function measureText(text, font) {\n    return methods$1.measureText(text, font);\n  } // Avoid assign to an exported variable, for transforming to cjs.\n\n\n  methods$1.measureText = function (text, font) {\n    var ctx = getContext$1();\n    ctx.font = font || DEFAULT_FONT;\n    return ctx.measureText(text);\n  };\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @param {Object} [truncate]\n   * @return {Object} block: {lineHeight, lines, height, outerHeight, canCacheByTextString}\n   *  Notice: for performance, do not calculate outerWidth util needed.\n   *  `canCacheByTextString` means the result `lines` is only determined by the input `text`.\n   *  Thus we can simply comparing the `input` text to determin whether the result changed,\n   *  without travel the result `lines`.\n   */\n\n\n  function parsePlainText(text, font, padding, textLineHeight, truncate) {\n    text != null && (text += '');\n    var lineHeight = retrieve2$1(textLineHeight, getLineHeight(font));\n    var lines = text ? text.split('\\n') : [];\n    var height = lines.length * lineHeight;\n    var outerHeight = height;\n    var canCacheByTextString = true;\n\n    if (padding) {\n      outerHeight += padding[0] + padding[2];\n    }\n\n    if (text && truncate) {\n      canCacheByTextString = false;\n      var truncOuterHeight = truncate.outerHeight;\n      var truncOuterWidth = truncate.outerWidth;\n\n      if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n        text = '';\n        lines = [];\n      } else if (truncOuterWidth != null) {\n        var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n          minChar: truncate.minChar,\n          placeholder: truncate.placeholder\n        }); // FIXME\n        // It is not appropriate that every line has '...' when truncate multiple lines.\n\n        for (var i = 0, len = lines.length; i < len; i++) {\n          lines[i] = truncateSingleLine(lines[i], options);\n        }\n      }\n    }\n\n    return {\n      lines: lines,\n      height: height,\n      outerHeight: outerHeight,\n      lineHeight: lineHeight,\n      canCacheByTextString: canCacheByTextString\n    };\n  }\n  /**\n   * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n   * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n   *\n   * @public\n   * @param {string} text\n   * @param {Object} style\n   * @return {Object} block\n   * {\n   *      width,\n   *      height,\n   *      lines: [{\n   *          lineHeight,\n   *          width,\n   *          tokens: [[{\n   *              styleName,\n   *              text,\n   *              width,      // include textPadding\n   *              height,     // include textPadding\n   *              textWidth, // pure text width\n   *              textHeight, // pure text height\n   *              lineHeihgt,\n   *              font,\n   *              textAlign,\n   *              textVerticalAlign\n   *          }], [...], ...]\n   *      }, ...]\n   * }\n   * If styleName is undefined, it is plain text.\n   */\n\n\n  function parseRichText(text, style) {\n    var contentBlock = {\n      lines: [],\n      width: 0,\n      height: 0\n    };\n    text != null && (text += '');\n\n    if (!text) {\n      return contentBlock;\n    }\n\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n\n    while ((result = STYLE_REG.exec(text)) != null) {\n      var matchedIndex = result.index;\n\n      if (matchedIndex > lastIndex) {\n        pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n      }\n\n      pushTokens(contentBlock, result[2], result[1]);\n      lastIndex = STYLE_REG.lastIndex;\n    }\n\n    if (lastIndex < text.length) {\n      pushTokens(contentBlock, text.substring(lastIndex, text.length));\n    }\n\n    var lines = contentBlock.lines;\n    var contentHeight = 0;\n    var contentWidth = 0; // For `textWidth: 100%`\n\n    var pendingList = [];\n    var stlPadding = style.textPadding;\n    var truncate = style.truncate;\n    var truncateWidth = truncate && truncate.outerWidth;\n    var truncateHeight = truncate && truncate.outerHeight;\n\n    if (stlPadding) {\n      truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n      truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n    } // Calculate layout info of tokens.\n\n\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i];\n      var lineHeight = 0;\n      var lineWidth = 0;\n\n      for (var j = 0; j < line.tokens.length; j++) {\n        var token = line.tokens[j];\n        var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n        var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n        var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n        var tokenHeight = token.textHeight = retrieve2$1( // textHeight should not be inherited, consider it can be specified\n        // as box height of the block.\n        tokenStyle.textHeight, getLineHeight(font));\n        textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n        token.height = tokenHeight;\n        token.lineHeight = retrieve3$1(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n        token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n        token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n        if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n          return {\n            lines: [],\n            width: 0,\n            height: 0\n          };\n        }\n\n        token.textWidth = getWidth(token.text, font);\n        var tokenWidth = tokenStyle.textWidth;\n        var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n        // line when box width is needed to be auto.\n\n        if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n          token.percentWidth = tokenWidth;\n          pendingList.push(token);\n          tokenWidth = 0; // Do not truncate in this case, because there is no user case\n          // and it is too complicated.\n        } else {\n          if (tokenWidthNotSpecified) {\n            tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n            // `getBoundingRect()` will not get correct result.\n\n            var textBackgroundColor = tokenStyle.textBackgroundColor;\n            var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n            // (1) If image is not loaded, it will be loaded at render phase and call\n            // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n            // image, and then the right size will be calculated here at the next tick.\n            // See `graphic/helper/text.js`.\n            // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n            // use `imageHelper.findExistImage` to find cached image.\n            // `imageHelper.findExistImage` will always be called here before\n            // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n            // which ensures that image will not be rendered before correct size calcualted.\n\n            if (bgImg) {\n              bgImg = image.findExistImage(bgImg);\n\n              if (image.isImageReady(bgImg)) {\n                tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n              }\n            }\n          }\n\n          var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n          tokenWidth += paddingW;\n          var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n          if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n            if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n              token.text = '';\n              token.textWidth = tokenWidth = 0;\n            } else {\n              token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n                minChar: truncate.minChar\n              });\n              token.textWidth = getWidth(token.text, font);\n              tokenWidth = token.textWidth + paddingW;\n            }\n          }\n        }\n\n        lineWidth += token.width = tokenWidth;\n        tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n      }\n\n      line.width = lineWidth;\n      line.lineHeight = lineHeight;\n      contentHeight += lineHeight;\n      contentWidth = Math.max(contentWidth, lineWidth);\n    }\n\n    contentBlock.outerWidth = contentBlock.width = retrieve2$1(style.textWidth, contentWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2$1(style.textHeight, contentHeight);\n\n    if (stlPadding) {\n      contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n      contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n\n    for (var i = 0; i < pendingList.length; i++) {\n      var token = pendingList[i];\n      var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n      token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n    }\n\n    return contentBlock;\n  }\n\n  function pushTokens(block, str, styleName) {\n    var isEmptyStr = str === '';\n    var strs = str.split('\\n');\n    var lines = block.lines;\n\n    for (var i = 0; i < strs.length; i++) {\n      var text = strs[i];\n      var token = {\n        styleName: styleName,\n        text: text,\n        isLineHolder: !text && !isEmptyStr\n      }; // The first token should be appended to the last line.\n\n      if (!i) {\n        var tokens = (lines[lines.length - 1] || (lines[0] = {\n          tokens: []\n        })).tokens; // Consider cases:\n        // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n        // (which is a placeholder) should be replaced by new token.\n        // (2) A image backage, where token likes {a|}.\n        // (3) A redundant '' will affect textAlign in line.\n        // (4) tokens with the same tplName should not be merged, because\n        // they should be displayed in different box (with border and padding).\n\n        var tokensLen = tokens.length;\n        tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n        // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n        (text || !tokensLen || isEmptyStr) && tokens.push(token);\n      } // Other tokens always start a new line.\n      else {\n          // If there is '', insert it as a placeholder.\n          lines.push({\n            tokens: [token]\n          });\n        }\n    }\n  }\n\n  function makeFont(style) {\n    // FIXME in node-canvas fontWeight is before fontStyle\n    // Use `fontSize` `fontFamily` to check whether font properties are defined.\n    var font = (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n    style.fontFamily || 'sans-serif'].join(' ');\n    return font && trim$2(font) || style.textFont || style.font;\n  }\n\n  var DEFAULT_FONT_1 = DEFAULT_FONT;\n  var $override_1$1 = $override$1;\n  var getWidth_1 = getWidth;\n  var getBoundingRect_1 = getBoundingRect;\n  var adjustTextX_1 = adjustTextX;\n  var adjustTextY_1 = adjustTextY;\n  var calculateTextPosition_1 = calculateTextPosition;\n  var adjustTextPositionOnRect_1 = adjustTextPositionOnRect;\n  var truncateText_1 = truncateText;\n  var getLineHeight_1 = getLineHeight;\n  var measureText_1 = measureText;\n  var parsePlainText_1 = parsePlainText;\n  var parseRichText_1 = parseRichText;\n  var makeFont_1 = makeFont;\n\n  var text = {\n  \tDEFAULT_FONT: DEFAULT_FONT_1,\n  \t$override: $override_1$1,\n  \tgetWidth: getWidth_1,\n  \tgetBoundingRect: getBoundingRect_1,\n  \tadjustTextX: adjustTextX_1,\n  \tadjustTextY: adjustTextY_1,\n  \tcalculateTextPosition: calculateTextPosition_1,\n  \tadjustTextPositionOnRect: adjustTextPositionOnRect_1,\n  \ttruncateText: truncateText_1,\n  \tgetLineHeight: getLineHeight_1,\n  \tmeasureText: measureText_1,\n  \tparsePlainText: parsePlainText_1,\n  \tparseRichText: parseRichText_1,\n  \tmakeFont: makeFont_1\n  };\n\n  /**\n   * @param {Object} ctx\n   * @param {Object} shape\n   * @param {number} shape.x\n   * @param {number} shape.y\n   * @param {number} shape.width\n   * @param {number} shape.height\n   * @param {number} shape.r\n   */\n  function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4; // Convert width and height to positive for better borderRadius\n\n    if (width < 0) {\n      x = x + width;\n      width = -width;\n    }\n\n    if (height < 0) {\n      y = y + height;\n      height = -height;\n    }\n\n    if (typeof r === 'number') {\n      r1 = r2 = r3 = r4 = r;\n    } else if (r instanceof Array) {\n      if (r.length === 1) {\n        r1 = r2 = r3 = r4 = r[0];\n      } else if (r.length === 2) {\n        r1 = r3 = r[0];\n        r2 = r4 = r[1];\n      } else if (r.length === 3) {\n        r1 = r[0];\n        r2 = r4 = r[1];\n        r3 = r[2];\n      } else {\n        r1 = r[0];\n        r2 = r[1];\n        r3 = r[2];\n        r4 = r[3];\n      }\n    } else {\n      r1 = r2 = r3 = r4 = 0;\n    }\n\n    var total;\n\n    if (r1 + r2 > width) {\n      total = r1 + r2;\n      r1 *= width / total;\n      r2 *= width / total;\n    }\n\n    if (r3 + r4 > width) {\n      total = r3 + r4;\n      r3 *= width / total;\n      r4 *= width / total;\n    }\n\n    if (r2 + r3 > height) {\n      total = r2 + r3;\n      r2 *= height / total;\n      r3 *= height / total;\n    }\n\n    if (r1 + r4 > height) {\n      total = r1 + r4;\n      r1 *= height / total;\n      r4 *= height / total;\n    }\n\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n  }\n\n  var buildPath_1 = buildPath;\n\n  var roundRect = {\n  \tbuildPath: buildPath_1\n  };\n\n  var retrieve2$2 = util.retrieve2;\n  var retrieve3$2 = util.retrieve3;\n  var each$1 = util.each;\n  var normalizeCssArray$1 = util.normalizeCssArray;\n  var isString$3 = util.isString;\n  var isObject$4 = util.isObject;\n\n\n\n\n\n\n\n\n\n\n\n  var ContextCachedBy$2 = constant.ContextCachedBy;\n  var WILL_BE_RESTORED$1 = constant.WILL_BE_RESTORED;\n  var DEFAULT_FONT$1 = text.DEFAULT_FONT; // TODO: Have not support 'start', 'end' yet.\n\n  var VALID_TEXT_ALIGN = {\n    left: 1,\n    right: 1,\n    center: 1\n  };\n  var VALID_TEXT_VERTICAL_ALIGN = {\n    top: 1,\n    bottom: 1,\n    middle: 1\n  }; // Different from `STYLE_COMMON_PROPS` of `graphic/Style`,\n  // the default value of shadowColor is `'transparent'`.\n\n  var SHADOW_STYLE_COMMON_PROPS = [['textShadowBlur', 'shadowBlur', 0], ['textShadowOffsetX', 'shadowOffsetX', 0], ['textShadowOffsetY', 'shadowOffsetY', 0], ['textShadowColor', 'shadowColor', 'transparent']];\n  var _tmpTextPositionResult = {};\n  var _tmpBoxPositionResult = {};\n  /**\n   * @param {module:zrender/graphic/Style} style\n   * @return {module:zrender/graphic/Style} The input style.\n   */\n\n  function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each$1(style.rich, normalizeStyle);\n    return style;\n  }\n\n  function normalizeStyle(style) {\n    if (style) {\n      style.font = text.makeFont(style);\n      var textAlign = style.textAlign;\n      textAlign === 'middle' && (textAlign = 'center');\n      style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n      var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n      textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n      style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n      var textPadding = style.textPadding;\n\n      if (textPadding) {\n        style.textPadding = normalizeCssArray$1(style.textPadding);\n      }\n    }\n  }\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @param {string} text\n   * @param {module:zrender/graphic/Style} style\n   * @param {Object|boolean} [rect] {x, y, width, height}\n   *                  If set false, rect text is not used.\n   * @param {Element|module:zrender/graphic/helper/constant.WILL_BE_RESTORED} [prevEl] For ctx prop cache.\n   */\n\n\n  function renderText(hostEl, ctx, text, style, rect, prevEl) {\n    style.rich ? renderRichText(hostEl, ctx, text, style, rect, prevEl) : renderPlainText(hostEl, ctx, text, style, rect, prevEl);\n  } // Avoid setting to ctx according to prevEl if possible for\n  // performance in scenarios of large amount text.\n\n\n  function renderPlainText(hostEl, ctx, text$1, style, rect, prevEl) {\n\n    var needDrawBg = needDrawBackground(style);\n    var prevStyle;\n    var checkCache = false;\n    var cachedByMe = ctx.__attrCachedBy === ContextCachedBy$2.PLAIN_TEXT; // Only take and check cache for `Text` el, but not RectText.\n\n    if (prevEl !== WILL_BE_RESTORED$1) {\n      if (prevEl) {\n        prevStyle = prevEl.style;\n        checkCache = !needDrawBg && cachedByMe && prevStyle;\n      } // Prevent from using cache in `Style::bind`, because of the case:\n      // ctx property is modified by other properties than `Style::bind`\n      // used, and Style::bind is called next.\n\n\n      ctx.__attrCachedBy = needDrawBg ? ContextCachedBy$2.NONE : ContextCachedBy$2.PLAIN_TEXT;\n    } // Since this will be restored, prevent from using these props to check cache in the next\n    // entering of this method. But do not need to clear other cache like `Style::bind`.\n    else if (cachedByMe) {\n        ctx.__attrCachedBy = ContextCachedBy$2.NONE;\n      }\n\n    var styleFont = style.font || DEFAULT_FONT$1; // PENDING\n    // Only `Text` el set `font` and keep it (`RectText` will restore). So theoretically\n    // we can make font cache on ctx, which can cache for text el that are discontinuous.\n    // But layer save/restore needed to be considered.\n    // if (styleFont !== ctx.__fontCache) {\n    //     ctx.font = styleFont;\n    //     if (prevEl !== WILL_BE_RESTORED) {\n    //         ctx.__fontCache = styleFont;\n    //     }\n    // }\n\n    if (!checkCache || styleFont !== (prevStyle.font || DEFAULT_FONT$1)) {\n      ctx.font = styleFont;\n    } // Use the final font from context-2d, because the final\n    // font might not be the style.font when it is illegal.\n    // But get `ctx.font` might be time consuming.\n\n\n    var computedFont = hostEl.__computedFont;\n\n    if (hostEl.__styleFont !== styleFont) {\n      hostEl.__styleFont = styleFont;\n      computedFont = hostEl.__computedFont = ctx.font;\n    }\n\n    var textPadding = style.textPadding;\n    var textLineHeight = style.textLineHeight;\n    var contentBlock = hostEl.__textCotentBlock;\n\n    if (!contentBlock || hostEl.__dirtyText) {\n      contentBlock = hostEl.__textCotentBlock = text.parsePlainText(text$1, computedFont, textPadding, textLineHeight, style.truncate);\n    }\n\n    var outerHeight = contentBlock.outerHeight;\n    var textLines = contentBlock.lines;\n    var lineHeight = contentBlock.lineHeight;\n    var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign || 'left';\n    var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n    var boxY = text.adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var textX = baseX;\n    var textY = boxY;\n\n    if (needDrawBg || textPadding) {\n      // Consider performance, do not call getTextWidth util necessary.\n      var textWidth = text.getWidth(text$1, computedFont);\n      var outerWidth = textWidth;\n      textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n      var boxX = text.adjustTextX(baseX, outerWidth, textAlign);\n      needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n      if (textPadding) {\n        textX = getTextXForPadding(baseX, textAlign, textPadding);\n        textY += textPadding[0];\n      }\n    } // Always set textAlign and textBase line, because it is difficute to calculate\n    // textAlign from prevEl, and we dont sure whether textAlign will be reset if\n    // font set happened.\n\n\n    ctx.textAlign = textAlign; // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n    ctx.textBaseline = 'middle'; // Set text opacity\n\n    ctx.globalAlpha = style.opacity || 1; // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n    for (var i = 0; i < SHADOW_STYLE_COMMON_PROPS.length; i++) {\n      var propItem = SHADOW_STYLE_COMMON_PROPS[i];\n      var styleProp = propItem[0];\n      var ctxProp = propItem[1];\n      var val = style[styleProp];\n\n      if (!checkCache || val !== prevStyle[styleProp]) {\n        ctx[ctxProp] = fixShadow(ctx, ctxProp, val || propItem[2]);\n      }\n    } // `textBaseline` is set as 'middle'.\n\n\n    textY += lineHeight / 2;\n    var textStrokeWidth = style.textStrokeWidth;\n    var textStrokeWidthPrev = checkCache ? prevStyle.textStrokeWidth : null;\n    var strokeWidthChanged = !checkCache || textStrokeWidth !== textStrokeWidthPrev;\n    var strokeChanged = !checkCache || strokeWidthChanged || style.textStroke !== prevStyle.textStroke;\n    var textStroke = getStroke(style.textStroke, textStrokeWidth);\n    var textFill = getFill(style.textFill);\n\n    if (textStroke) {\n      if (strokeWidthChanged) {\n        ctx.lineWidth = textStrokeWidth;\n      }\n\n      if (strokeChanged) {\n        ctx.strokeStyle = textStroke;\n      }\n    }\n\n    if (textFill) {\n      if (!checkCache || style.textFill !== prevStyle.textFill) {\n        ctx.fillStyle = textFill;\n      }\n    } // Optimize simply, in most cases only one line exists.\n\n\n    if (textLines.length === 1) {\n      // Fill after stroke so the outline will not cover the main part.\n      textStroke && ctx.strokeText(textLines[0], textX, textY);\n      textFill && ctx.fillText(textLines[0], textX, textY);\n    } else {\n      for (var i = 0; i < textLines.length; i++) {\n        // Fill after stroke so the outline will not cover the main part.\n        textStroke && ctx.strokeText(textLines[i], textX, textY);\n        textFill && ctx.fillText(textLines[i], textX, textY);\n        textY += lineHeight;\n      }\n    }\n  }\n\n  function renderRichText(hostEl, ctx, text$1, style, rect, prevEl) {\n    // Do not do cache for rich text because of the complexity.\n    // But `RectText` this will be restored, do not need to clear other cache like `Style::bind`.\n    if (prevEl !== WILL_BE_RESTORED$1) {\n      ctx.__attrCachedBy = ContextCachedBy$2.NONE;\n    }\n\n    var contentBlock = hostEl.__textCotentBlock;\n\n    if (!contentBlock || hostEl.__dirtyText) {\n      contentBlock = hostEl.__textCotentBlock = text.parseRichText(text$1, style);\n    }\n\n    drawRichText(hostEl, ctx, contentBlock, style, rect);\n  }\n\n  function drawRichText(hostEl, ctx, contentBlock, style, rect) {\n    var contentWidth = contentBlock.width;\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n    var textPadding = style.textPadding;\n    var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign;\n    var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n    var boxX = text.adjustTextX(baseX, outerWidth, textAlign);\n    var boxY = text.adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var xLeft = boxX;\n    var lineTop = boxY;\n\n    if (textPadding) {\n      xLeft += textPadding[3];\n      lineTop += textPadding[0];\n    }\n\n    var xRight = xLeft + contentWidth;\n    needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    for (var i = 0; i < contentBlock.lines.length; i++) {\n      var line = contentBlock.lines[i];\n      var tokens = line.tokens;\n      var tokenCount = tokens.length;\n      var lineHeight = line.lineHeight;\n      var usedWidth = line.width;\n      var leftIndex = 0;\n      var lineXLeft = xLeft;\n      var lineXRight = xRight;\n      var rightIndex = tokenCount - 1;\n      var token;\n\n      while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n        usedWidth -= token.width;\n        lineXLeft += token.width;\n        leftIndex++;\n      }\n\n      while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n        usedWidth -= token.width;\n        lineXRight -= token.width;\n        rightIndex--;\n      } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n      lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n      while (leftIndex <= rightIndex) {\n        token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n        lineXLeft += token.width;\n        leftIndex++;\n      }\n\n      lineTop += lineHeight;\n    }\n  }\n\n  function applyTextRotation(ctx, style, rect, x, y) {\n    // textRotation only apply in RectText.\n    if (rect && style.textRotation) {\n      var origin = style.textOrigin;\n\n      if (origin === 'center') {\n        x = rect.width / 2 + rect.x;\n        y = rect.height / 2 + rect.y;\n      } else if (origin) {\n        x = origin[0] + rect.x;\n        y = origin[1] + rect.y;\n      }\n\n      ctx.translate(x, y); // Positive: anticlockwise\n\n      ctx.rotate(-style.textRotation);\n      ctx.translate(-x, -y);\n    }\n  }\n\n  function placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n    var tokenStyle = style.rich[token.styleName] || {};\n    tokenStyle.text = token.text; // 'ctx.textBaseline' is always set as 'middle', for sake of\n    // the bias of \"Microsoft YaHei\".\n\n    var textVerticalAlign = token.textVerticalAlign;\n    var y = lineTop + lineHeight / 2;\n\n    if (textVerticalAlign === 'top') {\n      y = lineTop + token.height / 2;\n    } else if (textVerticalAlign === 'bottom') {\n      y = lineTop + lineHeight - token.height / 2;\n    }\n\n    !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n    var textPadding = token.textPadding;\n\n    if (textPadding) {\n      x = getTextXForPadding(x, textAlign, textPadding);\n      y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n    }\n\n    setCtx(ctx, 'shadowBlur', retrieve3$2(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n    setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', retrieve3$2(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n    setCtx(ctx, 'shadowOffsetY', retrieve3$2(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n    setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n    setCtx(ctx, 'textBaseline', 'middle');\n    setCtx(ctx, 'font', token.font || DEFAULT_FONT$1);\n    var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n    var textFill = getFill(tokenStyle.textFill || style.textFill);\n    var textStrokeWidth = retrieve2$2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n    if (textStroke) {\n      setCtx(ctx, 'lineWidth', textStrokeWidth);\n      setCtx(ctx, 'strokeStyle', textStroke);\n      ctx.strokeText(token.text, x, y);\n    }\n\n    if (textFill) {\n      setCtx(ctx, 'fillStyle', textFill);\n      ctx.fillText(token.text, x, y);\n    }\n  }\n\n  function needDrawBackground(style) {\n    return !!(style.textBackgroundColor || style.textBorderWidth && style.textBorderColor);\n  } // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius, text}\n  // shape: {x, y, width, height}\n\n\n  function drawBackground(hostEl, ctx, style, x, y, width, height) {\n    var textBackgroundColor = style.textBackgroundColor;\n    var textBorderWidth = style.textBorderWidth;\n    var textBorderColor = style.textBorderColor;\n    var isPlainBg = isString$3(textBackgroundColor);\n    setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n    setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n    setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n    if (isPlainBg || textBorderWidth && textBorderColor) {\n      ctx.beginPath();\n      var textBorderRadius = style.textBorderRadius;\n\n      if (!textBorderRadius) {\n        ctx.rect(x, y, width, height);\n      } else {\n        roundRect.buildPath(ctx, {\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          r: textBorderRadius\n        });\n      }\n\n      ctx.closePath();\n    }\n\n    if (isPlainBg) {\n      setCtx(ctx, 'fillStyle', textBackgroundColor);\n\n      if (style.fillOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        ctx.fill();\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        ctx.fill();\n      }\n    } else if (isObject$4(textBackgroundColor)) {\n      var image$1 = textBackgroundColor.image;\n      image$1 = image.createOrUpdateImage(image$1, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n      if (image$1 && image.isImageReady(image$1)) {\n        ctx.drawImage(image$1, x, y, width, height);\n      }\n    }\n\n    if (textBorderWidth && textBorderColor) {\n      setCtx(ctx, 'lineWidth', textBorderWidth);\n      setCtx(ctx, 'strokeStyle', textBorderColor);\n\n      if (style.strokeOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        ctx.stroke();\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        ctx.stroke();\n      }\n    }\n  }\n\n  function onBgImageLoaded(image, textBackgroundColor) {\n    // Replace image, so that `contain/text.js#parseRichText`\n    // will get correct result in next tick.\n    textBackgroundColor.image = image;\n  }\n\n  function getBoxPosition(out, hostEl, style, rect) {\n    var baseX = style.x || 0;\n    var baseY = style.y || 0;\n    var textAlign = style.textAlign;\n    var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n    if (rect) {\n      var textPosition = style.textPosition;\n\n      if (textPosition instanceof Array) {\n        // Percent\n        baseX = rect.x + parsePercent(textPosition[0], rect.width);\n        baseY = rect.y + parsePercent(textPosition[1], rect.height);\n      } else {\n        var res = hostEl && hostEl.calculateTextPosition ? hostEl.calculateTextPosition(_tmpTextPositionResult, style, rect) : text.calculateTextPosition(_tmpTextPositionResult, style, rect);\n        baseX = res.x;\n        baseY = res.y; // Default align and baseline when has textPosition\n\n        textAlign = textAlign || res.textAlign;\n        textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n      } // textOffset is only support in RectText, otherwise\n      // we have to adjust boundingRect for textOffset.\n\n\n      var textOffset = style.textOffset;\n\n      if (textOffset) {\n        baseX += textOffset[0];\n        baseY += textOffset[1];\n      }\n    }\n\n    out = out || {};\n    out.baseX = baseX;\n    out.baseY = baseY;\n    out.textAlign = textAlign;\n    out.textVerticalAlign = textVerticalAlign;\n    return out;\n  }\n\n  function setCtx(ctx, prop, value) {\n    ctx[prop] = fixShadow(ctx, prop, value);\n    return ctx[prop];\n  }\n  /**\n   * @param {string} [stroke] If specified, do not check style.textStroke.\n   * @param {string} [lineWidth] If specified, do not check style.textStroke.\n   * @param {number} style\n   */\n\n\n  function getStroke(stroke, lineWidth) {\n    return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n    : stroke.image || stroke.colorStops ? '#000' : stroke;\n  }\n\n  function getFill(fill) {\n    return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n    : fill.image || fill.colorStops ? '#000' : fill;\n  }\n\n  function parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n      if (value.lastIndexOf('%') >= 0) {\n        return parseFloat(value) / 100 * maxValue;\n      }\n\n      return parseFloat(value);\n    }\n\n    return value;\n  }\n\n  function getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n  }\n  /**\n   * @param {string} text\n   * @param {module:zrender/Style} style\n   * @return {boolean}\n   */\n\n\n  function needDrawText(text, style) {\n    return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n  }\n\n  var normalizeTextStyle_1 = normalizeTextStyle;\n  var renderText_1 = renderText;\n  var getBoxPosition_1 = getBoxPosition;\n  var getStroke_1 = getStroke;\n  var getFill_1 = getFill;\n  var parsePercent_1 = parsePercent;\n  var needDrawText_1 = needDrawText;\n\n  var text$1 = {\n  \tnormalizeTextStyle: normalizeTextStyle_1,\n  \trenderText: renderText_1,\n  \tgetBoxPosition: getBoxPosition_1,\n  \tgetStroke: getStroke_1,\n  \tgetFill: getFill_1,\n  \tparsePercent: parsePercent_1,\n  \tneedDrawText: needDrawText_1\n  };\n\n  var WILL_BE_RESTORED$2 = constant.WILL_BE_RESTORED;\n\n  /**\n   * Mixin for drawing text in a element bounding rect\n   * @module zrender/mixin/RectText\n   */\n  var tmpRect = new BoundingRect_1();\n\n  var RectText = function () {};\n\n  RectText.prototype = {\n    constructor: RectText,\n\n    /**\n     * Draw text in a rect with specified position.\n     * @param  {CanvasRenderingContext2D} ctx\n     * @param  {Object} rect Displayable rect\n     */\n    drawRectText: function (ctx, rect) {\n      var style = this.style;\n      rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true);\n      var text = style.text; // Convert to string\n\n      text != null && (text += '');\n\n      if (!text$1.needDrawText(text, style)) {\n        return;\n      } // FIXME\n      // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n      // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n      // text propably break the cache for its host elements.\n\n\n      ctx.save(); // Transform rect to view space\n\n      var transform = this.transform;\n\n      if (!style.transformText) {\n        if (transform) {\n          tmpRect.copy(rect);\n          tmpRect.applyTransform(transform);\n          rect = tmpRect;\n        }\n      } else {\n        this.setTransform(ctx);\n      } // transformText and textRotation can not be used at the same time.\n\n\n      text$1.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED$2);\n      ctx.restore();\n    }\n  };\n  var _default$m = RectText;\n  var RectText_1 = _default$m;\n\n  /**\n   * Base class of all displayable graphic objects\n   * @module zrender/graphic/Displayable\n   */\n\n  /**\n   * @alias module:zrender/graphic/Displayable\n   * @extends module:zrender/Element\n   * @extends module:zrender/graphic/mixin/RectText\n   */\n  function Displayable(opts) {\n    opts = opts || {};\n    Element_1.call(this, opts); // Extend properties\n\n    for (var name in opts) {\n      if (opts.hasOwnProperty(name) && name !== 'style') {\n        this[name] = opts[name];\n      }\n    }\n    /**\n     * @type {module:zrender/graphic/Style}\n     */\n\n\n    this.style = new Style_1(opts.style, this);\n    this._rect = null; // Shapes for cascade clipping.\n    // Can only be `null`/`undefined` or an non-empty array, MUST NOT be an empty array.\n    // because it is easy to only using null to check whether clipPaths changed.\n\n    this.__clipPaths = null; // FIXME Stateful must be mixined after style is setted\n    // Stateful.call(this, opts);\n  }\n\n  Displayable.prototype = {\n    constructor: Displayable,\n    type: 'displayable',\n\n    /**\n     * Dirty flag. From which painter will determine if this displayable object needs brush.\n     * @name module:zrender/graphic/Displayable#__dirty\n     * @type {boolean}\n     */\n    __dirty: true,\n\n    /**\n     * Whether the displayable object is visible. when it is true, the displayable object\n     * is not drawn, but the mouse event can still trigger the object.\n     * @name module:/zrender/graphic/Displayable#invisible\n     * @type {boolean}\n     * @default false\n     */\n    invisible: false,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z: 0,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z2: 0,\n\n    /**\n     * The z level determines the displayable object can be drawn in which layer canvas.\n     * @name module:/zrender/graphic/Displayable#zlevel\n     * @type {number}\n     * @default 0\n     */\n    zlevel: 0,\n\n    /**\n     * Whether it can be dragged.\n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    draggable: false,\n\n    /**\n     * Whether is it dragging.\n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    dragging: false,\n\n    /**\n     * Whether to respond to mouse events.\n     * @name module:/zrender/graphic/Displayable#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * If enable culling\n     * @type {boolean}\n     * @default false\n     */\n    culling: false,\n\n    /**\n     * Mouse cursor when hovered\n     * @name module:/zrender/graphic/Displayable#cursor\n     * @type {string}\n     */\n    cursor: 'pointer',\n\n    /**\n     * If hover area is bounding rect\n     * @name module:/zrender/graphic/Displayable#rectHover\n     * @type {string}\n     */\n    rectHover: false,\n\n    /**\n     * Render the element progressively when the value >= 0,\n     * usefull for large data.\n     * @type {boolean}\n     */\n    progressive: false,\n\n    /**\n     * @type {boolean}\n     */\n    incremental: false,\n\n    /**\n     * Scale ratio for global scale.\n     * @type {boolean}\n     */\n    globalScaleRatio: 1,\n    beforeBrush: function (ctx) {},\n    afterBrush: function (ctx) {},\n\n    /**\n     * Graphic drawing method.\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    // Interface\n    brush: function (ctx, prevEl) {},\n\n    /**\n     * Get the minimum bounding box.\n     * @return {module:zrender/core/BoundingRect}\n     */\n    // Interface\n    getBoundingRect: function () {},\n\n    /**\n     * If displayable element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    contain: function (x, y) {\n      return this.rectContain(x, y);\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n      cb.call(context, this);\n    },\n\n    /**\n     * If bounding rect of element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    rectContain: function (x, y) {\n      var coord = this.transformCoordToLocal(x, y);\n      var rect = this.getBoundingRect();\n      return rect.contain(coord[0], coord[1]);\n    },\n\n    /**\n     * Mark displayable element dirty and refresh next frame\n     */\n    dirty: function () {\n      this.__dirty = this.__dirtyText = true;\n      this._rect = null;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * If displayable object binded any event\n     * @return {boolean}\n     */\n    // TODO, events bound by bind\n    // isSilent: function () {\n    //     return !(\n    //         this.hoverable || this.draggable\n    //         || this.onmousemove || this.onmouseover || this.onmouseout\n    //         || this.onmousedown || this.onmouseup || this.onclick\n    //         || this.ondragenter || this.ondragover || this.ondragleave\n    //         || this.ondrop\n    //     );\n    // },\n\n    /**\n     * Alias for animate('style')\n     * @param {boolean} loop\n     */\n    animateStyle: function (loop) {\n      return this.animate('style', loop);\n    },\n    attrKV: function (key, value) {\n      if (key !== 'style') {\n        Element_1.prototype.attrKV.call(this, key, value);\n      } else {\n        this.style.set(value);\n      }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setStyle: function (key, value) {\n      this.style.set(key, value);\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * Use given style object\n     * @param  {Object} obj\n     */\n    useStyle: function (obj) {\n      this.style = new Style_1(obj, this);\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * The string value of `textPosition` needs to be calculated to a real postion.\n     * For example, `'inside'` is calculated to `[rect.width/2, rect.height/2]`\n     * by default. See `contain/text.js#calculateTextPosition` for more details.\n     * But some coutom shapes like \"pin\", \"flag\" have center that is not exactly\n     * `[width/2, height/2]`. So we provide this hook to customize the calculation\n     * for those shapes. It will be called if the `style.textPosition` is a string.\n     * @param {Obejct} [out] Prepared out object. If not provided, this method should\n     *        be responsible for creating one.\n     * @param {module:zrender/graphic/Style} style\n     * @param {Object} rect {x, y, width, height}\n     * @return {Obejct} out The same as the input out.\n     *         {\n     *             x: number. mandatory.\n     *             y: number. mandatory.\n     *             textAlign: string. optional. use style.textAlign by default.\n     *             textVerticalAlign: string. optional. use style.textVerticalAlign by default.\n     *         }\n     */\n    calculateTextPosition: null\n  };\n  util.inherits(Displayable, Element_1);\n  util.mixin(Displayable, RectText_1); // zrUtil.mixin(Displayable, Stateful);\n\n  var _default$n = Displayable;\n  var Displayable_1 = _default$n;\n\n  /**\n   * @alias zrender/graphic/Image\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n  function ZImage(opts) {\n    Displayable_1.call(this, opts);\n  }\n\n  ZImage.prototype = {\n    constructor: ZImage,\n    type: 'image',\n    brush: function (ctx, prevEl) {\n      var style = this.style;\n      var src = style.image; // Must bind each time\n\n      style.bind(ctx, this, prevEl);\n      var image$1 = this._image = image.createOrUpdateImage(src, this._image, this, this.onload);\n\n      if (!image$1 || !image.isImageReady(image$1)) {\n        return;\n      } // \n      // if (image.nodeName.toUpperCase() == 'IMG') {\n      //     if (!image.complete) {\n      //         return;\n      //     }\n      // }\n      // Else is canvas\n\n\n      var x = style.x || 0;\n      var y = style.y || 0;\n      var width = style.width;\n      var height = style.height;\n      var aspect = image$1.width / image$1.height;\n\n      if (width == null && height != null) {\n        // Keep image/height ratio\n        width = height * aspect;\n      } else if (height == null && width != null) {\n        height = width / aspect;\n      } else if (width == null && height == null) {\n        width = image$1.width;\n        height = image$1.height;\n      } // transform\n\n\n      this.setTransform(ctx);\n\n      if (style.sWidth && style.sHeight) {\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n        ctx.drawImage(image$1, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n      } else if (style.sx && style.sy) {\n        var sx = style.sx;\n        var sy = style.sy;\n        var sWidth = width - sx;\n        var sHeight = height - sy;\n        ctx.drawImage(image$1, sx, sy, sWidth, sHeight, x, y, width, height);\n      } else {\n        ctx.drawImage(image$1, x, y, width, height);\n      } // Draw rect text\n\n\n      if (style.text != null) {\n        // Only restore transform when needs draw text.\n        this.restoreTransform(ctx);\n        this.drawRectText(ctx, this.getBoundingRect());\n      }\n    },\n    getBoundingRect: function () {\n      var style = this.style;\n\n      if (!this._rect) {\n        this._rect = new BoundingRect_1(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n      }\n\n      return this._rect;\n    }\n  };\n  util.inherits(ZImage, Displayable_1);\n  var _default$o = ZImage;\n  var Image$1 = _default$o;\n\n  var devicePixelRatio$2 = config.devicePixelRatio;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var HOVER_LAYER_ZLEVEL = 1e5;\n  var CANVAS_ZLEVEL = 314159;\n  var EL_AFTER_INCREMENTAL_INC = 0.01;\n  var INCREMENTAL_INC = 0.001;\n\n  function parseInt10(val) {\n    return parseInt(val, 10);\n  }\n\n  function isLayerValid(layer) {\n    if (!layer) {\n      return false;\n    }\n\n    if (layer.__builtin__) {\n      return true;\n    }\n\n    if (typeof layer.resize !== 'function' || typeof layer.refresh !== 'function') {\n      return false;\n    }\n\n    return true;\n  }\n\n  var tmpRect$1 = new BoundingRect_1(0, 0, 0, 0);\n  var viewRect = new BoundingRect_1(0, 0, 0, 0);\n\n  function isDisplayableCulled(el, width, height) {\n    tmpRect$1.copy(el.getBoundingRect());\n\n    if (el.transform) {\n      tmpRect$1.applyTransform(el.transform);\n    }\n\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect$1.intersect(viewRect);\n  }\n\n  function isClipPathChanged(clipPaths, prevClipPaths) {\n    // displayable.__clipPaths can only be `null`/`undefined` or an non-empty array.\n    if (clipPaths === prevClipPaths) {\n      return false;\n    }\n\n    if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n      return true;\n    }\n\n    for (var i = 0; i < clipPaths.length; i++) {\n      if (clipPaths[i] !== prevClipPaths[i]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function doClip(clipPaths, ctx) {\n    for (var i = 0; i < clipPaths.length; i++) {\n      var clipPath = clipPaths[i];\n      clipPath.setTransform(ctx);\n      ctx.beginPath();\n      clipPath.buildPath(ctx, clipPath.shape);\n      ctx.clip(); // Transform back\n\n      clipPath.restoreTransform(ctx);\n    }\n  }\n\n  function createRoot(width, height) {\n    var domRoot = document.createElement('div'); // domRoot.onselectstart = returnFalse; // Avoid page selected\n\n    domRoot.style.cssText = ['position:relative', // IOS13 safari probably has a compositing bug (z order of the canvas and the consequent\n    // dom does not act as expected) when some of the parent dom has\n    // `-webkit-overflow-scrolling: touch;` and the webpage is longer than one screen and\n    // the canvas is not at the top part of the page.\n    // Check `https://bugs.webkit.org/show_bug.cgi?id=203681` for more details. We remove\n    // this `overflow:hidden` to avoid the bug.\n    // 'overflow:hidden',\n    'width:' + width + 'px', 'height:' + height + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';';\n    return domRoot;\n  }\n  /**\n   * @alias module:zrender/Painter\n   * @constructor\n   * @param {HTMLElement} root \n   * @param {module:zrender/Storage} storage\n   * @param {Object} opts\n   */\n\n\n  var Painter = function (root, storage, opts) {\n    this.type = 'canvas'; // In node environment using node-canvas\n\n    var singleCanvas = !root.nodeName // In node ?\n    || root.nodeName.toUpperCase() === 'CANVAS';\n    this._opts = opts = util.extend({}, opts || {});\n    /**\n     * @type {number}\n     */\n\n    this.dpr = opts.devicePixelRatio || devicePixelRatio$2;\n    /**\n     * @type {boolean}\n     * @private\n     */\n\n    this._singleCanvas = singleCanvas;\n    /**\n     * \n     * @type {HTMLElement}\n     */\n\n    this.root = root;\n    var rootStyle = root.style;\n\n    if (rootStyle) {\n      rootStyle['-webkit-tap-highlight-color'] = 'transparent';\n      rootStyle['-webkit-user-select'] = rootStyle['user-select'] = rootStyle['-webkit-touch-callout'] = 'none';\n      root.innerHTML = '';\n    }\n    /**\n     * @type {module:zrender/Storage}\n     */\n\n\n    this.storage = storage;\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n\n    var zlevelList = this._zlevelList = [];\n    /**\n     * @type {Object.<string, module:zrender/Layer>}\n     * @private\n     */\n\n    var layers = this._layers = {};\n    /**\n     * @type {Object.<string, Object>}\n     * @private\n     */\n\n    this._layerConfig = {};\n    /**\n     * zrender will do compositing when root is a canvas and have multiple zlevels.\n     */\n\n    this._needsManuallyCompositing = false;\n\n    if (!singleCanvas) {\n      this._width = this._getSize(0);\n      this._height = this._getSize(1);\n      var domRoot = this._domRoot = createRoot(this._width, this._height);\n      root.appendChild(domRoot);\n    } else {\n      var width = root.width;\n      var height = root.height;\n\n      if (opts.width != null) {\n        width = opts.width;\n      }\n\n      if (opts.height != null) {\n        height = opts.height;\n      }\n\n      this.dpr = opts.devicePixelRatio || 1; // Use canvas width and height directly\n\n      root.width = width * this.dpr;\n      root.height = height * this.dpr;\n      this._width = width;\n      this._height = height; // Create layer if only one given canvas\n      // Device can be specified to create a high dpi image.\n\n      var mainLayer = new Layer_1(root, this, this.dpr);\n      mainLayer.__builtin__ = true;\n      mainLayer.initContext(); // FIXME Use canvas width and height\n      // mainLayer.resize(width, height);\n\n      layers[CANVAS_ZLEVEL] = mainLayer;\n      mainLayer.zlevel = CANVAS_ZLEVEL; // Not use common zlevel.\n\n      zlevelList.push(CANVAS_ZLEVEL);\n      this._domRoot = root;\n    }\n    /**\n     * @type {module:zrender/Layer}\n     * @private\n     */\n\n\n    this._hoverlayer = null;\n    this._hoverElements = [];\n  };\n\n  Painter.prototype = {\n    constructor: Painter,\n    getType: function () {\n      return 'canvas';\n    },\n\n    /**\n     * If painter use a single canvas\n     * @return {boolean}\n     */\n    isSingleCanvas: function () {\n      return this._singleCanvas;\n    },\n\n    /**\n     * @return {HTMLDivElement}\n     */\n    getViewportRoot: function () {\n      return this._domRoot;\n    },\n    getViewportRootOffset: function () {\n      var viewportRoot = this.getViewportRoot();\n\n      if (viewportRoot) {\n        return {\n          offsetLeft: viewportRoot.offsetLeft || 0,\n          offsetTop: viewportRoot.offsetTop || 0\n        };\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [paintAll=false] displayable\n     */\n    refresh: function (paintAll) {\n      var list = this.storage.getDisplayList(true);\n      var zlevelList = this._zlevelList;\n      this._redrawId = Math.random();\n\n      this._paintList(list, paintAll, this._redrawId); // Paint custum layers\n\n\n      for (var i = 0; i < zlevelList.length; i++) {\n        var z = zlevelList[i];\n        var layer = this._layers[z];\n\n        if (!layer.__builtin__ && layer.refresh) {\n          var clearColor = i === 0 ? this._backgroundColor : null;\n          layer.refresh(clearColor);\n        }\n      }\n\n      this.refreshHover();\n      return this;\n    },\n    addHover: function (el, hoverStyle) {\n      if (el.__hoverMir) {\n        return;\n      }\n\n      var elMirror = new el.constructor({\n        style: el.style,\n        shape: el.shape,\n        z: el.z,\n        z2: el.z2,\n        silent: el.silent\n      });\n      elMirror.__from = el;\n      el.__hoverMir = elMirror;\n      hoverStyle && elMirror.setStyle(hoverStyle);\n\n      this._hoverElements.push(elMirror);\n\n      return elMirror;\n    },\n    removeHover: function (el) {\n      var elMirror = el.__hoverMir;\n      var hoverElements = this._hoverElements;\n      var idx = util.indexOf(hoverElements, elMirror);\n\n      if (idx >= 0) {\n        hoverElements.splice(idx, 1);\n      }\n\n      el.__hoverMir = null;\n    },\n    clearHover: function (el) {\n      var hoverElements = this._hoverElements;\n\n      for (var i = 0; i < hoverElements.length; i++) {\n        var from = hoverElements[i].__from;\n\n        if (from) {\n          from.__hoverMir = null;\n        }\n      }\n\n      hoverElements.length = 0;\n    },\n    refreshHover: function () {\n      var hoverElements = this._hoverElements;\n      var len = hoverElements.length;\n      var hoverLayer = this._hoverlayer;\n      hoverLayer && hoverLayer.clear();\n\n      if (!len) {\n        return;\n      }\n\n      timsort(hoverElements, this.storage.displayableSortFunc); // Use a extream large zlevel\n      // FIXME?\n\n      if (!hoverLayer) {\n        hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n      }\n\n      var scope = {};\n      hoverLayer.ctx.save();\n\n      for (var i = 0; i < len;) {\n        var el = hoverElements[i];\n        var originalEl = el.__from; // Original el is removed\n        // PENDING\n\n        if (!(originalEl && originalEl.__zr)) {\n          hoverElements.splice(i, 1);\n          originalEl.__hoverMir = null;\n          len--;\n          continue;\n        }\n\n        i++; // Use transform\n        // FIXME style and shape ?\n\n        if (!originalEl.invisible) {\n          el.transform = originalEl.transform;\n          el.invTransform = originalEl.invTransform;\n          el.__clipPaths = originalEl.__clipPaths; // el.\n\n          this._doPaintEl(el, hoverLayer, true, scope);\n        }\n      }\n\n      hoverLayer.ctx.restore();\n    },\n    getHoverLayer: function () {\n      return this.getLayer(HOVER_LAYER_ZLEVEL);\n    },\n    _paintList: function (list, paintAll, redrawId) {\n      if (this._redrawId !== redrawId) {\n        return;\n      }\n\n      paintAll = paintAll || false;\n\n      this._updateLayerStatus(list);\n\n      var finished = this._doPaintList(list, paintAll);\n\n      if (this._needsManuallyCompositing) {\n        this._compositeManually();\n      }\n\n      if (!finished) {\n        var self = this;\n        requestAnimationFrame(function () {\n          self._paintList(list, paintAll, redrawId);\n        });\n      }\n    },\n    _compositeManually: function () {\n      var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n      var width = this._domRoot.width;\n      var height = this._domRoot.height;\n      ctx.clearRect(0, 0, width, height); // PENDING, If only builtin layer?\n\n      this.eachBuiltinLayer(function (layer) {\n        if (layer.virtual) {\n          ctx.drawImage(layer.dom, 0, 0, width, height);\n        }\n      });\n    },\n    _doPaintList: function (list, paintAll) {\n      var layerList = [];\n\n      for (var zi = 0; zi < this._zlevelList.length; zi++) {\n        var zlevel = this._zlevelList[zi];\n        var layer = this._layers[zlevel];\n\n        if (layer.__builtin__ && layer !== this._hoverlayer && (layer.__dirty || paintAll)) {\n          layerList.push(layer);\n        }\n      }\n\n      var finished = true;\n\n      for (var k = 0; k < layerList.length; k++) {\n        var layer = layerList[k];\n        var ctx = layer.ctx;\n        var scope = {};\n        ctx.save();\n        var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n        var useTimer = !paintAll && layer.incremental && Date.now;\n        var startTime = useTimer && Date.now();\n        var clearColor = layer.zlevel === this._zlevelList[0] ? this._backgroundColor : null; // All elements in this layer are cleared.\n\n        if (layer.__startIndex === layer.__endIndex) {\n          layer.clear(false, clearColor);\n        } else if (start === layer.__startIndex) {\n          var firstEl = list[start];\n\n          if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n            layer.clear(false, clearColor);\n          }\n        }\n\n        if (start === -1) {\n          console.error('For some unknown reason. drawIndex is -1');\n          start = layer.__startIndex;\n        }\n\n        for (var i = start; i < layer.__endIndex; i++) {\n          var el = list[i];\n\n          this._doPaintEl(el, layer, paintAll, scope);\n\n          el.__dirty = el.__dirtyText = false;\n\n          if (useTimer) {\n            // Date.now can be executed in 13,025,305 ops/second.\n            var dTime = Date.now() - startTime; // Give 15 millisecond to draw.\n            // The rest elements will be drawn in the next frame.\n\n            if (dTime > 15) {\n              break;\n            }\n          }\n        }\n\n        layer.__drawIndex = i;\n\n        if (layer.__drawIndex < layer.__endIndex) {\n          finished = false;\n        }\n\n        if (scope.prevElClipPaths) {\n          // Needs restore the state. If last drawn element is in the clipping area.\n          ctx.restore();\n        }\n\n        ctx.restore();\n      }\n\n      if (env_1.wxa) {\n        // Flush for weixin application\n        util.each(this._layers, function (layer) {\n          if (layer && layer.ctx && layer.ctx.draw) {\n            layer.ctx.draw();\n          }\n        });\n      }\n\n      return finished;\n    },\n    _doPaintEl: function (el, currentLayer, forcePaint, scope) {\n      var ctx = currentLayer.ctx;\n      var m = el.transform;\n\n      if ((currentLayer.__dirty || forcePaint) && // Ignore invisible element\n      !el.invisible // Ignore transparent element\n      && el.style.opacity !== 0 // Ignore scale 0 element, in some environment like node-canvas\n      // Draw a scale 0 element can cause all following draw wrong\n      // And setTransform with scale 0 will cause set back transform failed.\n      && !(m && !m[0] && !m[3]) // Ignore culled element\n      && !(el.culling && isDisplayableCulled(el, this._width, this._height))) {\n        var clipPaths = el.__clipPaths;\n        var prevElClipPaths = scope.prevElClipPaths; // Optimize when clipping on group with several elements\n\n        if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n          // If has previous clipping state, restore from it\n          if (prevElClipPaths) {\n            ctx.restore();\n            scope.prevElClipPaths = null; // Reset prevEl since context has been restored\n\n            scope.prevEl = null;\n          } // New clipping state\n\n\n          if (clipPaths) {\n            ctx.save();\n            doClip(clipPaths, ctx);\n            scope.prevElClipPaths = clipPaths;\n          }\n        }\n\n        el.beforeBrush && el.beforeBrush(ctx);\n        el.brush(ctx, scope.prevEl || null);\n        scope.prevEl = el;\n        el.afterBrush && el.afterBrush(ctx);\n      }\n    },\n\n    /**\n     *  zlevel \n     * @param {number} zlevel\n     * @param {boolean} virtual Virtual layer will not be inserted into dom.\n     * @return {module:zrender/Layer}\n     */\n    getLayer: function (zlevel, virtual) {\n      if (this._singleCanvas && !this._needsManuallyCompositing) {\n        zlevel = CANVAS_ZLEVEL;\n      }\n\n      var layer = this._layers[zlevel];\n\n      if (!layer) {\n        // Create a new layer\n        layer = new Layer_1('zr_' + zlevel, this, this.dpr);\n        layer.zlevel = zlevel;\n        layer.__builtin__ = true;\n\n        if (this._layerConfig[zlevel]) {\n          util.merge(layer, this._layerConfig[zlevel], true);\n        } // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n        else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {\n            util.merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);\n          }\n\n        if (virtual) {\n          layer.virtual = virtual;\n        }\n\n        this.insertLayer(zlevel, layer); // Context is created after dom inserted to document\n        // Or excanvas will get 0px clientWidth and clientHeight\n\n        layer.initContext();\n      }\n\n      return layer;\n    },\n    insertLayer: function (zlevel, layer) {\n      var layersMap = this._layers;\n      var zlevelList = this._zlevelList;\n      var len = zlevelList.length;\n      var prevLayer = null;\n      var i = -1;\n      var domRoot = this._domRoot;\n\n      if (layersMap[zlevel]) {\n        return;\n      } // Check if is a valid layer\n\n\n      if (!isLayerValid(layer)) {\n        return;\n      }\n\n      if (len > 0 && zlevel > zlevelList[0]) {\n        for (i = 0; i < len - 1; i++) {\n          if (zlevelList[i] < zlevel && zlevelList[i + 1] > zlevel) {\n            break;\n          }\n        }\n\n        prevLayer = layersMap[zlevelList[i]];\n      }\n\n      zlevelList.splice(i + 1, 0, zlevel);\n      layersMap[zlevel] = layer; // Vitual layer will not directly show on the screen.\n      // (It can be a WebGL layer and assigned to a ZImage element)\n      // But it still under management of zrender.\n\n      if (!layer.virtual) {\n        if (prevLayer) {\n          var prevDom = prevLayer.dom;\n\n          if (prevDom.nextSibling) {\n            domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n          } else {\n            domRoot.appendChild(layer.dom);\n          }\n        } else {\n          if (domRoot.firstChild) {\n            domRoot.insertBefore(layer.dom, domRoot.firstChild);\n          } else {\n            domRoot.appendChild(layer.dom);\n          }\n        }\n      }\n    },\n    // Iterate each layer\n    eachLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        cb.call(context, this._layers[z], z);\n      }\n    },\n    // Iterate each buildin layer\n    eachBuiltinLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var layer;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        layer = this._layers[z];\n\n        if (layer.__builtin__) {\n          cb.call(context, layer, z);\n        }\n      }\n    },\n    // Iterate each other layer except buildin layer\n    eachOtherLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var layer;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        layer = this._layers[z];\n\n        if (!layer.__builtin__) {\n          cb.call(context, layer, z);\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {Array.<module:zrender/Layer>} [prevLayer]\n     */\n    getLayers: function () {\n      return this._layers;\n    },\n    _updateLayerStatus: function (list) {\n      this.eachBuiltinLayer(function (layer, z) {\n        layer.__dirty = layer.__used = false;\n      });\n\n      function updatePrevLayer(idx) {\n        if (prevLayer) {\n          if (prevLayer.__endIndex !== idx) {\n            prevLayer.__dirty = true;\n          }\n\n          prevLayer.__endIndex = idx;\n        }\n      }\n\n      if (this._singleCanvas) {\n        for (var i = 1; i < list.length; i++) {\n          var el = list[i];\n\n          if (el.zlevel !== list[i - 1].zlevel || el.incremental) {\n            this._needsManuallyCompositing = true;\n            break;\n          }\n        }\n      }\n\n      var prevLayer = null;\n      var incrementalLayerCount = 0;\n      var prevZlevel;\n\n      for (var i = 0; i < list.length; i++) {\n        var el = list[i];\n        var zlevel = el.zlevel;\n        var layer;\n\n        if (prevZlevel !== zlevel) {\n          prevZlevel = zlevel;\n          incrementalLayerCount = 0;\n        } // TODO Not use magic number on zlevel.\n        // Each layer with increment element can be separated to 3 layers.\n        //          (Other Element drawn after incremental element)\n        // -----------------zlevel + EL_AFTER_INCREMENTAL_INC--------------------\n        //                      (Incremental element)\n        // ----------------------zlevel + INCREMENTAL_INC------------------------\n        //              (Element drawn before incremental element)\n        // --------------------------------zlevel--------------------------------\n\n\n        if (el.incremental) {\n          layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n          layer.incremental = true;\n          incrementalLayerCount = 1;\n        } else {\n          layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n        }\n\n        if (!layer.__builtin__) {\n          log('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n        }\n\n        if (layer !== prevLayer) {\n          layer.__used = true;\n\n          if (layer.__startIndex !== i) {\n            layer.__dirty = true;\n          }\n\n          layer.__startIndex = i;\n\n          if (!layer.incremental) {\n            layer.__drawIndex = i;\n          } else {\n            // Mark layer draw index needs to update.\n            layer.__drawIndex = -1;\n          }\n\n          updatePrevLayer(i);\n          prevLayer = layer;\n        }\n\n        if (el.__dirty) {\n          layer.__dirty = true;\n\n          if (layer.incremental && layer.__drawIndex < 0) {\n            // Start draw from the first dirty element.\n            layer.__drawIndex = i;\n          }\n        }\n      }\n\n      updatePrevLayer(i);\n      this.eachBuiltinLayer(function (layer, z) {\n        // Used in last frame but not in this frame. Needs clear\n        if (!layer.__used && layer.getElementCount() > 0) {\n          layer.__dirty = true;\n          layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n        } // For incremental layer. In case start index changed and no elements are dirty.\n\n\n        if (layer.__dirty && layer.__drawIndex < 0) {\n          layer.__drawIndex = layer.__startIndex;\n        }\n      });\n    },\n\n    /**\n     * hover\n     */\n    clear: function () {\n      this.eachBuiltinLayer(this._clearLayer);\n      return this;\n    },\n    _clearLayer: function (layer) {\n      layer.clear();\n    },\n    setBackgroundColor: function (backgroundColor) {\n      this._backgroundColor = backgroundColor;\n    },\n\n    /**\n     * zlevel\n     *\n     * @param {string} zlevel\n     * @param {Object} config \n     * @param {string} [config.clearColor=0] \n     * @param {string} [config.motionBlur=false] \n     * @param {number} [config.lastFrameAlpha=0.7]\n     *                 alpha\n     */\n    configLayer: function (zlevel, config) {\n      if (config) {\n        var layerConfig = this._layerConfig;\n\n        if (!layerConfig[zlevel]) {\n          layerConfig[zlevel] = config;\n        } else {\n          util.merge(layerConfig[zlevel], config, true);\n        }\n\n        for (var i = 0; i < this._zlevelList.length; i++) {\n          var _zlevel = this._zlevelList[i]; // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n\n          if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n            var layer = this._layers[_zlevel];\n            util.merge(layer, layerConfig[zlevel], true);\n          }\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {number} zlevel zlevel\n     */\n    delLayer: function (zlevel) {\n      var layers = this._layers;\n      var zlevelList = this._zlevelList;\n      var layer = layers[zlevel];\n\n      if (!layer) {\n        return;\n      }\n\n      layer.dom.parentNode.removeChild(layer.dom);\n      delete layers[zlevel];\n      zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n    },\n\n    /**\n     * \n     */\n    resize: function (width, height) {\n      if (!this._domRoot.style) {\n        // Maybe in node or worker\n        if (width == null || height == null) {\n          return;\n        }\n\n        this._width = width;\n        this._height = height;\n        this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n      } else {\n        var domRoot = this._domRoot; // FIXME Why ?\n\n        domRoot.style.display = 'none'; // Save input w/h\n\n        var opts = this._opts;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n        width = this._getSize(0);\n        height = this._getSize(1);\n        domRoot.style.display = ''; // resize\n\n        if (this._width !== width || height !== this._height) {\n          domRoot.style.width = width + 'px';\n          domRoot.style.height = height + 'px';\n\n          for (var id in this._layers) {\n            if (this._layers.hasOwnProperty(id)) {\n              this._layers[id].resize(width, height);\n            }\n          }\n\n          util.each(this._progressiveLayers, function (layer) {\n            layer.resize(width, height);\n          });\n          this.refresh(true);\n        }\n\n        this._width = width;\n        this._height = height;\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param {number} zlevel\n     */\n    clearLayer: function (zlevel) {\n      var layer = this._layers[zlevel];\n\n      if (layer) {\n        layer.clear();\n      }\n    },\n\n    /**\n     * \n     */\n    dispose: function () {\n      this.root.innerHTML = '';\n      this.root = this.storage = this._domRoot = this._layers = null;\n    },\n\n    /**\n     * Get canvas which has all thing rendered\n     * @param {Object} opts\n     * @param {string} [opts.backgroundColor]\n     * @param {number} [opts.pixelRatio]\n     */\n    getRenderedCanvas: function (opts) {\n      opts = opts || {};\n\n      if (this._singleCanvas && !this._compositeManually) {\n        return this._layers[CANVAS_ZLEVEL].dom;\n      }\n\n      var imageLayer = new Layer_1('image', this, opts.pixelRatio || this.dpr);\n      imageLayer.initContext();\n      imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n\n      if (opts.pixelRatio <= this.dpr) {\n        this.refresh();\n        var width = imageLayer.dom.width;\n        var height = imageLayer.dom.height;\n        var ctx = imageLayer.ctx;\n        this.eachLayer(function (layer) {\n          if (layer.__builtin__) {\n            ctx.drawImage(layer.dom, 0, 0, width, height);\n          } else if (layer.renderToCanvas) {\n            imageLayer.ctx.save();\n            layer.renderToCanvas(imageLayer.ctx);\n            imageLayer.ctx.restore();\n          }\n        });\n      } else {\n        // PENDING, echarts-gl and incremental rendering.\n        var scope = {};\n        var displayList = this.storage.getDisplayList(true);\n\n        for (var i = 0; i < displayList.length; i++) {\n          var el = displayList[i];\n\n          this._doPaintEl(el, imageLayer, true, scope);\n        }\n      }\n\n      return imageLayer.dom;\n    },\n\n    /**\n     * \n     */\n    getWidth: function () {\n      return this._width;\n    },\n\n    /**\n     * \n     */\n    getHeight: function () {\n      return this._height;\n    },\n    _getSize: function (whIdx) {\n      var opts = this._opts;\n      var wh = ['width', 'height'][whIdx];\n      var cwh = ['clientWidth', 'clientHeight'][whIdx];\n      var plt = ['paddingLeft', 'paddingTop'][whIdx];\n      var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n      if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n      }\n\n      var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n      var stl = document.defaultView.getComputedStyle(root);\n      return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n    },\n    pathToImage: function (path, dpr) {\n      dpr = dpr || this.dpr;\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      var rect = path.getBoundingRect();\n      var style = path.style;\n      var shadowBlurSize = style.shadowBlur * dpr;\n      var shadowOffsetX = style.shadowOffsetX * dpr;\n      var shadowOffsetY = style.shadowOffsetY * dpr;\n      var lineWidth = style.hasStroke() ? style.lineWidth : 0;\n      var leftMargin = Math.max(lineWidth / 2, -shadowOffsetX + shadowBlurSize);\n      var rightMargin = Math.max(lineWidth / 2, shadowOffsetX + shadowBlurSize);\n      var topMargin = Math.max(lineWidth / 2, -shadowOffsetY + shadowBlurSize);\n      var bottomMargin = Math.max(lineWidth / 2, shadowOffsetY + shadowBlurSize);\n      var width = rect.width + leftMargin + rightMargin;\n      var height = rect.height + topMargin + bottomMargin;\n      canvas.width = width * dpr;\n      canvas.height = height * dpr;\n      ctx.scale(dpr, dpr);\n      ctx.clearRect(0, 0, width, height);\n      ctx.dpr = dpr;\n      var pathTransform = {\n        position: path.position,\n        rotation: path.rotation,\n        scale: path.scale\n      };\n      path.position = [leftMargin - rect.x, topMargin - rect.y];\n      path.rotation = 0;\n      path.scale = [1, 1];\n      path.updateTransform();\n\n      if (path) {\n        path.brush(ctx);\n      }\n\n      var ImageShape = Image$1;\n      var imgShape = new ImageShape({\n        style: {\n          x: 0,\n          y: 0,\n          image: canvas\n        }\n      });\n\n      if (pathTransform.position != null) {\n        imgShape.position = path.position = pathTransform.position;\n      }\n\n      if (pathTransform.rotation != null) {\n        imgShape.rotation = path.rotation = pathTransform.rotation;\n      }\n\n      if (pathTransform.scale != null) {\n        imgShape.scale = path.scale = pathTransform.scale;\n      }\n\n      return imgShape;\n    }\n  };\n  var _default$p = Painter;\n  var Painter_1 = _default$p;\n\n  var Dispatcher$1 = event.Dispatcher;\n\n\n\n\n\n  /**\n   * Animation main class, dispatch and manage all animation controllers\n   *\n   * @module zrender/animation/Animation\n   * @author pissang(https://github.com/pissang)\n   */\n  // TODO Additive animation\n  // http://iosoteric.com/additive-animations-animatewithduration-in-ios-8/\n  // https://developer.apple.com/videos/wwdc2014/#236\n\n  /**\n   * @typedef {Object} IZRenderStage\n   * @property {Function} update\n   */\n\n  /**\n   * @alias module:zrender/animation/Animation\n   * @constructor\n   * @param {Object} [options]\n   * @param {Function} [options.onframe]\n   * @param {IZRenderStage} [options.stage]\n   * @example\n   *     var animation = new Animation();\n   *     var obj = {\n   *         x: 100,\n   *         y: 100\n   *     };\n   *     animation.animate(node.position)\n   *         .when(1000, {\n   *             x: 500,\n   *             y: 500\n   *         })\n   *         .when(2000, {\n   *             x: 100,\n   *             y: 100\n   *         })\n   *         .start('spline');\n   */\n  var Animation = function (options) {\n    options = options || {};\n    this.stage = options.stage || {};\n\n    this.onframe = options.onframe || function () {}; // private properties\n\n\n    this._clips = [];\n    this._running = false;\n    this._time;\n    this._pausedTime;\n    this._pauseStart;\n    this._paused = false;\n    Dispatcher$1.call(this);\n  };\n\n  Animation.prototype = {\n    constructor: Animation,\n\n    /**\n     * Add clip\n     * @param {module:zrender/animation/Clip} clip\n     */\n    addClip: function (clip) {\n      this._clips.push(clip);\n    },\n\n    /**\n     * Add animator\n     * @param {module:zrender/animation/Animator} animator\n     */\n    addAnimator: function (animator) {\n      animator.animation = this;\n      var clips = animator.getClips();\n\n      for (var i = 0; i < clips.length; i++) {\n        this.addClip(clips[i]);\n      }\n    },\n\n    /**\n     * Delete animation clip\n     * @param {module:zrender/animation/Clip} clip\n     */\n    removeClip: function (clip) {\n      var idx = util.indexOf(this._clips, clip);\n\n      if (idx >= 0) {\n        this._clips.splice(idx, 1);\n      }\n    },\n\n    /**\n     * Delete animation clip\n     * @param {module:zrender/animation/Animator} animator\n     */\n    removeAnimator: function (animator) {\n      var clips = animator.getClips();\n\n      for (var i = 0; i < clips.length; i++) {\n        this.removeClip(clips[i]);\n      }\n\n      animator.animation = null;\n    },\n    _update: function () {\n      var time = new Date().getTime() - this._pausedTime;\n\n      var delta = time - this._time;\n      var clips = this._clips;\n      var len = clips.length;\n      var deferredEvents = [];\n      var deferredClips = [];\n\n      for (var i = 0; i < len; i++) {\n        var clip = clips[i];\n        var e = clip.step(time, delta); // Throw out the events need to be called after\n        // stage.update, like destroy\n\n        if (e) {\n          deferredEvents.push(e);\n          deferredClips.push(clip);\n        }\n      } // Remove the finished clip\n\n\n      for (var i = 0; i < len;) {\n        if (clips[i]._needsRemove) {\n          clips[i] = clips[len - 1];\n          clips.pop();\n          len--;\n        } else {\n          i++;\n        }\n      }\n\n      len = deferredEvents.length;\n\n      for (var i = 0; i < len; i++) {\n        deferredClips[i].fire(deferredEvents[i]);\n      }\n\n      this._time = time;\n      this.onframe(delta); // 'frame' should be triggered before stage, because upper application\n      // depends on the sequence (e.g., echarts-stream and finish\n      // event judge)\n\n      this.trigger('frame', delta);\n\n      if (this.stage.update) {\n        this.stage.update();\n      }\n    },\n    _startLoop: function () {\n      var self = this;\n      this._running = true;\n\n      function step() {\n        if (self._running) {\n          requestAnimationFrame(step);\n          !self._paused && self._update();\n        }\n      }\n\n      requestAnimationFrame(step);\n    },\n\n    /**\n     * Start animation.\n     */\n    start: function () {\n      this._time = new Date().getTime();\n      this._pausedTime = 0;\n\n      this._startLoop();\n    },\n\n    /**\n     * Stop animation.\n     */\n    stop: function () {\n      this._running = false;\n    },\n\n    /**\n     * Pause animation.\n     */\n    pause: function () {\n      if (!this._paused) {\n        this._pauseStart = new Date().getTime();\n        this._paused = true;\n      }\n    },\n\n    /**\n     * Resume animation.\n     */\n    resume: function () {\n      if (this._paused) {\n        this._pausedTime += new Date().getTime() - this._pauseStart;\n        this._paused = false;\n      }\n    },\n\n    /**\n     * Clear animation.\n     */\n    clear: function () {\n      this._clips = [];\n    },\n\n    /**\n     * Whether animation finished.\n     */\n    isFinished: function () {\n      return !this._clips.length;\n    },\n\n    /**\n     * Creat animator for a target, whose props can be animated.\n     *\n     * @param  {Object} target\n     * @param  {Object} options\n     * @param  {boolean} [options.loop=false] Whether loop animation.\n     * @param  {Function} [options.getter=null] Get value from target.\n     * @param  {Function} [options.setter=null] Set value to target.\n     * @return {module:zrender/animation/Animation~Animator}\n     */\n    // TODO Gap\n    animate: function (target, options) {\n      options = options || {};\n      var animator = new Animator_1(target, options.loop, options.getter, options.setter);\n      this.addAnimator(animator);\n      return animator;\n    }\n  };\n  util.mixin(Animation, Dispatcher$1);\n  var _default$q = Animation;\n  var Animation_1 = _default$q;\n\n  var addEventListener$1 = event.addEventListener;\n  var removeEventListener$1 = event.removeEventListener;\n  var normalizeEvent$1 = event.normalizeEvent;\n  var getNativeEvent$1 = event.getNativeEvent;\n\n\n\n\n\n\n\n  /* global document */\n  var TOUCH_CLICK_DELAY = 300;\n  var globalEventSupported = env_1.domSupported;\n\n  var localNativeListenerNames = function () {\n    var mouseHandlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n    var touchHandlerNames = ['touchstart', 'touchend', 'touchmove'];\n    var pointerEventNameMap = {\n      pointerdown: 1,\n      pointerup: 1,\n      pointermove: 1,\n      pointerout: 1\n    };\n    var pointerHandlerNames = util.map(mouseHandlerNames, function (name) {\n      var nm = name.replace('mouse', 'pointer');\n      return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n      mouse: mouseHandlerNames,\n      touch: touchHandlerNames,\n      pointer: pointerHandlerNames\n    };\n  }();\n\n  var globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n  };\n\n  function eventNameFix(name) {\n    return name === 'mousewheel' && env_1.browser.firefox ? 'DOMMouseScroll' : name;\n  }\n\n  function isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n  } // function useMSGuesture(handlerProxy, event) {\n  //     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n  // }\n  // function onMSGestureChange(proxy, event) {\n  //     if (event.translationX || event.translationY) {\n  //         // mousemove is carried by MSGesture to reduce the sensitivity.\n  //         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n  //     }\n  //     if (event.scale !== 1) {\n  //         event.pinchX = event.offsetX;\n  //         event.pinchY = event.offsetY;\n  //         event.pinchScale = event.scale;\n  //         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n  //     }\n  // }\n\n  /**\n   * Prevent mouse event from being dispatched after Touch Events action\n   * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n   * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n   * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n   * Result: Blocking Mouse Events for 700ms.\n   *\n   * @param {DOMHandlerScope} scope\n   */\n\n\n  function setTouchTimer(scope) {\n    scope.touching = true;\n\n    if (scope.touchTimer != null) {\n      clearTimeout(scope.touchTimer);\n      scope.touchTimer = null;\n    }\n\n    scope.touchTimer = setTimeout(function () {\n      scope.touching = false;\n      scope.touchTimer = null;\n    }, 700);\n  } // Mark touch, which is useful in distinguish touch and\n  // mouse event in upper applicatoin.\n\n\n  function markTouch(event) {\n    event && (event.zrByTouch = true);\n  } // function markTriggeredFromLocal(event) {\n  //     event && (event.__zrIsFromLocal = true);\n  // }\n  // function isTriggeredFromLocal(instance, event) {\n  //     return !!(event && event.__zrIsFromLocal);\n  // }\n\n\n  function normalizeGlobalEvent(instance, event) {\n    // offsetX, offsetY still need to be calculated. They are necessary in the event\n    // handlers of the upper applications. Set `true` to force calculate them.\n    return normalizeEvent$1(instance.dom, new FakeGlobalEvent(instance, event), true);\n  }\n  /**\n   * Detect whether the given el is in `painterRoot`.\n   */\n\n\n  function isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n\n    while (elTmp && elTmp.nodeType !== 9 && !(isLocal = elTmp.domBelongToZr || elTmp !== el && elTmp === instance.painterRoot)) {\n      elTmp = elTmp.parentNode;\n    }\n\n    return isLocal;\n  }\n  /**\n   * Make a fake event but not change the original event,\n   * becuase the global event probably be used by other\n   * listeners not belonging to zrender.\n   * @class\n   */\n\n\n  function FakeGlobalEvent(instance, event) {\n    this.type = event.type;\n    this.target = this.currentTarget = instance.dom;\n    this.pointerType = event.pointerType; // Necessray for the force calculation of zrX, zrY\n\n    this.clientX = event.clientX;\n    this.clientY = event.clientY; // Because we do not mount global listeners to touch events,\n    // we do not copy `targetTouches` and `changedTouches` here.\n  }\n\n  var fakeGlobalEventProto = FakeGlobalEvent.prototype; // we make the default methods on the event do nothing,\n  // otherwise it is dangerous. See more details in\n  // [Drag outside] in `Handler.js`.\n\n  fakeGlobalEventProto.stopPropagation = fakeGlobalEventProto.stopImmediatePropagation = fakeGlobalEventProto.preventDefault = util.noop;\n  /**\n   * Local DOM Handlers\n   * @this {HandlerProxy}\n   */\n\n  var localDOMHandlers = {\n    mousedown: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      this._mayPointerCapture = [event.zrX, event.zrY];\n      this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      var downPoint = this._mayPointerCapture;\n\n      if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n        togglePointerCapture(this, true);\n      }\n\n      this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      togglePointerCapture(this, false);\n      this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n      event = normalizeEvent$1(this.dom, event); // Similarly to the browser did on `document` and touch event,\n      // `globalout` will be delayed to final pointer cature release.\n\n      if (this._pointerCapturing) {\n        event.zrEventControl = 'no_globalout';\n      } // There might be some doms created by upper layer application\n      // at the same level of painter.getViewportRoot() (e.g., tooltip\n      // dom created by echarts), where 'globalout' event should not\n      // be triggered when mouse enters these doms. (But 'mouseout'\n      // should be triggered at the original hovered element as usual).\n\n\n      var element = event.toElement || event.relatedTarget;\n      event.zrIsToLocalDOM = isLocalEl(this, element);\n      this.trigger('mouseout', event);\n    },\n    touchstart: function (event) {\n      // Default mouse behaviour should not be disabled here.\n      // For example, page may needs to be slided.\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this._lastTouchMoment = new Date();\n      this.handler.processGesture(event, 'start'); // For consistent event listener for both touch device and mouse device,\n      // we simulate \"mouseover-->mousedown\" in touch device. So we trigger\n      // `mousemove` here (to trigger `mouseover` inside), and then trigger\n      // `mousedown`.\n\n      localDOMHandlers.mousemove.call(this, event);\n      localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this.handler.processGesture(event, 'change'); // Mouse move should always be triggered no matter whether\n      // there is gestrue event, because mouse move and pinch may\n      // be used at the same time.\n\n      localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this.handler.processGesture(event, 'end');\n      localDOMHandlers.mouseup.call(this, event); // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n      // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n      // we can conveniently implement \"hover style\" in both PC and touch device just\n      // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n      // to remove \"hover style\" on an element, without any additional code for\n      // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n      // style\" will remain for user view)\n      // click event should always be triggered no matter whether\n      // there is gestrue event. System click can not be prevented.\n\n      if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n        localDOMHandlers.click.call(this, event);\n      }\n    },\n    pointerdown: function (event) {\n      localDOMHandlers.mousedown.call(this, event); // if (useMSGuesture(this, event)) {\n      //     this._msGesture.addPointer(event.pointerId);\n      // }\n    },\n    pointermove: function (event) {\n      // FIXME\n      // pointermove is so sensitive that it always triggered when\n      // tap(click) on touch screen, which affect some judgement in\n      // upper application. So, we dont support mousemove on MS touch\n      // device yet.\n      if (!isPointerFromTouch(event)) {\n        localDOMHandlers.mousemove.call(this, event);\n      }\n    },\n    pointerup: function (event) {\n      localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n      // pointerout will be triggered when tap on touch screen\n      // (IE11+/Edge on MS Surface) after click event triggered,\n      // which is inconsistent with the mousout behavior we defined\n      // in touchend. So we unify them.\n      // (check localDOMHandlers.touchend for detailed explanation)\n      if (!isPointerFromTouch(event)) {\n        localDOMHandlers.mouseout.call(this, event);\n      }\n    }\n  };\n  /**\n   * Othere DOM UI Event handlers for zr dom.\n   * @this {HandlerProxy}\n   */\n\n  util.each(['click', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      this.trigger(name, event);\n    };\n  });\n  /**\n   * DOM UI Event handlers for global page.\n   *\n   * [Caution]:\n   * those handlers should both support in capture phase and bubble phase!\n   *\n   * @this {HandlerProxy}\n   */\n\n  var globalDOMHandlers = {\n    pointermove: function (event) {\n      // FIXME\n      // pointermove is so sensitive that it always triggered when\n      // tap(click) on touch screen, which affect some judgement in\n      // upper application. So, we dont support mousemove on MS touch\n      // device yet.\n      if (!isPointerFromTouch(event)) {\n        globalDOMHandlers.mousemove.call(this, event);\n      }\n    },\n    pointerup: function (event) {\n      globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n      this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n      var pointerCaptureReleasing = this._pointerCapturing;\n      togglePointerCapture(this, false);\n      this.trigger('mouseup', event);\n\n      if (pointerCaptureReleasing) {\n        event.zrEventControl = 'only_globalout';\n        this.trigger('mouseout', event);\n      }\n    }\n  };\n  /**\n   * @param {HandlerProxy} instance\n   * @param {DOMHandlerScope} scope\n   */\n\n  function mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n\n    if (env_1.pointerEventsSupported) {\n      // Only IE11+/Edge\n      // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n      // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n      // at the same time.\n      // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n      // screen, which do not occurs in pointer event.\n      // So we use pointer event to both detect touch gesture and mouse behavior.\n      util.each(localNativeListenerNames.pointer, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          // markTriggeredFromLocal(event);\n          domHandlers[nativeEventName].call(instance, event);\n        });\n      }); // FIXME\n      // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n      // which does not prevent defuault behavior occasionally (which may cause view port\n      // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n      // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n      // touch screen. And we only support click behavior on MS touch screen now.\n      // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n      // We dont support touch on IE on win7.\n      // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n      // if (typeof MSGesture === 'function') {\n      //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n      //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n      // }\n    } else {\n      if (env_1.touchEventsSupported) {\n        util.each(localNativeListenerNames.touch, function (nativeEventName) {\n          mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n            // markTriggeredFromLocal(event);\n            domHandlers[nativeEventName].call(instance, event);\n            setTouchTimer(scope);\n          });\n        }); // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n        // addEventListener(root, 'mouseout', this._mouseoutHandler);\n      } // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n      // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n      // mouse event can not be handle in those devices.\n      // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n      // mouseevent after touch event triggered, see `setTouchTimer`.\n\n\n      util.each(localNativeListenerNames.mouse, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          event = getNativeEvent$1(event);\n\n          if (!scope.touching) {\n            // markTriggeredFromLocal(event);\n            domHandlers[nativeEventName].call(instance, event);\n          }\n        });\n      });\n    }\n  }\n  /**\n   * @param {HandlerProxy} instance\n   * @param {DOMHandlerScope} scope\n   */\n\n\n  function mountGlobalDOMEventListeners(instance, scope) {\n    // Only IE11+/Edge. See the comment in `mountLocalDOMEventListeners`.\n    if (env_1.pointerEventsSupported) {\n      util.each(globalNativeListenerNames.pointer, mount);\n    } // Touch event has implemented \"drag outside\" so we do not mount global listener for touch event.\n    // (see https://www.w3.org/TR/touch-events/#the-touchmove-event)\n    // We do not consider \"both-support-touch-and-mouse device\" for this feature (see the comment of\n    // `mountLocalDOMEventListeners`) to avoid bugs util some requirements come.\n    else if (!env_1.touchEventsSupported) {\n        util.each(globalNativeListenerNames.mouse, mount);\n      }\n\n    function mount(nativeEventName) {\n      function nativeEventListener(event) {\n        event = getNativeEvent$1(event); // See the reason in [Drag outside] in `Handler.js`\n        // This checking supports both `useCapture` or not.\n        // PENDING: if there is performance issue in some devices,\n        // we probably can not use `useCapture` and change a easier\n        // to judes whether local (mark).\n\n        if (!isLocalEl(instance, event.target)) {\n          event = normalizeGlobalEvent(instance, event);\n          scope.domHandlers[nativeEventName].call(instance, event);\n        }\n      }\n\n      mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, {\n        capture: true\n      } // See [Drag Outside] in `Handler.js`\n      );\n    }\n  }\n\n  function mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener$1(scope.domTarget, eventNameFix(nativeEventName), listener, opt);\n  }\n\n  function unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n\n    for (var nativeEventName in mounted) {\n      if (mounted.hasOwnProperty(nativeEventName)) {\n        removeEventListener$1(scope.domTarget, eventNameFix(nativeEventName), mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n      }\n    }\n\n    scope.mounted = {};\n  }\n  /**\n   * See [Drag Outside] in `Handler.js`.\n   * @implement\n   * @param {boolean} isPointerCapturing Should never be `null`/`undefined`.\n   *        `true`: start to capture pointer if it is not capturing.\n   *        `false`: end the capture if it is capturing.\n   */\n\n\n  function togglePointerCapture(instance, isPointerCapturing) {\n    instance._mayPointerCapture = null;\n\n    if (globalEventSupported && instance._pointerCapturing ^ isPointerCapturing) {\n      instance._pointerCapturing = isPointerCapturing;\n      var globalHandlerScope = instance._globalHandlerScope;\n      isPointerCapturing ? mountGlobalDOMEventListeners(instance, globalHandlerScope) : unmountDOMEventListeners(globalHandlerScope);\n    }\n  }\n  /**\n   * @inner\n   * @class\n   */\n\n\n  function DOMHandlerScope(domTarget, domHandlers) {\n    this.domTarget = domTarget;\n    this.domHandlers = domHandlers; // Key: eventName, value: mounted handler funcitons.\n    // Used for unmount.\n\n    this.mounted = {};\n    this.listenerOpts = {};\n    this.touchTimer = null;\n    this.touching = false;\n  }\n  /**\n   * @public\n   * @class\n   */\n\n\n  function HandlerDomProxy(dom, painterRoot) {\n    Eventful_1.call(this);\n    this.dom = dom;\n    this.painterRoot = painterRoot;\n    this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n\n    if (globalEventSupported) {\n      this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n    }\n    /**\n     * @type {boolean}\n     */\n\n\n    this._pointerCapturing = false;\n    /**\n     * @type {Array.<number>} [x, y] or null.\n     */\n\n    this._mayPointerCapture = null;\n    mountLocalDOMEventListeners(this, this._localHandlerScope);\n  }\n\n  var handlerDomProxyProto = HandlerDomProxy.prototype;\n\n  handlerDomProxyProto.dispose = function () {\n    unmountDOMEventListeners(this._localHandlerScope);\n\n    if (globalEventSupported) {\n      unmountDOMEventListeners(this._globalHandlerScope);\n    }\n  };\n\n  handlerDomProxyProto.setCursor = function (cursorStyle) {\n    this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n  };\n\n  util.mixin(HandlerDomProxy, Eventful_1);\n  var _default$r = HandlerDomProxy;\n  var HandlerProxy = _default$r;\n\n  /*!\n  * ZRender, a high performance 2d drawing library.\n  *\n  * Copyright (c) 2013, Baidu Inc.\n  * All rights reserved.\n  *\n  * LICENSE\n  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n  */\n  var useVML = !env_1.canvasSupported;\n  var painterCtors = {\n    canvas: Painter_1\n  };\n  var instances = {}; // ZRendermap\n\n  /**\n   * @type {string}\n   */\n\n  var version$1 = '4.3.2';\n  /**\n   * Initializing a zrender instance\n   * @param {HTMLElement} dom\n   * @param {Object} [opts]\n   * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n   * @param {number} [opts.devicePixelRatio]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   * @return {module:zrender/ZRender}\n   */\n\n  function init(dom, opts) {\n    var zr = new ZRender(guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n  }\n  /**\n   * Dispose zrender instance\n   * @param {module:zrender/ZRender} zr\n   */\n\n\n  function dispose(zr) {\n    if (zr) {\n      zr.dispose();\n    } else {\n      for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n          instances[key].dispose();\n        }\n      }\n\n      instances = {};\n    }\n\n    return this;\n  }\n  /**\n   * Get zrender instance by id\n   * @param {string} id zrender instance id\n   * @return {module:zrender/ZRender}\n   */\n\n\n  function getInstance(id) {\n    return instances[id];\n  }\n\n  function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n  }\n\n  function delInstance(id) {\n    delete instances[id];\n  }\n  /**\n   * @module zrender/ZRender\n   */\n\n  /**\n   * @constructor\n   * @alias module:zrender/ZRender\n   * @param {string} id\n   * @param {HTMLElement} dom\n   * @param {Object} opts\n   * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n   * @param {number} [opts.devicePixelRatio]\n   * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n\n\n  var ZRender = function (id, dom, opts) {\n    opts = opts || {};\n    /**\n     * @type {HTMLDomElement}\n     */\n\n    this.dom = dom;\n    /**\n     * @type {string}\n     */\n\n    this.id = id;\n    var self = this;\n    var storage = new Storage_1();\n    var rendererType = opts.renderer; // TODO WebGL\n\n    if (useVML) {\n      if (!painterCtors.vml) {\n        throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n      }\n\n      rendererType = 'vml';\n    } else if (!rendererType || !painterCtors[rendererType]) {\n      rendererType = 'canvas';\n    }\n\n    var painter = new painterCtors[rendererType](dom, storage, opts, id);\n    this.storage = storage;\n    this.painter = painter;\n    var handerProxy = !env_1.node && !env_1.worker ? new HandlerProxy(painter.getViewportRoot(), painter.root) : null;\n    this.handler = new Handler_1(storage, painter, handerProxy, painter.root);\n    /**\n     * @type {module:zrender/animation/Animation}\n     */\n\n    this.animation = new Animation_1({\n      stage: {\n        update: util.bind(this.flush, this)\n      }\n    });\n    this.animation.start();\n    /**\n     * @type {boolean}\n     * @private\n     */\n\n    this._needsRefresh; //  storage.delFromStorage, \n    // FIXME ugly\n\n    var oldDelFromStorage = storage.delFromStorage;\n    var oldAddToStorage = storage.addToStorage;\n\n    storage.delFromStorage = function (el) {\n      oldDelFromStorage.call(storage, el);\n      el && el.removeSelfFromZr(self);\n    };\n\n    storage.addToStorage = function (el) {\n      oldAddToStorage.call(storage, el);\n      el.addSelfToZr(self);\n    };\n  };\n\n  ZRender.prototype = {\n    constructor: ZRender,\n\n    /**\n     * \n     * @return {string}\n     */\n    getId: function () {\n      return this.id;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    add: function (el) {\n      this.storage.addRoot(el);\n      this._needsRefresh = true;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    remove: function (el) {\n      this.storage.delRoot(el);\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Change configuration of layer\n     * @param {string} zLevel\n     * @param {Object} config\n     * @param {string} [config.clearColor=0] Clear color\n     * @param {string} [config.motionBlur=false] If enable motion blur\n     * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n    */\n    configLayer: function (zLevel, config) {\n      if (this.painter.configLayer) {\n        this.painter.configLayer(zLevel, config);\n      }\n\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Set background color\n     * @param {string} backgroundColor\n     */\n    setBackgroundColor: function (backgroundColor) {\n      if (this.painter.setBackgroundColor) {\n        this.painter.setBackgroundColor(backgroundColor);\n      }\n\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Repaint the canvas immediately\n     */\n    refreshImmediately: function () {\n      // var start = new Date();\n      // Clear needsRefresh ahead to avoid something wrong happens in refresh\n      // Or it will cause zrender refreshes again and again.\n      this._needsRefresh = this._needsRefreshHover = false;\n      this.painter.refresh(); // Avoid trigger zr.refresh in Element#beforeUpdate hook\n\n      this._needsRefresh = this._needsRefreshHover = false; // var end = new Date();\n      // var log = document.getElementById('log');\n      // if (log) {\n      //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n      // }\n    },\n\n    /**\n     * Mark and repaint the canvas in the next frame of browser\n     */\n    refresh: function () {\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Perform all refresh\n     */\n    flush: function () {\n      var triggerRendered;\n\n      if (this._needsRefresh) {\n        triggerRendered = true;\n        this.refreshImmediately();\n      }\n\n      if (this._needsRefreshHover) {\n        triggerRendered = true;\n        this.refreshHoverImmediately();\n      }\n\n      triggerRendered && this.trigger('rendered');\n    },\n\n    /**\n     * Add element to hover layer\n     * @param  {module:zrender/Element} el\n     * @param {Object} style\n     */\n    addHover: function (el, style) {\n      if (this.painter.addHover) {\n        var elMirror = this.painter.addHover(el, style);\n        this.refreshHover();\n        return elMirror;\n      }\n    },\n\n    /**\n     * Add element from hover layer\n     * @param  {module:zrender/Element} el\n     */\n    removeHover: function (el) {\n      if (this.painter.removeHover) {\n        this.painter.removeHover(el);\n        this.refreshHover();\n      }\n    },\n\n    /**\n     * Clear all hover elements in hover layer\n     * @param  {module:zrender/Element} el\n     */\n    clearHover: function () {\n      if (this.painter.clearHover) {\n        this.painter.clearHover();\n        this.refreshHover();\n      }\n    },\n\n    /**\n     * Refresh hover in next frame\n     */\n    refreshHover: function () {\n      this._needsRefreshHover = true;\n    },\n\n    /**\n     * Refresh hover immediately\n     */\n    refreshHoverImmediately: function () {\n      this._needsRefreshHover = false;\n      this.painter.refreshHover && this.painter.refreshHover();\n    },\n\n    /**\n     * Resize the canvas.\n     * Should be invoked when container size is changed\n     * @param {Object} [opts]\n     * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n     * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n     */\n    resize: function (opts) {\n      opts = opts || {};\n      this.painter.resize(opts.width, opts.height);\n      this.handler.resize();\n    },\n\n    /**\n     * Stop and clear all animation immediately\n     */\n    clearAnimation: function () {\n      this.animation.clear();\n    },\n\n    /**\n     * Get container width\n     */\n    getWidth: function () {\n      return this.painter.getWidth();\n    },\n\n    /**\n     * Get container height\n     */\n    getHeight: function () {\n      return this.painter.getHeight();\n    },\n\n    /**\n     * Export the canvas as Base64 URL\n     * @param {string} type\n     * @param {string} [backgroundColor='#fff']\n     * @return {string} Base64 URL\n     */\n    // toDataURL: function(type, backgroundColor) {\n    //     return this.painter.getRenderedCanvas({\n    //         backgroundColor: backgroundColor\n    //     }).toDataURL(type);\n    // },\n\n    /**\n     * Converting a path to image.\n     * It has much better performance of drawing image rather than drawing a vector path.\n     * @param {module:zrender/graphic/Path} e\n     * @param {number} width\n     * @param {number} height\n     */\n    pathToImage: function (e, dpr) {\n      return this.painter.pathToImage(e, dpr);\n    },\n\n    /**\n     * Set default cursor\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n      this.handler.setCursorStyle(cursorStyle);\n    },\n\n    /**\n     * Find hovered element\n     * @param {number} x\n     * @param {number} y\n     * @return {Object} {target, topTarget}\n     */\n    findHover: function (x, y) {\n      return this.handler.findHover(x, y);\n    },\n\n    /**\n     * Bind event\n     *\n     * @param {string} eventName Event name\n     * @param {Function} eventHandler Handler function\n     * @param {Object} [context] Context object\n     */\n    on: function (eventName, eventHandler, context) {\n      this.handler.on(eventName, eventHandler, context);\n    },\n\n    /**\n     * Unbind event\n     * @param {string} eventName Event name\n     * @param {Function} [eventHandler] Handler function\n     */\n    off: function (eventName, eventHandler) {\n      this.handler.off(eventName, eventHandler);\n    },\n\n    /**\n     * Trigger event manually\n     *\n     * @param {string} eventName Event name\n     * @param {event=} event Event object\n     */\n    trigger: function (eventName, event) {\n      this.handler.trigger(eventName, event);\n    },\n\n    /**\n     * Clear all objects and the canvas.\n     */\n    clear: function () {\n      this.storage.delRoot();\n      this.painter.clear();\n    },\n\n    /**\n     * Dispose self.\n     */\n    dispose: function () {\n      this.animation.stop();\n      this.clear();\n      this.storage.dispose();\n      this.painter.dispose();\n      this.handler.dispose();\n      this.animation = this.storage = this.painter = this.handler = null;\n      delInstance(this.id);\n    }\n  };\n  var version_1 = version$1;\n  var init_1 = init;\n  var dispose_1 = dispose;\n  var getInstance_1 = getInstance;\n  var registerPainter_1 = registerPainter;\n\n  var zrender = {\n  \tversion: version_1,\n  \tinit: init_1,\n  \tdispose: dispose_1,\n  \tgetInstance: getInstance_1,\n  \tregisterPainter: registerPainter_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$2 = util.each;\n  var isObject$5 = util.isObject;\n  var isArray$3 = util.isArray;\n  /**\n   * Make the name displayable. But we should\n   * make sure it is not duplicated with user\n   * specified name, so use '\\0';\n   */\n\n  var DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\n  /**\n   * If value is not array, then translate it to array.\n   * @param  {*} value\n   * @return {Array} [value] or value\n   */\n\n  function normalizeToArray(value) {\n    return value instanceof Array ? value : value == null ? [] : [value];\n  }\n  /**\n   * Sync default option between normal and emphasis like `position` and `show`\n   * In case some one will write code like\n   *     label: {\n   *          show: false,\n   *          position: 'outside',\n   *          fontSize: 18\n   *     },\n   *     emphasis: {\n   *          label: { show: true }\n   *     }\n   * @param {Object} opt\n   * @param {string} key\n   * @param {Array.<string>} subOpts\n   */\n\n\n  function defaultEmphasis(opt, key, subOpts) {\n    // Caution: performance sensitive.\n    if (opt) {\n      opt[key] = opt[key] || {};\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[key] = opt.emphasis[key] || {}; // Default emphasis option from normal\n\n      for (var i = 0, len = subOpts.length; i < len; i++) {\n        var subOptName = subOpts[i];\n\n        if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n          opt.emphasis[key][subOptName] = opt[key][subOptName];\n        }\n      }\n    }\n  }\n\n  var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n  //     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n  //     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n  //     // FIXME: deprecated, check and remove it.\n  //     'textStyle'\n  // ]);\n\n  /**\n   * The method do not ensure performance.\n   * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n   * This helper method retieves value from data.\n   * @param {string|number|Date|Array|Object} dataItem\n   * @return {number|string|Date|Array.<number|string|Date>}\n   */\n\n  function getDataItemValue(dataItem) {\n    return isObject$5(dataItem) && !isArray$3(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n  }\n  /**\n   * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n   * This helper method determine if dataItem has extra option besides value\n   * @param {string|number|Date|Array|Object} dataItem\n   */\n\n\n  function isDataItemOption(dataItem) {\n    return isObject$5(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n    // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n  }\n  /**\n   * Mapping to exists for merge.\n   *\n   * @public\n   * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n   * @param {Object|Array.<Object>} newCptOptions\n   * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n   *                          index of which is the same as exists.\n   */\n\n\n  function mappingToExists(exists, newCptOptions) {\n    // Mapping by the order by original option (but not order of\n    // new option) in merge mode. Because we should ensure\n    // some specified index (like xAxisIndex) is consistent with\n    // original option, which is easy to understand, espatially in\n    // media query. And in most case, merge option is used to\n    // update partial option but not be expected to change order.\n    newCptOptions = (newCptOptions || []).slice();\n    var result = util.map(exists || [], function (obj, index) {\n      return {\n        exist: obj\n      };\n    }); // Mapping by id or name if specified.\n\n    each$2(newCptOptions, function (cptOption, index) {\n      if (!isObject$5(cptOption)) {\n        return;\n      } // id has highest priority.\n\n\n      for (var i = 0; i < result.length; i++) {\n        if (!result[i].option // Consider name: two map to one.\n        && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n          result[i].option = cptOption;\n          newCptOptions[index] = null;\n          return;\n        }\n      }\n\n      for (var i = 0; i < result.length; i++) {\n        var exist = result[i].exist;\n\n        if (!result[i].option // Consider name: two map to one.\n        // Can not match when both ids exist but different.\n        && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n          result[i].option = cptOption;\n          newCptOptions[index] = null;\n          return;\n        }\n      }\n    }); // Otherwise mapping by index.\n\n    each$2(newCptOptions, function (cptOption, index) {\n      if (!isObject$5(cptOption)) {\n        return;\n      }\n\n      var i = 0;\n\n      for (; i < result.length; i++) {\n        var exist = result[i].exist;\n\n        if (!result[i].option // Existing model that already has id should be able to\n        // mapped to (because after mapping performed model may\n        // be assigned with a id, whish should not affect next\n        // mapping), except those has inner id.\n        && !isIdInner(exist) // Caution:\n        // Do not overwrite id. But name can be overwritten,\n        // because axis use name as 'show label text'.\n        // 'exist' always has id and name and we dont\n        // need to check it.\n        && cptOption.id == null) {\n          result[i].option = cptOption;\n          break;\n        }\n      }\n\n      if (i >= result.length) {\n        result.push({\n          option: cptOption\n        });\n      }\n    });\n    return result;\n  }\n  /**\n   * Make id and name for mapping result (result of mappingToExists)\n   * into `keyInfo` field.\n   *\n   * @public\n   * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n   *                          which order is the same as exists.\n   * @return {Array.<Object>} The input.\n   */\n\n\n  function makeIdAndName(mapResult) {\n    // We use this id to hash component models and view instances\n    // in echarts. id can be specified by user, or auto generated.\n    // The id generation rule ensures new view instance are able\n    // to mapped to old instance when setOption are called in\n    // no-merge mode. So we generate model id by name and plus\n    // type in view id.\n    // name can be duplicated among components, which is convenient\n    // to specify multi components (like series) by one name.\n    // Ensure that each id is distinct.\n    var idMap = util.createHashMap();\n    each$2(mapResult, function (item, index) {\n      var existCpt = item.exist;\n      existCpt && idMap.set(existCpt.id, item);\n    });\n    each$2(mapResult, function (item, index) {\n      var opt = item.option;\n      util.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n      opt && opt.id != null && idMap.set(opt.id, item);\n      !item.keyInfo && (item.keyInfo = {});\n    }); // Make name and id.\n\n    each$2(mapResult, function (item, index) {\n      var existCpt = item.exist;\n      var opt = item.option;\n      var keyInfo = item.keyInfo;\n\n      if (!isObject$5(opt)) {\n        return;\n      } // name can be overwitten. Consider case: axis.name = '20km'.\n      // But id generated by name will not be changed, which affect\n      // only in that case: setOption with 'not merge mode' and view\n      // instance will be recreated, which can be accepted.\n\n\n      keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name // Avoid diffferent series has the same name,\n      // because name may be used like in color pallet.\n      : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n      if (existCpt) {\n        keyInfo.id = existCpt.id;\n      } else if (opt.id != null) {\n        keyInfo.id = opt.id + '';\n      } else {\n        // Consider this situatoin:\n        //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n        //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n        // Series with the same name between optionA and optionB\n        // should be mapped.\n        var idNum = 0;\n\n        do {\n          keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n        } while (idMap.get(keyInfo.id));\n      }\n\n      idMap.set(keyInfo.id, item);\n    });\n  }\n\n  function isNameSpecified(componentModel) {\n    var name = componentModel.name; // Is specified when `indexOf` get -1 or > 0.\n\n    return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n  }\n  /**\n   * @public\n   * @param {Object} cptOption\n   * @return {boolean}\n   */\n\n\n  function isIdInner(cptOption) {\n    return isObject$5(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n  }\n  /**\n   * A helper for removing duplicate items between batchA and batchB,\n   * and in themselves, and categorize by series.\n   *\n   * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n   * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n   * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n   */\n\n\n  function compressBatches(batchA, batchB) {\n    var mapA = {};\n    var mapB = {};\n    makeMap(batchA || [], mapA);\n    makeMap(batchB || [], mapB, mapA);\n    return [mapToArray(mapA), mapToArray(mapB)];\n\n    function makeMap(sourceBatch, map, otherMap) {\n      for (var i = 0, len = sourceBatch.length; i < len; i++) {\n        var seriesId = sourceBatch[i].seriesId;\n        var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n        var otherDataIndices = otherMap && otherMap[seriesId];\n\n        for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n          var dataIndex = dataIndices[j];\n\n          if (otherDataIndices && otherDataIndices[dataIndex]) {\n            otherDataIndices[dataIndex] = null;\n          } else {\n            (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n          }\n        }\n      }\n    }\n\n    function mapToArray(map, isData) {\n      var result = [];\n\n      for (var i in map) {\n        if (map.hasOwnProperty(i) && map[i] != null) {\n          if (isData) {\n            result.push(+i);\n          } else {\n            var dataIndices = mapToArray(map[i], true);\n            dataIndices.length && result.push({\n              seriesId: i,\n              dataIndex: dataIndices\n            });\n          }\n        }\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n   *                         each of which can be Array or primary type.\n   * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n   */\n\n\n  function queryDataIndex(data, payload) {\n    if (payload.dataIndexInside != null) {\n      return payload.dataIndexInside;\n    } else if (payload.dataIndex != null) {\n      return util.isArray(payload.dataIndex) ? util.map(payload.dataIndex, function (value) {\n        return data.indexOfRawIndex(value);\n      }) : data.indexOfRawIndex(payload.dataIndex);\n    } else if (payload.name != null) {\n      return util.isArray(payload.name) ? util.map(payload.name, function (value) {\n        return data.indexOfName(value);\n      }) : data.indexOfName(payload.name);\n    }\n  }\n  /**\n   * Enable property storage to any host object.\n   * Notice: Serialization is not supported.\n   *\n   * For example:\n   * var inner = zrUitl.makeInner();\n   *\n   * function some1(hostObj) {\n   *      inner(hostObj).someProperty = 1212;\n   *      ...\n   * }\n   * function some2() {\n   *      var fields = inner(this);\n   *      fields.someProperty1 = 1212;\n   *      fields.someProperty2 = 'xx';\n   *      ...\n   * }\n   *\n   * @return {Function}\n   */\n\n\n  function makeInner() {\n    // Consider different scope by es module import.\n    var key = '__\\0ec_inner_' + innerUniqueIndex++ + '_' + Math.random().toFixed(5);\n    return function (hostObj) {\n      return hostObj[key] || (hostObj[key] = {});\n    };\n  }\n\n  var innerUniqueIndex = 0;\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex, seriesId, seriesName,\n   *            geoIndex, geoId, geoName,\n   *            bmapIndex, bmapId, bmapName,\n   *            xAxisIndex, xAxisId, xAxisName,\n   *            yAxisIndex, yAxisId, yAxisName,\n   *            gridIndex, gridId, gridName,\n   *            ... (can be extended)\n   *        }\n   *        Each properties can be number|string|Array.<number>|Array.<string>\n   *        For example, a finder could be\n   *        {\n   *            seriesIndex: 3,\n   *            geoId: ['aa', 'cc'],\n   *            gridName: ['xx', 'rr']\n   *        }\n   *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n   *        If nothing or null/undefined specified, return nothing.\n   * @param {Object} [opt]\n   * @param {string} [opt.defaultMainType]\n   * @param {Array.<string>} [opt.includeMainTypes]\n   * @return {Object} result like:\n   *        {\n   *            seriesModels: [seriesModel1, seriesModel2],\n   *            seriesModel: seriesModel1, // The first model\n   *            geoModels: [geoModel1, geoModel2],\n   *            geoModel: geoModel1, // The first model\n   *            ...\n   *        }\n   */\n\n  function parseFinder(ecModel, finder, opt) {\n    if (util.isString(finder)) {\n      var obj = {};\n      obj[finder + 'Index'] = 0;\n      finder = obj;\n    }\n\n    var defaultMainType = opt && opt.defaultMainType;\n\n    if (defaultMainType && !has$2(finder, defaultMainType + 'Index') && !has$2(finder, defaultMainType + 'Id') && !has$2(finder, defaultMainType + 'Name')) {\n      finder[defaultMainType + 'Index'] = 0;\n    }\n\n    var result = {};\n    each$2(finder, function (value, key) {\n      var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n      if (key === 'dataIndex' || key === 'dataIndexInside') {\n        result[key] = value;\n        return;\n      }\n\n      var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n      var mainType = parsedKey[1];\n      var queryType = (parsedKey[2] || '').toLowerCase();\n\n      if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && util.indexOf(opt.includeMainTypes, mainType) < 0) {\n        return;\n      }\n\n      var queryParam = {\n        mainType: mainType\n      };\n\n      if (queryType !== 'index' || value !== 'all') {\n        queryParam[queryType] = value;\n      }\n\n      var models = ecModel.queryComponents(queryParam);\n      result[mainType + 'Models'] = models;\n      result[mainType + 'Model'] = models[0];\n    });\n    return result;\n  }\n\n  function has$2(obj, prop) {\n    return obj && obj.hasOwnProperty(prop);\n  }\n\n  function setAttribute(dom, key, value) {\n    dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n  }\n\n  function getAttribute(dom, key) {\n    return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n  }\n\n  function getTooltipRenderMode(renderModeOption) {\n    if (renderModeOption === 'auto') {\n      // Using html when `document` exists, use richText otherwise\n      return env_1.domSupported ? 'html' : 'richText';\n    } else {\n      return renderModeOption || 'html';\n    }\n  }\n  /**\n   * Group a list by key.\n   *\n   * @param {Array} array\n   * @param {Function} getKey\n   *        param {*} Array item\n   *        return {string} key\n   * @return {Object} Result\n   *        {Array}: keys,\n   *        {module:zrender/core/util/HashMap} buckets: {key -> Array}\n   */\n\n\n  function groupData(array, getKey) {\n    var buckets = util.createHashMap();\n    var keys = [];\n    util.each(array, function (item) {\n      var key = getKey(item);\n      (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n    });\n    return {\n      keys: keys,\n      buckets: buckets\n    };\n  }\n\n  var normalizeToArray_1 = normalizeToArray;\n  var defaultEmphasis_1 = defaultEmphasis;\n  var TEXT_STYLE_OPTIONS_1 = TEXT_STYLE_OPTIONS;\n  var getDataItemValue_1 = getDataItemValue;\n  var isDataItemOption_1 = isDataItemOption;\n  var mappingToExists_1 = mappingToExists;\n  var makeIdAndName_1 = makeIdAndName;\n  var isNameSpecified_1 = isNameSpecified;\n  var isIdInner_1 = isIdInner;\n  var compressBatches_1 = compressBatches;\n  var queryDataIndex_1 = queryDataIndex;\n  var makeInner_1 = makeInner;\n  var parseFinder_1 = parseFinder;\n  var setAttribute_1 = setAttribute;\n  var getAttribute_1 = getAttribute;\n  var getTooltipRenderMode_1 = getTooltipRenderMode;\n  var groupData_1 = groupData;\n\n  var model = {\n  \tnormalizeToArray: normalizeToArray_1,\n  \tdefaultEmphasis: defaultEmphasis_1,\n  \tTEXT_STYLE_OPTIONS: TEXT_STYLE_OPTIONS_1,\n  \tgetDataItemValue: getDataItemValue_1,\n  \tisDataItemOption: isDataItemOption_1,\n  \tmappingToExists: mappingToExists_1,\n  \tmakeIdAndName: makeIdAndName_1,\n  \tisNameSpecified: isNameSpecified_1,\n  \tisIdInner: isIdInner_1,\n  \tcompressBatches: compressBatches_1,\n  \tqueryDataIndex: queryDataIndex_1,\n  \tmakeInner: makeInner_1,\n  \tparseFinder: parseFinder_1,\n  \tsetAttribute: setAttribute_1,\n  \tgetAttribute: getAttribute_1,\n  \tgetTooltipRenderMode: getTooltipRenderMode_1,\n  \tgroupData: groupData_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var TYPE_DELIMITER = '.';\n  var IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\n  /**\n   * Notice, parseClassType('') should returns {main: '', sub: ''}\n   * @public\n   */\n\n  function parseClassType(componentType) {\n    var ret = {\n      main: '',\n      sub: ''\n    };\n\n    if (componentType) {\n      componentType = componentType.split(TYPE_DELIMITER);\n      ret.main = componentType[0] || '';\n      ret.sub = componentType[1] || '';\n    }\n\n    return ret;\n  }\n  /**\n   * @public\n   */\n\n\n  function checkClassType(componentType) {\n    util.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n  }\n  /**\n   * @public\n   */\n\n\n  function enableClassExtend(RootClass, mandatoryMethods) {\n    RootClass.$constructor = RootClass;\n\n    RootClass.extend = function (proto) {\n      var superClass = this;\n\n      var ExtendedClass = function () {\n        if (!proto.$constructor) {\n          superClass.apply(this, arguments);\n        } else {\n          proto.$constructor.apply(this, arguments);\n        }\n      };\n\n      util.extend(ExtendedClass.prototype, proto);\n      ExtendedClass.extend = this.extend;\n      ExtendedClass.superCall = superCall;\n      ExtendedClass.superApply = superApply;\n      util.inherits(ExtendedClass, this);\n      ExtendedClass.superClass = superClass;\n      return ExtendedClass;\n    };\n  }\n\n  var classBase = 0;\n  /**\n   * Can not use instanceof, consider different scope by\n   * cross domain or es module import in ec extensions.\n   * Mount a method \"isInstance()\" to Clz.\n   */\n\n  function enableClassCheck(Clz) {\n    var classAttr = ['__\\0is_clz', classBase++, Math.random().toFixed(3)].join('_');\n    Clz.prototype[classAttr] = true;\n\n    Clz.isInstance = function (obj) {\n      return !!(obj && obj[classAttr]);\n    };\n  } // superCall should have class info, which can not be fetch from 'this'.\n  // Consider this case:\n  // class A has method f,\n  // class B inherits class A, overrides method f, f call superApply('f'),\n  // class C inherits class B, do not overrides method f,\n  // then when method of class C is called, dead loop occured.\n\n\n  function superCall(context, methodName) {\n    var args = util.slice(arguments, 2);\n    return this.superClass.prototype[methodName].apply(context, args);\n  }\n\n  function superApply(context, methodName, args) {\n    return this.superClass.prototype[methodName].apply(context, args);\n  }\n  /**\n   * @param {Object} entity\n   * @param {Object} options\n   * @param {boolean} [options.registerWhenExtend]\n   * @public\n   */\n\n\n  function enableClassManagement(entity, options) {\n    options = options || {};\n    /**\n     * Component model classes\n     * key: componentType,\n     * value:\n     *     componentClass, when componentType is 'xxx'\n     *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n     * @type {Object}\n     */\n\n    var storage = {};\n\n    entity.registerClass = function (Clazz, componentType) {\n      if (componentType) {\n        checkClassType(componentType);\n        componentType = parseClassType(componentType);\n\n        if (!componentType.sub) {\n          storage[componentType.main] = Clazz;\n        } else if (componentType.sub !== IS_CONTAINER) {\n          var container = makeContainer(componentType);\n          container[componentType.sub] = Clazz;\n        }\n      }\n\n      return Clazz;\n    };\n\n    entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n      var Clazz = storage[componentMainType];\n\n      if (Clazz && Clazz[IS_CONTAINER]) {\n        Clazz = subType ? Clazz[subType] : null;\n      }\n\n      if (throwWhenNotFound && !Clazz) {\n        throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n      }\n\n      return Clazz;\n    };\n\n    entity.getClassesByMainType = function (componentType) {\n      componentType = parseClassType(componentType);\n      var result = [];\n      var obj = storage[componentType.main];\n\n      if (obj && obj[IS_CONTAINER]) {\n        util.each(obj, function (o, type) {\n          type !== IS_CONTAINER && result.push(o);\n        });\n      } else {\n        result.push(obj);\n      }\n\n      return result;\n    };\n\n    entity.hasClass = function (componentType) {\n      // Just consider componentType.main.\n      componentType = parseClassType(componentType);\n      return !!storage[componentType.main];\n    };\n    /**\n     * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n     */\n\n\n    entity.getAllClassMainTypes = function () {\n      var types = [];\n      util.each(storage, function (obj, type) {\n        types.push(type);\n      });\n      return types;\n    };\n    /**\n     * If a main type is container and has sub types\n     * @param  {string}  mainType\n     * @return {boolean}\n     */\n\n\n    entity.hasSubTypes = function (componentType) {\n      componentType = parseClassType(componentType);\n      var obj = storage[componentType.main];\n      return obj && obj[IS_CONTAINER];\n    };\n\n    entity.parseClassType = parseClassType;\n\n    function makeContainer(componentType) {\n      var container = storage[componentType.main];\n\n      if (!container || !container[IS_CONTAINER]) {\n        container = storage[componentType.main] = {};\n        container[IS_CONTAINER] = true;\n      }\n\n      return container;\n    }\n\n    if (options.registerWhenExtend) {\n      var originalExtend = entity.extend;\n\n      if (originalExtend) {\n        entity.extend = function (proto) {\n          var ExtendedClass = originalExtend.call(this, proto);\n          return entity.registerClass(ExtendedClass, proto.type);\n        };\n      }\n    }\n\n    return entity;\n  }\n  /**\n   * @param {string|Array.<string>} properties\n   */\n\n\n  function setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n    // if (!zrUtil.isArray(properties)) {\n    //     properties = properties != null ? [properties] : [];\n    // }\n    // zrUtil.each(properties, function (prop) {\n    //     var value = obj[prop];\n    //     Object.defineProperty\n    //         && Object.defineProperty(obj, prop, {\n    //             value: value, writable: false\n    //         });\n    //     zrUtil.isArray(obj[prop])\n    //         && Object.freeze\n    //         && Object.freeze(obj[prop]);\n    // });\n  }\n\n  var parseClassType_1 = parseClassType;\n  var enableClassExtend_1 = enableClassExtend;\n  var enableClassCheck_1 = enableClassCheck;\n  var enableClassManagement_1 = enableClassManagement;\n  var setReadOnly_1 = setReadOnly;\n\n  var clazz = {\n  \tparseClassType: parseClassType_1,\n  \tenableClassExtend: enableClassExtend_1,\n  \tenableClassCheck: enableClassCheck_1,\n  \tenableClassManagement: enableClassManagement_1,\n  \tsetReadOnly: setReadOnly_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO Parse shadow style\n  // TODO Only shallow path support\n  function _default$s(properties) {\n    // Normalize\n    for (var i = 0; i < properties.length; i++) {\n      if (!properties[i][1]) {\n        properties[i][1] = properties[i][0];\n      }\n    }\n\n    return function (model, excludes, includes) {\n      var style = {};\n\n      for (var i = 0; i < properties.length; i++) {\n        var propName = properties[i][1];\n\n        if (excludes && util.indexOf(excludes, propName) >= 0 || includes && util.indexOf(includes, propName) < 0) {\n          continue;\n        }\n\n        var val = model.getShallow(propName);\n\n        if (val != null) {\n          style[properties[i][0]] = val;\n        }\n      }\n\n      return style;\n    };\n  }\n\n  var makeStyleMapper = _default$s;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getLineStyle = makeStyleMapper([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n  var _default$t = {\n    getLineStyle: function (excludes) {\n      var style = getLineStyle(this, excludes); // Always set lineDash whether dashed, otherwise we can not\n      // erase the previous style when assigning to el.style.\n\n      style.lineDash = this.getLineDash(style.lineWidth);\n      return style;\n    },\n    getLineDash: function (lineWidth) {\n      if (lineWidth == null) {\n        lineWidth = 1;\n      }\n\n      var lineType = this.get('type');\n      var dotSize = Math.max(lineWidth, 2);\n      var dashSize = lineWidth * 4;\n      return lineType === 'solid' || lineType == null ? // Use `false` but not `null` for the solid line here, because `null` might be\n      // ignored when assigning to `el.style`. e.g., when setting `lineStyle.type` as\n      // `'dashed'` and `emphasis.lineStyle.type` as `'solid'` in graph series, the\n      // `lineDash` gotten form the latter one is not able to erase that from the former\n      // one if using `null` here according to the emhpsis strategy in `util/graphic.js`.\n      false : lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize];\n    }\n  };\n  var lineStyle = _default$t;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getAreaStyle = makeStyleMapper([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]);\n  var _default$u = {\n    getAreaStyle: function (excludes, includes) {\n      return getAreaStyle(this, excludes, includes);\n    }\n  };\n  var areaStyle = _default$u;\n\n  var v2Create = vector.create;\n  var v2DistSquare = vector.distSquare;\n\n  /**\n   * \n   * @module zrender/core/curve\n   * @author pissang(https://www.github.com/pissang)\n   */\n  var mathPow = Math.pow;\n  var mathSqrt = Math.sqrt;\n  var EPSILON$1 = 1e-8;\n  var EPSILON_NUMERIC = 1e-4;\n  var THREE_SQRT = mathSqrt(3);\n  var ONE_THIRD = 1 / 3; // \n\n  var _v0 = v2Create();\n\n  var _v1 = v2Create();\n\n  var _v2 = v2Create();\n\n  function isAroundZero(val) {\n    return val > -EPSILON$1 && val < EPSILON$1;\n  }\n\n  function isNotAroundZero$1(val) {\n    return val > EPSILON$1 || val < -EPSILON$1;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} val\n   * @param  {Array.<number>} roots\n   * @return {number} \n   */\n\n\n  function cubicRootAt(p0, p1, p2, p3, val, roots) {\n    // Evaluate roots of cubic functions\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1 - p0);\n    var d = p0 - val;\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n    var n = 0;\n\n    if (isAroundZero(A) && isAroundZero(B)) {\n      if (isAroundZero(b)) {\n        roots[0] = 0;\n      } else {\n        var t1 = -c / b; //t1, t2, t3, b is not zero\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      }\n    } else {\n      var disc = B * B - 4 * A * C;\n\n      if (isAroundZero(disc)) {\n        var K = B / A;\n        var t1 = -b / a + K; // t1, a is not zero\n\n        var t2 = -K / 2; // t2, t3\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n        var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n        if (Y1 < 0) {\n          Y1 = -mathPow(-Y1, ONE_THIRD);\n        } else {\n          Y1 = mathPow(Y1, ONE_THIRD);\n        }\n\n        if (Y2 < 0) {\n          Y2 = -mathPow(-Y2, ONE_THIRD);\n        } else {\n          Y2 = mathPow(Y2, ONE_THIRD);\n        }\n\n        var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      } else {\n        var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n        var theta = Math.acos(T) / 3;\n        var ASqrt = mathSqrt(A);\n        var tmp = Math.cos(theta);\n        var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n        var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n        var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n\n        if (t3 >= 0 && t3 <= 1) {\n          roots[n++] = t3;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {Array.<number>} extrema\n   * @return {number} \n   */\n\n\n  function cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var n = 0;\n\n    if (isAroundZero(a)) {\n      if (isNotAroundZero$1(b)) {\n        var t1 = -c / b;\n\n        if (t1 >= 0 && t1 <= 1) {\n          extrema[n++] = t1;\n        }\n      }\n    } else {\n      var disc = b * b - 4 * a * c;\n\n      if (isAroundZero(disc)) {\n        extrema[0] = -b / (2 * a);\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var t1 = (-b + discSqrt) / (2 * a);\n        var t2 = (-b - discSqrt) / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          extrema[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          extrema[n++] = t2;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @param  {Array.<number>} out\n   */\n\n\n  function cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n    var p0123 = (p123 - p012) * t + p012; // Seg0\n\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123; // Seg1\n\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n  }\n  /**\n   * \n   * \n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @param {number} x\n   * @param {number} y\n   * @param {Array.<number>} [out] \n   * @return {number}\n   */\n\n\n  function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n    _v0[0] = x;\n    _v0[1] = y; //  t \n    // PENDING\n\n    for (var _t = 0; _t < 1; _t += 0.05) {\n      _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n      _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n      d1 = v2DistSquare(_v0, _v1);\n\n      if (d1 < d) {\n        t = _t;\n        d = d1;\n      }\n    }\n\n    d = Infinity; // At most 32 iteration\n\n    for (var i = 0; i < 32; i++) {\n      if (interval < EPSILON_NUMERIC) {\n        break;\n      }\n\n      prev = t - interval;\n      next = t + interval; // t - interval\n\n      _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n      _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n      d1 = v2DistSquare(_v1, _v0);\n\n      if (prev >= 0 && d1 < d) {\n        t = prev;\n        d = d1;\n      } else {\n        // t + interval\n        _v2[0] = cubicAt(x0, x1, x2, x3, next);\n        _v2[1] = cubicAt(y0, y1, y2, y3, next);\n        d2 = v2DistSquare(_v2, _v0);\n\n        if (next <= 1 && d2 < d) {\n          t = next;\n          d = d2;\n        } else {\n          interval *= 0.5;\n        }\n      }\n    } // t\n\n\n    if (out) {\n      out[0] = cubicAt(x0, x1, x2, x3, t);\n      out[1] = cubicAt(y0, y1, y2, y3, t);\n    } // console.log(interval, i);\n\n\n    return mathSqrt(d);\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @param  {Array.<number>} roots\n   * @return {number} \n   */\n\n\n  function quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n    var n = 0;\n\n    if (isAroundZero(a)) {\n      if (isNotAroundZero$1(b)) {\n        var t1 = -c / b;\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      }\n    } else {\n      var disc = b * b - 4 * a * c;\n\n      if (isAroundZero(disc)) {\n        var t1 = -b / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var t1 = (-b + discSqrt) / (2 * a);\n        var t2 = (-b - discSqrt) / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @return {number}\n   */\n\n\n  function quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n\n    if (divider === 0) {\n      // p1 is center of p0 and p2\n      return 0.5;\n    } else {\n      return (p0 - p1) / divider;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @param  {Array.<number>} out\n   */\n\n\n  function quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01; // Seg0\n\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012; // Seg1\n\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n  }\n  /**\n   * \n   * \n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x\n   * @param {number} y\n   * @param {Array.<number>} out \n   * @return {number}\n   */\n\n\n  function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    _v0[0] = x;\n    _v0[1] = y; //  t \n    // PENDING\n\n    for (var _t = 0; _t < 1; _t += 0.05) {\n      _v1[0] = quadraticAt(x0, x1, x2, _t);\n      _v1[1] = quadraticAt(y0, y1, y2, _t);\n      var d1 = v2DistSquare(_v0, _v1);\n\n      if (d1 < d) {\n        t = _t;\n        d = d1;\n      }\n    }\n\n    d = Infinity; // At most 32 iteration\n\n    for (var i = 0; i < 32; i++) {\n      if (interval < EPSILON_NUMERIC) {\n        break;\n      }\n\n      var prev = t - interval;\n      var next = t + interval; // t - interval\n\n      _v1[0] = quadraticAt(x0, x1, x2, prev);\n      _v1[1] = quadraticAt(y0, y1, y2, prev);\n      var d1 = v2DistSquare(_v1, _v0);\n\n      if (prev >= 0 && d1 < d) {\n        t = prev;\n        d = d1;\n      } else {\n        // t + interval\n        _v2[0] = quadraticAt(x0, x1, x2, next);\n        _v2[1] = quadraticAt(y0, y1, y2, next);\n        var d2 = v2DistSquare(_v2, _v0);\n\n        if (next <= 1 && d2 < d) {\n          t = next;\n          d = d2;\n        } else {\n          interval *= 0.5;\n        }\n      }\n    } // t\n\n\n    if (out) {\n      out[0] = quadraticAt(x0, x1, x2, t);\n      out[1] = quadraticAt(y0, y1, y2, t);\n    } // console.log(interval, i);\n\n\n    return mathSqrt(d);\n  }\n\n  var cubicAt_1 = cubicAt;\n  var cubicDerivativeAt_1 = cubicDerivativeAt;\n  var cubicRootAt_1 = cubicRootAt;\n  var cubicExtrema_1 = cubicExtrema;\n  var cubicSubdivide_1 = cubicSubdivide;\n  var cubicProjectPoint_1 = cubicProjectPoint;\n  var quadraticAt_1 = quadraticAt;\n  var quadraticDerivativeAt_1 = quadraticDerivativeAt;\n  var quadraticRootAt_1 = quadraticRootAt;\n  var quadraticExtremum_1 = quadraticExtremum;\n  var quadraticSubdivide_1 = quadraticSubdivide;\n  var quadraticProjectPoint_1 = quadraticProjectPoint;\n\n  var curve = {\n  \tcubicAt: cubicAt_1,\n  \tcubicDerivativeAt: cubicDerivativeAt_1,\n  \tcubicRootAt: cubicRootAt_1,\n  \tcubicExtrema: cubicExtrema_1,\n  \tcubicSubdivide: cubicSubdivide_1,\n  \tcubicProjectPoint: cubicProjectPoint_1,\n  \tquadraticAt: quadraticAt_1,\n  \tquadraticDerivativeAt: quadraticDerivativeAt_1,\n  \tquadraticRootAt: quadraticRootAt_1,\n  \tquadraticExtremum: quadraticExtremum_1,\n  \tquadraticSubdivide: quadraticSubdivide_1,\n  \tquadraticProjectPoint: quadraticProjectPoint_1\n  };\n\n  /**\n   * @author Yi Shen(https://github.com/pissang)\n   */\n  var mathMin$1 = Math.min;\n  var mathMax$1 = Math.max;\n  var mathSin = Math.sin;\n  var mathCos = Math.cos;\n  var PI2 = Math.PI * 2;\n  var start = vector.create();\n  var end = vector.create();\n  var extremity = vector.create();\n  /**\n   * `min``max`\n   * @module zrender/core/bbox\n   * @param {Array<Object>} points \n   * @param {number} min\n   * @param {number} max\n   */\n\n  function fromPoints(points, min, max) {\n    if (points.length === 0) {\n      return;\n    }\n\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    var i;\n\n    for (i = 1; i < points.length; i++) {\n      p = points[i];\n      left = mathMin$1(left, p[0]);\n      right = mathMax$1(right, p[0]);\n      top = mathMin$1(top, p[1]);\n      bottom = mathMax$1(bottom, p[1]);\n    }\n\n    min[0] = left;\n    min[1] = top;\n    max[0] = right;\n    max[1] = bottom;\n  }\n  /**\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromLine(x0, y0, x1, y1, min, max) {\n    min[0] = mathMin$1(x0, x1);\n    min[1] = mathMin$1(y0, y1);\n    max[0] = mathMax$1(x0, x1);\n    max[1] = mathMax$1(y0, y1);\n  }\n\n  var xDim = [];\n  var yDim = [];\n  /**\n   * (p0, p1, p2, p3)`min``max`\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n  function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n    var cubicExtrema = curve.cubicExtrema;\n    var cubicAt = curve.cubicAt;\n    var i;\n    var n = cubicExtrema(x0, x1, x2, x3, xDim);\n    min[0] = Infinity;\n    min[1] = Infinity;\n    max[0] = -Infinity;\n    max[1] = -Infinity;\n\n    for (i = 0; i < n; i++) {\n      var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n      min[0] = mathMin$1(x, min[0]);\n      max[0] = mathMax$1(x, max[0]);\n    }\n\n    n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n    for (i = 0; i < n; i++) {\n      var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n      min[1] = mathMin$1(y, min[1]);\n      max[1] = mathMax$1(y, max[1]);\n    }\n\n    min[0] = mathMin$1(x0, min[0]);\n    max[0] = mathMax$1(x0, max[0]);\n    min[0] = mathMin$1(x3, min[0]);\n    max[0] = mathMax$1(x3, max[0]);\n    min[1] = mathMin$1(y0, min[1]);\n    max[1] = mathMax$1(y0, max[1]);\n    min[1] = mathMin$1(y3, min[1]);\n    max[1] = mathMax$1(y3, max[1]);\n  }\n  /**\n   * (p0, p1, p2)`min``max`\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n    var quadraticExtremum = curve.quadraticExtremum;\n    var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n    var tx = mathMax$1(mathMin$1(quadraticExtremum(x0, x1, x2), 1), 0);\n    var ty = mathMax$1(mathMin$1(quadraticExtremum(y0, y1, y2), 1), 0);\n    var x = quadraticAt(x0, x1, x2, tx);\n    var y = quadraticAt(y0, y1, y2, ty);\n    min[0] = mathMin$1(x0, x2, x);\n    min[1] = mathMin$1(y0, y2, y);\n    max[0] = mathMax$1(x0, x2, x);\n    max[1] = mathMax$1(y0, y2, y);\n  }\n  /**\n   * `min``max`\n   * @method\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x\n   * @param {number} y\n   * @param {number} rx\n   * @param {number} ry\n   * @param {number} startAngle\n   * @param {number} endAngle\n   * @param {number} anticlockwise\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n    var vec2Min = vector.min;\n    var vec2Max = vector.max;\n    var diff = Math.abs(startAngle - endAngle);\n\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n      // Is a circle\n      min[0] = x - rx;\n      min[1] = y - ry;\n      max[0] = x + rx;\n      max[1] = y + ry;\n      return;\n    }\n\n    start[0] = mathCos(startAngle) * rx + x;\n    start[1] = mathSin(startAngle) * ry + y;\n    end[0] = mathCos(endAngle) * rx + x;\n    end[1] = mathSin(endAngle) * ry + y;\n    vec2Min(min, start, end);\n    vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n    startAngle = startAngle % PI2;\n\n    if (startAngle < 0) {\n      startAngle = startAngle + PI2;\n    }\n\n    endAngle = endAngle % PI2;\n\n    if (endAngle < 0) {\n      endAngle = endAngle + PI2;\n    }\n\n    if (startAngle > endAngle && !anticlockwise) {\n      endAngle += PI2;\n    } else if (startAngle < endAngle && anticlockwise) {\n      startAngle += PI2;\n    }\n\n    if (anticlockwise) {\n      var tmp = endAngle;\n      endAngle = startAngle;\n      startAngle = tmp;\n    } // var number = 0;\n    // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n      if (angle > startAngle) {\n        extremity[0] = mathCos(angle) * rx + x;\n        extremity[1] = mathSin(angle) * ry + y;\n        vec2Min(min, extremity, min);\n        vec2Max(max, extremity, max);\n      }\n    }\n  }\n\n  var fromPoints_1 = fromPoints;\n  var fromLine_1 = fromLine;\n  var fromCubic_1 = fromCubic;\n  var fromQuadratic_1 = fromQuadratic;\n  var fromArc_1 = fromArc;\n\n  var bbox = {\n  \tfromPoints: fromPoints_1,\n  \tfromLine: fromLine_1,\n  \tfromCubic: fromCubic_1,\n  \tfromQuadratic: fromQuadratic_1,\n  \tfromArc: fromArc_1\n  };\n\n  var dpr$1 = config.devicePixelRatio;\n\n  /**\n   * Path `buildPath``ctx`, pathpathCommands\n   *  isInsidePath boundingRect\n   *\n   * @module zrender/core/PathProxy\n   * @author Yi Shen (http://www.github.com/pissang)\n   */\n  // TODO getTotalLength, getPointAtLength\n\n  /* global Float32Array */\n  var CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    // Rect\n    R: 7\n  }; // var CMD_MEM_SIZE = {\n  //     M: 3,\n  //     L: 3,\n  //     C: 7,\n  //     Q: 5,\n  //     A: 9,\n  //     R: 5,\n  //     Z: 1\n  // };\n\n  var min$6 = [];\n  var max$5 = [];\n  var min2 = [];\n  var max2 = [];\n  var mathMin$2 = Math.min;\n  var mathMax$2 = Math.max;\n  var mathCos$1 = Math.cos;\n  var mathSin$1 = Math.sin;\n  var mathSqrt$1 = Math.sqrt;\n  var mathAbs = Math.abs;\n  var hasTypedArray = typeof Float32Array !== 'undefined';\n  /**\n   * @alias module:zrender/core/PathProxy\n   * @constructor\n   */\n\n  var PathProxy = function (notSaveData) {\n    this._saveData = !(notSaveData || false);\n\n    if (this._saveData) {\n      /**\n       * Path data. Stored as flat array\n       * @type {Array.<Object>}\n       */\n      this.data = [];\n    }\n\n    this._ctx = null;\n  };\n  /**\n   * Path\n   * @return {Object}\n   */\n\n\n  PathProxy.prototype = {\n    constructor: PathProxy,\n    _xi: 0,\n    _yi: 0,\n    _x0: 0,\n    _y0: 0,\n    // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n    _ux: 0,\n    _uy: 0,\n    _len: 0,\n    _lineDash: null,\n    _dashOffset: 0,\n    _dashIdx: 0,\n    _dashSum: 0,\n\n    /**\n     * @readOnly\n     */\n    setScale: function (sx, sy, segmentIgnoreThreshold) {\n      // Compat. Previously there is no segmentIgnoreThreshold.\n      segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n      this._ux = mathAbs(segmentIgnoreThreshold / dpr$1 / sx) || 0;\n      this._uy = mathAbs(segmentIgnoreThreshold / dpr$1 / sy) || 0;\n    },\n    getContext: function () {\n      return this._ctx;\n    },\n\n    /**\n     * @param  {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    beginPath: function (ctx) {\n      this._ctx = ctx;\n      ctx && ctx.beginPath();\n      ctx && (this.dpr = ctx.dpr); // Reset\n\n      if (this._saveData) {\n        this._len = 0;\n      }\n\n      if (this._lineDash) {\n        this._lineDash = null;\n        this._dashOffset = 0;\n      }\n\n      return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    moveTo: function (x, y) {\n      this.addData(CMD.M, x, y);\n      this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi  _dashedXXXXTo \n      // xi, yi , x0, y0  closePath \n      //  beginPath  lineTo x0, y0 \n      //  lineTo dashed line  IE10- \n\n      this._x0 = x;\n      this._y0 = y;\n      this._xi = x;\n      this._yi = y;\n      return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    lineTo: function (x, y) {\n      var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n      || this._len < 5;\n      this.addData(CMD.L, x, y);\n\n      if (this._ctx && exceedUnit) {\n        this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n      }\n\n      if (exceedUnit) {\n        this._xi = x;\n        this._yi = y;\n      }\n\n      return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @param  {number} x3\n     * @param  {number} y3\n     * @return {module:zrender/core/PathProxy}\n     */\n    bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n      this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n      if (this._ctx) {\n        this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n      }\n\n      this._xi = x3;\n      this._yi = y3;\n      return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @return {module:zrender/core/PathProxy}\n     */\n    quadraticCurveTo: function (x1, y1, x2, y2) {\n      this.addData(CMD.Q, x1, y1, x2, y2);\n\n      if (this._ctx) {\n        this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n      }\n\n      this._xi = x2;\n      this._yi = y2;\n      return this;\n    },\n\n    /**\n     * @param  {number} cx\n     * @param  {number} cy\n     * @param  {number} r\n     * @param  {number} startAngle\n     * @param  {number} endAngle\n     * @param  {boolean} anticlockwise\n     * @return {module:zrender/core/PathProxy}\n     */\n    arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n      this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n      this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n      this._xi = mathCos$1(endAngle) * r + cx;\n      this._yi = mathSin$1(endAngle) * r + cy;\n      return this;\n    },\n    // TODO\n    arcTo: function (x1, y1, x2, y2, radius) {\n      if (this._ctx) {\n        this._ctx.arcTo(x1, y1, x2, y2, radius);\n      }\n\n      return this;\n    },\n    // TODO\n    rect: function (x, y, w, h) {\n      this._ctx && this._ctx.rect(x, y, w, h);\n      this.addData(CMD.R, x, y, w, h);\n      return this;\n    },\n\n    /**\n     * @return {module:zrender/core/PathProxy}\n     */\n    closePath: function () {\n      this.addData(CMD.Z);\n      var ctx = this._ctx;\n      var x0 = this._x0;\n      var y0 = this._y0;\n\n      if (ctx) {\n        this._needsDash() && this._dashedLineTo(x0, y0);\n        ctx.closePath();\n      }\n\n      this._xi = x0;\n      this._yi = y0;\n      return this;\n    },\n\n    /**\n     * Context  rebuildPath  fill\n     * stroke \n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    fill: function (ctx) {\n      ctx && ctx.fill();\n      this.toStatic();\n    },\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    stroke: function (ctx) {\n      ctx && ctx.stroke();\n      this.toStatic();\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDash: function (lineDash) {\n      if (lineDash instanceof Array) {\n        this._lineDash = lineDash;\n        this._dashIdx = 0;\n        var lineDashSum = 0;\n\n        for (var i = 0; i < lineDash.length; i++) {\n          lineDashSum += lineDash[i];\n        }\n\n        this._dashSum = lineDashSum;\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDashOffset: function (offset) {\n      this._dashOffset = offset;\n      return this;\n    },\n\n    /**\n     *\n     * @return {boolean}\n     */\n    len: function () {\n      return this._len;\n    },\n\n    /**\n     *  Path \n     */\n    setData: function (data) {\n      var len = data.length;\n\n      if (!(this.data && this.data.length === len) && hasTypedArray) {\n        this.data = new Float32Array(len);\n      }\n\n      for (var i = 0; i < len; i++) {\n        this.data[i] = data[i];\n      }\n\n      this._len = len;\n    },\n\n    /**\n     * \n     * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n     */\n    appendPath: function (path) {\n      if (!(path instanceof Array)) {\n        path = [path];\n      }\n\n      var len = path.length;\n      var appendSize = 0;\n      var offset = this._len;\n\n      for (var i = 0; i < len; i++) {\n        appendSize += path[i].len();\n      }\n\n      if (hasTypedArray && this.data instanceof Float32Array) {\n        this.data = new Float32Array(offset + appendSize);\n      }\n\n      for (var i = 0; i < len; i++) {\n        var appendPathData = path[i].data;\n\n        for (var k = 0; k < appendPathData.length; k++) {\n          this.data[offset++] = appendPathData[k];\n        }\n      }\n\n      this._len = offset;\n    },\n\n    /**\n     *  Path \n     * \n     */\n    addData: function (cmd) {\n      if (!this._saveData) {\n        return;\n      }\n\n      var data = this.data;\n\n      if (this._len + arguments.length > data.length) {\n        //  Float32Array\n        // \n        this._expandData();\n\n        data = this.data;\n      }\n\n      for (var i = 0; i < arguments.length; i++) {\n        data[this._len++] = arguments[i];\n      }\n\n      this._prevCmd = cmd;\n    },\n    _expandData: function () {\n      // Only if data is Float32Array\n      if (!(this.data instanceof Array)) {\n        var newData = [];\n\n        for (var i = 0; i < this._len; i++) {\n          newData[i] = this.data[i];\n        }\n\n        this.data = newData;\n      }\n    },\n\n    /**\n     * If needs js implemented dashed line\n     * @return {boolean}\n     * @private\n     */\n    _needsDash: function () {\n      return this._lineDash;\n    },\n    _dashedLineTo: function (x1, y1) {\n      var dashSum = this._dashSum;\n      var offset = this._dashOffset;\n      var lineDash = this._lineDash;\n      var ctx = this._ctx;\n      var x0 = this._xi;\n      var y0 = this._yi;\n      var dx = x1 - x0;\n      var dy = y1 - y0;\n      var dist = mathSqrt$1(dx * dx + dy * dy);\n      var x = x0;\n      var y = y0;\n      var dash;\n      var nDash = lineDash.length;\n      var idx;\n      dx /= dist;\n      dy /= dist;\n\n      if (offset < 0) {\n        // Convert to positive offset\n        offset = dashSum + offset;\n      }\n\n      offset %= dashSum;\n      x -= offset * dx;\n      y -= offset * dy;\n\n      while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx === 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n        idx = this._dashIdx;\n        dash = lineDash[idx];\n        x += dx * dash;\n        y += dy * dash;\n        this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n        if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n          continue;\n        }\n\n        ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin$2(x, x1) : mathMax$2(x, x1), dy >= 0 ? mathMin$2(y, y1) : mathMax$2(y, y1));\n      } // Offset for next lineTo\n\n\n      dx = x - x1;\n      dy = y - y1;\n      this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n    // Not accurate dashed line to\n    _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n      var dashSum = this._dashSum;\n      var offset = this._dashOffset;\n      var lineDash = this._lineDash;\n      var ctx = this._ctx;\n      var x0 = this._xi;\n      var y0 = this._yi;\n      var t;\n      var dx;\n      var dy;\n      var cubicAt = curve.cubicAt;\n      var bezierLen = 0;\n      var idx = this._dashIdx;\n      var nDash = lineDash.length;\n      var x;\n      var y;\n      var tmpLen = 0;\n\n      if (offset < 0) {\n        // Convert to positive offset\n        offset = dashSum + offset;\n      }\n\n      offset %= dashSum; // Bezier approx length\n\n      for (t = 0; t < 1; t += 0.1) {\n        dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n        dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n        bezierLen += mathSqrt$1(dx * dx + dy * dy);\n      } // Find idx after add offset\n\n\n      for (; idx < nDash; idx++) {\n        tmpLen += lineDash[idx];\n\n        if (tmpLen > offset) {\n          break;\n        }\n      }\n\n      t = (tmpLen - offset) / bezierLen;\n\n      while (t <= 1) {\n        x = cubicAt(x0, x1, x2, x3, t);\n        y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n        // Bad result if dash is long\n\n        idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n        t += lineDash[idx] / bezierLen;\n        idx = (idx + 1) % nDash;\n      } // Finish the last segment and calculate the new offset\n\n\n      idx % 2 !== 0 && ctx.lineTo(x3, y3);\n      dx = x3 - x;\n      dy = y3 - y;\n      this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n    _dashedQuadraticTo: function (x1, y1, x2, y2) {\n      // Convert quadratic to cubic using degree elevation\n      var x3 = x2;\n      var y3 = y2;\n      x2 = (x2 + 2 * x1) / 3;\n      y2 = (y2 + 2 * y1) / 3;\n      x1 = (this._xi + 2 * x1) / 3;\n      y1 = (this._yi + 2 * y1) / 3;\n\n      this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n    },\n\n    /**\n     *  Float32Array \n     * Convert dynamic array to static Float32Array\n     */\n    toStatic: function () {\n      var data = this.data;\n\n      if (data instanceof Array) {\n        data.length = this._len;\n\n        if (hasTypedArray) {\n          this.data = new Float32Array(data);\n        }\n      }\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n      min$6[0] = min$6[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n      max$5[0] = max$5[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n      var data = this.data;\n      var xi = 0;\n      var yi = 0;\n      var x0 = 0;\n      var y0 = 0;\n\n      for (var i = 0; i < data.length;) {\n        var cmd = data[i++];\n\n        if (i === 1) {\n          //  L, C, Q\n          //  previous point  point\n          //\n          //  Arc \n          xi = data[i];\n          yi = data[i + 1];\n          x0 = xi;\n          y0 = yi;\n        }\n\n        switch (cmd) {\n          case CMD.M:\n            // moveTo  subpath, \n            //  closePath \n            x0 = data[i++];\n            y0 = data[i++];\n            xi = x0;\n            yi = y0;\n            min2[0] = x0;\n            min2[1] = y0;\n            max2[0] = x0;\n            max2[1] = y0;\n            break;\n\n          case CMD.L:\n            bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.C:\n            bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.Q:\n            bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.A:\n            // TODO Arc \n            var cx = data[i++];\n            var cy = data[i++];\n            var rx = data[i++];\n            var ry = data[i++];\n            var startAngle = data[i++];\n            var endAngle = data[i++] + startAngle; // TODO Arc \n\n            i += 1;\n            var anticlockwise = 1 - data[i++];\n\n            if (i === 1) {\n              //  arc \n              // \n              x0 = mathCos$1(startAngle) * rx + cx;\n              y0 = mathSin$1(startAngle) * ry + cy;\n            }\n\n            bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n            xi = mathCos$1(endAngle) * rx + cx;\n            yi = mathSin$1(endAngle) * ry + cy;\n            break;\n\n          case CMD.R:\n            x0 = xi = data[i++];\n            y0 = yi = data[i++];\n            var width = data[i++];\n            var height = data[i++]; // Use fromLine\n\n            bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n            break;\n\n          case CMD.Z:\n            xi = x0;\n            yi = y0;\n            break;\n        } // Union\n\n\n        vector.min(min$6, min$6, min2);\n        vector.max(max$5, max$5, max2);\n      } // No data\n\n\n      if (i === 0) {\n        min$6[0] = min$6[1] = max$5[0] = max$5[1] = 0;\n      }\n\n      return new BoundingRect_1(min$6[0], min$6[1], max$5[0] - min$6[0], max$5[1] - min$6[1]);\n    },\n\n    /**\n     * Rebuild path from current data\n     * Rebuild path will not consider javascript implemented line dash.\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    rebuildPath: function (ctx) {\n      var d = this.data;\n      var x0;\n      var y0;\n      var xi;\n      var yi;\n      var x;\n      var y;\n      var ux = this._ux;\n      var uy = this._uy;\n      var len = this._len;\n\n      for (var i = 0; i < len;) {\n        var cmd = d[i++];\n\n        if (i === 1) {\n          //  L, C, Q\n          //  previous point  point\n          //\n          //  Arc \n          xi = d[i];\n          yi = d[i + 1];\n          x0 = xi;\n          y0 = yi;\n        }\n\n        switch (cmd) {\n          case CMD.M:\n            x0 = xi = d[i++];\n            y0 = yi = d[i++];\n            ctx.moveTo(xi, yi);\n            break;\n\n          case CMD.L:\n            x = d[i++];\n            y = d[i++]; // Not draw too small seg between\n\n            if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n              ctx.lineTo(x, y);\n              xi = x;\n              yi = y;\n            }\n\n            break;\n\n          case CMD.C:\n            ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n            xi = d[i - 2];\n            yi = d[i - 1];\n            break;\n\n          case CMD.Q:\n            ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n            xi = d[i - 2];\n            yi = d[i - 1];\n            break;\n\n          case CMD.A:\n            var cx = d[i++];\n            var cy = d[i++];\n            var rx = d[i++];\n            var ry = d[i++];\n            var theta = d[i++];\n            var dTheta = d[i++];\n            var psi = d[i++];\n            var fs = d[i++];\n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            var isEllipse = Math.abs(rx - ry) > 1e-3;\n            var endAngle = theta + dTheta;\n\n            if (isEllipse) {\n              ctx.translate(cx, cy);\n              ctx.rotate(psi);\n              ctx.scale(scaleX, scaleY);\n              ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n              ctx.scale(1 / scaleX, 1 / scaleY);\n              ctx.rotate(-psi);\n              ctx.translate(-cx, -cy);\n            } else {\n              ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n            }\n\n            if (i === 1) {\n              //  arc \n              // \n              x0 = mathCos$1(theta) * rx + cx;\n              y0 = mathSin$1(theta) * ry + cy;\n            }\n\n            xi = mathCos$1(endAngle) * rx + cx;\n            yi = mathSin$1(endAngle) * ry + cy;\n            break;\n\n          case CMD.R:\n            x0 = xi = d[i];\n            y0 = yi = d[i + 1];\n            ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n            break;\n\n          case CMD.Z:\n            ctx.closePath();\n            xi = x0;\n            yi = y0;\n        }\n      }\n    }\n  };\n  PathProxy.CMD = CMD;\n  var _default$v = PathProxy;\n  var PathProxy_1 = _default$v;\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n      return false;\n    }\n\n    if (x0 !== x1) {\n      _a = (y0 - y1) / (x0 - x1);\n      _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n    } else {\n      return Math.abs(x - x0) <= _l / 2;\n    }\n\n    var tmp = _a * x - y + _b;\n\n    var _s = tmp * tmp / (_a * _a + 1);\n\n    return _s <= _l / 2 * _l / 2;\n  }\n\n  var containStroke_1 = containStroke;\n\n  var line = {\n  \tcontainStroke: containStroke_1\n  };\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  x2\n   * @param  {number}  y2\n   * @param  {number}  x3\n   * @param  {number}  y3\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke$1(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n      return false;\n    }\n\n    var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n    return d <= _l / 2;\n  }\n\n  var containStroke_1$1 = containStroke$1;\n\n  var cubic = {\n  \tcontainStroke: containStroke_1$1\n  };\n\n  var quadraticProjectPoint$1 = curve.quadraticProjectPoint;\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  x2\n   * @param  {number}  y2\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke$2(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n      return false;\n    }\n\n    var d = quadraticProjectPoint$1(x0, y0, x1, y1, x2, y2, x, y, null);\n    return d <= _l / 2;\n  }\n\n  var containStroke_1$2 = containStroke$2;\n\n  var quadratic = {\n  \tcontainStroke: containStroke_1$2\n  };\n\n  var PI2$1 = Math.PI * 2;\n\n  function normalizeRadian(angle) {\n    angle %= PI2$1;\n\n    if (angle < 0) {\n      angle += PI2$1;\n    }\n\n    return angle;\n  }\n\n  var normalizeRadian_1 = normalizeRadian;\n\n  var util$1 = {\n  \tnormalizeRadian: normalizeRadian_1\n  };\n\n  var normalizeRadian$1 = util$1.normalizeRadian;\n  var PI2$2 = Math.PI * 2;\n  /**\n   * \n   * @param  {number}  cx\n   * @param  {number}  cy\n   * @param  {number}  r\n   * @param  {number}  startAngle\n   * @param  {number}  endAngle\n   * @param  {boolean}  anticlockwise\n   * @param  {number} lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {Boolean}\n   */\n\n  function containStroke$3(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth;\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n\n    if (d - _l > r || d + _l < r) {\n      return false;\n    }\n\n    if (Math.abs(startAngle - endAngle) % PI2$2 < 1e-4) {\n      // Is a circle\n      return true;\n    }\n\n    if (anticlockwise) {\n      var tmp = startAngle;\n      startAngle = normalizeRadian$1(endAngle);\n      endAngle = normalizeRadian$1(tmp);\n    } else {\n      startAngle = normalizeRadian$1(startAngle);\n      endAngle = normalizeRadian$1(endAngle);\n    }\n\n    if (startAngle > endAngle) {\n      endAngle += PI2$2;\n    }\n\n    var angle = Math.atan2(y, x);\n\n    if (angle < 0) {\n      angle += PI2$2;\n    }\n\n    return angle >= startAngle && angle <= endAngle || angle + PI2$2 >= startAngle && angle + PI2$2 <= endAngle;\n  }\n\n  var containStroke_1$3 = containStroke$3;\n\n  var arc = {\n  \tcontainStroke: containStroke_1$3\n  };\n\n  function windingLine(x0, y0, x1, y1, x, y) {\n    if (y > y0 && y > y1 || y < y0 && y < y1) {\n      return 0;\n    } // Ignore horizontal line\n\n\n    if (y1 === y0) {\n      return 0;\n    }\n\n    var dir = y1 < y0 ? 1 : -1;\n    var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n    if (t === 1 || t === 0) {\n      dir = y1 < y0 ? 0.5 : -0.5;\n    }\n\n    var x_ = t * (x1 - x0) + x0; // If (x, y) on the line, considered as \"contain\".\n\n    return x_ === x ? Infinity : x_ > x ? dir : 0;\n  }\n\n  var windingLine_1 = windingLine;\n\n  var normalizeRadian$2 = util$1.normalizeRadian;\n\n\n\n\n\n  var CMD$1 = PathProxy_1.CMD;\n  var PI2$3 = Math.PI * 2;\n  var EPSILON$2 = 1e-4;\n\n  function isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON$2;\n  } // \n\n\n  var roots = [-1, -1, -1];\n  var extrema = [-1, -1];\n\n  function swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n  }\n\n  function windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    // Quick reject\n    if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n      return 0;\n    }\n\n    var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n    if (nRoots === 0) {\n      return 0;\n    } else {\n      var w = 0;\n      var nExtrema = -1;\n      var y0_;\n      var y1_;\n\n      for (var i = 0; i < nRoots; i++) {\n        var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n        var unit = t === 0 || t === 1 ? 0.5 : 1;\n        var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (nExtrema < 0) {\n          nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n          if (extrema[1] < extrema[0] && nExtrema > 1) {\n            swapExtrema();\n          }\n\n          y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n          if (nExtrema > 1) {\n            y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n          }\n        }\n\n        if (nExtrema === 2) {\n          // \n          if (t < extrema[0]) {\n            w += y0_ < y0 ? unit : -unit;\n          } else if (t < extrema[1]) {\n            w += y1_ < y0_ ? unit : -unit;\n          } else {\n            w += y3 < y1_ ? unit : -unit;\n          }\n        } else {\n          // \n          if (t < extrema[0]) {\n            w += y0_ < y0 ? unit : -unit;\n          } else {\n            w += y3 < y0_ ? unit : -unit;\n          }\n        }\n      }\n\n      return w;\n    }\n  }\n\n  function windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    // Quick reject\n    if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n      return 0;\n    }\n\n    var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n    if (nRoots === 0) {\n      return 0;\n    } else {\n      var t = curve.quadraticExtremum(y0, y1, y2);\n\n      if (t >= 0 && t <= 1) {\n        var w = 0;\n        var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n        for (var i = 0; i < nRoots; i++) {\n          // Remove one endpoint.\n          var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n          var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n          if (x_ < x) {\n            // Quick reject\n            continue;\n          }\n\n          if (roots[i] < t) {\n            w += y_ < y0 ? unit : -unit;\n          } else {\n            w += y2 < y_ ? unit : -unit;\n          }\n        }\n\n        return w;\n      } else {\n        // Remove one endpoint.\n        var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n        if (x_ < x) {\n          // Quick reject\n          return 0;\n        }\n\n        return y2 < y0 ? unit : -unit;\n      }\n    }\n  } // TODO\n  // Arc \n\n\n  function windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n    y -= cy;\n\n    if (y > r || y < -r) {\n      return 0;\n    }\n\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n    var diff = Math.abs(startAngle - endAngle);\n\n    if (diff < 1e-4) {\n      return 0;\n    }\n\n    if (diff % PI2$3 < 1e-4) {\n      // Is a circle\n      startAngle = 0;\n      endAngle = PI2$3;\n      var dir = anticlockwise ? 1 : -1;\n\n      if (x >= roots[0] + cx && x <= roots[1] + cx) {\n        return dir;\n      } else {\n        return 0;\n      }\n    }\n\n    if (anticlockwise) {\n      var tmp = startAngle;\n      startAngle = normalizeRadian$2(endAngle);\n      endAngle = normalizeRadian$2(tmp);\n    } else {\n      startAngle = normalizeRadian$2(startAngle);\n      endAngle = normalizeRadian$2(endAngle);\n    }\n\n    if (startAngle > endAngle) {\n      endAngle += PI2$3;\n    }\n\n    var w = 0;\n\n    for (var i = 0; i < 2; i++) {\n      var x_ = roots[i];\n\n      if (x_ + cx > x) {\n        var angle = Math.atan2(y, x_);\n        var dir = anticlockwise ? 1 : -1;\n\n        if (angle < 0) {\n          angle = PI2$3 + angle;\n        }\n\n        if (angle >= startAngle && angle <= endAngle || angle + PI2$3 >= startAngle && angle + PI2$3 <= endAngle) {\n          if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n            dir = -dir;\n          }\n\n          w += dir;\n        }\n      }\n    }\n\n    return w;\n  }\n\n  function containPath(data, lineWidth, isStroke, x, y) {\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++]; // Begin a new subpath\n\n      if (cmd === CMD$1.M && i > 1) {\n        // Close previous subpath\n        if (!isStroke) {\n          w += windingLine_1(xi, yi, x0, y0, x, y);\n        } //  subpath \n        // if (w !== 0) {\n        //     return true;\n        // }\n\n      }\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD$1.M:\n          // moveTo  subpath, \n          //  closePath \n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          break;\n\n        case CMD$1.L:\n          if (isStroke) {\n            if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // NOTE  L, C, Q  NaN\n            w += windingLine_1(xi, yi, data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.C:\n          if (isStroke) {\n            if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.Q:\n          if (isStroke) {\n            if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.A:\n          // TODO Arc \n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var theta = data[i++];\n          var dTheta = data[i++]; // TODO Arc \n\n          i += 1;\n          var anticlockwise = 1 - data[i++];\n          var x1 = Math.cos(theta) * rx + cx;\n          var y1 = Math.sin(theta) * ry + cy; //  arc \n\n          if (i > 1) {\n            w += windingLine_1(xi, yi, x1, y1, x, y);\n          } else {\n            // \n            x0 = x1;\n            y0 = y1;\n          } // zr scale, x\n\n\n          var _x = (x - cx) * ry / rx + cx;\n\n          if (isStroke) {\n            if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n              return true;\n            }\n          } else {\n            w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n          }\n\n          xi = Math.cos(theta + dTheta) * rx + cx;\n          yi = Math.sin(theta + dTheta) * ry + cy;\n          break;\n\n        case CMD$1.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++];\n          var x1 = x0 + width;\n          var y1 = y0 + height;\n\n          if (isStroke) {\n            if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // FIXME Clockwise ?\n            w += windingLine_1(x1, y0, x1, y1, x, y);\n            w += windingLine_1(x0, y1, x0, y0, x, y);\n          }\n\n          break;\n\n        case CMD$1.Z:\n          if (isStroke) {\n            if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // Close a subpath\n            w += windingLine_1(xi, yi, x0, y0, x, y); //  subpath \n            // FIXME subpaths may overlap\n            // if (w !== 0) {\n            //     return true;\n            // }\n          }\n\n          xi = x0;\n          yi = y0;\n          break;\n      }\n    }\n\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n      w += windingLine_1(xi, yi, x0, y0, x, y) || 0;\n    }\n\n    return w !== 0;\n  }\n\n  function contain(pathData, x, y) {\n    return containPath(pathData, 0, false, x, y);\n  }\n\n  function containStroke$4(pathData, lineWidth, x, y) {\n    return containPath(pathData, lineWidth, true, x, y);\n  }\n\n  var contain_1 = contain;\n  var containStroke_1$4 = containStroke$4;\n\n  var path$1 = {\n  \tcontain: contain_1,\n  \tcontainStroke: containStroke_1$4\n  };\n\n  var getCanvasPattern = Pattern_1.prototype.getCanvasPattern;\n  var abs = Math.abs;\n  var pathProxyForDraw = new PathProxy_1(true);\n  /**\n   * @alias module:zrender/graphic/Path\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n\n  function Path(opts) {\n    Displayable_1.call(this, opts);\n    /**\n     * @type {module:zrender/core/PathProxy}\n     * @readOnly\n     */\n\n    this.path = null;\n  }\n\n  Path.prototype = {\n    constructor: Path,\n    type: 'path',\n    __dirtyPath: true,\n    strokeContainThreshold: 5,\n    // This item default to be false. But in map series in echarts,\n    // in order to improve performance, it should be set to true,\n    // so the shorty segment won't draw.\n    segmentIgnoreThreshold: 0,\n\n    /**\n     * See `module:zrender/src/graphic/helper/subPixelOptimize`.\n     * @type {boolean}\n     */\n    subPixelOptimize: false,\n    brush: function (ctx, prevEl) {\n      var style = this.style;\n      var path = this.path || pathProxyForDraw;\n      var hasStroke = style.hasStroke();\n      var hasFill = style.hasFill();\n      var fill = style.fill;\n      var stroke = style.stroke;\n      var hasFillGradient = hasFill && !!fill.colorStops;\n      var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n      var hasFillPattern = hasFill && !!fill.image;\n      var hasStrokePattern = hasStroke && !!stroke.image;\n      style.bind(ctx, this, prevEl);\n      this.setTransform(ctx);\n\n      if (this.__dirty) {\n        var rect; // Update gradient because bounding rect may changed\n\n        if (hasFillGradient) {\n          rect = rect || this.getBoundingRect();\n          this._fillGradient = style.getGradient(ctx, fill, rect);\n        }\n\n        if (hasStrokeGradient) {\n          rect = rect || this.getBoundingRect();\n          this._strokeGradient = style.getGradient(ctx, stroke, rect);\n        }\n      } // Use the gradient or pattern\n\n\n      if (hasFillGradient) {\n        // PENDING If may have affect the state\n        ctx.fillStyle = this._fillGradient;\n      } else if (hasFillPattern) {\n        ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n      }\n\n      if (hasStrokeGradient) {\n        ctx.strokeStyle = this._strokeGradient;\n      } else if (hasStrokePattern) {\n        ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n      }\n\n      var lineDash = style.lineDash;\n      var lineDashOffset = style.lineDashOffset;\n      var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n      var scale = this.getGlobalScale();\n      path.setScale(scale[0], scale[1], this.segmentIgnoreThreshold); // Proxy context\n      // Rebuild path in following 2 cases\n      // 1. Path is dirty\n      // 2. Path needs javascript implemented lineDash stroking.\n      //    In this case, lineDash information will not be saved in PathProxy\n\n      if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n        path.beginPath(ctx); // Setting line dash before build path\n\n        if (lineDash && !ctxLineDash) {\n          path.setLineDash(lineDash);\n          path.setLineDashOffset(lineDashOffset);\n        }\n\n        this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n        if (this.path) {\n          this.__dirtyPath = false;\n        }\n      } else {\n        // Replay path building\n        ctx.beginPath();\n        this.path.rebuildPath(ctx);\n      }\n\n      if (hasFill) {\n        if (style.fillOpacity != null) {\n          var originalGlobalAlpha = ctx.globalAlpha;\n          ctx.globalAlpha = style.fillOpacity * style.opacity;\n          path.fill(ctx);\n          ctx.globalAlpha = originalGlobalAlpha;\n        } else {\n          path.fill(ctx);\n        }\n      }\n\n      if (lineDash && ctxLineDash) {\n        ctx.setLineDash(lineDash);\n        ctx.lineDashOffset = lineDashOffset;\n      }\n\n      if (hasStroke) {\n        if (style.strokeOpacity != null) {\n          var originalGlobalAlpha = ctx.globalAlpha;\n          ctx.globalAlpha = style.strokeOpacity * style.opacity;\n          path.stroke(ctx);\n          ctx.globalAlpha = originalGlobalAlpha;\n        } else {\n          path.stroke(ctx);\n        }\n      }\n\n      if (lineDash && ctxLineDash) {\n        // PENDING\n        // Remove lineDash\n        ctx.setLineDash([]);\n      } // Draw rect text\n\n\n      if (style.text != null) {\n        // Only restore transform when needs draw text.\n        this.restoreTransform(ctx);\n        this.drawRectText(ctx, this.getBoundingRect());\n      }\n    },\n    // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n    // Like in circle\n    buildPath: function (ctx, shapeCfg, inBundle) {},\n    createPathProxy: function () {\n      this.path = new PathProxy_1();\n    },\n    getBoundingRect: function () {\n      var rect = this._rect;\n      var style = this.style;\n      var needsUpdateRect = !rect;\n\n      if (needsUpdateRect) {\n        var path = this.path;\n\n        if (!path) {\n          // Create path on demand.\n          path = this.path = new PathProxy_1();\n        }\n\n        if (this.__dirtyPath) {\n          path.beginPath();\n          this.buildPath(path, this.shape, false);\n        }\n\n        rect = path.getBoundingRect();\n      }\n\n      this._rect = rect;\n\n      if (style.hasStroke()) {\n        // Needs update rect with stroke lineWidth when\n        // 1. Element changes scale or lineWidth\n        // 2. Shape is changed\n        var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n        if (this.__dirty || needsUpdateRect) {\n          rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n          var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n          var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n          if (!style.hasFill()) {\n            w = Math.max(w, this.strokeContainThreshold || 4);\n          } // Consider line width\n          // Line scale can't be 0;\n\n\n          if (lineScale > 1e-10) {\n            rectWithStroke.width += w / lineScale;\n            rectWithStroke.height += w / lineScale;\n            rectWithStroke.x -= w / lineScale / 2;\n            rectWithStroke.y -= w / lineScale / 2;\n          }\n        } // Return rect with stroke\n\n\n        return rectWithStroke;\n      }\n\n      return rect;\n    },\n    contain: function (x, y) {\n      var localPos = this.transformCoordToLocal(x, y);\n      var rect = this.getBoundingRect();\n      var style = this.style;\n      x = localPos[0];\n      y = localPos[1];\n\n      if (rect.contain(x, y)) {\n        var pathData = this.path.data;\n\n        if (style.hasStroke()) {\n          var lineWidth = style.lineWidth;\n          var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n          if (lineScale > 1e-10) {\n            // Only add extra hover lineWidth when there are no fill\n            if (!style.hasFill()) {\n              lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n            }\n\n            if (path$1.containStroke(pathData, lineWidth / lineScale, x, y)) {\n              return true;\n            }\n          }\n        }\n\n        if (style.hasFill()) {\n          return path$1.contain(pathData, x, y);\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * @param  {boolean} dirtyPath\n     */\n    dirty: function (dirtyPath) {\n      if (dirtyPath == null) {\n        dirtyPath = true;\n      } // Only mark dirty, not mark clean\n\n\n      if (dirtyPath) {\n        this.__dirtyPath = dirtyPath;\n        this._rect = null;\n      }\n\n      this.__dirty = this.__dirtyText = true;\n      this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n      if (this.__clipTarget) {\n        this.__clipTarget.dirty();\n      }\n    },\n\n    /**\n     * Alias for animate('shape')\n     * @param {boolean} loop\n     */\n    animateShape: function (loop) {\n      return this.animate('shape', loop);\n    },\n    // Overwrite attrKV\n    attrKV: function (key, value) {\n      // FIXME\n      if (key === 'shape') {\n        this.setShape(value);\n        this.__dirtyPath = true;\n        this._rect = null;\n      } else {\n        Displayable_1.prototype.attrKV.call(this, key, value);\n      }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setShape: function (key, value) {\n      var shape = this.shape; // Path from string may not have shape\n\n      if (shape) {\n        if (util.isObject(key)) {\n          for (var name in key) {\n            if (key.hasOwnProperty(name)) {\n              shape[name] = key[name];\n            }\n          }\n        } else {\n          shape[key] = value;\n        }\n\n        this.dirty(true);\n      }\n\n      return this;\n    },\n    getLineScale: function () {\n      var m = this.transform; // Get the line scale.\n      // Determinant of `m` means how much the area is enlarged by the\n      // transformation. So its square root can be used as a scale factor\n      // for width.\n\n      return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n    }\n  };\n  /**\n   *  Path element, \n   * Extend a path element\n   * @param {Object} props\n   * @param {string} props.type Path type\n   * @param {Function} props.init Initialize\n   * @param {Function} props.buildPath Overwrite buildPath method\n   * @param {Object} [props.style] Extended default style config\n   * @param {Object} [props.shape] Extended default shape config\n   */\n\n  Path.extend = function (defaults) {\n    var Sub = function (opts) {\n      Path.call(this, opts);\n\n      if (defaults.style) {\n        // Extend default style\n        this.style.extendFrom(defaults.style, false);\n      } // Extend default shape\n\n\n      var defaultShape = defaults.shape;\n\n      if (defaultShape) {\n        this.shape = this.shape || {};\n        var thisShape = this.shape;\n\n        for (var name in defaultShape) {\n          if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n            thisShape[name] = defaultShape[name];\n          }\n        }\n      }\n\n      defaults.init && defaults.init.call(this, opts);\n    };\n\n    util.inherits(Sub, Path); // FIXME  extend position, rotation \n\n    for (var name in defaults) {\n      // Extending prototype values and methods\n      if (name !== 'style' && name !== 'shape') {\n        Sub.prototype[name] = defaults[name];\n      }\n    }\n\n    return Sub;\n  };\n\n  util.inherits(Path, Displayable_1);\n  var _default$w = Path;\n  var Path_1 = _default$w;\n\n  var v2ApplyTransform$1 = vector.applyTransform;\n  var CMD$2 = PathProxy_1.CMD;\n  var points$1 = [[], [], []];\n  var mathSqrt$2 = Math.sqrt;\n  var mathAtan2 = Math.atan2;\n\n  function _default$x(path, m) {\n    var data = path.data;\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD$2.M;\n    var C = CMD$2.C;\n    var L = CMD$2.L;\n    var R = CMD$2.R;\n    var A = CMD$2.A;\n    var Q = CMD$2.Q;\n\n    for (i = 0, j = 0; i < data.length;) {\n      cmd = data[i++];\n      j = i;\n      nPoint = 0;\n\n      switch (cmd) {\n        case M:\n          nPoint = 1;\n          break;\n\n        case L:\n          nPoint = 1;\n          break;\n\n        case C:\n          nPoint = 3;\n          break;\n\n        case Q:\n          nPoint = 2;\n          break;\n\n        case A:\n          var x = m[4];\n          var y = m[5];\n          var sx = mathSqrt$2(m[0] * m[0] + m[1] * m[1]);\n          var sy = mathSqrt$2(m[2] * m[2] + m[3] * m[3]);\n          var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n          data[i] *= sx;\n          data[i++] += x; // cy\n\n          data[i] *= sy;\n          data[i++] += y; // Scale rx and ry\n          // FIXME Assume psi is 0 here\n\n          data[i++] *= sx;\n          data[i++] *= sy; // Start angle\n\n          data[i++] += angle; // end angle\n\n          data[i++] += angle; // FIXME psi\n\n          i += 2;\n          j = i;\n          break;\n\n        case R:\n          // x0, y0\n          p[0] = data[i++];\n          p[1] = data[i++];\n          v2ApplyTransform$1(p, p, m);\n          data[j++] = p[0];\n          data[j++] = p[1]; // x1, y1\n\n          p[0] += data[i++];\n          p[1] += data[i++];\n          v2ApplyTransform$1(p, p, m);\n          data[j++] = p[0];\n          data[j++] = p[1];\n      }\n\n      for (k = 0; k < nPoint; k++) {\n        var p = points$1[k];\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform$1(p, p, m); // Write back\n\n        data[j++] = p[0];\n        data[j++] = p[1];\n      }\n    }\n  }\n\n  var transformPath = _default$x;\n\n  // command chars\n  // var cc = [\n  //     'm', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z',\n  //     'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'\n  // ];\n  var mathSqrt$3 = Math.sqrt;\n  var mathSin$2 = Math.sin;\n  var mathCos$2 = Math.cos;\n  var PI = Math.PI;\n\n  var vMag = function (v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n  };\n\n  var vRatio = function (u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n  };\n\n  var vAngle = function (u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n  };\n\n  function processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos$2(psi) * (x1 - x2) / 2.0 + mathSin$2(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin$2(psi) * (x1 - x2) / 2.0 + mathCos$2(psi) * (y1 - y2) / 2.0;\n    var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n    if (lambda > 1) {\n      rx *= mathSqrt$3(lambda);\n      ry *= mathSqrt$3(lambda);\n    }\n\n    var f = (fa === fs ? -1 : 1) * mathSqrt$3((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0 + mathCos$2(psi) * cxp - mathSin$2(psi) * cyp;\n    var cy = (y1 + y2) / 2.0 + mathSin$2(psi) * cxp + mathCos$2(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n\n    if (vRatio(u, v) <= -1) {\n      dTheta = PI;\n    }\n\n    if (vRatio(u, v) >= 1) {\n      dTheta = 0;\n    }\n\n    if (fs === 0 && dTheta > 0) {\n      dTheta = dTheta - 2 * PI;\n    }\n\n    if (fs === 1 && dTheta < 0) {\n      dTheta = dTheta + 2 * PI;\n    }\n\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n  }\n\n  var commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig; // Consider case:\n  // (1) delimiter can be comma or space, where continuous commas\n  // or spaces should be seen as one comma.\n  // (2) value can be like:\n  // '2e-4', 'l.5.9' (ignore 0), 'M-10-10', 'l-2.43e-1,34.9983',\n  // 'l-.5E1,54', '121-23-44-11' (no delimiter)\n\n  var numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g; // var valueSplitReg = /[\\s,]+/;\n\n  function createPathProxyFromString(data) {\n    if (!data) {\n      return new PathProxy_1();\n    } // var data = data.replace(/-/g, ' -')\n    //     .replace(/  /g, ' ')\n    //     .replace(/ /g, ',')\n    //     .replace(/,,/g, ',');\n    // var n;\n    // create pipes so that we can split the data\n    // for (n = 0; n < cc.length; n++) {\n    //     cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n    // }\n    // data = data.replace(/-/g, ',-');\n    // create array\n    // var arr = cs.split('|');\n    // init context point\n\n\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var path = new PathProxy_1();\n    var CMD = PathProxy_1.CMD; // commandReg.lastIndex = 0;\n    // var cmdResult;\n    // while ((cmdResult = commandReg.exec(data)) != null) {\n    //     var cmdStr = cmdResult[1];\n    //     var cmdContent = cmdResult[2];\n\n    var cmdList = data.match(commandReg);\n\n    for (var l = 0; l < cmdList.length; l++) {\n      var cmdText = cmdList[l];\n      var cmdStr = cmdText.charAt(0);\n      var cmd; // String#split is faster a little bit than String#replace or RegExp#exec.\n      // var p = cmdContent.split(valueSplitReg);\n      // var pLen = 0;\n      // for (var i = 0; i < p.length; i++) {\n      //     // '' and other invalid str => NaN\n      //     var val = parseFloat(p[i]);\n      //     !isNaN(val) && (p[pLen++] = val);\n      // }\n\n      var p = cmdText.match(numberReg) || [];\n      var pLen = p.length;\n\n      for (var i = 0; i < pLen; i++) {\n        p[i] = parseFloat(p[i]);\n      }\n\n      var off = 0;\n\n      while (off < pLen) {\n        var ctlPtx;\n        var ctlPty;\n        var rx;\n        var ry;\n        var psi;\n        var fa;\n        var fs;\n        var x1 = cpx;\n        var y1 = cpy; // convert l, H, h, V, and v to L\n\n        switch (cmdStr) {\n          case 'l':\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'L':\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'm':\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.M;\n            path.addData(cmd, cpx, cpy);\n            subpathX = cpx;\n            subpathY = cpy;\n            cmdStr = 'l';\n            break;\n\n          case 'M':\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.M;\n            path.addData(cmd, cpx, cpy);\n            subpathX = cpx;\n            subpathY = cpy;\n            cmdStr = 'L';\n            break;\n\n          case 'h':\n            cpx += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'H':\n            cpx = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'v':\n            cpy += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'V':\n            cpy = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'C':\n            cmd = CMD.C;\n            path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n            cpx = p[off - 2];\n            cpy = p[off - 1];\n            break;\n\n          case 'c':\n            cmd = CMD.C;\n            path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n            cpx += p[off - 2];\n            cpy += p[off - 1];\n            break;\n\n          case 'S':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.C) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cmd = CMD.C;\n            x1 = p[off++];\n            y1 = p[off++];\n            cpx = p[off++];\n            cpy = p[off++];\n            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n            break;\n\n          case 's':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.C) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cmd = CMD.C;\n            x1 = cpx + p[off++];\n            y1 = cpy + p[off++];\n            cpx += p[off++];\n            cpy += p[off++];\n            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n            break;\n\n          case 'Q':\n            x1 = p[off++];\n            y1 = p[off++];\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, x1, y1, cpx, cpy);\n            break;\n\n          case 'q':\n            x1 = p[off++] + cpx;\n            y1 = p[off++] + cpy;\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, x1, y1, cpx, cpy);\n            break;\n\n          case 'T':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.Q) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 't':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.Q) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 'A':\n            rx = p[off++];\n            ry = p[off++];\n            psi = p[off++];\n            fa = p[off++];\n            fs = p[off++];\n            x1 = cpx, y1 = cpy;\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.A;\n            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n            break;\n\n          case 'a':\n            rx = p[off++];\n            ry = p[off++];\n            psi = p[off++];\n            fa = p[off++];\n            fs = p[off++];\n            x1 = cpx, y1 = cpy;\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.A;\n            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n            break;\n        }\n      }\n\n      if (cmdStr === 'z' || cmdStr === 'Z') {\n        cmd = CMD.Z;\n        path.addData(cmd); // z may be in the middle of the path.\n\n        cpx = subpathX;\n        cpy = subpathY;\n      }\n\n      prevCmd = cmd;\n    }\n\n    path.toStatic();\n    return path;\n  } // TODO Optimize double memory cost problem\n\n\n  function createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    opts = opts || {};\n\n    opts.buildPath = function (path) {\n      if (path.setData) {\n        path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n        var ctx = path.getContext();\n\n        if (ctx) {\n          path.rebuildPath(ctx);\n        }\n      } else {\n        var ctx = path;\n        pathProxy.rebuildPath(ctx);\n      }\n    };\n\n    opts.applyTransform = function (m) {\n      transformPath(pathProxy, m);\n      this.dirty(true);\n    };\n\n    return opts;\n  }\n  /**\n   * Create a Path object from path string data\n   * http://www.w3.org/TR/SVG/paths.html#PathData\n   * @param  {Object} opts Other options\n   */\n\n\n  function createFromString(str, opts) {\n    return new Path_1(createPathOptions(str, opts));\n  }\n  /**\n   * Create a Path class from path string data\n   * @param  {string} str\n   * @param  {Object} opts Other options\n   */\n\n\n  function extendFromString(str, opts) {\n    return Path_1.extend(createPathOptions(str, opts));\n  }\n  /**\n   * Merge multiple paths\n   */\n  // TODO Apply transform\n  // TODO stroke dash\n  // TODO Optimize double memory cost problem\n\n\n  function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n\n    for (var i = 0; i < len; i++) {\n      var pathEl = pathEls[i];\n\n      if (!pathEl.path) {\n        pathEl.createPathProxy();\n      }\n\n      if (pathEl.__dirtyPath) {\n        pathEl.buildPath(pathEl.path, pathEl.shape, true);\n      }\n\n      pathList.push(pathEl.path);\n    }\n\n    var pathBundle = new Path_1(opts); // Need path proxy.\n\n    pathBundle.createPathProxy();\n\n    pathBundle.buildPath = function (path) {\n      path.appendPath(pathList); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    };\n\n    return pathBundle;\n  }\n\n  var createFromString_1 = createFromString;\n  var extendFromString_1 = extendFromString;\n  var mergePath_1 = mergePath;\n\n  var path$2 = {\n  \tcreateFromString: createFromString_1,\n  \textendFromString: extendFromString_1,\n  \tmergePath: mergePath_1\n  };\n\n  var ContextCachedBy$3 = constant.ContextCachedBy;\n\n  /**\n   * @alias zrender/graphic/Text\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n  var Text = function (opts) {\n    // jshint ignore:line\n    Displayable_1.call(this, opts);\n  };\n\n  Text.prototype = {\n    constructor: Text,\n    type: 'text',\n    brush: function (ctx, prevEl) {\n      var style = this.style; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n      style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n      var text = style.text; // Convert to string\n\n      text != null && (text += ''); // Do not apply style.bind in Text node. Because the real bind job\n      // is in textHelper.renderText, and performance of text render should\n      // be considered.\n      // style.bind(ctx, this, prevEl);\n\n      if (!text$1.needDrawText(text, style)) {\n        // The current el.style is not applied\n        // and should not be used as cache.\n        ctx.__attrCachedBy = ContextCachedBy$3.NONE;\n        return;\n      }\n\n      this.setTransform(ctx);\n      text$1.renderText(this, ctx, text, style, null, prevEl);\n      this.restoreTransform(ctx);\n    },\n    getBoundingRect: function () {\n      var style = this.style; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true);\n\n      if (!this._rect) {\n        var text$2 = style.text;\n        text$2 != null ? text$2 += '' : text$2 = '';\n        var rect = text.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.textLineHeight, style.rich);\n        rect.x += style.x || 0;\n        rect.y += style.y || 0;\n\n        if (text$1.getStroke(style.textStroke, style.textStrokeWidth)) {\n          var w = style.textStrokeWidth;\n          rect.x -= w / 2;\n          rect.y -= w / 2;\n          rect.width += w;\n          rect.height += w;\n        }\n\n        this._rect = rect;\n      }\n\n      return this._rect;\n    }\n  };\n  util.inherits(Text, Displayable_1);\n  var _default$y = Text;\n  var Text_1 = _default$y;\n\n  /**\n   * \n   * @module zrender/shape/Circle\n   */\n  var _default$z = Path_1.extend({\n    type: 'circle',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0\n    },\n    buildPath: function (ctx, shape, inBundle) {\n      // Better stroking in ShapeBundle\n      // Always do it may have performence issue ( fill may be 2x more cost)\n      if (inBundle) {\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\n      } // else {\n      //     if (ctx.allocate && !ctx.data.length) {\n      //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n      //     }\n      // }\n      // Better stroking in ShapeBundle\n      // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n      ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n    }\n  });\n\n  var Circle = _default$z;\n\n  // Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n  // where exception \"unexpected call to method or property access\"\n  // might be thrown when calling ctx.fill or ctx.stroke after a path\n  // whose area size is zero is drawn and ctx.clip() is called and\n  // shadowBlur is set. See #4572, #3112, #5777.\n  // (e.g.,\n  //  ctx.moveTo(10, 10);\n  //  ctx.lineTo(20, 10);\n  //  ctx.closePath();\n  //  ctx.clip();\n  //  ctx.shadowBlur = 10;\n  //  ...\n  //  ctx.fill();\n  // )\n  var shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\n  function _default$A(orignalBrush) {\n    // version string can be: '11.0'\n    return env_1.browser.ie && env_1.browser.version >= 11 ? function () {\n      var clipPaths = this.__clipPaths;\n      var style = this.style;\n      var modified;\n\n      if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n          var clipPath = clipPaths[i];\n          var shape = clipPath && clipPath.shape;\n          var type = clipPath && clipPath.type;\n\n          if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n            for (var j = 0; j < shadowTemp.length; j++) {\n              // It is save to put shadowTemp static, because shadowTemp\n              // will be all modified each item brush called.\n              shadowTemp[j][2] = style[shadowTemp[j][0]];\n              style[shadowTemp[j][0]] = shadowTemp[j][1];\n            }\n\n            modified = true;\n            break;\n          }\n        }\n      }\n\n      orignalBrush.apply(this, arguments);\n\n      if (modified) {\n        for (var j = 0; j < shadowTemp.length; j++) {\n          style[shadowTemp[j][0]] = shadowTemp[j][2];\n        }\n      }\n    } : orignalBrush;\n  }\n\n  var fixClipWithShadow = _default$A;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Sector\n   */\n  var _default$B = Path_1.extend({\n    type: 'sector',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r0: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r0 = Math.max(shape.r0 || 0, 0);\n      var r = Math.max(shape.r, 0);\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitX = Math.cos(startAngle);\n      var unitY = Math.sin(startAngle);\n      ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n      ctx.lineTo(unitX * r + x, unitY * r + y);\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n      ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n      if (r0 !== 0) {\n        ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      }\n\n      ctx.closePath();\n    }\n  });\n\n  var Sector = _default$B;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Ring\n   */\n  var _default$C = Path_1.extend({\n    type: 'ring',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0,\n      r0: 0\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var PI2 = Math.PI * 2;\n      ctx.moveTo(x + shape.r, y);\n      ctx.arc(x, y, shape.r, 0, PI2, false);\n      ctx.moveTo(x + shape.r0, y);\n      ctx.arc(x, y, shape.r0, 0, PI2, true);\n    }\n  });\n\n  var Ring = _default$C;\n\n  var v2Distance = vector.distance;\n\n  /**\n   * Catmull-Rom spline \n   * @module zrender/shape/util/smoothSpline\n   * @author pissang (https://www.github.com/pissang)\n   *         Kener (@Kener-, kener.linfeng@gmail.com)\n   *         errorrik (errorrik@gmail.com)\n   */\n\n  /**\n   * @inner\n   */\n  function interpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n  /**\n   * @alias module:zrender/shape/util/smoothSpline\n   * @param {Array} points \n   * @param {boolean} isLoop\n   * @return {Array}\n   */\n\n\n  function _default$D(points, isLoop) {\n    var len = points.length;\n    var ret = [];\n    var distance = 0;\n\n    for (var i = 1; i < len; i++) {\n      distance += v2Distance(points[i - 1], points[i]);\n    }\n\n    var segs = distance / 2;\n    segs = segs < len ? len : segs;\n\n    for (var i = 0; i < segs; i++) {\n      var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n      var idx = Math.floor(pos);\n      var w = pos - idx;\n      var p0;\n      var p1 = points[idx % len];\n      var p2;\n      var p3;\n\n      if (!isLoop) {\n        p0 = points[idx === 0 ? idx : idx - 1];\n        p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n        p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n      } else {\n        p0 = points[(idx - 1 + len) % len];\n        p2 = points[(idx + 1) % len];\n        p3 = points[(idx + 2) % len];\n      }\n\n      var w2 = w * w;\n      var w3 = w * w2;\n      ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n    }\n\n    return ret;\n  }\n\n  var smoothSpline = _default$D;\n\n  var v2Min = vector.min;\n  var v2Max = vector.max;\n  var v2Scale = vector.scale;\n  var v2Distance$1 = vector.distance;\n  var v2Add = vector.add;\n  var v2Clone = vector.clone;\n  var v2Sub = vector.sub;\n\n  /**\n   * \n   * @module zrender/shape/util/smoothBezier\n   * @author pissang (https://www.github.com/pissang)\n   *         Kener (@Kener-, kener.linfeng@gmail.com)\n   *         errorrik (errorrik@gmail.com)\n   */\n\n  /**\n   * \n   * @alias module:zrender/shape/util/smoothBezier\n   * @param {Array} points \n   * @param {number} smooth , 0-1\n   * @param {boolean} isLoop\n   * @param {Array} constraint \n   *                            [[0, 0], [100, 100]], \n   *                           \n   * @param {Array} \n   */\n  function _default$E(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n\n    if (constraint) {\n      min = [Infinity, Infinity];\n      max = [-Infinity, -Infinity];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        v2Min(min, min, points[i]);\n        v2Max(max, max, points[i]);\n      } // \n\n\n      v2Min(min, min, constraint[0]);\n      v2Max(max, max, constraint[1]);\n    }\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      var point = points[i];\n\n      if (isLoop) {\n        prevPoint = points[i ? i - 1 : len - 1];\n        nextPoint = points[(i + 1) % len];\n      } else {\n        if (i === 0 || i === len - 1) {\n          cps.push(v2Clone(points[i]));\n          continue;\n        } else {\n          prevPoint = points[i - 1];\n          nextPoint = points[i + 1];\n        }\n      }\n\n      v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n      v2Scale(v, v, smooth);\n      var d0 = v2Distance$1(point, prevPoint);\n      var d1 = v2Distance$1(point, nextPoint);\n      var sum = d0 + d1;\n\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      v2Scale(v1, v, -d0);\n      v2Scale(v2, v, d1);\n      var cp0 = v2Add([], point, v1);\n      var cp1 = v2Add([], point, v2);\n\n      if (constraint) {\n        v2Max(cp0, cp0, min);\n        v2Min(cp0, cp0, max);\n        v2Max(cp1, cp1, min);\n        v2Min(cp1, cp1, max);\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n    }\n\n    if (isLoop) {\n      cps.push(cps.shift());\n    }\n\n    return cps;\n  }\n\n  var smoothBezier = _default$E;\n\n  function buildPath$1(ctx, shape, closePath) {\n    var points = shape.points;\n    var smooth = shape.smooth;\n\n    if (points && points.length >= 2) {\n      if (smooth && smooth !== 'spline') {\n        var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n        ctx.moveTo(points[0][0], points[0][1]);\n        var len = points.length;\n\n        for (var i = 0; i < (closePath ? len : len - 1); i++) {\n          var cp1 = controlPoints[i * 2];\n          var cp2 = controlPoints[i * 2 + 1];\n          var p = points[(i + 1) % len];\n          ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n        }\n      } else {\n        if (smooth === 'spline') {\n          points = smoothSpline(points, closePath);\n        }\n\n        ctx.moveTo(points[0][0], points[0][1]);\n\n        for (var i = 1, l = points.length; i < l; i++) {\n          ctx.lineTo(points[i][0], points[i][1]);\n        }\n      }\n\n      closePath && ctx.closePath();\n    }\n  }\n\n  var buildPath_1$1 = buildPath$1;\n\n  var poly = {\n  \tbuildPath: buildPath_1$1\n  };\n\n  /**\n   * \n   * @module zrender/shape/Polygon\n   */\n  var _default$F = Path_1.extend({\n    type: 'polygon',\n    shape: {\n      points: null,\n      smooth: false,\n      smoothConstraint: null\n    },\n    buildPath: function (ctx, shape) {\n      poly.buildPath(ctx, shape, true);\n    }\n  });\n\n  var Polygon = _default$F;\n\n  /**\n   * @module zrender/graphic/shape/Polyline\n   */\n  var _default$G = Path_1.extend({\n    type: 'polyline',\n    shape: {\n      points: null,\n      smooth: false,\n      smoothConstraint: null\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      poly.buildPath(ctx, shape, false);\n    }\n  });\n\n  var Polyline = _default$G;\n\n  /**\n   * Sub-pixel optimize for canvas rendering, prevent from blur\n   * when rendering a thin vertical/horizontal line.\n   */\n  var round = Math.round;\n  /**\n   * Sub pixel optimize line for canvas\n   *\n   * @param {Object} outputShape The modification will be performed on `outputShape`.\n   *                 `outputShape` and `inputShape` can be the same object.\n   *                 `outputShape` object can be used repeatly, because all of\n   *                 the `x1`, `x2`, `y1`, `y2` will be assigned in this method.\n   * @param {Object} [inputShape]\n   * @param {number} [inputShape.x1]\n   * @param {number} [inputShape.y1]\n   * @param {number} [inputShape.x2]\n   * @param {number} [inputShape.y2]\n   * @param {Object} [style]\n   * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n   */\n\n  function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n      return;\n    }\n\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n\n    if (!lineWidth) {\n      return;\n    }\n\n    if (round(x1 * 2) === round(x2 * 2)) {\n      outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n\n    if (round(y1 * 2) === round(y2 * 2)) {\n      outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n  }\n  /**\n   * Sub pixel optimize rect for canvas\n   *\n   * @param {Object} outputShape The modification will be performed on `outputShape`.\n   *                 `outputShape` and `inputShape` can be the same object.\n   *                 `outputShape` object can be used repeatly, because all of\n   *                 the `x`, `y`, `width`, `height` will be assigned in this method.\n   * @param {Object} [inputShape]\n   * @param {number} [inputShape.x]\n   * @param {number} [inputShape.y]\n   * @param {number} [inputShape.width]\n   * @param {number} [inputShape.height]\n   * @param {Object} [style]\n   * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n   */\n\n\n  function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n      return;\n    }\n\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n\n    if (!lineWidth) {\n      return;\n    }\n\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n  }\n  /**\n   * Sub pixel optimize for canvas\n   *\n   * @param {number} position Coordinate, such as x, y\n   * @param {number} lineWidth If `null`/`undefined`/`0`, do not optimize.\n   * @param {boolean=} positiveOrNegative Default false (negative).\n   * @return {number} Optimized position.\n   */\n\n\n  function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n      return position;\n    } // Assure that (position + lineWidth / 2) is near integer edge,\n    // otherwise line will be fuzzy in canvas.\n\n\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n  }\n\n  var subPixelOptimizeLine_1 = subPixelOptimizeLine;\n  var subPixelOptimizeRect_1 = subPixelOptimizeRect;\n  var subPixelOptimize_2 = subPixelOptimize;\n\n  var subPixelOptimize_1 = {\n  \tsubPixelOptimizeLine: subPixelOptimizeLine_1,\n  \tsubPixelOptimizeRect: subPixelOptimizeRect_1,\n  \tsubPixelOptimize: subPixelOptimize_2\n  };\n\n  var subPixelOptimizeRect$1 = subPixelOptimize_1.subPixelOptimizeRect;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Rect\n   */\n  // Avoid create repeatly.\n  var subPixelOptimizeOutputShape = {};\n\n  var _default$H = Path_1.extend({\n    type: 'rect',\n    shape: {\n      // r1r2r3r4\n      // r1          [1, 1, 1, 1]\n      // r[1]        [1, 1, 1, 1]\n      // r[1, 2]     [1, 2, 1, 2]\n      // r[1, 2, 3]  [1, 2, 3, 2]\n      r: 0,\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (ctx, shape) {\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (this.subPixelOptimize) {\n        subPixelOptimizeRect$1(subPixelOptimizeOutputShape, shape, this.style);\n        x = subPixelOptimizeOutputShape.x;\n        y = subPixelOptimizeOutputShape.y;\n        width = subPixelOptimizeOutputShape.width;\n        height = subPixelOptimizeOutputShape.height;\n        subPixelOptimizeOutputShape.r = shape.r;\n        shape = subPixelOptimizeOutputShape;\n      } else {\n        x = shape.x;\n        y = shape.y;\n        width = shape.width;\n        height = shape.height;\n      }\n\n      if (!shape.r) {\n        ctx.rect(x, y, width, height);\n      } else {\n        roundRect.buildPath(ctx, shape);\n      }\n\n      ctx.closePath();\n      return;\n    }\n  });\n\n  var Rect = _default$H;\n\n  var subPixelOptimizeLine$1 = subPixelOptimize_1.subPixelOptimizeLine;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Line\n   */\n  // Avoid create repeatly.\n  var subPixelOptimizeOutputShape$1 = {};\n\n  var _default$I = Path_1.extend({\n    type: 'line',\n    shape: {\n      // Start point\n      x1: 0,\n      y1: 0,\n      // End point\n      x2: 0,\n      y2: 0,\n      percent: 1\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x1;\n      var y1;\n      var x2;\n      var y2;\n\n      if (this.subPixelOptimize) {\n        subPixelOptimizeLine$1(subPixelOptimizeOutputShape$1, shape, this.style);\n        x1 = subPixelOptimizeOutputShape$1.x1;\n        y1 = subPixelOptimizeOutputShape$1.y1;\n        x2 = subPixelOptimizeOutputShape$1.x2;\n        y2 = subPixelOptimizeOutputShape$1.y2;\n      } else {\n        x1 = shape.x1;\n        y1 = shape.y1;\n        x2 = shape.x2;\n        y2 = shape.y2;\n      }\n\n      var percent = shape.percent;\n\n      if (percent === 0) {\n        return;\n      }\n\n      ctx.moveTo(x1, y1);\n\n      if (percent < 1) {\n        x2 = x1 * (1 - percent) + x2 * percent;\n        y2 = y1 * (1 - percent) + y2 * percent;\n      }\n\n      ctx.lineTo(x2, y2);\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} percent\n     * @return {Array.<number>}\n     */\n    pointAt: function (p) {\n      var shape = this.shape;\n      return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n    }\n  });\n\n  var Line = _default$I;\n\n  var quadraticSubdivide$1 = curve.quadraticSubdivide;\n  var cubicSubdivide$1 = curve.cubicSubdivide;\n  var quadraticAt$1 = curve.quadraticAt;\n  var cubicAt$1 = curve.cubicAt;\n  var quadraticDerivativeAt$1 = curve.quadraticDerivativeAt;\n  var cubicDerivativeAt$1 = curve.cubicDerivativeAt;\n\n  /**\n   * \n   * @module zrender/shape/BezierCurve\n   */\n  var out = [];\n\n  function someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n\n    if (cpx2 === null || cpy2 === null) {\n      return [(isTangent ? cubicDerivativeAt$1 : cubicAt$1)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt$1 : cubicAt$1)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n    } else {\n      return [(isTangent ? quadraticDerivativeAt$1 : quadraticAt$1)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt$1 : quadraticAt$1)(shape.y1, shape.cpy1, shape.y2, t)];\n    }\n  }\n\n  var _default$J = Path_1.extend({\n    type: 'bezier-curve',\n    shape: {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      cpx1: 0,\n      cpy1: 0,\n      // cpx2: 0,\n      // cpy2: 0\n      // Curve show percent, for animating\n      percent: 1\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x1 = shape.x1;\n      var y1 = shape.y1;\n      var x2 = shape.x2;\n      var y2 = shape.y2;\n      var cpx1 = shape.cpx1;\n      var cpy1 = shape.cpy1;\n      var cpx2 = shape.cpx2;\n      var cpy2 = shape.cpy2;\n      var percent = shape.percent;\n\n      if (percent === 0) {\n        return;\n      }\n\n      ctx.moveTo(x1, y1);\n\n      if (cpx2 == null || cpy2 == null) {\n        if (percent < 1) {\n          quadraticSubdivide$1(x1, cpx1, x2, percent, out);\n          cpx1 = out[1];\n          x2 = out[2];\n          quadraticSubdivide$1(y1, cpy1, y2, percent, out);\n          cpy1 = out[1];\n          y2 = out[2];\n        }\n\n        ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n      } else {\n        if (percent < 1) {\n          cubicSubdivide$1(x1, cpx1, cpx2, x2, percent, out);\n          cpx1 = out[1];\n          cpx2 = out[2];\n          x2 = out[3];\n          cubicSubdivide$1(y1, cpy1, cpy2, y2, percent, out);\n          cpy1 = out[1];\n          cpy2 = out[2];\n          y2 = out[3];\n        }\n\n        ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n      }\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    pointAt: function (t) {\n      return someVectorAt(this.shape, t, false);\n    },\n\n    /**\n     * Get tangent at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    tangentAt: function (t) {\n      var p = someVectorAt(this.shape, t, true);\n      return vector.normalize(p, p);\n    }\n  });\n\n  var BezierCurve = _default$J;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Arc\n   */\n  var _default$K = Path_1.extend({\n    type: 'arc',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r = Math.max(shape.r, 0);\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitX = Math.cos(startAngle);\n      var unitY = Math.sin(startAngle);\n      ctx.moveTo(unitX * r + x, unitY * r + y);\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    }\n  });\n\n  var Arc = _default$K;\n\n  // CompoundPath to improve performance\n  var _default$L = Path_1.extend({\n    type: 'compound',\n    shape: {\n      paths: null\n    },\n    _updatePathDirty: function () {\n      var dirtyPath = this.__dirtyPath;\n      var paths = this.shape.paths;\n\n      for (var i = 0; i < paths.length; i++) {\n        // Mark as dirty if any subpath is dirty\n        dirtyPath = dirtyPath || paths[i].__dirtyPath;\n      }\n\n      this.__dirtyPath = dirtyPath;\n      this.__dirty = this.__dirty || dirtyPath;\n    },\n    beforeBrush: function () {\n      this._updatePathDirty();\n\n      var paths = this.shape.paths || [];\n      var scale = this.getGlobalScale(); // Update path scale\n\n      for (var i = 0; i < paths.length; i++) {\n        if (!paths[i].path) {\n          paths[i].createPathProxy();\n        }\n\n        paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n      }\n    },\n    buildPath: function (ctx, shape) {\n      var paths = shape.paths || [];\n\n      for (var i = 0; i < paths.length; i++) {\n        paths[i].buildPath(ctx, paths[i].shape, true);\n      }\n    },\n    afterBrush: function () {\n      var paths = this.shape.paths || [];\n\n      for (var i = 0; i < paths.length; i++) {\n        paths[i].__dirtyPath = false;\n      }\n    },\n    getBoundingRect: function () {\n      this._updatePathDirty();\n\n      return Path_1.prototype.getBoundingRect.call(this);\n    }\n  });\n\n  var CompoundPath = _default$L;\n\n  /**\n   * @param {Array.<Object>} colorStops\n   */\n  var Gradient = function (colorStops) {\n    this.colorStops = colorStops || [];\n  };\n\n  Gradient.prototype = {\n    constructor: Gradient,\n    addColorStop: function (offset, color) {\n      this.colorStops.push({\n        offset: offset,\n        color: color\n      });\n    }\n  };\n  var _default$M = Gradient;\n  var Gradient_1 = _default$M;\n\n  /**\n   * x, y, x2, y2 are all percent from 0 to 1\n   * @param {number} [x=0]\n   * @param {number} [y=0]\n   * @param {number} [x2=1]\n   * @param {number} [y2=0]\n   * @param {Array.<Object>} colorStops\n   * @param {boolean} [globalCoord=false]\n   */\n  var LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'linear', colorStops: ...}`, where\n    // this constructor will not be called.\n    this.x = x == null ? 0 : x;\n    this.y = y == null ? 0 : y;\n    this.x2 = x2 == null ? 1 : x2;\n    this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n    this.type = 'linear'; // If use global coord\n\n    this.global = globalCoord || false;\n    Gradient_1.call(this, colorStops);\n  };\n\n  LinearGradient.prototype = {\n    constructor: LinearGradient\n  };\n  util.inherits(LinearGradient, Gradient_1);\n  var _default$N = LinearGradient;\n  var LinearGradient_1 = _default$N;\n\n  /**\n   * x, y, r are all percent from 0 to 1\n   * @param {number} [x=0.5]\n   * @param {number} [y=0.5]\n   * @param {number} [r=0.5]\n   * @param {Array.<Object>} [colorStops]\n   * @param {boolean} [globalCoord=false]\n   */\n  var RadialGradient = function (x, y, r, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'radial', colorStops: ...}`, where\n    // this constructor will not be called.\n    this.x = x == null ? 0.5 : x;\n    this.y = y == null ? 0.5 : y;\n    this.r = r == null ? 0.5 : r; // Can be cloned\n\n    this.type = 'radial'; // If use global coord\n\n    this.global = globalCoord || false;\n    Gradient_1.call(this, colorStops);\n  };\n\n  RadialGradient.prototype = {\n    constructor: RadialGradient\n  };\n  util.inherits(RadialGradient, Gradient_1);\n  var _default$O = RadialGradient;\n  var RadialGradient_1 = _default$O;\n\n  var inherits$1 = util.inherits;\n\n\n\n\n\n  /**\n   * Displayable for incremental rendering. It will be rendered in a separate layer\n   * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n   * addDisplayables will render the added displayables incremetally.\n   *\n   * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n   */\n  // TODO Style override ?\n  function IncrementalDisplayble(opts) {\n    Displayable_1.call(this, opts);\n    this._displayables = [];\n    this._temporaryDisplayables = [];\n    this._cursor = 0;\n    this.notClear = true;\n  }\n\n  IncrementalDisplayble.prototype.incremental = true;\n\n  IncrementalDisplayble.prototype.clearDisplaybles = function () {\n    this._displayables = [];\n    this._temporaryDisplayables = [];\n    this._cursor = 0;\n    this.dirty();\n    this.notClear = false;\n  };\n\n  IncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n    if (notPersistent) {\n      this._temporaryDisplayables.push(displayable);\n    } else {\n      this._displayables.push(displayable);\n    }\n\n    this.dirty();\n  };\n\n  IncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n    notPersistent = notPersistent || false;\n\n    for (var i = 0; i < displayables.length; i++) {\n      this.addDisplayable(displayables[i], notPersistent);\n    }\n  };\n\n  IncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      cb && cb(this._displayables[i]);\n    }\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      cb && cb(this._temporaryDisplayables[i]);\n    }\n  };\n\n  IncrementalDisplayble.prototype.update = function () {\n    this.updateTransform();\n\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i]; // PENDING\n\n      displayable.parent = this;\n      displayable.update();\n      displayable.parent = null;\n    }\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      var displayable = this._temporaryDisplayables[i]; // PENDING\n\n      displayable.parent = this;\n      displayable.update();\n      displayable.parent = null;\n    }\n  };\n\n  IncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n    // Render persistant displayables.\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      displayable.beforeBrush && displayable.beforeBrush(ctx);\n      displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n      displayable.afterBrush && displayable.afterBrush(ctx);\n    }\n\n    this._cursor = i; // Render temporary displayables.\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      var displayable = this._temporaryDisplayables[i];\n      displayable.beforeBrush && displayable.beforeBrush(ctx);\n      displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n      displayable.afterBrush && displayable.afterBrush(ctx);\n    }\n\n    this._temporaryDisplayables = [];\n    this.notClear = true;\n  };\n\n  var m = [];\n\n  IncrementalDisplayble.prototype.getBoundingRect = function () {\n    if (!this._rect) {\n      var rect = new BoundingRect_1(Infinity, Infinity, -Infinity, -Infinity);\n\n      for (var i = 0; i < this._displayables.length; i++) {\n        var displayable = this._displayables[i];\n        var childRect = displayable.getBoundingRect().clone();\n\n        if (displayable.needLocalTransform()) {\n          childRect.applyTransform(displayable.getLocalTransform(m));\n        }\n\n        rect.union(childRect);\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  };\n\n  IncrementalDisplayble.prototype.contain = function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n\n    if (rect.contain(localPos[0], localPos[1])) {\n      for (var i = 0; i < this._displayables.length; i++) {\n        var displayable = this._displayables[i];\n\n        if (displayable.contain(x, y)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  inherits$1(IncrementalDisplayble, Displayable_1);\n  var _default$P = IncrementalDisplayble;\n  var IncrementalDisplayable = _default$P;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var Image$2 = Image$1;\n\n\n\n  var Group_1$1 = Group_1;\n\n\n\n  var Text_1$1 = Text_1;\n\n\n\n  var Circle_1 = Circle;\n\n\n\n  var Sector_1 = Sector;\n\n\n\n  var Ring_1 = Ring;\n\n\n\n  var Polygon_1 = Polygon;\n\n\n\n  var Polyline_1 = Polyline;\n\n\n\n  var Rect_1 = Rect;\n\n\n\n  var Line_1 = Line;\n\n\n\n  var BezierCurve_1 = BezierCurve;\n\n\n\n  var Arc_1 = Arc;\n\n\n\n  var CompoundPath_1 = CompoundPath;\n\n\n\n  var LinearGradient_1$1 = LinearGradient_1;\n\n\n\n  var RadialGradient_1$1 = RadialGradient_1;\n\n\n\n  var BoundingRect_1$1 = BoundingRect_1;\n\n\n\n  var IncrementalDisplayable_1 = IncrementalDisplayable;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var mathMax$3 = Math.max;\n  var mathMin$3 = Math.min;\n  var EMPTY_OBJ = {};\n  var Z2_EMPHASIS_LIFT = 1; // key: label model property nane, value: style property name.\n\n  var CACHED_LABEL_STYLE_PROPERTIES = {\n    color: 'textFill',\n    textBorderColor: 'textStroke',\n    textBorderWidth: 'textStrokeWidth'\n  };\n  var EMPHASIS = 'emphasis';\n  var NORMAL = 'normal'; // Reserve 0 as default.\n\n  var _highlightNextDigit = 1;\n  var _highlightKeyMap = {};\n  var _customShapeMap = {};\n  /**\n   * Extend shape with parameters\n   */\n\n  function extendShape(opts) {\n    return Path_1.extend(opts);\n  }\n  /**\n   * Extend path\n   */\n\n\n  function extendPath(pathData, opts) {\n    return path$2.extendFromString(pathData, opts);\n  }\n  /**\n   * Register a user defined shape.\n   * The shape class can be fetched by `getShapeClass`\n   * This method will overwrite the registered shapes, including\n   * the registered built-in shapes, if using the same `name`.\n   * The shape can be used in `custom series` and\n   * `graphic component` by declaring `{type: name}`.\n   *\n   * @param {string} name\n   * @param {Object} ShapeClass Can be generated by `extendShape`.\n   */\n\n\n  function registerShape(name, ShapeClass) {\n    _customShapeMap[name] = ShapeClass;\n  }\n  /**\n   * Find shape class registered by `registerShape`. Usually used in\n   * fetching user defined shape.\n   *\n   * [Caution]:\n   * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n   * to use user registered shapes.\n   * Because the built-in shape (see `getBuiltInShape`) will be registered by\n   * `registerShape` by default. That enables users to get both built-in\n   * shapes as well as the shapes belonging to themsleves. But users can overwrite\n   * the built-in shapes by using names like 'circle', 'rect' via calling\n   * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n   * in case that it is overwritten by users, except that some features, like\n   * `custom series`, `graphic component`, do it deliberately.\n   *\n   * (2) In the features like `custom series`, `graphic component`, the user input\n   * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n   * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n   * are reserved names, that is, if some user register a shape named `'image'`,\n   * the shape will not be used. If we intending to add some more reserved names\n   * in feature, that might bring break changes (disable some existing user shape\n   * names). But that case probably rearly happen. So we dont make more mechanism\n   * to resolve this issue here.\n   *\n   * @param {string} name\n   * @return {Object} The shape class. If not found, return nothing.\n   */\n\n\n  function getShapeClass(name) {\n    if (_customShapeMap.hasOwnProperty(name)) {\n      return _customShapeMap[name];\n    }\n  }\n  /**\n   * Create a path element from path data string\n   * @param {string} pathData\n   * @param {Object} opts\n   * @param {module:zrender/core/BoundingRect} rect\n   * @param {string} [layout=cover] 'center' or 'cover'\n   */\n\n\n  function makePath(pathData, opts, rect, layout) {\n    var path = path$2.createFromString(pathData, opts);\n\n    if (rect) {\n      if (layout === 'center') {\n        rect = centerGraphic(rect, path.getBoundingRect());\n      }\n\n      resizePath(path, rect);\n    }\n\n    return path;\n  }\n  /**\n   * Create a image element from image url\n   * @param {string} imageUrl image url\n   * @param {Object} opts options\n   * @param {module:zrender/core/BoundingRect} rect constrain rect\n   * @param {string} [layout=cover] 'center' or 'cover'\n   */\n\n\n  function makeImage(imageUrl, rect, layout) {\n    var path = new Image$1({\n      style: {\n        image: imageUrl,\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height\n      },\n      onload: function (img) {\n        if (layout === 'center') {\n          var boundingRect = {\n            width: img.width,\n            height: img.height\n          };\n          path.setStyle(centerGraphic(rect, boundingRect));\n        }\n      }\n    });\n    return path;\n  }\n  /**\n   * Get position of centered element in bounding box.\n   *\n   * @param  {Object} rect         element local bounding box\n   * @param  {Object} boundingRect constraint bounding box\n   * @return {Object} element position containing x, y, width, and height\n   */\n\n\n  function centerGraphic(rect, boundingRect) {\n    // Set rect to center, keep width / height ratio.\n    var aspect = boundingRect.width / boundingRect.height;\n    var width = rect.height * aspect;\n    var height;\n\n    if (width <= rect.width) {\n      height = rect.height;\n    } else {\n      width = rect.width;\n      height = width / aspect;\n    }\n\n    var cx = rect.x + rect.width / 2;\n    var cy = rect.y + rect.height / 2;\n    return {\n      x: cx - width / 2,\n      y: cy - height / 2,\n      width: width,\n      height: height\n    };\n  }\n\n  var mergePath$1 = path$2.mergePath;\n  /**\n   * Resize a path to fit the rect\n   * @param {module:zrender/graphic/Path} path\n   * @param {Object} rect\n   */\n\n  function resizePath(path, rect) {\n    if (!path.applyTransform) {\n      return;\n    }\n\n    var pathRect = path.getBoundingRect();\n    var m = pathRect.calculateTransform(rect);\n    path.applyTransform(m);\n  }\n  /**\n   * Sub pixel optimize line for canvas\n   *\n   * @param {Object} param\n   * @param {Object} [param.shape]\n   * @param {number} [param.shape.x1]\n   * @param {number} [param.shape.y1]\n   * @param {number} [param.shape.x2]\n   * @param {number} [param.shape.y2]\n   * @param {Object} [param.style]\n   * @param {number} [param.style.lineWidth]\n   * @return {Object} Modified param\n   */\n\n\n  function subPixelOptimizeLine$2(param) {\n    subPixelOptimize_1.subPixelOptimizeLine(param.shape, param.shape, param.style);\n    return param;\n  }\n  /**\n   * Sub pixel optimize rect for canvas\n   *\n   * @param {Object} param\n   * @param {Object} [param.shape]\n   * @param {number} [param.shape.x]\n   * @param {number} [param.shape.y]\n   * @param {number} [param.shape.width]\n   * @param {number} [param.shape.height]\n   * @param {Object} [param.style]\n   * @param {number} [param.style.lineWidth]\n   * @return {Object} Modified param\n   */\n\n\n  function subPixelOptimizeRect$2(param) {\n    subPixelOptimize_1.subPixelOptimizeRect(param.shape, param.shape, param.style);\n    return param;\n  }\n  /**\n   * Sub pixel optimize for canvas\n   *\n   * @param {number} position Coordinate, such as x, y\n   * @param {number} lineWidth Should be nonnegative integer.\n   * @param {boolean=} positiveOrNegative Default false (negative).\n   * @return {number} Optimized position.\n   */\n\n\n  var subPixelOptimize$1 = subPixelOptimize_1.subPixelOptimize;\n\n  function hasFillOrStroke(fillOrStroke) {\n    return fillOrStroke != null && fillOrStroke !== 'none';\n  } // Most lifted color are duplicated.\n\n\n  var liftedColorMap = util.createHashMap();\n  var liftedColorCount = 0;\n\n  function liftColor(color$1) {\n    if (typeof color$1 !== 'string') {\n      return color$1;\n    }\n\n    var liftedColor = liftedColorMap.get(color$1);\n\n    if (!liftedColor) {\n      liftedColor = color.lift(color$1, -0.1);\n\n      if (liftedColorCount < 10000) {\n        liftedColorMap.set(color$1, liftedColor);\n        liftedColorCount++;\n      }\n    }\n\n    return liftedColor;\n  }\n\n  function cacheElementStl(el) {\n    if (!el.__hoverStlDirty) {\n      return;\n    }\n\n    el.__hoverStlDirty = false;\n    var hoverStyle = el.__hoverStl;\n\n    if (!hoverStyle) {\n      el.__cachedNormalStl = el.__cachedNormalZ2 = null;\n      return;\n    }\n\n    var normalStyle = el.__cachedNormalStl = {};\n    el.__cachedNormalZ2 = el.z2;\n    var elStyle = el.style;\n\n    for (var name in hoverStyle) {\n      // See comment in `singleEnterEmphasis`.\n      if (hoverStyle[name] != null) {\n        normalStyle[name] = elStyle[name];\n      }\n    } // Always cache fill and stroke to normalStyle for lifting color.\n\n\n    normalStyle.fill = elStyle.fill;\n    normalStyle.stroke = elStyle.stroke;\n  }\n\n  function singleEnterEmphasis(el) {\n    var hoverStl = el.__hoverStl;\n\n    if (!hoverStl || el.__highlighted) {\n      return;\n    }\n\n    var zr = el.__zr;\n    var useHoverLayer = el.useHoverLayer && zr && zr.painter.type === 'canvas';\n    el.__highlighted = useHoverLayer ? 'layer' : 'plain';\n\n    if (el.isGroup || !zr && el.useHoverLayer) {\n      return;\n    }\n\n    var elTarget = el;\n    var targetStyle = el.style;\n\n    if (useHoverLayer) {\n      elTarget = zr.addHover(el);\n      targetStyle = elTarget.style;\n    }\n\n    rollbackDefaultTextStyle(targetStyle);\n\n    if (!useHoverLayer) {\n      cacheElementStl(elTarget);\n    } // styles can be:\n    // {\n    //    label: {\n    //        show: false,\n    //        position: 'outside',\n    //        fontSize: 18\n    //    },\n    //    emphasis: {\n    //        label: {\n    //            show: true\n    //        }\n    //    }\n    // },\n    // where properties of `emphasis` may not appear in `normal`. We previously use\n    // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n    // But consider rich text and setOption in merge mode, it is impossible to cover\n    // all properties in merge. So we use merge mode when setting style here.\n    // But we choose the merge strategy that only properties that is not `null/undefined`.\n    // Because when making a textStyle (espacially rich text), it is not easy to distinguish\n    // `hasOwnProperty` and `null/undefined` in code, so we trade them as the same for simplicity.\n    // But this strategy brings a trouble that `null/undefined` can not be used to remove\n    // style any more in `emphasis`. Users can both set properties directly on normal and\n    // emphasis to avoid this issue, or we might support `'none'` for this case if required.\n\n\n    targetStyle.extendFrom(hoverStl);\n    setDefaultHoverFillStroke(targetStyle, hoverStl, 'fill');\n    setDefaultHoverFillStroke(targetStyle, hoverStl, 'stroke');\n    applyDefaultTextStyle(targetStyle);\n\n    if (!useHoverLayer) {\n      el.dirty(false);\n      el.z2 += Z2_EMPHASIS_LIFT;\n    }\n  }\n\n  function setDefaultHoverFillStroke(targetStyle, hoverStyle, prop) {\n    if (!hasFillOrStroke(hoverStyle[prop]) && hasFillOrStroke(targetStyle[prop])) {\n      targetStyle[prop] = liftColor(targetStyle[prop]);\n    }\n  }\n\n  function singleEnterNormal(el) {\n    var highlighted = el.__highlighted;\n\n    if (!highlighted) {\n      return;\n    }\n\n    el.__highlighted = false;\n\n    if (el.isGroup) {\n      return;\n    }\n\n    if (highlighted === 'layer') {\n      el.__zr && el.__zr.removeHover(el);\n    } else {\n      var style = el.style;\n      var normalStl = el.__cachedNormalStl;\n\n      if (normalStl) {\n        rollbackDefaultTextStyle(style);\n        el.setStyle(normalStl);\n        applyDefaultTextStyle(style);\n      } // `__cachedNormalZ2` will not be reset if calling `setElementHoverStyle`\n      // when `el` is on emphasis state. So here by comparing with 1, we try\n      // hard to make the bug case rare.\n\n\n      var normalZ2 = el.__cachedNormalZ2;\n\n      if (normalZ2 != null && el.z2 - normalZ2 === Z2_EMPHASIS_LIFT) {\n        el.z2 = normalZ2;\n      }\n    }\n  }\n\n  function traverseUpdate(el, updater, commonParam) {\n    // If root is group, also enter updater for `highDownOnUpdate`.\n    var fromState = NORMAL;\n    var toState = NORMAL;\n    var trigger; // See the rule of `highDownOnUpdate` on `graphic.setAsHighDownDispatcher`.\n\n    el.__highlighted && (fromState = EMPHASIS, trigger = true);\n    updater(el, commonParam);\n    el.__highlighted && (toState = EMPHASIS, trigger = true);\n    el.isGroup && el.traverse(function (child) {\n      !child.isGroup && updater(child, commonParam);\n    });\n    trigger && el.__highDownOnUpdate && el.__highDownOnUpdate(fromState, toState);\n  }\n  /**\n   * Set hover style (namely \"emphasis style\") of element, based on the current\n   * style of the given `el`.\n   * This method should be called after all of the normal styles have been adopted\n   * to the `el`. See the reason on `setHoverStyle`.\n   *\n   * @param {module:zrender/Element} el Should not be `zrender/container/Group`.\n   * @param {Object} [el.hoverStyle] Can be set on el or its descendants,\n   *        e.g., `el.hoverStyle = ...; graphic.setHoverStyle(el); `.\n   *        Often used when item group has a label element and it's hoverStyle is different.\n   * @param {Object|boolean} [hoverStl] The specified hover style.\n   *        If set as `false`, disable the hover style.\n   *        Similarly, The `el.hoverStyle` can alse be set\n   *        as `false` to disable the hover style.\n   *        Otherwise, use the default hover style if not provided.\n   */\n\n\n  function setElementHoverStyle(el, hoverStl) {\n    // For performance consideration, it might be better to make the \"hover style\" only the\n    // difference properties from the \"normal style\", but not a entire copy of all styles.\n    hoverStl = el.__hoverStl = hoverStl !== false && (el.hoverStyle || hoverStl || {});\n    el.__hoverStlDirty = true; // FIXME\n    // It is not completely right to save \"normal\"/\"emphasis\" flag on elements.\n    // It probably should be saved on `data` of series. Consider the cases:\n    // (1) A highlighted elements are moved out of the view port and re-enter\n    // again by dataZoom.\n    // (2) call `setOption` and replace elements totally when they are highlighted.\n\n    if (el.__highlighted) {\n      // Consider the case:\n      // The styles of a highlighted `el` is being updated. The new \"emphasis style\"\n      // should be adapted to the `el`. Notice here new \"normal styles\" should have\n      // been set outside and the cached \"normal style\" is out of date.\n      el.__cachedNormalStl = null; // Do not clear `__cachedNormalZ2` here, because setting `z2` is not a constraint\n      // of this method. In most cases, `z2` is not set and hover style should be able\n      // to rollback. Of course, that would bring bug, but only in a rare case, see\n      // `doSingleLeaveHover` for details.\n\n      singleEnterNormal(el);\n      singleEnterEmphasis(el);\n    }\n  }\n\n  function onElementMouseOver(e) {\n    !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n    && !this.__highByOuter && traverseUpdate(this, singleEnterEmphasis);\n  }\n\n  function onElementMouseOut(e) {\n    !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n    && !this.__highByOuter && traverseUpdate(this, singleEnterNormal);\n  }\n\n  function onElementEmphasisEvent(highlightDigit) {\n    this.__highByOuter |= 1 << (highlightDigit || 0);\n    traverseUpdate(this, singleEnterEmphasis);\n  }\n\n  function onElementNormalEvent(highlightDigit) {\n    !(this.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdate(this, singleEnterNormal);\n  }\n\n  function shouldSilent(el, e) {\n    return el.__highDownSilentOnTouch && e.zrByTouch;\n  }\n  /**\n   * Set hover style (namely \"emphasis style\") of element,\n   * based on the current style of the given `el`.\n   *\n   * (1)\n   * **CONSTRAINTS** for this method:\n   * <A> This method MUST be called after all of the normal styles having been adopted\n   * to the `el`.\n   * <B> The input `hoverStyle` (that is, \"emphasis style\") MUST be the subset of the\n   * \"normal style\" having been set to the el.\n   * <C> `color` MUST be one of the \"normal styles\" (because color might be lifted as\n   * a default hover style).\n   *\n   * The reason: this method treat the current style of the `el` as the \"normal style\"\n   * and cache them when enter/update the \"emphasis style\". Consider the case: the `el`\n   * is in \"emphasis\" state and `setOption`/`dispatchAction` trigger the style updating\n   * logic, where the el should shift from the original emphasis style to the new\n   * \"emphasis style\" and should be able to \"downplay\" back to the new \"normal style\".\n   *\n   * Indeed, it is error-prone to make a interface has so many constraints, but I have\n   * not found a better solution yet to fit the backward compatibility, performance and\n   * the current programming style.\n   *\n   * (2)\n   * Call the method for a \"root\" element once. Do not call it for each descendants.\n   * If the descendants elemenets of a group has itself hover style different from the\n   * root group, we can simply mount the style on `el.hoverStyle` for them, but should\n   * not call this method for them.\n   *\n   * (3) These input parameters can be set directly on `el`:\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} [el.hoverStyle] See `graphic.setElementHoverStyle`.\n   * @param {boolean} [el.highDownSilentOnTouch=false] See `graphic.setAsHighDownDispatcher`.\n   * @param {Function} [el.highDownOnUpdate] See `graphic.setAsHighDownDispatcher`.\n   * @param {Object|boolean} [hoverStyle] See `graphic.setElementHoverStyle`.\n   */\n\n\n  function setHoverStyle(el, hoverStyle) {\n    setAsHighDownDispatcher(el, true);\n    traverseUpdate(el, setElementHoverStyle, hoverStyle);\n  }\n  /**\n   * @param {module:zrender/Element} el\n   * @param {Function} [el.highDownOnUpdate] Called when state updated.\n   *        Since `setHoverStyle` has the constraint that it must be called after\n   *        all of the normal style updated, `highDownOnUpdate` is not needed to\n   *        trigger if both `fromState` and `toState` is 'normal', and needed to\n   *        trigger if both `fromState` and `toState` is 'emphasis', which enables\n   *        to sync outside style settings to \"emphasis\" state.\n   *        @this {string} This dispatcher `el`.\n   *        @param {string} fromState Can be \"normal\" or \"emphasis\".\n   *               `fromState` might equal to `toState`,\n   *               for example, when this method is called when `el` is\n   *               on \"emphasis\" state.\n   *        @param {string} toState Can be \"normal\" or \"emphasis\".\n   *\n   *        FIXME\n   *        CAUTION: Do not expose `highDownOnUpdate` outside echarts.\n   *        Because it is not a complete solution. The update\n   *        listener should not have been mount in element,\n   *        and the normal/emphasis state should not have\n   *        mantained on elements.\n   *\n   * @param {boolean} [el.highDownSilentOnTouch=false]\n   *        In touch device, mouseover event will be trigger on touchstart event\n   *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n   *        conveniently use hoverStyle when tap on touch screen without additional\n   *        code for compatibility.\n   *        But if the chart/component has select feature, which usually also use\n   *        hoverStyle, there might be conflict between 'select-highlight' and\n   *        'hover-highlight' especially when roam is enabled (see geo for example).\n   *        In this case, `highDownSilentOnTouch` should be used to disable\n   *        hover-highlight on touch device.\n   * @param {boolean} [asDispatcher=true] If `false`, do not set as \"highDownDispatcher\".\n   */\n\n\n  function setAsHighDownDispatcher(el, asDispatcher) {\n    var disable = asDispatcher === false; // Make `highDownSilentOnTouch` and `highDownOnUpdate` only work after\n    // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n\n    el.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n    el.__highDownOnUpdate = el.highDownOnUpdate; // Simple optimize, since this method might be\n    // called for each elements of a group in some cases.\n\n    if (!disable || el.__highDownDispatcher) {\n      var method = disable ? 'off' : 'on'; // Duplicated function will be auto-ignored, see Eventful.js.\n\n      el[method]('mouseover', onElementMouseOver)[method]('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually by API or other components like hover link.\n\n      el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent); // Also keep previous record.\n\n      el.__highByOuter = el.__highByOuter || 0;\n      el.__highDownDispatcher = !disable;\n    }\n  }\n  /**\n   * @param {module:zrender/src/Element} el\n   * @return {boolean}\n   */\n\n\n  function isHighDownDispatcher(el) {\n    return !!(el && el.__highDownDispatcher);\n  }\n  /**\n   * Support hightlight/downplay record on each elements.\n   * For the case: hover highlight/downplay (legend, visualMap, ...) and\n   * user triggerred hightlight/downplay should not conflict.\n   * Only all of the highlightDigit cleared, return to normal.\n   * @param {string} highlightKey\n   * @return {number} highlightDigit\n   */\n\n\n  function getHighlightDigit(highlightKey) {\n    var highlightDigit = _highlightKeyMap[highlightKey];\n\n    if (highlightDigit == null && _highlightNextDigit <= 32) {\n      highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n    }\n\n    return highlightDigit;\n  }\n  /**\n   * See more info in `setTextStyleCommon`.\n   * @param {Object|module:zrender/graphic/Style} normalStyle\n   * @param {Object} emphasisStyle\n   * @param {module:echarts/model/Model} normalModel\n   * @param {module:echarts/model/Model} emphasisModel\n   * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n   * @param {string|Function} [opt.defaultText]\n   * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n   *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {number} [opt.labelDataIndex] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {number} [opt.labelDimIndex] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {string} [opt.labelProp] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {Object} [normalSpecified]\n   * @param {Object} [emphasisSpecified]\n   */\n\n\n  function setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n    opt = opt || EMPTY_OBJ;\n    var labelFetcher = opt.labelFetcher;\n    var labelDataIndex = opt.labelDataIndex;\n    var labelDimIndex = opt.labelDimIndex;\n    var labelProp = opt.labelProp; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n    // is not supported util someone requests.\n\n    var showNormal = normalModel.getShallow('show');\n    var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n    // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n    // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n    var baseText;\n\n    if (showNormal || showEmphasis) {\n      if (labelFetcher) {\n        baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, labelProp);\n      }\n\n      if (baseText == null) {\n        baseText = util.isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt) : opt.defaultText;\n      }\n    }\n\n    var normalStyleText = showNormal ? baseText : null;\n    var emphasisStyleText = showEmphasis ? util.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex, labelProp) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n    if (normalStyleText != null || emphasisStyleText != null) {\n      // Always set `textStyle` even if `normalStyle.text` is null, because default\n      // values have to be set on `normalStyle`.\n      // If we set default values on `emphasisStyle`, consider case:\n      // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n      // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n      // Then the 'red' will not work on emphasis.\n      setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n      setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n    }\n\n    normalStyle.text = normalStyleText;\n    emphasisStyle.text = emphasisStyleText;\n  }\n  /**\n   * Modify label style manually.\n   * Only works after `setLabelStyle` and `setElementHoverStyle` called.\n   *\n   * @param {module:zrender/src/Element} el\n   * @param {Object} [normalStyleProps] optional\n   * @param {Object} [emphasisStyleProps] optional\n   */\n\n\n  function modifyLabelStyle(el, normalStyleProps, emphasisStyleProps) {\n    var elStyle = el.style;\n\n    if (normalStyleProps) {\n      rollbackDefaultTextStyle(elStyle);\n      el.setStyle(normalStyleProps);\n      applyDefaultTextStyle(elStyle);\n    }\n\n    elStyle = el.__hoverStl;\n\n    if (emphasisStyleProps && elStyle) {\n      rollbackDefaultTextStyle(elStyle);\n      util.extend(elStyle, emphasisStyleProps);\n      applyDefaultTextStyle(elStyle);\n    }\n  }\n  /**\n   * Set basic textStyle properties.\n   * See more info in `setTextStyleCommon`.\n   * @param {Object|module:zrender/graphic/Style} textStyle\n   * @param {module:echarts/model/Model} model\n   * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n   * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n   * @param {boolean} [isEmphasis]\n   */\n\n\n  function setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n    setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n    specifiedTextStyle && util.extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n    return textStyle;\n  }\n  /**\n   * Set text option in the style.\n   * See more info in `setTextStyleCommon`.\n   * @deprecated\n   * @param {Object} textStyle\n   * @param {module:echarts/model/Model} labelModel\n   * @param {string|boolean} defaultColor Default text color.\n   *        If set as false, it will be processed as a emphasis style.\n   */\n\n\n  function setText(textStyle, labelModel, defaultColor) {\n    var opt = {\n      isRectText: true\n    };\n    var isEmphasis;\n\n    if (defaultColor === false) {\n      isEmphasis = true;\n    } else {\n      // Support setting color as 'auto' to get visual color.\n      opt.autoColor = defaultColor;\n    }\n\n    setTextStyleCommon(textStyle, labelModel, opt, isEmphasis); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n  }\n  /**\n   * The uniform entry of set text style, that is, retrieve style definitions\n   * from `model` and set to `textStyle` object.\n   *\n   * Never in merge mode, but in overwrite mode, that is, all of the text style\n   * properties will be set. (Consider the states of normal and emphasis and\n   * default value can be adopted, merge would make the logic too complicated\n   * to manage.)\n   *\n   * The `textStyle` object can either be a plain object or an instance of\n   * `zrender/src/graphic/Style`, and either be the style of normal or emphasis.\n   * After this mothod called, the `textStyle` object can then be used in\n   * `el.setStyle(textStyle)` or `el.hoverStyle = textStyle`.\n   *\n   * Default value will be adopted and `insideRollbackOpt` will be created.\n   * See `applyDefaultTextStyle` `rollbackDefaultTextStyle` for more details.\n   *\n   * opt: {\n   *      disableBox: boolean, Whether diable drawing box of block (outer most).\n   *      isRectText: boolean,\n   *      autoColor: string, specify a color when color is 'auto',\n   *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n   *              If autoColor specified, it is used as default textFill.\n   *      useInsideStyle:\n   *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n   *                  if `textFill` is not specified.\n   *              `false`: Do not use inside style.\n   *              `null/undefined`: use inside style if `isRectText` is true and\n   *                  `textFill` is not specified and textPosition contains `'inside'`.\n   *      forceRich: boolean\n   * }\n   */\n\n\n  function setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n    // Consider there will be abnormal when merge hover style to normal style if given default value.\n    opt = opt || EMPTY_OBJ;\n\n    if (opt.isRectText) {\n      var textPosition;\n\n      if (opt.getTextPosition) {\n        textPosition = opt.getTextPosition(textStyleModel, isEmphasis);\n      } else {\n        textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n        // in bar series, and magric type should be considered.\n\n        textPosition === 'outside' && (textPosition = 'top');\n      }\n\n      textStyle.textPosition = textPosition;\n      textStyle.textOffset = textStyleModel.getShallow('offset');\n      var labelRotate = textStyleModel.getShallow('rotate');\n      labelRotate != null && (labelRotate *= Math.PI / 180);\n      textStyle.textRotation = labelRotate;\n      textStyle.textDistance = util.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n    }\n\n    var ecModel = textStyleModel.ecModel;\n    var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n    // {\n    //     data: [{\n    //         value: 12,\n    //         label: {\n    //             rich: {\n    //                 // no 'a' here but using parent 'a'.\n    //             }\n    //         }\n    //     }],\n    //     rich: {\n    //         a: { ... }\n    //     }\n    // }\n\n    var richItemNames = getRichItemNames(textStyleModel);\n    var richResult;\n\n    if (richItemNames) {\n      richResult = {};\n\n      for (var name in richItemNames) {\n        if (richItemNames.hasOwnProperty(name)) {\n          // Cascade is supported in rich.\n          var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n          // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n          // the default color `'blue'` will not be adopted if no color declared in `rich`.\n          // That might confuses users. So probably we should put `textStyleModel` as the\n          // root ancestor of the `richTextStyle`. But that would be a break change.\n\n          setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n        }\n      }\n    }\n\n    textStyle.rich = richResult;\n    setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n    if (opt.forceRich && !opt.textStyle) {\n      opt.textStyle = {};\n    }\n\n    return textStyle;\n  } // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n\n  function getRichItemNames(textStyleModel) {\n    // Use object to remove duplicated names.\n    var richItemNameMap;\n\n    while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n      var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n      if (rich) {\n        richItemNameMap = richItemNameMap || {};\n\n        for (var name in rich) {\n          if (rich.hasOwnProperty(name)) {\n            richItemNameMap[name] = 1;\n          }\n        }\n      }\n\n      textStyleModel = textStyleModel.parentModel;\n    }\n\n    return richItemNameMap;\n  }\n\n  function setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n    // In merge mode, default value should not be given.\n    globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n    textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n    textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n    textStyle.textStrokeWidth = util.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n    if (!isEmphasis) {\n      if (isBlock) {\n        textStyle.insideRollbackOpt = opt;\n        applyDefaultTextStyle(textStyle);\n      } // Set default finally.\n\n\n      if (textStyle.textFill == null) {\n        textStyle.textFill = opt.autoColor;\n      }\n    } // Do not use `getFont` here, because merge should be supported, where\n    // part of these properties may be changed in emphasis style, and the\n    // others should remain their original value got from normal style.\n\n\n    textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n    textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n    textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n    textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n    textStyle.textAlign = textStyleModel.getShallow('align');\n    textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n    textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n    textStyle.textWidth = textStyleModel.getShallow('width');\n    textStyle.textHeight = textStyleModel.getShallow('height');\n    textStyle.textTag = textStyleModel.getShallow('tag');\n\n    if (!isBlock || !opt.disableBox) {\n      textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n      textStyle.textPadding = textStyleModel.getShallow('padding');\n      textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n      textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n      textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n      textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n      textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n      textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n      textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n    }\n\n    textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n    textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n    textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n    textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n  }\n\n  function getAutoColor(color, opt) {\n    return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n  }\n  /**\n   * Give some default value to the input `textStyle` object, based on the current settings\n   * in this `textStyle` object.\n   *\n   * The Scenario:\n   * when text position is `inside` and `textFill` is not specified, we show\n   * text border by default for better view. But it should be considered that text position\n   * might be changed when hovering or being emphasis, where the `insideRollback` is used to\n   * restore the style.\n   *\n   * Usage (& NOTICE):\n   * When a style object (eithor plain object or instance of `zrender/src/graphic/Style`) is\n   * about to be modified on its text related properties, `rollbackDefaultTextStyle` should\n   * be called before the modification and `applyDefaultTextStyle` should be called after that.\n   * (For the case that all of the text related properties is reset, like `setTextStyleCommon`\n   * does, `rollbackDefaultTextStyle` is not needed to be called).\n   */\n\n\n  function applyDefaultTextStyle(textStyle) {\n    var textPosition = textStyle.textPosition;\n    var opt = textStyle.insideRollbackOpt;\n    var insideRollback;\n\n    if (opt && textStyle.textFill == null) {\n      var autoColor = opt.autoColor;\n      var isRectText = opt.isRectText;\n      var useInsideStyle = opt.useInsideStyle;\n      var useInsideStyleCache = useInsideStyle !== false && (useInsideStyle === true || isRectText && textPosition // textPosition can be [10, 30]\n      && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0);\n      var useAutoColorCache = !useInsideStyleCache && autoColor != null; // All of the props declared in `CACHED_LABEL_STYLE_PROPERTIES` are to be cached.\n\n      if (useInsideStyleCache || useAutoColorCache) {\n        insideRollback = {\n          textFill: textStyle.textFill,\n          textStroke: textStyle.textStroke,\n          textStrokeWidth: textStyle.textStrokeWidth\n        };\n      }\n\n      if (useInsideStyleCache) {\n        textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n        if (textStyle.textStroke == null) {\n          textStyle.textStroke = autoColor;\n          textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n        }\n      }\n\n      if (useAutoColorCache) {\n        textStyle.textFill = autoColor;\n      }\n    } // Always set `insideRollback`, so that the previous one can be cleared.\n\n\n    textStyle.insideRollback = insideRollback;\n  }\n  /**\n   * Consider the case: in a scatter,\n   * label: {\n   *     normal: {position: 'inside'},\n   *     emphasis: {position: 'top'}\n   * }\n   * In the normal state, the `textFill` will be set as '#fff' for pretty view (see\n   * `applyDefaultTextStyle`), but when switching to emphasis state, the `textFill`\n   * should be retured to 'autoColor', but not keep '#fff'.\n   */\n\n\n  function rollbackDefaultTextStyle(style) {\n    var insideRollback = style.insideRollback;\n\n    if (insideRollback) {\n      // Reset all of the props in `CACHED_LABEL_STYLE_PROPERTIES`.\n      style.textFill = insideRollback.textFill;\n      style.textStroke = insideRollback.textStroke;\n      style.textStrokeWidth = insideRollback.textStrokeWidth;\n      style.insideRollback = null;\n    }\n  }\n\n  function getFont(opt, ecModel) {\n    var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n    return util.trim([// FIXME in node-canvas fontWeight is before fontStyle\n    opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n  }\n\n  function animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n    if (typeof dataIndex === 'function') {\n      cb = dataIndex;\n      dataIndex = null;\n    } // Do not check 'animation' property directly here. Consider this case:\n    // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n    // but its parent model (`seriesModel`) does.\n\n\n    var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n    if (animationEnabled) {\n      var postfix = isUpdate ? 'Update' : '';\n      var duration = animatableModel.getShallow('animationDuration' + postfix);\n      var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n      var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n      if (typeof animationDelay === 'function') {\n        animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n      }\n\n      if (typeof duration === 'function') {\n        duration = duration(dataIndex);\n      }\n\n      duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n    } else {\n      el.stopAnimation();\n      el.attr(props);\n      cb && cb();\n    }\n  }\n  /**\n   * Update graphic element properties with or without animation according to the\n   * configuration in series.\n   *\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} props\n   * @param {module:echarts/model/Model} [animatableModel]\n   * @param {number} [dataIndex]\n   * @param {Function} [cb]\n   * @example\n   *     graphic.updateProps(el, {\n   *         position: [100, 100]\n   *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n   *     // Or\n   *     graphic.updateProps(el, {\n   *         position: [100, 100]\n   *     }, seriesModel, function () { console.log('Animation done!'); });\n   */\n\n\n  function updateProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n  }\n  /**\n   * Init graphic element properties with or without animation according to the\n   * configuration in series.\n   *\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} props\n   * @param {module:echarts/model/Model} [animatableModel]\n   * @param {number} [dataIndex]\n   * @param {Function} cb\n   */\n\n\n  function initProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n  }\n  /**\n   * Get transform matrix of target (param target),\n   * in coordinate of its ancestor (param ancestor)\n   *\n   * @param {module:zrender/mixin/Transformable} target\n   * @param {module:zrender/mixin/Transformable} [ancestor]\n   */\n\n\n  function getTransform(target, ancestor) {\n    var mat = matrix.identity([]);\n\n    while (target && target !== ancestor) {\n      matrix.mul(mat, target.getLocalTransform(), mat);\n      target = target.parent;\n    }\n\n    return mat;\n  }\n  /**\n   * Apply transform to an vertex.\n   * @param {Array.<number>} target [x, y]\n   * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n   *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n   *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n   * @param {boolean=} invert Whether use invert matrix.\n   * @return {Array.<number>} [x, y]\n   */\n\n\n  function applyTransform$1(target, transform, invert) {\n    if (transform && !util.isArrayLike(transform)) {\n      transform = Transformable_1.getLocalTransform(transform);\n    }\n\n    if (invert) {\n      transform = matrix.invert([], transform);\n    }\n\n    return vector.applyTransform([], target, transform);\n  }\n  /**\n   * @param {string} direction 'left' 'right' 'top' 'bottom'\n   * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n   * @param {boolean=} invert Whether use invert matrix.\n   * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n   */\n\n\n  function transformDirection(direction, transform, invert) {\n    // Pick a base, ensure that transform result will not be (0, 0).\n    var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n    var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n    var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n    vertex = applyTransform$1(vertex, transform, invert);\n    return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n  }\n  /**\n   * Apply group transition animation from g1 to g2.\n   * If no animatableModel, no animation.\n   */\n\n\n  function groupTransition(g1, g2, animatableModel, cb) {\n    if (!g1 || !g2) {\n      return;\n    }\n\n    function getElMap(g) {\n      var elMap = {};\n      g.traverse(function (el) {\n        if (!el.isGroup && el.anid) {\n          elMap[el.anid] = el;\n        }\n      });\n      return elMap;\n    }\n\n    function getAnimatableProps(el) {\n      var obj = {\n        position: vector.clone(el.position),\n        rotation: el.rotation\n      };\n\n      if (el.shape) {\n        obj.shape = util.extend({}, el.shape);\n      }\n\n      return obj;\n    }\n\n    var elMap1 = getElMap(g1);\n    g2.traverse(function (el) {\n      if (!el.isGroup && el.anid) {\n        var oldEl = elMap1[el.anid];\n\n        if (oldEl) {\n          var newProp = getAnimatableProps(el);\n          el.attr(getAnimatableProps(oldEl));\n          updateProps(el, newProp, animatableModel, el.dataIndex);\n        } // else {\n        //     if (el.previousProps) {\n        //         graphic.updateProps\n        //     }\n        // }\n\n      }\n    });\n  }\n  /**\n   * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n   * @param {Object} rect {x, y, width, height}\n   * @return {Array.<Array.<number>>} A new clipped points.\n   */\n\n\n  function clipPointsByRect(points, rect) {\n    // FIXME: this way migth be incorrect when grpahic clipped by a corner.\n    // and when element have border.\n    return util.map(points, function (point) {\n      var x = point[0];\n      x = mathMax$3(x, rect.x);\n      x = mathMin$3(x, rect.x + rect.width);\n      var y = point[1];\n      y = mathMax$3(y, rect.y);\n      y = mathMin$3(y, rect.y + rect.height);\n      return [x, y];\n    });\n  }\n  /**\n   * @param {Object} targetRect {x, y, width, height}\n   * @param {Object} rect {x, y, width, height}\n   * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n   */\n\n\n  function clipRectByRect(targetRect, rect) {\n    var x = mathMax$3(targetRect.x, rect.x);\n    var x2 = mathMin$3(targetRect.x + targetRect.width, rect.x + rect.width);\n    var y = mathMax$3(targetRect.y, rect.y);\n    var y2 = mathMin$3(targetRect.y + targetRect.height, rect.y + rect.height); // If the total rect is cliped, nothing, including the border,\n    // should be painted. So return undefined.\n\n    if (x2 >= x && y2 >= y) {\n      return {\n        x: x,\n        y: y,\n        width: x2 - x,\n        height: y2 - y\n      };\n    }\n  }\n  /**\n   * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n   * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n   * @param {Object} [rect] {x, y, width, height}\n   * @return {module:zrender/Element} Icon path or image element.\n   */\n\n\n  function createIcon(iconStr, opt, rect) {\n    opt = util.extend({\n      rectHover: true\n    }, opt);\n    var style = opt.style = {\n      strokeNoScale: true\n    };\n    rect = rect || {\n      x: -1,\n      y: -1,\n      width: 2,\n      height: 2\n    };\n\n    if (iconStr) {\n      return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), util.defaults(style, rect), new Image$1(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n    }\n  }\n  /**\n   * Return `true` if the given line (line `a`) and the given polygon\n   * are intersect.\n   * Note that we do not count colinear as intersect here because no\n   * requirement for that. We could do that if required in future.\n   *\n   * @param {number} a1x\n   * @param {number} a1y\n   * @param {number} a2x\n   * @param {number} a2y\n   * @param {Array.<Array.<number>>} points Points of the polygon.\n   * @return {boolean}\n   */\n\n\n  function linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n    for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n      var p = points[i];\n\n      if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n        return true;\n      }\n\n      p2 = p;\n    }\n  }\n  /**\n   * Return `true` if the given two lines (line `a` and line `b`)\n   * are intersect.\n   * Note that we do not count colinear as intersect here because no\n   * requirement for that. We could do that if required in future.\n   *\n   * @param {number} a1x\n   * @param {number} a1y\n   * @param {number} a2x\n   * @param {number} a2y\n   * @param {number} b1x\n   * @param {number} b1y\n   * @param {number} b2x\n   * @param {number} b2y\n   * @return {boolean}\n   */\n\n\n  function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y; // `vec_m` and `vec_n` are parallel iff\n    //     exising `k` such that `vec_m = k  vec_n`, equivalent to `vec_m X vec_n = 0`.\n\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n\n    if (nearZero(nmCrossProduct)) {\n      return false;\n    } // `vec_m` and `vec_n` are intersect iff\n    //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n    //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n    //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n\n\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n\n    if (q < 0 || q > 1) {\n      return false;\n    }\n\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n\n    if (p < 0 || p > 1) {\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Cross product of 2-dimension vector.\n   */\n\n\n  function crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n  }\n\n  function nearZero(val) {\n    return val <= 1e-6 && val >= -1e-6;\n  } // Register built-in shapes. These shapes might be overwirtten\n  // by users, although we do not recommend that.\n\n\n  registerShape('circle', Circle);\n  registerShape('sector', Sector);\n  registerShape('ring', Ring);\n  registerShape('polygon', Polygon);\n  registerShape('polyline', Polyline);\n  registerShape('rect', Rect);\n  registerShape('line', Line);\n  registerShape('bezierCurve', BezierCurve);\n  registerShape('arc', Arc);\n  var Z2_EMPHASIS_LIFT_1 = Z2_EMPHASIS_LIFT;\n  var CACHED_LABEL_STYLE_PROPERTIES_1 = CACHED_LABEL_STYLE_PROPERTIES;\n  var extendShape_1 = extendShape;\n  var extendPath_1 = extendPath;\n  var registerShape_1 = registerShape;\n  var getShapeClass_1 = getShapeClass;\n  var makePath_1 = makePath;\n  var makeImage_1 = makeImage;\n  var mergePath_1$1 = mergePath$1;\n  var resizePath_1 = resizePath;\n  var subPixelOptimizeLine_1$1 = subPixelOptimizeLine$2;\n  var subPixelOptimizeRect_1$1 = subPixelOptimizeRect$2;\n  var subPixelOptimize_1$1 = subPixelOptimize$1;\n  var setElementHoverStyle_1 = setElementHoverStyle;\n  var setHoverStyle_1 = setHoverStyle;\n  var setAsHighDownDispatcher_1 = setAsHighDownDispatcher;\n  var isHighDownDispatcher_1 = isHighDownDispatcher;\n  var getHighlightDigit_1 = getHighlightDigit;\n  var setLabelStyle_1 = setLabelStyle;\n  var modifyLabelStyle_1 = modifyLabelStyle;\n  var setTextStyle_1 = setTextStyle;\n  var setText_1 = setText;\n  var getFont_1 = getFont;\n  var updateProps_1 = updateProps;\n  var initProps_1 = initProps;\n  var getTransform_1 = getTransform;\n  var applyTransform_1$1 = applyTransform$1;\n  var transformDirection_1 = transformDirection;\n  var groupTransition_1 = groupTransition;\n  var clipPointsByRect_1 = clipPointsByRect;\n  var clipRectByRect_1 = clipRectByRect;\n  var createIcon_1 = createIcon;\n  var linePolygonIntersect_1 = linePolygonIntersect;\n  var lineLineIntersect_1 = lineLineIntersect;\n\n  var graphic = {\n  \tImage: Image$2,\n  \tGroup: Group_1$1,\n  \tText: Text_1$1,\n  \tCircle: Circle_1,\n  \tSector: Sector_1,\n  \tRing: Ring_1,\n  \tPolygon: Polygon_1,\n  \tPolyline: Polyline_1,\n  \tRect: Rect_1,\n  \tLine: Line_1,\n  \tBezierCurve: BezierCurve_1,\n  \tArc: Arc_1,\n  \tCompoundPath: CompoundPath_1,\n  \tLinearGradient: LinearGradient_1$1,\n  \tRadialGradient: RadialGradient_1$1,\n  \tBoundingRect: BoundingRect_1$1,\n  \tIncrementalDisplayable: IncrementalDisplayable_1,\n  \tZ2_EMPHASIS_LIFT: Z2_EMPHASIS_LIFT_1,\n  \tCACHED_LABEL_STYLE_PROPERTIES: CACHED_LABEL_STYLE_PROPERTIES_1,\n  \textendShape: extendShape_1,\n  \textendPath: extendPath_1,\n  \tregisterShape: registerShape_1,\n  \tgetShapeClass: getShapeClass_1,\n  \tmakePath: makePath_1,\n  \tmakeImage: makeImage_1,\n  \tmergePath: mergePath_1$1,\n  \tresizePath: resizePath_1,\n  \tsubPixelOptimizeLine: subPixelOptimizeLine_1$1,\n  \tsubPixelOptimizeRect: subPixelOptimizeRect_1$1,\n  \tsubPixelOptimize: subPixelOptimize_1$1,\n  \tsetElementHoverStyle: setElementHoverStyle_1,\n  \tsetHoverStyle: setHoverStyle_1,\n  \tsetAsHighDownDispatcher: setAsHighDownDispatcher_1,\n  \tisHighDownDispatcher: isHighDownDispatcher_1,\n  \tgetHighlightDigit: getHighlightDigit_1,\n  \tsetLabelStyle: setLabelStyle_1,\n  \tmodifyLabelStyle: modifyLabelStyle_1,\n  \tsetTextStyle: setTextStyle_1,\n  \tsetText: setText_1,\n  \tgetFont: getFont_1,\n  \tupdateProps: updateProps_1,\n  \tinitProps: initProps_1,\n  \tgetTransform: getTransform_1,\n  \tapplyTransform: applyTransform_1$1,\n  \ttransformDirection: transformDirection_1,\n  \tgroupTransition: groupTransition_1,\n  \tclipPointsByRect: clipPointsByRect_1,\n  \tclipRectByRect: clipRectByRect_1,\n  \tcreateIcon: createIcon_1,\n  \tlinePolygonIntersect: linePolygonIntersect_1,\n  \tlineLineIntersect: lineLineIntersect_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PATH_COLOR = ['textStyle', 'color'];\n  var _default$Q = {\n    /**\n     * Get color property or get color from option.textStyle.color\n     * @param {boolean} [isEmphasis]\n     * @return {string}\n     */\n    getTextColor: function (isEmphasis) {\n      var ecModel = this.ecModel;\n      return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n    },\n\n    /**\n     * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n     * @return {string}\n     */\n    getFont: function () {\n      return graphic.getFont({\n        fontStyle: this.getShallow('fontStyle'),\n        fontWeight: this.getShallow('fontWeight'),\n        fontSize: this.getShallow('fontSize'),\n        fontFamily: this.getShallow('fontFamily')\n      }, this.ecModel);\n    },\n    getTextRect: function (text$1) {\n      return text.getBoundingRect(text$1, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('lineHeight'), this.getShallow('rich'), this.getShallow('truncateText'));\n    }\n  };\n  var textStyle = _default$Q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]);\n  var _default$R = {\n    getItemStyle: function (excludes, includes) {\n      var style = getItemStyle(this, excludes, includes);\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n      return style;\n    },\n    getBorderLineDash: function () {\n      var lineType = this.get('borderType');\n      return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [5, 5] : [1, 1];\n    }\n  };\n  var itemStyle = _default$R;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$1 = model.makeInner;\n\n\n\n  var enableClassExtend$1 = clazz.enableClassExtend;\n  var enableClassCheck$1 = clazz.enableClassCheck;\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/model/Model\n   */\n  var mixin$1 = util.mixin;\n  var inner = makeInner$1();\n  /**\n   * @alias module:echarts/model/Model\n   * @constructor\n   * @param {Object} [option]\n   * @param {module:echarts/model/Model} [parentModel]\n   * @param {module:echarts/model/Global} [ecModel]\n   */\n\n  function Model(option, parentModel, ecModel) {\n    /**\n     * @type {module:echarts/model/Model}\n     * @readOnly\n     */\n    this.parentModel = parentModel;\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n\n    this.ecModel = ecModel;\n    /**\n     * @type {Object}\n     * @protected\n     */\n\n    this.option = option; // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n\n  Model.prototype = {\n    constructor: Model,\n\n    /**\n     * Model \n     * @param {Object} option\n     */\n    init: null,\n\n    /**\n     *  Option merge\n     */\n    mergeOption: function (option) {\n      util.merge(this.option, option, true);\n    },\n\n    /**\n     * @param {string|Array.<string>} path\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    get: function (path, ignoreParent) {\n      if (path == null) {\n        return this.option;\n      }\n\n      return doGet(this.option, this.parsePath(path), !ignoreParent && getParent(this, path));\n    },\n\n    /**\n     * @param {string} key\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    getShallow: function (key, ignoreParent) {\n      var option = this.option;\n      var val = option == null ? option : option[key];\n      var parentModel = !ignoreParent && getParent(this, key);\n\n      if (val == null && parentModel) {\n        val = parentModel.getShallow(key);\n      }\n\n      return val;\n    },\n\n    /**\n     * @param {string|Array.<string>} [path]\n     * @param {module:echarts/model/Model} [parentModel]\n     * @return {module:echarts/model/Model}\n     */\n    getModel: function (path, parentModel) {\n      var obj = path == null ? this.option : doGet(this.option, path = this.parsePath(path));\n      var thisParentModel;\n      parentModel = parentModel || (thisParentModel = getParent(this, path)) && thisParentModel.getModel(path);\n      return new Model(obj, parentModel, this.ecModel);\n    },\n\n    /**\n     * If model has option\n     */\n    isEmpty: function () {\n      return this.option == null;\n    },\n    restoreData: function () {},\n    // Pending\n    clone: function () {\n      var Ctor = this.constructor;\n      return new Ctor(util.clone(this.option));\n    },\n    setReadOnly: function (properties) {// clazzUtil.setReadOnly(this, properties);\n    },\n    // If path is null/undefined, return null/undefined.\n    parsePath: function (path) {\n      if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      return path;\n    },\n\n    /**\n     * @param {Function} getParentMethod\n     *        param {Array.<string>|string} path\n     *        return {module:echarts/model/Model}\n     */\n    customizeGetParent: function (getParentMethod) {\n      inner(this).getParent = getParentMethod;\n    },\n    isAnimationEnabled: function () {\n      if (!env_1.node) {\n        if (this.option.animation != null) {\n          return !!this.option.animation;\n        } else if (this.parentModel) {\n          return this.parentModel.isAnimationEnabled();\n        }\n      }\n    }\n  };\n\n  function doGet(obj, pathArr, parentModel) {\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      } // obj could be number/string/... (like 0)\n\n\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    if (obj == null && parentModel) {\n      obj = parentModel.get(pathArr);\n    }\n\n    return obj;\n  } // `path` can be null/undefined\n\n\n  function getParent(model, path) {\n    var getParentMethod = inner(model).getParent;\n    return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n  } // Enable Model.extend.\n\n\n  enableClassExtend$1(Model);\n  enableClassCheck$1(Model);\n  mixin$1(Model, lineStyle);\n  mixin$1(Model, areaStyle);\n  mixin$1(Model, textStyle);\n  mixin$1(Model, itemStyle);\n  var _default$S = Model;\n  var Model_1 = _default$S;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parseClassType$1 = clazz.parseClassType;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var base = 0;\n  /**\n   * @public\n   * @param {string} type\n   * @return {string}\n   */\n\n  function getUID(type) {\n    // Considering the case of crossing js context,\n    // use Math.random to make id as unique as possible.\n    return [type || '', base++, Math.random().toFixed(5)].join('_');\n  }\n  /**\n   * @inner\n   */\n\n\n  function enableSubTypeDefaulter(entity) {\n    var subTypeDefaulters = {};\n\n    entity.registerSubTypeDefaulter = function (componentType, defaulter) {\n      componentType = parseClassType$1(componentType);\n      subTypeDefaulters[componentType.main] = defaulter;\n    };\n\n    entity.determineSubType = function (componentType, option) {\n      var type = option.type;\n\n      if (!type) {\n        var componentTypeMain = parseClassType$1(componentType).main;\n\n        if (entity.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n          type = subTypeDefaulters[componentTypeMain](option);\n        }\n      }\n\n      return type;\n    };\n\n    return entity;\n  }\n  /**\n   * Topological travel on Activity Network (Activity On Vertices).\n   * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n   *\n   * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n   *\n   * If there is circle dependencey, Error will be thrown.\n   *\n   */\n\n\n  function enableTopologicalTravel(entity, dependencyGetter) {\n    /**\n     * @public\n     * @param {Array.<string>} targetNameList Target Component type list.\n     *                                           Can be ['aa', 'bb', 'aa.xx']\n     * @param {Array.<string>} fullNameList By which we can build dependency graph.\n     * @param {Function} callback Params: componentType, dependencies.\n     * @param {Object} context Scope of callback.\n     */\n    entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n      if (!targetNameList.length) {\n        return;\n      }\n\n      var result = makeDepndencyGraph(fullNameList);\n      var graph = result.graph;\n      var stack = result.noEntryList;\n      var targetNameSet = {};\n      util.each(targetNameList, function (name) {\n        targetNameSet[name] = true;\n      });\n\n      while (stack.length) {\n        var currComponentType = stack.pop();\n        var currVertex = graph[currComponentType];\n        var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n        if (isInTargetNameSet) {\n          callback.call(context, currComponentType, currVertex.originalDeps.slice());\n          delete targetNameSet[currComponentType];\n        }\n\n        util.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n      }\n\n      util.each(targetNameSet, function () {\n        throw new Error('Circle dependency may exists');\n      });\n\n      function removeEdge(succComponentType) {\n        graph[succComponentType].entryCount--;\n\n        if (graph[succComponentType].entryCount === 0) {\n          stack.push(succComponentType);\n        }\n      } // Consider this case: legend depends on series, and we call\n      // chart.setOption({series: [...]}), where only series is in option.\n      // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n      // not be called, but only sereis.mergeOption is called. Thus legend\n      // have no chance to update its local record about series (like which\n      // name of series is available in legend).\n\n\n      function removeEdgeAndAdd(succComponentType) {\n        targetNameSet[succComponentType] = true;\n        removeEdge(succComponentType);\n      }\n    };\n    /**\n     * DepndencyGraph: {Object}\n     * key: conponentType,\n     * value: {\n     *     successor: [conponentTypes...],\n     *     originalDeps: [conponentTypes...],\n     *     entryCount: {number}\n     * }\n     */\n\n\n    function makeDepndencyGraph(fullNameList) {\n      var graph = {};\n      var noEntryList = [];\n      util.each(fullNameList, function (name) {\n        var thisItem = createDependencyGraphItem(graph, name);\n        var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n        var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n        thisItem.entryCount = availableDeps.length;\n\n        if (thisItem.entryCount === 0) {\n          noEntryList.push(name);\n        }\n\n        util.each(availableDeps, function (dependentName) {\n          if (util.indexOf(thisItem.predecessor, dependentName) < 0) {\n            thisItem.predecessor.push(dependentName);\n          }\n\n          var thatItem = createDependencyGraphItem(graph, dependentName);\n\n          if (util.indexOf(thatItem.successor, dependentName) < 0) {\n            thatItem.successor.push(name);\n          }\n        });\n      });\n      return {\n        graph: graph,\n        noEntryList: noEntryList\n      };\n    }\n\n    function createDependencyGraphItem(graph, name) {\n      if (!graph[name]) {\n        graph[name] = {\n          predecessor: [],\n          successor: []\n        };\n      }\n\n      return graph[name];\n    }\n\n    function getAvailableDependencies(originalDeps, fullNameList) {\n      var availableDeps = [];\n      util.each(originalDeps, function (dep) {\n        util.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n      });\n      return availableDeps;\n    }\n  }\n\n  var getUID_1 = getUID;\n  var enableSubTypeDefaulter_1 = enableSubTypeDefaulter;\n  var enableTopologicalTravel_1 = enableTopologicalTravel;\n\n  var component = {\n  \tgetUID: getUID_1,\n  \tenableSubTypeDefaulter: enableSubTypeDefaulter_1,\n  \tenableTopologicalTravel: enableTopologicalTravel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * A third-party license is embeded for some of the code in this file:\n  * The method \"quantile\" was copied from \"d3.js\".\n  * (See more details in the comment of the method below.)\n  * The use of the source code of this file is also subject to the terms\n  * and consitions of the license of \"d3.js\" (BSD-3Clause, see\n  * </licenses/LICENSE-d3>).\n  */\n  var RADIAN_EPSILON = 1e-4;\n\n  function _trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }\n  /**\n   * Linear mapping a value from domain to range\n   * @memberOf module:echarts/util/number\n   * @param  {(number|Array.<number>)} val\n   * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n   * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n   * @param  {boolean} clamp\n   * @return {(number|Array.<number>}\n   */\n\n\n  function linearMap(val, domain, range, clamp) {\n    var subDomain = domain[1] - domain[0];\n    var subRange = range[1] - range[0];\n\n    if (subDomain === 0) {\n      return subRange === 0 ? range[0] : (range[0] + range[1]) / 2;\n    } // Avoid accuracy problem in edge, such as\n    // 146.39 - 62.83 === 83.55999999999999.\n    // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n    // It is a little verbose for efficiency considering this method\n    // is a hotspot.\n\n\n    if (clamp) {\n      if (subDomain > 0) {\n        if (val <= domain[0]) {\n          return range[0];\n        } else if (val >= domain[1]) {\n          return range[1];\n        }\n      } else {\n        if (val >= domain[0]) {\n          return range[0];\n        } else if (val <= domain[1]) {\n          return range[1];\n        }\n      }\n    } else {\n      if (val === domain[0]) {\n        return range[0];\n      }\n\n      if (val === domain[1]) {\n        return range[1];\n      }\n    }\n\n    return (val - domain[0]) / subDomain * subRange + range[0];\n  }\n  /**\n   * Convert a percent string to absolute number.\n   * Returns NaN if percent is not a valid string or number\n   * @memberOf module:echarts/util/number\n   * @param {string|number} percent\n   * @param {number} all\n   * @return {number}\n   */\n\n\n  function parsePercent$1(percent, all) {\n    switch (percent) {\n      case 'center':\n      case 'middle':\n        percent = '50%';\n        break;\n\n      case 'left':\n      case 'top':\n        percent = '0%';\n        break;\n\n      case 'right':\n      case 'bottom':\n        percent = '100%';\n        break;\n    }\n\n    if (typeof percent === 'string') {\n      if (_trim(percent).match(/%$/)) {\n        return parseFloat(percent) / 100 * all;\n      }\n\n      return parseFloat(percent);\n    }\n\n    return percent == null ? NaN : +percent;\n  }\n  /**\n   * (1) Fix rounding error of float numbers.\n   * (2) Support return string to avoid scientific notation like '3.5e-7'.\n   *\n   * @param {number} x\n   * @param {number} [precision]\n   * @param {boolean} [returnStr]\n   * @return {number|string}\n   */\n\n\n  function round$1(x, precision, returnStr) {\n    if (precision == null) {\n      precision = 10;\n    } // Avoid range error\n\n\n    precision = Math.min(Math.max(0, precision), 20);\n    x = (+x).toFixed(precision);\n    return returnStr ? x : +x;\n  }\n  /**\n   * asc sort arr.\n   * The input arr will be modified.\n   *\n   * @param {Array} arr\n   * @return {Array} The input arr.\n   */\n\n\n  function asc(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    return arr;\n  }\n  /**\n   * Get precision\n   * @param {number} val\n   */\n\n\n  function getPrecision(val) {\n    val = +val;\n\n    if (isNaN(val)) {\n      return 0;\n    } // It is much faster than methods converting number to string as follows\n    //      var tmp = val.toString();\n    //      return tmp.length - 1 - tmp.indexOf('.');\n    // especially when precision is low\n\n\n    var e = 1;\n    var count = 0;\n\n    while (Math.round(val * e) / e !== val) {\n      e *= 10;\n      count++;\n    }\n\n    return count;\n  }\n  /**\n   * @param {string|number} val\n   * @return {number}\n   */\n\n\n  function getPrecisionSafe(val) {\n    var str = val.toString(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n    var eIndex = str.indexOf('e');\n\n    if (eIndex > 0) {\n      var precision = +str.slice(eIndex + 1);\n      return precision < 0 ? -precision : 0;\n    } else {\n      var dotIndex = str.indexOf('.');\n      return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n    }\n  }\n  /**\n   * Minimal dicernible data precisioin according to a single pixel.\n   *\n   * @param {Array.<number>} dataExtent\n   * @param {Array.<number>} pixelExtent\n   * @return {number} precision\n   */\n\n\n  function getPixelPrecision(dataExtent, pixelExtent) {\n    var log = Math.log;\n    var LN10 = Math.LN10;\n    var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n    var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n    var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n    return !isFinite(precision) ? 20 : precision;\n  }\n  /**\n   * Get a data of given precision, assuring the sum of percentages\n   * in valueList is 1.\n   * The largest remainer method is used.\n   * https://en.wikipedia.org/wiki/Largest_remainder_method\n   *\n   * @param {Array.<number>} valueList a list of all data\n   * @param {number} idx index of the data to be processed in valueList\n   * @param {number} precision integer number showing digits of precision\n   * @return {number} percent ranging from 0 to 100\n   */\n\n\n  function getPercentWithPrecision(valueList, idx, precision) {\n    if (!valueList[idx]) {\n      return 0;\n    }\n\n    var sum = util.reduce(valueList, function (acc, val) {\n      return acc + (isNaN(val) ? 0 : val);\n    }, 0);\n\n    if (sum === 0) {\n      return 0;\n    }\n\n    var digits = Math.pow(10, precision);\n    var votesPerQuota = util.map(valueList, function (val) {\n      return (isNaN(val) ? 0 : val) / sum * digits * 100;\n    });\n    var targetSeats = digits * 100;\n    var seats = util.map(votesPerQuota, function (votes) {\n      // Assign automatic seats.\n      return Math.floor(votes);\n    });\n    var currentSum = util.reduce(seats, function (acc, val) {\n      return acc + val;\n    }, 0);\n    var remainder = util.map(votesPerQuota, function (votes, idx) {\n      return votes - seats[idx];\n    }); // Has remainding votes.\n\n    while (currentSum < targetSeats) {\n      // Find next largest remainder.\n      var max = Number.NEGATIVE_INFINITY;\n      var maxId = null;\n\n      for (var i = 0, len = remainder.length; i < len; ++i) {\n        if (remainder[i] > max) {\n          max = remainder[i];\n          maxId = i;\n        }\n      } // Add a vote to max remainder.\n\n\n      ++seats[maxId];\n      remainder[maxId] = 0;\n      ++currentSum;\n    }\n\n    return seats[idx] / digits;\n  } // Number.MAX_SAFE_INTEGER, ie do not support.\n\n\n  var MAX_SAFE_INTEGER$2 = 9007199254740991;\n  /**\n   * To 0 - 2 * PI, considering negative radian.\n   * @param {number} radian\n   * @return {number}\n   */\n\n  function remRadian(radian) {\n    var pi2 = Math.PI * 2;\n    return (radian % pi2 + pi2) % pi2;\n  }\n  /**\n   * @param {type} radian\n   * @return {boolean}\n   */\n\n\n  function isRadianAroundZero(val) {\n    return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n  }\n  /* eslint-disable */\n\n\n  var TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n  /* eslint-enable */\n\n  /**\n   * @param {string|Date|number} value These values can be accepted:\n   *   + An instance of Date, represent a time in its own time zone.\n   *   + Or string in a subset of ISO 8601, only including:\n   *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n   *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n   *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n   *     all of which will be treated as local time if time zone is not specified\n   *     (see <https://momentjs.com/>).\n   *   + Or other string format, including (all of which will be treated as loacal time):\n   *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n   *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n   *   + a timestamp, which represent a time in UTC.\n   * @return {Date} date\n   */\n\n  function parseDate(value) {\n    if (value instanceof Date) {\n      return value;\n    } else if (typeof value === 'string') {\n      // Different browsers parse date in different way, so we parse it manually.\n      // Some other issues:\n      // new Date('1970-01-01') is UTC,\n      // new Date('1970/01/01') and new Date('1970-1-01') is local.\n      // See issue #3623\n      var match = TIME_REG.exec(value);\n\n      if (!match) {\n        // return Invalid Date.\n        return new Date(NaN);\n      } // Use local time when no timezone offset specifed.\n\n\n      if (!match[8]) {\n        // match[n] can only be string or undefined.\n        // But take care of '12' + 1 => '121'.\n        return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n      } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n      // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n      // For example, system timezone is set as \"Time Zone: America/Toronto\",\n      // then these code will get different result:\n      // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n      // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n      // So we should not use `new Date`, but use `Date.UTC`.\n      else {\n          var hour = +match[4] || 0;\n\n          if (match[8].toUpperCase() !== 'Z') {\n            hour -= match[8].slice(0, 3);\n          }\n\n          return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n        }\n    } else if (value == null) {\n      return new Date(NaN);\n    }\n\n    return new Date(Math.round(value));\n  }\n  /**\n   * Quantity of a number. e.g. 0.1, 1, 10, 100\n   *\n   * @param  {number} val\n   * @return {number}\n   */\n\n\n  function quantity(val) {\n    return Math.pow(10, quantityExponent(val));\n  }\n  /**\n   * Exponent of the quantity of a number\n   * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3\n   *\n   * @param  {number} val non-negative value\n   * @return {number}\n   */\n\n\n  function quantityExponent(val) {\n    if (val === 0) {\n      return 0;\n    }\n\n    var exp = Math.floor(Math.log(val) / Math.LN10);\n    /**\n     * exp is expected to be the rounded-down result of the base-10 log of val.\n     * But due to the precision loss with Math.log(val), we need to restore it\n     * using 10^exp to make sure we can get val back from exp. #11249\n     */\n\n    if (val / Math.pow(10, exp) >= 10) {\n      exp++;\n    }\n\n    return exp;\n  }\n  /**\n   * find a nice number approximately equal to x. Round the number if round = true,\n   * take ceiling if round = false. The primary observation is that the nicest\n   * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n   *\n   * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n   *\n   * @param  {number} val Non-negative value.\n   * @param  {boolean} round\n   * @return {number}\n   */\n\n\n  function nice(val, round) {\n    var exponent = quantityExponent(val);\n    var exp10 = Math.pow(10, exponent);\n    var f = val / exp10; // 1 <= f < 10\n\n    var nf;\n\n    if (round) {\n      if (f < 1.5) {\n        nf = 1;\n      } else if (f < 2.5) {\n        nf = 2;\n      } else if (f < 4) {\n        nf = 3;\n      } else if (f < 7) {\n        nf = 5;\n      } else {\n        nf = 10;\n      }\n    } else {\n      if (f < 1) {\n        nf = 1;\n      } else if (f < 2) {\n        nf = 2;\n      } else if (f < 3) {\n        nf = 3;\n      } else if (f < 5) {\n        nf = 5;\n      } else {\n        nf = 10;\n      }\n    }\n\n    val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n    // 20 is the uppper bound of toFixed.\n\n    return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n  }\n  /**\n   * This code was copied from \"d3.js\"\n   * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\n   * See the license statement at the head of this file.\n   * @param {Array.<number>} ascArr\n   */\n\n\n  function quantile(ascArr, p) {\n    var H = (ascArr.length - 1) * p + 1;\n    var h = Math.floor(H);\n    var v = +ascArr[h - 1];\n    var e = H - h;\n    return e ? v + e * (ascArr[h] - v) : v;\n  }\n  /**\n   * Order intervals asc, and split them when overlap.\n   * expect(numberUtil.reformIntervals([\n   *     {interval: [18, 62], close: [1, 1]},\n   *     {interval: [-Infinity, -70], close: [0, 0]},\n   *     {interval: [-70, -26], close: [1, 1]},\n   *     {interval: [-26, 18], close: [1, 1]},\n   *     {interval: [62, 150], close: [1, 1]},\n   *     {interval: [106, 150], close: [1, 1]},\n   *     {interval: [150, Infinity], close: [0, 0]}\n   * ])).toEqual([\n   *     {interval: [-Infinity, -70], close: [0, 0]},\n   *     {interval: [-70, -26], close: [1, 1]},\n   *     {interval: [-26, 18], close: [0, 1]},\n   *     {interval: [18, 62], close: [0, 1]},\n   *     {interval: [62, 150], close: [0, 1]},\n   *     {interval: [150, Infinity], close: [0, 0]}\n   * ]);\n   * @param {Array.<Object>} list, where `close` mean open or close\n   *        of the interval, and Infinity can be used.\n   * @return {Array.<Object>} The origin list, which has been reformed.\n   */\n\n\n  function reformIntervals(list) {\n    list.sort(function (a, b) {\n      return littleThan(a, b, 0) ? -1 : 1;\n    });\n    var curr = -Infinity;\n    var currClose = 1;\n\n    for (var i = 0; i < list.length;) {\n      var interval = list[i].interval;\n      var close = list[i].close;\n\n      for (var lg = 0; lg < 2; lg++) {\n        if (interval[lg] <= curr) {\n          interval[lg] = curr;\n          close[lg] = !lg ? 1 - currClose : 1;\n        }\n\n        curr = interval[lg];\n        currClose = close[lg];\n      }\n\n      if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n        list.splice(i, 1);\n      } else {\n        i++;\n      }\n    }\n\n    return list;\n\n    function littleThan(a, b, lg) {\n      return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n    }\n  }\n  /**\n   * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n   * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n   * subtraction forces infinities to NaN\n   *\n   * @param {*} v\n   * @return {boolean}\n   */\n\n\n  function isNumeric(v) {\n    return v - parseFloat(v) >= 0;\n  }\n\n  var linearMap_1 = linearMap;\n  var parsePercent_1$1 = parsePercent$1;\n  var round_1 = round$1;\n  var asc_1 = asc;\n  var getPrecision_1 = getPrecision;\n  var getPrecisionSafe_1 = getPrecisionSafe;\n  var getPixelPrecision_1 = getPixelPrecision;\n  var getPercentWithPrecision_1 = getPercentWithPrecision;\n  var MAX_SAFE_INTEGER_1 = MAX_SAFE_INTEGER$2;\n  var remRadian_1 = remRadian;\n  var isRadianAroundZero_1 = isRadianAroundZero;\n  var parseDate_1 = parseDate;\n  var quantity_1 = quantity;\n  var quantityExponent_1 = quantityExponent;\n  var nice_1 = nice;\n  var quantile_1 = quantile;\n  var reformIntervals_1 = reformIntervals;\n  var isNumeric_1 = isNumeric;\n\n  var number = {\n  \tlinearMap: linearMap_1,\n  \tparsePercent: parsePercent_1$1,\n  \tround: round_1,\n  \tasc: asc_1,\n  \tgetPrecision: getPrecision_1,\n  \tgetPrecisionSafe: getPrecisionSafe_1,\n  \tgetPixelPrecision: getPixelPrecision_1,\n  \tgetPercentWithPrecision: getPercentWithPrecision_1,\n  \tMAX_SAFE_INTEGER: MAX_SAFE_INTEGER_1,\n  \tremRadian: remRadian_1,\n  \tisRadianAroundZero: isRadianAroundZero_1,\n  \tparseDate: parseDate_1,\n  \tquantity: quantity_1,\n  \tquantityExponent: quantityExponent_1,\n  \tnice: nice_1,\n  \tquantile: quantile_1,\n  \treformIntervals: reformIntervals_1,\n  \tisNumeric: isNumeric_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import Text from 'zrender/src/graphic/Text';\n\n  /**\n   * add commas after every three numbers\n   * @param {string|number} x\n   * @return {string}\n   */\n  function addCommas(x) {\n    if (isNaN(x)) {\n      return '-';\n    }\n\n    x = (x + '').split('.');\n    return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (x.length > 1 ? '.' + x[1] : '');\n  }\n  /**\n   * @param {string} str\n   * @param {boolean} [upperCaseFirst=false]\n   * @return {string} str\n   */\n\n\n  function toCamelCase(str, upperCaseFirst) {\n    str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n      return group1.toUpperCase();\n    });\n\n    if (upperCaseFirst && str) {\n      str = str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    return str;\n  }\n\n  var normalizeCssArray$2 = util.normalizeCssArray;\n  var replaceReg = /([&<>\"'])/g;\n  var replaceMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n  };\n\n  function encodeHTML(source) {\n    return source == null ? '' : (source + '').replace(replaceReg, function (str, c) {\n      return replaceMap[c];\n    });\n  }\n\n  var TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\n  var wrapVar = function (varName, seriesIdx) {\n    return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n  };\n  /**\n   * Template formatter\n   * @param {string} tpl\n   * @param {Array.<Object>|Object} paramsList\n   * @param {boolean} [encode=false]\n   * @return {string}\n   */\n\n\n  function formatTpl(tpl, paramsList, encode) {\n    if (!util.isArray(paramsList)) {\n      paramsList = [paramsList];\n    }\n\n    var seriesLen = paramsList.length;\n\n    if (!seriesLen) {\n      return '';\n    }\n\n    var $vars = paramsList[0].$vars || [];\n\n    for (var i = 0; i < $vars.length; i++) {\n      var alias = TPL_VAR_ALIAS[i];\n      tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\n    }\n\n    for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n      for (var k = 0; k < $vars.length; k++) {\n        var val = paramsList[seriesIdx][$vars[k]];\n        tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n      }\n    }\n\n    return tpl;\n  }\n  /**\n   * simple Template formatter\n   *\n   * @param {string} tpl\n   * @param {Object} param\n   * @param {boolean} [encode=false]\n   * @return {string}\n   */\n\n\n  function formatTplSimple(tpl, param, encode) {\n    util.each(param, function (value, key) {\n      tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n    });\n    return tpl;\n  }\n  /**\n   * @param {Object|string} [opt] If string, means color.\n   * @param {string} [opt.color]\n   * @param {string} [opt.extraCssText]\n   * @param {string} [opt.type='item'] 'item' or 'subItem'\n   * @param {string} [opt.renderMode='html'] render mode of tooltip, 'html' or 'richText'\n   * @param {string} [opt.markerId='X'] id name for marker. If only one marker is in a rich text, this can be omitted.\n   * @return {string}\n   */\n\n\n  function getTooltipMarker(opt, extraCssText) {\n    opt = util.isString(opt) ? {\n      color: opt,\n      extraCssText: extraCssText\n    } : opt || {};\n    var color = opt.color;\n    var type = opt.type;\n    var extraCssText = opt.extraCssText;\n    var renderMode = opt.renderMode || 'html';\n    var markerId = opt.markerId || 'X';\n\n    if (!color) {\n      return '';\n    }\n\n    if (renderMode === 'html') {\n      return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:5px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\n    } else {\n      // Space for rich element marker\n      return {\n        renderMode: renderMode,\n        content: '{marker' + markerId + '|}  ',\n        style: {\n          color: color\n        }\n      };\n    }\n  }\n\n  function pad(str, len) {\n    str += '';\n    return '0000'.substr(0, len - str.length) + str;\n  }\n  /**\n   * ISO Date format\n   * @param {string} tpl\n   * @param {number} value\n   * @param {boolean} [isUTC=false] Default in local time.\n   *           see `module:echarts/scale/Time`\n   *           and `module:echarts/util/number#parseDate`.\n   * @inner\n   */\n\n\n  function formatTime(tpl, value, isUTC) {\n    if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n      tpl = 'MM-dd\\nyyyy';\n    }\n\n    var date = number.parseDate(value);\n    var utc = isUTC ? 'UTC' : '';\n    var y = date['get' + utc + 'FullYear']();\n    var M = date['get' + utc + 'Month']() + 1;\n    var d = date['get' + utc + 'Date']();\n    var h = date['get' + utc + 'Hours']();\n    var m = date['get' + utc + 'Minutes']();\n    var s = date['get' + utc + 'Seconds']();\n    var S = date['get' + utc + 'Milliseconds']();\n    tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', y % 100).replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\n    return tpl;\n  }\n  /**\n   * Capital first\n   * @param {string} str\n   * @return {string}\n   */\n\n\n  function capitalFirst(str) {\n    return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n  }\n\n  var truncateText$1 = text.truncateText;\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {string} opt.text\n   * @param {string} opt.font\n   * @param {string} [opt.textAlign='left']\n   * @param {string} [opt.textVerticalAlign='top']\n   * @param {Array.<number>} [opt.textPadding]\n   * @param {number} [opt.textLineHeight]\n   * @param {Object} [opt.rich]\n   * @param {Object} [opt.truncate]\n   * @return {Object} {x, y, width, height, lineHeight}\n   */\n\n  function getTextBoundingRect(opt) {\n    return text.getBoundingRect(opt.text, opt.font, opt.textAlign, opt.textVerticalAlign, opt.textPadding, opt.textLineHeight, opt.rich, opt.truncate);\n  }\n  /**\n   * @deprecated\n   * the `textLineHeight` was added later.\n   * For backward compatiblility, put it as the last parameter.\n   * But deprecated this interface. Please use `getTextBoundingRect` instead.\n   */\n\n\n  function getTextRect(text$1, font, textAlign, textVerticalAlign, textPadding, rich, truncate, textLineHeight) {\n    return text.getBoundingRect(text$1, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate);\n  }\n  /**\n   * open new tab\n   * @param {string} link url\n   * @param {string} target blank or self\n   */\n\n\n  function windowOpen(link, target) {\n    if (target === '_blank' || target === 'blank') {\n      var blank = window.open();\n      blank.opener = null;\n      blank.location = link;\n    } else {\n      window.open(link, target);\n    }\n  }\n\n  var addCommas_1 = addCommas;\n  var toCamelCase_1 = toCamelCase;\n  var normalizeCssArray_1$1 = normalizeCssArray$2;\n  var encodeHTML_1 = encodeHTML;\n  var formatTpl_1 = formatTpl;\n  var formatTplSimple_1 = formatTplSimple;\n  var getTooltipMarker_1 = getTooltipMarker;\n  var formatTime_1 = formatTime;\n  var capitalFirst_1 = capitalFirst;\n  var truncateText_1$1 = truncateText$1;\n  var getTextBoundingRect_1 = getTextBoundingRect;\n  var getTextRect_1 = getTextRect;\n  var windowOpen_1 = windowOpen;\n\n  var format$1 = {\n  \taddCommas: addCommas_1,\n  \ttoCamelCase: toCamelCase_1,\n  \tnormalizeCssArray: normalizeCssArray_1$1,\n  \tencodeHTML: encodeHTML_1,\n  \tformatTpl: formatTpl_1,\n  \tformatTplSimple: formatTplSimple_1,\n  \tgetTooltipMarker: getTooltipMarker_1,\n  \tformatTime: formatTime_1,\n  \tcapitalFirst: capitalFirst_1,\n  \ttruncateText: truncateText_1$1,\n  \tgetTextBoundingRect: getTextBoundingRect_1,\n  \tgetTextRect: getTextRect_1,\n  \twindowOpen: windowOpen_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var parsePercent$2 = number.parsePercent;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Layout helpers for each component positioning\n  var each$3 = util.each;\n  /**\n   * @public\n   */\n\n  var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n  /**\n   * @public\n   */\n\n  var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\n  function boxLayout(orient, group, gap, maxWidth, maxHeight) {\n    var x = 0;\n    var y = 0;\n\n    if (maxWidth == null) {\n      maxWidth = Infinity;\n    }\n\n    if (maxHeight == null) {\n      maxHeight = Infinity;\n    }\n\n    var currentLineMaxSize = 0;\n    group.eachChild(function (child, idx) {\n      var position = child.position;\n      var rect = child.getBoundingRect();\n      var nextChild = group.childAt(idx + 1);\n      var nextChildRect = nextChild && nextChild.getBoundingRect();\n      var nextX;\n      var nextY;\n\n      if (orient === 'horizontal') {\n        var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n        nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n        // FIXME compare before adding gap?\n\n        if (nextX > maxWidth || child.newline) {\n          x = 0;\n          nextX = moveX;\n          y += currentLineMaxSize + gap;\n          currentLineMaxSize = rect.height;\n        } else {\n          // FIXME: consider rect.y is not `0`?\n          currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n        }\n      } else {\n        var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n        nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n        if (nextY > maxHeight || child.newline) {\n          x += currentLineMaxSize + gap;\n          y = 0;\n          nextY = moveY;\n          currentLineMaxSize = rect.width;\n        } else {\n          currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n        }\n      }\n\n      if (child.newline) {\n        return;\n      }\n\n      position[0] = x;\n      position[1] = y;\n      orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n    });\n  }\n  /**\n   * VBox or HBox layouting\n   * @param {string} orient\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n\n  var box = boxLayout;\n  /**\n   * VBox layouting\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n  var vbox = util.curry(boxLayout, 'vertical');\n  /**\n   * HBox layouting\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n  var hbox = util.curry(boxLayout, 'horizontal');\n  /**\n   * If x or x2 is not specified or 'center' 'left' 'right',\n   * the width would be as long as possible.\n   * If y or y2 is not specified or 'middle' 'top' 'bottom',\n   * the height would be as long as possible.\n   *\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.x]\n   * @param {number|string} [positionInfo.y]\n   * @param {number|string} [positionInfo.x2]\n   * @param {number|string} [positionInfo.y2]\n   * @param {Object} containerRect {width, height}\n   * @param {string|number} margin\n   * @return {Object} {width, height}\n   */\n\n  function getAvailableSize(positionInfo, containerRect, margin) {\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n    var x = parsePercent$2(positionInfo.x, containerWidth);\n    var y = parsePercent$2(positionInfo.y, containerHeight);\n    var x2 = parsePercent$2(positionInfo.x2, containerWidth);\n    var y2 = parsePercent$2(positionInfo.y2, containerHeight);\n    (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n    (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n    (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n    (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n    margin = format$1.normalizeCssArray(margin || 0);\n    return {\n      width: Math.max(x2 - x - margin[1] - margin[3], 0),\n      height: Math.max(y2 - y - margin[0] - margin[2], 0)\n    };\n  }\n  /**\n   * Parse position info.\n   *\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.left]\n   * @param {number|string} [positionInfo.top]\n   * @param {number|string} [positionInfo.right]\n   * @param {number|string} [positionInfo.bottom]\n   * @param {number|string} [positionInfo.width]\n   * @param {number|string} [positionInfo.height]\n   * @param {number|string} [positionInfo.aspect] Aspect is width / height\n   * @param {Object} containerRect\n   * @param {string|number} [margin]\n   *\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n\n  function getLayoutRect(positionInfo, containerRect, margin) {\n    margin = format$1.normalizeCssArray(margin || 0);\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n    var left = parsePercent$2(positionInfo.left, containerWidth);\n    var top = parsePercent$2(positionInfo.top, containerHeight);\n    var right = parsePercent$2(positionInfo.right, containerWidth);\n    var bottom = parsePercent$2(positionInfo.bottom, containerHeight);\n    var width = parsePercent$2(positionInfo.width, containerWidth);\n    var height = parsePercent$2(positionInfo.height, containerHeight);\n    var verticalMargin = margin[2] + margin[0];\n    var horizontalMargin = margin[1] + margin[3];\n    var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n    if (isNaN(width)) {\n      width = containerWidth - right - horizontalMargin - left;\n    }\n\n    if (isNaN(height)) {\n      height = containerHeight - bottom - verticalMargin - top;\n    }\n\n    if (aspect != null) {\n      // If width and height are not given\n      // 1. Graph should not exceeds the container\n      // 2. Aspect must be keeped\n      // 3. Graph should take the space as more as possible\n      // FIXME\n      // Margin is not considered, because there is no case that both\n      // using margin and aspect so far.\n      if (isNaN(width) && isNaN(height)) {\n        if (aspect > containerWidth / containerHeight) {\n          width = containerWidth * 0.8;\n        } else {\n          height = containerHeight * 0.8;\n        }\n      } // Calculate width or height with given aspect\n\n\n      if (isNaN(width)) {\n        width = aspect * height;\n      }\n\n      if (isNaN(height)) {\n        height = width / aspect;\n      }\n    } // If left is not specified, calculate left from right and width\n\n\n    if (isNaN(left)) {\n      left = containerWidth - right - width - horizontalMargin;\n    }\n\n    if (isNaN(top)) {\n      top = containerHeight - bottom - height - verticalMargin;\n    } // Align left and top\n\n\n    switch (positionInfo.left || positionInfo.right) {\n      case 'center':\n        left = containerWidth / 2 - width / 2 - margin[3];\n        break;\n\n      case 'right':\n        left = containerWidth - width - horizontalMargin;\n        break;\n    }\n\n    switch (positionInfo.top || positionInfo.bottom) {\n      case 'middle':\n      case 'center':\n        top = containerHeight / 2 - height / 2 - margin[0];\n        break;\n\n      case 'bottom':\n        top = containerHeight - height - verticalMargin;\n        break;\n    } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n    left = left || 0;\n    top = top || 0;\n\n    if (isNaN(width)) {\n      // Width may be NaN if only one value is given except width\n      width = containerWidth - horizontalMargin - left - (right || 0);\n    }\n\n    if (isNaN(height)) {\n      // Height may be NaN if only one value is given except height\n      height = containerHeight - verticalMargin - top - (bottom || 0);\n    }\n\n    var rect = new BoundingRect_1(left + margin[3], top + margin[0], width, height);\n    rect.margin = margin;\n    return rect;\n  }\n  /**\n   * Position a zr element in viewport\n   *  Group position is specified by either\n   *  {left, top}, {right, bottom}\n   *  If all properties exists, right and bottom will be igonred.\n   *\n   * Logic:\n   *     1. Scale (against origin point in parent coord)\n   *     2. Rotate (against origin point in parent coord)\n   *     3. Traslate (with el.position by this method)\n   * So this method only fixes the last step 'Traslate', which does not affect\n   * scaling and rotating.\n   *\n   * If be called repeatly with the same input el, the same result will be gotten.\n   *\n   * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.left]\n   * @param {number|string} [positionInfo.top]\n   * @param {number|string} [positionInfo.right]\n   * @param {number|string} [positionInfo.bottom]\n   * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n   * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n   * @param {Object} containerRect\n   * @param {string|number} margin\n   * @param {Object} [opt]\n   * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n   * @param {Array.<number>} [opt.boundingMode='all']\n   *        Specify how to calculate boundingRect when locating.\n   *        'all': Position the boundingRect that is transformed and uioned\n   *               both itself and its descendants.\n   *               This mode simplies confine the elements in the bounding\n   *               of their container (e.g., using 'right: 0').\n   *        'raw': Position the boundingRect that is not transformed and only itself.\n   *               This mode is useful when you want a element can overflow its\n   *               container. (Consider a rotated circle needs to be located in a corner.)\n   *               In this mode positionInfo.width/height can only be number.\n   */\n\n\n  function positionElement(el, positionInfo, containerRect, margin, opt) {\n    var h = !opt || !opt.hv || opt.hv[0];\n    var v = !opt || !opt.hv || opt.hv[1];\n    var boundingMode = opt && opt.boundingMode || 'all';\n\n    if (!h && !v) {\n      return;\n    }\n\n    var rect;\n\n    if (boundingMode === 'raw') {\n      rect = el.type === 'group' ? new BoundingRect_1(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n    } else {\n      rect = el.getBoundingRect();\n\n      if (el.needLocalTransform()) {\n        var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n        // which should not be modified.\n\n        rect = rect.clone();\n        rect.applyTransform(transform);\n      }\n    } // The real width and height can not be specified but calculated by the given el.\n\n\n    positionInfo = getLayoutRect(util.defaults({\n      width: rect.width,\n      height: rect.height\n    }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n    // (see zrender/core/Transformable#getLocalTransform),\n    // we can just only modify el.position to get final result.\n\n    var elPos = el.position;\n    var dx = h ? positionInfo.x - rect.x : 0;\n    var dy = v ? positionInfo.y - rect.y : 0;\n    el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n  }\n  /**\n   * @param {Object} option Contains some of the properties in HV_NAMES.\n   * @param {number} hvIdx 0: horizontal; 1: vertical.\n   */\n\n\n  function sizeCalculable(option, hvIdx) {\n    return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n  }\n  /**\n   * Consider Case:\n   * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n   * through setOption or media query, using normal zrUtil.merge will cause\n   * {right: 0} does not take effect.\n   *\n   * @example\n   * ComponentModel.extend({\n   *     init: function () {\n   *         ...\n   *         var inputPositionParams = layout.getLayoutParams(option);\n   *         this.mergeOption(inputPositionParams);\n   *     },\n   *     mergeOption: function (newOption) {\n   *         newOption && zrUtil.merge(thisOption, newOption, true);\n   *         layout.mergeLayoutParam(thisOption, newOption);\n   *     }\n   * });\n   *\n   * @param {Object} targetOption\n   * @param {Object} newOption\n   * @param {Object|string} [opt]\n   * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n   *  that width (or height) should not be calculated by left and right (or top and bottom).\n   */\n\n\n  function mergeLayoutParam(targetOption, newOption, opt) {\n    !util.isObject(opt) && (opt = {});\n    var ignoreSize = opt.ignoreSize;\n    !util.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n    var hResult = merge(HV_NAMES[0], 0);\n    var vResult = merge(HV_NAMES[1], 1);\n    copy(HV_NAMES[0], targetOption, hResult);\n    copy(HV_NAMES[1], targetOption, vResult);\n\n    function merge(names, hvIdx) {\n      var newParams = {};\n      var newValueCount = 0;\n      var merged = {};\n      var mergedValueCount = 0;\n      var enoughParamNumber = 2;\n      each$3(names, function (name) {\n        merged[name] = targetOption[name];\n      });\n      each$3(names, function (name) {\n        // Consider case: newOption.width is null, which is\n        // set by user for removing width setting.\n        hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n        hasValue(newParams, name) && newValueCount++;\n        hasValue(merged, name) && mergedValueCount++;\n      });\n\n      if (ignoreSize[hvIdx]) {\n        // Only one of left/right is premitted to exist.\n        if (hasValue(newOption, names[1])) {\n          merged[names[2]] = null;\n        } else if (hasValue(newOption, names[2])) {\n          merged[names[1]] = null;\n        }\n\n        return merged;\n      } // Case: newOption: {width: ..., right: ...},\n      // or targetOption: {right: ...} and newOption: {width: ...},\n      // There is no conflict when merged only has params count\n      // little than enoughParamNumber.\n\n\n      if (mergedValueCount === enoughParamNumber || !newValueCount) {\n        return merged;\n      } // Case: newOption: {width: ..., right: ...},\n      // Than we can make sure user only want those two, and ignore\n      // all origin params in targetOption.\n      else if (newValueCount >= enoughParamNumber) {\n          return newParams;\n        } else {\n          // Chose another param from targetOption by priority.\n          for (var i = 0; i < names.length; i++) {\n            var name = names[i];\n\n            if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n              newParams[name] = targetOption[name];\n              break;\n            }\n          }\n\n          return newParams;\n        }\n    }\n\n    function hasProp(obj, name) {\n      return obj.hasOwnProperty(name);\n    }\n\n    function hasValue(obj, name) {\n      return obj[name] != null && obj[name] !== 'auto';\n    }\n\n    function copy(names, target, source) {\n      each$3(names, function (name) {\n        target[name] = source[name];\n      });\n    }\n  }\n  /**\n   * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n   * @param {Object} source\n   * @return {Object} Result contains those props.\n   */\n\n\n  function getLayoutParams(source) {\n    return copyLayoutParams({}, source);\n  }\n  /**\n   * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n   * @param {Object} source\n   * @return {Object} Result contains those props.\n   */\n\n\n  function copyLayoutParams(target, source) {\n    source && target && each$3(LOCATION_PARAMS, function (name) {\n      source.hasOwnProperty(name) && (target[name] = source[name]);\n    });\n    return target;\n  }\n\n  var LOCATION_PARAMS_1 = LOCATION_PARAMS;\n  var HV_NAMES_1 = HV_NAMES;\n  var box_1 = box;\n  var vbox_1 = vbox;\n  var hbox_1 = hbox;\n  var getAvailableSize_1 = getAvailableSize;\n  var getLayoutRect_1 = getLayoutRect;\n  var positionElement_1 = positionElement;\n  var sizeCalculable_1 = sizeCalculable;\n  var mergeLayoutParam_1 = mergeLayoutParam;\n  var getLayoutParams_1 = getLayoutParams;\n  var copyLayoutParams_1 = copyLayoutParams;\n\n  var layout = {\n  \tLOCATION_PARAMS: LOCATION_PARAMS_1,\n  \tHV_NAMES: HV_NAMES_1,\n  \tbox: box_1,\n  \tvbox: vbox_1,\n  \thbox: hbox_1,\n  \tgetAvailableSize: getAvailableSize_1,\n  \tgetLayoutRect: getLayoutRect_1,\n  \tpositionElement: positionElement_1,\n  \tsizeCalculable: sizeCalculable_1,\n  \tmergeLayoutParam: mergeLayoutParam_1,\n  \tgetLayoutParams: getLayoutParams_1,\n  \tcopyLayoutParams: copyLayoutParams_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$T = {\n    getBoxLayoutParams: function () {\n      return {\n        left: this.get('left'),\n        top: this.get('top'),\n        right: this.get('right'),\n        bottom: this.get('bottom'),\n        width: this.get('width'),\n        height: this.get('height')\n      };\n    }\n  };\n  var boxLayout$1 = _default$T;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var enableClassManagement$1 = clazz.enableClassManagement;\n  var parseClassType$2 = clazz.parseClassType;\n\n\n\n  var makeInner$2 = model.makeInner;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Component model\n   *\n   * @module echarts/model/Component\n   */\n  var inner$1 = makeInner$2();\n  /**\n   * @alias module:echarts/model/Component\n   * @constructor\n   * @param {Object} option\n   * @param {module:echarts/model/Model} parentModel\n   * @param {module:echarts/model/Model} ecModel\n   */\n\n  var ComponentModel = Model_1.extend({\n    type: 'component',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    id: '',\n\n    /**\n     * Because simplified concept is probably better, series.name (or component.name)\n     * has been having too many resposibilities:\n     * (1) Generating id (which requires name in option should not be modified).\n     * (2) As an index to mapping series when merging option or calling API (a name\n     * can refer to more then one components, which is convinient is some case).\n     * (3) Display.\n     * @readOnly\n     */\n    name: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    mainType: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    subType: '',\n\n    /**\n     * @readOnly\n     * @type {number}\n     */\n    componentIndex: 0,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n    ecModel: null,\n\n    /**\n     * key: componentType\n     * value:  Component model list, can not be null.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @readOnly\n     */\n    dependentModels: [],\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    uid: null,\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n    $constructor: function (option, parentModel, ecModel, extraOpt) {\n      Model_1.call(this, option, parentModel, ecModel, extraOpt);\n      this.uid = component.getUID('ec_cpt_model');\n    },\n    init: function (option, parentModel, ecModel, extraOpt) {\n      this.mergeDefaultAndTheme(option, ecModel);\n    },\n    mergeDefaultAndTheme: function (option, ecModel) {\n      var layoutMode = this.layoutMode;\n      var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n      var themeModel = ecModel.getTheme();\n      util.merge(option, themeModel.get(this.mainType));\n      util.merge(option, this.getDefaultOption());\n\n      if (layoutMode) {\n        layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n      }\n    },\n    mergeOption: function (option, extraOpt) {\n      util.merge(this.option, option, true);\n      var layoutMode = this.layoutMode;\n\n      if (layoutMode) {\n        layout.mergeLayoutParam(this.option, option, layoutMode);\n      }\n    },\n    // Hooker after init or mergeOption\n    optionUpdated: function (newCptOption, isInit) {},\n    getDefaultOption: function () {\n      var fields = inner$1(this);\n\n      if (!fields.defaultOption) {\n        var optList = [];\n        var Class = this.constructor;\n\n        while (Class) {\n          var opt = Class.prototype.defaultOption;\n          opt && optList.push(opt);\n          Class = Class.superClass;\n        }\n\n        var defaultOption = {};\n\n        for (var i = optList.length - 1; i >= 0; i--) {\n          defaultOption = util.merge(defaultOption, optList[i], true);\n        }\n\n        fields.defaultOption = defaultOption;\n      }\n\n      return fields.defaultOption;\n    },\n    getReferringComponents: function (mainType) {\n      return this.ecModel.queryComponents({\n        mainType: mainType,\n        index: this.get(mainType + 'Index', true),\n        id: this.get(mainType + 'Id', true)\n      });\n    }\n  }); // Reset ComponentModel.extend, add preConstruct.\n  // clazzUtil.enableClassExtend(\n  //     ComponentModel,\n  //     function (option, parentModel, ecModel, extraOpt) {\n  //         // Set dependentModels, componentIndex, name, id, mainType, subType.\n  //         zrUtil.extend(this, extraOpt);\n  //         this.uid = componentUtil.getUID('componentModel');\n  //         // this.setReadOnly([\n  //         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n  //         //     'dependentModels', 'componentIndex'\n  //         // ]);\n  //     }\n  // );\n  // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  enableClassManagement$1(ComponentModel, {\n    registerWhenExtend: true\n  });\n  component.enableSubTypeDefaulter(ComponentModel); // Add capability of ComponentModel.topologicalTravel.\n\n  component.enableTopologicalTravel(ComponentModel, getDependencies);\n\n  function getDependencies(componentType) {\n    var deps = [];\n    util.each(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n      deps = deps.concat(Clazz.prototype.dependencies || []);\n    }); // Ensure main type.\n\n    deps = util.map(deps, function (type) {\n      return parseClassType$2(type).main;\n    }); // Hack dataset for convenience.\n\n    if (componentType !== 'dataset' && util.indexOf(deps, 'dataset') <= 0) {\n      deps.unshift('dataset');\n    }\n\n    return deps;\n  }\n\n  util.mixin(ComponentModel, boxLayout$1);\n  var _default$U = ComponentModel;\n  var Component = _default$U;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var platform = ''; // Navigator not exists in node\n\n  if (typeof navigator !== 'undefined') {\n    platform = navigator.platform || '';\n  }\n\n  var _default$V = {\n    // backgroundColor: 'rgba(0,0,0,0)',\n    // https://dribbble.com/shots/1065960-Infographic-Pie-chart-visualization\n    // color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c', '#dd4444', '#d4df5a', '#cd4870'],\n    // Light colors:\n    // color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'],\n    // color: ['#cc5664', '#9bd6ec', '#ea946e', '#8acaaa', '#f1ec64', '#ee8686', '#a48dc1', '#5da6bc', '#b9dcae'],\n    // Dark colors:\n    color: ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],\n    gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n    // If xAxis and yAxis declared, grid is created by default.\n    // grid: {},\n    textStyle: {\n      // color: '#000',\n      // decoration: 'none',\n      // PENDING\n      fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n      // fontFamily: 'Arial, Verdana, sans-serif',\n      fontSize: 12,\n      fontStyle: 'normal',\n      fontWeight: 'normal'\n    },\n    // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n    // Default is source-over\n    blendMode: null,\n    animation: 'auto',\n    animationDuration: 1000,\n    animationDurationUpdate: 300,\n    animationEasing: 'exponentialOut',\n    animationEasingUpdate: 'cubicOut',\n    animationThreshold: 2000,\n    // Configuration for progressive/incremental rendering\n    progressiveThreshold: 3000,\n    progressive: 400,\n    // Threshold of if use single hover layer to optimize.\n    // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n    // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n    // which is unexpected.\n    // see example <echarts/test/heatmap-large.html>.\n    hoverLayerThreshold: 3000,\n    // See: module:echarts/scale/Time\n    useUTC: false\n  };\n  var globalDefault = _default$V;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var makeInner$3 = model.makeInner;\n  var normalizeToArray$1 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$2 = makeInner$3();\n\n  function getNearestColorPalette(colors, requestColorNum) {\n    var paletteNum = colors.length; // TODO colors must be in order\n\n    for (var i = 0; i < paletteNum; i++) {\n      if (colors[i].length > requestColorNum) {\n        return colors[i];\n      }\n    }\n\n    return colors[paletteNum - 1];\n  }\n\n  var _default$W = {\n    clearColorPalette: function () {\n      inner$2(this).colorIdx = 0;\n      inner$2(this).colorNameMap = {};\n    },\n\n    /**\n     * @param {string} name MUST NOT be null/undefined. Otherwise call this function\n     *                 twise with the same parameters will get different result.\n     * @param {Object} [scope=this]\n     * @param {Object} [requestColorNum]\n     * @return {string} color string.\n     */\n    getColorFromPalette: function (name, scope, requestColorNum) {\n      scope = scope || this;\n      var scopeFields = inner$2(scope);\n      var colorIdx = scopeFields.colorIdx || 0;\n      var colorNameMap = scopeFields.colorNameMap = scopeFields.colorNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n      if (colorNameMap.hasOwnProperty(name)) {\n        return colorNameMap[name];\n      }\n\n      var defaultColorPalette = normalizeToArray$1(this.get('color', true));\n      var layeredColorPalette = this.get('colorLayer', true);\n      var colorPalette = requestColorNum == null || !layeredColorPalette ? defaultColorPalette : getNearestColorPalette(layeredColorPalette, requestColorNum); // In case can't find in layered color palette.\n\n      colorPalette = colorPalette || defaultColorPalette;\n\n      if (!colorPalette || !colorPalette.length) {\n        return;\n      }\n\n      var color = colorPalette[colorIdx];\n\n      if (name) {\n        colorNameMap[name] = color;\n      }\n\n      scopeFields.colorIdx = (colorIdx + 1) % colorPalette.length;\n      return color;\n    }\n  };\n  var colorPalette = _default$W;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Avoid typo.\n  var SOURCE_FORMAT_ORIGINAL = 'original';\n  var SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\n  var SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\n  var SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\n  var SOURCE_FORMAT_UNKNOWN = 'unknown'; // ??? CHANGE A NAME\n\n  var SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\n  var SERIES_LAYOUT_BY_COLUMN = 'column';\n  var SERIES_LAYOUT_BY_ROW = 'row';\n  var SOURCE_FORMAT_ORIGINAL_1 = SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_ARRAY_ROWS_1 = SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_OBJECT_ROWS_1 = SOURCE_FORMAT_OBJECT_ROWS;\n  var SOURCE_FORMAT_KEYED_COLUMNS_1 = SOURCE_FORMAT_KEYED_COLUMNS;\n  var SOURCE_FORMAT_UNKNOWN_1 = SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY_1 = SOURCE_FORMAT_TYPED_ARRAY;\n  var SERIES_LAYOUT_BY_COLUMN_1 = SERIES_LAYOUT_BY_COLUMN;\n  var SERIES_LAYOUT_BY_ROW_1 = SERIES_LAYOUT_BY_ROW;\n\n  var sourceType = {\n  \tSOURCE_FORMAT_ORIGINAL: SOURCE_FORMAT_ORIGINAL_1,\n  \tSOURCE_FORMAT_ARRAY_ROWS: SOURCE_FORMAT_ARRAY_ROWS_1,\n  \tSOURCE_FORMAT_OBJECT_ROWS: SOURCE_FORMAT_OBJECT_ROWS_1,\n  \tSOURCE_FORMAT_KEYED_COLUMNS: SOURCE_FORMAT_KEYED_COLUMNS_1,\n  \tSOURCE_FORMAT_UNKNOWN: SOURCE_FORMAT_UNKNOWN_1,\n  \tSOURCE_FORMAT_TYPED_ARRAY: SOURCE_FORMAT_TYPED_ARRAY_1,\n  \tSERIES_LAYOUT_BY_COLUMN: SERIES_LAYOUT_BY_COLUMN_1,\n  \tSERIES_LAYOUT_BY_ROW: SERIES_LAYOUT_BY_ROW_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$1 = util.createHashMap;\n  var isTypedArray$1 = util.isTypedArray;\n\n\n\n  var enableClassCheck$2 = clazz.enableClassCheck;\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$1 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SERIES_LAYOUT_BY_COLUMN$1 = sourceType.SERIES_LAYOUT_BY_COLUMN;\n  var SOURCE_FORMAT_UNKNOWN$1 = sourceType.SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY$1 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SOURCE_FORMAT_KEYED_COLUMNS$1 = sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * [sourceFormat]\n   *\n   * + \"original\":\n   * This format is only used in series.data, where\n   * itemStyle can be specified in data item.\n   *\n   * + \"arrayRows\":\n   * [\n   *     ['product', 'score', 'amount'],\n   *     ['Matcha Latte', 89.3, 95.8],\n   *     ['Milk Tea', 92.1, 89.4],\n   *     ['Cheese Cocoa', 94.4, 91.2],\n   *     ['Walnut Brownie', 85.4, 76.9]\n   * ]\n   *\n   * + \"objectRows\":\n   * [\n   *     {product: 'Matcha Latte', score: 89.3, amount: 95.8},\n   *     {product: 'Milk Tea', score: 92.1, amount: 89.4},\n   *     {product: 'Cheese Cocoa', score: 94.4, amount: 91.2},\n   *     {product: 'Walnut Brownie', score: 85.4, amount: 76.9}\n   * ]\n   *\n   * + \"keyedColumns\":\n   * {\n   *     'product': ['Matcha Latte', 'Milk Tea', 'Cheese Cocoa', 'Walnut Brownie'],\n   *     'count': [823, 235, 1042, 988],\n   *     'score': [95.8, 81.4, 91.2, 76.9]\n   * }\n   *\n   * + \"typedArray\"\n   *\n   * + \"unknown\"\n   */\n\n  /**\n   * @constructor\n   * @param {Object} fields\n   * @param {string} fields.sourceFormat\n   * @param {Array|Object} fields.fromDataset\n   * @param {Array|Object} [fields.data]\n   * @param {string} [seriesLayoutBy='column']\n   * @param {Array.<Object|string>} [dimensionsDefine]\n   * @param {Objet|HashMap} [encodeDefine]\n   * @param {number} [startIndex=0]\n   * @param {number} [dimensionsDetectCount]\n   */\n  function Source(fields) {\n    /**\n     * @type {boolean}\n     */\n    this.fromDataset = fields.fromDataset;\n    /**\n     * Not null/undefined.\n     * @type {Array|Object}\n     */\n\n    this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$1 ? {} : []);\n    /**\n     * See also \"detectSourceFormat\".\n     * Not null/undefined.\n     * @type {string}\n     */\n\n    this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN$1;\n    /**\n     * 'row' or 'column'\n     * Not null/undefined.\n     * @type {string} seriesLayoutBy\n     */\n\n    this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN$1;\n    /**\n     * dimensions definition in option.\n     * can be null/undefined.\n     * @type {Array.<Object|string>}\n     */\n\n    this.dimensionsDefine = fields.dimensionsDefine;\n    /**\n     * encode definition in option.\n     * can be null/undefined.\n     * @type {Objet|HashMap}\n     */\n\n    this.encodeDefine = fields.encodeDefine && createHashMap$1(fields.encodeDefine);\n    /**\n     * Not null/undefined, uint.\n     * @type {number}\n     */\n\n    this.startIndex = fields.startIndex || 0;\n    /**\n     * Can be null/undefined (when unknown), uint.\n     * @type {number}\n     */\n\n    this.dimensionsDetectCount = fields.dimensionsDetectCount;\n  }\n  /**\n   * Wrap original series data for some compatibility cases.\n   */\n\n\n  Source.seriesDataToSource = function (data) {\n    return new Source({\n      data: data,\n      sourceFormat: isTypedArray$1(data) ? SOURCE_FORMAT_TYPED_ARRAY$1 : SOURCE_FORMAT_ORIGINAL$1,\n      fromDataset: false\n    });\n  };\n\n  enableClassCheck$2(Source);\n  var _default$X = Source;\n  var Source_1 = _default$X;\n\n  var makeInner$4 = model.makeInner;\n  var getDataItemValue$1 = model.getDataItemValue;\n\n\n\n  var createHashMap$2 = util.createHashMap;\n  var each$4 = util.each;\n  var map$1 = util.map;\n  var isArray$4 = util.isArray;\n  var isString$4 = util.isString;\n  var isObject$6 = util.isObject;\n  var isTypedArray$2 = util.isTypedArray;\n  var isArrayLike$3 = util.isArrayLike;\n  var extend$4 = util.extend;\n\n\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$2 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_ARRAY_ROWS$1 = sourceType.SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_OBJECT_ROWS$1 = sourceType.SOURCE_FORMAT_OBJECT_ROWS;\n  var SOURCE_FORMAT_KEYED_COLUMNS$2 = sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n  var SOURCE_FORMAT_UNKNOWN$2 = sourceType.SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY$2 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SERIES_LAYOUT_BY_ROW$1 = sourceType.SERIES_LAYOUT_BY_ROW;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // The result of `guessOrdinal`.\n  var BE_ORDINAL = {\n    Must: 1,\n    // Encounter string but not '-' and not number-like.\n    Might: 2,\n    // Encounter string but number-like.\n    Not: 3 // Other cases\n\n  };\n  var inner$3 = makeInner$4();\n  /**\n   * @see {module:echarts/data/Source}\n   * @param {module:echarts/component/dataset/DatasetModel} datasetModel\n   * @return {string} sourceFormat\n   */\n\n  function detectSourceFormat(datasetModel) {\n    var data = datasetModel.option.source;\n    var sourceFormat = SOURCE_FORMAT_UNKNOWN$2;\n\n    if (isTypedArray$2(data)) {\n      sourceFormat = SOURCE_FORMAT_TYPED_ARRAY$2;\n    } else if (isArray$4(data)) {\n      // FIXME Whether tolerate null in top level array?\n      if (data.length === 0) {\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS$1;\n      }\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var item = data[i];\n\n        if (item == null) {\n          continue;\n        } else if (isArray$4(item)) {\n          sourceFormat = SOURCE_FORMAT_ARRAY_ROWS$1;\n          break;\n        } else if (isObject$6(item)) {\n          sourceFormat = SOURCE_FORMAT_OBJECT_ROWS$1;\n          break;\n        }\n      }\n    } else if (isObject$6(data)) {\n      for (var key in data) {\n        if (data.hasOwnProperty(key) && isArrayLike$3(data[key])) {\n          sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS$2;\n          break;\n        }\n      }\n    } else if (data != null) {\n      throw new Error('Invalid data');\n    }\n\n    inner$3(datasetModel).sourceFormat = sourceFormat;\n  }\n  /**\n   * [Scenarios]:\n   * (1) Provide source data directly:\n   *     series: {\n   *         encode: {...},\n   *         dimensions: [...]\n   *         seriesLayoutBy: 'row',\n   *         data: [[...]]\n   *     }\n   * (2) Refer to datasetModel.\n   *     series: [{\n   *         encode: {...}\n   *         // Ignore datasetIndex means `datasetIndex: 0`\n   *         // and the dimensions defination in dataset is used\n   *     }, {\n   *         encode: {...},\n   *         seriesLayoutBy: 'column',\n   *         datasetIndex: 1\n   *     }]\n   *\n   * Get data from series itself or datset.\n   * @return {module:echarts/data/Source} source\n   */\n\n\n  function getSource(seriesModel) {\n    return inner$3(seriesModel).source;\n  }\n  /**\n   * MUST be called before mergeOption of all series.\n   * @param {module:echarts/model/Global} ecModel\n   */\n\n\n  function resetSourceDefaulter(ecModel) {\n    // `datasetMap` is used to make default encode.\n    inner$3(ecModel).datasetMap = createHashMap$2();\n  }\n  /**\n   * [Caution]:\n   * MUST be called after series option merged and\n   * before \"series.getInitailData()\" called.\n   *\n   * [The rule of making default encode]:\n   * Category axis (if exists) alway map to the first dimension.\n   * Each other axis occupies a subsequent dimension.\n   *\n   * [Why make default encode]:\n   * Simplify the typing of encode in option, avoiding the case like that:\n   * series: [{encode: {x: 0, y: 1}}, {encode: {x: 0, y: 2}}, {encode: {x: 0, y: 3}}],\n   * where the \"y\" have to be manually typed as \"1, 2, 3, ...\".\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   */\n\n\n  function prepareSource(seriesModel) {\n    var seriesOption = seriesModel.option;\n    var data = seriesOption.data;\n    var sourceFormat = isTypedArray$2(data) ? SOURCE_FORMAT_TYPED_ARRAY$2 : SOURCE_FORMAT_ORIGINAL$2;\n    var fromDataset = false;\n    var seriesLayoutBy = seriesOption.seriesLayoutBy;\n    var sourceHeader = seriesOption.sourceHeader;\n    var dimensionsDefine = seriesOption.dimensions;\n    var datasetModel = getDatasetModel(seriesModel);\n\n    if (datasetModel) {\n      var datasetOption = datasetModel.option;\n      data = datasetOption.source;\n      sourceFormat = inner$3(datasetModel).sourceFormat;\n      fromDataset = true; // These settings from series has higher priority.\n\n      seriesLayoutBy = seriesLayoutBy || datasetOption.seriesLayoutBy;\n      sourceHeader == null && (sourceHeader = datasetOption.sourceHeader);\n      dimensionsDefine = dimensionsDefine || datasetOption.dimensions;\n    }\n\n    var completeResult = completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine);\n    inner$3(seriesModel).source = new Source_1({\n      data: data,\n      fromDataset: fromDataset,\n      seriesLayoutBy: seriesLayoutBy,\n      sourceFormat: sourceFormat,\n      dimensionsDefine: completeResult.dimensionsDefine,\n      startIndex: completeResult.startIndex,\n      dimensionsDetectCount: completeResult.dimensionsDetectCount,\n      // Note: dataset option does not have `encode`.\n      encodeDefine: seriesOption.encode\n    });\n  } // return {startIndex, dimensionsDefine, dimensionsCount}\n\n\n  function completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine) {\n    if (!data) {\n      return {\n        dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine)\n      };\n    }\n\n    var dimensionsDetectCount;\n    var startIndex;\n\n    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$1) {\n      // Rule: Most of the first line are string: it is header.\n      // Caution: consider a line with 5 string and 1 number,\n      // it still can not be sure it is a head, because the\n      // 5 string may be 5 values of category columns.\n      if (sourceHeader === 'auto' || sourceHeader == null) {\n        arrayRowsTravelFirst(function (val) {\n          // '-' is regarded as null/undefined.\n          if (val != null && val !== '-') {\n            if (isString$4(val)) {\n              startIndex == null && (startIndex = 1);\n            } else {\n              startIndex = 0;\n            }\n          } // 10 is an experience number, avoid long loop.\n\n        }, seriesLayoutBy, data, 10);\n      } else {\n        startIndex = sourceHeader ? 1 : 0;\n      }\n\n      if (!dimensionsDefine && startIndex === 1) {\n        dimensionsDefine = [];\n        arrayRowsTravelFirst(function (val, index) {\n          dimensionsDefine[index] = val != null ? val : '';\n        }, seriesLayoutBy, data);\n      }\n\n      dimensionsDetectCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1 ? data.length : data[0] ? data[0].length : null;\n    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1) {\n      if (!dimensionsDefine) {\n        dimensionsDefine = objectRowsCollectDimensions(data);\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      if (!dimensionsDefine) {\n        dimensionsDefine = [];\n        each$4(data, function (colArr, key) {\n          dimensionsDefine.push(key);\n        });\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL$2) {\n      var value0 = getDataItemValue$1(data[0]);\n      dimensionsDetectCount = isArray$4(value0) && value0.length || 1;\n    } else ;\n\n    return {\n      startIndex: startIndex,\n      dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine),\n      dimensionsDetectCount: dimensionsDetectCount\n    };\n  } // Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\n  // which is reasonable. But dimension name is duplicated.\n  // Returns undefined or an array contains only object without null/undefiend or string.\n\n\n  function normalizeDimensionsDefine(dimensionsDefine) {\n    if (!dimensionsDefine) {\n      // The meaning of null/undefined is different from empty array.\n      return;\n    }\n\n    var nameMap = createHashMap$2();\n    return map$1(dimensionsDefine, function (item, index) {\n      item = extend$4({}, isObject$6(item) ? item : {\n        name: item\n      }); // User can set null in dimensions.\n      // We dont auto specify name, othewise a given name may\n      // cause it be refered unexpectedly.\n\n      if (item.name == null) {\n        return item;\n      } // Also consider number form like 2012.\n\n\n      item.name += ''; // User may also specify displayName.\n      // displayName will always exists except user not\n      // specified or dim name is not specified or detected.\n      // (A auto generated dim name will not be used as\n      // displayName).\n\n      if (item.displayName == null) {\n        item.displayName = item.name;\n      }\n\n      var exist = nameMap.get(item.name);\n\n      if (!exist) {\n        nameMap.set(item.name, {\n          count: 1\n        });\n      } else {\n        item.name += '-' + exist.count++;\n      }\n\n      return item;\n    });\n  }\n\n  function arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\n    maxLoop == null && (maxLoop = Infinity);\n\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1) {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        cb(data[i] ? data[i][0] : null, i);\n      }\n    } else {\n      var value0 = data[0] || [];\n\n      for (var i = 0; i < value0.length && i < maxLoop; i++) {\n        cb(value0[i], i);\n      }\n    }\n  }\n\n  function objectRowsCollectDimensions(data) {\n    var firstIndex = 0;\n    var obj;\n\n    while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\n\n\n    if (obj) {\n      var dimensions = [];\n      each$4(obj, function (value, key) {\n        dimensions.push(key);\n      });\n      return dimensions;\n    }\n  }\n  /**\n   * [The strategy of the arrengment of data dimensions for dataset]:\n   * \"value way\": all axes are non-category axes. So series one by one take\n   *     several (the number is coordSysDims.length) dimensions from dataset.\n   *     The result of data arrengment of data dimensions like:\n   *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |\n   * \"category way\": at least one axis is category axis. So the the first data\n   *     dimension is always mapped to the first category axis and shared by\n   *     all of the series. The other data dimensions are taken by series like\n   *     \"value way\" does.\n   *     The result of data arrengment of data dimensions like:\n   *     | ser_shared_x | ser0_y | ser1_y | ser2_y |\n   *\n   * @param {Array.<Object|string>} coordDimensions [{name: <string>, type: <string>, dimsDef: <Array>}, ...]\n   * @param {module:model/Series} seriesModel\n   * @param {module:data/Source} source\n   * @return {Object} encode Never be `null/undefined`.\n   */\n\n\n  function makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {\n    var encode = {};\n    var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n    if (!datasetModel || !coordDimensions) {\n      return encode;\n    }\n\n    var encodeItemName = [];\n    var encodeSeriesName = [];\n    var ecModel = seriesModel.ecModel;\n    var datasetMap = inner$3(ecModel).datasetMap;\n    var key = datasetModel.uid + '_' + source.seriesLayoutBy;\n    var baseCategoryDimIndex;\n    var categoryWayValueDimStart;\n    coordDimensions = coordDimensions.slice();\n    each$4(coordDimensions, function (coordDimInfo, coordDimIdx) {\n      !isObject$6(coordDimInfo) && (coordDimensions[coordDimIdx] = {\n        name: coordDimInfo\n      });\n\n      if (coordDimInfo.type === 'ordinal' && baseCategoryDimIndex == null) {\n        baseCategoryDimIndex = coordDimIdx;\n        categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimensions[coordDimIdx]);\n      }\n\n      encode[coordDimInfo.name] = [];\n    });\n    var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\n      categoryWayDim: categoryWayValueDimStart,\n      valueWayDim: 0\n    }); // TODO\n    // Auto detect first time axis and do arrangement.\n\n    each$4(coordDimensions, function (coordDimInfo, coordDimIdx) {\n      var coordDimName = coordDimInfo.name;\n      var count = getDataDimCountOnCoordDim(coordDimInfo); // In value way.\n\n      if (baseCategoryDimIndex == null) {\n        var start = datasetRecord.valueWayDim;\n        pushDim(encode[coordDimName], start, count);\n        pushDim(encodeSeriesName, start, count);\n        datasetRecord.valueWayDim += count; // ??? TODO give a better default series name rule?\n        // especially when encode x y specified.\n        // consider: when mutiple series share one dimension\n        // category axis, series name should better use\n        // the other dimsion name. On the other hand, use\n        // both dimensions name.\n      } // In category way, the first category axis.\n      else if (baseCategoryDimIndex === coordDimIdx) {\n          pushDim(encode[coordDimName], 0, count);\n          pushDim(encodeItemName, 0, count);\n        } // In category way, the other axis.\n        else {\n            var start = datasetRecord.categoryWayDim;\n            pushDim(encode[coordDimName], start, count);\n            pushDim(encodeSeriesName, start, count);\n            datasetRecord.categoryWayDim += count;\n          }\n    });\n\n    function pushDim(dimIdxArr, idxFrom, idxCount) {\n      for (var i = 0; i < idxCount; i++) {\n        dimIdxArr.push(idxFrom + i);\n      }\n    }\n\n    function getDataDimCountOnCoordDim(coordDimInfo) {\n      var dimsDef = coordDimInfo.dimsDef;\n      return dimsDef ? dimsDef.length : 1;\n    }\n\n    encodeItemName.length && (encode.itemName = encodeItemName);\n    encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\n    return encode;\n  }\n  /**\n   * Work for data like [{name: ..., value: ...}, ...].\n   *\n   * @param {module:model/Series} seriesModel\n   * @param {module:data/Source} source\n   * @return {Object} encode Never be `null/undefined`.\n   */\n\n\n  function makeSeriesEncodeForNameBased(seriesModel, source, dimCount) {\n    var encode = {};\n    var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n    if (!datasetModel) {\n      return encode;\n    }\n\n    var sourceFormat = source.sourceFormat;\n    var dimensionsDefine = source.dimensionsDefine;\n    var potentialNameDimIndex;\n\n    if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1 || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      each$4(dimensionsDefine, function (dim, idx) {\n        if ((isObject$6(dim) ? dim.name : dim) === 'name') {\n          potentialNameDimIndex = idx;\n        }\n      });\n    } // idxResult: {v, n}.\n\n\n    var idxResult = function () {\n      var idxRes0 = {};\n      var idxRes1 = {};\n      var guessRecords = []; // 5 is an experience value.\n\n      for (var i = 0, len = Math.min(5, dimCount); i < len; i++) {\n        var guessResult = doGuessOrdinal(source.data, sourceFormat, source.seriesLayoutBy, dimensionsDefine, source.startIndex, i);\n        guessRecords.push(guessResult);\n        var isPureNumber = guessResult === BE_ORDINAL.Not; // [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,\n        // and then find a name dim with the priority:\n        // \"BE_ORDINAL.Might|BE_ORDINAL.Must\" > \"other dim\" > \"the value dim itself\".\n\n        if (isPureNumber && idxRes0.v == null && i !== potentialNameDimIndex) {\n          idxRes0.v = i;\n        }\n\n        if (idxRes0.n == null || idxRes0.n === idxRes0.v || !isPureNumber && guessRecords[idxRes0.n] === BE_ORDINAL.Not) {\n          idxRes0.n = i;\n        }\n\n        if (fulfilled(idxRes0) && guessRecords[idxRes0.n] !== BE_ORDINAL.Not) {\n          return idxRes0;\n        } // [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),\n        // find the first BE_ORDINAL.Might as the value dim,\n        // and then find a name dim with the priority:\n        // \"other dim\" > \"the value dim itself\".\n        // That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be\n        // treated as number.\n\n\n        if (!isPureNumber) {\n          if (guessResult === BE_ORDINAL.Might && idxRes1.v == null && i !== potentialNameDimIndex) {\n            idxRes1.v = i;\n          }\n\n          if (idxRes1.n == null || idxRes1.n === idxRes1.v) {\n            idxRes1.n = i;\n          }\n        }\n      }\n\n      function fulfilled(idxResult) {\n        return idxResult.v != null && idxResult.n != null;\n      }\n\n      return fulfilled(idxRes0) ? idxRes0 : fulfilled(idxRes1) ? idxRes1 : null;\n    }();\n\n    if (idxResult) {\n      encode.value = idxResult.v; // `potentialNameDimIndex` has highest priority.\n\n      var nameDimIndex = potentialNameDimIndex != null ? potentialNameDimIndex : idxResult.n; // By default, label use itemName in charts.\n      // So we dont set encodeLabel here.\n\n      encode.itemName = [nameDimIndex];\n      encode.seriesName = [nameDimIndex];\n    }\n\n    return encode;\n  }\n  /**\n   * If return null/undefined, indicate that should not use datasetModel.\n   */\n\n\n  function getDatasetModel(seriesModel) {\n    var option = seriesModel.option; // Caution: consider the scenario:\n    // A dataset is declared and a series is not expected to use the dataset,\n    // and at the beginning `setOption({series: { noData })` (just prepare other\n    // option but no data), then `setOption({series: {data: [...]}); In this case,\n    // the user should set an empty array to avoid that dataset is used by default.\n\n    var thisData = option.data;\n\n    if (!thisData) {\n      return seriesModel.ecModel.getComponent('dataset', option.datasetIndex || 0);\n    }\n  }\n  /**\n   * The rule should not be complex, otherwise user might not\n   * be able to known where the data is wrong.\n   * The code is ugly, but how to make it neat?\n   *\n   * @param {module:echars/data/Source} source\n   * @param {number} dimIndex\n   * @return {BE_ORDINAL} guess result.\n   */\n\n\n  function guessOrdinal(source, dimIndex) {\n    return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\n  } // dimIndex may be overflow source data.\n  // return {BE_ORDINAL}\n\n\n  function doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\n    var result; // Experience value.\n\n    var maxLoop = 5;\n\n    if (isTypedArray$2(data)) {\n      return BE_ORDINAL.Not;\n    } // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\n    // always exists in source.\n\n\n    var dimName;\n    var dimType;\n\n    if (dimensionsDefine) {\n      var dimDefItem = dimensionsDefine[dimIndex];\n\n      if (isObject$6(dimDefItem)) {\n        dimName = dimDefItem.name;\n        dimType = dimDefItem.type;\n      } else if (isString$4(dimDefItem)) {\n        dimName = dimDefItem;\n      }\n    }\n\n    if (dimType != null) {\n      return dimType === 'ordinal' ? BE_ORDINAL.Must : BE_ORDINAL.Not;\n    }\n\n    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$1) {\n      if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1) {\n        var sample = data[dimIndex];\n\n        for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\n          if ((result = detectValue(sample[startIndex + i])) != null) {\n            return result;\n          }\n        }\n      } else {\n        for (var i = 0; i < data.length && i < maxLoop; i++) {\n          var row = data[startIndex + i];\n\n          if (row && (result = detectValue(row[dimIndex])) != null) {\n            return result;\n          }\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1) {\n      if (!dimName) {\n        return BE_ORDINAL.Not;\n      }\n\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var item = data[i];\n\n        if (item && (result = detectValue(item[dimName])) != null) {\n          return result;\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      if (!dimName) {\n        return BE_ORDINAL.Not;\n      }\n\n      var sample = data[dimName];\n\n      if (!sample || isTypedArray$2(sample)) {\n        return BE_ORDINAL.Not;\n      }\n\n      for (var i = 0; i < sample.length && i < maxLoop; i++) {\n        if ((result = detectValue(sample[i])) != null) {\n          return result;\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL$2) {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var item = data[i];\n        var val = getDataItemValue$1(item);\n\n        if (!isArray$4(val)) {\n          return BE_ORDINAL.Not;\n        }\n\n        if ((result = detectValue(val[dimIndex])) != null) {\n          return result;\n        }\n      }\n    }\n\n    function detectValue(val) {\n      var beStr = isString$4(val); // Consider usage convenience, '1', '2' will be treated as \"number\".\n      // `isFinit('')` get `true`.\n\n      if (val != null && isFinite(val) && val !== '') {\n        return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;\n      } else if (beStr && val !== '-') {\n        return BE_ORDINAL.Must;\n      }\n    }\n\n    return BE_ORDINAL.Not;\n  }\n\n  var BE_ORDINAL_1 = BE_ORDINAL;\n  var detectSourceFormat_1 = detectSourceFormat;\n  var getSource_1 = getSource;\n  var resetSourceDefaulter_1 = resetSourceDefaulter;\n  var prepareSource_1 = prepareSource;\n  var makeSeriesEncodeForAxisCoordSys_1 = makeSeriesEncodeForAxisCoordSys;\n  var makeSeriesEncodeForNameBased_1 = makeSeriesEncodeForNameBased;\n  var guessOrdinal_1 = guessOrdinal;\n\n  var sourceHelper = {\n  \tBE_ORDINAL: BE_ORDINAL_1,\n  \tdetectSourceFormat: detectSourceFormat_1,\n  \tgetSource: getSource_1,\n  \tresetSourceDefaulter: resetSourceDefaulter_1,\n  \tprepareSource: prepareSource_1,\n  \tmakeSeriesEncodeForAxisCoordSys: makeSeriesEncodeForAxisCoordSys_1,\n  \tmakeSeriesEncodeForNameBased: makeSeriesEncodeForNameBased_1,\n  \tguessOrdinal: guessOrdinal_1\n  };\n\n  var each$5 = util.each;\n  var filter$1 = util.filter;\n  var map$2 = util.map;\n  var isArray$5 = util.isArray;\n  var indexOf$3 = util.indexOf;\n  var isObject$7 = util.isObject;\n  var isString$5 = util.isString;\n  var createHashMap$3 = util.createHashMap;\n  var assert$1 = util.assert;\n  var clone$4 = util.clone;\n  var merge$1 = util.merge;\n  var extend$5 = util.extend;\n  var mixin$2 = util.mixin;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var resetSourceDefaulter$1 = sourceHelper.resetSourceDefaulter;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * ECharts global model\n   *\n   * @module {echarts/model/Global}\n   */\n\n  /**\n   * Caution: If the mechanism should be changed some day, these cases\n   * should be considered:\n   *\n   * (1) In `merge option` mode, if using the same option to call `setOption`\n   * many times, the result should be the same (try our best to ensure that).\n   * (2) In `merge option` mode, if a component has no id/name specified, it\n   * will be merged by index, and the result sequence of the components is\n   * consistent to the original sequence.\n   * (3) `reset` feature (in toolbox). Find detailed info in comments about\n   * `mergeOption` in module:echarts/model/OptionManager.\n   */\n  var OPTION_INNER_KEY = '\\0_ec_inner';\n  /**\n   * @alias module:echarts/model/Global\n   *\n   * @param {Object} option\n   * @param {module:echarts/model/Model} parentModel\n   * @param {Object} theme\n   */\n\n  var GlobalModel = Model_1.extend({\n    init: function (option, parentModel, theme, optionManager) {\n      theme = theme || {};\n      this.option = null; // Mark as not initialized.\n\n      /**\n       * @type {module:echarts/model/Model}\n       * @private\n       */\n\n      this._theme = new Model_1(theme);\n      /**\n       * @type {module:echarts/model/OptionManager}\n       */\n\n      this._optionManager = optionManager;\n    },\n    setOption: function (option, optionPreprocessorFuncs) {\n      assert$1(!(OPTION_INNER_KEY in option), 'please use chart.getOption()');\n\n      this._optionManager.setOption(option, optionPreprocessorFuncs);\n\n      this.resetOption(null);\n    },\n\n    /**\n     * @param {string} type null/undefined: reset all.\n     *                      'recreate': force recreate all.\n     *                      'timeline': only reset timeline option\n     *                      'media': only reset media query option\n     * @return {boolean} Whether option changed.\n     */\n    resetOption: function (type) {\n      var optionChanged = false;\n      var optionManager = this._optionManager;\n\n      if (!type || type === 'recreate') {\n        var baseOption = optionManager.mountOption(type === 'recreate');\n\n        if (!this.option || type === 'recreate') {\n          initBase.call(this, baseOption);\n        } else {\n          this.restoreData();\n          this.mergeOption(baseOption);\n        }\n\n        optionChanged = true;\n      }\n\n      if (type === 'timeline' || type === 'media') {\n        this.restoreData();\n      }\n\n      if (!type || type === 'recreate' || type === 'timeline') {\n        var timelineOption = optionManager.getTimelineOption(this);\n        timelineOption && (this.mergeOption(timelineOption), optionChanged = true);\n      }\n\n      if (!type || type === 'recreate' || type === 'media') {\n        var mediaOptions = optionManager.getMediaOption(this, this._api);\n\n        if (mediaOptions.length) {\n          each$5(mediaOptions, function (mediaOption) {\n            this.mergeOption(mediaOption, optionChanged = true);\n          }, this);\n        }\n      }\n\n      return optionChanged;\n    },\n\n    /**\n     * @protected\n     */\n    mergeOption: function (newOption) {\n      var option = this.option;\n      var componentsMap = this._componentsMap;\n      var newCptTypes = [];\n      resetSourceDefaulter$1(this); // If no component class, merge directly.\n      // For example: color, animaiton options, etc.\n\n      each$5(newOption, function (componentOption, mainType) {\n        if (componentOption == null) {\n          return;\n        }\n\n        if (!Component.hasClass(mainType)) {\n          // globalSettingTask.dirty();\n          option[mainType] = option[mainType] == null ? clone$4(componentOption) : merge$1(option[mainType], componentOption, true);\n        } else if (mainType) {\n          newCptTypes.push(mainType);\n        }\n      });\n      Component.topologicalTravel(newCptTypes, Component.getAllClassMainTypes(), visitComponent, this);\n\n      function visitComponent(mainType, dependencies) {\n        var newCptOptionList = model.normalizeToArray(newOption[mainType]);\n        var mapResult = model.mappingToExists(componentsMap.get(mainType), newCptOptionList);\n        model.makeIdAndName(mapResult); // Set mainType and complete subType.\n\n        each$5(mapResult, function (item, index) {\n          var opt = item.option;\n\n          if (isObject$7(opt)) {\n            item.keyInfo.mainType = mainType;\n            item.keyInfo.subType = determineSubType(mainType, opt, item.exist);\n          }\n        });\n        var dependentModels = getComponentsByTypes(componentsMap, dependencies);\n        option[mainType] = [];\n        componentsMap.set(mainType, []);\n        each$5(mapResult, function (resultItem, index) {\n          var componentModel = resultItem.exist;\n          var newCptOption = resultItem.option;\n          assert$1(isObject$7(newCptOption) || componentModel, 'Empty component definition'); // Consider where is no new option and should be merged using {},\n          // see removeEdgeAndAdd in topologicalTravel and\n          // ComponentModel.getAllClassMainTypes.\n\n          if (!newCptOption) {\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          } else {\n            var ComponentModelClass = Component.getClass(mainType, resultItem.keyInfo.subType, true);\n\n            if (componentModel && componentModel.constructor === ComponentModelClass) {\n              componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n              componentModel.mergeOption(newCptOption, this);\n              componentModel.optionUpdated(newCptOption, false);\n            } else {\n              // PENDING Global as parent ?\n              var extraOpt = extend$5({\n                dependentModels: dependentModels,\n                componentIndex: index\n              }, resultItem.keyInfo);\n              componentModel = new ComponentModelClass(newCptOption, this, this, extraOpt);\n              extend$5(componentModel, extraOpt);\n              componentModel.init(newCptOption, this, this, extraOpt); // Call optionUpdated after init.\n              // newCptOption has been used as componentModel.option\n              // and may be merged with theme and default, so pass null\n              // to avoid confusion.\n\n              componentModel.optionUpdated(null, true);\n            }\n          }\n\n          componentsMap.get(mainType)[index] = componentModel;\n          option[mainType][index] = componentModel.option;\n        }, this); // Backup series for filtering.\n\n        if (mainType === 'series') {\n          createSeriesIndices(this, componentsMap.get('series'));\n        }\n      }\n\n      this._seriesIndicesMap = createHashMap$3(this._seriesIndices = this._seriesIndices || []);\n    },\n\n    /**\n     * Get option for output (cloned option and inner info removed)\n     * @public\n     * @return {Object}\n     */\n    getOption: function () {\n      var option = clone$4(this.option);\n      each$5(option, function (opts, mainType) {\n        if (Component.hasClass(mainType)) {\n          var opts = model.normalizeToArray(opts);\n\n          for (var i = opts.length - 1; i >= 0; i--) {\n            // Remove options with inner id.\n            if (model.isIdInner(opts[i])) {\n              opts.splice(i, 1);\n            }\n          }\n\n          option[mainType] = opts;\n        }\n      });\n      delete option[OPTION_INNER_KEY];\n      return option;\n    },\n\n    /**\n     * @return {module:echarts/model/Model}\n     */\n    getTheme: function () {\n      return this._theme;\n    },\n\n    /**\n     * @param {string} mainType\n     * @param {number} [idx=0]\n     * @return {module:echarts/model/Component}\n     */\n    getComponent: function (mainType, idx) {\n      var list = this._componentsMap.get(mainType);\n\n      if (list) {\n        return list[idx || 0];\n      }\n    },\n\n    /**\n     * If none of index and id and name used, return all components with mainType.\n     * @param {Object} condition\n     * @param {string} condition.mainType\n     * @param {string} [condition.subType] If ignore, only query by mainType\n     * @param {number|Array.<number>} [condition.index] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.id] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.name] Either input index or id or name.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    queryComponents: function (condition) {\n      var mainType = condition.mainType;\n\n      if (!mainType) {\n        return [];\n      }\n\n      var index = condition.index;\n      var id = condition.id;\n      var name = condition.name;\n\n      var cpts = this._componentsMap.get(mainType);\n\n      if (!cpts || !cpts.length) {\n        return [];\n      }\n\n      var result;\n\n      if (index != null) {\n        if (!isArray$5(index)) {\n          index = [index];\n        }\n\n        result = filter$1(map$2(index, function (idx) {\n          return cpts[idx];\n        }), function (val) {\n          return !!val;\n        });\n      } else if (id != null) {\n        var isIdArray = isArray$5(id);\n        result = filter$1(cpts, function (cpt) {\n          return isIdArray && indexOf$3(id, cpt.id) >= 0 || !isIdArray && cpt.id === id;\n        });\n      } else if (name != null) {\n        var isNameArray = isArray$5(name);\n        result = filter$1(cpts, function (cpt) {\n          return isNameArray && indexOf$3(name, cpt.name) >= 0 || !isNameArray && cpt.name === name;\n        });\n      } else {\n        // Return all components with mainType\n        result = cpts.slice();\n      }\n\n      return filterBySubType(result, condition);\n    },\n\n    /**\n     * The interface is different from queryComponents,\n     * which is convenient for inner usage.\n     *\n     * @usage\n     * var result = findComponents(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series',\n     *     filter: function (model, index) {...}}\n     * );\n     * // result like [component0, componnet1, ...]\n     *\n     * @param {Object} condition\n     * @param {string} condition.mainType Mandatory.\n     * @param {string} [condition.subType] Optional.\n     * @param {Object} [condition.query] like {xxxIndex, xxxId, xxxName},\n     *        where xxx is mainType.\n     *        If query attribute is null/undefined or has no index/id/name,\n     *        do not filtering by query conditions, which is convenient for\n     *        no-payload situations or when target of action is global.\n     * @param {Function} [condition.filter] parameter: component, return boolean.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    findComponents: function (condition) {\n      var query = condition.query;\n      var mainType = condition.mainType;\n      var queryCond = getQueryCond(query);\n      var result = queryCond ? this.queryComponents(queryCond) : this._componentsMap.get(mainType);\n      return doFilter(filterBySubType(result, condition));\n\n      function getQueryCond(q) {\n        var indexAttr = mainType + 'Index';\n        var idAttr = mainType + 'Id';\n        var nameAttr = mainType + 'Name';\n        return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n          mainType: mainType,\n          // subType will be filtered finally.\n          index: q[indexAttr],\n          id: q[idAttr],\n          name: q[nameAttr]\n        } : null;\n      }\n\n      function doFilter(res) {\n        return condition.filter ? filter$1(res, condition.filter) : res;\n      }\n    },\n\n    /**\n     * @usage\n     * eachComponent('legend', function (legendModel, index) {\n     *     ...\n     * });\n     * eachComponent(function (componentType, model, index) {\n     *     // componentType does not include subType\n     *     // (componentType is 'xxx' but not 'xxx.aa')\n     * });\n     * eachComponent(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}},\n     *     function (model, index) {...}\n     * );\n     * eachComponent(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}},\n     *     function (model, index) {...}\n     * );\n     *\n     * @param {string|Object=} mainType When mainType is object, the definition\n     *                                  is the same as the method 'findComponents'.\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachComponent: function (mainType, cb, context) {\n      var componentsMap = this._componentsMap;\n\n      if (typeof mainType === 'function') {\n        context = cb;\n        cb = mainType;\n        componentsMap.each(function (components, componentType) {\n          each$5(components, function (component, index) {\n            cb.call(context, componentType, component, index);\n          });\n        });\n      } else if (isString$5(mainType)) {\n        each$5(componentsMap.get(mainType), cb, context);\n      } else if (isObject$7(mainType)) {\n        var queryResult = this.findComponents(mainType);\n        each$5(queryResult, cb, context);\n      }\n    },\n\n    /**\n     * @param {string} name\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByName: function (name) {\n      var series = this._componentsMap.get('series');\n\n      return filter$1(series, function (oneSeries) {\n        return oneSeries.name === name;\n      });\n    },\n\n    /**\n     * @param {number} seriesIndex\n     * @return {module:echarts/model/Series}\n     */\n    getSeriesByIndex: function (seriesIndex) {\n      return this._componentsMap.get('series')[seriesIndex];\n    },\n\n    /**\n     * Get series list before filtered by type.\n     * FIXME: rename to getRawSeriesByType?\n     *\n     * @param {string} subType\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByType: function (subType) {\n      var series = this._componentsMap.get('series');\n\n      return filter$1(series, function (oneSeries) {\n        return oneSeries.subType === subType;\n      });\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeries: function () {\n      return this._componentsMap.get('series').slice();\n    },\n\n    /**\n     * @return {number}\n     */\n    getSeriesCount: function () {\n      return this._componentsMap.get('series').length;\n    },\n\n    /**\n     * After filtering, series may be different\n     * frome raw series.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeries: function (cb, context) {\n      each$5(this._seriesIndices, function (rawSeriesIndex) {\n        var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n        cb.call(context, series, rawSeriesIndex);\n      }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeries: function (cb, context) {\n      each$5(this._componentsMap.get('series'), cb, context);\n    },\n\n    /**\n     * After filtering, series may be different.\n     * frome raw series.\n     *\n     * @param {string} subType.\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeriesByType: function (subType, cb, context) {\n      each$5(this._seriesIndices, function (rawSeriesIndex) {\n        var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n        if (series.subType === subType) {\n          cb.call(context, series, rawSeriesIndex);\n        }\n      }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered of given type.\n     *\n     * @parma {string} subType\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeriesByType: function (subType, cb, context) {\n      return each$5(this.getSeriesByType(subType), cb, context);\n    },\n\n    /**\n     * @param {module:echarts/model/Series} seriesModel\n     */\n    isSeriesFiltered: function (seriesModel) {\n      return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getCurrentSeriesIndices: function () {\n      return (this._seriesIndices || []).slice();\n    },\n\n    /**\n     * @param {Function} cb\n     * @param {*} context\n     */\n    filterSeries: function (cb, context) {\n      var filteredSeries = filter$1(this._componentsMap.get('series'), cb, context);\n      createSeriesIndices(this, filteredSeries);\n    },\n    restoreData: function (payload) {\n      var componentsMap = this._componentsMap;\n      createSeriesIndices(this, componentsMap.get('series'));\n      var componentTypes = [];\n      componentsMap.each(function (components, componentType) {\n        componentTypes.push(componentType);\n      });\n      Component.topologicalTravel(componentTypes, Component.getAllClassMainTypes(), function (componentType, dependencies) {\n        each$5(componentsMap.get(componentType), function (component) {\n          (componentType !== 'series' || !isNotTargetSeries(component, payload)) && component.restoreData();\n        });\n      });\n    }\n  });\n\n  function isNotTargetSeries(seriesModel, payload) {\n    if (payload) {\n      var index = payload.seiresIndex;\n      var id = payload.seriesId;\n      var name = payload.seriesName;\n      return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name != null && seriesModel.name !== name;\n    }\n  }\n  /**\n   * @inner\n   */\n\n\n  function mergeTheme(option, theme) {\n    // PENDING\n    // NOT use `colorLayer` in theme if option has `color`\n    var notMergeColorLayer = option.color && !option.colorLayer;\n    each$5(theme, function (themeItem, name) {\n      if (name === 'colorLayer' && notMergeColorLayer) {\n        return;\n      } //  component model  merge  model \n\n\n      if (!Component.hasClass(name)) {\n        if (typeof themeItem === 'object') {\n          option[name] = !option[name] ? clone$4(themeItem) : merge$1(option[name], themeItem, false);\n        } else {\n          if (option[name] == null) {\n            option[name] = themeItem;\n          }\n        }\n      }\n    });\n  }\n\n  function initBase(baseOption) {\n    baseOption = baseOption; // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n    // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n\n    this.option = {};\n    this.option[OPTION_INNER_KEY] = 1;\n    /**\n     * Init with series: [], in case of calling findSeries method\n     * before series initialized.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @private\n     */\n\n    this._componentsMap = createHashMap$3({\n      series: []\n    });\n    /**\n     * Mapping between filtered series list and raw series list.\n     * key: filtered series indices, value: raw series indices.\n     * @type {Array.<nubmer>}\n     * @private\n     */\n\n    this._seriesIndices;\n    this._seriesIndicesMap;\n    mergeTheme(baseOption, this._theme.option); // TODO Needs clone when merging to the unexisted property\n\n    merge$1(baseOption, globalDefault, false);\n    this.mergeOption(baseOption);\n  }\n  /**\n   * @inner\n   * @param {Array.<string>|string} types model types\n   * @return {Object} key: {string} type, value: {Array.<Object>} models\n   */\n\n\n  function getComponentsByTypes(componentsMap, types) {\n    if (!isArray$5(types)) {\n      types = types ? [types] : [];\n    }\n\n    var ret = {};\n    each$5(types, function (type) {\n      ret[type] = (componentsMap.get(type) || []).slice();\n    });\n    return ret;\n  }\n  /**\n   * @inner\n   */\n\n\n  function determineSubType(mainType, newCptOption, existComponent) {\n    var subType = newCptOption.type ? newCptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\n    : Component.determineSubType(mainType, newCptOption); // tooltip, markline, markpoint may always has no subType\n\n    return subType;\n  }\n  /**\n   * @inner\n   */\n\n\n  function createSeriesIndices(ecModel, seriesModels) {\n    ecModel._seriesIndicesMap = createHashMap$3(ecModel._seriesIndices = map$2(seriesModels, function (series) {\n      return series.componentIndex;\n    }) || []);\n  }\n  /**\n   * @inner\n   */\n\n\n  function filterBySubType(components, condition) {\n    // Using hasOwnProperty for restrict. Consider\n    // subType is undefined in user payload.\n    return condition.hasOwnProperty('subType') ? filter$1(components, function (cpt) {\n      return cpt.subType === condition.subType;\n    }) : components;\n  }\n\n  mixin$2(GlobalModel, colorPalette);\n  var _default$Y = GlobalModel;\n  var Global = _default$Y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var echartsAPIList = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption', 'getViewOfComponentModel', 'getViewOfSeriesModel']; // And `getCoordinateSystems` and `getComponentByElement` will be injected in echarts.js\n\n  function ExtensionAPI(chartInstance) {\n    util.each(echartsAPIList, function (name) {\n      this[name] = util.bind(chartInstance[name], chartInstance);\n    }, this);\n  }\n\n  var _default$Z = ExtensionAPI;\n  var ExtensionAPI_1 = _default$Z;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var coordinateSystemCreators = {};\n\n  function CoordinateSystemManager() {\n    this._coordinateSystems = [];\n  }\n\n  CoordinateSystemManager.prototype = {\n    constructor: CoordinateSystemManager,\n    create: function (ecModel, api) {\n      var coordinateSystems = [];\n      util.each(coordinateSystemCreators, function (creater, type) {\n        var list = creater.create(ecModel, api);\n        coordinateSystems = coordinateSystems.concat(list || []);\n      });\n      this._coordinateSystems = coordinateSystems;\n    },\n    update: function (ecModel, api) {\n      util.each(this._coordinateSystems, function (coordSys) {\n        coordSys.update && coordSys.update(ecModel, api);\n      });\n    },\n    getCoordinateSystems: function () {\n      return this._coordinateSystems.slice();\n    }\n  };\n\n  CoordinateSystemManager.register = function (type, coordinateSystemCreator) {\n    coordinateSystemCreators[type] = coordinateSystemCreator;\n  };\n\n  CoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n  };\n\n  var _default$_ = CoordinateSystemManager;\n  var CoordinateSystem = _default$_;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * ECharts option manager\n   *\n   * @module {echarts/model/OptionManager}\n   */\n  var each$6 = util.each;\n  var clone$5 = util.clone;\n  var map$3 = util.map;\n  var merge$2 = util.merge;\n  var QUERY_REG = /^(min|max)?(.+)$/;\n  /**\n   * TERM EXPLANATIONS:\n   *\n   * [option]:\n   *\n   *     An object that contains definitions of components. For example:\n   *     var option = {\n   *         title: {...},\n   *         legend: {...},\n   *         visualMap: {...},\n   *         series: [\n   *             {data: [...]},\n   *             {data: [...]},\n   *             ...\n   *         ]\n   *     };\n   *\n   * [rawOption]:\n   *\n   *     An object input to echarts.setOption. 'rawOption' may be an\n   *     'option', or may be an object contains multi-options. For example:\n   *     var option = {\n   *         baseOption: {\n   *             title: {...},\n   *             legend: {...},\n   *             series: [\n   *                 {data: [...]},\n   *                 {data: [...]},\n   *                 ...\n   *             ]\n   *         },\n   *         timeline: {...},\n   *         options: [\n   *             {title: {...}, series: {data: [...]}},\n   *             {title: {...}, series: {data: [...]}},\n   *             ...\n   *         ],\n   *         media: [\n   *             {\n   *                 query: {maxWidth: 320},\n   *                 option: {series: {x: 20}, visualMap: {show: false}}\n   *             },\n   *             {\n   *                 query: {minWidth: 320, maxWidth: 720},\n   *                 option: {series: {x: 500}, visualMap: {show: true}}\n   *             },\n   *             {\n   *                 option: {series: {x: 1200}, visualMap: {show: true}}\n   *             }\n   *         ]\n   *     };\n   *\n   * @alias module:echarts/model/OptionManager\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n  function OptionManager(api) {\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n    this._api = api;\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._timelineOptions = [];\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n\n    this._mediaList = [];\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._mediaDefault;\n    /**\n     * -1, means default.\n     * empty means no media.\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._currentMediaIndices = [];\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._optionBackup;\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._newBaseOption;\n  } // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n\n\n  OptionManager.prototype = {\n    constructor: OptionManager,\n\n    /**\n     * @public\n     * @param {Object} rawOption Raw option.\n     * @param {module:echarts/model/Global} ecModel\n     * @param {Array.<Function>} optionPreprocessorFuncs\n     * @return {Object} Init option\n     */\n    setOption: function (rawOption, optionPreprocessorFuncs) {\n      if (rawOption) {\n        // That set dat primitive is dangerous if user reuse the data when setOption again.\n        util.each(model.normalizeToArray(rawOption.series), function (series) {\n          series && series.data && util.isTypedArray(series.data) && util.setAsPrimitive(series.data);\n        });\n      } // Caution: some series modify option data, if do not clone,\n      // it should ensure that the repeat modify correctly\n      // (create a new object when modify itself).\n\n\n      rawOption = clone$5(rawOption); // FIXME\n      //  timeline options  media baseOption\n\n      var oldOptionBackup = this._optionBackup;\n      var newParsedOption = parseRawOption.call(this, rawOption, optionPreprocessorFuncs, !oldOptionBackup);\n      this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n      if (oldOptionBackup) {\n        // Only baseOption can be merged.\n        mergeOption(oldOptionBackup.baseOption, newParsedOption.baseOption); // For simplicity, timeline options and media options do not support merge,\n        // that is, if you `setOption` twice and both has timeline options, the latter\n        // timeline opitons will not be merged to the formers, but just substitude them.\n\n        if (newParsedOption.timelineOptions.length) {\n          oldOptionBackup.timelineOptions = newParsedOption.timelineOptions;\n        }\n\n        if (newParsedOption.mediaList.length) {\n          oldOptionBackup.mediaList = newParsedOption.mediaList;\n        }\n\n        if (newParsedOption.mediaDefault) {\n          oldOptionBackup.mediaDefault = newParsedOption.mediaDefault;\n        }\n      } else {\n        this._optionBackup = newParsedOption;\n      }\n    },\n\n    /**\n     * @param {boolean} isRecreate\n     * @return {Object}\n     */\n    mountOption: function (isRecreate) {\n      var optionBackup = this._optionBackup; // TODO\n      // resetclone\n\n      this._timelineOptions = map$3(optionBackup.timelineOptions, clone$5);\n      this._mediaList = map$3(optionBackup.mediaList, clone$5);\n      this._mediaDefault = clone$5(optionBackup.mediaDefault);\n      this._currentMediaIndices = [];\n      return clone$5(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n      // called, and is merged into every new option by inner method `mergeOption`\n      // each time `setOption` called, can be only used in `isRecreate`, because\n      // its reliability is under suspicion. In other cases option merge is\n      // performed by `model.mergeOption`.\n      ? optionBackup.baseOption : this._newBaseOption);\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Object}\n     */\n    getTimelineOption: function (ecModel) {\n      var option;\n      var timelineOptions = this._timelineOptions;\n\n      if (timelineOptions.length) {\n        // getTimelineOption can only be called after ecModel inited,\n        // so we can get currentIndex from timelineModel.\n        var timelineModel = ecModel.getComponent('timeline');\n\n        if (timelineModel) {\n          option = clone$5(timelineOptions[timelineModel.getCurrentIndex()], true);\n        }\n      }\n\n      return option;\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Array.<Object>}\n     */\n    getMediaOption: function (ecModel) {\n      var ecWidth = this._api.getWidth();\n\n      var ecHeight = this._api.getHeight();\n\n      var mediaList = this._mediaList;\n      var mediaDefault = this._mediaDefault;\n      var indices = [];\n      var result = []; // No media defined.\n\n      if (!mediaList.length && !mediaDefault) {\n        return result;\n      } // Multi media may be applied, the latter defined media has higher priority.\n\n\n      for (var i = 0, len = mediaList.length; i < len; i++) {\n        if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n          indices.push(i);\n        }\n      } // FIXME\n      // mediaDefault\n\n\n      if (!indices.length && mediaDefault) {\n        indices = [-1];\n      }\n\n      if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n        result = map$3(indices, function (index) {\n          return clone$5(index === -1 ? mediaDefault.option : mediaList[index].option);\n        });\n      } // Otherwise return nothing.\n\n\n      this._currentMediaIndices = indices;\n      return result;\n    }\n  };\n\n  function parseRawOption(rawOption, optionPreprocessorFuncs, isNew) {\n    var timelineOptions = [];\n    var mediaList = [];\n    var mediaDefault;\n    var baseOption; // Compatible with ec2.\n\n    var timelineOpt = rawOption.timeline;\n\n    if (rawOption.baseOption) {\n      baseOption = rawOption.baseOption;\n    } // For timeline\n\n\n    if (timelineOpt || rawOption.options) {\n      baseOption = baseOption || {};\n      timelineOptions = (rawOption.options || []).slice();\n    } // For media query\n\n\n    if (rawOption.media) {\n      baseOption = baseOption || {};\n      var media = rawOption.media;\n      each$6(media, function (singleMedia) {\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } // For normal option\n\n\n    if (!baseOption) {\n      baseOption = rawOption;\n    } // Set timelineOpt to baseOption in ec3,\n    // which is convenient for merge option.\n\n\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOpt;\n    } // Preprocess.\n\n\n    each$6([baseOption].concat(timelineOptions).concat(util.map(mediaList, function (media) {\n      return media.option;\n    })), function (option) {\n      each$6(optionPreprocessorFuncs, function (preProcess) {\n        preProcess(option, isNew);\n      });\n    });\n    return {\n      baseOption: baseOption,\n      timelineOptions: timelineOptions,\n      mediaDefault: mediaDefault,\n      mediaList: mediaList\n    };\n  }\n  /**\n   * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n   * Support: width, height, aspectRatio\n   * Can use max or min as prefix.\n   */\n\n\n  function applyMediaQuery(query, ecWidth, ecHeight) {\n    var realMap = {\n      width: ecWidth,\n      height: ecHeight,\n      aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n\n    };\n    var applicatable = true;\n    util.each(query, function (value, attr) {\n      var matched = attr.match(QUERY_REG);\n\n      if (!matched || !matched[1] || !matched[2]) {\n        return;\n      }\n\n      var operator = matched[1];\n      var realAttr = matched[2].toLowerCase();\n\n      if (!compare(realMap[realAttr], value, operator)) {\n        applicatable = false;\n      }\n    });\n    return applicatable;\n  }\n\n  function compare(real, expect, operator) {\n    if (operator === 'min') {\n      return real >= expect;\n    } else if (operator === 'max') {\n      return real <= expect;\n    } else {\n      // Equals\n      return real === expect;\n    }\n  }\n\n  function indicesEquals(indices1, indices2) {\n    // indices is always order by asc and has only finite number.\n    return indices1.join(',') === indices2.join(',');\n  }\n  /**\n   * Consider case:\n   * `chart.setOption(opt1);`\n   * Then user do some interaction like dataZoom, dataView changing.\n   * `chart.setOption(opt2);`\n   * Then user press 'reset button' in toolbox.\n   *\n   * After doing that all of the interaction effects should be reset, the\n   * chart should be the same as the result of invoke\n   * `chart.setOption(opt1); chart.setOption(opt2);`.\n   *\n   * Although it is not able ensure that\n   * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n   * `chart.setOption(merge(opt1, opt2));` exactly,\n   * this might be the only simple way to implement that feature.\n   *\n   * MEMO: We've considered some other approaches:\n   * 1. Each model handle its self restoration but not uniform treatment.\n   *     (Too complex in logic and error-prone)\n   * 2. Use a shadow ecModel. (Performace expensive)\n   */\n\n\n  function mergeOption(oldOption, newOption) {\n    newOption = newOption || {};\n    each$6(newOption, function (newCptOpt, mainType) {\n      if (newCptOpt == null) {\n        return;\n      }\n\n      var oldCptOpt = oldOption[mainType];\n\n      if (!Component.hasClass(mainType)) {\n        oldOption[mainType] = merge$2(oldCptOpt, newCptOpt, true);\n      } else {\n        newCptOpt = model.normalizeToArray(newCptOpt);\n        oldCptOpt = model.normalizeToArray(oldCptOpt);\n        var mapResult = model.mappingToExists(oldCptOpt, newCptOpt);\n        oldOption[mainType] = map$3(mapResult, function (item) {\n          return item.option && item.exist ? merge$2(item.exist, item.option, true) : item.exist || item.option;\n        });\n      }\n    });\n  }\n\n  var _default$$ = OptionManager;\n  var OptionManager_1 = _default$$;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$7 = util.each;\n  var isObject$8 = util.isObject;\n  var POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\n  function compatEC2ItemStyle(opt) {\n    var itemStyleOpt = opt && opt.itemStyle;\n\n    if (!itemStyleOpt) {\n      return;\n    }\n\n    for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n      var styleName = POSSIBLE_STYLES[i];\n      var normalItemStyleOpt = itemStyleOpt.normal;\n      var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n      if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n        opt[styleName] = opt[styleName] || {};\n\n        if (!opt[styleName].normal) {\n          opt[styleName].normal = normalItemStyleOpt[styleName];\n        } else {\n          util.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n        }\n\n        normalItemStyleOpt[styleName] = null;\n      }\n\n      if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n        opt[styleName] = opt[styleName] || {};\n\n        if (!opt[styleName].emphasis) {\n          opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n        } else {\n          util.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n        }\n\n        emphasisItemStyleOpt[styleName] = null;\n      }\n    }\n  }\n\n  function convertNormalEmphasis(opt, optType, useExtend) {\n    if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n      var normalOpt = opt[optType].normal;\n      var emphasisOpt = opt[optType].emphasis;\n\n      if (normalOpt) {\n        // Timeline controlStyle has other properties besides normal and emphasis\n        if (useExtend) {\n          opt[optType].normal = opt[optType].emphasis = null;\n          util.defaults(opt[optType], normalOpt);\n        } else {\n          opt[optType] = normalOpt;\n        }\n      }\n\n      if (emphasisOpt) {\n        opt.emphasis = opt.emphasis || {};\n        opt.emphasis[optType] = emphasisOpt;\n      }\n    }\n  }\n\n  function removeEC3NormalStatus(opt) {\n    convertNormalEmphasis(opt, 'itemStyle');\n    convertNormalEmphasis(opt, 'lineStyle');\n    convertNormalEmphasis(opt, 'areaStyle');\n    convertNormalEmphasis(opt, 'label');\n    convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n    convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n    convertNormalEmphasis(opt, 'edgeLabel');\n  }\n\n  function compatTextStyle(opt, propName) {\n    // Check whether is not object (string\\null\\undefined ...)\n    var labelOptSingle = isObject$8(opt) && opt[propName];\n    var textStyle = isObject$8(labelOptSingle) && labelOptSingle.textStyle;\n\n    if (textStyle) {\n      for (var i = 0, len = model.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n        var propName = model.TEXT_STYLE_OPTIONS[i];\n\n        if (textStyle.hasOwnProperty(propName)) {\n          labelOptSingle[propName] = textStyle[propName];\n        }\n      }\n    }\n  }\n\n  function compatEC3CommonStyles(opt) {\n    if (opt) {\n      removeEC3NormalStatus(opt);\n      compatTextStyle(opt, 'label');\n      opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n    }\n  }\n\n  function processSeries(seriesOpt) {\n    if (!isObject$8(seriesOpt)) {\n      return;\n    }\n\n    compatEC2ItemStyle(seriesOpt);\n    removeEC3NormalStatus(seriesOpt);\n    compatTextStyle(seriesOpt, 'label'); // treemap\n\n    compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt, 'edgeLabel');\n\n    if (seriesOpt.emphasis) {\n      compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n      compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n      compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n    }\n\n    var markPoint = seriesOpt.markPoint;\n\n    if (markPoint) {\n      compatEC2ItemStyle(markPoint);\n      compatEC3CommonStyles(markPoint);\n    }\n\n    var markLine = seriesOpt.markLine;\n\n    if (markLine) {\n      compatEC2ItemStyle(markLine);\n      compatEC3CommonStyles(markLine);\n    }\n\n    var markArea = seriesOpt.markArea;\n\n    if (markArea) {\n      compatEC3CommonStyles(markArea);\n    }\n\n    var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n    // then the backward compat based on option type will not be performed.\n\n    if (seriesOpt.type === 'graph') {\n      data = data || seriesOpt.nodes;\n      var edgeData = seriesOpt.links || seriesOpt.edges;\n\n      if (edgeData && !util.isTypedArray(edgeData)) {\n        for (var i = 0; i < edgeData.length; i++) {\n          compatEC3CommonStyles(edgeData[i]);\n        }\n      }\n\n      util.each(seriesOpt.categories, function (opt) {\n        removeEC3NormalStatus(opt);\n      });\n    }\n\n    if (data && !util.isTypedArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        compatEC3CommonStyles(data[i]);\n      }\n    } // mark point data\n\n\n    var markPoint = seriesOpt.markPoint;\n\n    if (markPoint && markPoint.data) {\n      var mpData = markPoint.data;\n\n      for (var i = 0; i < mpData.length; i++) {\n        compatEC3CommonStyles(mpData[i]);\n      }\n    } // mark line data\n\n\n    var markLine = seriesOpt.markLine;\n\n    if (markLine && markLine.data) {\n      var mlData = markLine.data;\n\n      for (var i = 0; i < mlData.length; i++) {\n        if (util.isArray(mlData[i])) {\n          compatEC3CommonStyles(mlData[i][0]);\n          compatEC3CommonStyles(mlData[i][1]);\n        } else {\n          compatEC3CommonStyles(mlData[i]);\n        }\n      }\n    } // Series\n\n\n    if (seriesOpt.type === 'gauge') {\n      compatTextStyle(seriesOpt, 'axisLabel');\n      compatTextStyle(seriesOpt, 'title');\n      compatTextStyle(seriesOpt, 'detail');\n    } else if (seriesOpt.type === 'treemap') {\n      convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n      util.each(seriesOpt.levels, function (opt) {\n        removeEC3NormalStatus(opt);\n      });\n    } else if (seriesOpt.type === 'tree') {\n      removeEC3NormalStatus(seriesOpt.leaves);\n    } // sunburst starts from ec4, so it does not need to compat levels.\n\n  }\n\n  function toArr(o) {\n    return util.isArray(o) ? o : o ? [o] : [];\n  }\n\n  function toObj(o) {\n    return (util.isArray(o) ? o[0] : o) || {};\n  }\n\n  function _default$10(option, isTheme) {\n    each$7(toArr(option.series), function (seriesOpt) {\n      isObject$8(seriesOpt) && processSeries(seriesOpt);\n    });\n    var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n    isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n    each$7(axes, function (axisName) {\n      each$7(toArr(option[axisName]), function (axisOpt) {\n        if (axisOpt) {\n          compatTextStyle(axisOpt, 'axisLabel');\n          compatTextStyle(axisOpt.axisPointer, 'label');\n        }\n      });\n    });\n    each$7(toArr(option.parallel), function (parallelOpt) {\n      var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n      compatTextStyle(parallelAxisDefault, 'axisLabel');\n      compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n    });\n    each$7(toArr(option.calendar), function (calendarOpt) {\n      convertNormalEmphasis(calendarOpt, 'itemStyle');\n      compatTextStyle(calendarOpt, 'dayLabel');\n      compatTextStyle(calendarOpt, 'monthLabel');\n      compatTextStyle(calendarOpt, 'yearLabel');\n    }); // radar.name.textStyle\n\n    each$7(toArr(option.radar), function (radarOpt) {\n      compatTextStyle(radarOpt, 'name');\n    });\n    each$7(toArr(option.geo), function (geoOpt) {\n      if (isObject$8(geoOpt)) {\n        compatEC3CommonStyles(geoOpt);\n        each$7(toArr(geoOpt.regions), function (regionObj) {\n          compatEC3CommonStyles(regionObj);\n        });\n      }\n    });\n    each$7(toArr(option.timeline), function (timelineOpt) {\n      compatEC3CommonStyles(timelineOpt);\n      convertNormalEmphasis(timelineOpt, 'label');\n      convertNormalEmphasis(timelineOpt, 'itemStyle');\n      convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n      var data = timelineOpt.data;\n      util.isArray(data) && util.each(data, function (item) {\n        if (util.isObject(item)) {\n          convertNormalEmphasis(item, 'label');\n          convertNormalEmphasis(item, 'itemStyle');\n        }\n      });\n    });\n    each$7(toArr(option.toolbox), function (toolboxOpt) {\n      convertNormalEmphasis(toolboxOpt, 'iconStyle');\n      each$7(toolboxOpt.feature, function (featureOpt) {\n        convertNormalEmphasis(featureOpt, 'iconStyle');\n      });\n    });\n    compatTextStyle(toObj(option.axisPointer), 'label');\n    compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n  }\n\n  var compatStyle = _default$10;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$8 = util.each;\n  var isArray$6 = util.isArray;\n  var isObject$9 = util.isObject;\n\n\n\n\n\n  var normalizeToArray$2 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Compatitable with 2.0\n  function get$2(opt, path) {\n    path = path.split(',');\n    var obj = opt;\n\n    for (var i = 0; i < path.length; i++) {\n      obj = obj && obj[path[i]];\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    return obj;\n  }\n\n  function set$4(opt, path, val, overwrite) {\n    path = path.split(',');\n    var obj = opt;\n    var key;\n\n    for (var i = 0; i < path.length - 1; i++) {\n      key = path[i];\n\n      if (obj[key] == null) {\n        obj[key] = {};\n      }\n\n      obj = obj[key];\n    }\n\n    if (overwrite || obj[path[i]] == null) {\n      obj[path[i]] = val;\n    }\n  }\n\n  function compatLayoutProperties(option) {\n    each$8(LAYOUT_PROPERTIES, function (prop) {\n      if (prop[0] in option && !(prop[1] in option)) {\n        option[prop[1]] = option[prop[0]];\n      }\n    });\n  }\n\n  var LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\n  var COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\n\n  function _default$11(option, isTheme) {\n    compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n    option.series = normalizeToArray$2(option.series);\n    each$8(option.series, function (seriesOpt) {\n      if (!isObject$9(seriesOpt)) {\n        return;\n      }\n\n      var seriesType = seriesOpt.type;\n\n      if (seriesType === 'line') {\n        if (seriesOpt.clipOverflow != null) {\n          seriesOpt.clip = seriesOpt.clipOverflow;\n        }\n      } else if (seriesType === 'pie' || seriesType === 'gauge') {\n        if (seriesOpt.clockWise != null) {\n          seriesOpt.clockwise = seriesOpt.clockWise;\n        }\n      } else if (seriesType === 'gauge') {\n        var pointerColor = get$2(seriesOpt, 'pointer.color');\n        pointerColor != null && set$4(seriesOpt, 'itemStyle.color', pointerColor);\n      }\n\n      compatLayoutProperties(seriesOpt);\n    }); // dataRange has changed to visualMap\n\n    if (option.dataRange) {\n      option.visualMap = option.dataRange;\n    }\n\n    each$8(COMPATITABLE_COMPONENTS, function (componentName) {\n      var options = option[componentName];\n\n      if (options) {\n        if (!isArray$6(options)) {\n          options = [options];\n        }\n\n        each$8(options, function (option) {\n          compatLayoutProperties(option);\n        });\n      }\n    });\n  }\n\n  var backwardCompat = _default$11;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$4 = util.createHashMap;\n  var each$9 = util.each;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // (1) [Caution]: the logic is correct based on the premises:\n  //     data processing stage is blocked in stream.\n  //     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n  // (2) Only register once when import repeatly.\n  //     Should be executed after series filtered and before stack calculation.\n  function _default$12(ecModel) {\n    var stackInfoMap = createHashMap$4();\n    ecModel.eachSeries(function (seriesModel) {\n      var stack = seriesModel.get('stack'); // Compatibal: when `stack` is set as '', do not stack.\n\n      if (stack) {\n        var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n        var data = seriesModel.getData();\n        var stackInfo = {\n          // Used for calculate axis extent automatically.\n          stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n          stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n          stackedDimension: data.getCalculationInfo('stackedDimension'),\n          stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n          isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n          data: data,\n          seriesModel: seriesModel\n        }; // If stacked on axis that do not support data stack.\n\n        if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n          return;\n        }\n\n        stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n        stackInfoList.push(stackInfo);\n      }\n    });\n    stackInfoMap.each(calculateStack);\n  }\n\n  function calculateStack(stackInfoList) {\n    each$9(stackInfoList, function (targetStackInfo, idxInStack) {\n      var resultVal = [];\n      var resultNaN = [NaN, NaN];\n      var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n      var targetData = targetStackInfo.data;\n      var isStackedByIndex = targetStackInfo.isStackedByIndex; // Should not write on raw data, because stack series model list changes\n      // depending on legend selection.\n\n      var newData = targetData.map(dims, function (v0, v1, dataIndex) {\n        var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n        // should also be NaN, to draw a appropriate belt area.\n\n        if (isNaN(sum)) {\n          return resultNaN;\n        }\n\n        var byValue;\n        var stackedDataRawIndex;\n\n        if (isStackedByIndex) {\n          stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n        } else {\n          byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n        } // If stackOver is NaN, chart view will render point on value start.\n\n\n        var stackedOver = NaN;\n\n        for (var j = idxInStack - 1; j >= 0; j--) {\n          var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n          if (!isStackedByIndex) {\n            stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n          }\n\n          if (stackedDataRawIndex >= 0) {\n            var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n            if (sum >= 0 && val > 0 || // Positive stack\n            sum <= 0 && val < 0 // Negative stack\n            ) {\n                sum += val;\n                stackedOver = val;\n                break;\n              }\n          }\n        }\n\n        resultVal[0] = sum;\n        resultVal[1] = stackedOver;\n        return resultVal;\n      });\n      targetData.hostModel.setData(newData); // Update for consequent calculation\n\n      targetStackInfo.data = newData;\n    });\n  }\n\n  var dataStack = _default$12;\n\n  var extend$6 = util.extend;\n  var each$a = util.each;\n  var isObject$a = util.isObject;\n\n\n\n  var getDataItemValue$2 = model.getDataItemValue;\n  var isDataItemOption$1 = model.isDataItemOption;\n\n\n\n  var parseDate$1 = number.parseDate;\n\n\n\n\n\n  var SOURCE_FORMAT_TYPED_ARRAY$3 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SOURCE_FORMAT_ARRAY_ROWS$2 = sourceType.SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_ORIGINAL$3 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_OBJECT_ROWS$2 = sourceType.SOURCE_FORMAT_OBJECT_ROWS;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO\n  // ??? refactor? check the outer usage of data provider.\n  // merge with defaultDimValueGetter?\n\n  /**\n   * If normal array used, mutable chunk size is supported.\n   * If typed array used, chunk size must be fixed.\n   */\n  function DefaultDataProvider(source, dimSize) {\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    this._source = source;\n    var data = this._data = source.data;\n    var sourceFormat = source.sourceFormat; // Typed array. TODO IE10+?\n\n    if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY$3) {\n      this._offset = 0;\n      this._dimSize = dimSize;\n      this._data = data;\n    }\n\n    var methods = providerMethods[sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$2 ? sourceFormat + '_' + source.seriesLayoutBy : sourceFormat];\n    extend$6(this, methods);\n  }\n\n  var providerProto = DefaultDataProvider.prototype; // If data is pure without style configuration\n\n  providerProto.pure = false; // If data is persistent and will not be released after use.\n\n  providerProto.persistent = true; // ???! FIXME legacy data provider do not has method getSource\n\n  providerProto.getSource = function () {\n    return this._source;\n  };\n\n  var providerMethods = {\n    'arrayRows_column': {\n      pure: true,\n      count: function () {\n        return Math.max(0, this._data.length - this._source.startIndex);\n      },\n      getItem: function (idx) {\n        return this._data[idx + this._source.startIndex];\n      },\n      appendData: appendDataSimply\n    },\n    'arrayRows_row': {\n      pure: true,\n      count: function () {\n        var row = this._data[0];\n        return row ? Math.max(0, row.length - this._source.startIndex) : 0;\n      },\n      getItem: function (idx) {\n        idx += this._source.startIndex;\n        var item = [];\n        var data = this._data;\n\n        for (var i = 0; i < data.length; i++) {\n          var row = data[i];\n          item.push(row ? row[idx] : null);\n        }\n\n        return item;\n      },\n      appendData: function () {\n        throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\n      }\n    },\n    'objectRows': {\n      pure: true,\n      count: countSimply,\n      getItem: getItemSimply,\n      appendData: appendDataSimply\n    },\n    'keyedColumns': {\n      pure: true,\n      count: function () {\n        var dimName = this._source.dimensionsDefine[0].name;\n        var col = this._data[dimName];\n        return col ? col.length : 0;\n      },\n      getItem: function (idx) {\n        var item = [];\n        var dims = this._source.dimensionsDefine;\n\n        for (var i = 0; i < dims.length; i++) {\n          var col = this._data[dims[i].name];\n          item.push(col ? col[idx] : null);\n        }\n\n        return item;\n      },\n      appendData: function (newData) {\n        var data = this._data;\n        each$a(newData, function (newCol, key) {\n          var oldCol = data[key] || (data[key] = []);\n\n          for (var i = 0; i < (newCol || []).length; i++) {\n            oldCol.push(newCol[i]);\n          }\n        });\n      }\n    },\n    'original': {\n      count: countSimply,\n      getItem: getItemSimply,\n      appendData: appendDataSimply\n    },\n    'typedArray': {\n      persistent: false,\n      pure: true,\n      count: function () {\n        return this._data ? this._data.length / this._dimSize : 0;\n      },\n      getItem: function (idx, out) {\n        idx = idx - this._offset;\n        out = out || [];\n        var offset = this._dimSize * idx;\n\n        for (var i = 0; i < this._dimSize; i++) {\n          out[i] = this._data[offset + i];\n        }\n\n        return out;\n      },\n      appendData: function (newData) {\n        this._data = newData;\n      },\n      // Clean self if data is already used.\n      clean: function () {\n        // PENDING\n        this._offset += this.count();\n        this._data = null;\n      }\n    }\n  };\n\n  function countSimply() {\n    return this._data.length;\n  }\n\n  function getItemSimply(idx) {\n    return this._data[idx];\n  }\n\n  function appendDataSimply(newData) {\n    for (var i = 0; i < newData.length; i++) {\n      this._data.push(newData[i]);\n    }\n  }\n\n  var rawValueGetters = {\n    arrayRows: getRawValueSimply,\n    objectRows: function (dataItem, dataIndex, dimIndex, dimName) {\n      return dimIndex != null ? dataItem[dimName] : dataItem;\n    },\n    keyedColumns: getRawValueSimply,\n    original: function (dataItem, dataIndex, dimIndex, dimName) {\n      // FIXME\n      // In some case (markpoint in geo (geo-map.html)), dataItem\n      // is {coord: [...]}\n      var value = getDataItemValue$2(dataItem);\n      return dimIndex == null || !(value instanceof Array) ? value : value[dimIndex];\n    },\n    typedArray: getRawValueSimply\n  };\n\n  function getRawValueSimply(dataItem, dataIndex, dimIndex, dimName) {\n    return dimIndex != null ? dataItem[dimIndex] : dataItem;\n  }\n\n  var defaultDimValueGetters = {\n    arrayRows: getDimValueSimply,\n    objectRows: function (dataItem, dimName, dataIndex, dimIndex) {\n      return converDataValue(dataItem[dimName], this._dimensionInfos[dimName]);\n    },\n    keyedColumns: getDimValueSimply,\n    original: function (dataItem, dimName, dataIndex, dimIndex) {\n      // Performance sensitive, do not use modelUtil.getDataItemValue.\n      // If dataItem is an plain object with no value field, the var `value`\n      // will be assigned with the object, but it will be tread correctly\n      // in the `convertDataValue`.\n      var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value); // If any dataItem is like { value: 10 }\n\n      if (!this._rawData.pure && isDataItemOption$1(dataItem)) {\n        this.hasItemOption = true;\n      }\n\n      return converDataValue(value instanceof Array ? value[dimIndex] // If value is a single number or something else not array.\n      : value, this._dimensionInfos[dimName]);\n    },\n    typedArray: function (dataItem, dimName, dataIndex, dimIndex) {\n      return dataItem[dimIndex];\n    }\n  };\n\n  function getDimValueSimply(dataItem, dimName, dataIndex, dimIndex) {\n    return converDataValue(dataItem[dimIndex], this._dimensionInfos[dimName]);\n  }\n  /**\n   * This helper method convert value in data.\n   * @param {string|number|Date} value\n   * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n   *        If \"dimInfo.ordinalParseAndSave\", ordinal value can be parsed.\n   */\n\n\n  function converDataValue(value, dimInfo) {\n    // Performance sensitive.\n    var dimType = dimInfo && dimInfo.type;\n\n    if (dimType === 'ordinal') {\n      // If given value is a category string\n      var ordinalMeta = dimInfo && dimInfo.ordinalMeta;\n      return ordinalMeta ? ordinalMeta.parseAndCollect(value) : value;\n    }\n\n    if (dimType === 'time' // spead up when using timestamp\n    && typeof value !== 'number' && value != null && value !== '-') {\n      value = +parseDate$1(value);\n    } // dimType defaults 'number'.\n    // If dimType is not ordinal and value is null or undefined or NaN or '-',\n    // parse to NaN.\n\n\n    return value == null || value === '' ? NaN // If string (like '-'), using '+' parse to NaN\n    // If object, also parse to NaN\n    : +value;\n  } // ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\n  // Consider persistent.\n  // Caution: why use raw value to display on label or tooltip?\n  // A reason is to avoid format. For example time value we do not know\n  // how to format is expected. More over, if stack is used, calculated\n  // value may be 0.91000000001, which have brings trouble to display.\n  // TODO: consider how to treat null/undefined/NaN when display?\n\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @param {string|number} [dim] dimName or dimIndex\n   * @return {Array.<number>|string|number} can be null/undefined.\n   */\n\n\n  function retrieveRawValue(data, dataIndex, dim) {\n    if (!data) {\n      return;\n    } // Consider data may be not persistent.\n\n\n    var dataItem = data.getRawDataItem(dataIndex);\n\n    if (dataItem == null) {\n      return;\n    }\n\n    var sourceFormat = data.getProvider().getSource().sourceFormat;\n    var dimName;\n    var dimIndex;\n    var dimInfo = data.getDimensionInfo(dim);\n\n    if (dimInfo) {\n      dimName = dimInfo.name;\n      dimIndex = dimInfo.index;\n    }\n\n    return rawValueGetters[sourceFormat](dataItem, dataIndex, dimIndex, dimName);\n  }\n  /**\n   * Compatible with some cases (in pie, map) like:\n   * data: [{name: 'xx', value: 5, selected: true}, ...]\n   * where only sourceFormat is 'original' and 'objectRows' supported.\n   *\n   * ??? TODO\n   * Supported detail options in data item when using 'arrayRows'.\n   *\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @param {string} attr like 'selected'\n   */\n\n\n  function retrieveRawAttr(data, dataIndex, attr) {\n    if (!data) {\n      return;\n    }\n\n    var sourceFormat = data.getProvider().getSource().sourceFormat;\n\n    if (sourceFormat !== SOURCE_FORMAT_ORIGINAL$3 && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS$2) {\n      return;\n    }\n\n    var dataItem = data.getRawDataItem(dataIndex);\n\n    if (sourceFormat === SOURCE_FORMAT_ORIGINAL$3 && !isObject$a(dataItem)) {\n      dataItem = null;\n    }\n\n    if (dataItem) {\n      return dataItem[attr];\n    }\n  }\n\n  var DefaultDataProvider_1 = DefaultDataProvider;\n  var defaultDimValueGetters_1 = defaultDimValueGetters;\n  var retrieveRawValue_1 = retrieveRawValue;\n  var retrieveRawAttr_1 = retrieveRawAttr;\n\n  var dataProvider = {\n  \tDefaultDataProvider: DefaultDataProvider_1,\n  \tdefaultDimValueGetters: defaultDimValueGetters_1,\n  \tretrieveRawValue: retrieveRawValue_1,\n  \tretrieveRawAttr: retrieveRawAttr_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieveRawValue$1 = dataProvider.retrieveRawValue;\n\n\n\n  var getTooltipMarker$1 = format$1.getTooltipMarker;\n  var formatTpl$1 = format$1.formatTpl;\n\n\n\n  var getTooltipRenderMode$1 = model.getTooltipRenderMode;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\n  var _default$13 = {\n    /**\n     * Get params for formatter\n     * @param {number} dataIndex\n     * @param {string} [dataType]\n     * @return {Object}\n     */\n    getDataParams: function (dataIndex, dataType) {\n      var data = this.getData(dataType);\n      var rawValue = this.getRawValue(dataIndex, dataType);\n      var rawDataIndex = data.getRawIndex(dataIndex);\n      var name = data.getName(dataIndex);\n      var itemOpt = data.getRawDataItem(dataIndex);\n      var color = data.getItemVisual(dataIndex, 'color');\n      var borderColor = data.getItemVisual(dataIndex, 'borderColor');\n      var tooltipModel = this.ecModel.getComponent('tooltip');\n      var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n      var renderMode = getTooltipRenderMode$1(renderModeOption);\n      var mainType = this.mainType;\n      var isSeries = mainType === 'series';\n      var userOutput = data.userOutput;\n      return {\n        componentType: mainType,\n        componentSubType: this.subType,\n        componentIndex: this.componentIndex,\n        seriesType: isSeries ? this.subType : null,\n        seriesIndex: this.seriesIndex,\n        seriesId: isSeries ? this.id : null,\n        seriesName: isSeries ? this.name : null,\n        name: name,\n        dataIndex: rawDataIndex,\n        data: itemOpt,\n        dataType: dataType,\n        value: rawValue,\n        color: color,\n        borderColor: borderColor,\n        dimensionNames: userOutput ? userOutput.dimensionNames : null,\n        encode: userOutput ? userOutput.encode : null,\n        marker: getTooltipMarker$1({\n          color: color,\n          renderMode: renderMode\n        }),\n        // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n        $vars: ['seriesName', 'name', 'value']\n      };\n    },\n\n    /**\n     * Format label\n     * @param {number} dataIndex\n     * @param {string} [status='normal'] 'normal' or 'emphasis'\n     * @param {string} [dataType]\n     * @param {number} [dimIndex] Only used in some chart that\n     *        use formatter in different dimensions, like radar.\n     * @param {string} [labelProp='label']\n     * @return {string} If not formatter, return null/undefined\n     */\n    getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n      status = status || 'normal';\n      var data = this.getData(dataType);\n      var itemModel = data.getItemModel(dataIndex);\n      var params = this.getDataParams(dataIndex, dataType);\n\n      if (dimIndex != null && params.value instanceof Array) {\n        params.value = params.value[dimIndex];\n      }\n\n      var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n      if (typeof formatter === 'function') {\n        params.status = status;\n        params.dimensionIndex = dimIndex;\n        return formatter(params);\n      } else if (typeof formatter === 'string') {\n        var str = formatTpl$1(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n        // Do not support '}' in dim name util have to.\n\n        return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n          var len = dim.length;\n\n          if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n            dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n          }\n\n          return retrieveRawValue$1(data, dataIndex, dim);\n        });\n      }\n    },\n\n    /**\n     * Get raw value in option\n     * @param {number} idx\n     * @param {string} [dataType]\n     * @return {Array|number|string}\n     */\n    getRawValue: function (idx, dataType) {\n      return retrieveRawValue$1(this.getData(dataType), idx);\n    },\n\n    /**\n     * Should be implemented.\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     * @return {string} tooltip string\n     */\n    formatTooltip: function () {// Empty function\n    }\n  };\n  var dataFormat = _default$13;\n\n  var isArray$7 = util.isArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} define\n   * @return See the return of `createTask`.\n   */\n  function createTask(define) {\n    return new Task(define);\n  }\n  /**\n   * @constructor\n   * @param {Object} define\n   * @param {Function} define.reset Custom reset\n   * @param {Function} [define.plan] Returns 'reset' indicate reset immediately.\n   * @param {Function} [define.count] count is used to determin data task.\n   * @param {Function} [define.onDirty] count is used to determin data task.\n   */\n\n\n  function Task(define) {\n    define = define || {};\n    this._reset = define.reset;\n    this._plan = define.plan;\n    this._count = define.count;\n    this._onDirty = define.onDirty;\n    this._dirty = true; // Context must be specified implicitly, to\n    // avoid miss update context when model changed.\n\n    this.context;\n  }\n\n  var taskProto = Task.prototype;\n  /**\n   * @param {Object} performArgs\n   * @param {number} [performArgs.step] Specified step.\n   * @param {number} [performArgs.skip] Skip customer perform call.\n   * @param {number} [performArgs.modBy] Sampling window size.\n   * @param {number} [performArgs.modDataCount] Sampling count.\n   */\n\n  taskProto.perform = function (performArgs) {\n    var upTask = this._upstream;\n    var skip = performArgs && performArgs.skip; // TODO some refactor.\n    // Pull data. Must pull data each time, because context.data\n    // may be updated by Series.setData.\n\n    if (this._dirty && upTask) {\n      var context = this.context;\n      context.data = context.outputData = upTask.context.outputData;\n    }\n\n    if (this.__pipeline) {\n      this.__pipeline.currentTask = this;\n    }\n\n    var planResult;\n\n    if (this._plan && !skip) {\n      planResult = this._plan(this.context);\n    } // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n    // elements uniformed distributed when progress, especially when moving or zooming.\n\n\n    var lastModBy = normalizeModBy(this._modBy);\n    var lastModDataCount = this._modDataCount || 0;\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\n\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n      planResult = 'reset';\n    }\n\n    function normalizeModBy(val) {\n      !(val >= 1) && (val = 1); // jshint ignore:line\n\n      return val;\n    }\n\n    var forceFirstProgress;\n\n    if (this._dirty || planResult === 'reset') {\n      this._dirty = false;\n      forceFirstProgress = reset(this, skip);\n    }\n\n    this._modBy = modBy;\n    this._modDataCount = modDataCount;\n    var step = performArgs && performArgs.step;\n\n    if (upTask) {\n      this._dueEnd = upTask._outputDueEnd;\n    } // DataTask or overallTask\n    else {\n        this._dueEnd = this._count ? this._count(this.context) : Infinity;\n      } // Note: Stubs, that its host overall task let it has progress, has progress.\n    // If no progress, pass index from upstream to downstream each time plan called.\n\n\n    if (this._progress) {\n      var start = this._dueIndex;\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n\n      if (!skip && (forceFirstProgress || start < end)) {\n        var progress = this._progress;\n\n        if (isArray$7(progress)) {\n          for (var i = 0; i < progress.length; i++) {\n            doProgress(this, progress[i], start, end, modBy, modDataCount);\n          }\n        } else {\n          doProgress(this, progress, start, end, modBy, modDataCount);\n        }\n      }\n\n      this._dueIndex = end; // If no `outputDueEnd`, assume that output data and\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\n\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n      this._outputDueEnd = outputDueEnd;\n    } else {\n      // (1) Some overall task has no progress.\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n      // This should always be performed so it can be passed to downstream.\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n    }\n\n    return this.unfinished();\n  };\n\n  var iterator = function () {\n    var end;\n    var current;\n    var modBy;\n    var modDataCount;\n    var winCount;\n    var it = {\n      reset: function (s, e, sStep, sCount) {\n        current = s;\n        end = e;\n        modBy = sStep;\n        modDataCount = sCount;\n        winCount = Math.ceil(modDataCount / modBy);\n        it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n      }\n    };\n    return it;\n\n    function sequentialNext() {\n      return current < end ? current++ : null;\n    }\n\n    function modNext() {\n      var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n      var result = current >= end ? null : dataIndex < modDataCount ? dataIndex // If modDataCount is smaller than data.count() (consider `appendData` case),\n      // Use normal linear rendering mode.\n      : current;\n      current++;\n      return result;\n    }\n  }();\n\n  taskProto.dirty = function () {\n    this._dirty = true;\n    this._onDirty && this._onDirty(this.context);\n  };\n\n  function doProgress(taskIns, progress, start, end, modBy, modDataCount) {\n    iterator.reset(start, end, modBy, modDataCount);\n    taskIns._callingProgress = progress;\n\n    taskIns._callingProgress({\n      start: start,\n      end: end,\n      count: end - start,\n      next: iterator.next\n    }, taskIns.context);\n  }\n\n  function reset(taskIns, skip) {\n    taskIns._dueIndex = taskIns._outputDueEnd = taskIns._dueEnd = 0;\n    taskIns._settedOutputEnd = null;\n    var progress;\n    var forceFirstProgress;\n\n    if (!skip && taskIns._reset) {\n      progress = taskIns._reset(taskIns.context);\n\n      if (progress && progress.progress) {\n        forceFirstProgress = progress.forceFirstProgress;\n        progress = progress.progress;\n      } // To simplify no progress checking, array must has item.\n\n\n      if (isArray$7(progress) && !progress.length) {\n        progress = null;\n      }\n    }\n\n    taskIns._progress = progress;\n    taskIns._modBy = taskIns._modDataCount = null;\n    var downstream = taskIns._downstream;\n    downstream && downstream.dirty();\n    return forceFirstProgress;\n  }\n  /**\n   * @return {boolean}\n   */\n\n\n  taskProto.unfinished = function () {\n    return this._progress && this._dueIndex < this._dueEnd;\n  };\n  /**\n   * @param {Object} downTask The downstream task.\n   * @return {Object} The downstream task.\n   */\n\n\n  taskProto.pipe = function (downTask) {\n    // If already downstream, do not dirty downTask.\n    if (this._downstream !== downTask || this._dirty) {\n      this._downstream = downTask;\n      downTask._upstream = this;\n      downTask.dirty();\n    }\n  };\n\n  taskProto.dispose = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    this._upstream && (this._upstream._downstream = null);\n    this._downstream && (this._downstream._upstream = null);\n    this._dirty = false;\n    this._disposed = true;\n  };\n\n  taskProto.getUpstream = function () {\n    return this._upstream;\n  };\n\n  taskProto.getDownstream = function () {\n    return this._downstream;\n  };\n\n  taskProto.setOutputEnd = function (end) {\n    // This only happend in dataTask, dataZoom, map, currently.\n    // where dataZoom do not set end each time, but only set\n    // when reset. So we should record the setted end, in case\n    // that the stub of dataZoom perform again and earse the\n    // setted end by upstream.\n    this._outputDueEnd = this._settedOutputEnd = end;\n  }; ///////////////////////////////////////////////////////////\n  // For stream debug (Should be commented out after used!)\n  // Usage: printTask(this, 'begin');\n  // Usage: printTask(this, null, {someExtraProp});\n  // function printTask(task, prefix, extra) {\n  //     window.ecTaskUID == null && (window.ecTaskUID = 0);\n  //     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n  //     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n  //     var props = [];\n  //     if (task.__pipeline) {\n  //         var val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n  //         props.push({text: 'idx', value: val});\n  //     } else {\n  //         var stubCount = 0;\n  //         task.agentStubMap.each(() => stubCount++);\n  //         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n  //     }\n  //     props.push({text: 'uid', value: task.uidDebug});\n  //     if (task.__pipeline) {\n  //         props.push({text: 'pid', value: task.__pipeline.id});\n  //         task.agent && props.push(\n  //             {text: 'stubFor', value: task.agent.uidDebug}\n  //         );\n  //     }\n  //     props.push(\n  //         {text: 'dirty', value: task._dirty},\n  //         {text: 'dueIndex', value: task._dueIndex},\n  //         {text: 'dueEnd', value: task._dueEnd},\n  //         {text: 'outputDueEnd', value: task._outputDueEnd}\n  //     );\n  //     if (extra) {\n  //         Object.keys(extra).forEach(key => {\n  //             props.push({text: key, value: extra[key]});\n  //         });\n  //     }\n  //     var args = ['color: blue'];\n  //     var msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n  //         args.push('color: black', 'color: red'),\n  //         `${item.text}: %c${item.value}`\n  //     )).join('%c, ');\n  //     console.log.apply(console, [msg].concat(args));\n  //     // console.log(this);\n  // }\n\n\n  var createTask_1 = createTask;\n\n  var task$2 = {\n  \tcreateTask: createTask_1\n  };\n\n  var formatTime$1 = format$1.formatTime;\n  var encodeHTML$1 = format$1.encodeHTML;\n  var addCommas$1 = format$1.addCommas;\n  var getTooltipMarker$2 = format$1.getTooltipMarker;\n\n\n\n\n\n\n\n\n\n\n\n  var getLayoutParams$1 = layout.getLayoutParams;\n  var mergeLayoutParam$1 = layout.mergeLayoutParam;\n\n\n\n  var createTask$1 = task$2.createTask;\n\n\n\n  var prepareSource$1 = sourceHelper.prepareSource;\n  var getSource$1 = sourceHelper.getSource;\n\n\n\n  var retrieveRawValue$2 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$4 = model.makeInner();\n  var SeriesModel = Component.extend({\n    type: 'series.__base__',\n\n    /**\n     * @readOnly\n     */\n    seriesIndex: 0,\n    // coodinateSystem will be injected in the echarts/CoordinateSystem\n    coordinateSystem: null,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * legend visual provider to the legend component\n     * @type {Object}\n     */\n    // PENDING\n    legendVisualProvider: null,\n\n    /**\n     * Access path of color for visual\n     */\n    visualColorAccessPath: 'itemStyle.color',\n\n    /**\n     * Access path of borderColor for visual\n     */\n    visualBorderColorAccessPath: 'itemStyle.borderColor',\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n    init: function (option, parentModel, ecModel, extraOpt) {\n      /**\n       * @type {number}\n       * @readOnly\n       */\n      this.seriesIndex = this.componentIndex;\n      this.dataTask = createTask$1({\n        count: dataTaskCount,\n        reset: dataTaskReset\n      });\n      this.dataTask.context = {\n        model: this\n      };\n      this.mergeDefaultAndTheme(option, ecModel);\n      prepareSource$1(this);\n      var data = this.getInitialData(option, ecModel);\n      wrapData(data, this);\n      this.dataTask.context.data = data;\n\n      /**\n       * @type {module:echarts/data/List|module:echarts/data/Tree|module:echarts/data/Graph}\n       * @private\n       */\n      inner$4(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n      // dataBeforeProcessed by cloneShallow), cloneShallow will\n      // cause data.graph.data !== data when using\n      // module:echarts/data/Graph or module:echarts/data/Tree.\n      // See module:echarts/data/helper/linkList\n      // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n      // init or merge stage, because the data can be restored. So we do not `restoreData`\n      // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n      // Call `seriesModel.getRawData()` instead.\n      // this.restoreData();\n\n      autoSeriesName(this);\n    },\n\n    /**\n     * Util for merge default and theme to option\n     * @param  {Object} option\n     * @param  {module:echarts/model/Global} ecModel\n     */\n    mergeDefaultAndTheme: function (option, ecModel) {\n      var layoutMode = this.layoutMode;\n      var inputPositionParams = layoutMode ? getLayoutParams$1(option) : {}; // Backward compat: using subType on theme.\n      // But if name duplicate between series subType\n      // (for example: parallel) add component mainType,\n      // add suffix 'Series'.\n\n      var themeSubType = this.subType;\n\n      if (Component.hasClass(themeSubType)) {\n        themeSubType += 'Series';\n      }\n\n      util.merge(option, ecModel.getTheme().get(this.subType));\n      util.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n      model.defaultEmphasis(option, 'label', ['show']);\n      this.fillDataTextStyle(option.data);\n\n      if (layoutMode) {\n        mergeLayoutParam$1(option, inputPositionParams, layoutMode);\n      }\n    },\n    mergeOption: function (newSeriesOption, ecModel) {\n      // this.settingTask.dirty();\n      newSeriesOption = util.merge(this.option, newSeriesOption, true);\n      this.fillDataTextStyle(newSeriesOption.data);\n      var layoutMode = this.layoutMode;\n\n      if (layoutMode) {\n        mergeLayoutParam$1(this.option, newSeriesOption, layoutMode);\n      }\n\n      prepareSource$1(this);\n      var data = this.getInitialData(newSeriesOption, ecModel);\n      wrapData(data, this);\n      this.dataTask.dirty();\n      this.dataTask.context.data = data;\n      inner$4(this).dataBeforeProcessed = data;\n      autoSeriesName(this);\n    },\n    fillDataTextStyle: function (data) {\n      // Default data label emphasis `show`\n      // FIXME Tree structure data ?\n      // FIXME Performance ?\n      if (data && !util.isTypedArray(data)) {\n        var props = ['show'];\n\n        for (var i = 0; i < data.length; i++) {\n          if (data[i] && data[i].label) {\n            model.defaultEmphasis(data[i], 'label', props);\n          }\n        }\n      }\n    },\n\n    /**\n     * Init a data structure from data related option in series\n     * Must be overwritten\n     */\n    getInitialData: function () {},\n\n    /**\n     * Append data to list\n     * @param {Object} params\n     * @param {Array|TypedArray} params.data\n     */\n    appendData: function (params) {\n      // FIXME ???\n      // (1) If data from dataset, forbidden append.\n      // (2) support append data of dataset.\n      var data = this.getRawData();\n      data.appendData(params.data);\n    },\n\n    /**\n     * Consider some method like `filter`, `map` need make new data,\n     * We should make sure that `seriesModel.getData()` get correct\n     * data in the stream procedure. So we fetch data from upstream\n     * each time `task.perform` called.\n     * @param {string} [dataType]\n     * @return {module:echarts/data/List}\n     */\n    getData: function (dataType) {\n      var task = getCurrentTask(this);\n\n      if (task) {\n        var data = task.context.data;\n        return dataType == null ? data : data.getLinkedData(dataType);\n      } else {\n        // When series is not alive (that may happen when click toolbox\n        // restore or setOption with not merge mode), series data may\n        // be still need to judge animation or something when graphic\n        // elements want to know whether fade out.\n        return inner$4(this).data;\n      }\n    },\n\n    /**\n     * @param {module:echarts/data/List} data\n     */\n    setData: function (data) {\n      var task = getCurrentTask(this);\n\n      if (task) {\n        var context = task.context; // Consider case: filter, data sample.\n\n        if (context.data !== data && task.modifyOutputEnd) {\n          task.setOutputEnd(data.count());\n        }\n\n        context.outputData = data; // Caution: setData should update context.data,\n        // Because getData may be called multiply in a\n        // single stage and expect to get the data just\n        // set. (For example, AxisProxy, x y both call\n        // getData and setDate sequentially).\n        // So the context.data should be fetched from\n        // upstream each time when a stage starts to be\n        // performed.\n\n        if (task !== this.dataTask) {\n          context.data = data;\n        }\n      }\n\n      inner$4(this).data = data;\n    },\n\n    /**\n     * @see {module:echarts/data/helper/sourceHelper#getSource}\n     * @return {module:echarts/data/Source} source\n     */\n    getSource: function () {\n      return getSource$1(this);\n    },\n\n    /**\n     * Get data before processed\n     * @return {module:echarts/data/List}\n     */\n    getRawData: function () {\n      return inner$4(this).dataBeforeProcessed;\n    },\n\n    /**\n     * Get base axis if has coordinate system and has axis.\n     * By default use coordSys.getBaseAxis();\n     * Can be overrided for some chart.\n     * @return {type} description\n     */\n    getBaseAxis: function () {\n      var coordSys = this.coordinateSystem;\n      return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n    },\n    // FIXME\n\n    /**\n     * Default tooltip formatter\n     *\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     * @param {string} [renderMode='html'] valid values: 'html' and 'richText'.\n     *                                     'html' is used for rendering tooltip in extra DOM form, and the result\n     *                                     string is used as DOM HTML content.\n     *                                     'richText' is used for rendering tooltip in rich text form, for those where\n     *                                     DOM operation is not supported.\n     * @return {Object} formatted tooltip with `html` and `markers`\n     */\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var series = this;\n      renderMode = renderMode || 'html';\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n      var isRichText = renderMode === 'richText';\n      var markers = {};\n      var markerId = 0;\n\n      function formatArrayValue(value) {\n        // ??? TODO refactor these logic.\n        // check: category-no-encode-has-axis-data in dataset.html\n        var vertially = util.reduce(value, function (vertially, val, idx) {\n          var dimItem = data.getDimensionInfo(idx);\n          return vertially |= dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\n        }, 0);\n        var result = [];\n        tooltipDims.length ? util.each(tooltipDims, function (dim) {\n          setEachItem(retrieveRawValue$2(data, dataIndex, dim), dim);\n        }) // By default, all dims is used on tooltip.\n        : util.each(value, setEachItem);\n\n        function setEachItem(val, dim) {\n          var dimInfo = data.getDimensionInfo(dim); // If `dimInfo.tooltip` is not set, show tooltip.\n\n          if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n            return;\n          }\n\n          var dimType = dimInfo.type;\n          var markName = 'sub' + series.seriesIndex + 'at' + markerId;\n          var dimHead = getTooltipMarker$2({\n            color: color,\n            type: 'subItem',\n            renderMode: renderMode,\n            markerId: markName\n          });\n          var dimHeadStr = typeof dimHead === 'string' ? dimHead : dimHead.content;\n          var valStr = (vertially ? dimHeadStr + encodeHTML$1(dimInfo.displayName || '-') + ': ' : '') + // FIXME should not format time for raw data?\n          encodeHTML$1(dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : formatTime$1('yyyy/MM/dd hh:mm:ss', val) : addCommas$1(val));\n          valStr && result.push(valStr);\n\n          if (isRichText) {\n            markers[markName] = color;\n            ++markerId;\n          }\n        }\n\n        var newLine = vertially ? isRichText ? '\\n' : '<br/>' : '';\n        var content = newLine + result.join(newLine || ', ');\n        return {\n          renderMode: renderMode,\n          content: content,\n          style: markers\n        };\n      }\n\n      function formatSingleValue(val) {\n        // return encodeHTML(addCommas(val));\n        return {\n          renderMode: renderMode,\n          content: encodeHTML$1(addCommas$1(val)),\n          style: markers\n        };\n      }\n\n      var data = this.getData();\n      var tooltipDims = data.mapDimension('defaultedTooltip', true);\n      var tooltipDimLen = tooltipDims.length;\n      var value = this.getRawValue(dataIndex);\n      var isValueArr = util.isArray(value);\n      var color = data.getItemVisual(dataIndex, 'color');\n\n      if (util.isObject(color) && color.colorStops) {\n        color = (color.colorStops[0] || {}).color;\n      }\n\n      color = color || 'transparent'; // Complicated rule for pretty tooltip.\n\n      var formattedValue = tooltipDimLen > 1 || isValueArr && !tooltipDimLen ? formatArrayValue(value) : tooltipDimLen ? formatSingleValue(retrieveRawValue$2(data, dataIndex, tooltipDims[0])) : formatSingleValue(isValueArr ? value[0] : value);\n      var content = formattedValue.content;\n      var markName = series.seriesIndex + 'at' + markerId;\n      var colorEl = getTooltipMarker$2({\n        color: color,\n        type: 'item',\n        renderMode: renderMode,\n        markerId: markName\n      });\n      markers[markName] = color;\n      ++markerId;\n      var name = data.getName(dataIndex);\n      var seriesName = this.name;\n\n      if (!model.isNameSpecified(this)) {\n        seriesName = '';\n      }\n\n      seriesName = seriesName ? encodeHTML$1(seriesName) + (!multipleSeries ? newLine : ': ') : '';\n      var colorStr = typeof colorEl === 'string' ? colorEl : colorEl.content;\n      var html = !multipleSeries ? seriesName + colorStr + (name ? encodeHTML$1(name) + ': ' + content : content) : colorStr + seriesName + content;\n      return {\n        html: html,\n        markers: markers\n      };\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n      if (env_1.node) {\n        return false;\n      }\n\n      var animationEnabled = this.getShallow('animation');\n\n      if (animationEnabled) {\n        if (this.getData().count() > this.getShallow('animationThreshold')) {\n          animationEnabled = false;\n        }\n      }\n\n      return animationEnabled;\n    },\n    restoreData: function () {\n      this.dataTask.dirty();\n    },\n    getColorFromPalette: function (name, scope, requestColorNum) {\n      var ecModel = this.ecModel; // PENDING\n\n      var color = colorPalette.getColorFromPalette.call(this, name, scope, requestColorNum);\n\n      if (!color) {\n        color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n      }\n\n      return color;\n    },\n\n    /**\n     * Use `data.mapDimension(coordDim, true)` instead.\n     * @deprecated\n     */\n    coordDimToDataDim: function (coordDim) {\n      return this.getRawData().mapDimension(coordDim, true);\n    },\n\n    /**\n     * Get progressive rendering count each step\n     * @return {number}\n     */\n    getProgressive: function () {\n      return this.get('progressive');\n    },\n\n    /**\n     * Get progressive rendering count each step\n     * @return {number}\n     */\n    getProgressiveThreshold: function () {\n      return this.get('progressiveThreshold');\n    },\n\n    /**\n     * Get data indices for show tooltip content. See tooltip.\n     * @abstract\n     * @param {Array.<string>|string} dim\n     * @param {Array.<number>} value\n     * @param {module:echarts/coord/single/SingleAxis} baseAxis\n     * @return {Object} {dataIndices, nestestValue}.\n     */\n    getAxisTooltipData: null,\n\n    /**\n     * See tooltip.\n     * @abstract\n     * @param {number} dataIndex\n     * @return {Array.<number>} Point of tooltip. null/undefined can be returned.\n     */\n    getTooltipPosition: null,\n\n    /**\n     * @see {module:echarts/stream/Scheduler}\n     */\n    pipeTask: null,\n\n    /**\n     * Convinient for override in extended class.\n     * @protected\n     * @type {Function}\n     */\n    preventIncremental: null,\n\n    /**\n     * @public\n     * @readOnly\n     * @type {Object}\n     */\n    pipelineContext: null\n  });\n  util.mixin(SeriesModel, dataFormat);\n  util.mixin(SeriesModel, colorPalette);\n  /**\n   * MUST be called after `prepareSource` called\n   * Here we need to make auto series, especially for auto legend. But we\n   * do not modify series.name in option to avoid side effects.\n   */\n\n  function autoSeriesName(seriesModel) {\n    // User specified name has higher priority, otherwise it may cause\n    // series can not be queried unexpectedly.\n    var name = seriesModel.name;\n\n    if (!model.isNameSpecified(seriesModel)) {\n      seriesModel.name = getSeriesAutoName(seriesModel) || name;\n    }\n  }\n\n  function getSeriesAutoName(seriesModel) {\n    var data = seriesModel.getRawData();\n    var dataDims = data.mapDimension('seriesName', true);\n    var nameArr = [];\n    util.each(dataDims, function (dataDim) {\n      var dimInfo = data.getDimensionInfo(dataDim);\n      dimInfo.displayName && nameArr.push(dimInfo.displayName);\n    });\n    return nameArr.join(' ');\n  }\n\n  function dataTaskCount(context) {\n    return context.model.getRawData().count();\n  }\n\n  function dataTaskReset(context) {\n    var seriesModel = context.model;\n    seriesModel.setData(seriesModel.getRawData().cloneShallow());\n    return dataTaskProgress;\n  }\n\n  function dataTaskProgress(param, context) {\n    // Avoid repead cloneShallow when data just created in reset.\n    if (context.outputData && param.end > context.outputData.count()) {\n      context.model.getRawData().cloneShallow(context.outputData);\n    }\n  } // TODO refactor\n\n\n  function wrapData(data, seriesModel) {\n    util.each(data.CHANGABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, util.curry(onDataSelfChange, seriesModel));\n    });\n  }\n\n  function onDataSelfChange(seriesModel) {\n    var task = getCurrentTask(seriesModel);\n\n    if (task) {\n      // Consider case: filter, selectRange\n      task.setOutputEnd(this.count());\n    }\n  }\n\n  function getCurrentTask(seriesModel) {\n    var scheduler = (seriesModel.ecModel || {}).scheduler;\n    var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n\n    if (pipeline) {\n      // When pipline finished, the currrentTask keep the last\n      // task (renderTask).\n      var task = pipeline.currentTask;\n\n      if (task) {\n        var agentStubMap = task.agentStubMap;\n\n        if (agentStubMap) {\n          task = agentStubMap.get(seriesModel.uid);\n        }\n      }\n\n      return task;\n    }\n  }\n\n  var _default$14 = SeriesModel;\n  var Series = _default$14;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var Component$1 = function () {\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group_1();\n    /**\n     * @type {string}\n     * @readOnly\n     */\n\n    this.uid = component.getUID('viewComponent');\n  };\n\n  Component$1.prototype = {\n    constructor: Component$1,\n    init: function (ecModel, api) {},\n    render: function (componentModel, ecModel, api, payload) {},\n    dispose: function () {},\n\n    /**\n     * @param {string} eventType\n     * @param {Object} query\n     * @param {module:zrender/Element} targetEl\n     * @param {Object} packedEvent\n     * @return {boolen} Pass only when return `true`.\n     */\n    filterForExposedEvent: null\n  };\n  var componentProto = Component$1.prototype;\n\n  componentProto.updateView = componentProto.updateLayout = componentProto.updateVisual = function (seriesModel, ecModel, api, payload) {// Do nothing;\n  }; // Enable Component.extend.\n\n\n  clazz.enableClassExtend(Component$1); // Enable capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  clazz.enableClassManagement(Component$1, {\n    registerWhenExtend: true\n  });\n  var _default$15 = Component$1;\n  var Component_1 = _default$15;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var makeInner$5 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @return {string} If large mode changed, return string 'reset';\n   */\n  function _default$16() {\n    var inner = makeInner$5();\n    return function (seriesModel) {\n      var fields = inner(seriesModel);\n      var pipelineContext = seriesModel.pipelineContext;\n      var originalLarge = fields.large;\n      var originalProgressive = fields.progressiveRender; // FIXME: if the planner works on a filtered series, `pipelineContext` does not\n      // exists. See #11611 . Probably we need to modify this structure, see the comment\n      // on `performRawSeries` in `Schedular.js`.\n\n      var large = fields.large = pipelineContext && pipelineContext.large;\n      var progressive = fields.progressiveRender = pipelineContext && pipelineContext.progressiveRender;\n      return !!(originalLarge ^ large || originalProgressive ^ progressive) && 'reset';\n    };\n  }\n\n  var createRenderPlanner = _default$16;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$b = util.each;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var createTask$2 = task$2.createTask;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$5 = model.makeInner();\n  var renderPlanner = createRenderPlanner();\n\n  function Chart() {\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group_1();\n    /**\n     * @type {string}\n     * @readOnly\n     */\n\n    this.uid = component.getUID('viewChart');\n    this.renderTask = createTask$2({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n\n  Chart.prototype = {\n    type: 'chart',\n\n    /**\n     * Init the chart.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    init: function (ecModel, api) {},\n\n    /**\n     * Render the chart.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    render: function (seriesModel, ecModel, api, payload) {},\n\n    /**\n     * Highlight series or specified data item.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    highlight: function (seriesModel, ecModel, api, payload) {\n      toggleHighlight(seriesModel.getData(), payload, 'emphasis');\n    },\n\n    /**\n     * Downplay series or specified data item.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    downplay: function (seriesModel, ecModel, api, payload) {\n      toggleHighlight(seriesModel.getData(), payload, 'normal');\n    },\n\n    /**\n     * Remove self.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    remove: function (ecModel, api) {\n      this.group.removeAll();\n    },\n\n    /**\n     * Dispose self.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    dispose: function () {},\n\n    /**\n     * Rendering preparation in progressive mode.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    incrementalPrepareRender: null,\n\n    /**\n     * Render in progressive mode.\n     * @param  {Object} params See taskParams in `stream/task.js`\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    incrementalRender: null,\n\n    /**\n     * Update transform directly.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     * @return {Object} {update: true}\n     */\n    updateTransform: null,\n\n    /**\n     * The view contains the given point.\n     * @interface\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    // containPoint: function () {}\n\n    /**\n     * @param {string} eventType\n     * @param {Object} query\n     * @param {module:zrender/Element} targetEl\n     * @param {Object} packedEvent\n     * @return {boolen} Pass only when return `true`.\n     */\n    filterForExposedEvent: null\n  };\n  var chartProto = Chart.prototype;\n\n  chartProto.updateView = chartProto.updateLayout = chartProto.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  /**\n   * Set state of single element\n   * @param {module:zrender/Element} el\n   * @param {string} state 'normal'|'emphasis'\n   * @param {number} highlightDigit\n   */\n\n\n  function elSetState(el, state, highlightDigit) {\n    if (el) {\n      el.trigger(state, highlightDigit);\n\n      if (el.isGroup // Simple optimize.\n      && !graphic.isHighDownDispatcher(el)) {\n        for (var i = 0, len = el.childCount(); i < len; i++) {\n          elSetState(el.childAt(i), state, highlightDigit);\n        }\n      }\n    }\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {Object} payload\n   * @param {string} state 'normal'|'emphasis'\n   */\n\n\n  function toggleHighlight(data, payload, state) {\n    var dataIndex = model.queryDataIndex(data, payload);\n    var highlightDigit = payload && payload.highlightKey != null ? graphic.getHighlightDigit(payload.highlightKey) : null;\n\n    if (dataIndex != null) {\n      each$b(model.normalizeToArray(dataIndex), function (dataIdx) {\n        elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n      });\n    } else {\n      data.eachItemGraphicEl(function (el) {\n        elSetState(el, state, highlightDigit);\n      });\n    }\n  } // Enable Chart.extend.\n\n\n  clazz.enableClassExtend(Chart, ['dispose']); // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  clazz.enableClassManagement(Chart, {\n    registerWhenExtend: true\n  });\n\n  Chart.markUpdateMethod = function (payload, methodName) {\n    inner$5(payload).updateMethod = methodName;\n  };\n\n  function renderTaskPlan(context) {\n    return renderPlanner(context.model);\n  }\n\n  function renderTaskReset(context) {\n    var seriesModel = context.model;\n    var ecModel = context.ecModel;\n    var api = context.api;\n    var payload = context.payload; // ???! remove updateView updateVisual\n\n    var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n    var view = context.view;\n    var updateMethod = payload && inner$5(payload).updateMethod;\n    var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod // `appendData` is also supported when data amount\n    // is less than progressive threshold.\n    : 'render';\n\n    if (methodName !== 'render') {\n      view[methodName](seriesModel, ecModel, api, payload);\n    }\n\n    return progressMethodMap[methodName];\n  }\n\n  var progressMethodMap = {\n    incrementalPrepareRender: {\n      progress: function (params, context) {\n        context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n      }\n    },\n    render: {\n      // Put view.render in `progress` to support appendData. But in this case\n      // view.render should not be called in reset, otherwise it will be called\n      // twise. Use `forceFirstProgress` to make sure that view.render is called\n      // in any cases.\n      forceFirstProgress: true,\n      progress: function (params, context) {\n        context.view.render(context.model, context.ecModel, context.api, context.payload);\n      }\n    }\n  };\n  var _default$17 = Chart;\n  var Chart_1 = _default$17;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var ORIGIN_METHOD = '\\0__throttleOriginMethod';\n  var RATE = '\\0__throttleRate';\n  var THROTTLE_TYPE = '\\0__throttleType';\n  /**\n   * @public\n   * @param {(Function)} fn\n   * @param {number} [delay=0] Unit: ms.\n   * @param {boolean} [debounce=false]\n   *        true: If call interval less than `delay`, only the last call works.\n   *        false: If call interval less than `delay, call works on fixed rate.\n   * @return {(Function)} throttled fn.\n   */\n\n  function throttle$1(fn, delay, debounce) {\n    var currCall;\n    var lastCall = 0;\n    var lastExec = 0;\n    var timer = null;\n    var diff;\n    var scope;\n    var args;\n    var debounceNextCall;\n    delay = delay || 0;\n\n    function exec() {\n      lastExec = new Date().getTime();\n      timer = null;\n      fn.apply(scope, args || []);\n    }\n\n    var cb = function () {\n      currCall = new Date().getTime();\n      scope = this;\n      args = arguments;\n      var thisDelay = debounceNextCall || delay;\n      var thisDebounce = debounceNextCall || debounce;\n      debounceNextCall = null;\n      diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n      clearTimeout(timer); // Here we should make sure that: the `exec` SHOULD NOT be called later\n      // than a new call of `cb`, that is, preserving the command order. Consider\n      // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n      // happens, either the `exec` is called dierectly, or the call is delayed.\n      // But the delayed call should never be later than next call of `cb`. Under\n      // this assurance, we can simply update view state each time `dispatchAction`\n      // triggered by user roaming, but not need to add extra code to avoid the\n      // state being \"rolled-back\".\n\n      if (thisDebounce) {\n        timer = setTimeout(exec, thisDelay);\n      } else {\n        if (diff >= 0) {\n          exec();\n        } else {\n          timer = setTimeout(exec, -diff);\n        }\n      }\n\n      lastCall = currCall;\n    };\n    /**\n     * Clear throttle.\n     * @public\n     */\n\n\n    cb.clear = function () {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      }\n    };\n    /**\n     * Enable debounce once.\n     */\n\n\n    cb.debounceNextCall = function (debounceDelay) {\n      debounceNextCall = debounceDelay;\n    };\n\n    return cb;\n  }\n  /**\n   * Create throttle method or update throttle rate.\n   *\n   * @example\n   * ComponentView.prototype.render = function () {\n   *     ...\n   *     throttle.createOrUpdate(\n   *         this,\n   *         '_dispatchAction',\n   *         this.model.get('throttle'),\n   *         'fixRate'\n   *     );\n   * };\n   * ComponentView.prototype.remove = function () {\n   *     throttle.clear(this, '_dispatchAction');\n   * };\n   * ComponentView.prototype.dispose = function () {\n   *     throttle.clear(this, '_dispatchAction');\n   * };\n   *\n   * @public\n   * @param {Object} obj\n   * @param {string} fnAttr\n   * @param {number} [rate]\n   * @param {string} [throttleType='fixRate'] 'fixRate' or 'debounce'\n   * @return {Function} throttled function.\n   */\n\n\n  function createOrUpdate(obj, fnAttr, rate, throttleType) {\n    var fn = obj[fnAttr];\n\n    if (!fn) {\n      return;\n    }\n\n    var originFn = fn[ORIGIN_METHOD] || fn;\n    var lastThrottleType = fn[THROTTLE_TYPE];\n    var lastRate = fn[RATE];\n\n    if (lastRate !== rate || lastThrottleType !== throttleType) {\n      if (rate == null || !throttleType) {\n        return obj[fnAttr] = originFn;\n      }\n\n      fn = obj[fnAttr] = throttle$1(originFn, rate, throttleType === 'debounce');\n      fn[ORIGIN_METHOD] = originFn;\n      fn[THROTTLE_TYPE] = throttleType;\n      fn[RATE] = rate;\n    }\n\n    return fn;\n  }\n  /**\n   * Clear throttle. Example see throttle.createOrUpdate.\n   *\n   * @public\n   * @param {Object} obj\n   * @param {string} fnAttr\n   */\n\n\n  function clear$1(obj, fnAttr) {\n    var fn = obj[fnAttr];\n\n    if (fn && fn[ORIGIN_METHOD]) {\n      obj[fnAttr] = fn[ORIGIN_METHOD];\n    }\n  }\n\n  var throttle_2 = throttle$1;\n  var createOrUpdate_1 = createOrUpdate;\n  var clear_1 = clear$1;\n\n  var throttle_1 = {\n  \tthrottle: throttle_2,\n  \tcreateOrUpdate: createOrUpdate_1,\n  \tclear: clear_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var isFunction$3 = util.isFunction;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$18 = {\n    createOnAllSeries: true,\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      var colorAccessPath = (seriesModel.visualColorAccessPath || 'itemStyle.color').split('.'); // Set in itemStyle\n\n      var color = seriesModel.get(colorAccessPath);\n      var colorCallback = isFunction$3(color) && !(color instanceof Gradient_1) ? color : null; // Default color\n\n      if (!color || colorCallback) {\n        color = seriesModel.getColorFromPalette( // TODO series count changed.\n        seriesModel.name, null, ecModel.getSeriesCount());\n      }\n\n      data.setVisual('color', color);\n      var borderColorAccessPath = (seriesModel.visualBorderColorAccessPath || 'itemStyle.borderColor').split('.');\n      var borderColor = seriesModel.get(borderColorAccessPath);\n      data.setVisual('borderColor', borderColor); // Only visible series has each data be visual encoded\n\n      if (!ecModel.isSeriesFiltered(seriesModel)) {\n        if (colorCallback) {\n          data.each(function (idx) {\n            data.setItemVisual(idx, 'color', colorCallback(seriesModel.getDataParams(idx)));\n          });\n        } // itemStyle in each data item\n\n\n        var dataEach = function (data, idx) {\n          var itemModel = data.getItemModel(idx);\n          var color = itemModel.get(colorAccessPath, true);\n          var borderColor = itemModel.get(borderColorAccessPath, true);\n\n          if (color != null) {\n            data.setItemVisual(idx, 'color', color);\n          }\n\n          if (borderColor != null) {\n            data.setItemVisual(idx, 'borderColor', borderColor);\n          }\n        };\n\n        return {\n          dataEach: data.hasItemOption ? dataEach : null\n        };\n      }\n    }\n  };\n  var seriesColor = _default$18;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Language: (Simplified) Chinese.\n   */\n  var _default$19 = {\n    legend: {\n      selector: {\n        all: '',\n        inverse: ''\n      }\n    },\n    toolbox: {\n      brush: {\n        title: {\n          rect: '',\n          polygon: '',\n          lineX: '',\n          lineY: '',\n          keep: '',\n          clear: ''\n        }\n      },\n      dataView: {\n        title: '',\n        lang: ['', '', '']\n      },\n      dataZoom: {\n        title: {\n          zoom: '',\n          back: ''\n        }\n      },\n      magicType: {\n        title: {\n          line: '',\n          bar: '',\n          stack: '',\n          tiled: ''\n        }\n      },\n      restore: {\n        title: ''\n      },\n      saveAsImage: {\n        title: '',\n        lang: ['']\n      }\n    },\n    series: {\n      typeNames: {\n        pie: '',\n        bar: '',\n        line: '',\n        scatter: '',\n        effectScatter: '',\n        radar: '',\n        tree: '',\n        treemap: '',\n        boxplot: '',\n        candlestick: 'K',\n        k: 'K',\n        heatmap: '',\n        map: '',\n        parallel: '',\n        lines: '',\n        graph: '',\n        sankey: '',\n        funnel: '',\n        gauge: '',\n        pictorialBar: '',\n        themeRiver: '',\n        sunburst: ''\n      }\n    },\n    aria: {\n      general: {\n        withTitle: '{title}',\n        withoutTitle: ''\n      },\n      series: {\n        single: {\n          prefix: '',\n          withName: '{seriesType}{seriesName}',\n          withoutName: '{seriesType}'\n        },\n        multiple: {\n          prefix: '{seriesCount}',\n          withName: '{seriesId}{seriesName}{seriesType}',\n          withoutName: '{seriesId}{seriesType}',\n          separator: {\n            middle: '',\n            end: ''\n          }\n        }\n      },\n      data: {\n        allData: '',\n        partialData: '{displayCnt}',\n        withName: '{name}{value}',\n        withoutName: '{value}',\n        separator: {\n          middle: '',\n          end: ''\n        }\n      }\n    }\n  };\n  var lang = _default$19;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var retrieveRawValue$3 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1a(dom, ecModel) {\n    var ariaModel = ecModel.getModel('aria');\n\n    if (!ariaModel.get('show')) {\n      return;\n    } else if (ariaModel.get('description')) {\n      dom.setAttribute('aria-label', ariaModel.get('description'));\n      return;\n    }\n\n    var seriesCnt = 0;\n    ecModel.eachSeries(function (seriesModel, idx) {\n      ++seriesCnt;\n    }, this);\n    var maxDataCnt = ariaModel.get('data.maxCount') || 10;\n    var maxSeriesCnt = ariaModel.get('series.maxCount') || 10;\n    var displaySeriesCnt = Math.min(seriesCnt, maxSeriesCnt);\n    var ariaLabel;\n\n    if (seriesCnt < 1) {\n      // No series, no aria label\n      return;\n    } else {\n      var title = getTitle();\n\n      if (title) {\n        ariaLabel = replace(getConfig('general.withTitle'), {\n          title: title\n        });\n      } else {\n        ariaLabel = getConfig('general.withoutTitle');\n      }\n\n      var seriesLabels = [];\n      var prefix = seriesCnt > 1 ? 'series.multiple.prefix' : 'series.single.prefix';\n      ariaLabel += replace(getConfig(prefix), {\n        seriesCount: seriesCnt\n      });\n      ecModel.eachSeries(function (seriesModel, idx) {\n        if (idx < displaySeriesCnt) {\n          var seriesLabel;\n          var seriesName = seriesModel.get('name');\n          var seriesTpl = 'series.' + (seriesCnt > 1 ? 'multiple' : 'single') + '.';\n          seriesLabel = getConfig(seriesName ? seriesTpl + 'withName' : seriesTpl + 'withoutName');\n          seriesLabel = replace(seriesLabel, {\n            seriesId: seriesModel.seriesIndex,\n            seriesName: seriesModel.get('name'),\n            seriesType: getSeriesTypeName(seriesModel.subType)\n          });\n          var data = seriesModel.getData();\n          window.data = data;\n\n          if (data.count() > maxDataCnt) {\n            // Show part of data\n            seriesLabel += replace(getConfig('data.partialData'), {\n              displayCnt: maxDataCnt\n            });\n          } else {\n            seriesLabel += getConfig('data.allData');\n          }\n\n          var dataLabels = [];\n\n          for (var i = 0; i < data.count(); i++) {\n            if (i < maxDataCnt) {\n              var name = data.getName(i);\n              var value = retrieveRawValue$3(data, i);\n              dataLabels.push(replace(name ? getConfig('data.withName') : getConfig('data.withoutName'), {\n                name: name,\n                value: value\n              }));\n            }\n          }\n\n          seriesLabel += dataLabels.join(getConfig('data.separator.middle')) + getConfig('data.separator.end');\n          seriesLabels.push(seriesLabel);\n        }\n      });\n      ariaLabel += seriesLabels.join(getConfig('series.multiple.separator.middle')) + getConfig('series.multiple.separator.end');\n      dom.setAttribute('aria-label', ariaLabel);\n    }\n\n    function replace(str, keyValues) {\n      if (typeof str !== 'string') {\n        return str;\n      }\n\n      var result = str;\n      util.each(keyValues, function (value, key) {\n        result = result.replace(new RegExp('\\\\{\\\\s*' + key + '\\\\s*\\\\}', 'g'), value);\n      });\n      return result;\n    }\n\n    function getConfig(path) {\n      var userConfig = ariaModel.get(path);\n\n      if (userConfig == null) {\n        var pathArr = path.split('.');\n        var result = lang.aria;\n\n        for (var i = 0; i < pathArr.length; ++i) {\n          result = result[pathArr[i]];\n        }\n\n        return result;\n      } else {\n        return userConfig;\n      }\n    }\n\n    function getTitle() {\n      var title = ecModel.getModel('title').option;\n\n      if (title && title.length) {\n        title = title[0];\n      }\n\n      return title && title.text;\n    }\n\n    function getSeriesTypeName(type) {\n      return lang.series.typeNames[type] || '';\n    }\n  }\n\n  var aria = _default$1a;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI$1 = Math.PI;\n  /**\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} [opts]\n   * @param {string} [opts.text]\n   * @param {string} [opts.color]\n   * @param {string} [opts.textColor]\n   * @return {module:zrender/Element}\n   */\n\n  function _default$1b(api, opts) {\n    opts = opts || {};\n    util.defaults(opts, {\n      text: 'loading',\n      textColor: '#000',\n      fontSize: '12px',\n      maskColor: 'rgba(255, 255, 255, 0.8)',\n      showSpinner: true,\n      color: '#c23531',\n      spinnerRadius: 10,\n      lineWidth: 5,\n      zlevel: 0\n    });\n    var group = new graphic.Group();\n    var mask = new graphic.Rect({\n      style: {\n        fill: opts.maskColor\n      },\n      zlevel: opts.zlevel,\n      z: 10000\n    });\n    group.add(mask);\n    var font = opts.fontSize + ' sans-serif';\n    var labelRect = new graphic.Rect({\n      style: {\n        fill: 'none',\n        text: opts.text,\n        font: font,\n        textPosition: 'right',\n        textDistance: 10,\n        textFill: opts.textColor\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    group.add(labelRect);\n\n    if (opts.showSpinner) {\n      var arc = new graphic.Arc({\n        shape: {\n          startAngle: -PI$1 / 2,\n          endAngle: -PI$1 / 2 + 0.1,\n          r: opts.spinnerRadius\n        },\n        style: {\n          stroke: opts.color,\n          lineCap: 'round',\n          lineWidth: opts.lineWidth\n        },\n        zlevel: opts.zlevel,\n        z: 10001\n      });\n      arc.animateShape(true).when(1000, {\n        endAngle: PI$1 * 3 / 2\n      }).start('circularInOut');\n      arc.animateShape(true).when(1000, {\n        startAngle: PI$1 * 3 / 2\n      }).delay(300).start('circularInOut');\n      group.add(arc);\n    } // Inject resize\n\n\n    group.resize = function () {\n      var textWidth = text.getWidth(opts.text, font);\n      var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n      // textDistance needs to be calculated when both animation and text exist\n\n      var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 // only show the text\n      - (opts.showSpinner ? 0 : textWidth / 2);\n      var cy = api.getHeight() / 2;\n      opts.showSpinner && arc.setShape({\n        cx: cx,\n        cy: cy\n      });\n      labelRect.setShape({\n        x: cx - r,\n        y: cy - r,\n        width: r * 2,\n        height: r * 2\n      });\n      mask.setShape({\n        x: 0,\n        y: 0,\n        width: api.getWidth(),\n        height: api.getHeight()\n      });\n    };\n\n    group.resize();\n    return group;\n  }\n\n  var _default_1 = _default$1b;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$c = util.each;\n  var map$4 = util.map;\n  var isFunction$4 = util.isFunction;\n  var createHashMap$5 = util.createHashMap;\n  var noop$2 = util.noop;\n\n\n\n  var createTask$3 = task$2.createTask;\n\n\n\n  var getUID$1 = component.getUID;\n\n\n\n\n\n\n\n  var normalizeToArray$3 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/stream/Scheduler\n   */\n\n  /**\n   * @constructor\n   */\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    this.ecInstance = ecInstance;\n    this.api = api;\n    this.unfinished; // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n\n    var dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    var visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n    /**\n     * @private\n     * @type {\n     *     [handlerUID: string]: {\n     *         seriesTaskMap?: {\n     *             [seriesUID: string]: Task\n     *         },\n     *         overallTask?: Task\n     *     }\n     * }\n     */\n\n    this._stageTaskMap = createHashMap$5();\n  }\n\n  var proto = Scheduler.prototype;\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Object} payload\n   */\n\n  proto.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload); // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  }; // If seriesModel provided, incremental threshold is check by series data.\n\n\n  proto.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n\n  proto.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\n   * Current, progressive rendering starts from visual and layout.\n   * Always detect render mode in the same stage, avoiding that incorrect\n   * detection caused by data filtering.\n   * Caution:\n   * `updateStreamModes` use `seriesModel.getData()`.\n   */\n\n\n  proto.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n\n    var data = seriesModel.getData();\n    var dataLen = data.count(); // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold'); // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n\n  proto.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap$5();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n      pipe(scheduler, seriesModel, seriesModel.dataTask);\n    });\n  };\n\n  proto.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.ecInstance.getModel();\n    var api = this.api;\n    each$c(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, []);\n      handler.reset && createSeriesStageTask(this, handler, record, ecModel, api);\n      handler.overallReset && createOverallStageTask(this, handler, record, ecModel, api);\n    }, this);\n  };\n\n  proto.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n    pipe(this, model, renderTask);\n  };\n\n  proto.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    performStageTasks(this, this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  }; // opt\n  // opt.visualType: 'visual' or 'layout'\n  // opt.setDirty\n\n\n  proto.performVisualTasks = function (ecModel, payload, opt) {\n    performStageTasks(this, this._visualHandlers, ecModel, payload, opt);\n  };\n\n  function performStageTasks(scheduler, stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished;\n    each$c(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n\n      if (overallTask) {\n        var overallNeedDirty;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty = true;\n          }\n        });\n        overallNeedDirty && overallTask.dirty();\n        updatePayload(overallTask, payload);\n        var performArgs = scheduler.getPerformArgs(overallTask, opt.block); // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs);\n        });\n        unfinished |= overallTask.perform(performArgs);\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n\n          var performArgs = scheduler.getPerformArgs(task, opt.block); // FIXME\n          // if intending to decalare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because is a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operaions\n          // and stream-independent operations should better not be mixed.\n\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          updatePayload(task, payload);\n          unfinished |= task.perform(performArgs);\n        });\n      }\n    });\n\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n\n    scheduler.unfinished |= unfinished;\n  }\n\n  proto.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished |= seriesModel.dataTask.perform();\n    });\n    this.unfinished |= unfinished;\n  };\n\n  proto.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n\n  var updatePayload = proto.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n\n  function createSeriesStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n    var seriesTaskMap = stageHandlerRecord.seriesTaskMap || (stageHandlerRecord.seriesTaskMap = createHashMap$5());\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries; // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid; // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n\n      var task = seriesTaskMap.get(pipelineId) || seriesTaskMap.set(pipelineId, createTask$3({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n      pipe(scheduler, seriesModel, task);\n    } // Clear unused series tasks.\n\n\n    var pipelineMap = scheduler._pipelineMap;\n    seriesTaskMap.each(function (task, pipelineId) {\n      if (!pipelineMap.get(pipelineId)) {\n        task.dispose();\n        seriesTaskMap.removeKey(pipelineId);\n      }\n    });\n  }\n\n  function createOverallStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask // For overall task, the function only be called on reset stage.\n    || createTask$3({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    }; // Reuse orignal stubs.\n\n    var agentStubMap = overallTask.agentStubMap = overallTask.agentStubMap || createHashMap$5();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var modifyOutputEnd = stageHandler.modifyOutputEnd; // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    } // Otherwise, (usually it is legancy case), the overall task will only be\n    // executed when upstream dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upsteam.\n    else {\n        overallProgress = false;\n        each$c(ecModel.getSeries(), createStub);\n      }\n\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = agentStubMap.get(pipelineId);\n\n      if (!stub) {\n        stub = agentStubMap.set(pipelineId, createTask$3({\n          reset: stubReset,\n          onDirty: stubOnDirty\n        })); // When the result of `getTargetSeries` changed, the overallTask\n        // should be set as dirty and re-performed.\n\n        overallTask.dirty();\n      }\n\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress,\n        modifyOutputEnd: modifyOutputEnd\n      };\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n      pipe(scheduler, seriesModel, stub);\n    } // Clear unused stubs.\n\n\n    var pipelineMap = scheduler._pipelineMap;\n    agentStubMap.each(function (stub, pipelineId) {\n      if (!pipelineMap.get(pipelineId)) {\n        stub.dispose(); // When the result of `getTargetSeries` changed, the overallTask\n        // should be set as dirty and re-performed.\n\n        overallTask.dirty();\n        agentStubMap.removeKey(pipelineId);\n      }\n    });\n  }\n\n  function overallTaskReset(context) {\n    context.overallReset(context.ecModel, context.api, context.payload);\n  }\n\n  function stubReset(context, upstreamContext) {\n    return context.overallProgress && stubProgress;\n  }\n\n  function stubProgress() {\n    this.agent.dirty();\n    this.getDownstream().dirty();\n  }\n\n  function stubOnDirty() {\n    this.agent && this.agent.dirty();\n  }\n\n  function seriesTaskPlan(context) {\n    return context.plan && context.plan(context.model, context.ecModel, context.api, context.payload);\n  }\n\n  function seriesTaskReset(context) {\n    if (context.useClearVisual) {\n      context.data.clearAllVisual();\n    }\n\n    var resetDefines = context.resetDefines = normalizeToArray$3(context.reset(context.model, context.ecModel, context.api, context.payload));\n    return resetDefines.length > 1 ? map$4(resetDefines, function (v, idx) {\n      return makeSeriesTaskProgress(idx);\n    }) : singleSeriesTaskProgress;\n  }\n\n  var singleSeriesTaskProgress = makeSeriesTaskProgress(0);\n\n  function makeSeriesTaskProgress(resetDefineIdx) {\n    return function (params, context) {\n      var data = context.data;\n      var resetDefine = context.resetDefines[resetDefineIdx];\n\n      if (resetDefine && resetDefine.dataEach) {\n        for (var i = params.start; i < params.end; i++) {\n          resetDefine.dataEach(data, i);\n        }\n      } else if (resetDefine && resetDefine.progress) {\n        resetDefine.progress(params, data);\n      }\n    };\n  }\n\n  function seriesTaskCount(context) {\n    return context.data.count();\n  }\n\n  function pipe(scheduler, seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n\n    var pipeline = scheduler._pipelineMap.get(pipelineId);\n\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  }\n\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction$4(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n\n    stageHandler.uid = getUID$1('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n  /**\n   * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n   * To ensure that they can work normally, they should work in block mode, that is,\n   * they should not be started util the previous tasks finished. So they cause the\n   * progressive rendering disabled. We try to detect the series type, to narrow down\n   * the block range to only the series type they concern, but not all series.\n   */\n\n\n  function detectSeriseType(legacyFunc) {\n    seriesType = null;\n\n    try {\n      // Assume there is no async when calling `eachSeriesByType`.\n      legacyFunc(ecModelMock, apiMock);\n    } catch (e) {}\n\n    return seriesType;\n  }\n\n  var ecModelMock = {};\n  var apiMock = {};\n  var seriesType;\n  mockMethods(ecModelMock, Global);\n  mockMethods(apiMock, ExtensionAPI_1);\n\n  ecModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n    seriesType = type;\n  };\n\n  ecModelMock.eachComponent = function (cond) {\n    if (cond.mainType === 'series' && cond.subType) {\n      seriesType = cond.subType;\n    }\n  };\n\n  function mockMethods(target, Clz) {\n    /* eslint-disable */\n    for (var name in Clz.prototype) {\n      // Do not use hasOwnProperty\n      target[name] = noop$2;\n    }\n    /* eslint-enable */\n\n  }\n\n  var _default$1c = Scheduler;\n  var Scheduler_1 = _default$1c;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\n  var _default$1d = {\n    color: colorAll,\n    colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n  };\n  var light = _default$1d;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var contrastColor = '#eee';\n\n  var axisCommon = function () {\n    return {\n      axisLine: {\n        lineStyle: {\n          color: contrastColor\n        }\n      },\n      axisTick: {\n        lineStyle: {\n          color: contrastColor\n        }\n      },\n      axisLabel: {\n        textStyle: {\n          color: contrastColor\n        }\n      },\n      splitLine: {\n        lineStyle: {\n          type: 'dashed',\n          color: '#aaa'\n        }\n      },\n      splitArea: {\n        areaStyle: {\n          color: contrastColor\n        }\n      }\n    };\n  };\n\n  var colorPalette$1 = ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78', '#73a373', '#73b9bc', '#7289ab', '#91ca8c', '#f49f42'];\n  var theme = {\n    color: colorPalette$1,\n    backgroundColor: '#333',\n    tooltip: {\n      axisPointer: {\n        lineStyle: {\n          color: contrastColor\n        },\n        crossStyle: {\n          color: contrastColor\n        },\n        label: {\n          color: '#000'\n        }\n      }\n    },\n    legend: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    textStyle: {\n      color: contrastColor\n    },\n    title: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    toolbox: {\n      iconStyle: {\n        normal: {\n          borderColor: contrastColor\n        }\n      }\n    },\n    dataZoom: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    visualMap: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    timeline: {\n      lineStyle: {\n        color: contrastColor\n      },\n      itemStyle: {\n        normal: {\n          color: colorPalette$1[1]\n        }\n      },\n      label: {\n        normal: {\n          textStyle: {\n            color: contrastColor\n          }\n        }\n      },\n      controlStyle: {\n        normal: {\n          color: contrastColor,\n          borderColor: contrastColor\n        }\n      }\n    },\n    timeAxis: axisCommon(),\n    logAxis: axisCommon(),\n    valueAxis: axisCommon(),\n    categoryAxis: axisCommon(),\n    line: {\n      symbol: 'circle'\n    },\n    graph: {\n      color: colorPalette$1\n    },\n    gauge: {\n      title: {\n        textStyle: {\n          color: contrastColor\n        }\n      }\n    },\n    candlestick: {\n      itemStyle: {\n        normal: {\n          color: '#FD1050',\n          color0: '#0CF49B',\n          borderColor: '#FD1050',\n          borderColor0: '#0CF49B'\n        }\n      }\n    }\n  };\n  theme.categoryAxis.splitLine.show = false;\n  var _default$1e = theme;\n  var dark = _default$1e;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var detectSourceFormat$1 = sourceHelper.detectSourceFormat;\n\n\n\n  var SERIES_LAYOUT_BY_COLUMN$2 = sourceType.SERIES_LAYOUT_BY_COLUMN;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * This module is imported by echarts directly.\n   *\n   * Notice:\n   * Always keep this file exists for backward compatibility.\n   * Because before 4.1.0, dataset is an optional component,\n   * some users may import this module manually.\n   */\n  Component.extend({\n    type: 'dataset',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n      // 'row', 'column'\n      seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN$2,\n      // null/'auto': auto detect header, see \"module:echarts/data/helper/sourceHelper\"\n      sourceHeader: null,\n      dimensions: null,\n      source: null\n    },\n    optionUpdated: function () {\n      detectSourceFormat$1(this);\n    }\n  });\n  Component_1.extend({\n    type: 'dataset'\n  });\n\n  /**\n   * \n   * @module zrender/graphic/shape/Ellipse\n   */\n  var _default$1f = Path_1.extend({\n    type: 'ellipse',\n    shape: {\n      cx: 0,\n      cy: 0,\n      rx: 0,\n      ry: 0\n    },\n    buildPath: function (ctx, shape) {\n      var k = 0.5522848;\n      var x = shape.cx;\n      var y = shape.cy;\n      var a = shape.rx;\n      var b = shape.ry;\n      var ox = a * k; // \n\n      var oy = b * k; // \n      // \n\n      ctx.moveTo(x - a, y);\n      ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n      ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n      ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n      ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n      ctx.closePath();\n    }\n  });\n\n  var Ellipse = _default$1f;\n\n  var createFromString$1 = path$2.createFromString;\n\n\n\n  var isString$6 = util.isString;\n  var extend$7 = util.extend;\n  var defaults$1 = util.defaults;\n  var trim$3 = util.trim;\n  var each$d = util.each;\n  // import RadialGradient from '../graphic/RadialGradient';\n  // import Pattern from '../graphic/Pattern';\n  // import * as vector from '../core/vector';\n  // Most of the values can be separated by comma and/or white space.\n  var DILIMITER_REG = /[\\s,]+/;\n  /**\n   * For big svg string, this method might be time consuming.\n   *\n   * @param {string} svg xml string\n   * @return {Object} xml root.\n   */\n\n  function parseXML(svg) {\n    if (isString$6(svg)) {\n      var parser = new DOMParser();\n      svg = parser.parseFromString(svg, 'text/xml');\n    } // Document node. If using $.get, doc node may be input.\n\n\n    if (svg.nodeType === 9) {\n      svg = svg.firstChild;\n    } // nodeName of <!DOCTYPE svg> is also 'svg'.\n\n\n    while (svg.nodeName.toLowerCase() !== 'svg' || svg.nodeType !== 1) {\n      svg = svg.nextSibling;\n    }\n\n    return svg;\n  }\n\n  function SVGParser() {\n    this._defs = {};\n    this._root = null;\n    this._isDefine = false;\n    this._isText = false;\n  }\n\n  SVGParser.prototype.parse = function (xml, opt) {\n    opt = opt || {};\n    var svg = parseXML(xml);\n\n    if (!svg) {\n      throw new Error('Illegal svg');\n    }\n\n    var root = new Group_1();\n    this._root = root; // parse view port\n\n    var viewBox = svg.getAttribute('viewBox') || ''; // If width/height not specified, means \"100%\" of `opt.width/height`.\n    // TODO: Other percent value not supported yet.\n\n    var width = parseFloat(svg.getAttribute('width') || opt.width);\n    var height = parseFloat(svg.getAttribute('height') || opt.height); // If width/height not specified, set as null for output.\n\n    isNaN(width) && (width = null);\n    isNaN(height) && (height = null); // Apply inline style on svg element.\n\n    parseAttributes(svg, root, null, true);\n    var child = svg.firstChild;\n\n    while (child) {\n      this._parseNode(child, root);\n\n      child = child.nextSibling;\n    }\n\n    var viewBoxRect;\n    var viewBoxTransform;\n\n    if (viewBox) {\n      var viewBoxArr = trim$3(viewBox).split(DILIMITER_REG); // Some invalid case like viewBox: 'none'.\n\n      if (viewBoxArr.length >= 4) {\n        viewBoxRect = {\n          x: parseFloat(viewBoxArr[0] || 0),\n          y: parseFloat(viewBoxArr[1] || 0),\n          width: parseFloat(viewBoxArr[2]),\n          height: parseFloat(viewBoxArr[3])\n        };\n      }\n    }\n\n    if (viewBoxRect && width != null && height != null) {\n      viewBoxTransform = makeViewBoxTransform(viewBoxRect, width, height);\n\n      if (!opt.ignoreViewBox) {\n        // If set transform on the output group, it probably bring trouble when\n        // some users only intend to show the clipped content inside the viewBox,\n        // but not intend to transform the output group. So we keep the output\n        // group no transform. If the user intend to use the viewBox as a\n        // camera, just set `opt.ignoreViewBox` as `true` and set transfrom\n        // manually according to the viewBox info in the output of this method.\n        var elRoot = root;\n        root = new Group_1();\n        root.add(elRoot);\n        elRoot.scale = viewBoxTransform.scale.slice();\n        elRoot.position = viewBoxTransform.position.slice();\n      }\n    } // Some shapes might be overflow the viewport, which should be\n    // clipped despite whether the viewBox is used, as the SVG does.\n\n\n    if (!opt.ignoreRootClip && width != null && height != null) {\n      root.setClipPath(new Rect({\n        shape: {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height\n        }\n      }));\n    } // Set width/height on group just for output the viewport size.\n\n\n    return {\n      root: root,\n      width: width,\n      height: height,\n      viewBoxRect: viewBoxRect,\n      viewBoxTransform: viewBoxTransform\n    };\n  };\n\n  SVGParser.prototype._parseNode = function (xmlNode, parentGroup) {\n    var nodeName = xmlNode.nodeName.toLowerCase(); // TODO\n    // support <style>...</style> in svg, where nodeName is 'style',\n    // CSS classes is defined globally wherever the style tags are declared.\n\n    if (nodeName === 'defs') {\n      // define flag\n      this._isDefine = true;\n    } else if (nodeName === 'text') {\n      this._isText = true;\n    }\n\n    var el;\n\n    if (this._isDefine) {\n      var parser = defineParsers[nodeName];\n\n      if (parser) {\n        var def = parser.call(this, xmlNode);\n        var id = xmlNode.getAttribute('id');\n\n        if (id) {\n          this._defs[id] = def;\n        }\n      }\n    } else {\n      var parser = nodeParsers[nodeName];\n\n      if (parser) {\n        el = parser.call(this, xmlNode, parentGroup);\n        parentGroup.add(el);\n      }\n    }\n\n    var child = xmlNode.firstChild;\n\n    while (child) {\n      if (child.nodeType === 1) {\n        this._parseNode(child, el);\n      } // Is text\n\n\n      if (child.nodeType === 3 && this._isText) {\n        this._parseText(child, el);\n      }\n\n      child = child.nextSibling;\n    } // Quit define\n\n\n    if (nodeName === 'defs') {\n      this._isDefine = false;\n    } else if (nodeName === 'text') {\n      this._isText = false;\n    }\n  };\n\n  SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n    if (xmlNode.nodeType === 1) {\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      this._textX += parseFloat(dx);\n      this._textY += parseFloat(dy);\n    }\n\n    var text = new Text_1({\n      style: {\n        text: xmlNode.textContent,\n        transformText: true\n      },\n      position: [this._textX || 0, this._textY || 0]\n    });\n    inheritStyle(parentGroup, text);\n    parseAttributes(xmlNode, text, this._defs);\n    var fontSize = text.style.fontSize;\n\n    if (fontSize && fontSize < 9) {\n      // PENDING\n      text.style.fontSize = 9;\n      text.scale = text.scale || [1, 1];\n      text.scale[0] *= fontSize / 9;\n      text.scale[1] *= fontSize / 9;\n    }\n\n    var rect = text.getBoundingRect();\n    this._textX += rect.width;\n    parentGroup.add(text);\n    return text;\n  };\n\n  var nodeParsers = {\n    'g': function (xmlNode, parentGroup) {\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      return g;\n    },\n    'rect': function (xmlNode, parentGroup) {\n      var rect = new Rect();\n      inheritStyle(parentGroup, rect);\n      parseAttributes(xmlNode, rect, this._defs);\n      rect.setShape({\n        x: parseFloat(xmlNode.getAttribute('x') || 0),\n        y: parseFloat(xmlNode.getAttribute('y') || 0),\n        width: parseFloat(xmlNode.getAttribute('width') || 0),\n        height: parseFloat(xmlNode.getAttribute('height') || 0)\n      }); // console.log(xmlNode.getAttribute('transform'));\n      // console.log(rect.transform);\n\n      return rect;\n    },\n    'circle': function (xmlNode, parentGroup) {\n      var circle = new Circle();\n      inheritStyle(parentGroup, circle);\n      parseAttributes(xmlNode, circle, this._defs);\n      circle.setShape({\n        cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n        cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n        r: parseFloat(xmlNode.getAttribute('r') || 0)\n      });\n      return circle;\n    },\n    'line': function (xmlNode, parentGroup) {\n      var line = new Line();\n      inheritStyle(parentGroup, line);\n      parseAttributes(xmlNode, line, this._defs);\n      line.setShape({\n        x1: parseFloat(xmlNode.getAttribute('x1') || 0),\n        y1: parseFloat(xmlNode.getAttribute('y1') || 0),\n        x2: parseFloat(xmlNode.getAttribute('x2') || 0),\n        y2: parseFloat(xmlNode.getAttribute('y2') || 0)\n      });\n      return line;\n    },\n    'ellipse': function (xmlNode, parentGroup) {\n      var ellipse = new Ellipse();\n      inheritStyle(parentGroup, ellipse);\n      parseAttributes(xmlNode, ellipse, this._defs);\n      ellipse.setShape({\n        cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n        cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n        rx: parseFloat(xmlNode.getAttribute('rx') || 0),\n        ry: parseFloat(xmlNode.getAttribute('ry') || 0)\n      });\n      return ellipse;\n    },\n    'polygon': function (xmlNode, parentGroup) {\n      var points = xmlNode.getAttribute('points');\n\n      if (points) {\n        points = parsePoints(points);\n      }\n\n      var polygon = new Polygon({\n        shape: {\n          points: points || []\n        }\n      });\n      inheritStyle(parentGroup, polygon);\n      parseAttributes(xmlNode, polygon, this._defs);\n      return polygon;\n    },\n    'polyline': function (xmlNode, parentGroup) {\n      var path = new Path_1();\n      inheritStyle(parentGroup, path);\n      parseAttributes(xmlNode, path, this._defs);\n      var points = xmlNode.getAttribute('points');\n\n      if (points) {\n        points = parsePoints(points);\n      }\n\n      var polyline = new Polyline({\n        shape: {\n          points: points || []\n        }\n      });\n      return polyline;\n    },\n    'image': function (xmlNode, parentGroup) {\n      var img = new Image$1();\n      inheritStyle(parentGroup, img);\n      parseAttributes(xmlNode, img, this._defs);\n      img.setStyle({\n        image: xmlNode.getAttribute('xlink:href'),\n        x: xmlNode.getAttribute('x'),\n        y: xmlNode.getAttribute('y'),\n        width: xmlNode.getAttribute('width'),\n        height: xmlNode.getAttribute('height')\n      });\n      return img;\n    },\n    'text': function (xmlNode, parentGroup) {\n      var x = xmlNode.getAttribute('x') || 0;\n      var y = xmlNode.getAttribute('y') || 0;\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      this._textX = parseFloat(x) + parseFloat(dx);\n      this._textY = parseFloat(y) + parseFloat(dy);\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      return g;\n    },\n    'tspan': function (xmlNode, parentGroup) {\n      var x = xmlNode.getAttribute('x');\n      var y = xmlNode.getAttribute('y');\n\n      if (x != null) {\n        // new offset x\n        this._textX = parseFloat(x);\n      }\n\n      if (y != null) {\n        // new offset y\n        this._textY = parseFloat(y);\n      }\n\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      this._textX += dx;\n      this._textY += dy;\n      return g;\n    },\n    'path': function (xmlNode, parentGroup) {\n      // TODO svg fill rule\n      // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule\n      // path.style.globalCompositeOperation = 'xor';\n      var d = xmlNode.getAttribute('d') || ''; // Performance sensitive.\n\n      var path = createFromString$1(d);\n      inheritStyle(parentGroup, path);\n      parseAttributes(xmlNode, path, this._defs);\n      return path;\n    }\n  };\n  var defineParsers = {\n    'lineargradient': function (xmlNode) {\n      var x1 = parseInt(xmlNode.getAttribute('x1') || 0, 10);\n      var y1 = parseInt(xmlNode.getAttribute('y1') || 0, 10);\n      var x2 = parseInt(xmlNode.getAttribute('x2') || 10, 10);\n      var y2 = parseInt(xmlNode.getAttribute('y2') || 0, 10);\n      var gradient = new LinearGradient_1(x1, y1, x2, y2);\n\n      _parseGradientColorStops(xmlNode, gradient);\n\n      return gradient;\n    },\n    'radialgradient': function (xmlNode) {}\n  };\n\n  function _parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n\n    while (stop) {\n      if (stop.nodeType === 1) {\n        var offset = stop.getAttribute('offset');\n\n        if (offset.indexOf('%') > 0) {\n          // percentage\n          offset = parseInt(offset, 10) / 100;\n        } else if (offset) {\n          // number from 0 to 1\n          offset = parseFloat(offset);\n        } else {\n          offset = 0;\n        }\n\n        var stopColor = stop.getAttribute('stop-color') || '#000000';\n        gradient.addColorStop(offset, stopColor);\n      }\n\n      stop = stop.nextSibling;\n    }\n  }\n\n  function inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n      if (!child.__inheritedStyle) {\n        child.__inheritedStyle = {};\n      }\n\n      defaults$1(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n  }\n\n  function parsePoints(pointsString) {\n    var list = trim$3(pointsString).split(DILIMITER_REG);\n    var points = [];\n\n    for (var i = 0; i < list.length; i += 2) {\n      var x = parseFloat(list[i]);\n      var y = parseFloat(list[i + 1]);\n      points.push([x, y]);\n    }\n\n    return points;\n  }\n\n  var attributesMap = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-align': 'textAlign',\n    'alignment-baseline': 'textBaseline'\n  };\n\n  function parseAttributes(xmlNode, el, defs, onlyInlineStyle) {\n    var zrStyle = el.__inheritedStyle || {};\n    var isTextEl = el.type === 'text'; // TODO Shadow\n\n    if (xmlNode.nodeType === 1) {\n      parseTransformAttribute(xmlNode, el);\n      extend$7(zrStyle, parseStyleAttribute(xmlNode));\n\n      if (!onlyInlineStyle) {\n        for (var svgAttrName in attributesMap) {\n          if (attributesMap.hasOwnProperty(svgAttrName)) {\n            var attrValue = xmlNode.getAttribute(svgAttrName);\n\n            if (attrValue != null) {\n              zrStyle[attributesMap[svgAttrName]] = attrValue;\n            }\n          }\n        }\n      }\n    }\n\n    var elFillProp = isTextEl ? 'textFill' : 'fill';\n    var elStrokeProp = isTextEl ? 'textStroke' : 'stroke';\n    el.style = el.style || new Style_1();\n    var elStyle = el.style;\n    zrStyle.fill != null && elStyle.set(elFillProp, getPaint(zrStyle.fill, defs));\n    zrStyle.stroke != null && elStyle.set(elStrokeProp, getPaint(zrStyle.stroke, defs));\n    each$d(['lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'], function (propName) {\n      var elPropName = propName === 'lineWidth' && isTextEl ? 'textStrokeWidth' : propName;\n      zrStyle[propName] != null && elStyle.set(elPropName, parseFloat(zrStyle[propName]));\n    });\n\n    if (!zrStyle.textBaseline || zrStyle.textBaseline === 'auto') {\n      zrStyle.textBaseline = 'alphabetic';\n    }\n\n    if (zrStyle.textBaseline === 'alphabetic') {\n      zrStyle.textBaseline = 'bottom';\n    }\n\n    if (zrStyle.textAlign === 'start') {\n      zrStyle.textAlign = 'left';\n    }\n\n    if (zrStyle.textAlign === 'end') {\n      zrStyle.textAlign = 'right';\n    }\n\n    each$d(['lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign', 'textBaseline'], function (propName) {\n      zrStyle[propName] != null && elStyle.set(propName, zrStyle[propName]);\n    });\n\n    if (zrStyle.lineDash) {\n      el.style.lineDash = trim$3(zrStyle.lineDash).split(DILIMITER_REG);\n    }\n\n    if (elStyle[elStrokeProp] && elStyle[elStrokeProp] !== 'none') {\n      // enable stroke\n      el[elStrokeProp] = true;\n    }\n\n    el.__inheritedStyle = zrStyle;\n  }\n\n  var urlRegex = /url\\(\\s*#(.*?)\\)/;\n\n  function getPaint(str, defs) {\n    // if (str === 'none') {\n    //     return;\n    // }\n    var urlMatch = defs && str && str.match(urlRegex);\n\n    if (urlMatch) {\n      var url = trim$3(urlMatch[1]);\n      var def = defs[url];\n      return def;\n    }\n\n    return str;\n  }\n\n  var transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g;\n\n  function parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n\n    if (transform) {\n      transform = transform.replace(/,/g, ' ');\n      var m = null;\n      var transformOps = [];\n      transform.replace(transformRegex, function (str, type, value) {\n        transformOps.push(type, value);\n      });\n\n      for (var i = transformOps.length - 1; i > 0; i -= 2) {\n        var value = transformOps[i];\n        var type = transformOps[i - 1];\n        m = m || matrix.create();\n\n        switch (type) {\n          case 'translate':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.translate(m, m, [parseFloat(value[0]), parseFloat(value[1] || 0)]);\n            break;\n\n          case 'scale':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.scale(m, m, [parseFloat(value[0]), parseFloat(value[1] || value[0])]);\n            break;\n\n          case 'rotate':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.rotate(m, m, parseFloat(value[0]));\n            break;\n\n          case 'skew':\n            value = trim$3(value).split(DILIMITER_REG);\n            console.warn('Skew transform is not supported yet');\n            break;\n\n          case 'matrix':\n            var value = trim$3(value).split(DILIMITER_REG);\n            m[0] = parseFloat(value[0]);\n            m[1] = parseFloat(value[1]);\n            m[2] = parseFloat(value[2]);\n            m[3] = parseFloat(value[3]);\n            m[4] = parseFloat(value[4]);\n            m[5] = parseFloat(value[5]);\n            break;\n        }\n      }\n\n      node.setLocalTransform(m);\n    }\n  } // Value may contain space.\n\n\n  var styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\n\n  function parseStyleAttribute(xmlNode) {\n    var style = xmlNode.getAttribute('style');\n    var result = {};\n\n    if (!style) {\n      return result;\n    }\n\n    var styleList = {};\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n      styleList[styleRegResult[1]] = styleRegResult[2];\n    }\n\n    for (var svgAttrName in attributesMap) {\n      if (attributesMap.hasOwnProperty(svgAttrName) && styleList[svgAttrName] != null) {\n        result[attributesMap[svgAttrName]] = styleList[svgAttrName];\n      }\n    }\n\n    return result;\n  }\n  /**\n   * @param {Array.<number>} viewBoxRect\n   * @param {number} width\n   * @param {number} height\n   * @return {Object} {scale, position}\n   */\n\n\n  function makeViewBoxTransform(viewBoxRect, width, height) {\n    var scaleX = width / viewBoxRect.width;\n    var scaleY = height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY); // preserveAspectRatio 'xMidYMid'\n\n    var viewBoxScale = [scale, scale];\n    var viewBoxPosition = [-(viewBoxRect.x + viewBoxRect.width / 2) * scale + width / 2, -(viewBoxRect.y + viewBoxRect.height / 2) * scale + height / 2];\n    return {\n      scale: viewBoxScale,\n      position: viewBoxPosition\n    };\n  }\n  /**\n   * @param {string|XMLElement} xml\n   * @param {Object} [opt]\n   * @param {number} [opt.width] Default width if svg width not specified or is a percent value.\n   * @param {number} [opt.height] Default height if svg height not specified or is a percent value.\n   * @param {boolean} [opt.ignoreViewBox]\n   * @param {boolean} [opt.ignoreRootClip]\n   * @return {Object} result:\n   * {\n   *     root: Group, The root of the the result tree of zrender shapes,\n   *     width: number, the viewport width of the SVG,\n   *     height: number, the viewport height of the SVG,\n   *     viewBoxRect: {x, y, width, height}, the declared viewBox rect of the SVG, if exists,\n   *     viewBoxTransform: the {scale, position} calculated by viewBox and viewport, is exists.\n   * }\n   */\n\n\n  function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n  }\n\n  var parseXML_1 = parseXML;\n  var makeViewBoxTransform_1 = makeViewBoxTransform;\n  var parseSVG_2 = parseSVG;\n\n  var parseSVG_1 = {\n  \tparseXML: parseXML_1,\n  \tmakeViewBoxTransform: makeViewBoxTransform_1,\n  \tparseSVG: parseSVG_2\n  };\n\n  var createHashMap$6 = util.createHashMap;\n  var isString$7 = util.isString;\n  var isArray$8 = util.isArray;\n  var each$e = util.each;\n\n\n\n  var parseXML$1 = parseSVG_1.parseXML;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var storage = createHashMap$6(); // For minimize the code size of common echarts package,\n  // do not put too much logic in this module.\n\n  var _default$1g = {\n    // The format of record: see `echarts.registerMap`.\n    // Compatible with previous `echarts.registerMap`.\n    registerMap: function (mapName, rawGeoJson, rawSpecialAreas) {\n      var records;\n\n      if (isArray$8(rawGeoJson)) {\n        records = rawGeoJson;\n      } else if (rawGeoJson.svg) {\n        records = [{\n          type: 'svg',\n          source: rawGeoJson.svg,\n          specialAreas: rawGeoJson.specialAreas\n        }];\n      } else {\n        // Backward compatibility.\n        if (rawGeoJson.geoJson && !rawGeoJson.features) {\n          rawSpecialAreas = rawGeoJson.specialAreas;\n          rawGeoJson = rawGeoJson.geoJson;\n        }\n\n        records = [{\n          type: 'geoJSON',\n          source: rawGeoJson,\n          specialAreas: rawSpecialAreas\n        }];\n      }\n\n      each$e(records, function (record) {\n        var type = record.type;\n        type === 'geoJson' && (type = record.type = 'geoJSON');\n        var parse = parsers[type];\n        parse(record);\n      });\n      return storage.set(mapName, records);\n    },\n    retrieveMap: function (mapName) {\n      return storage.get(mapName);\n    }\n  };\n  var parsers = {\n    geoJSON: function (record) {\n      var source = record.source;\n      record.geoJSON = !isString$7(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\n    },\n    // Only perform parse to XML object here, which might be time\n    // consiming for large SVG.\n    // Although convert XML to zrender element is also time consiming,\n    // if we do it here, the clone of zrender elements has to be\n    // required. So we do it once for each geo instance, util real\n    // performance issues call for optimizing it.\n    svg: function (record) {\n      record.svgXML = parseXML$1(record.source);\n    }\n  };\n  var mapDataStorage = _default$1g;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function defaultKeyGetter(item) {\n    return item;\n  }\n  /**\n   * @param {Array} oldArr\n   * @param {Array} newArr\n   * @param {Function} oldKeyGetter\n   * @param {Function} newKeyGetter\n   * @param {Object} [context] Can be visited by this.context in callback.\n   */\n\n\n  function DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context) {\n    this._old = oldArr;\n    this._new = newArr;\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n    this.context = context;\n  }\n\n  DataDiffer.prototype = {\n    constructor: DataDiffer,\n\n    /**\n     * Callback function when add a data\n     */\n    add: function (func) {\n      this._add = func;\n      return this;\n    },\n\n    /**\n     * Callback function when update a data\n     */\n    update: function (func) {\n      this._update = func;\n      return this;\n    },\n\n    /**\n     * Callback function when remove a data\n     */\n    remove: function (func) {\n      this._remove = func;\n      return this;\n    },\n    execute: function () {\n      var oldArr = this._old;\n      var newArr = this._new;\n      var oldDataIndexMap = {};\n      var newDataIndexMap = {};\n      var oldDataKeyArr = [];\n      var newDataKeyArr = [];\n      var i;\n      initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter', this);\n      initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter', this);\n\n      for (i = 0; i < oldArr.length; i++) {\n        var key = oldDataKeyArr[i];\n        var idx = newDataIndexMap[key]; // idx can never be empty array here. see 'set null' logic below.\n\n        if (idx != null) {\n          // Consider there is duplicate key (for example, use dataItem.name as key).\n          // We should make sure every item in newArr and oldArr can be visited.\n          var len = idx.length;\n\n          if (len) {\n            len === 1 && (newDataIndexMap[key] = null);\n            idx = idx.shift();\n          } else {\n            newDataIndexMap[key] = null;\n          }\n\n          this._update && this._update(idx, i);\n        } else {\n          this._remove && this._remove(i);\n        }\n      }\n\n      for (var i = 0; i < newDataKeyArr.length; i++) {\n        var key = newDataKeyArr[i];\n\n        if (newDataIndexMap.hasOwnProperty(key)) {\n          var idx = newDataIndexMap[key];\n\n          if (idx == null) {\n            continue;\n          } // idx can never be empty array here. see 'set null' logic above.\n\n\n          if (!idx.length) {\n            this._add && this._add(idx);\n          } else {\n            for (var j = 0, len = idx.length; j < len; j++) {\n              this._add && this._add(idx[j]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function initIndexMap(arr, map, keyArr, keyGetterName, dataDiffer) {\n    for (var i = 0; i < arr.length; i++) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var key = '_ec_' + dataDiffer[keyGetterName](arr[i], i);\n      var existence = map[key];\n\n      if (existence == null) {\n        keyArr.push(key);\n        map[key] = i;\n      } else {\n        if (!existence.length) {\n          map[key] = existence = [existence];\n        }\n\n        existence.push(i);\n      }\n    }\n  }\n\n  var _default$1h = DataDiffer;\n  var DataDiffer_1 = _default$1h;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$f = util.each;\n  var createHashMap$7 = util.createHashMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var OTHER_DIMENSIONS = createHashMap$7(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\n\n  function summarizeDimensions(data) {\n    var summary = {};\n    var encode = summary.encode = {};\n    var notExtraCoordDimMap = createHashMap$7();\n    var defaultedLabel = [];\n    var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n    var userOutput = summary.userOutput = {\n      dimensionNames: data.dimensions.slice(),\n      encode: {}\n    };\n    each$f(data.dimensions, function (dimName) {\n      var dimItem = data.getDimensionInfo(dimName);\n      var coordDim = dimItem.coordDim;\n\n      if (coordDim) {\n        var coordDimIndex = dimItem.coordDimIndex;\n        getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n        if (!dimItem.isExtraCoord) {\n          notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n          // because when dataset is used, it is hard to guess which dimension\n          // can be value dimension. If both show x, y on label is not look good,\n          // and conventionally y axis is focused more.\n\n          if (mayLabelDimType(dimItem.type)) {\n            defaultedLabel[0] = dimName;\n          } // User output encode do not contain generated coords.\n          // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n          getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n        }\n\n        if (dimItem.defaultTooltip) {\n          defaultedTooltip.push(dimName);\n        }\n      }\n\n      OTHER_DIMENSIONS.each(function (v, otherDim) {\n        var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n        var dimIndex = dimItem.otherDims[otherDim];\n\n        if (dimIndex != null && dimIndex !== false) {\n          encodeArr[dimIndex] = dimItem.name;\n        }\n      });\n    });\n    var dataDimsOnCoord = [];\n    var encodeFirstDimNotExtra = {};\n    notExtraCoordDimMap.each(function (v, coordDim) {\n      var dimArr = encode[coordDim]; // ??? FIXME extra coord should not be set in dataDimsOnCoord.\n      // But should fix the case that radar axes: simplify the logic\n      // of `completeDimension`, remove `extraPrefix`.\n\n      encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n      // dim canot on more than one coordDim.\n\n      dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n    });\n    summary.dataDimsOnCoord = dataDimsOnCoord;\n    summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n    var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n    // in this way. Use label.formatter instead. May be remove this approach someday.\n\n    if (encodeLabel && encodeLabel.length) {\n      defaultedLabel = encodeLabel.slice();\n    }\n\n    var encodeTooltip = encode.tooltip;\n\n    if (encodeTooltip && encodeTooltip.length) {\n      defaultedTooltip = encodeTooltip.slice();\n    } else if (!defaultedTooltip.length) {\n      defaultedTooltip = defaultedLabel.slice();\n    }\n\n    encode.defaultedLabel = defaultedLabel;\n    encode.defaultedTooltip = defaultedTooltip;\n    return summary;\n  }\n\n  function getOrCreateEncodeArr(encode, dim) {\n    if (!encode.hasOwnProperty(dim)) {\n      encode[dim] = [];\n    }\n\n    return encode[dim];\n  }\n\n  function getDimensionTypeByAxis(axisType) {\n    return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n  }\n\n  function mayLabelDimType(dimType) {\n    // In most cases, ordinal and time do not suitable for label.\n    // Ordinal info can be displayed on axis. Time is too long.\n    return !(dimType === 'ordinal' || dimType === 'time');\n  } // function findTheLastDimMayLabel(data) {\n  //     // Get last value dim\n  //     var dimensions = data.dimensions.slice();\n  //     var valueType;\n  //     var valueDim;\n  //     while (dimensions.length && (\n  //         valueDim = dimensions.pop(),\n  //         valueType = data.getDimensionInfo(valueDim).type,\n  //         valueType === 'ordinal' || valueType === 'time'\n  //     )) {} // jshint ignore:line\n  //     return valueDim;\n  // }\n\n\n  var OTHER_DIMENSIONS_1 = OTHER_DIMENSIONS;\n  var summarizeDimensions_1 = summarizeDimensions;\n  var getDimensionTypeByAxis_1 = getDimensionTypeByAxis;\n\n  var dimensionHelper = {\n  \tOTHER_DIMENSIONS: OTHER_DIMENSIONS_1,\n  \tsummarizeDimensions: summarizeDimensions_1,\n  \tgetDimensionTypeByAxis: getDimensionTypeByAxis_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @class\n   * @param {Object|DataDimensionInfo} [opt] All of the fields will be shallow copied.\n   */\n  function DataDimensionInfo(opt) {\n    if (opt != null) {\n      util.extend(this, opt);\n    }\n    /**\n     * Dimension name.\n     * Mandatory.\n     * @type {string}\n     */\n    // this.name;\n\n    /**\n     * The origin name in dimsDef, see source helper.\n     * If displayName given, the tooltip will displayed vertically.\n     * Optional.\n     * @type {string}\n     */\n    // this.displayName;\n\n    /**\n     * Which coordSys dimension this dimension mapped to.\n     * A `coordDim` can be a \"coordSysDim\" that the coordSys required\n     * (for example, an item in `coordSysDims` of `model/referHelper#CoordSysInfo`),\n     * or an generated \"extra coord name\" if does not mapped to any \"coordSysDim\"\n     * (That is determined by whether `isExtraCoord` is `true`).\n     * Mandatory.\n     * @type {string}\n     */\n    // this.coordDim;\n\n    /**\n     * The index of this dimension in `series.encode[coordDim]`.\n     * Mandatory.\n     * @type {number}\n     */\n    // this.coordDimIndex;\n\n    /**\n     * Dimension type. The enumerable values are the key of\n     * `dataCtors` of `data/List`.\n     * Optional.\n     * @type {string}\n     */\n    // this.type;\n\n    /**\n     * This index of this dimension info in `data/List#_dimensionInfos`.\n     * Mandatory after added to `data/List`.\n     * @type {number}\n     */\n    // this.index;\n\n    /**\n     * The format of `otherDims` is:\n     * ```js\n     * {\n     *     tooltip: number optional,\n     *     label: number optional,\n     *     itemName: number optional,\n     *     seriesName: number optional,\n     * }\n     * ```\n     *\n     * A `series.encode` can specified these fields:\n     * ```js\n     * encode: {\n     *     // \"3, 1, 5\" is the index of data dimension.\n     *     tooltip: [3, 1, 5],\n     *     label: [0, 3],\n     *     ...\n     * }\n     * ```\n     * `otherDims` is the parse result of the `series.encode` above, like:\n     * ```js\n     * // Suppose the index of this data dimension is `3`.\n     * this.otherDims = {\n     *     // `3` is at the index `0` of the `encode.tooltip`\n     *     tooltip: 0,\n     *     // `3` is at the index `1` of the `encode.tooltip`\n     *     label: 1\n     * };\n     * ```\n     *\n     * This prop should never be `null`/`undefined` after initialized.\n     * @type {Object}\n     */\n\n\n    this.otherDims = {};\n    /**\n     * Be `true` if this dimension is not mapped to any \"coordSysDim\" that the\n     * \"coordSys\" required.\n     * Mandatory.\n     * @type {boolean}\n     */\n    // this.isExtraCoord;\n\n    /**\n     * @type {module:data/OrdinalMeta}\n     */\n    // this.ordinalMeta;\n\n    /**\n     * Whether to create inverted indices.\n     * @type {boolean}\n     */\n    // this.createInvertedIndices;\n  }\n  var _default$1i = DataDimensionInfo;\n  var DataDimensionInfo_1 = _default$1i;\n\n  var defaultDimValueGetters$1 = dataProvider.defaultDimValueGetters;\n  var DefaultDataProvider$1 = dataProvider.DefaultDataProvider;\n\n\n\n  var summarizeDimensions$1 = dimensionHelper.summarizeDimensions;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float64Array, Int32Array, Uint32Array, Uint16Array */\n\n  /**\n   * List for data storage\n   * @module echarts/data/List\n   */\n  var isObject$b = util.isObject;\n  var UNDEFINED = 'undefined';\n  var INDEX_NOT_FOUND = -1; // Use prefix to avoid index to be the same as otherIdList[idx],\n  // which will cause weird udpate animation.\n\n  var ID_PREFIX = 'e\\0\\0';\n  var dataCtors = {\n    'float': typeof Float64Array === UNDEFINED ? Array : Float64Array,\n    'int': typeof Int32Array === UNDEFINED ? Array : Int32Array,\n    // Ordinal data type can be string or int\n    'ordinal': Array,\n    'number': Array,\n    'time': Array\n  }; // Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\n  // different from the Ctor of typed array.\n\n  var CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\n  var CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\n  var CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\n\n  function getIndicesCtor(list) {\n    // The possible max value in this._indicies is always this._rawCount despite of filtering.\n    return list._rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\n  }\n\n  function cloneChunk(originalChunk) {\n    var Ctor = originalChunk.constructor; // Only shallow clone is enough when Array.\n\n    return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\n  }\n\n  var TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_rawData', '_chunkSize', '_chunkCount', '_dimValueGetter', '_count', '_rawCount', '_nameDimIdx', '_idDimIdx'];\n  var CLONE_PROPERTIES = ['_extent', '_approximateExtent', '_rawExtent'];\n\n  function transferProperties(target, source) {\n    util.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n      if (source.hasOwnProperty(propName)) {\n        target[propName] = source[propName];\n      }\n    });\n    target.__wrappedMethods = source.__wrappedMethods;\n    util.each(CLONE_PROPERTIES, function (propName) {\n      target[propName] = util.clone(source[propName]);\n    });\n    target._calculationInfo = util.extend(source._calculationInfo);\n  }\n  /**\n   * @constructor\n   * @alias module:echarts/data/List\n   *\n   * @param {Array.<string|Object|module:data/DataDimensionInfo>} dimensions\n   *      For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n   *      Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n   * @param {module:echarts/model/Model} hostModel\n   */\n\n\n  var List = function (dimensions, hostModel) {\n    dimensions = dimensions || ['x', 'y'];\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    var invertedIndicesMap = {};\n\n    for (var i = 0; i < dimensions.length; i++) {\n      // Use the original dimensions[i], where other flag props may exists.\n      var dimensionInfo = dimensions[i];\n\n      if (util.isString(dimensionInfo)) {\n        dimensionInfo = new DataDimensionInfo_1({\n          name: dimensionInfo\n        });\n      } else if (!(dimensionInfo instanceof DataDimensionInfo_1)) {\n        dimensionInfo = new DataDimensionInfo_1(dimensionInfo);\n      }\n\n      var dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'float';\n\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n\n      dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n      dimensionNames.push(dimensionName);\n      dimensionInfos[dimensionName] = dimensionInfo;\n      dimensionInfo.index = i;\n\n      if (dimensionInfo.createInvertedIndices) {\n        invertedIndicesMap[dimensionName] = [];\n      }\n    }\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n\n\n    this.dimensions = dimensionNames;\n    /**\n     * Infomation of each data dimension, like data type.\n     * @type {Object}\n     */\n\n    this._dimensionInfos = dimensionInfos;\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.hostModel = hostModel;\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.dataType;\n    /**\n     * Indices stores the indices of data subset after filtered.\n     * This data subset will be used in chart.\n     * @type {Array.<number>}\n     * @readOnly\n     */\n\n    this._indices = null;\n    this._count = 0;\n    this._rawCount = 0;\n    /**\n     * Data storage\n     * @type {Object.<key, Array.<TypedArray|Array>>}\n     * @private\n     */\n\n    this._storage = {};\n    /**\n     * @type {Array.<string>}\n     */\n\n    this._nameList = [];\n    /**\n     * @type {Array.<string>}\n     */\n\n    this._idList = [];\n    /**\n     * Models of data option is stored sparse for optimizing memory cost\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._optionModels = [];\n    /**\n     * Global visual properties after visual coding\n     * @type {Object}\n     * @private\n     */\n\n    this._visual = {};\n    /**\n     * Globel layout properties.\n     * @type {Object}\n     * @private\n     */\n\n    this._layout = {};\n    /**\n     * Item visual properties after visual coding\n     * @type {Array.<Object>}\n     * @private\n     */\n\n    this._itemVisuals = [];\n    /**\n     * Key: visual type, Value: boolean\n     * @type {Object}\n     * @readOnly\n     */\n\n    this.hasItemVisual = {};\n    /**\n     * Item layout properties after layout\n     * @type {Array.<Object>}\n     * @private\n     */\n\n    this._itemLayouts = [];\n    /**\n     * Graphic elemnents\n     * @type {Array.<module:zrender/Element>}\n     * @private\n     */\n\n    this._graphicEls = [];\n    /**\n     * Max size of each chunk.\n     * @type {number}\n     * @private\n     */\n\n    this._chunkSize = 1e5;\n    /**\n     * @type {number}\n     * @private\n     */\n\n    this._chunkCount = 0;\n    /**\n     * @type {Array.<Array|Object>}\n     * @private\n     */\n\n    this._rawData;\n    /**\n     * Raw extent will not be cloned, but only transfered.\n     * It will not be calculated util needed.\n     * key: dim,\n     * value: {end: number, extent: Array.<number>}\n     * @type {Object}\n     * @private\n     */\n\n    this._rawExtent = {};\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._extent = {};\n    /**\n     * key: dim\n     * value: extent\n     * @type {Object}\n     * @private\n     */\n\n    this._approximateExtent = {};\n    /**\n     * Cache summary info for fast visit. See \"dimensionHelper\".\n     * @type {Object}\n     * @private\n     */\n\n    this._dimensionsSummary = summarizeDimensions$1(this);\n    /**\n     * @type {Object.<Array|TypedArray>}\n     * @private\n     */\n\n    this._invertedIndicesMap = invertedIndicesMap;\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._calculationInfo = {};\n    /**\n     * User output info of this data.\n     * DO NOT use it in other places!\n     *\n     * When preparing user params for user callbacks, we have\n     * to clone these inner data structures to prevent users\n     * from modifying them to effect built-in logic. And for\n     * performance consideration we make this `userOutput` to\n     * avoid clone them too many times.\n     *\n     * @type {Object}\n     * @readOnly\n     */\n\n    this.userOutput = this._dimensionsSummary.userOutput;\n  };\n\n  var listProto = List.prototype;\n  listProto.type = 'list';\n  /**\n   * If each data item has it's own option\n   * @type {boolean}\n   */\n\n  listProto.hasItemOption = true;\n  /**\n   * The meanings of the input parameter `dim`:\n   *\n   * + If dim is a number (e.g., `1`), it means the index of the dimension.\n   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n   * + If dim is a number-like string (e.g., `\"1\"`):\n   *     + If there is the same concrete dim name defined in `this.dimensions`, it means that concrete name.\n   *     + If not, it will be converted to a number, which means the index of the dimension.\n   *        (why? because of the backward compatbility. We have been tolerating number-like string in\n   *        dimension setting, although now it seems that it is not a good idea.)\n   *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n   *     if no dimension name is defined as `\"1\"`.\n   * + If dim is a not-number-like string, it means the concrete dim name.\n   *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n   *   or customized in `dimensions` property of option like `\"age\"`.\n   *\n   * Get dimension name\n   * @param {string|number} dim See above.\n   * @return {string} Concrete dim name.\n   */\n\n  listProto.getDimension = function (dim) {\n    if (typeof dim === 'number' // If being a number-like string but not being defined a dimension name.\n    || !isNaN(dim) && !this._dimensionInfos.hasOwnProperty(dim)) {\n      dim = this.dimensions[dim];\n    }\n\n    return dim;\n  };\n  /**\n   * Get type and calculation info of particular dimension\n   * @param {string|number} dim\n   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n   */\n\n\n  listProto.getDimensionInfo = function (dim) {\n    // Do not clone, because there may be categories in dimInfo.\n    return this._dimensionInfos[this.getDimension(dim)];\n  };\n  /**\n   * @return {Array.<string>} concrete dimension name list on coord.\n   */\n\n\n  listProto.getDimensionsOnCoord = function () {\n    return this._dimensionsSummary.dataDimsOnCoord.slice();\n  };\n  /**\n   * @param {string} coordDim\n   * @param {number} [idx] A coordDim may map to more than one data dim.\n   *        If idx is `true`, return a array of all mapped dims.\n   *        If idx is not specified, return the first dim not extra.\n   * @return {string|Array.<string>} concrete data dim.\n   *        If idx is number, and not found, return null/undefined.\n   *        If idx is `true`, and not found, return empty array (always return array).\n   */\n\n\n  listProto.mapDimension = function (coordDim, idx) {\n    var dimensionsSummary = this._dimensionsSummary;\n\n    if (idx == null) {\n      return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n    }\n\n    var dims = dimensionsSummary.encode[coordDim];\n    return idx === true // always return array if idx is `true`\n    ? (dims || []).slice() : dims && dims[idx];\n  };\n  /**\n   * Initialize from data\n   * @param {Array.<Object|number|Array>} data source or data or data provider.\n   * @param {Array.<string>} [nameLIst] The name of a datum is used on data diff and\n   *        default label/tooltip.\n   *        A name can be specified in encode.itemName,\n   *        or dataItem.name (only for series option data),\n   *        or provided in nameList from outside.\n   * @param {Function} [dimValueGetter] (dataItem, dimName, dataIndex, dimIndex) => number\n   */\n\n\n  listProto.initData = function (data, nameList, dimValueGetter) {\n    var notProvider = Source_1.isInstance(data) || util.isArrayLike(data);\n\n    if (notProvider) {\n      data = new DefaultDataProvider$1(data, this.dimensions.length);\n    }\n\n    this._rawData = data; // Clear\n\n    this._storage = {};\n    this._indices = null;\n    this._nameList = nameList || [];\n    this._idList = [];\n    this._nameRepeatCount = {};\n\n    if (!dimValueGetter) {\n      this.hasItemOption = false;\n    }\n    /**\n     * @readOnly\n     */\n\n\n    this.defaultDimValueGetter = defaultDimValueGetters$1[this._rawData.getSource().sourceFormat]; // Default dim value getter\n\n    this._dimValueGetter = dimValueGetter = dimValueGetter || this.defaultDimValueGetter;\n    this._dimValueGetterArrayRows = defaultDimValueGetters$1.arrayRows; // Reset raw extent.\n\n    this._rawExtent = {};\n\n    this._initDataFromProvider(0, data.count()); // If data has no item option.\n\n\n    if (data.pure) {\n      this.hasItemOption = false;\n    }\n  };\n\n  listProto.getProvider = function () {\n    return this._rawData;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n\n\n  listProto.appendData = function (data) {\n    var rawData = this._rawData;\n    var start = this.count();\n    rawData.appendData(data);\n    var end = rawData.count();\n\n    if (!rawData.persistent) {\n      end += start;\n    }\n\n    this._initDataFromProvider(start, end);\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   * This method does not modify `rawData` (`dataProvider`), but only\n   * add values to storage.\n   *\n   * The final count will be increased by `Math.max(values.length, names.length)`.\n   *\n   * @param {Array.<Array.<*>>} values That is the SourceType: 'arrayRows', like\n   *        [\n   *            [12, 33, 44],\n   *            [NaN, 43, 1],\n   *            ['-', 'asdf', 0]\n   *        ]\n   *        Each item is exaclty cooresponding to a dimension.\n   * @param {Array.<string>} [names]\n   */\n\n\n  listProto.appendValues = function (values, names) {\n    var chunkSize = this._chunkSize;\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var start = this.count();\n    var end = start + Math.max(values.length, names ? names.length : 0);\n    var originalChunkCount = this._chunkCount;\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      if (!storage[dim]) {\n        storage[dim] = [];\n      }\n\n      prepareChunks(storage, this._dimensionInfos[dim], chunkSize, originalChunkCount, end);\n      this._chunkCount = storage[dim].length;\n    }\n\n    var emptyDataItem = new Array(dimLen);\n\n    for (var idx = start; idx < end; idx++) {\n      var sourceIdx = idx - start;\n      var chunkIndex = Math.floor(idx / chunkSize);\n      var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n      for (var k = 0; k < dimLen; k++) {\n        var dim = dimensions[k];\n\n        var val = this._dimValueGetterArrayRows(values[sourceIdx] || emptyDataItem, dim, sourceIdx, k);\n\n        storage[dim][chunkIndex][chunkOffset] = val;\n        var dimRawExtent = rawExtent[dim];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      }\n\n      if (names) {\n        this._nameList[idx] = names[sourceIdx];\n      }\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  listProto._initDataFromProvider = function (start, end) {\n    // Optimize.\n    if (start >= end) {\n      return;\n    }\n\n    var chunkSize = this._chunkSize;\n    var rawData = this._rawData;\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var dimensionInfoMap = this._dimensionInfos;\n    var nameList = this._nameList;\n    var idList = this._idList;\n    var rawExtent = this._rawExtent;\n    var nameRepeatCount = this._nameRepeatCount = {};\n    var nameDimIdx;\n    var originalChunkCount = this._chunkCount;\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      var dimInfo = dimensionInfoMap[dim];\n\n      if (dimInfo.otherDims.itemName === 0) {\n        nameDimIdx = this._nameDimIdx = i;\n      }\n\n      if (dimInfo.otherDims.itemId === 0) {\n        this._idDimIdx = i;\n      }\n\n      if (!storage[dim]) {\n        storage[dim] = [];\n      }\n\n      prepareChunks(storage, dimInfo, chunkSize, originalChunkCount, end);\n      this._chunkCount = storage[dim].length;\n    }\n\n    var dataItem = new Array(dimLen);\n\n    for (var idx = start; idx < end; idx++) {\n      // NOTICE: Try not to write things into dataItem\n      dataItem = rawData.getItem(idx, dataItem); // Each data item is value\n      // [1, 2]\n      // 2\n      // Bar chart, line chart which uses category axis\n      // only gives the 'y' value. 'x' value is the indices of category\n      // Use a tempValue to normalize the value to be a (x, y) value\n\n      var chunkIndex = Math.floor(idx / chunkSize);\n      var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n      for (var k = 0; k < dimLen; k++) {\n        var dim = dimensions[k];\n        var dimStorage = storage[dim][chunkIndex]; // PENDING NULL is empty or zero\n\n        var val = this._dimValueGetter(dataItem, dim, idx, k);\n\n        dimStorage[chunkOffset] = val;\n        var dimRawExtent = rawExtent[dim];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      } // ??? FIXME not check by pure but sourceFormat?\n      // TODO refactor these logic.\n\n\n      if (!rawData.pure) {\n        var name = nameList[idx];\n\n        if (dataItem && name == null) {\n          // If dataItem is {name: ...}, it has highest priority.\n          // That is appropriate for many common cases.\n          if (dataItem.name != null) {\n            // There is no other place to persistent dataItem.name,\n            // so save it to nameList.\n            nameList[idx] = name = dataItem.name;\n          } else if (nameDimIdx != null) {\n            var nameDim = dimensions[nameDimIdx];\n            var nameDimChunk = storage[nameDim][chunkIndex];\n\n            if (nameDimChunk) {\n              name = nameDimChunk[chunkOffset];\n              var ordinalMeta = dimensionInfoMap[nameDim].ordinalMeta;\n\n              if (ordinalMeta && ordinalMeta.categories.length) {\n                name = ordinalMeta.categories[name];\n              }\n            }\n          }\n        } // Try using the id in option\n        // id or name is used on dynamical data, mapping old and new items.\n\n\n        var id = dataItem == null ? null : dataItem.id;\n\n        if (id == null && name != null) {\n          // Use name as id and add counter to avoid same name\n          nameRepeatCount[name] = nameRepeatCount[name] || 0;\n          id = name;\n\n          if (nameRepeatCount[name] > 0) {\n            id += '__ec__' + nameRepeatCount[name];\n          }\n\n          nameRepeatCount[name]++;\n        }\n\n        id != null && (idList[idx] = id);\n      }\n    }\n\n    if (!rawData.persistent && rawData.clean) {\n      // Clean unused data if data source is typed array.\n      rawData.clean();\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  function prepareChunks(storage, dimInfo, chunkSize, chunkCount, end) {\n    var DataCtor = dataCtors[dimInfo.type];\n    var lastChunkIndex = chunkCount - 1;\n    var dim = dimInfo.name;\n    var resizeChunkArray = storage[dim][lastChunkIndex];\n\n    if (resizeChunkArray && resizeChunkArray.length < chunkSize) {\n      var newStore = new DataCtor(Math.min(end - lastChunkIndex * chunkSize, chunkSize)); // The cost of the copy is probably inconsiderable\n      // within the initial chunkSize.\n\n      for (var j = 0; j < resizeChunkArray.length; j++) {\n        newStore[j] = resizeChunkArray[j];\n      }\n\n      storage[dim][lastChunkIndex] = newStore;\n    } // Create new chunks.\n\n\n    for (var k = chunkCount * chunkSize; k < end; k += chunkSize) {\n      storage[dim].push(new DataCtor(Math.min(end - k, chunkSize)));\n    }\n  }\n\n  function prepareInvertedIndex(list) {\n    var invertedIndicesMap = list._invertedIndicesMap;\n    util.each(invertedIndicesMap, function (invertedIndices, dim) {\n      var dimInfo = list._dimensionInfos[dim]; // Currently, only dimensions that has ordinalMeta can create inverted indices.\n\n      var ordinalMeta = dimInfo.ordinalMeta;\n\n      if (ordinalMeta) {\n        invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length); // The default value of TypedArray is 0. To avoid miss\n        // mapping to 0, we should set it as INDEX_NOT_FOUND.\n\n        for (var i = 0; i < invertedIndices.length; i++) {\n          invertedIndices[i] = INDEX_NOT_FOUND;\n        }\n\n        for (var i = 0; i < list._count; i++) {\n          // Only support the case that all values are distinct.\n          invertedIndices[list.get(dim, i)] = i;\n        }\n      }\n    });\n  }\n\n  function getRawValueFromStore(list, dimIndex, rawIndex) {\n    var val;\n\n    if (dimIndex != null) {\n      var chunkSize = list._chunkSize;\n      var chunkIndex = Math.floor(rawIndex / chunkSize);\n      var chunkOffset = rawIndex % chunkSize;\n      var dim = list.dimensions[dimIndex];\n      var chunk = list._storage[dim][chunkIndex];\n\n      if (chunk) {\n        val = chunk[chunkOffset];\n        var ordinalMeta = list._dimensionInfos[dim].ordinalMeta;\n\n        if (ordinalMeta && ordinalMeta.categories.length) {\n          val = ordinalMeta.categories[val];\n        }\n      }\n    }\n\n    return val;\n  }\n  /**\n   * @return {number}\n   */\n\n\n  listProto.count = function () {\n    return this._count;\n  };\n\n  listProto.getIndices = function () {\n    var newIndices;\n    var indices = this._indices;\n\n    if (indices) {\n      var Ctor = indices.constructor;\n      var thisCount = this._count; // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\n\n      if (Ctor === Array) {\n        newIndices = new Ctor(thisCount);\n\n        for (var i = 0; i < thisCount; i++) {\n          newIndices[i] = indices[i];\n        }\n      } else {\n        newIndices = new Ctor(indices.buffer, 0, thisCount);\n      }\n    } else {\n      var Ctor = getIndicesCtor(this);\n      var newIndices = new Ctor(this.count());\n\n      for (var i = 0; i < newIndices.length; i++) {\n        newIndices[i] = i;\n      }\n    }\n\n    return newIndices;\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   * @param {string} dim Dim must be concrete name.\n   * @param {number} idx\n   * @param {boolean} stack\n   * @return {number}\n   */\n\n\n  listProto.get = function (dim, idx\n  /*, stack */\n  ) {\n    if (!(idx >= 0 && idx < this._count)) {\n      return NaN;\n    }\n\n    var storage = this._storage;\n\n    if (!storage[dim]) {\n      // TODO Warn ?\n      return NaN;\n    }\n\n    idx = this.getRawIndex(idx);\n    var chunkIndex = Math.floor(idx / this._chunkSize);\n    var chunkOffset = idx % this._chunkSize;\n    var chunkStore = storage[dim][chunkIndex];\n    var value = chunkStore[chunkOffset]; // FIXME ordinal data type is not stackable\n    // if (stack) {\n    //     var dimensionInfo = this._dimensionInfos[dim];\n    //     if (dimensionInfo && dimensionInfo.stackable) {\n    //         var stackedOn = this.stackedOn;\n    //         while (stackedOn) {\n    //             // Get no stacked data of stacked on\n    //             var stackedValue = stackedOn.get(dim, idx);\n    //             // Considering positive stack, negative stack and empty data\n    //             if ((value >= 0 && stackedValue > 0)  // Positive stack\n    //                 || (value <= 0 && stackedValue < 0) // Negative stack\n    //             ) {\n    //                 value += stackedValue;\n    //             }\n    //             stackedOn = stackedOn.stackedOn;\n    //         }\n    //     }\n    // }\n\n    return value;\n  };\n  /**\n   * @param {string} dim concrete dim\n   * @param {number} rawIndex\n   * @return {number|string}\n   */\n\n\n  listProto.getByRawIndex = function (dim, rawIdx) {\n    if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\n      return NaN;\n    }\n\n    var dimStore = this._storage[dim];\n\n    if (!dimStore) {\n      // TODO Warn ?\n      return NaN;\n    }\n\n    var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n    var chunkOffset = rawIdx % this._chunkSize;\n    var chunkStore = dimStore[chunkIndex];\n    return chunkStore[chunkOffset];\n  };\n  /**\n   * FIXME Use `get` on chrome maybe slow(in filterSelf and selectRange).\n   * Hack a much simpler _getFast\n   * @private\n   */\n\n\n  listProto._getFast = function (dim, rawIdx) {\n    var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n    var chunkOffset = rawIdx % this._chunkSize;\n    var chunkStore = this._storage[dim][chunkIndex];\n    return chunkStore[chunkOffset];\n  };\n  /**\n   * Get value for multi dimensions.\n   * @param {Array.<string>} [dimensions] If ignored, using all dimensions.\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getValues = function (dimensions, idx\n  /*, stack */\n  ) {\n    var values = [];\n\n    if (!util.isArray(dimensions)) {\n      // stack = idx;\n      idx = dimensions;\n      dimensions = this.dimensions;\n    }\n\n    for (var i = 0, len = dimensions.length; i < len; i++) {\n      values.push(this.get(dimensions[i], idx\n      /*, stack */\n      ));\n    }\n\n    return values;\n  };\n  /**\n   * If value is NaN. Inlcuding '-'\n   * Only check the coord dimensions.\n   * @param {string} dim\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.hasValue = function (idx) {\n    var dataDimsOnCoord = this._dimensionsSummary.dataDimsOnCoord;\n\n    for (var i = 0, len = dataDimsOnCoord.length; i < len; i++) {\n      // Ordinal type originally can be string or number.\n      // But when an ordinal type is used on coord, it can\n      // not be string but only number. So we can also use isNaN.\n      if (isNaN(this.get(dataDimsOnCoord[i], idx))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Get extent of data in one dimension\n   * @param {string} dim\n   * @param {boolean} stack\n   */\n\n\n  listProto.getDataExtent = function (dim\n  /*, stack */\n  ) {\n    // Make sure use concrete dim as cache name.\n    dim = this.getDimension(dim);\n    var dimData = this._storage[dim];\n    var initialExtent = getInitialExtent(); // stack = !!((stack || false) && this.getCalculationInfo(dim));\n\n    if (!dimData) {\n      return initialExtent;\n    } // Make more strict checkings to ensure hitting cache.\n\n\n    var currEnd = this.count(); // var cacheName = [dim, !!stack].join('_');\n    // var cacheName = dim;\n    // Consider the most cases when using data zoom, `getDataExtent`\n    // happened before filtering. We cache raw extent, which is not\n    // necessary to be cleared and recalculated when restore data.\n\n    var useRaw = !this._indices; // && !stack;\n\n    var dimExtent;\n\n    if (useRaw) {\n      return this._rawExtent[dim].slice();\n    }\n\n    dimExtent = this._extent[dim];\n\n    if (dimExtent) {\n      return dimExtent.slice();\n    }\n\n    dimExtent = initialExtent;\n    var min = dimExtent[0];\n    var max = dimExtent[1];\n\n    for (var i = 0; i < currEnd; i++) {\n      // var value = stack ? this.get(dim, i, true) : this._getFast(dim, this.getRawIndex(i));\n      var value = this._getFast(dim, this.getRawIndex(i));\n\n      value < min && (min = value);\n      value > max && (max = value);\n    }\n\n    dimExtent = [min, max];\n    this._extent[dim] = dimExtent;\n    return dimExtent;\n  };\n  /**\n   * Optimize for the scenario that data is filtered by a given extent.\n   * Consider that if data amount is more than hundreds of thousand,\n   * extent calculation will cost more than 10ms and the cache will\n   * be erased because of the filtering.\n   */\n\n\n  listProto.getApproximateExtent = function (dim\n  /*, stack */\n  ) {\n    dim = this.getDimension(dim);\n    return this._approximateExtent[dim] || this.getDataExtent(dim\n    /*, stack */\n    );\n  };\n\n  listProto.setApproximateExtent = function (extent, dim\n  /*, stack */\n  ) {\n    dim = this.getDimension(dim);\n    this._approximateExtent[dim] = extent.slice();\n  };\n  /**\n   * @param {string} key\n   * @return {*}\n   */\n\n\n  listProto.getCalculationInfo = function (key) {\n    return this._calculationInfo[key];\n  };\n  /**\n   * @param {string|Object} key or k-v object\n   * @param {*} [value]\n   */\n\n\n  listProto.setCalculationInfo = function (key, value) {\n    isObject$b(key) ? util.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n  };\n  /**\n   * Get sum of data in one dimension\n   * @param {string} dim\n   */\n\n\n  listProto.getSum = function (dim\n  /*, stack */\n  ) {\n    var dimData = this._storage[dim];\n    var sum = 0;\n\n    if (dimData) {\n      for (var i = 0, len = this.count(); i < len; i++) {\n        var value = this.get(dim, i\n        /*, stack */\n        );\n\n        if (!isNaN(value)) {\n          sum += value;\n        }\n      }\n    }\n\n    return sum;\n  };\n  /**\n   * Get median of data in one dimension\n   * @param {string} dim\n   */\n\n\n  listProto.getMedian = function (dim\n  /*, stack */\n  ) {\n    var dimDataArray = []; // map all data of one dimension\n\n    this.each(dim, function (val, idx) {\n      if (!isNaN(val)) {\n        dimDataArray.push(val);\n      }\n    }); // TODO\n    // Use quick select?\n    // immutability & sort\n\n    var sortedDimDataArray = [].concat(dimDataArray).sort(function (a, b) {\n      return a - b;\n    });\n    var len = this.count(); // calculate median\n\n    return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\n  }; // /**\n  //  * Retreive the index with given value\n  //  * @param {string} dim Concrete dimension.\n  //  * @param {number} value\n  //  * @return {number}\n  //  */\n  // Currently incorrect: should return dataIndex but not rawIndex.\n  // Do not fix it until this method is to be used somewhere.\n  // FIXME Precision of float value\n  // listProto.indexOf = function (dim, value) {\n  //     var storage = this._storage;\n  //     var dimData = storage[dim];\n  //     var chunkSize = this._chunkSize;\n  //     if (dimData) {\n  //         for (var i = 0, len = this.count(); i < len; i++) {\n  //             var chunkIndex = Math.floor(i / chunkSize);\n  //             var chunkOffset = i % chunkSize;\n  //             if (dimData[chunkIndex][chunkOffset] === value) {\n  //                 return i;\n  //             }\n  //         }\n  //     }\n  //     return -1;\n  // };\n\n  /**\n   * Only support the dimension which inverted index created.\n   * Do not support other cases until required.\n   * @param {string} concrete dim\n   * @param {number|string} value\n   * @return {number} rawIndex\n   */\n\n\n  listProto.rawIndexOf = function (dim, value) {\n    var invertedIndices = dim && this._invertedIndicesMap[dim];\n    var rawIndex = invertedIndices[value];\n\n    if (rawIndex == null || isNaN(rawIndex)) {\n      return INDEX_NOT_FOUND;\n    }\n\n    return rawIndex;\n  };\n  /**\n   * Retreive the index with given name\n   * @param {number} idx\n   * @param {number} name\n   * @return {number}\n   */\n\n\n  listProto.indexOfName = function (name) {\n    for (var i = 0, len = this.count(); i < len; i++) {\n      if (this.getName(i) === name) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index with given raw data index\n   * @param {number} idx\n   * @param {number} name\n   * @return {number}\n   */\n\n\n  listProto.indexOfRawIndex = function (rawIndex) {\n    if (rawIndex >= this._rawCount || rawIndex < 0) {\n      return -1;\n    }\n\n    if (!this._indices) {\n      return rawIndex;\n    } // Indices are ascending\n\n\n    var indices = this._indices; // If rawIndex === dataIndex\n\n    var rawDataIndex = indices[rawIndex];\n\n    if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\n      return rawIndex;\n    }\n\n    var left = 0;\n    var right = this._count - 1;\n\n    while (left <= right) {\n      var mid = (left + right) / 2 | 0;\n\n      if (indices[mid] < rawIndex) {\n        left = mid + 1;\n      } else if (indices[mid] > rawIndex) {\n        right = mid - 1;\n      } else {\n        return mid;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index of nearest value\n   * @param {string} dim\n   * @param {number} value\n   * @param {number} [maxDistance=Infinity]\n   * @return {Array.<number>} If and only if multiple indices has\n   *        the same value, they are put to the result.\n   */\n\n\n  listProto.indicesOfNearest = function (dim, value, maxDistance) {\n    var storage = this._storage;\n    var dimData = storage[dim];\n    var nearestIndices = [];\n\n    if (!dimData) {\n      return nearestIndices;\n    }\n\n    if (maxDistance == null) {\n      maxDistance = Infinity;\n    }\n\n    var minDist = Infinity;\n    var minDiff = -1;\n    var nearestIndicesLen = 0; // Check the test case of `test/ut/spec/data/List.js`.\n\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var diff = value - this.get(dim, i);\n      var dist = Math.abs(diff);\n\n      if (dist <= maxDistance) {\n        // When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,\n        // we'd better not push both of them to `nearestIndices`, otherwise it is easy to\n        // get more than one item in `nearestIndices` (more specifically, in `tooltip`).\n        // So we chose the one that `diff >= 0` in this csae.\n        // But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them\n        // should be push to `nearestIndices`.\n        if (dist < minDist || dist === minDist && diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          nearestIndicesLen = 0;\n        }\n\n        if (diff === minDiff) {\n          nearestIndices[nearestIndicesLen++] = i;\n        }\n      }\n    }\n\n    nearestIndices.length = nearestIndicesLen;\n    return nearestIndices;\n  };\n  /**\n   * Get raw data index\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getRawIndex = getRawIndexWithoutIndices;\n\n  function getRawIndexWithoutIndices(idx) {\n    return idx;\n  }\n\n  function getRawIndexWithIndices(idx) {\n    if (idx < this._count && idx >= 0) {\n      return this._indices[idx];\n    }\n\n    return -1;\n  }\n  /**\n   * Get raw data item\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getRawDataItem = function (idx) {\n    if (!this._rawData.persistent) {\n      var val = [];\n\n      for (var i = 0; i < this.dimensions.length; i++) {\n        var dim = this.dimensions[i];\n        val.push(this.get(dim, idx));\n      }\n\n      return val;\n    } else {\n      return this._rawData.getItem(this.getRawIndex(idx));\n    }\n  };\n  /**\n   * @param {number} idx\n   * @param {boolean} [notDefaultIdx=false]\n   * @return {string}\n   */\n\n\n  listProto.getName = function (idx) {\n    var rawIndex = this.getRawIndex(idx);\n    return this._nameList[rawIndex] || getRawValueFromStore(this, this._nameDimIdx, rawIndex) || '';\n  };\n  /**\n   * @param {number} idx\n   * @param {boolean} [notDefaultIdx=false]\n   * @return {string}\n   */\n\n\n  listProto.getId = function (idx) {\n    return getId(this, this.getRawIndex(idx));\n  };\n\n  function getId(list, rawIndex) {\n    var id = list._idList[rawIndex];\n\n    if (id == null) {\n      id = getRawValueFromStore(list, list._idDimIdx, rawIndex);\n    }\n\n    if (id == null) {\n      // FIXME Check the usage in graph, should not use prefix.\n      id = ID_PREFIX + rawIndex;\n    }\n\n    return id;\n  }\n\n  function normalizeDimensions(dimensions) {\n    if (!util.isArray(dimensions)) {\n      dimensions = [dimensions];\n    }\n\n    return dimensions;\n  }\n  /**\n   * Data iteration\n   * @param {string|Array.<string>}\n   * @param {Function} cb\n   * @param {*} [context=this]\n   *\n   * @example\n   *  list.each('x', function (x, idx) {});\n   *  list.each(['x', 'y'], function (x, y, idx) {});\n   *  list.each(function (idx) {})\n   */\n\n\n  listProto.each = function (dims, cb, context, contextCompat) {\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dims === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dims;\n      dims = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    dims = util.map(normalizeDimensions(dims), this.getDimension, this);\n    var dimSize = dims.length;\n\n    for (var i = 0; i < this.count(); i++) {\n      // Simple optimization\n      switch (dimSize) {\n        case 0:\n          cb.call(context, i);\n          break;\n\n        case 1:\n          cb.call(context, this.get(dims[0], i), i);\n          break;\n\n        case 2:\n          cb.call(context, this.get(dims[0], i), this.get(dims[1], i), i);\n          break;\n\n        default:\n          var k = 0;\n          var value = [];\n\n          for (; k < dimSize; k++) {\n            value[k] = this.get(dims[k], i);\n          } // Index\n\n\n          value[k] = i;\n          cb.apply(context, value);\n      }\n    }\n  };\n  /**\n   * Data filter\n   * @param {string|Array.<string>}\n   * @param {Function} cb\n   * @param {*} [context=this]\n   */\n\n\n  listProto.filterSelf = function (dimensions, cb, context, contextCompat) {\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dimensions === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dimensions;\n      dimensions = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    dimensions = util.map(normalizeDimensions(dimensions), this.getDimension, this);\n    var count = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(count);\n    var value = [];\n    var dimSize = dimensions.length;\n    var offset = 0;\n    var dim0 = dimensions[0];\n\n    for (var i = 0; i < count; i++) {\n      var keep;\n      var rawIdx = this.getRawIndex(i); // Simple optimization\n\n      if (dimSize === 0) {\n        keep = cb.call(context, i);\n      } else if (dimSize === 1) {\n        var val = this._getFast(dim0, rawIdx);\n\n        keep = cb.call(context, val, i);\n      } else {\n        for (var k = 0; k < dimSize; k++) {\n          value[k] = this._getFast(dim0, rawIdx);\n        }\n\n        value[k] = i;\n        keep = cb.apply(context, value);\n      }\n\n      if (keep) {\n        newIndices[offset++] = rawIdx;\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < count) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n\n\n  listProto.selectRange = function (range) {\n\n    if (!this._count) {\n      return;\n    }\n\n    var dimensions = [];\n\n    for (var dim in range) {\n      if (range.hasOwnProperty(dim)) {\n        dimensions.push(dim);\n      }\n    }\n\n    var dimSize = dimensions.length;\n\n    if (!dimSize) {\n      return;\n    }\n\n    var originalCount = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(originalCount);\n    var offset = 0;\n    var dim0 = dimensions[0];\n    var min = range[dim0][0];\n    var max = range[dim0][1];\n    var quickFinished = false;\n\n    if (!this._indices) {\n      // Extreme optimization for common case. About 2x faster in chrome.\n      var idx = 0;\n\n      if (dimSize === 1) {\n        var dimStorage = this._storage[dimensions[0]];\n\n        for (var k = 0; k < this._chunkCount; k++) {\n          var chunkStorage = dimStorage[k];\n          var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n          for (var i = 0; i < len; i++) {\n            var val = chunkStorage[i]; // NaN will not be filtered. Consider the case, in line chart, empty\n            // value indicates the line should be broken. But for the case like\n            // scatter plot, a data item with empty value will not be rendered,\n            // but the axis extent may be effected if some other dim of the data\n            // item has value. Fortunately it is not a significant negative effect.\n\n            if (val >= min && val <= max || isNaN(val)) {\n              newIndices[offset++] = idx;\n            }\n\n            idx++;\n          }\n        }\n\n        quickFinished = true;\n      } else if (dimSize === 2) {\n        var dimStorage = this._storage[dim0];\n        var dimStorage2 = this._storage[dimensions[1]];\n        var min2 = range[dimensions[1]][0];\n        var max2 = range[dimensions[1]][1];\n\n        for (var k = 0; k < this._chunkCount; k++) {\n          var chunkStorage = dimStorage[k];\n          var chunkStorage2 = dimStorage2[k];\n          var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n          for (var i = 0; i < len; i++) {\n            var val = chunkStorage[i];\n            var val2 = chunkStorage2[i]; // Do not filter NaN, see comment above.\n\n            if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\n              newIndices[offset++] = idx;\n            }\n\n            idx++;\n          }\n        }\n\n        quickFinished = true;\n      }\n    }\n\n    if (!quickFinished) {\n      if (dimSize === 1) {\n        for (var i = 0; i < originalCount; i++) {\n          var rawIndex = this.getRawIndex(i);\n\n          var val = this._getFast(dim0, rawIndex); // Do not filter NaN, see comment above.\n\n\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = rawIndex;\n          }\n        }\n      } else {\n        for (var i = 0; i < originalCount; i++) {\n          var keep = true;\n          var rawIndex = this.getRawIndex(i);\n\n          for (var k = 0; k < dimSize; k++) {\n            var dimk = dimensions[k];\n\n            var val = this._getFast(dim, rawIndex); // Do not filter NaN, see comment above.\n\n\n            if (val < range[dimk][0] || val > range[dimk][1]) {\n              keep = false;\n            }\n          }\n\n          if (keep) {\n            newIndices[offset++] = this.getRawIndex(i);\n          }\n        }\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < originalCount) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /**\n   * Data mapping to a plain array\n   * @param {string|Array.<string>} [dimensions]\n   * @param {Function} cb\n   * @param {*} [context=this]\n   * @return {Array}\n   */\n\n\n  listProto.mapArray = function (dimensions, cb, context, contextCompat) {\n\n    if (typeof dimensions === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dimensions;\n      dimensions = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    var result = [];\n    this.each(dimensions, function () {\n      result.push(cb && cb.apply(this, arguments));\n    }, context);\n    return result;\n  }; // Data in excludeDimensions is copied, otherwise transfered.\n\n\n  function cloneListForMapAndSample(original, excludeDimensions) {\n    var allDimensions = original.dimensions;\n    var list = new List(util.map(allDimensions, original.getDimensionInfo, original), original.hostModel); // FIXME If needs stackedOn, value may already been stacked\n\n    transferProperties(list, original);\n    var storage = list._storage = {};\n    var originalStorage = original._storage; // Init storage\n\n    for (var i = 0; i < allDimensions.length; i++) {\n      var dim = allDimensions[i];\n\n      if (originalStorage[dim]) {\n        // Notice that we do not reset invertedIndicesMap here, becuase\n        // there is no scenario of mapping or sampling ordinal dimension.\n        if (util.indexOf(excludeDimensions, dim) >= 0) {\n          storage[dim] = cloneDimStore(originalStorage[dim]);\n          list._rawExtent[dim] = getInitialExtent();\n          list._extent[dim] = null;\n        } else {\n          // Direct reference for other dimensions\n          storage[dim] = originalStorage[dim];\n        }\n      }\n    }\n\n    return list;\n  }\n\n  function cloneDimStore(originalDimStore) {\n    var newDimStore = new Array(originalDimStore.length);\n\n    for (var j = 0; j < originalDimStore.length; j++) {\n      newDimStore[j] = cloneChunk(originalDimStore[j]);\n    }\n\n    return newDimStore;\n  }\n\n  function getInitialExtent() {\n    return [Infinity, -Infinity];\n  }\n  /**\n   * Data mapping to a new List with given dimensions\n   * @param {string|Array.<string>} dimensions\n   * @param {Function} cb\n   * @param {*} [context=this]\n   * @return {Array}\n   */\n\n\n  listProto.map = function (dimensions, cb, context, contextCompat) {\n\n    context = context || contextCompat || this;\n    dimensions = util.map(normalizeDimensions(dimensions), this.getDimension, this);\n    var list = cloneListForMapAndSample(this, dimensions); // Following properties are all immutable.\n    // So we can reference to the same value\n\n    list._indices = this._indices;\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    var storage = list._storage;\n    var tmpRetValue = [];\n    var chunkSize = this._chunkSize;\n    var dimSize = dimensions.length;\n    var dataCount = this.count();\n    var values = [];\n    var rawExtent = list._rawExtent;\n\n    for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\n      for (var dimIndex = 0; dimIndex < dimSize; dimIndex++) {\n        values[dimIndex] = this.get(dimensions[dimIndex], dataIndex\n        /*, stack */\n        );\n      }\n\n      values[dimSize] = dataIndex;\n      var retValue = cb && cb.apply(context, values);\n\n      if (retValue != null) {\n        // a number or string (in oridinal dimension)?\n        if (typeof retValue !== 'object') {\n          tmpRetValue[0] = retValue;\n          retValue = tmpRetValue;\n        }\n\n        var rawIndex = this.getRawIndex(dataIndex);\n        var chunkIndex = Math.floor(rawIndex / chunkSize);\n        var chunkOffset = rawIndex % chunkSize;\n\n        for (var i = 0; i < retValue.length; i++) {\n          var dim = dimensions[i];\n          var val = retValue[i];\n          var rawExtentOnDim = rawExtent[dim];\n          var dimStore = storage[dim];\n\n          if (dimStore) {\n            dimStore[chunkIndex][chunkOffset] = val;\n          }\n\n          if (val < rawExtentOnDim[0]) {\n            rawExtentOnDim[0] = val;\n          }\n\n          if (val > rawExtentOnDim[1]) {\n            rawExtentOnDim[1] = val;\n          }\n        }\n      }\n    }\n\n    return list;\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param {string} dimension\n   * @param {number} rate\n   * @param {Function} sampleValue\n   * @param {Function} sampleIndex Sample index for name and id\n   */\n\n\n  listProto.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this, [dimension]);\n    var targetStorage = list._storage;\n    var frameValues = [];\n    var frameSize = Math.floor(1 / rate);\n    var dimStore = targetStorage[dimension];\n    var len = this.count();\n    var chunkSize = this._chunkSize;\n    var rawExtentOnDim = list._rawExtent[dimension];\n    var newIndices = new (getIndicesCtor(this))(len);\n    var offset = 0;\n\n    for (var i = 0; i < len; i += frameSize) {\n      // Last frame\n      if (frameSize > len - i) {\n        frameSize = len - i;\n        frameValues.length = frameSize;\n      }\n\n      for (var k = 0; k < frameSize; k++) {\n        var dataIdx = this.getRawIndex(i + k);\n        var originalChunkIndex = Math.floor(dataIdx / chunkSize);\n        var originalChunkOffset = dataIdx % chunkSize;\n        frameValues[k] = dimStore[originalChunkIndex][originalChunkOffset];\n      }\n\n      var value = sampleValue(frameValues);\n      var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1));\n      var sampleChunkIndex = Math.floor(sampleFrameIdx / chunkSize);\n      var sampleChunkOffset = sampleFrameIdx % chunkSize; // Only write value on the filtered data\n\n      dimStore[sampleChunkIndex][sampleChunkOffset] = value;\n\n      if (value < rawExtentOnDim[0]) {\n        rawExtentOnDim[0] = value;\n      }\n\n      if (value > rawExtentOnDim[1]) {\n        rawExtentOnDim[1] = value;\n      }\n\n      newIndices[offset++] = sampleFrameIdx;\n    }\n\n    list._count = offset;\n    list._indices = newIndices;\n    list.getRawIndex = getRawIndexWithIndices;\n    return list;\n  };\n  /**\n   * Get model of one data item.\n   *\n   * @param {number} idx\n   */\n  // FIXME Model proxy ?\n\n\n  listProto.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    return new Model_1(this.getRawDataItem(idx), hostModel, hostModel && hostModel.ecModel);\n  };\n  /**\n   * Create a data differ\n   * @param {module:echarts/data/List} otherList\n   * @return {module:echarts/data/DataDiffer}\n   */\n\n\n  listProto.diff = function (otherList) {\n    var thisList = this;\n    return new DataDiffer_1(otherList ? otherList.getIndices() : [], this.getIndices(), function (idx) {\n      return getId(otherList, idx);\n    }, function (idx) {\n      return getId(thisList, idx);\n    });\n  };\n  /**\n   * Get visual property.\n   * @param {string} key\n   */\n\n\n  listProto.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n  };\n  /**\n   * Set visual property\n   * @param {string|Object} key\n   * @param {*} [value]\n   *\n   * @example\n   *  setVisual('color', color);\n   *  setVisual({\n   *      'color': color\n   *  });\n   */\n\n\n  listProto.setVisual = function (key, val) {\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.setVisual(name, key[name]);\n        }\n      }\n\n      return;\n    }\n\n    this._visual = this._visual || {};\n    this._visual[key] = val;\n  };\n  /**\n   * Set layout property.\n   * @param {string|Object} key\n   * @param {*} [val]\n   */\n\n\n  listProto.setLayout = function (key, val) {\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.setLayout(name, key[name]);\n        }\n      }\n\n      return;\n    }\n\n    this._layout[key] = val;\n  };\n  /**\n   * Get layout property.\n   * @param  {string} key.\n   * @return {*}\n   */\n\n\n  listProto.getLayout = function (key) {\n    return this._layout[key];\n  };\n  /**\n   * Get layout of single data item\n   * @param {number} idx\n   */\n\n\n  listProto.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n  };\n  /**\n   * Set layout of single data item\n   * @param {number} idx\n   * @param {Object} layout\n   * @param {boolean=} [merge=false]\n   */\n\n\n  listProto.setItemLayout = function (idx, layout, merge) {\n    this._itemLayouts[idx] = merge ? util.extend(this._itemLayouts[idx] || {}, layout) : layout;\n  };\n  /**\n   * Clear all layout of single data item\n   */\n\n\n  listProto.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n  };\n  /**\n   * Get visual property of single data item\n   * @param {number} idx\n   * @param {string} key\n   * @param {boolean} [ignoreParent=false]\n   */\n\n\n  listProto.getItemVisual = function (idx, key, ignoreParent) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n\n    if (val == null && !ignoreParent) {\n      // Use global visual property\n      return this.getVisual(key);\n    }\n\n    return val;\n  };\n  /**\n   * Set visual property of single data item\n   *\n   * @param {number} idx\n   * @param {string|Object} key\n   * @param {*} [value]\n   *\n   * @example\n   *  setItemVisual(0, 'color', color);\n   *  setItemVisual(0, {\n   *      'color': color\n   *  });\n   */\n\n\n  listProto.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    var hasItemVisual = this.hasItemVisual;\n    this._itemVisuals[idx] = itemVisual;\n\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          itemVisual[name] = key[name];\n          hasItemVisual[name] = true;\n        }\n      }\n\n      return;\n    }\n\n    itemVisual[key] = value;\n    hasItemVisual[key] = true;\n  };\n  /**\n   * Clear itemVisuals and list visual.\n   */\n\n\n  listProto.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n    this.hasItemVisual = {};\n  };\n\n  var setItemDataAndSeriesIndex = function (child) {\n    child.seriesIndex = this.seriesIndex;\n    child.dataIndex = this.dataIndex;\n    child.dataType = this.dataType;\n  };\n  /**\n   * Set graphic element relative to data. It can be set as null\n   * @param {number} idx\n   * @param {module:zrender/Element} [el]\n   */\n\n\n  listProto.setItemGraphicEl = function (idx, el) {\n    var hostModel = this.hostModel;\n\n    if (el) {\n      // Add data index and series index for indexing the data by element\n      // Useful in tooltip\n      el.dataIndex = idx;\n      el.dataType = this.dataType;\n      el.seriesIndex = hostModel && hostModel.seriesIndex;\n\n      if (el.type === 'group') {\n        el.traverse(setItemDataAndSeriesIndex, el);\n      }\n    }\n\n    this._graphicEls[idx] = el;\n  };\n  /**\n   * @param {number} idx\n   * @return {module:zrender/Element}\n   */\n\n\n  listProto.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n  };\n  /**\n   * @param {Function} cb\n   * @param {*} context\n   */\n\n\n  listProto.eachItemGraphicEl = function (cb, context) {\n    util.each(this._graphicEls, function (el, idx) {\n      if (el) {\n        cb && cb.call(context, el, idx);\n      }\n    });\n  };\n  /**\n   * Shallow clone a new list except visual and layout properties, and graph elements.\n   * New list only change the indices.\n   */\n\n\n  listProto.cloneShallow = function (list) {\n    if (!list) {\n      var dimensionInfoList = util.map(this.dimensions, this.getDimensionInfo, this);\n      list = new List(dimensionInfoList, this.hostModel);\n    } // FIXME\n\n\n    list._storage = this._storage;\n    transferProperties(list, this); // Clone will not change the data extent and indices\n\n    if (this._indices) {\n      var Ctor = this._indices.constructor;\n      list._indices = new Ctor(this._indices);\n    } else {\n      list._indices = null;\n    }\n\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return list;\n  };\n  /**\n   * Wrap some method to add more feature\n   * @param {string} methodName\n   * @param {Function} injectFunction\n   */\n\n\n  listProto.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n\n    if (typeof originalMethod !== 'function') {\n      return;\n    }\n\n    this.__wrappedMethods = this.__wrappedMethods || [];\n\n    this.__wrappedMethods.push(methodName);\n\n    this[methodName] = function () {\n      var res = originalMethod.apply(this, arguments);\n      return injectFunction.apply(this, [res].concat(util.slice(arguments)));\n    };\n  }; // Methods that create a new list based on this list should be listed here.\n  // Notice that those method should `RETURN` the new list.\n\n\n  listProto.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'map']; // Methods that change indices of this list should be listed here.\n\n  listProto.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\n  var _default$1j = List;\n  var List_1 = _default$1j;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$8 = util.createHashMap;\n  var each$g = util.each;\n  var isString$8 = util.isString;\n  var defaults$2 = util.defaults;\n  var extend$8 = util.extend;\n  var isObject$c = util.isObject;\n  var clone$6 = util.clone;\n\n\n\n  var normalizeToArray$4 = model.normalizeToArray;\n\n\n\n  var guessOrdinal$1 = sourceHelper.guessOrdinal;\n  var BE_ORDINAL$1 = sourceHelper.BE_ORDINAL;\n\n\n\n\n\n  var OTHER_DIMENSIONS$1 = dimensionHelper.OTHER_DIMENSIONS;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @deprecated\n   * Use `echarts/data/helper/createDimensions` instead.\n   */\n\n  /**\n   * @see {module:echarts/test/ut/spec/data/completeDimensions}\n   *\n   * This method builds the relationship between:\n   * + \"what the coord sys or series requires (see `sysDims`)\",\n   * + \"what the user defines (in `encode` and `dimensions`, see `opt.dimsDef` and `opt.encodeDef`)\"\n   * + \"what the data source provids (see `source`)\".\n   *\n   * Some guess strategy will be adapted if user does not define something.\n   * If no 'value' dimension specified, the first no-named dimension will be\n   * named as 'value'.\n   *\n   * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n   *      provides not only dim template, but also default order.\n   *      properties: 'name', 'type', 'displayName'.\n   *      `name` of each item provides default coord name.\n   *      [{dimsDef: [string|Object, ...]}, ...] dimsDef of sysDim item provides default dim name, and\n   *                                    provide dims count that the sysDim required.\n   *      [{ordinalMeta}] can be specified.\n   * @param {module:echarts/data/Source|Array|Object} source or data (for compatibal with pervious)\n   * @param {Object} [opt]\n   * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n   *      For example: ['asdf', {name, type}, ...].\n   * @param {Object|HashMap} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n   * @param {Function} [opt.encodeDefaulter] Called if no `opt.encodeDef` exists.\n   *      If not specified, auto find the next available data dim.\n   *      param source {module:data/Source}\n   *      param dimCount {number}\n   *      return {Object} encode Never be `null/undefined`.\n   * @param {string} [opt.generateCoord] Generate coord dim with the given name.\n   *      If not specified, extra dim names will be:\n   *      'value', 'value0', 'value1', ...\n   * @param {number} [opt.generateCoordCount] By default, the generated dim name is `generateCoord`.\n   *      If `generateCoordCount` specified, the generated dim names will be:\n   *      `generateCoord` + 0, `generateCoord` + 1, ...\n   *      can be Infinity, indicate that use all of the remain columns.\n   * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n   * @return {Array.<module:data/DataDimensionInfo>}\n   */\n  function completeDimensions(sysDims, source, opt) {\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    opt = opt || {};\n    sysDims = (sysDims || []).slice();\n    var dimsDef = (opt.dimsDef || []).slice();\n    var dataDimNameMap = createHashMap$8();\n    var coordDimNameMap = createHashMap$8(); // var valueCandidate;\n\n    var result = [];\n    var dimCount = getDimCount(source, sysDims, dimsDef, opt.dimCount); // Apply user defined dims (`name` and `type`) and init result.\n\n    for (var i = 0; i < dimCount; i++) {\n      var dimDefItem = dimsDef[i] = extend$8({}, isObject$c(dimsDef[i]) ? dimsDef[i] : {\n        name: dimsDef[i]\n      });\n      var userDimName = dimDefItem.name;\n      var resultItem = result[i] = new DataDimensionInfo_1(); // Name will be applied later for avoiding duplication.\n\n      if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n        // Only if `series.dimensions` is defined in option\n        // displayName, will be set, and dimension will be diplayed vertically in\n        // tooltip by default.\n        resultItem.name = resultItem.displayName = userDimName;\n        dataDimNameMap.set(userDimName, i);\n      }\n\n      dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n      dimDefItem.displayName != null && (resultItem.displayName = dimDefItem.displayName);\n    }\n\n    var encodeDef = opt.encodeDef;\n\n    if (!encodeDef && opt.encodeDefaulter) {\n      encodeDef = opt.encodeDefaulter(source, dimCount);\n    }\n\n    encodeDef = createHashMap$8(encodeDef); // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n    encodeDef.each(function (dataDims, coordDim) {\n      dataDims = normalizeToArray$4(dataDims).slice(); // Note: It is allowed that `dataDims.length` is `0`, e.g., options is\n      // `{encode: {x: -1, y: 1}}`. Should not filter anything in\n      // this case.\n\n      if (dataDims.length === 1 && !isString$8(dataDims[0]) && dataDims[0] < 0) {\n        encodeDef.set(coordDim, false);\n        return;\n      }\n\n      var validDataDims = encodeDef.set(coordDim, []);\n      each$g(dataDims, function (resultDimIdx, idx) {\n        // The input resultDimIdx can be dim name or index.\n        isString$8(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n        if (resultDimIdx != null && resultDimIdx < dimCount) {\n          validDataDims[idx] = resultDimIdx;\n          applyDim(result[resultDimIdx], coordDim, idx);\n        }\n      });\n    }); // Apply templetes and default order from `sysDims`.\n\n    var availDimIdx = 0;\n    each$g(sysDims, function (sysDimItem, sysDimIndex) {\n      var coordDim;\n      var sysDimItem;\n      var sysDimItemDimsDef;\n      var sysDimItemOtherDims;\n\n      if (isString$8(sysDimItem)) {\n        coordDim = sysDimItem;\n        sysDimItem = {};\n      } else {\n        coordDim = sysDimItem.name;\n        var ordinalMeta = sysDimItem.ordinalMeta;\n        sysDimItem.ordinalMeta = null;\n        sysDimItem = clone$6(sysDimItem);\n        sysDimItem.ordinalMeta = ordinalMeta; // `coordDimIndex` should not be set directly.\n\n        sysDimItemDimsDef = sysDimItem.dimsDef;\n        sysDimItemOtherDims = sysDimItem.otherDims;\n        sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n      }\n\n      var dataDims = encodeDef.get(coordDim); // negative resultDimIdx means no need to mapping.\n\n      if (dataDims === false) {\n        return;\n      }\n\n      var dataDims = normalizeToArray$4(dataDims); // dimensions provides default dim sequences.\n\n      if (!dataDims.length) {\n        for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n          while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n            availDimIdx++;\n          }\n\n          availDimIdx < result.length && dataDims.push(availDimIdx++);\n        }\n      } // Apply templates.\n\n\n      each$g(dataDims, function (resultDimIdx, coordDimIndex) {\n        var resultItem = result[resultDimIdx];\n        applyDim(defaults$2(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n        if (resultItem.name == null && sysDimItemDimsDef) {\n          var sysDimItemDimsDefItem = sysDimItemDimsDef[coordDimIndex];\n          !isObject$c(sysDimItemDimsDefItem) && (sysDimItemDimsDefItem = {\n            name: sysDimItemDimsDefItem\n          });\n          resultItem.name = resultItem.displayName = sysDimItemDimsDefItem.name;\n          resultItem.defaultTooltip = sysDimItemDimsDefItem.defaultTooltip;\n        } // FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}\n\n\n        sysDimItemOtherDims && defaults$2(resultItem.otherDims, sysDimItemOtherDims);\n      });\n    });\n\n    function applyDim(resultItem, coordDim, coordDimIndex) {\n      if (OTHER_DIMENSIONS$1.get(coordDim) != null) {\n        resultItem.otherDims[coordDim] = coordDimIndex;\n      } else {\n        resultItem.coordDim = coordDim;\n        resultItem.coordDimIndex = coordDimIndex;\n        coordDimNameMap.set(coordDim, true);\n      }\n    } // Make sure the first extra dim is 'value'.\n\n\n    var generateCoord = opt.generateCoord;\n    var generateCoordCount = opt.generateCoordCount;\n    var fromZero = generateCoordCount != null;\n    generateCoordCount = generateCoord ? generateCoordCount || 1 : 0;\n    var extra = generateCoord || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n    for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n      var resultItem = result[resultDimIdx] = result[resultDimIdx] || new DataDimensionInfo_1();\n      var coordDim = resultItem.coordDim;\n\n      if (coordDim == null) {\n        resultItem.coordDim = genName(extra, coordDimNameMap, fromZero);\n        resultItem.coordDimIndex = 0;\n\n        if (!generateCoord || generateCoordCount <= 0) {\n          resultItem.isExtraCoord = true;\n        }\n\n        generateCoordCount--;\n      }\n\n      resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n\n      if (resultItem.type == null && (guessOrdinal$1(source, resultDimIdx, resultItem.name) === BE_ORDINAL$1.Must // Consider the case:\n      // {\n      //    dataset: {source: [\n      //        ['2001', 123],\n      //        ['2002', 456],\n      //        ...\n      //        ['The others', 987],\n      //    ]},\n      //    series: {type: 'pie'}\n      // }\n      // The first colum should better be treated as a \"ordinal\" although it\n      // might not able to be detected as an \"ordinal\" by `guessOrdinal`.\n      || resultItem.isExtraCoord && (resultItem.otherDims.itemName != null || resultItem.otherDims.seriesName != null))) {\n        resultItem.type = 'ordinal';\n      }\n    }\n\n    return result;\n  } // ??? TODO\n  // Originally detect dimCount by data[0]. Should we\n  // optimize it to only by sysDims and dimensions and encode.\n  // So only necessary dims will be initialized.\n  // But\n  // (1) custom series should be considered. where other dims\n  // may be visited.\n  // (2) sometimes user need to calcualte bubble size or use visualMap\n  // on other dimensions besides coordSys needed.\n  // So, dims that is not used by system, should be shared in storage?\n\n\n  function getDimCount(source, sysDims, dimsDef, optDimCount) {\n    // Note that the result dimCount should not small than columns count\n    // of data, otherwise `dataDimNameMap` checking will be incorrect.\n    var dimCount = Math.max(source.dimensionsDetectCount || 1, sysDims.length, dimsDef.length, optDimCount || 0);\n    each$g(sysDims, function (sysDimItem) {\n      var sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n    });\n    return dimCount;\n  }\n\n  function genName(name, map, fromZero) {\n    if (fromZero || map.get(name) != null) {\n      var i = 0;\n\n      while (map.get(name + i) != null) {\n        i++;\n      }\n\n      name += i;\n    }\n\n    map.set(name, true);\n    return name;\n  }\n\n  var _default$1k = completeDimensions;\n  var completeDimensions_1 = _default$1k;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Substitute `completeDimensions`.\n   * `completeDimensions` is to be deprecated.\n   */\n\n  /**\n   * @param {module:echarts/data/Source|module:echarts/data/List} source or data.\n   * @param {Object|Array} [opt]\n   * @param {Array.<string|Object>} [opt.coordDimensions=[]]\n   * @param {number} [opt.dimensionsCount]\n   * @param {string} [opt.generateCoord]\n   * @param {string} [opt.generateCoordCount]\n   * @param {Array.<string|Object>} [opt.dimensionsDefine=source.dimensionsDefine] Overwrite source define.\n   * @param {Object|HashMap} [opt.encodeDefine=source.encodeDefine] Overwrite source define.\n   * @param {Function} [opt.encodeDefaulter] Make default encode if user not specified.\n   * @return {Array.<Object>} dimensionsInfo\n   */\n  function _default$1l(source, opt) {\n    opt = opt || {};\n    return completeDimensions_1(opt.coordDimensions || [], source, {\n      dimsDef: opt.dimensionsDefine || source.dimensionsDefine,\n      encodeDef: opt.encodeDefine || source.encodeDefine,\n      dimCount: opt.dimensionsCount,\n      encodeDefaulter: opt.encodeDefaulter,\n      generateCoord: opt.generateCoord,\n      generateCoordCount: opt.generateCoordCount\n    });\n  }\n\n  var createDimensions = _default$1l;\n\n  var createHashMap$9 = util.createHashMap;\n  var each$h = util.each;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Helper for model references.\n   * There are many manners to refer axis/coordSys.\n   */\n  // TODO\n  // merge relevant logic to this file?\n  // check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\n\n  /**\n   * @class\n   * For example:\n   * {\n   *     coordSysName: 'cartesian2d',\n   *     coordSysDims: ['x', 'y', ...],\n   *     axisMap: HashMap({\n   *         x: xAxisModel,\n   *         y: yAxisModel\n   *     }),\n   *     categoryAxisMap: HashMap({\n   *         x: xAxisModel,\n   *         y: undefined\n   *     }),\n   *     // The index of the first category axis in `coordSysDims`.\n   *     // `null/undefined` means no category axis exists.\n   *     firstCategoryDimIndex: 1,\n   *     // To replace user specified encode.\n   * }\n   */\n  function CoordSysInfo(coordSysName) {\n    /**\n     * @type {string}\n     */\n    this.coordSysName = coordSysName;\n    /**\n     * @type {Array.<string>}\n     */\n\n    this.coordSysDims = [];\n    /**\n     * @type {module:zrender/core/util#HashMap}\n     */\n\n    this.axisMap = createHashMap$9();\n    /**\n     * @type {module:zrender/core/util#HashMap}\n     */\n\n    this.categoryAxisMap = createHashMap$9();\n    /**\n     * @type {number}\n     */\n\n    this.firstCategoryDimIndex = null;\n  }\n  /**\n   * @return {module:model/referHelper#CoordSysInfo}\n   */\n\n\n  function getCoordSysInfoBySeries(seriesModel) {\n    var coordSysName = seriesModel.get('coordinateSystem');\n    var result = new CoordSysInfo(coordSysName);\n    var fetch = fetchers[coordSysName];\n\n    if (fetch) {\n      fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n      return result;\n    }\n  }\n\n  var fetchers = {\n    cartesian2d: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var xAxisModel = seriesModel.getReferringComponents('xAxis')[0];\n      var yAxisModel = seriesModel.getReferringComponents('yAxis')[0];\n      result.coordSysDims = ['x', 'y'];\n      axisMap.set('x', xAxisModel);\n      axisMap.set('y', yAxisModel);\n\n      if (isCategory(xAxisModel)) {\n        categoryAxisMap.set('x', xAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n\n      if (isCategory(yAxisModel)) {\n        categoryAxisMap.set('y', yAxisModel);\n        result.firstCategoryDimIndex == null & (result.firstCategoryDimIndex = 1);\n      }\n    },\n    singleAxis: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var singleAxisModel = seriesModel.getReferringComponents('singleAxis')[0];\n      result.coordSysDims = ['single'];\n      axisMap.set('single', singleAxisModel);\n\n      if (isCategory(singleAxisModel)) {\n        categoryAxisMap.set('single', singleAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n    },\n    polar: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var polarModel = seriesModel.getReferringComponents('polar')[0];\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      result.coordSysDims = ['radius', 'angle'];\n      axisMap.set('radius', radiusAxisModel);\n      axisMap.set('angle', angleAxisModel);\n\n      if (isCategory(radiusAxisModel)) {\n        categoryAxisMap.set('radius', radiusAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n\n      if (isCategory(angleAxisModel)) {\n        categoryAxisMap.set('angle', angleAxisModel);\n        result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n      }\n    },\n    geo: function (seriesModel, result, axisMap, categoryAxisMap) {\n      result.coordSysDims = ['lng', 'lat'];\n    },\n    parallel: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var ecModel = seriesModel.ecModel;\n      var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n      var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n      each$h(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n        var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n        var axisDim = coordSysDims[index];\n        axisMap.set(axisDim, axisModel);\n\n        if (isCategory(axisModel) && result.firstCategoryDimIndex == null) {\n          categoryAxisMap.set(axisDim, axisModel);\n          result.firstCategoryDimIndex = index;\n        }\n      });\n    }\n  };\n\n  function isCategory(axisModel) {\n    return axisModel.get('type') === 'category';\n  }\n\n  var getCoordSysInfoBySeries_1 = getCoordSysInfoBySeries;\n\n  var referHelper = {\n  \tgetCoordSysInfoBySeries: getCoordSysInfoBySeries_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$i = util.each;\n  var isString$9 = util.isString;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Note that it is too complicated to support 3d stack by value\n   * (have to create two-dimension inverted index), so in 3d case\n   * we just support that stacked by index.\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Array.<string|Object>} dimensionInfoList The same as the input of <module:echarts/data/List>.\n   *        The input dimensionInfoList will be modified.\n   * @param {Object} [opt]\n   * @param {boolean} [opt.stackedCoordDimension=''] Specify a coord dimension if needed.\n   * @param {boolean} [opt.byIndex=false]\n   * @return {Object} calculationInfo\n   * {\n   *     stackedDimension: string\n   *     stackedByDimension: string\n   *     isStackedByIndex: boolean\n   *     stackedOverDimension: string\n   *     stackResultDimension: string\n   * }\n   */\n  function enableDataStack(seriesModel, dimensionInfoList, opt) {\n    opt = opt || {};\n    var byIndex = opt.byIndex;\n    var stackedCoordDimension = opt.stackedCoordDimension; // Compatibal: when `stack` is set as '', do not stack.\n\n    var mayStack = !!(seriesModel && seriesModel.get('stack'));\n    var stackedByDimInfo;\n    var stackedDimInfo;\n    var stackResultDimension;\n    var stackedOverDimension;\n    each$i(dimensionInfoList, function (dimensionInfo, index) {\n      if (isString$9(dimensionInfo)) {\n        dimensionInfoList[index] = dimensionInfo = {\n          name: dimensionInfo\n        };\n      }\n\n      if (mayStack && !dimensionInfo.isExtraCoord) {\n        // Find the first ordinal dimension as the stackedByDimInfo.\n        if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {\n          stackedByDimInfo = dimensionInfo;\n        } // Find the first stackable dimension as the stackedDimInfo.\n\n\n        if (!stackedDimInfo && dimensionInfo.type !== 'ordinal' && dimensionInfo.type !== 'time' && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {\n          stackedDimInfo = dimensionInfo;\n        }\n      }\n    });\n\n    if (stackedDimInfo && !byIndex && !stackedByDimInfo) {\n      // Compatible with previous design, value axis (time axis) only stack by index.\n      // It may make sense if the user provides elaborately constructed data.\n      byIndex = true;\n    } // Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.\n    // That put stack logic in List is for using conveniently in echarts extensions, but it\n    // might not be a good way.\n\n\n    if (stackedDimInfo) {\n      // Use a weird name that not duplicated with other names.\n      stackResultDimension = '__\\0ecstackresult';\n      stackedOverDimension = '__\\0ecstackedover'; // Create inverted index to fast query index by value.\n\n      if (stackedByDimInfo) {\n        stackedByDimInfo.createInvertedIndices = true;\n      }\n\n      var stackedDimCoordDim = stackedDimInfo.coordDim;\n      var stackedDimType = stackedDimInfo.type;\n      var stackedDimCoordIndex = 0;\n      each$i(dimensionInfoList, function (dimensionInfo) {\n        if (dimensionInfo.coordDim === stackedDimCoordDim) {\n          stackedDimCoordIndex++;\n        }\n      });\n      dimensionInfoList.push({\n        name: stackResultDimension,\n        coordDim: stackedDimCoordDim,\n        coordDimIndex: stackedDimCoordIndex,\n        type: stackedDimType,\n        isExtraCoord: true,\n        isCalculationCoord: true\n      });\n      stackedDimCoordIndex++;\n      dimensionInfoList.push({\n        name: stackedOverDimension,\n        // This dimension contains stack base (generally, 0), so do not set it as\n        // `stackedDimCoordDim` to avoid extent calculation, consider log scale.\n        coordDim: stackedOverDimension,\n        coordDimIndex: stackedDimCoordIndex,\n        type: stackedDimType,\n        isExtraCoord: true,\n        isCalculationCoord: true\n      });\n    }\n\n    return {\n      stackedDimension: stackedDimInfo && stackedDimInfo.name,\n      stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,\n      isStackedByIndex: byIndex,\n      stackedOverDimension: stackedOverDimension,\n      stackResultDimension: stackResultDimension\n    };\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {string} stackedDim\n   */\n\n\n  function isDimensionStacked(data, stackedDim\n  /*, stackedByDim*/\n  ) {\n    // Each single series only maps to one pair of axis. So we do not need to\n    // check stackByDim, whatever stacked by a dimension or stacked by index.\n    return !!stackedDim && stackedDim === data.getCalculationInfo('stackedDimension'); // && (\n    //     stackedByDim != null\n    //         ? stackedByDim === data.getCalculationInfo('stackedByDimension')\n    //         : data.getCalculationInfo('isStackedByIndex')\n    // );\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {string} targetDim\n   * @param {string} [stackedByDim] If not input this parameter, check whether\n   *                                stacked by index.\n   * @return {string} dimension\n   */\n\n\n  function getStackedDimension(data, targetDim) {\n    return isDimensionStacked(data, targetDim) ? data.getCalculationInfo('stackResultDimension') : targetDim;\n  }\n\n  var enableDataStack_1 = enableDataStack;\n  var isDimensionStacked_1 = isDimensionStacked;\n  var getStackedDimension_1 = getStackedDimension;\n\n  var dataStackHelper = {\n  \tenableDataStack: enableDataStack_1,\n  \tisDimensionStacked: isDimensionStacked_1,\n  \tgetStackedDimension: getStackedDimension_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$4 = sourceType.SOURCE_FORMAT_ORIGINAL;\n\n\n\n  var getDimensionTypeByAxis$1 = dimensionHelper.getDimensionTypeByAxis;\n\n\n\n  var getDataItemValue$3 = model.getDataItemValue;\n\n\n\n\n\n  var getCoordSysInfoBySeries$1 = referHelper.getCoordSysInfoBySeries;\n\n\n\n\n\n  var enableDataStack$1 = dataStackHelper.enableDataStack;\n\n\n\n  var makeSeriesEncodeForAxisCoordSys$1 = sourceHelper.makeSeriesEncodeForAxisCoordSys;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/data/Source|Array} source Or raw data.\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Object} [opt]\n   * @param {string} [opt.generateCoord]\n   * @param {boolean} [opt.useEncodeDefaulter]\n   */\n  function createListFromArray(source, seriesModel, opt) {\n    opt = opt || {};\n\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    var coordSysName = seriesModel.get('coordinateSystem');\n    var registeredCoordSys = CoordinateSystem.get(coordSysName);\n    var coordSysInfo = getCoordSysInfoBySeries$1(seriesModel);\n    var coordSysDimDefs;\n\n    if (coordSysInfo) {\n      coordSysDimDefs = util.map(coordSysInfo.coordSysDims, function (dim) {\n        var dimInfo = {\n          name: dim\n        };\n        var axisModel = coordSysInfo.axisMap.get(dim);\n\n        if (axisModel) {\n          var axisType = axisModel.get('type');\n          dimInfo.type = getDimensionTypeByAxis$1(axisType); // dimInfo.stackable = isStackable(axisType);\n        }\n\n        return dimInfo;\n      });\n    }\n\n    if (!coordSysDimDefs) {\n      // Get dimensions from registered coordinate system\n      coordSysDimDefs = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ['x', 'y'];\n    }\n\n    var dimInfoList = createDimensions(source, {\n      coordDimensions: coordSysDimDefs,\n      generateCoord: opt.generateCoord,\n      encodeDefaulter: opt.useEncodeDefaulter ? util.curry(makeSeriesEncodeForAxisCoordSys$1, coordSysDimDefs, seriesModel) : null\n    });\n    var firstCategoryDimIndex;\n    var hasNameEncode;\n    coordSysInfo && util.each(dimInfoList, function (dimInfo, dimIndex) {\n      var coordDim = dimInfo.coordDim;\n      var categoryAxisModel = coordSysInfo.categoryAxisMap.get(coordDim);\n\n      if (categoryAxisModel) {\n        if (firstCategoryDimIndex == null) {\n          firstCategoryDimIndex = dimIndex;\n        }\n\n        dimInfo.ordinalMeta = categoryAxisModel.getOrdinalMeta();\n      }\n\n      if (dimInfo.otherDims.itemName != null) {\n        hasNameEncode = true;\n      }\n    });\n\n    if (!hasNameEncode && firstCategoryDimIndex != null) {\n      dimInfoList[firstCategoryDimIndex].otherDims.itemName = 0;\n    }\n\n    var stackCalculationInfo = enableDataStack$1(seriesModel, dimInfoList);\n    var list = new List_1(dimInfoList, seriesModel);\n    list.setCalculationInfo(stackCalculationInfo);\n    var dimValueGetter = firstCategoryDimIndex != null && isNeedCompleteOrdinalData(source) ? function (itemOpt, dimName, dataIndex, dimIndex) {\n      // Use dataIndex as ordinal value in categoryAxis\n      return dimIndex === firstCategoryDimIndex ? dataIndex : this.defaultDimValueGetter(itemOpt, dimName, dataIndex, dimIndex);\n    } : null;\n    list.hasItemOption = false;\n    list.initData(source, null, dimValueGetter);\n    return list;\n  }\n\n  function isNeedCompleteOrdinalData(source) {\n    if (source.sourceFormat === SOURCE_FORMAT_ORIGINAL$4) {\n      var sampleItem = firstDataNotNull(source.data || []);\n      return sampleItem != null && !util.isArray(getDataItemValue$3(sampleItem));\n    }\n  }\n\n  function firstDataNotNull(data) {\n    var i = 0;\n\n    while (i < data.length && data[i] == null) {\n      i++;\n    }\n\n    return data[i];\n  }\n\n  var _default$1m = createListFromArray;\n  var createListFromArray_1 = _default$1m;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * // Scale class management\n   * @module echarts/scale/Scale\n   */\n\n  /**\n   * @param {Object} [setting]\n   */\n  function Scale(setting) {\n    this._setting = setting || {};\n    /**\n     * Extent\n     * @type {Array.<number>}\n     * @protected\n     */\n\n    this._extent = [Infinity, -Infinity];\n    /**\n     * Step is calculated in adjustExtent\n     * @type {Array.<number>}\n     * @protected\n     */\n\n    this._interval = 0;\n    this.init && this.init.apply(this, arguments);\n  }\n  /**\n   * Parse input val to valid inner number.\n   * @param {*} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.parse = function (val) {\n    // Notice: This would be a trap here, If the implementation\n    // of this method depends on extent, and this method is used\n    // before extent set (like in dataZoom), it would be wrong.\n    // Nevertheless, parse does not depend on extent generally.\n    return val;\n  };\n\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n\n  Scale.prototype.contain = function (val) {\n    var extent = this._extent;\n    return val >= extent[0] && val <= extent[1];\n  };\n  /**\n   * Normalize value to linear [0, 1], return 0.5 if extent span is 0\n   * @param {number} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.normalize = function (val) {\n    var extent = this._extent;\n\n    if (extent[1] === extent[0]) {\n      return 0.5;\n    }\n\n    return (val - extent[0]) / (extent[1] - extent[0]);\n  };\n  /**\n   * Scale normalized value\n   * @param {number} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.scale = function (val) {\n    var extent = this._extent;\n    return val * (extent[1] - extent[0]) + extent[0];\n  };\n  /**\n   * Set extent from data\n   * @param {Array.<number>} other\n   */\n\n\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   * @param {module:echarts/data/List} data\n   * @param {string} dim\n   */\n\n\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   * @return {Array.<number>}\n   */\n\n\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   * @param {number} start\n   * @param {number} end\n   */\n\n\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  },\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n  /**\n   * @abstract\n   * @param {*} tick\n   * @return {string} label of the tick.\n   */\n\n  Scale.prototype.getLabel = null;\n  clazz.enableClassExtend(Scale);\n  clazz.enableClassManagement(Scale, {\n    registerWhenExtend: true\n  });\n  var _default$1n = Scale;\n  var Scale_1 = _default$1n;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$a = util.createHashMap;\n  var isObject$d = util.isObject;\n  var map$5 = util.map;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @constructor\n   * @param {Object} [opt]\n   * @param {Object} [opt.categories=[]]\n   * @param {Object} [opt.needCollect=false]\n   * @param {Object} [opt.deduplication=false]\n   */\n  function OrdinalMeta(opt) {\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n    this.categories = opt.categories || [];\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._needCollect = opt.needCollect;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._deduplication = opt.deduplication;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._map;\n  }\n  /**\n   * @param {module:echarts/model/Model} axisModel\n   * @return {module:echarts/data/OrdinalMeta}\n   */\n\n\n  OrdinalMeta.createByAxisModel = function (axisModel) {\n    var option = axisModel.option;\n    var data = option.data;\n    var categories = data && map$5(data, getName);\n    return new OrdinalMeta({\n      categories: categories,\n      needCollect: !categories,\n      // deduplication is default in axis.\n      deduplication: option.dedplication !== false\n    });\n  };\n\n  var proto$1 = OrdinalMeta.prototype;\n  /**\n   * @param {string} category\n   * @return {number} ordinal\n   */\n\n  proto$1.getOrdinal = function (category) {\n    return getOrCreateMap(this).get(category);\n  };\n  /**\n   * @param {*} category\n   * @return {number} The ordinal. If not found, return NaN.\n   */\n\n\n  proto$1.parseAndCollect = function (category) {\n    var index;\n    var needCollect = this._needCollect; // The value of category dim can be the index of the given category set.\n    // This feature is only supported when !needCollect, because we should\n    // consider a common case: a value is 2017, which is a number but is\n    // expected to be tread as a category. This case usually happen in dataset,\n    // where it happent to be no need of the index feature.\n\n    if (typeof category !== 'string' && !needCollect) {\n      return category;\n    } // Optimize for the scenario:\n    // category is ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // Notice, if a dataset dimension provide categroies, usually echarts\n    // should remove duplication except user tell echarts dont do that\n    // (set axis.deduplication = false), because echarts do not know whether\n    // the values in the category dimension has duplication (consider the\n    // parallel-aqi example)\n\n\n    if (needCollect && !this._deduplication) {\n      index = this.categories.length;\n      this.categories[index] = category;\n      return index;\n    }\n\n    var map = getOrCreateMap(this);\n    index = map.get(category);\n\n    if (index == null) {\n      if (needCollect) {\n        index = this.categories.length;\n        this.categories[index] = category;\n        map.set(category, index);\n      } else {\n        index = NaN;\n      }\n    }\n\n    return index;\n  }; // Consider big data, do not create map until needed.\n\n\n  function getOrCreateMap(ordinalMeta) {\n    return ordinalMeta._map || (ordinalMeta._map = createHashMap$a(ordinalMeta.categories));\n  }\n\n  function getName(obj) {\n    if (isObject$d(obj) && obj.value != null) {\n      return obj.value;\n    } else {\n      return obj + '';\n    }\n  }\n\n  var _default$1o = OrdinalMeta;\n  var OrdinalMeta_1 = _default$1o;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Linear continuous scale\n   * @module echarts/coord/scale/Ordinal\n   *\n   * http://en.wikipedia.org/wiki/Level_of_measurement\n   */\n  // FIXME only one data\n  var scaleProto = Scale_1.prototype;\n  var OrdinalScale = Scale_1.extend({\n    type: 'ordinal',\n\n    /**\n     * @param {module:echarts/data/OrdianlMeta|Array.<string>} ordinalMeta\n     */\n    init: function (ordinalMeta, extent) {\n      // Caution: Should not use instanceof, consider ec-extensions using\n      // import approach to get OrdinalMeta class.\n      if (!ordinalMeta || util.isArray(ordinalMeta)) {\n        ordinalMeta = new OrdinalMeta_1({\n          categories: ordinalMeta\n        });\n      }\n\n      this._ordinalMeta = ordinalMeta;\n      this._extent = extent || [0, ordinalMeta.categories.length - 1];\n    },\n    parse: function (val) {\n      return typeof val === 'string' ? this._ordinalMeta.getOrdinal(val) // val might be float.\n      : Math.round(val);\n    },\n    contain: function (rank) {\n      rank = this.parse(rank);\n      return scaleProto.contain.call(this, rank) && this._ordinalMeta.categories[rank] != null;\n    },\n\n    /**\n     * Normalize given rank or name to linear [0, 1]\n     * @param {number|string} [val]\n     * @return {number}\n     */\n    normalize: function (val) {\n      return scaleProto.normalize.call(this, this.parse(val));\n    },\n    scale: function (val) {\n      return Math.round(scaleProto.scale.call(this, val));\n    },\n\n    /**\n     * @return {Array}\n     */\n    getTicks: function () {\n      var ticks = [];\n      var extent = this._extent;\n      var rank = extent[0];\n\n      while (rank <= extent[1]) {\n        ticks.push(rank);\n        rank++;\n      }\n\n      return ticks;\n    },\n\n    /**\n     * Get item on rank n\n     * @param {number} n\n     * @return {string}\n     */\n    getLabel: function (n) {\n      if (!this.isBlank()) {\n        // Note that if no data, ordinalMeta.categories is an empty array.\n        return this._ordinalMeta.categories[n];\n      }\n    },\n\n    /**\n     * @return {number}\n     */\n    count: function () {\n      return this._extent[1] - this._extent[0] + 1;\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n      this.unionExtent(data.getApproximateExtent(dim));\n    },\n    getOrdinalMeta: function () {\n      return this._ordinalMeta;\n    },\n    niceTicks: util.noop,\n    niceExtent: util.noop\n  });\n  /**\n   * @return {module:echarts/scale/Time}\n   */\n\n  OrdinalScale.create = function () {\n    return new OrdinalScale();\n  };\n\n  var _default$1p = OrdinalScale;\n  var Ordinal = _default$1p;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * For testable.\n   */\n  var roundNumber = number.round;\n  /**\n   * @param {Array.<number>} extent Both extent[0] and extent[1] should be valid number.\n   *                                Should be extent[0] < extent[1].\n   * @param {number} splitNumber splitNumber should be >= 1.\n   * @param {number} [minInterval]\n   * @param {number} [maxInterval]\n   * @return {Object} {interval, intervalPrecision, niceTickExtent}\n   */\n\n  function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n    var result = {};\n    var span = extent[1] - extent[0];\n    var interval = result.interval = number.nice(span / splitNumber, true);\n\n    if (minInterval != null && interval < minInterval) {\n      interval = result.interval = minInterval;\n    }\n\n    if (maxInterval != null && interval > maxInterval) {\n      interval = result.interval = maxInterval;\n    } // Tow more digital for tick.\n\n\n    var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n    var niceTickExtent = result.niceTickExtent = [roundNumber(Math.ceil(extent[0] / interval) * interval, precision), roundNumber(Math.floor(extent[1] / interval) * interval, precision)];\n    fixExtent(niceTickExtent, extent);\n    return result;\n  }\n  /**\n   * @param {number} interval\n   * @return {number} interval precision\n   */\n\n\n  function getIntervalPrecision(interval) {\n    // Tow more digital for tick.\n    return number.getPrecisionSafe(interval) + 2;\n  }\n\n  function clamp(niceTickExtent, idx, extent) {\n    niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n  } // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\n  function fixExtent(niceTickExtent, extent) {\n    !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n    !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n    clamp(niceTickExtent, 0, extent);\n    clamp(niceTickExtent, 1, extent);\n\n    if (niceTickExtent[0] > niceTickExtent[1]) {\n      niceTickExtent[0] = niceTickExtent[1];\n    }\n  }\n\n  var intervalScaleNiceTicks_1 = intervalScaleNiceTicks;\n  var getIntervalPrecision_1 = getIntervalPrecision;\n  var fixExtent_1 = fixExtent;\n\n  var helper$1 = {\n  \tintervalScaleNiceTicks: intervalScaleNiceTicks_1,\n  \tgetIntervalPrecision: getIntervalPrecision_1,\n  \tfixExtent: fixExtent_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Interval scale\n   * @module echarts/scale/Interval\n   */\n  var roundNumber$1 = number.round;\n  /**\n   * @alias module:echarts/coord/scale/Interval\n   * @constructor\n   */\n\n  var IntervalScale = Scale_1.extend({\n    type: 'interval',\n    _interval: 0,\n    _intervalPrecision: 2,\n    setExtent: function (start, end) {\n      var thisExtent = this._extent; //start,end may be a Number like '25',so...\n\n      if (!isNaN(start)) {\n        thisExtent[0] = parseFloat(start);\n      }\n\n      if (!isNaN(end)) {\n        thisExtent[1] = parseFloat(end);\n      }\n    },\n    unionExtent: function (other) {\n      var extent = this._extent;\n      other[0] < extent[0] && (extent[0] = other[0]);\n      other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n      IntervalScale.prototype.setExtent.call(this, extent[0], extent[1]);\n    },\n\n    /**\n     * Get interval\n     */\n    getInterval: function () {\n      return this._interval;\n    },\n\n    /**\n     * Set interval\n     */\n    setInterval: function (interval) {\n      this._interval = interval; // Dropped auto calculated niceExtent and use user setted extent\n      // We assume user wan't to set both interval, min, max to get a better result\n\n      this._niceExtent = this._extent.slice();\n      this._intervalPrecision = helper$1.getIntervalPrecision(interval);\n    },\n\n    /**\n     * @param {boolean} [expandToNicedExtent=false] If expand the ticks to niced extent.\n     * @return {Array.<number>}\n     */\n    getTicks: function (expandToNicedExtent) {\n      var interval = this._interval;\n      var extent = this._extent;\n      var niceTickExtent = this._niceExtent;\n      var intervalPrecision = this._intervalPrecision;\n      var ticks = []; // If interval is 0, return [];\n\n      if (!interval) {\n        return ticks;\n      } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n      var safeLimit = 10000;\n\n      if (extent[0] < niceTickExtent[0]) {\n        if (expandToNicedExtent) {\n          ticks.push(roundNumber$1(niceTickExtent[0] - interval, intervalPrecision));\n        } else {\n          ticks.push(extent[0]);\n        }\n      }\n\n      var tick = niceTickExtent[0];\n\n      while (tick <= niceTickExtent[1]) {\n        ticks.push(tick); // Avoid rounding error\n\n        tick = roundNumber$1(tick + interval, intervalPrecision);\n\n        if (tick === ticks[ticks.length - 1]) {\n          // Consider out of safe float point, e.g.,\n          // -3711126.9907707 + 2e-10 === -3711126.9907707\n          break;\n        }\n\n        if (ticks.length > safeLimit) {\n          return [];\n        }\n      } // Consider this case: the last item of ticks is smaller\n      // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n      var lastNiceTick = ticks.length ? ticks[ticks.length - 1] : niceTickExtent[1];\n\n      if (extent[1] > lastNiceTick) {\n        if (expandToNicedExtent) {\n          ticks.push(roundNumber$1(lastNiceTick + interval, intervalPrecision));\n        } else {\n          ticks.push(extent[1]);\n        }\n      }\n\n      return ticks;\n    },\n\n    /**\n     * @param {number} [splitNumber=5]\n     * @return {Array.<Array.<number>>}\n     */\n    getMinorTicks: function (splitNumber) {\n      var ticks = this.getTicks(true);\n      var minorTicks = [];\n      var extent = this.getExtent();\n\n      for (var i = 1; i < ticks.length; i++) {\n        var nextTick = ticks[i];\n        var prevTick = ticks[i - 1];\n        var count = 0;\n        var minorTicksGroup = [];\n        var interval = nextTick - prevTick;\n        var minorInterval = interval / splitNumber;\n\n        while (count < splitNumber - 1) {\n          var minorTick = number.round(prevTick + (count + 1) * minorInterval); // For the first and last interval. The count may be less than splitNumber.\n\n          if (minorTick > extent[0] && minorTick < extent[1]) {\n            minorTicksGroup.push(minorTick);\n          }\n\n          count++;\n        }\n\n        minorTicks.push(minorTicksGroup);\n      }\n\n      return minorTicks;\n    },\n\n    /**\n     * @param {number} data\n     * @param {Object} [opt]\n     * @param {number|string} [opt.precision] If 'auto', use nice presision.\n     * @param {boolean} [opt.pad] returns 1.50 but not 1.5 if precision is 2.\n     * @return {string}\n     */\n    getLabel: function (data, opt) {\n      if (data == null) {\n        return '';\n      }\n\n      var precision = opt && opt.precision;\n\n      if (precision == null) {\n        precision = number.getPrecisionSafe(data) || 0;\n      } else if (precision === 'auto') {\n        // Should be more precise then tick.\n        precision = this._intervalPrecision;\n      } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n      // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n      data = roundNumber$1(data, precision, true);\n      return format$1.addCommas(data);\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     *\n     * @param {number} [splitNumber = 5] Desired number of ticks\n     * @param {number} [minInterval]\n     * @param {number} [maxInterval]\n     */\n    niceTicks: function (splitNumber, minInterval, maxInterval) {\n      splitNumber = splitNumber || 5;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n\n      if (!isFinite(span)) {\n        return;\n      } // User may set axis min 0 and data are all negative\n      // FIXME If it needs to reverse ?\n\n\n      if (span < 0) {\n        span = -span;\n        extent.reverse();\n      }\n\n      var result = helper$1.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n      this._intervalPrecision = result.intervalPrecision;\n      this._interval = result.interval;\n      this._niceExtent = result.niceTickExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @param {Object} opt\n     * @param {number} [opt.splitNumber = 5] Given approx tick number\n     * @param {boolean} [opt.fixMin=false]\n     * @param {boolean} [opt.fixMax=false]\n     * @param {boolean} [opt.minInterval]\n     * @param {boolean} [opt.maxInterval]\n     */\n    niceExtent: function (opt) {\n      var extent = this._extent; // If extent start and end are same, expand them\n\n      if (extent[0] === extent[1]) {\n        if (extent[0] !== 0) {\n          // Expand extent\n          var expandSize = extent[0]; // In the fowllowing case\n          //      Axis has been fixed max 100\n          //      Plus data are all 100 and axis extent are [100, 100].\n          // Extend to the both side will cause expanded max is larger than fixed max.\n          // So only expand to the smaller side.\n\n          if (!opt.fixMax) {\n            extent[1] += expandSize / 2;\n            extent[0] -= expandSize / 2;\n          } else {\n            extent[0] -= expandSize / 2;\n          }\n        } else {\n          extent[1] = 1;\n        }\n      }\n\n      var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n      if (!isFinite(span)) {\n        extent[0] = 0;\n        extent[1] = 1;\n      }\n\n      this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n      var interval = this._interval;\n\n      if (!opt.fixMin) {\n        extent[0] = roundNumber$1(Math.floor(extent[0] / interval) * interval);\n      }\n\n      if (!opt.fixMax) {\n        extent[1] = roundNumber$1(Math.ceil(extent[1] / interval) * interval);\n      }\n    }\n  });\n  /**\n   * @return {module:echarts/scale/Time}\n   */\n\n  IntervalScale.create = function () {\n    return new IntervalScale();\n  };\n\n  var _default$1q = IntervalScale;\n  var Interval = _default$1q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parsePercent$3 = number.parsePercent;\n\n\n\n  var isDimensionStacked$1 = dataStackHelper.isDimensionStacked;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float32Array */\n  var STACK_PREFIX = '__ec_stack_';\n  var LARGE_BAR_MIN_WIDTH = 0.5;\n  var LargeArr = typeof Float32Array !== 'undefined' ? Float32Array : Array;\n\n  function getSeriesStackId(seriesModel) {\n    return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n  }\n\n  function getAxisKey(axis) {\n    return axis.dim + axis.index;\n  }\n  /**\n   * @param {Object} opt\n   * @param {module:echarts/coord/Axis} opt.axis Only support category axis currently.\n   * @param {number} opt.count Positive interger.\n   * @param {number} [opt.barWidth]\n   * @param {number} [opt.barMaxWidth]\n   * @param {number} [opt.barMinWidth]\n   * @param {number} [opt.barGap]\n   * @param {number} [opt.barCategoryGap]\n   * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n   */\n\n\n  function getLayoutOnAxis(opt) {\n    var params = [];\n    var baseAxis = opt.axis;\n    var axisKey = 'axis0';\n\n    if (baseAxis.type !== 'category') {\n      return;\n    }\n\n    var bandWidth = baseAxis.getBandWidth();\n\n    for (var i = 0; i < opt.count || 0; i++) {\n      params.push(util.defaults({\n        bandWidth: bandWidth,\n        axisKey: axisKey,\n        stackId: STACK_PREFIX + i\n      }, opt));\n    }\n\n    var widthAndOffsets = doCalBarWidthAndOffset(params);\n    var result = [];\n\n    for (var i = 0; i < opt.count; i++) {\n      var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n      item.offsetCenter = item.offset + item.width / 2;\n      result.push(item);\n    }\n\n    return result;\n  }\n\n  function prepareLayoutBarSeries(seriesType, ecModel) {\n    var seriesModels = [];\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n      // Check series coordinate, do layout for cartesian2d only\n      if (isOnCartesian(seriesModel) && !isInLargeMode(seriesModel)) {\n        seriesModels.push(seriesModel);\n      }\n    });\n    return seriesModels;\n  }\n  /**\n   * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent\n   * values.\n   * This works for time axes, value axes, and log axes.\n   * For a single time axis, return value is in the form like\n   * {'x_0': [1000000]}.\n   * The value of 1000000 is in milliseconds.\n   */\n\n\n  function getValueAxesMinGaps(barSeries) {\n    /**\n     * Map from axis.index to values.\n     * For a single time axis, axisValues is in the form like\n     * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.\n     * Items in axisValues[x], e.g. 1495555200000, are time values of all\n     * series.\n     */\n    var axisValues = {};\n    util.each(barSeries, function (seriesModel) {\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n\n      if (baseAxis.type !== 'time' && baseAxis.type !== 'value') {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var key = baseAxis.dim + '_' + baseAxis.index;\n      var dim = data.mapDimension(baseAxis.dim);\n\n      for (var i = 0, cnt = data.count(); i < cnt; ++i) {\n        var value = data.get(dim, i);\n\n        if (!axisValues[key]) {\n          // No previous data for the axis\n          axisValues[key] = [value];\n        } else {\n          // No value in previous series\n          axisValues[key].push(value);\n        } // Ignore duplicated time values in the same axis\n\n      }\n    });\n    var axisMinGaps = [];\n\n    for (var key in axisValues) {\n      if (axisValues.hasOwnProperty(key)) {\n        var valuesInAxis = axisValues[key];\n\n        if (valuesInAxis) {\n          // Sort axis values into ascending order to calculate gaps\n          valuesInAxis.sort(function (a, b) {\n            return a - b;\n          });\n          var min = null;\n\n          for (var j = 1; j < valuesInAxis.length; ++j) {\n            var delta = valuesInAxis[j] - valuesInAxis[j - 1];\n\n            if (delta > 0) {\n              // Ignore 0 delta because they are of the same axis value\n              min = min === null ? delta : Math.min(min, delta);\n            }\n          } // Set to null if only have one data\n\n\n          axisMinGaps[key] = min;\n        }\n      }\n    }\n\n    return axisMinGaps;\n  }\n\n  function makeColumnLayout(barSeries) {\n    var axisMinGaps = getValueAxesMinGaps(barSeries);\n    var seriesInfoList = [];\n    util.each(barSeries, function (seriesModel) {\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var axisExtent = baseAxis.getExtent();\n      var bandWidth;\n\n      if (baseAxis.type === 'category') {\n        bandWidth = baseAxis.getBandWidth();\n      } else if (baseAxis.type === 'value' || baseAxis.type === 'time') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n        var minGap = axisMinGaps[key];\n        var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);\n        var scale = baseAxis.scale.getExtent();\n        var scaleSpan = Math.abs(scale[1] - scale[0]);\n        bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan; // When there is only one data value\n      } else {\n        var data = seriesModel.getData();\n        bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n      }\n\n      var barWidth = parsePercent$3(seriesModel.get('barWidth'), bandWidth);\n      var barMaxWidth = parsePercent$3(seriesModel.get('barMaxWidth'), bandWidth);\n      var barMinWidth = parsePercent$3( // barMinWidth by default is 1 in cartesian. Because in value axis,\n      // the auto-calculated bar width might be less than 1.\n      seriesModel.get('barMinWidth') || 1, bandWidth);\n      var barGap = seriesModel.get('barGap');\n      var barCategoryGap = seriesModel.get('barCategoryGap');\n      seriesInfoList.push({\n        bandWidth: bandWidth,\n        barWidth: barWidth,\n        barMaxWidth: barMaxWidth,\n        barMinWidth: barMinWidth,\n        barGap: barGap,\n        barCategoryGap: barCategoryGap,\n        axisKey: getAxisKey(baseAxis),\n        stackId: getSeriesStackId(seriesModel)\n      });\n    });\n    return doCalBarWidthAndOffset(seriesInfoList);\n  }\n\n  function doCalBarWidthAndOffset(seriesInfoList) {\n    // Columns info on each category axis. Key is cartesian name\n    var columnsMap = {};\n    util.each(seriesInfoList, function (seriesInfo, idx) {\n      var axisKey = seriesInfo.axisKey;\n      var bandWidth = seriesInfo.bandWidth;\n      var columnsOnAxis = columnsMap[axisKey] || {\n        bandWidth: bandWidth,\n        remainedWidth: bandWidth,\n        autoWidthCount: 0,\n        categoryGap: '20%',\n        gap: '30%',\n        stacks: {}\n      };\n      var stacks = columnsOnAxis.stacks;\n      columnsMap[axisKey] = columnsOnAxis;\n      var stackId = seriesInfo.stackId;\n\n      if (!stacks[stackId]) {\n        columnsOnAxis.autoWidthCount++;\n      }\n\n      stacks[stackId] = stacks[stackId] || {\n        width: 0,\n        maxWidth: 0\n      }; // Caution: In a single coordinate system, these barGrid attributes\n      // will be shared by series. Consider that they have default values,\n      // only the attributes set on the last series will work.\n      // Do not change this fact unless there will be a break change.\n\n      var barWidth = seriesInfo.barWidth;\n\n      if (barWidth && !stacks[stackId].width) {\n        // See #6312, do not restrict width.\n        stacks[stackId].width = barWidth;\n        barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n        columnsOnAxis.remainedWidth -= barWidth;\n      }\n\n      var barMaxWidth = seriesInfo.barMaxWidth;\n      barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n      var barMinWidth = seriesInfo.barMinWidth;\n      barMinWidth && (stacks[stackId].minWidth = barMinWidth);\n      var barGap = seriesInfo.barGap;\n      barGap != null && (columnsOnAxis.gap = barGap);\n      var barCategoryGap = seriesInfo.barCategoryGap;\n      barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n    });\n    var result = {};\n    util.each(columnsMap, function (columnsOnAxis, coordSysName) {\n      result[coordSysName] = {};\n      var stacks = columnsOnAxis.stacks;\n      var bandWidth = columnsOnAxis.bandWidth;\n      var categoryGap = parsePercent$3(columnsOnAxis.categoryGap, bandWidth);\n      var barGapPercent = parsePercent$3(columnsOnAxis.gap, 1);\n      var remainedWidth = columnsOnAxis.remainedWidth;\n      var autoWidthCount = columnsOnAxis.autoWidthCount;\n      var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n      autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n      util.each(stacks, function (column) {\n        var maxWidth = column.maxWidth;\n        var minWidth = column.minWidth;\n\n        if (!column.width) {\n          var finalWidth = autoWidth;\n\n          if (maxWidth && maxWidth < finalWidth) {\n            finalWidth = Math.min(maxWidth, remainedWidth);\n          } // `minWidth` has higher priority. `minWidth` decide that wheter the\n          // bar is able to be visible. So `minWidth` should not be restricted\n          // by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In\n          // the extreme cases for `value` axis, bars are allowed to overlap\n          // with each other if `minWidth` specified.\n\n\n          if (minWidth && minWidth > finalWidth) {\n            finalWidth = minWidth;\n          }\n\n          if (finalWidth !== autoWidth) {\n            column.width = finalWidth;\n            remainedWidth -= finalWidth + barGapPercent * finalWidth;\n            autoWidthCount--;\n          }\n        } else {\n          // `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as\n          // CSS does. Becuase barWidth can be a percent value, where\n          // `barMaxWidth` can be used to restrict the final width.\n          var finalWidth = column.width;\n\n          if (maxWidth) {\n            finalWidth = Math.min(finalWidth, maxWidth);\n          } // `minWidth` has higher priority, as described above\n\n\n          if (minWidth) {\n            finalWidth = Math.max(finalWidth, minWidth);\n          }\n\n          column.width = finalWidth;\n          remainedWidth -= finalWidth + barGapPercent * finalWidth;\n          autoWidthCount--;\n        }\n      }); // Recalculate width again\n\n      autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n      autoWidth = Math.max(autoWidth, 0);\n      var widthSum = 0;\n      var lastColumn;\n      util.each(stacks, function (column, idx) {\n        if (!column.width) {\n          column.width = autoWidth;\n        }\n\n        lastColumn = column;\n        widthSum += column.width * (1 + barGapPercent);\n      });\n\n      if (lastColumn) {\n        widthSum -= lastColumn.width * barGapPercent;\n      }\n\n      var offset = -widthSum / 2;\n      util.each(stacks, function (column, stackId) {\n        result[coordSysName][stackId] = result[coordSysName][stackId] || {\n          bandWidth: bandWidth,\n          offset: offset,\n          width: column.width\n        };\n        offset += column.width * (1 + barGapPercent);\n      });\n    });\n    return result;\n  }\n  /**\n   * @param {Object} barWidthAndOffset The result of makeColumnLayout\n   * @param {module:echarts/coord/Axis} axis\n   * @param {module:echarts/model/Series} [seriesModel] If not provided, return all.\n   * @return {Object} {stackId: {offset, width}} or {offset, width} if seriesModel provided.\n   */\n\n\n  function retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n    if (barWidthAndOffset && axis) {\n      var result = barWidthAndOffset[getAxisKey(axis)];\n\n      if (result != null && seriesModel != null) {\n        result = result[getSeriesStackId(seriesModel)];\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @param {string} seriesType\n   * @param {module:echarts/model/Global} ecModel\n   */\n\n\n  function layout$1(seriesType, ecModel) {\n    var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n    var barWidthAndOffset = makeColumnLayout(seriesModels);\n    var lastStackCoords = {};\n    util.each(seriesModels, function (seriesModel) {\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var stackId = getSeriesStackId(seriesModel);\n      var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n      var columnOffset = columnLayoutInfo.offset;\n      var columnWidth = columnLayoutInfo.width;\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var barMinHeight = seriesModel.get('barMinHeight') || 0;\n      lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n\n      data.setLayout({\n        bandWidth: columnLayoutInfo.bandWidth,\n        offset: columnOffset,\n        size: columnWidth\n      });\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var baseDim = data.mapDimension(baseAxis.dim);\n      var stacked = isDimensionStacked$1(data, valueDim\n      /*, baseDim*/\n      );\n      var isValueAxisH = valueAxis.isHorizontal();\n      var valueAxisStart = getValueAxisStart(baseAxis, valueAxis);\n\n      for (var idx = 0, len = data.count(); idx < len; idx++) {\n        var value = data.get(valueDim, idx);\n        var baseValue = data.get(baseDim, idx);\n        var sign = value >= 0 ? 'p' : 'n';\n        var baseCoord = valueAxisStart; // Because of the barMinHeight, we can not use the value in\n        // stackResultDimension directly.\n\n        if (stacked) {\n          // Only ordinal axis can be stacked.\n          if (!lastStackCoords[stackId][baseValue]) {\n            lastStackCoords[stackId][baseValue] = {\n              p: valueAxisStart,\n              // Positive stack\n              n: valueAxisStart // Negative stack\n\n            };\n          } // Should also consider #4243\n\n\n          baseCoord = lastStackCoords[stackId][baseValue][sign];\n        }\n\n        var x;\n        var y;\n        var width;\n        var height;\n\n        if (isValueAxisH) {\n          var coord = cartesian.dataToPoint([value, baseValue]);\n          x = baseCoord;\n          y = coord[1] + columnOffset;\n          width = coord[0] - valueAxisStart;\n          height = columnWidth;\n\n          if (Math.abs(width) < barMinHeight) {\n            width = (width < 0 ? -1 : 1) * barMinHeight;\n          } // Ignore stack from NaN value\n\n\n          if (!isNaN(width)) {\n            stacked && (lastStackCoords[stackId][baseValue][sign] += width);\n          }\n        } else {\n          var coord = cartesian.dataToPoint([baseValue, value]);\n          x = coord[0] + columnOffset;\n          y = baseCoord;\n          width = columnWidth;\n          height = coord[1] - valueAxisStart;\n\n          if (Math.abs(height) < barMinHeight) {\n            // Include zero to has a positive bar\n            height = (height <= 0 ? -1 : 1) * barMinHeight;\n          } // Ignore stack from NaN value\n\n\n          if (!isNaN(height)) {\n            stacked && (lastStackCoords[stackId][baseValue][sign] += height);\n          }\n        }\n\n        data.setItemLayout(idx, {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        });\n      }\n    }, this);\n  } // TODO: Do not support stack in large mode yet.\n\n\n  var largeLayout = {\n    seriesType: 'bar',\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      if (!isOnCartesian(seriesModel) || !isInLargeMode(seriesModel)) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var coordLayout = cartesian.grid.getRect();\n      var baseAxis = cartesian.getBaseAxis();\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var baseDim = data.mapDimension(baseAxis.dim);\n      var valueAxisHorizontal = valueAxis.isHorizontal();\n      var valueDimIdx = valueAxisHorizontal ? 0 : 1;\n      var barWidth = retrieveColumnLayout(makeColumnLayout([seriesModel]), baseAxis, seriesModel).width;\n\n      if (!(barWidth > LARGE_BAR_MIN_WIDTH)) {\n        // jshint ignore:line\n        barWidth = LARGE_BAR_MIN_WIDTH;\n      }\n\n      return {\n        progress: progress\n      };\n\n      function progress(params, data) {\n        var count = params.count;\n        var largePoints = new LargeArr(count * 2);\n        var largeBackgroundPoints = new LargeArr(count * 2);\n        var largeDataIndices = new LargeArr(count);\n        var dataIndex;\n        var coord = [];\n        var valuePair = [];\n        var pointsOffset = 0;\n        var idxOffset = 0;\n\n        while ((dataIndex = params.next()) != null) {\n          valuePair[valueDimIdx] = data.get(valueDim, dataIndex);\n          valuePair[1 - valueDimIdx] = data.get(baseDim, dataIndex);\n          coord = cartesian.dataToPoint(valuePair, null, coord); // Data index might not be in order, depends on `progressiveChunkMode`.\n\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coordLayout.x + coordLayout.width : coord[0];\n          largePoints[pointsOffset++] = coord[0];\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coord[1] : coordLayout.y + coordLayout.height;\n          largePoints[pointsOffset++] = coord[1];\n          largeDataIndices[idxOffset++] = dataIndex;\n        }\n\n        data.setLayout({\n          largePoints: largePoints,\n          largeDataIndices: largeDataIndices,\n          largeBackgroundPoints: largeBackgroundPoints,\n          barWidth: barWidth,\n          valueAxisStart: getValueAxisStart(baseAxis, valueAxis),\n          backgroundStart: valueAxisHorizontal ? coordLayout.x : coordLayout.y,\n          valueAxisHorizontal: valueAxisHorizontal\n        });\n      }\n    }\n  };\n\n  function isOnCartesian(seriesModel) {\n    return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n  }\n\n  function isInLargeMode(seriesModel) {\n    return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n  } // See cases in `test/bar-start.html` and `#7412`, `#8747`.\n\n\n  function getValueAxisStart(baseAxis, valueAxis, stacked) {\n    return valueAxis.toGlobalCoord(valueAxis.dataToCoord(valueAxis.type === 'log' ? 1 : 0));\n  }\n\n  var getLayoutOnAxis_1 = getLayoutOnAxis;\n  var prepareLayoutBarSeries_1 = prepareLayoutBarSeries;\n  var makeColumnLayout_1 = makeColumnLayout;\n  var retrieveColumnLayout_1 = retrieveColumnLayout;\n  var layout_1 = layout$1;\n  var largeLayout_1 = largeLayout;\n\n  var barGrid = {\n  \tgetLayoutOnAxis: getLayoutOnAxis_1,\n  \tprepareLayoutBarSeries: prepareLayoutBarSeries_1,\n  \tmakeColumnLayout: makeColumnLayout_1,\n  \tretrieveColumnLayout: retrieveColumnLayout_1,\n  \tlayout: layout_1,\n  \tlargeLayout: largeLayout_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * A third-party license is embeded for some of the code in this file:\n  * The \"scaleLevels\" was originally copied from \"d3.js\" with some\n  * modifications made for this project.\n  * (See more details in the comment on the definition of \"scaleLevels\" below.)\n  * The use of the source code of this file is also subject to the terms\n  * and consitions of the license of \"d3.js\" (BSD-3Clause, see\n  * </licenses/LICENSE-d3>).\n  */\n  // [About UTC and local time zone]:\n  // In most cases, `number.parseDate` will treat input data string as local time\n  // (except time zone is specified in time string). And `format.formateTime` returns\n  // local time by default. option.useUTC is false by default. This design have\n  // concidered these common case:\n  // (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n  // in local time by default.\n  // (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n  // as its original time, without any time difference.\n  var intervalScaleProto = Interval.prototype;\n  var mathCeil = Math.ceil;\n  var mathFloor = Math.floor;\n  var ONE_SECOND = 1000;\n  var ONE_MINUTE = ONE_SECOND * 60;\n  var ONE_HOUR = ONE_MINUTE * 60;\n  var ONE_DAY = ONE_HOUR * 24; // FIXME \n\n  var bisect = function (a, x, lo, hi) {\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n\n      if (a[mid][1] < x) {\n        lo = mid + 1;\n      } else {\n        hi = mid;\n      }\n    }\n\n    return lo;\n  };\n  /**\n   * @alias module:echarts/coord/scale/Time\n   * @constructor\n   */\n\n\n  var TimeScale = Interval.extend({\n    type: 'time',\n\n    /**\n     * @override\n     */\n    getLabel: function (val) {\n      var stepLvl = this._stepLvl;\n      var date = new Date(val);\n      return format$1.formatTime(stepLvl[0], date, this.getSetting('useUTC'));\n    },\n\n    /**\n     * @override\n     */\n    niceExtent: function (opt) {\n      var extent = this._extent; // If extent start and end are same, expand them\n\n      if (extent[0] === extent[1]) {\n        // Expand extent\n        extent[0] -= ONE_DAY;\n        extent[1] += ONE_DAY;\n      } // If there are no data and extent are [Infinity, -Infinity]\n\n\n      if (extent[1] === -Infinity && extent[0] === Infinity) {\n        var d = new Date();\n        extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n        extent[0] = extent[1] - ONE_DAY;\n      }\n\n      this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n      var interval = this._interval;\n\n      if (!opt.fixMin) {\n        extent[0] = number.round(mathFloor(extent[0] / interval) * interval);\n      }\n\n      if (!opt.fixMax) {\n        extent[1] = number.round(mathCeil(extent[1] / interval) * interval);\n      }\n    },\n\n    /**\n     * @override\n     */\n    niceTicks: function (approxTickNum, minInterval, maxInterval) {\n      approxTickNum = approxTickNum || 10;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n      var approxInterval = span / approxTickNum;\n\n      if (minInterval != null && approxInterval < minInterval) {\n        approxInterval = minInterval;\n      }\n\n      if (maxInterval != null && approxInterval > maxInterval) {\n        approxInterval = maxInterval;\n      }\n\n      var scaleLevelsLen = scaleLevels.length;\n      var idx = bisect(scaleLevels, approxInterval, 0, scaleLevelsLen);\n      var level = scaleLevels[Math.min(idx, scaleLevelsLen - 1)];\n      var interval = level[1]; // Same with interval scale if span is much larger than 1 year\n\n      if (level[0] === 'year') {\n        var yearSpan = span / interval; // From \"Nice Numbers for Graph Labels\" of Graphic Gems\n        // var niceYearSpan = numberUtil.nice(yearSpan, false);\n\n        var yearStep = number.nice(yearSpan / approxTickNum, true);\n        interval *= yearStep;\n      }\n\n      var timezoneOffset = this.getSetting('useUTC') ? 0 : new Date(+extent[0] || +extent[1]).getTimezoneOffset() * 60 * 1000;\n      var niceExtent = [Math.round(mathCeil((extent[0] - timezoneOffset) / interval) * interval + timezoneOffset), Math.round(mathFloor((extent[1] - timezoneOffset) / interval) * interval + timezoneOffset)];\n      helper$1.fixExtent(niceExtent, extent);\n      this._stepLvl = level; // Interval will be used in getTicks\n\n      this._interval = interval;\n      this._niceExtent = niceExtent;\n    },\n    parse: function (val) {\n      // val might be float.\n      return +number.parseDate(val);\n    }\n  });\n  util.each(['contain', 'normalize'], function (methodName) {\n    TimeScale.prototype[methodName] = function (val) {\n      return intervalScaleProto[methodName].call(this, this.parse(val));\n    };\n  });\n  /**\n   * This implementation was originally copied from \"d3.js\"\n   * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n   * with some modifications made for this program.\n   * See the license statement at the head of this file.\n   */\n\n  var scaleLevels = [// Format              interval\n  ['hh:mm:ss', ONE_SECOND], // 1s\n  ['hh:mm:ss', ONE_SECOND * 5], // 5s\n  ['hh:mm:ss', ONE_SECOND * 10], // 10s\n  ['hh:mm:ss', ONE_SECOND * 15], // 15s\n  ['hh:mm:ss', ONE_SECOND * 30], // 30s\n  ['hh:mm\\nMM-dd', ONE_MINUTE], // 1m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 5], // 5m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 10], // 10m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 15], // 15m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 30], // 30m\n  ['hh:mm\\nMM-dd', ONE_HOUR], // 1h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 2], // 2h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 6], // 6h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 12], // 12h\n  ['MM-dd\\nyyyy', ONE_DAY], // 1d\n  ['MM-dd\\nyyyy', ONE_DAY * 2], // 2d\n  ['MM-dd\\nyyyy', ONE_DAY * 3], // 3d\n  ['MM-dd\\nyyyy', ONE_DAY * 4], // 4d\n  ['MM-dd\\nyyyy', ONE_DAY * 5], // 5d\n  ['MM-dd\\nyyyy', ONE_DAY * 6], // 6d\n  ['week', ONE_DAY * 7], // 7d\n  ['MM-dd\\nyyyy', ONE_DAY * 10], // 10d\n  ['week', ONE_DAY * 14], // 2w\n  ['week', ONE_DAY * 21], // 3w\n  ['month', ONE_DAY * 31], // 1M\n  ['week', ONE_DAY * 42], // 6w\n  ['month', ONE_DAY * 62], // 2M\n  ['week', ONE_DAY * 70], // 10w\n  ['quarter', ONE_DAY * 95], // 3M\n  ['month', ONE_DAY * 31 * 4], // 4M\n  ['month', ONE_DAY * 31 * 5], // 5M\n  ['half-year', ONE_DAY * 380 / 2], // 6M\n  ['month', ONE_DAY * 31 * 8], // 8M\n  ['month', ONE_DAY * 31 * 10], // 10M\n  ['year', ONE_DAY * 380] // 1Y\n  ];\n  /**\n   * @param {module:echarts/model/Model}\n   * @return {module:echarts/scale/Time}\n   */\n\n  TimeScale.create = function (model) {\n    return new TimeScale({\n      useUTC: model.ecModel.get('useUTC')\n    });\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Log scale\n   * @module echarts/scale/Log\n   */\n  // Use some method of IntervalScale\n  var scaleProto$1 = Scale_1.prototype;\n  var intervalScaleProto$1 = Interval.prototype;\n  var getPrecisionSafe$1 = number.getPrecisionSafe;\n  var roundingErrorFix = number.round;\n  var mathFloor$1 = Math.floor;\n  var mathCeil$1 = Math.ceil;\n  var mathPow$1 = Math.pow;\n  var mathLog = Math.log;\n  var LogScale = Scale_1.extend({\n    type: 'log',\n    base: 10,\n    $constructor: function () {\n      Scale_1.apply(this, arguments);\n      this._originalScale = new Interval();\n    },\n\n    /**\n     * @param {boolean} [expandToNicedExtent=false] If expand the ticks to niced extent.\n     * @return {Array.<number>}\n     */\n    getTicks: function (expandToNicedExtent) {\n      var originalScale = this._originalScale;\n      var extent = this._extent;\n      var originalExtent = originalScale.getExtent();\n      return util.map(intervalScaleProto$1.getTicks.call(this, expandToNicedExtent), function (val) {\n        var powVal = number.round(mathPow$1(this.base, val)); // Fix #4158\n\n        powVal = val === extent[0] && originalScale.__fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n        powVal = val === extent[1] && originalScale.__fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n        return powVal;\n      }, this);\n    },\n\n    /**\n     * @param {number} splitNumber\n     * @return {Array.<Array.<number>>}\n     */\n    getMinorTicks: intervalScaleProto$1.getMinorTicks,\n\n    /**\n     * @param {number} val\n     * @return {string}\n     */\n    getLabel: intervalScaleProto$1.getLabel,\n\n    /**\n     * @param  {number} val\n     * @return {number}\n     */\n    scale: function (val) {\n      val = scaleProto$1.scale.call(this, val);\n      return mathPow$1(this.base, val);\n    },\n\n    /**\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n      var base = this.base;\n      start = mathLog(start) / mathLog(base);\n      end = mathLog(end) / mathLog(base);\n      intervalScaleProto$1.setExtent.call(this, start, end);\n    },\n\n    /**\n     * @return {number} end\n     */\n    getExtent: function () {\n      var base = this.base;\n      var extent = scaleProto$1.getExtent.call(this);\n      extent[0] = mathPow$1(base, extent[0]);\n      extent[1] = mathPow$1(base, extent[1]); // Fix #4158\n\n      var originalScale = this._originalScale;\n      var originalExtent = originalScale.getExtent();\n      originalScale.__fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n      originalScale.__fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n      return extent;\n    },\n\n    /**\n     * @param  {Array.<number>} extent\n     */\n    unionExtent: function (extent) {\n      this._originalScale.unionExtent(extent);\n\n      var base = this.base;\n      extent[0] = mathLog(extent[0]) / mathLog(base);\n      extent[1] = mathLog(extent[1]) / mathLog(base);\n      scaleProto$1.unionExtent.call(this, extent);\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n      // TODO\n      // filter value that <= 0\n      this.unionExtent(data.getApproximateExtent(dim));\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     * @param  {number} [approxTickNum = 10] Given approx tick number\n     */\n    niceTicks: function (approxTickNum) {\n      approxTickNum = approxTickNum || 10;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n\n      if (span === Infinity || span <= 0) {\n        return;\n      }\n\n      var interval = number.quantity(span);\n      var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n      if (err <= 0.5) {\n        interval *= 10;\n      } // Interval should be integer\n\n\n      while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n        interval *= 10;\n      }\n\n      var niceExtent = [number.round(mathCeil$1(extent[0] / interval) * interval), number.round(mathFloor$1(extent[1] / interval) * interval)];\n      this._interval = interval;\n      this._niceExtent = niceExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @override\n     */\n    niceExtent: function (opt) {\n      intervalScaleProto$1.niceExtent.call(this, opt);\n      var originalScale = this._originalScale;\n      originalScale.__fixMin = opt.fixMin;\n      originalScale.__fixMax = opt.fixMax;\n    }\n  });\n  util.each(['contain', 'normalize'], function (methodName) {\n    LogScale.prototype[methodName] = function (val) {\n      val = mathLog(val) / mathLog(this.base);\n      return scaleProto$1[methodName].call(this, val);\n    };\n  });\n\n  LogScale.create = function () {\n    return new LogScale();\n  };\n\n  function fixRoundingError(val, originalVal) {\n    return roundingErrorFix(val, getPrecisionSafe$1(originalVal));\n  }\n\n  var _default$1r = LogScale;\n  var Log = _default$1r;\n\n  var prepareLayoutBarSeries$1 = barGrid.prepareLayoutBarSeries;\n  var makeColumnLayout$1 = barGrid.makeColumnLayout;\n  var retrieveColumnLayout$1 = barGrid.retrieveColumnLayout;\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Get axis scale extent before niced.\n   * Item of returned array can only be number (including Infinity and NaN).\n   */\n  function getScaleExtent(scale, model) {\n    var scaleType = scale.type;\n    var min = model.getMin();\n    var max = model.getMax();\n    var originalExtent = scale.getExtent();\n    var axisDataLen;\n    var boundaryGap;\n    var span;\n\n    if (scaleType === 'ordinal') {\n      axisDataLen = model.getCategories().length;\n    } else {\n      boundaryGap = model.get('boundaryGap');\n\n      if (!util.isArray(boundaryGap)) {\n        boundaryGap = [boundaryGap || 0, boundaryGap || 0];\n      }\n\n      if (typeof boundaryGap[0] === 'boolean') {\n        boundaryGap = [0, 0];\n      }\n\n      boundaryGap[0] = number.parsePercent(boundaryGap[0], 1);\n      boundaryGap[1] = number.parsePercent(boundaryGap[1], 1);\n      span = originalExtent[1] - originalExtent[0] || Math.abs(originalExtent[0]);\n    } // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n    // FIXME\n    // (1) When min/max is 'dataMin' or 'dataMax', should boundaryGap be able to used?\n    // (2) When `needCrossZero` and all data is positive/negative, should it be ensured\n    // that the results processed by boundaryGap are positive/negative?\n\n\n    if (min === 'dataMin') {\n      min = originalExtent[0];\n    } else if (typeof min === 'function') {\n      min = min({\n        min: originalExtent[0],\n        max: originalExtent[1]\n      });\n    }\n\n    if (max === 'dataMax') {\n      max = originalExtent[1];\n    } else if (typeof max === 'function') {\n      max = max({\n        min: originalExtent[0],\n        max: originalExtent[1]\n      });\n    }\n\n    var fixMin = min != null;\n    var fixMax = max != null;\n\n    if (min == null) {\n      min = scaleType === 'ordinal' ? axisDataLen ? 0 : NaN : originalExtent[0] - boundaryGap[0] * span;\n    }\n\n    if (max == null) {\n      max = scaleType === 'ordinal' ? axisDataLen ? axisDataLen - 1 : NaN : originalExtent[1] + boundaryGap[1] * span;\n    }\n\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n    scale.setBlank(util.eqNaN(min) || util.eqNaN(max) || scaleType === 'ordinal' && !scale.getOrdinalMeta().categories.length); // Evaluate if axis needs cross zero\n\n    if (model.getNeedCrossZero()) {\n      // Axis is over zero and min is not set\n      if (min > 0 && max > 0 && !fixMin) {\n        min = 0;\n      } // Axis is under zero and max is not set\n\n\n      if (min < 0 && max < 0 && !fixMax) {\n        max = 0;\n      }\n    } // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n    // is base axis\n    // FIXME\n    // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n    // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n    //     Should not depend on series type `bar`?\n    // (3) Fix that might overlap when using dataZoom.\n    // (4) Consider other chart types using `barGrid`?\n    // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n\n    var ecModel = model.ecModel;\n\n    if (ecModel && scaleType === 'time'\n    /*|| scaleType === 'interval' */\n    ) {\n      var barSeriesModels = prepareLayoutBarSeries$1('bar', ecModel);\n      var isBaseAxisAndHasBarSeries;\n      util.each(barSeriesModels, function (seriesModel) {\n        isBaseAxisAndHasBarSeries |= seriesModel.getBaseAxis() === model.axis;\n      });\n\n      if (isBaseAxisAndHasBarSeries) {\n        // Calculate placement of bars on axis\n        var barWidthAndOffset = makeColumnLayout$1(barSeriesModels); // Adjust axis min and max to account for overflow\n\n        var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n        min = adjustedScale.min;\n        max = adjustedScale.max;\n      }\n    }\n\n    return {\n      extent: [min, max],\n      // \"fix\" means \"fixed\", the value should not be\n      // changed in the subsequent steps.\n      fixMin: fixMin,\n      fixMax: fixMax\n    };\n  }\n\n  function adjustScaleForOverflow(min, max, model, barWidthAndOffset) {\n    // Get Axis Length\n    var axisExtent = model.axis.getExtent();\n    var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n    var barsOnCurrentAxis = retrieveColumnLayout$1(barWidthAndOffset, model.axis);\n\n    if (barsOnCurrentAxis === undefined) {\n      return {\n        min: min,\n        max: max\n      };\n    }\n\n    var minOverflow = Infinity;\n    util.each(barsOnCurrentAxis, function (item) {\n      minOverflow = Math.min(item.offset, minOverflow);\n    });\n    var maxOverflow = -Infinity;\n    util.each(barsOnCurrentAxis, function (item) {\n      maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n    });\n    minOverflow = Math.abs(minOverflow);\n    maxOverflow = Math.abs(maxOverflow);\n    var totalOverFlow = minOverflow + maxOverflow; // Calulate required buffer based on old range and overflow\n\n    var oldRange = max - min;\n    var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n    var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n    max += overflowBuffer * (maxOverflow / totalOverFlow);\n    min -= overflowBuffer * (minOverflow / totalOverFlow);\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  function niceScaleExtent(scale, model) {\n    var extentInfo = getScaleExtent(scale, model);\n    var extent = extentInfo.extent;\n    var splitNumber = model.get('splitNumber');\n\n    if (scale.type === 'log') {\n      scale.base = model.get('logBase');\n    }\n\n    var scaleType = scale.type;\n    scale.setExtent(extent[0], extent[1]);\n    scale.niceExtent({\n      splitNumber: splitNumber,\n      fixMin: extentInfo.fixMin,\n      fixMax: extentInfo.fixMax,\n      minInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('minInterval') : null,\n      maxInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('maxInterval') : null\n    }); // If some one specified the min, max. And the default calculated interval\n    // is not good enough. He can specify the interval. It is often appeared\n    // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n    // to be 60.\n    // FIXME\n\n    var interval = model.get('interval');\n\n    if (interval != null) {\n      scale.setInterval && scale.setInterval(interval);\n    }\n  }\n  /**\n   * @param {module:echarts/model/Model} model\n   * @param {string} [axisType] Default retrieve from model.type\n   * @return {module:echarts/scale/*}\n   */\n\n\n  function createScaleByModel(model, axisType) {\n    axisType = axisType || model.get('type');\n\n    if (axisType) {\n      switch (axisType) {\n        // Buildin scale\n        case 'category':\n          return new Ordinal(model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(), [Infinity, -Infinity]);\n\n        case 'value':\n          return new Interval();\n        // Extended scale, like time and log\n\n        default:\n          return (Scale_1.getClass(axisType) || Interval).create(model);\n      }\n    }\n  }\n  /**\n   * Check if the axis corss 0\n   */\n\n\n  function ifAxisCrossZero(axis) {\n    var dataExtent = axis.scale.getExtent();\n    var min = dataExtent[0];\n    var max = dataExtent[1];\n    return !(min > 0 && max > 0 || min < 0 && max < 0);\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @return {Function} Label formatter function.\n   *         param: {number} tickValue,\n   *         param: {number} idx, the index in all ticks.\n   *                         If category axis, this param is not requied.\n   *         return: {string} label string.\n   */\n\n\n  function makeLabelFormatter(axis) {\n    var labelFormatter = axis.getLabelModel().get('formatter');\n    var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n    if (typeof labelFormatter === 'string') {\n      labelFormatter = function (tpl) {\n        return function (val) {\n          // For category axis, get raw value; for numeric axis,\n          // get foramtted label like '1,333,444'.\n          val = axis.scale.getLabel(val);\n          return tpl.replace('{value}', val != null ? val : '');\n        };\n      }(labelFormatter); // Consider empty array\n\n\n      return labelFormatter;\n    } else if (typeof labelFormatter === 'function') {\n      return function (tickValue, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tickValue - categoryTickStart;\n        }\n\n        return labelFormatter(getAxisRawValue(axis, tickValue), idx);\n      };\n    } else {\n      return function (tick) {\n        return axis.scale.getLabel(tick);\n      };\n    }\n  }\n\n  function getAxisRawValue(axis, value) {\n    // In category axis with data zoom, tick is not the original\n    // index of axis.data. So tick should not be exposed to user\n    // in category axis.\n    return axis.type === 'category' ? axis.scale.getLabel(value) : value;\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @return {module:zrender/core/BoundingRect} Be null/undefined if no labels.\n   */\n\n\n  function estimateLabelUnionRect(axis) {\n    var axisModel = axis.model;\n    var scale = axis.scale;\n\n    if (!axisModel.get('axisLabel.show') || scale.isBlank()) {\n      return;\n    }\n\n    var isCategory = axis.type === 'category';\n    var realNumberScaleTicks;\n    var tickCount;\n    var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n    if (isCategory) {\n      tickCount = scale.count();\n    } else {\n      realNumberScaleTicks = scale.getTicks();\n      tickCount = realNumberScaleTicks.length;\n    }\n\n    var axisLabelModel = axis.getLabelModel();\n    var labelFormatter = makeLabelFormatter(axis);\n    var rect;\n    var step = 1; // Simple optimization for large amount of labels\n\n    if (tickCount > 40) {\n      step = Math.ceil(tickCount / 40);\n    }\n\n    for (var i = 0; i < tickCount; i += step) {\n      var tickValue = realNumberScaleTicks ? realNumberScaleTicks[i] : categoryScaleExtent[0] + i;\n      var label = labelFormatter(tickValue);\n      var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n      var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n      rect ? rect.union(singleRect) : rect = singleRect;\n    }\n\n    return rect;\n  }\n\n  function rotateTextRect(textRect, rotate) {\n    var rotateRadians = rotate * Math.PI / 180;\n    var boundingBox = textRect.plain();\n    var beforeWidth = boundingBox.width;\n    var beforeHeight = boundingBox.height;\n    var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n    var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n    var rotatedRect = new BoundingRect_1(boundingBox.x, boundingBox.y, afterWidth, afterHeight);\n    return rotatedRect;\n  }\n  /**\n   * @param {module:echarts/src/model/Model} model axisLabelModel or axisTickModel\n   * @return {number|String} Can be null|'auto'|number|function\n   */\n\n\n  function getOptionCategoryInterval(model) {\n    var interval = model.get('interval');\n    return interval == null ? 'auto' : interval;\n  }\n  /**\n   * Set `categoryInterval` as 0 implicitly indicates that\n   * show all labels reguardless of overlap.\n   * @param {Object} axis axisModel.axis\n   * @return {boolean}\n   */\n\n\n  function shouldShowAllLabels(axis) {\n    return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n  }\n\n  var getScaleExtent_1 = getScaleExtent;\n  var niceScaleExtent_1 = niceScaleExtent;\n  var createScaleByModel_1 = createScaleByModel;\n  var ifAxisCrossZero_1 = ifAxisCrossZero;\n  var makeLabelFormatter_1 = makeLabelFormatter;\n  var getAxisRawValue_1 = getAxisRawValue;\n  var estimateLabelUnionRect_1 = estimateLabelUnionRect;\n  var getOptionCategoryInterval_1 = getOptionCategoryInterval;\n  var shouldShowAllLabels_1 = shouldShowAllLabels;\n\n  var axisHelper = {\n  \tgetScaleExtent: getScaleExtent_1,\n  \tniceScaleExtent: niceScaleExtent_1,\n  \tcreateScaleByModel: createScaleByModel_1,\n  \tifAxisCrossZero: ifAxisCrossZero_1,\n  \tmakeLabelFormatter: makeLabelFormatter_1,\n  \tgetAxisRawValue: getAxisRawValue_1,\n  \testimateLabelUnionRect: estimateLabelUnionRect_1,\n  \tgetOptionCategoryInterval: getOptionCategoryInterval_1,\n  \tshouldShowAllLabels: shouldShowAllLabels_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import * as axisHelper from './axisHelper';\n  var _default$1s = {\n    /**\n     * @param {boolean} origin\n     * @return {number|string} min value or 'dataMin' or null/undefined (means auto) or NaN\n     */\n    getMin: function (origin) {\n      var option = this.option;\n      var min = !origin && option.rangeStart != null ? option.rangeStart : option.min;\n\n      if (this.axis && min != null && min !== 'dataMin' && typeof min !== 'function' && !util.eqNaN(min)) {\n        min = this.axis.scale.parse(min);\n      }\n\n      return min;\n    },\n\n    /**\n     * @param {boolean} origin\n     * @return {number|string} max value or 'dataMax' or null/undefined (means auto) or NaN\n     */\n    getMax: function (origin) {\n      var option = this.option;\n      var max = !origin && option.rangeEnd != null ? option.rangeEnd : option.max;\n\n      if (this.axis && max != null && max !== 'dataMax' && typeof max !== 'function' && !util.eqNaN(max)) {\n        max = this.axis.scale.parse(max);\n      }\n\n      return max;\n    },\n\n    /**\n     * @return {boolean}\n     */\n    getNeedCrossZero: function () {\n      var option = this.option;\n      return option.rangeStart != null || option.rangeEnd != null ? false : !option.scale;\n    },\n\n    /**\n     * Should be implemented by each axis model if necessary.\n     * @return {module:echarts/model/Component} coordinate system model\n     */\n    getCoordSysModel: util.noop,\n\n    /**\n     * @param {number} rangeStart Can only be finite number or null/undefined or NaN.\n     * @param {number} rangeEnd Can only be finite number or null/undefined or NaN.\n     */\n    setRange: function (rangeStart, rangeEnd) {\n      this.option.rangeStart = rangeStart;\n      this.option.rangeEnd = rangeEnd;\n    },\n\n    /**\n     * Reset range\n     */\n    resetRange: function () {\n      // rangeStart and rangeEnd is readonly.\n      this.option.rangeStart = this.option.rangeEnd = null;\n    }\n  };\n  var axisModelCommonMixin = _default$1s;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var calculateTextPosition$1 = text.calculateTextPosition;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Symbol factory\n\n  /**\n   * Triangle shape\n   * @inner\n   */\n  var Triangle = graphic.extendShape({\n    type: 'triangle',\n    shape: {\n      cx: 0,\n      cy: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var cx = shape.cx;\n      var cy = shape.cy;\n      var width = shape.width / 2;\n      var height = shape.height / 2;\n      path.moveTo(cx, cy - height);\n      path.lineTo(cx + width, cy + height);\n      path.lineTo(cx - width, cy + height);\n      path.closePath();\n    }\n  });\n  /**\n   * Diamond shape\n   * @inner\n   */\n\n  var Diamond = graphic.extendShape({\n    type: 'diamond',\n    shape: {\n      cx: 0,\n      cy: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var cx = shape.cx;\n      var cy = shape.cy;\n      var width = shape.width / 2;\n      var height = shape.height / 2;\n      path.moveTo(cx, cy - height);\n      path.lineTo(cx + width, cy);\n      path.lineTo(cx, cy + height);\n      path.lineTo(cx - width, cy);\n      path.closePath();\n    }\n  });\n  /**\n   * Pin shape\n   * @inner\n   */\n\n  var Pin = graphic.extendShape({\n    type: 'pin',\n    shape: {\n      // x, y on the cusp\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var x = shape.x;\n      var y = shape.y;\n      var w = shape.width / 5 * 3; // Height must be larger than width\n\n      var h = Math.max(w, shape.height);\n      var r = w / 2; // Dist on y with tangent point and circle center\n\n      var dy = r * r / (h - r);\n      var cy = y - h + r + dy;\n      var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n      var dx = Math.cos(angle) * r;\n      var tanX = Math.sin(angle);\n      var tanY = Math.cos(angle);\n      var cpLen = r * 0.6;\n      var cpLen2 = r * 0.7;\n      path.moveTo(x - dx, cy + dy);\n      path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n      path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n      path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n      path.closePath();\n    }\n  });\n  /**\n   * Arrow shape\n   * @inner\n   */\n\n  var Arrow = graphic.extendShape({\n    type: 'arrow',\n    shape: {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (ctx, shape) {\n      var height = shape.height;\n      var width = shape.width;\n      var x = shape.x;\n      var y = shape.y;\n      var dx = width / 3 * 2;\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + dx, y + height);\n      ctx.lineTo(x, y + height / 4 * 3);\n      ctx.lineTo(x - dx, y + height);\n      ctx.lineTo(x, y);\n      ctx.closePath();\n    }\n  });\n  /**\n   * Map of path contructors\n   * @type {Object.<string, module:zrender/graphic/Path>}\n   */\n\n  var symbolCtors = {\n    line: graphic.Line,\n    rect: graphic.Rect,\n    roundRect: graphic.Rect,\n    square: graphic.Rect,\n    circle: graphic.Circle,\n    diamond: Diamond,\n    pin: Pin,\n    arrow: Arrow,\n    triangle: Triangle\n  };\n  var symbolShapeMakers = {\n    line: function (x, y, w, h, shape) {\n      // FIXME\n      shape.x1 = x;\n      shape.y1 = y + h / 2;\n      shape.x2 = x + w;\n      shape.y2 = y + h / 2;\n    },\n    rect: function (x, y, w, h, shape) {\n      shape.x = x;\n      shape.y = y;\n      shape.width = w;\n      shape.height = h;\n    },\n    roundRect: function (x, y, w, h, shape) {\n      shape.x = x;\n      shape.y = y;\n      shape.width = w;\n      shape.height = h;\n      shape.r = Math.min(w, h) / 4;\n    },\n    square: function (x, y, w, h, shape) {\n      var size = Math.min(w, h);\n      shape.x = x;\n      shape.y = y;\n      shape.width = size;\n      shape.height = size;\n    },\n    circle: function (x, y, w, h, shape) {\n      // Put circle in the center of square\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.r = Math.min(w, h) / 2;\n    },\n    diamond: function (x, y, w, h, shape) {\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    pin: function (x, y, w, h, shape) {\n      shape.x = x + w / 2;\n      shape.y = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    arrow: function (x, y, w, h, shape) {\n      shape.x = x + w / 2;\n      shape.y = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    triangle: function (x, y, w, h, shape) {\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    }\n  };\n  var symbolBuildProxies = {};\n  util.each(symbolCtors, function (Ctor, name) {\n    symbolBuildProxies[name] = new Ctor();\n  });\n  var SymbolClz = graphic.extendShape({\n    type: 'symbol',\n    shape: {\n      symbolType: '',\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    calculateTextPosition: function (out, style, rect) {\n      var res = calculateTextPosition$1(out, style, rect);\n      var shape = this.shape;\n\n      if (shape && shape.symbolType === 'pin' && style.textPosition === 'inside') {\n        res.y = rect.y + rect.height * 0.4;\n      }\n\n      return res;\n    },\n    buildPath: function (ctx, shape, inBundle) {\n      var symbolType = shape.symbolType;\n\n      if (symbolType !== 'none') {\n        var proxySymbol = symbolBuildProxies[symbolType];\n\n        if (!proxySymbol) {\n          // Default rect\n          symbolType = 'rect';\n          proxySymbol = symbolBuildProxies[symbolType];\n        }\n\n        symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n        proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n      }\n    }\n  }); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\n  function symbolPathSetColor(color, innerColor) {\n    if (this.type !== 'image') {\n      var symbolStyle = this.style;\n      var symbolShape = this.shape;\n\n      if (symbolShape && symbolShape.symbolType === 'line') {\n        symbolStyle.stroke = color;\n      } else if (this.__isEmptyBrush) {\n        symbolStyle.stroke = color;\n        symbolStyle.fill = innerColor || '#fff';\n      } else {\n        // FIXME  onlyStroke ?\n        symbolStyle.fill && (symbolStyle.fill = color);\n        symbolStyle.stroke && (symbolStyle.stroke = color);\n      }\n\n      this.dirty(false);\n    }\n  }\n  /**\n   * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n   * @param {string} symbolType\n   * @param {number} x\n   * @param {number} y\n   * @param {number} w\n   * @param {number} h\n   * @param {string} color\n   * @param {boolean} [keepAspect=false] whether to keep the ratio of w/h,\n   *                            for path and image only.\n   */\n\n\n  function createSymbol(symbolType, x, y, w, h, color, keepAspect) {\n    // TODO Support image object, DynamicImage.\n    var isEmpty = symbolType.indexOf('empty') === 0;\n\n    if (isEmpty) {\n      symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n    }\n\n    var symbolPath;\n\n    if (symbolType.indexOf('image://') === 0) {\n      symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect_1(x, y, w, h), keepAspect ? 'center' : 'cover');\n    } else if (symbolType.indexOf('path://') === 0) {\n      symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect_1(x, y, w, h), keepAspect ? 'center' : 'cover');\n    } else {\n      symbolPath = new SymbolClz({\n        shape: {\n          symbolType: symbolType,\n          x: x,\n          y: y,\n          width: w,\n          height: h\n        }\n      });\n    }\n\n    symbolPath.__isEmptyBrush = isEmpty;\n    symbolPath.setColor = symbolPathSetColor;\n    symbolPath.setColor(color);\n    return symbolPath;\n  }\n\n  var createSymbol_1 = createSymbol;\n\n  var symbol = {\n  \tcreateSymbol: createSymbol_1\n  };\n\n  var getLayoutRect_1$1 = layout.getLayoutRect;\n\n\n\n  var enableDataStack$2 = dataStackHelper.enableDataStack;\n  var isDimensionStacked$2 = dataStackHelper.isDimensionStacked;\n  var getStackedDimension$1 = dataStackHelper.getStackedDimension;\n\n\n\n  var completeDimensions$1 = completeDimensions_1;\n\n\n\n  var createDimensions$1 = createDimensions;\n\n\n\n  var createSymbol$1 = symbol.createSymbol;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import createGraphFromNodeEdge from './chart/helper/createGraphFromNodeEdge';\n\n  /**\n   * Create a muti dimension List structure from seriesModel.\n   * @param  {module:echarts/model/Model} seriesModel\n   * @return {module:echarts/data/List} list\n   */\n  function createList(seriesModel) {\n    return createListFromArray_1(seriesModel.getSource(), seriesModel);\n  } // export function createGraph(seriesModel) {\n  //     var nodes = seriesModel.get('data');\n  //     var links = seriesModel.get('links');\n  //     return createGraphFromNodeEdge(nodes, links, seriesModel);\n  // }\n\n\n  var dataStack$1 = {\n    isDimensionStacked: isDimensionStacked$2,\n    enableDataStack: enableDataStack$2,\n    getStackedDimension: getStackedDimension$1\n  };\n  /**\n   * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n   * @param {string} symbolDesc\n   * @param {number} x\n   * @param {number} y\n   * @param {number} w\n   * @param {number} h\n   * @param {string} color\n   */\n\n  /**\n   * Create scale\n   * @param {Array.<number>} dataExtent\n   * @param {Object|module:echarts/Model} option\n   */\n  function createScale(dataExtent, option) {\n    var axisModel = option;\n\n    if (!Model_1.isInstance(option)) {\n      axisModel = new Model_1(option);\n      util.mixin(axisModel, axisModelCommonMixin);\n    }\n\n    var scale = axisHelper.createScaleByModel(axisModel);\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n    axisHelper.niceScaleExtent(scale, axisModel);\n    return scale;\n  }\n  /**\n   * Mixin common methods to axis model,\n   *\n   * Inlcude methods\n   * `getFormattedLabels() => Array.<string>`\n   * `getCategories() => Array.<string>`\n   * `getMin(origin: boolean) => number`\n   * `getMax(origin: boolean) => number`\n   * `getNeedCrossZero() => boolean`\n   * `setRange(start: number, end: number)`\n   * `resetRange()`\n   */\n\n\n  function mixinAxisModelCommonMethods(Model) {\n    util.mixin(Model, axisModelCommonMixin);\n  }\n\n  var createList_1 = createList;\n  var dataStack_1 = dataStack$1;\n  var createScale_1 = createScale;\n  var mixinAxisModelCommonMethods_1 = mixinAxisModelCommonMethods;\n\n  var helper$2 = {\n  \tgetLayoutRect: getLayoutRect_1$1,\n  \tcompleteDimensions: completeDimensions$1,\n  \tcreateDimensions: createDimensions$1,\n  \tcreateSymbol: createSymbol$1,\n  \tcreateList: createList_1,\n  \tdataStack: dataStack_1,\n  \tcreateScale: createScale_1,\n  \tmixinAxisModelCommonMethods: mixinAxisModelCommonMethods_1\n  };\n\n  var EPSILON$3 = 1e-8;\n\n  function isAroundEqual$1(a, b) {\n    return Math.abs(a - b) < EPSILON$3;\n  }\n\n  function contain$1(points, x, y) {\n    var w = 0;\n    var p = points[0];\n\n    if (!p) {\n      return false;\n    }\n\n    for (var i = 1; i < points.length; i++) {\n      var p2 = points[i];\n      w += windingLine_1(p[0], p[1], p2[0], p2[1], x, y);\n      p = p2;\n    } // Close polygon\n\n\n    var p0 = points[0];\n\n    if (!isAroundEqual$1(p[0], p0[0]) || !isAroundEqual$1(p[1], p0[1])) {\n      w += windingLine_1(p[0], p[1], p0[0], p0[1], x, y);\n    }\n\n    return w !== 0;\n  }\n\n  var contain_1$1 = contain$1;\n\n  var polygon = {\n  \tcontain: contain_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/coord/geo/Region\n   */\n\n  /**\n   * @param {string|Region} name\n   * @param {Array} geometries\n   * @param {Array.<number>} cp\n   */\n  function Region(name, geometries, cp) {\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    this.name = name;\n    /**\n     * @type {Array.<Array>}\n     * @readOnly\n     */\n\n    this.geometries = geometries;\n\n    if (!cp) {\n      var rect = this.getBoundingRect();\n      cp = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    } else {\n      cp = [cp[0], cp[1]];\n    }\n    /**\n     * @type {Array.<number>}\n     */\n\n\n    this.center = cp;\n  }\n\n  Region.prototype = {\n    constructor: Region,\n    properties: null,\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n      var rect = this._rect;\n\n      if (rect) {\n        return rect;\n      }\n\n      var MAX_NUMBER = Number.MAX_VALUE;\n      var min = [MAX_NUMBER, MAX_NUMBER];\n      var max = [-MAX_NUMBER, -MAX_NUMBER];\n      var min2 = [];\n      var max2 = [];\n      var geometries = this.geometries;\n\n      for (var i = 0; i < geometries.length; i++) {\n        // Only support polygon\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        } // Doesn't consider hole\n\n\n        var exterior = geometries[i].exterior;\n        bbox.fromPoints(exterior, min2, max2);\n        vector.min(min, min, min2);\n        vector.max(max, max, max2);\n      } // No data\n\n\n      if (i === 0) {\n        min[0] = min[1] = max[0] = max[1] = 0;\n      }\n\n      return this._rect = new BoundingRect_1(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    },\n\n    /**\n     * @param {<Array.<number>} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n      var rect = this.getBoundingRect();\n      var geometries = this.geometries;\n\n      if (!rect.contain(coord[0], coord[1])) {\n        return false;\n      }\n\n      loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n        // Only support polygon.\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        }\n\n        var exterior = geometries[i].exterior;\n        var interiors = geometries[i].interiors;\n\n        if (polygon.contain(exterior, coord[0], coord[1])) {\n          // Not in the region if point is in the hole.\n          for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n            if (polygon.contain(interiors[k])) {\n              continue loopGeo;\n            }\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    },\n    transformTo: function (x, y, width, height) {\n      var rect = this.getBoundingRect();\n      var aspect = rect.width / rect.height;\n\n      if (!width) {\n        width = aspect * height;\n      } else if (!height) {\n        height = width / aspect;\n      }\n\n      var target = new BoundingRect_1(x, y, width, height);\n      var transform = rect.calculateTransform(target);\n      var geometries = this.geometries;\n\n      for (var i = 0; i < geometries.length; i++) {\n        // Only support polygon.\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        }\n\n        var exterior = geometries[i].exterior;\n        var interiors = geometries[i].interiors;\n\n        for (var p = 0; p < exterior.length; p++) {\n          vector.applyTransform(exterior[p], exterior[p], transform);\n        }\n\n        for (var h = 0; h < (interiors ? interiors.length : 0); h++) {\n          for (var p = 0; p < interiors[h].length; p++) {\n            vector.applyTransform(interiors[h][p], interiors[h][p], transform);\n          }\n        }\n      }\n\n      rect = this._rect;\n      rect.copy(target); // Update center\n\n      this.center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    },\n    cloneShallow: function (name) {\n      name == null && (name = this.name);\n      var newRegion = new Region(name, this.geometries, this.center);\n      newRegion._rect = this._rect;\n      newRegion.transformTo = null; // Simply avoid to be called.\n\n      return newRegion;\n    }\n  };\n  var _default$1t = Region;\n  var Region_1 = _default$1t;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Parse and decode geo json\n   * @module echarts/coord/geo/parseGeoJson\n   */\n  function decode(json) {\n    if (!json.UTF8Encoding) {\n      return json;\n    }\n\n    var encodeScale = json.UTF8Scale;\n\n    if (encodeScale == null) {\n      encodeScale = 1024;\n    }\n\n    var features = json.features;\n\n    for (var f = 0; f < features.length; f++) {\n      var feature = features[f];\n      var geometry = feature.geometry;\n      var coordinates = geometry.coordinates;\n      var encodeOffsets = geometry.encodeOffsets;\n\n      for (var c = 0; c < coordinates.length; c++) {\n        var coordinate = coordinates[c];\n\n        if (geometry.type === 'Polygon') {\n          coordinates[c] = decodePolygon(coordinate, encodeOffsets[c], encodeScale);\n        } else if (geometry.type === 'MultiPolygon') {\n          for (var c2 = 0; c2 < coordinate.length; c2++) {\n            var polygon = coordinate[c2];\n            coordinate[c2] = decodePolygon(polygon, encodeOffsets[c][c2], encodeScale);\n          }\n        }\n      }\n    } // Has been decoded\n\n\n    json.UTF8Encoding = false;\n    return json;\n  }\n\n  function decodePolygon(coordinate, encodeOffsets, encodeScale) {\n    var result = [];\n    var prevX = encodeOffsets[0];\n    var prevY = encodeOffsets[1];\n\n    for (var i = 0; i < coordinate.length; i += 2) {\n      var x = coordinate.charCodeAt(i) - 64;\n      var y = coordinate.charCodeAt(i + 1) - 64; // ZigZag decoding\n\n      x = x >> 1 ^ -(x & 1);\n      y = y >> 1 ^ -(y & 1); // Delta deocding\n\n      x += prevX;\n      y += prevY;\n      prevX = x;\n      prevY = y; // Dequantize\n\n      result.push([x / encodeScale, y / encodeScale]);\n    }\n\n    return result;\n  }\n  /**\n   * @alias module:echarts/coord/geo/parseGeoJson\n   * @param {Object} geoJson\n   * @param {string} nameProperty\n   * @return {module:zrender/container/Group}\n   */\n\n\n  function _default$1u(geoJson, nameProperty) {\n    decode(geoJson);\n    return util.map(util.filter(geoJson.features, function (featureObj) {\n      // Output of mapshaper may have geometry null\n      return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n    }), function (featureObj) {\n      var properties = featureObj.properties;\n      var geo = featureObj.geometry;\n      var coordinates = geo.coordinates;\n      var geometries = [];\n\n      if (geo.type === 'Polygon') {\n        geometries.push({\n          type: 'polygon',\n          // According to the GeoJSON specification.\n          // First must be exterior, and the rest are all interior(holes).\n          exterior: coordinates[0],\n          interiors: coordinates.slice(1)\n        });\n      }\n\n      if (geo.type === 'MultiPolygon') {\n        util.each(coordinates, function (item) {\n          if (item[0]) {\n            geometries.push({\n              type: 'polygon',\n              exterior: item[0],\n              interiors: item.slice(1)\n            });\n          }\n        });\n      }\n\n      var region = new Region_1(properties[nameProperty || 'name'], geometries, properties.cp);\n      region.properties = properties;\n      return region;\n    });\n  }\n\n  var parseGeoJson = _default$1u;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$6 = model.makeInner;\n\n\n\n  var makeLabelFormatter$1 = axisHelper.makeLabelFormatter;\n  var getOptionCategoryInterval$1 = axisHelper.getOptionCategoryInterval;\n  var shouldShowAllLabels$1 = axisHelper.shouldShowAllLabels;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$6 = makeInner$6();\n  /**\n   * @param {module:echats/coord/Axis} axis\n   * @return {Object} {\n   *     labels: [{\n   *         formattedLabel: string,\n   *         rawLabel: string,\n   *         tickValue: number\n   *     }, ...],\n   *     labelCategoryInterval: number\n   * }\n   */\n\n  function createAxisLabels(axis) {\n    // Only ordinal scale support tick interval\n    return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n  }\n  /**\n   * @param {module:echats/coord/Axis} axis\n   * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n   * @return {Object} {\n   *     ticks: Array.<number>\n   *     tickCategoryInterval: number\n   * }\n   */\n\n\n  function createAxisTicks(axis, tickModel) {\n    // Only ordinal scale support tick interval\n    return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n      ticks: axis.scale.getTicks()\n    };\n  }\n\n  function makeCategoryLabels(axis) {\n    var labelModel = axis.getLabelModel();\n    var result = makeCategoryLabelsActually(axis, labelModel);\n    return !labelModel.get('show') || axis.scale.isBlank() ? {\n      labels: [],\n      labelCategoryInterval: result.labelCategoryInterval\n    } : result;\n  }\n\n  function makeCategoryLabelsActually(axis, labelModel) {\n    var labelsCache = getListCache(axis, 'labels');\n    var optionLabelInterval = getOptionCategoryInterval$1(labelModel);\n    var result = listCacheGet(labelsCache, optionLabelInterval);\n\n    if (result) {\n      return result;\n    }\n\n    var labels;\n    var numericLabelInterval;\n\n    if (util.isFunction(optionLabelInterval)) {\n      labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n    } else {\n      numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n      labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n    } // Cache to avoid calling interval function repeatly.\n\n\n    return listCacheSet(labelsCache, optionLabelInterval, {\n      labels: labels,\n      labelCategoryInterval: numericLabelInterval\n    });\n  }\n\n  function makeCategoryTicks(axis, tickModel) {\n    var ticksCache = getListCache(axis, 'ticks');\n    var optionTickInterval = getOptionCategoryInterval$1(tickModel);\n    var result = listCacheGet(ticksCache, optionTickInterval);\n\n    if (result) {\n      return result;\n    }\n\n    var ticks;\n    var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n    // we should not return all ticks.\n\n    if (!tickModel.get('show') || axis.scale.isBlank()) {\n      ticks = [];\n    }\n\n    if (util.isFunction(optionTickInterval)) {\n      ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n    } // Always use label interval by default despite label show. Consider this\n    // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n    // labels. `splitLine` and `axisTick` should be consistent in this case.\n    else if (optionTickInterval === 'auto') {\n        var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n        tickCategoryInterval = labelsResult.labelCategoryInterval;\n        ticks = util.map(labelsResult.labels, function (labelItem) {\n          return labelItem.tickValue;\n        });\n      } else {\n        tickCategoryInterval = optionTickInterval;\n        ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n      } // Cache to avoid calling interval function repeatly.\n\n\n    return listCacheSet(ticksCache, optionTickInterval, {\n      ticks: ticks,\n      tickCategoryInterval: tickCategoryInterval\n    });\n  }\n\n  function makeRealNumberLabels(axis) {\n    var ticks = axis.scale.getTicks();\n    var labelFormatter = makeLabelFormatter$1(axis);\n    return {\n      labels: util.map(ticks, function (tickValue, idx) {\n        return {\n          formattedLabel: labelFormatter(tickValue, idx),\n          rawLabel: axis.scale.getLabel(tickValue),\n          tickValue: tickValue\n        };\n      })\n    };\n  } // Large category data calculation is performence sensitive, and ticks and label\n  // probably be fetched by multiple times. So we cache the result.\n  // axis is created each time during a ec process, so we do not need to clear cache.\n\n\n  function getListCache(axis, prop) {\n    // Because key can be funciton, and cache size always be small, we use array cache.\n    return inner$6(axis)[prop] || (inner$6(axis)[prop] = []);\n  }\n\n  function listCacheGet(cache, key) {\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i].key === key) {\n        return cache[i].value;\n      }\n    }\n  }\n\n  function listCacheSet(cache, key, value) {\n    cache.push({\n      key: key,\n      value: value\n    });\n    return value;\n  }\n\n  function makeAutoCategoryInterval(axis) {\n    var result = inner$6(axis).autoInterval;\n    return result != null ? result : inner$6(axis).autoInterval = axis.calculateCategoryInterval();\n  }\n  /**\n   * Calculate interval for category axis ticks and labels.\n   * To get precise result, at least one of `getRotate` and `isHorizontal`\n   * should be implemented in axis.\n   */\n\n\n  function calculateCategoryInterval(axis) {\n    var params = fetchAutoCategoryIntervalCalculationParams(axis);\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n    // avoid generating a long array by `getTicks`\n    // in large category data case.\n\n    var tickCount = ordinalScale.count();\n\n    if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n      return 0;\n    }\n\n    var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n    if (tickCount > 40) {\n      step = Math.max(1, Math.floor(tickCount / 40));\n    }\n\n    var tickValue = ordinalExtent[0];\n    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n    var unitW = Math.abs(unitSpan * Math.cos(rotation));\n    var unitH = Math.abs(unitSpan * Math.sin(rotation));\n    var maxW = 0;\n    var maxH = 0; // Caution: Performance sensitive for large category data.\n    // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n    for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n      var width = 0;\n      var height = 0; // Not precise, do not consider align and vertical align\n      // and each distance from axis line yet.\n\n      var rect = text.getBoundingRect(labelFormatter(tickValue), params.font, 'center', 'top'); // Magic number\n\n      width = rect.width * 1.3;\n      height = rect.height * 1.3; // Min size, void long loop.\n\n      maxW = Math.max(maxW, width, 7);\n      maxH = Math.max(maxH, height, 7);\n    }\n\n    var dw = maxW / unitW;\n    var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n    isNaN(dw) && (dw = Infinity);\n    isNaN(dh) && (dh = Infinity);\n    var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n    var cache = inner$6(axis.model);\n    var axisExtent = axis.getExtent();\n    var lastAutoInterval = cache.lastAutoInterval;\n    var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n    // otherwise the calculated interval might jitter when the zoom\n    // window size is close to the interval-changing size.\n    // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n    // The jitter will cause that sometimes the displayed labels are\n    // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n\n    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n    // point is not the same when zooming in or zooming out.\n    && lastAutoInterval > interval // If the axis change is caused by chart resize, the cache should not\n    // be used. Otherwise some hiden labels might not be shown again.\n    && cache.axisExtend0 === axisExtent[0] && cache.axisExtend1 === axisExtent[1]) {\n      interval = lastAutoInterval;\n    } // Only update cache if cache not used, otherwise the\n    // changing of interval is too insensitive.\n    else {\n        cache.lastTickCount = tickCount;\n        cache.lastAutoInterval = interval;\n        cache.axisExtend0 = axisExtent[0];\n        cache.axisExtend1 = axisExtent[1];\n      }\n\n    return interval;\n  }\n\n  function fetchAutoCategoryIntervalCalculationParams(axis) {\n    var labelModel = axis.getLabelModel();\n    return {\n      axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n      labelRotate: labelModel.get('rotate') || 0,\n      font: labelModel.getFont()\n    };\n  }\n\n  function makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent();\n    var labelModel = axis.getLabelModel();\n    var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n    var step = Math.max((categoryInterval || 0) + 1, 1);\n    var startTick = ordinalExtent[0];\n    var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n    // while zooming and moving while interval > 0. Otherwise the selection\n    // of displayable ticks and symbols probably keep changing.\n    // 3 is empirical value.\n\n    if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n      startTick = Math.round(Math.ceil(startTick / step) * step);\n    } // (1) Only add min max label here but leave overlap checking\n    // to render stage, which also ensure the returned list\n    // suitable for splitLine and splitArea rendering.\n    // (2) Scales except category always contain min max label so\n    // do not need to perform this process.\n\n\n    var showAllLabel = shouldShowAllLabels$1(axis);\n    var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n    var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n    if (includeMinLabel && startTick !== ordinalExtent[0]) {\n      addItem(ordinalExtent[0]);\n    } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n    var tickValue = startTick;\n\n    for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n      addItem(tickValue);\n    }\n\n    if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n      addItem(ordinalExtent[1]);\n    }\n\n    function addItem(tVal) {\n      result.push(onlyTick ? tVal : {\n        formattedLabel: labelFormatter(tVal),\n        rawLabel: ordinalScale.getLabel(tVal),\n        tickValue: tVal\n      });\n    }\n\n    return result;\n  } // When interval is function, the result `false` means ignore the tick.\n  // It is time consuming for large category data.\n\n\n  function makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n    var ordinalScale = axis.scale;\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var result = [];\n    util.each(ordinalScale.getTicks(), function (tickValue) {\n      var rawLabel = ordinalScale.getLabel(tickValue);\n\n      if (categoryInterval(tickValue, rawLabel)) {\n        result.push(onlyTick ? tickValue : {\n          formattedLabel: labelFormatter(tickValue),\n          rawLabel: rawLabel,\n          tickValue: tickValue\n        });\n      }\n    });\n    return result;\n  }\n\n  var createAxisLabels_1 = createAxisLabels;\n  var createAxisTicks_1 = createAxisTicks;\n  var calculateCategoryInterval_1 = calculateCategoryInterval;\n\n  var axisTickLabelBuilder = {\n  \tcreateAxisLabels: createAxisLabels_1,\n  \tcreateAxisTicks: createAxisTicks_1,\n  \tcalculateCategoryInterval: calculateCategoryInterval_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$j = util.each;\n  var map$6 = util.map;\n\n\n\n  var linearMap$1 = number.linearMap;\n  var getPixelPrecision$1 = number.getPixelPrecision;\n  var round$2 = number.round;\n\n\n\n  var createAxisTicks$1 = axisTickLabelBuilder.createAxisTicks;\n  var createAxisLabels$1 = axisTickLabelBuilder.createAxisLabels;\n  var calculateCategoryInterval$1 = axisTickLabelBuilder.calculateCategoryInterval;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var NORMALIZED_EXTENT = [0, 1];\n  /**\n   * Base class of Axis.\n   * @constructor\n   */\n\n  var Axis = function (dim, scale, extent) {\n    /**\n     * Axis dimension. Such as 'x', 'y', 'z', 'angle', 'radius'.\n     * @type {string}\n     */\n    this.dim = dim;\n    /**\n     * Axis scale\n     * @type {module:echarts/coord/scale/*}\n     */\n\n    this.scale = scale;\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n\n    this._extent = extent || [0, 0];\n    /**\n     * @type {boolean}\n     */\n\n    this.inverse = false;\n    /**\n     * Usually true when axis has a ordinal scale\n     * @type {boolean}\n     */\n\n    this.onBand = false;\n  };\n\n  Axis.prototype = {\n    constructor: Axis,\n\n    /**\n     * If axis extent contain given coord\n     * @param {number} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n      var extent = this._extent;\n      var min = Math.min(extent[0], extent[1]);\n      var max = Math.max(extent[0], extent[1]);\n      return coord >= min && coord <= max;\n    },\n\n    /**\n     * If axis extent contain given data\n     * @param {number} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n      return this.scale.contain(data);\n    },\n\n    /**\n     * Get coord extent.\n     * @return {Array.<number>}\n     */\n    getExtent: function () {\n      return this._extent.slice();\n    },\n\n    /**\n     * Get precision used for formatting\n     * @param {Array.<number>} [dataExtent]\n     * @return {number}\n     */\n    getPixelPrecision: function (dataExtent) {\n      return getPixelPrecision$1(dataExtent || this.scale.getExtent(), this._extent);\n    },\n\n    /**\n     * Set coord extent\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n      var extent = this._extent;\n      extent[0] = start;\n      extent[1] = end;\n    },\n\n    /**\n     * Convert data to coord. Data is the rank if it has an ordinal scale\n     * @param {number} data\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    dataToCoord: function (data, clamp) {\n      var extent = this._extent;\n      var scale = this.scale;\n      data = scale.normalize(data);\n\n      if (this.onBand && scale.type === 'ordinal') {\n        extent = extent.slice();\n        fixExtentWithBands(extent, scale.count());\n      }\n\n      return linearMap$1(data, NORMALIZED_EXTENT, extent, clamp);\n    },\n\n    /**\n     * Convert coord to data. Data is the rank if it has an ordinal scale\n     * @param {number} coord\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    coordToData: function (coord, clamp) {\n      var extent = this._extent;\n      var scale = this.scale;\n\n      if (this.onBand && scale.type === 'ordinal') {\n        extent = extent.slice();\n        fixExtentWithBands(extent, scale.count());\n      }\n\n      var t = linearMap$1(coord, extent, NORMALIZED_EXTENT, clamp);\n      return this.scale.scale(t);\n    },\n\n    /**\n     * Convert pixel point to data in axis\n     * @param {Array.<number>} point\n     * @param  {boolean} clamp\n     * @return {number} data\n     */\n    pointToData: function (point, clamp) {// Should be implemented in derived class if necessary.\n    },\n\n    /**\n     * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n     * `axis.getTicksCoords` considers `onBand`, which is used by\n     * `boundaryGap:true` of category axis and splitLine and splitArea.\n     * @param {Object} [opt]\n     * @param {Model} [opt.tickModel=axis.model.getModel('axisTick')]\n     * @param {boolean} [opt.clamp] If `true`, the first and the last\n     *        tick must be at the axis end points. Otherwise, clip ticks\n     *        that outside the axis extent.\n     * @return {Array.<Object>} [{\n     *     coord: ...,\n     *     tickValue: ...\n     * }, ...]\n     */\n    getTicksCoords: function (opt) {\n      opt = opt || {};\n      var tickModel = opt.tickModel || this.getTickModel();\n      var result = createAxisTicks$1(this, tickModel);\n      var ticks = result.ticks;\n      var ticksCoords = map$6(ticks, function (tickValue) {\n        return {\n          coord: this.dataToCoord(tickValue),\n          tickValue: tickValue\n        };\n      }, this);\n      var alignWithLabel = tickModel.get('alignWithLabel');\n      fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n      return ticksCoords;\n    },\n\n    /**\n     * @return {Array.<Array.<Object>>} [{ coord: ..., tickValue: ...}]\n     */\n    getMinorTicksCoords: function () {\n      if (this.scale.type === 'ordinal') {\n        // Category axis doesn't support minor ticks\n        return [];\n      }\n\n      var minorTickModel = this.model.getModel('minorTick');\n      var splitNumber = minorTickModel.get('splitNumber'); // Protection.\n\n      if (!(splitNumber > 0 && splitNumber < 100)) {\n        splitNumber = 5;\n      }\n\n      var minorTicks = this.scale.getMinorTicks(splitNumber);\n      var minorTicksCoords = map$6(minorTicks, function (minorTicksGroup) {\n        return map$6(minorTicksGroup, function (minorTick) {\n          return {\n            coord: this.dataToCoord(minorTick),\n            tickValue: minorTick\n          };\n        }, this);\n      }, this);\n      return minorTicksCoords;\n    },\n\n    /**\n     * @return {Array.<Object>} [{\n     *     formattedLabel: string,\n     *     rawLabel: axis.scale.getLabel(tickValue)\n     *     tickValue: number\n     * }, ...]\n     */\n    getViewLabels: function () {\n      return createAxisLabels$1(this).labels;\n    },\n\n    /**\n     * @return {module:echarts/coord/model/Model}\n     */\n    getLabelModel: function () {\n      return this.model.getModel('axisLabel');\n    },\n\n    /**\n     * Notice here we only get the default tick model. For splitLine\n     * or splitArea, we should pass the splitLineModel or splitAreaModel\n     * manually when calling `getTicksCoords`.\n     * In GL, this method may be overrided to:\n     * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n     * @return {module:echarts/coord/model/Model}\n     */\n    getTickModel: function () {\n      return this.model.getModel('axisTick');\n    },\n\n    /**\n     * Get width of band\n     * @return {number}\n     */\n    getBandWidth: function () {\n      var axisExtent = this._extent;\n      var dataExtent = this.scale.getExtent();\n      var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n      len === 0 && (len = 1);\n      var size = Math.abs(axisExtent[1] - axisExtent[0]);\n      return Math.abs(size) / len;\n    },\n\n    /**\n     * @abstract\n     * @return {boolean} Is horizontal\n     */\n    isHorizontal: null,\n\n    /**\n     * @abstract\n     * @return {number} Get axis rotate, by degree.\n     */\n    getRotate: null,\n\n    /**\n     * Only be called in category axis.\n     * Can be overrided, consider other axes like in 3D.\n     * @return {number} Auto interval for cateogry axis tick and label\n     */\n    calculateCategoryInterval: function () {\n      return calculateCategoryInterval$1(this);\n    }\n  };\n\n  function fixExtentWithBands(extent, nTick) {\n    var size = extent[1] - extent[0];\n    var len = nTick;\n    var margin = size / len / 2;\n    extent[0] += margin;\n    extent[1] -= margin;\n  } // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n  // |---1---|---2---|---3---|---4---|.\n  // So the displayed ticks and splitLine/splitArea should between\n  // each data item, otherwise cause misleading (e.g., split tow bars\n  // of a single data item when there are two bar series).\n  // Also consider if tickCategoryInterval > 0 and onBand, ticks and\n  // splitLine/spliteArea should layout appropriately corresponding\n  // to displayed labels. (So we should not use `getBandWidth` in this\n  // case).\n\n\n  function fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n    var ticksLen = ticksCoords.length;\n\n    if (!axis.onBand || alignWithLabel || !ticksLen) {\n      return;\n    }\n\n    var axisExtent = axis.getExtent();\n    var last;\n    var diffSize;\n\n    if (ticksLen === 1) {\n      ticksCoords[0].coord = axisExtent[0];\n      last = ticksCoords[1] = {\n        coord: axisExtent[0]\n      };\n    } else {\n      var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n      var shift = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n      each$j(ticksCoords, function (ticksItem) {\n        ticksItem.coord -= shift / 2;\n      });\n      var dataExtent = axis.scale.getExtent();\n      diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n      last = {\n        coord: ticksCoords[ticksLen - 1].coord + shift * diffSize\n      };\n      ticksCoords.push(last);\n    }\n\n    var inverse = axisExtent[0] > axisExtent[1]; // Handling clamp.\n\n    if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n      clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n    }\n\n    if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n      ticksCoords.unshift({\n        coord: axisExtent[0]\n      });\n    }\n\n    if (littleThan(axisExtent[1], last.coord)) {\n      clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n    }\n\n    if (clamp && littleThan(last.coord, axisExtent[1])) {\n      ticksCoords.push({\n        coord: axisExtent[1]\n      });\n    }\n\n    function littleThan(a, b) {\n      // Avoid rounding error cause calculated tick coord different with extent.\n      // It may cause an extra unecessary tick added.\n      a = round$2(a);\n      b = round$2(b);\n      return inverse ? a > b : a < b;\n    }\n  }\n\n  var _default$1v = Axis;\n  var Axis_1 = _default$1v;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var zrender_1 = zrender;\n\n\n\n  var matrix_1 = matrix;\n\n\n\n  var vector_1 = vector;\n\n\n\n\n\n  var color$1 = color;\n\n\n\n\n\n  var number$1 = number;\n\n\n\n  var format$2 = format$1;\n  var throttle_1$1 = throttle_1.throttle;\n\n\n\n  var helper$3 = helper$2;\n\n\n\n  var parseGeoJSON_1 = parseGeoJson;\n\n\n\n  var List$1 = List_1;\n\n\n\n  var Model$1 = Model_1;\n\n\n\n  var Axis$1 = Axis_1;\n\n\n\n  var env$1 = env_1;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Do not mount those modules on 'src/echarts' for better tree shaking.\n   */\n  var parseGeoJson$1 = parseGeoJson;\n  var ecUtil = {};\n  util.each(['map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter', 'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction', 'extend', 'defaults', 'clone', 'merge'], function (name) {\n    ecUtil[name] = util[name];\n  });\n  var graphic$1 = {};\n  util.each(['extendShape', 'extendPath', 'makePath', 'makeImage', 'mergePath', 'resizePath', 'createIcon', 'setHoverStyle', 'setLabelStyle', 'setTextStyle', 'setText', 'getFont', 'updateProps', 'initProps', 'getTransform', 'clipPointsByRect', 'clipRectByRect', 'registerShape', 'getShapeClass', 'Group', 'Image', 'Text', 'Circle', 'Sector', 'Ring', 'Polygon', 'Polyline', 'Rect', 'Line', 'BezierCurve', 'Arc', 'IncrementalDisplayable', 'CompoundPath', 'LinearGradient', 'RadialGradient', 'BoundingRect'], function (name) {\n    graphic$1[name] = graphic[name];\n  });\n  var parseGeoJson_1 = parseGeoJson$1;\n  var util$2 = ecUtil;\n  var graphic_1 = graphic$1;\n\n  var _export$1 = {\n  \tzrender: zrender_1,\n  \tmatrix: matrix_1,\n  \tvector: vector_1,\n  \tcolor: color$1,\n  \tnumber: number$1,\n  \tformat: format$2,\n  \tthrottle: throttle_1$1,\n  \thelper: helper$3,\n  \tparseGeoJSON: parseGeoJSON_1,\n  \tList: List$1,\n  \tModel: Model$1,\n  \tAxis: Axis$1,\n  \tenv: env$1,\n  \tparseGeoJson: parseGeoJson_1,\n  \tutil: util$2,\n  \tgraphic: graphic_1\n  };\n\n  var echarts = createCommonjsModule(function (module, exports) {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var throttle = throttle_1.throttle;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var assert = util.assert;\n  var each = util.each;\n  var isFunction = util.isFunction;\n  var isObject = util.isObject;\n  var parseClassType = Component.parseClassType;\n  var version = '4.9.0';\n  var dependencies = {\n    zrender: '4.3.2'\n  };\n  var TEST_FRAME_REMAIN_TIME = 1;\n  var PRIORITY_PROCESSOR_FILTER = 1000;\n  var PRIORITY_PROCESSOR_SERIES_FILTER = 800;\n  var PRIORITY_PROCESSOR_DATASTACK = 900;\n  var PRIORITY_PROCESSOR_STATISTIC = 5000;\n  var PRIORITY_VISUAL_LAYOUT = 1000;\n  var PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\n  var PRIORITY_VISUAL_GLOBAL = 2000;\n  var PRIORITY_VISUAL_CHART = 3000;\n  var PRIORITY_VISUAL_POST_CHART_LAYOUT = 3500;\n  var PRIORITY_VISUAL_COMPONENT = 4000; // FIXME\n  // necessary?\n\n  var PRIORITY_VISUAL_BRUSH = 5000;\n  var PRIORITY = {\n    PROCESSOR: {\n      FILTER: PRIORITY_PROCESSOR_FILTER,\n      SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n      STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n    },\n    VISUAL: {\n      LAYOUT: PRIORITY_VISUAL_LAYOUT,\n      PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n      GLOBAL: PRIORITY_VISUAL_GLOBAL,\n      CHART: PRIORITY_VISUAL_CHART,\n      POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n      COMPONENT: PRIORITY_VISUAL_COMPONENT,\n      BRUSH: PRIORITY_VISUAL_BRUSH\n    }\n  }; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n  // where they must not be invoked nestedly, except the only case: invoke\n  // dispatchAction with updateMethod \"none\" in main process.\n  // This flag is used to carry out this rule.\n  // All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\n\n  var IN_MAIN_PROCESS = '__flagInMainProcess';\n  var OPTION_UPDATED = '__optionUpdated';\n  var ACTION_REG = /^[a-zA-Z0-9_]+$/;\n\n  function createRegisterEventWithLowercaseName(method, ignoreDisposed) {\n    return function (eventName, handler, context) {\n      if (!ignoreDisposed && this._disposed) {\n        disposedWarning(this.id);\n        return;\n      } // Event name is all lowercase\n\n\n      eventName = eventName && eventName.toLowerCase();\n      Eventful_1.prototype[method].call(this, eventName, handler, context);\n    };\n  }\n  /**\n   * @module echarts~MessageCenter\n   */\n\n\n  function MessageCenter() {\n    Eventful_1.call(this);\n  }\n\n  MessageCenter.prototype.on = createRegisterEventWithLowercaseName('on', true);\n  MessageCenter.prototype.off = createRegisterEventWithLowercaseName('off', true);\n  MessageCenter.prototype.one = createRegisterEventWithLowercaseName('one', true);\n  util.mixin(MessageCenter, Eventful_1);\n  /**\n   * @module echarts~ECharts\n   */\n\n  function ECharts(dom, theme, opts) {\n    opts = opts || {}; // Get theme by name\n\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n    /**\n     * @type {string}\n     */\n\n\n    this.id;\n    /**\n     * Group id\n     * @type {string}\n     */\n\n    this.group;\n    /**\n     * @type {HTMLElement}\n     * @private\n     */\n\n    this._dom = dom;\n    var defaultRenderer = 'canvas';\n\n    /**\n     * @type {module:zrender/ZRender}\n     * @private\n     */\n    var zr = this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height\n    });\n    /**\n     * Expect 60 fps.\n     * @type {Function}\n     * @private\n     */\n\n    this._throttledZrFlush = throttle(util.bind(zr.flush, zr), 17);\n    var theme = util.clone(theme);\n    theme && backwardCompat(theme, true);\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._theme = theme;\n    /**\n     * @type {Array.<module:echarts/view/Chart>}\n     * @private\n     */\n\n    this._chartsViews = [];\n    /**\n     * @type {Object.<string, module:echarts/view/Chart>}\n     * @private\n     */\n\n    this._chartsMap = {};\n    /**\n     * @type {Array.<module:echarts/view/Component>}\n     * @private\n     */\n\n    this._componentsViews = [];\n    /**\n     * @type {Object.<string, module:echarts/view/Component>}\n     * @private\n     */\n\n    this._componentsMap = {};\n    /**\n     * @type {module:echarts/CoordinateSystem}\n     * @private\n     */\n\n    this._coordSysMgr = new CoordinateSystem();\n    /**\n     * @type {module:echarts/ExtensionAPI}\n     * @private\n     */\n\n    var api = this._api = createExtensionAPI(this); // Sort on demand\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    /**\n     * @type {module:echarts/stream/Scheduler}\n     */\n\n    this._scheduler = new Scheduler_1(this, api, dataProcessorFuncs, visualFuncs);\n    Eventful_1.call(this, this._ecEventProcessor = new EventProcessor());\n    /**\n     * @type {module:echarts~MessageCenter}\n     * @private\n     */\n\n    this._messageCenter = new MessageCenter(); // Init mouse events\n\n    this._initEvents(); // In case some people write `window.onresize = chart.resize`\n\n\n    this.resize = util.bind(this.resize, this); // Can't dispatch action during rendering procedure\n\n    this._pendingActions = [];\n    zr.animation.on('frame', this._onframe, this);\n    bindRenderedEvent(zr, this); // ECharts instance can be used as value.\n\n    util.setAsPrimitive(this);\n  }\n\n  var echartsProto = ECharts.prototype;\n\n  echartsProto._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    var scheduler = this._scheduler; // Lazy update\n\n    if (this[OPTION_UPDATED]) {\n      var silent = this[OPTION_UPDATED].silent;\n      this[IN_MAIN_PROCESS] = true;\n      prepare(this);\n      updateMethods.update.call(this);\n      this[IN_MAIN_PROCESS] = false;\n      this[OPTION_UPDATED] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n        // Stream progress.\n        var remainTime = TEST_FRAME_REMAIN_TIME;\n        var ecModel = this._model;\n        var api = this._api;\n        scheduler.unfinished = false;\n\n        do {\n          var startTime = +new Date();\n          scheduler.performSeriesTasks(ecModel); // Currently dataProcessorFuncs do not check threshold.\n\n          scheduler.performDataProcessorTasks(ecModel);\n          updateStreamModes(this, ecModel); // Do not update coordinate system here. Because that coord system update in\n          // each frame is not a good user experience. So we follow the rule that\n          // the extent of the coordinate system is determin in the first frame (the\n          // frame is executed immedietely after task reset.\n          // this._coordSysMgr.update(ecModel, api);\n          // console.log('--- ec frame visual ---', remainTime);\n\n          scheduler.performVisualTasks(ecModel);\n          renderSeries(this, this._model, api, 'remain');\n          remainTime -= +new Date() - startTime;\n        } while (remainTime > 0 && scheduler.unfinished); // Call flush explicitly for trigger finished event.\n\n\n        if (!scheduler.unfinished) {\n          this._zr.flush();\n        } // Else, zr flushing be ensue within the same frame,\n        // because zr flushing is after onframe event.\n\n      }\n  };\n  /**\n   * @return {HTMLElement}\n   */\n\n\n  echartsProto.getDom = function () {\n    return this._dom;\n  };\n  /**\n   * @return {module:zrender~ZRender}\n   */\n\n\n  echartsProto.getZr = function () {\n    return this._zr;\n  };\n  /**\n   * Usage:\n   * chart.setOption(option, notMerge, lazyUpdate);\n   * chart.setOption(option, {\n   *     notMerge: ...,\n   *     lazyUpdate: ...,\n   *     silent: ...\n   * });\n   *\n   * @param {Object} option\n   * @param {Object|boolean} [opts] opts or notMerge.\n   * @param {boolean} [opts.notMerge=false]\n   * @param {boolean} [opts.lazyUpdate=false] Useful when setOption frequently.\n   */\n\n\n  echartsProto.setOption = function (option, notMerge, lazyUpdate) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager_1(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new Global();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, theme, optionManager);\n    }\n\n    this._model.setOption(option, optionPreprocessorFuncs);\n\n    if (lazyUpdate) {\n      this[OPTION_UPDATED] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS] = false;\n    } else {\n      prepare(this);\n      updateMethods.update.call(this); // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n\n      this._zr.flush();\n\n      this[OPTION_UPDATED] = false;\n      this[IN_MAIN_PROCESS] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\n   * @DEPRECATED\n   */\n\n\n  echartsProto.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n  /**\n   * @return {module:echarts/model/Global}\n   */\n\n\n  echartsProto.getModel = function () {\n    return this._model;\n  };\n  /**\n   * @return {Object}\n   */\n\n\n  echartsProto.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getWidth = function () {\n    return this._zr.getWidth();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getHeight = function () {\n    return this._zr.getHeight();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n  };\n  /**\n   * Get canvas which has all thing rendered\n   * @param {Object} opts\n   * @param {string} [opts.backgroundColor]\n   * @return {string}\n   */\n\n\n  echartsProto.getRenderedCanvas = function (opts) {\n    if (!env_1.canvasSupported) {\n      return;\n    }\n\n    opts = opts || {};\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n    var zr = this._zr; // var list = zr.storage.getDisplayList();\n    // Stop animations\n    // Never works before in init animation, so remove it.\n    // zrUtil.each(list, function (el) {\n    //     el.stopAnimation(true);\n    // });\n\n    return zr.painter.getRenderedCanvas(opts);\n  };\n  /**\n   * Get svg data url\n   * @return {string}\n   */\n\n\n  echartsProto.getSvgDataURL = function () {\n    if (!env_1.svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList(); // Stop animations\n\n    util.each(list, function (el) {\n      el.stopAnimation(true);\n    });\n    return zr.painter.toDataURL();\n  };\n  /**\n   * @return {string}\n   * @param {Object} opts\n   * @param {string} [opts.type='png']\n   * @param {string} [opts.pixelRatio=1]\n   * @param {string} [opts.backgroundColor]\n   * @param {string} [opts.excludeComponents]\n   */\n\n\n  echartsProto.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n  /**\n   * @return {string}\n   * @param {Object} opts\n   * @param {string} [opts.type='png']\n   * @param {string} [opts.pixelRatio=1]\n   * @param {string} [opts.backgroundColor]\n   */\n\n\n  echartsProto.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!env_1.canvasSupported) {\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left = MAX_NUMBER;\n      var top = MAX_NUMBER;\n      var right = -MAX_NUMBER;\n      var bottom = -MAX_NUMBER;\n      var canvasList = [];\n      var dpr = opts && opts.pixelRatio || 1;\n      util.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(util.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left = mathMin(boundingRect.left, left);\n          top = mathMin(boundingRect.top, top);\n          right = mathMax(boundingRect.right, right);\n          bottom = mathMax(boundingRect.bottom, bottom);\n          canvasList.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left *= dpr;\n      top *= dpr;\n      right *= dpr;\n      bottom *= dpr;\n      var width = right - left;\n      var height = bottom - top;\n      var targetCanvas = util.createCanvas();\n      var zr = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content = '';\n        each(canvasList, function (item) {\n          var x = item.left - left;\n          var y = item.top - top;\n          content += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr.painter.getSvgRoot().innerHTML = content;\n\n        if (opts.connectedBackgroundColor) {\n          zr.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr.refreshImmediately();\n        return zr.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr - left,\n              y: item.top * dpr - top,\n              image: item.dom\n            }\n          });\n          zr.add(img);\n        });\n        zr.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n  /**\n   * Convert from logical coordinate system to pixel coordinate system.\n   * See CoordinateSystem#convertToPixel.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId, geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName,\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {Array|number} result\n   */\n\n\n  echartsProto.convertToPixel = util.curry(doConvertPixel, 'convertToPixel');\n  /**\n   * Convert from pixel coordinate system to logical coordinate system.\n   * See CoordinateSystem#convertFromPixel.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId / geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {Array|number} result\n   */\n\n  echartsProto.convertFromPixel = util.curry(doConvertPixel, 'convertFromPixel');\n\n  function doConvertPixel(methodName, finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n\n    var coordSysList = this._coordSysMgr.getCoordinateSystems();\n\n    var result;\n    finder = model.parseFinder(ecModel, finder);\n\n    for (var i = 0; i < coordSysList.length; i++) {\n      var coordSys = coordSysList[i];\n\n      if (coordSys[methodName] && (result = coordSys[methodName](ecModel, finder, value)) != null) {\n        return result;\n      }\n    }\n  }\n  /**\n   * Is the specified coordinate systems or components contain the given pixel point.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId / geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName,\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {boolean} result\n   */\n\n\n  echartsProto.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    finder = model.parseFinder(ecModel, finder);\n    util.each(finder, function (models, key) {\n      key.indexOf('Models') >= 0 && util.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result |= !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result |= view.containPoint(value, model);\n          }\n        } else ;\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\n   * Get visual from series or data.\n   * @param {string|Object} finder\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            dataIndex / dataIndexInside\n   *        }\n   *        If dataIndex is not specified, series visual will be fetched,\n   *        but not data item visual.\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\n   *        visual will be fetched from first series.\n   * @param {string} visualType 'color', 'symbol', 'symbolSize'\n   */\n\n\n  echartsProto.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    finder = model.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = finder.seriesModel;\n    var data = seriesModel.getData();\n    var dataIndexInside = finder.hasOwnProperty('dataIndexInside') ? finder.dataIndexInside : finder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(finder.dataIndex) : null;\n    return dataIndexInside != null ? data.getItemVisual(dataIndexInside, visualType) : data.getVisual(visualType);\n  };\n  /**\n   * Get view of corresponding component model\n   * @param  {module:echarts/model/Component} componentModel\n   * @return {module:echarts/view/Component}\n   */\n\n\n  echartsProto.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\n   * Get view of corresponding series model\n   * @param  {module:echarts/model/Series} seriesModel\n   * @return {module:echarts/view/Chart}\n   */\n\n\n  echartsProto.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  var updateMethods = {\n    prepareAndUpdate: function (payload) {\n      prepare(this);\n      updateMethods.update.call(this, payload);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    update: function (payload) {\n      // console.profile && console.profile('update');\n      var ecModel = this._model;\n      var api = this._api;\n      var zr = this._zr;\n      var coordSysMgr = this._coordSysMgr;\n      var scheduler = this._scheduler; // update before setOption\n\n      if (!ecModel) {\n        return;\n      }\n\n      scheduler.restoreData(ecModel, payload);\n      scheduler.performSeriesTasks(ecModel); // TODO\n      // Save total ecModel here for undo/redo (after restoring data and before processing data).\n      // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n      // Create new coordinate system each update\n      // In LineView may save the old coordinate system and use it to get the orignal point\n\n      coordSysMgr.create(ecModel, api);\n      scheduler.performDataProcessorTasks(ecModel, payload); // Current stream render is not supported in data process. So we can update\n      // stream modes after data processing, where the filtered data is used to\n      // deteming whether use progressive rendering.\n\n      updateStreamModes(this, ecModel); // We update stream modes before coordinate system updated, then the modes info\n      // can be fetched when coord sys updating (consider the barGrid extent fix). But\n      // the drawback is the full coord info can not be fetched. Fortunately this full\n      // coord is not requied in stream mode updater currently.\n\n      coordSysMgr.update(ecModel, api);\n      clearColorPalette(ecModel);\n      scheduler.performVisualTasks(ecModel, payload);\n      render(this, ecModel, api, payload); // Set background\n\n      var backgroundColor = ecModel.get('backgroundColor') || 'transparent'; // In IE8\n\n      if (!env_1.canvasSupported) {\n        var colorArr = color.parse(backgroundColor);\n        backgroundColor = color.stringify(colorArr, 'rgb');\n\n        if (colorArr[3] === 0) {\n          backgroundColor = 'transparent';\n        }\n      } else {\n        zr.setBackgroundColor(backgroundColor);\n      }\n\n      performPostUpdateFuncs(ecModel, api); // console.profile && console.profileEnd('update');\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateTransform: function (payload) {\n      var ecModel = this._model;\n      var ecIns = this;\n      var api = this._api; // update before setOption\n\n      if (!ecModel) {\n        return;\n      } // ChartView.markUpdateMethod(payload, 'updateTransform');\n\n\n      var componentDirtyList = [];\n      ecModel.eachComponent(function (componentType, componentModel) {\n        var componentView = ecIns.getViewOfComponentModel(componentModel);\n\n        if (componentView && componentView.__alive) {\n          if (componentView.updateTransform) {\n            var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n            result && result.update && componentDirtyList.push(componentView);\n          } else {\n            componentDirtyList.push(componentView);\n          }\n        }\n      });\n      var seriesDirtyMap = util.createHashMap();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n        if (chartView.updateTransform) {\n          var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n          result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n        } else {\n          seriesDirtyMap.set(seriesModel.uid, 1);\n        }\n      });\n      clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n\n      this._scheduler.performVisualTasks(ecModel, payload, {\n        setDirty: true,\n        dirtyMap: seriesDirtyMap\n      }); // Currently, not call render of components. Geo render cost a lot.\n      // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n\n\n      renderSeries(ecIns, ecModel, api, payload, seriesDirtyMap);\n      performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateView: function (payload) {\n      var ecModel = this._model; // update before setOption\n\n      if (!ecModel) {\n        return;\n      }\n\n      Chart_1.markUpdateMethod(payload, 'updateView');\n      clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n      this._scheduler.performVisualTasks(ecModel, payload, {\n        setDirty: true\n      });\n\n      render(this, this._model, this._api, payload);\n      performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateVisual: function (payload) {\n      updateMethods.update.call(this, payload); // var ecModel = this._model;\n      // // update before setOption\n      // if (!ecModel) {\n      //     return;\n      // }\n      // ChartView.markUpdateMethod(payload, 'updateVisual');\n      // clearColorPalette(ecModel);\n      // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // this._scheduler.performVisualTasks(ecModel, payload, {visualType: 'visual', setDirty: true});\n      // render(this, this._model, this._api, payload);\n      // performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateLayout: function (payload) {\n      updateMethods.update.call(this, payload); // var ecModel = this._model;\n      // // update before setOption\n      // if (!ecModel) {\n      //     return;\n      // }\n      // ChartView.markUpdateMethod(payload, 'updateLayout');\n      // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n      // this._scheduler.performVisualTasks(ecModel, payload, {setDirty: true});\n      // render(this, this._model, this._api, payload);\n      // performPostUpdateFuncs(ecModel, this._api);\n    }\n  };\n\n  function prepare(ecIns) {\n    var ecModel = ecIns._model;\n    var scheduler = ecIns._scheduler;\n    scheduler.restorePipelines(ecModel);\n    scheduler.prepareStageTasks();\n    prepareView(ecIns, 'component', ecModel, scheduler);\n    prepareView(ecIns, 'chart', ecModel, scheduler);\n    scheduler.plan();\n  }\n  /**\n   * @private\n   */\n\n\n  function updateDirectly(ecIns, method, payload, mainType, subType) {\n    var ecModel = ecIns._model; // broadcast\n\n    if (!mainType) {\n      // FIXME\n      // Chart will not be update directly here, except set dirty.\n      // But there is no such scenario now.\n      each(ecIns._componentsViews.concat(ecIns._chartsViews), callView);\n      return;\n    }\n\n    var query = {};\n    query[mainType + 'Id'] = payload[mainType + 'Id'];\n    query[mainType + 'Index'] = payload[mainType + 'Index'];\n    query[mainType + 'Name'] = payload[mainType + 'Name'];\n    var condition = {\n      mainType: mainType,\n      query: query\n    };\n    subType && (condition.subType = subType); // subType may be '' by parseClassType;\n\n    var excludeSeriesId = payload.excludeSeriesId;\n\n    if (excludeSeriesId != null) {\n      excludeSeriesId = util.createHashMap(model.normalizeToArray(excludeSeriesId));\n    } // If dispatchAction before setOption, do nothing.\n\n\n    ecModel && ecModel.eachComponent(condition, function (model) {\n      if (!excludeSeriesId || excludeSeriesId.get(model.id) == null) {\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n      }\n    }, ecIns);\n\n    function callView(view) {\n      view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n    }\n  }\n  /**\n   * Resize the chart\n   * @param {Object} opts\n   * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n   * @param {boolean} [opts.silent=false]\n   */\n\n\n  echartsProto.resize = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model; // Resize loading effect\n\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var optionChanged = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    this[IN_MAIN_PROCESS] = true;\n    optionChanged && prepare(this);\n    updateMethods.update.call(this);\n    this[IN_MAIN_PROCESS] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  function updateStreamModes(ecIns, ecModel) {\n    var chartsMap = ecIns._chartsMap;\n    var scheduler = ecIns._scheduler;\n    ecModel.eachSeries(function (seriesModel) {\n      scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n    });\n  }\n  /**\n   * Show loading effect\n   * @param  {string} [name='default']\n   * @param  {Object} [cfg]\n   */\n\n\n  echartsProto.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\n   * Hide loading effect\n   */\n\n\n  echartsProto.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n  /**\n   * @param {Object} eventObj\n   * @return {Object}\n   */\n\n\n  echartsProto.makeActionFromEvent = function (eventObj) {\n    var payload = util.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  /**\n   * @pubilc\n   * @param {Object} payload\n   * @param {string} [payload.type] Action type\n   * @param {Object|boolean} [opt] If pass boolean, means opt.silent\n   * @param {boolean} [opt.silent=false] Whether trigger events.\n   * @param {boolean} [opt.flush=undefined]\n   *                  true: Flush immediately, and then pixel in canvas can be fetched\n   *                      immediately. Caution: it might affect performance.\n   *                  false: Not flush.\n   *                  undefined: Auto decide whether perform flush.\n   */\n\n\n  echartsProto.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    } // Avoid dispatch action before setOption. Especially in `connect`.\n\n\n    if (!this._model) {\n      return;\n    } // May dispatchAction in rendering procedure\n\n\n    if (this[IN_MAIN_PROCESS]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    doDispatchAction.call(this, payload, opt.silent);\n\n    if (opt.flush) {\n      this._zr.flush(true);\n    } else if (opt.flush !== false && env_1.browser.weChat) {\n      // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh util user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, opt.silent);\n    triggerUpdatedEvent.call(this, opt.silent);\n  };\n\n  function doDispatchAction(payload, silent) {\n    var payloadType = payload.type;\n    var escapeConnect = payload.escapeConnect;\n    var actionWrap = actions[payloadType];\n    var actionInfo = actionWrap.actionInfo;\n    var cptType = (actionInfo.update || 'update').split(':');\n    var updateMethod = cptType.pop();\n    cptType = cptType[0] != null && parseClassType(cptType[0]);\n    this[IN_MAIN_PROCESS] = true;\n    var payloads = [payload];\n    var batched = false; // Batch action\n\n    if (payload.batch) {\n      batched = true;\n      payloads = util.map(payload.batch, function (item) {\n        item = util.defaults(util.extend({}, item), payload);\n        item.batch = null;\n        return item;\n      });\n    }\n\n    var eventObjBatch = [];\n    var eventObj;\n    var isHighDown = payloadType === 'highlight' || payloadType === 'downplay';\n    each(payloads, function (batchItem) {\n      // Action can specify the event by return it.\n      eventObj = actionWrap.action(batchItem, this._model, this._api); // Emit event outside\n\n      eventObj = eventObj || util.extend({}, batchItem); // Convert type to eventType\n\n      eventObj.type = actionInfo.event || eventObj.type;\n      eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\n\n      if (isHighDown) {\n        // method, payload, mainType, subType\n        updateDirectly(this, updateMethod, batchItem, 'series');\n      } else if (cptType) {\n        updateDirectly(this, updateMethod, batchItem, cptType.main, cptType.sub);\n      }\n    }, this);\n\n    if (updateMethod !== 'none' && !isHighDown && !cptType) {\n      // Still dirty\n      if (this[OPTION_UPDATED]) {\n        // FIXME Pass payload ?\n        prepare(this);\n        updateMethods.update.call(this, payload);\n        this[OPTION_UPDATED] = false;\n      } else {\n        updateMethods[updateMethod].call(this, payload);\n      }\n    } // Follow the rule of action batch\n\n\n    if (batched) {\n      eventObj = {\n        type: actionInfo.event || payloadType,\n        escapeConnect: escapeConnect,\n        batch: eventObjBatch\n      };\n    } else {\n      eventObj = eventObjBatch[0];\n    }\n\n    this[IN_MAIN_PROCESS] = false;\n    !silent && this._messageCenter.trigger(eventObj.type, eventObj);\n  }\n\n  function flushPendingActions(silent) {\n    var pendingActions = this._pendingActions;\n\n    while (pendingActions.length) {\n      var payload = pendingActions.shift();\n      doDispatchAction.call(this, payload, silent);\n    }\n  }\n\n  function triggerUpdatedEvent(silent) {\n    !silent && this.trigger('updated');\n  }\n  /**\n   * Event `rendered` is triggered when zr\n   * rendered. It is useful for realtime\n   * snapshot (reflect animation).\n   *\n   * Event `finished` is triggered when:\n   * (1) zrender rendering finished.\n   * (2) initial animation finished.\n   * (3) progressive rendering finished.\n   * (4) no pending action.\n   * (5) no delayed setOption needs to be processed.\n   */\n\n\n  function bindRenderedEvent(zr, ecIns) {\n    zr.on('rendered', function () {\n      ecIns.trigger('rendered'); // The `finished` event should not be triggered repeatly,\n      // so it should only be triggered when rendering indeed happend\n      // in zrender. (Consider the case that dipatchAction is keep\n      // triggering when mouse move).\n\n      if ( // Although zr is dirty if initial animation is not finished\n      // and this checking is called on frame, we also check\n      // animation finished for robustness.\n      zr.animation.isFinished() && !ecIns[OPTION_UPDATED] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n        ecIns.trigger('finished');\n      }\n    });\n  }\n  /**\n   * @param {Object} params\n   * @param {number} params.seriesIndex\n   * @param {Array|TypedArray} params.data\n   */\n\n\n  echartsProto.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    seriesModel.appendData(params); // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n\n    this._scheduler.unfinished = true;\n  };\n  /**\n   * Register event\n   * @method\n   */\n\n\n  echartsProto.on = createRegisterEventWithLowercaseName('on', false);\n  echartsProto.off = createRegisterEventWithLowercaseName('off', false);\n  echartsProto.one = createRegisterEventWithLowercaseName('one', false);\n  /**\n   * Prepare view instances of charts and components\n   * @param  {module:echarts/model/Global} ecModel\n   * @private\n   */\n\n  function prepareView(ecIns, type, ecModel, scheduler) {\n    var isComponent = type === 'component';\n    var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n    var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n    var zr = ecIns._zr;\n    var api = ecIns._api;\n\n    for (var i = 0; i < viewList.length; i++) {\n      viewList[i].__alive = false;\n    }\n\n    isComponent ? ecModel.eachComponent(function (componentType, model) {\n      componentType !== 'series' && doPrepare(model);\n    }) : ecModel.eachSeries(doPrepare);\n\n    function doPrepare(model) {\n      // Consider: id same and type changed.\n      var viewId = '_ec_' + model.id + '_' + model.type;\n      var view = viewMap[viewId];\n\n      if (!view) {\n        var classType = parseClassType(model.type);\n        var Clazz = isComponent ? Component_1.getClass(classType.main, classType.sub) : Chart_1.getClass(classType.sub);\n        view = new Clazz();\n        view.init(ecModel, api);\n        viewMap[viewId] = view;\n        viewList.push(view);\n        zr.add(view.group);\n      }\n\n      model.__viewId = view.__id = viewId;\n      view.__alive = true;\n      view.__model = model;\n      view.group.__ecComponentInfo = {\n        mainType: model.mainType,\n        index: model.componentIndex\n      };\n      !isComponent && scheduler.prepareView(view, model, ecModel, api);\n    }\n\n    for (var i = 0; i < viewList.length;) {\n      var view = viewList[i];\n\n      if (!view.__alive) {\n        !isComponent && view.renderTask.dispose();\n        zr.remove(view.group);\n        view.dispose(ecModel, api);\n        viewList.splice(i, 1);\n        delete viewMap[view.__id];\n        view.__id = view.group.__ecComponentInfo = null;\n      } else {\n        i++;\n      }\n    }\n  } // /**\n  //  * Encode visual infomation from data after data processing\n  //  *\n  //  * @param {module:echarts/model/Global} ecModel\n  //  * @param {object} layout\n  //  * @param {boolean} [layoutFilter] `true`: only layout,\n  //  *                                 `false`: only not layout,\n  //  *                                 `null`/`undefined`: all.\n  //  * @param {string} taskBaseTag\n  //  * @private\n  //  */\n  // function startVisualEncoding(ecIns, ecModel, api, payload, layoutFilter) {\n  //     each(visualFuncs, function (visual, index) {\n  //         var isLayout = visual.isLayout;\n  //         if (layoutFilter == null\n  //             || (layoutFilter === false && !isLayout)\n  //             || (layoutFilter === true && isLayout)\n  //         ) {\n  //             visual.func(ecModel, api, payload);\n  //         }\n  //     });\n  // }\n\n\n  function clearColorPalette(ecModel) {\n    ecModel.clearColorPalette();\n    ecModel.eachSeries(function (seriesModel) {\n      seriesModel.clearColorPalette();\n    });\n  }\n\n  function render(ecIns, ecModel, api, payload) {\n    renderComponents(ecIns, ecModel, api, payload);\n    each(ecIns._chartsViews, function (chart) {\n      chart.__alive = false;\n    });\n    renderSeries(ecIns, ecModel, api, payload); // Remove groups of unrendered charts\n\n    each(ecIns._chartsViews, function (chart) {\n      if (!chart.__alive) {\n        chart.remove(ecModel, api);\n      }\n    });\n  }\n\n  function renderComponents(ecIns, ecModel, api, payload, dirtyList) {\n    each(dirtyList || ecIns._componentsViews, function (componentView) {\n      var componentModel = componentView.__model;\n      componentView.render(componentModel, ecModel, api, payload);\n      updateZ(componentModel, componentView);\n    });\n  }\n  /**\n   * Render each chart and component\n   * @private\n   */\n\n\n  function renderSeries(ecIns, ecModel, api, payload, dirtyMap) {\n    // Render all charts\n    var scheduler = ecIns._scheduler;\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      var chartView = ecIns._chartsMap[seriesModel.__viewId];\n      chartView.__alive = true;\n      var renderTask = chartView.renderTask;\n      scheduler.updatePayload(renderTask, payload);\n\n      if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n        renderTask.dirty();\n      }\n\n      unfinished |= renderTask.perform(scheduler.getPerformArgs(renderTask));\n      chartView.group.silent = !!seriesModel.get('silent');\n      updateZ(seriesModel, chartView);\n      updateBlend(seriesModel, chartView);\n    });\n    scheduler.unfinished |= unfinished; // If use hover layer\n\n    updateHoverLayerStatus(ecIns, ecModel); // Add aria\n\n    aria(ecIns._zr.dom, ecModel);\n  }\n\n  function performPostUpdateFuncs(ecModel, api) {\n    each(postUpdateFuncs, function (func) {\n      func(ecModel, api);\n    });\n  }\n\n  var MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n  /**\n   * @private\n   */\n\n  echartsProto._initEvents = function () {\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = this.getModel();\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout'; // no e.target when 'globalout'.\n\n        if (isGlobalOut) {\n          params = {};\n        } else if (el && el.dataIndex != null) {\n          var dataModel = el.dataModel || ecModel.getSeriesByIndex(el.seriesIndex);\n          params = dataModel && dataModel.getDataParams(el.dataIndex, el.dataType, el) || {};\n        } // If element has custom eventData of components\n        else if (el && el.eventData) {\n            params = util.extend({}, el.eventData);\n          } // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex; // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n          params.event = e;\n          params.type = eveName;\n          this._ecEventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n          this.trigger(eveName, params);\n        }\n      }; // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n\n\n      handler.zrEventfulCallAtLast = true;\n\n      this._zr.on(eveName, handler, this);\n    }, this);\n    each(eventActionMap, function (actionType, eventType) {\n      this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, this);\n    }, this);\n  };\n  /**\n   * @return {boolean}\n   */\n\n\n  echartsProto.isDisposed = function () {\n    return this._disposed;\n  };\n  /**\n   * Clear\n   */\n\n\n  echartsProto.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n  /**\n   * Dispose instance\n   */\n\n\n  echartsProto.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    model.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    }); // Dispose after all views disposed\n\n    this._zr.dispose();\n\n    delete instances[this.id];\n  };\n\n  util.mixin(ECharts, Eventful_1);\n\n  function disposedWarning(id) {}\n\n  function updateHoverLayerStatus(ecIns, ecModel) {\n    var zr = ecIns._zr;\n    var storage = zr.storage;\n    var elCount = 0;\n    storage.traverse(function (el) {\n      elCount++;\n    });\n\n    if (elCount > ecModel.get('hoverLayerThreshold') && !env_1.node) {\n      ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.preventUsingHoverLayer) {\n          return;\n        }\n\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n        if (chartView.__alive) {\n          chartView.group.traverse(function (el) {\n            // Don't switch back.\n            el.useHoverLayer = true;\n          });\n        }\n      });\n    }\n  }\n  /**\n   * Update chart progressive and blend.\n   * @param {module:echarts/model/Series|module:echarts/model/Component} model\n   * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n   */\n\n\n  function updateBlend(seriesModel, chartView) {\n    var blendMode = seriesModel.get('blendMode') || null;\n    chartView.group.traverse(function (el) {\n      // FIXME marker and other components\n      if (!el.isGroup) {\n        // Only set if blendMode is changed. In case element is incremental and don't wan't to rerender.\n        if (el.style.blend !== blendMode) {\n          el.setStyle('blend', blendMode);\n        }\n      }\n\n      if (el.eachPendingDisplayable) {\n        el.eachPendingDisplayable(function (displayable) {\n          displayable.setStyle('blend', blendMode);\n        });\n      }\n    });\n  }\n  /**\n   * @param {module:echarts/model/Series|module:echarts/model/Component} model\n   * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n   */\n\n\n  function updateZ(model, view) {\n    var z = model.get('z');\n    var zlevel = model.get('zlevel'); // Set z and zlevel\n\n    view.group.traverse(function (el) {\n      if (el.type !== 'group') {\n        z != null && (el.z = z);\n        zlevel != null && (el.zlevel = zlevel);\n      }\n    });\n  }\n\n  function createExtensionAPI(ecInstance) {\n    var coordSysMgr = ecInstance._coordSysMgr;\n    return util.extend(new ExtensionAPI_1(ecInstance), {\n      // Inject methods\n      getCoordinateSystems: util.bind(coordSysMgr.getCoordinateSystems, coordSysMgr),\n      getComponentByElement: function (el) {\n        while (el) {\n          var modelInfo = el.__ecComponentInfo;\n\n          if (modelInfo != null) {\n            return ecInstance._model.getComponent(modelInfo.mainType, modelInfo.index);\n          }\n\n          el = el.parent;\n        }\n      }\n    });\n  }\n  /**\n   * @class\n   * Usage of query:\n   * `chart.on('click', query, handler);`\n   * The `query` can be:\n   * + The component type query string, only `mainType` or `mainType.subType`,\n   *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n   * + The component query object, like:\n   *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n   *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n   * + The data query object, like:\n   *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n   * + The other query object (cmponent customized query), like:\n   *   `{element: 'some'}` (only available in custom series).\n   *\n   * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n   * same as there is no such prop in the `query` object.\n   */\n\n\n  function EventProcessor() {\n    // These info required: targetEl, packedEvent, model, view\n    this.eventInfo;\n  }\n\n  EventProcessor.prototype = {\n    constructor: EventProcessor,\n    normalizeQuery: function (query) {\n      var cptQuery = {};\n      var dataQuery = {};\n      var otherQuery = {}; // `query` is `mainType` or `mainType.subType` of component.\n\n      if (util.isString(query)) {\n        var condCptType = parseClassType(query); // `.main` and `.sub` may be ''.\n\n        cptQuery.mainType = condCptType.main || null;\n        cptQuery.subType = condCptType.sub || null;\n      } // `query` is an object, convert to {mainType, index, name, id}.\n      else {\n          // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n          // can not be used in `compomentModel.filterForExposedEvent`.\n          var suffixes = ['Index', 'Name', 'Id'];\n          var dataKeys = {\n            name: 1,\n            dataIndex: 1,\n            dataType: 1\n          };\n          util.each(query, function (val, key) {\n            var reserved = false;\n\n            for (var i = 0; i < suffixes.length; i++) {\n              var propSuffix = suffixes[i];\n              var suffixPos = key.lastIndexOf(propSuffix);\n\n              if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n                var mainType = key.slice(0, suffixPos); // Consider `dataIndex`.\n\n                if (mainType !== 'data') {\n                  cptQuery.mainType = mainType;\n                  cptQuery[propSuffix.toLowerCase()] = val;\n                  reserved = true;\n                }\n              }\n            }\n\n            if (dataKeys.hasOwnProperty(key)) {\n              dataQuery[key] = val;\n              reserved = true;\n            }\n\n            if (!reserved) {\n              otherQuery[key] = val;\n            }\n          });\n        }\n\n      return {\n        cptQuery: cptQuery,\n        dataQuery: dataQuery,\n        otherQuery: otherQuery\n      };\n    },\n    filter: function (eventType, query, args) {\n      // They should be assigned before each trigger call.\n      var eventInfo = this.eventInfo;\n\n      if (!eventInfo) {\n        return true;\n      }\n\n      var targetEl = eventInfo.targetEl;\n      var packedEvent = eventInfo.packedEvent;\n      var model = eventInfo.model;\n      var view = eventInfo.view; // For event like 'globalout'.\n\n      if (!model || !view) {\n        return true;\n      }\n\n      var cptQuery = query.cptQuery;\n      var dataQuery = query.dataQuery;\n      return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n\n      function check(query, host, prop, propOnHost) {\n        return query[prop] == null || host[propOnHost || prop] === query[prop];\n      }\n    },\n    afterTrigger: function () {\n      // Make sure the eventInfo wont be used in next trigger.\n      this.eventInfo = null;\n    }\n  };\n  /**\n   * @type {Object} key: actionType.\n   * @inner\n   */\n\n  var actions = {};\n  /**\n   * Map eventType to actionType\n   * @type {Object}\n   */\n\n  var eventActionMap = {};\n  /**\n   * Data processor functions of each stage\n   * @type {Array.<Object.<string, Function>>}\n   * @inner\n   */\n\n  var dataProcessorFuncs = [];\n  /**\n   * @type {Array.<Function>}\n   * @inner\n   */\n\n  var optionPreprocessorFuncs = [];\n  /**\n   * @type {Array.<Function>}\n   * @inner\n   */\n\n  var postUpdateFuncs = [];\n  /**\n   * Visual encoding functions of each stage\n   * @type {Array.<Object.<string, Function>>}\n   */\n\n  var visualFuncs = [];\n  /**\n   * Theme storage\n   * @type {Object.<key, Object>}\n   */\n\n  var themeStorage = {};\n  /**\n   * Loading effects\n   */\n\n  var loadingEffects = {};\n  var instances = {};\n  var connectedGroups = {};\n  var idBase = new Date() - 0;\n  var groupIdBase = new Date() - 0;\n  var DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\n  function enableConnect(chart) {\n    var STATUS_PENDING = 0;\n    var STATUS_UPDATING = 1;\n    var STATUS_UPDATED = 2;\n    var STATUS_KEY = '__connectUpdateStatus';\n\n    function updateConnectedChartsStatus(charts, status) {\n      for (var i = 0; i < charts.length; i++) {\n        var otherChart = charts[i];\n        otherChart[STATUS_KEY] = status;\n      }\n    }\n\n    each(eventActionMap, function (actionType, eventType) {\n      chart._messageCenter.on(eventType, function (event) {\n        if (connectedGroups[chart.group] && chart[STATUS_KEY] !== STATUS_PENDING) {\n          if (event && event.escapeConnect) {\n            return;\n          }\n\n          var action = chart.makeActionFromEvent(event);\n          var otherCharts = [];\n          each(instances, function (otherChart) {\n            if (otherChart !== chart && otherChart.group === chart.group) {\n              otherCharts.push(otherChart);\n            }\n          });\n          updateConnectedChartsStatus(otherCharts, STATUS_PENDING);\n          each(otherCharts, function (otherChart) {\n            if (otherChart[STATUS_KEY] !== STATUS_UPDATING) {\n              otherChart.dispatchAction(action);\n            }\n          });\n          updateConnectedChartsStatus(otherCharts, STATUS_UPDATED);\n        }\n      });\n    });\n  }\n  /**\n   * @param {HTMLElement} dom\n   * @param {Object} [theme]\n   * @param {Object} opts\n   * @param {number} [opts.devicePixelRatio] Use window.devicePixelRatio by default\n   * @param {string} [opts.renderer] Can choose 'canvas' or 'svg' to render the chart.\n   * @param {number} [opts.width] Use clientWidth of the input `dom` by default.\n   *                              Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Use clientHeight of the input `dom` by default.\n   *                               Can be 'auto' (the same as null/undefined)\n   */\n\n\n  function init(dom, theme, opts) {\n    var existInstance = getInstanceByDom(dom);\n\n    if (existInstance) {\n      return existInstance;\n    }\n\n    var chart = new ECharts(dom, theme, opts);\n    chart.id = 'ec_' + idBase++;\n    instances[chart.id] = chart;\n    model.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n    enableConnect(chart);\n    return chart;\n  }\n  /**\n   * @return {string|Array.<module:echarts~ECharts>} groupId\n   */\n\n\n  function connect(groupId) {\n    // Is array of charts\n    if (util.isArray(groupId)) {\n      var charts = groupId;\n      groupId = null; // If any chart has group\n\n      each(charts, function (chart) {\n        if (chart.group != null) {\n          groupId = chart.group;\n        }\n      });\n      groupId = groupId || 'g_' + groupIdBase++;\n      each(charts, function (chart) {\n        chart.group = groupId;\n      });\n    }\n\n    connectedGroups[groupId] = true;\n    return groupId;\n  }\n  /**\n   * @DEPRECATED\n   * @return {string} groupId\n   */\n\n\n  function disConnect(groupId) {\n    connectedGroups[groupId] = false;\n  }\n  /**\n   * @return {string} groupId\n   */\n\n\n  var disconnect = disConnect;\n  /**\n   * Dispose a chart instance\n   * @param  {module:echarts~ECharts|HTMLDomElement|string} chart\n   */\n\n  function dispose(chart) {\n    if (typeof chart === 'string') {\n      chart = instances[chart];\n    } else if (!(chart instanceof ECharts)) {\n      // Try to treat as dom\n      chart = getInstanceByDom(chart);\n    }\n\n    if (chart instanceof ECharts && !chart.isDisposed()) {\n      chart.dispose();\n    }\n  }\n  /**\n   * @param  {HTMLElement} dom\n   * @return {echarts~ECharts}\n   */\n\n\n  function getInstanceByDom(dom) {\n    return instances[model.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n  }\n  /**\n   * @param {string} key\n   * @return {echarts~ECharts}\n   */\n\n\n  function getInstanceById(key) {\n    return instances[key];\n  }\n  /**\n   * Register theme\n   */\n\n\n  function registerTheme(name, theme) {\n    themeStorage[name] = theme;\n  }\n  /**\n   * Register option preprocessor\n   * @param {Function} preprocessorFunc\n   */\n\n\n  function registerPreprocessor(preprocessorFunc) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n  /**\n   * @param {number} [priority=1000]\n   * @param {Object|Function} processor\n   */\n\n\n  function registerProcessor(priority, processor) {\n    normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_FILTER);\n  }\n  /**\n   * Register postUpdater\n   * @param {Function} postUpdateFunc\n   */\n\n\n  function registerPostUpdate(postUpdateFunc) {\n    postUpdateFuncs.push(postUpdateFunc);\n  }\n  /**\n   * Usage:\n   * registerAction('someAction', 'someEvent', function () { ... });\n   * registerAction('someAction', function () { ... });\n   * registerAction(\n   *     {type: 'someAction', event: 'someEvent', update: 'updateView'},\n   *     function () { ... }\n   * );\n   *\n   * @param {(string|Object)} actionInfo\n   * @param {string} actionInfo.type\n   * @param {string} [actionInfo.event]\n   * @param {string} [actionInfo.update]\n   * @param {string} [eventName]\n   * @param {Function} action\n   */\n\n\n  function registerAction(actionInfo, eventName, action) {\n    if (typeof eventName === 'function') {\n      action = eventName;\n      eventName = '';\n    }\n\n    var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n      event: eventName\n    }][0]; // Event name is all lowercase\n\n    actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n    eventName = actionInfo.event; // Validate action type and event name.\n\n    assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n    if (!actions[actionType]) {\n      actions[actionType] = {\n        action: action,\n        actionInfo: actionInfo\n      };\n    }\n\n    eventActionMap[eventName] = actionType;\n  }\n  /**\n   * @param {string} type\n   * @param {*} CoordinateSystem\n   */\n\n\n  function registerCoordinateSystem(type, CoordinateSystem$1) {\n    CoordinateSystem.register(type, CoordinateSystem$1);\n  }\n  /**\n   * Get dimensions of specified coordinate system.\n   * @param {string} type\n   * @return {Array.<string|Object>}\n   */\n\n\n  function getCoordinateSystemDimensions(type) {\n    var coordSysCreator = CoordinateSystem.get(type);\n\n    if (coordSysCreator) {\n      return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n    }\n  }\n  /**\n   * Layout is a special stage of visual encoding\n   * Most visual encoding like color are common for different chart\n   * But each chart has it's own layout algorithm\n   *\n   * @param {number} [priority=1000]\n   * @param {Function} layoutTask\n   */\n\n\n  function registerLayout(priority, layoutTask) {\n    normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n  }\n  /**\n   * @param {number} [priority=3000]\n   * @param {module:echarts/stream/Task} visualTask\n   */\n\n\n  function registerVisual(priority, visualTask) {\n    normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n  }\n  /**\n   * @param {Object|Function} fn: {seriesType, createOnAllSeries, performRawSeries, reset}\n   */\n\n\n  function normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n    if (isFunction(priority) || isObject(priority)) {\n      fn = priority;\n      priority = defaultPriority;\n    }\n\n    var stageHandler = Scheduler_1.wrapStageHandler(fn, visualType);\n    stageHandler.__prio = priority;\n    stageHandler.__raw = fn;\n    targetList.push(stageHandler);\n    return stageHandler;\n  }\n  /**\n   * @param {string} name\n   */\n\n\n  function registerLoading(name, loadingFx) {\n    loadingEffects[name] = loadingFx;\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendComponentModel(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ComponentModel;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return Component.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendComponentView(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ComponentView;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentView.getClass(classType.main, classType.sub, true);\n    // }\n    return Component_1.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendSeriesModel(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = SeriesModel;\n    // if (superClass) {\n    //     superClass = 'series.' + superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return Series.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendChartView(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ChartView;\n    // if (superClass) {\n    //     superClass = superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ChartView.getClass(classType.main, true);\n    // }\n    return Chart_1.extend(opts);\n  }\n  /**\n   * ZRender need a canvas context to do measureText.\n   * But in node environment canvas may be created by node-canvas.\n   * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n   *\n   * Be careful of using it in the browser.\n   *\n   * @param {Function} creator\n   * @example\n   *     var Canvas = require('canvas');\n   *     var echarts = require('echarts');\n   *     echarts.setCanvasCreator(function () {\n   *         // Small size is enough.\n   *         return new Canvas(32, 32);\n   *     });\n   */\n\n\n  function setCanvasCreator(creator) {\n    util.$override('createCanvas', creator);\n  }\n  /**\n   * @param {string} mapName\n   * @param {Array.<Object>|Object|string} geoJson\n   * @param {Object} [specialAreas]\n   *\n   * @example GeoJSON\n   *     $.get('USA.json', function (geoJson) {\n   *         echarts.registerMap('USA', geoJson);\n   *         // Or\n   *         echarts.registerMap('USA', {\n   *             geoJson: geoJson,\n   *             specialAreas: {}\n   *         })\n   *     });\n   *\n   *     $.get('airport.svg', function (svg) {\n   *         echarts.registerMap('airport', {\n   *             svg: svg\n   *         }\n   *     });\n   *\n   *     echarts.registerMap('eu', [\n   *         {svg: eu-topographic.svg},\n   *         {geoJSON: eu.json}\n   *     ])\n   */\n\n\n  function registerMap(mapName, geoJson, specialAreas) {\n    mapDataStorage.registerMap(mapName, geoJson, specialAreas);\n  }\n  /**\n   * @param {string} mapName\n   * @return {Object}\n   */\n\n\n  function getMap(mapName) {\n    // For backward compatibility, only return the first one.\n    var records = mapDataStorage.retrieveMap(mapName);\n    return records && records[0] && {\n      geoJson: records[0].geoJSON,\n      specialAreas: records[0].specialAreas\n    };\n  }\n\n  registerVisual(PRIORITY_VISUAL_GLOBAL, seriesColor);\n  registerPreprocessor(backwardCompat);\n  registerProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\n  registerLoading('default', _default_1); // Default actions\n\n  registerAction({\n    type: 'highlight',\n    event: 'highlight',\n    update: 'highlight'\n  }, util.noop);\n  registerAction({\n    type: 'downplay',\n    event: 'downplay',\n    update: 'downplay'\n  }, util.noop); // Default theme\n\n  registerTheme('light', light);\n  registerTheme('dark', dark); // For backward compatibility, where the namespace `dataTool` will\n  // be mounted on `echarts` is the extension `dataTool` is imported.\n\n  var dataTool = {};\n  exports.version = version;\n  exports.dependencies = dependencies;\n  exports.PRIORITY = PRIORITY;\n  exports.init = init;\n  exports.connect = connect;\n  exports.disConnect = disConnect;\n  exports.disconnect = disconnect;\n  exports.dispose = dispose;\n  exports.getInstanceByDom = getInstanceByDom;\n  exports.getInstanceById = getInstanceById;\n  exports.registerTheme = registerTheme;\n  exports.registerPreprocessor = registerPreprocessor;\n  exports.registerProcessor = registerProcessor;\n  exports.registerPostUpdate = registerPostUpdate;\n  exports.registerAction = registerAction;\n  exports.registerCoordinateSystem = registerCoordinateSystem;\n  exports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\n  exports.registerLayout = registerLayout;\n  exports.registerVisual = registerVisual;\n  exports.registerLoading = registerLoading;\n  exports.extendComponentModel = extendComponentModel;\n  exports.extendComponentView = extendComponentView;\n  exports.extendSeriesModel = extendSeriesModel;\n  exports.extendChartView = extendChartView;\n  exports.setCanvasCreator = setCanvasCreator;\n  exports.registerMap = registerMap;\n  exports.getMap = getMap;\n  exports.dataTool = dataTool;\n\n  (function () {\n      for (var key in _export$1) {\n          if (_export$1.hasOwnProperty(key)) {\n              exports[key] = _export$1[key];\n          }\n      }\n  })();\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$1w = Series.extend({\n    type: 'series.line',\n    dependencies: ['grid', 'polar'],\n    getInitialData: function (option, ecModel) {\n      return createListFromArray_1(this.getSource(), this, {\n        useEncodeDefaulter: true\n      });\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      coordinateSystem: 'cartesian2d',\n      legendHoverLink: true,\n      hoverAnimation: true,\n      // stack: null\n      // xAxisIndex: 0,\n      // yAxisIndex: 0,\n      // polarIndex: 0,\n      // If clip the overflow value\n      clip: true,\n      // cursor: null,\n      label: {\n        position: 'top'\n      },\n      // itemStyle: {\n      // },\n      lineStyle: {\n        width: 2,\n        type: 'solid'\n      },\n      // areaStyle: {\n      // origin of areaStyle. Valid values:\n      // `'auto'/null/undefined`: from axisLine to data\n      // `'start'`: from min to data\n      // `'end'`: from data to max\n      // origin: 'auto'\n      // },\n      // false, 'start', 'end', 'middle'\n      step: false,\n      // Disabled if step is true\n      smooth: false,\n      smoothMonotone: null,\n      symbol: 'emptyCircle',\n      symbolSize: 4,\n      symbolRotate: null,\n      showSymbol: true,\n      // `false`: follow the label interval strategy.\n      // `true`: show all symbols.\n      // `'auto'`: If possible, show all symbols, otherwise\n      //           follow the label interval strategy.\n      showAllSymbol: 'auto',\n      // Whether to connect break point.\n      connectNulls: false,\n      // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n      sampling: 'none',\n      animationEasing: 'linear',\n      // Disable progressive\n      progressive: 0,\n      hoverLayerThreshold: Infinity\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieveRawValue$4 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @return {string} label string. Not null/undefined\n   */\n  function getDefaultLabel(data, dataIndex) {\n    var labelDims = data.mapDimension('defaultedLabel', true);\n    var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n    if (len === 1) {\n      return retrieveRawValue$4(data, dataIndex, labelDims[0]);\n    } else if (len) {\n      var vals = [];\n\n      for (var i = 0; i < labelDims.length; i++) {\n        var val = retrieveRawValue$4(data, dataIndex, labelDims[i]);\n        vals.push(val);\n      }\n\n      return vals.join(' ');\n    }\n  }\n\n  var getDefaultLabel_1 = getDefaultLabel;\n\n  var labelHelper = {\n  \tgetDefaultLabel: getDefaultLabel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var createSymbol$2 = symbol.createSymbol;\n\n\n\n\n\n  var parsePercent$4 = number.parsePercent;\n\n\n\n  var getDefaultLabel$1 = labelHelper.getDefaultLabel;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/Symbol\n   */\n\n  /**\n   * @constructor\n   * @alias {module:echarts/chart/helper/Symbol}\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @extends {module:zrender/graphic/Group}\n   */\n  function SymbolClz$1(data, idx, seriesScope) {\n    graphic.Group.call(this);\n    this.updateData(data, idx, seriesScope);\n  }\n\n  var symbolProto = SymbolClz$1.prototype;\n  /**\n   * @public\n   * @static\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @return {Array.<number>} [width, height]\n   */\n\n  var getSymbolSize = SymbolClz$1.getSymbolSize = function (data, idx) {\n    var symbolSize = data.getItemVisual(idx, 'symbolSize');\n    return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  };\n\n  function getScale(symbolSize) {\n    return [symbolSize[0] / 2, symbolSize[1] / 2];\n  }\n\n  function driftSymbol(dx, dy) {\n    this.parent.drift(dx, dy);\n  }\n\n  symbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll();\n    var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n\n    var symbolPath = createSymbol$2(symbolType, -1, -1, 2, 2, color, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scale: getScale(symbolSize)\n    }); // Rewrite drift method\n\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n\n\n  symbolProto.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(toLastFrame);\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n\n\n  symbolProto.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Get scale(aka, current symbol size).\n   * Including the change caused by animation\n   */\n\n\n  symbolProto.getScale = function () {\n    return this.childAt(0).scale;\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  symbolProto.highlight = function () {\n    this.childAt(0).trigger('emphasis');\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  symbolProto.downplay = function () {\n    this.childAt(0).trigger('normal');\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n\n\n  symbolProto.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n\n  symbolProto.setDraggable = function (draggable) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @param {Object} [seriesScope]\n   * @param {Object} [seriesScope.itemStyle]\n   * @param {Object} [seriesScope.hoverItemStyle]\n   * @param {Object} [seriesScope.symbolRotate]\n   * @param {Object} [seriesScope.symbolOffset]\n   * @param {module:echarts/model/Model} [seriesScope.labelModel]\n   * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n   * @param {boolean} [seriesScope.hoverAnimation]\n   * @param {Object} [seriesScope.cursorStyle]\n   * @param {module:echarts/model/Model} [seriesScope.itemModel]\n   * @param {string} [seriesScope.symbolInnerColor]\n   * @param {Object} [seriesScope.fadeIn=false]\n   */\n\n\n  symbolProto.updateData = function (data, idx, seriesScope) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      graphic.updateProps(symbolPath, {\n        scale: getScale(symbolSize)\n      }, seriesModel, idx);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope);\n\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n      var fadeIn = seriesScope && seriesScope.fadeIn;\n      var target = {\n        scale: symbolPath.scale.slice()\n      };\n      fadeIn && (target.style = {\n        opacity: symbolPath.style.opacity\n      });\n      symbolPath.scale = [0, 0];\n      fadeIn && (symbolPath.style.opacity = 0);\n      graphic.initProps(symbolPath, target, seriesModel, idx);\n    }\n\n    this._seriesModel = seriesModel;\n  }; // Update common properties\n\n\n  var normalStyleAccessPath = ['itemStyle'];\n  var emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\n  var normalLabelAccessPath = ['label'];\n  var emphasisLabelAccessPath = ['emphasis', 'label'];\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @param {Array.<number>} symbolSize\n   * @param {Object} [seriesScope]\n   */\n\n  symbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var color = data.getItemVisual(idx, 'color'); // Reset style\n\n    if (symbolPath.type !== 'image') {\n      symbolPath.useStyle({\n        strokeNoScale: true\n      });\n    } else {\n      symbolPath.setStyle({\n        opacity: 1,\n        shadowBlur: null,\n        shadowOffsetX: null,\n        shadowOffsetY: null,\n        shadowColor: null\n      });\n    }\n\n    var itemStyle = seriesScope && seriesScope.itemStyle;\n    var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n    var symbolOffset = seriesScope && seriesScope.symbolOffset;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n    var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n    var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n      // Because symbol provide setColor individually to set fill and stroke\n\n      itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n      hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n      symbolOffset = itemModel.getShallow('symbolOffset');\n      labelModel = itemModel.getModel(normalLabelAccessPath);\n      hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n      hoverAnimation = itemModel.getShallow('hoverAnimation');\n      cursorStyle = itemModel.getShallow('cursor');\n    } else {\n      hoverItemStyle = util.extend({}, hoverItemStyle);\n    }\n\n    var elStyle = symbolPath.style;\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n    if (symbolOffset) {\n      symbolPath.attr('position', [parsePercent$4(symbolOffset[0], symbolSize[0]), parsePercent$4(symbolOffset[1], symbolSize[1])]);\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n    symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n    symbolPath.setStyle(itemStyle);\n    var opacity = data.getItemVisual(idx, 'opacity');\n\n    if (opacity != null) {\n      elStyle.opacity = opacity;\n    }\n\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = symbolPath.__z2Origin;\n\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        symbolPath.__z2Origin = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      symbolPath.__z2Origin = null;\n    }\n\n    var useNameLabel = seriesScope && seriesScope.useNameLabel;\n    graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      isRectText: true,\n      autoColor: color\n    }); // Do not execute util needed.\n\n    function getLabelDefaultText(idx, opt) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel$1(data, idx);\n    }\n\n    symbolPath.__symbolOriginalScale = getScale(symbolSize);\n    symbolPath.hoverStyle = hoverItemStyle;\n    symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n    graphic.setHoverStyle(symbolPath);\n  };\n\n  function highDownOnUpdate(fromState, toState) {\n    // Do not support this hover animation util some scenario required.\n    // Animation can only be supported in hover layer when using `el.incremetal`.\n    if (this.incremental || this.useHoverLayer) {\n      return;\n    }\n\n    if (toState === 'emphasis') {\n      var scale = this.__symbolOriginalScale;\n      var ratio = scale[1] / scale[0];\n      var emphasisOpt = {\n        scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n      }; // FIXME\n      // modify it after support stop specified animation.\n      // toState === fromState\n      //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n      this.animateTo(emphasisOpt, 400, 'elasticOut');\n    } else if (toState === 'normal') {\n      this.animateTo({\n        scale: this.__symbolOriginalScale\n      }, 400, 'elasticOut');\n    }\n  }\n  /**\n   * @param {Function} cb\n   * @param {Object} [opt]\n   * @param {Object} [opt.keepLabel=true]\n   */\n\n\n  symbolProto.fadeOut = function (cb, opt) {\n    var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n    this.silent = symbolPath.silent = true; // Not show text when animating\n\n    !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n    graphic.updateProps(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scale: [0, 0]\n    }, this._seriesModel, this.dataIndex, cb);\n  };\n\n  util.inherits(SymbolClz$1, graphic.Group);\n  var _default$1x = SymbolClz$1;\n  var _Symbol = _default$1x;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var isObject$e = util.isObject;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/SymbolDraw\n   */\n\n  /**\n   * @constructor\n   * @alias module:echarts/chart/helper/SymbolDraw\n   * @param {module:zrender/graphic/Group} [symbolCtor]\n   */\n  function SymbolDraw(symbolCtor) {\n    this.group = new graphic.Group();\n    this._symbolCtor = symbolCtor || _Symbol;\n  }\n\n  var symbolDrawProto = SymbolDraw.prototype;\n\n  function symbolNeedsDraw(data, point, idx, opt) {\n    return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n    // the symbol element shape. We use the same clip shape here as\n    // the line clip.\n    && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n  }\n  /**\n   * Update symbols draw by new data\n   * @param {module:echarts/data/List} data\n   * @param {Object} [opt] Or isIgnore\n   * @param {Function} [opt.isIgnore]\n   * @param {Object} [opt.clipShape]\n   */\n\n\n  symbolDrawProto.updateData = function (data, opt) {\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._symbolCtor;\n    var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!oldData) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      var point = data.getItemLayout(newIdx);\n\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n        symbolEl.attr('position', point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = data.getItemLayout(newIdx);\n\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      if (!symbolEl) {\n        symbolEl = new SymbolCtor(data, newIdx);\n        symbolEl.attr('position', point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope);\n        graphic.updateProps(symbolEl, {\n          position: point\n        }, seriesModel);\n      } // Add back\n\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      });\n    }).execute();\n    this._data = data;\n  };\n\n  symbolDrawProto.isPersistent = function () {\n    return true;\n  };\n\n  symbolDrawProto.updateLayout = function () {\n    var data = this._data;\n\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = data.getItemLayout(idx);\n        el.attr('position', point);\n      });\n    }\n  };\n\n  symbolDrawProto.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n  /**\n   * Update symbols draw by new data\n   * @param {module:echarts/data/List} data\n   * @param {Object} [opt] Or isIgnore\n   * @param {Function} [opt.isIgnore]\n   * @param {Object} [opt.clipShape]\n   */\n\n\n  symbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n    opt = normalizeUpdateOpt(opt);\n\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = el.useHoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._symbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.attr('position', point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  function normalizeUpdateOpt(opt) {\n    if (opt != null && !isObject$e(opt)) {\n      opt = {\n        isIgnore: opt\n      };\n    }\n\n    return opt || {};\n  }\n\n  symbolDrawProto.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data; // Incremental model do not have this._data.\n\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        });\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n\n  function makeSeriesScope(data) {\n    var seriesModel = data.hostModel;\n    return {\n      itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n      hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      labelModel: seriesModel.getModel('label'),\n      hoverLabelModel: seriesModel.getModel('emphasis.label'),\n      cursorStyle: seriesModel.get('cursor')\n    };\n  }\n\n  var _default$1y = SymbolDraw;\n  var SymbolDraw_1 = _default$1y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var isDimensionStacked$3 = dataStackHelper.isDimensionStacked;\n\n\n\n  var map$7 = util.map;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} coordSys\n   * @param {module:echarts/data/List} data\n   * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n   */\n  function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n    var baseAxis = coordSys.getBaseAxis();\n    var valueAxis = coordSys.getOtherAxis(baseAxis);\n    var valueStart = getValueStart(valueAxis, valueOrigin);\n    var baseAxisDim = baseAxis.dim;\n    var valueAxisDim = valueAxis.dim;\n    var valueDim = data.mapDimension(valueAxisDim);\n    var baseDim = data.mapDimension(baseAxisDim);\n    var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n    var dims = map$7(coordSys.dimensions, function (coordDim) {\n      return data.mapDimension(coordDim);\n    });\n    var stacked;\n    var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n    if (stacked |= isDimensionStacked$3(data, dims[0]\n    /*, dims[1]*/\n    )) {\n      // jshint ignore:line\n      dims[0] = stackResultDim;\n    }\n\n    if (stacked |= isDimensionStacked$3(data, dims[1]\n    /*, dims[0]*/\n    )) {\n      // jshint ignore:line\n      dims[1] = stackResultDim;\n    }\n\n    return {\n      dataDimsForPoint: dims,\n      valueStart: valueStart,\n      valueAxisDim: valueAxisDim,\n      baseAxisDim: baseAxisDim,\n      stacked: !!stacked,\n      valueDim: valueDim,\n      baseDim: baseDim,\n      baseDataOffset: baseDataOffset,\n      stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n    };\n  }\n\n  function getValueStart(valueAxis, valueOrigin) {\n    var valueStart = 0;\n    var extent = valueAxis.scale.getExtent();\n\n    if (valueOrigin === 'start') {\n      valueStart = extent[0];\n    } else if (valueOrigin === 'end') {\n      valueStart = extent[1];\n    } // auto\n    else {\n        // Both positive\n        if (extent[0] > 0) {\n          valueStart = extent[0];\n        } // Both negative\n        else if (extent[1] < 0) {\n            valueStart = extent[1];\n          } // If is one positive, and one negative, onZero shall be true\n\n      }\n\n    return valueStart;\n  }\n\n  function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n    var value = NaN;\n\n    if (dataCoordInfo.stacked) {\n      value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n    }\n\n    if (isNaN(value)) {\n      value = dataCoordInfo.valueStart;\n    }\n\n    var baseDataOffset = dataCoordInfo.baseDataOffset;\n    var stackedData = [];\n    stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n    stackedData[1 - baseDataOffset] = value;\n    return coordSys.dataToPoint(stackedData);\n  }\n\n  var prepareDataCoordInfo_1 = prepareDataCoordInfo;\n  var getStackedOnPoint_1 = getStackedOnPoint;\n\n  var helper$4 = {\n  \tprepareDataCoordInfo: prepareDataCoordInfo_1,\n  \tgetStackedOnPoint: getStackedOnPoint_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var prepareDataCoordInfo$1 = helper$4.prepareDataCoordInfo;\n  var getStackedOnPoint$1 = helper$4.getStackedOnPoint;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // var arrayDiff = require('zrender/src/core/arrayDiff');\n  // 'zrender/src/core/arrayDiff' has been used before, but it did\n  // not do well in performance when roam with fixed dataZoom window.\n  // function convertToIntId(newIdList, oldIdList) {\n  //     // Generate int id instead of string id.\n  //     // Compare string maybe slow in score function of arrDiff\n  //     // Assume id in idList are all unique\n  //     var idIndicesMap = {};\n  //     var idx = 0;\n  //     for (var i = 0; i < newIdList.length; i++) {\n  //         idIndicesMap[newIdList[i]] = idx;\n  //         newIdList[i] = idx++;\n  //     }\n  //     for (var i = 0; i < oldIdList.length; i++) {\n  //         var oldId = oldIdList[i];\n  //         // Same with newIdList\n  //         if (idIndicesMap[oldId]) {\n  //             oldIdList[i] = idIndicesMap[oldId];\n  //         }\n  //         else {\n  //             oldIdList[i] = idx++;\n  //         }\n  //     }\n  // }\n  function diffData(oldData, newData) {\n    var diffResult = [];\n    newData.diff(oldData).add(function (idx) {\n      diffResult.push({\n        cmd: '+',\n        idx: idx\n      });\n    }).update(function (newIdx, oldIdx) {\n      diffResult.push({\n        cmd: '=',\n        idx: oldIdx,\n        idx1: newIdx\n      });\n    }).remove(function (idx) {\n      diffResult.push({\n        cmd: '-',\n        idx: idx\n      });\n    }).execute();\n    return diffResult;\n  }\n\n  function _default$1z(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n    var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n    // var oldIdList = oldData.mapArray(oldData.getId);\n    // convertToIntId(newIdList, oldIdList);\n    // // FIXME One data ?\n    // diff = arrayDiff(oldIdList, newIdList);\n\n    var currPoints = [];\n    var nextPoints = []; // Points for stacking base line\n\n    var currStackedPoints = [];\n    var nextStackedPoints = [];\n    var status = [];\n    var sortedIndices = [];\n    var rawIndices = [];\n    var newDataOldCoordInfo = prepareDataCoordInfo$1(oldCoordSys, newData, oldValueOrigin);\n    var oldDataNewCoordInfo = prepareDataCoordInfo$1(newCoordSys, oldData, newValueOrigin);\n\n    for (var i = 0; i < diff.length; i++) {\n      var diffItem = diff[i];\n      var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n      // Which is in case remvoing or add more than one data in the tail or head\n\n      switch (diffItem.cmd) {\n        case '=':\n          var currentPt = oldData.getItemLayout(diffItem.idx);\n          var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n          if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n            currentPt = nextPt.slice();\n          }\n\n          currPoints.push(currentPt);\n          nextPoints.push(nextPt);\n          currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n          nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n          rawIndices.push(newData.getRawIndex(diffItem.idx1));\n          break;\n\n        case '+':\n          var idx = diffItem.idx;\n          currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n          nextPoints.push(newData.getItemLayout(idx).slice());\n          currStackedPoints.push(getStackedOnPoint$1(newDataOldCoordInfo, oldCoordSys, newData, idx));\n          nextStackedPoints.push(newStackedOnPoints[idx]);\n          rawIndices.push(newData.getRawIndex(idx));\n          break;\n\n        case '-':\n          var idx = diffItem.idx;\n          var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n          // FIXME FIXME FIXME\n\n          if (rawIndex !== idx) {\n            currPoints.push(oldData.getItemLayout(idx));\n            nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n            currStackedPoints.push(oldStackedOnPoints[idx]);\n            nextStackedPoints.push(getStackedOnPoint$1(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n            rawIndices.push(rawIndex);\n          } else {\n            pointAdded = false;\n          }\n\n      } // Original indices\n\n\n      if (pointAdded) {\n        status.push(diffItem);\n        sortedIndices.push(sortedIndices.length);\n      }\n    } // Diff result may be crossed if all items are changed\n    // Sort by data index\n\n\n    sortedIndices.sort(function (a, b) {\n      return rawIndices[a] - rawIndices[b];\n    });\n    var sortedCurrPoints = [];\n    var sortedNextPoints = [];\n    var sortedCurrStackedPoints = [];\n    var sortedNextStackedPoints = [];\n    var sortedStatus = [];\n\n    for (var i = 0; i < sortedIndices.length; i++) {\n      var idx = sortedIndices[i];\n      sortedCurrPoints[i] = currPoints[idx];\n      sortedNextPoints[i] = nextPoints[idx];\n      sortedCurrStackedPoints[i] = currStackedPoints[idx];\n      sortedNextStackedPoints[i] = nextStackedPoints[idx];\n      sortedStatus[i] = status[idx];\n    }\n\n    return {\n      current: sortedCurrPoints,\n      next: sortedNextPoints,\n      stackedOnCurrent: sortedCurrStackedPoints,\n      stackedOnNext: sortedNextStackedPoints,\n      status: sortedStatus\n    };\n  }\n\n  var lineAnimationDiff = _default$1z;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Poly path support NaN point\n  var vec2Min = vector.min;\n  var vec2Max = vector.max;\n  var scaleAndAdd$1 = vector.scaleAndAdd;\n  var v2Copy = vector.copy; // Temporary variable\n\n  var v = [];\n  var cp0 = [];\n  var cp1 = [];\n\n  function isPointNull(p) {\n    return isNaN(p[0]) || isNaN(p[1]);\n  }\n\n  function drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    // if (smoothMonotone == null) {\n    //     if (isMono(points, 'x')) {\n    //         return drawMono(ctx, points, start, segLen, allLen,\n    //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n    //     }\n    //     else if (isMono(points, 'y')) {\n    //         return drawMono(ctx, points, start, segLen, allLen,\n    //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n    //     }\n    //     else {\n    //         return drawNonMono.apply(this, arguments);\n    //     }\n    // }\n    // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n    //     return drawMono.apply(this, arguments);\n    // }\n    // else {\n    //     return drawNonMono.apply(this, arguments);\n    // }\n    if (smoothMonotone === 'none' || !smoothMonotone) {\n      return drawNonMono.apply(this, arguments);\n    } else {\n      return drawMono.apply(this, arguments);\n    }\n  }\n  /**\n   * Check if points is in monotone.\n   *\n   * @param {number[][]} points         Array of points which is in [x, y] form\n   * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n   *                                    dimension that is checking.\n   *                                    If is 'none', `drawNonMono` should be\n   *                                    called.\n   *                                    If is undefined, either being monotone\n   *                                    in 'x' or 'y' will call `drawMono`.\n   */\n  // function isMono(points, smoothMonotone) {\n  //     if (points.length <= 1) {\n  //         return true;\n  //     }\n  //     var dim = smoothMonotone === 'x' ? 0 : 1;\n  //     var last = points[0][dim];\n  //     var lastDiff = 0;\n  //     for (var i = 1; i < points.length; ++i) {\n  //         var diff = points[i][dim] - last;\n  //         if (!isNaN(diff) && !isNaN(lastDiff)\n  //             && diff !== 0 && lastDiff !== 0\n  //             && ((diff >= 0) !== (lastDiff >= 0))\n  //         ) {\n  //             return false;\n  //         }\n  //         if (!isNaN(diff) && diff !== 0) {\n  //             lastDiff = diff;\n  //             last = points[i][dim];\n  //         }\n  //     }\n  //     return true;\n  // }\n\n  /**\n   * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n   * control points will be used. This should be used when points are monotone\n   * either in x or y dimension.\n   */\n\n\n  function drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    var prevIdx = 0;\n    var idx = start;\n\n    for (var k = 0; k < segLen; k++) {\n      var p = points[idx];\n\n      if (idx >= allLen || idx < 0) {\n        break;\n      }\n\n      if (isPointNull(p)) {\n        if (connectNulls) {\n          idx += dir;\n          continue;\n        }\n\n        break;\n      }\n\n      if (idx === start) {\n        ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      } else {\n        if (smooth > 0) {\n          var prevP = points[prevIdx];\n          var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n          var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n          v2Copy(cp0, prevP);\n          cp0[dim] = prevP[dim] + ctrlLen;\n          v2Copy(cp1, p);\n          cp1[dim] = p[dim] - ctrlLen;\n          ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n        } else {\n          ctx.lineTo(p[0], p[1]);\n        }\n      }\n\n      prevIdx = idx;\n      idx += dir;\n    }\n\n    return k;\n  }\n  /**\n   * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n   * situations. This should be used when points are non-monotone neither in x or\n   * y dimension.\n   */\n\n\n  function drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    var prevIdx = 0;\n    var idx = start;\n\n    for (var k = 0; k < segLen; k++) {\n      var p = points[idx];\n\n      if (idx >= allLen || idx < 0) {\n        break;\n      }\n\n      if (isPointNull(p)) {\n        if (connectNulls) {\n          idx += dir;\n          continue;\n        }\n\n        break;\n      }\n\n      if (idx === start) {\n        ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n        v2Copy(cp0, p);\n      } else {\n        if (smooth > 0) {\n          var nextIdx = idx + dir;\n          var nextP = points[nextIdx];\n\n          if (connectNulls) {\n            // Find next point not null\n            while (nextP && isPointNull(points[nextIdx])) {\n              nextIdx += dir;\n              nextP = points[nextIdx];\n            }\n          }\n\n          var ratioNextSeg = 0.5;\n          var prevP = points[prevIdx];\n          var nextP = points[nextIdx]; // Last point\n\n          if (!nextP || isPointNull(nextP)) {\n            v2Copy(cp1, p);\n          } else {\n            // If next data is null in not connect case\n            if (isPointNull(nextP) && !connectNulls) {\n              nextP = p;\n            }\n\n            vector.sub(v, nextP, prevP);\n            var lenPrevSeg;\n            var lenNextSeg;\n\n            if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n              var dim = smoothMonotone === 'x' ? 0 : 1;\n              lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n              lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n            } else {\n              lenPrevSeg = vector.dist(p, prevP);\n              lenNextSeg = vector.dist(p, nextP);\n            } // Use ratio of seg length\n\n\n            ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n            scaleAndAdd$1(cp1, p, v, -smooth * (1 - ratioNextSeg));\n          } // Smooth constraint\n\n\n          vec2Min(cp0, cp0, smoothMax);\n          vec2Max(cp0, cp0, smoothMin);\n          vec2Min(cp1, cp1, smoothMax);\n          vec2Max(cp1, cp1, smoothMin);\n          ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n          scaleAndAdd$1(cp0, p, v, smooth * ratioNextSeg);\n        } else {\n          ctx.lineTo(p[0], p[1]);\n        }\n      }\n\n      prevIdx = idx;\n      idx += dir;\n    }\n\n    return k;\n  }\n\n  function getBoundingBox(points, smoothConstraint) {\n    var ptMin = [Infinity, Infinity];\n    var ptMax = [-Infinity, -Infinity];\n\n    if (smoothConstraint) {\n      for (var i = 0; i < points.length; i++) {\n        var pt = points[i];\n\n        if (pt[0] < ptMin[0]) {\n          ptMin[0] = pt[0];\n        }\n\n        if (pt[1] < ptMin[1]) {\n          ptMin[1] = pt[1];\n        }\n\n        if (pt[0] > ptMax[0]) {\n          ptMax[0] = pt[0];\n        }\n\n        if (pt[1] > ptMax[1]) {\n          ptMax[1] = pt[1];\n        }\n      }\n    }\n\n    return {\n      min: smoothConstraint ? ptMin : ptMax,\n      max: smoothConstraint ? ptMax : ptMin\n    };\n  }\n\n  var Polyline$1 = Path_1.extend({\n    type: 'ec-polyline',\n    shape: {\n      points: [],\n      smooth: 0,\n      smoothConstraint: true,\n      smoothMonotone: null,\n      connectNulls: false\n    },\n    style: {\n      fill: null,\n      stroke: '#000'\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var points = shape.points;\n      var i = 0;\n      var len = points.length;\n      var result = getBoundingBox(points, shape.smoothConstraint);\n\n      if (shape.connectNulls) {\n        // Must remove first and last null values avoid draw error in polygon\n        for (; len > 0; len--) {\n          if (!isPointNull(points[len - 1])) {\n            break;\n          }\n        }\n\n        for (; i < len; i++) {\n          if (!isPointNull(points[i])) {\n            break;\n          }\n        }\n      }\n\n      while (i < len) {\n        i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n      }\n    }\n  });\n  var Polygon$1 = Path_1.extend({\n    type: 'ec-polygon',\n    shape: {\n      points: [],\n      // Offset between stacked base points and points\n      stackedOnPoints: [],\n      smooth: 0,\n      stackedOnSmooth: 0,\n      smoothConstraint: true,\n      smoothMonotone: null,\n      connectNulls: false\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var points = shape.points;\n      var stackedOnPoints = shape.stackedOnPoints;\n      var i = 0;\n      var len = points.length;\n      var smoothMonotone = shape.smoothMonotone;\n      var bbox = getBoundingBox(points, shape.smoothConstraint);\n      var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n      if (shape.connectNulls) {\n        // Must remove first and last null values avoid draw error in polygon\n        for (; len > 0; len--) {\n          if (!isPointNull(points[len - 1])) {\n            break;\n          }\n        }\n\n        for (; i < len; i++) {\n          if (!isPointNull(points[i])) {\n            break;\n          }\n        }\n      }\n\n      while (i < len) {\n        var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n        drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n        i += k + 1;\n        ctx.closePath();\n      }\n    }\n  });\n  var Polyline_1$1 = Polyline$1;\n  var Polygon_1$1 = Polygon$1;\n\n  var poly$1 = {\n  \tPolyline: Polyline_1$1,\n  \tPolygon: Polygon_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var round$3 = number.round;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function createGridClipPath(cartesian, hasAnimation, seriesModel) {\n    var rect = cartesian.getArea();\n    var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n    var x = rect.x;\n    var y = rect.y;\n    var width = rect.width;\n    var height = rect.height;\n    var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n    x -= lineWidth / 2;\n    y -= lineWidth / 2;\n    width += lineWidth;\n    height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n    x = Math.floor(x);\n    width = Math.round(width);\n    var clipPath = new graphic.Rect({\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      }\n    });\n\n    if (hasAnimation) {\n      clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n      graphic.initProps(clipPath, {\n        shape: {\n          width: width,\n          height: height\n        }\n      }, seriesModel);\n    }\n\n    return clipPath;\n  }\n\n  function createPolarClipPath(polar, hasAnimation, seriesModel) {\n    var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: round$3(polar.cx, 1),\n        cy: round$3(polar.cy, 1),\n        r0: round$3(sectorArea.r0, 1),\n        r: round$3(sectorArea.r, 1),\n        startAngle: sectorArea.startAngle,\n        endAngle: sectorArea.endAngle,\n        clockwise: sectorArea.clockwise\n      }\n    });\n\n    if (hasAnimation) {\n      clipPath.shape.endAngle = sectorArea.startAngle;\n      graphic.initProps(clipPath, {\n        shape: {\n          endAngle: sectorArea.endAngle\n        }\n      }, seriesModel);\n    }\n\n    return clipPath;\n  }\n\n  function createClipPath(coordSys, hasAnimation, seriesModel) {\n    if (!coordSys) {\n      return null;\n    } else if (coordSys.type === 'polar') {\n      return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n    } else if (coordSys.type === 'cartesian2d') {\n      return createGridClipPath(coordSys, hasAnimation, seriesModel);\n    }\n\n    return null;\n  }\n\n  var createGridClipPath_1 = createGridClipPath;\n  var createPolarClipPath_1 = createPolarClipPath;\n  var createClipPath_1 = createClipPath;\n\n  var createClipPathFromCoordSys = {\n  \tcreateGridClipPath: createGridClipPath_1,\n  \tcreatePolarClipPath: createPolarClipPath_1,\n  \tcreateClipPath: createClipPath_1\n  };\n\n  var fromPoints$1 = bbox.fromPoints;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var Polyline$2 = poly$1.Polyline;\n  var Polygon$2 = poly$1.Polygon;\n\n\n\n\n\n  var prepareDataCoordInfo$2 = helper$4.prepareDataCoordInfo;\n  var getStackedOnPoint$2 = helper$4.getStackedOnPoint;\n\n\n\n  var createGridClipPath$1 = createClipPathFromCoordSys.createGridClipPath;\n  var createPolarClipPath$1 = createClipPathFromCoordSys.createPolarClipPath;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME step not support polar\n  function isPointsSame(points1, points2) {\n    if (points1.length !== points2.length) {\n      return;\n    }\n\n    for (var i = 0; i < points1.length; i++) {\n      var p1 = points1[i];\n      var p2 = points2[i];\n\n      if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n        return;\n      }\n    }\n\n    return true;\n  }\n\n  function getBoundingDiff(points1, points2) {\n    var min1 = [];\n    var max1 = [];\n    var min2 = [];\n    var max2 = [];\n    fromPoints$1(points1, min1, max1);\n    fromPoints$1(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n    return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n  }\n\n  function getSmooth(smooth) {\n    return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n  }\n  /**\n   * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n   * @param {module:echarts/data/List} data\n   * @param {Object} dataCoordInfo\n   * @param {Array.<Array.<number>>} points\n   */\n\n\n  function getStackedOnPoints(coordSys, data, dataCoordInfo) {\n    if (!dataCoordInfo.valueDim) {\n      return [];\n    }\n\n    var points = [];\n\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      points.push(getStackedOnPoint$2(dataCoordInfo, coordSys, data, idx));\n    }\n\n    return points;\n  }\n\n  function turnPointsIntoStep(points, coordSys, stepTurnAt) {\n    var baseAxis = coordSys.getBaseAxis();\n    var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n    var stepPoints = [];\n\n    for (var i = 0; i < points.length - 1; i++) {\n      var nextPt = points[i + 1];\n      var pt = points[i];\n      stepPoints.push(pt);\n      var stepPt = [];\n\n      switch (stepTurnAt) {\n        case 'end':\n          stepPt[baseIndex] = nextPt[baseIndex];\n          stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n          stepPoints.push(stepPt);\n          break;\n\n        case 'middle':\n          // default is start\n          var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n          var stepPt2 = [];\n          stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n          stepPt[1 - baseIndex] = pt[1 - baseIndex];\n          stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n          stepPoints.push(stepPt);\n          stepPoints.push(stepPt2);\n          break;\n\n        default:\n          stepPt[baseIndex] = pt[baseIndex];\n          stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n          stepPoints.push(stepPt);\n      }\n    } // Last points\n\n\n    points[i] && stepPoints.push(points[i]);\n    return stepPoints;\n  }\n\n  function getVisualGradient(data, coordSys) {\n    var visualMetaList = data.getVisual('visualMeta');\n\n    if (!visualMetaList || !visualMetaList.length || !data.count()) {\n      // When data.count() is 0, gradient range can not be calculated.\n      return;\n    }\n\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var coordDim;\n    var visualMeta;\n\n    for (var i = visualMetaList.length - 1; i >= 0; i--) {\n      var dimIndex = visualMetaList[i].dimension;\n      var dimName = data.dimensions[dimIndex];\n      var dimInfo = data.getDimensionInfo(dimName);\n      coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n      if (coordDim === 'x' || coordDim === 'y') {\n        visualMeta = visualMetaList[i];\n        break;\n      }\n    }\n\n    if (!visualMeta) {\n      return;\n    } // If the area to be rendered is bigger than area defined by LinearGradient,\n    // the canvas spec prescribes that the color of the first stop and the last\n    // stop should be used. But if two stops are added at offset 0, in effect\n    // browsers use the color of the second stop to render area outside\n    // LinearGradient. So we can only infinitesimally extend area defined in\n    // LinearGradient to render `outerColors`.\n\n\n    var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n    var colorStops = util.map(visualMeta.stops, function (stop) {\n      return {\n        coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n        color: stop.color\n      };\n    });\n    var stopLen = colorStops.length;\n    var outerColors = visualMeta.outerColors.slice();\n\n    if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n      colorStops.reverse();\n      outerColors.reverse();\n    }\n\n    var tinyExtent = 10; // Arbitrary value: 10px\n\n    var minCoord = colorStops[0].coord - tinyExtent;\n    var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n    var coordSpan = maxCoord - minCoord;\n\n    if (coordSpan < 1e-3) {\n      return 'transparent';\n    }\n\n    util.each(colorStops, function (stop) {\n      stop.offset = (stop.coord - minCoord) / coordSpan;\n    });\n    colorStops.push({\n      offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n      color: outerColors[1] || 'transparent'\n    });\n    colorStops.unshift({\n      // notice colorStops.length have been changed.\n      offset: stopLen ? colorStops[0].offset : 0.5,\n      color: outerColors[0] || 'transparent'\n    }); // zrUtil.each(colorStops, function (colorStop) {\n    //     // Make sure each offset has rounded px to avoid not sharp edge\n    //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n    // });\n\n    var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n    gradient[coordDim] = minCoord;\n    gradient[coordDim + '2'] = maxCoord;\n    return gradient;\n  }\n\n  function getIsIgnoreFunc(seriesModel, data, coordSys) {\n    var showAllSymbol = seriesModel.get('showAllSymbol');\n    var isAuto = showAllSymbol === 'auto';\n\n    if (showAllSymbol && !isAuto) {\n      return;\n    }\n\n    var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n    if (!categoryAxis) {\n      return;\n    } // Note that category label interval strategy might bring some weird effect\n    // in some scenario: users may wonder why some of the symbols are not\n    // displayed. So we show all symbols as possible as we can.\n\n\n    if (isAuto // Simplify the logic, do not determine label overlap here.\n    && canShowAllSymbolForCategory(categoryAxis, data)) {\n      return;\n    } // Otherwise follow the label interval strategy on category axis.\n\n\n    var categoryDataDim = data.mapDimension(categoryAxis.dim);\n    var labelMap = {};\n    util.each(categoryAxis.getViewLabels(), function (labelItem) {\n      labelMap[labelItem.tickValue] = 1;\n    });\n    return function (dataIndex) {\n      return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n    };\n  }\n\n  function canShowAllSymbolForCategory(categoryAxis, data) {\n    // In mose cases, line is monotonous on category axis, and the label size\n    // is close with each other. So we check the symbol size and some of the\n    // label size alone with the category axis to estimate whether all symbol\n    // can be shown without overlap.\n    var axisExtent = categoryAxis.getExtent();\n    var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n    isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n    // Sampling some points, max 5.\n\n    var dataLen = data.count();\n    var step = Math.max(1, Math.round(dataLen / 5));\n\n    for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n      if (_Symbol.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n      )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n      * 1.5 > availSize) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function createLineClipPath(coordSys, hasAnimation, seriesModel) {\n    if (coordSys.type === 'cartesian2d') {\n      var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n      var clipPath = createGridClipPath$1(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n      if (!seriesModel.get('clip', true)) {\n        var rectShape = clipPath.shape;\n        var expandSize = Math.max(rectShape.width, rectShape.height);\n\n        if (isHorizontal) {\n          rectShape.y -= expandSize;\n          rectShape.height += expandSize * 2;\n        } else {\n          rectShape.x -= expandSize;\n          rectShape.width += expandSize * 2;\n        }\n      }\n\n      return clipPath;\n    } else {\n      return createPolarClipPath$1(coordSys, hasAnimation, seriesModel);\n    }\n  }\n\n  var _default$1A = Chart_1.extend({\n    type: 'line',\n    init: function () {\n      var lineGroup = new graphic.Group();\n      var symbolDraw = new SymbolDraw_1();\n      this.group.add(symbolDraw.group);\n      this._symbolDraw = symbolDraw;\n      this._lineGroup = lineGroup;\n    },\n    render: function (seriesModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var group = this.group;\n      var data = seriesModel.getData();\n      var lineStyleModel = seriesModel.getModel('lineStyle');\n      var areaStyleModel = seriesModel.getModel('areaStyle');\n      var points = data.mapArray(data.getItemLayout);\n      var isCoordSysPolar = coordSys.type === 'polar';\n      var prevCoordSys = this._coordSys;\n      var symbolDraw = this._symbolDraw;\n      var polyline = this._polyline;\n      var polygon = this._polygon;\n      var lineGroup = this._lineGroup;\n      var hasAnimation = seriesModel.get('animation');\n      var isAreaChart = !areaStyleModel.isEmpty();\n      var valueOrigin = areaStyleModel.get('origin');\n      var dataCoordInfo = prepareDataCoordInfo$2(coordSys, data, valueOrigin);\n      var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n      var showSymbol = seriesModel.get('showSymbol');\n      var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n      var oldData = this._data;\n      oldData && oldData.eachItemGraphicEl(function (el, idx) {\n        if (el.__temp) {\n          group.remove(el);\n          oldData.setItemGraphicEl(idx, null);\n        }\n      }); // Remove previous created symbols if showSymbol changed to false\n\n      if (!showSymbol) {\n        symbolDraw.remove();\n      }\n\n      group.add(lineGroup); // FIXME step not support polar\n\n      var step = !isCoordSysPolar && seriesModel.get('step');\n      var clipShapeForSymbol;\n\n      if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n        clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n        // See #7913 and `test/dataZoom-clip.html`.\n\n        if (clipShapeForSymbol.width != null) {\n          clipShapeForSymbol.x -= 0.1;\n          clipShapeForSymbol.y -= 0.1;\n          clipShapeForSymbol.width += 0.2;\n          clipShapeForSymbol.height += 0.2;\n        } else if (clipShapeForSymbol.r0) {\n          clipShapeForSymbol.r0 -= 0.5;\n          clipShapeForSymbol.r1 += 0.5;\n        }\n      }\n\n      this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n      if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n        showSymbol && symbolDraw.updateData(data, {\n          isIgnore: isIgnoreFunc,\n          clipShape: clipShapeForSymbol\n        });\n\n        if (step) {\n          // TODO If stacked series is not step\n          points = turnPointsIntoStep(points, coordSys, step);\n          stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n        }\n\n        polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n        if (isAreaChart) {\n          polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n        }\n\n        lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n      } else {\n        if (isAreaChart && !polygon) {\n          // If areaStyle is added\n          polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n        } else if (polygon && !isAreaChart) {\n          // If areaStyle is removed\n          lineGroup.remove(polygon);\n          polygon = this._polygon = null;\n        } // Update clipPath\n\n\n        lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n        // because points are not changed\n\n        showSymbol && symbolDraw.updateData(data, {\n          isIgnore: isIgnoreFunc,\n          clipShape: clipShapeForSymbol\n        }); // Stop symbol animation and sync with line points\n        // FIXME performance?\n\n        data.eachItemGraphicEl(function (el) {\n          el.stopAnimation(true);\n        }); // In the case data zoom triggerred refreshing frequently\n        // Data may not change if line has a category axis. So it should animate nothing\n\n        if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n          if (hasAnimation) {\n            this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n          } else {\n            // Not do it in update with animation\n            if (step) {\n              // TODO If stacked series is not step\n              points = turnPointsIntoStep(points, coordSys, step);\n              stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n            }\n\n            polyline.setShape({\n              points: points\n            });\n            polygon && polygon.setShape({\n              points: points,\n              stackedOnPoints: stackedOnPoints\n            });\n          }\n        }\n      }\n\n      var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n      polyline.useStyle(util.defaults( // Use color in lineStyle first\n      lineStyleModel.getLineStyle(), {\n        fill: 'none',\n        stroke: visualColor,\n        lineJoin: 'bevel'\n      }));\n      var smooth = seriesModel.get('smooth');\n      smooth = getSmooth(seriesModel.get('smooth'));\n      polyline.setShape({\n        smooth: smooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n\n      if (polygon) {\n        var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n        var stackedOnSmooth = 0;\n        polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(), {\n          fill: visualColor,\n          opacity: 0.7,\n          lineJoin: 'bevel'\n        }));\n\n        if (stackedOnSeries) {\n          stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n        }\n\n        polygon.setShape({\n          smooth: smooth,\n          stackedOnSmooth: stackedOnSmooth,\n          smoothMonotone: seriesModel.get('smoothMonotone'),\n          connectNulls: seriesModel.get('connectNulls')\n        });\n      }\n\n      this._data = data; // Save the coordinate system for transition animation when data changed\n\n      this._coordSys = coordSys;\n      this._stackedOnPoints = stackedOnPoints;\n      this._points = points;\n      this._step = step;\n      this._valueOrigin = valueOrigin;\n    },\n    dispose: function () {},\n    highlight: function (seriesModel, ecModel, api, payload) {\n      var data = seriesModel.getData();\n      var dataIndex = model.queryDataIndex(data, payload);\n\n      if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n        var symbol = data.getItemGraphicEl(dataIndex);\n\n        if (!symbol) {\n          // Create a temporary symbol if it is not exists\n          var pt = data.getItemLayout(dataIndex);\n\n          if (!pt) {\n            // Null data\n            return;\n          } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n          if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n            return;\n          }\n\n          symbol = new _Symbol(data, dataIndex);\n          symbol.position = pt;\n          symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n          symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n          symbol.__temp = true;\n          data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n          symbol.stopSymbolAnimation(true);\n          this.group.add(symbol);\n        }\n\n        symbol.highlight();\n      } else {\n        // Highlight whole series\n        Chart_1.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n      }\n    },\n    downplay: function (seriesModel, ecModel, api, payload) {\n      var data = seriesModel.getData();\n      var dataIndex = model.queryDataIndex(data, payload);\n\n      if (dataIndex != null && dataIndex >= 0) {\n        var symbol = data.getItemGraphicEl(dataIndex);\n\n        if (symbol) {\n          if (symbol.__temp) {\n            data.setItemGraphicEl(dataIndex, null);\n            this.group.remove(symbol);\n          } else {\n            symbol.downplay();\n          }\n        }\n      } else {\n        // FIXME\n        // can not downplay completely.\n        // Downplay whole series\n        Chart_1.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n      }\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolyline: function (points) {\n      var polyline = this._polyline; // Remove previous created polyline\n\n      if (polyline) {\n        this._lineGroup.remove(polyline);\n      }\n\n      polyline = new Polyline$2({\n        shape: {\n          points: points\n        },\n        silent: true,\n        z2: 10\n      });\n\n      this._lineGroup.add(polyline);\n\n      this._polyline = polyline;\n      return polyline;\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} stackedOnPoints\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolygon: function (points, stackedOnPoints) {\n      var polygon = this._polygon; // Remove previous created polygon\n\n      if (polygon) {\n        this._lineGroup.remove(polygon);\n      }\n\n      polygon = new Polygon$2({\n        shape: {\n          points: points,\n          stackedOnPoints: stackedOnPoints\n        },\n        silent: true\n      });\n\n      this._lineGroup.add(polygon);\n\n      this._polygon = polygon;\n      return polygon;\n    },\n\n    /**\n     * @private\n     */\n    // FIXME Two value axis\n    _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n      var polyline = this._polyline;\n      var polygon = this._polygon;\n      var seriesModel = data.hostModel;\n      var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n      var current = diff.current;\n      var stackedOnCurrent = diff.stackedOnCurrent;\n      var next = diff.next;\n      var stackedOnNext = diff.stackedOnNext;\n\n      if (step) {\n        // TODO If stacked series is not step\n        current = turnPointsIntoStep(diff.current, coordSys, step);\n        stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n        next = turnPointsIntoStep(diff.next, coordSys, step);\n        stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n      } // Don't apply animation if diff is large.\n      // For better result and avoid memory explosion problems like\n      // https://github.com/apache/incubator-echarts/issues/12229\n\n\n      if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n        polyline.setShape({\n          points: next\n        });\n\n        if (polygon) {\n          polygon.setShape({\n            points: next,\n            stackedOnPoints: stackedOnNext\n          });\n        }\n\n        return;\n      } // `diff.current` is subset of `current` (which should be ensured by\n      // turnPointsIntoStep), so points in `__points` can be updated when\n      // points in `current` are update during animation.\n\n\n      polyline.shape.__points = diff.current;\n      polyline.shape.points = current;\n      graphic.updateProps(polyline, {\n        shape: {\n          points: next\n        }\n      }, seriesModel);\n\n      if (polygon) {\n        polygon.setShape({\n          points: current,\n          stackedOnPoints: stackedOnCurrent\n        });\n        graphic.updateProps(polygon, {\n          shape: {\n            points: next,\n            stackedOnPoints: stackedOnNext\n          }\n        }, seriesModel);\n      }\n\n      var updatedDataInfo = [];\n      var diffStatus = diff.status;\n\n      for (var i = 0; i < diffStatus.length; i++) {\n        var cmd = diffStatus[i].cmd;\n\n        if (cmd === '=') {\n          var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n          if (el) {\n            updatedDataInfo.push({\n              el: el,\n              ptIdx: i // Index of points\n\n            });\n          }\n        }\n      }\n\n      if (polyline.animators && polyline.animators.length) {\n        polyline.animators[0].during(function () {\n          for (var i = 0; i < updatedDataInfo.length; i++) {\n            var el = updatedDataInfo[i].el;\n            el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n          }\n        });\n      }\n    },\n    remove: function (ecModel) {\n      var group = this.group;\n      var oldData = this._data;\n\n      this._lineGroup.removeAll();\n\n      this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n      oldData && oldData.eachItemGraphicEl(function (el, idx) {\n        if (el.__temp) {\n          group.remove(el);\n          oldData.setItemGraphicEl(idx, null);\n        }\n      });\n      this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var isFunction$5 = util.isFunction;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1B(seriesType, defaultSymbolType, legendSymbol) {\n    // Encoding visual for all series include which is filtered for legend drawing\n    return {\n      seriesType: seriesType,\n      // For legend.\n      performRawSeries: true,\n      reset: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var symbolType = seriesModel.get('symbol');\n        var symbolSize = seriesModel.get('symbolSize');\n        var keepAspect = seriesModel.get('symbolKeepAspect');\n        var symbolRotate = seriesModel.get('symbolRotate');\n        var hasSymbolTypeCallback = isFunction$5(symbolType);\n        var hasSymbolSizeCallback = isFunction$5(symbolSize);\n        var hasSymbolRotateCallback = isFunction$5(symbolRotate);\n        var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback;\n        var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n        var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n        data.setVisual({\n          legendSymbol: legendSymbol || seriesSymbol,\n          // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n          // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n          // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n          // some cases but generally it is not recommanded.\n          symbol: seriesSymbol,\n          symbolSize: seriesSymbolSize,\n          symbolKeepAspect: keepAspect,\n          symbolRotate: symbolRotate\n        }); // Only visible series has each data be visual encoded\n\n        if (ecModel.isSeriesFiltered(seriesModel)) {\n          return;\n        }\n\n        function dataEach(data, idx) {\n          if (hasCallback) {\n            var rawValue = seriesModel.getRawValue(idx);\n            var params = seriesModel.getDataParams(idx);\n            hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n            hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n            hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n          }\n\n          if (data.hasItemOption) {\n            var itemModel = data.getItemModel(idx);\n            var itemSymbolType = itemModel.getShallow('symbol', true);\n            var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n            var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n            var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n            if (itemSymbolType != null) {\n              data.setItemVisual(idx, 'symbol', itemSymbolType);\n            }\n\n            if (itemSymbolSize != null) {\n              // PENDING Transform symbolSize ?\n              data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n            }\n\n            if (itemSymbolRotate != null) {\n              data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n            }\n\n            if (itemSymbolKeepAspect != null) {\n              data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n            }\n          }\n        }\n\n        return {\n          dataEach: data.hasItemOption || hasCallback ? dataEach : null\n        };\n      }\n    };\n  }\n\n  var symbol$1 = _default$1B;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var map$8 = util.map;\n\n\n\n\n\n  var isDimensionStacked$4 = dataStackHelper.isDimensionStacked;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float32Array */\n  function _default$1C(seriesType) {\n    return {\n      seriesType: seriesType,\n      plan: createRenderPlanner(),\n      reset: function (seriesModel) {\n        var data = seriesModel.getData();\n        var coordSys = seriesModel.coordinateSystem;\n        var pipelineContext = seriesModel.pipelineContext;\n        var isLargeRender = pipelineContext.large;\n\n        if (!coordSys) {\n          return;\n        }\n\n        var dims = map$8(coordSys.dimensions, function (dim) {\n          return data.mapDimension(dim);\n        }).slice(0, 2);\n        var dimLen = dims.length;\n        var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n        if (isDimensionStacked$4(data, dims[0]\n        /*, dims[1]*/\n        )) {\n          dims[0] = stackResultDim;\n        }\n\n        if (isDimensionStacked$4(data, dims[1]\n        /*, dims[0]*/\n        )) {\n          dims[1] = stackResultDim;\n        }\n\n        function progress(params, data) {\n          var segCount = params.end - params.start;\n          var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n          for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n            var point;\n\n            if (dimLen === 1) {\n              var x = data.get(dims[0], i);\n              point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              var x = tmpIn[0] = data.get(dims[0], i);\n              var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n              point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (isLargeRender) {\n              points[offset++] = point ? point[0] : NaN;\n              points[offset++] = point ? point[1] : NaN;\n            } else {\n              data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n            }\n          }\n\n          isLargeRender && data.setLayout('symbolPoints', points);\n        }\n\n        return dimLen && {\n          progress: progress\n        };\n      }\n    };\n  }\n\n  var points$2 = _default$1C;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var samplers = {\n    average: function (frame) {\n      var sum = 0;\n      var count = 0;\n\n      for (var i = 0; i < frame.length; i++) {\n        if (!isNaN(frame[i])) {\n          sum += frame[i];\n          count++;\n        }\n      } // Return NaN if count is 0\n\n\n      return count === 0 ? NaN : sum / count;\n    },\n    sum: function (frame) {\n      var sum = 0;\n\n      for (var i = 0; i < frame.length; i++) {\n        // Ignore NaN\n        sum += frame[i] || 0;\n      }\n\n      return sum;\n    },\n    max: function (frame) {\n      var max = -Infinity;\n\n      for (var i = 0; i < frame.length; i++) {\n        frame[i] > max && (max = frame[i]);\n      } // NaN will cause illegal axis extent.\n\n\n      return isFinite(max) ? max : NaN;\n    },\n    min: function (frame) {\n      var min = Infinity;\n\n      for (var i = 0; i < frame.length; i++) {\n        frame[i] < min && (min = frame[i]);\n      } // NaN will cause illegal axis extent.\n\n\n      return isFinite(min) ? min : NaN;\n    },\n    // TODO\n    // Median\n    nearest: function (frame) {\n      return frame[0];\n    }\n  };\n\n  var indexSampler = function (frame, value) {\n    return Math.round(frame.length / 2);\n  };\n\n  function _default$1D(seriesType) {\n    return {\n      seriesType: seriesType,\n      modifyOutputEnd: true,\n      reset: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var sampling = seriesModel.get('sampling');\n        var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n        if (coordSys.type === 'cartesian2d' && sampling) {\n          var baseAxis = coordSys.getBaseAxis();\n          var valueAxis = coordSys.getOtherAxis(baseAxis);\n          var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n          var size = Math.abs(extent[1] - extent[0]);\n          var rate = Math.round(data.count() / size);\n\n          if (rate > 1) {\n            var sampler;\n\n            if (typeof sampling === 'string') {\n              sampler = samplers[sampling];\n            } else if (typeof sampling === 'function') {\n              sampler = sampling;\n            }\n\n            if (sampler) {\n              // Only support sample the first dim mapped from value axis.\n              seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n            }\n          }\n        }\n      }\n    };\n  }\n\n  var dataSample = _default$1D;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Cartesian coordinate system\n   * @module  echarts/coord/Cartesian\n   *\n   */\n  function dimAxisMapper(dim) {\n    return this._axes[dim];\n  }\n  /**\n   * @alias module:echarts/coord/Cartesian\n   * @constructor\n   */\n\n\n  var Cartesian = function (name) {\n    this._axes = {};\n    this._dimList = [];\n    /**\n     * @type {string}\n     */\n\n    this.name = name || '';\n  };\n\n  Cartesian.prototype = {\n    constructor: Cartesian,\n    type: 'cartesian',\n\n    /**\n     * Get axis\n     * @param  {number|string} dim\n     * @return {module:echarts/coord/Cartesian~Axis}\n     */\n    getAxis: function (dim) {\n      return this._axes[dim];\n    },\n\n    /**\n     * Get axes list\n     * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n     */\n    getAxes: function () {\n      return util.map(this._dimList, dimAxisMapper, this);\n    },\n\n    /**\n     * Get axes list by given scale type\n     */\n    getAxesByScale: function (scaleType) {\n      scaleType = scaleType.toLowerCase();\n      return util.filter(this.getAxes(), function (axis) {\n        return axis.scale.type === scaleType;\n      });\n    },\n\n    /**\n     * Add axis\n     * @param {module:echarts/coord/Cartesian.Axis}\n     */\n    addAxis: function (axis) {\n      var dim = axis.dim;\n      this._axes[dim] = axis;\n\n      this._dimList.push(dim);\n    },\n\n    /**\n     * Convert data to coord in nd space\n     * @param {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    dataToCoord: function (val) {\n      return this._dataCoordConvert(val, 'dataToCoord');\n    },\n\n    /**\n     * Convert coord in nd space to data\n     * @param  {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    coordToData: function (val) {\n      return this._dataCoordConvert(val, 'coordToData');\n    },\n    _dataCoordConvert: function (input, method) {\n      var dimList = this._dimList;\n      var output = input instanceof Array ? [] : {};\n\n      for (var i = 0; i < dimList.length; i++) {\n        var dim = dimList[i];\n        var axis = this._axes[dim];\n        output[dim] = axis[method](input[dim]);\n      }\n\n      return output;\n    }\n  };\n  var _default$1E = Cartesian;\n  var Cartesian_1 = _default$1E;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function Cartesian2D(name) {\n    Cartesian_1.call(this, name);\n  }\n\n  Cartesian2D.prototype = {\n    constructor: Cartesian2D,\n    type: 'cartesian2d',\n\n    /**\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    dimensions: ['x', 'y'],\n\n    /**\n     * Base axis will be used on stacking.\n     *\n     * @return {module:echarts/coord/cartesian/Axis2D}\n     */\n    getBaseAxis: function () {\n      return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n    },\n\n    /**\n     * If contain point\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    containPoint: function (point) {\n      var axisX = this.getAxis('x');\n      var axisY = this.getAxis('y');\n      return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n    },\n\n    /**\n     * If contain data\n     * @param {Array.<number>} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n      return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n    },\n\n    /**\n     * @param {Array.<number>} data\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (data, reserved, out) {\n      var xAxis = this.getAxis('x');\n      var yAxis = this.getAxis('y');\n      out = out || [];\n      out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n      out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n      return out;\n    },\n\n    /**\n     * @param {Array.<number>} data\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    clampData: function (data, out) {\n      var xScale = this.getAxis('x').scale;\n      var yScale = this.getAxis('y').scale;\n      var xAxisExtent = xScale.getExtent();\n      var yAxisExtent = yScale.getExtent();\n      var x = xScale.parse(data[0]);\n      var y = yScale.parse(data[1]);\n      out = out || [];\n      out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n      out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n      return out;\n    },\n\n    /**\n     * @param {Array.<number>} point\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    pointToData: function (point, out) {\n      var xAxis = this.getAxis('x');\n      var yAxis = this.getAxis('y');\n      out = out || [];\n      out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n      out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n      return out;\n    },\n\n    /**\n     * Get other axis\n     * @param {module:echarts/coord/cartesian/Axis2D} axis\n     */\n    getOtherAxis: function (axis) {\n      return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n    },\n\n    /**\n     * Get rect area of cartesian.\n     * Area will have a contain function to determine if a point is in the coordinate system.\n     * @return {BoundingRect}\n     */\n    getArea: function () {\n      var xExtent = this.getAxis('x').getGlobalExtent();\n      var yExtent = this.getAxis('y').getGlobalExtent();\n      var x = Math.min(xExtent[0], xExtent[1]);\n      var y = Math.min(yExtent[0], yExtent[1]);\n      var width = Math.max(xExtent[0], xExtent[1]) - x;\n      var height = Math.max(yExtent[0], yExtent[1]) - y;\n      var rect = new BoundingRect_1(x, y, width, height);\n      return rect;\n    }\n  };\n  util.inherits(Cartesian2D, Cartesian_1);\n  var _default$1F = Cartesian2D;\n  var Cartesian2D_1 = _default$1F;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Extend axis 2d\n   * @constructor module:echarts/coord/cartesian/Axis2D\n   * @extends {module:echarts/coord/cartesian/Axis}\n   * @param {string} dim\n   * @param {*} scale\n   * @param {Array.<number>} coordExtent\n   * @param {string} axisType\n   * @param {string} position\n   */\n  var Axis2D = function (dim, scale, coordExtent, axisType, position) {\n    Axis_1.call(this, dim, scale, coordExtent);\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n\n    this.type = axisType || 'value';\n    /**\n     * Axis position\n     *  - 'top'\n     *  - 'bottom'\n     *  - 'left'\n     *  - 'right'\n     */\n\n    this.position = position || 'bottom';\n  };\n\n  Axis2D.prototype = {\n    constructor: Axis2D,\n\n    /**\n     * Index of axis, can be used as key\n     */\n    index: 0,\n\n    /**\n     * Implemented in <module:echarts/coord/cartesian/Grid>.\n     * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n     *         If not on zero of other axis, return null/undefined.\n     *         If no axes, return an empty array.\n     */\n    getAxesOnZeroOf: null,\n\n    /**\n     * Axis model\n     * @param {module:echarts/coord/cartesian/AxisModel}\n     */\n    model: null,\n    isHorizontal: function () {\n      var position = this.position;\n      return position === 'top' || position === 'bottom';\n    },\n\n    /**\n     * Each item cooresponds to this.getExtent(), which\n     * means globalExtent[0] may greater than globalExtent[1],\n     * unless `asc` is input.\n     *\n     * @param {boolean} [asc]\n     * @return {Array.<number>}\n     */\n    getGlobalExtent: function (asc) {\n      var ret = this.getExtent();\n      ret[0] = this.toGlobalCoord(ret[0]);\n      ret[1] = this.toGlobalCoord(ret[1]);\n      asc && ret[0] > ret[1] && ret.reverse();\n      return ret;\n    },\n    getOtherAxis: function () {\n      this.grid.getOtherAxis();\n    },\n\n    /**\n     * @override\n     */\n    pointToData: function (point, clamp) {\n      return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n    },\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var localCoord = axis.toLocalCoord(80);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toLocalCoord: null,\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var globalCoord = axis.toLocalCoord(40);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toGlobalCoord: null\n  };\n  util.inherits(Axis2D, Axis_1);\n  var _default$1G = Axis2D;\n  var Axis2D_1 = _default$1G;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var defaultOption = {\n    show: true,\n    zlevel: 0,\n    z: 0,\n    // Inverse the axis.\n    inverse: false,\n    // Axis name displayed.\n    name: '',\n    // 'start' | 'middle' | 'end'\n    nameLocation: 'end',\n    // By degree. By default auto rotate by nameLocation.\n    nameRotate: null,\n    nameTruncate: {\n      maxWidth: null,\n      ellipsis: '...',\n      placeholder: '.'\n    },\n    // Use global text style by default.\n    nameTextStyle: {},\n    // The gap between axisName and axisLine.\n    nameGap: 15,\n    // Default `false` to support tooltip.\n    silent: false,\n    // Default `false` to avoid legacy user event listener fail.\n    triggerEvent: false,\n    tooltip: {\n      show: false\n    },\n    axisPointer: {},\n    axisLine: {\n      show: true,\n      onZero: true,\n      onZeroAxisIndex: null,\n      lineStyle: {\n        color: '#333',\n        width: 1,\n        type: 'solid'\n      },\n      // The arrow at both ends the the axis.\n      symbol: ['none', 'none'],\n      symbolSize: [10, 15]\n    },\n    axisTick: {\n      show: true,\n      // Whether axisTick is inside the grid or outside the grid.\n      inside: false,\n      // The length of axisTick.\n      length: 5,\n      lineStyle: {\n        width: 1\n      }\n    },\n    axisLabel: {\n      show: true,\n      // Whether axisLabel is inside the grid or outside the grid.\n      inside: false,\n      rotate: 0,\n      // true | false | null/undefined (auto)\n      showMinLabel: null,\n      // true | false | null/undefined (auto)\n      showMaxLabel: null,\n      margin: 8,\n      // formatter: null,\n      fontSize: 12\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: ['#ccc'],\n        width: 1,\n        type: 'solid'\n      }\n    },\n    splitArea: {\n      show: false,\n      areaStyle: {\n        color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n      }\n    }\n  };\n  var axisDefault = {};\n  axisDefault.categoryAxis = util.merge({\n    // The gap at both ends of the axis. For categoryAxis, boolean.\n    boundaryGap: true,\n    // Set false to faster category collection.\n    // Only usefull in the case like: category is\n    // ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // null means \"auto\":\n    // if axis.data provided, do not deduplication,\n    // else do deduplication.\n    deduplication: null,\n    // splitArea: {\n    // show: false\n    // },\n    splitLine: {\n      show: false\n    },\n    axisTick: {\n      // If tick is align with label when boundaryGap is true\n      alignWithLabel: false,\n      interval: 'auto'\n    },\n    axisLabel: {\n      interval: 'auto'\n    }\n  }, defaultOption);\n  axisDefault.valueAxis = util.merge({\n    // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n    // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n    boundaryGap: [0, 0],\n    // TODO\n    // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n    // Min value of the axis. can be:\n    // + a number\n    // + 'dataMin': use the min value in data.\n    // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n    // min: null,\n    // Max value of the axis. can be:\n    // + a number\n    // + 'dataMax': use the max value in data.\n    // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n    // max: null,\n    // Readonly prop, specifies start value of the range when using data zoom.\n    // rangeStart: null\n    // Readonly prop, specifies end value of the range when using data zoom.\n    // rangeEnd: null\n    // Optional value can be:\n    // + `false`: always include value 0.\n    // + `true`: the extent do not consider value 0.\n    // scale: false,\n    // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n    splitNumber: 5,\n    // Interval specifies the span of the ticks is mandatorily.\n    // interval: null\n    // Specify min interval when auto calculate tick interval.\n    // minInterval: null\n    // Specify max interval when auto calculate tick interval.\n    // maxInterval: null\n    minorTick: {\n      // Minor tick, not available for cateogry axis.\n      show: false,\n      // Split number of minor ticks. The value should be in range of (0, 100)\n      splitNumber: 5,\n      // Lenght of minor tick\n      length: 3,\n      // Same inside with axisTick\n      // Line style\n      lineStyle: {// Default to be same with axisTick\n      }\n    },\n    minorSplitLine: {\n      show: false,\n      lineStyle: {\n        color: '#eee',\n        width: 1\n      }\n    }\n  }, defaultOption);\n  axisDefault.timeAxis = util.defaults({\n    scale: true,\n    min: 'dataMin',\n    max: 'dataMax'\n  }, axisDefault.valueAxis);\n  axisDefault.logAxis = util.defaults({\n    scale: true,\n    logBase: 10\n  }, axisDefault.valueAxis);\n  var _default$1H = axisDefault;\n  var axisDefault_1 = _default$1H;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var getLayoutParams$2 = layout.getLayoutParams;\n  var mergeLayoutParam$2 = layout.mergeLayoutParam;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME axisType is fixed ?\n  var AXIS_TYPES = ['value', 'category', 'time', 'log'];\n  /**\n   * Generate sub axis model class\n   * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n   * @param {module:echarts/model/Component} BaseAxisModelClass\n   * @param {Function} axisTypeDefaulter\n   * @param {Object} [extraDefaultOption]\n   */\n\n  function _default$1I(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n    util.each(AXIS_TYPES, function (axisType) {\n      BaseAxisModelClass.extend({\n        /**\n         * @readOnly\n         */\n        type: axisName + 'Axis.' + axisType,\n        mergeDefaultAndTheme: function (option, ecModel) {\n          var layoutMode = this.layoutMode;\n          var inputPositionParams = layoutMode ? getLayoutParams$2(option) : {};\n          var themeModel = ecModel.getTheme();\n          util.merge(option, themeModel.get(axisType + 'Axis'));\n          util.merge(option, this.getDefaultOption());\n          option.type = axisTypeDefaulter(axisName, option);\n\n          if (layoutMode) {\n            mergeLayoutParam$2(option, inputPositionParams, layoutMode);\n          }\n        },\n\n        /**\n         * @override\n         */\n        optionUpdated: function () {\n          var thisOption = this.option;\n\n          if (thisOption.type === 'category') {\n            this.__ordinalMeta = OrdinalMeta_1.createByAxisModel(this);\n          }\n        },\n\n        /**\n         * Should not be called before all of 'getInitailData' finished.\n         * Because categories are collected during initializing data.\n         */\n        getCategories: function (rawData) {\n          var option = this.option; // FIXME\n          // warning if called before all of 'getInitailData' finished.\n\n          if (option.type === 'category') {\n            if (rawData) {\n              return option.data;\n            }\n\n            return this.__ordinalMeta.categories;\n          }\n        },\n        getOrdinalMeta: function () {\n          return this.__ordinalMeta;\n        },\n        defaultOption: util.mergeAll([{}, axisDefault_1[axisType + 'Axis'], extraDefaultOption], true)\n      });\n    });\n    Component.registerSubTypeDefaulter(axisName + 'Axis', util.curry(axisTypeDefaulter, axisName));\n  }\n\n  var axisModelCreator = _default$1I;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisModel = Component.extend({\n    type: 'cartesian2dAxis',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Axis2D}\n     */\n    axis: null,\n\n    /**\n     * @override\n     */\n    init: function () {\n      AxisModel.superApply(this, 'init', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function () {\n      AxisModel.superApply(this, 'mergeOption', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    restoreData: function () {\n      AxisModel.superApply(this, 'restoreData', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     * @return {module:echarts/model/Component}\n     */\n    getCoordSysModel: function () {\n      return this.ecModel.queryComponents({\n        mainType: 'grid',\n        index: this.option.gridIndex,\n        id: this.option.gridId\n      })[0];\n    }\n  });\n\n  function getAxisType(axisDim, option) {\n    // Default axis with data is category axis\n    return option.type || (option.data ? 'category' : 'value');\n  }\n\n  util.merge(AxisModel.prototype, axisModelCommonMixin);\n  var extraOption = {\n    // gridIndex: 0,\n    // gridId: '',\n    // Offset is for multiple axis on the same position\n    offset: 0\n  };\n  axisModelCreator('x', AxisModel, getAxisType, extraOption);\n  axisModelCreator('y', AxisModel, getAxisType, extraOption);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Grid \n  //  Cartesian2D \n  var _default$1J = Component.extend({\n    type: 'grid',\n    dependencies: ['xAxis', 'yAxis'],\n    layoutMode: 'box',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Grid}\n     */\n    coordinateSystem: null,\n    defaultOption: {\n      show: false,\n      zlevel: 0,\n      z: 0,\n      left: '10%',\n      top: 60,\n      right: '10%',\n      bottom: 60,\n      // If grid size contain label\n      containLabel: false,\n      // width: {totalWidth} - left - right,\n      // height: {totalHeight} - top - bottom,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    }\n  });\n\n  var isObject$f = util.isObject;\n  var each$k = util.each;\n  var map$9 = util.map;\n  var indexOf$4 = util.indexOf;\n\n\n\n  var getLayoutRect$1 = layout.getLayoutRect;\n\n\n\n  var createScaleByModel$1 = axisHelper.createScaleByModel;\n  var ifAxisCrossZero$1 = axisHelper.ifAxisCrossZero;\n  var niceScaleExtent$1 = axisHelper.niceScaleExtent;\n  var estimateLabelUnionRect$1 = axisHelper.estimateLabelUnionRect;\n\n\n\n\n\n\n\n\n\n  var getStackedDimension$2 = dataStackHelper.getStackedDimension;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Grid is a region which contains at most 4 cartesian systems\n   *\n   * TODO Default cartesian\n   */\n  // Depends on GridModel, AxisModel, which performs preprocess.\n\n  /**\n   * Check if the axis is used in the specified grid\n   * @inner\n   */\n  function isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n    return axisModel.getCoordSysModel() === gridModel;\n  }\n\n  function Grid(gridModel, ecModel, api) {\n    /**\n     * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n     * @private\n     */\n    this._coordsMap = {};\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n     * @private\n     */\n\n    this._coordsList = [];\n    /**\n     * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n     * @private\n     */\n\n    this._axesMap = {};\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n     * @private\n     */\n\n    this._axesList = [];\n\n    this._initCartesian(gridModel, ecModel, api);\n\n    this.model = gridModel;\n  }\n\n  var gridProto = Grid.prototype;\n  gridProto.type = 'grid';\n  gridProto.axisPointerEnabled = true;\n\n  gridProto.getRect = function () {\n    return this._rect;\n  };\n\n  gridProto.update = function (ecModel, api) {\n    var axesMap = this._axesMap;\n\n    this._updateScale(ecModel, this.model);\n\n    each$k(axesMap.x, function (xAxis) {\n      niceScaleExtent$1(xAxis.scale, xAxis.model);\n    });\n    each$k(axesMap.y, function (yAxis) {\n      niceScaleExtent$1(yAxis.scale, yAxis.model);\n    }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n    var onZeroRecords = {};\n    each$k(axesMap.x, function (xAxis) {\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n    });\n    each$k(axesMap.y, function (yAxis) {\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n    }); // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n\n    this.resize(this.model, api);\n  };\n\n  function fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n    axis.getAxesOnZeroOf = function () {\n      // TODO: onZero of multiple axes.\n      return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n    }; // onZero can not be enabled in these two situations:\n    // 1. When any other axis is a category axis.\n    // 2. When no axis is cross 0 point.\n\n\n    var otherAxes = axesMap[otherAxisDim];\n    var otherAxisOnZeroOf;\n    var axisModel = axis.model;\n    var onZero = axisModel.get('axisLine.onZero');\n    var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n    if (!onZero) {\n      return;\n    } // If target axis is specified.\n\n\n    if (onZeroAxisIndex != null) {\n      if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n        otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n      }\n    } else {\n      // Find the first available other axis.\n      for (var idx in otherAxes) {\n        if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n        // if both onZero, the two Y axes overlap.\n        && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n          otherAxisOnZeroOf = otherAxes[idx];\n          break;\n        }\n      }\n    }\n\n    if (otherAxisOnZeroOf) {\n      onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n    }\n\n    function getOnZeroRecordKey(axis) {\n      return axis.dim + '_' + axis.index;\n    }\n  }\n\n  function canOnZeroToAxis(axis) {\n    return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero$1(axis);\n  }\n  /**\n   * Resize the grid\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n\n  gridProto.resize = function (gridModel, api, ignoreContainLabel) {\n    var gridRect = getLayoutRect$1(gridModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._rect = gridRect;\n    var axesList = this._axesList;\n    adjustAxes(); // Minus label size\n\n    if (!ignoreContainLabel && gridModel.get('containLabel')) {\n      each$k(axesList, function (axis) {\n        if (!axis.model.get('axisLabel.inside')) {\n          var labelUnionRect = estimateLabelUnionRect$1(axis);\n\n          if (labelUnionRect) {\n            var dim = axis.isHorizontal() ? 'height' : 'width';\n            var margin = axis.model.get('axisLabel.margin');\n            gridRect[dim] -= labelUnionRect[dim] + margin;\n\n            if (axis.position === 'top') {\n              gridRect.y += labelUnionRect.height + margin;\n            } else if (axis.position === 'left') {\n              gridRect.x += labelUnionRect.width + margin;\n            }\n          }\n        }\n      });\n      adjustAxes();\n    }\n\n    function adjustAxes() {\n      each$k(axesList, function (axis) {\n        var isHorizontal = axis.isHorizontal();\n        var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n        var idx = axis.inverse ? 1 : 0;\n        axis.setExtent(extent[idx], extent[1 - idx]);\n        updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n      });\n    }\n  };\n  /**\n   * @param {string} axisType\n   * @param {number} [axisIndex]\n   */\n\n\n  gridProto.getAxis = function (axisType, axisIndex) {\n    var axesMapOnDim = this._axesMap[axisType];\n\n    if (axesMapOnDim != null) {\n      if (axisIndex == null) {\n        // Find first axis\n        for (var name in axesMapOnDim) {\n          if (axesMapOnDim.hasOwnProperty(name)) {\n            return axesMapOnDim[name];\n          }\n        }\n      }\n\n      return axesMapOnDim[axisIndex];\n    }\n  };\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n\n\n  gridProto.getAxes = function () {\n    return this._axesList.slice();\n  };\n  /**\n   * Usage:\n   *      grid.getCartesian(xAxisIndex, yAxisIndex);\n   *      grid.getCartesian(xAxisIndex);\n   *      grid.getCartesian(null, yAxisIndex);\n   *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n   *\n   * @param {number|Object} [xAxisIndex]\n   * @param {number} [yAxisIndex]\n   */\n\n\n  gridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      return this._coordsMap[key];\n    }\n\n    if (isObject$f(xAxisIndex)) {\n      yAxisIndex = xAxisIndex.yAxisIndex;\n      xAxisIndex = xAxisIndex.xAxisIndex;\n    } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n        return coordList[i];\n      }\n    }\n  };\n\n  gridProto.getCartesians = function () {\n    return this._coordsList.slice();\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n  };\n  /**\n   * @inner\n   */\n\n\n  gridProto._findConvertTarget = function (ecModel, finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n\n    if (seriesModel) {\n      cartesian = seriesModel.coordinateSystem;\n      indexOf$4(coordsList, cartesian) < 0 && (cartesian = null);\n    } else if (xAxisModel && yAxisModel) {\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    } else if (xAxisModel) {\n      axis = this.getAxis('x', xAxisModel.componentIndex);\n    } else if (yAxisModel) {\n      axis = this.getAxis('y', yAxisModel.componentIndex);\n    } // Lowest priority.\n    else if (gridModel) {\n        var grid = gridModel.coordinateSystem;\n\n        if (grid === this) {\n          cartesian = this._coordsList[0];\n        }\n      }\n\n    return {\n      cartesian: cartesian,\n      axis: axis\n    };\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.containPoint = function (point) {\n    var coord = this._coordsList[0];\n\n    if (coord) {\n      return coord.containPoint(point);\n    }\n  };\n  /**\n   * Initialize cartesian coordinate systems\n   * @private\n   */\n\n\n  gridProto._initCartesian = function (gridModel, ecModel, api) {\n    var axisPositionUsed = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var axesMap = {\n      x: {},\n      y: {}\n    };\n    var axesCount = {\n      x: 0,\n      y: 0\n    }; /// Create axis\n\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n    if (!axesCount.x || !axesCount.y) {\n      // Roll back when there no either x or y axis\n      this._axesMap = {};\n      this._axesList = [];\n      return;\n    }\n\n    this._axesMap = axesMap; /// Create cartesian2d\n\n    each$k(axesMap.x, function (xAxis, xAxisIndex) {\n      each$k(axesMap.y, function (yAxis, yAxisIndex) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        var cartesian = new Cartesian2D_1(key);\n        cartesian.grid = this;\n        cartesian.model = gridModel;\n        this._coordsMap[key] = cartesian;\n\n        this._coordsList.push(cartesian);\n\n        cartesian.addAxis(xAxis);\n        cartesian.addAxis(yAxis);\n      }, this);\n    }, this);\n\n    function createAxisCreator(axisType) {\n      return function (axisModel, idx) {\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\n          return;\n        }\n\n        var axisPosition = axisModel.get('position');\n\n        if (axisType === 'x') {\n          // Fix position\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n            // Default bottom of X\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n          }\n        } else {\n          // Fix position\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\n            // Default left of Y\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\n          }\n        }\n\n        axisPositionUsed[axisPosition] = true;\n        var axis = new Axis2D_1(axisType, createScaleByModel$1(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n        axisModel.axis = axis; // Inject axisModel into axis\n\n        axis.model = axisModel; // Inject grid info axis\n\n        axis.grid = this; // Index of axis, can be used as key\n\n        axis.index = idx;\n\n        this._axesList.push(axis);\n\n        axesMap[axisType][idx] = axis;\n        axesCount[axisType]++;\n      };\n    }\n  };\n  /**\n   * Update cartesian properties from series\n   * @param  {module:echarts/model/Option} option\n   * @private\n   */\n\n\n  gridProto._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each$k(this._axesList, function (axis) {\n      axis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (isCartesian2D(seriesModel)) {\n        var axesModels = findAxesModels(seriesModel);\n        var xAxisModel = axesModels[0];\n        var yAxisModel = axesModels[1];\n\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\n          return;\n        }\n\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n        var data = seriesModel.getData();\n        var xAxis = cartesian.getAxis('x');\n        var yAxis = cartesian.getAxis('y');\n\n        if (data.type === 'list') {\n          unionExtent(data, xAxis);\n          unionExtent(data, yAxis);\n        }\n      }\n    }, this);\n\n    function unionExtent(data, axis, seriesModel) {\n      each$k(data.mapDimension(axis.dim, true), function (dim) {\n        axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n        // is [0.1, 0.5], the extent of the `stackResultDimension`\n        // is [7, 9], the final extent should not include [0.1, 0.5].\n        data, getStackedDimension$2(data, dim));\n      });\n    }\n  };\n  /**\n   * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n\n\n  gridProto.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n    each$k(this.getCartesians(), function (cartesian) {\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\n      indexOf$4(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n      indexOf$4(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n    return {\n      baseAxes: baseAxes,\n      otherAxes: otherAxes\n    };\n  };\n  /**\n   * @inner\n   */\n\n\n  function updateAxisTransform(axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n    axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return axisExtentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return axisExtentSum - coord + coordBase;\n    };\n  }\n\n  var axesTypes = ['xAxis', 'yAxis'];\n  /**\n   * @inner\n   */\n\n  function findAxesModels(seriesModel, ecModel) {\n    return map$9(axesTypes, function (axisType) {\n      var axisModel = seriesModel.getReferringComponents(axisType)[0];\n      return axisModel;\n    });\n  }\n  /**\n   * @inner\n   */\n\n\n  function isCartesian2D(seriesModel) {\n    return seriesModel.get('coordinateSystem') === 'cartesian2d';\n  }\n\n  Grid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n      var grid = new Grid(gridModel, ecModel, api);\n      grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n      // should be performed in create stage.\n\n      grid.resize(gridModel, api, true);\n      gridModel.coordinateSystem = grid;\n      grids.push(grid);\n    }); // Inject the coordinateSystems into seriesModel\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (!isCartesian2D(seriesModel)) {\n        return;\n      }\n\n      var axesModels = findAxesModels(seriesModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n      var gridModel = xAxisModel.getCoordSysModel();\n      var grid = gridModel.coordinateSystem;\n      seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    });\n    return grids;\n  }; // For deciding which dimensions to use when creating list data\n\n\n  Grid.dimensions = Grid.prototype.dimensions = Cartesian2D_1.prototype.dimensions;\n  CoordinateSystem.register('cartesian2d', Grid);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieve$1 = util.retrieve;\n  var defaults$3 = util.defaults;\n  var extend$9 = util.extend;\n  var each$l = util.each;\n\n\n\n\n\n\n\n\n\n  var isRadianAroundZero$1 = number.isRadianAroundZero;\n  var remRadian$1 = number.remRadian;\n\n\n\n  var createSymbol$3 = symbol.createSymbol;\n\n\n\n\n\n  var v2ApplyTransform$2 = vector.applyTransform;\n\n\n\n  var shouldShowAllLabels$2 = axisHelper.shouldShowAllLabels;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI$2 = Math.PI;\n  /**\n   * A final axis is translated and rotated from a \"standard axis\".\n   * So opt.position and opt.rotation is required.\n   *\n   * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n   * for example: (0, 0) ------------> (0, 50)\n   *\n   * nameDirection or tickDirection or labelDirection is 1 means tick\n   * or label is below the standard axis, whereas is -1 means above\n   * the standard axis. labelOffset means offset between label and axis,\n   * which is useful when 'onZero', where axisLabel is in the grid and\n   * label in outside grid.\n   *\n   * Tips: like always,\n   * positive rotation represents anticlockwise, and negative rotation\n   * represents clockwise.\n   * The direction of position coordinate is the same as the direction\n   * of screen coordinate.\n   *\n   * Do not need to consider axis 'inverse', which is auto processed by\n   * axis extent.\n   *\n   * @param {module:zrender/container/Group} group\n   * @param {Object} axisModel\n   * @param {Object} opt Standard axis parameters.\n   * @param {Array.<number>} opt.position [x, y]\n   * @param {number} opt.rotation by radian\n   * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n   * @param {number} [opt.tickDirection=1] 1 or -1\n   * @param {number} [opt.labelDirection=1] 1 or -1\n   * @param {number} [opt.labelOffset=0] Usefull when onZero.\n   * @param {string} [opt.axisLabelShow] default get from axisModel.\n   * @param {string} [opt.axisName] default get from axisModel.\n   * @param {number} [opt.axisNameAvailableWidth]\n   * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n   * @param {number} [opt.strokeContainThreshold] Default label interval when label\n   * @param {number} [opt.nameTruncateMaxWidth]\n   */\n\n  var AxisBuilder = function (axisModel, opt) {\n    /**\n     * @readOnly\n     */\n    this.opt = opt;\n    /**\n     * @readOnly\n     */\n\n    this.axisModel = axisModel; // Default value\n\n    defaults$3(opt, {\n      labelOffset: 0,\n      nameDirection: 1,\n      tickDirection: 1,\n      labelDirection: 1,\n      silent: true\n    });\n    /**\n     * @readOnly\n     */\n\n    this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n    var dumbGroup = new graphic.Group({\n      position: opt.position.slice(),\n      rotation: opt.rotation\n    }); // this.group.add(dumbGroup);\n    // this._dumbGroup = dumbGroup;\n\n    dumbGroup.updateTransform();\n    this._transform = dumbGroup.transform;\n    this._dumbGroup = dumbGroup;\n  };\n\n  AxisBuilder.prototype = {\n    constructor: AxisBuilder,\n    hasBuilder: function (name) {\n      return !!builders[name];\n    },\n    add: function (name) {\n      builders[name].call(this);\n    },\n    getGroup: function () {\n      return this.group;\n    }\n  };\n  var builders = {\n    /**\n     * @private\n     */\n    axisLine: function () {\n      var opt = this.opt;\n      var axisModel = this.axisModel;\n\n      if (!axisModel.get('axisLine.show')) {\n        return;\n      }\n\n      var extent = this.axisModel.axis.getExtent();\n      var matrix = this._transform;\n      var pt1 = [extent[0], 0];\n      var pt2 = [extent[1], 0];\n\n      if (matrix) {\n        v2ApplyTransform$2(pt1, pt1, matrix);\n        v2ApplyTransform$2(pt2, pt2, matrix);\n      }\n\n      var lineStyle = extend$9({\n        lineCap: 'round'\n      }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n      this.group.add(new graphic.Line({\n        // Id for animation\n        anid: 'line',\n        subPixelOptimize: true,\n        shape: {\n          x1: pt1[0],\n          y1: pt1[1],\n          x2: pt2[0],\n          y2: pt2[1]\n        },\n        style: lineStyle,\n        strokeContainThreshold: opt.strokeContainThreshold || 5,\n        silent: true,\n        z2: 1\n      }));\n      var arrows = axisModel.get('axisLine.symbol');\n      var arrowSize = axisModel.get('axisLine.symbolSize');\n      var arrowOffset = axisModel.get('axisLine.symbolOffset') || 0;\n\n      if (typeof arrowOffset === 'number') {\n        arrowOffset = [arrowOffset, arrowOffset];\n      }\n\n      if (arrows != null) {\n        if (typeof arrows === 'string') {\n          // Use the same arrow for start and end point\n          arrows = [arrows, arrows];\n        }\n\n        if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n          // Use the same size for width and height\n          arrowSize = [arrowSize, arrowSize];\n        }\n\n        var symbolWidth = arrowSize[0];\n        var symbolHeight = arrowSize[1];\n        each$l([{\n          rotate: opt.rotation + Math.PI / 2,\n          offset: arrowOffset[0],\n          r: 0\n        }, {\n          rotate: opt.rotation - Math.PI / 2,\n          offset: arrowOffset[1],\n          r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n        }], function (point, index) {\n          if (arrows[index] !== 'none' && arrows[index] != null) {\n            var symbol = createSymbol$3(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true); // Calculate arrow position with offset\n\n            var r = point.r + point.offset;\n            var pos = [pt1[0] + r * Math.cos(opt.rotation), pt1[1] - r * Math.sin(opt.rotation)];\n            symbol.attr({\n              rotation: point.rotate,\n              position: pos,\n              silent: true,\n              z2: 11\n            });\n            this.group.add(symbol);\n          }\n        }, this);\n      }\n    },\n\n    /**\n     * @private\n     */\n    axisTickLabel: function () {\n      var axisModel = this.axisModel;\n      var opt = this.opt;\n      var ticksEls = buildAxisMajorTicks(this, axisModel, opt);\n      var labelEls = buildAxisLabel(this, axisModel, opt);\n      fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n      buildAxisMinorTicks(this, axisModel, opt);\n    },\n\n    /**\n     * @private\n     */\n    axisName: function () {\n      var opt = this.opt;\n      var axisModel = this.axisModel;\n      var name = retrieve$1(opt.axisName, axisModel.get('name'));\n\n      if (!name) {\n        return;\n      }\n\n      var nameLocation = axisModel.get('nameLocation');\n      var nameDirection = opt.nameDirection;\n      var textStyleModel = axisModel.getModel('nameTextStyle');\n      var gap = axisModel.get('nameGap') || 0;\n      var extent = this.axisModel.axis.getExtent();\n      var gapSignal = extent[0] > extent[1] ? -1 : 1;\n      var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n      // Reuse labelOffset.\n      isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n      var labelLayout;\n      var nameRotation = axisModel.get('nameRotate');\n\n      if (nameRotation != null) {\n        nameRotation = nameRotation * PI$2 / 180; // To radian.\n      }\n\n      var axisNameAvailableWidth;\n\n      if (isNameLocationCenter(nameLocation)) {\n        labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n        nameDirection);\n      } else {\n        labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n        axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n        if (axisNameAvailableWidth != null) {\n          axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n          !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n        }\n      }\n\n      var textFont = textStyleModel.getFont();\n      var truncateOpt = axisModel.get('nameTruncate', true) || {};\n      var ellipsis = truncateOpt.ellipsis;\n      var maxWidth = retrieve$1(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n      // truncate rich text? (consider performance)\n\n      var truncatedText = ellipsis != null && maxWidth != null ? format$1.truncateText(name, maxWidth, textFont, ellipsis, {\n        minChar: 2,\n        placeholder: truncateOpt.placeholder\n      }) : name;\n      var tooltipOpt = axisModel.get('tooltip', true);\n      var mainType = axisModel.mainType;\n      var formatterParams = {\n        componentType: mainType,\n        name: name,\n        $vars: ['name']\n      };\n      formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n      var textEl = new graphic.Text({\n        // Id for animation\n        anid: 'name',\n        __fullText: name,\n        __truncatedText: truncatedText,\n        position: pos,\n        rotation: labelLayout.rotation,\n        silent: isLabelSilent(axisModel),\n        z2: 1,\n        tooltip: tooltipOpt && tooltipOpt.show ? extend$9({\n          content: name,\n          formatter: function () {\n            return name;\n          },\n          formatterParams: formatterParams\n        }, tooltipOpt) : null\n      });\n      graphic.setTextStyle(textEl.style, textStyleModel, {\n        text: truncatedText,\n        textFont: textFont,\n        textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n        textAlign: textStyleModel.get('align') || labelLayout.textAlign,\n        textVerticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n      });\n\n      if (axisModel.get('triggerEvent')) {\n        textEl.eventData = makeAxisEventDataBase(axisModel);\n        textEl.eventData.targetType = 'axisName';\n        textEl.eventData.name = name;\n      } // FIXME\n\n\n      this._dumbGroup.add(textEl);\n\n      textEl.updateTransform();\n      this.group.add(textEl);\n      textEl.decomposeTransform();\n    }\n  };\n\n  var makeAxisEventDataBase = AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n    var eventData = {\n      componentType: axisModel.mainType,\n      componentIndex: axisModel.componentIndex\n    };\n    eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n    return eventData;\n  };\n  /**\n   * @public\n   * @static\n   * @param {Object} opt\n   * @param {number} axisRotation in radian\n   * @param {number} textRotation in radian\n   * @param {number} direction\n   * @return {Object} {\n   *  rotation, // according to axis\n   *  textAlign,\n   *  textVerticalAlign\n   * }\n   */\n\n\n  var innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n    var rotationDiff = remRadian$1(textRotation - axisRotation);\n    var textAlign;\n    var textVerticalAlign;\n\n    if (isRadianAroundZero$1(rotationDiff)) {\n      // Label is parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else if (isRadianAroundZero$1(rotationDiff - PI$2)) {\n      // Label is inverse parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n\n      if (rotationDiff > 0 && rotationDiff < PI$2) {\n        textAlign = direction > 0 ? 'right' : 'left';\n      } else {\n        textAlign = direction > 0 ? 'left' : 'right';\n      }\n    }\n\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  };\n\n  function endTextLayout(opt, textPosition, textRotate, extent) {\n    var rotationDiff = remRadian$1(textRotate - opt.rotation);\n    var textAlign;\n    var textVerticalAlign;\n    var inverse = extent[0] > extent[1];\n    var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n    if (isRadianAroundZero$1(rotationDiff - PI$2 / 2)) {\n      textVerticalAlign = onLeft ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else if (isRadianAroundZero$1(rotationDiff - PI$2 * 1.5)) {\n      textVerticalAlign = onLeft ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n\n      if (rotationDiff < PI$2 * 1.5 && rotationDiff > PI$2 / 2) {\n        textAlign = onLeft ? 'left' : 'right';\n      } else {\n        textAlign = onLeft ? 'right' : 'left';\n      }\n    }\n\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  }\n\n  var isLabelSilent = AxisBuilder.isLabelSilent = function (axisModel) {\n    var tooltipOpt = axisModel.get('tooltip');\n    return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n    || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n  };\n\n  function fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n    if (shouldShowAllLabels$2(axisModel.axis)) {\n      return;\n    } // If min or max are user set, we need to check\n    // If the tick on min(max) are overlap on their neighbour tick\n    // If they are overlapped, we need to hide the min(max) tick label\n\n\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n    // Have not consider onBand yet, where tick els is more than label els.\n\n    labelEls = labelEls || [];\n    tickEls = tickEls || [];\n    var firstLabel = labelEls[0];\n    var nextLabel = labelEls[1];\n    var lastLabel = labelEls[labelEls.length - 1];\n    var prevLabel = labelEls[labelEls.length - 2];\n    var firstTick = tickEls[0];\n    var nextTick = tickEls[1];\n    var lastTick = tickEls[tickEls.length - 1];\n    var prevTick = tickEls[tickEls.length - 2];\n\n    if (showMinLabel === false) {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n      if (showMinLabel) {\n        ignoreEl(nextLabel);\n        ignoreEl(nextTick);\n      } else {\n        ignoreEl(firstLabel);\n        ignoreEl(firstTick);\n      }\n    }\n\n    if (showMaxLabel === false) {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n      if (showMaxLabel) {\n        ignoreEl(prevLabel);\n        ignoreEl(prevTick);\n      } else {\n        ignoreEl(lastLabel);\n        ignoreEl(lastTick);\n      }\n    }\n  }\n\n  function ignoreEl(el) {\n    el && (el.ignore = true);\n  }\n\n  function isTwoLabelOverlapped(current, next, labelLayout) {\n    // current and next has the same rotation.\n    var firstRect = current && current.getBoundingRect().clone();\n    var nextRect = next && next.getBoundingRect().clone();\n\n    if (!firstRect || !nextRect) {\n      return;\n    } // When checking intersect of two rotated labels, we use mRotationBack\n    // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n    var mRotationBack = matrix.identity([]);\n    matrix.rotate(mRotationBack, mRotationBack, -current.rotation);\n    firstRect.applyTransform(matrix.mul([], mRotationBack, current.getLocalTransform()));\n    nextRect.applyTransform(matrix.mul([], mRotationBack, next.getLocalTransform()));\n    return firstRect.intersect(nextRect);\n  }\n\n  function isNameLocationCenter(nameLocation) {\n    return nameLocation === 'middle' || nameLocation === 'center';\n  }\n\n  function createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, aniid) {\n    var tickEls = [];\n    var pt1 = [];\n    var pt2 = [];\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = ticksCoords[i].coord;\n      pt1[0] = tickCoord;\n      pt1[1] = 0;\n      pt2[0] = tickCoord;\n      pt2[1] = tickEndCoord;\n\n      if (tickTransform) {\n        v2ApplyTransform$2(pt1, pt1, tickTransform);\n        v2ApplyTransform$2(pt2, pt2, tickTransform);\n      } // Tick line, Not use group transform to have better line draw\n\n\n      var tickEl = new graphic.Line({\n        // Id for animation\n        anid: aniid + '_' + ticksCoords[i].tickValue,\n        subPixelOptimize: true,\n        shape: {\n          x1: pt1[0],\n          y1: pt1[1],\n          x2: pt2[0],\n          y2: pt2[1]\n        },\n        style: tickLineStyle,\n        z2: 2,\n        silent: true\n      });\n      tickEls.push(tickEl);\n    }\n\n    return tickEls;\n  }\n\n  function buildAxisMajorTicks(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var tickModel = axisModel.getModel('axisTick');\n\n    if (!tickModel.get('show') || axis.scale.isBlank()) {\n      return;\n    }\n\n    var lineStyleModel = tickModel.getModel('lineStyle');\n    var tickEndCoord = opt.tickDirection * tickModel.get('length');\n    var ticksCoords = axis.getTicksCoords();\n    var ticksEls = createTicks(ticksCoords, axisBuilder._transform, tickEndCoord, defaults$3(lineStyleModel.getLineStyle(), {\n      stroke: axisModel.get('axisLine.lineStyle.color')\n    }), 'ticks');\n\n    for (var i = 0; i < ticksEls.length; i++) {\n      axisBuilder.group.add(ticksEls[i]);\n    }\n\n    return ticksEls;\n  }\n\n  function buildAxisMinorTicks(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var minorTickModel = axisModel.getModel('minorTick');\n\n    if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n      return;\n    }\n\n    var minorTicksCoords = axis.getMinorTicksCoords();\n\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var lineStyleModel = minorTickModel.getModel('lineStyle');\n    var tickEndCoord = opt.tickDirection * minorTickModel.get('length');\n    var minorTickLineStyle = defaults$3(lineStyleModel.getLineStyle(), defaults$3(axisModel.getModel('axisTick').getLineStyle(), {\n      stroke: axisModel.get('axisLine.lineStyle.color')\n    }));\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      var minorTicksEls = createTicks(minorTicksCoords[i], axisBuilder._transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n\n      for (var k = 0; k < minorTicksEls.length; k++) {\n        axisBuilder.group.add(minorTicksEls[k]);\n      }\n    }\n  }\n\n  function buildAxisLabel(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var show = retrieve$1(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n    if (!show || axis.scale.isBlank()) {\n      return;\n    }\n\n    var labelModel = axisModel.getModel('axisLabel');\n    var labelMargin = labelModel.get('margin');\n    var labels = axis.getViewLabels(); // Special label rotate.\n\n    var labelRotation = (retrieve$1(opt.labelRotate, labelModel.get('rotate')) || 0) * PI$2 / 180;\n    var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n    var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n    var labelEls = [];\n    var silent = isLabelSilent(axisModel);\n    var triggerEvent = axisModel.get('triggerEvent');\n    each$l(labels, function (labelItem, index) {\n      var tickValue = labelItem.tickValue;\n      var formattedLabel = labelItem.formattedLabel;\n      var rawLabel = labelItem.rawLabel;\n      var itemLabelModel = labelModel;\n\n      if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n        itemLabelModel = new Model_1(rawCategoryData[tickValue].textStyle, labelModel, axisModel.ecModel);\n      }\n\n      var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n      var tickCoord = axis.dataToCoord(tickValue);\n      var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n      var textEl = new graphic.Text({\n        // Id for animation\n        anid: 'label_' + tickValue,\n        position: pos,\n        rotation: labelLayout.rotation,\n        silent: silent,\n        z2: 10\n      });\n      graphic.setTextStyle(textEl.style, itemLabelModel, {\n        text: formattedLabel,\n        textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n        textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n        textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n        // index of axis.data. So tick should not be exposed to user\n        // in category axis.\n        // (2) Compatible with previous version, which always use formatted label as\n        // input. But in interval scale the formatted label is like '223,445', which\n        // maked user repalce ','. So we modify it to return original val but remain\n        // it as 'string' to avoid error in replacing.\n        axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n      }); // Pack data for mouse event\n\n      if (triggerEvent) {\n        textEl.eventData = makeAxisEventDataBase(axisModel);\n        textEl.eventData.targetType = 'axisLabel';\n        textEl.eventData.value = rawLabel;\n      } // FIXME\n\n\n      axisBuilder._dumbGroup.add(textEl);\n\n      textEl.updateTransform();\n      labelEls.push(textEl);\n      axisBuilder.group.add(textEl);\n      textEl.decomposeTransform();\n    });\n    return labelEls;\n  }\n\n  var _default$1K = AxisBuilder;\n  var AxisBuilder_1 = _default$1K;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$m = util.each;\n  var curry$1 = util.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n\n  function collect(ecModel, api) {\n    var result = {\n      /**\n       * key: makeKey(axis.model)\n       * value: {\n       *      axis,\n       *      coordSys,\n       *      axisPointerModel,\n       *      triggerTooltip,\n       *      involveSeries,\n       *      snap,\n       *      seriesModels,\n       *      seriesDataCount\n       * }\n       */\n      axesInfo: {},\n      seriesInvolved: false,\n\n      /**\n       * key: makeKey(coordSys.model)\n       * value: Object: key makeKey(axis.model), value: axisInfo\n       */\n      coordSysAxesInfo: {},\n      coordSysMap: {}\n    };\n    collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n    result.seriesInvolved && collectSeriesInfo(result, ecModel);\n    return result;\n  }\n\n  function collectAxesInfo(result, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n    var linksOption = globalAxisPointerModel.get('link', true) || [];\n    var linkGroups = []; // Collect axes info.\n\n    each$m(api.getCoordinateSystems(), function (coordSys) {\n      // Some coordinate system do not support axes, like geo.\n      if (!coordSys.axisPointerEnabled) {\n        return;\n      }\n\n      var coordSysKey = makeKey(coordSys.model);\n      var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n      result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n      // for user. So we enable seting tooltip on coordSys model.\n\n      var coordSysModel = coordSys.model;\n      var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n      each$m(coordSys.getAxes(), curry$1(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n      // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n      if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n      // show but axisPointer will show as normal.\n      && baseTooltipModel.get('show')) {\n        // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n        // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n        var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n        var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n        var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n        if (triggerAxis || cross) {\n          each$m(tooltipAxes.baseAxes, curry$1(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n        }\n\n        if (cross) {\n          each$m(tooltipAxes.otherAxes, curry$1(saveTooltipAxisInfo, 'cross', false));\n        }\n      } // fromTooltip: true | false | 'cross'\n      // triggerTooltip: true | false | null\n\n\n      function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n        var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n        var axisPointerShow = axisPointerModel.get('show');\n\n        if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n          return;\n        }\n\n        if (triggerTooltip == null) {\n          triggerTooltip = axisPointerModel.get('triggerTooltip');\n        }\n\n        axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n        var snap = axisPointerModel.get('snap');\n        var key = makeKey(axis.model);\n        var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n        var axisInfo = result.axesInfo[key] = {\n          key: key,\n          axis: axis,\n          coordSys: coordSys,\n          axisPointerModel: axisPointerModel,\n          triggerTooltip: triggerTooltip,\n          involveSeries: involveSeries,\n          snap: snap,\n          useHandle: isHandleTrigger(axisPointerModel),\n          seriesModels: []\n        };\n        axesInfoInCoordSys[key] = axisInfo;\n        result.seriesInvolved |= involveSeries;\n        var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n        if (groupIndex != null) {\n          var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n            axesInfo: {}\n          });\n          linkGroup.axesInfo[key] = axisInfo;\n          linkGroup.mapper = linksOption[groupIndex].mapper;\n          axisInfo.linkGroup = linkGroup;\n        }\n      }\n    });\n  }\n\n  function makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n    var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n    var volatileOption = {};\n    each$m(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n      volatileOption[field] = util.clone(tooltipAxisPointerModel.get(field));\n    }); // category axis do not auto snap, otherwise some tick that do not\n    // has value can not be hovered. value/time/log axis default snap if\n    // triggered from tooltip and trigger tooltip.\n\n    volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n    // Only these properties can be overrided from tooltip to axisPointer.\n\n    if (tooltipAxisPointerModel.get('type') === 'cross') {\n      volatileOption.type = 'line';\n    }\n\n    var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n    labelOption.show == null && (labelOption.show = false);\n\n    if (fromTooltip === 'cross') {\n      // When 'cross', both axes show labels.\n      var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get('label.show');\n      labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\n      // (cross style is dashed by default)\n\n      if (!triggerTooltip) {\n        var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n        crossStyle && util.defaults(labelOption, crossStyle.textStyle);\n      }\n    }\n\n    return axis.model.getModel('axisPointer', new Model_1(volatileOption, globalAxisPointerModel, ecModel));\n  }\n\n  function collectSeriesInfo(result, ecModel) {\n    // Prepare data for axis trigger\n    ecModel.eachSeries(function (seriesModel) {\n      // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n      var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n      if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n        return;\n      }\n\n      each$m(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n        var axis = axisInfo.axis;\n\n        if (coordSys.getAxis(axis.dim) === axis) {\n          axisInfo.seriesModels.push(seriesModel);\n          axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n          axisInfo.seriesDataCount += seriesModel.getData().count();\n        }\n      });\n    }, this);\n  }\n  /**\n   * For example:\n   * {\n   *     axisPointer: {\n   *         links: [{\n   *             xAxisIndex: [2, 4],\n   *             yAxisIndex: 'all'\n   *         }, {\n   *             xAxisId: ['a5', 'a7'],\n   *             xAxisName: 'xxx'\n   *         }]\n   *     }\n   * }\n   */\n\n\n  function getLinkGroupIndex(linksOption, axis) {\n    var axisModel = axis.model;\n    var dim = axis.dim;\n\n    for (var i = 0; i < linksOption.length; i++) {\n      var linkOption = linksOption[i] || {};\n\n      if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n        return i;\n      }\n    }\n  }\n\n  function checkPropInLink(linkPropValue, axisPropValue) {\n    return linkPropValue === 'all' || util.isArray(linkPropValue) && util.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n  }\n\n  function fixValue(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n\n    if (!axisInfo) {\n      return;\n    }\n\n    var axisPointerModel = axisInfo.axisPointerModel;\n    var scale = axisInfo.axis.scale;\n    var option = axisPointerModel.option;\n    var status = axisPointerModel.get('status');\n    var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n    if (value != null) {\n      value = scale.parse(value);\n    }\n\n    var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n    // and status should be initialized.\n\n    if (status == null) {\n      option.status = useHandle ? 'show' : 'hide';\n    }\n\n    var extent = scale.getExtent().slice();\n    extent[0] > extent[1] && extent.reverse();\n\n    if ( // Pick a value on axis when initializing.\n    value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n    // where we should re-pick a value to keep `handle` displaying normally.\n    || value > extent[1]) {\n      // Make handle displayed on the end of the axis when init, which looks better.\n      value = extent[1];\n    }\n\n    if (value < extent[0]) {\n      value = extent[0];\n    }\n\n    option.value = value;\n\n    if (useHandle) {\n      option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n    }\n  }\n\n  function getAxisInfo(axisModel) {\n    var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n    return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n  }\n\n  function getAxisPointerModel(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n    return axisInfo && axisInfo.axisPointerModel;\n  }\n\n  function isHandleTrigger(axisPointerModel) {\n    return !!axisPointerModel.get('handle.show');\n  }\n  /**\n   * @param {module:echarts/model/Model} model\n   * @return {string} unique key\n   */\n\n\n  function makeKey(model) {\n    return model.type + '||' + model.id;\n  }\n\n  var collect_1 = collect;\n  var fixValue_1 = fixValue;\n  var getAxisInfo_1 = getAxisInfo;\n  var getAxisPointerModel_1 = getAxisPointerModel;\n  var makeKey_1 = makeKey;\n\n  var modelHelper = {\n  \tcollect: collect_1,\n  \tfixValue: fixValue_1,\n  \tgetAxisInfo: getAxisInfo_1,\n  \tgetAxisPointerModel: getAxisPointerModel_1,\n  \tmakeKey: makeKey_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Base class of AxisView.\n   */\n  var AxisView = echarts.extendComponentView({\n    type: 'axis',\n\n    /**\n     * @private\n     */\n    _axisPointer: null,\n\n    /**\n     * @protected\n     * @type {string}\n     */\n    axisPointerClass: null,\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n      // FIXME\n      // This process should proformed after coordinate systems updated\n      // (axis scale updated), and should be performed each time update.\n      // So put it here temporarily, although it is not appropriate to\n      // put a model-writing procedure in `view`.\n      this.axisPointerClass && modelHelper.fixValue(axisModel);\n      AxisView.superApply(this, 'render', arguments);\n      updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n    },\n\n    /**\n     * Action handler.\n     * @public\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/model/Global} ecModel\n     * @param {module:echarts/ExtensionAPI} api\n     * @param {Object} payload\n     */\n    updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n      updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n      var axisPointer = this._axisPointer;\n      axisPointer && axisPointer.remove(api);\n      AxisView.superApply(this, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n      disposeAxisPointer(this, api);\n      AxisView.superApply(this, 'dispose', arguments);\n    }\n  });\n\n  function updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n    var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n    if (!Clazz) {\n      return;\n    }\n\n    var axisPointerModel = modelHelper.getAxisPointerModel(axisModel);\n    axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n  }\n\n  function disposeAxisPointer(axisView, ecModel, api) {\n    var axisPointer = axisView._axisPointer;\n    axisPointer && axisPointer.dispose(ecModel, api);\n    axisView._axisPointer = null;\n  }\n\n  var axisPointerClazz = [];\n\n  AxisView.registerAxisPointerClass = function (type, clazz) {\n    axisPointerClazz[type] = clazz;\n  };\n\n  AxisView.getAxisPointerClass = function (type) {\n    return type && axisPointerClazz[type];\n  };\n\n  var _default$1L = AxisView;\n  var AxisView_1 = _default$1L;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Can only be called after coordinate system creation stage.\n   * (Can be called before coordinate system update stage).\n   *\n   * @param {Object} opt {labelInside}\n   * @return {Object} {\n   *  position, rotation, labelDirection, labelOffset,\n   *  tickDirection, labelRotate, z2\n   * }\n   */\n  function layout$2(gridModel, axisModel, opt) {\n    opt = opt || {};\n    var grid = gridModel.coordinateSystem;\n    var axis = axisModel.axis;\n    var layout = {};\n    var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n    var rawAxisPosition = axis.position;\n    var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n    var axisDim = axis.dim;\n    var rect = grid.getRect();\n    var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n    var idx = {\n      left: 0,\n      right: 1,\n      top: 0,\n      bottom: 1,\n      onZero: 2\n    };\n    var axisOffset = axisModel.get('offset') || 0;\n    var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n    if (otherAxisOnZeroOf) {\n      var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n      posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n    } // Axis position\n\n\n    layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n    layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n    var dirMap = {\n      top: -1,\n      bottom: 1,\n      left: -1,\n      right: 1\n    };\n    layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n    layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n    if (axisModel.get('axisTick.inside')) {\n      layout.tickDirection = -layout.tickDirection;\n    }\n\n    if (util.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n      layout.labelDirection = -layout.labelDirection;\n    } // Special label rotation\n\n\n    var labelRotate = axisModel.get('axisLabel.rotate');\n    layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n    layout.z2 = 1;\n    return layout;\n  }\n\n  var layout_1$1 = layout$2;\n\n  var cartesianAxisHelper = {\n  \tlayout: layout_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitAreaModel = axisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitAreaModel,\n      clamp: true\n    });\n\n    if (!ticksCoords.length) {\n      return;\n    } // For Making appropriate splitArea animation, the color and anid\n    // should be corresponding to previous one if possible.\n\n\n    var areaColorsLen = areaColors.length;\n    var lastSplitAreaColors = axisView.__splitAreaColors;\n    var newSplitAreaColors = util.createHashMap();\n    var colorIndex = 0;\n\n    if (lastSplitAreaColors) {\n      for (var i = 0; i < ticksCoords.length; i++) {\n        var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n        if (cIndex != null) {\n          colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n          break;\n        }\n      }\n    }\n\n    var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n    var areaStyle = areaStyleModel.getAreaStyle();\n    areaColors = util.isArray(areaColors) ? areaColors : [areaColors];\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (axis.isHorizontal()) {\n        x = prev;\n        y = gridRect.y;\n        width = tickCoord - x;\n        height = gridRect.height;\n        prev = x + width;\n      } else {\n        x = gridRect.x;\n        y = prev;\n        width = gridRect.width;\n        height = tickCoord - y;\n        prev = y + height;\n      }\n\n      var tickValue = ticksCoords[i - 1].tickValue;\n      tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n      axisGroup.add(new graphic.Rect({\n        anid: tickValue != null ? 'area_' + tickValue : null,\n        shape: {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        },\n        style: util.defaults({\n          fill: areaColors[colorIndex]\n        }, areaStyle),\n        silent: true\n      }));\n      colorIndex = (colorIndex + 1) % areaColorsLen;\n    }\n\n    axisView.__splitAreaColors = newSplitAreaColors;\n  }\n\n  function rectCoordAxisHandleRemove(axisView) {\n    axisView.__splitAreaColors = null;\n  }\n\n  var rectCoordAxisBuildSplitArea_1 = rectCoordAxisBuildSplitArea;\n  var rectCoordAxisHandleRemove_1 = rectCoordAxisHandleRemove;\n\n  var axisSplitHelper = {\n  \trectCoordAxisBuildSplitArea: rectCoordAxisBuildSplitArea_1,\n  \trectCoordAxisHandleRemove: rectCoordAxisHandleRemove_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var rectCoordAxisBuildSplitArea$1 = axisSplitHelper.rectCoordAxisBuildSplitArea;\n  var rectCoordAxisHandleRemove$1 = axisSplitHelper.rectCoordAxisHandleRemove;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\n  var selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\n  var CartesianAxisView = AxisView_1.extend({\n    type: 'cartesianAxis',\n    axisPointerClass: 'CartesianAxisPointer',\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n      this.group.removeAll();\n      var oldAxisGroup = this._axisGroup;\n      this._axisGroup = new graphic.Group();\n      this.group.add(this._axisGroup);\n\n      if (!axisModel.get('show')) {\n        return;\n      }\n\n      var gridModel = axisModel.getCoordSysModel();\n      var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n      var axisBuilder = new AxisBuilder_1(axisModel, layout);\n      util.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n      this._axisGroup.add(axisBuilder.getGroup());\n\n      util.each(selfBuilderAttrs, function (name) {\n        if (axisModel.get(name + '.show')) {\n          this['_' + name](axisModel, gridModel);\n        }\n      }, this);\n      graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n      CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n    },\n    remove: function () {\n      rectCoordAxisHandleRemove$1(this);\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _splitLine: function (axisModel, gridModel) {\n      var axis = axisModel.axis;\n\n      if (axis.scale.isBlank()) {\n        return;\n      }\n\n      var splitLineModel = axisModel.getModel('splitLine');\n      var lineStyleModel = splitLineModel.getModel('lineStyle');\n      var lineColors = lineStyleModel.get('color');\n      lineColors = util.isArray(lineColors) ? lineColors : [lineColors];\n      var gridRect = gridModel.coordinateSystem.getRect();\n      var isHorizontal = axis.isHorizontal();\n      var lineCount = 0;\n      var ticksCoords = axis.getTicksCoords({\n        tickModel: splitLineModel\n      });\n      var p1 = [];\n      var p2 = [];\n      var lineStyle = lineStyleModel.getLineStyle();\n\n      for (var i = 0; i < ticksCoords.length; i++) {\n        var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n\n        var colorIndex = lineCount++ % lineColors.length;\n        var tickValue = ticksCoords[i].tickValue;\n\n        this._axisGroup.add(new graphic.Line({\n          anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n          subPixelOptimize: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: util.defaults({\n            stroke: lineColors[colorIndex]\n          }, lineStyle),\n          silent: true\n        }));\n      }\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _minorSplitLine: function (axisModel, gridModel) {\n      var axis = axisModel.axis;\n      var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n      var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n      var gridRect = gridModel.coordinateSystem.getRect();\n      var isHorizontal = axis.isHorizontal();\n      var minorTicksCoords = axis.getMinorTicksCoords();\n\n      if (!minorTicksCoords.length) {\n        return;\n      }\n\n      var p1 = [];\n      var p2 = [];\n      var lineStyle = lineStyleModel.getLineStyle();\n\n      for (var i = 0; i < minorTicksCoords.length; i++) {\n        for (var k = 0; k < minorTicksCoords[i].length; k++) {\n          var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n\n          if (isHorizontal) {\n            p1[0] = tickCoord;\n            p1[1] = gridRect.y;\n            p2[0] = tickCoord;\n            p2[1] = gridRect.y + gridRect.height;\n          } else {\n            p1[0] = gridRect.x;\n            p1[1] = tickCoord;\n            p2[0] = gridRect.x + gridRect.width;\n            p2[1] = tickCoord;\n          }\n\n          this._axisGroup.add(new graphic.Line({\n            anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n            subPixelOptimize: true,\n            shape: {\n              x1: p1[0],\n              y1: p1[1],\n              x2: p2[0],\n              y2: p2[1]\n            },\n            style: lineStyle,\n            silent: true\n          }));\n        }\n      }\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _splitArea: function (axisModel, gridModel) {\n      rectCoordAxisBuildSplitArea$1(this, this._axisGroup, axisModel, gridModel);\n    }\n  });\n  CartesianAxisView.extend({\n    type: 'xAxis'\n  });\n  CartesianAxisView.extend({\n    type: 'yAxis'\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Grid view\n  echarts.extendComponentView({\n    type: 'grid',\n    render: function (gridModel, ecModel) {\n      this.group.removeAll();\n\n      if (gridModel.get('show')) {\n        this.group.add(new graphic.Rect({\n          shape: gridModel.coordinateSystem.getRect(),\n          style: util.defaults({\n            fill: gridModel.get('backgroundColor')\n          }, gridModel.getItemStyle()),\n          silent: true,\n          z2: -1\n        }));\n      }\n    }\n  });\n  echarts.registerPreprocessor(function (option) {\n    // Only create grid when need\n    if (option.xAxis && option.yAxis && !option.grid) {\n      option.grid = {};\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // In case developer forget to include grid component\n  echarts.registerVisual(symbol$1('line', 'circle', 'line'));\n  echarts.registerLayout(points$2('line')); // Down sample after filter\n\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n   * @param {module:echarts/model/Global} ecModel\n   * @return {Object} {point: [x, y], el: ...} point Will not be null.\n   */\n  function _default$1M(finder, ecModel) {\n    var point = [];\n    var seriesIndex = finder.seriesIndex;\n    var seriesModel;\n\n    if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n      return {\n        point: []\n      };\n    }\n\n    var data = seriesModel.getData();\n    var dataIndex = model.queryDataIndex(data, finder);\n\n    if (dataIndex == null || dataIndex < 0 || util.isArray(dataIndex)) {\n      return {\n        point: []\n      };\n    }\n\n    var el = data.getItemGraphicEl(dataIndex);\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (seriesModel.getTooltipPosition) {\n      point = seriesModel.getTooltipPosition(dataIndex) || [];\n    } else if (coordSys && coordSys.dataToPoint) {\n      point = coordSys.dataToPoint(data.getValues(util.map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }), dataIndex, true)) || [];\n    } else if (el) {\n      // Use graphic bounding rect\n      var rect = el.getBoundingRect().clone();\n      rect.applyTransform(el.transform);\n      point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    }\n\n    return {\n      point: point,\n      el: el\n    };\n  }\n\n  var findPointFromSeries = _default$1M;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var makeInner$7 = model.makeInner;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$n = util.each;\n  var curry$2 = util.curry;\n  var inner$7 = makeInner$7();\n  /**\n   * Basic logic: check all axis, if they do not demand show/highlight,\n   * then hide/downplay them.\n   *\n   * @param {Object} coordSysAxesInfo\n   * @param {Object} payload\n   * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n   * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n   *              trigger axisPointer and tooltip.\n   * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n   *              trigger axisPointer and tooltip.\n   * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n   * @param {Object} [payload.dataIndex] finder, restrict target axes.\n   * @param {Object} [payload.axesInfo] finder, restrict target axes.\n   *        [{\n   *          axisDim: 'x'|'y'|'angle'|...,\n   *          axisIndex: ...,\n   *          value: ...\n   *        }, ...]\n   * @param {Function} [payload.dispatchAction]\n   * @param {Object} [payload.tooltipOption]\n   * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n   *        which can be specified in dispatchAction\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @return {Object} content of event obj for echarts.connect.\n   */\n\n  function _default$1N(payload, ecModel, api) {\n    var currTrigger = payload.currTrigger;\n    var point = [payload.x, payload.y];\n    var finder = payload;\n    var dispatchAction = payload.dispatchAction || util.bind(api.dispatchAction, api);\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n    // See #6121. But we are not able to reproduce it yet.\n\n    if (!coordSysAxesInfo) {\n      return;\n    }\n\n    if (illegalPoint(point)) {\n      // Used in the default behavior of `connection`: use the sample seriesIndex\n      // and dataIndex. And also used in the tooltipView trigger.\n      point = findPointFromSeries({\n        seriesIndex: finder.seriesIndex,\n        // Do not use dataIndexInside from other ec instance.\n        // FIXME: auto detect it?\n        dataIndex: finder.dataIndex\n      }, ecModel).point;\n    }\n\n    var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n    // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n    // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n    // and dataIndex.\n\n    var inputAxesInfo = finder.axesInfo;\n    var axesInfo = coordSysAxesInfo.axesInfo;\n    var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n    var outputFinder = {};\n    var showValueMap = {};\n    var dataByCoordSys = {\n      list: [],\n      map: {}\n    };\n    var updaters = {\n      showPointer: curry$2(showPointer, showValueMap),\n      showTooltip: curry$2(showTooltip, dataByCoordSys)\n    }; // Process for triggered axes.\n\n    each$n(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n      // If a point given, it must be contained by the coordinate system.\n      var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n      each$n(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n        var axis = axisInfo.axis;\n        var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n        if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n          var val = inputAxisInfo && inputAxisInfo.value;\n\n          if (val == null && !isIllegalPoint) {\n            val = axis.pointToData(point);\n          }\n\n          val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n        }\n      });\n    }); // Process for linked axes.\n\n    var linkTriggers = {};\n    each$n(axesInfo, function (tarAxisInfo, tarKey) {\n      var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n      if (linkGroup && !showValueMap[tarKey]) {\n        each$n(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n          var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n          if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n            var val = srcValItem.value;\n            linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n            linkTriggers[tarAxisInfo.key] = val;\n          }\n        });\n      }\n    });\n    each$n(linkTriggers, function (val, tarKey) {\n      processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n    });\n    updateModelActually(showValueMap, axesInfo, outputFinder);\n    dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n    dispatchHighDownActually(axesInfo, dispatchAction, api);\n    return outputFinder;\n  }\n\n  function processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n    var axis = axisInfo.axis;\n\n    if (axis.scale.isBlank() || !axis.containData(newValue)) {\n      return;\n    }\n\n    if (!axisInfo.involveSeries) {\n      updaters.showPointer(axisInfo, newValue);\n      return;\n    } // Heavy calculation. So put it after axis.containData checking.\n\n\n    var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n    var payloadBatch = payloadInfo.payloadBatch;\n    var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n    // By default use the first involved series data as a sample to connect.\n\n    if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n      util.extend(outputFinder, payloadBatch[0]);\n    } // If no linkSource input, this process is for collecting link\n    // target, where snap should not be accepted.\n\n\n    if (!dontSnap && axisInfo.snap) {\n      if (axis.containData(snapToValue) && snapToValue != null) {\n        newValue = snapToValue;\n      }\n    }\n\n    updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n    // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n    updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n  }\n\n  function buildPayloadsBySeries(value, axisInfo) {\n    var axis = axisInfo.axis;\n    var dim = axis.dim;\n    var snapToValue = value;\n    var payloadBatch = [];\n    var minDist = Number.MAX_VALUE;\n    var minDiff = -1;\n    each$n(axisInfo.seriesModels, function (series, idx) {\n      var dataDim = series.getData().mapDimension(dim, true);\n      var seriesNestestValue;\n      var dataIndices;\n\n      if (series.getAxisTooltipData) {\n        var result = series.getAxisTooltipData(dataDim, value, axis);\n        dataIndices = result.dataIndices;\n        seriesNestestValue = result.nestestValue;\n      } else {\n        dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n        // when data length is not same.\n        // false,\n        axis.type === 'category' ? 0.5 : null);\n\n        if (!dataIndices.length) {\n          return;\n        }\n\n        seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n      }\n\n      if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n        return;\n      }\n\n      var diff = value - seriesNestestValue;\n      var dist = Math.abs(diff); // Consider category case\n\n      if (dist <= minDist) {\n        if (dist < minDist || diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          snapToValue = seriesNestestValue;\n          payloadBatch.length = 0;\n        }\n\n        each$n(dataIndices, function (dataIndex) {\n          payloadBatch.push({\n            seriesIndex: series.seriesIndex,\n            dataIndexInside: dataIndex,\n            dataIndex: series.getData().getRawIndex(dataIndex)\n          });\n        });\n      }\n    });\n    return {\n      payloadBatch: payloadBatch,\n      snapToValue: snapToValue\n    };\n  }\n\n  function showPointer(showValueMap, axisInfo, value, payloadBatch) {\n    showValueMap[axisInfo.key] = {\n      value: value,\n      payloadBatch: payloadBatch\n    };\n  }\n\n  function showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n    var payloadBatch = payloadInfo.payloadBatch;\n    var axis = axisInfo.axis;\n    var axisModel = axis.model;\n    var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n    // whose length will be used to judge whether dispatch action.\n\n    if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n      return;\n    }\n\n    var coordSysModel = axisInfo.coordSys.model;\n    var coordSysKey = modelHelper.makeKey(coordSysModel);\n    var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n    if (!coordSysItem) {\n      coordSysItem = dataByCoordSys.map[coordSysKey] = {\n        coordSysId: coordSysModel.id,\n        coordSysIndex: coordSysModel.componentIndex,\n        coordSysType: coordSysModel.type,\n        coordSysMainType: coordSysModel.mainType,\n        dataByAxis: []\n      };\n      dataByCoordSys.list.push(coordSysItem);\n    }\n\n    coordSysItem.dataByAxis.push({\n      axisDim: axis.dim,\n      axisIndex: axisModel.componentIndex,\n      axisType: axisModel.type,\n      axisId: axisModel.id,\n      value: value,\n      // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n      // depends that all models have been updated. So it should not be performed\n      // here. Considering axisPointerModel used here is volatile, which is hard\n      // to be retrieve in TooltipView, we prepare parameters here.\n      valueLabelOpt: {\n        precision: axisPointerModel.get('label.precision'),\n        formatter: axisPointerModel.get('label.formatter')\n      },\n      seriesDataIndices: payloadBatch.slice()\n    });\n  }\n\n  function updateModelActually(showValueMap, axesInfo, outputFinder) {\n    var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n    each$n(axesInfo, function (axisInfo, key) {\n      var option = axisInfo.axisPointerModel.option;\n      var valItem = showValueMap[key];\n\n      if (valItem) {\n        !axisInfo.useHandle && (option.status = 'show');\n        option.value = valItem.value; // For label formatter param and highlight.\n\n        option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n      } // When always show (e.g., handle used), remain\n      // original value and status.\n      else {\n          // If hide, value still need to be set, consider\n          // click legend to toggle axis blank.\n          !axisInfo.useHandle && (option.status = 'hide');\n        } // If status is 'hide', should be no info in payload.\n\n\n      option.status === 'show' && outputAxesInfo.push({\n        axisDim: axisInfo.axis.dim,\n        axisIndex: axisInfo.axis.model.componentIndex,\n        value: option.value\n      });\n    });\n  }\n\n  function dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n    // Basic logic: If no showTip required, hideTip will be dispatched.\n    if (illegalPoint(point) || !dataByCoordSys.list.length) {\n      dispatchAction({\n        type: 'hideTip'\n      });\n      return;\n    } // In most case only one axis (or event one series is used). It is\n    // convinient to fetch payload.seriesIndex and payload.dataIndex\n    // dirtectly. So put the first seriesIndex and dataIndex of the first\n    // axis on the payload.\n\n\n    var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n    dispatchAction({\n      type: 'showTip',\n      escapeConnect: true,\n      x: point[0],\n      y: point[1],\n      tooltipOption: payload.tooltipOption,\n      position: payload.position,\n      dataIndexInside: sampleItem.dataIndexInside,\n      dataIndex: sampleItem.dataIndex,\n      seriesIndex: sampleItem.seriesIndex,\n      dataByCoordSys: dataByCoordSys.list\n    });\n  }\n\n  function dispatchHighDownActually(axesInfo, dispatchAction, api) {\n    // FIXME\n    // highlight status modification shoule be a stage of main process?\n    // (Consider confilct (e.g., legend and axisPointer) and setOption)\n    var zr = api.getZr();\n    var highDownKey = 'axisPointerLastHighlights';\n    var lastHighlights = inner$7(zr)[highDownKey] || {};\n    var newHighlights = inner$7(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n    // Build hash map and remove duplicate incidentally.\n\n    each$n(axesInfo, function (axisInfo, key) {\n      var option = axisInfo.axisPointerModel.option;\n      option.status === 'show' && each$n(option.seriesDataIndices, function (batchItem) {\n        var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n        newHighlights[key] = batchItem;\n      });\n    }); // Diff.\n\n    var toHighlight = [];\n    var toDownplay = [];\n    util.each(lastHighlights, function (batchItem, key) {\n      !newHighlights[key] && toDownplay.push(batchItem);\n    });\n    util.each(newHighlights, function (batchItem, key) {\n      !lastHighlights[key] && toHighlight.push(batchItem);\n    });\n    toDownplay.length && api.dispatchAction({\n      type: 'downplay',\n      escapeConnect: true,\n      batch: toDownplay\n    });\n    toHighlight.length && api.dispatchAction({\n      type: 'highlight',\n      escapeConnect: true,\n      batch: toHighlight\n    });\n  }\n\n  function findInputAxisInfo(inputAxesInfo, axisInfo) {\n    for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n      var inputAxisInfo = inputAxesInfo[i];\n\n      if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n        return inputAxisInfo;\n      }\n    }\n  }\n\n  function makeMapperParam(axisInfo) {\n    var axisModel = axisInfo.axis.model;\n    var item = {};\n    var dim = item.axisDim = axisInfo.axis.dim;\n    item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n    item.axisName = item[dim + 'AxisName'] = axisModel.name;\n    item.axisId = item[dim + 'AxisId'] = axisModel.id;\n    return item;\n  }\n\n  function illegalPoint(point) {\n    return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n  }\n\n  var axisTrigger = _default$1N;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisPointerModel = echarts.extendComponentModel({\n    type: 'axisPointer',\n    coordSysAxesInfo: null,\n    defaultOption: {\n      // 'auto' means that show when triggered by tooltip or handle.\n      show: 'auto',\n      // 'click' | 'mousemove' | 'none'\n      triggerOn: null,\n      // set default in AxisPonterView.js\n      zlevel: 0,\n      z: 50,\n      type: 'line',\n      // 'line' 'shadow' 'cross' 'none'.\n      // axispointer triggered by tootip determine snap automatically,\n      // see `modelHelper`.\n      snap: false,\n      triggerTooltip: true,\n      value: null,\n      status: null,\n      // Init value depends on whether handle is used.\n      // [group0, group1, ...]\n      // Each group can be: {\n      //      mapper: function () {},\n      //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n      //      xAxisId: ...,\n      //      yAxisName: ...,\n      //      angleAxisIndex: ...\n      // }\n      // mapper: can be ignored.\n      //      input: {axisInfo, value}\n      //      output: {axisInfo, value}\n      link: [],\n      // Do not set 'auto' here, otherwise global animation: false\n      // will not effect at this axispointer.\n      animation: null,\n      animationDurationUpdate: 200,\n      lineStyle: {\n        color: '#aaa',\n        width: 1,\n        type: 'solid'\n      },\n      shadowStyle: {\n        color: 'rgba(150,150,150,0.3)'\n      },\n      label: {\n        show: true,\n        formatter: null,\n        // string | Function\n        precision: 'auto',\n        // Or a number like 0, 1, 2 ...\n        margin: 3,\n        color: '#fff',\n        padding: [5, 7, 5, 7],\n        backgroundColor: 'auto',\n        // default: axis line color\n        borderColor: null,\n        borderWidth: 0,\n        shadowBlur: 3,\n        shadowColor: '#aaa' // Considering applicability, common style should\n        // better not have shadowOffset.\n        // shadowOffsetX: 0,\n        // shadowOffsetY: 2\n\n      },\n      handle: {\n        show: false,\n\n        /* eslint-disable */\n        icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n        // jshint ignore:line\n\n        /* eslint-enable */\n        size: 45,\n        // handle margin is from symbol center to axis, which is stable when circular move.\n        margin: 50,\n        // color: '#1b8bbd'\n        // color: '#2f4554'\n        color: '#333',\n        shadowBlur: 3,\n        shadowColor: '#aaa',\n        shadowOffsetX: 0,\n        shadowOffsetY: 2,\n        // For mobile performance\n        throttle: 40\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$8 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$8 = makeInner$8();\n  var each$o = util.each;\n  /**\n   * @param {string} key\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Function} handler\n   *      param: {string} currTrigger\n   *      param: {Array.<number>} point\n   */\n\n  function register(key, api, handler) {\n    if (env_1.node) {\n      return;\n    }\n\n    var zr = api.getZr();\n    inner$8(zr).records || (inner$8(zr).records = {});\n    initGlobalListeners(zr, api);\n    var record = inner$8(zr).records[key] || (inner$8(zr).records[key] = {});\n    record.handler = handler;\n  }\n\n  function initGlobalListeners(zr, api) {\n    if (inner$8(zr).initialized) {\n      return;\n    }\n\n    inner$8(zr).initialized = true;\n    useHandler('click', util.curry(doEnter, 'click'));\n    useHandler('mousemove', util.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n    useHandler('globalout', onLeave);\n\n    function useHandler(eventType, cb) {\n      zr.on(eventType, function (e) {\n        var dis = makeDispatchAction(api);\n        each$o(inner$8(zr).records, function (record) {\n          record && cb(record, e, dis.dispatchAction);\n        });\n        dispatchTooltipFinally(dis.pendings, api);\n      });\n    }\n  }\n\n  function dispatchTooltipFinally(pendings, api) {\n    var showLen = pendings.showTip.length;\n    var hideLen = pendings.hideTip.length;\n    var actuallyPayload;\n\n    if (showLen) {\n      actuallyPayload = pendings.showTip[showLen - 1];\n    } else if (hideLen) {\n      actuallyPayload = pendings.hideTip[hideLen - 1];\n    }\n\n    if (actuallyPayload) {\n      actuallyPayload.dispatchAction = null;\n      api.dispatchAction(actuallyPayload);\n    }\n  }\n\n  function onLeave(record, e, dispatchAction) {\n    record.handler('leave', null, dispatchAction);\n  }\n\n  function doEnter(currTrigger, record, e, dispatchAction) {\n    record.handler(currTrigger, e, dispatchAction);\n  }\n\n  function makeDispatchAction(api) {\n    var pendings = {\n      showTip: [],\n      hideTip: []\n    }; // FIXME\n    // better approach?\n    // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n    // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n    // So we have to add \"final stage\" to merge those dispatched actions.\n\n    var dispatchAction = function (payload) {\n      var pendingList = pendings[payload.type];\n\n      if (pendingList) {\n        pendingList.push(payload);\n      } else {\n        payload.dispatchAction = dispatchAction;\n        api.dispatchAction(payload);\n      }\n    };\n\n    return {\n      dispatchAction: dispatchAction,\n      pendings: pendings\n    };\n  }\n  /**\n   * @param {string} key\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n\n  function unregister(key, api) {\n    if (env_1.node) {\n      return;\n    }\n\n    var zr = api.getZr();\n    var record = (inner$8(zr).records || {})[key];\n\n    if (record) {\n      inner$8(zr).records[key] = null;\n    }\n  }\n\n  var register_1 = register;\n  var unregister_1 = unregister;\n\n  var globalListener = {\n  \tregister: register_1,\n  \tunregister: unregister_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisPointerView = echarts.extendComponentView({\n    type: 'axisPointer',\n    render: function (globalAxisPointerModel, ecModel, api) {\n      var globalTooltipModel = ecModel.getComponent('tooltip');\n      var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n      // AxisPointerView to be independent to Tooltip.\n\n      globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n        // If 'none', it is not controlled by mouse totally.\n        if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n          dispatchAction({\n            type: 'updateAxisPointer',\n            currTrigger: currTrigger,\n            x: e && e.offsetX,\n            y: e && e.offsetY\n          });\n        }\n      });\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n      globalListener.unregister(api.getZr(), 'axisPointer');\n      AxisPointerView.superApply(this._model, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n      globalListener.unregister('axisPointer', api);\n      AxisPointerView.superApply(this._model, 'dispose', arguments);\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var makeInner$9 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$9 = makeInner$9();\n  var clone$7 = util.clone;\n  var bind$2 = util.bind;\n  /**\n   * Base axis pointer class in 2D.\n   * Implemenents {module:echarts/component/axis/IAxisPointer}.\n   */\n\n  function BaseAxisPointer() {}\n\n  BaseAxisPointer.prototype = {\n    /**\n     * @private\n     */\n    _group: null,\n\n    /**\n     * @private\n     */\n    _lastGraphicKey: null,\n\n    /**\n     * @private\n     */\n    _handle: null,\n\n    /**\n     * @private\n     */\n    _dragging: false,\n\n    /**\n     * @private\n     */\n    _lastValue: null,\n\n    /**\n     * @private\n     */\n    _lastStatus: null,\n\n    /**\n     * @private\n     */\n    _payloadInfo: null,\n\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     * @protected\n     */\n    animationThreshold: 15,\n\n    /**\n     * @implement\n     */\n    render: function (axisModel, axisPointerModel, api, forceRender) {\n      var value = axisPointerModel.get('value');\n      var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n      // be replaced when user calling setOption in not merge mode.\n\n      this._axisModel = axisModel;\n      this._axisPointerModel = axisPointerModel;\n      this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n      // So it is power consuming if performing `render` each time,\n      // especially on mobile device.\n\n      if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n        return;\n      }\n\n      this._lastValue = value;\n      this._lastStatus = status;\n      var group = this._group;\n      var handle = this._handle;\n\n      if (!status || status === 'hide') {\n        // Do not clear here, for animation better.\n        group && group.hide();\n        handle && handle.hide();\n        return;\n      }\n\n      group && group.show();\n      handle && handle.show(); // Otherwise status is 'show'\n\n      var elOption = {};\n      this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n      var graphicKey = elOption.graphicKey;\n\n      if (graphicKey !== this._lastGraphicKey) {\n        this.clear(api);\n      }\n\n      this._lastGraphicKey = graphicKey;\n      var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n      if (!group) {\n        group = this._group = new graphic.Group();\n        this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n        this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n        api.getZr().add(group);\n      } else {\n        var doUpdateProps = util.curry(updateProps$1, axisPointerModel, moveAnimation);\n        this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n        this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n      }\n\n      updateMandatoryProps(group, axisPointerModel, true);\n\n      this._renderHandle(value);\n    },\n\n    /**\n     * @implement\n     */\n    remove: function (api) {\n      this.clear(api);\n    },\n\n    /**\n     * @implement\n     */\n    dispose: function (api) {\n      this.clear(api);\n    },\n\n    /**\n     * @protected\n     */\n    determineAnimation: function (axisModel, axisPointerModel) {\n      var animation = axisPointerModel.get('animation');\n      var axis = axisModel.axis;\n      var isCategoryAxis = axis.type === 'category';\n      var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n      if (!useSnap && !isCategoryAxis) {\n        return false;\n      }\n\n      if (animation === 'auto' || animation == null) {\n        var animationThreshold = this.animationThreshold;\n\n        if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n          return true;\n        } // It is important to auto animation when snap used. Consider if there is\n        // a dataZoom, animation will be disabled when too many points exist, while\n        // it will be enabled for better visual effect when little points exist.\n\n\n        if (useSnap) {\n          var seriesDataCount = modelHelper.getAxisInfo(axisModel).seriesDataCount;\n          var axisExtent = axis.getExtent(); // Approximate band width\n\n          return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n        }\n\n        return false;\n      }\n\n      return animation === true;\n    },\n\n    /**\n     * add {pointer, label, graphicKey} to elOption\n     * @protected\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n    },\n\n    /**\n     * @protected\n     */\n    createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n      var pointerOption = elOption.pointer;\n\n      if (pointerOption) {\n        var pointerEl = inner$9(group).pointerEl = new graphic[pointerOption.type](clone$7(elOption.pointer));\n        group.add(pointerEl);\n      }\n    },\n\n    /**\n     * @protected\n     */\n    createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n      if (elOption.label) {\n        var labelEl = inner$9(group).labelEl = new graphic.Rect(clone$7(elOption.label));\n        group.add(labelEl);\n        updateLabelShowHide(labelEl, axisPointerModel);\n      }\n    },\n\n    /**\n     * @protected\n     */\n    updatePointerEl: function (group, elOption, updateProps) {\n      var pointerEl = inner$9(group).pointerEl;\n\n      if (pointerEl && elOption.pointer) {\n        pointerEl.setStyle(elOption.pointer.style);\n        updateProps(pointerEl, {\n          shape: elOption.pointer.shape\n        });\n      }\n    },\n\n    /**\n     * @protected\n     */\n    updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n      var labelEl = inner$9(group).labelEl;\n\n      if (labelEl) {\n        labelEl.setStyle(elOption.label.style);\n        updateProps(labelEl, {\n          // Consider text length change in vertical axis, animation should\n          // be used on shape, otherwise the effect will be weird.\n          shape: elOption.label.shape,\n          position: elOption.label.position\n        });\n        updateLabelShowHide(labelEl, axisPointerModel);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _renderHandle: function (value) {\n      if (this._dragging || !this.updateHandleTransform) {\n        return;\n      }\n\n      var axisPointerModel = this._axisPointerModel;\n\n      var zr = this._api.getZr();\n\n      var handle = this._handle;\n      var handleModel = axisPointerModel.getModel('handle');\n      var status = axisPointerModel.get('status');\n\n      if (!handleModel.get('show') || !status || status === 'hide') {\n        handle && zr.remove(handle);\n        this._handle = null;\n        return;\n      }\n\n      var isInit;\n\n      if (!this._handle) {\n        isInit = true;\n        handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n          cursor: 'move',\n          draggable: true,\n          onmousemove: function (e) {\n            // Fot mobile devicem, prevent screen slider on the button.\n            event.stop(e.event);\n          },\n          onmousedown: bind$2(this._onHandleDragMove, this, 0, 0),\n          drift: bind$2(this._onHandleDragMove, this),\n          ondragend: bind$2(this._onHandleDragEnd, this)\n        });\n        zr.add(handle);\n      }\n\n      updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n      var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n      handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n      var handleSize = handleModel.get('size');\n\n      if (!util.isArray(handleSize)) {\n        handleSize = [handleSize, handleSize];\n      }\n\n      handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n      throttle_1.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n      this._moveHandleToValue(value, isInit);\n    },\n\n    /**\n     * @private\n     */\n    _moveHandleToValue: function (value, isInit) {\n      updateProps$1(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragMove: function (dx, dy) {\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      this._dragging = true; // Persistent for throttle.\n\n      var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n      this._payloadInfo = trans;\n      handle.stopAnimation();\n      handle.attr(getHandleTransProps(trans));\n      inner$9(handle).lastProp = null;\n\n      this._doDispatchAxisPointer();\n    },\n\n    /**\n     * Throttled method.\n     * @private\n     */\n    _doDispatchAxisPointer: function () {\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      var payloadInfo = this._payloadInfo;\n      var axisModel = this._axisModel;\n\n      this._api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payloadInfo.cursorPoint[0],\n        y: payloadInfo.cursorPoint[1],\n        tooltipOption: payloadInfo.tooltipOption,\n        axesInfo: [{\n          axisDim: axisModel.axis.dim,\n          axisIndex: axisModel.componentIndex\n        }]\n      });\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragEnd: function (moveAnimation) {\n      this._dragging = false;\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n      // axisPointer. So move handle to align the exact value position when\n      // drag ended.\n\n\n      this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n      // button, and will be hidden after finger left handle button.\n\n\n      this._api.dispatchAction({\n        type: 'hideTip'\n      });\n    },\n\n    /**\n     * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {number} value\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0}\n     */\n    getHandleTransform: null,\n\n    /**\n     * * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {Object} transform {position, rotation}\n     * @param {Array.<number>} delta [dx, dy]\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n     */\n    updateHandleTransform: null,\n\n    /**\n     * @private\n     */\n    clear: function (api) {\n      this._lastValue = null;\n      this._lastStatus = null;\n      var zr = api.getZr();\n      var group = this._group;\n      var handle = this._handle;\n\n      if (zr && group) {\n        this._lastGraphicKey = null;\n        group && zr.remove(group);\n        handle && zr.remove(handle);\n        this._group = null;\n        this._handle = null;\n        this._payloadInfo = null;\n      }\n    },\n\n    /**\n     * @protected\n     */\n    doClear: function () {// Implemented by sub-class if necessary.\n    },\n\n    /**\n     * @protected\n     * @param {Array.<number>} xy\n     * @param {Array.<number>} wh\n     * @param {number} [xDimIndex=0] or 1\n     */\n    buildLabel: function (xy, wh, xDimIndex) {\n      xDimIndex = xDimIndex || 0;\n      return {\n        x: xy[xDimIndex],\n        y: xy[1 - xDimIndex],\n        width: wh[xDimIndex],\n        height: wh[1 - xDimIndex]\n      };\n    }\n  };\n  BaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\n  function updateProps$1(animationModel, moveAnimation, el, props) {\n    // Animation optimize.\n    if (!propsEqual(inner$9(el).lastProp, props)) {\n      inner$9(el).lastProp = props;\n      moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n    }\n  }\n\n  function propsEqual(lastProps, newProps) {\n    if (util.isObject(lastProps) && util.isObject(newProps)) {\n      var equals = true;\n      util.each(newProps, function (item, key) {\n        equals = equals && propsEqual(lastProps[key], item);\n      });\n      return !!equals;\n    } else {\n      return lastProps === newProps;\n    }\n  }\n\n  function updateLabelShowHide(labelEl, axisPointerModel) {\n    labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n  }\n\n  function getHandleTransProps(trans) {\n    return {\n      position: trans.position.slice(),\n      rotation: trans.rotation || 0\n    };\n  }\n\n  function updateMandatoryProps(group, axisPointerModel, silent) {\n    var z = axisPointerModel.get('z');\n    var zlevel = axisPointerModel.get('zlevel');\n    group && group.traverse(function (el) {\n      if (el.type !== 'group') {\n        z != null && (el.z = z);\n        zlevel != null && (el.zlevel = zlevel);\n        el.silent = silent;\n      }\n    });\n  }\n\n  clazz.enableClassExtend(BaseAxisPointer);\n  var _default$1O = BaseAxisPointer;\n  var BaseAxisPointer_1 = _default$1O;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/model/Model} axisPointerModel\n   */\n  function buildElStyle(axisPointerModel) {\n    var axisPointerType = axisPointerModel.get('type');\n    var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n    var style;\n\n    if (axisPointerType === 'line') {\n      style = styleModel.getLineStyle();\n      style.fill = null;\n    } else if (axisPointerType === 'shadow') {\n      style = styleModel.getAreaStyle();\n      style.stroke = null;\n    }\n\n    return style;\n  }\n  /**\n   * @param {Function} labelPos {align, verticalAlign, position}\n   */\n\n\n  function buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n    var value = axisPointerModel.get('value');\n    var text$1 = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    });\n    var labelModel = axisPointerModel.getModel('label');\n    var paddings = format$1.normalizeCssArray(labelModel.get('padding') || 0);\n    var font = labelModel.getFont();\n    var textRect = text.getBoundingRect(text$1, font);\n    var position = labelPos.position;\n    var width = textRect.width + paddings[1] + paddings[3];\n    var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n    var align = labelPos.align;\n    align === 'right' && (position[0] -= width);\n    align === 'center' && (position[0] -= width / 2);\n    var verticalAlign = labelPos.verticalAlign;\n    verticalAlign === 'bottom' && (position[1] -= height);\n    verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n    confineInContainer(position, width, height, api);\n    var bgColor = labelModel.get('backgroundColor');\n\n    if (!bgColor || bgColor === 'auto') {\n      bgColor = axisModel.get('axisLine.lineStyle.color');\n    }\n\n    elOption.label = {\n      shape: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        r: labelModel.get('borderRadius')\n      },\n      position: position.slice(),\n      // TODO: rich\n      style: {\n        text: text$1,\n        textFont: font,\n        textFill: labelModel.getTextColor(),\n        textPosition: 'inside',\n        textPadding: paddings,\n        fill: bgColor,\n        stroke: labelModel.get('borderColor') || 'transparent',\n        lineWidth: labelModel.get('borderWidth') || 0,\n        shadowBlur: labelModel.get('shadowBlur'),\n        shadowColor: labelModel.get('shadowColor'),\n        shadowOffsetX: labelModel.get('shadowOffsetX'),\n        shadowOffsetY: labelModel.get('shadowOffsetY')\n      },\n      // Lable should be over axisPointer.\n      z2: 10\n    };\n  } // Do not overflow ec container\n\n\n  function confineInContainer(position, width, height, api) {\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    position[0] = Math.min(position[0] + width, viewWidth) - width;\n    position[1] = Math.min(position[1] + height, viewHeight) - height;\n    position[0] = Math.max(position[0], 0);\n    position[1] = Math.max(position[1], 0);\n  }\n  /**\n   * @param {number} value\n   * @param {module:echarts/coord/Axis} axis\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Object} opt\n   * @param {Array.<Object>} seriesDataIndices\n   * @param {number|string} opt.precision 'auto' or a number\n   * @param {string|Function} opt.formatter label formatter\n   */\n\n\n  function getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n    value = axis.scale.parse(value);\n    var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n    // helps to debounce when when moving label.\n    value, {\n      precision: opt.precision\n    });\n    var formatter = opt.formatter;\n\n    if (formatter) {\n      var params = {\n        value: axisHelper.getAxisRawValue(axis, value),\n        axisDimension: axis.dim,\n        axisIndex: axis.index,\n        seriesData: []\n      };\n      util.each(seriesDataIndices, function (idxItem) {\n        var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n        var dataIndex = idxItem.dataIndexInside;\n        var dataParams = series && series.getDataParams(dataIndex);\n        dataParams && params.seriesData.push(dataParams);\n      });\n\n      if (util.isString(formatter)) {\n        text = formatter.replace('{value}', text);\n      } else if (util.isFunction(formatter)) {\n        text = formatter(params);\n      }\n    }\n\n    return text;\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @param {number} value\n   * @param {Object} layoutInfo {\n   *  rotation, position, labelOffset, labelDirection, labelMargin\n   * }\n   */\n\n\n  function getTransformedPosition(axis, value, layoutInfo) {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, layoutInfo.rotation);\n    matrix.translate(transform, transform, layoutInfo.position);\n    return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n  }\n\n  function buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n    var textLayout = AxisBuilder_1.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n    layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n    buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n      position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n      align: textLayout.textAlign,\n      verticalAlign: textLayout.textVerticalAlign\n    });\n  }\n  /**\n   * @param {Array.<number>} p1\n   * @param {Array.<number>} p2\n   * @param {number} [xDimIndex=0] or 1\n   */\n\n\n  function makeLineShape(p1, p2, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x1: p1[xDimIndex],\n      y1: p1[1 - xDimIndex],\n      x2: p2[xDimIndex],\n      y2: p2[1 - xDimIndex]\n    };\n  }\n  /**\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n\n\n  function makeRectShape(xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n\n  function makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n    return {\n      cx: cx,\n      cy: cy,\n      r0: r0,\n      r: r,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      clockwise: true\n    };\n  }\n\n  var buildElStyle_1 = buildElStyle;\n  var buildLabelElOption_1 = buildLabelElOption;\n  var getValueLabel_1 = getValueLabel;\n  var getTransformedPosition_1 = getTransformedPosition;\n  var buildCartesianSingleLabelElOption_1 = buildCartesianSingleLabelElOption;\n  var makeLineShape_1 = makeLineShape;\n  var makeRectShape_1 = makeRectShape;\n  var makeSectorShape_1 = makeSectorShape;\n\n  var viewHelper = {\n  \tbuildElStyle: buildElStyle_1,\n  \tbuildLabelElOption: buildLabelElOption_1,\n  \tgetValueLabel: getValueLabel_1,\n  \tgetTransformedPosition: getTransformedPosition_1,\n  \tbuildCartesianSingleLabelElOption: buildCartesianSingleLabelElOption_1,\n  \tmakeLineShape: makeLineShape_1,\n  \tmakeRectShape: makeRectShape_1,\n  \tmakeSectorShape: makeSectorShape_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var CartesianAxisPointer = BaseAxisPointer_1.extend({\n    /**\n     * @override\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n      var axis = axisModel.axis;\n      var grid = axis.grid;\n      var axisPointerType = axisPointerModel.get('type');\n      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n      var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n      if (axisPointerType && axisPointerType !== 'none') {\n        var elStyle = viewHelper.buildElStyle(axisPointerModel);\n        var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n        pointerOption.style = elStyle;\n        elOption.graphicKey = pointerOption.type;\n        elOption.pointer = pointerOption;\n      }\n\n      var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n      viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n    },\n\n    /**\n     * @override\n     */\n    getHandleTransform: function (value, axisModel, axisPointerModel) {\n      var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n        labelInside: false\n      });\n      layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n      return {\n        position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n        rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n      };\n    },\n\n    /**\n     * @override\n     */\n    updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n      var axis = axisModel.axis;\n      var grid = axis.grid;\n      var axisExtent = axis.getGlobalExtent(true);\n      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n      var dimIndex = axis.dim === 'x' ? 0 : 1;\n      var currPosition = transform.position;\n      currPosition[dimIndex] += delta[dimIndex];\n      currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n      currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n      var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n      var cursorPoint = [cursorOtherValue, cursorOtherValue];\n      cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n      var tooltipOptions = [{\n        verticalAlign: 'middle'\n      }, {\n        align: 'center'\n      }];\n      return {\n        position: currPosition,\n        rotation: transform.rotation,\n        cursorPoint: cursorPoint,\n        tooltipOption: tooltipOptions[dimIndex]\n      };\n    }\n  });\n\n  function getCartesian(grid, axis) {\n    var opt = {};\n    opt[axis.dim + 'AxisIndex'] = axis.index;\n    return grid.getCartesian(opt);\n  }\n\n  var pointerShapeBuilder = {\n    line: function (axis, pixelValue, otherExtent) {\n      var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n      return {\n        type: 'Line',\n        subPixelOptimize: true,\n        shape: targetShape\n      };\n    },\n    shadow: function (axis, pixelValue, otherExtent) {\n      var bandWidth = Math.max(1, axis.getBandWidth());\n      var span = otherExtent[1] - otherExtent[0];\n      return {\n        type: 'Rect',\n        shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n      };\n    }\n  };\n\n  function getAxisDimIndex(axis) {\n    return axis.dim === 'x' ? 0 : 1;\n  }\n\n  AxisView_1.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // CartesianAxisPointer is not supposed to be required here. But consider\n  // echarts.simple.js and online build tooltip, which only require gridSimple,\n  // CartesianAxisPointer should be able to required somewhere.\n  echarts.registerPreprocessor(function (option) {\n    // Always has a global axisPointerModel for default setting.\n    if (option) {\n      (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n      var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n      // is not set, remain null/undefined, otherwise it will\n      // override existent link setting.\n\n      if (link && !util.isArray(link)) {\n        option.axisPointer.link = [link];\n      }\n    }\n  }); // This process should proformed after coordinate systems created\n  // and series data processed. So put it on statistic processing stage.\n\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n    // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n    // allAxesInfo should be updated when setOption performed.\n    ecModel.getComponent('axisPointer').coordSysAxesInfo = modelHelper.collect(ecModel, api);\n  }); // Broadcast to all views.\n\n  echarts.registerAction({\n    type: 'updateAxisPointer',\n    event: 'updateAxisPointer',\n    update: ':updateAxisPointer'\n  }, axisTrigger);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$1P = echarts.extendComponentModel({\n    type: 'tooltip',\n    dependencies: ['axisPointer'],\n    defaultOption: {\n      zlevel: 0,\n      z: 60,\n      show: true,\n      // tooltip\n      showContent: true,\n      // 'trigger' only works on coordinate system.\n      // 'item' | 'axis' | 'none'\n      trigger: 'item',\n      // 'click' | 'mousemove' | 'none'\n      triggerOn: 'mousemove|click',\n      alwaysShowContent: false,\n      displayMode: 'single',\n      // 'single' | 'multipleByCoordSys'\n      renderMode: 'auto',\n      // 'auto' | 'html' | 'richText'\n      // 'auto': use html by default, and use non-html if `document` is not defined\n      // 'html': use html for tooltip\n      // 'richText': use canvas, svg, and etc. for tooltip\n      //  {Array} | {Function}\n      // position: null\n      // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n      // align: null,\n      // verticalAlign: null,\n      //  content  viewRect  false \n      confine: false,\n      // {string}Template  {Function}\n      // formatter: null\n      showDelay: 0,\n      // ms\n      hideDelay: 100,\n      // s\n      transitionDuration: 0.4,\n      enterable: false,\n      // 0.7\n      backgroundColor: 'rgba(50,50,50,0.7)',\n      // \n      borderColor: '#333',\n      // px4\n      borderRadius: 4,\n      // px0\n      borderWidth: 0,\n      // px5\n      // css\n      padding: 5,\n      // Extra css text\n      extraCssText: '',\n      // \n      axisPointer: {\n        // \n        // 'line' | 'shadow' | 'cross'\n        type: 'line',\n        // type  line  tooltip line \n        //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n        //  'auto' category  x \n        //  angle \n        axis: 'auto',\n        animation: 'auto',\n        animationDurationUpdate: 200,\n        animationEasingUpdate: 'exponentialOut',\n        crossStyle: {\n          color: '#999',\n          width: 1,\n          type: 'dashed',\n          // TODO formatter\n          textStyle: {} // lineStyle and shadowStyle should not be specified here,\n          // otherwise it will always override those styles on option.axisPointer.\n\n        }\n      },\n      textStyle: {\n        color: '#fff',\n        fontSize: 14\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$p = util.each;\n  var toCamelCase$1 = format$1.toCamelCase;\n  var vendors = ['', '-webkit-', '-moz-', '-o-'];\n  var gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n  /**\n   * @param {number} duration\n   * @return {string}\n   * @inner\n   */\n\n  function assembleTransition(duration) {\n    var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n    var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n    return util.map(vendors, function (vendorPrefix) {\n      return vendorPrefix + 'transition:' + transitionText;\n    }).join(';');\n  }\n  /**\n   * @param {Object} textStyle\n   * @return {string}\n   * @inner\n   */\n\n\n  function assembleFont(textStyleModel) {\n    var cssText = [];\n    var fontSize = textStyleModel.get('fontSize');\n    var color = textStyleModel.getTextColor();\n    color && cssText.push('color:' + color);\n    cssText.push('font:' + textStyleModel.getFont());\n    var lineHeight = textStyleModel.get('lineHeight');\n\n    if (lineHeight == null) {\n      lineHeight = Math.round(fontSize * 3 / 2);\n    }\n\n    fontSize && cssText.push('line-height:' + lineHeight + 'px');\n    var shadowColor = textStyleModel.get('textShadowColor');\n    var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n    var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n    var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n    shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n    each$p(['decoration', 'align'], function (name) {\n      var val = textStyleModel.get(name);\n      val && cssText.push('text-' + name + ':' + val);\n    });\n    return cssText.join(';');\n  }\n  /**\n   * @param {Object} tooltipModel\n   * @return {string}\n   * @inner\n   */\n\n\n  function assembleCssText(tooltipModel) {\n    var cssText = [];\n    var transitionDuration = tooltipModel.get('transitionDuration');\n    var backgroundColor = tooltipModel.get('backgroundColor');\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n    transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n    if (backgroundColor) {\n      if (env_1.canvasSupported) {\n        cssText.push('background-Color:' + backgroundColor);\n      } else {\n        // for ie\n        cssText.push('background-Color:#' + color.toHex(backgroundColor));\n        cssText.push('filter:alpha(opacity=70)');\n      }\n    } // Border style\n\n\n    each$p(['width', 'color', 'radius'], function (name) {\n      var borderName = 'border-' + name;\n      var camelCase = toCamelCase$1(borderName);\n      var val = tooltipModel.get(camelCase);\n      val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n    }); // Text style\n\n    cssText.push(assembleFont(textStyleModel)); // Padding\n\n    if (padding != null) {\n      cssText.push('padding:' + format$1.normalizeCssArray(padding).join('px ') + 'px');\n    }\n\n    return cssText.join(';') + ';';\n  } // If not able to make, do not modify the input `out`.\n\n\n  function makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n    var zrPainter = zr && zr.painter;\n\n    if (appendToBody) {\n      var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n      if (zrViewportRoot) {\n        // Some APPs might use scale on body, so we support CSS transform here.\n        dom.transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n      }\n    } else {\n      out[0] = zrX;\n      out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n      // the sibling of canvas root. So padding of ec container\n      // should be considered here.\n\n      var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n      if (viewportRootOffset) {\n        out[0] += viewportRootOffset.offsetLeft;\n        out[1] += viewportRootOffset.offsetTop;\n      }\n    }\n\n    out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n    out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n  }\n  /**\n   * @alias module:echarts/component/tooltip/TooltipContent\n   * @param {HTMLElement} container\n   * @param {ExtensionAPI} api\n   * @param {Object} [opt]\n   * @param {boolean} [opt.appendToBody]\n   *        `false`: the DOM element will be inside the container. Default value.\n   *        `true`: the DOM element will be appended to HTML body, which avoid\n   *                some overflow clip but intrude outside of the container.\n   * @constructor\n   */\n\n\n  function TooltipContent(container, api, opt) {\n    if (env_1.wxa) {\n      return null;\n    }\n\n    var el = document.createElement('div');\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendToBody = this._appendToBody = opt && opt.appendToBody;\n    this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n    makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n    if (appendToBody) {\n      document.body.appendChild(el);\n    } else {\n      container.appendChild(el);\n    }\n\n    this._container = container;\n    this._show = false;\n    /**\n     * @private\n     */\n\n    this._hideTimeout; // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n\n    var self = this;\n\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    };\n\n    el.onmousemove = function (e) {\n      e = e || window.event;\n\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        event.normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n\n    el.onmouseleave = function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    };\n  }\n\n  TooltipContent.prototype = {\n    constructor: TooltipContent,\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _enterable: true,\n\n    /**\n     * Update when tooltip is rendered\n     */\n    update: function (tooltipModel) {\n      // FIXME\n      // Move this logic to ec main?\n      var container = this._container;\n      var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n      var domStyle = container.style;\n\n      if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n\n      var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      alwaysShowContent && this._moveTooltipIfResized(); // Hide the tooltip\n      // PENDING\n      // this.hide();\n    },\n\n    /**\n     * when `alwaysShowContent` is true,\n     * we should move the tooltip after chart resized\n     */\n    _moveTooltipIfResized: function () {\n      var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n      var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n      var realX = ratioX * this._zr.getWidth();\n\n      var realY = ratioY * this._zr.getHeight();\n\n      this.moveTo(realX, realY);\n    },\n    show: function (tooltipModel) {\n      clearTimeout(this._hideTimeout);\n      var el = this.el;\n      var styleCoord = this._styleCoord;\n      el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n      // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n      // we should set initial value to `left` and `top`.\n      + ';left:' + styleCoord[0] + 'px;top:' + styleCoord[1] + 'px;' + (tooltipModel.get('extraCssText') || '');\n      el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n\n      el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n      this._show = true;\n    },\n    setContent: function (content) {\n      this.el.innerHTML = content == null ? '' : content;\n    },\n    setEnterable: function (enterable) {\n      this._enterable = enterable;\n    },\n    getSize: function () {\n      var el = this.el;\n      return [el.clientWidth, el.clientHeight];\n    },\n    moveTo: function (zrX, zrY) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n      var style = this.el.style;\n      style.left = styleCoord[0] + 'px';\n      style.top = styleCoord[1] + 'px';\n    },\n    hide: function () {\n      this.el.style.display = 'none';\n      this._show = false;\n    },\n    hideLater: function (time) {\n      if (this._show && !(this._inContent && this._enterable)) {\n        if (time) {\n          this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n          this._show = false;\n          this._hideTimeout = setTimeout(util.bind(this.hide, this), time);\n        } else {\n          this.hide();\n        }\n      }\n    },\n    isShow: function () {\n      return this._show;\n    },\n    dispose: function () {\n      this.el.parentNode.removeChild(this.el);\n    },\n    getOuterSize: function () {\n      var width = this.el.clientWidth;\n      var height = this.el.clientHeight; // Consider browser compatibility.\n      // IE8 does not support getComputedStyle.\n\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        var stl = document.defaultView.getComputedStyle(this.el);\n\n        if (stl) {\n          width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n          height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n        }\n      }\n\n      return {\n        width: width,\n        height: height\n      };\n    }\n  };\n  var _default$1Q = TooltipContent;\n  var TooltipContent_1 = _default$1Q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import Group from 'zrender/src/container/Group';\n  function makeStyleCoord$1(out, zr, zrX, zrY) {\n    out[0] = zrX;\n    out[1] = zrY;\n    out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n    out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n  }\n  /**\n   * @alias module:echarts/component/tooltip/TooltipRichContent\n   * @constructor\n   */\n\n\n  function TooltipRichContent(api) {\n    var zr = this._zr = api.getZr();\n    this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n    makeStyleCoord$1(this._styleCoord, zr, api.getWidth() / 2, api.getHeight() / 2);\n    this._show = false;\n    /**\n     * @private\n     */\n\n    this._hideTimeout;\n  }\n\n  TooltipRichContent.prototype = {\n    constructor: TooltipRichContent,\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _enterable: true,\n\n    /**\n     * Update when tooltip is rendered\n     */\n    update: function (tooltipModel) {\n      var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      alwaysShowContent && this._moveTooltipIfResized();\n    },\n\n    /**\n     * when `alwaysShowContent` is true,\n     * we should move the tooltip after chart resized\n     */\n    _moveTooltipIfResized: function () {\n      var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n      var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n      var realX = ratioX * this._zr.getWidth();\n\n      var realY = ratioY * this._zr.getHeight();\n\n      this.moveTo(realX, realY);\n    },\n    show: function (tooltipModel) {\n      if (this._hideTimeout) {\n        clearTimeout(this._hideTimeout);\n      }\n\n      this.el.attr('show', true);\n      this._show = true;\n    },\n\n    /**\n     * Set tooltip content\n     *\n     * @param {string} content rich text string of content\n     * @param {Object} markerRich rich text style\n     * @param {Object} tooltipModel tooltip model\n     */\n    setContent: function (content, markerRich, tooltipModel) {\n      if (this.el) {\n        this._zr.remove(this.el);\n      }\n\n      var markers = {};\n      var text = content;\n      var prefix = '{marker';\n      var suffix = '|}';\n      var startId = text.indexOf(prefix);\n\n      while (startId >= 0) {\n        var endId = text.indexOf(suffix);\n        var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n        if (name.indexOf('sub') > -1) {\n          markers['marker' + name] = {\n            textWidth: 4,\n            textHeight: 4,\n            textBorderRadius: 2,\n            textBackgroundColor: markerRich[name],\n            // TODO: textOffset is not implemented for rich text\n            textOffset: [3, 0]\n          };\n        } else {\n          markers['marker' + name] = {\n            textWidth: 10,\n            textHeight: 10,\n            textBorderRadius: 5,\n            textBackgroundColor: markerRich[name]\n          };\n        }\n\n        text = text.substr(endId + 1);\n        startId = text.indexOf('{marker');\n      }\n\n      var textStyleModel = tooltipModel.getModel('textStyle');\n      var fontSize = textStyleModel.get('fontSize');\n      var lineHeight = tooltipModel.get('textLineHeight');\n\n      if (lineHeight == null) {\n        lineHeight = Math.round(fontSize * 3 / 2);\n      }\n\n      this.el = new Text_1({\n        style: graphic.setTextStyle({}, textStyleModel, {\n          rich: markers,\n          text: content,\n          textBackgroundColor: tooltipModel.get('backgroundColor'),\n          textBorderRadius: tooltipModel.get('borderRadius'),\n          textFill: tooltipModel.get('textStyle.color'),\n          textPadding: tooltipModel.get('padding'),\n          textLineHeight: lineHeight\n        }),\n        z: tooltipModel.get('z')\n      });\n\n      this._zr.add(this.el);\n\n      var self = this;\n      this.el.on('mouseover', function () {\n        // clear the timeout in hideLater and keep showing tooltip\n        if (self._enterable) {\n          clearTimeout(self._hideTimeout);\n          self._show = true;\n        }\n\n        self._inContent = true;\n      });\n      this.el.on('mouseout', function () {\n        if (self._enterable) {\n          if (self._show) {\n            self.hideLater(self._hideDelay);\n          }\n        }\n\n        self._inContent = false;\n      });\n    },\n    setEnterable: function (enterable) {\n      this._enterable = enterable;\n    },\n    getSize: function () {\n      var bounding = this.el.getBoundingRect();\n      return [bounding.width, bounding.height];\n    },\n    moveTo: function (x, y) {\n      if (this.el) {\n        var styleCoord = this._styleCoord;\n        makeStyleCoord$1(styleCoord, this._zr, x, y);\n        this.el.attr('position', [styleCoord[0], styleCoord[1]]);\n      }\n    },\n    hide: function () {\n      if (this.el) {\n        this.el.hide();\n      }\n\n      this._show = false;\n    },\n    hideLater: function (time) {\n      if (this._show && !(this._inContent && this._enterable)) {\n        if (time) {\n          this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n          this._show = false;\n          this._hideTimeout = setTimeout(util.bind(this.hide, this), time);\n        } else {\n          this.hide();\n        }\n      }\n    },\n    isShow: function () {\n      return this._show;\n    },\n    dispose: function () {\n      clearTimeout(this._hideTimeout);\n\n      if (this.el) {\n        this._zr.remove(this.el);\n      }\n    },\n    getOuterSize: function () {\n      var size = this.getSize();\n      return {\n        width: size[0],\n        height: size[1]\n      };\n    }\n  };\n  var _default$1R = TooltipRichContent;\n  var TooltipRichContent_1 = _default$1R;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var getTooltipRenderMode$2 = model.getTooltipRenderMode;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var bind$3 = util.bind;\n  var each$q = util.each;\n  var parsePercent$5 = number.parsePercent;\n  var proxyRect = new graphic.Rect({\n    shape: {\n      x: -1,\n      y: -1,\n      width: 2,\n      height: 2\n    }\n  });\n\n  var _default$1S = echarts.extendComponentView({\n    type: 'tooltip',\n    init: function (ecModel, api) {\n      if (env_1.node) {\n        return;\n      }\n\n      var tooltipModel = ecModel.getComponent('tooltip');\n      var renderMode = tooltipModel.get('renderMode');\n      this._renderMode = getTooltipRenderMode$2(renderMode);\n      var tooltipContent;\n\n      if (this._renderMode === 'html') {\n        tooltipContent = new TooltipContent_1(api.getDom(), api, {\n          appendToBody: tooltipModel.get('appendToBody', true)\n        });\n        this._newLine = '<br/>';\n      } else {\n        tooltipContent = new TooltipRichContent_1(api);\n        this._newLine = '\\n';\n      }\n\n      this._tooltipContent = tooltipContent;\n    },\n    render: function (tooltipModel, ecModel, api) {\n      if (env_1.node) {\n        return;\n      } // Reset\n\n\n      this.group.removeAll();\n      /**\n       * @private\n       * @type {module:echarts/component/tooltip/TooltipModel}\n       */\n\n      this._tooltipModel = tooltipModel;\n      /**\n       * @private\n       * @type {module:echarts/model/Global}\n       */\n\n      this._ecModel = ecModel;\n      /**\n       * @private\n       * @type {module:echarts/ExtensionAPI}\n       */\n\n      this._api = api;\n      /**\n       * Should be cleaned when render.\n       * @private\n       * @type {Array.<Array.<Object>>}\n       */\n\n      this._lastDataByCoordSys = null;\n      /**\n       * @private\n       * @type {boolean}\n       */\n\n      this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      var tooltipContent = this._tooltipContent;\n      tooltipContent.update(tooltipModel);\n      tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n      this._initGlobalListener();\n\n      this._keepShow();\n    },\n    _initGlobalListener: function () {\n      var tooltipModel = this._tooltipModel;\n      var triggerOn = tooltipModel.get('triggerOn');\n      globalListener.register('itemTooltip', this._api, bind$3(function (currTrigger, e, dispatchAction) {\n        // If 'none', it is not controlled by mouse totally.\n        if (triggerOn !== 'none') {\n          if (triggerOn.indexOf(currTrigger) >= 0) {\n            this._tryShow(e, dispatchAction);\n          } else if (currTrigger === 'leave') {\n            this._hide(dispatchAction);\n          }\n        }\n      }, this));\n    },\n    _keepShow: function () {\n      var tooltipModel = this._tooltipModel;\n      var ecModel = this._ecModel;\n      var api = this._api; // Try to keep the tooltip show when refreshing\n\n      if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n      // self.manuallyShowTip({x, y}) might cause tooltip hide,\n      // which is not expected.\n      && tooltipModel.get('triggerOn') !== 'none') {\n        var self = this;\n        clearTimeout(this._refreshUpdateTimeout);\n        this._refreshUpdateTimeout = setTimeout(function () {\n          // Show tip next tick after other charts are rendered\n          // In case highlight action has wrong result\n          // FIXME\n          !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n            x: self._lastX,\n            y: self._lastY\n          });\n        });\n      }\n    },\n\n    /**\n     * Show tip manually by\n     * dispatchAction({\n     *     type: 'showTip',\n     *     x: 10,\n     *     y: 10\n     * });\n     * Or\n     * dispatchAction({\n     *      type: 'showTip',\n     *      seriesIndex: 0,\n     *      dataIndex or dataIndexInside or name\n     * });\n     *\n     *  TODO Batch\n     */\n    manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n      if (payload.from === this.uid || env_1.node) {\n        return;\n      }\n\n      var dispatchAction = makeDispatchAction$1(payload, api); // Reset ticket\n\n      this._ticket = ''; // When triggered from axisPointer.\n\n      var dataByCoordSys = payload.dataByCoordSys;\n\n      if (payload.tooltip && payload.x != null && payload.y != null) {\n        var el = proxyRect;\n        el.position = [payload.x, payload.y];\n        el.update();\n        el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          target: el\n        }, dispatchAction);\n      } else if (dataByCoordSys) {\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          position: payload.position,\n          dataByCoordSys: payload.dataByCoordSys,\n          tooltipOption: payload.tooltipOption\n        }, dispatchAction);\n      } else if (payload.seriesIndex != null) {\n        if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n          return;\n        }\n\n        var pointInfo = findPointFromSeries(payload, ecModel);\n        var cx = pointInfo.point[0];\n        var cy = pointInfo.point[1];\n\n        if (cx != null && cy != null) {\n          this._tryShow({\n            offsetX: cx,\n            offsetY: cy,\n            position: payload.position,\n            target: pointInfo.el\n          }, dispatchAction);\n        }\n      } else if (payload.x != null && payload.y != null) {\n        // FIXME\n        // should wrap dispatchAction like `axisPointer/globalListener` ?\n        api.dispatchAction({\n          type: 'updateAxisPointer',\n          x: payload.x,\n          y: payload.y\n        });\n\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          position: payload.position,\n          target: api.getZr().findHover(payload.x, payload.y).target\n        }, dispatchAction);\n      }\n    },\n    manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n      var tooltipContent = this._tooltipContent;\n\n      if (!this._alwaysShowContent && this._tooltipModel) {\n        tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n      }\n\n      this._lastX = this._lastY = null;\n\n      if (payload.from !== this.uid) {\n        this._hide(makeDispatchAction$1(payload, api));\n      }\n    },\n    // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n    // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n    // and tooltip.\n    _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n      var seriesIndex = payload.seriesIndex;\n      var dataIndex = payload.dataIndex;\n      var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n      if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n        return;\n      }\n\n      var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n      if (!seriesModel) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n      if (tooltipModel.get('trigger') !== 'axis') {\n        return;\n      }\n\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        seriesIndex: seriesIndex,\n        dataIndex: dataIndex,\n        position: payload.position\n      });\n      return true;\n    },\n    _tryShow: function (e, dispatchAction) {\n      var el = e.target;\n      var tooltipModel = this._tooltipModel;\n\n      if (!tooltipModel) {\n        return;\n      } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n      this._lastX = e.offsetX;\n      this._lastY = e.offsetY;\n      var dataByCoordSys = e.dataByCoordSys;\n\n      if (dataByCoordSys && dataByCoordSys.length) {\n        this._showAxisTooltip(dataByCoordSys, e);\n      } // Always show item tooltip if mouse is on the element with dataIndex\n      else if (el && el.dataIndex != null) {\n          this._lastDataByCoordSys = null;\n\n          this._showSeriesItemTooltip(e, el, dispatchAction);\n        } // Tooltip provided directly. Like legend.\n        else if (el && el.tooltip) {\n            this._lastDataByCoordSys = null;\n\n            this._showComponentItemTooltip(e, el, dispatchAction);\n          } else {\n            this._lastDataByCoordSys = null;\n\n            this._hide(dispatchAction);\n          }\n    },\n    _showOrMove: function (tooltipModel, cb) {\n      // showDelay is used in this case: tooltip.enterable is set\n      // as true. User intent to move mouse into tooltip and click\n      // something. `showDelay` makes it easier to enter the content\n      // but tooltip do not move immediately.\n      var delay = tooltipModel.get('showDelay');\n      cb = util.bind(cb, this);\n      clearTimeout(this._showTimout);\n      delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n    },\n    _showAxisTooltip: function (dataByCoordSys, e) {\n      var ecModel = this._ecModel;\n      var globalTooltipModel = this._tooltipModel;\n      var point = [e.offsetX, e.offsetY];\n      var singleDefaultHTML = [];\n      var singleParamsList = [];\n      var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n      var renderMode = this._renderMode;\n      var newLine = this._newLine;\n      var markers = {};\n      each$q(dataByCoordSys, function (itemCoordSys) {\n        // var coordParamList = [];\n        // var coordDefaultHTML = [];\n        // var coordTooltipModel = buildTooltipModel([\n        //     e.tooltipOption,\n        //     itemCoordSys.tooltipOption,\n        //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n        //     globalTooltipModel\n        // ]);\n        // var displayMode = coordTooltipModel.get('displayMode');\n        // var paramsList = displayMode === 'single' ? singleParamsList : [];\n        each$q(itemCoordSys.dataByAxis, function (item) {\n          var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n          var axisValue = item.value;\n          var seriesDefaultHTML = [];\n\n          if (!axisModel || axisValue == null) {\n            return;\n          }\n\n          var valueLabel = viewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n          util.each(item.seriesDataIndices, function (idxItem) {\n            var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n            var dataIndex = idxItem.dataIndexInside;\n            var dataParams = series && series.getDataParams(dataIndex);\n            dataParams.axisDim = item.axisDim;\n            dataParams.axisIndex = item.axisIndex;\n            dataParams.axisType = item.axisType;\n            dataParams.axisId = item.axisId;\n            dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n            dataParams.axisValueLabel = valueLabel;\n\n            if (dataParams) {\n              singleParamsList.push(dataParams);\n              var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n              var html;\n\n              if (util.isObject(seriesTooltip)) {\n                html = seriesTooltip.html;\n                var newMarkers = seriesTooltip.markers;\n                util.merge(markers, newMarkers);\n              } else {\n                html = seriesTooltip;\n              }\n\n              seriesDefaultHTML.push(html);\n            }\n          }); // Default tooltip content\n          // FIXME\n          // (1) should be the first data which has name?\n          // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n          var firstLine = valueLabel;\n\n          if (renderMode !== 'html') {\n            singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n          } else {\n            singleDefaultHTML.push((firstLine ? format$1.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n          }\n        });\n      }, this); // In most case, the second axis is shown upper than the first one.\n\n      singleDefaultHTML.reverse();\n      singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n      var positionExpr = e.position;\n\n      this._showOrMove(singleTooltipModel, function () {\n        if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n          this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n        } else {\n          this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n        }\n      }); // Do not trigger events here, because this branch only be entered\n      // from dispatchAction.\n\n    },\n    _showSeriesItemTooltip: function (e, el, dispatchAction) {\n      var ecModel = this._ecModel; // Use dataModel in element if possible\n      // Used when mouseover on a element like markPoint or edge\n      // In which case, the data is not main data in series.\n\n      var seriesIndex = el.seriesIndex;\n      var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n      var dataModel = el.dataModel || seriesModel;\n      var dataIndex = el.dataIndex;\n      var dataType = el.dataType;\n      var data = dataModel.getData(dataType);\n      var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n      var tooltipTrigger = tooltipModel.get('trigger');\n\n      if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n        return;\n      }\n\n      var params = dataModel.getDataParams(dataIndex, dataType);\n      var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n      var defaultHtml;\n      var markers;\n\n      if (util.isObject(seriesTooltip)) {\n        defaultHtml = seriesTooltip.html;\n        markers = seriesTooltip.markers;\n      } else {\n        defaultHtml = seriesTooltip;\n        markers = null;\n      }\n\n      var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n      this._showOrMove(tooltipModel, function () {\n        this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n      }); // FIXME\n      // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n      dispatchAction({\n        type: 'showTip',\n        dataIndexInside: dataIndex,\n        dataIndex: data.getRawIndex(dataIndex),\n        seriesIndex: seriesIndex,\n        from: this.uid\n      });\n    },\n    _showComponentItemTooltip: function (e, el, dispatchAction) {\n      var tooltipOpt = el.tooltip;\n\n      if (typeof tooltipOpt === 'string') {\n        var content = tooltipOpt;\n        tooltipOpt = {\n          content: content,\n          // Fixed formatter\n          formatter: content\n        };\n      }\n\n      var subTooltipModel = new Model_1(tooltipOpt, this._tooltipModel, this._ecModel);\n      var defaultHtml = subTooltipModel.get('content');\n      var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n      // only works on coordinate system. In fact, we have not found case\n      // that requires setting `trigger` nothing on component yet.\n\n      this._showOrMove(subTooltipModel, function () {\n        this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n      }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n      dispatchAction({\n        type: 'showTip',\n        from: this.uid\n      });\n    },\n    _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n      // Reset ticket\n      this._ticket = '';\n\n      if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n        return;\n      }\n\n      var tooltipContent = this._tooltipContent;\n      var formatter = tooltipModel.get('formatter');\n      positionExpr = positionExpr || tooltipModel.get('position');\n      var html = defaultHtml;\n\n      if (formatter && typeof formatter === 'string') {\n        html = format$1.formatTpl(formatter, params, true);\n      } else if (typeof formatter === 'function') {\n        var callback = bind$3(function (cbTicket, html) {\n          if (cbTicket === this._ticket) {\n            tooltipContent.setContent(html, markers, tooltipModel);\n\n            this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n          }\n        }, this);\n        this._ticket = asyncTicket;\n        html = formatter(params, asyncTicket, callback);\n      }\n\n      tooltipContent.setContent(html, markers, tooltipModel);\n      tooltipContent.show(tooltipModel);\n\n      this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n    },\n\n    /**\n     * @param  {string|Function|Array.<number>|Object} positionExpr\n     * @param  {number} x Mouse x\n     * @param  {number} y Mouse y\n     * @param  {boolean} confine Whether confine tooltip content in view rect.\n     * @param  {Object|<Array.<Object>} params\n     * @param  {module:zrender/Element} el target element\n     * @param  {module:echarts/ExtensionAPI} api\n     * @return {Array.<number>}\n     */\n    _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n      var viewWidth = this._api.getWidth();\n\n      var viewHeight = this._api.getHeight();\n\n      positionExpr = positionExpr || tooltipModel.get('position');\n      var contentSize = content.getSize();\n      var align = tooltipModel.get('align');\n      var vAlign = tooltipModel.get('verticalAlign');\n      var rect = el && el.getBoundingRect().clone();\n      el && rect.applyTransform(el.transform);\n\n      if (typeof positionExpr === 'function') {\n        // Callback of position can be an array or a string specify the position\n        positionExpr = positionExpr([x, y], params, content.el, rect, {\n          viewSize: [viewWidth, viewHeight],\n          contentSize: contentSize.slice()\n        });\n      }\n\n      if (util.isArray(positionExpr)) {\n        x = parsePercent$5(positionExpr[0], viewWidth);\n        y = parsePercent$5(positionExpr[1], viewHeight);\n      } else if (util.isObject(positionExpr)) {\n        positionExpr.width = contentSize[0];\n        positionExpr.height = contentSize[1];\n        var layoutRect = layout.getLayoutRect(positionExpr, {\n          width: viewWidth,\n          height: viewHeight\n        });\n        x = layoutRect.x;\n        y = layoutRect.y;\n        align = null; // When positionExpr is left/top/right/bottom,\n        // align and verticalAlign will not work.\n\n        vAlign = null;\n      } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n      else if (typeof positionExpr === 'string' && el) {\n          var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n          x = pos[0];\n          y = pos[1];\n        } else {\n          var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n          x = pos[0];\n          y = pos[1];\n        }\n\n      align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n      vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n      if (tooltipModel.get('confine')) {\n        var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n        x = pos[0];\n        y = pos[1];\n      }\n\n      content.moveTo(x, y);\n    },\n    // FIXME\n    // Should we remove this but leave this to user?\n    _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n      var lastCoordSys = this._lastDataByCoordSys;\n      var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n      contentNotChanged && each$q(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n        var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n        var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n        var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n        contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n        contentNotChanged && each$q(lastDataByAxis, function (lastItem, indexAxis) {\n          var thisItem = thisDataByAxis[indexAxis] || {};\n          var lastIndices = lastItem.seriesDataIndices || [];\n          var newIndices = thisItem.seriesDataIndices || [];\n          contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n          contentNotChanged && each$q(lastIndices, function (lastIdxItem, j) {\n            var newIdxItem = newIndices[j];\n            contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n          });\n        });\n      });\n      this._lastDataByCoordSys = dataByCoordSys;\n      return !!contentNotChanged;\n    },\n    _hide: function (dispatchAction) {\n      // Do not directly hideLater here, because this behavior may be prevented\n      // in dispatchAction when showTip is dispatched.\n      // FIXME\n      // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n      this._lastDataByCoordSys = null;\n      dispatchAction({\n        type: 'hideTip',\n        from: this.uid\n      });\n    },\n    dispose: function (ecModel, api) {\n      if (env_1.node) {\n        return;\n      }\n\n      this._tooltipContent.dispose();\n\n      globalListener.unregister('itemTooltip', api);\n    }\n  });\n  /**\n   * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n   * From top to bottom. (the last one should be globalTooltipModel);\n   */\n\n\n  function buildTooltipModel(modelCascade) {\n    var resultModel = modelCascade.pop();\n\n    while (modelCascade.length) {\n      var tooltipOpt = modelCascade.pop();\n\n      if (tooltipOpt) {\n        if (Model_1.isInstance(tooltipOpt)) {\n          tooltipOpt = tooltipOpt.get('tooltip', true);\n        } // In each data item tooltip can be simply write:\n        // {\n        //  value: 10,\n        //  tooltip: 'Something you need to know'\n        // }\n\n\n        if (typeof tooltipOpt === 'string') {\n          tooltipOpt = {\n            formatter: tooltipOpt\n          };\n        }\n\n        resultModel = new Model_1(tooltipOpt, resultModel, resultModel.ecModel);\n      }\n    }\n\n    return resultModel;\n  }\n\n  function makeDispatchAction$1(payload, api) {\n    return payload.dispatchAction || util.bind(api.dispatchAction, api);\n  }\n\n  function refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n    var size = content.getOuterSize();\n    var width = size.width;\n    var height = size.height;\n\n    if (gapH != null) {\n      if (x + width + gapH > viewWidth) {\n        x -= width + gapH;\n      } else {\n        x += gapH;\n      }\n    }\n\n    if (gapV != null) {\n      if (y + height + gapV > viewHeight) {\n        y -= height + gapV;\n      } else {\n        y += gapV;\n      }\n    }\n\n    return [x, y];\n  }\n\n  function confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n    var size = content.getOuterSize();\n    var width = size.width;\n    var height = size.height;\n    x = Math.min(x + width, viewWidth) - width;\n    y = Math.min(y + height, viewHeight) - height;\n    x = Math.max(x, 0);\n    y = Math.max(y, 0);\n    return [x, y];\n  }\n\n  function calcTooltipPosition(position, rect, contentSize) {\n    var domWidth = contentSize[0];\n    var domHeight = contentSize[1];\n    var gap = 5;\n    var x = 0;\n    var y = 0;\n    var rectWidth = rect.width;\n    var rectHeight = rect.height;\n\n    switch (position) {\n      case 'inside':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n        break;\n\n      case 'top':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y - domHeight - gap;\n        break;\n\n      case 'bottom':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y + rectHeight + gap;\n        break;\n\n      case 'left':\n        x = rect.x - domWidth - gap;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n        break;\n\n      case 'right':\n        x = rect.x + rectWidth + gap;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n    }\n\n    return [x, y];\n  }\n\n  function isCenterAlign(align) {\n    return align === 'center' || align === 'middle';\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME Better way to pack data in graphic element\n\n  /**\n   * @action\n   * @property {string} type\n   * @property {number} seriesIndex\n   * @property {number} dataIndex\n   * @property {number} [x]\n   * @property {number} [y]\n   */\n  echarts.registerAction({\n    type: 'showTip',\n    event: 'showTip',\n    update: 'tooltip:manuallyShowTip'\n  }, // noop\n  function () {});\n  echarts.registerAction({\n    type: 'hideTip',\n    event: 'hideTip',\n    update: 'tooltip:manuallyHideTip'\n  }, // noop\n  function () {});\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var isNameSpecified$1 = model.isNameSpecified;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var langSelector = lang.legend.selector;\n  var defaultSelectorOption = {\n    all: {\n      type: 'all',\n      title: util.clone(langSelector.all)\n    },\n    inverse: {\n      type: 'inverse',\n      title: util.clone(langSelector.inverse)\n    }\n  };\n  var LegendModel = echarts.extendComponentModel({\n    type: 'legend.plain',\n    dependencies: ['series'],\n    layoutMode: {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    },\n    init: function (option, parentModel, ecModel) {\n      this.mergeDefaultAndTheme(option, ecModel);\n      option.selected = option.selected || {};\n\n      this._updateSelector(option);\n    },\n    mergeOption: function (option) {\n      LegendModel.superCall(this, 'mergeOption', option);\n\n      this._updateSelector(option);\n    },\n    _updateSelector: function (option) {\n      var selector = option.selector;\n\n      if (selector === true) {\n        selector = option.selector = ['all', 'inverse'];\n      }\n\n      if (util.isArray(selector)) {\n        util.each(selector, function (item, index) {\n          util.isString(item) && (item = {\n            type: item\n          });\n          selector[index] = util.merge(item, defaultSelectorOption[item.type]);\n        });\n      }\n    },\n    optionUpdated: function () {\n      this._updateData(this.ecModel);\n\n      var legendData = this._data; // If selectedMode is single, try to select one\n\n      if (legendData[0] && this.get('selectedMode') === 'single') {\n        var hasSelected = false; // If has any selected in option.selected\n\n        for (var i = 0; i < legendData.length; i++) {\n          var name = legendData[i].get('name');\n\n          if (this.isSelected(name)) {\n            // Force to unselect others\n            this.select(name);\n            hasSelected = true;\n            break;\n          }\n        } // Try select the first if selectedMode is single\n\n\n        !hasSelected && this.select(legendData[0].get('name'));\n      }\n    },\n    _updateData: function (ecModel) {\n      var potentialData = [];\n      var availableNames = [];\n      ecModel.eachRawSeries(function (seriesModel) {\n        var seriesName = seriesModel.name;\n        availableNames.push(seriesName);\n        var isPotential;\n\n        if (seriesModel.legendVisualProvider) {\n          var provider = seriesModel.legendVisualProvider;\n          var names = provider.getAllNames();\n\n          if (!ecModel.isSeriesFiltered(seriesModel)) {\n            availableNames = availableNames.concat(names);\n          }\n\n          if (names.length) {\n            potentialData = potentialData.concat(names);\n          } else {\n            isPotential = true;\n          }\n        } else {\n          isPotential = true;\n        }\n\n        if (isPotential && isNameSpecified$1(seriesModel)) {\n          potentialData.push(seriesModel.name);\n        }\n      });\n      /**\n       * @type {Array.<string>}\n       * @private\n       */\n\n      this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n      // which is convinient for user preparing option.\n\n      var rawData = this.get('data') || potentialData;\n      var legendData = util.map(rawData, function (dataItem) {\n        // Can be string or number\n        if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n          dataItem = {\n            name: dataItem\n          };\n        }\n\n        return new Model_1(dataItem, this, this.ecModel);\n      }, this);\n      /**\n       * @type {Array.<module:echarts/model/Model>}\n       * @private\n       */\n\n      this._data = legendData;\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Model>}\n     */\n    getData: function () {\n      return this._data;\n    },\n\n    /**\n     * @param {string} name\n     */\n    select: function (name) {\n      var selected = this.option.selected;\n      var selectedMode = this.get('selectedMode');\n\n      if (selectedMode === 'single') {\n        var data = this._data;\n        util.each(data, function (dataItem) {\n          selected[dataItem.get('name')] = false;\n        });\n      }\n\n      selected[name] = true;\n    },\n\n    /**\n     * @param {string} name\n     */\n    unSelect: function (name) {\n      if (this.get('selectedMode') !== 'single') {\n        this.option.selected[name] = false;\n      }\n    },\n\n    /**\n     * @param {string} name\n     */\n    toggleSelected: function (name) {\n      var selected = this.option.selected; // Default is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      this[selected[name] ? 'unSelect' : 'select'](name);\n    },\n    allSelect: function () {\n      var data = this._data;\n      var selected = this.option.selected;\n      util.each(data, function (dataItem) {\n        selected[dataItem.get('name', true)] = true;\n      });\n    },\n    inverseSelect: function () {\n      var data = this._data;\n      var selected = this.option.selected;\n      util.each(data, function (dataItem) {\n        var name = dataItem.get('name', true); // Initially, default value is true\n\n        if (!selected.hasOwnProperty(name)) {\n          selected[name] = true;\n        }\n\n        selected[name] = !selected[name];\n      });\n    },\n\n    /**\n     * @param {string} name\n     */\n    isSelected: function (name) {\n      var selected = this.option.selected;\n      return !(selected.hasOwnProperty(name) && !selected[name]) && util.indexOf(this._availableNames, name) >= 0;\n    },\n    getOrient: function () {\n      return this.get('orient') === 'vertical' ? {\n        index: 1,\n        name: 'vertical'\n      } : {\n        index: 0,\n        name: 'horizontal'\n      };\n    },\n    defaultOption: {\n      // \n      zlevel: 0,\n      // \n      z: 4,\n      show: true,\n      // \n      // 'horizontal' | 'vertical'\n      orient: 'horizontal',\n      left: 'center',\n      // right: 'center',\n      top: 0,\n      // bottom: null,\n      // \n      // 'auto' | 'left' | 'right'\n      //  'auto',  x \n      align: 'auto',\n      backgroundColor: 'rgba(0,0,0,0)',\n      // \n      borderColor: '#ccc',\n      borderRadius: 0,\n      // px0\n      borderWidth: 0,\n      // px5\n      // css\n      padding: 5,\n      // itempx10\n      // \n      itemGap: 10,\n      // the width of legend symbol\n      itemWidth: 25,\n      // the height of legend symbol\n      itemHeight: 14,\n      // the color of unselected legend symbol\n      inactiveColor: '#ccc',\n      // the borderColor of unselected legend symbol\n      inactiveBorderColor: '#ccc',\n      itemStyle: {\n        // the default borderWidth of legend symbol\n        borderWidth: 0\n      },\n      textStyle: {\n        // \n        color: '#333'\n      },\n      // formatter: '',\n      // \n      selectedMode: true,\n      // LEGEND.SELECTED\n      // selected: null,\n      // legend.dataitem\n      // data: [],\n      // Usage:\n      // selector: [{type: 'all or inverse', title: xxx}]\n      // or\n      // selector: true\n      // or\n      // selector: ['all', 'inverse']\n      selector: false,\n      selectorLabel: {\n        show: true,\n        borderRadius: 10,\n        padding: [3, 5, 3, 5],\n        fontSize: 12,\n        fontFamily: ' sans-serif',\n        color: '#666',\n        borderWidth: 1,\n        borderColor: '#666'\n      },\n      emphasis: {\n        selectorLabel: {\n          show: true,\n          color: '#eee',\n          backgroundColor: '#666'\n        }\n      },\n      // Value can be 'start' or 'end'\n      selectorPosition: 'auto',\n      selectorItemGap: 7,\n      selectorButtonGap: 10,\n      // Tooltip \n      tooltip: {\n        show: false\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function legendSelectActionHandler(methodName, payload, ecModel) {\n    var selectedMap = {};\n    var isToggleSelect = methodName === 'toggleSelected';\n    var isSelected; // Update all legend components\n\n    ecModel.eachComponent('legend', function (legendModel) {\n      if (isToggleSelect && isSelected != null) {\n        // Force other legend has same selected status\n        // Or the first is toggled to true and other are toggled to false\n        // In the case one legend has some item unSelected in option. And if other legend\n        // doesn't has the item, they will assume it is selected.\n        legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n      } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n        legendModel[methodName]();\n      } else {\n        legendModel[methodName](payload.name);\n        isSelected = legendModel.isSelected(payload.name);\n      }\n\n      var legendData = legendModel.getData();\n      util.each(legendData, function (model) {\n        var name = model.get('name'); // Wrap element\n\n        if (name === '\\n' || name === '') {\n          return;\n        }\n\n        var isItemSelected = legendModel.isSelected(name);\n\n        if (selectedMap.hasOwnProperty(name)) {\n          // Unselected if any legend is unselected\n          selectedMap[name] = selectedMap[name] && isItemSelected;\n        } else {\n          selectedMap[name] = isItemSelected;\n        }\n      });\n    }); // Return the event explicitly\n\n    return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n      selected: selectedMap\n    } : {\n      name: payload.name,\n      selected: selectedMap\n    };\n  }\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n\n\n  echarts.registerAction('legendToggleSelect', 'legendselectchanged', util.curry(legendSelectActionHandler, 'toggleSelected'));\n  echarts.registerAction('legendAllSelect', 'legendselectall', util.curry(legendSelectActionHandler, 'allSelect'));\n  echarts.registerAction('legendInverseSelect', 'legendinverseselect', util.curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  echarts.registerAction('legendSelect', 'legendselected', util.curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  echarts.registerAction('legendUnSelect', 'legendunselected', util.curry(legendSelectActionHandler, 'unSelect'));\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var getLayoutRect$2 = layout.getLayoutRect;\n  var layoutBox = layout.box;\n  var positionElement$1 = layout.positionElement;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Layout list like component.\n   * It will box layout each items in group of component and then position the whole group in the viewport\n   * @param {module:zrender/group/Group} group\n   * @param {module:echarts/model/Component} componentModel\n   * @param {module:echarts/ExtensionAPI}\n   */\n  function layout$3(group, componentModel, api) {\n    var boxLayoutParams = componentModel.getBoxLayoutParams();\n    var padding = componentModel.get('padding');\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var rect = getLayoutRect$2(boxLayoutParams, viewportSize, padding);\n    layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n    positionElement$1(group, boxLayoutParams, viewportSize, padding);\n  }\n\n  function makeBackground(rect, componentModel) {\n    var padding = format$1.normalizeCssArray(componentModel.get('padding'));\n    var style = componentModel.getItemStyle(['color', 'opacity']);\n    style.fill = componentModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[1] + padding[3],\n        height: rect.height + padding[0] + padding[2],\n        r: componentModel.get('borderRadius')\n      },\n      style: style,\n      silent: true,\n      z2: -1\n    }); // FIXME\n    // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n    // and background rect when setting like `left: 0`, `top: 0`.\n    // graphic.subPixelOptimizeRect(rect);\n\n    return rect;\n  }\n\n  var layout_1$2 = layout$3;\n  var makeBackground_1 = makeBackground;\n\n  var listComponent = {\n  \tlayout: layout_1$2,\n  \tmakeBackground: makeBackground_1\n  };\n\n  var createSymbol$4 = symbol.createSymbol;\n\n\n\n\n\n  var makeBackground$1 = listComponent.makeBackground;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var curry$3 = util.curry;\n  var each$r = util.each;\n  var Group$1 = graphic.Group;\n\n  var _default$1T = echarts.extendComponentView({\n    type: 'legend.plain',\n    newlineDisabled: false,\n\n    /**\n     * @override\n     */\n    init: function () {\n      /**\n       * @private\n       * @type {module:zrender/container/Group}\n       */\n      this.group.add(this._contentGroup = new Group$1());\n      /**\n       * @private\n       * @type {module:zrender/Element}\n       */\n\n      this._backgroundEl;\n      /**\n       * @private\n       * @type {module:zrender/container/Group}\n       */\n\n      this.group.add(this._selectorGroup = new Group$1());\n      /**\n       * If first rendering, `contentGroup.position` is [0, 0], which\n       * does not make sense and may cause unexepcted animation if adopted.\n       * @private\n       * @type {boolean}\n       */\n\n      this._isFirstRender = true;\n    },\n\n    /**\n     * @protected\n     */\n    getContentGroup: function () {\n      return this._contentGroup;\n    },\n\n    /**\n     * @protected\n     */\n    getSelectorGroup: function () {\n      return this._selectorGroup;\n    },\n\n    /**\n     * @override\n     */\n    render: function (legendModel, ecModel, api) {\n      var isFirstRender = this._isFirstRender;\n      this._isFirstRender = false;\n      this.resetInner();\n\n      if (!legendModel.get('show', true)) {\n        return;\n      }\n\n      var itemAlign = legendModel.get('align');\n      var orient = legendModel.get('orient');\n\n      if (!itemAlign || itemAlign === 'auto') {\n        itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n      }\n\n      var selector = legendModel.get('selector', true);\n      var selectorPosition = legendModel.get('selectorPosition', true);\n\n      if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n        selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n      }\n\n      this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n      var positionInfo = legendModel.getBoxLayoutParams();\n      var viewportSize = {\n        width: api.getWidth(),\n        height: api.getHeight()\n      };\n      var padding = legendModel.get('padding');\n      var maxSize = layout.getLayoutRect(positionInfo, viewportSize, padding);\n      var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n      var layoutRect = layout.getLayoutRect(util.defaults({\n        width: mainRect.width,\n        height: mainRect.height\n      }, positionInfo), viewportSize, padding);\n      this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n      this.group.add(this._backgroundEl = makeBackground$1(mainRect, legendModel));\n    },\n\n    /**\n     * @protected\n     */\n    resetInner: function () {\n      this.getContentGroup().removeAll();\n      this._backgroundEl && this.group.remove(this._backgroundEl);\n      this.getSelectorGroup().removeAll();\n    },\n\n    /**\n     * @protected\n     */\n    renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n      var contentGroup = this.getContentGroup();\n      var legendDrawnMap = util.createHashMap();\n      var selectMode = legendModel.get('selectedMode');\n      var excludeSeriesId = [];\n      ecModel.eachRawSeries(function (seriesModel) {\n        !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n      });\n      each$r(legendModel.getData(), function (itemModel, dataIndex) {\n        var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n        if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n          contentGroup.add(new Group$1({\n            newline: true\n          }));\n          return;\n        } // Representitive series.\n\n\n        var seriesModel = ecModel.getSeriesByName(name)[0];\n\n        if (legendDrawnMap.get(name)) {\n          // Have been drawed\n          return;\n        } // Legend to control series.\n\n\n        if (seriesModel) {\n          var data = seriesModel.getData();\n          var color = data.getVisual('color');\n          var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n          if (typeof color === 'function') {\n            // Use the first data\n            color = color(seriesModel.getDataParams(0));\n          } // If borderColor is a callback function\n\n\n          if (typeof borderColor === 'function') {\n            // Use the first data\n            borderColor = borderColor(seriesModel.getDataParams(0));\n          } // Using rect symbol defaultly\n\n\n          var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n          var symbolType = data.getVisual('symbol');\n\n          var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n          itemGroup.on('click', curry$3(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry$3(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry$3(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n          legendDrawnMap.set(name, true);\n        } else {\n          // Legend to control data. In pie and funnel.\n          ecModel.eachRawSeries(function (seriesModel) {\n            // In case multiple series has same data name\n            if (legendDrawnMap.get(name)) {\n              return;\n            }\n\n            if (seriesModel.legendVisualProvider) {\n              var provider = seriesModel.legendVisualProvider;\n\n              if (!provider.containName(name)) {\n                return;\n              }\n\n              var idx = provider.indexOfName(name);\n              var color = provider.getItemVisual(idx, 'color');\n              var borderColor = provider.getItemVisual(idx, 'borderColor');\n              var legendSymbolType = 'roundRect';\n\n              var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n              itemGroup.on('click', curry$3(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n              // more than one pie series.\n              .on('mouseover', curry$3(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry$3(dispatchDownplayAction, null, name, api, excludeSeriesId));\n              legendDrawnMap.set(name, true);\n            }\n          }, this);\n        }\n      }, this);\n\n      if (selector) {\n        this._createSelector(selector, legendModel, api, orient, selectorPosition);\n      }\n    },\n    _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n      var selectorGroup = this.getSelectorGroup();\n      each$r(selector, function (selectorItem) {\n        createSelectorButton(selectorItem);\n      });\n\n      function createSelectorButton(selectorItem) {\n        var type = selectorItem.type;\n        var labelText = new graphic.Text({\n          style: {\n            x: 0,\n            y: 0,\n            align: 'center',\n            verticalAlign: 'middle'\n          },\n          onclick: function () {\n            api.dispatchAction({\n              type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n            });\n          }\n        });\n        selectorGroup.add(labelText);\n        var labelModel = legendModel.getModel('selectorLabel');\n        var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n        graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n          defaultText: selectorItem.title,\n          isRectText: false\n        });\n        graphic.setHoverStyle(labelText);\n      }\n    },\n    _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n      var itemWidth = legendModel.get('itemWidth');\n      var itemHeight = legendModel.get('itemHeight');\n      var inactiveColor = legendModel.get('inactiveColor');\n      var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n      var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n      var legendModelItemStyle = legendModel.getModel('itemStyle');\n      var isSelected = legendModel.isSelected(name);\n      var itemGroup = new Group$1();\n      var textStyleModel = itemModel.getModel('textStyle');\n      var itemIcon = itemModel.get('icon');\n      var tooltipModel = itemModel.getModel('tooltip');\n      var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n      legendSymbolType = itemIcon || legendSymbolType;\n      var legendSymbol = createSymbol$4(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect);\n      itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n      // PENDING\n\n      if (!itemIcon && symbolType // At least show one symbol, can't be all none\n      && (symbolType !== legendSymbolType || symbolType === 'none')) {\n        var size = itemHeight * 0.8;\n\n        if (symbolType === 'none') {\n          symbolType = 'circle';\n        }\n\n        var legendSymbolCenter = createSymbol$4(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n        symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n        itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n      }\n\n      var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n      var textAlign = itemAlign;\n      var formatter = legendModel.get('formatter');\n      var content = name;\n\n      if (typeof formatter === 'string' && formatter) {\n        content = formatter.replace('{name}', name != null ? name : '');\n      } else if (typeof formatter === 'function') {\n        content = formatter(name);\n      }\n\n      itemGroup.add(new graphic.Text({\n        style: graphic.setTextStyle({}, textStyleModel, {\n          text: content,\n          x: textX,\n          y: itemHeight / 2,\n          textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n          textAlign: textAlign,\n          textVerticalAlign: 'middle'\n        })\n      })); // Add a invisible rect to increase the area of mouse hover\n\n      var hitRect = new graphic.Rect({\n        shape: itemGroup.getBoundingRect(),\n        invisible: true,\n        tooltip: tooltipModel.get('show') ? util.extend({\n          content: name,\n          // Defaul formatter\n          formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n            return name;\n          },\n          formatterParams: {\n            componentType: 'legend',\n            legendIndex: legendModel.componentIndex,\n            name: name,\n            $vars: ['name']\n          }\n        }, tooltipModel.option) : null\n      });\n      itemGroup.add(hitRect);\n      itemGroup.eachChild(function (child) {\n        child.silent = true;\n      });\n      hitRect.silent = !selectMode;\n      this.getContentGroup().add(itemGroup);\n      graphic.setHoverStyle(itemGroup);\n      itemGroup.__legendDataIndex = dataIndex;\n      return itemGroup;\n    },\n\n    /**\n     * @protected\n     */\n    layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n      var contentGroup = this.getContentGroup();\n      var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n      layout.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n      var contentRect = contentGroup.getBoundingRect();\n      var contentPos = [-contentRect.x, -contentRect.y];\n\n      if (selector) {\n        // Place buttons in selectorGroup\n        layout.box( // Buttons in selectorGroup always layout horizontally\n        'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n        var selectorRect = selectorGroup.getBoundingRect();\n        var selectorPos = [-selectorRect.x, -selectorRect.y];\n        var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n        var orientIdx = legendModel.getOrient().index;\n        var wh = orientIdx === 0 ? 'width' : 'height';\n        var hw = orientIdx === 0 ? 'height' : 'width';\n        var yx = orientIdx === 0 ? 'y' : 'x';\n\n        if (selectorPosition === 'end') {\n          selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n        } else {\n          contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n        } //Always align selector to content as 'middle'\n\n\n        selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n        selectorGroup.attr('position', selectorPos);\n        contentGroup.attr('position', contentPos);\n        var mainRect = {\n          x: 0,\n          y: 0\n        };\n        mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n        mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n        mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n        return mainRect;\n      } else {\n        contentGroup.attr('position', contentPos);\n        return this.group.getBoundingRect();\n      }\n    },\n\n    /**\n     * @protected\n     */\n    remove: function () {\n      this.getContentGroup().removeAll();\n      this._isFirstRender = true;\n    }\n  });\n\n  function setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n    var itemStyle;\n\n    if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n      itemStyle = legendModelItemStyle.getItemStyle();\n      symbol.style.stroke = borderColor;\n\n      if (!isSelected) {\n        itemStyle.stroke = inactiveBorderColor;\n      }\n    } else {\n      itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n    }\n\n    return symbol.setStyle(itemStyle);\n  }\n\n  function dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n    // downplay before unselect\n    dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n    api.dispatchAction({\n      type: 'legendToggleSelect',\n      name: seriesName != null ? seriesName : dataName\n    }); // highlight after select\n\n    dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n  }\n\n  function dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n\n    if (!(el && el.useHoverLayer)) {\n      api.dispatchAction({\n        type: 'highlight',\n        seriesName: seriesName,\n        name: dataName,\n        excludeSeriesId: excludeSeriesId\n      });\n    }\n  }\n\n  function dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n\n    if (!(el && el.useHoverLayer)) {\n      api.dispatchAction({\n        type: 'downplay',\n        seriesName: seriesName,\n        name: dataName,\n        excludeSeriesId: excludeSeriesId\n      });\n    }\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1U(ecModel) {\n    var legendModels = ecModel.findComponents({\n      mainType: 'legend'\n    });\n\n    if (legendModels && legendModels.length) {\n      ecModel.filterSeries(function (series) {\n        // If in any legend component the status is not selected.\n        // Because in legend series is assumed selected when it is not in the legend data.\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(series.name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  }\n\n  var legendFilter = _default$1U;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Do not contain scrollable legend, for sake of file size.\n  // Series Filter\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  Component.registerSubTypeDefaulter('legend', function () {\n    // Default 'plain' when no type specified.\n    return 'plain';\n  });\n\n  var constants = createCommonjsModule(function (module, exports) {\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  var DEFAULT_THEME = {\n    categoryAxis: {\n      axisLine: { show: false },\n      axisTick: { show: false },\n      splitLine: { show: false }\n    },\n    valueAxis: {\n      axisLine: { show: false }\n    },\n    line: {\n      smooth: true\n    },\n    grid: {\n      containLabel: true,\n      left: 10,\n      right: 10\n    }\n  };\n\n  var DEFAULT_COLORS = ['#19d4ae', '#5ab1ef', '#fa6e86', '#ffb980', '#0067a6', '#c4b4e4', '#d87a80', '#9cbbff', '#d9d0c7', '#87a997', '#d49ea2', '#5b4947', '#7ba3a8'];\n\n  var HEAT_MAP_COLOR = ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026'];\n\n  var HEAT_BMAP_COLOR = ['blue', 'blue', 'green', 'yellow', 'red'];\n\n  var itemPoint = function itemPoint(color) {\n    return ['<span style=\"', 'background-color:' + color + ';', 'display: inline-block;', 'width: 10px;', 'height: 10px;', 'border-radius: 50%;', 'margin-right:2px;', '\"></span>'].join('');\n  };\n\n  var STATIC_PROPS = ['initOptions', 'loading', 'dataEmpty', 'judgeWidth', 'widthChangeDelay'];\n\n  var ECHARTS_SETTINGS = ['grid', 'dataZoom', 'visualMap', 'toolbox', 'title', 'legend', 'xAxis', 'yAxis', 'radar', 'tooltip', 'axisPointer', 'brush', 'geo', 'timeline', 'graphic', 'series', 'backgroundColor', 'textStyle'];\n\n  exports.DEFAULT_THEME = DEFAULT_THEME;\n  exports.DEFAULT_COLORS = DEFAULT_COLORS;\n  exports.HEAT_MAP_COLOR = HEAT_MAP_COLOR;\n  exports.HEAT_BMAP_COLOR = HEAT_BMAP_COLOR;\n  exports.itemPoint = itemPoint;\n  exports.STATIC_PROPS = STATIC_PROPS;\n  exports.ECHARTS_SETTINGS = ECHARTS_SETTINGS;\n  });\n\n  function _interopDefault$1 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n  var echartsLib = _interopDefault$1(echarts);\n\n\n  var numerify$1 = _interopDefault$1(require$$3);\n\n\n  var Loading = { render: function render() {\n      var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"v-charts-component-loading\" }, [_c('div', { staticClass: \"loader\" }, [_c('div', { staticClass: \"loading-spinner\" }, [_c('svg', { staticClass: \"circular\", attrs: { \"viewBox\": \"25 25 50 50\" } }, [_c('circle', { staticClass: \"path\", attrs: { \"cx\": \"50\", \"cy\": \"50\", \"r\": \"20\", \"fill\": \"none\" } })])])])]);\n    }, staticRenderFns: []\n  };\n\n  var DataEmpty = { render: function render() {\n      var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"v-charts-data-empty\" }, [_vm._v(\"  \")]);\n    }, staticRenderFns: []\n  };\n\n  var _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function setExtend (options, extend) {\n    Object.keys(extend).forEach(function (attr) {\n      var value = extend[attr];\n      if (~attr.indexOf('.')) {\n        // eg: a.b.c a.1.b\n        utilsLite.set(options, attr, value);\n      } else if (typeof value === 'function') {\n        // get callback value\n        options[attr] = value(options[attr]);\n      } else {\n        // mixin extend value\n        if (utilsLite.isArray(options[attr]) && utilsLite.isObject(options[attr][0])) {\n          // eg: [{ xx: 1 }, { xx: 2 }]\n          options[attr].forEach(function (option, index) {\n            options[attr][index] = _extends$1({}, option, value);\n          });\n        } else if (utilsLite.isObject(options[attr])) {\n          // eg: { xx: 1, yy: 2 }\n          options[attr] = _extends$1({}, options[attr], value);\n        } else {\n          options[attr] = value;\n        }\n      }\n    });\n  }\n\n  function setMark (seriesItem, marks) {\n    Object.keys(marks).forEach(function (key) {\n      if (marks[key]) seriesItem[key] = marks[key];\n    });\n  }\n\n  function setAnimation (options, animation) {\n    Object.keys(animation).forEach(function (key) {\n      options[key] = animation[key];\n    });\n  }\n\n  var core = {\n    render: function render(h) {\n      return h('div', {\n        class: [utilsLite.camelToKebab(this.$options.name || this.$options._componentTag)],\n        style: this.canvasStyle\n      }, [h('div', {\n        style: this.canvasStyle,\n        class: { 'v-charts-mask-status': this.dataEmpty || this.loading },\n        ref: 'canvas'\n      }), h(DataEmpty, {\n        style: { display: this.dataEmpty ? '' : 'none' }\n      }), h(Loading, {\n        style: { display: this.loading ? '' : 'none' }\n      }), this.$slots.default]);\n    },\n\n\n    props: {\n      data: { type: [Object, Array], default: function _default() {\n          return {};\n        }\n      },\n      settings: { type: Object, default: function _default() {\n          return {};\n        }\n      },\n      width: { type: String, default: 'auto' },\n      height: { type: String, default: '400px' },\n      beforeConfig: { type: Function },\n      afterConfig: { type: Function },\n      afterSetOption: { type: Function },\n      afterSetOptionOnce: { type: Function },\n      events: { type: Object },\n      grid: { type: [Object, Array] },\n      colors: { type: Array },\n      tooltipVisible: { type: Boolean, default: true },\n      legendVisible: { type: Boolean, default: true },\n      legendPosition: { type: String },\n      markLine: { type: Object },\n      markArea: { type: Object },\n      markPoint: { type: Object },\n      visualMap: { type: [Object, Array] },\n      dataZoom: { type: [Object, Array] },\n      toolbox: { type: [Object, Array] },\n      initOptions: { type: Object, default: function _default() {\n          return {};\n        }\n      },\n      title: [Object, Array],\n      legend: [Object, Array],\n      xAxis: [Object, Array],\n      yAxis: [Object, Array],\n      radar: Object,\n      tooltip: Object,\n      axisPointer: [Object, Array],\n      brush: [Object, Array],\n      geo: [Object, Array],\n      timeline: [Object, Array],\n      graphic: [Object, Array],\n      series: [Object, Array],\n      backgroundColor: [Object, String],\n      textStyle: [Object, Array],\n      animation: Object,\n      theme: Object,\n      themeName: String,\n      loading: Boolean,\n      dataEmpty: Boolean,\n      extend: Object,\n      judgeWidth: { type: Boolean, default: false },\n      widthChangeDelay: { type: Number, default: 300 },\n      tooltipFormatter: { type: Function },\n      resizeable: { type: Boolean, default: true },\n      resizeDelay: { type: Number, default: 200 },\n      changeDelay: { type: Number, default: 0 },\n      setOptionOpts: { type: [Boolean, Object], default: true },\n      cancelResizeCheck: Boolean,\n      notSetUnchange: Array,\n      log: Boolean\n    },\n\n    watch: {\n      data: {\n        deep: true,\n        handler: function handler(v) {\n          if (v) {\n            this.changeHandler();\n          }\n        }\n      },\n\n      settings: {\n        deep: true,\n        handler: function handler(v) {\n          if (v.type && this.chartLib) this.chartHandler = this.chartLib[v.type];\n          this.changeHandler();\n        }\n      },\n\n      width: 'nextTickResize',\n      height: 'nextTickResize',\n\n      events: {\n        deep: true,\n        handler: 'createEventProxy'\n      },\n\n      theme: {\n        deep: true,\n        handler: 'themeChange'\n      },\n\n      themeName: 'themeChange',\n\n      resizeable: 'resizeableHandler'\n    },\n\n    computed: {\n      canvasStyle: function canvasStyle() {\n        return {\n          width: this.width,\n          height: this.height,\n          position: 'relative'\n        };\n      },\n      chartColor: function chartColor() {\n        return this.colors || this.theme && this.theme.color || constants.DEFAULT_COLORS;\n      }\n    },\n\n    methods: {\n      dataHandler: function dataHandler() {\n        if (!this.chartHandler) return;\n        var data = this.data;\n        var _data = data,\n            _data$columns = _data.columns,\n            columns = _data$columns === undefined ? [] : _data$columns,\n            _data$rows = _data.rows,\n            rows = _data$rows === undefined ? [] : _data$rows;\n\n        var extra = {\n          tooltipVisible: this.tooltipVisible,\n          legendVisible: this.legendVisible,\n          echarts: this.echarts,\n          color: this.chartColor,\n          tooltipFormatter: this.tooltipFormatter,\n          _once: this._once\n        };\n        if (this.beforeConfig) data = this.beforeConfig(data);\n\n        var options = this.chartHandler(columns, rows, this.settings, extra);\n        if (options) {\n          if (typeof options.then === 'function') {\n            options.then(this.optionsHandler);\n          } else {\n            this.optionsHandler(options);\n          }\n        }\n      },\n      nextTickResize: function nextTickResize() {\n        this.$nextTick(this.resize);\n      },\n      resize: function resize() {\n        if (!this.cancelResizeCheck) {\n          if (this.$el && this.$el.clientWidth && this.$el.clientHeight) {\n            this.echartsResize();\n          }\n        } else {\n          this.echartsResize();\n        }\n      },\n      echartsResize: function echartsResize() {\n        this.echarts && this.echarts.resize();\n      },\n      optionsHandler: function optionsHandler(options) {\n        var _this = this;\n\n        // legend\n        if (this.legendPosition && options.legend) {\n          options.legend[this.legendPosition] = 10;\n          if (~['left', 'right'].indexOf(this.legendPosition)) {\n            options.legend.top = 'middle';\n            options.legend.orient = 'vertical';\n          }\n        }\n        // color\n        options.color = this.chartColor;\n        // echarts self settings\n        constants.ECHARTS_SETTINGS.forEach(function (setting) {\n          if (_this[setting]) options[setting] = _this[setting];\n        });\n        // animation\n        if (this.animation) setAnimation(options, this.animation);\n        // marks\n        if (this.markArea || this.markLine || this.markPoint) {\n          var marks = {\n            markArea: this.markArea,\n            markLine: this.markLine,\n            markPoint: this.markPoint\n          };\n          var series = options.series;\n          if (utilsLite.isArray(series)) {\n            series.forEach(function (item) {\n              setMark(item, marks);\n            });\n          } else if (utilsLite.isObject(series)) {\n            setMark(series, marks);\n          }\n        }\n        // change inited echarts settings\n        if (this.extend) setExtend(options, this.extend);\n        if (this.afterConfig) options = this.afterConfig(options);\n        var setOptionOpts = this.setOptionOpts;\n        // map chart not merge\n        if ((this.settings.bmap || this.settings.amap) && !utilsLite.isObject(setOptionOpts)) {\n          setOptionOpts = false;\n        }\n        // exclude unchange options\n        if (this.notSetUnchange && this.notSetUnchange.length) {\n          this.notSetUnchange.forEach(function (item) {\n            var value = options[item];\n            if (value) {\n              if (utilsLite.isEqual(value, _this._store[item])) {\n                options[item] = undefined;\n              } else {\n                _this._store[item] = utilsLite.cloneDeep(value);\n              }\n            }\n          });\n          if (utilsLite.isObject(setOptionOpts)) {\n            setOptionOpts.notMerge = false;\n          } else {\n            setOptionOpts = false;\n          }\n        }\n        if (this._isDestroyed) return;\n        if (this.log) console.log(options);\n        this.echarts.setOption(options, setOptionOpts);\n        this.$emit('ready', this.echarts, options, echartsLib);\n        if (!this._once['ready-once']) {\n          this._once['ready-once'] = true;\n          this.$emit('ready-once', this.echarts, options, echartsLib);\n        }\n        if (this.judgeWidth) this.judgeWidthHandler(options);\n        if (this.afterSetOption) this.afterSetOption(this.echarts, options, echartsLib);\n        if (this.afterSetOptionOnce && !this._once['afterSetOptionOnce']) {\n          this._once['afterSetOptionOnce'] = true;\n          this.afterSetOptionOnce(this.echarts, options, echartsLib);\n        }\n      },\n      judgeWidthHandler: function judgeWidthHandler(options) {\n        var _this2 = this;\n\n        var widthChangeDelay = this.widthChangeDelay,\n            resize = this.resize;\n\n        if (this.$el.clientWidth || this.$el.clientHeight) {\n          resize();\n        } else {\n          this.$nextTick(function (_) {\n            if (_this2.$el.clientWidth || _this2.$el.clientHeight) {\n              resize();\n            } else {\n              setTimeout(function (_) {\n                resize();\n                if (!_this2.$el.clientWidth || !_this2.$el.clientHeight) {\n                  console.warn(' Can\\'t get dom width or height ');\n                }\n              }, widthChangeDelay);\n            }\n          });\n        }\n      },\n      resizeableHandler: function resizeableHandler(resizeable) {\n        if (resizeable && !this._once.onresize) this.addResizeListener();\n        if (!resizeable && this._once.onresize) this.removeResizeListener();\n      },\n      init: function init() {\n        if (this.echarts) return;\n        var themeName = this.themeName || this.theme || constants.DEFAULT_THEME;\n        this.echarts = echartsLib.init(this.$refs.canvas, themeName, this.initOptions);\n        if (this.data) this.changeHandler();\n        this.createEventProxy();\n        if (this.resizeable) this.addResizeListener();\n      },\n      addResizeListener: function addResizeListener() {\n        window.addEventListener('resize', this.resizeHandler);\n        this._once.onresize = true;\n      },\n      removeResizeListener: function removeResizeListener() {\n        window.removeEventListener('resize', this.resizeHandler);\n        this._once.onresize = false;\n      },\n      addWatchToProps: function addWatchToProps() {\n        var _this3 = this;\n\n        var watchedVariable = this._watchers.map(function (watcher) {\n          return watcher.expression;\n        });\n        Object.keys(this.$props).forEach(function (prop) {\n          if (!~watchedVariable.indexOf(prop) && !~constants.STATIC_PROPS.indexOf(prop)) {\n            var opts = {};\n            if (~['[object Object]', '[object Array]'].indexOf(utilsLite.getType(_this3.$props[prop]))) {\n              opts.deep = true;\n            }\n            _this3.$watch(prop, function () {\n              _this3.changeHandler();\n            }, opts);\n          }\n        });\n      },\n      createEventProxy: function createEventProxy() {\n        var _this4 = this;\n\n        //  on \n        //  events \n        //  events \n        var self = this;\n        var keys = Object.keys(this.events || {});\n        keys.length && keys.forEach(function (ev) {\n          if (_this4.registeredEvents.indexOf(ev) === -1) {\n            _this4.registeredEvents.push(ev);\n            _this4.echarts.on(ev, function (ev) {\n              return function () {\n                if (ev in self.events) {\n                  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = arguments[_key];\n                  }\n\n                  self.events[ev].apply(null, args);\n                }\n              };\n            }(ev));\n          }\n        });\n      },\n      themeChange: function themeChange(theme) {\n        this.clean();\n        this.echarts = null;\n        this.init();\n      },\n      clean: function clean() {\n        if (this.resizeable) this.removeResizeListener();\n        this.echarts.dispose();\n      }\n    },\n\n    created: function created() {\n      this.echarts = null;\n      this.registeredEvents = [];\n      this._once = {};\n      this._store = {};\n      this.resizeHandler = utilsLite.debounce(this.resize, this.resizeDelay);\n      this.changeHandler = utilsLite.debounce(this.dataHandler, this.changeDelay);\n      this.addWatchToProps();\n    },\n    mounted: function mounted() {\n      this.init();\n    },\n    beforeDestroy: function beforeDestroy() {\n      this.clean();\n    },\n\n\n    _numerify: numerify$1\n  };\n\n  var core_1 = core;\n\n  function _interopDefault$2 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core = _interopDefault$2(core_1);\n\n  var _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function getLineXAxis(args) {\n    var dimension = args.dimension,\n        rows = args.rows,\n        xAxisName = args.xAxisName,\n        axisVisible = args.axisVisible,\n        xAxisType = args.xAxisType;\n\n    return dimension.map(function (item, index) {\n      return {\n        type: xAxisType,\n        nameLocation: 'middle',\n        nameGap: 22,\n        name: xAxisName[index] || '',\n        axisTick: { show: true, lineStyle: { color: '#eee' } },\n        data: rows.map(function (row) {\n          return row[item];\n        }),\n        show: axisVisible\n      };\n    });\n  }\n\n  function getLineSeries(args) {\n    var rows = args.rows,\n        axisSite = args.axisSite,\n        metrics = args.metrics,\n        area = args.area,\n        stack = args.stack,\n        nullAddZero = args.nullAddZero,\n        labelMap = args.labelMap,\n        label = args.label,\n        itemStyle = args.itemStyle,\n        lineStyle = args.lineStyle,\n        areaStyle = args.areaStyle,\n        dimension = args.dimension;\n\n    var series = [];\n    var dataTemp = {};\n    var stackMap = stack && utils.getStackMap(stack);\n    metrics.forEach(function (item) {\n      dataTemp[item] = [];\n    });\n    rows.forEach(function (row) {\n      metrics.forEach(function (item) {\n        var value = null;\n        if (row[item] != null) {\n          value = row[item];\n        } else if (nullAddZero) {\n          value = 0;\n        }\n        dataTemp[item].push([row[dimension[0]], value]);\n      });\n    });\n    metrics.forEach(function (item) {\n      var seriesItem = {\n        name: labelMap[item] != null ? labelMap[item] : item,\n        type: 'line',\n        data: dataTemp[item]\n      };\n\n      if (area) seriesItem.areaStyle = { normal: {} };\n      if (axisSite.right) {\n        seriesItem.yAxisIndex = ~axisSite.right.indexOf(item) ? 1 : 0;\n      }\n\n      if (stack && stackMap[item]) seriesItem.stack = stackMap[item];\n\n      if (label) seriesItem.label = label;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n      if (lineStyle) seriesItem.lineStyle = lineStyle;\n      if (areaStyle) seriesItem.areaStyle = areaStyle;\n\n      series.push(seriesItem);\n    });\n    return series;\n  }\n\n  function getLineYAxis(args) {\n    var yAxisName = args.yAxisName,\n        yAxisType = args.yAxisType,\n        axisVisible = args.axisVisible,\n        scale = args.scale,\n        min = args.min,\n        max = args.max,\n        digit = args.digit;\n\n    var yAxisBase = {\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      show: axisVisible\n    };\n    var yAxis = [];\n\n    var _loop = function _loop(i) {\n      if (yAxisType[i]) {\n        yAxis[i] = _extends$2({}, yAxisBase, {\n          axisLabel: {\n            formatter: function formatter(val) {\n              return utils.getFormated(val, yAxisType[i], digit);\n            }\n          }\n        });\n      } else {\n        yAxis[i] = _extends$2({}, yAxisBase);\n      }\n      yAxis[i].name = yAxisName[i] || '';\n      yAxis[i].scale = scale[i] || false;\n      yAxis[i].min = min[i] || null;\n      yAxis[i].max = max[i] || null;\n    };\n\n    for (var i = 0; i < 2; i++) {\n      _loop(i);\n    }\n    return yAxis;\n  }\n\n  function getLineTooltip(args) {\n    var axisSite = args.axisSite,\n        yAxisType = args.yAxisType,\n        digit = args.digit,\n        labelMap = args.labelMap,\n        tooltipFormatter = args.tooltipFormatter;\n\n    var rightItems = axisSite.right || [];\n    var rightList = labelMap ? rightItems.map(function (item) {\n      return labelMap[item] === undefined ? item : labelMap[item];\n    }) : rightItems;\n    return {\n      trigger: 'axis',\n      formatter: function formatter(items) {\n        if (tooltipFormatter) {\n          return tooltipFormatter.apply(null, arguments);\n        }\n        var tpl = [];\n        var _items$ = items[0],\n            name = _items$.name,\n            axisValueLabel = _items$.axisValueLabel;\n\n        var title = name || axisValueLabel;\n        tpl.push(title + '<br>');\n        items.forEach(function (_ref) {\n          var seriesName = _ref.seriesName,\n              data = _ref.data,\n              marker = _ref.marker;\n\n          var showData = null;\n          var type = ~rightList.indexOf(seriesName) ? yAxisType[1] : yAxisType[0];\n          var itemData = utilsLite.isArray(data) ? data[1] : data;\n          showData = utils.getFormated(itemData, type, digit);\n          tpl.push(marker);\n          tpl.push(seriesName + ': ' + showData);\n          tpl.push('<br>');\n        });\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getLegend(args) {\n    var metrics = args.metrics,\n        legendName = args.legendName,\n        labelMap = args.labelMap;\n\n    if (!legendName && !labelMap) return { data: metrics };\n    var data = labelMap ? metrics.map(function (item) {\n      return labelMap[item] == null ? item : labelMap[item];\n    }) : metrics;\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  var line$1 = function line$$1(columns, rows, settings, extra) {\n    rows = utilsLite.isArray(rows) ? rows : [];\n    columns = utilsLite.isArray(columns) ? columns : [];\n    var _settings$axisSite = settings.axisSite,\n        axisSite = _settings$axisSite === undefined ? {} : _settings$axisSite,\n        _settings$yAxisType = settings.yAxisType,\n        yAxisType = _settings$yAxisType === undefined ? ['normal', 'normal'] : _settings$yAxisType,\n        _settings$xAxisType = settings.xAxisType,\n        xAxisType = _settings$xAxisType === undefined ? 'category' : _settings$xAxisType,\n        _settings$yAxisName = settings.yAxisName,\n        yAxisName = _settings$yAxisName === undefined ? [] : _settings$yAxisName,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? [columns[0]] : _settings$dimension,\n        _settings$xAxisName = settings.xAxisName,\n        xAxisName = _settings$xAxisName === undefined ? [] : _settings$xAxisName,\n        _settings$axisVisible = settings.axisVisible,\n        axisVisible = _settings$axisVisible === undefined ? true : _settings$axisVisible,\n        area = settings.area,\n        stack = settings.stack,\n        _settings$scale = settings.scale,\n        scale = _settings$scale === undefined ? [false, false] : _settings$scale,\n        _settings$min = settings.min,\n        min = _settings$min === undefined ? [null, null] : _settings$min,\n        _settings$max = settings.max,\n        max = _settings$max === undefined ? [null, null] : _settings$max,\n        _settings$nullAddZero = settings.nullAddZero,\n        nullAddZero = _settings$nullAddZero === undefined ? false : _settings$nullAddZero,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$labelMap = settings.labelMap,\n        labelMap = _settings$labelMap === undefined ? {} : _settings$labelMap,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        lineStyle = settings.lineStyle,\n        areaStyle = settings.areaStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible,\n        tooltipFormatter = extra.tooltipFormatter;\n\n    var metrics = columns.slice();\n\n    if (axisSite.left && axisSite.right) {\n      metrics = axisSite.left.concat(axisSite.right);\n    } else if (axisSite.left && !axisSite.right) {\n      metrics = axisSite.left;\n    } else if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension[0]), 1);\n    }\n\n    var legend = legendVisible && getLegend({ metrics: metrics, legendName: legendName, labelMap: labelMap });\n    var tooltip = tooltipVisible && getLineTooltip({\n      axisSite: axisSite,\n      yAxisType: yAxisType,\n      digit: digit,\n      labelMap: labelMap,\n      xAxisType: xAxisType,\n      tooltipFormatter: tooltipFormatter\n    });\n    var xAxis = getLineXAxis({\n      dimension: dimension,\n      rows: rows,\n      xAxisName: xAxisName,\n      axisVisible: axisVisible,\n      xAxisType: xAxisType\n    });\n    var yAxis = getLineYAxis({\n      yAxisName: yAxisName,\n      yAxisType: yAxisType,\n      axisVisible: axisVisible,\n      scale: scale,\n      min: min,\n      max: max,\n      digit: digit\n    });\n    var series = getLineSeries({\n      rows: rows,\n      axisSite: axisSite,\n      metrics: metrics,\n      area: area,\n      stack: stack,\n      nullAddZero: nullAddZero,\n      labelMap: labelMap,\n      label: label,\n      itemStyle: itemStyle,\n      lineStyle: lineStyle,\n      areaStyle: areaStyle,\n      xAxisType: xAxisType,\n      dimension: dimension\n    });\n    var options = { legend: legend, xAxis: xAxis, series: series, yAxis: yAxis, tooltip: tooltip };\n    return options;\n  };\n\n  var index$1 = _extends$2({}, Core, {\n    name: 'VeLine',\n    data: function data() {\n      this.chartHandler = line$1;\n      return {};\n    }\n  });\n\n  var line_common = index$1;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function IndicatorAxis(dim, scale, radiusExtent) {\n    Axis_1.call(this, dim, scale, radiusExtent);\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n\n    this.type = 'value';\n    this.angle = 0;\n    /**\n     * Indicator name\n     * @type {string}\n     */\n\n    this.name = '';\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.model;\n  }\n\n  util.inherits(IndicatorAxis, Axis_1);\n  var _default$1V = IndicatorAxis;\n  var IndicatorAxis_1 = _default$1V;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  var getScaleExtent$1 = axisHelper.getScaleExtent;\n  var niceScaleExtent$2 = axisHelper.niceScaleExtent;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO clockwise\n  function Radar(radarModel, ecModel, api) {\n    this._model = radarModel;\n    /**\n     * Radar dimensions\n     * @type {Array.<string>}\n     */\n\n    this.dimensions = [];\n    this._indicatorAxes = util.map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n      var dim = 'indicator_' + idx;\n      var indicatorAxis = new IndicatorAxis_1(dim, indicatorModel.get('axisType') === 'log' ? new Log() : new Interval());\n      indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\n\n      indicatorAxis.model = indicatorModel;\n      indicatorModel.axis = indicatorAxis;\n      this.dimensions.push(dim);\n      return indicatorAxis;\n    }, this);\n    this.resize(radarModel, api);\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.cx;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.cy;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.r;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.r0;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.startAngle;\n  }\n\n  Radar.prototype.getIndicatorAxes = function () {\n    return this._indicatorAxes;\n  };\n\n  Radar.prototype.dataToPoint = function (value, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n  };\n\n  Radar.prototype.coordToPoint = function (coord, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    var angle = indicatorAxis.angle;\n    var x = this.cx + coord * Math.cos(angle);\n    var y = this.cy - coord * Math.sin(angle);\n    return [x, y];\n  };\n\n  Radar.prototype.pointToData = function (pt) {\n    var dx = pt[0] - this.cx;\n    var dy = pt[1] - this.cy;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx); // Find the closest angle\n    // FIXME index can calculated directly\n\n    var minRadianDiff = Infinity;\n    var closestAxis;\n    var closestAxisIdx = -1;\n\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\n      var indicatorAxis = this._indicatorAxes[i];\n      var diff = Math.abs(radian - indicatorAxis.angle);\n\n      if (diff < minRadianDiff) {\n        closestAxis = indicatorAxis;\n        closestAxisIdx = i;\n        minRadianDiff = diff;\n      }\n    }\n\n    return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\n  };\n\n  Radar.prototype.resize = function (radarModel, api) {\n    var center = radarModel.get('center');\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\n    this.cx = number.parsePercent(center[0], viewWidth);\n    this.cy = number.parsePercent(center[1], viewHeight);\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180; // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\n\n    var radius = radarModel.get('radius');\n\n    if (typeof radius === 'string' || typeof radius === 'number') {\n      radius = [0, radius];\n    }\n\n    this.r0 = number.parsePercent(radius[0], viewSize);\n    this.r = number.parsePercent(radius[1], viewSize);\n    util.each(this._indicatorAxes, function (indicatorAxis, idx) {\n      indicatorAxis.setExtent(this.r0, this.r);\n      var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\n\n      angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n      indicatorAxis.angle = angle;\n    }, this);\n  };\n\n  Radar.prototype.update = function (ecModel, api) {\n    var indicatorAxes = this._indicatorAxes;\n    var radarModel = this._model;\n    util.each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n      if (radarSeries.get('coordinateSystem') !== 'radar' || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n        return;\n      }\n\n      var data = radarSeries.getData();\n      util.each(indicatorAxes, function (indicatorAxis) {\n        indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\n      });\n    }, this);\n    var splitNumber = radarModel.get('splitNumber');\n\n    function increaseInterval(interval) {\n      var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10)); // Increase interval\n\n      var f = interval / exp10;\n\n      if (f === 2) {\n        f = 5;\n      } else {\n        // f is 2 or 5\n        f *= 2;\n      }\n\n      return f * exp10;\n    } // Force all the axis fixing the maxSplitNumber.\n\n\n    util.each(indicatorAxes, function (indicatorAxis, idx) {\n      var rawExtent = getScaleExtent$1(indicatorAxis.scale, indicatorAxis.model).extent;\n      niceScaleExtent$2(indicatorAxis.scale, indicatorAxis.model);\n      var axisModel = indicatorAxis.model;\n      var scale = indicatorAxis.scale;\n      var fixedMin = axisModel.getMin();\n      var fixedMax = axisModel.getMax();\n      var interval = scale.getInterval();\n\n      if (fixedMin != null && fixedMax != null) {\n        // User set min, max, divide to get new interval\n        scale.setExtent(+fixedMin, +fixedMax);\n        scale.setInterval((fixedMax - fixedMin) / splitNumber);\n      } else if (fixedMin != null) {\n        var max; // User set min, expand extent on the other side\n\n        do {\n          max = fixedMin + interval * splitNumber;\n          scale.setExtent(+fixedMin, max); // Interval must been set after extent\n          // FIXME\n\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n      } else if (fixedMax != null) {\n        var min; // User set min, expand extent on the other side\n\n        do {\n          min = fixedMax - interval * splitNumber;\n          scale.setExtent(min, +fixedMax);\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n      } else {\n        var nicedSplitNumber = scale.getTicks().length - 1;\n\n        if (nicedSplitNumber > splitNumber) {\n          interval = increaseInterval(interval);\n        } // TODO\n\n\n        var max = Math.ceil(rawExtent[1] / interval) * interval;\n        var min = number.round(max - interval * splitNumber);\n        scale.setExtent(min, max);\n        scale.setInterval(interval);\n      }\n    });\n  };\n  /**\n   * Radar dimensions is based on the data\n   * @type {Array}\n   */\n\n\n  Radar.dimensions = [];\n\n  Radar.create = function (ecModel, api) {\n    var radarList = [];\n    ecModel.eachComponent('radar', function (radarModel) {\n      var radar = new Radar(radarModel, ecModel, api);\n      radarList.push(radar);\n      radarModel.coordinateSystem = radar;\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\n      if (radarSeries.get('coordinateSystem') === 'radar') {\n        // Inject coordinate system\n        radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n      }\n    });\n    return radarList;\n  };\n\n  CoordinateSystem.register('radar', Radar);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var valueAxisDefault = axisDefault_1.valueAxis;\n\n  function defaultsShow(opt, show) {\n    return util.defaults({\n      show: show\n    }, opt);\n  }\n\n  var RadarModel = echarts.extendComponentModel({\n    type: 'radar',\n    optionUpdated: function () {\n      var boundaryGap = this.get('boundaryGap');\n      var splitNumber = this.get('splitNumber');\n      var scale = this.get('scale');\n      var axisLine = this.get('axisLine');\n      var axisTick = this.get('axisTick');\n      var axisType = this.get('axisType');\n      var axisLabel = this.get('axisLabel');\n      var nameTextStyle = this.get('name');\n      var showName = this.get('name.show');\n      var nameFormatter = this.get('name.formatter');\n      var nameGap = this.get('nameGap');\n      var triggerEvent = this.get('triggerEvent');\n      var indicatorModels = util.map(this.get('indicator') || [], function (indicatorOpt) {\n        // PENDING\n        if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n          indicatorOpt.min = 0;\n        } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n          indicatorOpt.max = 0;\n        }\n\n        var iNameTextStyle = nameTextStyle;\n\n        if (indicatorOpt.color != null) {\n          iNameTextStyle = util.defaults({\n            color: indicatorOpt.color\n          }, nameTextStyle);\n        } // Use same configuration\n\n\n        indicatorOpt = util.merge(util.clone(indicatorOpt), {\n          boundaryGap: boundaryGap,\n          splitNumber: splitNumber,\n          scale: scale,\n          axisLine: axisLine,\n          axisTick: axisTick,\n          axisType: axisType,\n          axisLabel: axisLabel,\n          // Compatible with 2 and use text\n          name: indicatorOpt.text,\n          nameLocation: 'end',\n          nameGap: nameGap,\n          // min: 0,\n          nameTextStyle: iNameTextStyle,\n          triggerEvent: triggerEvent\n        }, false);\n\n        if (!showName) {\n          indicatorOpt.name = '';\n        }\n\n        if (typeof nameFormatter === 'string') {\n          var indName = indicatorOpt.name;\n          indicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n        } else if (typeof nameFormatter === 'function') {\n          indicatorOpt.name = nameFormatter(indicatorOpt.name, indicatorOpt);\n        }\n\n        var model = util.extend(new Model_1(indicatorOpt, null, this.ecModel), axisModelCommonMixin); // For triggerEvent.\n\n        model.mainType = 'radar';\n        model.componentIndex = this.componentIndex;\n        return model;\n      }, this);\n\n      this.getIndicatorModels = function () {\n        return indicatorModels;\n      };\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 0,\n      center: ['50%', '50%'],\n      radius: '75%',\n      startAngle: 90,\n      name: {\n        show: true // formatter: null\n        // textStyle: {}\n\n      },\n      boundaryGap: [0, 0],\n      splitNumber: 5,\n      nameGap: 15,\n      scale: false,\n      // Polygon or circle\n      shape: 'polygon',\n      axisLine: util.merge({\n        lineStyle: {\n          color: '#bbb'\n        }\n      }, valueAxisDefault.axisLine),\n      axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n      axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n      axisType: 'interval',\n      splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n      splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n      // {text, min, max}\n      indicator: []\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var axisBuilderAttrs$1 = ['axisLine', 'axisTickLabel', 'axisName'];\n\n  var _default$1W = echarts.extendComponentView({\n    type: 'radar',\n    render: function (radarModel, ecModel, api) {\n      var group = this.group;\n      group.removeAll();\n\n      this._buildAxes(radarModel);\n\n      this._buildSplitLineAndArea(radarModel);\n    },\n    _buildAxes: function (radarModel) {\n      var radar = radarModel.coordinateSystem;\n      var indicatorAxes = radar.getIndicatorAxes();\n      var axisBuilders = util.map(indicatorAxes, function (indicatorAxis) {\n        var axisBuilder = new AxisBuilder_1(indicatorAxis.model, {\n          position: [radar.cx, radar.cy],\n          rotation: indicatorAxis.angle,\n          labelDirection: -1,\n          tickDirection: -1,\n          nameDirection: 1\n        });\n        return axisBuilder;\n      });\n      util.each(axisBuilders, function (axisBuilder) {\n        util.each(axisBuilderAttrs$1, axisBuilder.add, axisBuilder);\n        this.group.add(axisBuilder.getGroup());\n      }, this);\n    },\n    _buildSplitLineAndArea: function (radarModel) {\n      var radar = radarModel.coordinateSystem;\n      var indicatorAxes = radar.getIndicatorAxes();\n\n      if (!indicatorAxes.length) {\n        return;\n      }\n\n      var shape = radarModel.get('shape');\n      var splitLineModel = radarModel.getModel('splitLine');\n      var splitAreaModel = radarModel.getModel('splitArea');\n      var lineStyleModel = splitLineModel.getModel('lineStyle');\n      var areaStyleModel = splitAreaModel.getModel('areaStyle');\n      var showSplitLine = splitLineModel.get('show');\n      var showSplitArea = splitAreaModel.get('show');\n      var splitLineColors = lineStyleModel.get('color');\n      var splitAreaColors = areaStyleModel.get('color');\n      splitLineColors = util.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n      splitAreaColors = util.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n      var splitLines = [];\n      var splitAreas = [];\n\n      function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n        var colorIndex = idx % areaOrLineColorList.length;\n        areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n        return colorIndex;\n      }\n\n      if (shape === 'circle') {\n        var ticksRadius = indicatorAxes[0].getTicksCoords();\n        var cx = radar.cx;\n        var cy = radar.cy;\n\n        for (var i = 0; i < ticksRadius.length; i++) {\n          if (showSplitLine) {\n            var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n            splitLines[colorIndex].push(new graphic.Circle({\n              shape: {\n                cx: cx,\n                cy: cy,\n                r: ticksRadius[i].coord\n              }\n            }));\n          }\n\n          if (showSplitArea && i < ticksRadius.length - 1) {\n            var colorIndex = getColorIndex(splitAreas, splitAreaColors, i);\n            splitAreas[colorIndex].push(new graphic.Ring({\n              shape: {\n                cx: cx,\n                cy: cy,\n                r0: ticksRadius[i].coord,\n                r: ticksRadius[i + 1].coord\n              }\n            }));\n          }\n        }\n      } // Polyyon\n      else {\n          var realSplitNumber;\n          var axesTicksPoints = util.map(indicatorAxes, function (indicatorAxis, idx) {\n            var ticksCoords = indicatorAxis.getTicksCoords();\n            realSplitNumber = realSplitNumber == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber);\n            return util.map(ticksCoords, function (tickCoord) {\n              return radar.coordToPoint(tickCoord.coord, idx);\n            });\n          });\n          var prevPoints = [];\n\n          for (var i = 0; i <= realSplitNumber; i++) {\n            var points = [];\n\n            for (var j = 0; j < indicatorAxes.length; j++) {\n              points.push(axesTicksPoints[j][i]);\n            } // Close\n\n\n            if (points[0]) {\n              points.push(points[0].slice());\n            }\n\n            if (showSplitLine) {\n              var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n              splitLines[colorIndex].push(new graphic.Polyline({\n                shape: {\n                  points: points\n                }\n              }));\n            }\n\n            if (showSplitArea && prevPoints) {\n              var colorIndex = getColorIndex(splitAreas, splitAreaColors, i - 1);\n              splitAreas[colorIndex].push(new graphic.Polygon({\n                shape: {\n                  points: points.concat(prevPoints)\n                }\n              }));\n            }\n\n            prevPoints = points.slice().reverse();\n          }\n        }\n\n      var lineStyle = lineStyleModel.getLineStyle();\n      var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\n\n      util.each(splitAreas, function (splitAreas, idx) {\n        this.group.add(graphic.mergePath(splitAreas, {\n          style: util.defaults({\n            stroke: 'none',\n            fill: splitAreaColors[idx % splitAreaColors.length]\n          }, areaStyle),\n          silent: true\n        }));\n      }, this);\n      util.each(splitLines, function (splitLines, idx) {\n        this.group.add(graphic.mergePath(splitLines, {\n          style: util.defaults({\n            fill: 'none',\n            stroke: splitLineColors[idx % splitLineColors.length]\n          }, lineStyle),\n          silent: true\n        }));\n      }, this);\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var extend$a = util.extend;\n  var isArray$9 = util.isArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * [Usage]:\n   * (1)\n   * createListSimply(seriesModel, ['value']);\n   * (2)\n   * createListSimply(seriesModel, {\n   *     coordDimensions: ['value'],\n   *     dimensionsCount: 5\n   * });\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n   *        The options in opt, see `echarts/data/helper/createDimensions`\n   * @param {Array.<string>} [nameList]\n   * @return {module:echarts/data/List}\n   */\n  function _default$1X(seriesModel, opt, nameList) {\n    opt = isArray$9(opt) && {\n      coordDimensions: opt\n    } || extend$a({}, opt);\n    var source = seriesModel.getSource();\n    var dimensionsInfo = createDimensions(source, opt);\n    var list = new List_1(dimensionsInfo, seriesModel);\n    list.initData(source, nameList);\n    return list;\n  }\n\n  var createListSimply = _default$1X;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * LegendVisualProvider is an bridge that pick encoded color from data and\n   * provide to the legend component.\n   * @param {Function} getDataWithEncodedVisual Function to get data after filtered. It stores all the encoding info\n   * @param {Function} getRawData Function to get raw data before filtered.\n   */\n  function LegendVisualProvider(getDataWithEncodedVisual, getRawData) {\n    this.getAllNames = function () {\n      var rawData = getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n      // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n      return rawData.mapArray(rawData.getName);\n    };\n\n    this.containName = function (name) {\n      var rawData = getRawData();\n      return rawData.indexOfName(name) >= 0;\n    };\n\n    this.indexOfName = function (name) {\n      // Only get data when necessary.\n      // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n      // Invoking Series#getData immediately will throw an error.\n      var dataWithEncodedVisual = getDataWithEncodedVisual();\n      return dataWithEncodedVisual.indexOfName(name);\n    };\n\n    this.getItemVisual = function (dataIndex, key) {\n      // Get encoded visual properties from final filtered data.\n      var dataWithEncodedVisual = getDataWithEncodedVisual();\n      return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n    };\n  }\n\n  var _default$1Y = LegendVisualProvider;\n  var LegendVisualProvider_1 = _default$1Y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var encodeHTML$2 = format$1.encodeHTML;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var RadarSeries = Series.extend({\n    type: 'series.radar',\n    dependencies: ['radar'],\n    // Overwrite\n    init: function (option) {\n      RadarSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this));\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        generateCoord: 'indicator_',\n        generateCoordCount: Infinity\n      });\n    },\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var data = this.getData();\n      var coordSys = this.coordinateSystem;\n      var indicatorAxes = coordSys.getIndicatorAxes();\n      var name = this.getData().getName(dataIndex);\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n      return encodeHTML$2(name === '' ? this.name : name) + newLine + util.map(indicatorAxes, function (axis, idx) {\n        var val = data.get(data.mapDimension(axis.dim), dataIndex);\n        return encodeHTML$2(axis.name + ' : ' + val);\n      }).join(newLine);\n    },\n\n    /**\n     * @implement\n     */\n    getTooltipPosition: function (dataIndex) {\n      if (dataIndex != null) {\n        var data = this.getData();\n        var coordSys = this.coordinateSystem;\n        var values = data.getValues(util.map(coordSys.dimensions, function (dim) {\n          return data.mapDimension(dim);\n        }), dataIndex, true);\n\n        for (var i = 0, len = values.length; i < len; i++) {\n          if (!isNaN(values[i])) {\n            var indicatorAxes = coordSys.getIndicatorAxes();\n            return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]), i);\n          }\n        }\n      }\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      coordinateSystem: 'radar',\n      legendHoverLink: true,\n      radarIndex: 0,\n      lineStyle: {\n        width: 2,\n        type: 'solid'\n      },\n      label: {\n        position: 'top'\n      },\n      // areaStyle: {\n      // },\n      // itemStyle: {}\n      symbol: 'emptyCircle',\n      symbolSize: 4 // symbolRotate: null\n\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function normalizeSymbolSize(symbolSize) {\n    if (!util.isArray(symbolSize)) {\n      symbolSize = [+symbolSize, +symbolSize];\n    }\n\n    return symbolSize;\n  }\n\n  var _default$1Z = echarts.extendChartView({\n    type: 'radar',\n    render: function (seriesModel, ecModel, api) {\n      var polar = seriesModel.coordinateSystem;\n      var group = this.group;\n      var data = seriesModel.getData();\n      var oldData = this._data;\n\n      function createSymbol(data, idx) {\n        var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n        var color = data.getItemVisual(idx, 'color');\n\n        if (symbolType === 'none') {\n          return;\n        }\n\n        var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n        var symbolPath = symbol.createSymbol(symbolType, -1, -1, 2, 2, color);\n        var symbolRotate = data.getItemVisual(idx, 'symbolRotate') || 0;\n        symbolPath.attr({\n          style: {\n            strokeNoScale: true\n          },\n          z2: 100,\n          scale: [symbolSize[0] / 2, symbolSize[1] / 2],\n          rotation: symbolRotate * Math.PI / 180 || 0\n        });\n        return symbolPath;\n      }\n\n      function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n        // Simply rerender all\n        symbolGroup.removeAll();\n\n        for (var i = 0; i < newPoints.length - 1; i++) {\n          var symbolPath = createSymbol(data, idx);\n\n          if (symbolPath) {\n            symbolPath.__dimIdx = i;\n\n            if (oldPoints[i]) {\n              symbolPath.attr('position', oldPoints[i]);\n              graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n                position: newPoints[i]\n              }, seriesModel, idx);\n            } else {\n              symbolPath.attr('position', newPoints[i]);\n            }\n\n            symbolGroup.add(symbolPath);\n          }\n        }\n      }\n\n      function getInitialPoints(points) {\n        return util.map(points, function (pt) {\n          return [polar.cx, polar.cy];\n        });\n      }\n\n      data.diff(oldData).add(function (idx) {\n        var points = data.getItemLayout(idx);\n\n        if (!points) {\n          return;\n        }\n\n        var polygon = new graphic.Polygon();\n        var polyline = new graphic.Polyline();\n        var target = {\n          shape: {\n            points: points\n          }\n        };\n        polygon.shape.points = getInitialPoints(points);\n        polyline.shape.points = getInitialPoints(points);\n        graphic.initProps(polygon, target, seriesModel, idx);\n        graphic.initProps(polyline, target, seriesModel, idx);\n        var itemGroup = new graphic.Group();\n        var symbolGroup = new graphic.Group();\n        itemGroup.add(polyline);\n        itemGroup.add(polygon);\n        itemGroup.add(symbolGroup);\n        updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n        data.setItemGraphicEl(idx, itemGroup);\n      }).update(function (newIdx, oldIdx) {\n        var itemGroup = oldData.getItemGraphicEl(oldIdx);\n        var polyline = itemGroup.childAt(0);\n        var polygon = itemGroup.childAt(1);\n        var symbolGroup = itemGroup.childAt(2);\n        var target = {\n          shape: {\n            points: data.getItemLayout(newIdx)\n          }\n        };\n\n        if (!target.shape.points) {\n          return;\n        }\n\n        updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n        graphic.updateProps(polyline, target, seriesModel);\n        graphic.updateProps(polygon, target, seriesModel);\n        data.setItemGraphicEl(newIdx, itemGroup);\n      }).remove(function (idx) {\n        group.remove(oldData.getItemGraphicEl(idx));\n      }).execute();\n      data.eachItemGraphicEl(function (itemGroup, idx) {\n        var itemModel = data.getItemModel(idx);\n        var polyline = itemGroup.childAt(0);\n        var polygon = itemGroup.childAt(1);\n        var symbolGroup = itemGroup.childAt(2);\n        var color = data.getItemVisual(idx, 'color');\n        group.add(itemGroup);\n        polyline.useStyle(util.defaults(itemModel.getModel('lineStyle').getLineStyle(), {\n          fill: 'none',\n          stroke: color\n        }));\n        polyline.hoverStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n        var areaStyleModel = itemModel.getModel('areaStyle');\n        var hoverAreaStyleModel = itemModel.getModel('emphasis.areaStyle');\n        var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n        var hoverPolygonIgnore = hoverAreaStyleModel.isEmpty() && hoverAreaStyleModel.parentModel.isEmpty();\n        hoverPolygonIgnore = hoverPolygonIgnore && polygonIgnore;\n        polygon.ignore = polygonIgnore;\n        polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(), {\n          fill: color,\n          opacity: 0.7\n        }));\n        polygon.hoverStyle = hoverAreaStyleModel.getAreaStyle();\n        var itemStyle = itemModel.getModel('itemStyle').getItemStyle(['color']);\n        var itemHoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n        var labelModel = itemModel.getModel('label');\n        var labelHoverModel = itemModel.getModel('emphasis.label');\n        symbolGroup.eachChild(function (symbolPath) {\n          symbolPath.setStyle(itemStyle);\n          symbolPath.hoverStyle = util.clone(itemHoverStyle);\n          var defaultText = data.get(data.dimensions[symbolPath.__dimIdx], idx);\n          (defaultText == null || isNaN(defaultText)) && (defaultText = '');\n          graphic.setLabelStyle(symbolPath.style, symbolPath.hoverStyle, labelModel, labelHoverModel, {\n            labelFetcher: data.hostModel,\n            labelDataIndex: idx,\n            labelDimIndex: symbolPath.__dimIdx,\n            defaultText: defaultText,\n            autoColor: color,\n            isRectText: true\n          });\n        });\n\n        itemGroup.highDownOnUpdate = function (fromState, toState) {\n          polygon.attr('ignore', toState === 'emphasis' ? hoverPolygonIgnore : polygonIgnore);\n        };\n\n        graphic.setHoverStyle(itemGroup);\n      });\n      this._data = data;\n    },\n    remove: function () {\n      this.group.removeAll();\n      this._data = null;\n    },\n    dispose: function () {}\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$b = util.createHashMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Pick color from palette for each data item.\n  // Applicable for charts that require applying color palette\n  // in data level (like pie, funnel, chord).\n  function _default$1_(seriesType) {\n    return {\n      getTargetSeries: function (ecModel) {\n        // Pie and funnel may use diferrent scope\n        var paletteScope = {};\n        var seiresModelMap = createHashMap$b();\n        ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n          seriesModel.__paletteScope = paletteScope;\n          seiresModelMap.set(seriesModel.uid, seriesModel);\n        });\n        return seiresModelMap;\n      },\n      reset: function (seriesModel, ecModel) {\n        var dataAll = seriesModel.getRawData();\n        var idxMap = {};\n        var data = seriesModel.getData();\n        data.each(function (idx) {\n          var rawIdx = data.getRawIndex(idx);\n          idxMap[rawIdx] = idx;\n        });\n        dataAll.each(function (rawIdx) {\n          var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n          var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n          var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n          var itemModel;\n\n          if (!singleDataColor || !singleDataBorderColor) {\n            // FIXME Performance\n            itemModel = dataAll.getItemModel(rawIdx);\n          }\n\n          if (!singleDataColor) {\n            var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Data is not filtered\n\n            if (filteredIdx != null) {\n              data.setItemVisual(filteredIdx, 'color', color);\n            }\n          }\n\n          if (!singleDataBorderColor) {\n            var borderColor = itemModel.get('itemStyle.borderColor'); // Data is not filtered\n\n            if (filteredIdx != null) {\n              data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n            }\n          }\n        });\n      }\n    };\n  }\n\n  var dataColor = _default$1_;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1$(ecModel) {\n    ecModel.eachSeriesByType('radar', function (seriesModel) {\n      var data = seriesModel.getData();\n      var points = [];\n      var coordSys = seriesModel.coordinateSystem;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var axes = coordSys.getIndicatorAxes();\n      util.each(axes, function (axis, axisIndex) {\n        data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n          points[dataIndex] = points[dataIndex] || [];\n          var point = coordSys.dataToPoint(val, axisIndex);\n          points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n        });\n      }); // Close polygon\n\n      data.each(function (idx) {\n        // TODO\n        // Is it appropriate to connect to the next data when some data is missing?\n        // Or, should trade it like `connectNull` in line chart?\n        var firstPoint = util.find(points[idx], function (point) {\n          return isValidPoint(point);\n        }) || getValueMissingPoint(coordSys); // Copy the first actual point to the end of the array\n\n        points[idx].push(firstPoint.slice());\n        data.setItemLayout(idx, points[idx]);\n      });\n    });\n  }\n\n  function isValidPoint(point) {\n    return !isNaN(point[0]) && !isNaN(point[1]);\n  }\n\n  function getValueMissingPoint(coordSys) {\n    // It is error-prone to input [NaN, NaN] into polygon, polygon.\n    // (probably cause problem when refreshing or animating)\n    return [coordSys.cx, coordSys.cy];\n  }\n\n  var radarLayout = _default$1$;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$20(seriesType) {\n    return {\n      seriesType: seriesType,\n      reset: function (seriesModel, ecModel) {\n        var legendModels = ecModel.findComponents({\n          mainType: 'legend'\n        });\n\n        if (!legendModels || !legendModels.length) {\n          return;\n        }\n\n        var data = seriesModel.getData();\n        data.filterSelf(function (idx) {\n          var name = data.getName(idx); // If in any legend component the status is not selected.\n\n          for (var i = 0; i < legendModels.length; i++) {\n            if (!legendModels[i].isSelected(name)) {\n              return false;\n            }\n          }\n\n          return true;\n        });\n      }\n    };\n  }\n\n  var dataFilter = _default$20;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Backward compat for radar chart in 2\n  function _default$21(option) {\n    var polarOptArr = option.polar;\n\n    if (polarOptArr) {\n      if (!util.isArray(polarOptArr)) {\n        polarOptArr = [polarOptArr];\n      }\n\n      var polarNotRadar = [];\n      util.each(polarOptArr, function (polarOpt, idx) {\n        if (polarOpt.indicator) {\n          if (polarOpt.type && !polarOpt.shape) {\n            polarOpt.shape = polarOpt.type;\n          }\n\n          option.radar = option.radar || [];\n\n          if (!util.isArray(option.radar)) {\n            option.radar = [option.radar];\n          }\n\n          option.radar.push(polarOpt);\n        } else {\n          polarNotRadar.push(polarOpt);\n        }\n      });\n      option.polar = polarNotRadar;\n    }\n\n    util.each(option.series, function (seriesOpt) {\n      if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n        seriesOpt.radarIndex = seriesOpt.polarIndex;\n      }\n    });\n  }\n\n  var backwardCompat$1 = _default$21;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Must use radar component\n  echarts.registerVisual(dataColor('radar'));\n  echarts.registerVisual(symbol$1('radar', 'circle'));\n  echarts.registerLayout(radarLayout);\n  echarts.registerProcessor(dataFilter('radar'));\n  echarts.registerPreprocessor(backwardCompat$1);\n\n  function _interopDefault$3 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core$1 = _interopDefault$3(core_1);\n\n  function getRadarLegend(rows, dimension, legendName) {\n    var legendData = rows.map(function (row) {\n      return row[dimension];\n    });\n\n    return {\n      data: legendData,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getRadarTooltip(dataType, radar$$1, digit) {\n    var typeTemp = [];\n    var nameTemp = [];\n    radar$$1.indicator.map(function (item, index) {\n      typeTemp[index] = dataType[item.name];\n      nameTemp[index] = item.name;\n    });\n    return {\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        tpl.push(item.name + '<br />');\n        item.data.value.forEach(function (val, index) {\n          tpl.push(nameTemp[index] + ': ');\n          tpl.push(utils.getFormated(val, typeTemp[index], digit) + '<br />');\n        });\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getRadarSetting(rows, metrics, labelMap) {\n    var settingBase = {\n      indicator: [],\n      shape: 'circle',\n      splitNumber: 5\n    };\n    var indicatorTemp = {};\n    rows.forEach(function (items) {\n      metrics.forEach(function (item) {\n        var key = labelMap[item] != null ? labelMap[item] : item;\n        if (!indicatorTemp[key]) {\n          indicatorTemp[key] = [items[item]];\n        } else {\n          indicatorTemp[key].push(items[item]);\n        }\n      });\n    });\n    settingBase.indicator = Object.keys(indicatorTemp).map(function (key) {\n      return {\n        name: key,\n        max: Math.max.apply(null, indicatorTemp[key])\n      };\n    });\n    return settingBase;\n  }\n\n  function getRadarSeries(args) {\n    var rows = args.rows,\n        dimension = args.dimension,\n        metrics = args.metrics,\n        radar$$1 = args.radar,\n        label = args.label,\n        itemStyle = args.itemStyle,\n        lineStyle = args.lineStyle,\n        labelMap = args.labelMap,\n        areaStyle = args.areaStyle;\n\n    var radarIndexObj = {};\n    radar$$1.indicator.forEach(function (item, index) {\n      var name = item.name;\n      radarIndexObj[name] = index;\n    });\n\n    var seriesData = rows.map(function (row) {\n      var serieData = {\n        value: [],\n        name: row[dimension]\n      };\n      Object.keys(row).forEach(function (key) {\n        if (~metrics.indexOf(key)) {\n          var k = labelMap[key] != null ? radarIndexObj[labelMap[key]] : radarIndexObj[key];\n          serieData.value[k] = row[key];\n        }\n      });\n      return serieData;\n    });\n    var result = {\n      name: dimension,\n      type: 'radar',\n      data: seriesData\n    };\n    if (label) result.label = label;\n    if (itemStyle) result.itemStyle = itemStyle;\n    if (lineStyle) result.lineStyle = lineStyle;\n    if (areaStyle) result.areaStyle = areaStyle;\n    return [result];\n  }\n\n  var radar$1 = function radar$$1(columns, rows, settings, extra) {\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? {} : _settings$dataType,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$labelMap = settings.labelMap,\n        labelMap = _settings$labelMap === undefined ? {} : _settings$labelMap,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        lineStyle = settings.lineStyle,\n        areaStyle = settings.areaStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    var metrics = columns.slice();\n    if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension), 1);\n    }\n    var legend = legendVisible && getRadarLegend(rows, dimension, legendName);\n    var radar$$1 = getRadarSetting(rows, metrics, labelMap);\n    var tooltip = tooltipVisible && getRadarTooltip(dataType, radar$$1, digit);\n    var series = getRadarSeries({\n      rows: rows,\n      dimension: dimension,\n      metrics: metrics,\n      radar: radar$$1,\n      label: label,\n      itemStyle: itemStyle,\n      lineStyle: lineStyle,\n      labelMap: labelMap,\n      areaStyle: areaStyle\n    });\n    var options = { legend: legend, tooltip: tooltip, radar: radar$$1, series: series };\n    return options;\n  };\n\n  var _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var index$2 = _extends$3({}, Core$1, {\n    name: 'VeRadar',\n    data: function data() {\n      this.chartHandler = radar$1;\n      return {};\n    }\n  });\n\n  var radar_common = index$2;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Data selectable mixin for chart series.\n   * To eanble data select, option of series must have `selectedMode`.\n   * And each data item will use `selected` to toggle itself selected status\n   */\n  var _default$22 = {\n    /**\n     * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n     *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n     *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n     */\n    updateSelectedMap: function (targetList) {\n      this._targetList = util.isArray(targetList) ? targetList.slice() : [];\n      this._selectTargetMap = util.reduce(targetList || [], function (targetMap, target) {\n        targetMap.set(target.name, target);\n        return targetMap;\n      }, util.createHashMap());\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    // PENGING If selectedMode is null ?\n    select: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n      var selectedMode = this.get('selectedMode');\n\n      if (selectedMode === 'single') {\n        this._selectTargetMap.each(function (target) {\n          target.selected = false;\n        });\n      }\n\n      target && (target.selected = true);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    unSelect: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n      // selectedMode !== 'single' && target && (target.selected = false);\n\n      target && (target.selected = false);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    toggleSelected: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n      if (target != null) {\n        this[target.selected ? 'unSelect' : 'select'](name, id);\n        return target.selected;\n      }\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    isSelected: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n      return target && target.selected;\n    }\n  };\n  var selectableMixin = _default$22;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  var getPercentWithPrecision$1 = number.getPercentWithPrecision;\n\n\n\n\n\n  var retrieveRawAttr$1 = dataProvider.retrieveRawAttr;\n\n\n\n  var makeSeriesEncodeForNameBased$1 = sourceHelper.makeSeriesEncodeForNameBased;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PieSeries = echarts.extendSeriesModel({\n    type: 'series.pie',\n    // Overwrite\n    init: function (option) {\n      PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this));\n      this.updateSelectedMap(this._createSelectableList());\n\n      this._defaultLabelLine(option);\n    },\n    // Overwrite\n    mergeOption: function (newOption) {\n      PieSeries.superCall(this, 'mergeOption', newOption);\n      this.updateSelectedMap(this._createSelectableList());\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        coordDimensions: ['value'],\n        encodeDefaulter: util.curry(makeSeriesEncodeForNameBased$1, this)\n      });\n    },\n    _createSelectableList: function () {\n      var data = this.getRawData();\n      var valueDim = data.mapDimension('value');\n      var targetList = [];\n\n      for (var i = 0, len = data.count(); i < len; i++) {\n        targetList.push({\n          name: data.getName(i),\n          value: data.get(valueDim, i),\n          selected: retrieveRawAttr$1(data, i, 'selected')\n        });\n      }\n\n      return targetList;\n    },\n    // Overwrite\n    getDataParams: function (dataIndex) {\n      var data = this.getData();\n      var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n      var valueList = [];\n      data.each(data.mapDimension('value'), function (value) {\n        valueList.push(value);\n      });\n      params.percent = getPercentWithPrecision$1(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n      params.$vars.push('percent');\n      return params;\n    },\n    _defaultLabelLine: function (option) {\n      // Extend labelLine emphasis\n      model.defaultEmphasis(option, 'labelLine', ['show']);\n      var labelLineNormalOpt = option.labelLine;\n      var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n      labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n      labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      legendHoverLink: true,\n      hoverAnimation: true,\n      // \n      center: ['50%', '50%'],\n      radius: [0, '75%'],\n      // \n      clockwise: true,\n      startAngle: 90,\n      // 0\n      minAngle: 0,\n      // If the angle of a sector less than `minShowLabelAngle`,\n      // the label will not be displayed.\n      minShowLabelAngle: 0,\n      // \n      selectedOffset: 10,\n      // \n      hoverOffset: 10,\n      // If use strategy to avoid label overlapping\n      avoidLabelOverlap: true,\n      // singlemultiple\n      // selectedMode: false,\n      // 'radius' | 'area'\n      // roseType: null,\n      percentPrecision: 2,\n      // If still show when all data zero.\n      stillShowZeroSum: true,\n      // cursor: null,\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      width: null,\n      height: null,\n      label: {\n        // If rotate around circle\n        rotate: false,\n        show: true,\n        // 'outer', 'inside', 'center'\n        position: 'outer',\n        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n        alignTo: 'none',\n        // Closest distance between label and chart edge.\n        // Works only position is 'outer' and alignTo is 'edge'.\n        margin: '25%',\n        // Works only position is 'outer' and alignTo is not 'edge'.\n        bleedMargin: 10,\n        // Distance between text and label line.\n        distanceToLabelLine: 5 // formatter: Tooltip.formatter\n        // TEXTSTYLE\n        // distance: positioninnerlabel()\n\n      },\n      // Enabled when label.normal.position is 'outer'\n      labelLine: {\n        show: true,\n        // \n        length: 15,\n        // \n        length2: 15,\n        smooth: false,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      itemStyle: {\n        borderWidth: 1\n      },\n      // Animation type. Valid values: expansion, scale\n      animationType: 'expansion',\n      // Animation type when update. Valid values: transition, expansion\n      animationTypeUpdate: 'transition',\n      animationEasing: 'cubicOut'\n    }\n  });\n  util.mixin(PieSeries, selectableMixin);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {boolean} hasAnimation\n   * @inner\n   */\n  function updateDataSelected(uid, seriesModel, hasAnimation, api) {\n    var data = seriesModel.getData();\n    var dataIndex = this.dataIndex;\n    var name = data.getName(dataIndex);\n    var selectedOffset = seriesModel.get('selectedOffset');\n    api.dispatchAction({\n      type: 'pieToggleSelect',\n      from: uid,\n      name: name,\n      seriesId: seriesModel.id\n    });\n    data.each(function (idx) {\n      toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n    });\n  }\n  /**\n   * @param {module:zrender/graphic/Sector} el\n   * @param {Object} layout\n   * @param {boolean} isSelected\n   * @param {number} selectedOffset\n   * @param {boolean} hasAnimation\n   * @inner\n   */\n\n\n  function toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var offset = isSelected ? selectedOffset : 0;\n    var position = [dx * offset, dy * offset];\n    hasAnimation // animateTo will stop revious animation like update transition\n    ? el.animate().when(200, {\n      position: position\n    }).start('bounceOut') : el.attr('position', position);\n  }\n  /**\n   * Piece of pie including Sector, Label, LabelLine\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   */\n\n\n  function PiePiece(data, idx) {\n    graphic.Group.call(this);\n    var sector = new graphic.Sector({\n      z2: 2\n    });\n    var polyline = new graphic.Polyline();\n    var text = new graphic.Text();\n    this.add(sector);\n    this.add(polyline);\n    this.add(text);\n    this.updateData(data, idx, true);\n  }\n\n  var piePieceProto = PiePiece.prototype;\n\n  piePieceProto.updateData = function (data, idx, firstCreate) {\n    var sector = this.childAt(0);\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var sectorShape = util.extend({}, layout);\n    sectorShape.label = null;\n    var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          sector.shape.endAngle = layout.startAngle;\n          graphic.updateProps(sector, {\n            shape: {\n              endAngle: layout.endAngle\n            }\n          }, seriesModel, idx);\n        }\n    } else {\n      if (animationTypeUpdate === 'expansion') {\n        // Sectors are set to be target shape and an overlaying clipPath is used for animation\n        sector.setShape(sectorShape);\n      } else {\n        // Transition animation from the old shape\n        graphic.updateProps(sector, {\n          shape: sectorShape\n        }, seriesModel, idx);\n      }\n    } // Update common style\n\n\n    var visualColor = data.getItemVisual(idx, 'color');\n    sector.useStyle(util.defaults({\n      lineJoin: 'bevel',\n      fill: visualColor\n    }, itemModel.getModel('itemStyle').getItemStyle()));\n    sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n    toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n    var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n    this._updateLabel(data, idx, withAnimation);\n\n    this.highDownOnUpdate = !seriesModel.get('silent') ? function (fromState, toState) {\n      var hasAnimation = seriesModel.isAnimationEnabled() && itemModel.get('hoverAnimation');\n\n      if (toState === 'emphasis') {\n        labelLine.ignore = labelLine.hoverIgnore;\n        labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n        // Or it may stopped on the wrong shape\n\n        if (hasAnimation) {\n          sector.stopAnimation(true);\n          sector.animateTo({\n            shape: {\n              r: layout.r + seriesModel.get('hoverOffset')\n            }\n          }, 300, 'elasticOut');\n        }\n      } else {\n        labelLine.ignore = labelLine.normalIgnore;\n        labelText.ignore = labelText.normalIgnore;\n\n        if (hasAnimation) {\n          sector.stopAnimation(true);\n          sector.animateTo({\n            shape: {\n              r: layout.r\n            }\n          }, 300, 'elasticOut');\n        }\n      }\n    } : null;\n    graphic.setHoverStyle(this);\n  };\n\n  piePieceProto._updateLabel = function (data, idx, withAnimation) {\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n      labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n      return;\n    }\n\n    var targetLineShape = {\n      points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n    };\n    var targetTextStyle = {\n      x: labelLayout.x,\n      y: labelLayout.y\n    };\n\n    if (withAnimation) {\n      graphic.updateProps(labelLine, {\n        shape: targetLineShape\n      }, seriesModel, idx);\n      graphic.updateProps(labelText, {\n        style: targetTextStyle\n      }, seriesModel, idx);\n    } else {\n      labelLine.attr({\n        shape: targetLineShape\n      });\n      labelText.attr({\n        style: targetTextStyle\n      });\n    }\n\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      origin: [labelLayout.x, labelLayout.y],\n      z2: 10\n    });\n    var labelModel = itemModel.getModel('label');\n    var labelHoverModel = itemModel.getModel('emphasis.label');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultText: labelLayout.text,\n      autoColor: visualColor,\n      useInsideStyle: !!labelLayout.inside\n    }, {\n      textAlign: labelLayout.textAlign,\n      textVerticalAlign: labelLayout.verticalAlign,\n      opacity: data.getItemVisual(idx, 'opacity')\n    });\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n    labelLine.setStyle({\n      stroke: visualColor,\n      opacity: data.getItemVisual(idx, 'opacity')\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n    var smooth = labelLineModel.get('smooth');\n\n    if (smooth && smooth === true) {\n      smooth = 0.4;\n    }\n\n    labelLine.setShape({\n      smooth: smooth\n    });\n  };\n\n  util.inherits(PiePiece, graphic.Group); // Pie view\n\n  var PieView = Chart_1.extend({\n    type: 'pie',\n    init: function () {\n      var sectorGroup = new graphic.Group();\n      this._sectorGroup = sectorGroup;\n    },\n    render: function (seriesModel, ecModel, api, payload) {\n      if (payload && payload.from === this.uid) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var group = this.group;\n      var hasAnimation = ecModel.get('animation');\n      var isFirstRender = !oldData;\n      var animationType = seriesModel.get('animationType');\n      var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n      var onSectorClick = util.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n      var selectedMode = seriesModel.get('selectedMode');\n      data.diff(oldData).add(function (idx) {\n        var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n        if (isFirstRender && animationType !== 'scale') {\n          piePiece.eachChild(function (child) {\n            child.stopAnimation(true);\n          });\n        }\n\n        selectedMode && piePiece.on('click', onSectorClick);\n        data.setItemGraphicEl(idx, piePiece);\n        group.add(piePiece);\n      }).update(function (newIdx, oldIdx) {\n        var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n        if (!isFirstRender && animationTypeUpdate !== 'transition') {\n          piePiece.eachChild(function (child) {\n            child.stopAnimation(true);\n          });\n        }\n\n        piePiece.updateData(data, newIdx);\n        piePiece.off('click');\n        selectedMode && piePiece.on('click', onSectorClick);\n        group.add(piePiece);\n        data.setItemGraphicEl(newIdx, piePiece);\n      }).remove(function (idx) {\n        var piePiece = oldData.getItemGraphicEl(idx);\n        group.remove(piePiece);\n      }).execute();\n\n      if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n        var shape = data.getItemLayout(0);\n\n        for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n          shape = data.getItemLayout(s);\n        }\n\n        var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n        var removeClipPath = util.bind(group.removeClipPath, group);\n        group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n      } else {\n        // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n        group.removeClipPath();\n      }\n\n      this._data = data;\n    },\n    dispose: function () {},\n    _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n      var clipPath = new graphic.Sector({\n        shape: {\n          cx: cx,\n          cy: cy,\n          r0: 0,\n          r: r,\n          startAngle: startAngle,\n          endAngle: startAngle,\n          clockwise: clockwise\n        }\n      });\n      var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n      initOrUpdate(clipPath, {\n        shape: {\n          endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n        }\n      }, seriesModel, cb);\n      return clipPath;\n    },\n\n    /**\n     * @implement\n     */\n    containPoint: function (point, seriesModel) {\n      var data = seriesModel.getData();\n      var itemLayout = data.getItemLayout(0);\n\n      if (itemLayout) {\n        var dx = point[0] - itemLayout.cx;\n        var dy = point[1] - itemLayout.cy;\n        var radius = Math.sqrt(dx * dx + dy * dy);\n        return radius <= itemLayout.r && radius >= itemLayout.r0;\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$23(seriesType, actionInfos) {\n    util.each(actionInfos, function (actionInfo) {\n      actionInfo.update = 'updateView';\n      /**\n       * @payload\n       * @property {string} seriesName\n       * @property {string} name\n       */\n\n      echarts.registerAction(actionInfo, function (payload, ecModel) {\n        var selected = {};\n        ecModel.eachComponent({\n          mainType: 'series',\n          subType: seriesType,\n          query: payload\n        }, function (seriesModel) {\n          if (seriesModel[actionInfo.method]) {\n            seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n          }\n\n          var data = seriesModel.getData(); // Create selected map\n\n          data.each(function (idx) {\n            var name = data.getName(idx);\n            selected[name] = seriesModel.isSelected(name) || false;\n          });\n        });\n        return {\n          name: payload.name,\n          selected: selected,\n          seriesId: payload.seriesId\n        };\n      });\n    });\n  }\n\n  var createDataSelectAction = _default$23;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parsePercent$6 = number.parsePercent;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME emphasis label position is not same with normal label position\n  var RADIAN = Math.PI / 180;\n\n  function adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n    list.sort(function (a, b) {\n      return a.y - b.y;\n    });\n\n    function shiftDown(start, end, delta, dir) {\n      for (var j = start; j < end; j++) {\n        if (list[j].y + delta > viewTop + viewHeight) {\n          break;\n        }\n\n        list[j].y += delta;\n\n        if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n          shiftUp(j, delta / 2);\n          return;\n        }\n      }\n\n      shiftUp(end - 1, delta / 2);\n    }\n\n    function shiftUp(end, delta) {\n      for (var j = end; j >= 0; j--) {\n        if (list[j].y - delta < viewTop) {\n          break;\n        }\n\n        list[j].y -= delta;\n\n        if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n          break;\n        }\n      }\n    }\n\n    function changeX(list, isDownList, cx, cy, r, dir) {\n      var lastDeltaX = dir > 0 ? isDownList // right-side\n      ? Number.MAX_VALUE // down\n      : 0 // up\n      : isDownList // left-side\n      ? Number.MAX_VALUE // down\n      : 0; // up\n\n      for (var i = 0, l = list.length; i < l; i++) {\n        if (list[i].labelAlignTo !== 'none') {\n          continue;\n        }\n\n        var deltaY = Math.abs(list[i].y - cy);\n        var length = list[i].len;\n        var length2 = list[i].len2;\n        var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n        if (isDownList && deltaX >= lastDeltaX) {\n          // right-down, left-down\n          deltaX = lastDeltaX - 10;\n        }\n\n        if (!isDownList && deltaX <= lastDeltaX) {\n          // right-up, left-up\n          deltaX = lastDeltaX + 10;\n        }\n\n        list[i].x = cx + deltaX * dir;\n        lastDeltaX = deltaX;\n      }\n    }\n\n    var lastY = 0;\n    var delta;\n    var len = list.length;\n    var upList = [];\n    var downList = [];\n\n    for (var i = 0; i < len; i++) {\n      if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n        var dx = list[i].x - farthestX;\n        list[i].linePoints[1][0] += dx;\n        list[i].x = farthestX;\n      }\n\n      delta = list[i].y - lastY;\n\n      if (delta < 0) {\n        shiftDown(i, len, -delta);\n      }\n\n      lastY = list[i].y + list[i].height;\n    }\n\n    if (viewHeight - lastY < 0) {\n      shiftUp(len - 1, lastY - viewHeight);\n    }\n\n    for (var i = 0; i < len; i++) {\n      if (list[i].y >= cy) {\n        downList.push(list[i]);\n      } else {\n        upList.push(list[i]);\n      }\n    }\n\n    changeX(upList, false, cx, cy, r, dir);\n    changeX(downList, true, cx, cy, r, dir);\n  }\n\n  function avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n    var leftList = [];\n    var rightList = [];\n    var leftmostX = Number.MAX_VALUE;\n    var rightmostX = -Number.MAX_VALUE;\n\n    for (var i = 0; i < labelLayoutList.length; i++) {\n      if (isPositionCenter(labelLayoutList[i])) {\n        continue;\n      }\n\n      if (labelLayoutList[i].x < cx) {\n        leftmostX = Math.min(leftmostX, labelLayoutList[i].x);\n        leftList.push(labelLayoutList[i]);\n      } else {\n        rightmostX = Math.max(rightmostX, labelLayoutList[i].x);\n        rightList.push(labelLayoutList[i]);\n      }\n    }\n\n    adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n    adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n    for (var i = 0; i < labelLayoutList.length; i++) {\n      var layout = labelLayoutList[i];\n\n      if (isPositionCenter(layout)) {\n        continue;\n      }\n\n      var linePoints = layout.linePoints;\n\n      if (linePoints) {\n        var isAlignToEdge = layout.labelAlignTo === 'edge';\n        var realTextWidth = layout.textRect.width;\n        var targetTextWidth;\n\n        if (isAlignToEdge) {\n          if (layout.x < cx) {\n            targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.labelMargin;\n          } else {\n            targetTextWidth = viewLeft + viewWidth - layout.labelMargin - linePoints[2][0] - layout.labelDistance;\n          }\n        } else {\n          if (layout.x < cx) {\n            targetTextWidth = layout.x - viewLeft - layout.bleedMargin;\n          } else {\n            targetTextWidth = viewLeft + viewWidth - layout.x - layout.bleedMargin;\n          }\n        }\n\n        if (targetTextWidth < layout.textRect.width) {\n          layout.text = text.truncateText(layout.text, targetTextWidth, layout.font);\n\n          if (layout.labelAlignTo === 'edge') {\n            realTextWidth = text.getWidth(layout.text, layout.font);\n          }\n        }\n\n        var dist = linePoints[1][0] - linePoints[2][0];\n\n        if (isAlignToEdge) {\n          if (layout.x < cx) {\n            linePoints[2][0] = viewLeft + layout.labelMargin + realTextWidth + layout.labelDistance;\n          } else {\n            linePoints[2][0] = viewLeft + viewWidth - layout.labelMargin - realTextWidth - layout.labelDistance;\n          }\n        } else {\n          if (layout.x < cx) {\n            linePoints[2][0] = layout.x + layout.labelDistance;\n          } else {\n            linePoints[2][0] = layout.x - layout.labelDistance;\n          }\n\n          linePoints[1][0] = linePoints[2][0] + dist;\n        }\n\n        linePoints[1][1] = linePoints[2][1] = layout.y;\n      }\n    }\n  }\n\n  function isPositionCenter(layout) {\n    // Not change x for center label\n    return layout.position === 'center';\n  }\n\n  function _default$24(seriesModel, r, viewWidth, viewHeight, viewLeft, viewTop) {\n    var data = seriesModel.getData();\n    var labelLayoutList = [];\n    var cx;\n    var cy;\n    var hasLabelRotate = false;\n    var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n    data.each(function (idx) {\n      var layout = data.getItemLayout(idx);\n      var itemModel = data.getItemModel(idx);\n      var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n      var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n      var labelDistance = labelModel.get('distanceToLabelLine');\n      var labelAlignTo = labelModel.get('alignTo');\n      var labelMargin = parsePercent$6(labelModel.get('margin'), viewWidth);\n      var bleedMargin = labelModel.get('bleedMargin');\n      var font = labelModel.getFont();\n      var labelLineModel = itemModel.getModel('labelLine');\n      var labelLineLen = labelLineModel.get('length');\n      labelLineLen = parsePercent$6(labelLineLen, viewWidth);\n      var labelLineLen2 = labelLineModel.get('length2');\n      labelLineLen2 = parsePercent$6(labelLineLen2, viewWidth);\n\n      if (layout.angle < minShowLabelRadian) {\n        return;\n      }\n\n      var midAngle = (layout.startAngle + layout.endAngle) / 2;\n      var dx = Math.cos(midAngle);\n      var dy = Math.sin(midAngle);\n      var textX;\n      var textY;\n      var linePoints;\n      var textAlign;\n      cx = layout.cx;\n      cy = layout.cy;\n      var text$1 = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n      var textRect = text.getBoundingRect(text$1, font, textAlign, 'top');\n      var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n      if (labelPosition === 'center') {\n        textX = layout.cx;\n        textY = layout.cy;\n        textAlign = 'center';\n      } else {\n        var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n        var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n        textX = x1 + dx * 3;\n        textY = y1 + dy * 3;\n\n        if (!isLabelInside) {\n          // For roseType\n          var x2 = x1 + dx * (labelLineLen + r - layout.r);\n          var y2 = y1 + dy * (labelLineLen + r - layout.r);\n          var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n          var y3 = y2;\n\n          if (labelAlignTo === 'edge') {\n            // Adjust textX because text align of edge is opposite\n            textX = dx < 0 ? viewLeft + labelMargin : viewLeft + viewWidth - labelMargin;\n          } else {\n            textX = x3 + (dx < 0 ? -labelDistance : labelDistance);\n          }\n\n          textY = y3;\n          linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n        }\n\n        textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? dx > 0 ? 'right' : 'left' : dx > 0 ? 'left' : 'right';\n      }\n\n      var labelRotate;\n      var rotate = labelModel.get('rotate');\n\n      if (typeof rotate === 'number') {\n        labelRotate = rotate * (Math.PI / 180);\n      } else {\n        labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n      }\n\n      hasLabelRotate = !!labelRotate;\n      layout.label = {\n        x: textX,\n        y: textY,\n        position: labelPosition,\n        height: textRect.height,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        linePoints: linePoints,\n        textAlign: textAlign,\n        verticalAlign: 'middle',\n        rotation: labelRotate,\n        inside: isLabelInside,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        labelMargin: labelMargin,\n        bleedMargin: bleedMargin,\n        textRect: textRect,\n        text: text$1,\n        font: font\n      }; // Not layout the inside label\n\n      if (!isLabelInside) {\n        labelLayoutList.push(layout.label);\n      }\n    });\n\n    if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n      avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n    }\n  }\n\n  var labelLayout = _default$24;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var parsePercent$7 = number.parsePercent;\n  var linearMap$2 = number.linearMap;\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI2$4 = Math.PI * 2;\n  var RADIAN$1 = Math.PI / 180;\n\n  function getViewRect(seriesModel, api) {\n    return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  }\n\n  function _default$25(seriesType, ecModel, api, payload) {\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n      var data = seriesModel.getData();\n      var valueDim = data.mapDimension('value');\n      var viewRect = getViewRect(seriesModel, api);\n      var center = seriesModel.get('center');\n      var radius = seriesModel.get('radius');\n\n      if (!util.isArray(radius)) {\n        radius = [0, radius];\n      }\n\n      if (!util.isArray(center)) {\n        center = [center, center];\n      }\n\n      var width = parsePercent$7(viewRect.width, api.getWidth());\n      var height = parsePercent$7(viewRect.height, api.getHeight());\n      var size = Math.min(width, height);\n      var cx = parsePercent$7(center[0], width) + viewRect.x;\n      var cy = parsePercent$7(center[1], height) + viewRect.y;\n      var r0 = parsePercent$7(radius[0], size / 2);\n      var r = parsePercent$7(radius[1], size / 2);\n      var startAngle = -seriesModel.get('startAngle') * RADIAN$1;\n      var minAngle = seriesModel.get('minAngle') * RADIAN$1;\n      var validDataCount = 0;\n      data.each(valueDim, function (value) {\n        !isNaN(value) && validDataCount++;\n      });\n      var sum = data.getSum(valueDim); // Sum may be 0\n\n      var unitRadian = Math.PI / (sum || validDataCount) * 2;\n      var clockwise = seriesModel.get('clockwise');\n      var roseType = seriesModel.get('roseType');\n      var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n      var extent = data.getDataExtent(valueDim);\n      extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n      var restAngle = PI2$4;\n      var valueSumLargerThanMinAngle = 0;\n      var currentAngle = startAngle;\n      var dir = clockwise ? 1 : -1;\n      data.each(valueDim, function (value, idx) {\n        var angle;\n\n        if (isNaN(value)) {\n          data.setItemLayout(idx, {\n            angle: NaN,\n            startAngle: NaN,\n            endAngle: NaN,\n            clockwise: clockwise,\n            cx: cx,\n            cy: cy,\n            r0: r0,\n            r: roseType ? NaN : r,\n            viewRect: viewRect\n          });\n          return;\n        } // FIXME  2.0  roseType  area \n\n\n        if (roseType !== 'area') {\n          angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n        } else {\n          angle = PI2$4 / validDataCount;\n        }\n\n        if (angle < minAngle) {\n          angle = minAngle;\n          restAngle -= minAngle;\n        } else {\n          valueSumLargerThanMinAngle += value;\n        }\n\n        var endAngle = currentAngle + dir * angle;\n        data.setItemLayout(idx, {\n          angle: angle,\n          startAngle: currentAngle,\n          endAngle: endAngle,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? linearMap$2(value, extent, [r0, r]) : r,\n          viewRect: viewRect\n        });\n        currentAngle = endAngle;\n      }); // Some sector is constrained by minAngle\n      // Rest sectors needs recalculate angle\n\n      if (restAngle < PI2$4 && validDataCount) {\n        // Average the angle if rest angle is not enough after all angles is\n        // Constrained by minAngle\n        if (restAngle <= 1e-3) {\n          var angle = PI2$4 / validDataCount;\n          data.each(valueDim, function (value, idx) {\n            if (!isNaN(value)) {\n              var layout = data.getItemLayout(idx);\n              layout.angle = angle;\n              layout.startAngle = startAngle + dir * idx * angle;\n              layout.endAngle = startAngle + dir * (idx + 1) * angle;\n            }\n          });\n        } else {\n          unitRadian = restAngle / valueSumLargerThanMinAngle;\n          currentAngle = startAngle;\n          data.each(valueDim, function (value, idx) {\n            if (!isNaN(value)) {\n              var layout = data.getItemLayout(idx);\n              var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n              layout.startAngle = currentAngle;\n              layout.endAngle = currentAngle + dir * angle;\n              currentAngle += dir * angle;\n            }\n          });\n        }\n      }\n\n      labelLayout(seriesModel, r, viewRect.width, viewRect.height, viewRect.x, viewRect.y);\n    });\n  }\n\n  var pieLayout = _default$25;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  createDataSelectAction('pie', [{\n    type: 'pieToggleSelect',\n    event: 'pieselectchanged',\n    method: 'toggleSelected'\n  }, {\n    type: 'pieSelect',\n    event: 'pieselected',\n    method: 'select'\n  }, {\n    type: 'pieUnSelect',\n    event: 'pieunselected',\n    method: 'unSelect'\n  }]);\n  echarts.registerVisual(dataColor('pie'));\n  echarts.registerLayout(util.curry(pieLayout, 'pie'));\n  echarts.registerProcessor(dataFilter('pie'));\n\n  function _interopDefault$4 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n\n  var Core$2 = _interopDefault$4(core_1);\n\n  var _extends$4 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var pieRadius = 100;\n  var ringRadius = [80, 100];\n  var roseRingRadius = [20, 100];\n  var pieOffsetY = 200;\n\n  function getPieSeries(args) {\n    var innerRows = args.innerRows,\n        dataType = args.dataType,\n        percentShow = args.percentShow,\n        dimension = args.dimension,\n        metrics = args.metrics,\n        radius = args.radius,\n        offsetY = args.offsetY,\n        selectedMode = args.selectedMode,\n        hoverAnimation = args.hoverAnimation,\n        digit = args.digit,\n        roseType = args.roseType,\n        label = args.label,\n        level = args.level,\n        limitShowNum = args.limitShowNum,\n        isRing = args.isRing,\n        labelLine = args.labelLine,\n        itemStyle = args.itemStyle;\n\n\n    var series = [];\n    var levelTemp = {};\n    var rowsTemp = [];\n    if (level) {\n      level.forEach(function (levelItems, index) {\n        levelItems.forEach(function (item) {\n          utils.setArrayValue(levelTemp, item, index);\n        });\n      });\n      innerRows.forEach(function (row) {\n        var itemLevel = levelTemp[row[dimension]];\n        if (itemLevel && itemLevel.length) {\n          itemLevel.forEach(function (levelItem) {\n            utils.setArrayValue(rowsTemp, levelItem, row);\n          });\n        }\n      });\n    } else {\n      rowsTemp.push(innerRows);\n    }\n    var seriesBase = {\n      type: 'pie',\n      selectedMode: selectedMode,\n      hoverAnimation: hoverAnimation,\n      roseType: roseType,\n      center: ['50%', offsetY]\n    };\n    var rowsTempLength = rowsTemp.length;\n    rowsTemp.forEach(function (dataRows, index) {\n      var seriesItem = _extends$4({ data: [] }, seriesBase);\n      var centerWidth = radius / rowsTempLength;\n      if (!index) {\n        seriesItem.radius = isRing ? radius : centerWidth;\n      } else {\n        var outerWidth = centerWidth + radius / (2 * rowsTempLength) * (2 * index - 1);\n        var innerWidth = outerWidth + radius / (2 * rowsTempLength);\n        seriesItem.radius = [outerWidth, innerWidth];\n      }\n      if (rowsTempLength > 1 && index === 0) {\n        seriesItem.label = {\n          normal: { position: 'inner' }\n        };\n      }\n      if (label) seriesItem.label = label;\n      if (labelLine) seriesItem.labelLine = labelLine;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n      if (percentShow) {\n        seriesItem.label = {\n          normal: {\n            show: true,\n            position: rowsTempLength > 1 && index === 0 ? 'inner' : 'outside',\n            formatter: function formatter(item) {\n              var tpl = [];\n              tpl.push(item.name + ':');\n              tpl.push(utils.getFormated(item.value, dataType, digit));\n              tpl.push('(' + item.percent + '%)');\n              return tpl.join(' ');\n            }\n          }\n        };\n      }\n      seriesItem.data = dataRows.map(function (row) {\n        return {\n          name: row[dimension],\n          value: row[metrics]\n        };\n      });\n      series.push(seriesItem);\n    });\n    if (limitShowNum && limitShowNum < series[0].data.length) {\n      var firstData = series[0].data;\n      var remainArr = firstData.slice(limitShowNum, firstData.length);\n      var sum = 0;\n      remainArr.forEach(function (item) {\n        sum += item.value;\n      });\n      series[0].data = firstData.slice(0, limitShowNum);\n      series[0].data.push({ name: '', value: sum });\n    }\n    return series;\n  }\n\n  function getPieLegend(args) {\n    var innerRows = args.innerRows,\n        dimension = args.dimension,\n        legendLimit = args.legendLimit,\n        legendName = args.legendName,\n        level = args.level,\n        limitShowNum = args.limitShowNum;\n\n    var legend = [];\n    var levelTemp = [];\n    if (level) {\n      level.forEach(function (levelItem) {\n        levelItem.forEach(function (item) {\n          levelTemp.push(item);\n        });\n      });\n      legend = levelTemp;\n    } else if (limitShowNum && limitShowNum < innerRows.length) {\n      for (var i = 0; i < limitShowNum; i++) {\n        legend.push(innerRows[i][dimension]);\n      }\n      legend.push('');\n    } else {\n      legend = innerRows.map(function (row) {\n        return row[dimension];\n      });\n    }\n    if (legend.length) {\n      return {\n        data: legend,\n        show: legend.length < legendLimit,\n        formatter: function formatter(name) {\n          return legendName[name] != null ? legendName[name] : name;\n        }\n      };\n    } else {\n      return false;\n    }\n  }\n\n  function getPieTooltip(args) {\n    var dataType = args.dataType,\n        innerRows = args.innerRows,\n        limitShowNum = args.limitShowNum,\n        digit = args.digit,\n        metrics = args.metrics,\n        dimension = args.dimension;\n\n    var sum = 0;\n    var remainArr = innerRows.map(function (row) {\n      sum += row[metrics];\n      return {\n        name: row[dimension],\n        value: row[metrics]\n      };\n    }).slice(limitShowNum, innerRows.length);\n    return {\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        if (limitShowNum && item.name === '') {\n          tpl.push(':');\n          remainArr.forEach(function (_ref) {\n            var name = _ref.name,\n                value = _ref.value;\n\n            var percent = utils.getFormated(value / sum, 'percent');\n            tpl.push('<br>' + name + ':');\n            tpl.push(utils.getFormated(value, dataType, digit));\n            tpl.push('(' + percent + ')');\n          });\n        } else {\n          tpl.push(item.name + ':');\n          tpl.push(utils.getFormated(item.value, dataType, digit));\n          tpl.push('(' + item.percent + '%)');\n        }\n        return tpl.join(' ');\n      }\n    };\n  }\n\n  var pie$1 = function pie$$1(columns, rows, settings, extra, isRing) {\n    var innerRows = utilsLite.cloneDeep(rows);\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? 'normal' : _settings$dataType,\n        percentShow = settings.percentShow,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$metrics = settings.metrics,\n        metrics = _settings$metrics === undefined ? columns[1] : _settings$metrics,\n        _settings$roseType = settings.roseType,\n        roseType = _settings$roseType === undefined ? false : _settings$roseType,\n        _settings$radius = settings.radius,\n        radius = _settings$radius === undefined ? isRing ? roseType ? roseRingRadius : ringRadius : pieRadius : _settings$radius,\n        _settings$offsetY = settings.offsetY,\n        offsetY = _settings$offsetY === undefined ? pieOffsetY : _settings$offsetY,\n        _settings$legendLimit = settings.legendLimit,\n        legendLimit = _settings$legendLimit === undefined ? 30 : _settings$legendLimit,\n        _settings$selectedMod = settings.selectedMode,\n        selectedMode = _settings$selectedMod === undefined ? false : _settings$selectedMod,\n        _settings$hoverAnimat = settings.hoverAnimation,\n        hoverAnimation = _settings$hoverAnimat === undefined ? true : _settings$hoverAnimat,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$label = settings.label,\n        label = _settings$label === undefined ? false : _settings$label,\n        _settings$level = settings.level,\n        level = _settings$level === undefined ? false : _settings$level,\n        _settings$limitShowNu = settings.limitShowNum,\n        limitShowNum = _settings$limitShowNu === undefined ? 0 : _settings$limitShowNu,\n        labelLine = settings.labelLine,\n        itemStyle = settings.itemStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    if (limitShowNum) innerRows.sort(function (a, b) {\n      return b[metrics] - a[metrics];\n    });\n    var seriesParams = {\n      innerRows: innerRows,\n      dataType: dataType,\n      percentShow: percentShow,\n      dimension: dimension,\n      metrics: metrics,\n      radius: radius,\n      offsetY: offsetY,\n      selectedMode: selectedMode,\n      hoverAnimation: hoverAnimation,\n      digit: digit,\n      roseType: roseType,\n      label: label,\n      level: level,\n      legendName: legendName,\n      limitShowNum: limitShowNum,\n      isRing: isRing,\n      labelLine: labelLine,\n      itemStyle: itemStyle\n    };\n    var series = getPieSeries(seriesParams);\n    var legendParams = {\n      innerRows: innerRows,\n      dimension: dimension,\n      legendLimit: legendLimit,\n      legendName: legendName,\n      level: level,\n      limitShowNum: limitShowNum\n    };\n    var legend = legendVisible && getPieLegend(legendParams);\n    var tooltip = tooltipVisible && getPieTooltip({\n      dataType: dataType,\n      innerRows: innerRows,\n      limitShowNum: limitShowNum,\n      digit: digit,\n      metrics: metrics,\n      dimension: dimension\n    });\n    var options = { series: series, legend: legend, tooltip: tooltip };\n    return options;\n  };\n\n  var index$3 = _extends$4({}, Core$2, {\n    name: 'VePie',\n    data: function data() {\n      this.chartHandler = pie$1;\n      return {};\n    }\n  });\n\n  var pie_common = index$3;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$26 = Series.extend({\n    type: 'series.__base_bar__',\n    getInitialData: function (option, ecModel) {\n      return createListFromArray_1(this.getSource(), this, {\n        useEncodeDefaulter: true\n      });\n    },\n    getMarkerPosition: function (value) {\n      var coordSys = this.coordinateSystem;\n\n      if (coordSys) {\n        // PENDING if clamp ?\n        var pt = coordSys.dataToPoint(coordSys.clampData(value));\n        var data = this.getData();\n        var offset = data.getLayout('offset');\n        var size = data.getLayout('size');\n        var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n        pt[offsetIndex] += offset + size / 2;\n        return pt;\n      }\n\n      return [NaN, NaN];\n    },\n    defaultOption: {\n      zlevel: 0,\n      // \n      z: 2,\n      // \n      coordinateSystem: 'cartesian2d',\n      legendHoverLink: true,\n      // stack: null\n      // Cartesian coordinate system\n      // xAxisIndex: 0,\n      // yAxisIndex: 0,\n      // 0\n      barMinHeight: 0,\n      // 0\n      barMinAngle: 0,\n      // cursor: null,\n      large: false,\n      largeThreshold: 400,\n      progressive: 3e3,\n      progressiveChunkMode: 'mod',\n      // barMaxWidth: null,\n      // In cartesian, the default value is 1. Otherwise null.\n      // barMinWidth: null,\n      // \n      // barWidth: null,\n      // 30%\n      // barGap: '30%',\n      // 20%\n      // barCategoryGap: '20%',\n      // label: {\n      //      show: false\n      // },\n      itemStyle: {},\n      emphasis: {}\n    }\n  });\n\n  var BaseBarSeries = _default$26;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$27 = BaseBarSeries.extend({\n    type: 'series.bar',\n    dependencies: ['grid', 'polar'],\n    brushSelector: 'rect',\n\n    /**\n     * @override\n     */\n    getProgressive: function () {\n      // Do not support progressive in normal mode.\n      return this.get('large') ? this.get('progressive') : false;\n    },\n\n    /**\n     * @override\n     */\n    getProgressiveThreshold: function () {\n      // Do not support progressive in normal mode.\n      var progressiveThreshold = this.get('progressiveThreshold');\n      var largeThreshold = this.get('largeThreshold');\n\n      if (largeThreshold > progressiveThreshold) {\n        progressiveThreshold = largeThreshold;\n      }\n\n      return progressiveThreshold;\n    },\n    defaultOption: {\n      // If clipped\n      // Only available on cartesian2d\n      clip: true,\n      // If use caps on two sides of bars\n      // Only available on tangential polar bar\n      roundCap: false,\n      showBackground: false,\n      backgroundStyle: {\n        color: 'rgba(180, 180, 180, 0.2)',\n        borderColor: null,\n        borderWidth: 0,\n        borderType: 'solid',\n        borderRadius: 0,\n        shadowBlur: 0,\n        shadowColor: null,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        opacity: 1\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var getDefaultLabel$2 = labelHelper.getDefaultLabel;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n    var labelModel = itemModel.getModel('label');\n    var hoverLabelModel = itemModel.getModel('emphasis.label');\n    graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n      labelFetcher: seriesModel,\n      labelDataIndex: dataIndex,\n      defaultText: getDefaultLabel$2(seriesModel.getData(), dataIndex),\n      isRectText: true,\n      autoColor: color\n    });\n    fixPosition(normalStyle);\n    fixPosition(hoverStyle);\n  }\n\n  function fixPosition(style, labelPositionOutside) {\n    if (style.textPosition === 'outside') {\n      style.textPosition = labelPositionOutside;\n    }\n  }\n\n  var setLabel_1 = setLabel;\n\n  var helper$5 = {\n  \tsetLabel: setLabel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n  ['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n  var _default$28 = {\n    getBarItemStyle: function (excludes) {\n      var style = getBarItemStyle(this, excludes);\n\n      if (this.getBorderLineDash) {\n        var lineDash = this.getBorderLineDash();\n        lineDash && (style.lineDash = lineDash);\n      }\n\n      return style;\n    }\n  };\n  var barItemStyle = _default$28;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var extendShape$1 = graphic.extendShape;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Sausage: similar to sector, but have half circle on both sides\n   * @public\n   */\n  var _default$29 = extendShape$1({\n    type: 'sausage',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r0: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r0 = Math.max(shape.r0 || 0, 0);\n      var r = Math.max(shape.r, 0);\n      var dr = (r - r0) * 0.5;\n      var rCenter = r0 + dr;\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitStartX = Math.cos(startAngle);\n      var unitStartY = Math.sin(startAngle);\n      var unitEndX = Math.cos(endAngle);\n      var unitEndY = Math.sin(endAngle);\n      var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n      if (lessThanCircle) {\n        ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n        ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n      }\n\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n      ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n      ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n      if (r0 !== 0) {\n        ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n        ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n      }\n\n      ctx.closePath();\n    }\n  });\n\n  var sausage = _default$29;\n\n  var setLabel$1 = helper$5.setLabel;\n\n\n\n\n\n\n\n\n\n\n\n  var throttle$2 = throttle_1.throttle;\n\n\n\n  var createClipPath$1 = createClipPathFromCoordSys.createClipPath;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\n  var _eventPos = [0, 0]; // FIXME\n  // Just for compatible with ec2.\n\n  util.extend(Model_1.prototype, barItemStyle);\n\n  function getClipArea(coord, data) {\n    var coordSysClipArea = coord.getArea && coord.getArea();\n\n    if (coord.type === 'cartesian2d') {\n      var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n      // We should not clip this part.\n      // See test/bar2.html\n\n      if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n        var expandWidth = data.getLayout('bandWidth');\n\n        if (baseAxis.isHorizontal()) {\n          coordSysClipArea.x -= expandWidth;\n          coordSysClipArea.width += expandWidth * 2;\n        } else {\n          coordSysClipArea.y -= expandWidth;\n          coordSysClipArea.height += expandWidth * 2;\n        }\n      }\n    }\n\n    return coordSysClipArea;\n  }\n\n  var _default$2a = echarts.extendChartView({\n    type: 'bar',\n    render: function (seriesModel, ecModel, api) {\n      this._updateDrawMode(seriesModel);\n\n      var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n      if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n        this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n      }\n\n      return this.group;\n    },\n    incrementalPrepareRender: function (seriesModel, ecModel, api) {\n      this._clear();\n\n      this._updateDrawMode(seriesModel);\n    },\n    incrementalRender: function (params, seriesModel, ecModel, api) {\n      // Do not support progressive in normal mode.\n      this._incrementalRenderLarge(params, seriesModel);\n    },\n    _updateDrawMode: function (seriesModel) {\n      var isLargeDraw = seriesModel.pipelineContext.large;\n\n      if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n        this._isLargeDraw = isLargeDraw;\n\n        this._clear();\n      }\n    },\n    _renderNormal: function (seriesModel, ecModel, api) {\n      var group = this.group;\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var coord = seriesModel.coordinateSystem;\n      var baseAxis = coord.getBaseAxis();\n      var isHorizontalOrRadial;\n\n      if (coord.type === 'cartesian2d') {\n        isHorizontalOrRadial = baseAxis.isHorizontal();\n      } else if (coord.type === 'polar') {\n        isHorizontalOrRadial = baseAxis.dim === 'angle';\n      }\n\n      var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n      var needsClip = seriesModel.get('clip', true);\n      var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n      group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n      // And don't want the label are clipped.\n\n      var roundCap = seriesModel.get('roundCap', true);\n      var drawBackground = seriesModel.get('showBackground', true);\n      var backgroundModel = seriesModel.getModel('backgroundStyle');\n      var barBorderRadius = backgroundModel.get('barBorderRadius') || 0;\n      var bgEls = [];\n      var oldBgEls = this._backgroundEls || [];\n\n      var createBackground = function (dataIndex) {\n        var bgLayout = getLayout[coord.type](data, dataIndex);\n        var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n        bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n        if (coord.type === 'cartesian2d') {\n          bgEl.setShape('r', barBorderRadius);\n        }\n\n        bgEls[dataIndex] = bgEl;\n        return bgEl;\n      };\n\n      data.diff(oldData).add(function (dataIndex) {\n        var itemModel = data.getItemModel(dataIndex);\n        var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n        if (drawBackground) {\n          createBackground(dataIndex);\n        } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n        if (!data.hasValue(dataIndex)) {\n          return;\n        }\n\n        if (needsClip) {\n          // Clip will modify the layout params.\n          // And return a boolean to determine if the shape are fully clipped.\n          var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n          if (isClipped) {\n            group.remove(el);\n            return;\n          }\n        }\n\n        var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n        data.setItemGraphicEl(dataIndex, el);\n        group.add(el);\n        updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }).update(function (newIndex, oldIndex) {\n        var itemModel = data.getItemModel(newIndex);\n        var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n        if (drawBackground) {\n          var bgEl;\n\n          if (oldBgEls.length === 0) {\n            bgEl = createBackground(oldIndex);\n          } else {\n            bgEl = oldBgEls[oldIndex];\n            bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n            if (coord.type === 'cartesian2d') {\n              bgEl.setShape('r', barBorderRadius);\n            }\n\n            bgEls[newIndex] = bgEl;\n          }\n\n          var bgLayout = getLayout[coord.type](data, newIndex);\n          var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n          graphic.updateProps(bgEl, {\n            shape: shape\n          }, animationModel, newIndex);\n        }\n\n        var el = oldData.getItemGraphicEl(oldIndex);\n\n        if (!data.hasValue(newIndex)) {\n          group.remove(el);\n          return;\n        }\n\n        if (needsClip) {\n          var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n          if (isClipped) {\n            group.remove(el);\n            return;\n          }\n        }\n\n        if (el) {\n          graphic.updateProps(el, {\n            shape: layout\n          }, animationModel, newIndex);\n        } else {\n          el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n        }\n\n        data.setItemGraphicEl(newIndex, el); // Add back\n\n        group.add(el);\n        updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }).remove(function (dataIndex) {\n        var el = oldData.getItemGraphicEl(dataIndex);\n\n        if (coord.type === 'cartesian2d') {\n          el && removeRect(dataIndex, animationModel, el);\n        } else {\n          el && removeSector(dataIndex, animationModel, el);\n        }\n      }).execute();\n      var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group_1());\n      bgGroup.removeAll();\n\n      for (var i = 0; i < bgEls.length; ++i) {\n        bgGroup.add(bgEls[i]);\n      }\n\n      group.add(bgGroup);\n      this._backgroundEls = bgEls;\n      this._data = data;\n    },\n    _renderLarge: function (seriesModel, ecModel, api) {\n      this._clear();\n\n      createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n      var clipPath = seriesModel.get('clip', true) ? createClipPath$1(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n      if (clipPath) {\n        this.group.setClipPath(clipPath);\n      } else {\n        this.group.removeClipPath();\n      }\n    },\n    _incrementalRenderLarge: function (params, seriesModel) {\n      this._removeBackground();\n\n      createLarge(seriesModel, this.group, true);\n    },\n    dispose: util.noop,\n    remove: function (ecModel) {\n      this._clear(ecModel);\n    },\n    _clear: function (ecModel) {\n      var group = this.group;\n      var data = this._data;\n\n      if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n        this._removeBackground();\n\n        this._backgroundEls = [];\n        data.eachItemGraphicEl(function (el) {\n          if (el.type === 'sector') {\n            removeSector(el.dataIndex, ecModel, el);\n          } else {\n            removeRect(el.dataIndex, ecModel, el);\n          }\n        });\n      } else {\n        group.removeAll();\n      }\n\n      this._data = null;\n    },\n    _removeBackground: function () {\n      this.group.remove(this._backgroundGroup);\n      this._backgroundGroup = null;\n    }\n  });\n\n  var mathMax$4 = Math.max;\n  var mathMin$4 = Math.min;\n  var clip = {\n    cartesian2d: function (coordSysBoundingRect, layout) {\n      var signWidth = layout.width < 0 ? -1 : 1;\n      var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n      if (signWidth < 0) {\n        layout.x += layout.width;\n        layout.width = -layout.width;\n      }\n\n      if (signHeight < 0) {\n        layout.y += layout.height;\n        layout.height = -layout.height;\n      }\n\n      var x = mathMax$4(layout.x, coordSysBoundingRect.x);\n      var x2 = mathMin$4(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n      var y = mathMax$4(layout.y, coordSysBoundingRect.y);\n      var y2 = mathMin$4(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n      layout.x = x;\n      layout.y = y;\n      layout.width = x2 - x;\n      layout.height = y2 - y;\n      var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n      if (signWidth < 0) {\n        layout.x += layout.width;\n        layout.width = -layout.width;\n      }\n\n      if (signHeight < 0) {\n        layout.y += layout.height;\n        layout.height = -layout.height;\n      }\n\n      return clipped;\n    },\n    polar: function (coordSysClipArea, layout) {\n      var signR = layout.r0 <= layout.r ? 1 : -1; // Make sure r is larger than r0\n\n      if (signR < 0) {\n        var r = layout.r;\n        layout.r = layout.r0;\n        layout.r0 = r;\n      }\n\n      var r = mathMin$4(layout.r, coordSysClipArea.r);\n      var r0 = mathMax$4(layout.r0, coordSysClipArea.r0);\n      layout.r = r;\n      layout.r0 = r0;\n      var clipped = r - r0 < 0; // Reverse back\n\n      if (signR < 0) {\n        var r = layout.r;\n        layout.r = layout.r0;\n        layout.r0 = r;\n      }\n\n      return clipped;\n    }\n  };\n  var elementCreator = {\n    cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n      var rect = new graphic.Rect({\n        shape: util.extend({}, layout),\n        z2: 1\n      });\n      rect.name = 'item'; // Animation\n\n      if (animationModel) {\n        var rectShape = rect.shape;\n        var animateProperty = isHorizontal ? 'height' : 'width';\n        var animateTarget = {};\n        rectShape[animateProperty] = 0;\n        animateTarget[animateProperty] = layout[animateProperty];\n        graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n          shape: animateTarget\n        }, animationModel, dataIndex);\n      }\n\n      return rect;\n    },\n    polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n      // Keep the same logic with bar in catesion: use end value to control\n      // direction. Notice that if clockwise is true (by default), the sector\n      // will always draw clockwisely, no matter whether endAngle is greater\n      // or less than startAngle.\n      var clockwise = layout.startAngle < layout.endAngle;\n      var ShapeClass = !isRadial && roundCap ? sausage : graphic.Sector;\n      var sector = new ShapeClass({\n        shape: util.defaults({\n          clockwise: clockwise\n        }, layout),\n        z2: 1\n      });\n      sector.name = 'item'; // Animation\n\n      if (animationModel) {\n        var sectorShape = sector.shape;\n        var animateProperty = isRadial ? 'r' : 'endAngle';\n        var animateTarget = {};\n        sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n        animateTarget[animateProperty] = layout[animateProperty];\n        graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n          shape: animateTarget\n        }, animationModel, dataIndex);\n      }\n\n      return sector;\n    }\n  };\n\n  function removeRect(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    graphic.updateProps(el, {\n      shape: {\n        width: 0\n      }\n    }, animationModel, dataIndex, function () {\n      el.parent && el.parent.remove(el);\n    });\n  }\n\n  function removeSector(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    graphic.updateProps(el, {\n      shape: {\n        r: el.shape.r0\n      }\n    }, animationModel, dataIndex, function () {\n      el.parent && el.parent.remove(el);\n    });\n  }\n\n  var getLayout = {\n    // itemModel is only used to get borderWidth, which is not needed\n    // when calculating bar background layout.\n    cartesian2d: function (data, dataIndex, itemModel) {\n      var layout = data.getItemLayout(dataIndex);\n      var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n      var signX = layout.width > 0 ? 1 : -1;\n      var signY = layout.height > 0 ? 1 : -1;\n      return {\n        x: layout.x + signX * fixedLineWidth / 2,\n        y: layout.y + signY * fixedLineWidth / 2,\n        width: layout.width - signX * fixedLineWidth,\n        height: layout.height - signY * fixedLineWidth\n      };\n    },\n    polar: function (data, dataIndex, itemModel) {\n      var layout = data.getItemLayout(dataIndex);\n      return {\n        cx: layout.cx,\n        cy: layout.cy,\n        r0: layout.r0,\n        r: layout.r,\n        startAngle: layout.startAngle,\n        endAngle: layout.endAngle\n      };\n    }\n  };\n\n  function isZeroOnPolar(layout) {\n    return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n  }\n\n  function updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n    var color = data.getItemVisual(dataIndex, 'color');\n    var opacity = data.getItemVisual(dataIndex, 'opacity');\n    var stroke = data.getVisual('borderColor');\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n    if (!isPolar) {\n      el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n    }\n\n    el.useStyle(util.defaults({\n      stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n      fill: isZeroOnPolar(layout) ? 'none' : color,\n      opacity: opacity\n    }, itemStyleModel.getBarItemStyle()));\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && el.attr('cursor', cursorStyle);\n    var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n    if (!isPolar) {\n      setLabel$1(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n    }\n\n    if (isZeroOnPolar(layout)) {\n      hoverStyle.fill = hoverStyle.stroke = 'none';\n    }\n\n    graphic.setHoverStyle(el, hoverStyle);\n  } // In case width or height are too small.\n\n\n  function getLineWidth(itemModel, rawLayout) {\n    var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0; // width or height may be NaN for empty data\n\n    var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n    var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n    return Math.min(lineWidth, width, height);\n  }\n\n  var LargePath = Path_1.extend({\n    type: 'largeBar',\n    shape: {\n      points: []\n    },\n    buildPath: function (ctx, shape) {\n      // Drawing lines is more efficient than drawing\n      // a whole line or drawing rects.\n      var points = shape.points;\n      var startPoint = this.__startPoint;\n      var baseDimIdx = this.__baseDimIdx;\n\n      for (var i = 0; i < points.length; i += 2) {\n        startPoint[baseDimIdx] = points[i + baseDimIdx];\n        ctx.moveTo(startPoint[0], startPoint[1]);\n        ctx.lineTo(points[i], points[i + 1]);\n      }\n    }\n  });\n\n  function createLarge(seriesModel, group, incremental) {\n    // TODO support polar\n    var data = seriesModel.getData();\n    var startPoint = [];\n    var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n    startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n    var largeDataIndices = data.getLayout('largeDataIndices');\n    var barWidth = data.getLayout('barWidth');\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var drawBackground = seriesModel.get('showBackground', true);\n\n    if (drawBackground) {\n      var points = data.getLayout('largeBackgroundPoints');\n      var backgroundStartPoint = [];\n      backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n      var bgEl = new LargePath({\n        shape: {\n          points: points\n        },\n        incremental: !!incremental,\n        __startPoint: backgroundStartPoint,\n        __baseDimIdx: baseDimIdx,\n        __largeDataIndices: largeDataIndices,\n        __barWidth: barWidth,\n        silent: true,\n        z2: 0\n      });\n      setLargeBackgroundStyle(bgEl, backgroundModel, data);\n      group.add(bgEl);\n    }\n\n    var el = new LargePath({\n      shape: {\n        points: data.getLayout('largePoints')\n      },\n      incremental: !!incremental,\n      __startPoint: startPoint,\n      __baseDimIdx: baseDimIdx,\n      __largeDataIndices: largeDataIndices,\n      __barWidth: barWidth\n    });\n    group.add(el);\n    setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n    el.seriesIndex = seriesModel.seriesIndex;\n\n    if (!seriesModel.get('silent')) {\n      el.on('mousedown', largePathUpdateDataIndex);\n      el.on('mousemove', largePathUpdateDataIndex);\n    }\n  } // Use throttle to avoid frequently traverse to find dataIndex.\n\n\n  var largePathUpdateDataIndex = throttle$2(function (event) {\n    var largePath = this;\n    var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n    largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n  }, 30, false);\n\n  function largePathFindDataIndex(largePath, x, y) {\n    var baseDimIdx = largePath.__baseDimIdx;\n    var valueDimIdx = 1 - baseDimIdx;\n    var points = largePath.shape.points;\n    var largeDataIndices = largePath.__largeDataIndices;\n    var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n    var startValueVal = largePath.__startPoint[valueDimIdx];\n    _eventPos[0] = x;\n    _eventPos[1] = y;\n    var pointerBaseVal = _eventPos[baseDimIdx];\n    var pointerValueVal = _eventPos[1 - baseDimIdx];\n    var baseLowerBound = pointerBaseVal - barWidthHalf;\n    var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n    for (var i = 0, len = points.length / 2; i < len; i++) {\n      var ii = i * 2;\n      var barBaseVal = points[ii + baseDimIdx];\n      var barValueVal = points[ii + valueDimIdx];\n\n      if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n        return largeDataIndices[i];\n      }\n    }\n\n    return -1;\n  }\n\n  function setLargeStyle(el, seriesModel, data) {\n    var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n    var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n    el.useStyle(itemStyle);\n    el.style.fill = null;\n    el.style.stroke = borderColor;\n    el.style.lineWidth = data.getLayout('barWidth');\n  }\n\n  function setLargeBackgroundStyle(el, backgroundModel, data) {\n    var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n    var itemStyle = backgroundModel.getItemStyle(['color', 'borderColor']);\n    el.useStyle(itemStyle);\n    el.style.fill = null;\n    el.style.stroke = borderColor;\n    el.style.lineWidth = data.getLayout('barWidth');\n  }\n\n  function createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n    var coordLayout;\n    var isPolar = coord.type === 'polar';\n\n    if (isPolar) {\n      coordLayout = coord.getArea();\n    } else {\n      coordLayout = coord.grid.getRect();\n    }\n\n    if (isPolar) {\n      return {\n        cx: coordLayout.cx,\n        cy: coordLayout.cy,\n        r0: isHorizontalOrRadial ? coordLayout.r0 : layout.r0,\n        r: isHorizontalOrRadial ? coordLayout.r : layout.r,\n        startAngle: isHorizontalOrRadial ? layout.startAngle : 0,\n        endAngle: isHorizontalOrRadial ? layout.endAngle : Math.PI * 2\n      };\n    } else {\n      return {\n        x: isHorizontalOrRadial ? layout.x : coordLayout.x,\n        y: isHorizontalOrRadial ? coordLayout.y : layout.y,\n        width: isHorizontalOrRadial ? layout.width : coordLayout.width,\n        height: isHorizontalOrRadial ? coordLayout.height : layout.height\n      };\n    }\n  }\n\n  function createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n    var ElementClz = coord.type === 'polar' ? graphic.Sector : graphic.Rect;\n    return new ElementClz({\n      shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n      silent: true,\n      z2: 0\n    });\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var layout$4 = barGrid.layout;\n  var largeLayout$1 = barGrid.largeLayout;\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // In case developer forget to include grid component\n  echarts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, util.curry(layout$4, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n  // only exist in this module, but probably also exist in other modules, like `barPolar`.\n\n  echarts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout$1);\n  echarts.registerVisual({\n    seriesType: 'bar',\n    reset: function (seriesModel) {\n      // Visual coding for legend\n      seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n    }\n  });\n\n  function _interopDefault$5 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n\n  var Core$3 = _interopDefault$5(core_1);\n\n  var defineProperty$7 = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  var _extends$5 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  // default opacity of bar while dim-axis type is 'value'\n  var VALUE_AXIS_OPACITY = 0.5;\n\n  function getBarDimAxis(args) {\n    var innerRows = args.innerRows,\n        dimAxisName = args.dimAxisName,\n        dimension = args.dimension,\n        axisVisible = args.axisVisible,\n        dimAxisType = args.dimAxisType,\n        dims = args.dims;\n\n    return dimension.map(function (item) {\n      return {\n        type: 'category',\n        name: dimAxisName,\n        nameLocation: 'middle',\n        nameGap: 22,\n        data: dimAxisType === 'value' ? getValueAxisData(dims) : innerRows.map(function (row) {\n          return row[item];\n        }),\n        axisLabel: {\n          formatter: function formatter(v) {\n            return String(v);\n          }\n        },\n        show: axisVisible\n      };\n    });\n  }\n\n  function getValueAxisData(dims) {\n    var max = Math.max.apply(null, dims);\n    var min = Math.min.apply(null, dims);\n    var result = [];\n    for (var i = min; i <= max; i++) {\n      result.push(i);\n    }\n    return result;\n  }\n\n  function getBarMeaAxis(args) {\n    var meaAxisName = args.meaAxisName,\n        meaAxisType = args.meaAxisType,\n        axisVisible = args.axisVisible,\n        digit = args.digit,\n        scale = args.scale,\n        min = args.min,\n        max = args.max;\n\n    var meaAxisBase = {\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      show: axisVisible\n    };\n    var meaAxis = [];\n\n    var _loop = function _loop(i) {\n      if (meaAxisType[i]) {\n        meaAxis[i] = _extends$5({}, meaAxisBase, {\n          axisLabel: {\n            formatter: function formatter(val) {\n              return utils.getFormated(val, meaAxisType[i], digit);\n            }\n          }\n        });\n      } else {\n        meaAxis[i] = _extends$5({}, meaAxisBase);\n      }\n      meaAxis[i].name = meaAxisName[i] || '';\n      meaAxis[i].scale = scale[i] || false;\n      meaAxis[i].min = min[i] || null;\n      meaAxis[i].max = max[i] || null;\n    };\n\n    for (var i = 0; i < 2; i++) {\n      _loop(i);\n    }\n\n    return meaAxis;\n  }\n\n  function getBarTooltip(args) {\n    var axisSite = args.axisSite,\n        isHistogram = args.isHistogram,\n        meaAxisType = args.meaAxisType,\n        digit = args.digit,\n        labelMap = args.labelMap;\n\n    var secondAxis = isHistogram ? axisSite.right || [] : axisSite.top || [];\n    if (labelMap) {\n      secondAxis = secondAxis.map(function (item) {\n        return labelMap[item] === undefined ? item : labelMap[item];\n      });\n    }\n    return {\n      trigger: 'axis',\n      formatter: function formatter(items) {\n        var tpl = [];\n        tpl.push(items[0].name + '<br>');\n        items.forEach(function (item) {\n          var seriesName = item.seriesName;\n          var type = ~secondAxis.indexOf(seriesName) ? meaAxisType[1] : meaAxisType[0];\n          tpl.push(constants.itemPoint(item.color));\n          tpl.push(seriesName + ': ');\n          tpl.push(utils.getFormated(item.value, type, digit));\n          tpl.push('<br>');\n        });\n\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getValueData(seriesTemp, dims) {\n    var max = Math.max.apply(null, dims);\n    var min = Math.min.apply(null, dims);\n    var result = [];\n    for (var i = min; i <= max; i++) {\n      var index = dims.indexOf(i);\n      if (~index) {\n        result.push(seriesTemp[index]);\n      } else {\n        result.push(null);\n      }\n    }\n    return result;\n  }\n\n  function getBarSeries(args) {\n    var innerRows = args.innerRows,\n        metrics = args.metrics,\n        stack = args.stack,\n        axisSite = args.axisSite,\n        isHistogram = args.isHistogram,\n        labelMap = args.labelMap,\n        itemStyle = args.itemStyle,\n        label = args.label,\n        _args$showLine = args.showLine,\n        showLine = _args$showLine === undefined ? [] : _args$showLine,\n        dimAxisType = args.dimAxisType,\n        barGap = args.barGap,\n        opacity = args.opacity,\n        dims = args.dims;\n\n    var series = [];\n    var seriesTemp = {};\n    var secondAxis = isHistogram ? axisSite.right || [] : axisSite.top || [];\n    var secondDimAxisIndex = isHistogram ? 'yAxisIndex' : 'xAxisIndex';\n    var stackMap = stack && utils.getStackMap(stack);\n    metrics.forEach(function (item) {\n      seriesTemp[item] = [];\n    });\n    innerRows.forEach(function (row) {\n      metrics.forEach(function (item) {\n        seriesTemp[item].push(row[item]);\n      });\n    });\n    series = Object.keys(seriesTemp).map(function (item, index) {\n      var data = dimAxisType === 'value' ? getValueData(seriesTemp[item], dims) : seriesTemp[item];\n      var seriesItem = defineProperty$7({\n        name: labelMap[item] != null ? labelMap[item] : item,\n        type: ~showLine.indexOf(item) ? 'line' : 'bar',\n        data: data\n      }, secondDimAxisIndex, ~secondAxis.indexOf(item) ? '1' : '0');\n\n      if (stack && stackMap[item]) seriesItem.stack = stackMap[item];\n\n      if (label) seriesItem.label = label;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n\n      var itemOpacity = opacity || utilsLite.get(seriesItem, 'itemStyle.normal.opacity');\n      if (dimAxisType === 'value') {\n        seriesItem.barGap = barGap;\n        seriesItem.barCategoryGap = '1%';\n        if (itemOpacity == null) itemOpacity = VALUE_AXIS_OPACITY;\n      }\n\n      if (itemOpacity != null) {\n        utilsLite.set(seriesItem, 'itemStyle.normal.opacity', itemOpacity);\n      }\n\n      return seriesItem;\n    });\n\n    return series.length ? series : false;\n  }\n\n  function getLegend$1(args) {\n    var metrics = args.metrics,\n        labelMap = args.labelMap,\n        legendName = args.legendName;\n\n    if (!legendName && !labelMap) return { data: metrics };\n    var data = labelMap ? metrics.map(function (item) {\n      return labelMap[item] == null ? item : labelMap[item];\n    }) : metrics;\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getDims(rows, dimension) {\n    return rows.map(function (row) {\n      return row[dimension[0]];\n    });\n  }\n\n  var histogram = function histogram(columns, rows, settings, status) {\n    var innerRows = utilsLite.cloneDeep(rows);\n    var _settings$axisSite2 = settings.axisSite,\n        axisSite = _settings$axisSite2 === undefined ? {} : _settings$axisSite2,\n        _settings$dimension2 = settings.dimension,\n        dimension = _settings$dimension2 === undefined ? [columns[0]] : _settings$dimension2,\n        _settings$stack2 = settings.stack,\n        stack = _settings$stack2 === undefined ? {} : _settings$stack2,\n        _settings$axisVisible2 = settings.axisVisible,\n        axisVisible = _settings$axisVisible2 === undefined ? true : _settings$axisVisible2,\n        _settings$digit2 = settings.digit,\n        digit = _settings$digit2 === undefined ? 2 : _settings$digit2,\n        _settings$dataOrder2 = settings.dataOrder,\n        dataOrder = _settings$dataOrder2 === undefined ? false : _settings$dataOrder2,\n        _settings$scale2 = settings.scale,\n        scale = _settings$scale2 === undefined ? [false, false] : _settings$scale2,\n        _settings$min2 = settings.min,\n        min = _settings$min2 === undefined ? [null, null] : _settings$min2,\n        _settings$max2 = settings.max,\n        max = _settings$max2 === undefined ? [null, null] : _settings$max2,\n        _settings$labelMap2 = settings.labelMap,\n        labelMap = _settings$labelMap2 === undefined ? {} : _settings$labelMap2,\n        _settings$legendName2 = settings.legendName,\n        legendName = _settings$legendName2 === undefined ? {} : _settings$legendName2,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        showLine = settings.showLine,\n        _settings$barGap2 = settings.barGap,\n        barGap = _settings$barGap2 === undefined ? '-100%' : _settings$barGap2,\n        opacity = settings.opacity;\n\n\n    if (dataOrder) {\n      var _label2 = dataOrder.label,\n          order = dataOrder.order;\n\n      if (!_label2 || !order) {\n        console.warn('Need to provide name and order parameters');\n      } else {\n        innerRows.sort(function (a, b) {\n          if (order === 'desc') {\n            return a[_label2] - b[_label2];\n          } else {\n            return b[_label2] - a[_label2];\n          }\n        });\n      }\n    }\n\n    var tooltipVisible = status.tooltipVisible,\n        legendVisible = status.legendVisible;\n\n    var metrics = columns.slice();\n    if (axisSite.left && axisSite.right) {\n      metrics = axisSite.left.concat(axisSite.right);\n    } else if (axisSite.left && !axisSite.right) {\n      metrics = axisSite.left;\n    } else if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension[0]), 1);\n    }\n    var meaAxisType = settings.yAxisType || ['normal', 'normal'];\n    var dimAxisType = settings.xAxisType || 'category';\n    var meaAxisName = settings.yAxisName || [];\n    var dimAxisName = settings.xAxisName || '';\n    var isHistogram = true;\n    var dims = getDims(innerRows, dimension);\n\n    var legend = legendVisible && getLegend$1({ metrics: metrics, labelMap: labelMap, legendName: legendName });\n    var xAxis = getBarDimAxis({\n      innerRows: innerRows,\n      dimAxisName: dimAxisName,\n      dimension: dimension,\n      axisVisible: axisVisible,\n      dimAxisType: dimAxisType,\n      dims: dims\n    });\n    var yAxis = getBarMeaAxis({\n      meaAxisName: meaAxisName,\n      meaAxisType: meaAxisType,\n      axisVisible: axisVisible,\n      digit: digit,\n      scale: scale,\n      min: min,\n      max: max\n    });\n    var series = getBarSeries({\n      innerRows: innerRows,\n      metrics: metrics,\n      stack: stack,\n      axisSite: axisSite,\n      isHistogram: isHistogram,\n      labelMap: labelMap,\n      itemStyle: itemStyle,\n      label: label,\n      showLine: showLine,\n      dimAxisType: dimAxisType,\n      dimension: dimension,\n      barGap: barGap,\n      opacity: opacity,\n      dims: dims\n    });\n    var tooltipParams = { axisSite: axisSite, isHistogram: isHistogram, meaAxisType: meaAxisType, digit: digit, labelMap: labelMap };\n    var tooltip = tooltipVisible && getBarTooltip(tooltipParams);\n    var options = { legend: legend, yAxis: yAxis, series: series, xAxis: xAxis, tooltip: tooltip };\n    return options;\n  };\n\n  var index$4 = _extends$5({}, Core$3, {\n    name: 'VeHistogram',\n    data: function data() {\n      this.chartHandler = histogram;\n      return {};\n    }\n  });\n\n  var histogram_common = index$4;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var defaultEmphasis$1 = model.defaultEmphasis;\n\n\n\n  var makeSeriesEncodeForNameBased$2 = sourceHelper.makeSeriesEncodeForNameBased;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var FunnelSeries = echarts.extendSeriesModel({\n    type: 'series.funnel',\n    init: function (option) {\n      FunnelSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this)); // Extend labelLine emphasis\n\n      this._defaultLabelLine(option);\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        coordDimensions: ['value'],\n        encodeDefaulter: util.curry(makeSeriesEncodeForNameBased$2, this)\n      });\n    },\n    _defaultLabelLine: function (option) {\n      // Extend labelLine emphasis\n      defaultEmphasis$1(option, 'labelLine', ['show']);\n      var labelLineNormalOpt = option.labelLine;\n      var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n      labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n      labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n    },\n    // Overwrite\n    getDataParams: function (dataIndex) {\n      var data = this.getData();\n      var params = FunnelSeries.superCall(this, 'getDataParams', dataIndex);\n      var valueDim = data.mapDimension('value');\n      var sum = data.getSum(valueDim); // Percent is 0 if sum is 0\n\n      params.percent = !sum ? 0 : +(data.get(valueDim, dataIndex) / sum * 100).toFixed(2);\n      params.$vars.push('percent');\n      return params;\n    },\n    defaultOption: {\n      zlevel: 0,\n      // \n      z: 2,\n      // \n      legendHoverLink: true,\n      left: 80,\n      top: 60,\n      right: 80,\n      bottom: 60,\n      // width: {totalWidth} - left - right,\n      // height: {totalHeight} - top - bottom,\n      // \n      // min: 0,\n      // max: 100,\n      minSize: '0%',\n      maxSize: '100%',\n      sort: 'descending',\n      // 'ascending', 'descending'\n      orient: 'vertical',\n      gap: 0,\n      funnelAlign: 'center',\n      label: {\n        show: true,\n        position: 'outer' // formatter: Tooltip.formatter\n\n      },\n      labelLine: {\n        show: true,\n        length: 20,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      itemStyle: {\n        // color: ,\n        borderColor: '#fff',\n        borderWidth: 1\n      },\n      emphasis: {\n        label: {\n          show: true\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Piece of pie including Sector, Label, LabelLine\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   */\n  function FunnelPiece(data, idx) {\n    graphic.Group.call(this);\n    var polygon = new graphic.Polygon();\n    var labelLine = new graphic.Polyline();\n    var text = new graphic.Text();\n    this.add(polygon);\n    this.add(labelLine);\n    this.add(text);\n\n    this.highDownOnUpdate = function (fromState, toState) {\n      if (toState === 'emphasis') {\n        labelLine.ignore = labelLine.hoverIgnore;\n        text.ignore = text.hoverIgnore;\n      } else {\n        labelLine.ignore = labelLine.normalIgnore;\n        text.ignore = text.normalIgnore;\n      }\n    };\n\n    this.updateData(data, idx, true);\n  }\n\n  var funnelPieceProto = FunnelPiece.prototype;\n  var opacityAccessPath = ['itemStyle', 'opacity'];\n\n  funnelPieceProto.updateData = function (data, idx, firstCreate) {\n    var polygon = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var opacity = data.getItemModel(idx).get(opacityAccessPath);\n    opacity = opacity == null ? 1 : opacity; // Reset style\n\n    polygon.useStyle({});\n\n    if (firstCreate) {\n      polygon.setShape({\n        points: layout.points\n      });\n      polygon.setStyle({\n        opacity: 0\n      });\n      graphic.initProps(polygon, {\n        style: {\n          opacity: opacity\n        }\n      }, seriesModel, idx);\n    } else {\n      graphic.updateProps(polygon, {\n        style: {\n          opacity: opacity\n        },\n        shape: {\n          points: layout.points\n        }\n      }, seriesModel, idx);\n    } // Update common style\n\n\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var visualColor = data.getItemVisual(idx, 'color');\n    polygon.setStyle(util.defaults({\n      lineJoin: 'round',\n      fill: visualColor\n    }, itemStyleModel.getItemStyle(['opacity'])));\n    polygon.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n    this._updateLabel(data, idx);\n\n    graphic.setHoverStyle(this);\n  };\n\n  funnelPieceProto._updateLabel = function (data, idx) {\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.updateProps(labelLine, {\n      shape: {\n        points: labelLayout.linePoints || labelLayout.linePoints\n      }\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: {\n        x: labelLayout.x,\n        y: labelLayout.y\n      }\n    }, seriesModel, idx);\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      origin: [labelLayout.x, labelLayout.y],\n      z2: 10\n    });\n    var labelModel = itemModel.getModel('label');\n    var labelHoverModel = itemModel.getModel('emphasis.label');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultText: data.getName(idx),\n      autoColor: visualColor,\n      useInsideStyle: !!labelLayout.inside\n    }, {\n      textAlign: labelLayout.textAlign,\n      textVerticalAlign: labelLayout.verticalAlign\n    });\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n    labelLine.setStyle({\n      stroke: visualColor\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  };\n\n  util.inherits(FunnelPiece, graphic.Group);\n  var FunnelView = Chart_1.extend({\n    type: 'funnel',\n    render: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var group = this.group;\n      data.diff(oldData).add(function (idx) {\n        var funnelPiece = new FunnelPiece(data, idx);\n        data.setItemGraphicEl(idx, funnelPiece);\n        group.add(funnelPiece);\n      }).update(function (newIdx, oldIdx) {\n        var piePiece = oldData.getItemGraphicEl(oldIdx);\n        piePiece.updateData(data, newIdx);\n        group.add(piePiece);\n        data.setItemGraphicEl(newIdx, piePiece);\n      }).remove(function (idx) {\n        var piePiece = oldData.getItemGraphicEl(idx);\n        group.remove(piePiece);\n      }).execute();\n      this._data = data;\n    },\n    remove: function () {\n      this.group.removeAll();\n      this._data = null;\n    },\n    dispose: function () {}\n  });\n\n  var parsePercent$8 = number.parsePercent;\n  var linearMap$3 = number.linearMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function getViewRect$1(seriesModel, api) {\n    return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  }\n\n  function getSortedIndices(data, sort) {\n    var valueDim = data.mapDimension('value');\n    var valueArr = data.mapArray(valueDim, function (val) {\n      return val;\n    });\n    var indices = [];\n    var isAscending = sort === 'ascending';\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      indices[i] = i;\n    } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n    if (typeof sort === 'function') {\n      indices.sort(sort);\n    } else if (sort !== 'none') {\n      indices.sort(function (a, b) {\n        return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n      });\n    }\n\n    return indices;\n  }\n\n  function labelLayout$1(data) {\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelModel = itemModel.getModel('label');\n      var labelPosition = labelModel.get('position');\n      var orient = itemModel.get('orient');\n      var labelLineModel = itemModel.getModel('labelLine');\n      var layout = data.getItemLayout(idx);\n      var points = layout.points;\n      var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n      var textAlign;\n      var textX;\n      var textY;\n      var linePoints;\n\n      if (isLabelInside) {\n        if (labelPosition === 'insideLeft') {\n          textX = (points[0][0] + points[3][0]) / 2 + 5;\n          textY = (points[0][1] + points[3][1]) / 2;\n          textAlign = 'left';\n        } else if (labelPosition === 'insideRight') {\n          textX = (points[1][0] + points[2][0]) / 2 - 5;\n          textY = (points[1][1] + points[2][1]) / 2;\n          textAlign = 'right';\n        } else {\n          textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n          textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n          textAlign = 'center';\n        }\n\n        linePoints = [[textX, textY], [textX, textY]];\n      } else {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        var labelLineLen = labelLineModel.get('length');\n\n        if (labelPosition === 'left') {\n          // Left side\n          x1 = (points[3][0] + points[0][0]) / 2;\n          y1 = (points[3][1] + points[0][1]) / 2;\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        } else if (labelPosition === 'right') {\n          // Right side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'left';\n        } else if (labelPosition === 'top') {\n          // Top side\n          x1 = (points[3][0] + points[0][0]) / 2;\n          y1 = (points[3][1] + points[0][1]) / 2;\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else if (labelPosition === 'bottom') {\n          // Bottom side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else if (labelPosition === 'rightTop') {\n          // RightTop side\n          x1 = orient === 'horizontal' ? points[3][0] : points[1][0];\n          y1 = orient === 'horizontal' ? points[3][1] : points[1][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 - labelLineLen;\n            textY = y2 - 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'top';\n          }\n        } else if (labelPosition === 'rightBottom') {\n          // RightBottom side\n          x1 = points[2][0];\n          y1 = points[2][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'bottom';\n          }\n        } else if (labelPosition === 'leftTop') {\n          // LeftTop side\n          x1 = points[0][0];\n          y1 = orient === 'horizontal' ? points[0][1] : points[1][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 - labelLineLen;\n            textY = y2 - 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 - labelLineLen;\n            textX = x2 - 5;\n            textAlign = 'right';\n          }\n        } else if (labelPosition === 'leftBottom') {\n          // LeftBottom side\n          x1 = orient === 'horizontal' ? points[1][0] : points[3][0];\n          y1 = orient === 'horizontal' ? points[1][1] : points[2][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 - labelLineLen;\n            textX = x2 - 5;\n            textAlign = 'right';\n          }\n        } else {\n          // Right side or Bottom side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'left';\n          }\n        }\n\n        if (orient === 'horizontal') {\n          x2 = x1;\n          textX = x2;\n        } else {\n          y2 = y1;\n          textY = y2;\n        }\n\n        linePoints = [[x1, y1], [x2, y2]];\n      }\n\n      layout.label = {\n        linePoints: linePoints,\n        x: textX,\n        y: textY,\n        verticalAlign: 'middle',\n        textAlign: textAlign,\n        inside: isLabelInside\n      };\n    });\n  }\n\n  function _default$2b(ecModel, api, payload) {\n    ecModel.eachSeriesByType('funnel', function (seriesModel) {\n      var data = seriesModel.getData();\n      var valueDim = data.mapDimension('value');\n      var sort = seriesModel.get('sort');\n      var viewRect = getViewRect$1(seriesModel, api);\n      var indices = getSortedIndices(data, sort);\n      var orient = seriesModel.get('orient');\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var x = viewRect.x;\n      var y = viewRect.y;\n      var sizeExtent = orient === 'horizontal' ? [parsePercent$8(seriesModel.get('minSize'), viewHeight), parsePercent$8(seriesModel.get('maxSize'), viewHeight)] : [parsePercent$8(seriesModel.get('minSize'), viewWidth), parsePercent$8(seriesModel.get('maxSize'), viewWidth)];\n      var dataExtent = data.getDataExtent(valueDim);\n      var min = seriesModel.get('min');\n      var max = seriesModel.get('max');\n\n      if (min == null) {\n        min = Math.min(dataExtent[0], 0);\n      }\n\n      if (max == null) {\n        max = dataExtent[1];\n      }\n\n      var funnelAlign = seriesModel.get('funnelAlign');\n      var gap = seriesModel.get('gap');\n      var viewSize = orient === 'horizontal' ? viewWidth : viewHeight;\n      var itemSize = (viewSize - gap * (data.count() - 1)) / data.count();\n\n      var getLinePoints = function (idx, offset) {\n        // End point index is data.count() and we assign it 0\n        if (orient === 'horizontal') {\n          var val = data.get(valueDim, idx) || 0;\n          var itemHeight = linearMap$3(val, [min, max], sizeExtent, true);\n          var y0;\n\n          switch (funnelAlign) {\n            case 'top':\n              y0 = y;\n              break;\n\n            case 'center':\n              y0 = y + (viewHeight - itemHeight) / 2;\n              break;\n\n            case 'bottom':\n              y0 = y + (viewHeight - itemHeight);\n              break;\n          }\n\n          return [[offset, y0], [offset, y0 + itemHeight]];\n        }\n\n        var val = data.get(valueDim, idx) || 0;\n        var itemWidth = linearMap$3(val, [min, max], sizeExtent, true);\n        var x0;\n\n        switch (funnelAlign) {\n          case 'left':\n            x0 = x;\n            break;\n\n          case 'center':\n            x0 = x + (viewWidth - itemWidth) / 2;\n            break;\n\n          case 'right':\n            x0 = x + viewWidth - itemWidth;\n            break;\n        }\n\n        return [[x0, offset], [x0 + itemWidth, offset]];\n      };\n\n      if (sort === 'ascending') {\n        // From bottom to top\n        itemSize = -itemSize;\n        gap = -gap;\n\n        if (orient === 'horizontal') {\n          x += viewWidth;\n        } else {\n          y += viewHeight;\n        }\n\n        indices = indices.reverse();\n      }\n\n      for (var i = 0; i < indices.length; i++) {\n        var idx = indices[i];\n        var nextIdx = indices[i + 1];\n        var itemModel = data.getItemModel(idx);\n\n        if (orient === 'horizontal') {\n          var width = itemModel.get('itemStyle.width');\n\n          if (width == null) {\n            width = itemSize;\n          } else {\n            width = parsePercent$8(width, viewWidth);\n\n            if (sort === 'ascending') {\n              width = -width;\n            }\n          }\n\n          var start = getLinePoints(idx, x);\n          var end = getLinePoints(nextIdx, x + width);\n          x += width + gap;\n          data.setItemLayout(idx, {\n            points: start.concat(end.slice().reverse())\n          });\n        } else {\n          var height = itemModel.get('itemStyle.height');\n\n          if (height == null) {\n            height = itemSize;\n          } else {\n            height = parsePercent$8(height, viewHeight);\n\n            if (sort === 'ascending') {\n              height = -height;\n            }\n          }\n\n          var start = orient === 'horizontal' ? getLinePoints(idx, x) : getLinePoints(idx, y);\n          var end = orient === 'horizontal' ? getLinePoints(nextIdx, x + width) : getLinePoints(nextIdx, y + height);\n          y += height + gap;\n          data.setItemLayout(idx, {\n            points: start.concat(end.slice().reverse())\n          });\n        }\n      }\n\n      labelLayout$1(data);\n    });\n  }\n\n  var funnelLayout = _default$2b;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerVisual(dataColor('funnel'));\n  echarts.registerLayout(funnelLayout);\n  echarts.registerProcessor(dataFilter('funnel'));\n\n  function _interopDefault$6 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core$4 = _interopDefault$6(core_1);\n\n  function getFunnelTooltip(dataType, digit) {\n    return {\n      trigger: 'item',\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        tpl.push(item.name + ': ' + utils.getFormated(item.data.realValue, dataType, digit));\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getFunnelLegend(args) {\n    var data = args.data,\n        legendName = args.legendName;\n\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getFunnelSeries(args) {\n    var dimension = args.dimension,\n        metrics = args.metrics,\n        rows = args.rows,\n        sequence = args.sequence,\n        ascending = args.ascending,\n        label = args.label,\n        labelLine = args.labelLine,\n        itemStyle = args.itemStyle,\n        filterZero = args.filterZero,\n        useDefaultOrder = args.useDefaultOrder;\n\n    var series = { type: 'funnel' };\n    var innerRows = rows.sort(function (a, b) {\n      return sequence.indexOf(a[dimension]) - sequence.indexOf(b[dimension]);\n    });\n\n    if (filterZero) {\n      innerRows = innerRows.filter(function (row) {\n        return row[metrics];\n      });\n    }\n\n    var falseFunnel = false;\n    innerRows.some(function (row, index) {\n      if (index && row[metrics] > innerRows[index - 1][metrics]) {\n        falseFunnel = true;\n        return true;\n      }\n    });\n\n    var step = 100 / innerRows.length;\n\n    if (falseFunnel && !useDefaultOrder) {\n      series.data = innerRows.slice().reverse().map(function (row, index) {\n        return {\n          name: row[dimension],\n          value: (index + 1) * step,\n          realValue: row[metrics]\n        };\n      });\n    } else {\n      series.data = innerRows.map(function (row) {\n        return {\n          name: row[dimension],\n          value: row[metrics],\n          realValue: row[metrics]\n        };\n      });\n    }\n\n    if (ascending) series.sort = 'ascending';\n    if (label) series.label = label;\n    if (labelLine) series.labelLine = labelLine;\n    if (itemStyle) series.itemStyle = itemStyle;\n    return series;\n  }\n\n  var funnel$1 = function funnel$$1(outerColumns, outerRows, settings, extra) {\n    var columns = outerColumns.slice();\n    var rows = outerRows.slice();\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? 'normal' : _settings$dataType,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$sequence = settings.sequence,\n        sequence = _settings$sequence === undefined ? rows.map(function (row) {\n      return row[dimension];\n    }) : _settings$sequence,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        ascending = settings.ascending,\n        label = settings.label,\n        labelLine = settings.labelLine,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        itemStyle = settings.itemStyle,\n        filterZero = settings.filterZero,\n        useDefaultOrder = settings.useDefaultOrder;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    var metrics = void 0;\n    if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      var metricsTemp = columns.slice();\n      metricsTemp.splice(columns.indexOf(dimension), 1);\n      metrics = metricsTemp[0];\n    }\n\n    var tooltip = tooltipVisible && getFunnelTooltip(dataType, digit);\n    var legend = legendVisible && getFunnelLegend({ data: sequence, legendName: legendName });\n    var series = getFunnelSeries({\n      dimension: dimension,\n      metrics: metrics,\n      rows: rows,\n      sequence: sequence,\n      ascending: ascending,\n      label: label,\n      labelLine: labelLine,\n      itemStyle: itemStyle,\n      filterZero: filterZero,\n      useDefaultOrder: useDefaultOrder\n    });\n    var options = { tooltip: tooltip, legend: legend, series: series };\n    return options;\n  };\n\n  var _extends$6 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var index$5 = _extends$6({}, Core$4, {\n    name: 'VeFunnel',\n    data: function data() {\n      this.chartHandler = funnel$1;\n      return {};\n    }\n  });\n\n  var funnel_common = index$5;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var addCommas$2 = format$1.addCommas;\n  var encodeHTML$3 = format$1.encodeHTML;\n\n  function fillLabel(opt) {\n    model.defaultEmphasis(opt, 'label', ['show']);\n  }\n\n  var MarkerModel = echarts.extendComponentModel({\n    type: 'marker',\n    dependencies: ['series', 'grid', 'polar', 'geo'],\n\n    /**\n     * @overrite\n     */\n    init: function (option, parentModel, ecModel) {\n      this.mergeDefaultAndTheme(option, ecModel);\n\n      this._mergeOption(option, ecModel, false, true);\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n      if (env_1.node) {\n        return false;\n      }\n\n      var hostSeries = this.__hostSeries;\n      return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n    },\n\n    /**\n     * @overrite\n     */\n    mergeOption: function (newOpt, ecModel) {\n      this._mergeOption(newOpt, ecModel, false, false);\n    },\n    _mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n      var MarkerModel = this.constructor;\n      var modelPropName = this.mainType + 'Model';\n\n      if (!createdBySelf) {\n        ecModel.eachSeries(function (seriesModel) {\n          var markerOpt = seriesModel.get(this.mainType, true);\n          var markerModel = seriesModel[modelPropName];\n\n          if (!markerOpt || !markerOpt.data) {\n            seriesModel[modelPropName] = null;\n            return;\n          }\n\n          if (!markerModel) {\n            if (isInit) {\n              // Default label emphasis `position` and `show`\n              fillLabel(markerOpt);\n            }\n\n            util.each(markerOpt.data, function (item) {\n              // FIXME Overwrite fillLabel method ?\n              if (item instanceof Array) {\n                fillLabel(item[0]);\n                fillLabel(item[1]);\n              } else {\n                fillLabel(item);\n              }\n            });\n            markerModel = new MarkerModel(markerOpt, this, ecModel);\n            util.extend(markerModel, {\n              mainType: this.mainType,\n              // Use the same series index and name\n              seriesIndex: seriesModel.seriesIndex,\n              name: seriesModel.name,\n              createdBySelf: true\n            });\n            markerModel.__hostSeries = seriesModel;\n          } else {\n            markerModel._mergeOption(markerOpt, ecModel, true);\n          }\n\n          seriesModel[modelPropName] = markerModel;\n        }, this);\n      }\n    },\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var data = this.getData();\n      var value = this.getRawValue(dataIndex);\n      var formattedValue = util.isArray(value) ? util.map(value, addCommas$2).join(', ') : addCommas$2(value);\n      var name = data.getName(dataIndex);\n      var html = encodeHTML$3(this.name);\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n\n      if (value != null || name) {\n        html += newLine;\n      }\n\n      if (name) {\n        html += encodeHTML$3(name);\n\n        if (value != null) {\n          html += ' : ';\n        }\n      }\n\n      if (value != null) {\n        html += encodeHTML$3(formattedValue);\n      }\n\n      return html;\n    },\n    getData: function () {\n      return this._data;\n    },\n    setData: function (data) {\n      this._data = data;\n    }\n  });\n  util.mixin(MarkerModel, dataFormat);\n  var _default$2c = MarkerModel;\n  var MarkerModel_1 = _default$2c;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2d = MarkerModel_1.extend({\n    type: 'markLine',\n    defaultOption: {\n      zlevel: 0,\n      z: 5,\n      symbol: ['circle', 'arrow'],\n      symbolSize: [8, 16],\n      //symbolRotate: 0,\n      precision: 2,\n      tooltip: {\n        trigger: 'item'\n      },\n      label: {\n        show: true,\n        position: 'end',\n        distance: 5\n      },\n      lineStyle: {\n        type: 'dashed'\n      },\n      emphasis: {\n        label: {\n          show: true\n        },\n        lineStyle: {\n          width: 3\n        }\n      },\n      animationEasing: 'linear'\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var isDimensionStacked$5 = dataStackHelper.isDimensionStacked;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var indexOf$5 = util.indexOf;\n\n  function hasXOrY(item) {\n    return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n  }\n\n  function hasXAndY(item) {\n    return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n  } // Make it simple, do not visit all stacked value to count precision.\n  // function getPrecision(data, valueAxisDim, dataIndex) {\n  //     var precision = -1;\n  //     var stackedDim = data.mapDimension(valueAxisDim);\n  //     do {\n  //         precision = Math.max(\n  //             numberUtil.getPrecision(data.get(stackedDim, dataIndex)),\n  //             precision\n  //         );\n  //         var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n  //         if (stackedOnSeries) {\n  //             var byValue = data.get(data.getCalculationInfo('stackedByDimension'), dataIndex);\n  //             data = stackedOnSeries.getData();\n  //             dataIndex = data.indexOf(data.getCalculationInfo('stackedByDimension'), byValue);\n  //             stackedDim = data.getCalculationInfo('stackedDimension');\n  //         }\n  //         else {\n  //             data = null;\n  //         }\n  //     } while (data);\n  //     return precision;\n  // }\n\n\n  function markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n    var coordArr = [];\n    var stacked = isDimensionStacked$5(data, targetDataDim\n    /*, otherDataDim*/\n    );\n    var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n    var value = numCalculate(data, calcDataDim, mlType);\n    var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n    coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n    coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n    var coordArrValue = data.get(targetDataDim, dataIndex); // Make it simple, do not visit all stacked value to count precision.\n\n    var precision = number.getPrecision(data.get(targetDataDim, dataIndex));\n    precision = Math.min(precision, 20);\n\n    if (precision >= 0) {\n      coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n    }\n\n    return [coordArr, coordArrValue];\n  }\n\n  var curry$4 = util.curry; // TODO Specified percent\n\n  var markerTypeCalculator = {\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    min: curry$4(markerTypeCalculatorWithExtent, 'min'),\n\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    max: curry$4(markerTypeCalculatorWithExtent, 'max'),\n\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    average: curry$4(markerTypeCalculatorWithExtent, 'average')\n  };\n  /**\n   * Transform markPoint data item to format used in List by do the following\n   * 1. Calculate statistic like `max`, `min`, `average`\n   * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/coord/*} [coordSys]\n   * @param  {Object} item\n   * @return {Object}\n   */\n\n  function dataTransform(seriesModel, item) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n    // 2. If `coord` is not a data array. Which uses `xAxis`,\n    // `yAxis` to specify the coord on each dimension\n    // parseFloat first because item.x and item.y can be percent string like '20%'\n\n    if (item && !hasXAndY(item) && !util.isArray(item.coord) && coordSys) {\n      var dims = coordSys.dimensions;\n      var axisInfo = getAxisInfo$1(item, data, coordSys, seriesModel); // Clone the option\n      // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n      item = util.clone(item);\n\n      if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n        var otherCoordIndex = indexOf$5(dims, axisInfo.baseAxis.dim);\n        var targetCoordIndex = indexOf$5(dims, axisInfo.valueAxis.dim);\n        var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n        item.coord = coordInfo[0]; // Force to use the value of calculated value.\n        // let item use the value without stack.\n\n        item.value = coordInfo[1];\n      } else {\n        // FIXME Only has one of xAxis and yAxis.\n        var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n        for (var i = 0; i < 2; i++) {\n          if (markerTypeCalculator[coord[i]]) {\n            coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n          }\n        }\n\n        item.coord = coord;\n      }\n    }\n\n    return item;\n  }\n\n  function getAxisInfo$1(item, data, coordSys, seriesModel) {\n    var ret = {};\n\n    if (item.valueIndex != null || item.valueDim != null) {\n      ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n      ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n      ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n      ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    } else {\n      ret.baseAxis = seriesModel.getBaseAxis();\n      ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n      ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n      ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n    }\n\n    return ret;\n  }\n\n  function dataDimToCoordDim(seriesModel, dataDim) {\n    var data = seriesModel.getData();\n    var dimensions = data.dimensions;\n    dataDim = data.getDimension(dataDim);\n\n    for (var i = 0; i < dimensions.length; i++) {\n      var dimItem = data.getDimensionInfo(dimensions[i]);\n\n      if (dimItem.name === dataDim) {\n        return dimItem.coordDim;\n      }\n    }\n  }\n  /**\n   * Filter data which is out of coordinateSystem range\n   * [dataFilter description]\n   * @param  {module:echarts/coord/*} [coordSys]\n   * @param  {Object} item\n   * @return {boolean}\n   */\n\n\n  function dataFilter$1(coordSys, item) {\n    // Alwalys return true if there is no coordSys\n    return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n  }\n\n  function dimValueGetter(item, dimName, dataIndex, dimIndex) {\n    // x, y, radius, angle\n    if (dimIndex < 2) {\n      return item.coord && item.coord[dimIndex];\n    }\n\n    return item.value;\n  }\n\n  function numCalculate(data, valueDataDim, type) {\n    if (type === 'average') {\n      var sum = 0;\n      var count = 0;\n      data.each(valueDataDim, function (val, idx) {\n        if (!isNaN(val)) {\n          sum += val;\n          count++;\n        }\n      });\n      return sum / count;\n    } else if (type === 'median') {\n      return data.getMedian(valueDataDim);\n    } else {\n      // max & min\n      return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n    }\n  }\n\n  var dataTransform_1 = dataTransform;\n  var getAxisInfo_1$1 = getAxisInfo$1;\n  var dataFilter_1 = dataFilter$1;\n  var dimValueGetter_1 = dimValueGetter;\n  var numCalculate_1 = numCalculate;\n\n  var markerHelper = {\n  \tdataTransform: dataTransform_1,\n  \tgetAxisInfo: getAxisInfo_1$1,\n  \tdataFilter: dataFilter_1,\n  \tdimValueGetter: dimValueGetter_1,\n  \tnumCalculate: numCalculate_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Line path for bezier and straight line draw\n   */\n  var straightLineProto = graphic.Line.prototype;\n  var bezierCurveProto = graphic.BezierCurve.prototype;\n\n  function isLine(shape) {\n    return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n  }\n\n  var _default$2e = graphic.extendShape({\n    type: 'ec-line',\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    shape: {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      percent: 1,\n      cpx1: null,\n      cpy1: null\n    },\n    buildPath: function (ctx, shape) {\n      this[isLine(shape) ? '_buildPathLine' : '_buildPathCurve'](ctx, shape);\n    },\n    _buildPathLine: straightLineProto.buildPath,\n    _buildPathCurve: bezierCurveProto.buildPath,\n    pointAt: function (t) {\n      return this[isLine(this.shape) ? '_pointAtLine' : '_pointAtCurve'](t);\n    },\n    _pointAtLine: straightLineProto.pointAt,\n    _pointAtCurve: bezierCurveProto.pointAt,\n    tangentAt: function (t) {\n      var shape = this.shape;\n      var p = isLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : this._tangentAtCurve(t);\n      return vector.normalize(p, p);\n    },\n    _tangentAtCurve: bezierCurveProto.tangentAt\n  });\n\n  var LinePath = _default$2e;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var round$4 = number.round;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/Line\n   */\n  var SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\n  function makeSymbolTypeKey(symbolCategory) {\n    return '_' + symbolCategory + 'Type';\n  }\n  /**\n   * @inner\n   */\n\n\n  function createSymbol$5(name, lineData, idx) {\n    var symbolType = lineData.getItemVisual(idx, name);\n\n    if (!symbolType || symbolType === 'none') {\n      return;\n    }\n\n    var color = lineData.getItemVisual(idx, 'color');\n    var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n    var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n\n    if (!util.isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n\n    var symbolPath = symbol.createSymbol(symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2, symbolSize[0], symbolSize[1], color); // rotate by default if symbolRotate is not specified or NaN\n\n    symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n    symbolPath.name = name;\n    return symbolPath;\n  }\n\n  function createLine(points) {\n    var line = new LinePath({\n      name: 'line',\n      subPixelOptimize: true\n    });\n    setLinePoints(line.shape, points);\n    return line;\n  }\n\n  function setLinePoints(targetShape, points) {\n    targetShape.x1 = points[0][0];\n    targetShape.y1 = points[0][1];\n    targetShape.x2 = points[1][0];\n    targetShape.y2 = points[1][1];\n    targetShape.percent = 1;\n    var cp1 = points[2];\n\n    if (cp1) {\n      targetShape.cpx1 = cp1[0];\n      targetShape.cpy1 = cp1[1];\n    } else {\n      targetShape.cpx1 = NaN;\n      targetShape.cpy1 = NaN;\n    }\n  }\n\n  function updateSymbolAndLabelBeforeLineUpdate() {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.childOfName('label'); // Quick reject\n\n    if (!symbolFrom && !symbolTo && label.ignore) {\n      return;\n    }\n\n    var invScale = 1;\n    var parentNode = this.parent;\n\n    while (parentNode) {\n      if (parentNode.scale) {\n        invScale /= parentNode.scale[0];\n      }\n\n      parentNode = parentNode.parent;\n    }\n\n    var line = lineGroup.childOfName('line'); // If line not changed\n    // FIXME Parent scale changed\n\n    if (!this.__dirty && !line.__dirty) {\n      return;\n    }\n\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n    var d = vector.sub([], toPos, fromPos);\n    vector.normalize(d, d);\n\n    if (symbolFrom) {\n      symbolFrom.attr('position', fromPos); // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n\n      var specifiedRotation = symbolFrom.__specifiedRotation;\n\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(0);\n        symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbolFrom.attr('rotation', specifiedRotation);\n      }\n\n      symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n    }\n\n    if (symbolTo) {\n      symbolTo.attr('position', toPos); // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n\n      var specifiedRotation = symbolTo.__specifiedRotation;\n\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(1);\n        symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbolTo.attr('rotation', specifiedRotation);\n      }\n\n      symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n    }\n\n    if (!label.ignore) {\n      label.attr('position', toPos);\n      var textPosition;\n      var textAlign;\n      var textVerticalAlign;\n      var textOrigin;\n      var distance = label.__labelDistance;\n      var distanceX = distance[0] * invScale;\n      var distanceY = distance[1] * invScale;\n      var halfPercent = percent / 2;\n      var tangent = line.tangentAt(halfPercent);\n      var n = [tangent[1], -tangent[0]];\n      var cp = line.pointAt(halfPercent);\n\n      if (n[1] > 0) {\n        n[0] = -n[0];\n        n[1] = -n[1];\n      }\n\n      var dir = tangent[0] < 0 ? -1 : 1;\n\n      if (label.__position !== 'start' && label.__position !== 'end') {\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n\n        label.attr('rotation', rotation);\n      }\n\n      var dy;\n\n      switch (label.__position) {\n        case 'insideStartTop':\n        case 'insideMiddleTop':\n        case 'insideEndTop':\n        case 'middle':\n          dy = -distanceY;\n          textVerticalAlign = 'bottom';\n          break;\n\n        case 'insideStartBottom':\n        case 'insideMiddleBottom':\n        case 'insideEndBottom':\n          dy = distanceY;\n          textVerticalAlign = 'top';\n          break;\n\n        default:\n          dy = 0;\n          textVerticalAlign = 'middle';\n      }\n\n      switch (label.__position) {\n        case 'end':\n          textPosition = [d[0] * distanceX + toPos[0], d[1] * distanceY + toPos[1]];\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n          break;\n\n        case 'start':\n          textPosition = [-d[0] * distanceX + fromPos[0], -d[1] * distanceY + fromPos[1]];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n          break;\n\n        case 'insideStartTop':\n        case 'insideStart':\n        case 'insideStartBottom':\n          textPosition = [distanceX * dir + fromPos[0], fromPos[1] + dy];\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\n          textOrigin = [-distanceX * dir, -dy];\n          break;\n\n        case 'insideMiddleTop':\n        case 'insideMiddle':\n        case 'insideMiddleBottom':\n        case 'middle':\n          textPosition = [cp[0], cp[1] + dy];\n          textAlign = 'center';\n          textOrigin = [0, -dy];\n          break;\n\n        case 'insideEndTop':\n        case 'insideEnd':\n        case 'insideEndBottom':\n          textPosition = [-distanceX * dir + toPos[0], toPos[1] + dy];\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\n          textOrigin = [distanceX * dir, -dy];\n          break;\n      }\n\n      label.attr({\n        style: {\n          // Use the user specified text align and baseline first\n          textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n          textAlign: label.__textAlign || textAlign\n        },\n        position: textPosition,\n        scale: [invScale, invScale],\n        origin: textOrigin\n      });\n    }\n  }\n  /**\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   * @alias {module:echarts/chart/helper/Line}\n   */\n\n\n  function Line$1(lineData, idx, seriesScope) {\n    graphic.Group.call(this);\n\n    this._createLine(lineData, idx, seriesScope);\n  }\n\n  var lineProto = Line$1.prototype; // Update symbol position and rotation\n\n  lineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\n  lineProto._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    graphic.initProps(line, {\n      shape: {\n        percent: 1\n      }\n    }, seriesModel, idx);\n    this.add(line);\n    var label = new graphic.Text({\n      name: 'label',\n      // FIXME\n      // Temporary solution for `focusNodeAdjacency`.\n      // line label do not use the opacity of lineStyle.\n      lineLabelOriginalOpacity: 1\n    });\n    this.add(label);\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = createSymbol$5(symbolCategory, lineData, idx); // symbols must added after line to make sure\n      // it will be updated after line#update.\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n      this.add(symbol);\n      this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  lineProto.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n      shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    graphic.updateProps(line, target, seriesModel, idx);\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbolType = lineData.getItemVisual(idx, symbolCategory);\n      var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n      if (this[key] !== symbolType) {\n        this.remove(this.childOfName(symbolCategory));\n        var symbol = createSymbol$5(symbolCategory, lineData, idx);\n        this.add(symbol);\n      }\n\n      this[key] = symbolType;\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  lineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var lineStyle = seriesScope && seriesScope.lineStyle;\n    var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel; // Optimization for large dataset\n\n    if (!seriesScope || lineData.hasItemOption) {\n      var itemModel = lineData.getItemModel(idx);\n      lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n      hoverLineStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n      labelModel = itemModel.getModel('label');\n      hoverLabelModel = itemModel.getModel('emphasis.label');\n    }\n\n    var visualColor = lineData.getItemVisual(idx, 'color');\n    var visualOpacity = util.retrieve3(lineData.getItemVisual(idx, 'opacity'), lineStyle.opacity, 1);\n    line.useStyle(util.defaults({\n      strokeNoScale: true,\n      fill: 'none',\n      stroke: visualColor,\n      opacity: visualOpacity\n    }, lineStyle));\n    line.hoverStyle = hoverLineStyle; // Update symbol\n\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = this.childOfName(symbolCategory);\n\n      if (symbol) {\n        symbol.setColor(visualColor);\n        symbol.setStyle({\n          opacity: visualOpacity\n        });\n      }\n    }, this);\n    var showLabel = labelModel.getShallow('show');\n    var hoverShowLabel = hoverLabelModel.getShallow('show');\n    var label = this.childOfName('label');\n    var defaultLabelColor;\n    var baseText; // FIXME: the logic below probably should be merged to `graphic.setLabelStyle`.\n\n    if (showLabel || hoverShowLabel) {\n      defaultLabelColor = visualColor || '#000';\n      baseText = seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType);\n\n      if (baseText == null) {\n        var rawVal = seriesModel.getRawValue(idx);\n        baseText = rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round$4(rawVal) : rawVal;\n      }\n    }\n\n    var normalText = showLabel ? baseText : null;\n    var emphasisText = hoverShowLabel ? util.retrieve2(seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType), baseText) : null;\n    var labelStyle = label.style; // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n\n    if (normalText != null || emphasisText != null) {\n      graphic.setTextStyle(label.style, labelModel, {\n        text: normalText\n      }, {\n        autoColor: defaultLabelColor\n      });\n      label.__textAlign = labelStyle.textAlign;\n      label.__verticalAlign = labelStyle.textVerticalAlign; // 'start', 'middle', 'end'\n\n      label.__position = labelModel.get('position') || 'middle';\n      var distance = labelModel.get('distance');\n\n      if (!util.isArray(distance)) {\n        distance = [distance, distance];\n      }\n\n      label.__labelDistance = distance;\n    }\n\n    if (emphasisText != null) {\n      // Only these properties supported in this emphasis style here.\n      label.hoverStyle = {\n        text: emphasisText,\n        textFill: hoverLabelModel.getTextColor(true),\n        // For merging hover style to normal style, do not use\n        // `hoverLabelModel.getFont()` here.\n        fontStyle: hoverLabelModel.getShallow('fontStyle'),\n        fontWeight: hoverLabelModel.getShallow('fontWeight'),\n        fontSize: hoverLabelModel.getShallow('fontSize'),\n        fontFamily: hoverLabelModel.getShallow('fontFamily')\n      };\n    } else {\n      label.hoverStyle = {\n        text: null\n      };\n    }\n\n    label.ignore = !showLabel && !hoverShowLabel;\n    graphic.setHoverStyle(this);\n  };\n\n  lineProto.highlight = function () {\n    this.trigger('emphasis');\n  };\n\n  lineProto.downplay = function () {\n    this.trigger('normal');\n  };\n\n  lineProto.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n  };\n\n  lineProto.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n  };\n\n  util.inherits(Line$1, graphic.Group);\n  var _default$2f = Line$1;\n  var Line_1$1 = _default$2f;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/LineDraw\n   */\n  // import IncrementalDisplayable from 'zrender/src/graphic/IncrementalDisplayable';\n\n  /**\n   * @alias module:echarts/component/marker/LineDraw\n   * @constructor\n   */\n  function LineDraw(ctor) {\n    this._ctor = ctor || Line_1$1;\n    this.group = new graphic.Group();\n  }\n\n  var lineDrawProto = LineDraw.prototype;\n\n  lineDrawProto.isPersistent = function () {\n    return true;\n  };\n  /**\n   * @param {module:echarts/data/List} lineData\n   */\n\n\n  lineDrawProto.updateData = function (lineData) {\n    var lineDraw = this;\n    var group = lineDraw.group;\n    var oldLineData = lineDraw._lineData;\n    lineDraw._lineData = lineData; // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!oldLineData) {\n      group.removeAll();\n    }\n\n    var seriesScope = makeSeriesScope$1(lineData);\n    lineData.diff(oldLineData).add(function (idx) {\n      doAdd(lineDraw, lineData, idx, seriesScope);\n    }).update(function (newIdx, oldIdx) {\n      doUpdate(lineDraw, oldLineData, lineData, oldIdx, newIdx, seriesScope);\n    }).remove(function (idx) {\n      group.remove(oldLineData.getItemGraphicEl(idx));\n    }).execute();\n  };\n\n  function doAdd(lineDraw, lineData, idx, seriesScope) {\n    var itemLayout = lineData.getItemLayout(idx);\n\n    if (!lineNeedsDraw(itemLayout)) {\n      return;\n    }\n\n    var el = new lineDraw._ctor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, el);\n    lineDraw.group.add(el);\n  }\n\n  function doUpdate(lineDraw, oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n      lineDraw.group.remove(itemEl);\n      return;\n    }\n\n    if (!itemEl) {\n      itemEl = new lineDraw._ctor(newLineData, newIdx, seriesScope);\n    } else {\n      itemEl.updateData(newLineData, newIdx, seriesScope);\n    }\n\n    newLineData.setItemGraphicEl(newIdx, itemEl);\n    lineDraw.group.add(itemEl);\n  }\n\n  lineDrawProto.updateLayout = function () {\n    var lineData = this._lineData; // Do not support update layout in incremental mode.\n\n    if (!lineData) {\n      return;\n    }\n\n    lineData.eachItemGraphicEl(function (el, idx) {\n      el.updateLayout(lineData, idx);\n    }, this);\n  };\n\n  lineDrawProto.incrementalPrepareUpdate = function (lineData) {\n    this._seriesScope = makeSeriesScope$1(lineData);\n    this._lineData = null;\n    this.group.removeAll();\n  };\n\n  function isEffectObject(el) {\n    return el.animators && el.animators.length > 0;\n  }\n\n  lineDrawProto.incrementalUpdate = function (taskParams, lineData) {\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup && !isEffectObject(el)) {\n        el.incremental = el.useHoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var itemLayout = lineData.getItemLayout(idx);\n\n      if (lineNeedsDraw(itemLayout)) {\n        var el = new this._ctor(lineData, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        this.group.add(el);\n        lineData.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  function makeSeriesScope$1(lineData) {\n    var hostModel = lineData.hostModel;\n    return {\n      lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n      hoverLineStyle: hostModel.getModel('emphasis.lineStyle').getLineStyle(),\n      labelModel: hostModel.getModel('label'),\n      hoverLabelModel: hostModel.getModel('emphasis.label')\n    };\n  }\n\n  lineDrawProto.remove = function () {\n    this._clearIncremental();\n\n    this._incremental = null;\n    this.group.removeAll();\n  };\n\n  lineDrawProto._clearIncremental = function () {\n    var incremental = this._incremental;\n\n    if (incremental) {\n      incremental.clearDisplaybles();\n    }\n  };\n\n  function isPointNaN(pt) {\n    return isNaN(pt[0]) || isNaN(pt[1]);\n  }\n\n  function lineNeedsDraw(pts) {\n    return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n  }\n\n  var _default$2g = LineDraw;\n  var LineDraw_1 = _default$2g;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2h = echarts.extendComponentView({\n    type: 'marker',\n    init: function () {\n      /**\n       * Markline grouped by series\n       * @private\n       * @type {module:zrender/core/util.HashMap}\n       */\n      this.markerGroupMap = util.createHashMap();\n    },\n    render: function (markerModel, ecModel, api) {\n      var markerGroupMap = this.markerGroupMap;\n      markerGroupMap.each(function (item) {\n        item.__keep = false;\n      });\n      var markerModelKey = this.type + 'Model';\n      ecModel.eachSeries(function (seriesModel) {\n        var markerModel = seriesModel[markerModelKey];\n        markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n      }, this);\n      markerGroupMap.each(function (item) {\n        !item.__keep && this.group.remove(item.group);\n      }, this);\n    },\n    renderSeries: function () {}\n  });\n\n  var MarkerView = _default$2h;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var getStackedDimension$3 = dataStackHelper.getStackedDimension;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n    var data = seriesModel.getData(); // Special type markLine like 'min', 'max', 'average', 'median'\n\n    var mlType = item.type;\n\n    if (!util.isArray(item) && (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median' // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null)) {\n      var valueAxis;\n      var value;\n\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = util.retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension$3(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex;\n      var mlFrom = util.clone(item);\n      var mlTo = {};\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlTo.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n\n      if (precision >= 0 && typeof value === 'number') {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      item = [mlFrom, mlTo, {\n        // Extra option for tooltip and label\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    }\n\n    item = [markerHelper.dataTransform(seriesModel, item[0]), markerHelper.dataTransform(seriesModel, item[1]), util.extend({}, item[2])]; // Avoid line data type is extended by from(to) data type\n\n    item[2].type = item[2].type || ''; // Merge from option and to option into line option\n\n    util.merge(item[2], item[0]);\n    util.merge(item[2], item[1]);\n    return item;\n  };\n\n  function isInifinity(val) {\n    return !isNaN(val) && !isFinite(val);\n  } // If a markLine has one dim\n\n\n  function ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    var dimName = coordSys.dimensions[dimIndex];\n    return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n  }\n\n  function markLineFilter(coordSys, item) {\n    if (coordSys.type === 'cartesian2d') {\n      var fromCoord = item[0].coord;\n      var toCoord = item[1].coord; // In case\n      // {\n      //  markLine: {\n      //    data: [{ yAxis: 2 }]\n      //  }\n      // }\n\n      if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n        return true;\n      }\n    }\n\n    return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n  }\n\n  function updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n    var point;\n    var xPx = number.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = number.parsePercent(itemModel.get('y'), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } else {\n      // Chart like bar may have there own marker positioning logic\n      if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n      } else {\n        var dims = coordSys.dimensions;\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n        point = coordSys.dataToPoint([x, y]);\n      } // Expand line to the edge of grid if value on one axis is Inifnity\n      // In case\n      //  markLine: {\n      //    data: [{\n      //      yAxis: 2\n      //      // or\n      //      type: 'average'\n      //    }]\n      //  }\n\n\n      if (coordSys.type === 'cartesian2d') {\n        var xAxis = coordSys.getAxis('x');\n        var yAxis = coordSys.getAxis('y');\n        var dims = coordSys.dimensions;\n\n        if (isInifinity(data.get(dims[0], idx))) {\n          point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n        } else if (isInifinity(data.get(dims[1], idx))) {\n          point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n        }\n      } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n    }\n\n    data.setItemLayout(idx, point);\n  }\n\n  var _default$2i = MarkerView.extend({\n    type: 'markLine',\n    // updateLayout: function (markLineModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var mlModel = seriesModel.markLineModel;\n    //         if (mlModel) {\n    //             var mlData = mlModel.getData();\n    //             var fromData = mlModel.__from;\n    //             var toData = mlModel.__to;\n    //             // Update visual and layout of from symbol and to symbol\n    //             fromData.each(function (idx) {\n    //                 updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n    //                 updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n    //             });\n    //             // Update layout of line\n    //             mlData.each(function (idx) {\n    //                 mlData.setItemLayout(idx, [\n    //                     fromData.getItemLayout(idx),\n    //                     toData.getItemLayout(idx)\n    //                 ]);\n    //             });\n    //             this.markerGroupMap.get(seriesModel.id).updateLayout();\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markLineModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var mlModel = seriesModel.markLineModel;\n\n        if (mlModel) {\n          var mlData = mlModel.getData();\n          var fromData = mlModel.__from;\n          var toData = mlModel.__to; // Update visual and layout of from symbol and to symbol\n\n          fromData.each(function (idx) {\n            updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n            updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n          }); // Update layout of line\n\n          mlData.each(function (idx) {\n            mlData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n          });\n          this.markerGroupMap.get(seriesModel.id).updateLayout();\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, mlModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var lineDrawMap = this.markerGroupMap;\n      var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw_1());\n      this.group.add(lineDraw.group);\n      var mlData = createList$1(coordSys, seriesModel, mlModel);\n      var fromData = mlData.from;\n      var toData = mlData.to;\n      var lineData = mlData.line;\n      mlModel.__from = fromData;\n      mlModel.__to = toData; // Line data for tooltip and formatter\n\n      mlModel.setData(lineData);\n      var symbolType = mlModel.get('symbol');\n      var symbolSize = mlModel.get('symbolSize');\n\n      if (!util.isArray(symbolType)) {\n        symbolType = [symbolType, symbolType];\n      }\n\n      if (typeof symbolSize === 'number') {\n        symbolSize = [symbolSize, symbolSize];\n      } // Update visual and layout of from symbol and to symbol\n\n\n      mlData.from.each(function (idx) {\n        updateDataVisualAndLayout(fromData, idx, true);\n        updateDataVisualAndLayout(toData, idx, false);\n      }); // Update visual and layout of line\n\n      lineData.each(function (idx) {\n        var lineColor = lineData.getItemModel(idx).get('lineStyle.color');\n        lineData.setItemVisual(idx, {\n          color: lineColor || fromData.getItemVisual(idx, 'color')\n        });\n        lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n        lineData.setItemVisual(idx, {\n          'fromSymbolRotate': fromData.getItemVisual(idx, 'symbolRotate'),\n          'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n          'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n          'toSymbolRotate': toData.getItemVisual(idx, 'symbolRotate'),\n          'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n          'toSymbol': toData.getItemVisual(idx, 'symbol')\n        });\n      });\n      lineDraw.updateData(lineData); // Set host model for tooltip\n      // FIXME\n\n      mlData.line.eachItemGraphicEl(function (el, idx) {\n        el.traverse(function (child) {\n          child.dataModel = mlModel;\n        });\n      });\n\n      function updateDataVisualAndLayout(data, idx, isFrom) {\n        var itemModel = data.getItemModel(idx);\n        updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n        data.setItemVisual(idx, {\n          symbolRotate: itemModel.get('symbolRotate'),\n          symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n          symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n          color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n        });\n      }\n\n      lineDraw.__keep = true;\n      lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} coordSys\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n\n  function createList$1(coordSys, seriesModel, mlModel) {\n    var coordDimsInfos;\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n    }\n\n    var fromData = new List_1(coordDimsInfos, mlModel);\n    var toData = new List_1(coordDimsInfos, mlModel); // No dimensions\n\n    var lineData = new List_1([], mlModel);\n    var optData = util.map(mlModel.get('data'), util.curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n    if (coordSys) {\n      optData = util.filter(optData, util.curry(markLineFilter, coordSys));\n    }\n\n    var dimValueGetter = coordSys ? markerHelper.dimValueGetter : function (item) {\n      return item.value;\n    };\n    fromData.initData(util.map(optData, function (item) {\n      return item[0];\n    }), null, dimValueGetter);\n    toData.initData(util.map(optData, function (item) {\n      return item[1];\n    }), null, dimValueGetter);\n    lineData.initData(util.map(optData, function (item) {\n      return item[2];\n    }));\n    lineData.hasItemOption = true;\n    return {\n      from: fromData,\n      to: toData,\n      line: lineData\n    };\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markLine component is enabled\n    opt.markLine = opt.markLine || {};\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2j = MarkerModel_1.extend({\n    type: 'markPoint',\n    defaultOption: {\n      zlevel: 0,\n      z: 5,\n      symbol: 'pin',\n      symbolSize: 50,\n      //symbolRotate: 0,\n      //symbolOffset: [0, 0]\n      tooltip: {\n        trigger: 'item'\n      },\n      label: {\n        show: true,\n        position: 'inside'\n      },\n      itemStyle: {\n        borderWidth: 2\n      },\n      emphasis: {\n        label: {\n          show: true\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function updateMarkerLayout(mpData, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var point;\n      var xPx = number.parsePercent(itemModel.get('x'), api.getWidth());\n      var yPx = number.parsePercent(itemModel.get('y'), api.getHeight());\n\n      if (!isNaN(xPx) && !isNaN(yPx)) {\n        point = [xPx, yPx];\n      } // Chart like bar may have there own marker positioning logic\n      else if (seriesModel.getMarkerPosition) {\n          // Use the getMarkerPoisition\n          point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n        } else if (coordSys) {\n          var x = mpData.get(coordSys.dimensions[0], idx);\n          var y = mpData.get(coordSys.dimensions[1], idx);\n          point = coordSys.dataToPoint([x, y]);\n        } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n\n      mpData.setItemLayout(idx, point);\n    });\n  }\n\n  var _default$2k = MarkerView.extend({\n    type: 'markPoint',\n    // updateLayout: function (markPointModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var mpModel = seriesModel.markPointModel;\n    //         if (mpModel) {\n    //             updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    //             this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markPointModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var mpModel = seriesModel.markPointModel;\n\n        if (mpModel) {\n          updateMarkerLayout(mpModel.getData(), seriesModel, api);\n          this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, mpModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var symbolDrawMap = this.markerGroupMap;\n      var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw_1());\n      var mpData = createList$2(coordSys, seriesModel, mpModel); // FIXME\n\n      mpModel.setData(mpData);\n      updateMarkerLayout(mpModel.getData(), seriesModel, api);\n      mpData.each(function (idx) {\n        var itemModel = mpData.getItemModel(idx);\n        var symbol = itemModel.getShallow('symbol');\n        var symbolSize = itemModel.getShallow('symbolSize');\n        var symbolRotate = itemModel.getShallow('symbolRotate');\n        var isFnSymbol = util.isFunction(symbol);\n        var isFnSymbolSize = util.isFunction(symbolSize);\n        var isFnSymbolRotate = util.isFunction(symbolRotate);\n\n        if (isFnSymbol || isFnSymbolSize || isFnSymbolRotate) {\n          var rawIdx = mpModel.getRawValue(idx);\n          var dataParams = mpModel.getDataParams(idx);\n\n          if (isFnSymbol) {\n            symbol = symbol(rawIdx, dataParams);\n          }\n\n          if (isFnSymbolSize) {\n            // FIXME  ECharts 2.x2.x \n            symbolSize = symbolSize(rawIdx, dataParams);\n          }\n\n          if (isFnSymbolRotate) {\n            symbolRotate = symbolRotate(rawIdx, dataParams);\n          }\n        }\n\n        mpData.setItemVisual(idx, {\n          symbol: symbol,\n          symbolSize: symbolSize,\n          symbolRotate: symbolRotate,\n          color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n        });\n      }); // TODO Text are wrong\n\n      symbolDraw.updateData(mpData);\n      this.group.add(symbolDraw.group); // Set host model for tooltip\n      // FIXME\n\n      mpData.eachItemGraphicEl(function (el) {\n        el.traverse(function (child) {\n          child.dataModel = mpModel;\n        });\n      });\n      symbolDraw.__keep = true;\n      symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} [coordSys]\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n\n  function createList$2(coordSys, seriesModel, mpModel) {\n    var coordDimsInfos;\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n    }\n\n    var mpData = new List_1(coordDimsInfos, mpModel);\n    var dataOpt = util.map(mpModel.get('data'), util.curry(markerHelper.dataTransform, seriesModel));\n\n    if (coordSys) {\n      dataOpt = util.filter(dataOpt, util.curry(markerHelper.dataFilter, coordSys));\n    }\n\n    mpData.initData(dataOpt, null, coordSys ? markerHelper.dimValueGetter : function (item) {\n      return item.value;\n    });\n    return mpData;\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // HINT Markpoint can't be used too much\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markPoint component is enabled\n    opt.markPoint = opt.markPoint || {};\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2l = MarkerModel_1.extend({\n    type: 'markArea',\n    defaultOption: {\n      zlevel: 0,\n      // PENDING\n      z: 1,\n      tooltip: {\n        trigger: 'item'\n      },\n      // markArea should fixed on the coordinate system\n      animation: false,\n      label: {\n        show: true,\n        position: 'top'\n      },\n      itemStyle: {\n        // color and borderColor default to use color from series\n        // color: 'auto'\n        // borderColor: 'auto'\n        borderWidth: 0\n      },\n      emphasis: {\n        label: {\n          show: true,\n          position: 'top'\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO Better on polar\n  var markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n    var lt = markerHelper.dataTransform(seriesModel, item[0]);\n    var rb = markerHelper.dataTransform(seriesModel, item[1]);\n    var retrieve = util.retrieve; // FIXME make sure lt is less than rb\n\n    var ltCoord = lt.coord;\n    var rbCoord = rb.coord;\n    ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n    ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n    rbCoord[0] = retrieve(rbCoord[0], Infinity);\n    rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n    var result = util.mergeAll([{}, lt, rb]);\n    result.coord = [lt.coord, rb.coord];\n    result.x0 = lt.x;\n    result.y0 = lt.y;\n    result.x1 = rb.x;\n    result.y1 = rb.y;\n    return result;\n  };\n\n  function isInifinity$1(val) {\n    return !isNaN(val) && !isFinite(val);\n  } // If a markArea has one dim\n\n\n  function ifMarkLineHasOnlyDim$1(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    return isInifinity$1(fromCoord[otherDimIndex]) && isInifinity$1(toCoord[otherDimIndex]);\n  }\n\n  function markAreaFilter(coordSys, item) {\n    var fromCoord = item.coord[0];\n    var toCoord = item.coord[1];\n\n    if (coordSys.type === 'cartesian2d') {\n      // In case\n      // {\n      //  markArea: {\n      //    data: [{ yAxis: 2 }]\n      //  }\n      // }\n      if (fromCoord && toCoord && (ifMarkLineHasOnlyDim$1(1, fromCoord, toCoord) || ifMarkLineHasOnlyDim$1(0, fromCoord, toCoord))) {\n        return true;\n      }\n    }\n\n    return markerHelper.dataFilter(coordSys, {\n      coord: fromCoord,\n      x: item.x0,\n      y: item.y0\n    }) || markerHelper.dataFilter(coordSys, {\n      coord: toCoord,\n      x: item.x1,\n      y: item.y1\n    });\n  } // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\n\n  function getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n    var point;\n    var xPx = number.parsePercent(itemModel.get(dims[0]), api.getWidth());\n    var yPx = number.parsePercent(itemModel.get(dims[1]), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } else {\n      // Chart like bar may have there own marker positioning logic\n      if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(data.getValues(dims, idx));\n      } else {\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n        var pt = [x, y];\n        coordSys.clampData && coordSys.clampData(pt, pt);\n        point = coordSys.dataToPoint(pt, true);\n      }\n\n      if (coordSys.type === 'cartesian2d') {\n        var xAxis = coordSys.getAxis('x');\n        var yAxis = coordSys.getAxis('y');\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n\n        if (isInifinity$1(x)) {\n          point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n        } else if (isInifinity$1(y)) {\n          point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n        }\n      } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n    }\n\n    return point;\n  }\n\n  var dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\n  MarkerView.extend({\n    type: 'markArea',\n    // updateLayout: function (markAreaModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var maModel = seriesModel.markAreaModel;\n    //         if (maModel) {\n    //             var areaData = maModel.getData();\n    //             areaData.each(function (idx) {\n    //                 var points = zrUtil.map(dimPermutations, function (dim) {\n    //                     return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n    //                 });\n    //                 // Layout\n    //                 areaData.setItemLayout(idx, points);\n    //                 var el = areaData.getItemGraphicEl(idx);\n    //                 el.setShape('points', points);\n    //             });\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markAreaModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var maModel = seriesModel.markAreaModel;\n\n        if (maModel) {\n          var areaData = maModel.getData();\n          areaData.each(function (idx) {\n            var points = util.map(dimPermutations, function (dim) {\n              return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n            }); // Layout\n\n            areaData.setItemLayout(idx, points);\n            var el = areaData.getItemGraphicEl(idx);\n            el.setShape('points', points);\n          });\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, maModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var areaGroupMap = this.markerGroupMap;\n      var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n        group: new graphic.Group()\n      });\n      this.group.add(polygonGroup.group);\n      polygonGroup.__keep = true;\n      var areaData = createList$3(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n      maModel.setData(areaData); // Update visual and layout of line\n\n      areaData.each(function (idx) {\n        // Layout\n        var points = util.map(dimPermutations, function (dim) {\n          return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n        }); // If none of the area is inside coordSys, allClipped is set to be true\n        // in layout so that label will not be displayed. See #12591\n\n        var allClipped = true;\n        util.each(dimPermutations, function (dim) {\n          if (!allClipped) {\n            return;\n          }\n\n          var xValue = areaData.get(dim[0], idx);\n          var yValue = areaData.get(dim[1], idx); // If is infinity, the axis should be considered not clipped\n\n          if ((isInifinity$1(xValue) || coordSys.getAxis('x').containData(xValue)) && (isInifinity$1(yValue) || coordSys.getAxis('y').containData(yValue))) {\n            allClipped = false;\n          }\n        });\n        areaData.setItemLayout(idx, {\n          points: points,\n          allClipped: allClipped\n        }); // Visual\n\n        areaData.setItemVisual(idx, {\n          color: seriesData.getVisual('color')\n        });\n      });\n      areaData.diff(polygonGroup.__data).add(function (idx) {\n        var layout = areaData.getItemLayout(idx);\n\n        if (!layout.allClipped) {\n          var polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n          areaData.setItemGraphicEl(idx, polygon);\n          polygonGroup.group.add(polygon);\n        }\n      }).update(function (newIdx, oldIdx) {\n        var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n\n        var layout = areaData.getItemLayout(newIdx);\n\n        if (!layout.allClipped) {\n          if (polygon) {\n            graphic.updateProps(polygon, {\n              shape: {\n                points: layout.points\n              }\n            }, maModel, newIdx);\n          } else {\n            polygon = new graphic.Polygon({\n              shape: {\n                points: layout.points\n              }\n            });\n          }\n\n          areaData.setItemGraphicEl(newIdx, polygon);\n          polygonGroup.group.add(polygon);\n        } else if (polygon) {\n          polygonGroup.group.remove(polygon);\n        }\n      }).remove(function (idx) {\n        var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n\n        polygonGroup.group.remove(polygon);\n      }).execute();\n      areaData.eachItemGraphicEl(function (polygon, idx) {\n        var itemModel = areaData.getItemModel(idx);\n        var labelModel = itemModel.getModel('label');\n        var labelHoverModel = itemModel.getModel('emphasis.label');\n        var color$1 = areaData.getItemVisual(idx, 'color');\n        polygon.useStyle(util.defaults(itemModel.getModel('itemStyle').getItemStyle(), {\n          fill: color.modifyAlpha(color$1, 0.4),\n          stroke: color$1\n        }));\n        polygon.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n        graphic.setLabelStyle(polygon.style, polygon.hoverStyle, labelModel, labelHoverModel, {\n          labelFetcher: maModel,\n          labelDataIndex: idx,\n          defaultText: areaData.getName(idx) || '',\n          isRectText: true,\n          autoColor: color$1\n        });\n        graphic.setHoverStyle(polygon, {});\n        polygon.dataModel = maModel;\n      });\n      polygonGroup.__data = areaData;\n      polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} coordSys\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n  function createList$3(coordSys, seriesModel, maModel) {\n    var coordDimsInfos;\n    var areaData;\n    var dims = ['x0', 'y0', 'x1', 'y1'];\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var data = seriesModel.getData();\n        var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n      areaData = new List_1(util.map(dims, function (dim, idx) {\n        return {\n          name: dim,\n          type: coordDimsInfos[idx % 2].type\n        };\n      }), maModel);\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n      areaData = new List_1(coordDimsInfos, maModel);\n    }\n\n    var optData = util.map(maModel.get('data'), util.curry(markAreaTransform, seriesModel, coordSys, maModel));\n\n    if (coordSys) {\n      optData = util.filter(optData, util.curry(markAreaFilter, coordSys));\n    }\n\n    var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n      return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    } : function (item) {\n      return item.value;\n    };\n    areaData.initData(optData, null, dimValueGetter);\n    areaData.hasItemOption = true;\n    return areaData;\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markArea component is enabled\n    opt.markArea = opt.markArea || {};\n  });\n\n  var LbpLineChart = {\n    extra: {\n      defaultStyle: {\n        width: 375,\n        height: 400\n      }\n    },\n    name: 'lbp-line-chart',\n    // mixins: [ChartMixin],\n    props: {\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['', ''], ['11', 123], ['12', 1223], ['13', 2123], ['14', 4123], ['15', 3123], ['16', 7123]];\n        }\n      }),\n      type: PropTypes.string({\n        label: '',\n        defaultValue: 'line',\n        visible: false\n      }),\n      colors: PropTypes.colors({\n        label: '',\n        defaultValue: function defaultValue() {\n          return [// https://github.com/ElemeFE/v-charts/blob/01ebb541a5d905047dd52957ae0898d529342235/src/constants.js#L20\n          '#19d4ae', '#5ab1ef', '#fa6e86', '#ffb980', '#0067a6', '#c4b4e4', '#d87a80', '#9cbbff', '#d9d0c7', '#87a997', '#d49ea2', '#5b4947', '#7ba3a8'];\n        }\n      })\n    },\n    data: function data() {\n      return {\n        option: {}\n      };\n    },\n    render: function render() {\n      var h = arguments[0];\n      var chartData = Parser.csv2VChartJson(this.dataset);\n\n      switch (this.type) {\n        case 'line':\n          return h(line_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'histogram':\n          return h(histogram_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'pie':\n          return h(pie_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'funnel':\n          return h(funnel_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'radar':\n          return h(radar_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        default:\n          return null;\n      }\n    },\n    mounted: function mounted() {// this.renderChart()\n    }\n  };\n\n  function sum() {\n    var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var key = arguments.length > 1 ? arguments[1] : undefined;\n    return arr.map(function (item) {\n      return item[key];\n    }).reduce(function (a, b) {\n      return a + b;\n    }, 0);\n  }\n\n  var LbpTable = {\n    name: 'lbp-table',\n    extra: {\n      defaultStyle: {\n        width: 375,\n        height: 150\n      }\n    },\n    data: function data() {\n      return {\n        mainTableWrapperEle: null,\n        mainTableEle: null,\n        fixedTableWrapperEle: null,\n        fixedTableEle: null\n      };\n    },\n    props: {\n      theme: PropTypes.string({\n        defaultValue: '',\n        label: '',\n        visible: false\n      }),\n      columnWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 100\n      }),\n      freezeCount: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['A', 'B', 'C'], ['', '', ''], ['', '', ''], ['', '', '']];\n        }\n      })\n    },\n    watch: {\n      freezeCount: function freezeCount() {\n        var _this = this;\n\n        setTimeout(function () {\n          _this.setFixedTableStyle();\n        }, 100);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n\n      var renderCell = function renderCell(cell) {\n        return h(\"td\", [h(\"div\", {\n          \"class\": \"cell\"\n        }, [cell])]);\n      };\n\n      var renderTable = function renderTable() {\n        var tableData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var tableClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        var tableStyle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var headers = tableData.length ? tableData[0] : [];\n        var columnsCount = headers.length;\n        return h(\"table\", {\n          \"class\": tableClass,\n          \"style\": tableStyle\n        }, [h(\"colgroup\", [toConsumableArray(Array(columnsCount)).map(function (item, i) {\n          return h(\"col\", {\n            \"style\": {\n              width: _this2.columnWidth + 'px'\n            }\n          });\n        })]), h(\"tbody\", [tableData.map(function (row) {\n          return h(\"tr\", [row.map(renderCell)]);\n        })])]);\n      };\n\n      return h(\"div\", {\n        \"class\": ['lbp-table', this.theme],\n        \"ref\": \"lbpTable\"\n      }, [h(\"div\", {\n        \"class\": \"main-table-wrapper\"\n      }, [renderTable(this.dataset)]), h(\"div\", {\n        \"class\": \"fixed-table-wrapper\",\n        \"directives\": [{\n          name: \"show\",\n          value: \"freezeCount\"\n        }]\n      }, [renderTable(this.dataset, 'left-table')])]);\n    },\n    methods: {\n      getFixedColsWidth: function getFixedColsWidth() {\n        var tableHeaders = [].slice.apply(this.mainTableEle.querySelectorAll('tr:first-child > td'));\n        var freezeColsWidth = sum(tableHeaders.slice(0, +this.freezeCount), 'offsetWidth');\n        return freezeColsWidth;\n      },\n      setFixedTableStyle: function setFixedTableStyle() {\n        this.fixedTableWrapperEle.style.width = \"\".concat(this.getFixedColsWidth(), \"px\");\n        this.fixedTableWrapperEle.style.height = \"calc(100% - \".concat(this.mainTableWrapperEle.offsetHeight - this.mainTableWrapperEle.scrollHeight, \"px)\");\n      },\n      setTableWidth: function setTableWidth() {\n        var parentWidth = this.$el.parentNode.style.width;\n        this.fixedTableEle.style.width = this.mainTableEle.style.width = parentWidth;\n      },\n      initElements: function initElements() {\n        var root = this.$el;\n        this.mainTableWrapperEle = root.querySelector('.main-table-wrapper');\n        this.mainTableEle = root.querySelector('.main-table-wrapper > table');\n        this.fixedTableWrapperEle = root.querySelector('.fixed-table-wrapper');\n        this.fixedTableEle = root.querySelector('.left-table');\n      },\n      __resizeHandler: function __resizeHandler() {\n        this.setTableWidth();\n\n        if (this.freezeCount) {\n          this.setFixedTableStyle();\n        }\n      }\n    },\n    mounted: function mounted() {\n      this.initElements();\n      this.setTableWidth();\n      this.setFixedTableStyle();\n      resizeDetector.addListener(this.$refs.lbpTable, this.__resizeHandler);\n    },\n    destroy: function destroy() {\n      resizeDetector.removeListener(this.$el, this.__resizeHandler);\n    }\n  };\n\n  var LbpNewsList = {\n    extra: {\n      defaultStyle: {\n        width: 375,\n        height: 256\n      }\n    },\n    name: 'lbp-news-list',\n    props: {\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['', '', '', '', ''], ['1 . H5 ', 'H5-H5', 'https://luban-h5.com/', '2020-01-01', 'H5'], ['2 . H5-', 'en: web design tool || mobile page builder/editor || mini webflow for mobile page. zh: H5.', 'https://github.com/ly525/luban-h5', '2020-01-01', 'H5(github)']];\n        }\n      })\n    },\n    data: function data() {\n      return {\n        option: {}\n      };\n    },\n    render: function render() {\n      var h = arguments[0];\n\n      /**\r\n       * rows[0] {\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n        }\r\n       */\n      var _Parser$csv2VChartJso = Parser.csv2VChartJson(this.dataset),\n          rows = _Parser$csv2VChartJso.rows;\n\n      return h(\"div\", {\n        \"class\": \"newslist\",\n        \"style\": \"border-color: transparent;\"\n      }, [rows.map(function (item, i) {\n        return h(\"div\", {\n          \"class\": \"news-item\"\n        }, [h(\"a\", {\n          \"attrs\": {\n            \"href\": item[''],\n            \"target\": \"_blank\"\n          },\n          \"class\": \"link\"\n        }, [h(\"div\", {\n          \"class\": \"title\"\n        }, [item['']])]), h(\"div\", {\n          \"class\": \"content\"\n        }, [item['']]), h(\"div\", {\n          \"class\": \"source\"\n        }, [item['']]), h(\"div\", {\n          \"class\": \"time\"\n        }, [item['']])]);\n      })]);\n    },\n    mounted: function mounted() {// this.renderChart()\n    }\n  };\n\n  var pluginsList = [{\n    i18nTitle: {\n      'en-US': 'RadarChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'line-chart',\n    component: LbpLineChart,\n    visible: true,\n    name: LbpLineChart.name,\n    shortcutProps: {\n      type: 'radar'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'line-chart',\n    component: LbpLineChart,\n    visible: true,\n    name: LbpLineChart.name,\n    shortcutProps: {\n      type: 'line'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'bar-chart',\n    component: LbpLineChart,\n    visible: true,\n    name: LbpLineChart.name,\n    shortcutProps: {\n      type: 'histogram'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'pie-chart',\n    component: LbpLineChart,\n    visible: true,\n    name: LbpLineChart.name,\n    shortcutProps: {\n      type: 'pie'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'filter',\n    component: LbpLineChart,\n    visible: true,\n    name: LbpLineChart.name,\n    shortcutProps: {\n      type: 'funnel'\n    }\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Notice-Bar',\n      'zh-CN': ''\n    },\n    icon: 'volume-up',\n    component: LbpNoticeBar,\n    visible: true,\n    name: LbpNoticeBar.name\n  }, // {\n  //   title: '',\n  //   i18nTitle: {\n  //     'en-US': 'Tabs',\n  //     'zh-CN': ''\n  //   },\n  //   icon: 'tab',\n  //   component: LbpTabs,\n  //   visible: true,\n  //   name: LbpTabs.name\n  // },\n  {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Rate',\n      'zh-CN': ''\n    },\n    icon: 'star-o',\n    component: LbpRate,\n    visible: true,\n    name: LbpRate.name\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Picture',\n      'zh-CN': ''\n    },\n    icon: 'photo',\n    component: LbpPicture,\n    visible: true,\n    name: LbpPicture.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Text',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'text-width',\n    component: LbpText,\n    visible: true,\n    name: LbpText.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Button',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'hand-pointer-o',\n    component: LbpButton,\n    visible: true,\n    name: LbpButton.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Carousel',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'photo',\n    component: LbpSlide,\n    visible: true,\n    name: LbpSlide.name // disabled: true\n\n  }, {\n    i18nTitle: {\n      'en-US': 'Map',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'map-o',\n    component: __vue_component__$2,\n    visible: true,\n    name: __vue_component__$2.name // disabled: true\n\n  }, {\n    i18nTitle: {\n      'en-US': 'Video',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'file-video-o',\n    component: LbpVideo,\n    visible: true,\n    name: LbpVideo.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Input',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'pencil-square-o',\n    component: LbpFormInput,\n    visible: true,\n    name: LbpFormInput.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Submit',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'hand-pointer-o',\n    component: LbpFormButton,\n    visible: true,\n    name: LbpFormButton.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Checkbox',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'check-square-o',\n    component: LbpFormCheckboxGroup,\n    visible: true,\n    name: LbpFormCheckboxGroup.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Radio',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'dot-circle-o',\n    component: LbpFormRadioGroup,\n    visible: true,\n    name: LbpFormRadioGroup.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Background',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'dot-circle-o',\n    component: LbpBackground,\n    visible: false,\n    name: LbpBackground.name\n  }, {\n    i18nTitle: {\n      'en-US': 'BgMusic',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'music',\n    component: LbpBgMusic,\n    visible: true,\n    name: LbpBgMusic.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(Default)',\n      'zh-CN': ''\n    },\n    icon: 'table',\n    component: LbpTable,\n    visible: true,\n    name: LbpTable.name\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(Stripe)',\n      'zh-CN': '()'\n    },\n    icon: 'table',\n    component: LbpTable,\n    visible: true,\n    name: LbpTable.name,\n    shortcutProps: {\n      theme: 'lbp-table-theme-stripe'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(LightBlue)',\n      'zh-CN': '()'\n    },\n    icon: 'table',\n    component: LbpTable,\n    visible: true,\n    name: LbpTable.name,\n    shortcutProps: {\n      theme: 'lbp-table-theme-light-blue'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'NewsList',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'list',\n    component: LbpNewsList,\n    visible: true,\n    name: LbpNewsList.name\n  }];\n  var loadPluginsMixin = {\n    data: function data() {\n      return {\n        pluginsList: pluginsList\n      };\n    },\n    methods: {\n      mixinPlugins2Editor: function mixinPlugins2Editor() {\n        pluginsList.forEach(function (plugin) {\n          // this.$options.components[plugin.name] = plugin.component\n          Vue__default['default'].component(plugin.name, plugin.component);\n        });\n      }\n    },\n    created: function created() {\n      this.mixinPlugins2Editor();\n    }\n  };\n\n  var _components$d;\n\n  function ownKeys$g(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$f(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$g(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$g(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  console.log(antDesignVue.Col.name, antDesignVue.Col);\n  var RenderShortcutsPanel = {\n    name: \"shotcuts-panle\",\n    components: (_components$d = {}, defineProperty$1(_components$d, antDesignVue.Row.name, antDesignVue.Row), defineProperty$1(_components$d, antDesignVue.Col.name, antDesignVue.Col), _components$d),\n    mixins: [langMixin, dragMixin, loadPluginsMixin],\n    data: function data() {\n      return {\n        npmPackages: []\n      };\n    },\n    methods: _objectSpread$f(_objectSpread$f({}, Vuex.mapActions(\"editor\", [\"elementManager\", \"pageManager\", \"saveWork\", \"setEditingPage\"])), {}, {\n      /**\r\n       * !#zh copy \r\n       * #!en click the plugin shortcut, create new Element with the plugin's meta data\r\n       * pluginInfo {Object}: , {name}=pluginInfo\r\n       *\r\n       * shortcutItem: PluginListItem = {\r\n        name: String,\r\n        shortcutProps: {}\r\n       }\r\n       */\n      clone: function clone(shortcutItem) {\n        this.elementManager({\n          type: \"add\",\n          value: shortcutItem\n        });\n      }\n      /**\r\n       * #!zh \r\n       * #!en render shortcuts for multi plugins\r\n       * @param {Object} group: {children, title, icon}\r\n       */\n      // renderMultiShortcuts (group) {\n      //   const plugins = group.children\n      //   return <a-popover\n      //     placement=\"bottom\"\n      //     class=\"shortcust-button\"\n      //     trigger=\"hover\">\n      //     <a-row slot=\"content\" gutter={20} style={{ width: '400px' }}>\n      //       {\n      //         plugins.sort().map(item => (\n      //           <a-col span={6}>\n      //             <ShortcutButton\n      //               clickFn={this.onClickShortcut.bind(this, item)}\n      //               title={item.title}\n      //               faIcon={item.icon}\n      //             />\n      //           </a-col>\n      //         ))\n      //       }\n      //     </a-row>\n      //     <ShortcutButton\n      //       title={group.title}\n      //       faIcon={group.icon}\n      //     />\n      //   </a-popover>\n      // },\n\n      /**\r\n       * #!zh: \r\n       * #!en: render shortcut for single plugin\r\n       * @param {Object} group: {children, title, icon}\r\n       */\n      // renderSingleShortcut ({ children }) {\n      //   const [plugin] = children\n      //   return <ShortcutButton\n      //     clickFn={this.onClickShortcut.bind(this, plugin)}\n      //     title={plugin.title}\n      //     faIcon={plugin.icon}\n      //   />\n      // },\n\n      /**\r\n       * #!zh: /\r\n       * #!en: render shortcust at the sidebar or the header. if user click/drag the shortcut, the related plugin will be added to the canvas\r\n       * @param {Object} group: {children, title, icon}\r\n       */\n      // renderShortCutsPanel (groups) {\n      //   return (\n      //     <a-row gutter={20}>\n      //       {\n      //         groups.sort().map(group => (\n      //           <a-col span={12} style={{ marginTop: '10px' }}>\n      //             {\n      //               group.children.length === 1\n      //                 ? this.renderSingleShortcut(group)\n      //                 : this.renderMultiShortcuts(group)\n      //             }\n      //           </a-col>\n      //         ))\n      //       }\n      //     </a-row>\n      //   )\n      // }\n\n    }),\n\n    /**\r\n     * #!zh: /\r\n     * #!en: render shortcust at the sidebar or the header.\r\n     * if user click/drag the shortcut, the related plugin will be added to the canvas\r\n     */\n    render: function render(h) {\n      var _this = this;\n\n      // return this.renderShortCutsPanel(this.groups)\n      return h(\"a-row\", {\n        \"style\": \"max-height: calc(100vh - 150px);overflow-y: scroll; padding-bottom: 24px\"\n      }, [h(UsageTip), [].concat(this.pluginsList, this.npmPackages).filter(function (plugin) {\n        return plugin.visible;\n      }).map(function (plugin) {\n        return h(\"a-col\", {\n          \"attrs\": {\n            \"span\": 12\n          },\n          \"style\": {\n            marginTop: \"10px\"\n          }\n        }, [h(ShortcutButton, {\n          \"attrs\": {\n            \"clickFn\": _this.clone.bind(_this, plugin),\n            \"mousedownFn\": _this.handleDragStartFromMixin.bind(_this, plugin),\n            \"title\": plugin.i18nTitle[_this.currentLang] || plugin.title,\n            \"faIcon\": plugin.icon,\n            \"disabled\": plugin.disabled\n          }\n        })]);\n      }), h(__vue_component__$1, {\n        \"on\": {\n          \"loadComplete\": function loadComplete(npmPackages) {\n            _this.npmPackages = npmPackages;\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$e;\n  var PageTitleEditor = {\n    components: (_components$e = {}, defineProperty$1(_components$e, antDesignVue.Popconfirm.name, antDesignVue.Popconfirm), defineProperty$1(_components$e, antDesignVue.Input.name, antDesignVue.Input), defineProperty$1(_components$e, antDesignVue.Icon.name, antDesignVue.Icon), _components$e),\n    props: [\"page\", \"pageIndex\"],\n    data: function data() {\n      return {\n        editingTitle: \"\" //  title Yes  page title\n\n      };\n    },\n    methods: {\n      getTitle: function getTitle() {\n        return this.page.title || this.$t(\"editor.pageManager.title\", {\n          index: this.pageIndex\n        });\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"a-popconfirm\", {\n        \"attrs\": {\n          \"placement\": \"bottom\",\n          \"okText\": \"Yes\",\n          \"cancelText\": \"No\"\n        },\n        \"on\": {\n          \"confirm\": function confirm() {\n            _this.$emit(\"editTitle\", {\n              newTitle: _this.editingTitle,\n              pageIndex: _this.pageIndex\n            });\n          },\n          \"cancel\": function cancel() {}\n        }\n      }, [h(\"a-input\", {\n        \"slot\": \"title\",\n        \"attrs\": {\n          \"value\": this.editingTitle,\n          \"size\": \"small\"\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.editingTitle = e.target.value;\n          }\n        }\n      }), h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"edit\"\n        },\n        \"on\": {\n          \"click\": function click(e) {\n            e.stopPropagation(); //  click icon  click page item \n\n            _this.editingTitle = _this.getTitle();\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$f;\n  var PageTitleMenu = {\n    components: (_components$f = {}, defineProperty$1(_components$f, antDesignVue.Dropdown.name, antDesignVue.Dropdown), defineProperty$1(_components$f, antDesignVue.Menu.name, antDesignVue.Menu), defineProperty$1(_components$f, antDesignVue.Menu.Item.name, antDesignVue.Menu.Item), defineProperty$1(_components$f, antDesignVue.Icon.name, antDesignVue.Icon), _components$f),\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      var addPageText = this.$t(\"editor.pageManager.action.add\");\n      var copyPageText = this.$t(\"editor.pageManager.action.copy\");\n      var deletePageText = this.$t(\"editor.pageManager.action.delete\");\n      return h(\"a-dropdown\", {\n        \"attrs\": {\n          \"trigger\": [\"hover\"],\n          \"placement\": \"bottomCenter\"\n        }\n      }, [h(\"a\", {\n        \"class\": \"ml-2\",\n        \"attrs\": {\n          \"href\": \"#\"\n        }\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"down\"\n        }\n      })]), h(\"a-menu\", {\n        \"slot\": \"overlay\",\n        \"on\": {\n          \"click\": function click(_ref) {\n            var key = _ref.key;\n            return _this.$emit(\"selectMenuItem\", key);\n          }\n        }\n      }, [h(\"a-menu-item\", {\n        \"key\": \"add\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      }), addPageText]), h(\"a-menu-item\", {\n        \"key\": \"copy\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"copy\"\n        }\n      }), copyPageText]), h(\"a-menu-item\", {\n        \"key\": \"delete\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"delete\"\n        }\n      }), deletePageText])])]);\n    }\n  };\n\n  var PageTitleText = {\n    components: defineProperty$1({}, antDesignVue.Badge.name, antDesignVue.Badge),\n    props: [\"page\", \"pageIndex\"],\n    methods: {\n      getTitle: function getTitle() {\n        return this.page.title || this.$t(\"editor.pageManager.title\", {\n          index: this.pageIndex\n        });\n      }\n    },\n    render: function render(h) {\n      // #!en: Page<Index>\n      // #!zh: <Index>\n      return h(\"span\", [h(\"a-badge\", {\n        \"attrs\": {\n          \"count\": this.pageIndex + 1,\n          \"numberStyle\": {\n            backgroundColor: \"#fff\",\n            color: \"#999\",\n            boxShadow: \"0 0 0 1px #d9d9d9 inset\"\n          }\n        }\n      }), h(\"span\", {\n        \"class\": \"ml-3\"\n      }, [this.getTitle()])]);\n    }\n  };\n\n  function ownKeys$h(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$g(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$h(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$h(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderPageManager = {\n    name: \"page-manager\",\n    components: defineProperty$1({}, antDesignVue.Button.name, antDesignVue.Button),\n    data: function data() {\n      return {\n        hoverIndex: -1 // \n\n      };\n    },\n    computed: _objectSpread$g({}, Vuex.mapState(\"editor\", {\n      editingPage: function editingPage(state) {\n        return state.editingPage;\n      },\n      editingElement: function editingElement(state) {\n        return state.editingElement;\n      },\n      elements: function elements(state) {\n        return state.editingPage.elements;\n      },\n      pages: function pages(state) {\n        return state.work.pages;\n      },\n      work: function work(state) {\n        return state.work;\n      }\n    })),\n    methods: _objectSpread$g(_objectSpread$g({}, Vuex.mapActions(\"editor\", [\"elementManager\", \"pageManager\", \"saveWork\", \"setEditingPage\"])), {}, {\n      onSelectMenuItem: function onSelectMenuItem(menuKey) {\n        this.pageManager({\n          type: menuKey\n        });\n      },\n      onEditTitle: function onEditTitle(_ref) {\n        var pageIndex = _ref.pageIndex,\n            newTitle = _ref.newTitle;\n        this.pageManager({\n          type: \"editTitle\",\n          value: {\n            pageIndex: pageIndex,\n            newTitle: newTitle\n          }\n        });\n        this.saveWork({\n          isSaveCover: false\n        });\n      },\n      onSelectPage: function onSelectPage(pageIndex) {\n        this.setEditingPage(pageIndex);\n      },\n      onLeave: function onLeave() {\n        this.hoverIndex = -1;\n      }\n    }),\n    render: function render(h) {\n      var _this = this;\n\n      var addPageText = this.$t(\"editor.pageManager.action.add\");\n      return h(\"div\", {\n        \"class\": \"page-manager-panel\"\n      }, [this.pages.map(function (page, index) {\n        return h(\"span\", {\n          \"class\": [\"cursor-pointer\", \"page-manager-panel__item\", page.uuid === _this.editingPage.uuid && \"active\"],\n          \"on\": {\n            \"click\": function click() {\n              return _this.onSelectPage(index);\n            },\n            \"mouseenter\": function mouseenter() {\n              _this.hoverIndex = index;\n            }\n          }\n        }, [h(PageTitleText, {\n          \"attrs\": {\n            \"page\": page,\n            \"pageIndex\": index\n          }\n        }), h(\"span\", [_this.hoverIndex === index && h(PageTitleEditor, {\n          \"attrs\": {\n            \"page\": page,\n            \"pageIndex\": index\n          },\n          \"on\": {\n            \"editTitle\": _this.onEditTitle\n          }\n        }), h(PageTitleMenu, {\n          \"on\": {\n            \"selectMenuItem\": _this.onSelectMenuItem\n          }\n        })])]);\n      }), h(\"a-button\", {\n        \"attrs\": {\n          \"icon\": \"plus\",\n          \"type\": \"dashed\"\n        },\n        \"class\": \"footer-actions\",\n        \"on\": {\n          \"click\": function click() {\n            return _this.onSelectMenuItem(\"add\");\n          }\n        }\n      }, [addPageText])]);\n    }\n  };\n\n  function ownKeys$i(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$h(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$i(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$i(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function getTreeNode(ele) {\n    return {\n      title: ele.name,\n      key: ele.uuid,\n      children: (ele.children || []).map(getTreeNode)\n    };\n  }\n\n  var script$3 = {\n    name: 'page-tree',\n    computed: _objectSpread$h(_objectSpread$h({}, Vuex.mapState('editor', {\n      elements: function elements(state) {\n        return state.editingPage.elements;\n      }\n    })), {}, {\n      treeData: function treeData() {\n        return this.elements.map(getTreeNode);\n      }\n    }),\n    data: function data() {\n      return {\n        gData: [],\n        expandedKeys: []\n      };\n    },\n    methods: {\n      onDragEnter: function onDragEnter(info) {},\n      onDrop: function onDrop(info) {}\n    }\n  };\n\n  /* script */\n  const __vue_script__$3 = script$3;\n\n  /* template */\n  var __vue_render__$3 = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\"a-tree\", {\n      staticClass: \"draggable-tree\",\n      attrs: {\n        \"default-expanded-keys\": _vm.expandedKeys,\n        draggable: \"\",\n        \"tree-data\": _vm.treeData\n      },\n      on: { dragenter: _vm.onDragEnter, drop: _vm.onDrop }\n    })\n  };\n  var __vue_staticRenderFns__$3 = [];\n  __vue_render__$3._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__$3 = undefined;\n    /* scoped */\n    const __vue_scope_id__$3 = undefined;\n    /* module identifier */\n    const __vue_module_identifier__$3 = undefined;\n    /* functional template */\n    const __vue_is_functional_template__$3 = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__$3 = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__$3, staticRenderFns: __vue_staticRenderFns__$3 },\n      __vue_inject_styles__$3,\n      __vue_script__$3,\n      __vue_scope_id__$3,\n      __vue_is_functional_template__$3,\n      __vue_module_identifier__$3,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  var _components$g;\n  var EditorLeftPanel = {\n    components: (_components$g = {}, defineProperty$1(_components$g, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$1(_components$g, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$1(_components$g, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), _components$g),\n    name: \"EditorLeftPanel\",\n    render: function render(h) {\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": \"240\",\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          background: \"#fff\",\n          padding: \"12px\"\n        }\n      }, [h(\"a-tabs\", {\n        \"style\": \"height: 100%;\",\n        \"attrs\": {\n          \"tabBarGutter\": 10\n        }\n      }, [h(\"a-tab-pane\", {\n        \"key\": \"plugin-list\",\n        \"attrs\": {\n          \"tab\": this.$t(\"editor.sidebar.components\")\n        }\n      }, [h(RenderShortcutsPanel)]), h(\"a-tab-pane\", {\n        \"key\": \"page-manager\",\n        \"attrs\": {\n          \"tab\": this.$t(\"editor.sidebar.pages\")\n        }\n      }, [h(RenderPageManager)]), h(\"a-tab-pane\", {\n        \"key\": \"page-tree\",\n        \"attrs\": {\n          \"tab\": this.$t(\"editor.sidebar.tree\")\n        }\n      }, [h(__vue_component__$3)])])]);\n    }\n  };\n\n  var AdjustLineV = {\n    methods: {\n      onMousedown: function onMousedown(e) {\n        var _this = this;\n\n        var startX = e.clientX;\n\n        var move = function move(moveEvent) {\n          moveEvent.preventDefault();\n          moveEvent.stopPropagation();\n          var offset = startX - moveEvent.clientX;\n\n          _this.$emit('lineMove', offset);\n\n          startX -= offset;\n        };\n\n        var up = function up(moveEvent) {\n          document.removeEventListener('mousemove', move, true);\n          document.removeEventListener('mouseup', up, true);\n        };\n\n        document.addEventListener('mousemove', move, true);\n        document.addEventListener('mouseup', up, true);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"adjust-line-wrapper adjust-line-wrapper-v\",\n        \"on\": {\n          \"mousedown\": this.onMousedown\n        }\n      }, [h(\"div\", {\n        \"class\": \"adjust-line adjust-line-v\"\n      }), h(\"div\", {\n        \"class\": \"adjust-button\"\n      }, [h(\"div\", {\n        \"class\": \"indicator\"\n      })])]);\n    }\n  };\n\n  /**\r\n   * #!zh: setElementCommonStyle  mousemove history\r\n   * (mouseup)\r\n   */\n  // const unRecordHistoryMutationTypes = ['editor/setElementCommonStyle']\n\n  var recordHistoryMutationTypes = ['editor/recordRect', 'editor/elementManager', 'editor/setEditingPage' //  firstState\n  ];\n\n  var undoRedoPlugin = function undoRedoPlugin(store) {\n    // initialize and save the starting stage\n    undoRedoHistory.init(store);\n    /**\r\n     *\r\n     * addState(firstState) \r\n     *  firstState editor\r\n     * <editor/setEditingPage>setWork<editingPage  setEditingElement >)\r\n     * historyhistory [editorState, workState1, workState2]\r\n     *  ctrl+z (canUndo-> currentIndex > 0)\r\n     *  editorState editorState  work nullwork\r\n     *  canUndo = currentIndex>0 currentIndex = 0  history  firstState\r\n     * sublime\r\n     *   setWork  undoRedoHistory.addState(firstState)\r\n     */\n    // let firstState = cloneDeep(store.state)\n    // undoRedoHistory.addState(firstState)\n\n    store.subscribe(function (mutation, state) {\n      var type = mutation.type;\n      if (!recordHistoryMutationTypes.includes(type)) return; // is called AFTER every mutation\n\n      undoRedoHistory.addState(lodash.cloneDeep(state));\n    });\n  };\n\n  var defineProperty$8 = objectDefineProperty.f;\n\n\n  var NativeSymbol = global_1.Symbol;\n\n  if (descriptors && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n    // Safari 12 bug\n    NativeSymbol().description !== undefined\n  )) {\n    var EmptyStringDescriptionStore = {};\n    // wrap Symbol constructor for correct work with undefined description\n    var SymbolWrapper = function Symbol() {\n      var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var result = this instanceof SymbolWrapper\n        ? new NativeSymbol(description)\n        // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n        : description === undefined ? NativeSymbol() : NativeSymbol(description);\n      if (description === '') EmptyStringDescriptionStore[result] = true;\n      return result;\n    };\n    copyConstructorProperties(SymbolWrapper, NativeSymbol);\n    var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n    symbolPrototype.constructor = SymbolWrapper;\n\n    var symbolToString = symbolPrototype.toString;\n    var native = String(NativeSymbol('test')) == 'Symbol(test)';\n    var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n    defineProperty$8(symbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        var symbol = isObject(this) ? this.valueOf() : this;\n        var string = symbolToString.call(symbol);\n        if (has(EmptyStringDescriptionStore, symbol)) return '';\n        var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n        return desc === '' ? undefined : desc;\n      }\n    });\n\n    _export({ global: true, forced: true }, {\n      Symbol: SymbolWrapper\n    });\n  }\n\n  function ownKeys$j(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$i(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$j(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$j(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var disabledPluginsForEditMode = ['lbp-form-input', 'lbp-form-button', 'lbp-video'];\n\n  var cloneObj = function cloneObj(value) {\n    return JSON.parse(JSON.stringify(value));\n  };\n\n  var defaultStyle = {\n    top: 100,\n    left: 100,\n    width: 100,\n    height: 40,\n    zindex: 1,\n    textAlign: 'center',\n    color: '#000000',\n    backgroundColor: 'rgba(255, 255, 255, 0)',\n    fontSize: 14\n  };\n\n  var Element$1 = /*#__PURE__*/function () {\n    function Element(ele) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$isRem = _ref.isRem,\n          isRem = _ref$isRem === void 0 ? false : _ref$isRem;\n\n      classCallCheck(this, Element);\n\n      this.name = ele.name;\n      this.uuid = ele.uuid || +new Date();\n      /**\r\n       * #!zh:\r\n       * https://github.com/ly525/luban-h5/blob/a7875cbc73c0d18bc2459985ca3ce1d4dc44f141/front-end/h5/src/components/core/models/element.js#L21\r\n       * 1.this.pluginProps = {}, \r\n       * [] ele.pluginProps \r\n       *\r\n       * 2.  this.init()   init  copy copy \r\n       *\r\n       * 3.  clone element.clone()  page.clone()\r\n       *    element.pluginProps  elementcommonStyle  deep_clone \r\n       */\n\n      this.pluginProps = this.getPluginProps(ele);\n      this.commonStyle = this.getCommonStyle(ele);\n      this.events = [];\n      this.animations = ele.animations || [];\n      this.isRem = isRem;\n    }\n\n    createClass(Element, [{\n      key: \"getCommonStyle\",\n      value: function getCommonStyle(ele) {\n        if (_typeof_1(ele.commonStyle) === 'object') {\n          return cloneObj(ele.commonStyle);\n        }\n\n        return _objectSpread$i(_objectSpread$i(_objectSpread$i({}, defaultStyle), {}, {\n          zindex: ele.zindex\n        }, ele.extra && ele.extra.defaultStyle), ele.dragStyle);\n      }\n    }, {\n      key: \"getPluginProps\",\n      value: function getPluginProps(ele) {\n        if (_typeof_1(ele.pluginProps) === 'object') {\n          return cloneObj(_objectSpread$i(_objectSpread$i({}, ele.pluginProps), {}, {\n            uuid: this.uuid\n          }));\n        }\n\n        return this.getDefaultPluginProps(ele);\n      } // init prop of plugin\n\n    }, {\n      key: \"getDefaultPluginProps\",\n      value: function getDefaultPluginProps(ele) {\n        var _ele$props = ele.props,\n            props = _ele$props === void 0 ? {} : _ele$props,\n            _ele$shortcutProps = ele.shortcutProps,\n            shortcutProps = _ele$shortcutProps === void 0 ? {} : _ele$shortcutProps;\n        var pluginProps = {\n          uuid: this.uuid\n        };\n        Object.keys(props).forEach(function (key) {\n          var defaultValue = props[key].default;\n          pluginProps[key] = typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n        });\n        pluginProps = _objectSpread$i(_objectSpread$i({}, pluginProps), shortcutProps);\n        return pluginProps;\n      }\n    }, {\n      key: \"getStyle\",\n      value: function getStyle() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref2$position = _ref2.position,\n            position = _ref2$position === void 0 ? 'static' : _ref2$position;\n\n        if (this.name === 'lbp-background') {\n          return {\n            width: '100%',\n            height: '100%'\n          };\n        }\n\n        var pluginProps = this.pluginProps;\n        var commonStyle = this.commonStyle;\n        var style = {\n          top: parsePx(pluginProps.top || commonStyle.top, this.isRem),\n          left: parsePx(pluginProps.left || commonStyle.left, this.isRem),\n          width: parsePx(pluginProps.width || commonStyle.width, this.isRem),\n          height: parsePx(pluginProps.height || commonStyle.height, this.isRem),\n          fontSize: parsePx(pluginProps.fontSize || commonStyle.fontSize, this.isRem),\n          color: pluginProps.color || commonStyle.color,\n          // backgroundColor: pluginProps.backgroundColor || commonStyle.backgroundColor,\n          textAlign: pluginProps.textAlign || commonStyle.textAlign,\n          'z-index': commonStyle.zindex,\n          position: position\n        };\n        return style;\n      }\n    }, {\n      key: \"getProps\",\n      value: function getProps() {\n        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref3$mode = _ref3.mode,\n            mode = _ref3$mode === void 0 ? 'edit' : _ref3$mode;\n\n        return _objectSpread$i(_objectSpread$i({}, this.pluginProps), {}, {\n          disabled: disabledPluginsForEditMode.includes(this.name) && mode === 'edit'\n        });\n      }\n    }, {\n      key: \"getClass\",\n      value: function getClass() {}\n    }, {\n      key: \"getData\",\n      value: function getData() {}\n    }, {\n      key: \"getAttrs\",\n      value: function getAttrs() {\n        var attrs = {\n          'data-uuid': this.uuid\n        };\n\n        if (this.animations.length > 0) {\n          var animation = this.animations[0];\n          attrs['data-swiper-animation'] = animation.type; // \"fadeIn\"\n\n          attrs['data-duration'] = \"\".concat(animation.duration, \"s\"); // \".5s\"\n\n          attrs['data-delay'] = \"\".concat(animation.delay, \"s\"); // \"1s\"\n        }\n\n        return attrs;\n      }\n    }, {\n      key: \"getPreviewData\",\n      value: function getPreviewData() {\n        var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref4$position = _ref4.position,\n            position = _ref4$position === void 0 ? 'static' : _ref4$position,\n            _ref4$mode = _ref4.mode,\n            mode = _ref4$mode === void 0 ? 'preview' : _ref4$mode;\n\n        var style = this.getStyle({\n          position: position\n        });\n        var data = {\n          style: style,\n          props: this.getProps({\n            mode: mode\n          }),\n          attrs: this.getAttrs()\n        };\n        return data;\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref5$zindex = _ref5.zindex,\n            zindex = _ref5$zindex === void 0 ? this.commonStyle.zindex + 1 : _ref5$zindex;\n\n        return new Element({\n          zindex: zindex,\n          name: this.name,\n          pluginProps: this.pluginProps,\n          commonStyle: _objectSpread$i(_objectSpread$i({}, this.commonStyle), {}, {\n            top: this.commonStyle.top + 20,\n            left: this.commonStyle.left + 20\n          })\n        });\n      }\n    }]);\n\n    return Element;\n  }();\n\n  var Page = /*#__PURE__*/function () {\n    function Page() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      classCallCheck(this, Page);\n\n      this.uuid = page.uuid || +new Date();\n      this.title = page.title || '';\n      this.elements = page.elements || [new Element$1(LbpBackground)];\n    }\n\n    createClass(Page, [{\n      key: \"clone\",\n      value: function clone() {\n        var elements = this.elements.map(function (element) {\n          return new Element$1(element);\n        });\n        return new Page({\n          title: this.title,\n          elements: elements\n        });\n      }\n    }]);\n\n    return Page;\n  }();\n\n  var Work = function Work() {\n    var work = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    classCallCheck(this, Work);\n\n    this.id = work.id;\n    this.title = work.title || '';\n    this.description = work.description || '';\n    this.pages = work.pages || [new Page()]; // this.id = this.id\n    // TODO id \n    // this.key = this.key\n\n    this.cover_image_url = ''; // TODO \n    // this.project_id = 1\n    // #!zh: strapi.js  created_atupdated_at\n    // #!en: strapi.js will auto create and maintain the fields: created_atupdated_at\n    // this.created_at = new Date()\n    // this.updated_at = new Date()\n\n    this.is_publish = !!work.is_publish;\n    this.is_template = false;\n    this.height = work.height >= 0 ? work.height : 667;\n    this.page_mode = work.page_mode || PAGE_MODE.SWIPPER_PAGE;\n  };\n\n  // actions\n  var actions = {\n    updateScaleRate: function updateScaleRate(_ref, payload) {\n      var commit = _ref.commit;\n      commit('updateScaleRate', payload);\n    }\n  }; // mutations\n\n  var mutations = {\n    /**\r\n     *\r\n     * @param {*} state\r\n     * @param {Number} scaleRateDiff : 0.25, : -0.25\r\n     */\n    updateScaleRate: function updateScaleRate(state, scaleRateDiff) {\n      state.scaleRate += scaleRateDiff;\n    }\n  };\n\n  var $findIndex = arrayIteration.findIndex;\n\n\n\n  var FIND_INDEX = 'findIndex';\n  var SKIPS_HOLES$1 = true;\n\n  var USES_TO_LENGTH$9 = arrayMethodUsesToLength(FIND_INDEX);\n\n  // Shouldn't skip holes\n  if (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES$1 = false; });\n\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n  _export({ target: 'Array', proto: true, forced: SKIPS_HOLES$1 || !USES_TO_LENGTH$9 }, {\n    findIndex: function findIndex(callbackfn /* , that = undefined */) {\n      return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables(FIND_INDEX);\n\n  var actions$1 = {\n    setEditingPage: function setEditingPage(_ref) {\n      var commit = _ref.commit;\n      var pageIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      commit('setEditingPage', pageIndex);\n    },\n    pageManager: function pageManager(_ref2, payload) {\n      var commit = _ref2.commit;\n      commit('pageManager', payload);\n    }\n  }; // mutations\n\n  var mutations$1 = {\n    setEditingPage: function setEditingPage(state) {\n      var pageIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      state.editingPage = state.work.pages[pageIndex];\n    },\n    pageManager: function pageManager(state, _ref3) {\n      var type = _ref3.type,\n          value = _ref3.value;\n\n      switch (type) {\n        case 'editTitle':\n          var pageIndex = value.pageIndex,\n              newTitle = value.newTitle;\n          state.work.pages[pageIndex].title = newTitle;\n          break;\n\n        case 'add':\n          var page = new Page(value);\n          state.work.pages.push(page);\n          break;\n\n        case 'copy':\n          state.work.pages.push(state.editingPage.clone());\n          break;\n\n        case 'delete':\n          if (state.work.pages.length === 1) {\n            // #!zh: \n            // #!en: At least one page needs to be kept in the work\n            antDesignVue.message.info(\"\\u4F5C\\u54C1\\u4E2D\\u81F3\\u5C11\\u9700\\u8981\\u4FDD\\u7559\\u4E00\\u4E2A\\u9875\\u9762\");\n            return;\n          }\n\n          var work = state.work,\n              editingPage = state.editingPage;\n          var index = work.pages.findIndex(function (page) {\n            return page.uuid === editingPage.uuid;\n          });\n\n          if (index !== -1) {\n            var newPages = work.pages.slice();\n            newPages.splice(index, 1);\n            state.work.pages = newPages;\n          }\n\n          break;\n      }\n    }\n  };\n\n  function ownKeys$k(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$j(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$k(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$k(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var actions$2 = {\n    setEditingElement: function setEditingElement(_ref, payload) {\n      var commit = _ref.commit;\n      commit('setEditingElement', payload);\n      payload && EventBus.$emit('setEditingElement', payload);\n    },\n    setElementPosition: function setElementPosition(_ref2, payload) {\n      var commit = _ref2.commit;\n      commit('setElementCommonStyle', payload);\n    },\n    setElementShape: function setElementShape(_ref3, payload) {\n      var commit = _ref3.commit;\n      commit('setElementCommonStyle', payload);\n    },\n    recordElementRect: function recordElementRect(_ref4) {\n      var commit = _ref4.commit;\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      commit('recordRect', payload);\n    },\n    elementManager: function elementManager(_ref5, payload) {\n      var commit = _ref5.commit;\n      commit('elementManager', payload);\n    }\n  }; // mutations\n\n  var mutations$2 = {\n    setEditingElement: function setEditingElement(state, payload) {\n      state.editingElement = payload;\n    },\n    setElementCommonStyle: function setElementCommonStyle(state, payload) {\n      state.editingElement.commonStyle = _objectSpread$j(_objectSpread$j({}, state.editingElement.commonStyle), payload);\n    },\n    elementManager: function elementManager(state, _ref6) {\n      var type = _ref6.type,\n          value = _ref6.value;\n      var editingPage = state.editingPage,\n          editingElement = state.editingElement;\n      var elements = editingPage.elements;\n      var len = elements.length;\n\n      switch (type) {\n        case 'add':\n          var vm = getVM(value.name);\n          vm.$options.shortcutProps = value.shortcutProps; // \n\n          vm.$options.dragStyle = value.dragStyle; // {left: Number, top: Number}\n\n          var element = new Element$1(vm.$options);\n          elements.push(element);\n          break;\n\n        case 'copy':\n          elements.push(state.editingElement.clone({\n            zindex: len + 1\n          }));\n          break;\n\n        case 'delete':\n          {\n            var index = elements.findIndex(function (e) {\n              return e.uuid === editingElement.uuid;\n            });\n\n            if (index !== -1) {\n              // let newElements = elements.slice()\n              // newElements.splice(index, 1)\n              // state.editingPage.elements = newElements\n              state.editingPage.elements.splice(index, 1);\n            }\n\n            state.editingElement = null;\n          }\n          break;\n\n        case 'move2Top':\n        case 'move2Bottom':\n          {\n            var _index = elements.findIndex(function (e) {\n              return e.uuid === editingElement.uuid;\n            });\n\n            elements.splice(_index, 1);\n            var newElements = type === 'move2Top' ? [].concat(toConsumableArray(elements), [editingElement]) : [editingElement].concat(toConsumableArray(elements));\n            newElements.forEach(function (ele, i, arr) {\n              ele.commonStyle.zindex = i + 1;\n            });\n            state.editingPage.elements = newElements;\n          }\n          break;\n\n        case 'addZindex':\n        case 'minusZindex':\n          var maxZindex = elements.length;\n          var eleZindex = editingElement.commonStyle.zindex;\n          if (eleZindex === maxZindex || eleZindex === 1) return;\n          var flag = type === 'addZindex' ? 1 : -1;\n          var swapElement = elements.find(function (ele) {\n            return ele.commonStyle.zindex === eleZindex + flag * 1;\n          });\n          swapZindex(editingElement, swapElement);\n          break;\n      }\n    },\n    recordRect: function recordRect(state, _ref7) {\n      var type = _ref7.type,\n          value = _ref7.value;\n    }\n  };\n\n  var test$1 = [];\n  var nativeSort = test$1.sort;\n\n  // IE8-\n  var FAILS_ON_UNDEFINED = fails(function () {\n    test$1.sort(undefined);\n  });\n  // V8 bug\n  var FAILS_ON_NULL = fails(function () {\n    test$1.sort(null);\n  });\n  // Old WebKit\n  var STRICT_METHOD$4 = arrayMethodIsStrict('sort');\n\n  var FORCED$4 = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD$4;\n\n  // `Array.prototype.sort` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.sort\n  _export({ target: 'Array', proto: true, forced: FORCED$4 }, {\n    sort: function sort(comparefn) {\n      return comparefn === undefined\n        ? nativeSort.call(toObject(this))\n        : nativeSort.call(toObject(this), aFunction$1(comparefn));\n    }\n  });\n\n  function ownKeys$l(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$k(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$l(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$l(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var actions$3 = {\n    updateWork: function updateWork(_ref) {\n      var commit = _ref.commit,\n          state = _ref.state;\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      // update work with strapi\n      var work = _objectSpread$k(_objectSpread$k({}, state.work), payload);\n\n      commit('setWork', work);\n    }\n  }; // mutations\n\n  var mutations$3 = {\n    setWorkCover: function setWorkCover(state, _ref2) {\n      var type = _ref2.type,\n          value = _ref2.value;\n\n      var _value = slicedToArray(value, 1),\n          cover = _value[0];\n\n      state.work.cover_image_url = cover.url;\n    },\n    setWorkTemplates: function setWorkTemplates(state, _ref3) {\n      var type = _ref3.type,\n          value = _ref3.value;\n      value.sort(function (a, b) {\n        return b.id - a.id;\n      });\n      state.workTemplates = value;\n    },\n    setWork: function setWork(state, work) {\n      window.__work = work;\n      work.pages = work.pages.map(function (page) {\n        page.elements = page.elements.map(function (element) {\n          return new Element$1(element);\n        });\n        return new Page(page);\n      });\n      state.work = new Work(work);\n    },\n    previewWork: function previewWork(state, _ref4) {\n      var type = _ref4.type,\n          value = _ref4.value;\n    },\n    deployWork: function deployWork(state, _ref5) {\n      var type = _ref5.type,\n          value = _ref5.value;\n    },\n    formDetailOfWork: function formDetailOfWork(state, _ref6) {\n      var type = _ref6.type,\n          value = _ref6.value;\n      state.formDetailOfWork = value;\n    }\n  };\n\n  function ownKeys$m(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$l(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$m(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$m(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var state = {\n    works: [],\n    work: new Work(),\n    editingPage: {\n      elements: []\n    },\n    editingElement: null,\n    formDetailOfWork: {\n      uuidMap2Name: {},\n      formRecords: []\n    },\n    workTemplates: [],\n    scaleRate: 1\n  }; // getters\n\n  var getters = {}; // actions\n\n  var actions$4 = _objectSpread$l(_objectSpread$l(_objectSpread$l(_objectSpread$l({}, actions$2), actions$1), actions$3), actions); // mutations\n\n\n  var mutations$4 = _objectSpread$l(_objectSpread$l(_objectSpread$l(_objectSpread$l({}, mutations$2), mutations$1), mutations$3), mutations);\n\n  var editor = {\n    namespaced: true,\n    state: state,\n    getters: getters,\n    actions: actions$4,\n    mutations: mutations$4\n  };\n\n  var enUSLang = {\n    app: {\n      title: 'Luban H5'\n    },\n    header: {\n      chineseDocument: '',\n      englishDocument: 'Document(En)',\n      chat: 'Discussion Group',\n      //\n      logout: 'Logout'\n    },\n    sidebar: {\n      myWorks: 'My Works',\n      dataCenter: 'Data Center',\n      basicData: 'Basic Data',\n      templateCenter: 'Templates',\n      freeTemplates: 'Templates List',\n      accountCenter: 'Account'\n    },\n    workCard: {\n      description: 'Desc',\n      createTime: 'Time',\n      useNow: 'Use it Now',\n      preview: 'Preview',\n      edit: 'Edit',\n      createNewWork: 'Create New',\n      view: 'View Work'\n    },\n    basicData: {\n      viewData: 'View Data'\n    },\n    editor: {\n      sidebar: {\n        components: 'Components',\n        pages: 'Pages',\n        templates: 'Templates',\n        tree: 'Tree'\n      },\n      pageManager: {\n        title: 'Page {index}',\n        action: {\n          add: 'Add Page',\n          copy: 'Copy Page',\n          delete: 'Delete Page'\n        }\n      },\n      header: {\n        preview: 'Preview',\n        save: 'Save',\n        publish: 'Publish',\n        setAsTemplate: 'Set As Template'\n      },\n      centerPanel: {\n        mode: {\n          edit: 'Edit',\n          preview: 'Preview'\n        },\n        contextMenu: {\n          copy: 'Copy',\n          delete: 'Delete',\n          moveToTop: 'Move To Top',\n          moveToBottom: 'Move To Bottom',\n          moveUp: 'Move Up',\n          moveDown: 'Move Down',\n          showOnlyButton: 'showOnlyButton',\n          showExcludePicture: 'showExcludePicture'\n        }\n      },\n      fixedTool: {\n        undo: 'Undo{hotkey}',\n        redo: 'Redo{hotkey}',\n        preview: 'Preview',\n        copyCurrentPage: 'CopyCurrentPage',\n        copyCurrentElement: 'copyCurrentElement',\n        importPSD: 'Import PSD',\n        zoomIn: 'Zoom In{hotkey}',\n        zoomOut: 'Zoom Out{hotkey}',\n        issues: 'Issues'\n      },\n      editPanel: {\n        tab: {\n          prop: 'Prop',\n          animation: 'Animation',\n          action: 'Action',\n          script: 'Script',\n          page: 'Page'\n        },\n        animation: {\n          add: 'Add',\n          run: 'Run',\n          type: 'Type',\n          duration: 'Duration',\n          delay: 'Delay',\n          iteration: 'Iteration',\n          inifinite: 'Inifinite',\n          list: 'Select Animation',\n          title: 'Animation {index}'\n        },\n        common: {\n          empty: 'Select an element first please!'\n        }\n      },\n      tip: {\n        componentUsage: 'Tip: just {0} on component',\n        click: 'click/drag'\n      }\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2019-11-24 18:51:58\r\n   * @LastEditors: ly525\r\n   * @LastEditTime: 2020-10-13 01:29:21\r\n   * @FilePath: /h5/src/locales/lang/zh-CN.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var zhCNLang = {\n    app: {\n      title: ' H5'\n    },\n    header: {\n      chineseDocument: '',\n      englishDocument: '',\n      chat: '',\n      //  Discussion Group\n      logout: ''\n    },\n    sidebar: {\n      myWorks: '',\n      dataCenter: '',\n      basicData: '',\n      templateCenter: '',\n      freeTemplates: '',\n      accountCenter: ''\n    },\n    workCard: {\n      description: '',\n      createTime: '',\n      useNow: '',\n      preview: '',\n      createNewWork: '',\n      edit: '',\n      view: ''\n    },\n    basicData: {\n      viewData: ''\n    },\n    editor: {\n      sidebar: {\n        components: '',\n        pages: '',\n        templates: '',\n        tree: ''\n      },\n      pageManager: {\n        title: '{index}',\n        action: {\n          add: '',\n          copy: '',\n          delete: ''\n        }\n      },\n      header: {\n        preview: '',\n        save: '',\n        publish: '',\n        setAsTemplate: ''\n      },\n      centerPanel: {\n        mode: {\n          edit: 'Edit',\n          preview: 'Preview'\n        },\n        contextMenu: {\n          copy: '',\n          delete: '',\n          moveToTop: '',\n          moveToBottom: '',\n          moveUp: '',\n          moveDown: '',\n          showOnlyButton: '',\n          showExcludePicture: ''\n        }\n      },\n      fixedTool: {\n        undo: '{hotkey}',\n        redo: '{hotkey}',\n        preview: '',\n        copyCurrentPage: '',\n        copyCurrentElement: '',\n        importPSD: 'PSD',\n        zoomIn: '{hotkey}',\n        zoomOut: '{hotkey}',\n        issues: ''\n      },\n      editPanel: {\n        tab: {\n          prop: '',\n          animation: '',\n          action: '',\n          script: '',\n          page: ''\n        },\n        animation: {\n          add: '',\n          run: '',\n          type: '',\n          duration: '',\n          delay: '',\n          iteration: '',\n          inifinite: '',\n          list: '',\n          title: 'Animation {index}'\n        },\n        common: {\n          empty: 'Select an element first please!'\n        }\n      },\n      tip: {\n        componentUsage: ': {0} ',\n        click: ''\n      }\n    }\n  };\n\n  function ownKeys$n(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$m(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$n(Object(source), true).forEach(function (key) { defineProperty$1(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$n(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  Vue__default['default'].use(VueI18n__default['default']);\n  var messages = {\n    \"en-US\": _objectSpread$m({}, enUSLang),\n    \"zh-CN\": _objectSpread$m({}, zhCNLang)\n  };\n  var defaultLang = \"zh-CN\";\n  var i18n = new VueI18n__default['default']({\n    locale: defaultLang,\n    fallbackLocale: defaultLang,\n    messages: messages\n  });\n  var loadedLanguages = [defaultLang];\n\n  function setI18nLanguage(lang) {\n    i18n.locale = lang;\n    document.querySelector(\"html\").setAttribute(\"lang\", lang);\n    return lang;\n  }\n\n  function loadLanguageAsync() {\n    var lang = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultLang;\n    return new Promise(function (resolve) {\n      if (i18n.locale !== lang) {\n        if (!loadedLanguages.includes(lang)) {\n          i18n.setLocaleMessage(messages[lang], msg.default);\n          loadedLanguages.push(lang);\n          return setI18nLanguage(lang);\n        }\n\n        return resolve(setI18nLanguage(lang));\n      }\n\n      return resolve(lang);\n    });\n  }\n\n  var i18n$1 = {\n    namespaced: true,\n    state: {\n      lang: 'zh-CN'\n    },\n    mutations: {\n      SET_LANG: function SET_LANG(state, lang) {\n        state.lang = lang;\n      }\n    },\n    actions: {\n      // \n      SetLang: function SetLang(_ref, lang) {\n        var commit = _ref.commit;\n        return new Promise(function (resolve) {\n          commit('SET_LANG', lang);\n          loadLanguageAsync(lang);\n          resolve();\n        });\n      }\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-10-11 10:13:51\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-29 10:03:39\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/core/store/index.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2019 luban-h5. All Rights Reserved\r\n   */\n  Vue__default['default'].use(Vuex__default['default']);\n  var store$2 = new Vuex__default['default'].Store({\n    state: {},\n    mutations: {},\n    actions: {},\n    modules: {\n      editor: editor,\n      i18n: i18n$1\n    },\n    plugins: [undoRedoPlugin]\n  });\n\n  var CoreEditor = {\n    name: \"CoreEditor\",\n    store: store$2,\n    i18n: i18n,\n    props: {\n      work: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      }\n    },\n    components: defineProperty$1({}, antDesignVue.Layout.name, antDesignVue.Layout),\n    watch: {\n      work: function work(newValue) {\n        this.$store.commit(\"editor/setWork\", newValue);\n        this.$store.commit(\"editor/setEditingPage\");\n      }\n    },\n    data: function data() {\n      return {\n        previewDialogVisible: false,\n        propsPanelWidth: 375\n      };\n    },\n    methods: {\n      handlePreview: function handlePreview() {\n        this.previewDialogVisible = true;\n      },\n      getData: function getData() {\n        return this.$store.state.editor.work;\n      }\n    },\n    render: function render(h) {\n      var _this = this;\n\n      return this.work.id && h(\"a-layout\", [h(\"a-layout\", {\n        \"style\": {\n          height: '100%'\n        }\n      }, [h(EditorLeftPanel), h(EditorCanvas, {\n        \"ref\": \"editor\"\n      }), h(AdjustLineV, {\n        \"on\": {\n          \"lineMove\": function lineMove(offset) {\n            _this.propsPanelWidth += offset;\n          }\n        }\n      }), h(FixedTools), h(EditorRightPanel, {\n        \"attrs\": {\n          \"width\": this.propsPanelWidth\n        }\n      })])]);\n    }\n  }; // Vue install, Vue.use \n\n  CoreEditor.install = function (Vue) {\n    Vue.component(CoreEditor.name, CoreEditor);\n  }; // scriptVue\n\n\n  if (typeof window !== \"undefined\" && window.Vue) {\n    CoreEditor.install(window.Vue);\n  }\n\n  return CoreEditor;\n\n})));\n//# sourceMappingURL=luban-h5-editor.js.map\n"],"sourceRoot":""}