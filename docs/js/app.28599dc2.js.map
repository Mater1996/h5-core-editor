{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?659d","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/lib/luban-h5-editor/dist/luban-h5-editor.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticStyle","work","staticRenderFns","title","description","cover_image_url","pages","is_publish","is_template","created_at","updated_at","page_mode","components","component","Vue","config","productionTip","use","lubanH5Editor","render","h","App","$mount","factory","antDesignVue","vClickOutside$1","vueQuillEditor","vant","resizeDetector","Vuex","lodash","VueI18n","hotkeys","Spreadsheet","Papa","_interopDefaultLegacy","vClickOutside__default","Vue__default","Vuex__default","VueI18n__default","hotkeys__default","Spreadsheet__default","Papa__default","fails","exec","error","descriptors","commonjsGlobal","globalThis","global","self","createCommonjsModule","fn","basedir","path","require","base","commonjsRequire","undefined","getAugmentedNamespace","a","forEach","k","getOwnPropertyDescriptor","check","it","Math","global_1","Function","isObject","document$1","document","EXISTS","createElement","documentCreateElement","ie8DomDefine","anObject","TypeError","String","toPrimitive","input","PREFERRED_STRING","val","toString","valueOf","nativeDefineProperty","f","O","P","Attributes","objectDefineProperty","FunctionPrototype","FunctionPrototypeToString","nameRE","NAME","configurable","match","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","f$1","V","descriptor","objectPropertyIsEnumerable","createPropertyDescriptor","bitmap","writable","classofRaw","split","indexedObject","requireObjectCoercible","toIndexedObject","has","nativeGetOwnPropertyDescriptor","f$2","objectGetOwnPropertyDescriptor","createNonEnumerableProperty","setGlobal","SHARED","store","sharedStore","functionToString","inspectSource","set","has$1","WeakMap","nativeWeakMap","test","shared","version","copyright","postfix","random","uid","sharedKey","hiddenKeys","WeakMap$1","enforce","getterFor","TYPE","state","type","store$1","wmget","wmhas","wmset","metadata","STATE","internalState","redefine","getInternalState","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","aFunction","variable","getBuiltIn","namespace","method","arguments","ceil","floor","toInteger","argument","isNaN","min","toLength","max","min$1","toAbsoluteIndex","index","integer","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","indexOf","objectKeysInternal","names","enumBugKeys","hiddenKeys$1","concat","f$3","getOwnPropertyNames","objectGetOwnPropertyNames","f$4","getOwnPropertySymbols","objectGetOwnPropertySymbols","ownKeys","copyConstructorProperties","target","replacement","isForced","feature","detection","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","isForced_1","getOwnPropertyDescriptor$1","_export","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","sham","aFunction$1","functionBindContext","that","b","toObject","isArray","Array","arg","nativeSymbol","useSymbolAsUid","iterator","WellKnownSymbolsStore","Symbol$1","createWellKnownSymbol","withoutSetter","wellKnownSymbol","SPECIES","arraySpeciesCreate","originalArray","C","constructor","createMethod$1","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","boundFunction","arrayIteration","filter","some","every","find","findIndex","engineUserAgent","process","versions","v8","engineV8Version","SPECIES$1","arrayMethodHasSpeciesSupport","METHOD_NAME","array","foo","Boolean","defineProperty$1","cache","thrower","arrayMethodUsesToLength","ACCESSORS","argument0","argument1","$map","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","_arrayLikeToArray","arr","len","arr2","proto","arrayLikeToArray","_arrayWithoutHoles","arrayWithoutHoles","_iterableToArray","iter","from","iterableToArray","_unsupportedIterableToArray","minLen","unsupportedIterableToArray","_nonIterableSpread","nonIterableSpread","_toConsumableArray","toConsumableArray","_defineProperty","obj","activeXDocument","defineProperty$2","aPossiblePrototype","objectSetPrototypeOf","setPrototypeOf","setter","CORRECT_SETTER","__proto__","inheritIfRequired","dummy","Wrapper","NewTarget","NewTargetPrototype","objectKeys","objectDefineProperties","defineProperties","Properties","html","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","contentWindow","open","F","NullProtoObject","domain","ActiveXObject","objectCreate","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod$2","stringTrim","start","end","trim","getOwnPropertyDescriptor$2","defineProperty$3","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","first","third","radix","maxCode","digits","charCodeAt","NaN","parseInt","NumberWrapper","keys$1","defaultNumberInputProp","dataSourceLayout","labelCol","span","wrapperCol","offset","PropTypes","boolean","_ref","_ref$label","label","_ref$defaultValue","defaultValue","_ref$props","props","_ref$visible","visible","default","editor","required","vertical","color","_ref2","_ref2$label","_ref2$defaultValue","_ref2$visible","size","showAlpha","colors","_ref3","_ref3$label","_ref3$defaultValue","_ref3$layout","layout","_ref3$visible","number","_ref4","_ref4$label","_ref4$defaultValue","_ref4$props","_ref4$visible","Number","_ref5","_ref5$label","_ref5$defaultValue","_ref5$component","_ref5$props","extra","_ref5$visible","textAlign","_ref6","_ref6$label","_ref6$defaultValue","_ref6$visible","textOptions","_ref7","_ref7$label","_ref7$defaultValue","_ref7$visible","image","_ref8","_ref8$label","_ref8$defaultValue","_ref8$visible","excel","_ref9","_ref9$label","_ref9$defaultValue","_ref9$layout","_ref9$visible","select","_ref10","_ref10$valueType","valueType","_ref10$label","_ref10$defaultValue","_ref10$visible","_ref10$options","LbpButton","backgroundColor","fontSize","lineHeight","borderColor","borderRadius","borderWidth","text","textDecoration","width","height","LbpPicture","imgSrc","objectFit","fillType","playIcon","LbpVideo","disabled","useIframe","iframeSrc","placeholder","watch","appendIframe","mounted","methods","$refs","iframeWrapper","innerHTML","componentsForPropsEditor","createProperty","propertyKey","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","A","LbpText","directives","clickOutside","directive","_this","canEdit","editorMode","position","border","previewText","stopPropagation","event","keyCode","charCode","quillEditor","toolbar","list","background","align","header","theme","quill","$emit","pluginName","innerText","editorConfig","typeOptions","LbpFormInput","padding","arrayMethodIsStrict","$forEach","STRICT_METHOD","USES_TO_LENGTH$1","arrayForEach","domIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","COLLECTION_NAME","Collection","CollectionPrototype","LbpFormButton","handleClick","inputs","querySelectorAll","formData","FormData","append","dataset","uuid","XMLHttpRequest","onreadystatechange","readyState","message","status","$message","info","workId","__work","send","$indexOf","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD$1","USES_TO_LENGTH$2","searchElement","nativeJoin","ES3_STRINGS","STRICT_METHOD$2","separator","HAS_SPECIES_SUPPORT$1","USES_TO_LENGTH$3","0","max$1","min$2","MAX_SAFE_INTEGER$1","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","to","actualStart","argumentsLength","TO_STRING_TAG","toStringTagSupport","TO_STRING_TAG$1","CORRECT_ARGUMENTS","tryGet","classof","tag","callee","objectToString","regexpFlags","ignoreCase","multiline","dotAll","unicode","sticky","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","flags","INCORRECT_NAME","R","rf","styleKey","getVM","Ctor","swapZindex","x","y","tmp","zindex","genUUID","substring","LbpFormRadio","aliasName","checked","onFocus","onClick","onBlur","doChange","handleChange","Date","getDefaultItems","defaultItems","LbpFormRadioGroup","items","computed","value_","_type","$el","onChange","toggleRadio","toggleCheckbox","item","UNSCOPABLES","ArrayPrototype","addToUnscopables","$includes","USES_TO_LENGTH$4","MATCH","isRegexp","isRegExp","notARegexp","MATCH$1","correctIsRegexpLogic","regexp","getDefaultItems$1","searchString","LbpFormCheckboxGroup","nativeGetOwnPropertyNames","toString$1","windowNames","getWindowNames","f$5","objectGetOwnPropertyNamesExternal","f$6","wellKnownSymbolWrapped","defineProperty$4","defineWellKnownSymbol","defineProperty$5","TO_STRING_TAG$2","setToStringTag","TAG","$forEach$1","HIDDEN","SYMBOL","PROTOTYPE$1","TO_PRIMITIVE","setInternalState","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor$1","nativeDefineProperty$1","nativeGetOwnPropertyNames$1","nativePropertyIsEnumerable$1","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore$1","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","symbol","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","replacer","space","$replacer","args","$filter","HAS_SPECIES_SUPPORT$2","USES_TO_LENGTH$5","nativeGetOwnPropertyDescriptor$2","FAILS_ON_PRIMITIVES","FORCED$1","getOwnPropertyDescriptors","FAILS_ON_PRIMITIVES$1","renderWaterMark","_ref$container","container","body","_ref$width","_ref$height","_ref$textAlign","_ref$textBaseline","textBaseline","_ref$fontSize","_ref$fillStyle","fillStyle","_ref$content","_ref$rotate","rotate","_ref$zIndex","zIndex","canvas","setAttribute","ctx","getContext","font","fillText","parseFloat","base64Url","toDataURL","wmEl","querySelector","watermarkDiv","styleStr","classList","add","insertBefore","firstChild","ownKeys$1","enumerableOnly","symbols","_objectSpread","LbpBackground","waterMarkText","waterMarkFontSize","waterMarkRotate","waterMarkColor","root","$watch","getDefaultItems$2","LbpSlide","interval","activeIndex","custom","Swipe","SwipeItem","LbpBgMusic","autoplay","isPlaying","toggle","bgAudio","pause","play","btnStyle","created","LbpNoticeBar","NoticeBar","LbpRate","count","gutter","Rate","non","stringTrimForced","$trim","nativePromiseConstructor","Promise","redefineAll","SPECIES$2","setSpecies","CONSTRUCTOR_NAME","Constructor","anInstance","iterators","ITERATOR","ArrayPrototype$1","isArrayIteratorMethod","ITERATOR$1","getIteratorMethod","callWithSafeIterationClosing","ENTRIES","returnMethod","iterate_1","Result","stopped","iterate","iterable","AS_ENTRIES","IS_ITERATOR","iterFn","next","step","done","stop","ITERATOR$2","SAFE_CLOSING","called","iteratorWithReturn","defer","channel","port","checkCorrectnessOfIteration","SKIP_CLOSING","ITERATION_SUPPORT","SPECIES$3","speciesConstructor","defaultConstructor","S","engineIsIos","location","set$1","setImmediate","clear","clearImmediate","process$1","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","runner","listener","post","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","flush","head","last","notify","node","promise","then","task","getOwnPropertyDescriptor$3","macrotask","MutationObserver","WebKitMutationObserver","process$2","Promise$1","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","parent","exit","enter","createTextNode","observe","characterData","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","microtask","PromiseCapability","reject","$$resolve","$$reject","f$7","newPromiseCapability","promiseResolve","promiseCapability","hostReportErrors","console","perform","task$1","SPECIES$4","PROMISE","getInternalState$1","setInternalState$1","getInternalPromiseState","PromiseConstructor","TypeError$1","document$2","process$3","$fetch","newPromiseCapability$1","newGenericPromiseCapability","IS_NODE$1","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","FORCED$2","GLOBAL_CORE_JS_PROMISE","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","all","isThenable","notify$1","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","IS_UNHANDLED","isUnhandled","emit","unwrap","internalReject","internalResolve","wrapper","isScriptLoaded","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","values","remaining","alreadyCalled","race","Map","load","qq","init","script","onerror","getPosition","lat","lng","maps","LatLng","MapMixin","loadMap","setMarker","poi","center","latLng","marker","setMap","Marker","panTo","mixins","labelContent","zoomLevel","qqMapKey","checkMapAvailable","deep","_labelContent","setLabel","_zoomLevel","setZoomLevel","onSearch","log","Label","setVisible","setContent","setPosition","zoomTo","initMap","mapElement","zoom","disableDefaultUI","draggable","scrollwheel","disableDoubleClickZoom","normalizeComponent","template","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","originalRender","existing","beforeCreate","__vue_script__","__vue_render__","__vue_staticRenderFns__","_withStripped","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","ABBR","th","mi","bi","tr","DEFAULT_OPTIONS","zeroFormat","nullFormat","defaultFormat","scalePercentBy100","abbrLabel","TRILLION","BILLION","MILLION","THOUSAND","numIsNaN","toFixed","maxDecimals","roundingFunction","optionals","splitValue","minDecimals","boundedPrecision","power","pow","output","optionalsRegExp","numberToFormat","format","abs","negP","optDec","abbr","decimal","neg","abbrForce","signed","int","precision","thousands","leadingCount","trillion","million","extend","sub","numerifyPercent","formatType","numerify","_numberToFormat","formats","round","formatFunction","kind","register","unregister","setOptions","opts","reset","index_es","freeze","debounce","delay","timer","clearTimeout","throttle","wait","previous","set$2","targetTemp","pathArr","get$1","getStore","JSON","parse","localStorage","getItem","setStore","setItem","_typeof","getType","v","getTypeof","isObject$1","isArray$1","isFunction","isString","isBoolean","isEmptyObj","isNumber","clone","assign","cloneDeep","kebabToCamel","_","toUpperCase","camelToKebab","unique","getLinearValue","x1","y1","x2","y2","x3","getFnAndObjValue","arrDelItem","diffItem","arrDelArrItem","diffArr","getArrMin","getArrMax","toArray","noop","hasOwn","extend$1","isEqual","alice","bob","aliceValue","bobValue","aliceType","_key","index_es$1","require$$3","utilsLite","utils","_interopDefault","ex","getFormated","digit","defaultVal","digitStr","formatter","getStackMap","stack","stackMap","$get","url","xhr","onload","responseText","mapPromise","getMapJSON","positionJsonLink","beforeRegisterMapOnce","mapURLProfix","link","res","bmapPromise","amapPromise","getBmap","callbackName","getAmap","setArrayValue","idStart","_default","guid","env","wx","getSystemInfoSync","browser","os","wxa","canvasSupported","svgSupported","touchEventsSupported","domSupported","worker","navigator","detect","userAgent","_default$1","ua","firefox","ie","edge","weChat","SVGRect","pointerEventsSupported","env_1","BUILTIN_OBJECT","TYPED_ARRAY","objToString","arrayProto","nativeForEach","nativeFilter","nativeSlice","nativeMap","nativeReduce","reduce","$override","_ctx","clone$1","typeStr","isPrimitive","isDom","merge","overwrite","isObject$2","targetProp","sourceProp","isArray$2","isBuiltInObject","mergeAll","targetAndSources","extend$2","defaults","overlay","createCanvas","indexOf$1","inherits","clazz","baseClazz","clazzPrototype","prop","superClass","mixin","isArrayLike","each","cb","memo","bind$1","func","curry","isFunction$1","isString$1","isTypedArray","nodeType","ownerDocument","eqNaN","retrieve","retrieve2","value0","value1","retrieve3","value2","normalizeCssArray","assert","condition","trim$1","str","primitiveKey","setAsPrimitive","HashMap","isArr","thisMap","visit","createHashMap","concatArray","newArray","noop$1","removeKey","$override_1","clone_1","merge_1","mergeAll_1","extend_1","defaults_1","createCanvas_1","getContext_1","indexOf_1","inherits_1","mixin_1","isArrayLike_1","each_1","map_1","reduce_1","filter_1","find_1","bind_1","curry_1","isArray_1","isFunction_1","isString_1","isObject_1","isBuiltInObject_1","isTypedArray_1","isDom_1","eqNaN_1","retrieve_1","retrieve2_1","retrieve3_1","slice_1","normalizeCssArray_1","assert_1","trim_1","setAsPrimitive_1","isPrimitive_1","createHashMap_1","concatArray_1","noop_1","util","ArrayCtor","Float32Array","out","copy","clone$2","set$3","v1","v2","scaleAndAdd","sqrt","lenSquare","lengthSquare","mul","div","dot","scale","normalize$1","distance","dist","distanceSquare","distSquare","negate","lerp","applyTransform","min$3","max$2","create_1","copy_1","clone_1$1","set_1","add_1","scaleAndAdd_1","sub_1","len_1","length_1","lenSquare_1","lengthSquare_1","mul_1","div_1","dot_1","scale_1","normalize_1","distance_1","dist_1","distanceSquare_1","distSquare_1","negate_1","lerp_1","applyTransform_1","min_1","max_1","vector","Draggable","on","_dragStart","_drag","_dragEnd","param","topTarget","draggingTarget","_draggingTarget","dragging","_x","offsetX","_y","offsetY","dispatchToElement","dx","dy","drift","dropTarget","findHover","lastDropTarget","_dropTarget","_default$2","Draggable_1","arrySlice","Eventful","eventProcessor","_$handlers","_$eventProcessor","normalizeQuery","query","eventful","isOnce","one","callAtLast","zrEventfulCallAtLast","lastIndex","lastWrap","isSilent","off","newList","trigger","argLen","hItem","afterTrigger","triggerWithContext","_default$3","Eventful_1","LN2","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","subRowMask","subRowStart","sum","colLocalIdx","colTag","buildTransformer","dest","mA","det","vh","srcPointX","srcPointY","pk","buildTransformer_1","fourPointsTransform","buildTransformer$1","EVENT_SAVED_PROP","_calcOut","transformLocalCoord","elFrom","elTarget","inX","inY","transformCoordWithViewport","inverse","getBoundingClientRect","isCanvasEl","saved","markers","prepareCoordMarkers","transformer","preparePointerTransformer","propLR","propTB","stl","idxLR","idxTB","cssText","transformerName","oldSrcCoords","srcCoords","oldCoordTheSame","destCoords","rect","ii","left","top","offsetLeft","offsetTop","nodeName","transformLocalCoord_1","transformCoordWithViewport_1","isCanvasEl_1","dom","Dispatcher","isCanvasEl$1","transformCoordWithViewport$1","isDomLevel2","MOUSE_EVENT_REG","_calcOut$1","clientToLocal","calculate","calculateZrXY","layerX","zrX","zrY","layerY","clientX","ey","clientY","box","getNativeEvent","normalizeEvent","eventType","isTouch","touch","targetTouches","changedTouches","zrDelta","wheelDelta","detail","button","which","opt","attachEvent","removeEventListener","detachEvent","preventDefault","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse","clientToLocal_1","getNativeEvent_1","normalizeEvent_1","addEventListener_1","removeEventListener_1","stop_1","isMiddleOrRightButtonOnMouseUpDown_1","notLeftMouse_1","GestureMgr","_track","dist$1","pointPair","recognize","_doTrack","_recognize","event$1","touches","trackItem","points","pos","eventName","recognizers","gestureInfo","pinch","track","trackLen","pinchEnd","pinchPre","pinchScale","isFinite","pinchCenter","pinchX","pinchY","_default$4","GestureMgr_1","SILENT","makeEventPacket","eveType","targetInfo","gestureEvent","zrByTouch","stopEvent","EmptyProxy","dispose","handlerNames","Handler","storage","painter","proxy","painterRoot","_hovered","_lastTouchMoment","_lastX","_lastY","_gestureMgr","setHandlerProxy","isHover","displayable","rectHover","clipPath","contain","silent","isOutsideBoundary","handlerInstance","getWidth","getHeight","mousemove","isOutside","lastHovered","lastHoveredTarget","__zr","hovered","hoveredTarget","setCursor","cursor","mouseout","eventControl","zrEventControl","zrIsToLocalDOM","resize","dispatch","eventArgs","setCursorStyle","cursorStyle","eventHandler","eventPacket","eachOtherLayer","layer","exclude","getDisplayList","hoverCheckResult","ignore","processGesture","stage","gestureMgr","_downEl","_downPoint","_upEl","_default$5","Handler_1","ArrayCtor$1","create$1","identity","copy$1","mul$1","m1","m2","out0","out1","out2","out3","out4","out5","translate","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","scale$1","vx","vy","invert","clone$3","create_1$1","identity_1","copy_1$1","mul_1$1","translate_1","rotate_1","scale_1$1","invert_1","clone_1$2","matrix","mIdentity","EPSILON","isNotAroundZero","Transformable","rotation","origin","transformableProto","transform","needLocalTransform","scaleTmp","updateTransform","parentHasTransform","getLocalTransform","globalScaleRatio","getGlobalScale","relX","relY","sx","sy","invTransform","setTransform","dpr","restoreTransform","tmpTransform","originTransform","setLocalTransform","atan2","decomposeTransform","transformCoordToLocal","transformCoordToGlobal","_default$6","Transformable_1","easing","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","PI","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","_default$7","easing_1","Clip","_target","_life","life","_delay","_initialized","loop","gap","onframe","ondestroy","onrestart","_pausedTime","_paused","globalTime","deltaTime","_startTime","percent","easingFunc","schedule","fire","restart","_needsRemove","remainder","resume","_default$8","Clip_1","LinkedList","tail","_len","linkedListProto","insert","entry","Entry","insertEntry","prev","remove","LRU","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","put","removed","leastUsedEntry","_default$9","LRU_1","kCSSColorTable","clampCssByte","clampCssAngle","clampCssFloat","parseCssInt","charAt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","cached","op","ep","fname","substr","params","alpha","pop","hsla2rgba","iv","hsla","rgba","rgba2hsla","H","G","B","vMin","vMax","delta","L","deltaR","deltaG","deltaB","lift","level","colorArr","toHex","fastLerp","normalizedValue","leftIndex","rightIndex","leftColor","rightColor","dv","fastMapToColor","lerp$1","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","parse_1","lift_1","toHex_1","fastLerp_1","fastMapToColor_1","lerp_1$1","mapToColor_1","modifyHSL_1","modifyAlpha_1","stringify_1","isArrayLike$1","arraySlice","defaultGetter","defaultSetter","interpolateNumber","p0","p1","interpolateString","interpolateArray","arrDim","len2","fillArr","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","isArraySame","catmullRomInterpolateArray","p2","p3","t2","t3","catmullRomInterpolate","v0","cloneValue","ret","rgba2String","getArrayDim","keyframes","lastValue","createTrackClip","animator","oneTrackDone","propName","forceAnimate","_getter","_setter","useSpline","trackMaxTime","firstVal","isValueArray","isValueColor","isValueString","sort","time","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","w","lastFrame","lastFramePercent","frame","range","clip","_loop","Animator","_tracks","_clipCount","_doneList","_onframeList","_clipList","when","tracks","during","callback","isPaused","_doneCallback","doneList","lastClip","clipCount","animation","addClip","oldOnFrame","forwardToLast","clipList","removeClip","getClips","_default$a","Animator_1","devicePixelRatio","debugMode","debugMode_1","devicePixelRatio_1","logError","_default$b","isString$2","isFunction$2","isObject$3","isArrayLike$2","indexOf$2","Animatable","animators","animateTo","animatable","reverse","stopAnimation","animateToShallow","objShallow","propertyCount","setAttrByPath","animate","attr","animatingShape","zr","pathSplitted","dirty","addAnimator","animateFrom","_default$c","Animatable_1","Element","isGroup","beforeUpdate","afterUpdate","update","traverse","attrKV","hide","refresh","show","setClipPath","addSelfToZr","removeClipPath","__clipTarget","removeSelfFromZr","removeAnimator","_default$d","Element_1","v2ApplyTransform","mathMin","mathMax","BoundingRect","union","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","plain","_default$e","BoundingRect_1","Group","_children","__storage","__dirty","children","childAt","idx","childOfName","childCount","child","_doAdd","addBefore","nextSibling","addToStorage","addChildrenToStorage","delFromStorage","delChildrenFromStorage","removeAll","eachChild","getBoundingRect","includeChildren","tmpRect","tmpMat","invisible","childRect","_default$f","Group_1","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","mid","pivot","right","gallopLeft","hint","lastOffset","maxOffset","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","start1","length1","start2","length2","mergeLow","mergeHigh","cursor1","cursor2","count1","count2","_minGallop","customCursor","customDest","ts","minRun","force","timsort","shapeCompareFunc","zlevel","z","z2","Storage","_roots","_displayList","_displayListLen","includeIgnore","updateDisplayList","roots","displayList","_updateAndAddDisplayable","clipPaths","userSetClipPath","currentClipPath","parentClipPath","__clipPaths","addRoot","delRoot","_renderList","displayableSortFunc","_default$g","Storage_1","SHADOW_PROPS","_default$h","fixShadow","ContextCachedBy","NONE","STYLE_BIND","PLAIN_TEXT","WILL_BE_RESTORED","ContextCachedBy_1","WILL_BE_RESTORED_1","constant","ContextCachedBy$1","STYLE_COMMON_PROPS","Style","extendFrom","createLinearGradient","canvasGradient","createRadialGradient","fill","stroke","opacity","fillOpacity","strokeOpacity","lineDash","lineDashOffset","shadowBlur","shadowOffsetX","shadowOffsetY","lineWidth","strokeNoScale","textFont","fontStyle","fontWeight","fontFamily","textTag","textFill","textStroke","textWidth","textHeight","textStrokeWidth","textLineHeight","textPosition","textRect","textOffset","textVerticalAlign","textDistance","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","transformText","textRotation","textOrigin","textBackgroundColor","textBorderColor","textBorderWidth","textBorderRadius","textPadding","rich","truncate","blend","prevEl","prevStyle","notCheckCache","__attrCachedBy","styleName","strokeStyle","globalAlpha","globalCompositeOperation","hasStroke","getLineScale","hasFill","otherStyle","newStyle","getGradient","colorStops","addColorStop","styleProto","_default$i","Style_1","Pattern","repeat","getCanvasPattern","createPattern","_default$j","Pattern_1","devicePixelRatio$1","returnFalse","createDom","newDom","newDomStyle","Layer","domStyle","onselectstart","domBack","ctxBack","clearColor","motionBlur","lastFrameAlpha","__used","__drawIndex","__startIndex","__endIndex","incremental","getElementCount","initContext","createBackBuffer","clearAll","clearColorGradientOrPattern","haveMotionBLur","drawImage","clearRect","__canvasGradient","save","fillRect","restore","_default$k","Layer_1","_default$l","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","hostEl","cbPayload","__zrImageSrc","pendingWrap","isImageReady","pending","Image","imageOnLoad","__cachedImgObj","findExistImage_1","createOrUpdateImage_1","isImageReady_1","getContext$1","extend$3","retrieve2$1","retrieve3$1","trim$2","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","methods$1","$override$1","textLines","measureText","getRichTextRect","getPlainTextRect","contentBlock","parsePlainText","outerWidth","outerHeight","adjustTextX","adjustTextY","parseRichText","calculateTextPosition","halfHeight","adjustTextPositionOnRect","dummyStyle","truncateText","containerWidth","ellipsis","prepareTruncateOptions","truncateSingleLine","maxIterations","minChar","cnCharWidth","ascCharWidth","contentWidth","ellipsisWidth","textLine","subLength","estimateLength","getLineHeight","lines","canCacheByTextString","truncOuterHeight","truncOuterWidth","matchedIndex","pushTokens","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","line","tokens","token","tokenStyle","tokenHeight","tokenWidth","tokenWidthNotSpecified","percentWidth","bgImg","paddingW","remianTruncWidth","block","isEmptyStr","strs","isLineHolder","tokensLen","makeFont","DEFAULT_FONT_1","$override_1$1","getWidth_1","getBoundingRect_1","adjustTextX_1","adjustTextY_1","calculateTextPosition_1","adjustTextPositionOnRect_1","truncateText_1","getLineHeight_1","measureText_1","parsePlainText_1","parseRichText_1","makeFont_1","buildPath","shape","r1","r2","r3","r4","total","moveTo","lineTo","arc","buildPath_1","roundRect","retrieve2$2","retrieve3$2","each$1","normalizeCssArray$1","isString$3","isObject$4","ContextCachedBy$2","WILL_BE_RESTORED$1","DEFAULT_FONT$1","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","bottom","middle","SHADOW_STYLE_COMMON_PROPS","_tmpTextPositionResult","_tmpBoxPositionResult","normalizeTextStyle","normalizeStyle","renderText","renderRichText","renderPlainText","text$1","needDrawBg","needDrawBackground","checkCache","cachedByMe","styleFont","computedFont","__computedFont","__styleFont","__textCotentBlock","__dirtyText","boxPos","getBoxPosition","baseX","baseY","applyTextRotation","boxY","textX","textY","boxX","drawBackground","getTextXForPadding","propItem","styleProp","ctxProp","textStrokeWidthPrev","strokeWidthChanged","strokeChanged","getStroke","getFill","strokeText","drawRichText","xLeft","lineTop","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","placeToken","setCtx","isPlainBg","beginPath","closePath","originalGlobalAlpha","image$1","onBgImageLoaded","parsePercent","maxValue","lastIndexOf","needDrawText","normalizeTextStyle_1","renderText_1","getBoxPosition_1","getStroke_1","getFill_1","parsePercent_1","needDrawText_1","WILL_BE_RESTORED$2","RectText","drawRectText","_default$m","RectText_1","Displayable","_rect","culling","progressive","beforeBrush","afterBrush","brush","rectContain","coord","animateStyle","setStyle","useStyle","_default$n","Displayable_1","ZImage","_image","aspect","sWidth","sHeight","_default$o","Image$1","devicePixelRatio$2","HOVER_LAYER_ZLEVEL","CANVAS_ZLEVEL","EL_AFTER_INCREMENTAL_INC","INCREMENTAL_INC","parseInt10","isLayerValid","__builtin__","tmpRect$1","viewRect","isDisplayableCulled","isClipPathChanged","prevClipPaths","doClip","createRoot","domRoot","Painter","singleCanvas","_opts","_singleCanvas","rootStyle","zlevelList","_zlevelList","layers","_layers","_layerConfig","_needsManuallyCompositing","_width","_height","mainLayer","_domRoot","_getSize","_hoverlayer","_hoverElements","isSingleCanvas","getViewportRoot","getViewportRootOffset","viewportRoot","paintAll","_redrawId","_paintList","_backgroundColor","refreshHover","addHover","hoverStyle","__hoverMir","elMirror","__from","removeHover","hoverElements","clearHover","hoverLayer","getLayer","scope","originalEl","_doPaintEl","getHoverLayer","redrawId","_updateLayerStatus","finished","_doPaintList","_compositeManually","eachBuiltinLayer","virtual","layerList","zi","useTimer","startTime","firstEl","notClear","dTime","prevElClipPaths","draw","currentLayer","forcePaint","insertLayer","layersMap","prevLayer","prevDom","eachLayer","getLayers","updatePrevLayer","prevZlevel","incrementalLayerCount","_clearLayer","setBackgroundColor","configLayer","layerConfig","_zlevel","delLayer","parentNode","_progressiveLayers","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","renderToCanvas","whIdx","wh","cwh","plt","prb","defaultView","getComputedStyle","pathToImage","shadowBlurSize","leftMargin","rightMargin","topMargin","bottomMargin","pathTransform","ImageShape","imgShape","_default$p","Painter_1","Dispatcher$1","Animation","_clips","_running","_time","_pauseStart","clips","_update","getTime","deferredEvents","deferredClips","_startLoop","isFinished","_default$q","Animation_1","addEventListener$1","removeEventListener$1","normalizeEvent$1","getNativeEvent$1","TOUCH_CLICK_DELAY","globalEventSupported","localNativeListenerNames","mouseHandlerNames","touchHandlerNames","pointerEventNameMap","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","mouse","pointer","globalNativeListenerNames","eventNameFix","isPointerFromTouch","pointerType","setTouchTimer","touching","touchTimer","markTouch","normalizeGlobalEvent","instance","FakeGlobalEvent","isLocalEl","elTmp","isLocal","domBelongToZr","currentTarget","fakeGlobalEventProto","stopImmediatePropagation","localDOMHandlers","mousedown","_mayPointerCapture","downPoint","togglePointerCapture","mouseup","_pointerCapturing","element","toElement","relatedTarget","touchstart","touchmove","touchend","click","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","domHandlers","nativeEventName","mountSingleDOMEventListener","mountGlobalDOMEventListeners","mount","nativeEventListener","capture","listenerOpts","domTarget","unmountDOMEventListeners","isPointerCapturing","globalHandlerScope","_globalHandlerScope","DOMHandlerScope","HandlerDomProxy","_localHandlerScope","handlerDomProxyProto","_default$r","HandlerProxy","useVML","painterCtors","instances","version$1","ZRender","getInstance","registerPainter","delInstance","rendererType","renderer","vml","handerProxy","_needsRefresh","oldDelFromStorage","oldAddToStorage","getId","zLevel","refreshImmediately","_needsRefreshHover","triggerRendered","refreshHoverImmediately","clearAnimation","version_1","init_1","dispose_1","getInstance_1","registerPainter_1","zrender","each$2","isObject$5","isArray$3","DUMMY_COMPONENT_NAME_PREFIX","normalizeToArray","defaultEmphasis","subOpts","emphasis","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","isDataItemOption","mappingToExists","exists","newCptOptions","exist","cptOption","option","isIdInner","makeIdAndName","mapResult","idMap","existCpt","keyInfo","idNum","isNameSpecified","componentModel","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","seriesId","dataIndices","dataIndex","otherDataIndices","lenj","isData","queryDataIndex","payload","dataIndexInside","indexOfRawIndex","indexOfName","makeInner","innerUniqueIndex","hostObj","parseFinder","ecModel","finder","defaultMainType","has$2","parsedKey","mainType","queryType","includeMainTypes","queryParam","models","queryComponents","getAttribute","getTooltipRenderMode","renderModeOption","groupData","getKey","buckets","normalizeToArray_1","defaultEmphasis_1","TEXT_STYLE_OPTIONS_1","getDataItemValue_1","isDataItemOption_1","mappingToExists_1","makeIdAndName_1","isNameSpecified_1","isIdInner_1","compressBatches_1","queryDataIndex_1","makeInner_1","parseFinder_1","setAttribute_1","getAttribute_1","getTooltipRenderMode_1","groupData_1","model","TYPE_DELIMITER","IS_CONTAINER","parseClassType","componentType","main","checkClassType","enableClassExtend","RootClass","mandatoryMethods","$constructor","ExtendedClass","superCall","superApply","classBase","enableClassCheck","Clz","classAttr","isInstance","methodName","enableClassManagement","entity","makeContainer","registerClass","Clazz","getClass","componentMainType","subType","throwWhenNotFound","getClassesByMainType","hasClass","getAllClassMainTypes","types","hasSubTypes","registerWhenExtend","originalExtend","setReadOnly","parseClassType_1","enableClassExtend_1","enableClassCheck_1","enableClassManagement_1","setReadOnly_1","_default$s","excludes","getShallow","makeStyleMapper","getLineStyle","_default$t","getLineDash","lineType","dotSize","dashSize","lineStyle","getAreaStyle","_default$u","areaStyle","v2Create","v2DistSquare","mathPow","mathSqrt","EPSILON$1","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","isNotAroundZero$1","cubicAt","onet","cubicDerivativeAt","cubicRootAt","t1","disc","K","discSqrt","Y1","Y2","T","theta","acos","ASqrt","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","y3","d1","d2","Infinity","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","cubicAt_1","cubicDerivativeAt_1","cubicRootAt_1","cubicExtrema_1","cubicSubdivide_1","cubicProjectPoint_1","quadraticAt_1","quadraticDerivativeAt_1","quadraticRootAt_1","quadraticExtremum_1","quadraticSubdivide_1","quadraticProjectPoint_1","curve","mathMin$1","mathMax$1","mathSin","mathCos","PI2","extremity","fromPoints","fromLine","xDim","yDim","fromCubic","fromQuadratic","tx","ty","fromArc","rx","ry","startAngle","endAngle","anticlockwise","vec2Min","vec2Max","diff","angle","fromPoints_1","fromLine_1","fromCubic_1","fromQuadratic_1","fromArc_1","bbox","dpr$1","CMD","M","Q","Z","min$4","max$3","min2","max2","mathMin$2","mathMax$2","mathCos$1","mathSin$1","mathSqrt$1","mathAbs","hasTypedArray","PathProxy","notSaveData","_saveData","_xi","_yi","_x0","_y0","_ux","_uy","_lineDash","_dashOffset","_dashIdx","_dashSum","setScale","segmentIgnoreThreshold","addData","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","cx","cy","arcTo","radius","toStatic","setLineDash","lineDashSum","setLineDashOffset","setData","appendPath","appendSize","appendPathData","cmd","_expandData","_prevCmd","newData","dash","dashSum","nDash","bezierLen","tmpLen","MAX_VALUE","xi","yi","rebuildPath","ux","uy","dTheta","psi","fs","scaleX","scaleY","isEllipse","_default$v","PathProxy_1","containStroke","_l","_a","_b","_s","containStroke_1","containStroke$1","containStroke_1$1","cubic","quadraticProjectPoint$1","containStroke$2","containStroke_1$2","quadratic","PI2$1","normalizeRadian","normalizeRadian_1","util$1","normalizeRadian$1","PI2$2","containStroke$3","containStroke_1$3","windingLine","dir","x_","windingLine_1","normalizeRadian$2","CMD$1","PI2$3","EPSILON$2","isAroundEqual","swapExtrema","windingCubic","nRoots","y0_","y1_","nExtrema","unit","windingQuadratic","y_","windingArc","containPath","isStroke","pathData","containStroke$4","contain_1","containStroke_1$4","path$1","pathProxyForDraw","Path","__dirtyPath","strokeContainThreshold","subPixelOptimize","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","_fillGradient","_strokeGradient","ctxLineDash","shapeCfg","inBundle","createPathProxy","needsUpdateRect","rectWithStroke","_rectWithStroke","lineScale","localPos","dirtyPath","animateShape","setShape","Sub","defaultShape","thisShape","_default$w","Path_1","v2ApplyTransform$1","CMD$2","mathSqrt$2","mathAtan2","_default$x","nPoint","transformPath","mathSqrt$3","mathSin$2","mathCos$2","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","createPathProxyFromString","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","ctlPtx","ctlPty","createPathOptions","pathProxy","createFromString","extendFromString","mergePath","pathEls","pathList","pathEl","pathBundle","createFromString_1","extendFromString_1","mergePath_1","path$2","ContextCachedBy$3","Text","shadowColor","text$2","_default$y","Text_1","_default$z","Circle","shadowTemp","_default$A","orignalBrush","modified","fixClipWithShadow","_default$B","r0","clockwise","unitX","unitY","Sector","_default$C","Ring","v2Distance","interpolate","_default$D","isLoop","segs","w2","w3","smoothSpline","v2Min","v2Max","v2Scale","v2Distance$1","v2Add","v2Clone","v2Sub","_default$E","smooth","constraint","prevPoint","nextPoint","cps","point","d0","cp0","cp1","smoothBezier","buildPath$1","controlPoints","smoothConstraint","cp2","buildPath_1$1","poly","_default$F","Polygon","_default$G","Polyline","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originX","originY","originWidth","originHeight","positiveOrNegative","doubledPosition","subPixelOptimizeLine_1","subPixelOptimizeRect_1","subPixelOptimize_2","subPixelOptimize_1","subPixelOptimizeRect$1","subPixelOptimizeOutputShape","_default$H","Rect","subPixelOptimizeLine$1","subPixelOptimizeOutputShape$1","_default$I","pointAt","Line","quadraticSubdivide$1","cubicSubdivide$1","quadraticAt$1","cubicAt$1","quadraticDerivativeAt$1","cubicDerivativeAt$1","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","_default$J","tangentAt","BezierCurve","_default$K","Arc","_default$L","paths","_updatePathDirty","CompoundPath","Gradient","_default$M","Gradient_1","LinearGradient","globalCoord","_default$N","LinearGradient_1","RadialGradient","_default$O","RadialGradient_1","inherits$1","IncrementalDisplayble","_displayables","_temporaryDisplayables","_cursor","clearDisplaybles","addDisplayable","notPersistent","addDisplayables","displayables","eachPendingDisplayable","_default$P","IncrementalDisplayable","Image$2","Group_1$1","Text_1$1","Circle_1","Sector_1","Ring_1","Polygon_1","Polyline_1","Rect_1","Line_1","BezierCurve_1","Arc_1","CompoundPath_1","LinearGradient_1$1","RadialGradient_1$1","BoundingRect_1$1","IncrementalDisplayable_1","mathMax$3","mathMin$3","EMPTY_OBJ","Z2_EMPHASIS_LIFT","CACHED_LABEL_STYLE_PROPERTIES","EMPHASIS","NORMAL","_highlightNextDigit","_highlightKeyMap","_customShapeMap","extendShape","extendPath","registerShape","ShapeClass","getShapeClass","makePath","centerGraphic","resizePath","makeImage","imageUrl","img","boundingRect","mergePath$1","pathRect","subPixelOptimizeLine$2","subPixelOptimizeRect$2","subPixelOptimize$1","hasFillOrStroke","fillOrStroke","liftedColorMap","liftedColorCount","liftColor","color$1","liftedColor","cacheElementStl","__hoverStlDirty","__hoverStl","normalStyle","__cachedNormalStl","__cachedNormalZ2","elStyle","singleEnterEmphasis","hoverStl","__highlighted","useHoverLayer","targetStyle","rollbackDefaultTextStyle","setDefaultHoverFillStroke","applyDefaultTextStyle","singleEnterNormal","highlighted","normalStl","normalZ2","traverseUpdate","updater","commonParam","fromState","toState","__highDownOnUpdate","setElementHoverStyle","onElementMouseOver","shouldSilent","__highByOuter","onElementMouseOut","onElementEmphasisEvent","highlightDigit","onElementNormalEvent","__highDownSilentOnTouch","setHoverStyle","setAsHighDownDispatcher","asDispatcher","disable","highDownSilentOnTouch","highDownOnUpdate","__highDownDispatcher","isHighDownDispatcher","getHighlightDigit","highlightKey","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","baseText","labelFetcher","labelDataIndex","labelDimIndex","labelProp","showNormal","showEmphasis","getFormattedLabel","defaultText","normalStyleText","emphasisStyleText","setTextStyle","modifyLabelStyle","normalStyleProps","emphasisStyleProps","textStyle","textStyleModel","specifiedTextStyle","isEmphasis","setTextStyleCommon","setText","labelModel","defaultColor","isRectText","autoColor","getTextPosition","labelRotate","richResult","globalTextStyle","richItemNames","getRichItemNames","richTextStyle","getModel","setTokenTextStyle","forceRich","richItemNameMap","parentModel","isBlock","getAutoColor","insideRollbackOpt","disableBox","insideRollback","useInsideStyle","useInsideStyleCache","useAutoColorCache","getFont","gTextStyleModel","animateOrSetProps","isUpdate","animatableModel","animationEnabled","isAnimationEnabled","duration","animationEasing","animationDelay","getAnimationDelayParams","updateProps","initProps","getTransform","ancestor","mat","applyTransform$1","transformDirection","direction","hBase","vBase","vertex","groupTransition","g1","g2","elMap1","getElMap","anid","oldEl","newProp","getAnimatableProps","elMap","clipPointsByRect","clipRectByRect","targetRect","createIcon","iconStr","linePolygonIntersect","a1x","a1y","a2x","a2y","lineLineIntersect","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","crossProduct2d","nearZero","b1a1x","b1a1y","q","Z2_EMPHASIS_LIFT_1","CACHED_LABEL_STYLE_PROPERTIES_1","extendShape_1","extendPath_1","registerShape_1","getShapeClass_1","makePath_1","makeImage_1","mergePath_1$1","resizePath_1","subPixelOptimizeLine_1$1","subPixelOptimizeRect_1$1","subPixelOptimize_1$1","setElementHoverStyle_1","setHoverStyle_1","setAsHighDownDispatcher_1","isHighDownDispatcher_1","getHighlightDigit_1","setLabelStyle_1","modifyLabelStyle_1","setTextStyle_1","setText_1","getFont_1","updateProps_1","initProps_1","getTransform_1","applyTransform_1$1","transformDirection_1","groupTransition_1","clipPointsByRect_1","clipRectByRect_1","createIcon_1","linePolygonIntersect_1","lineLineIntersect_1","graphic","PATH_COLOR","_default$Q","getTextColor","getTextRect","getItemStyle","_default$R","getBorderLineDash","itemStyle","makeInner$1","enableClassExtend$1","enableClassCheck$1","mixin$1","inner","Model","doGet","getParent","getParentMethod","mergeOption","ignoreParent","parsePath","thisParentModel","isEmpty","restoreData","customizeGetParent","_default$S","Model_1","parseClassType$1","getUID","enableSubTypeDefaulter","subTypeDefaulters","registerSubTypeDefaulter","defaulter","determineSubType","componentTypeMain","enableTopologicalTravel","dependencyGetter","makeDepndencyGraph","fullNameList","graph","noEntryList","thisItem","createDependencyGraphItem","originalDeps","availableDeps","getAvailableDependencies","entryCount","dependentName","predecessor","thatItem","successor","dep","topologicalTravel","targetNameList","targetNameSet","currComponentType","currVertex","isInTargetNameSet","removeEdgeAndAdd","removeEdge","succComponentType","getUID_1","enableSubTypeDefaulter_1","enableTopologicalTravel_1","RADIAN_EPSILON","_trim","linearMap","clamp","subDomain","subRange","parsePercent$1","round$1","returnStr","asc","getPrecision","getPrecisionSafe","eIndex","dotIndex","getPixelPrecision","dataExtent","pixelExtent","LN10","dataQuantity","sizeQuantity","getPercentWithPrecision","valueList","acc","votesPerQuota","targetSeats","seats","votes","currentSum","NEGATIVE_INFINITY","maxId","MAX_SAFE_INTEGER$2","remRadian","radian","pi2","isRadianAroundZero","TIME_REG","parseDate","hour","UTC","quantity","quantityExponent","exp","nice","nf","exponent","exp10","quantile","ascArr","reformIntervals","littleThan","curr","currClose","lg","isNumeric","linearMap_1","parsePercent_1$1","round_1","asc_1","getPrecision_1","getPrecisionSafe_1","getPixelPrecision_1","getPercentWithPrecision_1","MAX_SAFE_INTEGER_1","remRadian_1","isRadianAroundZero_1","parseDate_1","quantity_1","quantityExponent_1","nice_1","quantile_1","reformIntervals_1","isNumeric_1","addCommas","toCamelCase","upperCaseFirst","group1","normalizeCssArray$2","replaceReg","replaceMap","'","encodeHTML","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","formatTpl","tpl","paramsList","encode","seriesLen","$vars","alias","formatTplSimple","getTooltipMarker","extraCssText","renderMode","markerId","pad","formatTime","isUTC","date","utc","capitalFirst","truncateText$1","getTextBoundingRect","windowOpen","blank","opener","addCommas_1","toCamelCase_1","normalizeCssArray_1$1","encodeHTML_1","formatTpl_1","formatTplSimple_1","getTooltipMarker_1","formatTime_1","capitalFirst_1","truncateText_1$1","getTextBoundingRect_1","getTextRect_1","windowOpen_1","format$1","parsePercent$2","each$3","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","group","maxWidth","maxHeight","currentLineMaxSize","nextX","nextY","nextChild","nextChildRect","moveX","newline","moveY","vbox","hbox","getAvailableSize","positionInfo","containerRect","margin","containerHeight","getLayoutRect","verticalMargin","horizontalMargin","positionElement","hv","boundingMode","elPos","sizeCalculable","hvIdx","mergeLayoutParam","targetOption","newOption","ignoreSize","hResult","vResult","newParams","newValueCount","merged","mergedValueCount","enoughParamNumber","hasProp","hasValue","getLayoutParams","copyLayoutParams","LOCATION_PARAMS_1","HV_NAMES_1","box_1","vbox_1","hbox_1","getAvailableSize_1","getLayoutRect_1","positionElement_1","sizeCalculable_1","mergeLayoutParam_1","getLayoutParams_1","copyLayoutParams_1","_default$T","getBoxLayoutParams","boxLayout$1","enableClassManagement$1","parseClassType$2","makeInner$2","inner$1","ComponentModel","componentIndex","defaultOption","dependentModels","layoutMode","extraOpt","mergeDefaultAndTheme","inputPositionParams","themeModel","getTheme","getDefaultOption","optionUpdated","newCptOption","isInit","fields","optList","Class","getReferringComponents","getDependencies","deps","dependencies","unshift","_default$U","Component","platform","_default$V","gradientColor","blendMode","animationDuration","animationDurationUpdate","animationEasingUpdate","animationThreshold","progressiveThreshold","hoverLayerThreshold","useUTC","globalDefault","makeInner$3","normalizeToArray$1","inner$2","getNearestColorPalette","requestColorNum","paletteNum","_default$W","clearColorPalette","colorIdx","colorNameMap","getColorFromPalette","scopeFields","defaultColorPalette","layeredColorPalette","colorPalette","SOURCE_FORMAT_ORIGINAL","SOURCE_FORMAT_ARRAY_ROWS","SOURCE_FORMAT_OBJECT_ROWS","SOURCE_FORMAT_KEYED_COLUMNS","SOURCE_FORMAT_UNKNOWN","SOURCE_FORMAT_TYPED_ARRAY","SERIES_LAYOUT_BY_COLUMN","SERIES_LAYOUT_BY_ROW","SOURCE_FORMAT_ORIGINAL_1","SOURCE_FORMAT_ARRAY_ROWS_1","SOURCE_FORMAT_OBJECT_ROWS_1","SOURCE_FORMAT_KEYED_COLUMNS_1","SOURCE_FORMAT_UNKNOWN_1","SOURCE_FORMAT_TYPED_ARRAY_1","SERIES_LAYOUT_BY_COLUMN_1","SERIES_LAYOUT_BY_ROW_1","sourceType","createHashMap$1","isTypedArray$1","enableClassCheck$2","SOURCE_FORMAT_ORIGINAL$1","SERIES_LAYOUT_BY_COLUMN$1","SOURCE_FORMAT_UNKNOWN$1","SOURCE_FORMAT_TYPED_ARRAY$1","SOURCE_FORMAT_KEYED_COLUMNS$1","Source","fromDataset","sourceFormat","seriesLayoutBy","dimensionsDefine","encodeDefine","startIndex","dimensionsDetectCount","seriesDataToSource","_default$X","Source_1","makeInner$4","getDataItemValue$1","createHashMap$2","each$4","map$1","isArray$4","isString$4","isObject$6","isTypedArray$2","isArrayLike$3","extend$4","SOURCE_FORMAT_ORIGINAL$2","SOURCE_FORMAT_ARRAY_ROWS$1","SOURCE_FORMAT_OBJECT_ROWS$1","SOURCE_FORMAT_KEYED_COLUMNS$2","SOURCE_FORMAT_UNKNOWN$2","SOURCE_FORMAT_TYPED_ARRAY$2","SERIES_LAYOUT_BY_ROW$1","BE_ORDINAL","Must","Might","Not","inner$3","detectSourceFormat","datasetModel","getSource","seriesModel","resetSourceDefaulter","datasetMap","prepareSource","seriesOption","sourceHeader","dimensions","getDatasetModel","datasetOption","completeResult","completeBySourceData","normalizeDimensionsDefine","arrayRowsTravelFirst","objectRowsCollectDimensions","colArr","nameMap","displayName","maxLoop","firstIndex","makeSeriesEncodeForAxisCoordSys","coordDimensions","baseCategoryDimIndex","categoryWayValueDimStart","encodeItemName","encodeSeriesName","coordDimInfo","coordDimIdx","getDataDimCountOnCoordDim","datasetRecord","categoryWayDim","valueWayDim","pushDim","dimIdxArr","idxFrom","idxCount","dimsDef","coordDimName","itemName","seriesName","makeSeriesEncodeForNameBased","dimCount","potentialNameDimIndex","dim","idxResult","idxRes0","idxRes1","guessRecords","guessResult","doGuessOrdinal","isPureNumber","nameDimIndex","thisData","getComponent","datasetIndex","guessOrdinal","dimIndex","dimName","dimType","dimDefItem","sample","detectValue","row","beStr","BE_ORDINAL_1","detectSourceFormat_1","getSource_1","resetSourceDefaulter_1","prepareSource_1","makeSeriesEncodeForAxisCoordSys_1","makeSeriesEncodeForNameBased_1","guessOrdinal_1","sourceHelper","each$5","filter$1","map$2","isArray$5","indexOf$3","isObject$7","isString$5","createHashMap$3","assert$1","clone$4","merge$1","extend$5","mixin$2","resetSourceDefaulter$1","OPTION_INNER_KEY","GlobalModel","optionManager","_theme","_optionManager","setOption","optionPreprocessorFuncs","resetOption","optionChanged","baseOption","mountOption","initBase","timelineOption","getTimelineOption","mediaOptions","getMediaOption","_api","mediaOption","componentsMap","_componentsMap","newCptTypes","visitComponent","newCptOptionList","getComponentsByTypes","resultItem","ComponentModelClass","createSeriesIndices","componentOption","_seriesIndicesMap","_seriesIndices","getOption","cpts","isIdArray","cpt","isNameArray","filterBySubType","findComponents","queryCond","getQueryCond","doFilter","indexAttr","idAttr","nameAttr","eachComponent","queryResult","getSeriesByName","series","oneSeries","getSeriesByIndex","seriesIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","rawSeriesIndex","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","getCurrentSeriesIndices","filterSeries","filteredSeries","componentTypes","isNotTargetSeries","seiresIndex","mergeTheme","notMergeColorLayer","colorLayer","themeItem","existComponent","seriesModels","_default$Y","Global","echartsAPIList","ExtensionAPI","chartInstance","_default$Z","ExtensionAPI_1","coordinateSystemCreators","CoordinateSystemManager","_coordinateSystems","api","coordinateSystems","creater","coordSys","getCoordinateSystems","coordinateSystemCreator","_default$_","CoordinateSystem","each$6","clone$5","map$3","merge$2","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_mediaDefault","_currentMediaIndices","_optionBackup","_newBaseOption","parseRawOption","rawOption","isNew","mediaDefault","timelineOptions","mediaList","timelineOpt","timeline","media","singleMedia","preProcess","applyMediaQuery","ecWidth","ecHeight","realMap","aspectratio","applicatable","matched","operator","realAttr","real","expect","indicesEquals","indices1","indices2","oldOption","newCptOpt","oldCptOpt","oldOptionBackup","newParsedOption","isRecreate","optionBackup","timelineModel","getCurrentIndex","indices","_default$$","OptionManager_1","each$7","isObject$8","POSSIBLE_STYLES","compatEC2ItemStyle","itemStyleOpt","normalItemStyleOpt","normal","emphasisItemStyleOpt","convertNormalEmphasis","optType","useExtend","normalOpt","emphasisOpt","removeEC3NormalStatus","compatTextStyle","labelOptSingle","compatEC3CommonStyles","processSeries","seriesOpt","markPoint","markLine","markArea","nodes","edgeData","links","edges","categories","mpData","mlData","breadcrumb","levels","leaves","toArr","toObj","_default$10","isTheme","axes","axisName","axisOpt","axisPointer","parallel","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","geo","geoOpt","regions","regionObj","toolbox","toolboxOpt","featureOpt","tooltip","compatStyle","each$8","isArray$6","isObject$9","normalizeToArray$2","get$2","set$4","compatLayoutProperties","LAYOUT_PROPERTIES","COMPATITABLE_COMPONENTS","_default$11","seriesType","clipOverflow","clockWise","pointerColor","dataRange","visualMap","componentName","backwardCompat","createHashMap$4","each$9","_default$12","stackInfoMap","stackInfoList","getData","stackInfo","stackResultDimension","getCalculationInfo","stackedOverDimension","stackedDimension","stackedByDimension","isStackedByIndex","setCalculationInfo","calculateStack","targetStackInfo","idxInStack","resultVal","resultNaN","dims","targetData","byValue","stackedDataRawIndex","getRawIndex","stackedOver","rawIndexOf","getByRawIndex","hostModel","dataStack","extend$6","each$a","isObject$a","getDataItemValue$2","isDataItemOption$1","parseDate$1","SOURCE_FORMAT_TYPED_ARRAY$3","SOURCE_FORMAT_ARRAY_ROWS$2","SOURCE_FORMAT_ORIGINAL$3","SOURCE_FORMAT_OBJECT_ROWS$2","DefaultDataProvider","dimSize","_source","_data","_offset","_dimSize","providerMethods","providerProto","pure","persistent","appendData","appendDataSimply","countSimply","getItemSimply","col","newCol","oldCol","clean","rawValueGetters","arrayRows","getRawValueSimply","objectRows","keyedColumns","original","typedArray","defaultDimValueGetters","getDimValueSimply","converDataValue","_dimensionInfos","_rawData","hasItemOption","dimInfo","ordinalMeta","parseAndCollect","retrieveRawValue","getRawDataItem","getProvider","getDimensionInfo","retrieveRawAttr","DefaultDataProvider_1","defaultDimValueGetters_1","retrieveRawValue_1","retrieveRawAttr_1","dataProvider","retrieveRawValue$1","getTooltipMarker$1","formatTpl$1","getTooltipRenderMode$1","DIMENSION_LABEL_REG","_default$13","getDataParams","dataType","rawValue","getRawValue","rawDataIndex","getName","itemOpt","getItemVisual","tooltipModel","isSeries","userOutput","componentSubType","dimensionNames","itemModel","getItemModel","dimensionIndex","formatTooltip","dataFormat","isArray$7","createTask","define","Task","_reset","_plan","plan","_count","_onDirty","onDirty","_dirty","taskProto","performArgs","planResult","upTask","_upstream","skip","outputData","__pipeline","currentTask","forceFirstProgress","lastModBy","normalizeModBy","_modBy","lastModDataCount","_modDataCount","modBy","modDataCount","_dueEnd","_outputDueEnd","_progress","_dueIndex","progress","doProgress","outputDueEnd","_settedOutputEnd","unfinished","current","winCount","sStep","sCount","modNext","sequentialNext","taskIns","_callingProgress","downstream","_downstream","pipe","downTask","_disposed","getUpstream","getDownstream","setOutputEnd","createTask_1","task$2","formatTime$1","encodeHTML$1","addCommas$1","getTooltipMarker$2","getLayoutParams$1","mergeLayoutParam$1","createTask$1","prepareSource$1","getSource$1","retrieveRawValue$2","inner$4","SeriesModel","coordinateSystem","legendVisualProvider","visualColorAccessPath","visualBorderColorAccessPath","dataTask","dataTaskCount","dataTaskReset","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","themeSubType","fillDataTextStyle","newSeriesOption","getRawData","getCurrentTask","getLinkedData","modifyOutputEnd","getBaseAxis","multipleSeries","newLine","isRichText","formatArrayValue","vertially","dimItem","setEachItem","otherDims","markName","dimHead","dimHeadStr","valStr","tooltipDims","formatSingleValue","mapDimension","tooltipDimLen","isValueArr","formattedValue","colorEl","coordDimToDataDim","coordDim","getProgressive","getProgressiveThreshold","getAxisTooltipData","getTooltipPosition","pipeTask","preventIncremental","pipelineContext","getSeriesAutoName","dataDims","nameArr","dataDim","cloneShallow","dataTaskProgress","CHANGABLE_METHODS","wrapMethod","onDataSelfChange","scheduler","pipeline","getPipeline","agentStubMap","_default$14","Series","Component$1","filterForExposedEvent","componentProto","updateView","updateLayout","updateVisual","_default$15","Component_1","makeInner$5","_default$16","originalLarge","large","originalProgressive","progressiveRender","createRenderPlanner","each$b","createTask$2","inner$5","renderPlanner","Chart","renderTask","renderTaskPlan","renderTaskReset","view","highlight","toggleHighlight","downplay","incrementalPrepareRender","incrementalRender","chartProto","elSetState","dataIdx","getItemGraphicEl","eachItemGraphicEl","updateMethod","progressMethodMap","markUpdateMethod","_default$17","Chart_1","ORIGIN_METHOD","RATE","THROTTLE_TYPE","throttle$1","currCall","debounceNextCall","lastCall","lastExec","thisDelay","thisDebounce","debounceDelay","createOrUpdate","fnAttr","rate","throttleType","originFn","lastThrottleType","lastRate","clear$1","throttle_2","createOrUpdate_1","clear_1","throttle_1","isFunction$3","_default$18","createOnAllSeries","performRawSeries","colorAccessPath","colorCallback","setVisual","borderColorAccessPath","setItemVisual","dataEach","seriesColor","_default$19","legend","selector","polygon","lineX","lineY","keep","dataView","lang","dataZoom","back","magicType","bar","tiled","saveAsImage","typeNames","pie","scatter","effectScatter","tree","treemap","boxplot","candlestick","heatmap","sankey","funnel","gauge","pictorialBar","themeRiver","sunburst","aria","general","withTitle","withoutTitle","single","prefix","withName","withoutName","multiple","allData","partialData","retrieveRawValue$3","_default$1a","ariaModel","seriesCnt","ariaLabel","maxDataCnt","maxSeriesCnt","displaySeriesCnt","getTitle","getConfig","seriesLabels","seriesCount","seriesLabel","seriesTpl","getSeriesTypeName","displayCnt","dataLabels","keyValues","userConfig","PI$1","_default$1b","textColor","maskColor","showSpinner","spinnerRadius","mask","labelRect","lineCap","_default_1","each$c","map$4","isFunction$4","createHashMap$5","noop$2","createTask$3","getUID$1","normalizeToArray$3","Scheduler","ecInstance","dataProcessorHandlers","visualHandlers","_dataProcessorHandlers","_visualHandlers","_allHandlers","_stageTaskMap","performStageTasks","stageHandlers","needSetDirty","setDirty","dirtyMap","stageHandler","visualType","stageHandlerRecord","seriesTaskMap","overallTask","overallNeedDirty","stub","updatePayload","getPerformArgs","pipelineId","taskRecord","_pipelineMap","pCtx","progressiveEnabled","__idxInPipeline","blockIndex","updateStreamModes","dataLen","threshold","restorePipelines","pipelineMap","prepareStageTasks","stageTaskMap","record","createSeriesStageTask","overallReset","createOverallStageTask","prepareView","__block","performDataProcessorTasks","performVisualTasks","performSeriesTasks","getTargetSeries","seriesTaskPlan","seriesTaskReset","seriesTaskCount","useClearVisual","isVisual","isLayout","overallTaskReset","overallProgress","createStub","stubReset","stubOnDirty","agent","upstreamContext","stubProgress","clearAllVisual","resetDefines","makeSeriesTaskProgress","singleSeriesTaskProgress","resetDefineIdx","resetDefine","detectSeriseType","legacyFunc","ecModelMock","apiMock","wrapStageHandler","mockMethods","cond","_default$1c","Scheduler_1","colorAll","_default$1d","light","contrastColor","axisCommon","axisLine","axisTick","axisLabel","splitLine","splitArea","colorPalette$1","crossStyle","iconStyle","controlStyle","timeAxis","logAxis","valueAxis","categoryAxis","color0","borderColor0","_default$1e","dark","detectSourceFormat$1","SERIES_LAYOUT_BY_COLUMN$2","_default$1f","ox","oy","Ellipse","createFromString$1","isString$6","extend$7","defaults$1","trim$3","each$d","DILIMITER_REG","parseXML","svg","parser","DOMParser","parseFromString","SVGParser","_defs","_root","_isDefine","_isText","xml","viewBox","parseAttributes","viewBoxRect","viewBoxTransform","_parseNode","viewBoxArr","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","xmlNode","parentGroup","defineParsers","def","nodeParsers","_parseText","_textX","_textY","textContent","inheritStyle","circle","ellipse","parsePoints","polyline","gradient","_parseGradientColorStops","stopColor","__inheritedStyle","pointsString","attributesMap","defs","onlyInlineStyle","zrStyle","isTextEl","parseTransformAttribute","parseStyleAttribute","svgAttrName","attrValue","elFillProp","elStrokeProp","getPaint","elPropName","urlRegex","urlMatch","transformRegex","transformOps","warn","styleRegex","styleRegResult","styleList","viewBoxScale","viewBoxPosition","parseSVG","parseXML_1","makeViewBoxTransform_1","parseSVG_2","parseSVG_1","createHashMap$6","isString$7","isArray$8","each$e","parseXML$1","_default$1g","registerMap","mapName","rawGeoJson","rawSpecialAreas","records","specialAreas","geoJson","features","parsers","retrieveMap","geoJSON","svgXML","mapDataStorage","defaultKeyGetter","DataDiffer","oldArr","newArr","oldKeyGetter","newKeyGetter","_old","_new","_oldKeyGetter","_newKeyGetter","initIndexMap","keyArr","keyGetterName","dataDiffer","existence","_add","_remove","execute","oldDataIndexMap","newDataIndexMap","oldDataKeyArr","newDataKeyArr","_default$1h","DataDiffer_1","each$f","createHashMap$7","OTHER_DIMENSIONS","summarizeDimensions","summary","notExtraCoordDimMap","defaultedLabel","defaultedTooltip","coordDimIndex","getOrCreateEncodeArr","isExtraCoord","mayLabelDimType","defaultTooltip","otherDim","encodeArr","dataDimsOnCoord","encodeFirstDimNotExtra","dimArr","encodeLabel","encodeTooltip","getDimensionTypeByAxis","axisType","OTHER_DIMENSIONS_1","summarizeDimensions_1","getDimensionTypeByAxis_1","dimensionHelper","DataDimensionInfo","_default$1i","DataDimensionInfo_1","defaultDimValueGetters$1","DefaultDataProvider$1","summarizeDimensions$1","isObject$b","UNDEFINED","INDEX_NOT_FOUND","ID_PREFIX","dataCtors","Float64Array","Int32Array","CtorUint32Array","Uint32Array","CtorInt32Array","CtorUint16Array","Uint16Array","getIndicesCtor","_rawCount","cloneChunk","originalChunk","TRANSFERABLE_PROPERTIES","CLONE_PROPERTIES","transferProperties","__wrappedMethods","_calculationInfo","List","dimensionInfos","invertedIndicesMap","dimensionInfo","dimensionName","createInvertedIndices","_indices","_storage","_nameList","_idList","_optionModels","_visual","_layout","_itemVisuals","hasItemVisual","_itemLayouts","_graphicEls","_chunkSize","_chunkCount","_rawExtent","_extent","_approximateExtent","_dimensionsSummary","_invertedIndicesMap","listProto","prepareChunks","chunkSize","chunkCount","DataCtor","lastChunkIndex","resizeChunkArray","newStore","prepareInvertedIndex","invertedIndices","getRawValueFromStore","rawIndex","chunkIndex","chunkOffset","chunk","getRawIndexWithoutIndices","getRawIndexWithIndices","_idDimIdx","normalizeDimensions","cloneListForMapAndSample","excludeDimensions","allDimensions","originalStorage","cloneDimStore","getInitialExtent","originalDimStore","newDimStore","getDimension","getDimensionsOnCoord","dimensionsSummary","initData","nameList","dimValueGetter","notProvider","_nameRepeatCount","defaultDimValueGetter","_dimValueGetter","_dimValueGetterArrayRows","_initDataFromProvider","rawData","appendValues","dimLen","rawExtent","originalChunkCount","emptyDataItem","sourceIdx","dimRawExtent","nameDimIdx","dimensionInfoMap","idList","nameRepeatCount","_nameDimIdx","itemId","dimStorage","nameDim","nameDimChunk","getIndices","thisCount","newIndices","buffer","chunkStore","rawIdx","dimStore","_getFast","getValues","getDataExtent","dimData","initialExtent","dimExtent","currEnd","useRaw","getApproximateExtent","setApproximateExtent","extent","getSum","getMedian","dimDataArray","sortedDimDataArray","indicesOfNearest","maxDistance","nearestIndices","minDist","minDiff","nearestIndicesLen","contextCompat","filterSelf","dim0","selectRange","originalCount","quickFinished","chunkStorage","dimStorage2","chunkStorage2","val2","dimk","mapArray","tmpRetValue","dataCount","retValue","rawExtentOnDim","downSample","dimension","sampleValue","sampleIndex","targetStorage","frameValues","frameSize","originalChunkIndex","originalChunkOffset","sampleFrameIdx","sampleChunkIndex","sampleChunkOffset","otherList","thisList","getVisual","visual","setLayout","getLayout","getItemLayout","setItemLayout","clearItemLayouts","itemVisual","setItemDataAndSeriesIndex","setItemGraphicEl","dimensionInfoList","injectFunction","originalMethod","TRANSFERABLE_METHODS","_default$1j","List_1","createHashMap$8","each$g","isString$8","defaults$2","extend$8","isObject$c","clone$6","normalizeToArray$4","guessOrdinal$1","BE_ORDINAL$1","OTHER_DIMENSIONS$1","completeDimensions","sysDims","dataDimNameMap","coordDimNameMap","getDimCount","userDimName","encodeDef","encodeDefaulter","validDataDims","resultDimIdx","applyDim","availDimIdx","sysDimItem","sysDimIndex","sysDimItemDimsDef","sysDimItemOtherDims","sysDimItemDimsDefItem","generateCoord","generateCoordCount","fromZero","genName","optDimCount","_default$1k","completeDimensions_1","_default$1l","dimensionsCount","createDimensions","createHashMap$9","each$h","CoordSysInfo","coordSysName","coordSysDims","axisMap","categoryAxisMap","firstCategoryDimIndex","getCoordSysInfoBySeries","fetchers","cartesian2d","xAxisModel","yAxisModel","isCategory","singleAxis","singleAxisModel","polar","polarModel","radiusAxisModel","findAxisModel","angleAxisModel","parallelModel","parallelAxisIndex","axisIndex","axisModel","axisDim","getCoordSysInfoBySeries_1","referHelper","each$i","isString$9","enableDataStack","stackedByDimInfo","stackedDimInfo","byIndex","stackedCoordDimension","mayStack","stackedDimCoordDim","stackedDimType","stackedDimCoordIndex","isCalculationCoord","isDimensionStacked","stackedDim","getStackedDimension","targetDim","enableDataStack_1","isDimensionStacked_1","getStackedDimension_1","dataStackHelper","SOURCE_FORMAT_ORIGINAL$4","getDimensionTypeByAxis$1","getDataItemValue$3","getCoordSysInfoBySeries$1","enableDataStack$1","makeSeriesEncodeForAxisCoordSys$1","createListFromArray","coordSysDimDefs","registeredCoordSys","coordSysInfo","getDimensionsInfo","hasNameEncode","dimInfoList","useEncodeDefaulter","categoryAxisModel","getOrdinalMeta","stackCalculationInfo","isNeedCompleteOrdinalData","sampleItem","firstDataNotNull","_default$1m","createListFromArray_1","Scale","setting","_setting","_interval","getSetting","unionExtent","unionExtentFromData","getExtent","setExtent","thisExtent","isBlank","_isBlank","setBlank","getLabel","_default$1n","Scale_1","createHashMap$a","isObject$d","map$5","OrdinalMeta","_needCollect","needCollect","_deduplication","deduplication","createByAxisModel","dedplication","proto$1","getOrCreateMap","getOrdinal","category","_default$1o","OrdinalMeta_1","scaleProto","OrdinalScale","_ordinalMeta","getTicks","ticks","niceTicks","niceExtent","_default$1p","Ordinal","roundNumber","intervalScaleNiceTicks","splitNumber","minInterval","maxInterval","intervalPrecision","getIntervalPrecision","niceTickExtent","fixExtent","intervalScaleNiceTicks_1","getIntervalPrecision_1","fixExtent_1","helper","roundNumber$1","IntervalScale","_intervalPrecision","getInterval","setInterval","_niceExtent","expandToNicedExtent","safeLimit","tick","lastNiceTick","getMinorTicks","minorTicks","prevTick","minorTicksGroup","minorInterval","minorTick","expandSize","fixMax","fixMin","_default$1q","Interval","parsePercent$3","isDimensionStacked$1","STACK_PREFIX","LARGE_BAR_MIN_WIDTH","LargeArr","getSeriesStackId","getAxisKey","axis","getLayoutOnAxis","baseAxis","axisKey","bandWidth","getBandWidth","stackId","widthAndOffsets","doCalBarWidthAndOffset","offsetCenter","prepareLayoutBarSeries","isOnCartesian","isInLargeMode","getValueAxesMinGaps","barSeries","axisValues","cartesian","cnt","axisMinGaps","valuesInAxis","makeColumnLayout","seriesInfoList","axisExtent","minGap","extentSpan","scaleSpan","barWidth","barMaxWidth","barMinWidth","barGap","barCategoryGap","columnsMap","seriesInfo","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","minWidth","barGapPercent","autoWidth","column","finalWidth","lastColumn","widthSum","retrieveColumnLayout","barWidthAndOffset","layout$1","lastStackCoords","columnLayoutInfo","columnOffset","columnWidth","getOtherAxis","barMinHeight","valueDim","baseDim","stacked","isValueAxisH","isHorizontal","valueAxisStart","getValueAxisStart","baseValue","sign","baseCoord","dataToPoint","largeLayout","coordLayout","grid","getRect","valueAxisHorizontal","valueDimIdx","largePoints","largeBackgroundPoints","largeDataIndices","valuePair","pointsOffset","idxOffset","backgroundStart","toGlobalCoord","dataToCoord","getLayoutOnAxis_1","prepareLayoutBarSeries_1","makeColumnLayout_1","retrieveColumnLayout_1","layout_1","largeLayout_1","barGrid","intervalScaleProto","mathCeil","mathFloor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","bisect","TimeScale","stepLvl","_stepLvl","getFullYear","getMonth","getDate","approxTickNum","approxInterval","scaleLevelsLen","scaleLevels","yearSpan","yearStep","timezoneOffset","getTimezoneOffset","scaleProto$1","intervalScaleProto$1","getPrecisionSafe$1","roundingErrorFix","mathFloor$1","mathCeil$1","mathPow$1","mathLog","LogScale","_originalScale","originalScale","originalExtent","powVal","__fixMin","fixRoundingError","__fixMax","err","originalVal","_default$1r","Log","prepareLayoutBarSeries$1","makeColumnLayout$1","retrieveColumnLayout$1","getScaleExtent","axisDataLen","boundaryGap","scaleType","getMin","getMax","getCategories","getNeedCrossZero","isBaseAxisAndHasBarSeries","barSeriesModels","adjustedScale","adjustScaleForOverflow","axisLength","barsOnCurrentAxis","minOverflow","maxOverflow","totalOverFlow","oldRange","oldRangePercentOfNew","overflowBuffer","niceScaleExtent","extentInfo","createScaleByModel","ifAxisCrossZero","makeLabelFormatter","labelFormatter","getLabelModel","categoryTickStart","tickValue","getAxisRawValue","estimateLabelUnionRect","realNumberScaleTicks","tickCount","categoryScaleExtent","axisLabelModel","unrotatedSingleRect","singleRect","rotateTextRect","rotateRadians","boundingBox","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","getOptionCategoryInterval","shouldShowAllLabels","getScaleExtent_1","niceScaleExtent_1","createScaleByModel_1","ifAxisCrossZero_1","makeLabelFormatter_1","getAxisRawValue_1","estimateLabelUnionRect_1","getOptionCategoryInterval_1","shouldShowAllLabels_1","axisHelper","_default$1s","rangeStart","rangeEnd","getCoordSysModel","setRange","resetRange","axisModelCommonMixin","calculateTextPosition$1","Triangle","Diamond","Pin","tanX","tanY","cpLen","cpLen2","Arrow","symbolCtors","square","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","symbolType","proxySymbol","symbolPathSetColor","innerColor","symbolStyle","symbolShape","__isEmptyBrush","createSymbol","keepAspect","symbolPath","setColor","createSymbol_1","getLayoutRect_1$1","enableDataStack$2","isDimensionStacked$2","getStackedDimension$1","completeDimensions$1","createDimensions$1","createSymbol$1","createList","dataStack$1","createScale","mixinAxisModelCommonMethods","createList_1","dataStack_1","createScale_1","mixinAxisModelCommonMethods_1","helper$1","EPSILON$3","isAroundEqual$1","contain$1","contain_1$1","Region","geometries","cp","MAX_NUMBER","exterior","loopGeo","interiors","transformTo","newRegion","_default$1t","Region_1","decode","json","UTF8Encoding","encodeScale","UTF8Scale","geometry","coordinates","encodeOffsets","coordinate","decodePolygon","c2","prevX","prevY","_default$1u","nameProperty","featureObj","region","parseGeoJson","makeInner$6","makeLabelFormatter$1","getOptionCategoryInterval$1","shouldShowAllLabels$1","inner$6","createAxisLabels","makeCategoryLabels","makeRealNumberLabels","createAxisTicks","tickModel","makeCategoryTicks","makeCategoryLabelsActually","labels","labelCategoryInterval","numericLabelInterval","labelsCache","getListCache","optionLabelInterval","listCacheGet","makeLabelsByCustomizedCategoryInterval","makeAutoCategoryInterval","makeLabelsByNumericCategoryInterval","listCacheSet","tickCategoryInterval","ticksCache","optionTickInterval","labelsResult","labelItem","formattedLabel","rawLabel","autoInterval","calculateCategoryInterval","fetchAutoCategoryIntervalCalculationParams","axisRotate","ordinalScale","ordinalExtent","unitSpan","unitW","unitH","maxW","maxH","dw","dh","lastAutoInterval","lastTickCount","axisExtend0","axisExtend1","getRotate","categoryInterval","onlyTick","startTick","showAllLabel","includeMinLabel","includeMaxLabel","addItem","tVal","createAxisLabels_1","createAxisTicks_1","calculateCategoryInterval_1","axisTickLabelBuilder","each$j","map$6","linearMap$1","getPixelPrecision$1","round$2","createAxisTicks$1","createAxisLabels$1","calculateCategoryInterval$1","NORMALIZED_EXTENT","Axis","onBand","fixExtentWithBands","nTick","fixOnBandTicksCoords","ticksCoords","alignWithLabel","ticksLen","diffSize","crossLen","ticksItem","containData","coordToData","pointToData","getTicksCoords","getTickModel","getMinorTicksCoords","minorTickModel","minorTicksCoords","getViewLabels","_default$1v","Axis_1","zrender_1","matrix_1","vector_1","number$1","format$2","throttle_1$1","helper$2","parseGeoJSON_1","List$1","Model$1","Axis$1","env$1","parseGeoJson$1","ecUtil","graphic$1","parseGeoJson_1","util$2","graphic_1","_export$1","parseGeoJSON","echarts","TEST_FRAME_REMAIN_TIME","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_SERIES_FILTER","PRIORITY_PROCESSOR_DATASTACK","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_PROGRESSIVE_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_POST_CHART_LAYOUT","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_BRUSH","PRIORITY","PROCESSOR","FILTER","SERIES_FILTER","STATISTIC","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","CHART","POST_CHART_LAYOUT","COMPONENT","BRUSH","IN_MAIN_PROCESS","OPTION_UPDATED","ACTION_REG","createRegisterEventWithLowercaseName","ignoreDisposed","disposedWarning","MessageCenter","ECharts","themeStorage","_dom","defaultRenderer","_zr","_throttledZrFlush","_chartsViews","_chartsMap","_componentsViews","_coordSysMgr","createExtensionAPI","prioritySortFunc","__prio","visualFuncs","dataProcessorFuncs","_scheduler","_ecEventProcessor","EventProcessor","_messageCenter","_initEvents","_pendingActions","_onframe","bindRenderedEvent","echartsProto","doConvertPixel","_model","coordSysList","prepare","updateMethods","flushPendingActions","triggerUpdatedEvent","remainTime","renderSeries","getDom","getZr","notMerge","lazyUpdate","setTheme","getDevicePixelRatio","getSvgDataURL","getDataURL","excludeComponents","excludesComponentViews","__viewId","getConnectedDataURL","isSvg","groupId","connectedGroups","canvasList","chart","getSvgDom","targetCanvas","getSvgRoot","connectedBackgroundColor","convertToPixel","convertFromPixel","containPixel","containPoint","getViewOfComponentModel","getViewOfSeriesModel","prepareAndUpdate","coordSysMgr","performPostUpdateFuncs","ecIns","componentDirtyList","componentView","__alive","seriesDirtyMap","chartView","updateDirectly","excludeSeriesId","callView","__model","chartsMap","doDispatchAction","payloadType","escapeConnect","actionWrap","actions","actionInfo","cptType","payloads","batched","batch","eventObj","eventObjBatch","isHighDown","batchItem","action","pendingActions","isComponent","viewList","viewMap","doPrepare","viewId","classType","__id","__ecComponentInfo","renderComponents","dirtyList","updateZ","updateBlend","updateHoverLayerStatus","postUpdateFuncs","_loadingFX","showLoading","cfg","hideLoading","loadingEffects","makeActionFromEvent","eventActionMap","dispatchAction","MOUSE_EVENT_NAMES","elCount","preventUsingHoverLayer","getComponentByElement","modelInfo","eventInfo","eveName","isGlobalOut","dataModel","eventData","targetEl","packedEvent","actionType","isDisposed","DOM_ATTRIBUTE_KEY","cptQuery","dataQuery","otherQuery","condCptType","suffixes","dataKeys","reserved","propSuffix","suffixPos","propOnHost","idBase","groupIdBase","enableConnect","STATUS_PENDING","STATUS_UPDATING","STATUS_UPDATED","STATUS_KEY","updateConnectedChartsStatus","charts","otherChart","otherCharts","existInstance","getInstanceByDom","connect","disConnect","disconnect","getInstanceById","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processor","normalizeRegister","registerPostUpdate","postUpdateFunc","registerAction","registerCoordinateSystem","CoordinateSystem$1","getCoordinateSystemDimensions","coordSysCreator","registerLayout","layoutTask","registerVisual","visualTask","targetList","defaultPriority","__raw","registerLoading","loadingFx","extendComponentModel","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","getMap","dataTool","retrieveRawValue$4","legendHoverLink","hoverAnimation","smoothMonotone","symbolSize","symbolRotate","showSymbol","showAllSymbol","connectNulls","sampling","getDefaultLabel","labelDims","vals","getDefaultLabel_1","labelHelper","createSymbol$2","parsePercent$4","getDefaultLabel$1","SymbolClz$1","seriesScope","updateData","symbolProto","getSymbolSize","getScale","driftSymbol","_createSymbol","_symbolType","stopSymbolAnimation","toLastFrame","getSymbolPath","setZ","setDraggable","_updateCommon","fadeIn","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","__symbolOriginalScale","ratio","hoverItemStyle","symbolOffset","hoverLabelModel","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","getLabelDefaultText","fadeOut","keepLabel","_default$1x","_Symbol","isObject$e","SymbolDraw","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","isIgnore","clipShape","normalizeUpdateOpt","makeSeriesScope","oldData","SymbolCtor","newIdx","symbolEl","oldIdx","isPersistent","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","enableAnimation","_default$1y","SymbolDraw_1","isDimensionStacked$3","map$7","prepareDataCoordInfo","valueOrigin","valueStart","getValueStart","baseAxisDim","valueAxisDim","baseDataOffset","stackResultDim","dataDimsForPoint","getStackedOnPoint","dataCoordInfo","stackedData","prepareDataCoordInfo_1","getStackedOnPoint_1","helper$3","prepareDataCoordInfo$1","getStackedOnPoint$1","diffData","diffResult","idx1","_default$1z","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","pointAdded","currentPt","nextPt","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","stackedOnCurrent","stackedOnNext","lineAnimationDiff","scaleAndAdd$1","v2Copy","isPointNull","drawSegment","segLen","allLen","smoothMin","smoothMax","drawMono","drawNonMono","prevIdx","prevP","ctrlLen","nextIdx","nextP","ratioNextSeg","lenPrevSeg","lenNextSeg","getBoundingBox","ptMin","ptMax","pt","Polyline$1","Polygon$1","stackedOnPoints","stackedOnSmooth","stackedOnBBox","Polyline_1$1","Polygon_1$1","poly$1","round$3","createGridClipPath","hasAnimation","getArea","createPolarClipPath","sectorArea","createClipPath","createGridClipPath_1","createPolarClipPath_1","createClipPath_1","createClipPathFromCoordSys","fromPoints$1","Polyline$2","Polygon$2","prepareDataCoordInfo$2","getStackedOnPoint$2","createGridClipPath$1","createPolarClipPath$1","isPointsSame","points1","points2","getBoundingDiff","min1","max1","getSmooth","getStackedOnPoints","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","stepPt2","getVisualGradient","visualMetaList","visualMeta","getAxis","stops","stopLen","outerColors","tinyExtent","minCoord","maxCoord","coordSpan","getIsIgnoreFunc","isAuto","getAxesByScale","canShowAllSymbolForCategory","categoryDataDim","labelMap","availSize","createLineClipPath","rectShape","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","areaStyleModel","isCoordSysPolar","prevCoordSys","_coordSys","_polyline","_polygon","isAreaChart","isIgnoreFunc","__temp","clipShapeForSymbol","_clipShapeForSymbol","_step","_newPolygon","_stackedOnPoints","_points","_updateAnimation","_newPolyline","visualColor","lineJoin","stackedOnSeries","_valueOrigin","__points","updatedDataInfo","diffStatus","ptIdx","isFunction$5","_default$1B","defaultSymbolType","legendSymbol","hasSymbolTypeCallback","hasSymbolSizeCallback","hasSymbolRotateCallback","hasCallback","seriesSymbol","seriesSymbolSize","symbolKeepAspect","itemSymbolType","itemSymbolSize","itemSymbolRotate","itemSymbolKeepAspect","symbol$1","map$8","isDimensionStacked$4","_default$1C","isLargeRender","segCount","tmpIn","tmpOut","points$1","samplers","average","nearest","indexSampler","_default$1D","sampler","dataSample","dimAxisMapper","_axes","Cartesian","_dimList","getAxes","addAxis","_dataCoordConvert","dimList","_default$1E","Cartesian_1","Cartesian2D","axisX","axisY","toLocalCoord","xAxis","yAxis","clampData","xScale","yScale","xAxisExtent","yAxisExtent","xExtent","getGlobalExtent","yExtent","_default$1F","Cartesian2D_1","Axis2D","coordExtent","getAxesOnZeroOf","_default$1G","Axis2D_1","nameLocation","nameRotate","nameTruncate","nameTextStyle","nameGap","triggerEvent","onZero","onZeroAxisIndex","inside","showMinLabel","showMaxLabel","axisDefault","minorSplitLine","logBase","_default$1H","axisDefault_1","getLayoutParams$2","mergeLayoutParam$2","AXIS_TYPES","_default$1I","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","thisOption","__ordinalMeta","axisModelCreator","AxisModel","gridIndex","gridId","getAxisType","extraOption","containLabel","isObject$f","each$k","map$9","indexOf$4","getLayoutRect$1","createScaleByModel$1","ifAxisCrossZero$1","niceScaleExtent$1","estimateLabelUnionRect$1","getStackedDimension$2","isAxisUsedInTheGrid","gridModel","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","gridProto","fixAxisOnZero","axesMap","otherAxisDim","onZeroRecords","otherAxisOnZeroOf","otherAxes","canOnZeroToAxis","getOnZeroRecordKey","updateAxisTransform","coordBase","axisExtentSum","axisPointerEnabled","_updateScale","ignoreContainLabel","gridRect","axesList","adjustAxes","labelUnionRect","axesMapOnDim","getCartesian","xAxisIndex","yAxisIndex","coordList","getCartesians","_findConvertTarget","coordsList","axisPositionUsed","axesCount","createAxisCreator","axisPosition","isCartesian2D","axesModels","findAxesModels","getTooltipAxes","baseAxes","otherAxis","axesTypes","grids","retrieve$1","defaults$3","extend$9","each$l","isRadianAroundZero$1","remRadian$1","createSymbol$3","v2ApplyTransform$2","shouldShowAllLabels$2","PI$2","AxisBuilder","labelOffset","nameDirection","tickDirection","labelDirection","dumbGroup","_transform","_dumbGroup","hasBuilder","builders","getGroup","pt1","pt2","arrows","arrowSize","arrowOffset","symbolWidth","symbolHeight","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","labelLayout","axisNameAvailableWidth","gapSignal","isNameLocationCenter","nameRotation","innerTextLayout","endTextLayout","truncateOpt","nameTruncateMaxWidth","truncatedText","tooltipOpt","formatterParams","textEl","__fullText","__truncatedText","isLabelSilent","makeAxisEventDataBase","targetType","axisRotation","rotationDiff","textRotate","onLeft","tickEls","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","lastTick","ignoreEl","isTwoLabelOverlapped","firstRect","nextRect","mRotationBack","createTicks","tickTransform","tickEndCoord","tickLineStyle","aniid","tickCoord","tickEl","axisBuilder","minorTickLineStyle","minorTicksEls","axisLabelShow","labelMargin","labelRotation","rawCategoryData","itemLabelModel","_default$1K","AxisBuilder_1","each$m","curry$1","collect","axesInfo","seriesInvolved","coordSysAxesInfo","coordSysMap","collectAxesInfo","collectSeriesInfo","globalTooltipModel","globalAxisPointerModel","linksOption","linkGroups","coordSysKey","makeKey","axesInfoInCoordSys","coordSysModel","baseTooltipModel","saveTooltipAxisInfo","triggerAxis","cross","tooltipAxes","fromTooltip","triggerTooltip","axisPointerModel","axisPointerShow","isHandleTrigger","makeAxisPointerModel","snap","involveSeries","axisInfo","useHandle","groupIndex","getLinkGroupIndex","linkGroup","mapper","tooltipAxisPointerModel","volatileOption","field","labelOption","tooltipAxisPointerLabelShow","seriesTooltipTrigger","seriesTooltipShow","seriesDataCount","linkOption","checkPropInLink","linkPropValue","axisPropValue","fixValue","getAxisInfo","getAxisPointerModel","collect_1","fixValue_1","getAxisInfo_1","getAxisPointerModel_1","makeKey_1","modelHelper","AxisView","_axisPointer","axisPointerClass","updateAxisPointer","disposeAxisPointer","axisView","forceRender","getAxisPointerClass","axisPointerClazz","registerAxisPointerClass","_default$1L","AxisView_1","layout$2","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelInside","layout_1$1","cartesianAxisHelper","rectCoordAxisBuildSplitArea","axisGroup","splitAreaModel","areaColors","areaColorsLen","lastSplitAreaColors","__splitAreaColors","newSplitAreaColors","colorIndex","cIndex","rectCoordAxisHandleRemove","rectCoordAxisBuildSplitArea_1","rectCoordAxisHandleRemove_1","axisSplitHelper","rectCoordAxisBuildSplitArea$1","rectCoordAxisHandleRemove$1","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","_splitLine","splitLineModel","lineColors","lineCount","_minorSplitLine","minorSplitLineModel","_splitArea","_default$1M","findPointFromSeries","makeInner$7","each$n","curry$2","inner$7","_default$1N","currTrigger","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","dataByCoordSys","updaters","showPointer","showTooltip","coordSysContainsPoint","inputAxisInfo","findInputAxisInfo","processOnAxis","linkTriggers","tarAxisInfo","tarKey","srcAxisInfo","srcKey","srcValItem","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","payloadInfo","buildPayloadsBySeries","payloadBatch","snapToValue","seriesNestestValue","nestestValue","coordSysItem","coordSysId","coordSysIndex","coordSysType","coordSysMainType","dataByAxis","axisId","valueLabelOpt","seriesDataIndices","outputAxesInfo","valItem","tooltipOption","highDownKey","lastHighlights","newHighlights","toHighlight","toDownplay","axisTrigger","makeInner$8","triggerOn","shadowStyle","handle","icon","inner$8","each$o","initGlobalListeners","useHandler","dis","makeDispatchAction","dispatchTooltipFinally","pendings","initialized","doEnter","onLeave","actuallyPayload","showLen","showTip","hideLen","hideTip","register_1","unregister_1","globalListener","AxisPointerView","makeInner$9","inner$9","clone$7","bind$2","BaseAxisPointer","updateProps$1","animationModel","moveAnimation","propsEqual","lastProp","lastProps","newProps","equals","updateLabelShowHide","labelEl","getHandleTransProps","trans","updateMandatoryProps","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","_axisModel","_axisPointerModel","elOption","makeElOption","graphicKey","_moveAnimation","determineAnimation","doUpdateProps","updatePointerEl","updateLabelEl","createPointerEl","createLabelEl","_renderHandle","isCategoryAxis","useSnap","pointerOption","pointerEl","updateHandleTransform","handleModel","onmousemove","onmousedown","_onHandleDragMove","ondragend","_onHandleDragEnd","includeStyles","handleSize","_moveHandleToValue","getHandleTransform","_doDispatchAxisPointer","cursorPoint","doClear","buildLabel","xy","xDimIndex","_default$1O","BaseAxisPointer_1","buildElStyle","axisPointerType","styleModel","buildLabelElOption","labelPos","getValueLabel","paddings","verticalAlign","confineInContainer","bgColor","viewWidth","viewHeight","axisDimension","seriesData","idxItem","dataParams","getTransformedPosition","layoutInfo","buildCartesianSingleLabelElOption","textLayout","makeLineShape","makeRectShape","makeSectorShape","buildElStyle_1","buildLabelElOption_1","getValueLabel_1","getTransformedPosition_1","buildCartesianSingleLabelElOption_1","makeLineShape_1","makeRectShape_1","makeSectorShape_1","viewHelper","CartesianAxisPointer","otherExtent","pixelValue","pointerShapeBuilder","currPosition","cursorOtherValue","tooltipOptions","targetShape","getAxisDimIndex","shadow","showContent","alwaysShowContent","displayMode","confine","showDelay","hideDelay","transitionDuration","enterable","each$p","toCamelCase$1","vendors","gCssText","assembleTransition","transitionCurve","transitionText","vendorPrefix","assembleFont","assembleCssText","borderName","camelCase","makeStyleCoord","appendToBody","zrPainter","zrViewportRoot","viewportRootOffset","TooltipContent","_appendToBody","_styleCoord","_container","_show","_hideTimeout","onmouseenter","_enterable","_inContent","onmouseleave","hideLater","_hideDelay","currentStyle","_moveTooltipIfResized","ratioX","ratioY","realX","realY","styleCoord","pointerEvents","setEnterable","getSize","clientWidth","clientHeight","isShow","getOuterSize","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","_default$1Q","TooltipContent_1","makeStyleCoord$1","TooltipRichContent","markerRich","suffix","startId","endId","bounding","_default$1R","TooltipRichContent_1","getTooltipRenderMode$2","bind$3","each$q","parsePercent$5","proxyRect","tooltipContent","_renderMode","_newLine","_tooltipContent","_tooltipModel","_ecModel","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","_tryShow","_hide","_refreshUpdateTimeout","manuallyShowTip","makeDispatchAction$1","_ticket","_manuallyAxisShowTip","pointInfo","manuallyHideTip","buildTooltipModel","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","_showTimout","singleDefaultHTML","singleParamsList","singleTooltipModel","itemCoordSys","axisValue","seriesDefaultHTML","valueLabel","axisValueLabel","seriesTooltip","newMarkers","firstLine","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","tooltipTrigger","defaultHtml","asyncTicket","subTooltipModel","cbTicket","contentSize","vAlign","viewSize","layoutRect","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","lastIndices","lastIdxItem","newIdxItem","modelCascade","resultModel","gapH","gapV","domWidth","domHeight","rectWidth","rectHeight","isNameSpecified$1","langSelector","defaultSelectorOption","LegendModel","selected","_updateSelector","_updateData","legendData","hasSelected","isSelected","potentialData","availableNames","isPotential","provider","getAllNames","_availableNames","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","getOrient","itemGap","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","selectorLabel","selectorPosition","selectorItemGap","selectorButtonGap","legendSelectActionHandler","selectedMap","isToggleSelect","legendModel","isItemSelected","getLayoutRect$2","layoutBox","positionElement$1","layout$3","boxLayoutParams","viewportSize","makeBackground","layout_1$2","makeBackground_1","listComponent","createSymbol$4","makeBackground$1","curry$3","each$r","Group$1","newlineDisabled","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","isFirstRender","resetInner","itemAlign","renderInner","mainRect","layoutInner","contentGroup","legendDrawnMap","selectMode","legendSymbolType","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","containName","_createSelector","selectorGroup","createSelectorButton","selectorItem","labelText","onclick","emphasisLabelModel","legendModelItemStyle","itemIcon","legendGlobalTooltipModel","setSymbolStyle","legendSymbolCenter","hitRect","legendIndex","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","hw","yx","dataName","_default$1U","legendModels","legendFilter","constants","DEFAULT_THEME","DEFAULT_COLORS","HEAT_MAP_COLOR","HEAT_BMAP_COLOR","itemPoint","STATIC_PROPS","ECHARTS_SETTINGS","_interopDefault$1","echartsLib","numerify$1","Loading","staticClass","DataEmpty","_v","_extends","setExtend","setMark","seriesItem","marks","setAnimation","core","class","_componentTag","canvasStyle","dataEmpty","loading","$slots","settings","beforeConfig","afterConfig","afterSetOption","afterSetOptionOnce","events","tooltipVisible","legendVisible","legendPosition","initOptions","themeName","judgeWidth","widthChangeDelay","tooltipFormatter","resizeable","resizeDelay","changeDelay","setOptionOpts","cancelResizeCheck","notSetUnchange","changeHandler","chartLib","chartHandler","chartColor","dataHandler","_data$columns","columns","_data$rows","_once","optionsHandler","nextTickResize","$nextTick","echartsResize","bmap","amap","_store","_isDestroyed","judgeWidthHandler","_this2","resizeableHandler","onresize","addResizeListener","removeResizeListener","createEventProxy","resizeHandler","addWatchToProps","_this3","watchedVariable","_watchers","watcher","expression","$props","_this4","ev","registeredEvents","themeChange","beforeDestroy","_numerify","core_1","_interopDefault$2","Core","_extends$1","getLineXAxis","xAxisName","axisVisible","xAxisType","getLineSeries","axisSite","metrics","area","nullAddZero","dataTemp","getLineYAxis","yAxisName","yAxisType","yAxisBase","getLineTooltip","rightItems","rightList","_items$","showData","itemData","getLegend","legendName","line$1","_settings$axisSite","_settings$yAxisType","_settings$xAxisType","_settings$yAxisName","_settings$dimension","_settings$xAxisName","_settings$axisVisible","_settings$scale","_settings$min","_settings$max","_settings$nullAddZero","_settings$digit","_settings$legendName","_settings$labelMap","line_common","IndicatorAxis","radiusExtent","_default$1V","IndicatorAxis_1","getScaleExtent$1","niceScaleExtent$2","Radar","radarModel","_indicatorAxes","getIndicatorModels","indicatorModel","indicatorAxis","getIndicatorAxes","indicatorIndex","coordToPoint","closestAxis","minRadianDiff","closestAxisIdx","indicatorAxes","radarSeries","increaseInterval","fixedMin","fixedMax","nicedSplitNumber","radarList","valueAxisDefault","defaultsShow","showName","nameFormatter","indicatorModels","indicatorOpt","iNameTextStyle","indName","indicator","axisBuilderAttrs$1","extend$a","_buildAxes","_buildSplitLineAndArea","axisBuilders","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","splitLines","splitAreas","ticksRadius","getColorIndex","realSplitNumber","axesTicksPoints","prevPoints","areaOrLine","areaOrLineColorList","isArray$9","_default$1X","dimensionsInfo","createListSimply","LegendVisualProvider","getDataWithEncodedVisual","dataWithEncodedVisual","_default$1Y","LegendVisualProvider_1","encodeHTML$2","RadarSeries","radarIndex","normalizeSymbolSize","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","hoverAreaStyleModel","polygonIgnore","hoverPolygonIgnore","itemHoverStyle","labelHoverModel","createHashMap$b","_default$1_","paletteScope","seiresModelMap","__paletteScope","dataAll","idxMap","filteredIdx","singleDataColor","singleDataBorderColor","dataColor","_default$1$","isValidPoint","getValueMissingPoint","firstPoint","radarLayout","_default$20","dataFilter","_default$21","polarOptArr","polarNotRadar","polarOpt","polarIndex","backwardCompat$1","_interopDefault$3","Core$1","getRadarLegend","getRadarTooltip","radar$$1","typeTemp","nameTemp","getRadarSetting","settingBase","indicatorTemp","getRadarSeries","radarIndexObj","serieData","radar$1","_settings$dataType","_extends$2","index$1","radar_common","_default$22","updateSelectedMap","_targetList","_selectTargetMap","targetMap","selectableMixin","getPercentWithPrecision$1","retrieveRawAttr$1","makeSeriesEncodeForNameBased$1","PieSeries","_createSelectableList","_defaultLabelLine","labelLineNormalOpt","labelLine","labelLineEmphasisOpt","minAngle","minShowLabelAngle","selectedOffset","hoverOffset","avoidLabelOverlap","percentPrecision","stillShowZeroSum","alignTo","bleedMargin","distanceToLabelLine","animationType","animationTypeUpdate","updateDataSelected","toggleItemSelected","midAngle","PiePiece","sector","piePieceProto","firstCreate","sectorShape","withAnimation","_updateLabel","hoverIgnore","normalIgnore","targetLineShape","linePoints","targetTextStyle","labelLineModel","labelLineHoverModel","sectorGroup","_sectorGroup","onSectorClick","piePiece","_createClipPath","initOrUpdate","itemLayout","_default$23","actionInfos","createDataSelectAction","parsePercent$6","RADIAN","adjustSingleSide","viewLeft","viewTop","farthestX","shiftDown","shiftUp","changeX","isDownList","lastDeltaX","labelAlignTo","deltaY","deltaX","lastY","upList","downList","avoidOverlap","labelLayoutList","leftList","leftmostX","rightmostX","isPositionCenter","targetTextWidth","isAlignToEdge","realTextWidth","labelDistance","_default$24","hasLabelRotate","minShowLabelRadian","labelPosition","labelLineLen","labelLineLen2","isLabelInside","parsePercent$7","linearMap$2","PI2$4","RADIAN$1","getViewRect","_default$25","validDataCount","unitRadian","roseType","restAngle","valueSumLargerThanMinAngle","currentAngle","pieLayout","_interopDefault$4","Core$2","_extends$3","pieRadius","ringRadius","roseRingRadius","pieOffsetY","getPieSeries","innerRows","percentShow","limitShowNum","isRing","levelTemp","rowsTemp","levelItems","itemLevel","levelItem","seriesBase","rowsTempLength","dataRows","centerWidth","innerWidth","firstData","remainArr","getPieLegend","legendLimit","getPieTooltip","pie$1","_settings$metrics","_settings$roseType","_settings$radius","_settings$offsetY","_settings$legendLimit","_settings$selectedMod","_settings$hoverAnimat","_settings$label","_settings$level","_settings$limitShowNu","seriesParams","legendParams","index$2","pie_common","_default$26","getMarkerPosition","offsetIndex","barMinAngle","largeThreshold","progressiveChunkMode","BaseBarSeries","getDefaultLabel$2","brushSelector","roundCap","showBackground","backgroundStyle","borderType","labelPositionOutside","fixPosition","setLabel_1","helper$4","getBarItemStyle","_default$28","barItemStyle","extendShape$1","_default$29","dr","rCenter","unitStartX","unitStartY","unitEndX","unitEndY","lessThanCircle","sausage","setLabel$1","throttle$2","createClipPath$1","BAR_BORDER_WIDTH_QUERY","_eventPos","getClipArea","coordSysClipArea","expandWidth","_updateDrawMode","coordinateSystemType","_isLargeDraw","_renderLarge","_renderNormal","_clear","_incrementalRenderLarge","isLargeDraw","isHorizontalOrRadial","needsClip","backgroundModel","barBorderRadius","bgEls","oldBgEls","_backgroundEls","createBackground","bgLayout","bgEl","createBackgroundEl","isClipped","elementCreator","updateStyle","newIndex","oldIndex","createBackgroundShape","removeRect","removeSector","bgGroup","_backgroundGroup","createLarge","_removeBackground","mathMax$4","mathMin$4","coordSysBoundingRect","signWidth","signHeight","clipped","signR","animateProperty","animateTarget","isRadial","fixedLineWidth","getLineWidth","signX","signY","isZeroOnPolar","isPolar","itemStyleModel","rawLayout","LargePath","startPoint","__startPoint","baseDimIdx","__baseDimIdx","backgroundStartPoint","__largeDataIndices","__barWidth","setLargeBackgroundStyle","setLargeStyle","largePathUpdateDataIndex","largePath","largePathFindDataIndex","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","barBaseVal","barValueVal","ElementClz","layout$4","largeLayout$1","_interopDefault$5","Core$3","defineProperty$6","_extends$4","VALUE_AXIS_OPACITY","getBarDimAxis","dimAxisName","dimAxisType","getValueAxisData","getBarMeaAxis","meaAxisName","meaAxisType","meaAxisBase","meaAxis","getBarTooltip","isHistogram","secondAxis","getValueData","seriesTemp","getBarSeries","_args$showLine","showLine","secondDimAxisIndex","itemOpacity","getLegend$1","getDims","histogram","_settings$axisSite2","_settings$dimension2","_settings$stack2","_settings$axisVisible2","_settings$digit2","_settings$dataOrder2","dataOrder","_settings$scale2","_settings$min2","_settings$max2","_settings$labelMap2","_settings$legendName2","_settings$barGap2","_label2","order","tooltipParams","index$3","histogram_common","defaultEmphasis$1","makeSeriesEncodeForNameBased$2","FunnelSeries","minSize","funnelAlign","FunnelPiece","funnelPieceProto","opacityAccessPath","funnelPiece","parsePercent$8","linearMap$3","getViewRect$1","getSortedIndices","valueArr","isAscending","labelLayout$1","_default$2b","sizeExtent","itemSize","getLinePoints","funnelLayout","_interopDefault$6","Core$4","getFunnelTooltip","realValue","getFunnelLegend","getFunnelSeries","sequence","ascending","filterZero","useDefaultOrder","falseFunnel","funnel$1","outerColumns","outerRows","_settings$sequence","metricsTemp","_extends$5","index$4","funnel_common","addCommas$2","encodeHTML$3","fillLabel","MarkerModel","_mergeOption","hostSeries","__hostSeries","newOpt","createdBySelf","modelPropName","markerOpt","markerModel","_default$2c","MarkerModel_1","isDimensionStacked$5","indexOf$5","hasXOrY","hasXAndY","markerTypeCalculatorWithExtent","mlType","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","calcDataDim","numCalculate","coordArrValue","curry$4","markerTypeCalculator","dataTransform","getAxisInfo$1","coordInfo","baseDataDim","valueDataDim","radiusAxis","angleAxis","valueIndex","dataDimToCoordDim","dataFilter$1","dataTransform_1","getAxisInfo_1$1","dataFilter_1","dimValueGetter_1","numCalculate_1","markerHelper","straightLineProto","bezierCurveProto","isLine","_default$2e","_buildPathLine","_buildPathCurve","_pointAtLine","_pointAtCurve","_tangentAtCurve","LinePath","round$4","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","createSymbol$5","lineData","__specifiedRotation","createLine","setLinePoints","updateSymbolAndLabelBeforeLineUpdate","symbolFrom","symbolTo","invScale","fromPos","toPos","specifiedRotation","tangent","__labelDistance","distanceX","distanceY","halfPercent","__position","__verticalAlign","__textAlign","Line$1","_createLine","lineProto","lineLabelOriginalOpacity","_updateCommonStl","hoverLineStyle","visualOpacity","defaultLabelColor","showLabel","hoverShowLabel","rawVal","normalText","emphasisText","labelStyle","linePath","_default$2f","Line_1$1","LineDraw","ctor","_ctor","lineDrawProto","doAdd","lineDraw","lineNeedsDraw","doUpdate","oldLineData","newLineData","itemEl","isEffectObject","makeSeriesScope$1","isPointNaN","pts","_lineData","_clearIncremental","_incremental","_default$2g","LineDraw_1","_default$2h","markerGroupMap","__keep","markerModelKey","MarkerView","getStackedDimension$3","markLineTransform","mlModel","mlFrom","mlTo","isInifinity","ifMarkLineHasOnlyDim","fromCoord","toCoord","otherDimIndex","markLineFilter","updateSingleMarkerEndLayout","isFrom","xPx","yPx","markLineModel","fromData","toData","__to","lineDrawMap","createList$1","updateDataVisualAndLayout","lineColor","coordDimsInfos","optData","updateMarkerLayout","markPointModel","mpModel","symbolDrawMap","createList$2","isFnSymbol","isFnSymbolSize","isFnSymbolRotate","dataOpt","markAreaTransform","maModel","ltCoord","rbCoord","isInifinity$1","ifMarkLineHasOnlyDim$1","markAreaFilter","getSingleMarkerEndPoint","dimPermutations","createList$3","areaData","markAreaModel","areaGroupMap","polygonGroup","allClipped","xValue","yValue","__data","HAS_SPECIES_SUPPORT$3","USES_TO_LENGTH$6","SPECIES$5","nativeSlice$1","max$4","fin","createMethod$3","TO_ENTRIES","objectToArray","entries","$values","_arrayWithHoles","arrayWithHoles","_iterableToArrayLimit","_arr","_n","_d","_e","_i","iterableToArrayLimit","_nonIterableRest","nonIterableRest","_slicedToArray","slicedToArray","_typeof_1","_classCallCheck","classCallCheck","_defineProperties","_createClass","protoProps","staticProps","createClass","Parser","cells","2","binaryMatrix","excelData","rowIndex","cellValue","cellIndex","rowsArray","_Object$values$map","_Object$values$map2","csvArray","colIndex","LbpLineChart","chartData","csv2VChartJson","createMethod$4","IS_RIGHT","arrayReduce","$reduce","STRICT_METHOD$3","USES_TO_LENGTH$7","LbpTable","mainTableWrapperEle","mainTableEle","fixedTableWrapperEle","fixedTableEle","freezeCount","setFixedTableStyle","renderCell","cell","renderTable","tableData","tableClass","tableStyle","headers","columnsCount","getFixedColsWidth","tableHeaders","freezeColsWidth","offsetHeight","scrollHeight","setTableWidth","parentWidth","initElements","__resizeHandler","addListener","lbpTable","destroy","removeListener","LbpNewsList","_Parser$csv2VChartJso","_plugins","i18nTitle","shortcutProps","LbpPlugin","_ref$i18nTitle","LbpPluginController","_ref$plugins","plugins","_pluginsMap","registerPlugin","plugin","getPluginsMap","lbpPluginController","UndoRedoHistory","currentIndex","history","canUndo","prevState","replaceState","canRedo","nextState","undoRedoHistory","recordHistoryMutationTypes","undoRedoPlugin","subscribe","mutation","addState","defineProperty$7","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","nativeAssign","defineProperty$8","objectAssign","alphabet","chr","_extends$6","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","mergeFn","helper$5","$entries","HANDLERS_PROPERTY","HAS_WINDOWS","HAS_NAVIGATOR","IS_TOUCH","msMaxTouchPoints","EVENTS","processDirectiveArguments","bindingValue","middleware","isActive","detectIframe","scopeNode","documentElement","execHandler","onFauxIframeClick","_document","activeElement","tagName","contains","onEvent","composedPath","isClickOutside","bind$4","_processDirectiveArgu","_handler","srcTarget","detectIframeEvent","unbind","handlers","oldValue","vClickOutside","RE","UNSUPPORTED_Y","re","BROKEN_CARET","regexpStickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y$1","NPCG_INCLUDED","PATCH","reCopy","charsAdded","strCopy","regexpExec","SPECIES$6","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","fixRegexpWellKnownSymbolLogic","KEY","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","createMethod$5","CONVERT_TO_STRING","second","stringMultibyte","codeAt","advanceStringIndex","regexpExecAbstract","max$5","min$5","floor$1","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","functionalReplace","fullUnicode","results","matchStr","accumulatedResult","nextSourcePosition","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","ch","hyphenateStyleName","uppercasePattern","msPattern","ownKeys$2","_objectSpread$1","ShapeLayerDefaultProps","points$2","ShapeLayer","inject","getReact","shapeStyle","getStyle","startY","startX","active","vcoConfig","ltPointStyle","rtPointStyle","lbPointStyle","rbPointStyle","_this$rect","lmPointStyle","rmPointStyle","_this$rect2","tmPointStyle","bmPointStyle","_this$rect3","bound","onClickOutside","setActive","addWidth","_this$rect4","currentLeft","currentWidth","boundRight","nextWidth","addHeight","_this$rect5","currentTop","currentHeight","boundBottom","nextHeight","addLeft","_this$rect6","_this$bound","boundLeft","nextLeft","addTop","_this$rect7","_this$bound2","boundTop","nextTop","handleShapeDown","handleShapeMove","handleShapeUp","handlePointDown","handlePointMove","handlePointUp","effect","_effect","effectLeft","effectTop","effectWidth","effectHeight","_this$rect8","effectLeftDistance","effectWidthDistance","_this$rect9","effectTopDistance","effectHeightDistance","ownKeys$3","_objectSpread$2","id$1","LbpElement","_options$name","_options$props","_options$style","_options$attrs","_options$animations","animations","vm","_pluginsControl$getPl","getPlugin","getPluginProps","pluginProps","commonStyle","propsDefine","getPropDefaultValue","Render","elName","elProps","EventBus","AnimateLayer","runAnimations","animationQueue","animIdx","runAnimation","animationName","animationIterationCount","infinite","interationCount","animationFillMode","$on","ElementRender","setVm","$listeners","CoreRender","provide","elements","updateCanvas","handleElementActive","handleElementDeactive","deactiveElement","updateElement","addElement","handleElementRectChange","PAGE_MODE","SWIPPER_PAGE","LONG_PAGE","WIDTH","HEIGHT","PAGE_MODE_LABEL","LbpElement$1","Page","_ref$title","_ref$elements","_ref$pageMode","pageMode","genElements","Work","_ref$description","_ref$pages","isPublish","isTemplate","genPages","updateScaleRate","commit","mutations","scaleRateDiff","scaleRate","$findIndex","FIND_INDEX","SKIPS_HOLES","USES_TO_LENGTH$8","actions$1","setEditingPage","pageIndex","pageManager","mutations$1","editingPage","newTitle","page","newPages","$find","FIND","SKIPS_HOLES$1","USES_TO_LENGTH$9","ownKeys$4","_objectSpread$3","actions$2","setEditingElement","setElementPosition","setElementShape","recordElementRect","elementManager","mutations$2","editingElement","setElementCommonStyle","dragStyle","_index","newElements","ele","maxZindex","eleZindex","flag","swapElement","recordRect","test$1","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD$4","FORCED$3","ownKeys$5","_objectSpread$4","comparefn","actions$3","updateWork","mutations$3","setWorkCover","_value","cover","setWorkTemplates","workTemplates","setWork","previewWork","deployWork","formDetailOfWork","ownKeys$6","_objectSpread$5","works","uuidMap2Name","formRecords","getters","actions$4","mutations$4","namespaced","enUSLang","app","chineseDocument","englishDocument","chat","logout","sidebar","myWorks","dataCenter","basicData","templateCenter","freeTemplates","accountCenter","workCard","createTime","useNow","preview","edit","createNewWork","viewData","templates","delete","publish","setAsTemplate","centerPanel","contextMenu","moveToTop","moveToBottom","moveUp","moveDown","showOnlyButton","showExcludePicture","fixedTool","undo","redo","copyCurrentPage","copyCurrentElement","importPSD","zoomIn","zoomOut","issues","editPanel","tab","iteration","inifinite","common","empty","tip","componentUsage","zhCNLang","ownKeys$7","_objectSpread$6","messages","defaultLang","i18n","locale","fallbackLocale","loadedLanguages","setI18nLanguage","loadLanguageAsync","setLocaleMessage","msg","i18n$1","SET_LANG","SetLang","_components","store$2","Store","fixedTools","i18nTooltip","hotkey","hotkeyTooltip","previewDialogVisible","ownKeys$8","_objectSpread$7","_components$1","_components$2","_components$3","FixedTools","Layout","Sider","Button","Tooltip","mapState","flexDirection","tool","$t","splitKey","colorsPanel","lbsTextAlign","Radio","textAlignTabs","validFileMimeTypes","CsvImport","checkMimeType","validFileMimeType","file","csv","files","isValidFileMimeType","loadFile","readFile","skipEmptyLines","reader","FileReader","readAsText","evt","randomId","lbsExcelEditor","innerItems","binaryMatrix2excel","refreshSheet","parseCSV","sheetData","sheet","loadData","reRender","initSheet","showToolbar","showGrid","showContextmenu","change","lbpSlideCustomEditor","Pagination","elementProps","itemRender","originalElement","marginRight","minus","marginLeft","currentItem","ownKeys$9","_objectSpread$8","_components$4","RenderPropsEditor","Form","Item","Tabs","Input","TextArea","Switch","InputNumber","Select","loadCustomEditorFlag","form","setFieldsValue","$form","createForm","onFieldsChange","getFieldsValue","formItemLayout","renderPropFormItem","propConfig","formItemData","configEntries","RenderScriptEditor","editorContent","nativeMatch","matcher","_components$5","_components$6","firstLevelAnimationOptions","animationOptions","animationValue2Name","RenderAnimationEditor","Popover","Slider","Collapse","Panel","Icon","Drawer","TabPane","Tag","activeCollapsePanel","activePreviewAnimation","drawerVisible","addAnimation","deleteAnimate","updateAnimation","activeAnimationQueue","runAnimate","renderSecondAnimationTabs","renderAvaiableAnimations","firstGroup","renderAnimationOptions","animationOption","addedAnimation","RenderActionEditor","freezing","isExtensible","preventExtensions","internalMetadata","METADATA","setMetadata","objectID","weakData","fastKey","getWeakData","onFreeze","meta","REQUIRED","nativeFreeze","FAILS_ON_PRIMITIVES$2","_components$7","_components$8","RenderBackgroundEditor","formLayout","$$v","EditorRightPanel","editPropsConfig","getPropsWithEditor","editPropsValue","editPropsConfigKeys","propsValue","editAnimationValue","activeTabKey","setActiveTab","propsWithEditor","propsChange","animationsChange","ShortcutButton","faIcon","clickFn","mousedownFn","listeners","slots","UsageTip","ownKeys$a","_objectSpread$9","script$1","Modal","confirmLoading","package","showModal","handleOk","createjs","npmPackages","pluginInfo","LoadQueue","handleComplete","handleFileLoad","loadManifest","handleCancel","__vue_script__$1","__vue_render__$1","cancel","__vue_staticRenderFns__$1","__vue_inject_styles__$1","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","__vue_component__$1","ownKeys$b","_objectSpread$a","langMixin","currentLang","mapActions","setLang","ownKeys$c","_objectSpread$b","_components$9","_components$a","_components$b","dragDom","dragConfig","isPreDrag","isDrag","Drag","_mousedown","_mousemove","_mouseup","toggleListener","dragMixin","handleDragStartFromMixin","dragElement","cloneNode","_dragConfig$origin","_dragConfig$origin2","canMousedown","checkCanMousedown","minOffset","canvasWrapper","minOffsetX","minOffsetY","updated","RenderShortcutsPanel","Row","Col","shortcutItem","getPlugins","marginTop","PageTitleEditor","Popconfirm","editingTitle","PageTitleMenu","Dropdown","Menu","addPageText","copyPageText","deletePageText","PageTitleText","Badge","boxShadow","RenderPageManager","onSelectMenuItem","menuKey","onEditTitle","onSelectPage","hoverIndex","getTreeNode","script$2","Tree","treeData","gData","expandedKeys","__vue_script__$2","__vue_render__$2","__vue_staticRenderFns__$2","__vue_inject_styles__$2","__vue_scope_id__$2","__vue_module_identifier__$2","__vue_is_functional_template__$2","__vue_component__$2","_components$c","_components$d","EditorLeftPanel","overflow","addPage","pageChange","AuxiliayLine","vLines","hLines","drawVLine","newLeft","clearVLine","drawHLine","newTop","clearHLine","genBorder","calcVHLine","referElementsXCoords","referElementsYCoords","hasVLine","hasHLine","_this$genBorder","_this$genBorder2","xCoords","yCoords","_this$genBorder3","_this$genBorder4","exCoords","eyCoords","eX","referX","eY","referY","AdjustHeight","updateWorkHeight","mousedownForAdjustLine","startHeight","canvasOuterWrapper","move","moveEvent","currY","moveHeight","scrollTop","up","AdjustLineV","onMousedown","config$1","rightPanelWidth","Editor","Content","auxiliayVisible","currentPage","_this$work$pages","elementsRect","_this$currentPage","_currentPage$elements","immediate","_this$$editor","_currentPage$elements2","$editor","_this$$editor2","hideAuxiliay","showAuxiliay","handlePageHeightChange","$store","handlePropsChange","handleAnimationsChange","handleAddElement","handleAddPage","handleAdjustLieMove","handlePageChange","install"],"mappings":"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AMk9O,GAAal9O,KACnBwD,UAAW05O,GACXyC,cAAe,CACbl0O,KAAM,QAEP,CACDi0O,UAAW,CACT,QAAS,YACT,QAAS,OAEX58O,MAAO,MACPgxM,KAAM,SACN74L,SAAS,EACTjb,KAAMk9O,GAAal9O,KACnBwD,UAAW05O,GACXyC,cAAe,CACbl0O,KAAM,WAEP,CACD3I,MAAO,KACP48O,UAAW,CACT,QAAS,aACT,QAAS,MAEX5rC,KAAM,YACN74L,SAAS,EACTjb,KAAM20B,GAAa30B,KACnBwD,UAAWmxB,IACV,CACD7xB,MAAO,KACP48O,UAAW,CACT,QAAS,OACT,QAAS,MAEX5rC,KAAM,SACN74L,SAAS,EACTjb,KAAM60B,GAAQ70B,KACdwD,UAAWqxB,IACV,CACD/xB,MAAO,KACP48O,UAAW,CACT,QAAS,UACT,QAAS,MAEX5rC,KAAM,QACN74L,SAAS,EACTjb,KAAM0f,GAAW1f,KACjBwD,UAAWkc,IACV,CACDggO,UAAW,CACT,QAAS,OACT,QAAS,MAEX58O,MAAO,KACPgxM,KAAM,aACN74L,SAAS,EACTjb,KAAMuhB,GAAQvhB,KACdwD,UAAW+d,IACV,CACDm+N,UAAW,CACT,QAAS,SACT,QAAS,QAEX58O,MAAO,OACPgxM,KAAM,iBACN74L,SAAS,EACTjb,KAAM+e,GAAU/e,KAChBwD,UAAWub,IACV,CACD2gO,UAAW,CACT,QAAS,WACT,QAAS,OAEX58O,MAAO,MACPgxM,KAAM,QACN74L,SAAS,EACTjb,KAAM4zB,GAAS5zB,KACfwD,UAAWowB,IACV,CACD8rN,UAAW,CACT,QAAS,MACT,QAAS,MAEX58O,MAAO,KACPgxM,KAAM,QACN74L,SAAS,EACTjb,KAAMglC,GAAkBhlC,KACxBwD,UAAWwhC,IACV,CACD06M,UAAW,CACT,QAAS,QACT,QAAS,MAEX58O,MAAO,KACPgxM,KAAM,eACN74L,SAAS,EACTjb,KAAM+f,GAAS/f,KACfwD,UAAWuc,IACV,CACD2/N,UAAW,CACT,QAAS,aACT,QAAS,QAEX58O,MAAO,OACPgxM,KAAM,kBACN74L,SAAS,EACTjb,KAAM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EAAI1tC,MAEzB,IAAIm5F,EAAKryF,EAASglB,GACduL,EAAIrwB,OAAOrF,MAEf,IAAKw3F,EAAGh0F,OAAQ,OAAOuhP,GAAmBvtJ,EAAI9hE,GAE9C,IAAIiwN,EAAcnuJ,EAAGzwE,QACrBywE,EAAGh9C,UAAY,EACf,IAEI39C,EAFAqiB,EAAI,GACJrgB,EAAI,EAER,MAAgD,QAAxChC,EAASkoP,GAAmBvtJ,EAAI9hE,IAAc,CACpD,IAAImwN,EAAWxgP,OAAOxI,EAAO,IAC7BqiB,EAAErgB,GAAKgnP,EACU,KAAbA,IAAiBruJ,EAAGh9C,UAAYsqM,GAAmBpvN,EAAGvqB,GAASqsF,EAAGh9C,WAAYmrM,IAClF9mP,IAEF,OAAa,IAANA,EAAU,KAAOqgB,OAM9B,IA0TIk+O,GAmgBAC,GA7zBAC,GAA6B,CAAC,CAChC/kP,MAAO,KACPla,MAAO,KACN,CACDka,MAAO,KACPla,MAAO,KACN,CACDka,MAAO,KACPla,MAAO,UAELk/P,GAAmB,CAAC,CACtBhlP,MAAO,GACPla,MAAO,IACP0hE,SAAU,CAAC,CACTxnD,MAAO,IACPla,MAAO,MAER,CACDka,MAAO,KACPla,MAAO,oBACP0hE,SAAU,CAAC,CACTxnD,MAAO,KACPla,MAAO,cACN,CACDka,MAAO,KACPla,MAAO,UACN,CACDka,MAAO,KACPla,MAAO,SACN,CACDka,MAAO,KACPla,MAAO,SACN,CACDka,MAAO,KACPla,MAAO,SACN,CACDka,MAAO,KACPla,MAAO,SACN,CACDka,MAAO,MACPla,MAAO,cACN,CACDka,MAAO,KACPla,MAAO,SACN,CACDka,MAAO,GACPla,MAAO,QACN,CACDka,MAAO,GACPla,MAAO,YAER,CACDka,MAAO,OACPla,MAAO,qBACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,YACN,CACDka,MAAO,SACPla,MAAO,gBACN,CACDka,MAAO,SACPla,MAAO,gBACN,CACDka,MAAO,SACPla,MAAO,iBACN,CACDka,MAAO,SACPla,MAAO,gBAER,CACDka,MAAO,OACPla,MAAO,iBACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,aACN,CACDka,MAAO,SACPla,MAAO,iBACN,CACDka,MAAO,SACPla,MAAO,iBACN,CACDka,MAAO,SACPla,MAAO,kBACN,CACDka,MAAO,SACPla,MAAO,iBAER,CACDka,MAAO,OACPla,MAAO,mBACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,UACN,CACDka,MAAO,SACPla,MAAO,cACN,CACDka,MAAO,aACPla,MAAO,iBACN,CACDka,MAAO,QACPla,MAAO,cACN,CACDka,MAAO,aACPla,MAAO,iBACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,aACPla,MAAO,kBACN,CACDka,MAAO,SACPla,MAAO,YACN,CACDka,MAAO,aACPla,MAAO,iBAER,CACDka,MAAO,OACPla,MAAO,eACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,WACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,YACPla,MAAO,kBACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,YACPla,MAAO,kBACN,CACDka,MAAO,SACPla,MAAO,gBACN,CACDka,MAAO,YACPla,MAAO,mBACN,CACDka,MAAO,SACPla,MAAO,aACN,CACDka,MAAO,YACPla,MAAO,kBAER,CACDka,MAAO,KACPla,MAAO,WACP0hE,SAAU,CAAC,CACTxnD,MAAO,KACPla,MAAO,QACN,CACDka,MAAO,OACPla,MAAO,WACN,CACDka,MAAO,OACPla,MAAO,WACN,CACDka,MAAO,SACPla,MAAO,YACN,CACDka,MAAO,SACPla,MAAO,cAER,CACDka,MAAO,OACPla,MAAO,aACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,gBACN,CACDka,MAAO,OACPla,MAAO,mBAER,CACDka,MAAO,OACPla,MAAO,qBACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,YACN,CACDka,MAAO,UACPla,MAAO,oBACN,CACDka,MAAO,OACPla,MAAO,wBACN,CACDka,MAAO,UACPla,MAAO,kBACN,CACDka,MAAO,UACPla,MAAO,qBAER,CACDka,MAAO,OACPla,MAAO,iBACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,aACN,CACDka,MAAO,UACPla,MAAO,qBACN,CACDka,MAAO,UACPla,MAAO,sBACN,CACDka,MAAO,UACPla,MAAO,mBACN,CACDka,MAAO,UACPla,MAAO,sBAER,CACDka,MAAO,OACPla,MAAO,oBACP0hE,SAAU,CAAC,CACTxnD,MAAO,SACPla,MAAO,aACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,SACPla,MAAO,kBAER,CACDka,MAAO,OACPla,MAAO,gBACP0hE,SAAU,CAAC,CACTxnD,MAAO,SACPla,MAAO,cACN,CACDka,MAAO,SACPla,MAAO,gBACN,CACDka,MAAO,SACPla,MAAO,gBACN,CACDka,MAAO,SACPla,MAAO,mBAER,CACDka,MAAO,OACPla,MAAO,iBACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,UACN,CACDka,MAAO,SACPla,MAAO,cACN,CACDka,MAAO,SACPla,MAAO,cACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,SACPla,MAAO,cAER,CACDka,MAAO,OACPla,MAAO,aACP0hE,SAAU,CAAC,CACTxnD,MAAO,OACPla,MAAO,WACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,SACPla,MAAO,eACN,CACDka,MAAO,SACPla,MAAO,gBACN,CACDka,MAAO,SACPla,MAAO,eAER,CACDka,MAAO,OACPla,MAAO,WACP0hE,SAAU,CAAC,CACTxnD,MAAO,KACPla,MAAO,SACN,CACDka,MAAO,OACPla,MAAO,UACN,CACDka,MAAO,OACPla,MAAO,cAOPm/P,GAAsBD,GAAiB9uN,QAAO,SAAUt7B,EAAKqvG,GAC/D,IAAIz5F,EAAQy5F,EAAKziD,SAIjB,OAHAh3C,EAAM3kB,SAAQ,SAAUmlB,GACt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","file":"js/app.28599dc2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('lbp-editor',{ref:\"editor\",staticStyle:{\"height\":\"100vh\"},attrs:{\"data\":_vm.work}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @author: Mater\n * @Email: bxh8640@gmail.com\n * @Date: 2020-11-02 09:25:51\n * @LastEditTime: 2020-11-17 13:01:48\n * @Description:\n-->\n<template>\n  <div id=\"app\">\n    <lbp-editor :data=\"work\" ref=\"editor\" style=\"height: 100vh\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\";\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      work: {\n        id: '3c31d1a0-0c91-4448-bf0a-9510b5b34be3',\n        title: '',\n        description: '',\n        cover_image_url: null,\n        pages: [\n          {\n            title: '',\n            elements: [\n              {\n                name: 'lbp-background',\n                props: {\n                  imgSrc: '',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n              {\n                name: 'lbp-picture',\n                props: {\n                  imgSrc:\n                    'https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo.jpg!0x0.webp',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n              {\n                name: 'lbp-picture',\n                props: {\n                  imgSrc:\n                    'https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo.jpg!0x0.webp',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n              {\n                name: 'lbp-picture',\n                props: {\n                  imgSrc:\n                    'https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo.jpg!0x0.webp',\n                  isRem: false,\n                },\n                style: {\n                  fillType: 'contain',\n                  top: 140,\n                  left: 57,\n                  width: 186,\n                  height: 292,\n                  textAlign: 'center',\n                  color: '#000000',\n                  backgroundColor: 'rgba(255, 255, 255, 0)',\n                  fontSize: 14,\n                },\n              },\n            ],\n          },\n        ],\n        is_publish: 0,\n        is_template: 0,\n        created_at: '2020-10-12T06:34:41.000Z',\n        updated_at: '2020-10-28T01:24:23.000Z',\n        page_mode: 'h5_swipper',\n      },\n    }\n  },\n  components: {},\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3281f24a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @author : Mater\r\n * @Email : bxh8640@gmail.com\r\n * @Date : 2020-11-02 09:25:51\r\n * @LastEditTime : 2020-11-03 15:48:17\r\n * @Description :\r\n */\r\nimport Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\n\r\nimport \"./lib/luban-h5-editor/dist/luban-h5-editor.css\";\r\nimport lubanH5Editor from \"./lib/luban-h5-editor/dist/luban-h5-editor.js\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(lubanH5Editor);\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('ant-design-vue'), require('v-click-outside'), require('vue-quill-editor'), require('vue'), require('vant'), require('resize-detector'), require('vuex'), require('lodash'), require('vue-i18n'), require('hotkeys-js'), require('x-data-spreadsheet'), require('papaparse')) :\n  typeof define === 'function' && define.amd ? define(['ant-design-vue', 'v-click-outside', 'vue-quill-editor', 'vue', 'vant', 'resize-detector', 'vuex', 'lodash', 'vue-i18n', 'hotkeys-js', 'x-data-spreadsheet', 'papaparse'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global['luban-h5-editor'] = factory(global['ant-design-vue'], global.vClickOutside$1, global.VueQuillEditor, global.Vue, global.vant, global.resizeDetector, global.Vuex, global.lodash, global.VueI18n, global.hotkeys, global.x_spreadsheet, global.papaparse));\n}(this, (function (antDesignVue, vClickOutside$1, vueQuillEditor, Vue, vant, resizeDetector, Vuex, lodash, VueI18n, hotkeys, Spreadsheet, Papa) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var vClickOutside__default = /*#__PURE__*/_interopDefaultLegacy(vClickOutside$1);\n  var Vue__default = /*#__PURE__*/_interopDefaultLegacy(Vue);\n  var Vuex__default = /*#__PURE__*/_interopDefaultLegacy(Vuex);\n  var VueI18n__default = /*#__PURE__*/_interopDefaultLegacy(VueI18n);\n  var hotkeys__default = /*#__PURE__*/_interopDefaultLegacy(hotkeys);\n  var Spreadsheet__default = /*#__PURE__*/_interopDefaultLegacy(Spreadsheet);\n  var Papa__default = /*#__PURE__*/_interopDefaultLegacy(Papa);\n\n  var fails = function (exec) {\n    try {\n      return !!exec();\n    } catch (error) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var descriptors = !fails(function () {\n    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n  });\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, basedir, module) {\n  \treturn module = {\n  \t\tpath: basedir,\n  \t\texports: {},\n  \t\trequire: function (path, base) {\n  \t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n  \t\t}\n  \t}, fn(module, module.exports), module.exports;\n  }\n\n  function getAugmentedNamespace(n) {\n  \tif (n.__esModule) return n;\n  \tvar a = Object.defineProperty({}, '__esModule', {value: true});\n  \tObject.keys(n).forEach(function (k) {\n  \t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n  \t\tObject.defineProperty(a, k, d.get ? d : {\n  \t\t\tenumerable: true,\n  \t\t\tget: function () {\n  \t\t\t\treturn n[k];\n  \t\t\t}\n  \t\t});\n  \t});\n  \treturn a;\n  }\n\n  function commonjsRequire () {\n  \tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  var check = function (it) {\n    return it && it.Math == Math && it;\n  };\n\n  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n  var global_1 =\n    // eslint-disable-next-line no-undef\n    check(typeof globalThis == 'object' && globalThis) ||\n    check(typeof window == 'object' && window) ||\n    check(typeof self == 'object' && self) ||\n    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n    // eslint-disable-next-line no-new-func\n    Function('return this')();\n\n  var isObject = function (it) {\n    return typeof it === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var document$1 = global_1.document;\n  // typeof document.createElement is 'object' in old IE\n  var EXISTS = isObject(document$1) && isObject(document$1.createElement);\n\n  var documentCreateElement = function (it) {\n    return EXISTS ? document$1.createElement(it) : {};\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var ie8DomDefine = !descriptors && !fails(function () {\n    return Object.defineProperty(documentCreateElement('div'), 'a', {\n      get: function () { return 7; }\n    }).a != 7;\n  });\n\n  var anObject = function (it) {\n    if (!isObject(it)) {\n      throw TypeError(String(it) + ' is not an object');\n    } return it;\n  };\n\n  // `ToPrimitive` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toprimitive\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var toPrimitive = function (input, PREFERRED_STRING) {\n    if (!isObject(input)) return input;\n    var fn, val;\n    if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n    if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var nativeDefineProperty = Object.defineProperty;\n\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  var f = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n    anObject(O);\n    P = toPrimitive(P, true);\n    anObject(Attributes);\n    if (ie8DomDefine) try {\n      return nativeDefineProperty(O, P, Attributes);\n    } catch (error) { /* empty */ }\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var objectDefineProperty = {\n  \tf: f\n  };\n\n  var defineProperty = objectDefineProperty.f;\n\n  var FunctionPrototype = Function.prototype;\n  var FunctionPrototypeToString = FunctionPrototype.toString;\n  var nameRE = /^\\s*function ([^ (]*)/;\n  var NAME = 'name';\n\n  // Function instances `.name` property\n  // https://tc39.github.io/ecma262/#sec-function-instances-name\n  if (descriptors && !(NAME in FunctionPrototype)) {\n    defineProperty(FunctionPrototype, NAME, {\n      configurable: true,\n      get: function () {\n        try {\n          return FunctionPrototypeToString.call(this).match(nameRE)[1];\n        } catch (error) {\n          return '';\n        }\n      }\n    });\n  }\n\n  var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // Nashorn ~ JDK8 bug\n  var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n  // `Object.prototype.propertyIsEnumerable` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\n  var f$1 = NASHORN_BUG ? function propertyIsEnumerable(V) {\n    var descriptor = getOwnPropertyDescriptor(this, V);\n    return !!descriptor && descriptor.enumerable;\n  } : nativePropertyIsEnumerable;\n\n  var objectPropertyIsEnumerable = {\n  \tf: f$1\n  };\n\n  var createPropertyDescriptor = function (bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var toString = {}.toString;\n\n  var classofRaw = function (it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  var split = ''.split;\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n  var indexedObject = fails(function () {\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n    // eslint-disable-next-line no-prototype-builtins\n    return !Object('z').propertyIsEnumerable(0);\n  }) ? function (it) {\n    return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n  } : Object;\n\n  // `RequireObjectCoercible` abstract operation\n  // https://tc39.github.io/ecma262/#sec-requireobjectcoercible\n  var requireObjectCoercible = function (it) {\n    if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n    return it;\n  };\n\n  // toObject with fallback for non-array-like ES3 strings\n\n\n\n  var toIndexedObject = function (it) {\n    return indexedObject(requireObjectCoercible(it));\n  };\n\n  var hasOwnProperty = {}.hasOwnProperty;\n\n  var has = function (it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  var f$2 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n    O = toIndexedObject(O);\n    P = toPrimitive(P, true);\n    if (ie8DomDefine) try {\n      return nativeGetOwnPropertyDescriptor(O, P);\n    } catch (error) { /* empty */ }\n    if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n  };\n\n  var objectGetOwnPropertyDescriptor = {\n  \tf: f$2\n  };\n\n  var createNonEnumerableProperty = descriptors ? function (object, key, value) {\n    return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var setGlobal = function (key, value) {\n    try {\n      createNonEnumerableProperty(global_1, key, value);\n    } catch (error) {\n      global_1[key] = value;\n    } return value;\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = global_1[SHARED] || setGlobal(SHARED, {});\n\n  var sharedStore = store;\n\n  var functionToString = Function.toString;\n\n  // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n  if (typeof sharedStore.inspectSource != 'function') {\n    sharedStore.inspectSource = function (it) {\n      return functionToString.call(it);\n    };\n  }\n\n  var inspectSource = sharedStore.inspectSource;\n\n  var WeakMap = global_1.WeakMap;\n\n  var nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n  var shared = createCommonjsModule(function (module) {\n  (module.exports = function (key, value) {\n    return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n  })('versions', []).push({\n    version: '3.6.5',\n    mode:  'global',\n    copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n  });\n  });\n\n  var id = 0;\n  var postfix = Math.random();\n\n  var uid = function (key) {\n    return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n  };\n\n  var keys = shared('keys');\n\n  var sharedKey = function (key) {\n    return keys[key] || (keys[key] = uid(key));\n  };\n\n  var hiddenKeys = {};\n\n  var WeakMap$1 = global_1.WeakMap;\n  var set, get, has$1;\n\n  var enforce = function (it) {\n    return has$1(it) ? get(it) : set(it, {});\n  };\n\n  var getterFor = function (TYPE) {\n    return function (it) {\n      var state;\n      if (!isObject(it) || (state = get(it)).type !== TYPE) {\n        throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n      } return state;\n    };\n  };\n\n  if (nativeWeakMap) {\n    var store$1 = new WeakMap$1();\n    var wmget = store$1.get;\n    var wmhas = store$1.has;\n    var wmset = store$1.set;\n    set = function (it, metadata) {\n      wmset.call(store$1, it, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return wmget.call(store$1, it) || {};\n    };\n    has$1 = function (it) {\n      return wmhas.call(store$1, it);\n    };\n  } else {\n    var STATE = sharedKey('state');\n    hiddenKeys[STATE] = true;\n    set = function (it, metadata) {\n      createNonEnumerableProperty(it, STATE, metadata);\n      return metadata;\n    };\n    get = function (it) {\n      return has(it, STATE) ? it[STATE] : {};\n    };\n    has$1 = function (it) {\n      return has(it, STATE);\n    };\n  }\n\n  var internalState = {\n    set: set,\n    get: get,\n    has: has$1,\n    enforce: enforce,\n    getterFor: getterFor\n  };\n\n  var redefine = createCommonjsModule(function (module) {\n  var getInternalState = internalState.get;\n  var enforceInternalState = internalState.enforce;\n  var TEMPLATE = String(String).split('String');\n\n  (module.exports = function (O, key, value, options) {\n    var unsafe = options ? !!options.unsafe : false;\n    var simple = options ? !!options.enumerable : false;\n    var noTargetGet = options ? !!options.noTargetGet : false;\n    if (typeof value == 'function') {\n      if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n      enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n    if (O === global_1) {\n      if (simple) O[key] = value;\n      else setGlobal(key, value);\n      return;\n    } else if (!unsafe) {\n      delete O[key];\n    } else if (!noTargetGet && O[key]) {\n      simple = true;\n    }\n    if (simple) O[key] = value;\n    else createNonEnumerableProperty(O, key, value);\n  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n  })(Function.prototype, 'toString', function toString() {\n    return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n  });\n  });\n\n  var path = global_1;\n\n  var aFunction = function (variable) {\n    return typeof variable == 'function' ? variable : undefined;\n  };\n\n  var getBuiltIn = function (namespace, method) {\n    return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global_1[namespace])\n      : path[namespace] && path[namespace][method] || global_1[namespace] && global_1[namespace][method];\n  };\n\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n\n  // `ToInteger` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tointeger\n  var toInteger = function (argument) {\n    return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n  };\n\n  var min = Math.min;\n\n  // `ToLength` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tolength\n  var toLength = function (argument) {\n    return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n\n  // Helper for a popular repeating case of the spec:\n  // Let integer be ? ToInteger(index).\n  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n  var toAbsoluteIndex = function (index, length) {\n    var integer = toInteger(index);\n    return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n  };\n\n  // `Array.prototype.{ indexOf, includes }` methods implementation\n  var createMethod = function (IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = toIndexedObject($this);\n      var length = toLength(O.length);\n      var index = toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n      // Array#indexOf ignores holes, Array#includes - not\n      } else for (;length > index; index++) {\n        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n      } return !IS_INCLUDES && -1;\n    };\n  };\n\n  var arrayIncludes = {\n    // `Array.prototype.includes` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n    includes: createMethod(true),\n    // `Array.prototype.indexOf` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n    indexOf: createMethod(false)\n  };\n\n  var indexOf = arrayIncludes.indexOf;\n\n\n  var objectKeysInternal = function (object, names) {\n    var O = toIndexedObject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while (names.length > i) if (has(O, key = names[i++])) {\n      ~indexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n\n  // IE8- don't enum bug keys\n  var enumBugKeys = [\n    'constructor',\n    'hasOwnProperty',\n    'isPrototypeOf',\n    'propertyIsEnumerable',\n    'toLocaleString',\n    'toString',\n    'valueOf'\n  ];\n\n  var hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  var f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return objectKeysInternal(O, hiddenKeys$1);\n  };\n\n  var objectGetOwnPropertyNames = {\n  \tf: f$3\n  };\n\n  var f$4 = Object.getOwnPropertySymbols;\n\n  var objectGetOwnPropertySymbols = {\n  \tf: f$4\n  };\n\n  // all object keys, includes non-enumerable and symbols\n  var ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n    var keys = objectGetOwnPropertyNames.f(anObject(it));\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n  };\n\n  var copyConstructorProperties = function (target, source) {\n    var keys = ownKeys(source);\n    var defineProperty = objectDefineProperty.f;\n    var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  };\n\n  var replacement = /#|\\.prototype\\./;\n\n  var isForced = function (feature, detection) {\n    var value = data[normalize(feature)];\n    return value == POLYFILL ? true\n      : value == NATIVE ? false\n      : typeof detection == 'function' ? fails(detection)\n      : !!detection;\n  };\n\n  var normalize = isForced.normalize = function (string) {\n    return String(string).replace(replacement, '.').toLowerCase();\n  };\n\n  var data = isForced.data = {};\n  var NATIVE = isForced.NATIVE = 'N';\n  var POLYFILL = isForced.POLYFILL = 'P';\n\n  var isForced_1 = isForced;\n\n  var getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n  /*\n    options.target      - name of the target object\n    options.global      - target is the global object\n    options.stat        - export as static methods of target\n    options.proto       - export as prototype methods of target\n    options.real        - real prototype method for the `pure` version\n    options.forced      - export even if the native feature is available\n    options.bind        - bind methods to the target, required for the `pure` version\n    options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n    options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n    options.sham        - add a flag to not completely full polyfills\n    options.enumerable  - export as enumerable property\n    options.noTargetGet - prevent calling a getter on target\n  */\n  var _export = function (options, source) {\n    var TARGET = options.target;\n    var GLOBAL = options.global;\n    var STATIC = options.stat;\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n    if (GLOBAL) {\n      target = global_1;\n    } else if (STATIC) {\n      target = global_1[TARGET] || setGlobal(TARGET, {});\n    } else {\n      target = (global_1[TARGET] || {}).prototype;\n    }\n    if (target) for (key in source) {\n      sourceProperty = source[key];\n      if (options.noTargetGet) {\n        descriptor = getOwnPropertyDescriptor$1(target, key);\n        targetProperty = descriptor && descriptor.value;\n      } else targetProperty = target[key];\n      FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n      // contained in target\n      if (!FORCED && targetProperty !== undefined) {\n        if (typeof sourceProperty === typeof targetProperty) continue;\n        copyConstructorProperties(sourceProperty, targetProperty);\n      }\n      // add a flag to not completely full polyfills\n      if (options.sham || (targetProperty && targetProperty.sham)) {\n        createNonEnumerableProperty(sourceProperty, 'sham', true);\n      }\n      // extend global\n      redefine(target, key, sourceProperty, options);\n    }\n  };\n\n  var aFunction$1 = function (it) {\n    if (typeof it != 'function') {\n      throw TypeError(String(it) + ' is not a function');\n    } return it;\n  };\n\n  // optional / simple context binding\n  var functionBindContext = function (fn, that, length) {\n    aFunction$1(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 0: return function () {\n        return fn.call(that);\n      };\n      case 1: return function (a) {\n        return fn.call(that, a);\n      };\n      case 2: return function (a, b) {\n        return fn.call(that, a, b);\n      };\n      case 3: return function (a, b, c) {\n        return fn.call(that, a, b, c);\n      };\n    }\n    return function (/* ...args */) {\n      return fn.apply(that, arguments);\n    };\n  };\n\n  // `ToObject` abstract operation\n  // https://tc39.github.io/ecma262/#sec-toobject\n  var toObject = function (argument) {\n    return Object(requireObjectCoercible(argument));\n  };\n\n  // `IsArray` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isarray\n  var isArray = Array.isArray || function isArray(arg) {\n    return classofRaw(arg) == 'Array';\n  };\n\n  var nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n    // Chrome 38 Symbol has incorrect toString conversion\n    // eslint-disable-next-line no-undef\n    return !String(Symbol());\n  });\n\n  var useSymbolAsUid = nativeSymbol\n    // eslint-disable-next-line no-undef\n    && !Symbol.sham\n    // eslint-disable-next-line no-undef\n    && typeof Symbol.iterator == 'symbol';\n\n  var WellKnownSymbolsStore = shared('wks');\n  var Symbol$1 = global_1.Symbol;\n  var createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\n  var wellKnownSymbol = function (name) {\n    if (!has(WellKnownSymbolsStore, name)) {\n      if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];\n      else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    } return WellKnownSymbolsStore[name];\n  };\n\n  var SPECIES = wellKnownSymbol('species');\n\n  // `ArraySpeciesCreate` abstract operation\n  // https://tc39.github.io/ecma262/#sec-arrayspeciescreate\n  var arraySpeciesCreate = function (originalArray, length) {\n    var C;\n    if (isArray(originalArray)) {\n      C = originalArray.constructor;\n      // cross-realm fallback\n      if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n      else if (isObject(C)) {\n        C = C[SPECIES];\n        if (C === null) C = undefined;\n      }\n    } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n  };\n\n  var push = [].push;\n\n  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\n  var createMethod$1 = function (TYPE) {\n    var IS_MAP = TYPE == 1;\n    var IS_FILTER = TYPE == 2;\n    var IS_SOME = TYPE == 3;\n    var IS_EVERY = TYPE == 4;\n    var IS_FIND_INDEX = TYPE == 6;\n    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n    return function ($this, callbackfn, that, specificCreate) {\n      var O = toObject($this);\n      var self = indexedObject(O);\n      var boundFunction = functionBindContext(callbackfn, that, 3);\n      var length = toLength(self.length);\n      var index = 0;\n      var create = specificCreate || arraySpeciesCreate;\n      var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n      var value, result;\n      for (;length > index; index++) if (NO_HOLES || index in self) {\n        value = self[index];\n        result = boundFunction(value, index, O);\n        if (TYPE) {\n          if (IS_MAP) target[index] = result; // map\n          else if (result) switch (TYPE) {\n            case 3: return true;              // some\n            case 5: return value;             // find\n            case 6: return index;             // findIndex\n            case 2: push.call(target, value); // filter\n          } else if (IS_EVERY) return false;  // every\n        }\n      }\n      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n    };\n  };\n\n  var arrayIteration = {\n    // `Array.prototype.forEach` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n    forEach: createMethod$1(0),\n    // `Array.prototype.map` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.map\n    map: createMethod$1(1),\n    // `Array.prototype.filter` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n    filter: createMethod$1(2),\n    // `Array.prototype.some` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.some\n    some: createMethod$1(3),\n    // `Array.prototype.every` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.every\n    every: createMethod$1(4),\n    // `Array.prototype.find` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.find\n    find: createMethod$1(5),\n    // `Array.prototype.findIndex` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n    findIndex: createMethod$1(6)\n  };\n\n  var engineUserAgent = getBuiltIn('navigator', 'userAgent') || '';\n\n  var process = global_1.process;\n  var versions = process && process.versions;\n  var v8 = versions && versions.v8;\n  var match, version;\n\n  if (v8) {\n    match = v8.split('.');\n    version = match[0] + match[1];\n  } else if (engineUserAgent) {\n    match = engineUserAgent.match(/Edge\\/(\\d+)/);\n    if (!match || match[1] >= 74) {\n      match = engineUserAgent.match(/Chrome\\/(\\d+)/);\n      if (match) version = match[1];\n    }\n  }\n\n  var engineV8Version = version && +version;\n\n  var SPECIES$1 = wellKnownSymbol('species');\n\n  var arrayMethodHasSpeciesSupport = function (METHOD_NAME) {\n    // We can't use this feature detection in V8 since it causes\n    // deoptimization and serious performance degradation\n    // https://github.com/zloirock/core-js/issues/677\n    return engineV8Version >= 51 || !fails(function () {\n      var array = [];\n      var constructor = array.constructor = {};\n      constructor[SPECIES$1] = function () {\n        return { foo: 1 };\n      };\n      return array[METHOD_NAME](Boolean).foo !== 1;\n    });\n  };\n\n  var defineProperty$1 = Object.defineProperty;\n  var cache = {};\n\n  var thrower = function (it) { throw it; };\n\n  var arrayMethodUsesToLength = function (METHOD_NAME, options) {\n    if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n    if (!options) options = {};\n    var method = [][METHOD_NAME];\n    var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n    var argument0 = has(options, 0) ? options[0] : thrower;\n    var argument1 = has(options, 1) ? options[1] : undefined;\n\n    return cache[METHOD_NAME] = !!method && !fails(function () {\n      if (ACCESSORS && !descriptors) return true;\n      var O = { length: -1 };\n\n      if (ACCESSORS) defineProperty$1(O, 1, { enumerable: true, get: thrower });\n      else O[1] = 1;\n\n      method.call(O, argument0, argument1);\n    });\n  };\n\n  var $map = arrayIteration.map;\n\n\n\n  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n  // FF49- issue\n  var USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n    map: function map(callbackfn /* , thisArg */) {\n      return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  var arrayLikeToArray = _arrayLikeToArray;\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return arrayLikeToArray(arr);\n  }\n\n  var arrayWithoutHoles = _arrayWithoutHoles;\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  var iterableToArray = _iterableToArray;\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n  }\n\n  var unsupportedIterableToArray = _unsupportedIterableToArray;\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var nonIterableSpread = _nonIterableSpread;\n\n  function _toConsumableArray(arr) {\n    return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n  }\n\n  var toConsumableArray = _toConsumableArray;\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var defineProperty$2 = _defineProperty;\n\n  var aPossiblePrototype = function (it) {\n    if (!isObject(it) && it !== null) {\n      throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n    } return it;\n  };\n\n  // `Object.setPrototypeOf` method\n  // https://tc39.github.io/ecma262/#sec-object.setprototypeof\n  // Works with __proto__ only. Old v8 can't work with null proto objects.\n  /* eslint-disable no-proto */\n  var objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n    var CORRECT_SETTER = false;\n    var test = {};\n    var setter;\n    try {\n      setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n      setter.call(test, []);\n      CORRECT_SETTER = test instanceof Array;\n    } catch (error) { /* empty */ }\n    return function setPrototypeOf(O, proto) {\n      anObject(O);\n      aPossiblePrototype(proto);\n      if (CORRECT_SETTER) setter.call(O, proto);\n      else O.__proto__ = proto;\n      return O;\n    };\n  }() : undefined);\n\n  // makes subclassing work correct for wrapped built-ins\n  var inheritIfRequired = function ($this, dummy, Wrapper) {\n    var NewTarget, NewTargetPrototype;\n    if (\n      // it can work only with native `setPrototypeOf`\n      objectSetPrototypeOf &&\n      // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n      typeof (NewTarget = dummy.constructor) == 'function' &&\n      NewTarget !== Wrapper &&\n      isObject(NewTargetPrototype = NewTarget.prototype) &&\n      NewTargetPrototype !== Wrapper.prototype\n    ) objectSetPrototypeOf($this, NewTargetPrototype);\n    return $this;\n  };\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  var objectKeys = Object.keys || function keys(O) {\n    return objectKeysInternal(O, enumBugKeys);\n  };\n\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  var objectDefineProperties = descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    anObject(O);\n    var keys = objectKeys(Properties);\n    var length = keys.length;\n    var index = 0;\n    var key;\n    while (length > index) objectDefineProperty.f(O, key = keys[index++], Properties[key]);\n    return O;\n  };\n\n  var html = getBuiltIn('document', 'documentElement');\n\n  var GT = '>';\n  var LT = '<';\n  var PROTOTYPE = 'prototype';\n  var SCRIPT = 'script';\n  var IE_PROTO = sharedKey('IE_PROTO');\n\n  var EmptyConstructor = function () { /* empty */ };\n\n  var scriptTag = function (content) {\n    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n  };\n\n  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n  var NullProtoObjectViaActiveX = function (activeXDocument) {\n    activeXDocument.write(scriptTag(''));\n    activeXDocument.close();\n    var temp = activeXDocument.parentWindow.Object;\n    activeXDocument = null; // avoid memory leak\n    return temp;\n  };\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var NullProtoObjectViaIFrame = function () {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = documentCreateElement('iframe');\n    var JS = 'java' + SCRIPT + ':';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    html.appendChild(iframe);\n    // https://github.com/zloirock/core-js/issues/475\n    iframe.src = String(JS);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(scriptTag('document.F=Object'));\n    iframeDocument.close();\n    return iframeDocument.F;\n  };\n\n  // Check for document.domain and active x support\n  // No need to use active x approach when document.domain is not set\n  // see https://github.com/es-shims/es5-shim/issues/150\n  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n  // avoid IE GC bug\n  var activeXDocument;\n  var NullProtoObject = function () {\n    try {\n      /* global ActiveXObject */\n      activeXDocument = document.domain && new ActiveXObject('htmlfile');\n    } catch (error) { /* ignore */ }\n    NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n    var length = enumBugKeys.length;\n    while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n    return NullProtoObject();\n  };\n\n  hiddenKeys[IE_PROTO] = true;\n\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  var objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      EmptyConstructor[PROTOTYPE] = anObject(O);\n      result = new EmptyConstructor();\n      EmptyConstructor[PROTOTYPE] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO] = O;\n    } else result = NullProtoObject();\n    return Properties === undefined ? result : objectDefineProperties(result, Properties);\n  };\n\n  // a string of all valid unicode whitespaces\n  // eslint-disable-next-line max-len\n  var whitespaces = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n  var whitespace = '[' + whitespaces + ']';\n  var ltrim = RegExp('^' + whitespace + whitespace + '*');\n  var rtrim = RegExp(whitespace + whitespace + '*$');\n\n  // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\n  var createMethod$2 = function (TYPE) {\n    return function ($this) {\n      var string = String(requireObjectCoercible($this));\n      if (TYPE & 1) string = string.replace(ltrim, '');\n      if (TYPE & 2) string = string.replace(rtrim, '');\n      return string;\n    };\n  };\n\n  var stringTrim = {\n    // `String.prototype.{ trimLeft, trimStart }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n    start: createMethod$2(1),\n    // `String.prototype.{ trimRight, trimEnd }` methods\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n    end: createMethod$2(2),\n    // `String.prototype.trim` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n    trim: createMethod$2(3)\n  };\n\n  var getOwnPropertyNames = objectGetOwnPropertyNames.f;\n  var getOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n  var defineProperty$3 = objectDefineProperty.f;\n  var trim = stringTrim.trim;\n\n  var NUMBER = 'Number';\n  var NativeNumber = global_1[NUMBER];\n  var NumberPrototype = NativeNumber.prototype;\n\n  // Opera ~12 has broken Object#toString\n  var BROKEN_CLASSOF = classofRaw(objectCreate(NumberPrototype)) == NUMBER;\n\n  // `ToNumber` abstract operation\n  // https://tc39.github.io/ecma262/#sec-tonumber\n  var toNumber = function (argument) {\n    var it = toPrimitive(argument, false);\n    var first, third, radix, maxCode, digits, length, index, code;\n    if (typeof it == 'string' && it.length > 2) {\n      it = trim(it);\n      first = it.charCodeAt(0);\n      if (first === 43 || first === 45) {\n        third = it.charCodeAt(2);\n        if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n      } else if (first === 48) {\n        switch (it.charCodeAt(1)) {\n          case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n          case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n          default: return +it;\n        }\n        digits = it.slice(2);\n        length = digits.length;\n        for (index = 0; index < length; index++) {\n          code = digits.charCodeAt(index);\n          // parseInt parses a string to a first unavailable symbol\n          // but ToNumber should return NaN if a string contains unavailable symbols\n          if (code < 48 || code > maxCode) return NaN;\n        } return parseInt(digits, radix);\n      }\n    } return +it;\n  };\n\n  // `Number` constructor\n  // https://tc39.github.io/ecma262/#sec-number-constructor\n  if (isForced_1(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n    var NumberWrapper = function Number(value) {\n      var it = arguments.length < 1 ? 0 : value;\n      var dummy = this;\n      return dummy instanceof NumberWrapper\n        // check on 1..constructor(foo) case\n        && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classofRaw(dummy) != NUMBER)\n          ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n    };\n    for (var keys$1 = descriptors ? getOwnPropertyNames(NativeNumber) : (\n      // ES3:\n      'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n      // ES2015 (in case, if modules with ES2015 Number statics required before):\n      'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n      'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n    ).split(','), j = 0, key; keys$1.length > j; j++) {\n      if (has(NativeNumber, key = keys$1[j]) && !has(NumberWrapper, key)) {\n        defineProperty$3(NumberWrapper, key, getOwnPropertyDescriptor$2(NativeNumber, key));\n      }\n    }\n    NumberWrapper.prototype = NumberPrototype;\n    NumberPrototype.constructor = NumberWrapper;\n    redefine(global_1, NUMBER, NumberWrapper);\n  }\n\n  var defaultNumberInputProp = {// step: 1,\n    // min: 0,\n    // max: 144\n  };\n  var dataSourceLayout = {\n    labelCol: {\n      span: 24\n    },\n    wrapperCol: {\n      span: 24,\n      offset: 0\n    }\n  };\n  var PropTypes = {\n    boolean: function boolean() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$label = _ref.label,\n          label = _ref$label === void 0 ? '' : _ref$label,\n          _ref$defaultValue = _ref.defaultValue,\n          defaultValue = _ref$defaultValue === void 0 ? false : _ref$defaultValue,\n          _ref$props = _ref.props,\n          props = _ref$props === void 0 ? {} : _ref$props,\n          _ref$visible = _ref.visible,\n          visible = _ref$visible === void 0 ? true : _ref$visible;\n\n      return {\n        type: Boolean,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-switch',\n          label: label,\n          props: props\n        }\n      };\n    },\n    required: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\r\n     *  \r\n     * Q:  transparent \r\n     * A:  MDN  value # + 616\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color#Value\r\n     * The value of an <input> element of type color is always a DOMString which contains a 7-character string specifying an RGB color in hexadecimal format.\r\n     *\r\n     */\n    color: function color() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$label = _ref2.label,\n          label = _ref2$label === void 0 ? '' : _ref2$label,\n          _ref2$defaultValue = _ref2.defaultValue,\n          defaultValue = _ref2$defaultValue === void 0 ? '#000000' : _ref2$defaultValue,\n          _ref2$visible = _ref2.visible,\n          visible = _ref2$visible === void 0 ? true : _ref2$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'colors-panel',\n          label: label,\n          props: {\n            size: 'mini',\n            showAlpha: true\n          },\n          require: true\n        }\n      };\n    },\n    colors: function colors() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$label = _ref3.label,\n          label = _ref3$label === void 0 ? '' : _ref3$label,\n          _ref3$defaultValue = _ref3.defaultValue,\n          defaultValue = _ref3$defaultValue === void 0 ? function () {\n        return [];\n      } : _ref3$defaultValue,\n          _ref3$layout = _ref3.layout,\n          layout = _ref3$layout === void 0 ? dataSourceLayout : _ref3$layout,\n          _ref3$visible = _ref3.visible,\n          visible = _ref3$visible === void 0 ? true : _ref3$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'colors-panel',\n          label: label,\n          // !#zh  props\n          props: {\n            size: 'mini',\n            showAlpha: true\n          },\n          layout: layout,\n          require: true\n        }\n      };\n    },\n\n    /**\r\n     *  \r\n     */\n    number: function number() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$label = _ref4.label,\n          label = _ref4$label === void 0 ? '' : _ref4$label,\n          _ref4$defaultValue = _ref4.defaultValue,\n          defaultValue = _ref4$defaultValue === void 0 ? 10 : _ref4$defaultValue,\n          _ref4$props = _ref4.props,\n          props = _ref4$props === void 0 ? defaultNumberInputProp : _ref4$props,\n          _ref4$visible = _ref4.visible,\n          visible = _ref4$visible === void 0 ? true : _ref4$visible;\n\n      return {\n        type: Number,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-input-number',\n          label: label,\n          require: true,\n          props: props\n        }\n      };\n    },\n\n    /**\r\n     *  \r\n     *\r\n     * component \r\n     * 1. a-input\r\n     * 2. a-textarea\r\n     * 3. \r\n     */\n    string: function string() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$label = _ref5.label,\n          label = _ref5$label === void 0 ? '' : _ref5$label,\n          _ref5$defaultValue = _ref5.defaultValue,\n          defaultValue = _ref5$defaultValue === void 0 ? '' : _ref5$defaultValue,\n          _ref5$component = _ref5.component,\n          component = _ref5$component === void 0 ? 'a-input' : _ref5$component,\n          _ref5$props = _ref5.props,\n          props = _ref5$props === void 0 ? {} : _ref5$props,\n          extra = _ref5.extra,\n          _ref5$visible = _ref5.visible,\n          visible = _ref5$visible === void 0 ? true : _ref5$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: component,\n          label: label,\n          require: true,\n          props: props,\n          extra: extra\n        }\n      };\n    },\n    textAlign: function textAlign() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$label = _ref6.label,\n          label = _ref6$label === void 0 ? '' : _ref6$label,\n          _ref6$defaultValue = _ref6.defaultValue,\n          defaultValue = _ref6$defaultValue === void 0 ? 'center' : _ref6$defaultValue,\n          _ref6$visible = _ref6.visible,\n          visible = _ref6$visible === void 0 ? true : _ref6$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-text-align',\n          label: label,\n          require: true\n        }\n      };\n    },\n    textOptions: function textOptions() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$label = _ref7.label,\n          label = _ref7$label === void 0 ? '' : _ref7$label,\n          _ref7$defaultValue = _ref7.defaultValue,\n          defaultValue = _ref7$defaultValue === void 0 ? function () {\n        return [{\n          label: 'label1',\n          value: 'value1'\n        }];\n      } : _ref7$defaultValue,\n          _ref7$visible = _ref7.visible,\n          visible = _ref7$visible === void 0 ? true : _ref7$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-props-text-enum-editor',\n          label: label,\n          require: true\n        }\n      };\n    },\n    image: function image() {\n      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref8$label = _ref8.label,\n          label = _ref8$label === void 0 ? '' : _ref8$label,\n          _ref8$defaultValue = _ref8.defaultValue,\n          defaultValue = _ref8$defaultValue === void 0 ? '' : _ref8$defaultValue,\n          _ref8$visible = _ref8.visible,\n          visible = _ref8$visible === void 0 ? true : _ref8$visible;\n\n      return {\n        type: String,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-image-gallery',\n          label: label\n        }\n      };\n    },\n\n    /**\r\n     * \r\n     */\n    excel: function excel() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref9$label = _ref9.label,\n          label = _ref9$label === void 0 ? '' : _ref9$label,\n          _ref9$defaultValue = _ref9.defaultValue,\n          defaultValue = _ref9$defaultValue === void 0 ? [] : _ref9$defaultValue,\n          _ref9$layout = _ref9.layout,\n          layout = _ref9$layout === void 0 ? dataSourceLayout : _ref9$layout,\n          _ref9$visible = _ref9.visible,\n          visible = _ref9$visible === void 0 ? true : _ref9$visible;\n\n      return {\n        type: Array,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'lbs-excel-editor',\n          label: label,\n          layout: layout\n        }\n      };\n    },\n    select: function select() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref10$valueType = _ref10.valueType,\n          valueType = _ref10$valueType === void 0 ? String : _ref10$valueType,\n          _ref10$label = _ref10.label,\n          label = _ref10$label === void 0 ? '' : _ref10$label,\n          _ref10$defaultValue = _ref10.defaultValue,\n          defaultValue = _ref10$defaultValue === void 0 ? [] : _ref10$defaultValue,\n          _ref10$visible = _ref10.visible,\n          visible = _ref10$visible === void 0 ? true : _ref10$visible,\n          _ref10$options = _ref10.options,\n          options = _ref10$options === void 0 ? [] : _ref10$options;\n\n      return {\n        type: valueType,\n        default: defaultValue,\n        visible: visible,\n        editor: {\n          type: 'a-select',\n          label: label,\n          props: {\n            options: options\n          }\n        }\n      };\n    }\n  };\n\n  var LbpButton = {\n    render: function render() {\n      var h = arguments[0];\n      var color = this.color,\n          textAlign = this.textAlign,\n          backgroundColor = this.backgroundColor,\n          fontSize = this.fontSize,\n          lineHeight = this.lineHeight,\n          borderColor = this.borderColor,\n          borderRadius = this.borderRadius,\n          borderWidth = this.borderWidth,\n          text = this.text;\n      var style = {\n        color: color,\n        textAlign: textAlign,\n        backgroundColor: backgroundColor,\n        fontSize: fontSize,\n        lineHeight: lineHeight + 'em',\n        borderColor: borderColor,\n        borderRadius: borderRadius + 'px',\n        borderWidth: borderWidth + 'px',\n        textDecoration: 'none',\n        width: \"\".concat(this.width, \"px\"),\n        height: \"\".concat(this.height, \"px\")\n      };\n      return h(\"button\", {\n        \"style\": style\n      }, [text]);\n    },\n    name: 'lbp-button',\n    props: {\n      width: {\n        type: Number,\n        default: 120\n      },\n      height: {\n        type: Number,\n        default: 40\n      },\n      text: PropTypes.string(),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ffffff'\n      }),\n      color: PropTypes.color(),\n      fontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 14\n      }),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 4\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign()\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-10-27 15:04:59\r\n   * @LastEditTime : 2020-11-11 10:27:57\r\n   * @Description :\r\n   */\n  var LbpPicture = {\n    name: 'lbp-picture',\n    render: function render() {\n      var h = arguments[0];\n      return h(\"img\", {\n        \"attrs\": {\n          \"src\": this.imgSrc,\n          \"alt\": \"\",\n          \"srcset\": \"\",\n          \"width\": \"100%\"\n        },\n        \"style\": {\n          objectFit: this.fillType\n        }\n      });\n    },\n    props: {\n      imgSrc: PropTypes.string({\n        label: ''\n      }),\n      fillType: {\n        type: String,\n        default: 'contain',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: 'contain ',\n              value: 'contain'\n            }, {\n              label: 'cover ',\n              value: 'cover'\n            }, {\n              label: 'fill ',\n              value: 'fill'\n            }, {\n              label: 'none ',\n              value: 'none'\n            }, {\n              label: 'scale-down ',\n              value: 'scale-down'\n            }]\n          }\n        }\n      }\n    }\n  };\n\n  var playIcon = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyMHB4IiBoZWlnaHQ9IjE4MHB4IiB2aWV3Qm94PSIwIDAgMzIwIDE4MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4NCiAgICA8dGl0bGU+UmVjdGFuZ2xlIDM8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0icGxheSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJHcm91cC0yOSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMyIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyMCIgaGVpZ2h0PSIxODAiPjwvcmVjdD4NCiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjQuMDAwMDAwLCA1NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMC40MDAwMDAwMDYiIGN4PSIzNiIgY3k9IjM2IiByPSIzNiI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUyLjUwMTQ1NzEsMzguNDY4NzAzOSBMMjkuNTEyNTQ3NCw1My4wOTEwNDA2IEMyOC40MjUyMDE2LDUzLjc4MjY1ODMgMjYuOTgzMDY2Nyw1My40NjE4NTczIDI2LjI5MTQ0OSw1Mi4zNzQ1MTE0IEMyNi4wNTMzNzY0LDUyLjAwMDIxOSAyNS45MjY5Mjk1LDUxLjU2NTgxODMgMjUuOTI2OTI5NSw1MS4xMjIyMjY4IEwyNS45MjY5Mjk1LDIxLjg3NzU1MzQgQzI1LjkyNjkyOTUsMjAuNTg4ODg5IDI2Ljk3MTU5ODQsMTkuNTQ0MjIwMSAyOC4yNjAyNjI4LDE5LjU0NDIyMDEgQzI4LjcwMzg1NDMsMTkuNTQ0MjIwMSAyOS4xMzgyNTUsMTkuNjcwNjY3MSAyOS41MTI1NDc0LDE5LjkwODczOTcgTDUyLjUwMTQ1NzEsMzQuNTMxMDc2NCBDNTMuNTg4ODAyOSwzNS4yMjI2OTQxIDUzLjkwOTYwNCwzNi42NjQ4Mjg5IDUzLjIxNzk4NjMsMzcuNzUyMTc0NyBDNTMuMDM0NTE1OCwzOC4wNDA2MjI5IDUyLjc4OTkwNTIsMzguMjg1MjMzNSA1Mi41MDE0NTcxLDM4LjQ2ODcwMzkgWiIgaWQ9IlRyaWFuZ2xlLTIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+\";\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2019-12-01 18:11:50\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-28 09:23:27\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-video.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n\n  var LbpVideo = {\n    name: 'lbp-video',\n    props: {\n      src: PropTypes.string({\n        label: ''\n      }),\n      disabled: PropTypes.boolean({\n        label: 'disabled'\n      }),\n      useIframe: PropTypes.boolean({\n        label: 'iframe'\n      }),\n      iframeSrc: PropTypes.string({\n        default: '',\n        label: 'iframe ',\n        props: {\n          type: 'textarea',\n          placeholder: 'iframe'\n        },\n        extra: function extra(h) {\n          return 'iframe';\n        }\n      })\n    },\n    watch: {\n      src: function src() {\n        this.appendIframe();\n      },\n      disabled: function disabled() {\n        this.appendIframe();\n      },\n      useIframe: function useIframe() {\n        this.appendIframe();\n      },\n      iframeSrc: function iframeSrc() {\n        this.appendIframe();\n      }\n    },\n    mounted: function mounted() {\n      this.appendIframe();\n    },\n    methods: {\n      appendIframe: function appendIframe() {\n        if (this.useIframe && this.iframeSrc) {\n          // v-html\n          this.$refs.iframeWrapper && (this.$refs.iframeWrapper.innerHTML = this.iframeSrc);\n        } // else if (this.src) {\n        //   this.$refs.videoTag && (this.$refs.videoTag.innerHTML = `<source type=\"video/mp4\" src=${this.src} />`)\n        // }\n\n      }\n    },\n    render: function render(h) {\n      var style = this.disabled ? {\n        'pointer-events': 'none'\n      } : {};\n      return h(\"div\", {\n        \"class\": \"lbc-video\",\n        \"style\": style\n      }, [this.useIframe ? h(\"div\", {\n        \"ref\": \"iframeWrapper\"\n      }, [h(\"img\", {\n        \"attrs\": {\n          \"src\": playIcon,\n          \"width\": \"100%\",\n          \"height\": \"100%\"\n        }\n      })]) : h(\"video\", {\n        \"attrs\": {\n          \"playsinline\": \"true\",\n          \"webkit-playsinline\": \"\",\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"poster\": playIcon,\n          \"controls\": true\n        },\n        \"ref\": \"videoTag\"\n      }, [h(\"source\", {\n        \"attrs\": {\n          \"type\": \"video/mp4\",\n          \"src\": this.src\n        }\n      })])]);\n    },\n    componentsForPropsEditor: {}\n  };\n\n  var createProperty = function (object, key, value) {\n    var propertyKey = toPrimitive(key);\n    if (propertyKey in object) objectDefineProperty.f(object, propertyKey, createPropertyDescriptor(0, value));\n    else object[propertyKey] = value;\n  };\n\n  var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  var IS_CONCAT_SPREADABLE_SUPPORT = engineV8Version >= 51 || !fails(function () {\n    var array = [];\n    array[IS_CONCAT_SPREADABLE] = false;\n    return array.concat()[0] !== array;\n  });\n\n  var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\n  var isConcatSpreadable = function (O) {\n    if (!isObject(O)) return false;\n    var spreadable = O[IS_CONCAT_SPREADABLE];\n    return spreadable !== undefined ? !!spreadable : isArray(O);\n  };\n\n  var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n  // `Array.prototype.concat` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.concat\n  // with adding support of @@isConcatSpreadable and @@species\n  _export({ target: 'Array', proto: true, forced: FORCED }, {\n    concat: function concat(arg) { // eslint-disable-line no-unused-vars\n      var O = toObject(this);\n      var A = arraySpeciesCreate(O, 0);\n      var n = 0;\n      var i, k, length, len, E;\n      for (i = -1, length = arguments.length; i < length; i++) {\n        E = i === -1 ? O : arguments[i];\n        if (isConcatSpreadable(E)) {\n          len = toLength(E.length);\n          if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n        } else {\n          if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n          createProperty(A, n++, E);\n        }\n      }\n      A.length = n;\n      return A;\n    }\n  });\n\n  var LbpText = {\n    directives: {\n      clickOutside: vClickOutside__default['default'].directive\n    },\n    render: function render(h) {\n      var _this = this;\n\n      var canEdit = this.canEdit && this.editorMode === 'edit';\n      var style = {\n        position: 'relative',\n        color: \"\".concat(this.color, \" !important\"),\n        textDecoration: 'none',\n        backgroundColor: this.backgroundColor || 'rgba(255, 255, 255, 0.2)',\n        lineHeight: \"\".concat(this.lineHeight, \"em\"),\n        border: \"\".concat(this.borderWidth, \"px solid \").concat(this.borderColor),\n        borderRadius: \"\".concat(this.borderRadius, \"px\")\n      };\n      /**\r\n       * https://github.com/ly525/luban-h5/issues/155\r\n       *  ql-snow (ql-editor) theme \r\n       *  h1 .ql-snow .ql-editor h1 {font-size: 2em;}\r\n       *  div.ql-snow > div.ql-editor wrapper\r\n       */\n\n      var previewText = h(\"div\", {\n        \"class\": \"ql-snow\"\n      }, [h(\"div\", {\n        \"domProps\": {\n          \"innerHTML\": this.text\n        },\n        \"class\": \"ql-editor ql-container\"\n      })]);\n      return h(\"div\", {\n        \"on\": {\n          \"dblclick\": function dblclick(e) {\n            _this.canEdit = true;\n            e.stopPropagation();\n          },\n          \"mousedown\": function mousedown(e) {\n            if (_this.canEdit) {\n              e.stopPropagation();\n            }\n          },\n          \"keydown\": function keydown(event) {\n            var key = event.keyCode || event.charCode; // #!en: backspace/delete key should only delete letter in textarea, do not delete element in canvas\n            // #!zh: \n\n            if (key === 8 || key === 46) {\n              event.stopPropagation();\n            }\n          }\n        },\n        \"directives\": [{\n          name: \"click-outside\",\n          value: function value(e) {\n            _this.canEdit = false;\n          }\n        }],\n        \"style\": style\n      }, [canEdit ? h(vueQuillEditor.quillEditor, {\n        \"attrs\": {\n          \"content\": this.text,\n          \"options\": {\n            modules: {\n              // toolbar: '#toolbar-wrapper'\n              toolbar: [['bold', 'italic', 'underline', 'strike'], // \n              [{\n                list: 'ordered'\n              }, {\n                list: 'bullet'\n              }], [{\n                color: []\n              }, {\n                background: []\n              }], // \n              [{\n                align: []\n              }], ['clean'], // \n              [{\n                header: [1, 2, 3, 4, 5, 6, false]\n              }] // https://github.com/quilljs/quill/issues/1208\n              ]\n            },\n            theme: 'snow'\n          }\n        },\n        \"on\": {\n          \"change\": function change(_ref) {\n            var quill = _ref.quill,\n                html = _ref.html,\n                text = _ref.text;\n\n            _this.$emit('input', {\n              value: html,\n              pluginName: 'lbp-text'\n            });\n          }\n        }\n      }) : previewText]);\n    },\n    name: 'lbp-text',\n    data: function data() {\n      return {\n        canEdit: false,\n        innerText: this.text || ''\n      };\n    },\n    props: {\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(0, 0, 0, 0)'\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)'\n      }),\n      borderColor: PropTypes.color({\n        label: ''\n      }),\n      text: PropTypes.string({\n        label: '',\n        defaultValue: '',\n        visible: false\n      }),\n      editorMode: PropTypes.string({\n        defaultValue: 'preview',\n        // : preview/edit\n        label: '',\n        visible: false\n      })\n    },\n    editorConfig: {}\n  };\n\n  var typeOptions = [{\n    label: '',\n    value: 'text'\n  }, {\n    label: '',\n    value: 'password'\n  }, {\n    label: '',\n    value: 'date'\n  }, {\n    label: '',\n    value: 'email'\n  }, {\n    label: '',\n    value: 'tel'\n  }];\n  var LbpFormInput = {\n    name: 'lbp-form-input',\n    render: function render(h) {\n      var style = {\n        color: this.color,\n        textAlign: this.textAlign,\n        backgroundColor: this.backgroundColor,\n        fontSize: this.fontSize + 'px',\n        lineHeight: this.lineHeight + 'em',\n        borderColor: this.borderColor,\n        borderRadius: this.borderRadius + 'px',\n        borderWidth: this.borderWidth + 'px',\n        padding: '0 5px'\n      };\n      return h(\"input\", {\n        \"attrs\": {\n          \"disabled\": this.disabled,\n          \"type\": this.type,\n          \"name\": this.name,\n          \"placeholder\": this.placeholder,\n          \"autocomplete\": \"off\",\n          \"data-type\": \"lbp-form-input\"\n        },\n        \"style\": style\n      });\n    },\n    props: {\n      type: PropTypes.select({\n        defaultValue: 'text',\n        label: '',\n        options: typeOptions\n      }),\n      name: PropTypes.string({\n        defaultValue: 'name',\n        label: 'name'\n      }),\n      disabled: PropTypes.boolean({\n        label: 'disabled'\n      }),\n      fontSize: PropTypes.number({\n        label: '(px)'\n      }),\n      placeholder: PropTypes.string({\n        defaultValue: '',\n        label: ''\n      }),\n      color: PropTypes.color(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign({\n        defaultValue: 'left'\n      }),\n      vertical: PropTypes.boolean(),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      })\n    }\n  }; // .lb-plugin__input {\n  //   display: block;\n  //   margin: 0;\n  //   padding: 0 5px;\n  //   box-sizing: border-box;\n  //   overflow: visible;\n  //   border: 1px solid #ced4da;\n  //   &:focus {\n  //     outline: none;\n  //   }\n  // }\n\n  var arrayMethodIsStrict = function (METHOD_NAME, argument) {\n    var method = [][METHOD_NAME];\n    return !!method && fails(function () {\n      // eslint-disable-next-line no-useless-call,no-throw-literal\n      method.call(null, argument || function () { throw 1; }, 1);\n    });\n  };\n\n  var $forEach = arrayIteration.forEach;\n\n\n\n  var STRICT_METHOD = arrayMethodIsStrict('forEach');\n  var USES_TO_LENGTH$1 = arrayMethodUsesToLength('forEach');\n\n  // `Array.prototype.forEach` method implementation\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  var arrayForEach = (!STRICT_METHOD || !USES_TO_LENGTH$1) ? function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  } : [].forEach;\n\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  _export({ target: 'Array', proto: true, forced: [].forEach != arrayForEach }, {\n    forEach: arrayForEach\n  });\n\n  // iterable DOM collections\n  // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\n  var domIterables = {\n    CSSRuleList: 0,\n    CSSStyleDeclaration: 0,\n    CSSValueList: 0,\n    ClientRectList: 0,\n    DOMRectList: 0,\n    DOMStringList: 0,\n    DOMTokenList: 1,\n    DataTransferItemList: 0,\n    FileList: 0,\n    HTMLAllCollection: 0,\n    HTMLCollection: 0,\n    HTMLFormElement: 0,\n    HTMLSelectElement: 0,\n    MediaList: 0,\n    MimeTypeArray: 0,\n    NamedNodeMap: 0,\n    NodeList: 1,\n    PaintRequestList: 0,\n    Plugin: 0,\n    PluginArray: 0,\n    SVGLengthList: 0,\n    SVGNumberList: 0,\n    SVGPathSegList: 0,\n    SVGPointList: 0,\n    SVGStringList: 0,\n    SVGTransformList: 0,\n    SourceBufferList: 0,\n    StyleSheetList: 0,\n    TextTrackCueList: 0,\n    TextTrackList: 0,\n    TouchList: 0\n  };\n\n  for (var COLLECTION_NAME in domIterables) {\n    var Collection = global_1[COLLECTION_NAME];\n    var CollectionPrototype = Collection && Collection.prototype;\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype && CollectionPrototype.forEach !== arrayForEach) try {\n      createNonEnumerableProperty(CollectionPrototype, 'forEach', arrayForEach);\n    } catch (error) {\n      CollectionPrototype.forEach = arrayForEach;\n    }\n  }\n\n  var LbpFormButton = {\n    render: function render() {\n      var h = arguments[0];\n      var color = this.color,\n          textAlign = this.textAlign,\n          backgroundColor = this.backgroundColor,\n          fontSize = this.fontSize,\n          lineHeight = this.lineHeight,\n          borderColor = this.borderColor,\n          borderRadius = this.borderRadius,\n          borderWidth = this.borderWidth,\n          text = this.text,\n          disabled = this.disabled;\n      var style = {\n        color: color,\n        textAlign: textAlign,\n        backgroundColor: backgroundColor,\n        fontSize: fontSize,\n        lineHeight: lineHeight + 'em',\n        borderColor: borderColor,\n        borderRadius: borderRadius + 'px',\n        borderWidth: borderWidth + 'px',\n        textDecoration: 'none',\n        disabled: disabled\n      };\n      return h(\"button\", {\n        \"style\": style,\n        \"on\": {\n          \"click\": this.handleClick\n        }\n      }, [text]);\n    },\n    name: 'lbp-form-button',\n    props: {\n      text: PropTypes.string({\n        defaultValue: ''\n      }),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      color: PropTypes.color(),\n      fontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 14\n      }),\n      lineHeight: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 1\n      }),\n      borderRadius: PropTypes.number({\n        label: '(px)',\n        defaultValue: 4\n      }),\n      borderColor: PropTypes.color({\n        label: '',\n        defaultValue: '#ced4da'\n      }),\n      textAlign: PropTypes.textAlign(),\n      disabled: PropTypes.boolean()\n    },\n    methods: {\n      handleClick: function handleClick() {\n        if (this.disabled) return; // #!zh: data-type=lbp-form-input  lbp-form-input \n\n        var inputs = document.querySelectorAll(\"[data-type^='lbp-form-input']\");\n        if (!inputs.length) return;\n        var self = this;\n        var formData = new FormData();\n        inputs.forEach(function (input) {\n          return formData.append(input.dataset.uuid, input.value);\n        });\n        var req = new XMLHttpRequest();\n\n        req.onreadystatechange = function () {\n          if (req.readyState === 4) {\n            var message = req.status === 200 ? '' : '';\n            self.$message.info(message);\n          }\n        };\n\n        var workId = window.__work.id; // TODO #!zh: \n\n        req.open('post', \"/works/form/submit/\".concat(workId), true);\n        req.send(formData);\n      }\n    }\n  };\n\n  var $indexOf = arrayIncludes.indexOf;\n\n\n\n  var nativeIndexOf = [].indexOf;\n\n  var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\n  var STRICT_METHOD$1 = arrayMethodIsStrict('indexOf');\n  var USES_TO_LENGTH$2 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  _export({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD$1 || !USES_TO_LENGTH$2 }, {\n    indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n      return NEGATIVE_ZERO\n        // convert -0 to +0\n        ? nativeIndexOf.apply(this, arguments) || 0\n        : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var nativeJoin = [].join;\n\n  var ES3_STRINGS = indexedObject != Object;\n  var STRICT_METHOD$2 = arrayMethodIsStrict('join', ',');\n\n  // `Array.prototype.join` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.join\n  _export({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD$2 }, {\n    join: function join(separator) {\n      return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n    }\n  });\n\n  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport('splice');\n  var USES_TO_LENGTH$3 = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var max$1 = Math.max;\n  var min$2 = Math.min;\n  var MAX_SAFE_INTEGER$1 = 0x1FFFFFFFFFFFFF;\n  var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n  // `Array.prototype.splice` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.splice\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 || !USES_TO_LENGTH$3 }, {\n    splice: function splice(start, deleteCount /* , ...items */) {\n      var O = toObject(this);\n      var len = toLength(O.length);\n      var actualStart = toAbsoluteIndex(start, len);\n      var argumentsLength = arguments.length;\n      var insertCount, actualDeleteCount, A, k, from, to;\n      if (argumentsLength === 0) {\n        insertCount = actualDeleteCount = 0;\n      } else if (argumentsLength === 1) {\n        insertCount = 0;\n        actualDeleteCount = len - actualStart;\n      } else {\n        insertCount = argumentsLength - 2;\n        actualDeleteCount = min$2(max$1(toInteger(deleteCount), 0), len - actualStart);\n      }\n      if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER$1) {\n        throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n      }\n      A = arraySpeciesCreate(O, actualDeleteCount);\n      for (k = 0; k < actualDeleteCount; k++) {\n        from = actualStart + k;\n        if (from in O) createProperty(A, k, O[from]);\n      }\n      A.length = actualDeleteCount;\n      if (insertCount < actualDeleteCount) {\n        for (k = actualStart; k < len - actualDeleteCount; k++) {\n          from = k + actualDeleteCount;\n          to = k + insertCount;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n        for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n      } else if (insertCount > actualDeleteCount) {\n        for (k = len - actualDeleteCount; k > actualStart; k--) {\n          from = k + actualDeleteCount - 1;\n          to = k + insertCount - 1;\n          if (from in O) O[to] = O[from];\n          else delete O[to];\n        }\n      }\n      for (k = 0; k < insertCount; k++) {\n        O[k + actualStart] = arguments[k + 2];\n      }\n      O.length = len - actualDeleteCount + insertCount;\n      return A;\n    }\n  });\n\n  var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n  var test = {};\n\n  test[TO_STRING_TAG] = 'z';\n\n  var toStringTagSupport = String(test) === '[object z]';\n\n  var TO_STRING_TAG$1 = wellKnownSymbol('toStringTag');\n  // ES3 wrong here\n  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n  // fallback for IE11 Script Access Denied error\n  var tryGet = function (it, key) {\n    try {\n      return it[key];\n    } catch (error) { /* empty */ }\n  };\n\n  // getting tag from ES6+ `Object.prototype.toString`\n  var classof = toStringTagSupport ? classofRaw : function (it) {\n    var O, tag, result;\n    return it === undefined ? 'Undefined' : it === null ? 'Null'\n      // @@toStringTag case\n      : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG$1)) == 'string' ? tag\n      // builtinTag case\n      : CORRECT_ARGUMENTS ? classofRaw(O)\n      // ES3 arguments fallback\n      : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n  };\n\n  // `Object.prototype.toString` method implementation\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  var objectToString = toStringTagSupport ? {}.toString : function toString() {\n    return '[object ' + classof(this) + ']';\n  };\n\n  // `Object.prototype.toString` method\n  // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n  if (!toStringTagSupport) {\n    redefine(Object.prototype, 'toString', objectToString, { unsafe: true });\n  }\n\n  // `RegExp.prototype.flags` getter implementation\n  // https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\n  var regexpFlags = function () {\n    var that = anObject(this);\n    var result = '';\n    if (that.global) result += 'g';\n    if (that.ignoreCase) result += 'i';\n    if (that.multiline) result += 'm';\n    if (that.dotAll) result += 's';\n    if (that.unicode) result += 'u';\n    if (that.sticky) result += 'y';\n    return result;\n  };\n\n  var TO_STRING = 'toString';\n  var RegExpPrototype = RegExp.prototype;\n  var nativeToString = RegExpPrototype[TO_STRING];\n\n  var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n  // FF44- RegExp#toString has a wrong name\n  var INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n  // `RegExp.prototype.toString` method\n  // https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\n  if (NOT_GENERIC || INCORRECT_NAME) {\n    redefine(RegExp.prototype, TO_STRING, function toString() {\n      var R = anObject(this);\n      var p = String(R.source);\n      var rf = R.flags;\n      var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? regexpFlags.call(R) : rf);\n      return '/' + p + '/' + f;\n    }, { unsafe: true });\n  }\n\n  var styleKey = 'commonStyle';\n  function getVM(pluginName) {\n    var Ctor = Vue__default['default'].component(pluginName);\n    return new Ctor();\n  }\n  function swapZindex(x, y) {\n    var tmp = y[styleKey].zindex;\n    y[styleKey].zindex = x[styleKey].zindex;\n    x[styleKey].zindex = tmp;\n  }\n  var genUUID = function genUUID() {\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n  };\n\n  var LbpFormRadio = {\n    name: 'lbp-form-radio',\n    props: {\n      value: {\n        type: [String, Number],\n        default: ''\n      },\n      aliasName: {\n        type: String,\n        default: ''\n      },\n      type: {\n        type: String,\n        default: 'radio'\n      },\n      checked: {\n        type: Boolean,\n        default: false\n      },\n      onFocus: {\n        type: Function,\n        default: function _default() {}\n      },\n      onClick: {\n        type: Function,\n        default: function _default() {}\n      },\n      onBlur: {\n        type: Function,\n        default: function _default() {}\n      },\n      doChange: {\n        type: Function,\n        default: function _default() {}\n      }\n    },\n    methods: {\n      handleChange: function handleChange(e) {\n        if (this.disabled) return;\n        this.$emit('change', e.target.value);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var aliasName = this.aliasName,\n          type = this.type,\n          disabled = this.disabled,\n          checked = this.checked,\n          value = this.value;\n      var uuid = +new Date() + genUUID();\n      return h(\"div\", {\n        \"class\": ['lbp-' + this.type + '-wrapper', 'lbp-rc-wrapper']\n      }, [h(\"span\", {\n        \"class\": \"tag\"\n      }, [value]), h(\"input\", {\n        \"class\": ['lbp-' + this.type, 'lbp-rc-input'],\n        \"attrs\": {\n          \"name\": aliasName,\n          \"id\": uuid,\n          \"type\": type,\n          \"disabled\": disabled\n        },\n        \"ref\": \"input\",\n        \"domProps\": {\n          \"value\": value,\n          \"checked\": !!checked\n        },\n        \"on\": {\n          \"change\": this.handleChange\n        }\n      }), h(\"label\", {\n        \"attrs\": {\n          \"for\": uuid\n        }\n      })]);\n    }\n  };\n\n  function getDefaultItems() {\n    // defaultItems.slice(0)[0] === defaultItems.slice(0)[0] -> true\n    // Object.assign(defaultItems)[0] === Object.assign(defaultItems)[0] -> true\n    // clone = (val) => JSON.parse(JSON.stringify(val))\n    // clone(defaultItems)[0] === clone(defaultItems)[0] -> false\n    var defaultItems = [{\n      value: 'A'\n    }, {\n      value: 'B'\n    }, {\n      value: 'C'\n    }];\n    return defaultItems;\n  }\n\n  var LbpFormRadioGroup = {\n    name: 'lbp-form-radio-group',\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      aliasName: PropTypes.string({\n        defaultValue: '',\n        label: ''\n      }),\n      items: PropTypes.textOptions({\n        label: '',\n        defaultValue: function defaultValue() {\n          return getDefaultItems();\n        }\n      }),\n      type: {\n        type: String,\n        default: 'radio',\n        editor: {\n          type: 'a-radio-group',\n          label: '',\n          require: true,\n          props: {\n            options: [{\n              label: '',\n              value: 'radio'\n            }, {\n              label: '',\n              value: 'checkbox'\n            }],\n            name: 'mode'\n          }\n        }\n      }\n    },\n    data: function data() {\n      return {\n        value: this.type === 'radio' ? '' : [],\n        uuid: undefined\n      };\n    },\n    computed: {\n      value_: function value_() {\n        if (this.type === 'radio') {\n          return this.value;\n        } else {\n          var value = Array.isArray(this.value) && this.value || [];\n          return value.join(',');\n        }\n      }\n    },\n    watch: {\n      type: function type(_type) {\n        this.value = _type === 'radio' ? '' : [];\n      }\n    },\n    mounted: function mounted() {\n      this.uuid = this.$el.dataset.uuid;\n    },\n    methods: {\n      /**\r\n       * @param {String, Number} val radioValue or checkboxValue\r\n       */\n      onChange: function onChange(val) {\n        switch (this.type) {\n          case 'radio':\n            this.toggleRadio(val);\n            break;\n\n          case 'checkbox':\n            this.toggleCheckbox(val);\n            break;\n        }\n      },\n      toggleCheckbox: function toggleCheckbox(val) {\n        var index = this.value.indexOf(val);\n\n        if (index === -1) {\n          this.value.push(val);\n        } else {\n          this.value.splice(index, 1);\n        }\n      },\n      toggleRadio: function toggleRadio(val) {\n        this.value = val;\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"h3\", [this.aliasName]), h(\"input\", {\n        \"attrs\": {\n          \"type\": \"text\",\n          \"hidden\": true,\n          \"data-type\": \"lbp-form-input\",\n          \"data-uuid\": this.uuid\n        },\n        \"domProps\": {\n          \"value\": this.value_\n        }\n      }), this.items.map(function (item) {\n        return h(LbpFormRadio, {\n          \"attrs\": {\n            \"vertical\": true,\n            \"value\": item.value,\n            \"checked\": _this.value === item.value,\n            \"aliasName\": _this.uuid,\n            \"type\": _this.type\n          },\n          \"on\": {\n            \"change\": _this.onChange\n          }\n        }, [item.value]);\n      })]);\n    }\n  };\n\n  var UNSCOPABLES = wellKnownSymbol('unscopables');\n  var ArrayPrototype = Array.prototype;\n\n  // Array.prototype[@@unscopables]\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  if (ArrayPrototype[UNSCOPABLES] == undefined) {\n    objectDefineProperty.f(ArrayPrototype, UNSCOPABLES, {\n      configurable: true,\n      value: objectCreate(null)\n    });\n  }\n\n  // add a key to Array.prototype[@@unscopables]\n  var addToUnscopables = function (key) {\n    ArrayPrototype[UNSCOPABLES][key] = true;\n  };\n\n  var $includes = arrayIncludes.includes;\n\n\n\n  var USES_TO_LENGTH$4 = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  _export({ target: 'Array', proto: true, forced: !USES_TO_LENGTH$4 }, {\n    includes: function includes(el /* , fromIndex = 0 */) {\n      return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables('includes');\n\n  var MATCH = wellKnownSymbol('match');\n\n  // `IsRegExp` abstract operation\n  // https://tc39.github.io/ecma262/#sec-isregexp\n  var isRegexp = function (it) {\n    var isRegExp;\n    return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n  };\n\n  var notARegexp = function (it) {\n    if (isRegexp(it)) {\n      throw TypeError(\"The method doesn't accept regular expressions\");\n    } return it;\n  };\n\n  var MATCH$1 = wellKnownSymbol('match');\n\n  var correctIsRegexpLogic = function (METHOD_NAME) {\n    var regexp = /./;\n    try {\n      '/./'[METHOD_NAME](regexp);\n    } catch (e) {\n      try {\n        regexp[MATCH$1] = false;\n        return '/./'[METHOD_NAME](regexp);\n      } catch (f) { /* empty */ }\n    } return false;\n  };\n\n  // `String.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.includes\n  _export({ target: 'String', proto: true, forced: !correctIsRegexpLogic('includes') }, {\n    includes: function includes(searchString /* , position = 0 */) {\n      return !!~String(requireObjectCoercible(this))\n        .indexOf(notARegexp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  function getDefaultItems$1() {\n    // defaultItems.slice(0)[0] === defaultItems.slice(0)[0] -> true\n    // Object.assign(defaultItems)[0] === Object.assign(defaultItems)[0] -> true\n    // clone = (val) => JSON.parse(JSON.stringify(val))\n    // clone(defaultItems)[0] === clone(defaultItems)[0] -> false\n    var defaultItems = [{\n      value: 'A'\n    }, {\n      value: 'B'\n    }, {\n      value: 'C'\n    }];\n    return defaultItems;\n  }\n\n  var LbpFormCheckboxGroup = {\n    name: 'lbp-form-checkbox-group',\n    components: {\n      LbpFormRadio: LbpFormRadio\n    },\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      aliasName: PropTypes.string({\n        defaultValue: '',\n        label: ''\n      }),\n      items: PropTypes.textOptions({\n        label: '',\n        defaultValue: function defaultValue() {\n          return getDefaultItems$1();\n        }\n      }),\n      // TODO  radio-group  common-props\n      type: {\n        type: String,\n        default: 'checkbox',\n        editor: {\n          type: 'a-radio-group',\n          label: '',\n          require: true,\n          props: {\n            options: [{\n              label: '',\n              value: 'radio'\n            }, {\n              label: '',\n              value: 'checkbox'\n            }],\n            name: 'mode'\n          }\n        }\n      }\n    },\n    data: function data() {\n      return {\n        value: this.type === 'radio' ? '' : [],\n        uuid: undefined\n      };\n    },\n    computed: {\n      value_: function value_() {\n        if (this.type === 'radio') {\n          return this.value;\n        } else {\n          var value = Array.isArray(this.value) && this.value || [];\n          return value.join(',');\n        }\n      }\n    },\n    watch: {\n      type: function type(_type) {\n        this.value = _type === 'radio' ? '' : [];\n      }\n    },\n    mounted: function mounted() {\n      this.uuid = this.$el.dataset.uuid;\n    },\n    methods: {\n      /**\r\n       * @param {String, Number} val radioValue or checkboxValue\r\n       */\n      onChange: function onChange(val) {\n        switch (this.type) {\n          case 'radio':\n            this.toggleRadio(val);\n            break;\n\n          case 'checkbox':\n            this.toggleCheckbox(val);\n            break;\n        }\n      },\n      toggleCheckbox: function toggleCheckbox(val) {\n        var index = this.value.indexOf(val);\n\n        if (index === -1) {\n          this.value.push(val);\n        } else {\n          this.value.splice(index, 1);\n        }\n      },\n      toggleRadio: function toggleRadio(val) {\n        this.value = val;\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"h3\", [this.aliasName]), h(\"input\", {\n        \"attrs\": {\n          \"type\": \"text\",\n          \"hidden\": true,\n          \"data-type\": \"lbp-form-input\",\n          \"data-uuid\": this.uuid\n        },\n        \"domProps\": {\n          \"value\": this.value_\n        }\n      }), this.items.map(function (item) {\n        return h(\"lbp-form-radio\", {\n          \"attrs\": {\n            \"vertical\": true,\n            \"value\": item.value,\n            \"checked\": _this.type === 'radio' ? _this.value === item.value : _this.value.includes(item.value),\n            \"aliasName\": _this.uuid,\n            \"type\": _this.type\n          },\n          \"on\": {\n            \"change\": _this.onChange\n          }\n        }, [item.value]);\n      })]);\n    }\n  };\n\n  var nativeGetOwnPropertyNames = objectGetOwnPropertyNames.f;\n\n  var toString$1 = {}.toString;\n\n  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n    ? Object.getOwnPropertyNames(window) : [];\n\n  var getWindowNames = function (it) {\n    try {\n      return nativeGetOwnPropertyNames(it);\n    } catch (error) {\n      return windowNames.slice();\n    }\n  };\n\n  // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n  var f$5 = function getOwnPropertyNames(it) {\n    return windowNames && toString$1.call(it) == '[object Window]'\n      ? getWindowNames(it)\n      : nativeGetOwnPropertyNames(toIndexedObject(it));\n  };\n\n  var objectGetOwnPropertyNamesExternal = {\n  \tf: f$5\n  };\n\n  var f$6 = wellKnownSymbol;\n\n  var wellKnownSymbolWrapped = {\n  \tf: f$6\n  };\n\n  var defineProperty$4 = objectDefineProperty.f;\n\n  var defineWellKnownSymbol = function (NAME) {\n    var Symbol = path.Symbol || (path.Symbol = {});\n    if (!has(Symbol, NAME)) defineProperty$4(Symbol, NAME, {\n      value: wellKnownSymbolWrapped.f(NAME)\n    });\n  };\n\n  var defineProperty$5 = objectDefineProperty.f;\n\n\n\n  var TO_STRING_TAG$2 = wellKnownSymbol('toStringTag');\n\n  var setToStringTag = function (it, TAG, STATIC) {\n    if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG$2)) {\n      defineProperty$5(it, TO_STRING_TAG$2, { configurable: true, value: TAG });\n    }\n  };\n\n  var $forEach$1 = arrayIteration.forEach;\n\n  var HIDDEN = sharedKey('hidden');\n  var SYMBOL = 'Symbol';\n  var PROTOTYPE$1 = 'prototype';\n  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n  var setInternalState = internalState.set;\n  var getInternalState = internalState.getterFor(SYMBOL);\n  var ObjectPrototype = Object[PROTOTYPE$1];\n  var $Symbol = global_1.Symbol;\n  var $stringify = getBuiltIn('JSON', 'stringify');\n  var nativeGetOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n  var nativeDefineProperty$1 = objectDefineProperty.f;\n  var nativeGetOwnPropertyNames$1 = objectGetOwnPropertyNamesExternal.f;\n  var nativePropertyIsEnumerable$1 = objectPropertyIsEnumerable.f;\n  var AllSymbols = shared('symbols');\n  var ObjectPrototypeSymbols = shared('op-symbols');\n  var StringToSymbolRegistry = shared('string-to-symbol-registry');\n  var SymbolToStringRegistry = shared('symbol-to-string-registry');\n  var WellKnownSymbolsStore$1 = shared('wks');\n  var QObject = global_1.QObject;\n  // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n  var USE_SETTER = !QObject || !QObject[PROTOTYPE$1] || !QObject[PROTOTYPE$1].findChild;\n\n  // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n  var setSymbolDescriptor = descriptors && fails(function () {\n    return objectCreate(nativeDefineProperty$1({}, 'a', {\n      get: function () { return nativeDefineProperty$1(this, 'a', { value: 7 }).a; }\n    })).a != 7;\n  }) ? function (O, P, Attributes) {\n    var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor$1(ObjectPrototype, P);\n    if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n    nativeDefineProperty$1(O, P, Attributes);\n    if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n      nativeDefineProperty$1(ObjectPrototype, P, ObjectPrototypeDescriptor);\n    }\n  } : nativeDefineProperty$1;\n\n  var wrap = function (tag, description) {\n    var symbol = AllSymbols[tag] = objectCreate($Symbol[PROTOTYPE$1]);\n    setInternalState(symbol, {\n      type: SYMBOL,\n      tag: tag,\n      description: description\n    });\n    if (!descriptors) symbol.description = description;\n    return symbol;\n  };\n\n  var isSymbol = useSymbolAsUid ? function (it) {\n    return typeof it == 'symbol';\n  } : function (it) {\n    return Object(it) instanceof $Symbol;\n  };\n\n  var $defineProperty = function defineProperty(O, P, Attributes) {\n    if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n    anObject(O);\n    var key = toPrimitive(P, true);\n    anObject(Attributes);\n    if (has(AllSymbols, key)) {\n      if (!Attributes.enumerable) {\n        if (!has(O, HIDDEN)) nativeDefineProperty$1(O, HIDDEN, createPropertyDescriptor(1, {}));\n        O[HIDDEN][key] = true;\n      } else {\n        if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n        Attributes = objectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n      } return setSymbolDescriptor(O, key, Attributes);\n    } return nativeDefineProperty$1(O, key, Attributes);\n  };\n\n  var $defineProperties = function defineProperties(O, Properties) {\n    anObject(O);\n    var properties = toIndexedObject(Properties);\n    var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n    $forEach$1(keys, function (key) {\n      if (!descriptors || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n    });\n    return O;\n  };\n\n  var $create = function create(O, Properties) {\n    return Properties === undefined ? objectCreate(O) : $defineProperties(objectCreate(O), Properties);\n  };\n\n  var $propertyIsEnumerable = function propertyIsEnumerable(V) {\n    var P = toPrimitive(V, true);\n    var enumerable = nativePropertyIsEnumerable$1.call(this, P);\n    if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n    return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n  };\n\n  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n    var it = toIndexedObject(O);\n    var key = toPrimitive(P, true);\n    if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n    var descriptor = nativeGetOwnPropertyDescriptor$1(it, key);\n    if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n      descriptor.enumerable = true;\n    }\n    return descriptor;\n  };\n\n  var $getOwnPropertyNames = function getOwnPropertyNames(O) {\n    var names = nativeGetOwnPropertyNames$1(toIndexedObject(O));\n    var result = [];\n    $forEach$1(names, function (key) {\n      if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n    });\n    return result;\n  };\n\n  var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n    var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n    var names = nativeGetOwnPropertyNames$1(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n    var result = [];\n    $forEach$1(names, function (key) {\n      if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n        result.push(AllSymbols[key]);\n      }\n    });\n    return result;\n  };\n\n  // `Symbol` constructor\n  // https://tc39.github.io/ecma262/#sec-symbol-constructor\n  if (!nativeSymbol) {\n    $Symbol = function Symbol() {\n      if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n      var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var tag = uid(description);\n      var setter = function (value) {\n        if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n        if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n        setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n      };\n      if (descriptors && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n      return wrap(tag, description);\n    };\n\n    redefine($Symbol[PROTOTYPE$1], 'toString', function toString() {\n      return getInternalState(this).tag;\n    });\n\n    redefine($Symbol, 'withoutSetter', function (description) {\n      return wrap(uid(description), description);\n    });\n\n    objectPropertyIsEnumerable.f = $propertyIsEnumerable;\n    objectDefineProperty.f = $defineProperty;\n    objectGetOwnPropertyDescriptor.f = $getOwnPropertyDescriptor;\n    objectGetOwnPropertyNames.f = objectGetOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n    objectGetOwnPropertySymbols.f = $getOwnPropertySymbols;\n\n    wellKnownSymbolWrapped.f = function (name) {\n      return wrap(wellKnownSymbol(name), name);\n    };\n\n    if (descriptors) {\n      // https://github.com/tc39/proposal-Symbol-description\n      nativeDefineProperty$1($Symbol[PROTOTYPE$1], 'description', {\n        configurable: true,\n        get: function description() {\n          return getInternalState(this).description;\n        }\n      });\n      {\n        redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n      }\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: !nativeSymbol, sham: !nativeSymbol }, {\n    Symbol: $Symbol\n  });\n\n  $forEach$1(objectKeys(WellKnownSymbolsStore$1), function (name) {\n    defineWellKnownSymbol(name);\n  });\n\n  _export({ target: SYMBOL, stat: true, forced: !nativeSymbol }, {\n    // `Symbol.for` method\n    // https://tc39.github.io/ecma262/#sec-symbol.for\n    'for': function (key) {\n      var string = String(key);\n      if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n      var symbol = $Symbol(string);\n      StringToSymbolRegistry[string] = symbol;\n      SymbolToStringRegistry[symbol] = string;\n      return symbol;\n    },\n    // `Symbol.keyFor` method\n    // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n    keyFor: function keyFor(sym) {\n      if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n      if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n    },\n    useSetter: function () { USE_SETTER = true; },\n    useSimple: function () { USE_SETTER = false; }\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol, sham: !descriptors }, {\n    // `Object.create` method\n    // https://tc39.github.io/ecma262/#sec-object.create\n    create: $create,\n    // `Object.defineProperty` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperty\n    defineProperty: $defineProperty,\n    // `Object.defineProperties` method\n    // https://tc39.github.io/ecma262/#sec-object.defineproperties\n    defineProperties: $defineProperties,\n    // `Object.getOwnPropertyDescriptor` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n    getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n  });\n\n  _export({ target: 'Object', stat: true, forced: !nativeSymbol }, {\n    // `Object.getOwnPropertyNames` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n    getOwnPropertyNames: $getOwnPropertyNames,\n    // `Object.getOwnPropertySymbols` method\n    // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n    getOwnPropertySymbols: $getOwnPropertySymbols\n  });\n\n  // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n  // https://bugs.chromium.org/p/v8/issues/detail?id=3443\n  _export({ target: 'Object', stat: true, forced: fails(function () { objectGetOwnPropertySymbols.f(1); }) }, {\n    getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n      return objectGetOwnPropertySymbols.f(toObject(it));\n    }\n  });\n\n  // `JSON.stringify` method behavior with symbols\n  // https://tc39.github.io/ecma262/#sec-json.stringify\n  if ($stringify) {\n    var FORCED_JSON_STRINGIFY = !nativeSymbol || fails(function () {\n      var symbol = $Symbol();\n      // MS Edge converts symbol values to JSON as {}\n      return $stringify([symbol]) != '[null]'\n        // WebKit converts symbol values to JSON as null\n        || $stringify({ a: symbol }) != '{}'\n        // V8 throws on boxed symbols\n        || $stringify(Object(symbol)) != '{}';\n    });\n\n    _export({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n      // eslint-disable-next-line no-unused-vars\n      stringify: function stringify(it, replacer, space) {\n        var args = [it];\n        var index = 1;\n        var $replacer;\n        while (arguments.length > index) args.push(arguments[index++]);\n        $replacer = replacer;\n        if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n        if (!isArray(replacer)) replacer = function (key, value) {\n          if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n          if (!isSymbol(value)) return value;\n        };\n        args[1] = replacer;\n        return $stringify.apply(null, args);\n      }\n    });\n  }\n\n  // `Symbol.prototype[@@toPrimitive]` method\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\n  if (!$Symbol[PROTOTYPE$1][TO_PRIMITIVE]) {\n    createNonEnumerableProperty($Symbol[PROTOTYPE$1], TO_PRIMITIVE, $Symbol[PROTOTYPE$1].valueOf);\n  }\n  // `Symbol.prototype[@@toStringTag]` property\n  // https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\n  setToStringTag($Symbol, SYMBOL);\n\n  hiddenKeys[HIDDEN] = true;\n\n  var $filter = arrayIteration.filter;\n\n\n\n  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport('filter');\n  // Edge 14- issue\n  var USES_TO_LENGTH$5 = arrayMethodUsesToLength('filter');\n\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  // with adding support of @@species\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 || !USES_TO_LENGTH$5 }, {\n    filter: function filter(callbackfn /* , thisArg */) {\n      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  var nativeGetOwnPropertyDescriptor$2 = objectGetOwnPropertyDescriptor.f;\n\n\n  var FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor$2(1); });\n  var FORCED$1 = !descriptors || FAILS_ON_PRIMITIVES;\n\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n  _export({ target: 'Object', stat: true, forced: FORCED$1, sham: !descriptors }, {\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n      return nativeGetOwnPropertyDescriptor$2(toIndexedObject(it), key);\n    }\n  });\n\n  // `Object.getOwnPropertyDescriptors` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  _export({ target: 'Object', stat: true, sham: !descriptors }, {\n    getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n      var O = toIndexedObject(object);\n      var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n      var keys = ownKeys(O);\n      var result = {};\n      var index = 0;\n      var key, descriptor;\n      while (keys.length > index) {\n        descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n        if (descriptor !== undefined) createProperty(result, key, descriptor);\n      }\n      return result;\n    }\n  });\n\n  var FAILS_ON_PRIMITIVES$1 = fails(function () { objectKeys(1); });\n\n  // `Object.keys` method\n  // https://tc39.github.io/ecma262/#sec-object.keys\n  _export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$1 }, {\n    keys: function keys(it) {\n      return objectKeys(toObject(it));\n    }\n  });\n\n  /**\r\n   *\r\n   * @param {*} param0 canvas  watermark\r\n   */\n\n  function renderWaterMark() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$container = _ref.container,\n        container = _ref$container === void 0 ? document.body : _ref$container,\n        _ref$width = _ref.width,\n        width = _ref$width === void 0 ? '100px' : _ref$width,\n        _ref$height = _ref.height,\n        height = _ref$height === void 0 ? '100px' : _ref$height,\n        _ref$textAlign = _ref.textAlign,\n        textAlign = _ref$textAlign === void 0 ? 'center' : _ref$textAlign,\n        _ref$textBaseline = _ref.textBaseline,\n        textBaseline = _ref$textBaseline === void 0 ? 'middle' : _ref$textBaseline,\n        _ref$fontSize = _ref.fontSize,\n        fontSize = _ref$fontSize === void 0 ? 16 : _ref$fontSize,\n        _ref$fillStyle = _ref.fillStyle,\n        fillStyle = _ref$fillStyle === void 0 ? 'rgba(184, 184, 184, 0.2 )' : _ref$fillStyle,\n        _ref$content = _ref.content,\n        content = _ref$content === void 0 ? '' : _ref$content,\n        _ref$rotate = _ref.rotate,\n        rotate = _ref$rotate === void 0 ? 0 : _ref$rotate,\n        _ref$zIndex = _ref.zIndex,\n        zIndex = _ref$zIndex === void 0 ? 1000 : _ref$zIndex;\n\n    var canvas = document.createElement('canvas');\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n    var ctx = canvas.getContext('2d');\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = \"\".concat(fontSize, \"px Arial\");\n    ctx.fillStyle = fillStyle; // ctx.rotate(Math.PI / 180 * rotate);\n\n    ctx.fillText(content, 0, parseFloat(height) / 3);\n    var base64Url = canvas.toDataURL();\n    var wmEl = document.querySelector('.luban_h5__wm');\n    var watermarkDiv = wmEl || document.createElement('div');\n    var styleStr = \"\\n    transform: rotate(\".concat(rotate, \"deg);\\n    position:absolute;\\n    top:0;\\n    left:0;\\n    width:100%;\\n    height:100%;\\n    z-index:\").concat(zIndex, \";\\n    pointer-events:none;\\n    background-repeat:repeat;\\n    background-image:url('\").concat(base64Url, \"');\\n    user-select: none\");\n    watermarkDiv.setAttribute('style', styleStr);\n\n    if (!wmEl) {\n      watermarkDiv.classList.add('luban_h5__wm');\n      container.style.position = 'relative';\n      container.insertBefore(watermarkDiv, container.firstChild);\n    }\n  }\n\n  function ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var LbpBackground = {\n    name: 'lbp-background',\n    props: {\n      imgSrc: PropTypes.string({\n        label: ''\n      }),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(255, 255, 255, 0.2)'\n      }),\n      waterMarkText: PropTypes.string({\n        label: '',\n        defaultValue: ''\n      }),\n      waterMarkFontSize: PropTypes.number({\n        label: '(px)',\n        defaultValue: 16\n      }),\n      waterMarkRotate: PropTypes.number({\n        label: '',\n        defaultValue: 10\n      }),\n      waterMarkColor: PropTypes.color({\n        label: '',\n        defaultValue: 'rgba(184, 184, 184, 0.2)'\n      })\n    },\n    methods: {\n      renderWaterMark: function renderWaterMark$1() {\n        renderWaterMark({\n          container: this.$refs.root,\n          content: this.waterMarkText,\n          fontSize: this.waterMarkFontSize,\n          rotate: this.waterMarkRotate,\n          fillStyle: this.waterMarkColor\n        });\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var style = {\n        width: '100%',\n        height: '100%'\n      };\n\n      if (this.imgSrc) {\n        style = _objectSpread(_objectSpread({}, style), {}, {\n          'background-size': 'cover',\n          'background-position': '50% 50%',\n          'background-origin': 'content-box',\n          'background-image': \"url(\".concat(this.imgSrc, \")\")\n        });\n      } else {\n        style = _objectSpread({\n          backgroundColor: this.backgroundColor\n        }, style);\n      }\n\n      return (// [:CSS] : https://codesandbox.io/s/ziyuansuzindexzaigao-wufafugaifuyuansudexiongdiyuansu-n15rd?file=/index.html\n        h(\"div\", {\n          \"style\": \"width: 100%; height: 100%; overflow: hidden; position: absolute; z-index: 0; opacity: 1;\",\n          \"ref\": \"root\"\n        }, [h(\"div\", {\n          \"style\": style\n        })])\n      );\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      this.renderWaterMark();\n      ['waterMarkText', 'waterMarkFontSize', 'waterMarkRotate', 'waterMarkColor'].forEach(function (key) {\n        _this.$watch(key, _this.renderWaterMark);\n      });\n    }\n  };\n\n  function getDefaultItems$2() {\n    var defaultItems = [{\n      image: 'https://img.yzcdn.cn/vant/apple-1.jpg'\n    }, {\n      image: 'https://img.yzcdn.cn/vant/apple-2.jpg'\n    }];\n    return defaultItems;\n  }\n\n  var LbpSlide = {\n    name: 'lbp-slide',\n    props: {\n      interval: PropTypes.number({\n        defaultValue: 4000,\n        label: ''\n      }),\n      editorMode: PropTypes.string({\n        defaultValue: 'preview',\n        label: ''\n      }),\n      activeIndex: {\n        type: Number,\n        default: 0,\n        editor: {\n          custom: true\n        }\n      },\n      items: {\n        type: Array,\n        default: function _default() {\n          return getDefaultItems$2();\n        },\n        editor: {\n          custom: true\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      var items = this.items,\n          activeIndex = this.activeIndex;\n      return this.editorMode === 'edit' ? items.length && h(\"img\", {\n        \"attrs\": {\n          \"src\": items[activeIndex].image\n        }\n      }) : h(vant.Swipe, {\n        \"attrs\": {\n          \"autoplay\": +this.interval,\n          \"indicator-color\": \"red\"\n        }\n      }, [items.map(function (item) {\n        return h(vant.SwipeItem, [h(\"img\", {\n          \"attrs\": {\n            \"src\": item.image,\n            \"width\": \"100%\",\n            \"height\": \"100%\"\n          }\n        })]);\n      })]);\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-01-03 23:43:34\r\n   * @LastEditors: ly525\r\n   * @LastEditTime: 2020-10-10 23:32:41\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-bg-music.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpBgMusic = {\n    name: 'lbp-bg-music',\n    props: {\n      disabled: PropTypes.boolean({\n        defaultValue: true,\n        label: 'disabled'\n      }),\n      autoplay: PropTypes.boolean({\n        defaultValue: true,\n        label: ''\n      }),\n      src: PropTypes.string({\n        label: 'URL',\n        defaultValue: 'http://go.163.com/2018/0209/mengniu/audio/bgm.mp3',\n        props: {\n          type: 'textarea'\n        }\n      })\n    },\n    data: function data() {\n      return {\n        isPlaying: true\n      };\n    },\n    methods: {\n      toggle: function toggle() {\n        var bgAudio = this.$refs.bgAudio;\n        if (!bgAudio) return;\n        this.isPlaying ? bgAudio.pause() : bgAudio.play();\n        this.isPlaying = !this.isPlaying;\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var btnStyle = {\n        'animation-play-state': this.isPlaying ? 'running' : 'paused'\n      };\n      return h(\"div\", {\n        \"class\": \"bg-music-wrapper\",\n        \"style\": \"display: block;\"\n      }, [h(\"div\", {\n        \"class\": \"bg-music-btn rotate\",\n        \"style\": btnStyle,\n        \"on\": {\n          \"click\": this.toggle\n        },\n        \"attrs\": {\n          \"disabled\": this.disabled\n        }\n      }, [h(\"audio\", {\n        \"attrs\": {\n          \"src\": this.src,\n          \"autoplay\": this.autoplay,\n          \"preload\": true,\n          \"loop\": true\n        },\n        \"ref\": 'bgAudio'\n      })])]);\n    },\n    created: function created() {\n      // autoplay \n      // \n      this.isPlaying = this.autoplay;\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-14 08:09:44\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-11-10 15:09:00\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-notice-bar.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpNoticeBar = {\n    name: 'lbp-notice-bar',\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      text: PropTypes.string({\n        defaultValue: '',\n        label: '',\n        props: {\n          type: 'textarea'\n        }\n      }),\n      vertical: PropTypes.boolean(),\n      backgroundColor: PropTypes.color({\n        label: '',\n        defaultValue: '#fffbe8'\n      }),\n\n      /**  */\n      color: PropTypes.color({\n        defaultValue: '#ed6a0c'\n      }),\n\n      /**  */\n      mode: {\n        type: String,\n        default: '',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: '',\n              value: ''\n            }, {\n              label: '',\n              value: 'link'\n            }, {\n              label: '',\n              value: 'closeable'\n            }]\n          }\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      return h(vant.NoticeBar, {\n        \"attrs\": {\n          \"mode\": this.mode,\n          \"color\": this.color,\n          \"left-icon\": \"volume-o\",\n          \"text\": this.text,\n          \"background\": this.backgroundColor\n        }\n      });\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-17 20:04:23\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-28 17:58:59\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/plugins/lbp-rate.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var LbpRate = {\n    name: 'lbp-rate',\n    props: {\n      value: PropTypes.number({\n        defaultValue: 5,\n        label: ''\n      }),\n      count: PropTypes.number({\n        defaultValue: 5,\n        label: ''\n      }),\n      size: PropTypes.number({\n        defaultValue: 16,\n        label: ''\n      }),\n      gutter: PropTypes.number({\n        defaultValue: 16,\n        label: ''\n      }),\n      mode: {\n        type: String,\n        default: '',\n        editor: {\n          type: 'a-select',\n          label: '',\n          props: {\n            options: [{\n              label: 'star',\n              value: 'star'\n            }, {\n              label: '',\n              value: 'like'\n            }, {\n              label: 'Good',\n              value: 'good-job'\n            }]\n          }\n        }\n      }\n    },\n    componentsForPropsEditor: {},\n    mounted: function mounted() {},\n    methods: {},\n    render: function render() {\n      var h = arguments[0];\n      return h(vant.Rate, {\n        \"attrs\": {\n          \"value\": this.value,\n          \"count\": this.count,\n          \"size\": this.size,\n          \"color\": this.color,\n          \"gutter\": this.gutter,\n          \"void-icon\": \"star\",\n          \"void-color\": \"#eee\"\n        }\n      });\n    }\n  };\n\n  var non = '\\u200B\\u0085\\u180E';\n\n  // check that a method works with the correct list\n  // of whitespaces and has a correct name\n  var stringTrimForced = function (METHOD_NAME) {\n    return fails(function () {\n      return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n    });\n  };\n\n  var $trim = stringTrim.trim;\n\n\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  _export({ target: 'String', proto: true, forced: stringTrimForced('trim') }, {\n    trim: function trim() {\n      return $trim(this);\n    }\n  });\n\n  var nativePromiseConstructor = global_1.Promise;\n\n  var redefineAll = function (target, src, options) {\n    for (var key in src) redefine(target, key, src[key], options);\n    return target;\n  };\n\n  var SPECIES$2 = wellKnownSymbol('species');\n\n  var setSpecies = function (CONSTRUCTOR_NAME) {\n    var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n    var defineProperty = objectDefineProperty.f;\n\n    if (descriptors && Constructor && !Constructor[SPECIES$2]) {\n      defineProperty(Constructor, SPECIES$2, {\n        configurable: true,\n        get: function () { return this; }\n      });\n    }\n  };\n\n  var anInstance = function (it, Constructor, name) {\n    if (!(it instanceof Constructor)) {\n      throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n    } return it;\n  };\n\n  var iterators = {};\n\n  var ITERATOR = wellKnownSymbol('iterator');\n  var ArrayPrototype$1 = Array.prototype;\n\n  // check on default Array iterator\n  var isArrayIteratorMethod = function (it) {\n    return it !== undefined && (iterators.Array === it || ArrayPrototype$1[ITERATOR] === it);\n  };\n\n  var ITERATOR$1 = wellKnownSymbol('iterator');\n\n  var getIteratorMethod = function (it) {\n    if (it != undefined) return it[ITERATOR$1]\n      || it['@@iterator']\n      || iterators[classof(it)];\n  };\n\n  // call something on iterator step with safe closing on error\n  var callWithSafeIterationClosing = function (iterator, fn, value, ENTRIES) {\n    try {\n      return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n    // 7.4.6 IteratorClose(iterator, completion)\n    } catch (error) {\n      var returnMethod = iterator['return'];\n      if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n      throw error;\n    }\n  };\n\n  var iterate_1 = createCommonjsModule(function (module) {\n  var Result = function (stopped, result) {\n    this.stopped = stopped;\n    this.result = result;\n  };\n\n  var iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n    var boundFunction = functionBindContext(fn, that, AS_ENTRIES ? 2 : 1);\n    var iterator, iterFn, index, length, result, next, step;\n\n    if (IS_ITERATOR) {\n      iterator = iterable;\n    } else {\n      iterFn = getIteratorMethod(iterable);\n      if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n      // optimisation for array iterators\n      if (isArrayIteratorMethod(iterFn)) {\n        for (index = 0, length = toLength(iterable.length); length > index; index++) {\n          result = AS_ENTRIES\n            ? boundFunction(anObject(step = iterable[index])[0], step[1])\n            : boundFunction(iterable[index]);\n          if (result && result instanceof Result) return result;\n        } return new Result(false);\n      }\n      iterator = iterFn.call(iterable);\n    }\n\n    next = iterator.next;\n    while (!(step = next.call(iterator)).done) {\n      result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n      if (typeof result == 'object' && result && result instanceof Result) return result;\n    } return new Result(false);\n  };\n\n  iterate.stop = function (result) {\n    return new Result(true, result);\n  };\n  });\n\n  var ITERATOR$2 = wellKnownSymbol('iterator');\n  var SAFE_CLOSING = false;\n\n  try {\n    var called = 0;\n    var iteratorWithReturn = {\n      next: function () {\n        return { done: !!called++ };\n      },\n      'return': function () {\n        SAFE_CLOSING = true;\n      }\n    };\n    iteratorWithReturn[ITERATOR$2] = function () {\n      return this;\n    };\n    // eslint-disable-next-line no-throw-literal\n    Array.from(iteratorWithReturn, function () { throw 2; });\n  } catch (error) { /* empty */ }\n\n  var checkCorrectnessOfIteration = function (exec, SKIP_CLOSING) {\n    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n    var ITERATION_SUPPORT = false;\n    try {\n      var object = {};\n      object[ITERATOR$2] = function () {\n        return {\n          next: function () {\n            return { done: ITERATION_SUPPORT = true };\n          }\n        };\n      };\n      exec(object);\n    } catch (error) { /* empty */ }\n    return ITERATION_SUPPORT;\n  };\n\n  var SPECIES$3 = wellKnownSymbol('species');\n\n  // `SpeciesConstructor` abstract operation\n  // https://tc39.github.io/ecma262/#sec-speciesconstructor\n  var speciesConstructor = function (O, defaultConstructor) {\n    var C = anObject(O).constructor;\n    var S;\n    return C === undefined || (S = anObject(C)[SPECIES$3]) == undefined ? defaultConstructor : aFunction$1(S);\n  };\n\n  var engineIsIos = /(iphone|ipod|ipad).*applewebkit/i.test(engineUserAgent);\n\n  var location = global_1.location;\n  var set$1 = global_1.setImmediate;\n  var clear = global_1.clearImmediate;\n  var process$1 = global_1.process;\n  var MessageChannel = global_1.MessageChannel;\n  var Dispatch = global_1.Dispatch;\n  var counter = 0;\n  var queue = {};\n  var ONREADYSTATECHANGE = 'onreadystatechange';\n  var defer, channel, port;\n\n  var run = function (id) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (queue.hasOwnProperty(id)) {\n      var fn = queue[id];\n      delete queue[id];\n      fn();\n    }\n  };\n\n  var runner = function (id) {\n    return function () {\n      run(id);\n    };\n  };\n\n  var listener = function (event) {\n    run(event.data);\n  };\n\n  var post = function (id) {\n    // old engines have not location.origin\n    global_1.postMessage(id + '', location.protocol + '//' + location.host);\n  };\n\n  // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n  if (!set$1 || !clear) {\n    set$1 = function setImmediate(fn) {\n      var args = [];\n      var i = 1;\n      while (arguments.length > i) args.push(arguments[i++]);\n      queue[++counter] = function () {\n        // eslint-disable-next-line no-new-func\n        (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n      };\n      defer(counter);\n      return counter;\n    };\n    clear = function clearImmediate(id) {\n      delete queue[id];\n    };\n    // Node.js 0.8-\n    if (classofRaw(process$1) == 'process') {\n      defer = function (id) {\n        process$1.nextTick(runner(id));\n      };\n    // Sphere (JS game engine) Dispatch API\n    } else if (Dispatch && Dispatch.now) {\n      defer = function (id) {\n        Dispatch.now(runner(id));\n      };\n    // Browsers with MessageChannel, includes WebWorkers\n    // except iOS - https://github.com/zloirock/core-js/issues/624\n    } else if (MessageChannel && !engineIsIos) {\n      channel = new MessageChannel();\n      port = channel.port2;\n      channel.port1.onmessage = listener;\n      defer = functionBindContext(port.postMessage, port, 1);\n    // Browsers with postMessage, skip WebWorkers\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n    } else if (\n      global_1.addEventListener &&\n      typeof postMessage == 'function' &&\n      !global_1.importScripts &&\n      !fails(post) &&\n      location.protocol !== 'file:'\n    ) {\n      defer = post;\n      global_1.addEventListener('message', listener, false);\n    // IE8-\n    } else if (ONREADYSTATECHANGE in documentCreateElement('script')) {\n      defer = function (id) {\n        html.appendChild(documentCreateElement('script'))[ONREADYSTATECHANGE] = function () {\n          html.removeChild(this);\n          run(id);\n        };\n      };\n    // Rest old browsers\n    } else {\n      defer = function (id) {\n        setTimeout(runner(id), 0);\n      };\n    }\n  }\n\n  var task = {\n    set: set$1,\n    clear: clear\n  };\n\n  var getOwnPropertyDescriptor$3 = objectGetOwnPropertyDescriptor.f;\n\n  var macrotask = task.set;\n\n\n  var MutationObserver = global_1.MutationObserver || global_1.WebKitMutationObserver;\n  var process$2 = global_1.process;\n  var Promise$1 = global_1.Promise;\n  var IS_NODE = classofRaw(process$2) == 'process';\n  // Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\n  var queueMicrotaskDescriptor = getOwnPropertyDescriptor$3(global_1, 'queueMicrotask');\n  var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\n  var flush, head, last, notify, toggle, node, promise, then;\n\n  // modern engines have queueMicrotask method\n  if (!queueMicrotask) {\n    flush = function () {\n      var parent, fn;\n      if (IS_NODE && (parent = process$2.domain)) parent.exit();\n      while (head) {\n        fn = head.fn;\n        head = head.next;\n        try {\n          fn();\n        } catch (error) {\n          if (head) notify();\n          else last = undefined;\n          throw error;\n        }\n      } last = undefined;\n      if (parent) parent.enter();\n    };\n\n    // Node.js\n    if (IS_NODE) {\n      notify = function () {\n        process$2.nextTick(flush);\n      };\n    // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n    } else if (MutationObserver && !engineIsIos) {\n      toggle = true;\n      node = document.createTextNode('');\n      new MutationObserver(flush).observe(node, { characterData: true });\n      notify = function () {\n        node.data = toggle = !toggle;\n      };\n    // environments with maybe non-completely correct, but existent Promise\n    } else if (Promise$1 && Promise$1.resolve) {\n      // Promise.resolve without an argument throws an error in LG WebOS 2\n      promise = Promise$1.resolve(undefined);\n      then = promise.then;\n      notify = function () {\n        then.call(promise, flush);\n      };\n    // for other environments - macrotask based on:\n    // - setImmediate\n    // - MessageChannel\n    // - window.postMessag\n    // - onreadystatechange\n    // - setTimeout\n    } else {\n      notify = function () {\n        // strange IE + webpack dev server bug - use .call(global)\n        macrotask.call(global_1, flush);\n      };\n    }\n  }\n\n  var microtask = queueMicrotask || function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n\n  var PromiseCapability = function (C) {\n    var resolve, reject;\n    this.promise = new C(function ($$resolve, $$reject) {\n      if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n      resolve = $$resolve;\n      reject = $$reject;\n    });\n    this.resolve = aFunction$1(resolve);\n    this.reject = aFunction$1(reject);\n  };\n\n  // 25.4.1.5 NewPromiseCapability(C)\n  var f$7 = function (C) {\n    return new PromiseCapability(C);\n  };\n\n  var newPromiseCapability = {\n  \tf: f$7\n  };\n\n  var promiseResolve = function (C, x) {\n    anObject(C);\n    if (isObject(x) && x.constructor === C) return x;\n    var promiseCapability = newPromiseCapability.f(C);\n    var resolve = promiseCapability.resolve;\n    resolve(x);\n    return promiseCapability.promise;\n  };\n\n  var hostReportErrors = function (a, b) {\n    var console = global_1.console;\n    if (console && console.error) {\n      arguments.length === 1 ? console.error(a) : console.error(a, b);\n    }\n  };\n\n  var perform = function (exec) {\n    try {\n      return { error: false, value: exec() };\n    } catch (error) {\n      return { error: true, value: error };\n    }\n  };\n\n  var task$1 = task.set;\n\n\n\n\n\n\n\n\n\n\n  var SPECIES$4 = wellKnownSymbol('species');\n  var PROMISE = 'Promise';\n  var getInternalState$1 = internalState.get;\n  var setInternalState$1 = internalState.set;\n  var getInternalPromiseState = internalState.getterFor(PROMISE);\n  var PromiseConstructor = nativePromiseConstructor;\n  var TypeError$1 = global_1.TypeError;\n  var document$2 = global_1.document;\n  var process$3 = global_1.process;\n  var $fetch = getBuiltIn('fetch');\n  var newPromiseCapability$1 = newPromiseCapability.f;\n  var newGenericPromiseCapability = newPromiseCapability$1;\n  var IS_NODE$1 = classofRaw(process$3) == 'process';\n  var DISPATCH_EVENT = !!(document$2 && document$2.createEvent && global_1.dispatchEvent);\n  var UNHANDLED_REJECTION = 'unhandledrejection';\n  var REJECTION_HANDLED = 'rejectionhandled';\n  var PENDING = 0;\n  var FULFILLED = 1;\n  var REJECTED = 2;\n  var HANDLED = 1;\n  var UNHANDLED = 2;\n  var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n  var FORCED$2 = isForced_1(PROMISE, function () {\n    var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n    if (!GLOBAL_CORE_JS_PROMISE) {\n      // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // We can't detect it synchronously, so just check versions\n      if (engineV8Version === 66) return true;\n      // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n      if (!IS_NODE$1 && typeof PromiseRejectionEvent != 'function') return true;\n    }\n    // We can't use @@species feature detection in V8 since it causes\n    // deoptimization and performance degradation\n    // https://github.com/zloirock/core-js/issues/679\n    if (engineV8Version >= 51 && /native code/.test(PromiseConstructor)) return false;\n    // Detect correctness of subclassing with @@species support\n    var promise = PromiseConstructor.resolve(1);\n    var FakePromise = function (exec) {\n      exec(function () { /* empty */ }, function () { /* empty */ });\n    };\n    var constructor = promise.constructor = {};\n    constructor[SPECIES$4] = FakePromise;\n    return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n  });\n\n  var INCORRECT_ITERATION = FORCED$2 || !checkCorrectnessOfIteration(function (iterable) {\n    PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n  });\n\n  // helpers\n  var isThenable = function (it) {\n    var then;\n    return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n  };\n\n  var notify$1 = function (promise, state, isReject) {\n    if (state.notified) return;\n    state.notified = true;\n    var chain = state.reactions;\n    microtask(function () {\n      var value = state.value;\n      var ok = state.state == FULFILLED;\n      var index = 0;\n      // variable length - can't use forEach\n      while (chain.length > index) {\n        var reaction = chain[index++];\n        var handler = ok ? reaction.ok : reaction.fail;\n        var resolve = reaction.resolve;\n        var reject = reaction.reject;\n        var domain = reaction.domain;\n        var result, then, exited;\n        try {\n          if (handler) {\n            if (!ok) {\n              if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n              state.rejection = HANDLED;\n            }\n            if (handler === true) result = value;\n            else {\n              if (domain) domain.enter();\n              result = handler(value); // can throw\n              if (domain) {\n                domain.exit();\n                exited = true;\n              }\n            }\n            if (result === reaction.promise) {\n              reject(TypeError$1('Promise-chain cycle'));\n            } else if (then = isThenable(result)) {\n              then.call(result, resolve, reject);\n            } else resolve(result);\n          } else reject(value);\n        } catch (error) {\n          if (domain && !exited) domain.exit();\n          reject(error);\n        }\n      }\n      state.reactions = [];\n      state.notified = false;\n      if (isReject && !state.rejection) onUnhandled(promise, state);\n    });\n  };\n\n  var dispatchEvent = function (name, promise, reason) {\n    var event, handler;\n    if (DISPATCH_EVENT) {\n      event = document$2.createEvent('Event');\n      event.promise = promise;\n      event.reason = reason;\n      event.initEvent(name, false, true);\n      global_1.dispatchEvent(event);\n    } else event = { promise: promise, reason: reason };\n    if (handler = global_1['on' + name]) handler(event);\n    else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n  };\n\n  var onUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      var value = state.value;\n      var IS_UNHANDLED = isUnhandled(state);\n      var result;\n      if (IS_UNHANDLED) {\n        result = perform(function () {\n          if (IS_NODE$1) {\n            process$3.emit('unhandledRejection', value, promise);\n          } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n        });\n        // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n        state.rejection = IS_NODE$1 || isUnhandled(state) ? UNHANDLED : HANDLED;\n        if (result.error) throw result.value;\n      }\n    });\n  };\n\n  var isUnhandled = function (state) {\n    return state.rejection !== HANDLED && !state.parent;\n  };\n\n  var onHandleUnhandled = function (promise, state) {\n    task$1.call(global_1, function () {\n      if (IS_NODE$1) {\n        process$3.emit('rejectionHandled', promise);\n      } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n    });\n  };\n\n  var bind = function (fn, promise, state, unwrap) {\n    return function (value) {\n      fn(promise, state, value, unwrap);\n    };\n  };\n\n  var internalReject = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    state.value = value;\n    state.state = REJECTED;\n    notify$1(promise, state, true);\n  };\n\n  var internalResolve = function (promise, state, value, unwrap) {\n    if (state.done) return;\n    state.done = true;\n    if (unwrap) state = unwrap;\n    try {\n      if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n      var then = isThenable(value);\n      if (then) {\n        microtask(function () {\n          var wrapper = { done: false };\n          try {\n            then.call(value,\n              bind(internalResolve, promise, wrapper, state),\n              bind(internalReject, promise, wrapper, state)\n            );\n          } catch (error) {\n            internalReject(promise, wrapper, error, state);\n          }\n        });\n      } else {\n        state.value = value;\n        state.state = FULFILLED;\n        notify$1(promise, state, false);\n      }\n    } catch (error) {\n      internalReject(promise, { done: false }, error, state);\n    }\n  };\n\n  // constructor polyfill\n  if (FORCED$2) {\n    // 25.4.3.1 Promise(executor)\n    PromiseConstructor = function Promise(executor) {\n      anInstance(this, PromiseConstructor, PROMISE);\n      aFunction$1(executor);\n      Internal.call(this);\n      var state = getInternalState$1(this);\n      try {\n        executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n      } catch (error) {\n        internalReject(this, state, error);\n      }\n    };\n    // eslint-disable-next-line no-unused-vars\n    Internal = function Promise(executor) {\n      setInternalState$1(this, {\n        type: PROMISE,\n        done: false,\n        notified: false,\n        parent: false,\n        reactions: [],\n        rejection: false,\n        state: PENDING,\n        value: undefined\n      });\n    };\n    Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n      // `Promise.prototype.then` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n      then: function then(onFulfilled, onRejected) {\n        var state = getInternalPromiseState(this);\n        var reaction = newPromiseCapability$1(speciesConstructor(this, PromiseConstructor));\n        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n        reaction.fail = typeof onRejected == 'function' && onRejected;\n        reaction.domain = IS_NODE$1 ? process$3.domain : undefined;\n        state.parent = true;\n        state.reactions.push(reaction);\n        if (state.state != PENDING) notify$1(this, state, false);\n        return reaction.promise;\n      },\n      // `Promise.prototype.catch` method\n      // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n      'catch': function (onRejected) {\n        return this.then(undefined, onRejected);\n      }\n    });\n    OwnPromiseCapability = function () {\n      var promise = new Internal();\n      var state = getInternalState$1(promise);\n      this.promise = promise;\n      this.resolve = bind(internalResolve, promise, state);\n      this.reject = bind(internalReject, promise, state);\n    };\n    newPromiseCapability.f = newPromiseCapability$1 = function (C) {\n      return C === PromiseConstructor || C === PromiseWrapper\n        ? new OwnPromiseCapability(C)\n        : newGenericPromiseCapability(C);\n    };\n\n    if ( typeof nativePromiseConstructor == 'function') {\n      nativeThen = nativePromiseConstructor.prototype.then;\n\n      // wrap native Promise#then for native async functions\n      redefine(nativePromiseConstructor.prototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // wrap fetch result\n      if (typeof $fetch == 'function') _export({ global: true, enumerable: true, forced: true }, {\n        // eslint-disable-next-line no-unused-vars\n        fetch: function fetch(input /* , init */) {\n          return promiseResolve(PromiseConstructor, $fetch.apply(global_1, arguments));\n        }\n      });\n    }\n  }\n\n  _export({ global: true, wrap: true, forced: FORCED$2 }, {\n    Promise: PromiseConstructor\n  });\n\n  setToStringTag(PromiseConstructor, PROMISE, false);\n  setSpecies(PROMISE);\n\n  PromiseWrapper = getBuiltIn(PROMISE);\n\n  // statics\n  _export({ target: PROMISE, stat: true, forced: FORCED$2 }, {\n    // `Promise.reject` method\n    // https://tc39.github.io/ecma262/#sec-promise.reject\n    reject: function reject(r) {\n      var capability = newPromiseCapability$1(this);\n      capability.reject.call(undefined, r);\n      return capability.promise;\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced:  FORCED$2 }, {\n    // `Promise.resolve` method\n    // https://tc39.github.io/ecma262/#sec-promise.resolve\n    resolve: function resolve(x) {\n      return promiseResolve( this, x);\n    }\n  });\n\n  _export({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n    // `Promise.all` method\n    // https://tc39.github.io/ecma262/#sec-promise.all\n    all: function all(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        var values = [];\n        var counter = 0;\n        var remaining = 1;\n        iterate_1(iterable, function (promise) {\n          var index = counter++;\n          var alreadyCalled = false;\n          values.push(undefined);\n          remaining++;\n          $promiseResolve.call(C, promise).then(function (value) {\n            if (alreadyCalled) return;\n            alreadyCalled = true;\n            values[index] = value;\n            --remaining || resolve(values);\n          }, reject);\n        });\n        --remaining || resolve(values);\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    },\n    // `Promise.race` method\n    // https://tc39.github.io/ecma262/#sec-promise.race\n    race: function race(iterable) {\n      var C = this;\n      var capability = newPromiseCapability$1(C);\n      var reject = capability.reject;\n      var result = perform(function () {\n        var $promiseResolve = aFunction$1(C.resolve);\n        iterate_1(iterable, function (promise) {\n          $promiseResolve.call(C, promise).then(capability.resolve, reject);\n        });\n      });\n      if (result.error) reject(result.value);\n      return capability.promise;\n    }\n  });\n\n  function isScriptLoaded(src) {\n    return !!document.querySelector('script[src=\"' + src + '\"]');\n  }\n\n  var Map = {\n    map: null,\n    load: function load(key) {\n      return new Promise(function (resolve, reject) {\n        var src = '//map.qq.com/api/js?v=2.exp&libraries=place&callback=init&key=' + key;\n\n        if (isScriptLoaded(src)) {\n          resolve(window.qq);\n          return;\n        }\n\n        window.init = function () {\n          resolve(window.qq); // \n        };\n\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = src;\n        script.onerror = reject;\n        document.head.appendChild(script);\n      });\n    },\n    getPosition: function getPosition(_ref) {\n      var lat = _ref.lat,\n          lng = _ref.lng;\n      return new window.qq.maps.LatLng(lat, lng); // \n    }\n  };\n\n  function getPosition(_ref) {\n    var lat = _ref.lat,\n        lng = _ref.lng;\n    return new window.qq.maps.LatLng(lat, lng); // \n  }\n\n  var MapMixin = {\n    methods: {\n      loadMap: function loadMap(key) {\n        return Map.load(key);\n      },\n      setMarker: function setMarker(poi) {\n        var map = this.map;\n        var center = getPosition(poi.latLng); // \n\n        if (this.marker) {\n          this.marker.setMap(null);\n          this.marker = new window.qq.maps.Marker({\n            map: map,\n            position: poi.latLng\n          });\n          map.panTo(center);\n        } else {\n          this.marker = new window.qq.maps.Marker({\n            map: map,\n            position: center\n          });\n        }\n      }\n    }\n  };\n\n  var script = {\n    name: 'lbp-qq-map',\n    mixins: [MapMixin],\n    // loadMapsetMarker\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      labelContent: PropTypes.string({\n        label: '',\n        defaultValue: ''\n      }),\n      // \n      zoomLevel: PropTypes.number({\n        label: '',\n        defaultValue: 12,\n        visible: false\n      }),\n      // https://lbs.qq.com/dev/console/key/manage\n      qqMapKey: PropTypes.string({\n        label: 'Key',\n        defaultValue: 'GENBZ-G5S3J-7OLFW-FLBX4-WVEMK-SOBL4',\n        component: 'a-textarea',\n        extra: function extra(h) {\n          return h(\"div\", [h(\"div\", [\"1. \\u8BF7\\u586B\\u5165\\u81EA\\u5DF1\\u7684\\u817E\\u8BAF\\u5730\\u56FE\\u5F00\\u53D1\\u5BC6\\u94A5\\uFF0C\", h(\"a\", {\n            \"attrs\": {\n              \"href\": \"https://lbs.qq.com/dev/console/key/manage\",\n              \"target\": \"_blank\"\n            }\n          }, [\"\\u524D\\u5F80\\u7533\\u8BF7>>\"])]), h(\"div\", [\"2. \\u9C81\\u73ED\\u7684 Demo Key \\u968F\\u65F6\\u53EF\\u80FD\\u5931\\u6548\\uFF1B\\u5931\\u6548\\u63D0\\u793A: \\u9274\\u6743\\u5931\\u8D25\\uFF0C\\u8BF7\\u4F20\\u5165\\u6B63\\u786E\\u7684key\"])]);\n        }\n      }),\n      poi: {\n        type: Object,\n        default: function _default() {\n          return {\n            'latLng': {\n              'lat': 39.90469,\n              'lng': 116.40717\n            },\n            'name': '',\n            'type': 4\n          };\n        },\n        editor: {\n          custom: true\n        }\n      }\n    },\n    watch: {\n      poi: {\n        handler: function handler(poi) {\n          if (!this.checkMapAvailable()) return;\n          this.setMarker(poi);\n        },\n        deep: true\n      },\n      labelContent: function labelContent(_labelContent) {\n        if (!this.checkMapAvailable()) return;\n        this.setLabel(_labelContent);\n      },\n      zoomLevel: function zoomLevel(_zoomLevel) {\n        if (!this.checkMapAvailable()) return;\n        this.setZoomLevel(_zoomLevel);\n      }\n    },\n    methods: {\n      checkMapAvailable: function checkMapAvailable() {\n        return window.qq && window.qq.maps;\n      },\n      onSearch: function onSearch(value) {\n        console.log(value);\n      },\n      setLabel: function setLabel(labelContent) {\n        var center = Map.getPosition(this.poi.latLng); // \n\n        this.label = this.label || new window.qq.maps.Label({\n          position: center,\n          map: this.map,\n          content: ''\n        });\n\n        if (labelContent.trim()) {\n          // https://lbs.qq.com/webDemoCenter/javascriptV2/marker/label\n          this.label.setVisible(true);\n          this.label.setContent(labelContent || '');\n          this.label.setPosition(center);\n        } else {\n          this.label.setVisible(false);\n        }\n      },\n      setZoomLevel: function setZoomLevel(zoomLevel) {\n        this.map.zoomTo(zoomLevel);\n      },\n      init: function init() {\n        var _this = this;\n\n        var poi = this.poi,\n            qqMapKey = this.qqMapKey;\n        this.loadMap(qqMapKey).then(function (qq) {\n          _this.initMap(poi);\n\n          _this.setLabel(_this.labelContent);\n\n          _this.setMarker(poi);\n        });\n      },\n      initMap: function initMap(poi) {\n        var el = this.$refs.mapElement;\n        var center = Map.getPosition(poi.latLng); // \n\n        this.map = new window.qq.maps.Map(el, {\n          center: center,\n          zoom: this.zoomLevel,\n          // \n          disableDefaultUI: true,\n          // \n          draggable: false,\n          // \n          scrollwheel: false,\n          // \n          disableDoubleClickZoom: true // \n          // MapType\n\n        });\n      }\n    },\n    mounted: function mounted() {\n      this.init();\n    }\n  };\n\n  function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n      if (typeof shadowMode !== 'boolean') {\r\n          createInjectorSSR = createInjector;\r\n          createInjector = shadowMode;\r\n          shadowMode = false;\r\n      }\r\n      // Vue.extend constructor export interop.\r\n      const options = typeof script === 'function' ? script.options : script;\r\n      // render functions\r\n      if (template && template.render) {\r\n          options.render = template.render;\r\n          options.staticRenderFns = template.staticRenderFns;\r\n          options._compiled = true;\r\n          // functional template\r\n          if (isFunctionalTemplate) {\r\n              options.functional = true;\r\n          }\r\n      }\r\n      // scopedId\r\n      if (scopeId) {\r\n          options._scopeId = scopeId;\r\n      }\r\n      let hook;\r\n      if (moduleIdentifier) {\r\n          // server build\r\n          hook = function (context) {\r\n              // 2.3 injection\r\n              context =\r\n                  context || // cached call\r\n                      (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                      (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n              // 2.2 with runInNewContext: true\r\n              if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                  context = __VUE_SSR_CONTEXT__;\r\n              }\r\n              // inject component styles\r\n              if (style) {\r\n                  style.call(this, createInjectorSSR(context));\r\n              }\r\n              // register component module identifier for async chunk inference\r\n              if (context && context._registeredComponents) {\r\n                  context._registeredComponents.add(moduleIdentifier);\r\n              }\r\n          };\r\n          // used by ssr in case component is cached and beforeCreate\r\n          // never gets called\r\n          options._ssrRegister = hook;\r\n      }\r\n      else if (style) {\r\n          hook = shadowMode\r\n              ? function (context) {\r\n                  style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n              }\r\n              : function (context) {\r\n                  style.call(this, createInjector(context));\r\n              };\r\n      }\r\n      if (hook) {\r\n          if (options.functional) {\r\n              // register for functional component in vue file\r\n              const originalRender = options.render;\r\n              options.render = function renderWithStyleInjection(h, context) {\r\n                  hook.call(context);\r\n                  return originalRender(h, context);\r\n              };\r\n          }\r\n          else {\r\n              // inject component registration as beforeCreate hook\r\n              const existing = options.beforeCreate;\r\n              options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n          }\r\n      }\r\n      return script;\r\n  }\n\n  /* script */\n  const __vue_script__ = script;\n\n  /* template */\n  var __vue_render__ = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\"div\", [\n      _c(\"div\", {\n        ref: \"mapElement\",\n        staticStyle: { height: \"100%\", width: \"100%\" },\n        attrs: { id: \"qq-map-container\" }\n      })\n    ])\n  };\n  var __vue_staticRenderFns__ = [];\n  __vue_render__._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__ = undefined;\n    /* scoped */\n    const __vue_scope_id__ = undefined;\n    /* module identifier */\n    const __vue_module_identifier__ = undefined;\n    /* functional template */\n    const __vue_is_functional_template__ = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__ = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n      __vue_inject_styles__,\n      __vue_script__,\n      __vue_scope_id__,\n      __vue_is_functional_template__,\n      __vue_module_identifier__,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  var ABBR = {\n    th: 3,\n    mi: 6,\n    bi: 9,\n    tr: 12\n  };\n\n  var DEFAULT_OPTIONS = {\n    zeroFormat: null,\n    nullFormat: null,\n    defaultFormat: '0,0',\n    scalePercentBy100: true,\n    abbrLabel: {\n      th: 'k',\n      mi: 'm',\n      bi: 'b',\n      tr: 't'\n    }\n  };\n\n  var TRILLION = 1e12;\n  var BILLION = 1e9;\n  var MILLION = 1e6;\n  var THOUSAND = 1e3;\n\n  function numIsNaN(value) {\n    return typeof value === 'number' && isNaN(value);\n  }\n\n  function toFixed(value, maxDecimals, roundingFunction, optionals) {\n    var splitValue = value.toString().split('.');\n    var minDecimals = maxDecimals - (optionals || 0);\n    var boundedPrecision = splitValue.length === 2 ? Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals) : minDecimals;\n    var power = Math.pow(10, boundedPrecision);\n    var output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n    if (optionals > maxDecimals - boundedPrecision) {\n      var optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n      output = output.replace(optionalsRegExp, '');\n    }\n\n    return output;\n  }\n\n  function numberToFormat(options, value, format, roundingFunction) {\n    var abs = Math.abs(value);\n    var negP = false;\n    var optDec = false;\n    var abbr = '';\n    var decimal = '';\n    var neg = false;\n    var abbrForce = void 0;\n    var signed = void 0;\n    format = format || '';\n\n    value = value || 0;\n\n    if (~format.indexOf('(')) {\n      negP = true;\n      format = format.replace(/[(|)]/g, '');\n    } else if (~format.indexOf('+') || ~format.indexOf('-')) {\n      signed = ~format.indexOf('+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n      format = format.replace(/[+|-]/g, '');\n    }\n    if (~format.indexOf('a')) {\n      abbrForce = format.match(/a(k|m|b|t)?/);\n\n      abbrForce = abbrForce ? abbrForce[1] : false;\n\n      if (~format.indexOf(' a')) abbr = ' ';\n      format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n      if (abs >= TRILLION && !abbrForce || abbrForce === 't') {\n        abbr += options.abbrLabel.tr;\n        value = value / TRILLION;\n      } else if (abs < TRILLION && abs >= BILLION && !abbrForce || abbrForce === 'b') {\n        abbr += options.abbrLabel.bi;\n        value = value / BILLION;\n      } else if (abs < BILLION && abs >= MILLION && !abbrForce || abbrForce === 'm') {\n        abbr += options.abbrLabel.mi;\n        value = value / MILLION;\n      } else if (abs < MILLION && abs >= THOUSAND && !abbrForce || abbrForce === 'k') {\n        abbr += options.abbrLabel.th;\n        value = value / THOUSAND;\n      }\n    }\n    if (~format.indexOf('[.]')) {\n      optDec = true;\n      format = format.replace('[.]', '.');\n    }\n    var int = value.toString().split('.')[0];\n    var precision = format.split('.')[1];\n    var thousands = format.indexOf(',');\n    var leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n    if (precision) {\n      if (~precision.indexOf('[')) {\n        precision = precision.replace(']', '');\n        precision = precision.split('[');\n        decimal = toFixed(value, precision[0].length + precision[1].length, roundingFunction, precision[1].length);\n      } else {\n        decimal = toFixed(value, precision.length, roundingFunction);\n      }\n\n      int = decimal.split('.')[0];\n      decimal = ~decimal.indexOf('.') ? '.' + decimal.split('.')[1] : '';\n      if (optDec && +decimal.slice(1) === 0) decimal = '';\n    } else {\n      int = toFixed(value, 0, roundingFunction);\n    }\n    if (abbr && !abbrForce && +int >= 1000 && abbr !== ABBR.trillion) {\n      int = '' + +int / 1000;\n      abbr = ABBR.million;\n    }\n    if (~int.indexOf('-')) {\n      int = int.slice(1);\n      neg = true;\n    }\n    if (int.length < leadingCount) {\n      for (var i = leadingCount - int.length; i > 0; i--) {\n        int = '0' + int;\n      }\n    }\n\n    if (thousands > -1) {\n      int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + ',');\n    }\n\n    if (!format.indexOf('.')) int = '';\n\n    var output = int + decimal + (abbr || '');\n\n    if (negP) {\n      output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n    } else {\n      if (signed >= 0) {\n        output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n      } else if (neg) {\n        output = '-' + output;\n      }\n    }\n\n    return output;\n  }\n\n  function extend(target, sub) {\n    Object.keys(sub).forEach(function (key) {\n      target[key] = sub[key];\n    });\n  }\n\n  var numerifyPercent = {\n    regexp: /%/,\n    format: function format(value, formatType, roundingFunction, numerify) {\n      var space = ~formatType.indexOf(' %') ? ' ' : '';\n      var output = void 0;\n\n      if (numerify.options.scalePercentBy100) value = value * 100;\n\n      formatType = formatType.replace(/\\s?%/, '');\n\n      output = numerify._numberToFormat(value, formatType, roundingFunction);\n\n      if (~output.indexOf(')')) {\n        output = output.split('');\n        output.splice(-1, 0, space + '%');\n        output = output.join('');\n      } else {\n        output = output + space + '%';\n      }\n\n      return output;\n    }\n  };\n\n  var options = {};\n  var formats = {};\n\n  extend(options, DEFAULT_OPTIONS);\n\n  function format(value, formatType, roundingFunction) {\n    formatType = formatType || options.defaultFormat;\n    roundingFunction = roundingFunction || Math.round;\n    var output = void 0;\n    var formatFunction = void 0;\n\n    if (value === 0 && options.zeroFormat !== null) {\n      output = options.zeroFormat;\n    } else if (value === null && options.nullFormat !== null) {\n      output = options.nullFormat;\n    } else {\n      for (var kind in formats) {\n        if (formats[kind] && formatType.match(formats[kind].regexp)) {\n          formatFunction = formats[kind].format;\n          break;\n        }\n      }\n      formatFunction = formatFunction || numberToFormat.bind(null, options);\n      output = formatFunction(value, formatType, roundingFunction, numerify);\n    }\n\n    return output;\n  }\n\n  function numerify(input, formatType, roundingFunction) {\n    var value = void 0;\n\n    if (input === 0 || typeof input === 'undefined') {\n      value = 0;\n    } else if (input === null || numIsNaN(input)) {\n      value = null;\n    } else if (typeof input === 'string') {\n      if (options.zeroFormat && input === options.zeroFormat) {\n        value = 0;\n      } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n        value = null;\n      } else {\n        value = +input;\n      }\n    } else {\n      value = +input || null;\n    }\n\n    return format(value, formatType, roundingFunction);\n  }\n\n  numerify.options = options;\n  numerify._numberToFormat = numberToFormat.bind(null, options);\n  numerify.register = function (name, format) {\n    formats[name] = format;\n  };\n  numerify.unregister = function (name) {\n    formats[name] = null;\n  };\n  numerify.setOptions = function (opts) {\n    extend(options, opts);\n  };\n  numerify.reset = function () {\n    extend(options, DEFAULT_OPTIONS);\n  };\n\n  numerify.register('percentage', numerifyPercent);\n\n  var index_es = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': numerify\n  });\n\n  function debounce(fn, delay) {\n    var timer = null;\n    return function () {\n      var self = this;\n      var args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(self, args);\n      }, delay);\n    };\n  }\n\n  function throttle(fn, wait, delay) {\n    var timer = null;\n    var previous = null;\n\n    return function () {\n      var self = this;\n      var args = arguments;\n      var now = Date.now();\n      if (!previous) previous = now;\n      if (now - previous > wait) {\n        fn.apply(self, args);\n        previous = now;\n      } else if (delay) {\n        clearTimeout(timer);\n        timer = setTimeout(function () {\n          fn.apply(self, args);\n        }, delay);\n      }\n    };\n  }\n\n  function set$2(target, path, value) {\n    if (!path) return;\n    var targetTemp = target;\n    var pathArr = path.split('.');\n    pathArr.forEach(function (item, index) {\n      if (index === pathArr.length - 1) {\n        targetTemp[item] = value;\n      } else {\n        if (!targetTemp[item]) targetTemp[item] = {};\n        targetTemp = targetTemp[item];\n      }\n    });\n  }\n\n  function get$1(target, path, defaultValue) {\n    if (!path) return target;\n    var pathArr = path.split('.');\n    var targetTemp = target;\n    pathArr.some(function (item, index) {\n      if (targetTemp[item] === undefined) {\n        targetTemp = defaultValue;\n        return true;\n      } else {\n        targetTemp = targetTemp[item];\n      }\n    });\n    return targetTemp;\n  }\n\n  function getStore(name) {\n    try {\n      return JSON.parse(window.localStorage.getItem(name));\n    } catch (e) {}\n  }\n\n  function setStore(name, data) {\n    try {\n      window.localStorage.setItem(name, JSON.stringify(data));\n    } catch (e) {}\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n  function getType(v) {\n    return Object.prototype.toString.call(v);\n  }\n\n  function getTypeof(v) {\n    return typeof v === 'undefined' ? 'undefined' : _typeof(v);\n  }\n\n  function isObject$1(v) {\n    return getType(v) === '[object Object]';\n  }\n\n  function isArray$1(v) {\n    return getType(v) === '[object Array]';\n  }\n\n  function isFunction(v) {\n    return getType(v) === '[object Function]';\n  }\n\n  function isString(v) {\n    return getType(v) === '[object String]';\n  }\n\n  function isBoolean(v) {\n    return getType(v) === '[object Boolean]';\n  }\n\n  function isEmptyObj(v) {\n    return isObject$1(v) && !Object.keys(v).length;\n  }\n\n  function isNumber(v) {\n    return getType(v) === '[object Number]';\n  }\n\n  function clone(v) {\n    if (isObject$1(v)) return Object.assign({}, v);\n    if (isArray$1(v)) return v.slice();\n  }\n\n  function cloneDeep(v) {\n    return JSON.parse(JSON.stringify(v));\n  }\n\n  function kebabToCamel(s) {\n    return s.replace(/-(\\w)/g, function (_, c) {\n      return c.toUpperCase();\n    });\n  }\n\n  function camelToKebab(s) {\n    return s.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n\n  function unique(arr) {\n    var result = [];\n    arr.forEach(function (item) {\n      if (!~result.indexOf(item)) result.push(item);\n    });\n    return result;\n  }\n\n  function getLinearValue(x1, y1, x2, y2, x3) {\n    var k = (y2 - y1) / (x2 - x1);\n    var b = y1 - x1 * k;\n    if (x3 == null) {\n      return { k: k, b: b };\n    } else {\n      return x3 * k + b;\n    }\n  }\n\n  function getFnAndObjValue(target, key) {\n    return isFunction(target) ? target(key) : !isObject$1(target) ? key : target[key] != null ? target[key] : key;\n  }\n\n  function arrDelItem(arr, diffItem) {\n    return arr.filter(function (item) {\n      return diffItem !== item;\n    });\n  }\n\n  var arrDelArrItem = function arrDelArrItem(arr, diffArr) {\n    return arr.filter(function (item) {\n      return !~diffArr.indexOf(item);\n    });\n  };\n\n  function getArrMin(arr) {\n    return Math.min.apply(null, arr);\n  }\n\n  function getArrMax(arr) {\n    return Math.max.apply(null, arr);\n  }\n\n  function toArray(v) {\n    return Array.prototype.slice.call(v);\n  }\n\n  function noop() {}\n\n  function hasOwn(source, target) {\n    return Object.prototype.hasOwnProperty.call(source, target);\n  }\n\n  var extend$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (hasOwn(source, key)) target[key] = source[key];\n      }\n    }\n    return target;\n  };\n\n  function isEqual(alice, bob) {\n    if (alice === bob) return true;\n    if (alice === null || bob === null || getTypeof(alice) !== 'object' || getTypeof(bob) !== 'object') {\n      return alice === bob;\n    }\n\n    for (var key in alice) {\n      if (!hasOwn(alice, key)) continue;\n      var aliceValue = alice[key];\n      var bobValue = bob[key];\n      var aliceType = getTypeof(aliceValue);\n\n      if (getTypeof(bobValue) === 'undefined') {\n        return false;\n      } else if (aliceType === 'object') {\n        if (!isEqual(aliceValue, bobValue)) return false;\n      } else if (aliceValue !== bobValue) {\n        return false;\n      }\n    }\n    for (var _key in bob) {\n      if (!hasOwn(bob, _key)) continue;\n      if (getTypeof(alice)[_key] === 'undefined') return false;\n    }\n\n    return true;\n  }\n\n  var index_es$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    debounce: debounce,\n    throttle: throttle,\n    set: set$2,\n    get: get$1,\n    getStore: getStore,\n    setStore: setStore,\n    clone: clone,\n    cloneDeep: cloneDeep,\n    getType: getType,\n    getTypeof: getTypeof,\n    isObject: isObject$1,\n    isArray: isArray$1,\n    isFunction: isFunction,\n    isString: isString,\n    isBoolean: isBoolean,\n    isEmptyObj: isEmptyObj,\n    isNumber: isNumber,\n    kebabToCamel: kebabToCamel,\n    camelToKebab: camelToKebab,\n    unique: unique,\n    getLinearValue: getLinearValue,\n    getFnAndObjValue: getFnAndObjValue,\n    arrDelItem: arrDelItem,\n    arrDelArrItem: arrDelArrItem,\n    getArrMin: getArrMin,\n    getArrMax: getArrMax,\n    toArray: toArray,\n    noop: noop,\n    extend: extend$1,\n    isEqual: isEqual,\n    hasOwn: hasOwn\n  });\n\n  var require$$3 = /*@__PURE__*/getAugmentedNamespace(index_es);\n\n  var utilsLite = /*@__PURE__*/getAugmentedNamespace(index_es$1);\n\n  var utils = createCommonjsModule(function (module, exports) {\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n  var numerify = _interopDefault(require$$3);\n\n\n  var getFormated = function getFormated(val, type, digit) {\n    var defaultVal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '-';\n\n    if (isNaN(val)) return defaultVal;\n    if (!type) return val;\n    if (utilsLite.isFunction(type)) return type(val, numerify);\n\n    digit = isNaN(digit) ? 0 : ++digit;\n    var digitStr = '.[' + new Array(digit).join(0) + ']';\n    var formatter = type;\n    switch (type) {\n      case 'KMB':\n        formatter = digit ? '0,0' + digitStr + 'a' : '0,0a';\n        break;\n      case 'normal':\n        formatter = digit ? '0,0' + digitStr : '0,0';\n        break;\n      case 'percent':\n        formatter = digit ? '0,0' + digitStr + '%' : '0,0.[00]%';\n        break;\n    }\n    return numerify(val, formatter);\n  };\n\n  var getStackMap = function getStackMap(stack) {\n    var stackMap = {};\n    Object.keys(stack).forEach(function (item) {\n      stack[item].forEach(function (name) {\n        stackMap[name] = item;\n      });\n    });\n    return stackMap;\n  };\n\n  var $get = function $get(url) {\n    return new Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url);\n      xhr.send(null);\n      xhr.onload = function () {\n        resolve(JSON.parse(xhr.responseText));\n      };\n      xhr.onerror = function () {\n        reject(JSON.parse(xhr.responseText));\n      };\n    });\n  };\n\n  var mapPromise = {};\n\n  var getMapJSON = function getMapJSON(_ref) {\n    var position = _ref.position,\n        positionJsonLink = _ref.positionJsonLink,\n        beforeRegisterMapOnce = _ref.beforeRegisterMapOnce,\n        mapURLProfix = _ref.mapURLProfix;\n\n    var link = positionJsonLink || '' + mapURLProfix + position + '.json';\n    if (!mapPromise[link]) {\n      mapPromise[link] = $get(link).then(function (res) {\n        if (beforeRegisterMapOnce) res = beforeRegisterMapOnce(res);\n        return res;\n      });\n    }\n    return mapPromise[link];\n  };\n\n  var bmapPromise = null;\n  var amapPromise = null;\n\n  var getBmap = function getBmap(key, v) {\n    if (!bmapPromise) {\n      bmapPromise = new Promise(function (resolve, reject) {\n        var callbackName = 'bmap' + Date.now();\n        window[callbackName] = resolve;\n        var script = document.createElement('script');\n        script.src = ['https://api.map.baidu.com/api?v=' + (v || '2.0'), 'ak=' + key, 'callback=' + callbackName].join('&');\n\n        document.body.appendChild(script);\n      });\n    }\n    return bmapPromise;\n  };\n\n  var getAmap = function getAmap(key, v) {\n    if (!amapPromise) {\n      amapPromise = new Promise(function (resolve, reject) {\n        var callbackName = 'amap' + Date.now();\n        window[callbackName] = resolve;\n        var script = document.createElement('script');\n        script.src = ['https://webapi.amap.com/maps?v=' + (v || '1.4.3'), 'key=' + key, 'callback=' + callbackName].join('&');\n\n        document.body.appendChild(script);\n      });\n    }\n    return amapPromise;\n  };\n\n  function setArrayValue(arr, index, value) {\n    if (arr[index] !== undefined) {\n      arr[index].push(value);\n    } else {\n      arr[index] = [value];\n    }\n  }\n\n  exports.getFormated = getFormated;\n  exports.getStackMap = getStackMap;\n  exports.$get = $get;\n  exports.getMapJSON = getMapJSON;\n  exports.getBmap = getBmap;\n  exports.getAmap = getAmap;\n  exports.setArrayValue = setArrayValue;\n  });\n\n  /**\n   * zrender: id\n   *\n   * @author errorrik (errorrik@gmail.com)\n   */\n  var idStart = 0x0907;\n\n  function _default() {\n    return idStart++;\n  }\n\n  var guid = _default;\n\n  /**\n   * echarts\n   *\n   * @desc echartsCanvasJavascript\n   * @author firede[firede@firede.us]\n   * @desc thanks zepto.\n   */\n\n  /* global wx */\n  var env = {};\n\n  if (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n    // In Weixin Application\n    env = {\n      browser: {},\n      os: {},\n      node: false,\n      wxa: true,\n      // Weixin Application\n      canvasSupported: true,\n      svgSupported: false,\n      touchEventsSupported: true,\n      domSupported: false\n    };\n  } else if (typeof document === 'undefined' && typeof self !== 'undefined') {\n    // In worker\n    env = {\n      browser: {},\n      os: {},\n      node: false,\n      worker: true,\n      canvasSupported: true,\n      domSupported: false\n    };\n  } else if (typeof navigator === 'undefined') {\n    // In node\n    env = {\n      browser: {},\n      os: {},\n      node: true,\n      worker: false,\n      // Assume canvas is supported\n      canvasSupported: true,\n      svgSupported: true,\n      domSupported: false\n    };\n  } else {\n    env = detect(navigator.userAgent);\n  }\n\n  var _default$1 = env; // Zepto.js\n  // (c) 2010-2013 Thomas Fuchs\n  // Zepto.js may be freely distributed under the MIT license.\n\n  function detect(ua) {\n    var os = {};\n    var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n    // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n    // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n    // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n    // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n    // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n    // var touchpad = webos && ua.match(/TouchPad/);\n    // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n    // var silk = ua.match(/Silk\\/([\\d._]+)/);\n    // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n    // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n    // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n    // var playbook = ua.match(/PlayBook/);\n    // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n    // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n    var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n    || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n    var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n    // - discern (more) between multiple browsers on android\n    // - decide if kindle fire in silk mode is android or not\n    // - Firefox on Android doesn't specify the Android version\n    // - possibly devide in os, device and browser hashes\n    // if (browser.webkit = !!webkit) browser.version = webkit[1];\n    // if (android) os.android = true, os.version = android[2];\n    // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n    // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n    // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    // if (webos) os.webos = true, os.version = webos[2];\n    // if (touchpad) os.touchpad = true;\n    // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n    // if (bb10) os.bb10 = true, os.version = bb10[2];\n    // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n    // if (playbook) browser.playbook = true;\n    // if (kindle) os.kindle = true, os.version = kindle[1];\n    // if (silk) browser.silk = true, browser.version = silk[1];\n    // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n    // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n    if (firefox) {\n      browser.firefox = true;\n      browser.version = firefox[1];\n    } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n    // if (webview) browser.webview = true;\n\n\n    if (ie) {\n      browser.ie = true;\n      browser.version = ie[1];\n    }\n\n    if (edge) {\n      browser.edge = true;\n      browser.version = edge[1];\n    } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n    // not be set on win phone. So we do not consider Win Phone.\n\n\n    if (weChat) {\n      browser.weChat = true;\n    } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n    //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n    // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n    //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n    //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n    return {\n      browser: browser,\n      os: os,\n      node: false,\n      // canvas\n      // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n      canvasSupported: !!document.createElement('canvas').getContext,\n      svgSupported: typeof SVGRect !== 'undefined',\n      // works on most browsers\n      // IE10/11 does not support touch event, and MS Edge supports them but not by\n      // default, so we dont check navigator.maxTouchPoints for them here.\n      touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n      // <http://caniuse.com/#search=pointer%20event>.\n      pointerEventsSupported: // (1) Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n      // events currently. So we dont use that on other browsers unless tested sufficiently.\n      // For example, in iOS 13 Mobile Chromium 78, if the touching behavior starts page\n      // scroll, the `pointermove` event can not be fired any more. That will break some\n      // features like \"pan horizontally to move something and pan vertically to page scroll\".\n      // The horizontal pan probably be interrupted by the casually triggered page scroll.\n      // (2) Although IE 10 supports pointer event, it use old style and is different from the\n      // standard. So we exclude that. (IE 10 is hardly used on touch device)\n      'onpointerdown' in window && (browser.edge || browser.ie && browser.version >= 11),\n      // passiveSupported: detectPassiveSupport()\n      domSupported: typeof document !== 'undefined'\n    };\n  } // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n  // function detectPassiveSupport() {\n  //     // Test via a getter in the options object to see if the passive property is accessed\n  //     var supportsPassive = false;\n  //     try {\n  //         var opts = Object.defineProperty({}, 'passive', {\n  //             get: function() {\n  //                 supportsPassive = true;\n  //             }\n  //         });\n  //         window.addEventListener('testPassive', function() {}, opts);\n  //     } catch (e) {\n  //     }\n  //     return supportsPassive;\n  // }\n\n\n  var env_1 = _default$1;\n\n  /**\n   * @module zrender/core/util\n   */\n  // mergeDate\n  var BUILTIN_OBJECT = {\n    '[object Function]': 1,\n    '[object RegExp]': 1,\n    '[object Date]': 1,\n    '[object Error]': 1,\n    '[object CanvasGradient]': 1,\n    '[object CanvasPattern]': 1,\n    // For node-canvas\n    '[object Image]': 1,\n    '[object Canvas]': 1\n  };\n  var TYPED_ARRAY = {\n    '[object Int8Array]': 1,\n    '[object Uint8Array]': 1,\n    '[object Uint8ClampedArray]': 1,\n    '[object Int16Array]': 1,\n    '[object Uint16Array]': 1,\n    '[object Int32Array]': 1,\n    '[object Uint32Array]': 1,\n    '[object Float32Array]': 1,\n    '[object Float64Array]': 1\n  };\n  var objToString = Object.prototype.toString;\n  var arrayProto = Array.prototype;\n  var nativeForEach = arrayProto.forEach;\n  var nativeFilter = arrayProto.filter;\n  var nativeSlice = arrayProto.slice;\n  var nativeMap = arrayProto.map;\n  var nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\n  var methods = {};\n\n  function $override(name, fn) {\n    // Clear ctx instance for different environment\n    if (name === 'createCanvas') {\n      _ctx = null;\n    }\n\n    methods[name] = fn;\n  }\n  /**\n   * Those data types can be cloned:\n   *     Plain object, Array, TypedArray, number, string, null, undefined.\n   * Those data types will be assgined using the orginal data:\n   *     BUILTIN_OBJECT\n   * Instance of user defined class will be cloned to a plain object, without\n   * properties in prototype.\n   * Other data types is not supported (not sure what will happen).\n   *\n   * Caution: do not support clone Date, for performance consideration.\n   * (There might be a large number of date in `series.data`).\n   * So date should not be modified in and out of echarts.\n   *\n   * @param {*} source\n   * @return {*} new\n   */\n\n\n  function clone$1(source) {\n    if (source == null || typeof source !== 'object') {\n      return source;\n    }\n\n    var result = source;\n    var typeStr = objToString.call(source);\n\n    if (typeStr === '[object Array]') {\n      if (!isPrimitive(source)) {\n        result = [];\n\n        for (var i = 0, len = source.length; i < len; i++) {\n          result[i] = clone$1(source[i]);\n        }\n      }\n    } else if (TYPED_ARRAY[typeStr]) {\n      if (!isPrimitive(source)) {\n        var Ctor = source.constructor;\n\n        if (source.constructor.from) {\n          result = Ctor.from(source);\n        } else {\n          result = new Ctor(source.length);\n\n          for (var i = 0, len = source.length; i < len; i++) {\n            result[i] = clone$1(source[i]);\n          }\n        }\n      }\n    } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n      result = {};\n\n      for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n          result[key] = clone$1(source[key]);\n        }\n      }\n    }\n\n    return result;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} target\n   * @param {*} source\n   * @param {boolean} [overwrite=false]\n   */\n\n\n  function merge(target, source, overwrite) {\n    // We should escapse that source is string\n    // and enter for ... in ...\n    if (!isObject$2(source) || !isObject$2(target)) {\n      return overwrite ? clone$1(source) : target;\n    }\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        var targetProp = target[key];\n        var sourceProp = source[key];\n\n        if (isObject$2(sourceProp) && isObject$2(targetProp) && !isArray$2(sourceProp) && !isArray$2(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n          // merge\n          merge(targetProp, sourceProp, overwrite);\n        } else if (overwrite || !(key in target)) {\n          // overwritetrue\n          // NOTE target[key] \n          target[key] = clone$1(source[key]);\n        }\n      }\n    }\n\n    return target;\n  }\n  /**\n   * @param {Array} targetAndSources The first item is target, and the rests are source.\n   * @param {boolean} [overwrite=false]\n   * @return {*} target\n   */\n\n\n  function mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n      result = merge(result, targetAndSources[i], overwrite);\n    }\n\n    return result;\n  }\n  /**\n   * @param {*} target\n   * @param {*} source\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function extend$2(target, source) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n  /**\n   * @param {*} target\n   * @param {*} source\n   * @param {boolean} [overlay=false]\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function defaults(target, source, overlay) {\n    for (var key in source) {\n      if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  var createCanvas = function () {\n    return methods.createCanvas();\n  };\n\n  methods.createCanvas = function () {\n    return document.createElement('canvas');\n  }; // FIXME\n\n\n  var _ctx;\n\n  function getContext() {\n    if (!_ctx) {\n      // Use util.createCanvas instead of createCanvas\n      // because createCanvas may be overwritten in different environment\n      _ctx = createCanvas().getContext('2d');\n    }\n\n    return _ctx;\n  }\n  /**\n   * index\n   * @memberOf module:zrender/core/util\n   */\n\n\n  function indexOf$1(array, value) {\n    if (array) {\n      if (array.indexOf) {\n        return array.indexOf(value);\n      }\n\n      for (var i = 0, len = array.length; i < len; i++) {\n        if (array[i] === value) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * \n   *\n   * @memberOf module:zrender/core/util\n   * @param {Function} clazz \n   * @param {Function} baseClazz \n   */\n\n\n  function inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n\n    function F() {}\n\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n\n    for (var prop in clazzPrototype) {\n      if (clazzPrototype.hasOwnProperty(prop)) {\n        clazz.prototype[prop] = clazzPrototype[prop];\n      }\n    }\n\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Object|Function} target\n   * @param {Object|Function} sorce\n   * @param {boolean} overlay\n   */\n\n\n  function mixin(target, source, overlay) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n    defaults(target, source, overlay);\n  }\n  /**\n   * Consider typed array.\n   * @param {Array|TypedArray} data\n   */\n\n\n  function isArrayLike(data) {\n    if (!data) {\n      return;\n    }\n\n    if (typeof data === 'string') {\n      return false;\n    }\n\n    return typeof data.length === 'number';\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Object|Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   */\n\n\n  function each(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.forEach && obj.forEach === nativeForEach) {\n      obj.forEach(cb, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, len = obj.length; i < len; i++) {\n        cb.call(context, obj[i], i, obj);\n      }\n    } else {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          cb.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function map(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.map && obj.map === nativeMap) {\n      return obj.map(cb, context);\n    } else {\n      var result = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        result.push(cb.call(context, obj[i], i, obj));\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {Object} [memo]\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function reduce(obj, cb, memo, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.reduce && obj.reduce === nativeReduce) {\n      return obj.reduce(cb, memo, context);\n    } else {\n      for (var i = 0, len = obj.length; i < len; i++) {\n        memo = cb.call(context, memo, obj[i], i, obj);\n      }\n\n      return memo;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {Array}\n   */\n\n\n  function filter(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    if (obj.filter && obj.filter === nativeFilter) {\n      return obj.filter(cb, context);\n    } else {\n      var result = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (cb.call(context, obj[i], i, obj)) {\n          result.push(obj[i]);\n        }\n      }\n\n      return result;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/util\n   * @param {Array} obj\n   * @param {Function} cb\n   * @param {*} [context]\n   * @return {*}\n   */\n\n\n  function find(obj, cb, context) {\n    if (!(obj && cb)) {\n      return;\n    }\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        return obj[i];\n      }\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Function} func\n   * @param {*} context\n   * @return {Function}\n   */\n\n\n  function bind$1(func, context) {\n    var args = nativeSlice.call(arguments, 2);\n    return function () {\n      return func.apply(context, args.concat(nativeSlice.call(arguments)));\n    };\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Function} func\n   * @return {Function}\n   */\n\n\n  function curry(func) {\n    var args = nativeSlice.call(arguments, 1);\n    return function () {\n      return func.apply(this, args.concat(nativeSlice.call(arguments)));\n    };\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isArray$2(value) {\n    return objToString.call(value) === '[object Array]';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isFunction$1(value) {\n    return typeof value === 'function';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isString$1(value) {\n    return objToString.call(value) === '[object String]';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isObject$2(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return type === 'function' || !!value && type === 'object';\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isTypedArray(value) {\n    return !!TYPED_ARRAY[objToString.call(value)];\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function isDom(value) {\n    return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n  }\n  /**\n   * Whether is exactly NaN. Notice isNaN('a') returns true.\n   * @param {*} value\n   * @return {boolean}\n   */\n\n\n  function eqNaN(value) {\n    /* eslint-disable-next-line no-self-compare */\n    return value !== value;\n  }\n  /**\n   * If value1 is not null, then return value1, otherwise judget rest of values.\n   * Low performance.\n   * @memberOf module:zrender/core/util\n   * @return {*} Final value\n   */\n\n\n  function retrieve(values) {\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      if (arguments[i] != null) {\n        return arguments[i];\n      }\n    }\n  }\n\n  function retrieve2(value0, value1) {\n    return value0 != null ? value0 : value1;\n  }\n\n  function retrieve3(value0, value1, value2) {\n    return value0 != null ? value0 : value1 != null ? value1 : value2;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {Array} arr\n   * @param {number} startIndex\n   * @param {number} endIndex\n   * @return {Array}\n   */\n\n\n  function slice() {\n    return Function.call.apply(nativeSlice, arguments);\n  }\n  /**\n   * Normalize css liked array configuration\n   * e.g.\n   *  3 => [3, 3, 3, 3]\n   *  [4, 2] => [4, 2, 4, 2]\n   *  [4, 3, 2] => [4, 3, 2, 3]\n   * @param {number|Array.<number>} val\n   * @return {Array.<number>}\n   */\n\n\n  function normalizeCssArray(val) {\n    if (typeof val === 'number') {\n      return [val, val, val, val];\n    }\n\n    var len = val.length;\n\n    if (len === 2) {\n      // vertical | horizontal\n      return [val[0], val[1], val[0], val[1]];\n    } else if (len === 3) {\n      // top | horizontal | bottom\n      return [val[0], val[1], val[2], val[1]];\n    }\n\n    return val;\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {boolean} condition\n   * @param {string} message\n   */\n\n\n  function assert(condition, message) {\n    if (!condition) {\n      throw new Error(message);\n    }\n  }\n  /**\n   * @memberOf module:zrender/core/util\n   * @param {string} str string to be trimed\n   * @return {string} trimed string\n   */\n\n\n  function trim$1(str) {\n    if (str == null) {\n      return null;\n    } else if (typeof str.trim === 'function') {\n      return str.trim();\n    } else {\n      return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n  }\n\n  var primitiveKey = '__ec_primitive__';\n  /**\n   * Set an object as primitive to be ignored traversing children in clone or merge\n   */\n\n  function setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n  }\n\n  function isPrimitive(obj) {\n    return obj[primitiveKey];\n  }\n  /**\n   * @constructor\n   * @param {Object} obj Only apply `ownProperty`.\n   */\n\n\n  function HashMap(obj) {\n    var isArr = isArray$2(obj); // Key should not be set on this, otherwise\n    // methods get/set/... may be overrided.\n\n    this.data = {};\n    var thisMap = this;\n    obj instanceof HashMap ? obj.each(visit) : obj && each(obj, visit);\n\n    function visit(value, key) {\n      isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n    }\n  }\n\n  HashMap.prototype = {\n    constructor: HashMap,\n    // Do not provide `has` method to avoid defining what is `has`.\n    // (We usually treat `null` and `undefined` as the same, different\n    // from ES6 Map).\n    get: function (key) {\n      return this.data.hasOwnProperty(key) ? this.data[key] : null;\n    },\n    set: function (key, value) {\n      // Comparing with invocation chaining, `return value` is more commonly\n      // used in this case: `var someVal = map.set('a', genVal());`\n      return this.data[key] = value;\n    },\n    // Although util.each can be performed on this hashMap directly, user\n    // should not use the exposed keys, who are prefixed.\n    each: function (cb, context) {\n      context !== void 0 && (cb = bind$1(cb, context));\n      /* eslint-disable guard-for-in */\n\n      for (var key in this.data) {\n        this.data.hasOwnProperty(key) && cb(this.data[key], key);\n      }\n      /* eslint-enable guard-for-in */\n\n    },\n    // Do not use this method if performance sensitive.\n    removeKey: function (key) {\n      delete this.data[key];\n    }\n  };\n\n  function createHashMap(obj) {\n    return new HashMap(obj);\n  }\n\n  function concatArray(a, b) {\n    var newArray = new a.constructor(a.length + b.length);\n\n    for (var i = 0; i < a.length; i++) {\n      newArray[i] = a[i];\n    }\n\n    var offset = a.length;\n\n    for (i = 0; i < b.length; i++) {\n      newArray[i + offset] = b[i];\n    }\n\n    return newArray;\n  }\n\n  function noop$1() {}\n\n  var $override_1 = $override;\n  var clone_1 = clone$1;\n  var merge_1 = merge;\n  var mergeAll_1 = mergeAll;\n  var extend_1 = extend$2;\n  var defaults_1 = defaults;\n  var createCanvas_1 = createCanvas;\n  var getContext_1 = getContext;\n  var indexOf_1 = indexOf$1;\n  var inherits_1 = inherits;\n  var mixin_1 = mixin;\n  var isArrayLike_1 = isArrayLike;\n  var each_1 = each;\n  var map_1 = map;\n  var reduce_1 = reduce;\n  var filter_1 = filter;\n  var find_1 = find;\n  var bind_1 = bind$1;\n  var curry_1 = curry;\n  var isArray_1 = isArray$2;\n  var isFunction_1 = isFunction$1;\n  var isString_1 = isString$1;\n  var isObject_1 = isObject$2;\n  var isBuiltInObject_1 = isBuiltInObject;\n  var isTypedArray_1 = isTypedArray;\n  var isDom_1 = isDom;\n  var eqNaN_1 = eqNaN;\n  var retrieve_1 = retrieve;\n  var retrieve2_1 = retrieve2;\n  var retrieve3_1 = retrieve3;\n  var slice_1 = slice;\n  var normalizeCssArray_1 = normalizeCssArray;\n  var assert_1 = assert;\n  var trim_1 = trim$1;\n  var setAsPrimitive_1 = setAsPrimitive;\n  var isPrimitive_1 = isPrimitive;\n  var createHashMap_1 = createHashMap;\n  var concatArray_1 = concatArray;\n  var noop_1 = noop$1;\n\n  var util = {\n  \t$override: $override_1,\n  \tclone: clone_1,\n  \tmerge: merge_1,\n  \tmergeAll: mergeAll_1,\n  \textend: extend_1,\n  \tdefaults: defaults_1,\n  \tcreateCanvas: createCanvas_1,\n  \tgetContext: getContext_1,\n  \tindexOf: indexOf_1,\n  \tinherits: inherits_1,\n  \tmixin: mixin_1,\n  \tisArrayLike: isArrayLike_1,\n  \teach: each_1,\n  \tmap: map_1,\n  \treduce: reduce_1,\n  \tfilter: filter_1,\n  \tfind: find_1,\n  \tbind: bind_1,\n  \tcurry: curry_1,\n  \tisArray: isArray_1,\n  \tisFunction: isFunction_1,\n  \tisString: isString_1,\n  \tisObject: isObject_1,\n  \tisBuiltInObject: isBuiltInObject_1,\n  \tisTypedArray: isTypedArray_1,\n  \tisDom: isDom_1,\n  \teqNaN: eqNaN_1,\n  \tretrieve: retrieve_1,\n  \tretrieve2: retrieve2_1,\n  \tretrieve3: retrieve3_1,\n  \tslice: slice_1,\n  \tnormalizeCssArray: normalizeCssArray_1,\n  \tassert: assert_1,\n  \ttrim: trim_1,\n  \tsetAsPrimitive: setAsPrimitive_1,\n  \tisPrimitive: isPrimitive_1,\n  \tcreateHashMap: createHashMap_1,\n  \tconcatArray: concatArray_1,\n  \tnoop: noop_1\n  };\n\n  /* global Float32Array */\n  var ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n  /**\n   * \n   * @param {number} [x=0]\n   * @param {number} [y=0]\n   * @return {Vector2}\n   */\n\n  function create(x, y) {\n    var out = new ArrayCtor(2);\n\n    if (x == null) {\n      x = 0;\n    }\n\n    if (y == null) {\n      y = 0;\n    }\n\n    out[0] = x;\n    out[1] = y;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @return {Vector2}\n   */\n\n\n  function copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v\n   * @return {Vector2}\n   */\n\n\n  function clone$2(v) {\n    var out = new ArrayCtor(2);\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {number} a\n   * @param {number} b\n   * @return {Vector2} \n   */\n\n\n  function set$3(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @param {number} a\n   */\n\n\n  function scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v\n   * @return {number}\n   */\n\n\n  function len(v) {\n    return Math.sqrt(lenSquare(v));\n  }\n\n  var length = len; // jshint ignore:line\n\n  /**\n   * \n   * @param {Vector2} v\n   * @return {number}\n   */\n\n  function lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n  }\n\n  var lengthSquare = lenSquare;\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n  function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   */\n\n\n  function div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n\n  function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @param {number} s\n   */\n\n\n  function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   */\n\n\n  function normalize$1(out, v) {\n    var d = len(v);\n\n    if (d === 0) {\n      out[0] = 0;\n      out[1] = 0;\n    } else {\n      out[0] = v[0] / d;\n      out[1] = v[1] / d;\n    }\n\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n\n  function distance(v1, v2) {\n    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n  }\n\n  var dist = distance;\n  /**\n   * \n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @return {number}\n   */\n\n  function distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n  }\n\n  var distSquare = distanceSquare;\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   */\n\n  function negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v1\n   * @param {Vector2} v2\n   * @param {number} t\n   */\n\n\n  function lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n  }\n  /**\n   * \n   * @param {Vector2} out\n   * @param {Vector2} v\n   * @param {Vector2} m\n   */\n\n\n  function applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n  }\n  /**\n   * \n   * @param  {Vector2} out\n   * @param  {Vector2} v1\n   * @param  {Vector2} v2\n   */\n\n\n  function min$3(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n  }\n  /**\n   * \n   * @param  {Vector2} out\n   * @param  {Vector2} v1\n   * @param  {Vector2} v2\n   */\n\n\n  function max$2(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n  }\n\n  var create_1 = create;\n  var copy_1 = copy;\n  var clone_1$1 = clone$2;\n  var set_1 = set$3;\n  var add_1 = add;\n  var scaleAndAdd_1 = scaleAndAdd;\n  var sub_1 = sub;\n  var len_1 = len;\n  var length_1 = length;\n  var lenSquare_1 = lenSquare;\n  var lengthSquare_1 = lengthSquare;\n  var mul_1 = mul;\n  var div_1 = div;\n  var dot_1 = dot;\n  var scale_1 = scale;\n  var normalize_1 = normalize$1;\n  var distance_1 = distance;\n  var dist_1 = dist;\n  var distanceSquare_1 = distanceSquare;\n  var distSquare_1 = distSquare;\n  var negate_1 = negate;\n  var lerp_1 = lerp;\n  var applyTransform_1 = applyTransform;\n  var min_1 = min$3;\n  var max_1 = max$2;\n\n  var vector = {\n  \tcreate: create_1,\n  \tcopy: copy_1,\n  \tclone: clone_1$1,\n  \tset: set_1,\n  \tadd: add_1,\n  \tscaleAndAdd: scaleAndAdd_1,\n  \tsub: sub_1,\n  \tlen: len_1,\n  \tlength: length_1,\n  \tlenSquare: lenSquare_1,\n  \tlengthSquare: lengthSquare_1,\n  \tmul: mul_1,\n  \tdiv: div_1,\n  \tdot: dot_1,\n  \tscale: scale_1,\n  \tnormalize: normalize_1,\n  \tdistance: distance_1,\n  \tdist: dist_1,\n  \tdistanceSquare: distanceSquare_1,\n  \tdistSquare: distSquare_1,\n  \tnegate: negate_1,\n  \tlerp: lerp_1,\n  \tapplyTransform: applyTransform_1,\n  \tmin: min_1,\n  \tmax: max_1\n  };\n\n  // TODO Draggable for group\n  // FIXME Draggable on element which has parent rotation or scale\n  function Draggable() {\n    this.on('mousedown', this._dragStart, this);\n    this.on('mousemove', this._drag, this);\n    this.on('mouseup', this._dragEnd, this); // `mosuemove` and `mouseup` can be continue to fire when dragging.\n    // See [Drag outside] in `Handler.js`. So we do not need to trigger\n    // `_dragEnd` when globalout. That would brings better user experience.\n    // this.on('globalout', this._dragEnd, this);\n    // this._dropTarget = null;\n    // this._draggingTarget = null;\n    // this._x = 0;\n    // this._y = 0;\n  }\n\n  Draggable.prototype = {\n    constructor: Draggable,\n    _dragStart: function (e) {\n      var draggingTarget = e.target; // Find if there is draggable in the ancestor\n\n      while (draggingTarget && !draggingTarget.draggable) {\n        draggingTarget = draggingTarget.parent;\n      }\n\n      if (draggingTarget) {\n        this._draggingTarget = draggingTarget;\n        draggingTarget.dragging = true;\n        this._x = e.offsetX;\n        this._y = e.offsetY;\n        this.dispatchToElement(param(draggingTarget, e), 'dragstart', e.event);\n      }\n    },\n    _drag: function (e) {\n      var draggingTarget = this._draggingTarget;\n\n      if (draggingTarget) {\n        var x = e.offsetX;\n        var y = e.offsetY;\n        var dx = x - this._x;\n        var dy = y - this._y;\n        this._x = x;\n        this._y = y;\n        draggingTarget.drift(dx, dy, e);\n        this.dispatchToElement(param(draggingTarget, e), 'drag', e.event);\n        var dropTarget = this.findHover(x, y, draggingTarget).target;\n        var lastDropTarget = this._dropTarget;\n        this._dropTarget = dropTarget;\n\n        if (draggingTarget !== dropTarget) {\n          if (lastDropTarget && dropTarget !== lastDropTarget) {\n            this.dispatchToElement(param(lastDropTarget, e), 'dragleave', e.event);\n          }\n\n          if (dropTarget && dropTarget !== lastDropTarget) {\n            this.dispatchToElement(param(dropTarget, e), 'dragenter', e.event);\n          }\n        }\n      }\n    },\n    _dragEnd: function (e) {\n      var draggingTarget = this._draggingTarget;\n\n      if (draggingTarget) {\n        draggingTarget.dragging = false;\n      }\n\n      this.dispatchToElement(param(draggingTarget, e), 'dragend', e.event);\n\n      if (this._dropTarget) {\n        this.dispatchToElement(param(this._dropTarget, e), 'drop', e.event);\n      }\n\n      this._draggingTarget = null;\n      this._dropTarget = null;\n    }\n  };\n\n  function param(target, e) {\n    return {\n      target: target,\n      topTarget: e && e.topTarget\n    };\n  }\n\n  var _default$2 = Draggable;\n  var Draggable_1 = _default$2;\n\n  /**\n   * Event Mixin\n   * @module zrender/mixin/Eventful\n   * @author Kener (@Kener-, kener.linfeng@gmail.com)\n   *         pissang (https://www.github.com/pissang)\n   */\n  var arrySlice = Array.prototype.slice;\n  /**\n   * Event dispatcher.\n   *\n   * @alias module:zrender/mixin/Eventful\n   * @constructor\n   * @param {Object} [eventProcessor] The object eventProcessor is the scope when\n   *        `eventProcessor.xxx` called.\n   * @param {Function} [eventProcessor.normalizeQuery]\n   *        param: {string|Object} Raw query.\n   *        return: {string|Object} Normalized query.\n   * @param {Function} [eventProcessor.filter] Event will be dispatched only\n   *        if it returns `true`.\n   *        param: {string} eventType\n   *        param: {string|Object} query\n   *        return: {boolean}\n   * @param {Function} [eventProcessor.afterTrigger] Called after all handlers called.\n   *        param: {string} eventType\n   */\n\n  var Eventful = function (eventProcessor) {\n    this._$handlers = {};\n    this._$eventProcessor = eventProcessor;\n  };\n\n  Eventful.prototype = {\n    constructor: Eventful,\n\n    /**\n     * The handler can only be triggered once, then removed.\n     *\n     * @param {string} event The event name.\n     * @param {string|Object} [query] Condition used on event filter.\n     * @param {Function} handler The event handler.\n     * @param {Object} context\n     */\n    one: function (event, query, handler, context) {\n      return on(this, event, query, handler, context, true);\n    },\n\n    /**\n     * Bind a handler.\n     *\n     * @param {string} event The event name.\n     * @param {string|Object} [query] Condition used on event filter.\n     * @param {Function} handler The event handler.\n     * @param {Object} [context]\n     */\n    on: function (event, query, handler, context) {\n      return on(this, event, query, handler, context, false);\n    },\n\n    /**\n     * Whether any handler has bound.\n     *\n     * @param  {string}  event\n     * @return {boolean}\n     */\n    isSilent: function (event) {\n      var _h = this._$handlers;\n      return !_h[event] || !_h[event].length;\n    },\n\n    /**\n     * Unbind a event.\n     *\n     * @param {string} [event] The event name.\n     *        If no `event` input, \"off\" all listeners.\n     * @param {Function} [handler] The event handler.\n     *        If no `handler` input, \"off\" all listeners of the `event`.\n     */\n    off: function (event, handler) {\n      var _h = this._$handlers;\n\n      if (!event) {\n        this._$handlers = {};\n        return this;\n      }\n\n      if (handler) {\n        if (_h[event]) {\n          var newList = [];\n\n          for (var i = 0, l = _h[event].length; i < l; i++) {\n            if (_h[event][i].h !== handler) {\n              newList.push(_h[event][i]);\n            }\n          }\n\n          _h[event] = newList;\n        }\n\n        if (_h[event] && _h[event].length === 0) {\n          delete _h[event];\n        }\n      } else {\n        delete _h[event];\n      }\n\n      return this;\n    },\n\n    /**\n     * Dispatch a event.\n     *\n     * @param {string} type The event name.\n     */\n    trigger: function (type) {\n      var _h = this._$handlers[type];\n      var eventProcessor = this._$eventProcessor;\n\n      if (_h) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 3) {\n          args = arrySlice.call(args, 1);\n        }\n\n        var len = _h.length;\n\n        for (var i = 0; i < len;) {\n          var hItem = _h[i];\n\n          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n            i++;\n            continue;\n          } // Optimize advise from backbone\n\n\n          switch (argLen) {\n            case 1:\n              hItem.h.call(hItem.ctx);\n              break;\n\n            case 2:\n              hItem.h.call(hItem.ctx, args[1]);\n              break;\n\n            case 3:\n              hItem.h.call(hItem.ctx, args[1], args[2]);\n              break;\n\n            default:\n              // have more than 2 given arguments\n              hItem.h.apply(hItem.ctx, args);\n              break;\n          }\n\n          if (hItem.one) {\n            _h.splice(i, 1);\n\n            len--;\n          } else {\n            i++;\n          }\n        }\n      }\n\n      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n      return this;\n    },\n\n    /**\n     * Dispatch a event with context, which is specified at the last parameter.\n     *\n     * @param {string} type The event name.\n     */\n    triggerWithContext: function (type) {\n      var _h = this._$handlers[type];\n      var eventProcessor = this._$eventProcessor;\n\n      if (_h) {\n        var args = arguments;\n        var argLen = args.length;\n\n        if (argLen > 4) {\n          args = arrySlice.call(args, 1, args.length - 1);\n        }\n\n        var ctx = args[args.length - 1];\n        var len = _h.length;\n\n        for (var i = 0; i < len;) {\n          var hItem = _h[i];\n\n          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n            i++;\n            continue;\n          } // Optimize advise from backbone\n\n\n          switch (argLen) {\n            case 1:\n              hItem.h.call(ctx);\n              break;\n\n            case 2:\n              hItem.h.call(ctx, args[1]);\n              break;\n\n            case 3:\n              hItem.h.call(ctx, args[1], args[2]);\n              break;\n\n            default:\n              // have more than 2 given arguments\n              hItem.h.apply(ctx, args);\n              break;\n          }\n\n          if (hItem.one) {\n            _h.splice(i, 1);\n\n            len--;\n          } else {\n            i++;\n          }\n        }\n      }\n\n      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n      return this;\n    }\n  };\n\n  function normalizeQuery(host, query) {\n    var eventProcessor = host._$eventProcessor;\n\n    if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n      query = eventProcessor.normalizeQuery(query);\n    }\n\n    return query;\n  }\n\n  function on(eventful, event, query, handler, context, isOnce) {\n    var _h = eventful._$handlers;\n\n    if (typeof query === 'function') {\n      context = handler;\n      handler = query;\n      query = null;\n    }\n\n    if (!handler || !event) {\n      return eventful;\n    }\n\n    query = normalizeQuery(eventful, query);\n\n    if (!_h[event]) {\n      _h[event] = [];\n    }\n\n    for (var i = 0; i < _h[event].length; i++) {\n      if (_h[event][i].h === handler) {\n        return eventful;\n      }\n    }\n\n    var wrap = {\n      h: handler,\n      one: isOnce,\n      query: query,\n      ctx: context || eventful,\n      // FIXME\n      // Do not publish this feature util it is proved that it makes sense.\n      callAtLast: handler.zrEventfulCallAtLast\n    };\n    var lastIndex = _h[event].length - 1;\n    var lastWrap = _h[event][lastIndex];\n    lastWrap && lastWrap.callAtLast ? _h[event].splice(lastIndex, 0, wrap) : _h[event].push(wrap);\n    return eventful;\n  } // ----------------------\n  // The events in zrender\n  // ----------------------\n\n  /**\n   * @event module:zrender/mixin/Eventful#onclick\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseover\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseout\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousemove\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousewheel\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmousedown\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#onmouseup\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondrag\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragstart\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragend\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragenter\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragleave\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondragover\n   * @type {Function}\n   * @default null\n   */\n\n  /**\n   * @event module:zrender/mixin/Eventful#ondrop\n   * @type {Function}\n   * @default null\n   */\n\n\n  var _default$3 = Eventful;\n  var Eventful_1 = _default$3;\n\n  /**\n   * The algoritm is learnt from\n   * https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n   * And we made some optimization for matrix inversion.\n   * Other similar approaches:\n   * \"cv::getPerspectiveTransform\", \"Direct Linear Transformation\".\n   */\n  var LN2 = Math.log(2);\n\n  function determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n\n    if (detCache.hasOwnProperty(cacheKey)) {\n      return detCache[cacheKey];\n    }\n\n    if (rank === 1) {\n      // In this case the colMask must be like: `11101111`. We can find the place of `0`.\n      var colStart = Math.round(Math.log((1 << fullRank) - 1 & ~colMask) / LN2);\n      return rows[rowStart][colStart];\n    }\n\n    var subRowMask = rowMask | 1 << rowStart;\n    var subRowStart = rowStart + 1;\n\n    while (rowMask & 1 << subRowStart) {\n      subRowStart++;\n    }\n\n    var sum = 0;\n\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n      var colTag = 1 << j;\n\n      if (!(colTag & colMask)) {\n        sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j] // det(subMatrix(0, j))\n        * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n        colLocalIdx++;\n      }\n    }\n\n    detCache[cacheKey] = sum;\n    return sum;\n  }\n  /**\n   * Usage:\n   * ```js\n   * var transformer = buildTransformer(\n   *     [10, 44, 100, 44, 100, 300, 10, 300],\n   *     [50, 54, 130, 14, 140, 330, 14, 220]\n   * );\n   * var out = [];\n   * transformer && transformer([11, 33], out);\n   * ```\n   *\n   * Notice: `buildTransformer` may take more than 10ms in some Android device.\n   *\n   * @param {Array.<number>} src source four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n   * @param {Array.<number>} dest destination four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n   * @return {Function} transformer If fail, return null/undefined.\n   */\n\n\n  function buildTransformer(src, dest) {\n    var mA = [[src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]], [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]], [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]], [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]], [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]], [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]], [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]], [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n\n    if (det === 0) {\n      // can not make transformer when and only when\n      // any three of the markers are collinear.\n      return;\n    } // `invert(mA) * dest`, that is, `adj(mA) / det * dest`.\n\n\n    var vh = [];\n\n    for (var i = 0; i < 8; i++) {\n      for (var j = 0; j < 8; j++) {\n        vh[j] == null && (vh[j] = 0);\n        vh[j] += ((i + j) % 2 ? -1 : 1) * // det(subMatrix(i, j))\n        determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache) / det * dest[i];\n      }\n    }\n\n    return function (out, srcPointX, srcPointY) {\n      var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n      out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n      out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n  }\n\n  var buildTransformer_1 = buildTransformer;\n\n  var fourPointsTransform = {\n  \tbuildTransformer: buildTransformer_1\n  };\n\n  var buildTransformer$1 = fourPointsTransform.buildTransformer;\n  var EVENT_SAVED_PROP = '___zrEVENTSAVED';\n  var _calcOut = [];\n  /**\n   * Transform \"local coord\" from `elFrom` to `elTarget`.\n   * \"local coord\": the coord based on the input `el`. The origin point is at\n   *     the position of \"left: 0; top: 0;\" in the `el`.\n   *\n   * Support when CSS transform is used.\n   *\n   * Having the `out` (that is, `[outX, outY]`), we can create an DOM element\n   * and set the CSS style as \"left: outX; top: outY;\" and append it to `elTarge`\n   * to locate the element.\n   *\n   * For example, this code below positions a child of `document.body` on the event\n   * point, no matter whether `body` has `margin`/`paddin`/`transfrom`/... :\n   * ```js\n   * transformLocalCoord(out, container, document.body, event.offsetX, event.offsetY);\n   * if (!eqNaN(out[0])) {\n   *     // Then locate the tip element on the event point.\n   *     var tipEl = document.createElement('div');\n   *     tipEl.style.cssText = 'position: absolute; left:' + out[0] + ';top:' + out[1] + ';';\n   *     document.body.appendChild(tipEl);\n   * }\n   * ```\n   *\n   * Notice: In some env this method is not supported. If called, `out` will be `[NaN, NaN]`.\n   *\n   * @param {Array.<number>} out [inX: number, inY: number] The output..\n   *        If can not transform, `out` will not be modified but return `false`.\n   * @param {HTMLElement} elFrom The `[inX, inY]` is based on elFrom.\n   * @param {HTMLElement} elTarget The `out` is based on elTarget.\n   * @param {number} inX\n   * @param {number} inY\n   * @return {boolean} Whether transform successfully.\n   */\n\n  function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true) && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n  }\n  /**\n   * Transform between a \"viewport coord\" and a \"local coord\".\n   * \"viewport coord\": the coord based on the left-top corner of the viewport\n   *     of the browser.\n   * \"local coord\": the coord based on the input `el`. The origin point is at\n   *     the position of \"left: 0; top: 0;\" in the `el`.\n   *\n   * Support the case when CSS transform is used on el.\n   *\n   * @param {Array.<number>} out [inX: number, inY: number] The output. If `inverse: false`,\n   *        it represents \"local coord\", otherwise \"vireport coord\".\n   *        If can not transform, `out` will not be modified but return `false`.\n   * @param {HTMLElement} el The \"local coord\" is based on the `el`, see comment above.\n   * @param {number} inX If `inverse: false`,\n   *        it represents \"vireport coord\", otherwise \"local coord\".\n   * @param {number} inY If `inverse: false`,\n   *        it represents \"vireport coord\", otherwise \"local coord\".\n   * @param {boolean} [inverse=false]\n   *        `true`: from \"viewport coord\" to \"local coord\".\n   *        `false`: from \"local coord\" to \"viewport coord\".\n   * @return {boolean} Whether transform successfully.\n   */\n\n\n  function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env_1.domSupported && !isCanvasEl(el)) {\n      var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n      var markers = prepareCoordMarkers(el, saved);\n      var transformer = preparePointerTransformer(markers, saved, inverse);\n\n      if (transformer) {\n        transformer(out, inX, inY);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n\n    if (markers) {\n      return markers;\n    }\n\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n\n    for (var i = 0; i < 4; i++) {\n      var marker = document.createElement('div');\n      var stl = marker.style;\n      var idxLR = i % 2;\n      var idxTB = (i >> 1) % 2;\n      stl.cssText = ['position: absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'user-select: none', 'width:0', 'height:0', // 'width: 5px',\n      // 'height: 5px',\n      propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n      el.appendChild(marker);\n      markers.push(marker);\n    }\n\n    return markers;\n  }\n\n  function preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var oldCoordTheSame = true;\n    var srcCoords = [];\n    var destCoords = [];\n\n    for (var i = 0; i < 4; i++) {\n      var rect = markers[i].getBoundingClientRect();\n      var ii = 2 * i;\n      var x = rect.left;\n      var y = rect.top;\n      srcCoords.push(x, y);\n      oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n      destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    } // Cache to avoid time consuming of `buildTransformer`.\n\n\n    return oldCoordTheSame && transformer ? transformer : (saved.srcCoords = srcCoords, saved[transformerName] = inverse ? buildTransformer$1(destCoords, srcCoords) : buildTransformer$1(srcCoords, destCoords));\n  }\n\n  function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n  }\n\n  var transformLocalCoord_1 = transformLocalCoord;\n  var transformCoordWithViewport_1 = transformCoordWithViewport;\n  var isCanvasEl_1 = isCanvasEl;\n\n  var dom = {\n  \ttransformLocalCoord: transformLocalCoord_1,\n  \ttransformCoordWithViewport: transformCoordWithViewport_1,\n  \tisCanvasEl: isCanvasEl_1\n  };\n\n  var Dispatcher = Eventful_1;\n\n\n\n\n\n  var isCanvasEl$1 = dom.isCanvasEl;\n  var transformCoordWithViewport$1 = dom.transformCoordWithViewport;\n\n  /**\n   * Utilities for mouse or touch events.\n   */\n  var isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\n  var MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\n  var _calcOut$1 = [];\n  /**\n   * Get the `zrX` and `zrY`, which are relative to the top-left of\n   * the input `el`.\n   * CSS transform (2D & 3D) is supported.\n   *\n   * The strategy to fetch the coords:\n   * + If `calculate` is not set as `true`, users of this method should\n   * ensure that `el` is the same or the same size & location as `e.target`.\n   * Otherwise the result coords are probably not expected. Because we\n   * firstly try to get coords from e.offsetX/e.offsetY.\n   * + If `calculate` is set as `true`, the input `el` can be any element\n   * and we force to calculate the coords based on `el`.\n   * + The input `el` should be positionable (not position:static).\n   *\n   * The force `calculate` can be used in case like:\n   * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n   *\n   * @param {HTMLElement} el DOM element.\n   * @param {Event} e Mouse event or touch event.\n   * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n   * @param {boolean} [calculate=false] Whether to force calculate\n   *        the coordinates but not use ones provided by browser.\n   */\n\n  function clientToLocal(el, e, out, calculate) {\n    out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n    // to the padding edge of the target element. The only browser using this convention\n    // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n    // not support the properties.\n    // (see http://www.jacklmoore.com/notes/mouse-position/)\n    // In zr painter.dom, padding edge equals to border edge.\n\n    if (calculate || !env_1.canvasSupported) {\n      calculateZrXY(el, e, out);\n    } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n    // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n    // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n    // zoom-factor, overflow / opacity layers, transforms ...)\n    // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n    // <https://bugs.jquery.com/ticket/8523#comment:14>\n    // BTW3, In ff, offsetX/offsetY is always 0.\n    else if (env_1.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n      } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n      else if (e.offsetX != null) {\n          out.zrX = e.offsetX;\n          out.zrY = e.offsetY;\n        } // For some other device, e.g., IOS safari.\n        else {\n            calculateZrXY(el, e, out);\n          }\n\n    return out;\n  }\n\n  function calculateZrXY(el, e, out) {\n    // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n    if (env_1.domSupported && el.getBoundingClientRect) {\n      var ex = e.clientX;\n      var ey = e.clientY;\n\n      if (isCanvasEl$1(el)) {\n        // Original approach, which do not support CSS transform.\n        // marker can not be locationed in a canvas container\n        // (getBoundingClientRect is always 0). We do not support\n        // that input a pre-created canvas to zr while using css\n        // transform in iOS.\n        var box = el.getBoundingClientRect();\n        out.zrX = ex - box.left;\n        out.zrY = ey - box.top;\n        return;\n      } else {\n        if (transformCoordWithViewport$1(_calcOut$1, el, ex, ey)) {\n          out.zrX = _calcOut$1[0];\n          out.zrY = _calcOut$1[1];\n          return;\n        }\n      }\n    }\n\n    out.zrX = out.zrY = 0;\n  }\n  /**\n   * Find native event compat for legency IE.\n   * Should be called at the begining of a native event listener.\n   *\n   * @param {Event} [e] Mouse event or touch event or pointer event.\n   *        For lagency IE, we use `window.event` is used.\n   * @return {Event} The native event.\n   */\n\n\n  function getNativeEvent(e) {\n    return e || window.event;\n  }\n  /**\n   * Normalize the coordinates of the input event.\n   *\n   * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n   * the input `el`.\n   * Get `e.zrDelta` if using mouse wheel.\n   * Get `e.which`, see the comment inside this function.\n   *\n   * Do not calculate repeatly if `zrX` and `zrY` already exist.\n   *\n   * Notice: see comments in `clientToLocal`. check the relationship\n   * between the result coords and the parameters `el` and `calculate`.\n   *\n   * @param {HTMLElement} el DOM element.\n   * @param {Event} [e] See `getNativeEvent`.\n   * @param {boolean} [calculate=false] Whether to force calculate\n   *        the coordinates but not use ones provided by browser.\n   * @return {UIEvent} The normalized native UIEvent.\n   */\n\n\n  function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n\n    if (e.zrX != null) {\n      return e;\n    }\n\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n    if (!isTouch) {\n      clientToLocal(el, e, e, calculate);\n      e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n    } else {\n      var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n      touch && clientToLocal(el, touch, e, calculate);\n    } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n    // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n    // If e.which has been defined, it may be readonly,\n    // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n    var button = e.button;\n\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n      e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n    } // [Caution]: `e.which` from browser is not always reliable. For example,\n    // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n    // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n    // `mousedown (pointerdown)` is the same as Chrome does.\n\n\n    return e;\n  }\n  /**\n   * @param {HTMLElement} el\n   * @param {string} name\n   * @param {Function} handler\n   * @param {Object|boolean} opt If boolean, means `opt.capture`\n   * @param {boolean} [opt.capture=false]\n   * @param {boolean} [opt.passive=false]\n   */\n\n\n  function addEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n      // Reproduct the console warning:\n      // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n      // Consider marking event handler as 'passive' to make the page more responsive.\n      // Just set console log level: verbose in chrome dev tool.\n      // then the warning log will be printed when addEventListener called.\n      // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n      // We have not yet found a neat way to using passive. Because in zrender the dom event\n      // listener delegate all of the upper events of element. Some of those events need\n      // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n      // Before passive can be adopted, these issues should be considered:\n      // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n      // passive or not.\n      // (2) How to tread that some zrender event listener is passive, and some is not. If\n      // we use other way but not preventDefault of mousewheel and touchmove, browser\n      // compatibility should be handled.\n      // var opts = (env.passiveSupported && name === 'mousewheel')\n      //     ? {passive: true}\n      //     // By default, the third param of el.addEventListener is `capture: false`.\n      //     : void 0;\n      // el.addEventListener(name, handler /* , opts */);\n      el.addEventListener(name, handler, opt);\n    } else {\n      // For simplicity, do not implement `setCapture` for IE9-.\n      el.attachEvent('on' + name, handler);\n    }\n  }\n  /**\n   * Parameter are the same as `addEventListener`.\n   *\n   * Notice that if a listener is registered twice, one with capture and one without,\n   * remove each one separately. Removal of a capturing listener does not affect a\n   * non-capturing version of the same listener, and vice versa.\n   */\n\n\n  function removeEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n      el.removeEventListener(name, handler, opt);\n    } else {\n      el.detachEvent('on' + name, handler);\n    }\n  }\n  /**\n   * preventDefault and stopPropagation.\n   * Notice: do not use this method in zrender. It can only be\n   * used by upper applications if necessary.\n   *\n   * @param {Event} e A mouse or touch event.\n   */\n\n\n  var stop = isDomLevel2 ? function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n  } : function (e) {\n    e.returnValue = false;\n    e.cancelBubble = true;\n  };\n  /**\n   * This method only works for mouseup and mousedown. The functionality is restricted\n   * for fault tolerance, See the `e.which` compatibility above.\n   *\n   * @param {MouseEvent} e\n   * @return {boolean}\n   */\n\n  function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n  }\n  /**\n   * To be removed.\n   * @deprecated\n   */\n\n\n  function notLeftMouse(e) {\n    // If e.which is undefined, considered as left mouse event.\n    return e.which > 1;\n  } // For backward compatibility\n\n\n  var clientToLocal_1 = clientToLocal;\n  var getNativeEvent_1 = getNativeEvent;\n  var normalizeEvent_1 = normalizeEvent;\n  var addEventListener_1 = addEventListener;\n  var removeEventListener_1 = removeEventListener;\n  var stop_1 = stop;\n  var isMiddleOrRightButtonOnMouseUpDown_1 = isMiddleOrRightButtonOnMouseUpDown;\n  var notLeftMouse_1 = notLeftMouse;\n\n  var event = {\n  \tDispatcher: Dispatcher,\n  \tclientToLocal: clientToLocal_1,\n  \tgetNativeEvent: getNativeEvent_1,\n  \tnormalizeEvent: normalizeEvent_1,\n  \taddEventListener: addEventListener_1,\n  \tremoveEventListener: removeEventListener_1,\n  \tstop: stop_1,\n  \tisMiddleOrRightButtonOnMouseUpDown: isMiddleOrRightButtonOnMouseUpDown_1,\n  \tnotLeftMouse: notLeftMouse_1\n  };\n\n  /**\n   * Only implements needed gestures for mobile.\n   */\n  var GestureMgr = function () {\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n    this._track = [];\n  };\n\n  GestureMgr.prototype = {\n    constructor: GestureMgr,\n    recognize: function (event, target, root) {\n      this._doTrack(event, target, root);\n\n      return this._recognize(event);\n    },\n    clear: function () {\n      this._track.length = 0;\n      return this;\n    },\n    _doTrack: function (event$1, target, root) {\n      var touches = event$1.touches;\n\n      if (!touches) {\n        return;\n      }\n\n      var trackItem = {\n        points: [],\n        touches: [],\n        target: target,\n        event: event$1\n      };\n\n      for (var i = 0, len = touches.length; i < len; i++) {\n        var touch = touches[i];\n        var pos = event.clientToLocal(root, touch, {});\n        trackItem.points.push([pos.zrX, pos.zrY]);\n        trackItem.touches.push(touch);\n      }\n\n      this._track.push(trackItem);\n    },\n    _recognize: function (event) {\n      for (var eventName in recognizers) {\n        if (recognizers.hasOwnProperty(eventName)) {\n          var gestureInfo = recognizers[eventName](this._track, event);\n\n          if (gestureInfo) {\n            return gestureInfo;\n          }\n        }\n      }\n    }\n  };\n\n  function dist$1(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function center(pointPair) {\n    return [(pointPair[0][0] + pointPair[1][0]) / 2, (pointPair[0][1] + pointPair[1][1]) / 2];\n  }\n\n  var recognizers = {\n    pinch: function (track, event) {\n      var trackLen = track.length;\n\n      if (!trackLen) {\n        return;\n      }\n\n      var pinchEnd = (track[trackLen - 1] || {}).points;\n      var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n      if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {\n        var pinchScale = dist$1(pinchEnd) / dist$1(pinchPre);\n        !isFinite(pinchScale) && (pinchScale = 1);\n        event.pinchScale = pinchScale;\n        var pinchCenter = center(pinchEnd);\n        event.pinchX = pinchCenter[0];\n        event.pinchY = pinchCenter[1];\n        return {\n          type: 'pinch',\n          target: track[0].target,\n          event: event\n        };\n      }\n    } // Only pinch currently.\n\n  };\n  var _default$4 = GestureMgr;\n  var GestureMgr_1 = _default$4;\n\n  /**\n   * [The interface between `Handler` and `HandlerProxy`]:\n   *\n   * The default `HandlerProxy` only support the common standard web environment\n   * (e.g., standalone browser, headless browser, embed browser in mobild APP, ...).\n   * But `HandlerProxy` can be replaced to support more non-standard environment\n   * (e.g., mini app), or to support more feature that the default `HandlerProxy`\n   * not provided (like echarts-gl did).\n   * So the interface between `Handler` and `HandlerProxy` should be stable. Do not\n   * make break changes util inevitable. The interface include the public methods\n   * of `Handler` and the events listed in `handlerNames` below, by which `HandlerProxy`\n   * drives `Handler`.\n   */\n\n  /**\n   * [Drag outside]:\n   *\n   * That is, triggering `mousemove` and `mouseup` event when the pointer is out of the\n   * zrender area when dragging. That is important for the improvement of the user experience\n   * when dragging something near the boundary without being terminated unexpectedly.\n   *\n   * We originally consider to introduce new events like `pagemovemove` and `pagemouseup`\n   * to resolve this issue. But some drawbacks of it is described in\n   * https://github.com/ecomfe/zrender/pull/536#issuecomment-560286899\n   *\n   * Instead, we referenced the specifications:\n   * https://www.w3.org/TR/touch-events/#the-touchmove-event\n   * https://www.w3.org/TR/2014/WD-DOM-Level-3-Events-20140925/#event-type-mousemove\n   * where the the mousemove/touchmove can be continue to fire if the user began a drag\n   * operation and the pointer has left the boundary. (for the mouse event, browsers\n   * only do it on `document` and when the pointer has left the boundary of the browser.)\n   *\n   * So the default `HandlerProxy` supports this feature similarly: if it is in the dragging\n   * state (see `pointerCapture` in `HandlerProxy`), the `mousemove` and `mouseup` continue\n   * to fire until release the pointer. That is implemented by listen to those event on\n   * `document`.\n   * If we implement some other `HandlerProxy` only for touch device, that would be easier.\n   * The touch event support this feature by default.\n   *\n   * Note:\n   * There might be some cases that the mouse event can not be\n   * received on `document`. For example,\n   * (A) `useCapture` is not supported and some user defined event listeners on the ancestor\n   * of zr dom throw Error .\n   * (B) `useCapture` is not supported Some user defined event listeners on the ancestor of\n   * zr dom call `stopPropagation`.\n   * In these cases, the `mousemove` event might be keep triggered event\n   * if the mouse is released. We try to reduce the side-effect in those cases.\n   * That is, do nothing (especially, `findHover`) in those cases. See `isOutsideBoundary`.\n   *\n   * Note:\n   * If `HandlerProxy` listens to `document` with `useCapture`, `HandlerProxy` needs to\n   * make sure `stopPropagation` and `preventDefault` doing nothing if and only if the event\n   * target is not zrender dom. Becuase it is dangerous to enable users to call them in\n   * `document` capture phase to prevent the propagation to any listener of the webpage.\n   * But they are needed to work when the pointer inside the zrender dom.\n   */\n  var SILENT = 'silent';\n\n  function makeEventPacket(eveType, targetInfo, event) {\n    return {\n      type: eveType,\n      event: event,\n      // target can only be an element that is not silent.\n      target: targetInfo.target,\n      // topTarget can be a silent element.\n      topTarget: targetInfo.topTarget,\n      cancelBubble: false,\n      offsetX: event.zrX,\n      offsetY: event.zrY,\n      gestureEvent: event.gestureEvent,\n      pinchX: event.pinchX,\n      pinchY: event.pinchY,\n      pinchScale: event.pinchScale,\n      wheelDelta: event.zrDelta,\n      zrByTouch: event.zrByTouch,\n      which: event.which,\n      stop: stopEvent\n    };\n  }\n\n  function stopEvent() {\n    event.stop(this.event);\n  }\n\n  function EmptyProxy() {}\n\n  EmptyProxy.prototype.dispose = function () {};\n\n  var handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n  /**\n   * @alias module:zrender/Handler\n   * @constructor\n   * @extends module:zrender/mixin/Eventful\n   * @param {module:zrender/Storage} storage Storage instance.\n   * @param {module:zrender/Painter} painter Painter instance.\n   * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n   * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n   */\n\n  var Handler = function (storage, painter, proxy, painterRoot) {\n    Eventful_1.call(this);\n    this.storage = storage;\n    this.painter = painter;\n    this.painterRoot = painterRoot;\n    proxy = proxy || new EmptyProxy();\n    /**\n     * Proxy of event. can be Dom, WebGLSurface, etc.\n     */\n\n    this.proxy = null;\n    /**\n     * {target, topTarget, x, y}\n     * @private\n     * @type {Object}\n     */\n\n    this._hovered = {};\n    /**\n     * @private\n     * @type {Date}\n     */\n\n    this._lastTouchMoment;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._lastX;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._lastY;\n    /**\n     * @private\n     * @type {module:zrender/core/GestureMgr}\n     */\n\n    this._gestureMgr;\n    Draggable_1.call(this);\n    this.setHandlerProxy(proxy);\n  };\n\n  Handler.prototype = {\n    constructor: Handler,\n    setHandlerProxy: function (proxy) {\n      if (this.proxy) {\n        this.proxy.dispose();\n      }\n\n      if (proxy) {\n        util.each(handlerNames, function (name) {\n          proxy.on && proxy.on(name, this[name], this);\n        }, this); // Attach handler\n\n        proxy.handler = this;\n      }\n\n      this.proxy = proxy;\n    },\n    mousemove: function (event) {\n      var x = event.zrX;\n      var y = event.zrY;\n      var isOutside = isOutsideBoundary(this, x, y);\n      var lastHovered = this._hovered;\n      var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n      // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n      // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n      // See #6198.\n\n      if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n        lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n        lastHoveredTarget = lastHovered.target;\n      }\n\n      var hovered = this._hovered = isOutside ? {\n        x: x,\n        y: y\n      } : this.findHover(x, y);\n      var hoveredTarget = hovered.target;\n      var proxy = this.proxy;\n      proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n      if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n        this.dispatchToElement(lastHovered, 'mouseout', event);\n      } // Mouse moving on one element\n\n\n      this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n      if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n        this.dispatchToElement(hovered, 'mouseover', event);\n      }\n    },\n    mouseout: function (event) {\n      var eventControl = event.zrEventControl;\n      var zrIsToLocalDOM = event.zrIsToLocalDOM;\n\n      if (eventControl !== 'only_globalout') {\n        this.dispatchToElement(this._hovered, 'mouseout', event);\n      }\n\n      if (eventControl !== 'no_globalout') {\n        // FIXME: if the pointer moving from the extra doms to realy \"outside\",\n        // the `globalout` should have been triggered. But currently not.\n        !zrIsToLocalDOM && this.trigger('globalout', {\n          type: 'globalout',\n          event: event\n        });\n      }\n    },\n\n    /**\n     * Resize\n     */\n    resize: function (event) {\n      this._hovered = {};\n    },\n\n    /**\n     * Dispatch event\n     * @param {string} eventName\n     * @param {event=} eventArgs\n     */\n    dispatch: function (eventName, eventArgs) {\n      var handler = this[eventName];\n      handler && handler.call(this, eventArgs);\n    },\n\n    /**\n     * Dispose\n     */\n    dispose: function () {\n      this.proxy.dispose();\n      this.storage = this.proxy = this.painter = null;\n    },\n\n    /**\n     * cursor style\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n      var proxy = this.proxy;\n      proxy.setCursor && proxy.setCursor(cursorStyle);\n    },\n\n    /**\n     * \n     *\n     * @private\n     * @param {Object} targetInfo {target, topTarget} \n     * @param {string} eventName \n     * @param {Object} event \n     */\n    dispatchToElement: function (targetInfo, eventName, event) {\n      targetInfo = targetInfo || {};\n      var el = targetInfo.target;\n\n      if (el && el.silent) {\n        return;\n      }\n\n      var eventHandler = 'on' + eventName;\n      var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n      while (el) {\n        el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n        el.trigger(eventName, eventPacket);\n        el = el.parent;\n\n        if (eventPacket.cancelBubble) {\n          break;\n        }\n      }\n\n      if (!eventPacket.cancelBubble) {\n        //  zrender \n        this.trigger(eventName, eventPacket); // \n        //  click  dispose painter \n\n        this.painter && this.painter.eachOtherLayer(function (layer) {\n          if (typeof layer[eventHandler] === 'function') {\n            layer[eventHandler].call(layer, eventPacket);\n          }\n\n          if (layer.trigger) {\n            layer.trigger(eventName, eventPacket);\n          }\n        });\n      }\n    },\n\n    /**\n     * @private\n     * @param {number} x\n     * @param {number} y\n     * @param {module:zrender/graphic/Displayable} exclude\n     * @return {model:zrender/Element}\n     * @method\n     */\n    findHover: function (x, y, exclude) {\n      var list = this.storage.getDisplayList();\n      var out = {\n        x: x,\n        y: y\n      };\n\n      for (var i = list.length - 1; i >= 0; i--) {\n        var hoverCheckResult;\n\n        if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n        && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n          !out.topTarget && (out.topTarget = list[i]);\n\n          if (hoverCheckResult !== SILENT) {\n            out.target = list[i];\n            break;\n          }\n        }\n      }\n\n      return out;\n    },\n    processGesture: function (event, stage) {\n      if (!this._gestureMgr) {\n        this._gestureMgr = new GestureMgr_1();\n      }\n\n      var gestureMgr = this._gestureMgr;\n      stage === 'start' && gestureMgr.clear();\n      var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n      stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n      if (gestureInfo) {\n        var type = gestureInfo.type;\n        event.gestureEvent = type;\n        this.dispatchToElement({\n          target: gestureInfo.target\n        }, type, gestureInfo.event);\n      }\n    }\n  }; // Common handlers\n\n  util.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n      var x = event.zrX;\n      var y = event.zrY;\n      var isOutside = isOutsideBoundary(this, x, y);\n      var hovered;\n      var hoveredTarget;\n\n      if (name !== 'mouseup' || !isOutside) {\n        // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n        hovered = this.findHover(x, y);\n        hoveredTarget = hovered.target;\n      }\n\n      if (name === 'mousedown') {\n        this._downEl = hoveredTarget;\n        this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n        this._upEl = hoveredTarget;\n      } else if (name === 'mouseup') {\n        this._upEl = hoveredTarget;\n      } else if (name === 'click') {\n        if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n        // including the case that `mousedown` - `mousemove` - `mouseup`,\n        // which should be filtered, otherwise it will bring trouble to\n        // pan and zoom.\n        || !this._downPoint // Arbitrary value\n        || vector.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n          return;\n        }\n\n        this._downPoint = null;\n      }\n\n      this.dispatchToElement(hovered, name, event);\n    };\n  });\n\n  function isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n      var el = displayable;\n      var isSilent;\n\n      while (el) {\n        // If clipped by ancestor.\n        // FIXME: If clipPath has neither stroke nor fill,\n        // el.clipPath.contain(x, y) will always return false.\n        if (el.clipPath && !el.clipPath.contain(x, y)) {\n          return false;\n        }\n\n        if (el.silent) {\n          isSilent = true;\n        }\n\n        el = el.parent;\n      }\n\n      return isSilent ? SILENT : true;\n    }\n\n    return false;\n  }\n  /**\n   * See [Drag outside].\n   */\n\n\n  function isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n  }\n\n  util.mixin(Handler, Eventful_1);\n  util.mixin(Handler, Draggable_1);\n  var _default$5 = Handler;\n  var Handler_1 = _default$5;\n\n  /**\n   * 3x2\n   * @exports zrender/tool/matrix\n   */\n\n  /* global Float32Array */\n  var ArrayCtor$1 = typeof Float32Array === 'undefined' ? Array : Float32Array;\n  /**\n   * Create a identity matrix.\n   * @return {Float32Array|Array.<number>}\n   */\n\n  function create$1() {\n    var out = new ArrayCtor$1(6);\n    identity(out);\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   */\n\n\n  function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} m\n   */\n\n\n  function copy$1(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} m1\n   * @param {Float32Array|Array.<number>} m2\n   */\n\n\n  function mul$1(out, m1, m2) {\n    // Consider matrix.mul(m, m2, m);\n    // where out is the same as m2.\n    // So use temp variable to escape error.\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {Float32Array|Array.<number>} v\n   */\n\n\n  function translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {number} rad\n   */\n\n\n  function rotate(out, a, rad) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * atx + st * aty;\n    out[5] = ct * aty - st * atx;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   * @param {Float32Array|Array.<number>} v\n   */\n\n\n  function scale$1(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n  }\n  /**\n   * \n   * @param {Float32Array|Array.<number>} out\n   * @param {Float32Array|Array.<number>} a\n   */\n\n\n  function invert(out, a) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var det = aa * ad - ab * ac;\n\n    if (!det) {\n      return null;\n    }\n\n    det = 1.0 / det;\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n  }\n  /**\n   * Clone a new matrix.\n   * @param {Float32Array|Array.<number>} a\n   */\n\n\n  function clone$3(a) {\n    var b = create$1();\n    copy$1(b, a);\n    return b;\n  }\n\n  var create_1$1 = create$1;\n  var identity_1 = identity;\n  var copy_1$1 = copy$1;\n  var mul_1$1 = mul$1;\n  var translate_1 = translate;\n  var rotate_1 = rotate;\n  var scale_1$1 = scale$1;\n  var invert_1 = invert;\n  var clone_1$2 = clone$3;\n\n  var matrix = {\n  \tcreate: create_1$1,\n  \tidentity: identity_1,\n  \tcopy: copy_1$1,\n  \tmul: mul_1$1,\n  \ttranslate: translate_1,\n  \trotate: rotate_1,\n  \tscale: scale_1$1,\n  \tinvert: invert_1,\n  \tclone: clone_1$2\n  };\n\n  /**\n   * \n   * @module zrender/mixin/Transformable\n   * @author pissang (https://www.github.com/pissang)\n   */\n  var mIdentity = matrix.identity;\n  var EPSILON = 5e-5;\n\n  function isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n  }\n  /**\n   * @alias module:zrender/mixin/Transformable\n   * @constructor\n   */\n\n\n  var Transformable = function (opts) {\n    opts = opts || {}; // If there are no given position, rotation, scale\n\n    if (!opts.position) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default [0, 0]\n       */\n      this.position = [0, 0];\n    }\n\n    if (opts.rotation == null) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default 0\n       */\n      this.rotation = 0;\n    }\n\n    if (!opts.scale) {\n      /**\n       * \n       * @type {Array.<number>}\n       * @default [1, 1]\n       */\n      this.scale = [1, 1];\n    }\n    /**\n     * \n     * @type {Array.<number>}\n     * @default null\n     */\n\n\n    this.origin = this.origin || null;\n  };\n\n  var transformableProto = Transformable.prototype;\n  transformableProto.transform = null;\n  /**\n   * \n   * , position, rotation, scaletransformtransform\n   */\n\n  transformableProto.needLocalTransform = function () {\n    return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n  };\n\n  var scaleTmp = [];\n\n  transformableProto.updateTransform = function () {\n    var parent = this.parent;\n    var parentHasTransform = parent && parent.transform;\n    var needLocalTransform = this.needLocalTransform();\n    var m = this.transform;\n\n    if (!(needLocalTransform || parentHasTransform)) {\n      m && mIdentity(m);\n      return;\n    }\n\n    m = m || matrix.create();\n\n    if (needLocalTransform) {\n      this.getLocalTransform(m);\n    } else {\n      mIdentity(m);\n    } // \n\n\n    if (parentHasTransform) {\n      if (needLocalTransform) {\n        matrix.mul(m, parent.transform, m);\n      } else {\n        matrix.copy(m, parent.transform);\n      }\n    } // \n\n\n    this.transform = m;\n    var globalScaleRatio = this.globalScaleRatio;\n\n    if (globalScaleRatio != null && globalScaleRatio !== 1) {\n      this.getGlobalScale(scaleTmp);\n      var relX = scaleTmp[0] < 0 ? -1 : 1;\n      var relY = scaleTmp[1] < 0 ? -1 : 1;\n      var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n      var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n      m[0] *= sx;\n      m[1] *= sx;\n      m[2] *= sy;\n      m[3] *= sy;\n    }\n\n    this.invTransform = this.invTransform || matrix.create();\n    matrix.invert(this.invTransform, m);\n  };\n\n  transformableProto.getLocalTransform = function (m) {\n    return Transformable.getLocalTransform(this, m);\n  };\n  /**\n   * transformcontext\n   * @param {CanvasRenderingContext2D} ctx\n   */\n\n\n  transformableProto.setTransform = function (ctx) {\n    var m = this.transform;\n    var dpr = ctx.dpr || 1;\n\n    if (m) {\n      ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    } else {\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n  };\n\n  transformableProto.restoreTransform = function (ctx) {\n    var dpr = ctx.dpr || 1;\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  };\n\n  var tmpTransform = [];\n  var originTransform = matrix.create();\n\n  transformableProto.setLocalTransform = function (m) {\n    if (!m) {\n      // TODO return or set identity?\n      return;\n    }\n\n    var sx = m[0] * m[0] + m[1] * m[1];\n    var sy = m[2] * m[2] + m[3] * m[3];\n    var position = this.position;\n    var scale = this.scale;\n\n    if (isNotAroundZero(sx - 1)) {\n      sx = Math.sqrt(sx);\n    }\n\n    if (isNotAroundZero(sy - 1)) {\n      sy = Math.sqrt(sy);\n    }\n\n    if (m[0] < 0) {\n      sx = -sx;\n    }\n\n    if (m[3] < 0) {\n      sy = -sy;\n    }\n\n    position[0] = m[4];\n    position[1] = m[5];\n    scale[0] = sx;\n    scale[1] = sy;\n    this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n  };\n  /**\n   * `transform``position`, `rotation`, `scale`\n   */\n\n\n  transformableProto.decomposeTransform = function () {\n    if (!this.transform) {\n      return;\n    }\n\n    var parent = this.parent;\n    var m = this.transform;\n\n    if (parent && parent.transform) {\n      // Get local transform and decompose them to position, scale, rotation\n      matrix.mul(tmpTransform, parent.invTransform, m);\n      m = tmpTransform;\n    }\n\n    var origin = this.origin;\n\n    if (origin && (origin[0] || origin[1])) {\n      originTransform[4] = origin[0];\n      originTransform[5] = origin[1];\n      matrix.mul(tmpTransform, m, originTransform);\n      tmpTransform[4] -= origin[0];\n      tmpTransform[5] -= origin[1];\n      m = tmpTransform;\n    }\n\n    this.setLocalTransform(m);\n  };\n  /**\n   * Get global scale\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.getGlobalScale = function (out) {\n    var m = this.transform;\n    out = out || [];\n\n    if (!m) {\n      out[0] = 1;\n      out[1] = 1;\n      return out;\n    }\n\n    out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n    out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n    if (m[0] < 0) {\n      out[0] = -out[0];\n    }\n\n    if (m[3] < 0) {\n      out[1] = -out[1];\n    }\n\n    return out;\n  };\n  /**\n   *  shape \n   * @method\n   * @param {number} x\n   * @param {number} y\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.transformCoordToLocal = function (x, y) {\n    var v2 = [x, y];\n    var invTransform = this.invTransform;\n\n    if (invTransform) {\n      vector.applyTransform(v2, v2, invTransform);\n    }\n\n    return v2;\n  };\n  /**\n   * \n   * @method\n   * @param {number} x\n   * @param {number} y\n   * @return {Array.<number>}\n   */\n\n\n  transformableProto.transformCoordToGlobal = function (x, y) {\n    var v2 = [x, y];\n    var transform = this.transform;\n\n    if (transform) {\n      vector.applyTransform(v2, v2, transform);\n    }\n\n    return v2;\n  };\n  /**\n   * @static\n   * @param {Object} target\n   * @param {Array.<number>} target.origin\n   * @param {number} target.rotation\n   * @param {Array.<number>} target.position\n   * @param {Array.<number>} [m]\n   */\n\n\n  Transformable.getLocalTransform = function (target, m) {\n    m = m || [];\n    mIdentity(m);\n    var origin = target.origin;\n    var scale = target.scale || [1, 1];\n    var rotation = target.rotation || 0;\n    var position = target.position || [0, 0];\n\n    if (origin) {\n      // Translate to origin\n      m[4] -= origin[0];\n      m[5] -= origin[1];\n    }\n\n    matrix.scale(m, m, scale);\n\n    if (rotation) {\n      matrix.rotate(m, m, rotation);\n    }\n\n    if (origin) {\n      // Translate back from origin\n      m[4] += origin[0];\n      m[5] += origin[1];\n    }\n\n    m[4] += position[0];\n    m[5] += position[1];\n    return m;\n  };\n\n  var _default$6 = Transformable;\n  var Transformable_1 = _default$6;\n\n  /**\n   *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n   * @see http://sole.github.io/tween.js/examples/03_graphs.html\n   * @exports zrender/animation/easing\n   */\n  var easing = {\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    linear: function (k) {\n      return k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticIn: function (k) {\n      return k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticOut: function (k) {\n      return k * (2 - k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quadraticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    },\n    // t^3\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicIn: function (k) {\n      return k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicOut: function (k) {\n      return --k * k * k + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    cubicInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    },\n    // t^4\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticIn: function (k) {\n      return k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticOut: function (k) {\n      return 1 - --k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quarticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k;\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n    // t^5\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticIn: function (k) {\n      return k * k * k * k * k;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticOut: function (k) {\n      return --k * k * k * k * k + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    quinticInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n    // sin(t)\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalIn: function (k) {\n      return 1 - Math.cos(k * Math.PI / 2);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalOut: function (k) {\n      return Math.sin(k * Math.PI / 2);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    sinusoidalInOut: function (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n    // 2^t\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialIn: function (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialOut: function (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    exponentialInOut: function (k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1);\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n    // sqrt(1-t^2)\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularIn: function (k) {\n      return 1 - Math.sqrt(1 - k * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularOut: function (k) {\n      return Math.sqrt(1 - --k * k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    circularInOut: function (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticIn: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticOut: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    elasticInOut: function (k) {\n      var s;\n      var a = 0.1;\n      var p = 0.4;\n\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if (!a || a < 1) {\n        a = 1;\n        s = p / 4;\n      } else {\n        s = p * Math.asin(1 / a) / (2 * Math.PI);\n      }\n\n      if ((k *= 2) < 1) {\n        return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n      }\n\n      return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backIn: function (k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backOut: function (k) {\n      var s = 1.70158;\n      return --k * k * ((s + 1) * k + s) + 1;\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    backInOut: function (k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n    // \n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceIn: function (k) {\n      return 1 - easing.bounceOut(1 - k);\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceOut: function (k) {\n      if (k < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n      }\n    },\n\n    /**\n    * @param {number} k\n    * @return {number}\n    */\n    bounceInOut: function (k) {\n      if (k < 0.5) {\n        return easing.bounceIn(k * 2) * 0.5;\n      }\n\n      return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n  };\n  var _default$7 = easing;\n  var easing_1 = _default$7;\n\n  /**\n   * \n   * @config target onframe\n   * @config life(1000) \n   * @config delay(0) \n   * @config loop(true)\n   * @config gap(0) \n   * @config onframe\n   * @config easing(optional)\n   * @config ondestroy(optional)\n   * @config onrestart(optional)\n   *\n   * TODO pause\n   */\n  function Clip(options) {\n    this._target = options.target; // \n\n    this._life = options.life || 1000; // \n\n    this._delay = options.delay || 0; // \n    // this._startTime = new Date().getTime() + this._delay;// \n\n    this._initialized = false; // \n\n    this.loop = options.loop == null ? false : options.loop;\n    this.gap = options.gap || 0;\n    this.easing = options.easing || 'Linear';\n    this.onframe = options.onframe;\n    this.ondestroy = options.ondestroy;\n    this.onrestart = options.onrestart;\n    this._pausedTime = 0;\n    this._paused = false;\n  }\n\n  Clip.prototype = {\n    constructor: Clip,\n    step: function (globalTime, deltaTime) {\n      // Set startTime on first step, or _startTime may has milleseconds different between clips\n      // PENDING\n      if (!this._initialized) {\n        this._startTime = globalTime + this._delay;\n        this._initialized = true;\n      }\n\n      if (this._paused) {\n        this._pausedTime += deltaTime;\n        return;\n      }\n\n      var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // \n\n      if (percent < 0) {\n        return;\n      }\n\n      percent = Math.min(percent, 1);\n      var easing = this.easing;\n      var easingFunc = typeof easing === 'string' ? easing_1[easing] : easing;\n      var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n      this.fire('frame', schedule); // \n\n      if (percent === 1) {\n        if (this.loop) {\n          this.restart(globalTime); // \n          //  stage.update \n\n          return 'restart';\n        } // \n        // Animation.update\n\n\n        this._needsRemove = true;\n        return 'destroy';\n      }\n\n      return null;\n    },\n    restart: function (globalTime) {\n      var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n      this._startTime = globalTime - remainder + this.gap;\n      this._pausedTime = 0;\n      this._needsRemove = false;\n    },\n    fire: function (eventType, arg) {\n      eventType = 'on' + eventType;\n\n      if (this[eventType]) {\n        this[eventType](this._target, arg);\n      }\n    },\n    pause: function () {\n      this._paused = true;\n    },\n    resume: function () {\n      this._paused = false;\n    }\n  };\n  var _default$8 = Clip;\n  var Clip_1 = _default$8;\n\n  // Simple LRU cache use doubly linked list\n  // @module zrender/core/LRU\n\n  /**\n   * Simple double linked list. Compared with array, it has O(1) remove operation.\n   * @constructor\n   */\n  var LinkedList = function () {\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n    this.head = null;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.tail = null;\n    this._len = 0;\n  };\n\n  var linkedListProto = LinkedList.prototype;\n  /**\n   * Insert a new value at the tail\n   * @param  {} val\n   * @return {module:zrender/core/LRU~Entry}\n   */\n\n  linkedListProto.insert = function (val) {\n    var entry = new Entry(val);\n    this.insertEntry(entry);\n    return entry;\n  };\n  /**\n   * Insert an entry at the tail\n   * @param  {module:zrender/core/LRU~Entry} entry\n   */\n\n\n  linkedListProto.insertEntry = function (entry) {\n    if (!this.head) {\n      this.head = this.tail = entry;\n    } else {\n      this.tail.next = entry;\n      entry.prev = this.tail;\n      entry.next = null;\n      this.tail = entry;\n    }\n\n    this._len++;\n  };\n  /**\n   * Remove entry.\n   * @param  {module:zrender/core/LRU~Entry} entry\n   */\n\n\n  linkedListProto.remove = function (entry) {\n    var prev = entry.prev;\n    var next = entry.next;\n\n    if (prev) {\n      prev.next = next;\n    } else {\n      // Is head\n      this.head = next;\n    }\n\n    if (next) {\n      next.prev = prev;\n    } else {\n      // Is tail\n      this.tail = prev;\n    }\n\n    entry.next = entry.prev = null;\n    this._len--;\n  };\n  /**\n   * @return {number}\n   */\n\n\n  linkedListProto.len = function () {\n    return this._len;\n  };\n  /**\n   * Clear list\n   */\n\n\n  linkedListProto.clear = function () {\n    this.head = this.tail = null;\n    this._len = 0;\n  };\n  /**\n   * @constructor\n   * @param {} val\n   */\n\n\n  var Entry = function (val) {\n    /**\n     * @type {}\n     */\n    this.value = val;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.next;\n    /**\n     * @type {module:zrender/core/LRU~Entry}\n     */\n\n    this.prev;\n  };\n  /**\n   * LRU Cache\n   * @constructor\n   * @alias module:zrender/core/LRU\n   */\n\n\n  var LRU = function (maxSize) {\n    this._list = new LinkedList();\n    this._map = {};\n    this._maxSize = maxSize || 10;\n    this._lastRemovedEntry = null;\n  };\n\n  var LRUProto = LRU.prototype;\n  /**\n   * @param  {string} key\n   * @param  {} value\n   * @return {} Removed value\n   */\n\n  LRUProto.put = function (key, value) {\n    var list = this._list;\n    var map = this._map;\n    var removed = null;\n\n    if (map[key] == null) {\n      var len = list.len(); // Reuse last removed entry\n\n      var entry = this._lastRemovedEntry;\n\n      if (len >= this._maxSize && len > 0) {\n        // Remove the least recently used\n        var leastUsedEntry = list.head;\n        list.remove(leastUsedEntry);\n        delete map[leastUsedEntry.key];\n        removed = leastUsedEntry.value;\n        this._lastRemovedEntry = leastUsedEntry;\n      }\n\n      if (entry) {\n        entry.value = value;\n      } else {\n        entry = new Entry(value);\n      }\n\n      entry.key = key;\n      list.insertEntry(entry);\n      map[key] = entry;\n    }\n\n    return removed;\n  };\n  /**\n   * @param  {string} key\n   * @return {}\n   */\n\n\n  LRUProto.get = function (key) {\n    var entry = this._map[key];\n    var list = this._list;\n\n    if (entry != null) {\n      // Put the latest used entry in the tail\n      if (entry !== list.tail) {\n        list.remove(entry);\n        list.insertEntry(entry);\n      }\n\n      return entry.value;\n    }\n  };\n  /**\n   * Clear the cache\n   */\n\n\n  LRUProto.clear = function () {\n    this._list.clear();\n\n    this._map = {};\n  };\n\n  var _default$9 = LRU;\n  var LRU_1 = _default$9;\n\n  var kCSSColorTable = {\n    'transparent': [0, 0, 0, 0],\n    'aliceblue': [240, 248, 255, 1],\n    'antiquewhite': [250, 235, 215, 1],\n    'aqua': [0, 255, 255, 1],\n    'aquamarine': [127, 255, 212, 1],\n    'azure': [240, 255, 255, 1],\n    'beige': [245, 245, 220, 1],\n    'bisque': [255, 228, 196, 1],\n    'black': [0, 0, 0, 1],\n    'blanchedalmond': [255, 235, 205, 1],\n    'blue': [0, 0, 255, 1],\n    'blueviolet': [138, 43, 226, 1],\n    'brown': [165, 42, 42, 1],\n    'burlywood': [222, 184, 135, 1],\n    'cadetblue': [95, 158, 160, 1],\n    'chartreuse': [127, 255, 0, 1],\n    'chocolate': [210, 105, 30, 1],\n    'coral': [255, 127, 80, 1],\n    'cornflowerblue': [100, 149, 237, 1],\n    'cornsilk': [255, 248, 220, 1],\n    'crimson': [220, 20, 60, 1],\n    'cyan': [0, 255, 255, 1],\n    'darkblue': [0, 0, 139, 1],\n    'darkcyan': [0, 139, 139, 1],\n    'darkgoldenrod': [184, 134, 11, 1],\n    'darkgray': [169, 169, 169, 1],\n    'darkgreen': [0, 100, 0, 1],\n    'darkgrey': [169, 169, 169, 1],\n    'darkkhaki': [189, 183, 107, 1],\n    'darkmagenta': [139, 0, 139, 1],\n    'darkolivegreen': [85, 107, 47, 1],\n    'darkorange': [255, 140, 0, 1],\n    'darkorchid': [153, 50, 204, 1],\n    'darkred': [139, 0, 0, 1],\n    'darksalmon': [233, 150, 122, 1],\n    'darkseagreen': [143, 188, 143, 1],\n    'darkslateblue': [72, 61, 139, 1],\n    'darkslategray': [47, 79, 79, 1],\n    'darkslategrey': [47, 79, 79, 1],\n    'darkturquoise': [0, 206, 209, 1],\n    'darkviolet': [148, 0, 211, 1],\n    'deeppink': [255, 20, 147, 1],\n    'deepskyblue': [0, 191, 255, 1],\n    'dimgray': [105, 105, 105, 1],\n    'dimgrey': [105, 105, 105, 1],\n    'dodgerblue': [30, 144, 255, 1],\n    'firebrick': [178, 34, 34, 1],\n    'floralwhite': [255, 250, 240, 1],\n    'forestgreen': [34, 139, 34, 1],\n    'fuchsia': [255, 0, 255, 1],\n    'gainsboro': [220, 220, 220, 1],\n    'ghostwhite': [248, 248, 255, 1],\n    'gold': [255, 215, 0, 1],\n    'goldenrod': [218, 165, 32, 1],\n    'gray': [128, 128, 128, 1],\n    'green': [0, 128, 0, 1],\n    'greenyellow': [173, 255, 47, 1],\n    'grey': [128, 128, 128, 1],\n    'honeydew': [240, 255, 240, 1],\n    'hotpink': [255, 105, 180, 1],\n    'indianred': [205, 92, 92, 1],\n    'indigo': [75, 0, 130, 1],\n    'ivory': [255, 255, 240, 1],\n    'khaki': [240, 230, 140, 1],\n    'lavender': [230, 230, 250, 1],\n    'lavenderblush': [255, 240, 245, 1],\n    'lawngreen': [124, 252, 0, 1],\n    'lemonchiffon': [255, 250, 205, 1],\n    'lightblue': [173, 216, 230, 1],\n    'lightcoral': [240, 128, 128, 1],\n    'lightcyan': [224, 255, 255, 1],\n    'lightgoldenrodyellow': [250, 250, 210, 1],\n    'lightgray': [211, 211, 211, 1],\n    'lightgreen': [144, 238, 144, 1],\n    'lightgrey': [211, 211, 211, 1],\n    'lightpink': [255, 182, 193, 1],\n    'lightsalmon': [255, 160, 122, 1],\n    'lightseagreen': [32, 178, 170, 1],\n    'lightskyblue': [135, 206, 250, 1],\n    'lightslategray': [119, 136, 153, 1],\n    'lightslategrey': [119, 136, 153, 1],\n    'lightsteelblue': [176, 196, 222, 1],\n    'lightyellow': [255, 255, 224, 1],\n    'lime': [0, 255, 0, 1],\n    'limegreen': [50, 205, 50, 1],\n    'linen': [250, 240, 230, 1],\n    'magenta': [255, 0, 255, 1],\n    'maroon': [128, 0, 0, 1],\n    'mediumaquamarine': [102, 205, 170, 1],\n    'mediumblue': [0, 0, 205, 1],\n    'mediumorchid': [186, 85, 211, 1],\n    'mediumpurple': [147, 112, 219, 1],\n    'mediumseagreen': [60, 179, 113, 1],\n    'mediumslateblue': [123, 104, 238, 1],\n    'mediumspringgreen': [0, 250, 154, 1],\n    'mediumturquoise': [72, 209, 204, 1],\n    'mediumvioletred': [199, 21, 133, 1],\n    'midnightblue': [25, 25, 112, 1],\n    'mintcream': [245, 255, 250, 1],\n    'mistyrose': [255, 228, 225, 1],\n    'moccasin': [255, 228, 181, 1],\n    'navajowhite': [255, 222, 173, 1],\n    'navy': [0, 0, 128, 1],\n    'oldlace': [253, 245, 230, 1],\n    'olive': [128, 128, 0, 1],\n    'olivedrab': [107, 142, 35, 1],\n    'orange': [255, 165, 0, 1],\n    'orangered': [255, 69, 0, 1],\n    'orchid': [218, 112, 214, 1],\n    'palegoldenrod': [238, 232, 170, 1],\n    'palegreen': [152, 251, 152, 1],\n    'paleturquoise': [175, 238, 238, 1],\n    'palevioletred': [219, 112, 147, 1],\n    'papayawhip': [255, 239, 213, 1],\n    'peachpuff': [255, 218, 185, 1],\n    'peru': [205, 133, 63, 1],\n    'pink': [255, 192, 203, 1],\n    'plum': [221, 160, 221, 1],\n    'powderblue': [176, 224, 230, 1],\n    'purple': [128, 0, 128, 1],\n    'red': [255, 0, 0, 1],\n    'rosybrown': [188, 143, 143, 1],\n    'royalblue': [65, 105, 225, 1],\n    'saddlebrown': [139, 69, 19, 1],\n    'salmon': [250, 128, 114, 1],\n    'sandybrown': [244, 164, 96, 1],\n    'seagreen': [46, 139, 87, 1],\n    'seashell': [255, 245, 238, 1],\n    'sienna': [160, 82, 45, 1],\n    'silver': [192, 192, 192, 1],\n    'skyblue': [135, 206, 235, 1],\n    'slateblue': [106, 90, 205, 1],\n    'slategray': [112, 128, 144, 1],\n    'slategrey': [112, 128, 144, 1],\n    'snow': [255, 250, 250, 1],\n    'springgreen': [0, 255, 127, 1],\n    'steelblue': [70, 130, 180, 1],\n    'tan': [210, 180, 140, 1],\n    'teal': [0, 128, 128, 1],\n    'thistle': [216, 191, 216, 1],\n    'tomato': [255, 99, 71, 1],\n    'turquoise': [64, 224, 208, 1],\n    'violet': [238, 130, 238, 1],\n    'wheat': [245, 222, 179, 1],\n    'white': [255, 255, 255, 1],\n    'whitesmoke': [245, 245, 245, 1],\n    'yellow': [255, 255, 0, 1],\n    'yellowgreen': [154, 205, 50, 1]\n  };\n\n  function clampCssByte(i) {\n    // Clamp to integer 0 .. 255.\n    i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n  }\n\n  function clampCssAngle(i) {\n    // Clamp to integer 0 .. 360.\n    i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n  }\n\n  function clampCssFloat(f) {\n    // Clamp to float 0.0 .. 1.0.\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n  }\n\n  function parseCssInt(str) {\n    // int or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n      return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n\n    return clampCssByte(parseInt(str, 10));\n  }\n\n  function parseCssFloat(str) {\n    // float or percentage.\n    if (str.length && str.charAt(str.length - 1) === '%') {\n      return clampCssFloat(parseFloat(str) / 100);\n    }\n\n    return clampCssFloat(parseFloat(str));\n  }\n\n  function cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n      h += 1;\n    } else if (h > 1) {\n      h -= 1;\n    }\n\n    if (h * 6 < 1) {\n      return m1 + (m2 - m1) * h * 6;\n    }\n\n    if (h * 2 < 1) {\n      return m2;\n    }\n\n    if (h * 3 < 2) {\n      return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    }\n\n    return m1;\n  }\n\n  function lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n  }\n\n  function setRgba(out, r, g, b, a) {\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n  }\n\n  function copyRgba(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n  }\n\n  var colorCache = new LRU_1(20);\n  var lastRemovedArr = null;\n\n  function putToCache(colorStr, rgbaArr) {\n    // Reuse removed array\n    if (lastRemovedArr) {\n      copyRgba(lastRemovedArr, rgbaArr);\n    }\n\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n  }\n  /**\n   * @param {string} colorStr\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n      return;\n    }\n\n    rgbaArr = rgbaArr || [];\n    var cached = colorCache.get(colorStr);\n\n    if (cached) {\n      return copyRgba(rgbaArr, cached);\n    } // colorStr may be not string\n\n\n    colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n    var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n    if (str in kCSSColorTable) {\n      copyRgba(rgbaArr, kCSSColorTable[str]);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } // #abc and #abc123 syntax.\n\n\n    if (str.charAt(0) === '#') {\n      if (str.length === 4) {\n        var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n        if (!(iv >= 0 && iv <= 0xfff)) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return; // Covers NaN.\n        }\n\n        setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n      } else if (str.length === 7) {\n        var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n        if (!(iv >= 0 && iv <= 0xffffff)) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return; // Covers NaN.\n        }\n\n        setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n      }\n\n      return;\n    }\n\n    var op = str.indexOf('(');\n    var ep = str.indexOf(')');\n\n    if (op !== -1 && ep + 1 === str.length) {\n      var fname = str.substr(0, op);\n      var params = str.substr(op + 1, ep - (op + 1)).split(',');\n      var alpha = 1; // To allow case fallthrough.\n\n      switch (fname) {\n        case 'rgba':\n          if (params.length !== 4) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          alpha = parseCssFloat(params.pop());\n        // jshint ignore:line\n        // Fall through.\n\n        case 'rgb':\n          if (params.length !== 3) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        case 'hsla':\n          if (params.length !== 4) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          params[3] = parseCssFloat(params[3]);\n          hsla2rgba(params, rgbaArr);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        case 'hsl':\n          if (params.length !== 3) {\n            setRgba(rgbaArr, 0, 0, 0, 1);\n            return;\n          }\n\n          hsla2rgba(params, rgbaArr);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n\n        default:\n          return;\n      }\n    }\n\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n  }\n  /**\n   * @param {Array.<number>} hsla\n   * @param {Array.<number>} rgba\n   * @return {Array.<number>} rgba\n   */\n\n\n  function hsla2rgba(hsla, rgba) {\n    var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n    // NOTE(deanm): According to the CSS spec s/l should only be\n    // percentages, but we don't bother and let float or percentage.\n\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n    rgba = rgba || [];\n    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n    if (hsla.length === 4) {\n      rgba[3] = hsla[3];\n    }\n\n    return rgba;\n  }\n  /**\n   * @param {Array.<number>} rgba\n   * @return {Array.<number>} hsla\n   */\n\n\n  function rgba2hsla(rgba) {\n    if (!rgba) {\n      return;\n    } // RGB from 0 to 255\n\n\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n    var vMin = Math.min(R, G, B); // Min. value of RGB\n\n    var vMax = Math.max(R, G, B); // Max. value of RGB\n\n    var delta = vMax - vMin; // Delta RGB value\n\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S; // HSL results from 0 to 1\n\n    if (delta === 0) {\n      H = 0;\n      S = 0;\n    } else {\n      if (L < 0.5) {\n        S = delta / (vMax + vMin);\n      } else {\n        S = delta / (2 - vMax - vMin);\n      }\n\n      var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n      var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n      var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n      if (R === vMax) {\n        H = deltaB - deltaG;\n      } else if (G === vMax) {\n        H = 1 / 3 + deltaR - deltaB;\n      } else if (B === vMax) {\n        H = 2 / 3 + deltaG - deltaR;\n      }\n\n      if (H < 0) {\n        H += 1;\n      }\n\n      if (H > 1) {\n        H -= 1;\n      }\n    }\n\n    var hsla = [H * 360, S, L];\n\n    if (rgba[3] != null) {\n      hsla.push(rgba[3]);\n    }\n\n    return hsla;\n  }\n  /**\n   * @param {string} color\n   * @param {number} level\n   * @return {string}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function lift(color, level) {\n    var colorArr = parse(color);\n\n    if (colorArr) {\n      for (var i = 0; i < 3; i++) {\n        if (level < 0) {\n          colorArr[i] = colorArr[i] * (1 - level) | 0;\n        } else {\n          colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n        }\n\n        if (colorArr[i] > 255) {\n          colorArr[i] = 255;\n        } else if (color[i] < 0) {\n          colorArr[i] = 0;\n        }\n      }\n\n      return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n  }\n  /**\n   * @param {string} color\n   * @return {string}\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function toHex(color) {\n    var colorArr = parse(color);\n\n    if (colorArr) {\n      return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n    }\n  }\n  /**\n   * Map value to color. Faster than lerp methods because color is represented by rgba array.\n   * @param {number} normalizedValue A float between 0 and 1.\n   * @param {Array.<Array.<number>>} colors List of rgba color array\n   * @param {Array.<number>} [out] Mapped gba color array\n   * @return {Array.<number>} will be null/undefined if input illegal.\n   */\n\n\n  function fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n      return;\n    }\n\n    out = out || [];\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n    return out;\n  }\n  /**\n   * @deprecated\n   */\n\n\n  var fastMapToColor = fastLerp;\n  /**\n   * @param {number} normalizedValue A float between 0 and 1.\n   * @param {Array.<string>} colors Color list.\n   * @param {boolean=} fullOutput Default false.\n   * @return {(string|Object)} Result color. If fullOutput,\n   *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n   * @memberOf module:zrender/util/color\n   */\n\n  function lerp$1(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n      return;\n    }\n\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n    var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n    return fullOutput ? {\n      color: color,\n      leftIndex: leftIndex,\n      rightIndex: rightIndex,\n      value: value\n    } : color;\n  }\n  /**\n   * @deprecated\n   */\n\n\n  var mapToColor = lerp$1;\n  /**\n   * @param {string} color\n   * @param {number=} h 0 ~ 360, ignore when null.\n   * @param {number=} s 0 ~ 1, ignore when null.\n   * @param {number=} l 0 ~ 1, ignore when null.\n   * @return {string} Color string in rgba format.\n   * @memberOf module:zrender/util/color\n   */\n\n  function modifyHSL(color, h, s, l) {\n    color = parse(color);\n\n    if (color) {\n      color = rgba2hsla(color);\n      h != null && (color[0] = clampCssAngle(h));\n      s != null && (color[1] = parseCssFloat(s));\n      l != null && (color[2] = parseCssFloat(l));\n      return stringify(hsla2rgba(color), 'rgba');\n    }\n  }\n  /**\n   * @param {string} color\n   * @param {number=} alpha 0 ~ 1\n   * @return {string} Color string in rgba format.\n   * @memberOf module:zrender/util/color\n   */\n\n\n  function modifyAlpha(color, alpha) {\n    color = parse(color);\n\n    if (color && alpha != null) {\n      color[3] = clampCssFloat(alpha);\n      return stringify(color, 'rgba');\n    }\n  }\n  /**\n   * @param {Array.<number>} arrColor like [12,33,44,0.4]\n   * @param {string} type 'rgba', 'hsva', ...\n   * @return {string} Result color. (If input illegal, return undefined).\n   */\n\n\n  function stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n      return;\n    }\n\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n      colorStr += ',' + arrColor[3];\n    }\n\n    return type + '(' + colorStr + ')';\n  }\n\n  var parse_1 = parse;\n  var lift_1 = lift;\n  var toHex_1 = toHex;\n  var fastLerp_1 = fastLerp;\n  var fastMapToColor_1 = fastMapToColor;\n  var lerp_1$1 = lerp$1;\n  var mapToColor_1 = mapToColor;\n  var modifyHSL_1 = modifyHSL;\n  var modifyAlpha_1 = modifyAlpha;\n  var stringify_1 = stringify;\n\n  var color = {\n  \tparse: parse_1,\n  \tlift: lift_1,\n  \ttoHex: toHex_1,\n  \tfastLerp: fastLerp_1,\n  \tfastMapToColor: fastMapToColor_1,\n  \tlerp: lerp_1$1,\n  \tmapToColor: mapToColor_1,\n  \tmodifyHSL: modifyHSL_1,\n  \tmodifyAlpha: modifyAlpha_1,\n  \tstringify: stringify_1\n  };\n\n  var isArrayLike$1 = util.isArrayLike;\n\n  /**\n   * @module echarts/animation/Animator\n   */\n  var arraySlice = Array.prototype.slice;\n\n  function defaultGetter(target, key) {\n    return target[key];\n  }\n\n  function defaultSetter(target, key, value) {\n    target[key] = value;\n  }\n  /**\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} percent\n   * @return {number}\n   */\n\n\n  function interpolateNumber(p0, p1, percent) {\n    return (p1 - p0) * percent + p0;\n  }\n  /**\n   * @param  {string} p0\n   * @param  {string} p1\n   * @param  {number} percent\n   * @return {string}\n   */\n\n\n  function interpolateString(p0, p1, percent) {\n    return percent > 0.5 ? p1 : p0;\n  }\n  /**\n   * @param  {Array} p0\n   * @param  {Array} p1\n   * @param  {number} percent\n   * @param  {Array} out\n   * @param  {number} arrDim\n   */\n\n\n  function interpolateArray(p0, p1, percent, out, arrDim) {\n    var len = p0.length;\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        out[i] = interpolateNumber(p0[i], p1[i], percent);\n      }\n    } else {\n      var len2 = len && p0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n        }\n      }\n    }\n  } // arr0 is source array, arr1 is target array.\n  // Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\n  function fillArr(arr0, arr1, arrDim) {\n    var arr0Len = arr0.length;\n    var arr1Len = arr1.length;\n\n    if (arr0Len !== arr1Len) {\n      // FIXME Not work for TypedArray\n      var isPreviousLarger = arr0Len > arr1Len;\n\n      if (isPreviousLarger) {\n        // Cut the previous\n        arr0.length = arr1Len;\n      } else {\n        // Fill the previous\n        for (var i = arr0Len; i < arr1Len; i++) {\n          arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n        }\n      }\n    } // Handling NaN value\n\n\n    var len2 = arr0[0] && arr0[0].length;\n\n    for (var i = 0; i < arr0.length; i++) {\n      if (arrDim === 1) {\n        if (isNaN(arr0[i])) {\n          arr0[i] = arr1[i];\n        }\n      } else {\n        for (var j = 0; j < len2; j++) {\n          if (isNaN(arr0[i][j])) {\n            arr0[i][j] = arr1[i][j];\n          }\n        }\n      }\n    }\n  }\n  /**\n   * @param  {Array} arr0\n   * @param  {Array} arr1\n   * @param  {number} arrDim\n   * @return {boolean}\n   */\n\n\n  function isArraySame(arr0, arr1, arrDim) {\n    if (arr0 === arr1) {\n      return true;\n    }\n\n    var len = arr0.length;\n\n    if (len !== arr1.length) {\n      return false;\n    }\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        if (arr0[i] !== arr1[i]) {\n          return false;\n        }\n      }\n    } else {\n      var len2 = arr0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          if (arr0[i][j] !== arr1[i][j]) {\n            return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  }\n  /**\n   * Catmull Rom interpolate array\n   * @param  {Array} p0\n   * @param  {Array} p1\n   * @param  {Array} p2\n   * @param  {Array} p3\n   * @param  {number} t\n   * @param  {number} t2\n   * @param  {number} t3\n   * @param  {Array} out\n   * @param  {number} arrDim\n   */\n\n\n  function catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n    var len = p0.length;\n\n    if (arrDim === 1) {\n      for (var i = 0; i < len; i++) {\n        out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n      }\n    } else {\n      var len2 = p0[0].length;\n\n      for (var i = 0; i < len; i++) {\n        for (var j = 0; j < len2; j++) {\n          out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n        }\n      }\n    }\n  }\n  /**\n   * Catmull Rom interpolate number\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @param  {number} t2\n   * @param  {number} t3\n   * @return {number}\n   */\n\n\n  function catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n\n  function cloneValue(value) {\n    if (isArrayLike$1(value)) {\n      var len = value.length;\n\n      if (isArrayLike$1(value[0])) {\n        var ret = [];\n\n        for (var i = 0; i < len; i++) {\n          ret.push(arraySlice.call(value[i]));\n        }\n\n        return ret;\n      }\n\n      return arraySlice.call(value);\n    }\n\n    return value;\n  }\n\n  function rgba2String(rgba) {\n    rgba[0] = Math.floor(rgba[0]);\n    rgba[1] = Math.floor(rgba[1]);\n    rgba[2] = Math.floor(rgba[2]);\n    return 'rgba(' + rgba.join(',') + ')';\n  }\n\n  function getArrayDim(keyframes) {\n    var lastValue = keyframes[keyframes.length - 1].value;\n    return isArrayLike$1(lastValue && lastValue[0]) ? 2 : 1;\n  }\n\n  function createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n    var getter = animator._getter;\n    var setter = animator._setter;\n    var useSpline = easing === 'spline';\n    var trackLen = keyframes.length;\n\n    if (!trackLen) {\n      return;\n    } // Guess data type\n\n\n    var firstVal = keyframes[0].value;\n    var isValueArray = isArrayLike$1(firstVal);\n    var isValueColor = false;\n    var isValueString = false; // For vertices morphing\n\n    var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n    var trackMaxTime; // Sort keyframe as ascending\n\n    keyframes.sort(function (a, b) {\n      return a.time - b.time;\n    });\n    trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n    var kfPercents = []; // Value of each keyframe\n\n    var kfValues = [];\n    var prevValue = keyframes[0].value;\n    var isAllValueEqual = true;\n\n    for (var i = 0; i < trackLen; i++) {\n      kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n      var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n      if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n        isAllValueEqual = false;\n      }\n\n      prevValue = value; // Try converting a string to a color array\n\n      if (typeof value === 'string') {\n        var colorArray = color.parse(value);\n\n        if (colorArray) {\n          value = colorArray;\n          isValueColor = true;\n        } else {\n          isValueString = true;\n        }\n      }\n\n      kfValues.push(value);\n    }\n\n    if (!forceAnimate && isAllValueEqual) {\n      return;\n    }\n\n    var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n    for (var i = 0; i < trackLen - 1; i++) {\n      if (isValueArray) {\n        fillArr(kfValues[i], lastValue, arrDim);\n      } else {\n        if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n          kfValues[i] = lastValue;\n        }\n      }\n    }\n\n    isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n    // animation playback is sequency\n\n    var lastFrame = 0;\n    var lastFramePercent = 0;\n    var start;\n    var w;\n    var p0;\n    var p1;\n    var p2;\n    var p3;\n\n    if (isValueColor) {\n      var rgba = [0, 0, 0, 0];\n    }\n\n    var onframe = function (target, percent) {\n      // Find the range keyframes\n      // kf1-----kf2---------current--------kf3\n      // find kf2 and kf3 and do interpolation\n      var frame; // In the easing function like elasticOut, percent may less than 0\n\n      if (percent < 0) {\n        frame = 0;\n      } else if (percent < lastFramePercent) {\n        // Start from next key\n        // PENDING start from lastFrame ?\n        start = Math.min(lastFrame + 1, trackLen - 1);\n\n        for (frame = start; frame >= 0; frame--) {\n          if (kfPercents[frame] <= percent) {\n            break;\n          }\n        } // PENDING really need to do this ?\n\n\n        frame = Math.min(frame, trackLen - 2);\n      } else {\n        for (frame = lastFrame; frame < trackLen; frame++) {\n          if (kfPercents[frame] > percent) {\n            break;\n          }\n        }\n\n        frame = Math.min(frame - 1, trackLen - 2);\n      }\n\n      lastFrame = frame;\n      lastFramePercent = percent;\n      var range = kfPercents[frame + 1] - kfPercents[frame];\n\n      if (range === 0) {\n        return;\n      } else {\n        w = (percent - kfPercents[frame]) / range;\n      }\n\n      if (useSpline) {\n        p1 = kfValues[frame];\n        p0 = kfValues[frame === 0 ? frame : frame - 1];\n        p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n        p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n        if (isValueArray) {\n          catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n        } else {\n          var value;\n\n          if (isValueColor) {\n            value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n            value = rgba2String(rgba);\n          } else if (isValueString) {\n            // String is step(0.5)\n            return interpolateString(p1, p2, w);\n          } else {\n            value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n          }\n\n          setter(target, propName, value);\n        }\n      } else {\n        if (isValueArray) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n        } else {\n          var value;\n\n          if (isValueColor) {\n            interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n            value = rgba2String(rgba);\n          } else if (isValueString) {\n            // String is step(0.5)\n            return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n          } else {\n            value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n          }\n\n          setter(target, propName, value);\n        }\n      }\n    };\n\n    var clip = new Clip_1({\n      target: animator._target,\n      life: trackMaxTime,\n      loop: animator._loop,\n      delay: animator._delay,\n      onframe: onframe,\n      ondestroy: oneTrackDone\n    });\n\n    if (easing && easing !== 'spline') {\n      clip.easing = easing;\n    }\n\n    return clip;\n  }\n  /**\n   * @alias module:zrender/animation/Animator\n   * @constructor\n   * @param {Object} target\n   * @param {boolean} loop\n   * @param {Function} getter\n   * @param {Function} setter\n   */\n\n\n  var Animator = function (target, loop, getter, setter) {\n    this._tracks = {};\n    this._target = target;\n    this._loop = loop || false;\n    this._getter = getter || defaultGetter;\n    this._setter = setter || defaultSetter;\n    this._clipCount = 0;\n    this._delay = 0;\n    this._doneList = [];\n    this._onframeList = [];\n    this._clipList = [];\n  };\n\n  Animator.prototype = {\n    /**\n     * Set Animation keyframe\n     * @param  {number} time ms\n     * @param  {Object} props key-value\n     * @return {module:zrender/animation/Animator}\n     */\n    when: function (time\n    /* ms */\n    , props) {\n      var tracks = this._tracks;\n\n      for (var propName in props) {\n        if (!props.hasOwnProperty(propName)) {\n          continue;\n        }\n\n        if (!tracks[propName]) {\n          tracks[propName] = []; // Invalid value\n\n          var value = this._getter(this._target, propName);\n\n          if (value == null) {\n            // zrLog('Invalid property ' + propName);\n            continue;\n          } // If time is 0\n          //  Then props is given initialize value\n          // Else\n          //  Initialize value from current prop value\n\n\n          if (time !== 0) {\n            tracks[propName].push({\n              time: 0,\n              value: cloneValue(value)\n            });\n          }\n        }\n\n        tracks[propName].push({\n          time: time,\n          value: props[propName]\n        });\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} callback\n     * @return {module:zrender/animation/Animator}\n     */\n    during: function (callback) {\n      this._onframeList.push(callback);\n\n      return this;\n    },\n    pause: function () {\n      for (var i = 0; i < this._clipList.length; i++) {\n        this._clipList[i].pause();\n      }\n\n      this._paused = true;\n    },\n    resume: function () {\n      for (var i = 0; i < this._clipList.length; i++) {\n        this._clipList[i].resume();\n      }\n\n      this._paused = false;\n    },\n    isPaused: function () {\n      return !!this._paused;\n    },\n    _doneCallback: function () {\n      // Clear all tracks\n      this._tracks = {}; // Clear all clips\n\n      this._clipList.length = 0;\n      var doneList = this._doneList;\n      var len = doneList.length;\n\n      for (var i = 0; i < len; i++) {\n        doneList[i].call(this);\n      }\n    },\n\n    /**\n     * Start the animation\n     * @param  {string|Function} [easing]\n     *         {@link module:zrender/animation/easing}\n     * @param  {boolean} forceAnimate\n     * @return {module:zrender/animation/Animator}\n     */\n    start: function (easing, forceAnimate) {\n      var self = this;\n      var clipCount = 0;\n\n      var oneTrackDone = function () {\n        clipCount--;\n\n        if (!clipCount) {\n          self._doneCallback();\n        }\n      };\n\n      var lastClip;\n\n      for (var propName in this._tracks) {\n        if (!this._tracks.hasOwnProperty(propName)) {\n          continue;\n        }\n\n        var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n        if (clip) {\n          this._clipList.push(clip);\n\n          clipCount++; // If start after added to animation\n\n          if (this.animation) {\n            this.animation.addClip(clip);\n          }\n\n          lastClip = clip;\n        }\n      } // Add during callback on the last clip\n\n\n      if (lastClip) {\n        var oldOnFrame = lastClip.onframe;\n\n        lastClip.onframe = function (target, percent) {\n          oldOnFrame(target, percent);\n\n          for (var i = 0; i < self._onframeList.length; i++) {\n            self._onframeList[i](target, percent);\n          }\n        };\n      } // This optimization will help the case that in the upper application\n      // the view may be refreshed frequently, where animation will be\n      // called repeatly but nothing changed.\n\n\n      if (!clipCount) {\n        this._doneCallback();\n      }\n\n      return this;\n    },\n\n    /**\n     * Stop animation\n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stop: function (forwardToLast) {\n      var clipList = this._clipList;\n      var animation = this.animation;\n\n      for (var i = 0; i < clipList.length; i++) {\n        var clip = clipList[i];\n\n        if (forwardToLast) {\n          // Move to last frame before stop\n          clip.onframe(this._target, 1);\n        }\n\n        animation && animation.removeClip(clip);\n      }\n\n      clipList.length = 0;\n    },\n\n    /**\n     * Set when animation delay starts\n     * @param  {number} time ms\n     * @return {module:zrender/animation/Animator}\n     */\n    delay: function (time) {\n      this._delay = time;\n      return this;\n    },\n\n    /**\n     * Add callback for animation end\n     * @param  {Function} cb\n     * @return {module:zrender/animation/Animator}\n     */\n    done: function (cb) {\n      if (cb) {\n        this._doneList.push(cb);\n      }\n\n      return this;\n    },\n\n    /**\n     * @return {Array.<module:zrender/animation/Clip>}\n     */\n    getClips: function () {\n      return this._clipList;\n    }\n  };\n  var _default$a = Animator;\n  var Animator_1 = _default$a;\n\n  var dpr = 1; // If in browser environment\n\n  if (typeof window !== 'undefined') {\n    dpr = Math.max(window.devicePixelRatio || 1, 1);\n  }\n  /**\n   * config\n   * @exports zrender/config\n   * @author Kener (@Kener-, kener.linfeng@gmail.com)\n   */\n\n  /**\n   * Debug log mode:\n   * 0: Do nothing, for release.\n   * 1: console.error, for debug.\n   */\n\n\n  var debugMode = 0; // retina \n\n  var devicePixelRatio = dpr;\n  var debugMode_1 = debugMode;\n  var devicePixelRatio_1 = devicePixelRatio;\n\n  var config = {\n  \tdebugMode: debugMode_1,\n  \tdevicePixelRatio: devicePixelRatio_1\n  };\n\n  var logError = function () {};\n\n  var _default$b = logError;\n  var log = _default$b;\n\n  var isString$2 = util.isString;\n  var isFunction$2 = util.isFunction;\n  var isObject$3 = util.isObject;\n  var isArrayLike$2 = util.isArrayLike;\n  var indexOf$2 = util.indexOf;\n\n  /**\n   * @alias module:zrender/mixin/Animatable\n   * @constructor\n   */\n  var Animatable = function () {\n    /**\n     * @type {Array.<module:zrender/animation/Animator>}\n     * @readOnly\n     */\n    this.animators = [];\n  };\n\n  Animatable.prototype = {\n    constructor: Animatable,\n\n    /**\n     * \n     *\n     * @param {string} path The path to fetch value from object, like 'a.b.c'.\n     * @param {boolean} [loop] Whether to loop animation.\n     * @return {module:zrender/animation/Animator}\n     * @example:\n     *     el.animate('style', false)\n     *         .when(1000, {x: 10} )\n     *         .done(function(){ // Animation done })\n     *         .start()\n     */\n    animate: function (path, loop) {\n      var target;\n      var animatingShape = false;\n      var el = this;\n      var zr = this.__zr;\n\n      if (path) {\n        var pathSplitted = path.split('.');\n        var prop = el; // If animating shape\n\n        animatingShape = pathSplitted[0] === 'shape';\n\n        for (var i = 0, l = pathSplitted.length; i < l; i++) {\n          if (!prop) {\n            continue;\n          }\n\n          prop = prop[pathSplitted[i]];\n        }\n\n        if (prop) {\n          target = prop;\n        }\n      } else {\n        target = el;\n      }\n\n      if (!target) {\n        log('Property \"' + path + '\" is not existed in element ' + el.id);\n        return;\n      }\n\n      var animators = el.animators;\n      var animator = new Animator_1(target, loop);\n      animator.during(function (target) {\n        el.dirty(animatingShape);\n      }).done(function () {\n        // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n        animators.splice(indexOf$2(animators, animator), 1);\n      });\n      animators.push(animator); // If animate after added to the zrender\n\n      if (zr) {\n        zr.animation.addAnimator(animator);\n      }\n\n      return animator;\n    },\n\n    /**\n     * \n     * @param {boolean} forwardToLast If move to last frame before stop\n     */\n    stopAnimation: function (forwardToLast) {\n      var animators = this.animators;\n      var len = animators.length;\n\n      for (var i = 0; i < len; i++) {\n        animators[i].stop(forwardToLast);\n      }\n\n      animators.length = 0;\n      return this;\n    },\n\n    /**\n     * Caution: this method will stop previous animation.\n     * So do not use this method to one element twice before\n     * animation starts, unless you know what you are doing.\n     * @param {Object} target\n     * @param {number} [time=500] Time in ms\n     * @param {string} [easing='linear']\n     * @param {number} [delay=0]\n     * @param {Function} [callback]\n     * @param {Function} [forceAnimate] Prevent stop animation and callback\n     *        immediently when target values are the same as current values.\n     *\n     * @example\n     *  // Animate position\n     *  el.animateTo({\n     *      position: [10, 10]\n     *  }, function () { // done })\n     *\n     *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n     *  el.animateTo({\n     *      shape: {\n     *          width: 500\n     *      },\n     *      style: {\n     *          fill: 'red'\n     *      }\n     *      position: [10, 10]\n     *  }, 100, 100, 'cubicOut', function () { // done })\n     */\n    // TODO Return animation key\n    animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n      animateTo(this, target, time, delay, easing, callback, forceAnimate);\n    },\n\n    /**\n     * Animate from the target state to current state.\n     * The params and the return value are the same as `this.animateTo`.\n     */\n    animateFrom: function (target, time, delay, easing, callback, forceAnimate) {\n      animateTo(this, target, time, delay, easing, callback, forceAnimate, true);\n    }\n  };\n\n  function animateTo(animatable, target, time, delay, easing, callback, forceAnimate, reverse) {\n    // animateTo(target, time, easing, callback);\n    if (isString$2(delay)) {\n      callback = easing;\n      easing = delay;\n      delay = 0;\n    } // animateTo(target, time, delay, callback);\n    else if (isFunction$2(easing)) {\n        callback = easing;\n        easing = 'linear';\n        delay = 0;\n      } // animateTo(target, time, callback);\n      else if (isFunction$2(delay)) {\n          callback = delay;\n          delay = 0;\n        } // animateTo(target, callback)\n        else if (isFunction$2(time)) {\n            callback = time;\n            time = 500;\n          } // animateTo(target)\n          else if (!time) {\n              time = 500;\n            } // Stop all previous animations\n\n\n    animatable.stopAnimation();\n    animateToShallow(animatable, '', animatable, target, time, delay, reverse); // Animators may be removed immediately after start\n    // if there is nothing to animate\n\n    var animators = animatable.animators.slice();\n    var count = animators.length;\n\n    function done() {\n      count--;\n\n      if (!count) {\n        callback && callback();\n      }\n    } // No animators. This should be checked before animators[i].start(),\n    // because 'done' may be executed immediately if no need to animate.\n\n\n    if (!count) {\n      callback && callback();\n    } // Start after all animators created\n    // Incase any animator is done immediately when all animation properties are not changed\n\n\n    for (var i = 0; i < animators.length; i++) {\n      animators[i].done(done).start(easing, forceAnimate);\n    }\n  }\n  /**\n   * @param {string} path=''\n   * @param {Object} source=animatable\n   * @param {Object} target\n   * @param {number} [time=500]\n   * @param {number} [delay=0]\n   * @param {boolean} [reverse] If `true`, animate\n   *        from the `target` to current state.\n   *\n   * @example\n   *  // Animate position\n   *  el._animateToShallow({\n   *      position: [10, 10]\n   *  })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms\n   *  el._animateToShallow({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100)\n   */\n\n\n  function animateToShallow(animatable, path, source, target, time, delay, reverse) {\n    var objShallow = {};\n    var propertyCount = 0;\n\n    for (var name in target) {\n      if (!target.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (source[name] != null) {\n        if (isObject$3(target[name]) && !isArrayLike$2(target[name])) {\n          animateToShallow(animatable, path ? path + '.' + name : name, source[name], target[name], time, delay, reverse);\n        } else {\n          if (reverse) {\n            objShallow[name] = source[name];\n            setAttrByPath(animatable, path, name, target[name]);\n          } else {\n            objShallow[name] = target[name];\n          }\n\n          propertyCount++;\n        }\n      } else if (target[name] != null && !reverse) {\n        setAttrByPath(animatable, path, name, target[name]);\n      }\n    }\n\n    if (propertyCount > 0) {\n      animatable.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n    }\n  }\n\n  function setAttrByPath(el, path, name, value) {\n    // Attr directly if not has property\n    // FIXME, if some property not needed for element ?\n    if (!path) {\n      el.attr(name, value);\n    } else {\n      // Only support set shape or style\n      var props = {};\n      props[path] = {};\n      props[path][name] = value;\n      el.attr(props);\n    }\n  }\n\n  var _default$c = Animatable;\n  var Animatable_1 = _default$c;\n\n  /**\n   * @alias module:zrender/Element\n   * @constructor\n   * @extends {module:zrender/mixin/Animatable}\n   * @extends {module:zrender/mixin/Transformable}\n   * @extends {module:zrender/mixin/Eventful}\n   */\n  var Element = function (opts) {\n    // jshint ignore:line\n    Transformable_1.call(this, opts);\n    Eventful_1.call(this, opts);\n    Animatable_1.call(this, opts);\n    /**\n     * ID\n     * @type {string}\n     */\n\n    this.id = opts.id || guid();\n  };\n\n  Element.prototype = {\n    /**\n     * \n     * Element type\n     * @type {string}\n     */\n    type: 'element',\n\n    /**\n     * \n     * Element name\n     * @type {string}\n     */\n    name: '',\n\n    /**\n     * ZRender  element  zrender \n     * ZRender instance will be assigned when element is associated with zrender\n     * @name module:/zrender/Element#__zr\n     * @type {module:zrender/ZRender}\n     */\n    __zr: null,\n\n    /**\n     * true\n     * If ignore drawing and events of the element object\n     * @name module:/zrender/Element#ignore\n     * @type {boolean}\n     * @default false\n     */\n    ignore: false,\n\n    /**\n     * (shape) Group \n     * \n     * @type {module:zrender/graphic/Path}\n     * @see http://www.w3.org/TR/2dcontext/#clipping-region\n     * @readOnly\n     */\n    clipPath: null,\n\n    /**\n     *  Group\n     * @type {boolean}\n     */\n    isGroup: false,\n\n    /**\n     * Drift element\n     * @param  {number} dx dx on the global space\n     * @param  {number} dy dy on the global space\n     */\n    drift: function (dx, dy) {\n      switch (this.draggable) {\n        case 'horizontal':\n          dy = 0;\n          break;\n\n        case 'vertical':\n          dx = 0;\n          break;\n      }\n\n      var m = this.transform;\n\n      if (!m) {\n        m = this.transform = [1, 0, 0, 1, 0, 0];\n      }\n\n      m[4] += dx;\n      m[5] += dy;\n      this.decomposeTransform();\n      this.dirty(false);\n    },\n\n    /**\n     * Hook before update\n     */\n    beforeUpdate: function () {},\n\n    /**\n     * Hook after update\n     */\n    afterUpdate: function () {},\n\n    /**\n     * Update each frame\n     */\n    update: function () {\n      this.updateTransform();\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {},\n\n    /**\n     * @protected\n     */\n    attrKV: function (key, value) {\n      if (key === 'position' || key === 'scale' || key === 'origin') {\n        // Copy the array\n        if (value) {\n          var target = this[key];\n\n          if (!target) {\n            target = this[key] = [];\n          }\n\n          target[0] = value[0];\n          target[1] = value[1];\n        }\n      } else {\n        this[key] = value;\n      }\n    },\n\n    /**\n     * Hide the element\n     */\n    hide: function () {\n      this.ignore = true;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * Show the element\n     */\n    show: function () {\n      this.ignore = false;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * @param {string|Object} key\n     * @param {*} value\n     */\n    attr: function (key, value) {\n      if (typeof key === 'string') {\n        this.attrKV(key, value);\n      } else if (util.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            this.attrKV(name, key[name]);\n          }\n        }\n      }\n\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * @param {module:zrender/graphic/Path} clipPath\n     */\n    setClipPath: function (clipPath) {\n      var zr = this.__zr;\n\n      if (zr) {\n        clipPath.addSelfToZr(zr);\n      } // Remove previous clip path\n\n\n      if (this.clipPath && this.clipPath !== clipPath) {\n        this.removeClipPath();\n      }\n\n      this.clipPath = clipPath;\n      clipPath.__zr = zr;\n      clipPath.__clipTarget = this;\n      this.dirty(false);\n    },\n\n    /**\n     */\n    removeClipPath: function () {\n      var clipPath = this.clipPath;\n\n      if (clipPath) {\n        if (clipPath.__zr) {\n          clipPath.removeSelfFromZr(clipPath.__zr);\n        }\n\n        clipPath.__zr = null;\n        clipPath.__clipTarget = null;\n        this.clipPath = null;\n        this.dirty(false);\n      }\n    },\n\n    /**\n     * Add self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    addSelfToZr: function (zr) {\n      this.__zr = zr; // \n\n      var animators = this.animators;\n\n      if (animators) {\n        for (var i = 0; i < animators.length; i++) {\n          zr.animation.addAnimator(animators[i]);\n        }\n      }\n\n      if (this.clipPath) {\n        this.clipPath.addSelfToZr(zr);\n      }\n    },\n\n    /**\n     * Remove self from zrender instance.\n     * Not recursively because it will be invoked when element added to storage.\n     * @param {module:zrender/ZRender} zr\n     */\n    removeSelfFromZr: function (zr) {\n      this.__zr = null; // \n\n      var animators = this.animators;\n\n      if (animators) {\n        for (var i = 0; i < animators.length; i++) {\n          zr.animation.removeAnimator(animators[i]);\n        }\n      }\n\n      if (this.clipPath) {\n        this.clipPath.removeSelfFromZr(zr);\n      }\n    }\n  };\n  util.mixin(Element, Animatable_1);\n  util.mixin(Element, Transformable_1);\n  util.mixin(Element, Eventful_1);\n  var _default$d = Element;\n  var Element_1 = _default$d;\n\n  /**\n   * @module echarts/core/BoundingRect\n   */\n  var v2ApplyTransform = vector.applyTransform;\n  var mathMin = Math.min;\n  var mathMax = Math.max;\n  /**\n   * @alias module:echarts/core/BoundingRect\n   */\n\n  function BoundingRect(x, y, width, height) {\n    if (width < 0) {\n      x = x + width;\n      width = -width;\n    }\n\n    if (height < 0) {\n      y = y + height;\n      height = -height;\n    }\n    /**\n     * @type {number}\n     */\n\n\n    this.x = x;\n    /**\n     * @type {number}\n     */\n\n    this.y = y;\n    /**\n     * @type {number}\n     */\n\n    this.width = width;\n    /**\n     * @type {number}\n     */\n\n    this.height = height;\n  }\n\n  BoundingRect.prototype = {\n    constructor: BoundingRect,\n\n    /**\n     * @param {module:echarts/core/BoundingRect} other\n     */\n    union: function (other) {\n      var x = mathMin(other.x, this.x);\n      var y = mathMin(other.y, this.y);\n      this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n      this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n      this.x = x;\n      this.y = y;\n    },\n\n    /**\n     * @param {Array.<number>} m\n     * @methods\n     */\n    applyTransform: function () {\n      var lt = [];\n      var rb = [];\n      var lb = [];\n      var rt = [];\n      return function (m) {\n        // In case usage like this\n        // el.getBoundingRect().applyTransform(el.transform)\n        // And element has no transform\n        if (!m) {\n          return;\n        }\n\n        lt[0] = lb[0] = this.x;\n        lt[1] = rt[1] = this.y;\n        rb[0] = rt[0] = this.x + this.width;\n        rb[1] = lb[1] = this.y + this.height;\n        v2ApplyTransform(lt, lt, m);\n        v2ApplyTransform(rb, rb, m);\n        v2ApplyTransform(lb, lb, m);\n        v2ApplyTransform(rt, rt, m);\n        this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n        this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n        var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n        var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n        this.width = maxX - this.x;\n        this.height = maxY - this.y;\n      };\n    }(),\n\n    /**\n     * Calculate matrix of transforming from self to target rect\n     * @param  {module:zrender/core/BoundingRect} b\n     * @return {Array.<number>}\n     */\n    calculateTransform: function (b) {\n      var a = this;\n      var sx = b.width / a.width;\n      var sy = b.height / a.height;\n      var m = matrix.create(); // \n\n      matrix.translate(m, m, [-a.x, -a.y]);\n      matrix.scale(m, m, [sx, sy]);\n      matrix.translate(m, m, [b.x, b.y]);\n      return m;\n    },\n\n    /**\n     * @param {(module:echarts/core/BoundingRect|Object)} b\n     * @return {boolean}\n     */\n    intersect: function (b) {\n      if (!b) {\n        return false;\n      }\n\n      if (!(b instanceof BoundingRect)) {\n        // Normalize negative width/height.\n        b = BoundingRect.create(b);\n      }\n\n      var a = this;\n      var ax0 = a.x;\n      var ax1 = a.x + a.width;\n      var ay0 = a.y;\n      var ay1 = a.y + a.height;\n      var bx0 = b.x;\n      var bx1 = b.x + b.width;\n      var by0 = b.y;\n      var by1 = b.y + b.height;\n      return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n    },\n    contain: function (x, y) {\n      var rect = this;\n      return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n    },\n\n    /**\n     * @return {module:echarts/core/BoundingRect}\n     */\n    clone: function () {\n      return new BoundingRect(this.x, this.y, this.width, this.height);\n    },\n\n    /**\n     * Copy from another rect\n     */\n    copy: function (other) {\n      this.x = other.x;\n      this.y = other.y;\n      this.width = other.width;\n      this.height = other.height;\n    },\n    plain: function () {\n      return {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height\n      };\n    }\n  };\n  /**\n   * @param {Object|module:zrender/core/BoundingRect} rect\n   * @param {number} rect.x\n   * @param {number} rect.y\n   * @param {number} rect.width\n   * @param {number} rect.height\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n  BoundingRect.create = function (rect) {\n    return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n  };\n\n  var _default$e = BoundingRect;\n  var BoundingRect_1 = _default$e;\n\n  /**\n   * GroupGroup\n   * @module zrender/graphic/Group\n   * @example\n   *     var Group = require('zrender/container/Group');\n   *     var Circle = require('zrender/graphic/shape/Circle');\n   *     var g = new Group();\n   *     g.position[0] = 100;\n   *     g.position[1] = 100;\n   *     g.add(new Circle({\n   *         style: {\n   *             x: 100,\n   *             y: 100,\n   *             r: 20,\n   *         }\n   *     }));\n   *     zr.add(g);\n   */\n\n  /**\n   * @alias module:zrender/graphic/Group\n   * @constructor\n   * @extends module:zrender/mixin/Transformable\n   * @extends module:zrender/mixin/Eventful\n   */\n  var Group = function (opts) {\n    opts = opts || {};\n    Element_1.call(this, opts);\n\n    for (var key in opts) {\n      if (opts.hasOwnProperty(key)) {\n        this[key] = opts[key];\n      }\n    }\n\n    this._children = [];\n    this.__storage = null;\n    this.__dirty = true;\n  };\n\n  Group.prototype = {\n    constructor: Group,\n    isGroup: true,\n\n    /**\n     * @type {string}\n     */\n    type: 'group',\n\n    /**\n     * \n     * @name module:/zrender/container/Group#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * @return {Array.<module:zrender/Element>}\n     */\n    children: function () {\n      return this._children.slice();\n    },\n\n    /**\n     *  index \n     * @param  {number} idx\n     * @return {module:zrender/Element}\n     */\n    childAt: function (idx) {\n      return this._children[idx];\n    },\n\n    /**\n     * \n     * @param  {string} name\n     * @return {module:zrender/Element}\n     */\n    childOfName: function (name) {\n      var children = this._children;\n\n      for (var i = 0; i < children.length; i++) {\n        if (children[i].name === name) {\n          return children[i];\n        }\n      }\n    },\n\n    /**\n     * @return {number}\n     */\n    childCount: function () {\n      return this._children.length;\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    add: function (child) {\n      if (child && child !== this && child.parent !== this) {\n        this._children.push(child);\n\n        this._doAdd(child);\n      }\n\n      return this;\n    },\n\n    /**\n     *  nextSibling \n     * @param {module:zrender/Element} child\n     * @param {module:zrender/Element} nextSibling\n     */\n    addBefore: function (child, nextSibling) {\n      if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n        var children = this._children;\n        var idx = children.indexOf(nextSibling);\n\n        if (idx >= 0) {\n          children.splice(idx, 0, child);\n\n          this._doAdd(child);\n        }\n      }\n\n      return this;\n    },\n    _doAdd: function (child) {\n      if (child.parent) {\n        child.parent.remove(child);\n      }\n\n      child.parent = this;\n      var storage = this.__storage;\n      var zr = this.__zr;\n\n      if (storage && storage !== child.__storage) {\n        storage.addToStorage(child);\n\n        if (child instanceof Group) {\n          child.addChildrenToStorage(storage);\n        }\n      }\n\n      zr && zr.refresh();\n    },\n\n    /**\n     * \n     * @param {module:zrender/Element} child\n     */\n    remove: function (child) {\n      var zr = this.__zr;\n      var storage = this.__storage;\n      var children = this._children;\n      var idx = util.indexOf(children, child);\n\n      if (idx < 0) {\n        return this;\n      }\n\n      children.splice(idx, 1);\n      child.parent = null;\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      zr && zr.refresh();\n      return this;\n    },\n\n    /**\n     * \n     */\n    removeAll: function () {\n      var children = this._children;\n      var storage = this.__storage;\n      var child;\n      var i;\n\n      for (i = 0; i < children.length; i++) {\n        child = children[i];\n\n        if (storage) {\n          storage.delFromStorage(child);\n\n          if (child instanceof Group) {\n            child.delChildrenFromStorage(storage);\n          }\n        }\n\n        child.parent = null;\n      }\n\n      children.length = 0;\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    eachChild: function (cb, context) {\n      var children = this._children;\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        cb.call(context, child, i);\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        cb.call(context, child);\n\n        if (child.type === 'group') {\n          child.traverse(cb, context);\n        }\n      }\n\n      return this;\n    },\n    addChildrenToStorage: function (storage) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        storage.addToStorage(child);\n\n        if (child instanceof Group) {\n          child.addChildrenToStorage(storage);\n        }\n      }\n    },\n    delChildrenFromStorage: function (storage) {\n      for (var i = 0; i < this._children.length; i++) {\n        var child = this._children[i];\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n    },\n    dirty: function () {\n      this.__dirty = true;\n      this.__zr && this.__zr.refresh();\n      return this;\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function (includeChildren) {\n      // TODO Caching\n      var rect = null;\n      var tmpRect = new BoundingRect_1(0, 0, 0, 0);\n      var children = includeChildren || this._children;\n      var tmpMat = [];\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n\n        if (child.ignore || child.invisible) {\n          continue;\n        }\n\n        var childRect = child.getBoundingRect();\n        var transform = child.getLocalTransform(tmpMat); // TODO\n        // The boundingRect cacluated by transforming original\n        // rect may be bigger than the actual bundingRect when rotation\n        // is used. (Consider a circle rotated aginst its center, where\n        // the actual boundingRect should be the same as that not be\n        // rotated.) But we can not find better approach to calculate\n        // actual boundingRect yet, considering performance.\n\n        if (transform) {\n          tmpRect.copy(childRect);\n          tmpRect.applyTransform(transform);\n          rect = rect || tmpRect.clone();\n          rect.union(tmpRect);\n        } else {\n          rect = rect || childRect.clone();\n          rect.union(childRect);\n        }\n      }\n\n      return rect || tmpRect;\n    }\n  };\n  util.inherits(Group, Element_1);\n  var _default$f = Group;\n  var Group_1 = _default$f;\n\n  // https://github.com/mziccard/node-timsort\n  var DEFAULT_MIN_MERGE = 32;\n  var DEFAULT_MIN_GALLOPING = 7;\n\n  function minRunLength(n) {\n    var r = 0;\n\n    while (n >= DEFAULT_MIN_MERGE) {\n      r |= n & 1;\n      n >>= 1;\n    }\n\n    return n + r;\n  }\n\n  function makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n\n    if (runHi === hi) {\n      return 1;\n    }\n\n    if (compare(array[runHi++], array[lo]) < 0) {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n        runHi++;\n      }\n\n      reverseRun(array, lo, runHi);\n    } else {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n        runHi++;\n      }\n    }\n\n    return runHi - lo;\n  }\n\n  function reverseRun(array, lo, hi) {\n    hi--;\n\n    while (lo < hi) {\n      var t = array[lo];\n      array[lo++] = array[hi];\n      array[hi--] = t;\n    }\n  }\n\n  function binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n      start++;\n    }\n\n    for (; start < hi; start++) {\n      var pivot = array[start];\n      var left = lo;\n      var right = start;\n      var mid;\n\n      while (left < right) {\n        mid = left + right >>> 1;\n\n        if (compare(pivot, array[mid]) < 0) {\n          right = mid;\n        } else {\n          left = mid + 1;\n        }\n      }\n\n      var n = start - left;\n\n      switch (n) {\n        case 3:\n          array[left + 3] = array[left + 2];\n\n        case 2:\n          array[left + 2] = array[left + 1];\n\n        case 1:\n          array[left + 1] = array[left];\n          break;\n\n        default:\n          while (n > 0) {\n            array[left + n] = array[left + n - 1];\n            n--;\n          }\n\n      }\n\n      array[left] = pivot;\n    }\n  }\n\n  function gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) > 0) {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    } else {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) > 0) {\n        lastOffset = m + 1;\n      } else {\n        offset = m;\n      }\n    }\n\n    return offset;\n  }\n\n  function gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) < 0) {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    } else {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) < 0) {\n        offset = m;\n      } else {\n        lastOffset = m + 1;\n      }\n    }\n\n    return offset;\n  }\n\n  function TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var length = 0;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    length = array.length;\n\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n\n    function pushRun(_runStart, _runLength) {\n      runStart[stackSize] = _runStart;\n      runLength[stackSize] = _runLength;\n      stackSize += 1;\n    }\n\n    function mergeRuns() {\n      while (stackSize > 1) {\n        var n = stackSize - 2;\n\n        if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n          if (runLength[n - 1] < runLength[n + 1]) {\n            n--;\n          }\n        } else if (runLength[n] > runLength[n + 1]) {\n          break;\n        }\n\n        mergeAt(n);\n      }\n    }\n\n    function forceMergeRuns() {\n      while (stackSize > 1) {\n        var n = stackSize - 2;\n\n        if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n          n--;\n        }\n\n        mergeAt(n);\n      }\n    }\n\n    function mergeAt(i) {\n      var start1 = runStart[i];\n      var length1 = runLength[i];\n      var start2 = runStart[i + 1];\n      var length2 = runLength[i + 1];\n      runLength[i] = length1 + length2;\n\n      if (i === stackSize - 3) {\n        runStart[i + 1] = runStart[i + 2];\n        runLength[i + 1] = runLength[i + 2];\n      }\n\n      stackSize--;\n      var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n      start1 += k;\n      length1 -= k;\n\n      if (length1 === 0) {\n        return;\n      }\n\n      length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n      if (length2 === 0) {\n        return;\n      }\n\n      if (length1 <= length2) {\n        mergeLow(start1, length1, start2, length2);\n      } else {\n        mergeHigh(start1, length1, start2, length2);\n      }\n    }\n\n    function mergeLow(start1, length1, start2, length2) {\n      var i = 0;\n\n      for (i = 0; i < length1; i++) {\n        tmp[i] = array[start1 + i];\n      }\n\n      var cursor1 = 0;\n      var cursor2 = start2;\n      var dest = start1;\n      array[dest++] = array[cursor2++];\n\n      if (--length2 === 0) {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n\n        return;\n      }\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n\n        array[dest + length2] = tmp[cursor1];\n        return;\n      }\n\n      var _minGallop = minGallop;\n      var count1;\n      var count2;\n      var exit;\n\n      while (1) {\n        count1 = 0;\n        count2 = 0;\n        exit = false;\n\n        do {\n          if (compare(array[cursor2], tmp[cursor1]) < 0) {\n            array[dest++] = array[cursor2++];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest++] = tmp[cursor1++];\n            count1++;\n            count2 = 0;\n\n            if (--length1 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < _minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n          if (count1 !== 0) {\n            for (i = 0; i < count1; i++) {\n              array[dest + i] = tmp[cursor1 + i];\n            }\n\n            dest += count1;\n            cursor1 += count1;\n            length1 -= count1;\n\n            if (length1 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = array[cursor2++];\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n\n          count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n          if (count2 !== 0) {\n            for (i = 0; i < count2; i++) {\n              array[dest + i] = array[cursor2 + i];\n            }\n\n            dest += count2;\n            cursor2 += count2;\n            length2 -= count2;\n\n            if (length2 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = tmp[cursor1++];\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n\n          _minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (_minGallop < 0) {\n          _minGallop = 0;\n        }\n\n        _minGallop += 2;\n      }\n\n      minGallop = _minGallop;\n      minGallop < 1 && (minGallop = 1);\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n\n        array[dest + length2] = tmp[cursor1];\n      } else if (length1 === 0) {\n        throw new Error(); // throw new Error('mergeLow preconditions were not respected');\n      } else {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n      }\n    }\n\n    function mergeHigh(start1, length1, start2, length2) {\n      var i = 0;\n\n      for (i = 0; i < length2; i++) {\n        tmp[i] = array[start2 + i];\n      }\n\n      var cursor1 = start1 + length1 - 1;\n      var cursor2 = length2 - 1;\n      var dest = start2 + length2 - 1;\n      var customCursor = 0;\n      var customDest = 0;\n      array[dest--] = array[cursor1--];\n\n      if (--length1 === 0) {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n\n        return;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n        return;\n      }\n\n      var _minGallop = minGallop;\n\n      while (true) {\n        var count1 = 0;\n        var count2 = 0;\n        var exit = false;\n\n        do {\n          if (compare(tmp[cursor2], array[cursor1]) < 0) {\n            array[dest--] = array[cursor1--];\n            count1++;\n            count2 = 0;\n\n            if (--length1 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest--] = tmp[cursor2--];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < _minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n          if (count1 !== 0) {\n            dest -= count1;\n            cursor1 -= count1;\n            length1 -= count1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n\n            for (i = count1 - 1; i >= 0; i--) {\n              array[customDest + i] = array[customCursor + i];\n            }\n\n            if (length1 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = tmp[cursor2--];\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n\n          count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n          if (count2 !== 0) {\n            dest -= count2;\n            cursor2 -= count2;\n            length2 -= count2;\n            customDest = dest + 1;\n            customCursor = cursor2 + 1;\n\n            for (i = 0; i < count2; i++) {\n              array[customDest + i] = tmp[customCursor + i];\n            }\n\n            if (length2 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = array[cursor1--];\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n\n          _minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (_minGallop < 0) {\n          _minGallop = 0;\n        }\n\n        _minGallop += 2;\n      }\n\n      minGallop = _minGallop;\n\n      if (minGallop < 1) {\n        minGallop = 1;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n      } else if (length2 === 0) {\n        throw new Error(); // throw new Error('mergeHigh preconditions were not respected');\n      } else {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n      }\n    }\n\n    this.mergeRuns = mergeRuns;\n    this.forceMergeRuns = forceMergeRuns;\n    this.pushRun = pushRun;\n  }\n\n  function sort(array, compare, lo, hi) {\n    if (!lo) {\n      lo = 0;\n    }\n\n    if (!hi) {\n      hi = array.length;\n    }\n\n    var remaining = hi - lo;\n\n    if (remaining < 2) {\n      return;\n    }\n\n    var runLength = 0;\n\n    if (remaining < DEFAULT_MIN_MERGE) {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n      binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n      return;\n    }\n\n    var ts = new TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n\n    do {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n\n      if (runLength < minRun) {\n        var force = remaining;\n\n        if (force > minRun) {\n          force = minRun;\n        }\n\n        binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n        runLength = force;\n      }\n\n      ts.pushRun(lo, runLength);\n      ts.mergeRuns();\n      remaining -= runLength;\n      lo += runLength;\n    } while (remaining !== 0);\n\n    ts.forceMergeRuns();\n  }\n\n  var timsort = sort;\n\n  // Use timsort because in most case elements are partially sorted\n  // https://jsfiddle.net/pissang/jr4x7mdm/8/\n  function shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n      if (a.z === b.z) {\n        // if (a.z2 === b.z2) {\n        //     // FIXME Slow has renderidx compare\n        //     // http://stackoverflow.com/questions/20883421/sorting-in-javascript-should-every-compare-function-have-a-return-0-statement\n        //     // https://github.com/v8/v8/blob/47cce544a31ed5577ffe2963f67acb4144ee0232/src/js/array.js#L1012\n        //     return a.__renderidx - b.__renderidx;\n        // }\n        return a.z2 - b.z2;\n      }\n\n      return a.z - b.z;\n    }\n\n    return a.zlevel - b.zlevel;\n  }\n  /**\n   *  (M)\n   * @alias module:zrender/Storage\n   * @constructor\n   */\n\n\n  var Storage = function () {\n    // jshint ignore:line\n    this._roots = [];\n    this._displayList = [];\n    this._displayListLen = 0;\n  };\n\n  Storage.prototype = {\n    constructor: Storage,\n\n    /**\n     * @param  {Function} cb\n     *\n     */\n    traverse: function (cb, context) {\n      for (var i = 0; i < this._roots.length; i++) {\n        this._roots[i].traverse(cb, context);\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [update=false] \n     * @param {boolean} [includeIgnore=false]  ignore ,  update  true \n     *\n     * {@link module:zrender/graphic/Displayable.prototype.updateDisplayList}\n     * @return {Array.<module:zrender/graphic/Displayable>}\n     */\n    getDisplayList: function (update, includeIgnore) {\n      includeIgnore = includeIgnore || false;\n\n      if (update) {\n        this.updateDisplayList(includeIgnore);\n      }\n\n      return this._displayList;\n    },\n\n    /**\n     * \n     * GroupShapeShape\n     * zlevel > z > \n     * @param {boolean} [includeIgnore=false]  ignore \n     */\n    updateDisplayList: function (includeIgnore) {\n      this._displayListLen = 0;\n      var roots = this._roots;\n      var displayList = this._displayList;\n\n      for (var i = 0, len = roots.length; i < len; i++) {\n        this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n      }\n\n      displayList.length = this._displayListLen;\n      env_1.canvasSupported && timsort(displayList, shapeCompareFunc);\n    },\n    _updateAndAddDisplayable: function (el, clipPaths, includeIgnore) {\n      if (el.ignore && !includeIgnore) {\n        return;\n      }\n\n      el.beforeUpdate();\n\n      if (el.__dirty) {\n        el.update();\n      }\n\n      el.afterUpdate();\n      var userSetClipPath = el.clipPath;\n\n      if (userSetClipPath) {\n        // FIXME \n        if (clipPaths) {\n          clipPaths = clipPaths.slice();\n        } else {\n          clipPaths = [];\n        }\n\n        var currentClipPath = userSetClipPath;\n        var parentClipPath = el; // Recursively add clip path\n\n        while (currentClipPath) {\n          // clipPath  clipPath \n          currentClipPath.parent = parentClipPath;\n          currentClipPath.updateTransform();\n          clipPaths.push(currentClipPath);\n          parentClipPath = currentClipPath;\n          currentClipPath = currentClipPath.clipPath;\n        }\n      }\n\n      if (el.isGroup) {\n        var children = el._children;\n\n        for (var i = 0; i < children.length; i++) {\n          var child = children[i]; // Force to mark as dirty if group is dirty\n          // FIXME __dirtyPath ?\n\n          if (el.__dirty) {\n            child.__dirty = true;\n          }\n\n          this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n        } // Mark group clean here\n\n\n        el.__dirty = false;\n      } else {\n        el.__clipPaths = clipPaths;\n        this._displayList[this._displayListLen++] = el;\n      }\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {module:zrender/Element} el\n     */\n    addRoot: function (el) {\n      if (el.__storage === this) {\n        return;\n      }\n\n      if (el instanceof Group_1) {\n        el.addChildrenToStorage(this);\n      }\n\n      this.addToStorage(el);\n\n      this._roots.push(el);\n    },\n\n    /**\n     * (Shape)(Group)\n     * @param {string|Array.<string>} [el] Storage\n     */\n    delRoot: function (el) {\n      if (el == null) {\n        // el\n        for (var i = 0; i < this._roots.length; i++) {\n          var root = this._roots[i];\n\n          if (root instanceof Group_1) {\n            root.delChildrenFromStorage(this);\n          }\n        }\n\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n      }\n\n      if (el instanceof Array) {\n        for (var i = 0, l = el.length; i < l; i++) {\n          this.delRoot(el[i]);\n        }\n\n        return;\n      }\n\n      var idx = util.indexOf(this._roots, el);\n\n      if (idx >= 0) {\n        this.delFromStorage(el);\n\n        this._roots.splice(idx, 1);\n\n        if (el instanceof Group_1) {\n          el.delChildrenFromStorage(this);\n        }\n      }\n    },\n    addToStorage: function (el) {\n      if (el) {\n        el.__storage = this;\n        el.dirty(false);\n      }\n\n      return this;\n    },\n    delFromStorage: function (el) {\n      if (el) {\n        el.__storage = null;\n      }\n\n      return this;\n    },\n\n    /**\n     * Storage\n     */\n    dispose: function () {\n      this._renderList = this._roots = null;\n    },\n    displayableSortFunc: shapeCompareFunc\n  };\n  var _default$g = Storage;\n  var Storage_1 = _default$g;\n\n  var SHADOW_PROPS = {\n    'shadowBlur': 1,\n    'shadowOffsetX': 1,\n    'shadowOffsetY': 1,\n    'textShadowBlur': 1,\n    'textShadowOffsetX': 1,\n    'textShadowOffsetY': 1,\n    'textBoxShadowBlur': 1,\n    'textBoxShadowOffsetX': 1,\n    'textBoxShadowOffsetY': 1\n  };\n\n  function _default$h(ctx, propName, value) {\n    if (SHADOW_PROPS.hasOwnProperty(propName)) {\n      return value *= ctx.dpr;\n    }\n\n    return value;\n  }\n\n  var fixShadow = _default$h;\n\n  var ContextCachedBy = {\n    NONE: 0,\n    STYLE_BIND: 1,\n    PLAIN_TEXT: 2\n  }; // Avoid confused with 0/false.\n\n  var WILL_BE_RESTORED = 9;\n  var ContextCachedBy_1 = ContextCachedBy;\n  var WILL_BE_RESTORED_1 = WILL_BE_RESTORED;\n\n  var constant = {\n  \tContextCachedBy: ContextCachedBy_1,\n  \tWILL_BE_RESTORED: WILL_BE_RESTORED_1\n  };\n\n  var ContextCachedBy$1 = constant.ContextCachedBy;\n  var STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n  // var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\n  var Style = function (opts) {\n    this.extendFrom(opts, false);\n  };\n\n  function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n\n    if (!obj.global) {\n      x = x * rect.width + rect.x;\n      x2 = x2 * rect.width + rect.x;\n      y = y * rect.height + rect.y;\n      y2 = y2 * rect.height + rect.y;\n    } // Fix NaN when rect is Infinity\n\n\n    x = isNaN(x) ? 0 : x;\n    x2 = isNaN(x2) ? 1 : x2;\n    y = isNaN(y) ? 0 : y;\n    y2 = isNaN(y2) ? 0 : y2;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n  }\n\n  function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n\n    if (!obj.global) {\n      x = x * width + rect.x;\n      y = y * height + rect.y;\n      r = r * min;\n    }\n\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n  }\n\n  Style.prototype = {\n    constructor: Style,\n\n    /**\n     * @type {string}\n     */\n    fill: '#000',\n\n    /**\n     * @type {string}\n     */\n    stroke: null,\n\n    /**\n     * @type {number}\n     */\n    opacity: 1,\n\n    /**\n     * @type {number}\n     */\n    fillOpacity: null,\n\n    /**\n     * @type {number}\n     */\n    strokeOpacity: null,\n\n    /**\n     * `true` is not supported.\n     * `false`/`null`/`undefined` are the same.\n     * `false` is used to remove lineDash in some\n     * case that `null`/`undefined` can not be set.\n     * (e.g., emphasis.lineStyle in echarts)\n     * @type {Array.<number>|boolean}\n     */\n    lineDash: null,\n\n    /**\n     * @type {number}\n     */\n    lineDashOffset: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    shadowOffsetY: 0,\n\n    /**\n     * @type {number}\n     */\n    lineWidth: 1,\n\n    /**\n     * If stroke ignore scale\n     * @type {Boolean}\n     */\n    strokeNoScale: false,\n    // Bounding rect text configuration\n    // Not affected by element transform\n\n    /**\n     * @type {string}\n     */\n    text: null,\n\n    /**\n     * If `fontSize` or `fontFamily` exists, `font` will be reset by\n     * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n     * So do not visit it directly in upper application (like echarts),\n     * but use `contain/text#makeFont` instead.\n     * @type {string}\n     */\n    font: null,\n\n    /**\n     * The same as font. Use font please.\n     * @deprecated\n     * @type {string}\n     */\n    textFont: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontStyle: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontWeight: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * Should be 12 but not '12px'.\n     * @type {number}\n     */\n    fontSize: null,\n\n    /**\n     * It helps merging respectively, rather than parsing an entire font string.\n     * @type {string}\n     */\n    fontFamily: null,\n\n    /**\n     * Reserved for special functinality, like 'hr'.\n     * @type {string}\n     */\n    textTag: null,\n\n    /**\n     * @type {string}\n     */\n    textFill: '#000',\n\n    /**\n     * @type {string}\n     */\n    textStroke: null,\n\n    /**\n     * @type {number}\n     */\n    textWidth: null,\n\n    /**\n     * Only for textBackground.\n     * @type {number}\n     */\n    textHeight: null,\n\n    /**\n     * textStroke may be set as some color as a default\n     * value in upper applicaion, where the default value\n     * of textStrokeWidth should be 0 to make sure that\n     * user can choose to do not use text stroke.\n     * @type {number}\n     */\n    textStrokeWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textLineHeight: null,\n\n    /**\n     * 'inside', 'left', 'right', 'top', 'bottom'\n     * [x, y]\n     * Based on x, y of rect.\n     * @type {string|Array.<number>}\n     * @default 'inside'\n     */\n    textPosition: 'inside',\n\n    /**\n     * If not specified, use the boundingRect of a `displayable`.\n     * @type {Object}\n     */\n    textRect: null,\n\n    /**\n     * [x, y]\n     * @type {Array.<number>}\n     */\n    textOffset: null,\n\n    /**\n     * @type {string}\n     */\n    textAlign: null,\n\n    /**\n     * @type {string}\n     */\n    textVerticalAlign: null,\n\n    /**\n     * @type {number}\n     */\n    textDistance: 5,\n\n    /**\n     * @type {string}\n     */\n    textShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textShadowOffsetY: 0,\n\n    /**\n     * @type {string}\n     */\n    textBoxShadowColor: 'transparent',\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowBlur: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetX: 0,\n\n    /**\n     * @type {number}\n     */\n    textBoxShadowOffsetY: 0,\n\n    /**\n     * Whether transform text.\n     * Only available in Path and Image element,\n     * where the text is called as `RectText`.\n     * @type {boolean}\n     */\n    transformText: false,\n\n    /**\n     * Text rotate around position of Path or Image.\n     * The origin of the rotation can be specified by `textOrigin`.\n     * Only available in Path and Image element,\n     * where the text is called as `RectText`.\n     */\n    textRotation: 0,\n\n    /**\n     * Text origin of text rotation.\n     * Useful in the case like label rotation of circular symbol.\n     * Only available in Path and Image element, where the text is called\n     * as `RectText` and the element is called as \"host element\".\n     * The value can be:\n     * + If specified as a coordinate like `[10, 40]`, it is the `[x, y]`\n     * base on the left-top corner of the rect of its host element.\n     * + If specified as a string `center`, it is the center of the rect of\n     * its host element.\n     * + By default, this origin is the `textPosition`.\n     * @type {string|Array.<number>}\n     */\n    textOrigin: null,\n\n    /**\n     * @type {string}\n     */\n    textBackgroundColor: null,\n\n    /**\n     * @type {string}\n     */\n    textBorderColor: null,\n\n    /**\n     * @type {number}\n     */\n    textBorderWidth: 0,\n\n    /**\n     * @type {number}\n     */\n    textBorderRadius: 0,\n\n    /**\n     * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n     * @type {number|Array.<number>}\n     */\n    textPadding: null,\n\n    /**\n     * Text styles for rich text.\n     * @type {Object}\n     */\n    rich: null,\n\n    /**\n     * {outerWidth, outerHeight, ellipsis, placeholder}\n     * @type {Object}\n     */\n    truncate: null,\n\n    /**\n     * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n     * @type {string}\n     */\n    blend: null,\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    bind: function (ctx, el, prevEl) {\n      var style = this;\n      var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n      // Only apply cache if the last time cachced by this function.\n\n      var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy$1.STYLE_BIND;\n      ctx.__attrCachedBy = ContextCachedBy$1.STYLE_BIND;\n\n      for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n        var prop = STYLE_COMMON_PROPS[i];\n        var styleName = prop[0];\n\n        if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n          // FIXME Invalid property value will cause style leak from previous element.\n          ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n        }\n      }\n\n      if (notCheckCache || style.fill !== prevStyle.fill) {\n        ctx.fillStyle = style.fill;\n      }\n\n      if (notCheckCache || style.stroke !== prevStyle.stroke) {\n        ctx.strokeStyle = style.stroke;\n      }\n\n      if (notCheckCache || style.opacity !== prevStyle.opacity) {\n        ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n      }\n\n      if (notCheckCache || style.blend !== prevStyle.blend) {\n        ctx.globalCompositeOperation = style.blend || 'source-over';\n      }\n\n      if (this.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n      }\n    },\n    hasFill: function () {\n      var fill = this.fill;\n      return fill != null && fill !== 'none';\n    },\n    hasStroke: function () {\n      var stroke = this.stroke;\n      return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n    },\n\n    /**\n     * Extend from other style\n     * @param {zrender/graphic/Style} otherStyle\n     * @param {boolean} overwrite true: overwrirte any way.\n     *                            false: overwrite only when !target.hasOwnProperty\n     *                            others: overwrite when property is not null/undefined.\n     */\n    extendFrom: function (otherStyle, overwrite) {\n      if (otherStyle) {\n        for (var name in otherStyle) {\n          if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n            this[name] = otherStyle[name];\n          }\n        }\n      }\n    },\n\n    /**\n     * Batch setting style with a given object\n     * @param {Object|string} obj\n     * @param {*} [obj]\n     */\n    set: function (obj, value) {\n      if (typeof obj === 'string') {\n        this[obj] = value;\n      } else {\n        this.extendFrom(obj, true);\n      }\n    },\n\n    /**\n     * Clone\n     * @return {zrender/graphic/Style} [description]\n     */\n    clone: function () {\n      var newStyle = new this.constructor();\n      newStyle.extendFrom(this, true);\n      return newStyle;\n    },\n    getGradient: function (ctx, obj, rect) {\n      var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n      var canvasGradient = method(ctx, obj, rect);\n      var colorStops = obj.colorStops;\n\n      for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n      }\n\n      return canvasGradient;\n    }\n  };\n  var styleProto = Style.prototype;\n\n  for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n    var prop = STYLE_COMMON_PROPS[i];\n\n    if (!(prop[0] in styleProto)) {\n      styleProto[prop[0]] = prop[1];\n    }\n  } // Provide for others\n\n\n  Style.getGradient = styleProto.getGradient;\n  var _default$i = Style;\n  var Style_1 = _default$i;\n\n  var Pattern = function (image, repeat) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {image: ...}`, where this constructor will not be called.\n    this.image = image;\n    this.repeat = repeat; // Can be cloned\n\n    this.type = 'pattern';\n  };\n\n  Pattern.prototype.getCanvasPattern = function (ctx) {\n    return ctx.createPattern(this.image, this.repeat || 'repeat');\n  };\n\n  var _default$j = Pattern;\n  var Pattern_1 = _default$j;\n\n  var devicePixelRatio$1 = config.devicePixelRatio;\n\n\n\n\n\n  /**\n   * @module zrender/Layer\n   * @author pissang(https://www.github.com/pissang)\n   */\n  function returnFalse() {\n    return false;\n  }\n  /**\n   * dom\n   *\n   * @inner\n   * @param {string} id dom id \n   * @param {Painter} painter painter instance\n   * @param {number} number\n   */\n\n\n  function createDom(id, painter, dpr) {\n    var newDom = util.createCanvas();\n    var width = painter.getWidth();\n    var height = painter.getHeight();\n    var newDomStyle = newDom.style;\n\n    if (newDomStyle) {\n      // In node or some other non-browser environment\n      newDomStyle.position = 'absolute';\n      newDomStyle.left = 0;\n      newDomStyle.top = 0;\n      newDomStyle.width = width + 'px';\n      newDomStyle.height = height + 'px';\n      newDom.setAttribute('data-zr-dom-id', id);\n    }\n\n    newDom.width = width * dpr;\n    newDom.height = height * dpr;\n    return newDom;\n  }\n  /**\n   * @alias module:zrender/Layer\n   * @constructor\n   * @extends module:zrender/mixin/Transformable\n   * @param {string} id\n   * @param {module:zrender/Painter} painter\n   * @param {number} [dpr]\n   */\n\n\n  var Layer = function (id, painter, dpr) {\n    var dom;\n    dpr = dpr || devicePixelRatio$1;\n\n    if (typeof id === 'string') {\n      dom = createDom(id, painter, dpr);\n    } // Not using isDom because in node it will return false\n    else if (util.isObject(id)) {\n        dom = id;\n        id = dom.id;\n      }\n\n    this.id = id;\n    this.dom = dom;\n    var domStyle = dom.style;\n\n    if (domStyle) {\n      // Not in node\n      dom.onselectstart = returnFalse; // \n\n      domStyle['-webkit-user-select'] = 'none';\n      domStyle['user-select'] = 'none';\n      domStyle['-webkit-touch-callout'] = 'none';\n      domStyle['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n      domStyle['padding'] = 0; // eslint-disable-line dot-notation\n\n      domStyle['margin'] = 0; // eslint-disable-line dot-notation\n\n      domStyle['border-width'] = 0;\n    }\n\n    this.domBack = null;\n    this.ctxBack = null;\n    this.painter = painter;\n    this.config = null; // Configs\n\n    /**\n     * \n     * @type {string}\n     * @default 0\n     */\n\n    this.clearColor = 0;\n    /**\n     * \n     * @type {boolean}\n     * @default false\n     */\n\n    this.motionBlur = false;\n    /**\n     * alpha\n     * @type {number}\n     * @default 0.7\n     */\n\n    this.lastFrameAlpha = 0.7;\n    /**\n     * Layer dpr\n     * @type {number}\n     */\n\n    this.dpr = dpr;\n  };\n\n  Layer.prototype = {\n    constructor: Layer,\n    __dirty: true,\n    __used: false,\n    __drawIndex: 0,\n    __startIndex: 0,\n    __endIndex: 0,\n    incremental: false,\n    getElementCount: function () {\n      return this.__endIndex - this.__startIndex;\n    },\n    initContext: function () {\n      this.ctx = this.dom.getContext('2d');\n      this.ctx.dpr = this.dpr;\n    },\n    createBackBuffer: function () {\n      var dpr = this.dpr;\n      this.domBack = createDom('back-' + this.id, this.painter, dpr);\n      this.ctxBack = this.domBack.getContext('2d');\n\n      if (dpr !== 1) {\n        this.ctxBack.scale(dpr, dpr);\n      }\n    },\n\n    /**\n     * @param  {number} width\n     * @param  {number} height\n     */\n    resize: function (width, height) {\n      var dpr = this.dpr;\n      var dom = this.dom;\n      var domStyle = dom.style;\n      var domBack = this.domBack;\n\n      if (domStyle) {\n        domStyle.width = width + 'px';\n        domStyle.height = height + 'px';\n      }\n\n      dom.width = width * dpr;\n      dom.height = height * dpr;\n\n      if (domBack) {\n        domBack.width = width * dpr;\n        domBack.height = height * dpr;\n\n        if (dpr !== 1) {\n          this.ctxBack.scale(dpr, dpr);\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [clearAll]=false Clear all with out motion blur\n     * @param {Color} [clearColor]\n     */\n    clear: function (clearAll, clearColor) {\n      var dom = this.dom;\n      var ctx = this.ctx;\n      var width = dom.width;\n      var height = dom.height;\n      var clearColor = clearColor || this.clearColor;\n      var haveMotionBLur = this.motionBlur && !clearAll;\n      var lastFrameAlpha = this.lastFrameAlpha;\n      var dpr = this.dpr;\n\n      if (haveMotionBLur) {\n        if (!this.domBack) {\n          this.createBackBuffer();\n        }\n\n        this.ctxBack.globalCompositeOperation = 'copy';\n        this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n      }\n\n      ctx.clearRect(0, 0, width, height);\n\n      if (clearColor && clearColor !== 'transparent') {\n        var clearColorGradientOrPattern; // Gradient\n\n        if (clearColor.colorStops) {\n          // Cache canvas gradient\n          clearColorGradientOrPattern = clearColor.__canvasGradient || Style_1.getGradient(ctx, clearColor, {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          });\n          clearColor.__canvasGradient = clearColorGradientOrPattern;\n        } // Pattern\n        else if (clearColor.image) {\n            clearColorGradientOrPattern = Pattern_1.prototype.getCanvasPattern.call(clearColor, ctx);\n          }\n\n        ctx.save();\n        ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n        ctx.fillRect(0, 0, width, height);\n        ctx.restore();\n      }\n\n      if (haveMotionBLur) {\n        var domBack = this.domBack;\n        ctx.save();\n        ctx.globalAlpha = lastFrameAlpha;\n        ctx.drawImage(domBack, 0, 0, width, height);\n        ctx.restore();\n      }\n    }\n  };\n  var _default$k = Layer;\n  var Layer_1 = _default$k;\n\n  var _default$l = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || // https://github.com/ecomfe/zrender/issues/189#issuecomment-224919809\n  window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (func) {\n    setTimeout(func, 16);\n  };\n\n  var requestAnimationFrame = _default$l;\n\n  var globalImageCache = new LRU_1(50);\n  /**\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n   * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n   */\n\n  function findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n      var cachedImgObj = globalImageCache.get(newImageOrSrc);\n      return cachedImgObj && cachedImgObj.image;\n    } else {\n      return newImageOrSrc;\n    }\n  }\n  /**\n   * Caution: User should cache loaded images, but not just count on LRU.\n   * Consider if required images more than LRU size, will dead loop occur?\n   *\n   * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n   * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n   * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n   * @param {Function} [cb] params: (image, cbPayload)\n   * @param {Object} [cbPayload] Payload on cb calling.\n   * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n   */\n\n\n  function createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n    if (!newImageOrSrc) {\n      return image;\n    } else if (typeof newImageOrSrc === 'string') {\n      // Image should not be loaded repeatly.\n      if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n        return image;\n      } // Only when there is no existent image or existent image src\n      // is different, this method is responsible for load.\n\n\n      var cachedImgObj = globalImageCache.get(newImageOrSrc);\n      var pendingWrap = {\n        hostEl: hostEl,\n        cb: cb,\n        cbPayload: cbPayload\n      };\n\n      if (cachedImgObj) {\n        image = cachedImgObj.image;\n        !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n      } else {\n        image = new Image();\n        image.onload = image.onerror = imageOnLoad;\n        globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n          image: image,\n          pending: [pendingWrap]\n        });\n        image.src = image.__zrImageSrc = newImageOrSrc;\n      }\n\n      return image;\n    } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n    else {\n        return newImageOrSrc;\n      }\n  }\n\n  function imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.onerror = this.__cachedImgObj = null;\n\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n      var pendingWrap = cachedImgObj.pending[i];\n      var cb = pendingWrap.cb;\n      cb && cb(this, pendingWrap.cbPayload);\n      pendingWrap.hostEl.dirty();\n    }\n\n    cachedImgObj.pending.length = 0;\n  }\n\n  function isImageReady(image) {\n    return image && image.width && image.height;\n  }\n\n  var findExistImage_1 = findExistImage;\n  var createOrUpdateImage_1 = createOrUpdateImage;\n  var isImageReady_1 = isImageReady;\n\n  var image = {\n  \tfindExistImage: findExistImage_1,\n  \tcreateOrUpdateImage: createOrUpdateImage_1,\n  \tisImageReady: isImageReady_1\n  };\n\n  var getContext$1 = util.getContext;\n  var extend$3 = util.extend;\n  var retrieve2$1 = util.retrieve2;\n  var retrieve3$1 = util.retrieve3;\n  var trim$2 = util.trim;\n  var textWidthCache = {};\n  var textWidthCacheCounter = 0;\n  var TEXT_CACHE_MAX = 5000;\n  var STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\n  var DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\n  var methods$1 = {};\n\n  function $override$1(name, fn) {\n    methods$1[name] = fn;\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @return {number} width\n   */\n\n\n  function getWidth(text, font) {\n    font = font || DEFAULT_FONT;\n    var key = text + ':' + font;\n\n    if (textWidthCache[key]) {\n      return textWidthCache[key];\n    }\n\n    var textLines = (text + '').split('\\n');\n    var width = 0;\n\n    for (var i = 0, l = textLines.length; i < l; i++) {\n      // textContain.measureText may be overrided in SVG or VML\n      width = Math.max(measureText(textLines[i], font).width, width);\n    }\n\n    if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n      textWidthCacheCounter = 0;\n      textWidthCache = {};\n    }\n\n    textWidthCacheCounter++;\n    textWidthCache[key] = width;\n    return width;\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @param {string} [textAlign='left']\n   * @param {string} [textVerticalAlign='top']\n   * @param {Array.<number>} [textPadding]\n   * @param {Object} [rich]\n   * @param {Object} [truncate]\n   * @return {Object} {x, y, width, height, lineHeight}\n   */\n\n\n  function getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n    return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate);\n  }\n\n  function getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate) {\n    var contentBlock = parsePlainText(text, font, textPadding, textLineHeight, truncate);\n    var outerWidth = getWidth(text, font);\n\n    if (textPadding) {\n      outerWidth += textPadding[1] + textPadding[3];\n    }\n\n    var outerHeight = contentBlock.outerHeight;\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n    var rect = new BoundingRect_1(x, y, outerWidth, outerHeight);\n    rect.lineHeight = contentBlock.lineHeight;\n    return rect;\n  }\n\n  function getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n    var contentBlock = parseRichText(text, {\n      rich: rich,\n      truncate: truncate,\n      font: font,\n      textAlign: textAlign,\n      textPadding: textPadding,\n      textLineHeight: textLineHeight\n    });\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n    var x = adjustTextX(0, outerWidth, textAlign);\n    var y = adjustTextY(0, outerHeight, textVerticalAlign);\n    return new BoundingRect_1(x, y, outerWidth, outerHeight);\n  }\n  /**\n   * @public\n   * @param {number} x\n   * @param {number} width\n   * @param {string} [textAlign='left']\n   * @return {number} Adjusted x.\n   */\n\n\n  function adjustTextX(x, width, textAlign) {\n    // FIXME Right to left language\n    if (textAlign === 'right') {\n      x -= width;\n    } else if (textAlign === 'center') {\n      x -= width / 2;\n    }\n\n    return x;\n  }\n  /**\n   * @public\n   * @param {number} y\n   * @param {number} height\n   * @param {string} [textVerticalAlign='top']\n   * @return {number} Adjusted y.\n   */\n\n\n  function adjustTextY(y, height, textVerticalAlign) {\n    if (textVerticalAlign === 'middle') {\n      y -= height / 2;\n    } else if (textVerticalAlign === 'bottom') {\n      y -= height;\n    }\n\n    return y;\n  }\n  /**\n   * Follow same interface to `Displayable.prototype.calculateTextPosition`.\n   * @public\n   * @param {Obejct} [out] Prepared out object. If not input, auto created in the method.\n   * @param {module:zrender/graphic/Style} style where `textPosition` and `textDistance` are visited.\n   * @param {Object} rect {x, y, width, height} Rect of the host elment, according to which the text positioned.\n   * @return {Object} The input `out`. Set: {x, y, textAlign, textVerticalAlign}\n   */\n\n\n  function calculateTextPosition(out, style, rect) {\n    var textPosition = style.textPosition;\n    var distance = style.textDistance;\n    var x = rect.x;\n    var y = rect.y;\n    distance = distance || 0;\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n\n    switch (textPosition) {\n      case 'left':\n        x -= distance;\n        y += halfHeight;\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'right':\n        x += distance + width;\n        y += halfHeight;\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'top':\n        x += width / 2;\n        y -= distance;\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'bottom':\n        x += width / 2;\n        y += height + distance;\n        textAlign = 'center';\n        break;\n\n      case 'inside':\n        x += width / 2;\n        y += halfHeight;\n        textAlign = 'center';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideLeft':\n        x += distance;\n        y += halfHeight;\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideRight':\n        x += width - distance;\n        y += halfHeight;\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideTop':\n        x += width / 2;\n        y += distance;\n        textAlign = 'center';\n        break;\n\n      case 'insideBottom':\n        x += width / 2;\n        y += height - distance;\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideTopLeft':\n        x += distance;\n        y += distance;\n        break;\n\n      case 'insideTopRight':\n        x += width - distance;\n        y += distance;\n        textAlign = 'right';\n        break;\n\n      case 'insideBottomLeft':\n        x += distance;\n        y += height - distance;\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideBottomRight':\n        x += width - distance;\n        y += height - distance;\n        textAlign = 'right';\n        textVerticalAlign = 'bottom';\n        break;\n    }\n\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.textAlign = textAlign;\n    out.textVerticalAlign = textVerticalAlign;\n    return out;\n  }\n  /**\n   * To be removed. But still do not remove in case that some one has imported it.\n   * @deprecated\n   * @public\n   * @param {stirng} textPosition\n   * @param {Object} rect {x, y, width, height}\n   * @param {number} distance\n   * @return {Object} {x, y, textAlign, textVerticalAlign}\n   */\n\n\n  function adjustTextPositionOnRect(textPosition, rect, distance) {\n    var dummyStyle = {\n      textPosition: textPosition,\n      textDistance: distance\n    };\n    return calculateTextPosition({}, dummyStyle, rect);\n  }\n  /**\n   * Show ellipsis if overflow.\n   *\n   * @public\n   * @param  {string} text\n   * @param  {string} containerWidth\n   * @param  {string} font\n   * @param  {number} [ellipsis='...']\n   * @param  {Object} [options]\n   * @param  {number} [options.maxIterations=3]\n   * @param  {number} [options.minChar=0] If truncate result are less\n   *                  then minChar, ellipsis will not show, which is\n   *                  better for user hint in some cases.\n   * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n   * @return {string}\n   */\n\n\n  function truncateText(text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n      return '';\n    }\n\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n    // It is not appropriate that every line has '...' when truncate multiple lines.\n\n    for (var i = 0, len = textLines.length; i < len; i++) {\n      textLines[i] = truncateSingleLine(textLines[i], options);\n    }\n\n    return textLines.join('\\n');\n  }\n\n  function prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = extend$3({}, options);\n    options.font = font;\n    var ellipsis = retrieve2$1(ellipsis, '...');\n    options.maxIterations = retrieve2$1(options.maxIterations, 2);\n    var minChar = options.minChar = retrieve2$1(options.minChar, 0); // FIXME\n    // Other languages?\n\n    options.cnCharWidth = getWidth('', font); // FIXME\n    // Consider proportional font?\n\n    var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n    options.placeholder = retrieve2$1(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n    // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n      contentWidth -= ascCharWidth;\n    }\n\n    var ellipsisWidth = getWidth(ellipsis, font);\n\n    if (ellipsisWidth > contentWidth) {\n      ellipsis = '';\n      ellipsisWidth = 0;\n    }\n\n    contentWidth = containerWidth - ellipsisWidth;\n    options.ellipsis = ellipsis;\n    options.ellipsisWidth = ellipsisWidth;\n    options.contentWidth = contentWidth;\n    options.containerWidth = containerWidth;\n    return options;\n  }\n\n  function truncateSingleLine(textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n\n    if (!containerWidth) {\n      return '';\n    }\n\n    var lineWidth = getWidth(textLine, font);\n\n    if (lineWidth <= containerWidth) {\n      return textLine;\n    }\n\n    for (var j = 0;; j++) {\n      if (lineWidth <= contentWidth || j >= options.maxIterations) {\n        textLine += options.ellipsis;\n        break;\n      }\n\n      var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n      textLine = textLine.substr(0, subLength);\n      lineWidth = getWidth(textLine, font);\n    }\n\n    if (textLine === '') {\n      textLine = options.placeholder;\n    }\n\n    return textLine;\n  }\n\n  function estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n      var charCode = text.charCodeAt(i);\n      width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n    }\n\n    return i;\n  }\n  /**\n   * @public\n   * @param {string} font\n   * @return {number} line height\n   */\n\n\n  function getLineHeight(font) {\n    // FIXME A rough approach.\n    return getWidth('', font);\n  }\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @return {Object} width\n   */\n\n\n  function measureText(text, font) {\n    return methods$1.measureText(text, font);\n  } // Avoid assign to an exported variable, for transforming to cjs.\n\n\n  methods$1.measureText = function (text, font) {\n    var ctx = getContext$1();\n    ctx.font = font || DEFAULT_FONT;\n    return ctx.measureText(text);\n  };\n  /**\n   * @public\n   * @param {string} text\n   * @param {string} font\n   * @param {Object} [truncate]\n   * @return {Object} block: {lineHeight, lines, height, outerHeight, canCacheByTextString}\n   *  Notice: for performance, do not calculate outerWidth util needed.\n   *  `canCacheByTextString` means the result `lines` is only determined by the input `text`.\n   *  Thus we can simply comparing the `input` text to determin whether the result changed,\n   *  without travel the result `lines`.\n   */\n\n\n  function parsePlainText(text, font, padding, textLineHeight, truncate) {\n    text != null && (text += '');\n    var lineHeight = retrieve2$1(textLineHeight, getLineHeight(font));\n    var lines = text ? text.split('\\n') : [];\n    var height = lines.length * lineHeight;\n    var outerHeight = height;\n    var canCacheByTextString = true;\n\n    if (padding) {\n      outerHeight += padding[0] + padding[2];\n    }\n\n    if (text && truncate) {\n      canCacheByTextString = false;\n      var truncOuterHeight = truncate.outerHeight;\n      var truncOuterWidth = truncate.outerWidth;\n\n      if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n        text = '';\n        lines = [];\n      } else if (truncOuterWidth != null) {\n        var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n          minChar: truncate.minChar,\n          placeholder: truncate.placeholder\n        }); // FIXME\n        // It is not appropriate that every line has '...' when truncate multiple lines.\n\n        for (var i = 0, len = lines.length; i < len; i++) {\n          lines[i] = truncateSingleLine(lines[i], options);\n        }\n      }\n    }\n\n    return {\n      lines: lines,\n      height: height,\n      outerHeight: outerHeight,\n      lineHeight: lineHeight,\n      canCacheByTextString: canCacheByTextString\n    };\n  }\n  /**\n   * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n   * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n   *\n   * @public\n   * @param {string} text\n   * @param {Object} style\n   * @return {Object} block\n   * {\n   *      width,\n   *      height,\n   *      lines: [{\n   *          lineHeight,\n   *          width,\n   *          tokens: [[{\n   *              styleName,\n   *              text,\n   *              width,      // include textPadding\n   *              height,     // include textPadding\n   *              textWidth, // pure text width\n   *              textHeight, // pure text height\n   *              lineHeihgt,\n   *              font,\n   *              textAlign,\n   *              textVerticalAlign\n   *          }], [...], ...]\n   *      }, ...]\n   * }\n   * If styleName is undefined, it is plain text.\n   */\n\n\n  function parseRichText(text, style) {\n    var contentBlock = {\n      lines: [],\n      width: 0,\n      height: 0\n    };\n    text != null && (text += '');\n\n    if (!text) {\n      return contentBlock;\n    }\n\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n\n    while ((result = STYLE_REG.exec(text)) != null) {\n      var matchedIndex = result.index;\n\n      if (matchedIndex > lastIndex) {\n        pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n      }\n\n      pushTokens(contentBlock, result[2], result[1]);\n      lastIndex = STYLE_REG.lastIndex;\n    }\n\n    if (lastIndex < text.length) {\n      pushTokens(contentBlock, text.substring(lastIndex, text.length));\n    }\n\n    var lines = contentBlock.lines;\n    var contentHeight = 0;\n    var contentWidth = 0; // For `textWidth: 100%`\n\n    var pendingList = [];\n    var stlPadding = style.textPadding;\n    var truncate = style.truncate;\n    var truncateWidth = truncate && truncate.outerWidth;\n    var truncateHeight = truncate && truncate.outerHeight;\n\n    if (stlPadding) {\n      truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n      truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n    } // Calculate layout info of tokens.\n\n\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i];\n      var lineHeight = 0;\n      var lineWidth = 0;\n\n      for (var j = 0; j < line.tokens.length; j++) {\n        var token = line.tokens[j];\n        var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n        var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n        var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n        var tokenHeight = token.textHeight = retrieve2$1( // textHeight should not be inherited, consider it can be specified\n        // as box height of the block.\n        tokenStyle.textHeight, getLineHeight(font));\n        textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n        token.height = tokenHeight;\n        token.lineHeight = retrieve3$1(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n        token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n        token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n        if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n          return {\n            lines: [],\n            width: 0,\n            height: 0\n          };\n        }\n\n        token.textWidth = getWidth(token.text, font);\n        var tokenWidth = tokenStyle.textWidth;\n        var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n        // line when box width is needed to be auto.\n\n        if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n          token.percentWidth = tokenWidth;\n          pendingList.push(token);\n          tokenWidth = 0; // Do not truncate in this case, because there is no user case\n          // and it is too complicated.\n        } else {\n          if (tokenWidthNotSpecified) {\n            tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n            // `getBoundingRect()` will not get correct result.\n\n            var textBackgroundColor = tokenStyle.textBackgroundColor;\n            var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n            // (1) If image is not loaded, it will be loaded at render phase and call\n            // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n            // image, and then the right size will be calculated here at the next tick.\n            // See `graphic/helper/text.js`.\n            // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n            // use `imageHelper.findExistImage` to find cached image.\n            // `imageHelper.findExistImage` will always be called here before\n            // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n            // which ensures that image will not be rendered before correct size calcualted.\n\n            if (bgImg) {\n              bgImg = image.findExistImage(bgImg);\n\n              if (image.isImageReady(bgImg)) {\n                tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n              }\n            }\n          }\n\n          var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n          tokenWidth += paddingW;\n          var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n          if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n            if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n              token.text = '';\n              token.textWidth = tokenWidth = 0;\n            } else {\n              token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n                minChar: truncate.minChar\n              });\n              token.textWidth = getWidth(token.text, font);\n              tokenWidth = token.textWidth + paddingW;\n            }\n          }\n        }\n\n        lineWidth += token.width = tokenWidth;\n        tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n      }\n\n      line.width = lineWidth;\n      line.lineHeight = lineHeight;\n      contentHeight += lineHeight;\n      contentWidth = Math.max(contentWidth, lineWidth);\n    }\n\n    contentBlock.outerWidth = contentBlock.width = retrieve2$1(style.textWidth, contentWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2$1(style.textHeight, contentHeight);\n\n    if (stlPadding) {\n      contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n      contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n\n    for (var i = 0; i < pendingList.length; i++) {\n      var token = pendingList[i];\n      var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n      token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n    }\n\n    return contentBlock;\n  }\n\n  function pushTokens(block, str, styleName) {\n    var isEmptyStr = str === '';\n    var strs = str.split('\\n');\n    var lines = block.lines;\n\n    for (var i = 0; i < strs.length; i++) {\n      var text = strs[i];\n      var token = {\n        styleName: styleName,\n        text: text,\n        isLineHolder: !text && !isEmptyStr\n      }; // The first token should be appended to the last line.\n\n      if (!i) {\n        var tokens = (lines[lines.length - 1] || (lines[0] = {\n          tokens: []\n        })).tokens; // Consider cases:\n        // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n        // (which is a placeholder) should be replaced by new token.\n        // (2) A image backage, where token likes {a|}.\n        // (3) A redundant '' will affect textAlign in line.\n        // (4) tokens with the same tplName should not be merged, because\n        // they should be displayed in different box (with border and padding).\n\n        var tokensLen = tokens.length;\n        tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n        // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n        (text || !tokensLen || isEmptyStr) && tokens.push(token);\n      } // Other tokens always start a new line.\n      else {\n          // If there is '', insert it as a placeholder.\n          lines.push({\n            tokens: [token]\n          });\n        }\n    }\n  }\n\n  function makeFont(style) {\n    // FIXME in node-canvas fontWeight is before fontStyle\n    // Use `fontSize` `fontFamily` to check whether font properties are defined.\n    var font = (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n    style.fontFamily || 'sans-serif'].join(' ');\n    return font && trim$2(font) || style.textFont || style.font;\n  }\n\n  var DEFAULT_FONT_1 = DEFAULT_FONT;\n  var $override_1$1 = $override$1;\n  var getWidth_1 = getWidth;\n  var getBoundingRect_1 = getBoundingRect;\n  var adjustTextX_1 = adjustTextX;\n  var adjustTextY_1 = adjustTextY;\n  var calculateTextPosition_1 = calculateTextPosition;\n  var adjustTextPositionOnRect_1 = adjustTextPositionOnRect;\n  var truncateText_1 = truncateText;\n  var getLineHeight_1 = getLineHeight;\n  var measureText_1 = measureText;\n  var parsePlainText_1 = parsePlainText;\n  var parseRichText_1 = parseRichText;\n  var makeFont_1 = makeFont;\n\n  var text = {\n  \tDEFAULT_FONT: DEFAULT_FONT_1,\n  \t$override: $override_1$1,\n  \tgetWidth: getWidth_1,\n  \tgetBoundingRect: getBoundingRect_1,\n  \tadjustTextX: adjustTextX_1,\n  \tadjustTextY: adjustTextY_1,\n  \tcalculateTextPosition: calculateTextPosition_1,\n  \tadjustTextPositionOnRect: adjustTextPositionOnRect_1,\n  \ttruncateText: truncateText_1,\n  \tgetLineHeight: getLineHeight_1,\n  \tmeasureText: measureText_1,\n  \tparsePlainText: parsePlainText_1,\n  \tparseRichText: parseRichText_1,\n  \tmakeFont: makeFont_1\n  };\n\n  /**\n   * @param {Object} ctx\n   * @param {Object} shape\n   * @param {number} shape.x\n   * @param {number} shape.y\n   * @param {number} shape.width\n   * @param {number} shape.height\n   * @param {number} shape.r\n   */\n  function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4; // Convert width and height to positive for better borderRadius\n\n    if (width < 0) {\n      x = x + width;\n      width = -width;\n    }\n\n    if (height < 0) {\n      y = y + height;\n      height = -height;\n    }\n\n    if (typeof r === 'number') {\n      r1 = r2 = r3 = r4 = r;\n    } else if (r instanceof Array) {\n      if (r.length === 1) {\n        r1 = r2 = r3 = r4 = r[0];\n      } else if (r.length === 2) {\n        r1 = r3 = r[0];\n        r2 = r4 = r[1];\n      } else if (r.length === 3) {\n        r1 = r[0];\n        r2 = r4 = r[1];\n        r3 = r[2];\n      } else {\n        r1 = r[0];\n        r2 = r[1];\n        r3 = r[2];\n        r4 = r[3];\n      }\n    } else {\n      r1 = r2 = r3 = r4 = 0;\n    }\n\n    var total;\n\n    if (r1 + r2 > width) {\n      total = r1 + r2;\n      r1 *= width / total;\n      r2 *= width / total;\n    }\n\n    if (r3 + r4 > width) {\n      total = r3 + r4;\n      r3 *= width / total;\n      r4 *= width / total;\n    }\n\n    if (r2 + r3 > height) {\n      total = r2 + r3;\n      r2 *= height / total;\n      r3 *= height / total;\n    }\n\n    if (r1 + r4 > height) {\n      total = r1 + r4;\n      r1 *= height / total;\n      r4 *= height / total;\n    }\n\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n  }\n\n  var buildPath_1 = buildPath;\n\n  var roundRect = {\n  \tbuildPath: buildPath_1\n  };\n\n  var retrieve2$2 = util.retrieve2;\n  var retrieve3$2 = util.retrieve3;\n  var each$1 = util.each;\n  var normalizeCssArray$1 = util.normalizeCssArray;\n  var isString$3 = util.isString;\n  var isObject$4 = util.isObject;\n\n\n\n\n\n\n\n\n\n\n\n  var ContextCachedBy$2 = constant.ContextCachedBy;\n  var WILL_BE_RESTORED$1 = constant.WILL_BE_RESTORED;\n  var DEFAULT_FONT$1 = text.DEFAULT_FONT; // TODO: Have not support 'start', 'end' yet.\n\n  var VALID_TEXT_ALIGN = {\n    left: 1,\n    right: 1,\n    center: 1\n  };\n  var VALID_TEXT_VERTICAL_ALIGN = {\n    top: 1,\n    bottom: 1,\n    middle: 1\n  }; // Different from `STYLE_COMMON_PROPS` of `graphic/Style`,\n  // the default value of shadowColor is `'transparent'`.\n\n  var SHADOW_STYLE_COMMON_PROPS = [['textShadowBlur', 'shadowBlur', 0], ['textShadowOffsetX', 'shadowOffsetX', 0], ['textShadowOffsetY', 'shadowOffsetY', 0], ['textShadowColor', 'shadowColor', 'transparent']];\n  var _tmpTextPositionResult = {};\n  var _tmpBoxPositionResult = {};\n  /**\n   * @param {module:zrender/graphic/Style} style\n   * @return {module:zrender/graphic/Style} The input style.\n   */\n\n  function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each$1(style.rich, normalizeStyle);\n    return style;\n  }\n\n  function normalizeStyle(style) {\n    if (style) {\n      style.font = text.makeFont(style);\n      var textAlign = style.textAlign;\n      textAlign === 'middle' && (textAlign = 'center');\n      style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n      var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n      textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n      style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n      var textPadding = style.textPadding;\n\n      if (textPadding) {\n        style.textPadding = normalizeCssArray$1(style.textPadding);\n      }\n    }\n  }\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @param {string} text\n   * @param {module:zrender/graphic/Style} style\n   * @param {Object|boolean} [rect] {x, y, width, height}\n   *                  If set false, rect text is not used.\n   * @param {Element|module:zrender/graphic/helper/constant.WILL_BE_RESTORED} [prevEl] For ctx prop cache.\n   */\n\n\n  function renderText(hostEl, ctx, text, style, rect, prevEl) {\n    style.rich ? renderRichText(hostEl, ctx, text, style, rect, prevEl) : renderPlainText(hostEl, ctx, text, style, rect, prevEl);\n  } // Avoid setting to ctx according to prevEl if possible for\n  // performance in scenarios of large amount text.\n\n\n  function renderPlainText(hostEl, ctx, text$1, style, rect, prevEl) {\n\n    var needDrawBg = needDrawBackground(style);\n    var prevStyle;\n    var checkCache = false;\n    var cachedByMe = ctx.__attrCachedBy === ContextCachedBy$2.PLAIN_TEXT; // Only take and check cache for `Text` el, but not RectText.\n\n    if (prevEl !== WILL_BE_RESTORED$1) {\n      if (prevEl) {\n        prevStyle = prevEl.style;\n        checkCache = !needDrawBg && cachedByMe && prevStyle;\n      } // Prevent from using cache in `Style::bind`, because of the case:\n      // ctx property is modified by other properties than `Style::bind`\n      // used, and Style::bind is called next.\n\n\n      ctx.__attrCachedBy = needDrawBg ? ContextCachedBy$2.NONE : ContextCachedBy$2.PLAIN_TEXT;\n    } // Since this will be restored, prevent from using these props to check cache in the next\n    // entering of this method. But do not need to clear other cache like `Style::bind`.\n    else if (cachedByMe) {\n        ctx.__attrCachedBy = ContextCachedBy$2.NONE;\n      }\n\n    var styleFont = style.font || DEFAULT_FONT$1; // PENDING\n    // Only `Text` el set `font` and keep it (`RectText` will restore). So theoretically\n    // we can make font cache on ctx, which can cache for text el that are discontinuous.\n    // But layer save/restore needed to be considered.\n    // if (styleFont !== ctx.__fontCache) {\n    //     ctx.font = styleFont;\n    //     if (prevEl !== WILL_BE_RESTORED) {\n    //         ctx.__fontCache = styleFont;\n    //     }\n    // }\n\n    if (!checkCache || styleFont !== (prevStyle.font || DEFAULT_FONT$1)) {\n      ctx.font = styleFont;\n    } // Use the final font from context-2d, because the final\n    // font might not be the style.font when it is illegal.\n    // But get `ctx.font` might be time consuming.\n\n\n    var computedFont = hostEl.__computedFont;\n\n    if (hostEl.__styleFont !== styleFont) {\n      hostEl.__styleFont = styleFont;\n      computedFont = hostEl.__computedFont = ctx.font;\n    }\n\n    var textPadding = style.textPadding;\n    var textLineHeight = style.textLineHeight;\n    var contentBlock = hostEl.__textCotentBlock;\n\n    if (!contentBlock || hostEl.__dirtyText) {\n      contentBlock = hostEl.__textCotentBlock = text.parsePlainText(text$1, computedFont, textPadding, textLineHeight, style.truncate);\n    }\n\n    var outerHeight = contentBlock.outerHeight;\n    var textLines = contentBlock.lines;\n    var lineHeight = contentBlock.lineHeight;\n    var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign || 'left';\n    var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n    var boxY = text.adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var textX = baseX;\n    var textY = boxY;\n\n    if (needDrawBg || textPadding) {\n      // Consider performance, do not call getTextWidth util necessary.\n      var textWidth = text.getWidth(text$1, computedFont);\n      var outerWidth = textWidth;\n      textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n      var boxX = text.adjustTextX(baseX, outerWidth, textAlign);\n      needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n      if (textPadding) {\n        textX = getTextXForPadding(baseX, textAlign, textPadding);\n        textY += textPadding[0];\n      }\n    } // Always set textAlign and textBase line, because it is difficute to calculate\n    // textAlign from prevEl, and we dont sure whether textAlign will be reset if\n    // font set happened.\n\n\n    ctx.textAlign = textAlign; // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n    ctx.textBaseline = 'middle'; // Set text opacity\n\n    ctx.globalAlpha = style.opacity || 1; // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n    for (var i = 0; i < SHADOW_STYLE_COMMON_PROPS.length; i++) {\n      var propItem = SHADOW_STYLE_COMMON_PROPS[i];\n      var styleProp = propItem[0];\n      var ctxProp = propItem[1];\n      var val = style[styleProp];\n\n      if (!checkCache || val !== prevStyle[styleProp]) {\n        ctx[ctxProp] = fixShadow(ctx, ctxProp, val || propItem[2]);\n      }\n    } // `textBaseline` is set as 'middle'.\n\n\n    textY += lineHeight / 2;\n    var textStrokeWidth = style.textStrokeWidth;\n    var textStrokeWidthPrev = checkCache ? prevStyle.textStrokeWidth : null;\n    var strokeWidthChanged = !checkCache || textStrokeWidth !== textStrokeWidthPrev;\n    var strokeChanged = !checkCache || strokeWidthChanged || style.textStroke !== prevStyle.textStroke;\n    var textStroke = getStroke(style.textStroke, textStrokeWidth);\n    var textFill = getFill(style.textFill);\n\n    if (textStroke) {\n      if (strokeWidthChanged) {\n        ctx.lineWidth = textStrokeWidth;\n      }\n\n      if (strokeChanged) {\n        ctx.strokeStyle = textStroke;\n      }\n    }\n\n    if (textFill) {\n      if (!checkCache || style.textFill !== prevStyle.textFill) {\n        ctx.fillStyle = textFill;\n      }\n    } // Optimize simply, in most cases only one line exists.\n\n\n    if (textLines.length === 1) {\n      // Fill after stroke so the outline will not cover the main part.\n      textStroke && ctx.strokeText(textLines[0], textX, textY);\n      textFill && ctx.fillText(textLines[0], textX, textY);\n    } else {\n      for (var i = 0; i < textLines.length; i++) {\n        // Fill after stroke so the outline will not cover the main part.\n        textStroke && ctx.strokeText(textLines[i], textX, textY);\n        textFill && ctx.fillText(textLines[i], textX, textY);\n        textY += lineHeight;\n      }\n    }\n  }\n\n  function renderRichText(hostEl, ctx, text$1, style, rect, prevEl) {\n    // Do not do cache for rich text because of the complexity.\n    // But `RectText` this will be restored, do not need to clear other cache like `Style::bind`.\n    if (prevEl !== WILL_BE_RESTORED$1) {\n      ctx.__attrCachedBy = ContextCachedBy$2.NONE;\n    }\n\n    var contentBlock = hostEl.__textCotentBlock;\n\n    if (!contentBlock || hostEl.__dirtyText) {\n      contentBlock = hostEl.__textCotentBlock = text.parseRichText(text$1, style);\n    }\n\n    drawRichText(hostEl, ctx, contentBlock, style, rect);\n  }\n\n  function drawRichText(hostEl, ctx, contentBlock, style, rect) {\n    var contentWidth = contentBlock.width;\n    var outerWidth = contentBlock.outerWidth;\n    var outerHeight = contentBlock.outerHeight;\n    var textPadding = style.textPadding;\n    var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n    var baseX = boxPos.baseX;\n    var baseY = boxPos.baseY;\n    var textAlign = boxPos.textAlign;\n    var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n    applyTextRotation(ctx, style, rect, baseX, baseY);\n    var boxX = text.adjustTextX(baseX, outerWidth, textAlign);\n    var boxY = text.adjustTextY(baseY, outerHeight, textVerticalAlign);\n    var xLeft = boxX;\n    var lineTop = boxY;\n\n    if (textPadding) {\n      xLeft += textPadding[3];\n      lineTop += textPadding[0];\n    }\n\n    var xRight = xLeft + contentWidth;\n    needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    for (var i = 0; i < contentBlock.lines.length; i++) {\n      var line = contentBlock.lines[i];\n      var tokens = line.tokens;\n      var tokenCount = tokens.length;\n      var lineHeight = line.lineHeight;\n      var usedWidth = line.width;\n      var leftIndex = 0;\n      var lineXLeft = xLeft;\n      var lineXRight = xRight;\n      var rightIndex = tokenCount - 1;\n      var token;\n\n      while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n        usedWidth -= token.width;\n        lineXLeft += token.width;\n        leftIndex++;\n      }\n\n      while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n        usedWidth -= token.width;\n        lineXRight -= token.width;\n        rightIndex--;\n      } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n      lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n      while (leftIndex <= rightIndex) {\n        token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n        placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n        lineXLeft += token.width;\n        leftIndex++;\n      }\n\n      lineTop += lineHeight;\n    }\n  }\n\n  function applyTextRotation(ctx, style, rect, x, y) {\n    // textRotation only apply in RectText.\n    if (rect && style.textRotation) {\n      var origin = style.textOrigin;\n\n      if (origin === 'center') {\n        x = rect.width / 2 + rect.x;\n        y = rect.height / 2 + rect.y;\n      } else if (origin) {\n        x = origin[0] + rect.x;\n        y = origin[1] + rect.y;\n      }\n\n      ctx.translate(x, y); // Positive: anticlockwise\n\n      ctx.rotate(-style.textRotation);\n      ctx.translate(-x, -y);\n    }\n  }\n\n  function placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n    var tokenStyle = style.rich[token.styleName] || {};\n    tokenStyle.text = token.text; // 'ctx.textBaseline' is always set as 'middle', for sake of\n    // the bias of \"Microsoft YaHei\".\n\n    var textVerticalAlign = token.textVerticalAlign;\n    var y = lineTop + lineHeight / 2;\n\n    if (textVerticalAlign === 'top') {\n      y = lineTop + token.height / 2;\n    } else if (textVerticalAlign === 'bottom') {\n      y = lineTop + lineHeight - token.height / 2;\n    }\n\n    !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n    var textPadding = token.textPadding;\n\n    if (textPadding) {\n      x = getTextXForPadding(x, textAlign, textPadding);\n      y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n    }\n\n    setCtx(ctx, 'shadowBlur', retrieve3$2(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n    setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', retrieve3$2(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n    setCtx(ctx, 'shadowOffsetY', retrieve3$2(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n    setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n    // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n    setCtx(ctx, 'textBaseline', 'middle');\n    setCtx(ctx, 'font', token.font || DEFAULT_FONT$1);\n    var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n    var textFill = getFill(tokenStyle.textFill || style.textFill);\n    var textStrokeWidth = retrieve2$2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n    if (textStroke) {\n      setCtx(ctx, 'lineWidth', textStrokeWidth);\n      setCtx(ctx, 'strokeStyle', textStroke);\n      ctx.strokeText(token.text, x, y);\n    }\n\n    if (textFill) {\n      setCtx(ctx, 'fillStyle', textFill);\n      ctx.fillText(token.text, x, y);\n    }\n  }\n\n  function needDrawBackground(style) {\n    return !!(style.textBackgroundColor || style.textBorderWidth && style.textBorderColor);\n  } // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius, text}\n  // shape: {x, y, width, height}\n\n\n  function drawBackground(hostEl, ctx, style, x, y, width, height) {\n    var textBackgroundColor = style.textBackgroundColor;\n    var textBorderWidth = style.textBorderWidth;\n    var textBorderColor = style.textBorderColor;\n    var isPlainBg = isString$3(textBackgroundColor);\n    setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n    setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n    setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n    setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n    if (isPlainBg || textBorderWidth && textBorderColor) {\n      ctx.beginPath();\n      var textBorderRadius = style.textBorderRadius;\n\n      if (!textBorderRadius) {\n        ctx.rect(x, y, width, height);\n      } else {\n        roundRect.buildPath(ctx, {\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          r: textBorderRadius\n        });\n      }\n\n      ctx.closePath();\n    }\n\n    if (isPlainBg) {\n      setCtx(ctx, 'fillStyle', textBackgroundColor);\n\n      if (style.fillOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        ctx.fill();\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        ctx.fill();\n      }\n    } else if (isObject$4(textBackgroundColor)) {\n      var image$1 = textBackgroundColor.image;\n      image$1 = image.createOrUpdateImage(image$1, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n      if (image$1 && image.isImageReady(image$1)) {\n        ctx.drawImage(image$1, x, y, width, height);\n      }\n    }\n\n    if (textBorderWidth && textBorderColor) {\n      setCtx(ctx, 'lineWidth', textBorderWidth);\n      setCtx(ctx, 'strokeStyle', textBorderColor);\n\n      if (style.strokeOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        ctx.stroke();\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        ctx.stroke();\n      }\n    }\n  }\n\n  function onBgImageLoaded(image, textBackgroundColor) {\n    // Replace image, so that `contain/text.js#parseRichText`\n    // will get correct result in next tick.\n    textBackgroundColor.image = image;\n  }\n\n  function getBoxPosition(out, hostEl, style, rect) {\n    var baseX = style.x || 0;\n    var baseY = style.y || 0;\n    var textAlign = style.textAlign;\n    var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n    if (rect) {\n      var textPosition = style.textPosition;\n\n      if (textPosition instanceof Array) {\n        // Percent\n        baseX = rect.x + parsePercent(textPosition[0], rect.width);\n        baseY = rect.y + parsePercent(textPosition[1], rect.height);\n      } else {\n        var res = hostEl && hostEl.calculateTextPosition ? hostEl.calculateTextPosition(_tmpTextPositionResult, style, rect) : text.calculateTextPosition(_tmpTextPositionResult, style, rect);\n        baseX = res.x;\n        baseY = res.y; // Default align and baseline when has textPosition\n\n        textAlign = textAlign || res.textAlign;\n        textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n      } // textOffset is only support in RectText, otherwise\n      // we have to adjust boundingRect for textOffset.\n\n\n      var textOffset = style.textOffset;\n\n      if (textOffset) {\n        baseX += textOffset[0];\n        baseY += textOffset[1];\n      }\n    }\n\n    out = out || {};\n    out.baseX = baseX;\n    out.baseY = baseY;\n    out.textAlign = textAlign;\n    out.textVerticalAlign = textVerticalAlign;\n    return out;\n  }\n\n  function setCtx(ctx, prop, value) {\n    ctx[prop] = fixShadow(ctx, prop, value);\n    return ctx[prop];\n  }\n  /**\n   * @param {string} [stroke] If specified, do not check style.textStroke.\n   * @param {string} [lineWidth] If specified, do not check style.textStroke.\n   * @param {number} style\n   */\n\n\n  function getStroke(stroke, lineWidth) {\n    return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n    : stroke.image || stroke.colorStops ? '#000' : stroke;\n  }\n\n  function getFill(fill) {\n    return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n    : fill.image || fill.colorStops ? '#000' : fill;\n  }\n\n  function parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n      if (value.lastIndexOf('%') >= 0) {\n        return parseFloat(value) / 100 * maxValue;\n      }\n\n      return parseFloat(value);\n    }\n\n    return value;\n  }\n\n  function getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n  }\n  /**\n   * @param {string} text\n   * @param {module:zrender/Style} style\n   * @return {boolean}\n   */\n\n\n  function needDrawText(text, style) {\n    return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n  }\n\n  var normalizeTextStyle_1 = normalizeTextStyle;\n  var renderText_1 = renderText;\n  var getBoxPosition_1 = getBoxPosition;\n  var getStroke_1 = getStroke;\n  var getFill_1 = getFill;\n  var parsePercent_1 = parsePercent;\n  var needDrawText_1 = needDrawText;\n\n  var text$1 = {\n  \tnormalizeTextStyle: normalizeTextStyle_1,\n  \trenderText: renderText_1,\n  \tgetBoxPosition: getBoxPosition_1,\n  \tgetStroke: getStroke_1,\n  \tgetFill: getFill_1,\n  \tparsePercent: parsePercent_1,\n  \tneedDrawText: needDrawText_1\n  };\n\n  var WILL_BE_RESTORED$2 = constant.WILL_BE_RESTORED;\n\n  /**\n   * Mixin for drawing text in a element bounding rect\n   * @module zrender/mixin/RectText\n   */\n  var tmpRect = new BoundingRect_1();\n\n  var RectText = function () {};\n\n  RectText.prototype = {\n    constructor: RectText,\n\n    /**\n     * Draw text in a rect with specified position.\n     * @param  {CanvasRenderingContext2D} ctx\n     * @param  {Object} rect Displayable rect\n     */\n    drawRectText: function (ctx, rect) {\n      var style = this.style;\n      rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true);\n      var text = style.text; // Convert to string\n\n      text != null && (text += '');\n\n      if (!text$1.needDrawText(text, style)) {\n        return;\n      } // FIXME\n      // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n      // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n      // text propably break the cache for its host elements.\n\n\n      ctx.save(); // Transform rect to view space\n\n      var transform = this.transform;\n\n      if (!style.transformText) {\n        if (transform) {\n          tmpRect.copy(rect);\n          tmpRect.applyTransform(transform);\n          rect = tmpRect;\n        }\n      } else {\n        this.setTransform(ctx);\n      } // transformText and textRotation can not be used at the same time.\n\n\n      text$1.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED$2);\n      ctx.restore();\n    }\n  };\n  var _default$m = RectText;\n  var RectText_1 = _default$m;\n\n  /**\n   * Base class of all displayable graphic objects\n   * @module zrender/graphic/Displayable\n   */\n\n  /**\n   * @alias module:zrender/graphic/Displayable\n   * @extends module:zrender/Element\n   * @extends module:zrender/graphic/mixin/RectText\n   */\n  function Displayable(opts) {\n    opts = opts || {};\n    Element_1.call(this, opts); // Extend properties\n\n    for (var name in opts) {\n      if (opts.hasOwnProperty(name) && name !== 'style') {\n        this[name] = opts[name];\n      }\n    }\n    /**\n     * @type {module:zrender/graphic/Style}\n     */\n\n\n    this.style = new Style_1(opts.style, this);\n    this._rect = null; // Shapes for cascade clipping.\n    // Can only be `null`/`undefined` or an non-empty array, MUST NOT be an empty array.\n    // because it is easy to only using null to check whether clipPaths changed.\n\n    this.__clipPaths = null; // FIXME Stateful must be mixined after style is setted\n    // Stateful.call(this, opts);\n  }\n\n  Displayable.prototype = {\n    constructor: Displayable,\n    type: 'displayable',\n\n    /**\n     * Dirty flag. From which painter will determine if this displayable object needs brush.\n     * @name module:zrender/graphic/Displayable#__dirty\n     * @type {boolean}\n     */\n    __dirty: true,\n\n    /**\n     * Whether the displayable object is visible. when it is true, the displayable object\n     * is not drawn, but the mouse event can still trigger the object.\n     * @name module:/zrender/graphic/Displayable#invisible\n     * @type {boolean}\n     * @default false\n     */\n    invisible: false,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z: 0,\n\n    /**\n     * @name module:/zrender/graphic/Displayable#z\n     * @type {number}\n     * @default 0\n     */\n    z2: 0,\n\n    /**\n     * The z level determines the displayable object can be drawn in which layer canvas.\n     * @name module:/zrender/graphic/Displayable#zlevel\n     * @type {number}\n     * @default 0\n     */\n    zlevel: 0,\n\n    /**\n     * Whether it can be dragged.\n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    draggable: false,\n\n    /**\n     * Whether is it dragging.\n     * @name module:/zrender/graphic/Displayable#draggable\n     * @type {boolean}\n     * @default false\n     */\n    dragging: false,\n\n    /**\n     * Whether to respond to mouse events.\n     * @name module:/zrender/graphic/Displayable#silent\n     * @type {boolean}\n     * @default false\n     */\n    silent: false,\n\n    /**\n     * If enable culling\n     * @type {boolean}\n     * @default false\n     */\n    culling: false,\n\n    /**\n     * Mouse cursor when hovered\n     * @name module:/zrender/graphic/Displayable#cursor\n     * @type {string}\n     */\n    cursor: 'pointer',\n\n    /**\n     * If hover area is bounding rect\n     * @name module:/zrender/graphic/Displayable#rectHover\n     * @type {string}\n     */\n    rectHover: false,\n\n    /**\n     * Render the element progressively when the value >= 0,\n     * usefull for large data.\n     * @type {boolean}\n     */\n    progressive: false,\n\n    /**\n     * @type {boolean}\n     */\n    incremental: false,\n\n    /**\n     * Scale ratio for global scale.\n     * @type {boolean}\n     */\n    globalScaleRatio: 1,\n    beforeBrush: function (ctx) {},\n    afterBrush: function (ctx) {},\n\n    /**\n     * Graphic drawing method.\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    // Interface\n    brush: function (ctx, prevEl) {},\n\n    /**\n     * Get the minimum bounding box.\n     * @return {module:zrender/core/BoundingRect}\n     */\n    // Interface\n    getBoundingRect: function () {},\n\n    /**\n     * If displayable element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    contain: function (x, y) {\n      return this.rectContain(x, y);\n    },\n\n    /**\n     * @param  {Function} cb\n     * @param  {}   context\n     */\n    traverse: function (cb, context) {\n      cb.call(context, this);\n    },\n\n    /**\n     * If bounding rect of element contain coord x, y\n     * @param  {number} x\n     * @param  {number} y\n     * @return {boolean}\n     */\n    rectContain: function (x, y) {\n      var coord = this.transformCoordToLocal(x, y);\n      var rect = this.getBoundingRect();\n      return rect.contain(coord[0], coord[1]);\n    },\n\n    /**\n     * Mark displayable element dirty and refresh next frame\n     */\n    dirty: function () {\n      this.__dirty = this.__dirtyText = true;\n      this._rect = null;\n      this.__zr && this.__zr.refresh();\n    },\n\n    /**\n     * If displayable object binded any event\n     * @return {boolean}\n     */\n    // TODO, events bound by bind\n    // isSilent: function () {\n    //     return !(\n    //         this.hoverable || this.draggable\n    //         || this.onmousemove || this.onmouseover || this.onmouseout\n    //         || this.onmousedown || this.onmouseup || this.onclick\n    //         || this.ondragenter || this.ondragover || this.ondragleave\n    //         || this.ondrop\n    //     );\n    // },\n\n    /**\n     * Alias for animate('style')\n     * @param {boolean} loop\n     */\n    animateStyle: function (loop) {\n      return this.animate('style', loop);\n    },\n    attrKV: function (key, value) {\n      if (key !== 'style') {\n        Element_1.prototype.attrKV.call(this, key, value);\n      } else {\n        this.style.set(value);\n      }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setStyle: function (key, value) {\n      this.style.set(key, value);\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * Use given style object\n     * @param  {Object} obj\n     */\n    useStyle: function (obj) {\n      this.style = new Style_1(obj, this);\n      this.dirty(false);\n      return this;\n    },\n\n    /**\n     * The string value of `textPosition` needs to be calculated to a real postion.\n     * For example, `'inside'` is calculated to `[rect.width/2, rect.height/2]`\n     * by default. See `contain/text.js#calculateTextPosition` for more details.\n     * But some coutom shapes like \"pin\", \"flag\" have center that is not exactly\n     * `[width/2, height/2]`. So we provide this hook to customize the calculation\n     * for those shapes. It will be called if the `style.textPosition` is a string.\n     * @param {Obejct} [out] Prepared out object. If not provided, this method should\n     *        be responsible for creating one.\n     * @param {module:zrender/graphic/Style} style\n     * @param {Object} rect {x, y, width, height}\n     * @return {Obejct} out The same as the input out.\n     *         {\n     *             x: number. mandatory.\n     *             y: number. mandatory.\n     *             textAlign: string. optional. use style.textAlign by default.\n     *             textVerticalAlign: string. optional. use style.textVerticalAlign by default.\n     *         }\n     */\n    calculateTextPosition: null\n  };\n  util.inherits(Displayable, Element_1);\n  util.mixin(Displayable, RectText_1); // zrUtil.mixin(Displayable, Stateful);\n\n  var _default$n = Displayable;\n  var Displayable_1 = _default$n;\n\n  /**\n   * @alias zrender/graphic/Image\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n  function ZImage(opts) {\n    Displayable_1.call(this, opts);\n  }\n\n  ZImage.prototype = {\n    constructor: ZImage,\n    type: 'image',\n    brush: function (ctx, prevEl) {\n      var style = this.style;\n      var src = style.image; // Must bind each time\n\n      style.bind(ctx, this, prevEl);\n      var image$1 = this._image = image.createOrUpdateImage(src, this._image, this, this.onload);\n\n      if (!image$1 || !image.isImageReady(image$1)) {\n        return;\n      } // \n      // if (image.nodeName.toUpperCase() == 'IMG') {\n      //     if (!image.complete) {\n      //         return;\n      //     }\n      // }\n      // Else is canvas\n\n\n      var x = style.x || 0;\n      var y = style.y || 0;\n      var width = style.width;\n      var height = style.height;\n      var aspect = image$1.width / image$1.height;\n\n      if (width == null && height != null) {\n        // Keep image/height ratio\n        width = height * aspect;\n      } else if (height == null && width != null) {\n        height = width / aspect;\n      } else if (width == null && height == null) {\n        width = image$1.width;\n        height = image$1.height;\n      } // transform\n\n\n      this.setTransform(ctx);\n\n      if (style.sWidth && style.sHeight) {\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n        ctx.drawImage(image$1, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n      } else if (style.sx && style.sy) {\n        var sx = style.sx;\n        var sy = style.sy;\n        var sWidth = width - sx;\n        var sHeight = height - sy;\n        ctx.drawImage(image$1, sx, sy, sWidth, sHeight, x, y, width, height);\n      } else {\n        ctx.drawImage(image$1, x, y, width, height);\n      } // Draw rect text\n\n\n      if (style.text != null) {\n        // Only restore transform when needs draw text.\n        this.restoreTransform(ctx);\n        this.drawRectText(ctx, this.getBoundingRect());\n      }\n    },\n    getBoundingRect: function () {\n      var style = this.style;\n\n      if (!this._rect) {\n        this._rect = new BoundingRect_1(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n      }\n\n      return this._rect;\n    }\n  };\n  util.inherits(ZImage, Displayable_1);\n  var _default$o = ZImage;\n  var Image$1 = _default$o;\n\n  var devicePixelRatio$2 = config.devicePixelRatio;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var HOVER_LAYER_ZLEVEL = 1e5;\n  var CANVAS_ZLEVEL = 314159;\n  var EL_AFTER_INCREMENTAL_INC = 0.01;\n  var INCREMENTAL_INC = 0.001;\n\n  function parseInt10(val) {\n    return parseInt(val, 10);\n  }\n\n  function isLayerValid(layer) {\n    if (!layer) {\n      return false;\n    }\n\n    if (layer.__builtin__) {\n      return true;\n    }\n\n    if (typeof layer.resize !== 'function' || typeof layer.refresh !== 'function') {\n      return false;\n    }\n\n    return true;\n  }\n\n  var tmpRect$1 = new BoundingRect_1(0, 0, 0, 0);\n  var viewRect = new BoundingRect_1(0, 0, 0, 0);\n\n  function isDisplayableCulled(el, width, height) {\n    tmpRect$1.copy(el.getBoundingRect());\n\n    if (el.transform) {\n      tmpRect$1.applyTransform(el.transform);\n    }\n\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect$1.intersect(viewRect);\n  }\n\n  function isClipPathChanged(clipPaths, prevClipPaths) {\n    // displayable.__clipPaths can only be `null`/`undefined` or an non-empty array.\n    if (clipPaths === prevClipPaths) {\n      return false;\n    }\n\n    if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n      return true;\n    }\n\n    for (var i = 0; i < clipPaths.length; i++) {\n      if (clipPaths[i] !== prevClipPaths[i]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function doClip(clipPaths, ctx) {\n    for (var i = 0; i < clipPaths.length; i++) {\n      var clipPath = clipPaths[i];\n      clipPath.setTransform(ctx);\n      ctx.beginPath();\n      clipPath.buildPath(ctx, clipPath.shape);\n      ctx.clip(); // Transform back\n\n      clipPath.restoreTransform(ctx);\n    }\n  }\n\n  function createRoot(width, height) {\n    var domRoot = document.createElement('div'); // domRoot.onselectstart = returnFalse; // Avoid page selected\n\n    domRoot.style.cssText = ['position:relative', // IOS13 safari probably has a compositing bug (z order of the canvas and the consequent\n    // dom does not act as expected) when some of the parent dom has\n    // `-webkit-overflow-scrolling: touch;` and the webpage is longer than one screen and\n    // the canvas is not at the top part of the page.\n    // Check `https://bugs.webkit.org/show_bug.cgi?id=203681` for more details. We remove\n    // this `overflow:hidden` to avoid the bug.\n    // 'overflow:hidden',\n    'width:' + width + 'px', 'height:' + height + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';';\n    return domRoot;\n  }\n  /**\n   * @alias module:zrender/Painter\n   * @constructor\n   * @param {HTMLElement} root \n   * @param {module:zrender/Storage} storage\n   * @param {Object} opts\n   */\n\n\n  var Painter = function (root, storage, opts) {\n    this.type = 'canvas'; // In node environment using node-canvas\n\n    var singleCanvas = !root.nodeName // In node ?\n    || root.nodeName.toUpperCase() === 'CANVAS';\n    this._opts = opts = util.extend({}, opts || {});\n    /**\n     * @type {number}\n     */\n\n    this.dpr = opts.devicePixelRatio || devicePixelRatio$2;\n    /**\n     * @type {boolean}\n     * @private\n     */\n\n    this._singleCanvas = singleCanvas;\n    /**\n     * \n     * @type {HTMLElement}\n     */\n\n    this.root = root;\n    var rootStyle = root.style;\n\n    if (rootStyle) {\n      rootStyle['-webkit-tap-highlight-color'] = 'transparent';\n      rootStyle['-webkit-user-select'] = rootStyle['user-select'] = rootStyle['-webkit-touch-callout'] = 'none';\n      root.innerHTML = '';\n    }\n    /**\n     * @type {module:zrender/Storage}\n     */\n\n\n    this.storage = storage;\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n\n    var zlevelList = this._zlevelList = [];\n    /**\n     * @type {Object.<string, module:zrender/Layer>}\n     * @private\n     */\n\n    var layers = this._layers = {};\n    /**\n     * @type {Object.<string, Object>}\n     * @private\n     */\n\n    this._layerConfig = {};\n    /**\n     * zrender will do compositing when root is a canvas and have multiple zlevels.\n     */\n\n    this._needsManuallyCompositing = false;\n\n    if (!singleCanvas) {\n      this._width = this._getSize(0);\n      this._height = this._getSize(1);\n      var domRoot = this._domRoot = createRoot(this._width, this._height);\n      root.appendChild(domRoot);\n    } else {\n      var width = root.width;\n      var height = root.height;\n\n      if (opts.width != null) {\n        width = opts.width;\n      }\n\n      if (opts.height != null) {\n        height = opts.height;\n      }\n\n      this.dpr = opts.devicePixelRatio || 1; // Use canvas width and height directly\n\n      root.width = width * this.dpr;\n      root.height = height * this.dpr;\n      this._width = width;\n      this._height = height; // Create layer if only one given canvas\n      // Device can be specified to create a high dpi image.\n\n      var mainLayer = new Layer_1(root, this, this.dpr);\n      mainLayer.__builtin__ = true;\n      mainLayer.initContext(); // FIXME Use canvas width and height\n      // mainLayer.resize(width, height);\n\n      layers[CANVAS_ZLEVEL] = mainLayer;\n      mainLayer.zlevel = CANVAS_ZLEVEL; // Not use common zlevel.\n\n      zlevelList.push(CANVAS_ZLEVEL);\n      this._domRoot = root;\n    }\n    /**\n     * @type {module:zrender/Layer}\n     * @private\n     */\n\n\n    this._hoverlayer = null;\n    this._hoverElements = [];\n  };\n\n  Painter.prototype = {\n    constructor: Painter,\n    getType: function () {\n      return 'canvas';\n    },\n\n    /**\n     * If painter use a single canvas\n     * @return {boolean}\n     */\n    isSingleCanvas: function () {\n      return this._singleCanvas;\n    },\n\n    /**\n     * @return {HTMLDivElement}\n     */\n    getViewportRoot: function () {\n      return this._domRoot;\n    },\n    getViewportRootOffset: function () {\n      var viewportRoot = this.getViewportRoot();\n\n      if (viewportRoot) {\n        return {\n          offsetLeft: viewportRoot.offsetLeft || 0,\n          offsetTop: viewportRoot.offsetTop || 0\n        };\n      }\n    },\n\n    /**\n     * \n     * @param {boolean} [paintAll=false] displayable\n     */\n    refresh: function (paintAll) {\n      var list = this.storage.getDisplayList(true);\n      var zlevelList = this._zlevelList;\n      this._redrawId = Math.random();\n\n      this._paintList(list, paintAll, this._redrawId); // Paint custum layers\n\n\n      for (var i = 0; i < zlevelList.length; i++) {\n        var z = zlevelList[i];\n        var layer = this._layers[z];\n\n        if (!layer.__builtin__ && layer.refresh) {\n          var clearColor = i === 0 ? this._backgroundColor : null;\n          layer.refresh(clearColor);\n        }\n      }\n\n      this.refreshHover();\n      return this;\n    },\n    addHover: function (el, hoverStyle) {\n      if (el.__hoverMir) {\n        return;\n      }\n\n      var elMirror = new el.constructor({\n        style: el.style,\n        shape: el.shape,\n        z: el.z,\n        z2: el.z2,\n        silent: el.silent\n      });\n      elMirror.__from = el;\n      el.__hoverMir = elMirror;\n      hoverStyle && elMirror.setStyle(hoverStyle);\n\n      this._hoverElements.push(elMirror);\n\n      return elMirror;\n    },\n    removeHover: function (el) {\n      var elMirror = el.__hoverMir;\n      var hoverElements = this._hoverElements;\n      var idx = util.indexOf(hoverElements, elMirror);\n\n      if (idx >= 0) {\n        hoverElements.splice(idx, 1);\n      }\n\n      el.__hoverMir = null;\n    },\n    clearHover: function (el) {\n      var hoverElements = this._hoverElements;\n\n      for (var i = 0; i < hoverElements.length; i++) {\n        var from = hoverElements[i].__from;\n\n        if (from) {\n          from.__hoverMir = null;\n        }\n      }\n\n      hoverElements.length = 0;\n    },\n    refreshHover: function () {\n      var hoverElements = this._hoverElements;\n      var len = hoverElements.length;\n      var hoverLayer = this._hoverlayer;\n      hoverLayer && hoverLayer.clear();\n\n      if (!len) {\n        return;\n      }\n\n      timsort(hoverElements, this.storage.displayableSortFunc); // Use a extream large zlevel\n      // FIXME?\n\n      if (!hoverLayer) {\n        hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n      }\n\n      var scope = {};\n      hoverLayer.ctx.save();\n\n      for (var i = 0; i < len;) {\n        var el = hoverElements[i];\n        var originalEl = el.__from; // Original el is removed\n        // PENDING\n\n        if (!(originalEl && originalEl.__zr)) {\n          hoverElements.splice(i, 1);\n          originalEl.__hoverMir = null;\n          len--;\n          continue;\n        }\n\n        i++; // Use transform\n        // FIXME style and shape ?\n\n        if (!originalEl.invisible) {\n          el.transform = originalEl.transform;\n          el.invTransform = originalEl.invTransform;\n          el.__clipPaths = originalEl.__clipPaths; // el.\n\n          this._doPaintEl(el, hoverLayer, true, scope);\n        }\n      }\n\n      hoverLayer.ctx.restore();\n    },\n    getHoverLayer: function () {\n      return this.getLayer(HOVER_LAYER_ZLEVEL);\n    },\n    _paintList: function (list, paintAll, redrawId) {\n      if (this._redrawId !== redrawId) {\n        return;\n      }\n\n      paintAll = paintAll || false;\n\n      this._updateLayerStatus(list);\n\n      var finished = this._doPaintList(list, paintAll);\n\n      if (this._needsManuallyCompositing) {\n        this._compositeManually();\n      }\n\n      if (!finished) {\n        var self = this;\n        requestAnimationFrame(function () {\n          self._paintList(list, paintAll, redrawId);\n        });\n      }\n    },\n    _compositeManually: function () {\n      var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n      var width = this._domRoot.width;\n      var height = this._domRoot.height;\n      ctx.clearRect(0, 0, width, height); // PENDING, If only builtin layer?\n\n      this.eachBuiltinLayer(function (layer) {\n        if (layer.virtual) {\n          ctx.drawImage(layer.dom, 0, 0, width, height);\n        }\n      });\n    },\n    _doPaintList: function (list, paintAll) {\n      var layerList = [];\n\n      for (var zi = 0; zi < this._zlevelList.length; zi++) {\n        var zlevel = this._zlevelList[zi];\n        var layer = this._layers[zlevel];\n\n        if (layer.__builtin__ && layer !== this._hoverlayer && (layer.__dirty || paintAll)) {\n          layerList.push(layer);\n        }\n      }\n\n      var finished = true;\n\n      for (var k = 0; k < layerList.length; k++) {\n        var layer = layerList[k];\n        var ctx = layer.ctx;\n        var scope = {};\n        ctx.save();\n        var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n        var useTimer = !paintAll && layer.incremental && Date.now;\n        var startTime = useTimer && Date.now();\n        var clearColor = layer.zlevel === this._zlevelList[0] ? this._backgroundColor : null; // All elements in this layer are cleared.\n\n        if (layer.__startIndex === layer.__endIndex) {\n          layer.clear(false, clearColor);\n        } else if (start === layer.__startIndex) {\n          var firstEl = list[start];\n\n          if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n            layer.clear(false, clearColor);\n          }\n        }\n\n        if (start === -1) {\n          console.error('For some unknown reason. drawIndex is -1');\n          start = layer.__startIndex;\n        }\n\n        for (var i = start; i < layer.__endIndex; i++) {\n          var el = list[i];\n\n          this._doPaintEl(el, layer, paintAll, scope);\n\n          el.__dirty = el.__dirtyText = false;\n\n          if (useTimer) {\n            // Date.now can be executed in 13,025,305 ops/second.\n            var dTime = Date.now() - startTime; // Give 15 millisecond to draw.\n            // The rest elements will be drawn in the next frame.\n\n            if (dTime > 15) {\n              break;\n            }\n          }\n        }\n\n        layer.__drawIndex = i;\n\n        if (layer.__drawIndex < layer.__endIndex) {\n          finished = false;\n        }\n\n        if (scope.prevElClipPaths) {\n          // Needs restore the state. If last drawn element is in the clipping area.\n          ctx.restore();\n        }\n\n        ctx.restore();\n      }\n\n      if (env_1.wxa) {\n        // Flush for weixin application\n        util.each(this._layers, function (layer) {\n          if (layer && layer.ctx && layer.ctx.draw) {\n            layer.ctx.draw();\n          }\n        });\n      }\n\n      return finished;\n    },\n    _doPaintEl: function (el, currentLayer, forcePaint, scope) {\n      var ctx = currentLayer.ctx;\n      var m = el.transform;\n\n      if ((currentLayer.__dirty || forcePaint) && // Ignore invisible element\n      !el.invisible // Ignore transparent element\n      && el.style.opacity !== 0 // Ignore scale 0 element, in some environment like node-canvas\n      // Draw a scale 0 element can cause all following draw wrong\n      // And setTransform with scale 0 will cause set back transform failed.\n      && !(m && !m[0] && !m[3]) // Ignore culled element\n      && !(el.culling && isDisplayableCulled(el, this._width, this._height))) {\n        var clipPaths = el.__clipPaths;\n        var prevElClipPaths = scope.prevElClipPaths; // Optimize when clipping on group with several elements\n\n        if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n          // If has previous clipping state, restore from it\n          if (prevElClipPaths) {\n            ctx.restore();\n            scope.prevElClipPaths = null; // Reset prevEl since context has been restored\n\n            scope.prevEl = null;\n          } // New clipping state\n\n\n          if (clipPaths) {\n            ctx.save();\n            doClip(clipPaths, ctx);\n            scope.prevElClipPaths = clipPaths;\n          }\n        }\n\n        el.beforeBrush && el.beforeBrush(ctx);\n        el.brush(ctx, scope.prevEl || null);\n        scope.prevEl = el;\n        el.afterBrush && el.afterBrush(ctx);\n      }\n    },\n\n    /**\n     *  zlevel \n     * @param {number} zlevel\n     * @param {boolean} virtual Virtual layer will not be inserted into dom.\n     * @return {module:zrender/Layer}\n     */\n    getLayer: function (zlevel, virtual) {\n      if (this._singleCanvas && !this._needsManuallyCompositing) {\n        zlevel = CANVAS_ZLEVEL;\n      }\n\n      var layer = this._layers[zlevel];\n\n      if (!layer) {\n        // Create a new layer\n        layer = new Layer_1('zr_' + zlevel, this, this.dpr);\n        layer.zlevel = zlevel;\n        layer.__builtin__ = true;\n\n        if (this._layerConfig[zlevel]) {\n          util.merge(layer, this._layerConfig[zlevel], true);\n        } // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n        else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {\n            util.merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);\n          }\n\n        if (virtual) {\n          layer.virtual = virtual;\n        }\n\n        this.insertLayer(zlevel, layer); // Context is created after dom inserted to document\n        // Or excanvas will get 0px clientWidth and clientHeight\n\n        layer.initContext();\n      }\n\n      return layer;\n    },\n    insertLayer: function (zlevel, layer) {\n      var layersMap = this._layers;\n      var zlevelList = this._zlevelList;\n      var len = zlevelList.length;\n      var prevLayer = null;\n      var i = -1;\n      var domRoot = this._domRoot;\n\n      if (layersMap[zlevel]) {\n        return;\n      } // Check if is a valid layer\n\n\n      if (!isLayerValid(layer)) {\n        return;\n      }\n\n      if (len > 0 && zlevel > zlevelList[0]) {\n        for (i = 0; i < len - 1; i++) {\n          if (zlevelList[i] < zlevel && zlevelList[i + 1] > zlevel) {\n            break;\n          }\n        }\n\n        prevLayer = layersMap[zlevelList[i]];\n      }\n\n      zlevelList.splice(i + 1, 0, zlevel);\n      layersMap[zlevel] = layer; // Vitual layer will not directly show on the screen.\n      // (It can be a WebGL layer and assigned to a ZImage element)\n      // But it still under management of zrender.\n\n      if (!layer.virtual) {\n        if (prevLayer) {\n          var prevDom = prevLayer.dom;\n\n          if (prevDom.nextSibling) {\n            domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n          } else {\n            domRoot.appendChild(layer.dom);\n          }\n        } else {\n          if (domRoot.firstChild) {\n            domRoot.insertBefore(layer.dom, domRoot.firstChild);\n          } else {\n            domRoot.appendChild(layer.dom);\n          }\n        }\n      }\n    },\n    // Iterate each layer\n    eachLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        cb.call(context, this._layers[z], z);\n      }\n    },\n    // Iterate each buildin layer\n    eachBuiltinLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var layer;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        layer = this._layers[z];\n\n        if (layer.__builtin__) {\n          cb.call(context, layer, z);\n        }\n      }\n    },\n    // Iterate each other layer except buildin layer\n    eachOtherLayer: function (cb, context) {\n      var zlevelList = this._zlevelList;\n      var layer;\n      var z;\n      var i;\n\n      for (i = 0; i < zlevelList.length; i++) {\n        z = zlevelList[i];\n        layer = this._layers[z];\n\n        if (!layer.__builtin__) {\n          cb.call(context, layer, z);\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {Array.<module:zrender/Layer>} [prevLayer]\n     */\n    getLayers: function () {\n      return this._layers;\n    },\n    _updateLayerStatus: function (list) {\n      this.eachBuiltinLayer(function (layer, z) {\n        layer.__dirty = layer.__used = false;\n      });\n\n      function updatePrevLayer(idx) {\n        if (prevLayer) {\n          if (prevLayer.__endIndex !== idx) {\n            prevLayer.__dirty = true;\n          }\n\n          prevLayer.__endIndex = idx;\n        }\n      }\n\n      if (this._singleCanvas) {\n        for (var i = 1; i < list.length; i++) {\n          var el = list[i];\n\n          if (el.zlevel !== list[i - 1].zlevel || el.incremental) {\n            this._needsManuallyCompositing = true;\n            break;\n          }\n        }\n      }\n\n      var prevLayer = null;\n      var incrementalLayerCount = 0;\n      var prevZlevel;\n\n      for (var i = 0; i < list.length; i++) {\n        var el = list[i];\n        var zlevel = el.zlevel;\n        var layer;\n\n        if (prevZlevel !== zlevel) {\n          prevZlevel = zlevel;\n          incrementalLayerCount = 0;\n        } // TODO Not use magic number on zlevel.\n        // Each layer with increment element can be separated to 3 layers.\n        //          (Other Element drawn after incremental element)\n        // -----------------zlevel + EL_AFTER_INCREMENTAL_INC--------------------\n        //                      (Incremental element)\n        // ----------------------zlevel + INCREMENTAL_INC------------------------\n        //              (Element drawn before incremental element)\n        // --------------------------------zlevel--------------------------------\n\n\n        if (el.incremental) {\n          layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n          layer.incremental = true;\n          incrementalLayerCount = 1;\n        } else {\n          layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n        }\n\n        if (!layer.__builtin__) {\n          log('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n        }\n\n        if (layer !== prevLayer) {\n          layer.__used = true;\n\n          if (layer.__startIndex !== i) {\n            layer.__dirty = true;\n          }\n\n          layer.__startIndex = i;\n\n          if (!layer.incremental) {\n            layer.__drawIndex = i;\n          } else {\n            // Mark layer draw index needs to update.\n            layer.__drawIndex = -1;\n          }\n\n          updatePrevLayer(i);\n          prevLayer = layer;\n        }\n\n        if (el.__dirty) {\n          layer.__dirty = true;\n\n          if (layer.incremental && layer.__drawIndex < 0) {\n            // Start draw from the first dirty element.\n            layer.__drawIndex = i;\n          }\n        }\n      }\n\n      updatePrevLayer(i);\n      this.eachBuiltinLayer(function (layer, z) {\n        // Used in last frame but not in this frame. Needs clear\n        if (!layer.__used && layer.getElementCount() > 0) {\n          layer.__dirty = true;\n          layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n        } // For incremental layer. In case start index changed and no elements are dirty.\n\n\n        if (layer.__dirty && layer.__drawIndex < 0) {\n          layer.__drawIndex = layer.__startIndex;\n        }\n      });\n    },\n\n    /**\n     * hover\n     */\n    clear: function () {\n      this.eachBuiltinLayer(this._clearLayer);\n      return this;\n    },\n    _clearLayer: function (layer) {\n      layer.clear();\n    },\n    setBackgroundColor: function (backgroundColor) {\n      this._backgroundColor = backgroundColor;\n    },\n\n    /**\n     * zlevel\n     *\n     * @param {string} zlevel\n     * @param {Object} config \n     * @param {string} [config.clearColor=0] \n     * @param {string} [config.motionBlur=false] \n     * @param {number} [config.lastFrameAlpha=0.7]\n     *                 alpha\n     */\n    configLayer: function (zlevel, config) {\n      if (config) {\n        var layerConfig = this._layerConfig;\n\n        if (!layerConfig[zlevel]) {\n          layerConfig[zlevel] = config;\n        } else {\n          util.merge(layerConfig[zlevel], config, true);\n        }\n\n        for (var i = 0; i < this._zlevelList.length; i++) {\n          var _zlevel = this._zlevelList[i]; // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n\n          if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n            var layer = this._layers[_zlevel];\n            util.merge(layer, layerConfig[zlevel], true);\n          }\n        }\n      }\n    },\n\n    /**\n     * \n     * @param {number} zlevel zlevel\n     */\n    delLayer: function (zlevel) {\n      var layers = this._layers;\n      var zlevelList = this._zlevelList;\n      var layer = layers[zlevel];\n\n      if (!layer) {\n        return;\n      }\n\n      layer.dom.parentNode.removeChild(layer.dom);\n      delete layers[zlevel];\n      zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n    },\n\n    /**\n     * \n     */\n    resize: function (width, height) {\n      if (!this._domRoot.style) {\n        // Maybe in node or worker\n        if (width == null || height == null) {\n          return;\n        }\n\n        this._width = width;\n        this._height = height;\n        this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n      } else {\n        var domRoot = this._domRoot; // FIXME Why ?\n\n        domRoot.style.display = 'none'; // Save input w/h\n\n        var opts = this._opts;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n        width = this._getSize(0);\n        height = this._getSize(1);\n        domRoot.style.display = ''; // resize\n\n        if (this._width !== width || height !== this._height) {\n          domRoot.style.width = width + 'px';\n          domRoot.style.height = height + 'px';\n\n          for (var id in this._layers) {\n            if (this._layers.hasOwnProperty(id)) {\n              this._layers[id].resize(width, height);\n            }\n          }\n\n          util.each(this._progressiveLayers, function (layer) {\n            layer.resize(width, height);\n          });\n          this.refresh(true);\n        }\n\n        this._width = width;\n        this._height = height;\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * @param {number} zlevel\n     */\n    clearLayer: function (zlevel) {\n      var layer = this._layers[zlevel];\n\n      if (layer) {\n        layer.clear();\n      }\n    },\n\n    /**\n     * \n     */\n    dispose: function () {\n      this.root.innerHTML = '';\n      this.root = this.storage = this._domRoot = this._layers = null;\n    },\n\n    /**\n     * Get canvas which has all thing rendered\n     * @param {Object} opts\n     * @param {string} [opts.backgroundColor]\n     * @param {number} [opts.pixelRatio]\n     */\n    getRenderedCanvas: function (opts) {\n      opts = opts || {};\n\n      if (this._singleCanvas && !this._compositeManually) {\n        return this._layers[CANVAS_ZLEVEL].dom;\n      }\n\n      var imageLayer = new Layer_1('image', this, opts.pixelRatio || this.dpr);\n      imageLayer.initContext();\n      imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n\n      if (opts.pixelRatio <= this.dpr) {\n        this.refresh();\n        var width = imageLayer.dom.width;\n        var height = imageLayer.dom.height;\n        var ctx = imageLayer.ctx;\n        this.eachLayer(function (layer) {\n          if (layer.__builtin__) {\n            ctx.drawImage(layer.dom, 0, 0, width, height);\n          } else if (layer.renderToCanvas) {\n            imageLayer.ctx.save();\n            layer.renderToCanvas(imageLayer.ctx);\n            imageLayer.ctx.restore();\n          }\n        });\n      } else {\n        // PENDING, echarts-gl and incremental rendering.\n        var scope = {};\n        var displayList = this.storage.getDisplayList(true);\n\n        for (var i = 0; i < displayList.length; i++) {\n          var el = displayList[i];\n\n          this._doPaintEl(el, imageLayer, true, scope);\n        }\n      }\n\n      return imageLayer.dom;\n    },\n\n    /**\n     * \n     */\n    getWidth: function () {\n      return this._width;\n    },\n\n    /**\n     * \n     */\n    getHeight: function () {\n      return this._height;\n    },\n    _getSize: function (whIdx) {\n      var opts = this._opts;\n      var wh = ['width', 'height'][whIdx];\n      var cwh = ['clientWidth', 'clientHeight'][whIdx];\n      var plt = ['paddingLeft', 'paddingTop'][whIdx];\n      var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n      if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n      }\n\n      var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n      var stl = document.defaultView.getComputedStyle(root);\n      return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n    },\n    pathToImage: function (path, dpr) {\n      dpr = dpr || this.dpr;\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      var rect = path.getBoundingRect();\n      var style = path.style;\n      var shadowBlurSize = style.shadowBlur * dpr;\n      var shadowOffsetX = style.shadowOffsetX * dpr;\n      var shadowOffsetY = style.shadowOffsetY * dpr;\n      var lineWidth = style.hasStroke() ? style.lineWidth : 0;\n      var leftMargin = Math.max(lineWidth / 2, -shadowOffsetX + shadowBlurSize);\n      var rightMargin = Math.max(lineWidth / 2, shadowOffsetX + shadowBlurSize);\n      var topMargin = Math.max(lineWidth / 2, -shadowOffsetY + shadowBlurSize);\n      var bottomMargin = Math.max(lineWidth / 2, shadowOffsetY + shadowBlurSize);\n      var width = rect.width + leftMargin + rightMargin;\n      var height = rect.height + topMargin + bottomMargin;\n      canvas.width = width * dpr;\n      canvas.height = height * dpr;\n      ctx.scale(dpr, dpr);\n      ctx.clearRect(0, 0, width, height);\n      ctx.dpr = dpr;\n      var pathTransform = {\n        position: path.position,\n        rotation: path.rotation,\n        scale: path.scale\n      };\n      path.position = [leftMargin - rect.x, topMargin - rect.y];\n      path.rotation = 0;\n      path.scale = [1, 1];\n      path.updateTransform();\n\n      if (path) {\n        path.brush(ctx);\n      }\n\n      var ImageShape = Image$1;\n      var imgShape = new ImageShape({\n        style: {\n          x: 0,\n          y: 0,\n          image: canvas\n        }\n      });\n\n      if (pathTransform.position != null) {\n        imgShape.position = path.position = pathTransform.position;\n      }\n\n      if (pathTransform.rotation != null) {\n        imgShape.rotation = path.rotation = pathTransform.rotation;\n      }\n\n      if (pathTransform.scale != null) {\n        imgShape.scale = path.scale = pathTransform.scale;\n      }\n\n      return imgShape;\n    }\n  };\n  var _default$p = Painter;\n  var Painter_1 = _default$p;\n\n  var Dispatcher$1 = event.Dispatcher;\n\n\n\n\n\n  /**\n   * Animation main class, dispatch and manage all animation controllers\n   *\n   * @module zrender/animation/Animation\n   * @author pissang(https://github.com/pissang)\n   */\n  // TODO Additive animation\n  // http://iosoteric.com/additive-animations-animatewithduration-in-ios-8/\n  // https://developer.apple.com/videos/wwdc2014/#236\n\n  /**\n   * @typedef {Object} IZRenderStage\n   * @property {Function} update\n   */\n\n  /**\n   * @alias module:zrender/animation/Animation\n   * @constructor\n   * @param {Object} [options]\n   * @param {Function} [options.onframe]\n   * @param {IZRenderStage} [options.stage]\n   * @example\n   *     var animation = new Animation();\n   *     var obj = {\n   *         x: 100,\n   *         y: 100\n   *     };\n   *     animation.animate(node.position)\n   *         .when(1000, {\n   *             x: 500,\n   *             y: 500\n   *         })\n   *         .when(2000, {\n   *             x: 100,\n   *             y: 100\n   *         })\n   *         .start('spline');\n   */\n  var Animation = function (options) {\n    options = options || {};\n    this.stage = options.stage || {};\n\n    this.onframe = options.onframe || function () {}; // private properties\n\n\n    this._clips = [];\n    this._running = false;\n    this._time;\n    this._pausedTime;\n    this._pauseStart;\n    this._paused = false;\n    Dispatcher$1.call(this);\n  };\n\n  Animation.prototype = {\n    constructor: Animation,\n\n    /**\n     * Add clip\n     * @param {module:zrender/animation/Clip} clip\n     */\n    addClip: function (clip) {\n      this._clips.push(clip);\n    },\n\n    /**\n     * Add animator\n     * @param {module:zrender/animation/Animator} animator\n     */\n    addAnimator: function (animator) {\n      animator.animation = this;\n      var clips = animator.getClips();\n\n      for (var i = 0; i < clips.length; i++) {\n        this.addClip(clips[i]);\n      }\n    },\n\n    /**\n     * Delete animation clip\n     * @param {module:zrender/animation/Clip} clip\n     */\n    removeClip: function (clip) {\n      var idx = util.indexOf(this._clips, clip);\n\n      if (idx >= 0) {\n        this._clips.splice(idx, 1);\n      }\n    },\n\n    /**\n     * Delete animation clip\n     * @param {module:zrender/animation/Animator} animator\n     */\n    removeAnimator: function (animator) {\n      var clips = animator.getClips();\n\n      for (var i = 0; i < clips.length; i++) {\n        this.removeClip(clips[i]);\n      }\n\n      animator.animation = null;\n    },\n    _update: function () {\n      var time = new Date().getTime() - this._pausedTime;\n\n      var delta = time - this._time;\n      var clips = this._clips;\n      var len = clips.length;\n      var deferredEvents = [];\n      var deferredClips = [];\n\n      for (var i = 0; i < len; i++) {\n        var clip = clips[i];\n        var e = clip.step(time, delta); // Throw out the events need to be called after\n        // stage.update, like destroy\n\n        if (e) {\n          deferredEvents.push(e);\n          deferredClips.push(clip);\n        }\n      } // Remove the finished clip\n\n\n      for (var i = 0; i < len;) {\n        if (clips[i]._needsRemove) {\n          clips[i] = clips[len - 1];\n          clips.pop();\n          len--;\n        } else {\n          i++;\n        }\n      }\n\n      len = deferredEvents.length;\n\n      for (var i = 0; i < len; i++) {\n        deferredClips[i].fire(deferredEvents[i]);\n      }\n\n      this._time = time;\n      this.onframe(delta); // 'frame' should be triggered before stage, because upper application\n      // depends on the sequence (e.g., echarts-stream and finish\n      // event judge)\n\n      this.trigger('frame', delta);\n\n      if (this.stage.update) {\n        this.stage.update();\n      }\n    },\n    _startLoop: function () {\n      var self = this;\n      this._running = true;\n\n      function step() {\n        if (self._running) {\n          requestAnimationFrame(step);\n          !self._paused && self._update();\n        }\n      }\n\n      requestAnimationFrame(step);\n    },\n\n    /**\n     * Start animation.\n     */\n    start: function () {\n      this._time = new Date().getTime();\n      this._pausedTime = 0;\n\n      this._startLoop();\n    },\n\n    /**\n     * Stop animation.\n     */\n    stop: function () {\n      this._running = false;\n    },\n\n    /**\n     * Pause animation.\n     */\n    pause: function () {\n      if (!this._paused) {\n        this._pauseStart = new Date().getTime();\n        this._paused = true;\n      }\n    },\n\n    /**\n     * Resume animation.\n     */\n    resume: function () {\n      if (this._paused) {\n        this._pausedTime += new Date().getTime() - this._pauseStart;\n        this._paused = false;\n      }\n    },\n\n    /**\n     * Clear animation.\n     */\n    clear: function () {\n      this._clips = [];\n    },\n\n    /**\n     * Whether animation finished.\n     */\n    isFinished: function () {\n      return !this._clips.length;\n    },\n\n    /**\n     * Creat animator for a target, whose props can be animated.\n     *\n     * @param  {Object} target\n     * @param  {Object} options\n     * @param  {boolean} [options.loop=false] Whether loop animation.\n     * @param  {Function} [options.getter=null] Get value from target.\n     * @param  {Function} [options.setter=null] Set value to target.\n     * @return {module:zrender/animation/Animation~Animator}\n     */\n    // TODO Gap\n    animate: function (target, options) {\n      options = options || {};\n      var animator = new Animator_1(target, options.loop, options.getter, options.setter);\n      this.addAnimator(animator);\n      return animator;\n    }\n  };\n  util.mixin(Animation, Dispatcher$1);\n  var _default$q = Animation;\n  var Animation_1 = _default$q;\n\n  var addEventListener$1 = event.addEventListener;\n  var removeEventListener$1 = event.removeEventListener;\n  var normalizeEvent$1 = event.normalizeEvent;\n  var getNativeEvent$1 = event.getNativeEvent;\n\n\n\n\n\n\n\n  /* global document */\n  var TOUCH_CLICK_DELAY = 300;\n  var globalEventSupported = env_1.domSupported;\n\n  var localNativeListenerNames = function () {\n    var mouseHandlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n    var touchHandlerNames = ['touchstart', 'touchend', 'touchmove'];\n    var pointerEventNameMap = {\n      pointerdown: 1,\n      pointerup: 1,\n      pointermove: 1,\n      pointerout: 1\n    };\n    var pointerHandlerNames = util.map(mouseHandlerNames, function (name) {\n      var nm = name.replace('mouse', 'pointer');\n      return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n      mouse: mouseHandlerNames,\n      touch: touchHandlerNames,\n      pointer: pointerHandlerNames\n    };\n  }();\n\n  var globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n  };\n\n  function eventNameFix(name) {\n    return name === 'mousewheel' && env_1.browser.firefox ? 'DOMMouseScroll' : name;\n  }\n\n  function isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n  } // function useMSGuesture(handlerProxy, event) {\n  //     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n  // }\n  // function onMSGestureChange(proxy, event) {\n  //     if (event.translationX || event.translationY) {\n  //         // mousemove is carried by MSGesture to reduce the sensitivity.\n  //         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n  //     }\n  //     if (event.scale !== 1) {\n  //         event.pinchX = event.offsetX;\n  //         event.pinchY = event.offsetY;\n  //         event.pinchScale = event.scale;\n  //         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n  //     }\n  // }\n\n  /**\n   * Prevent mouse event from being dispatched after Touch Events action\n   * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n   * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n   * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n   * Result: Blocking Mouse Events for 700ms.\n   *\n   * @param {DOMHandlerScope} scope\n   */\n\n\n  function setTouchTimer(scope) {\n    scope.touching = true;\n\n    if (scope.touchTimer != null) {\n      clearTimeout(scope.touchTimer);\n      scope.touchTimer = null;\n    }\n\n    scope.touchTimer = setTimeout(function () {\n      scope.touching = false;\n      scope.touchTimer = null;\n    }, 700);\n  } // Mark touch, which is useful in distinguish touch and\n  // mouse event in upper applicatoin.\n\n\n  function markTouch(event) {\n    event && (event.zrByTouch = true);\n  } // function markTriggeredFromLocal(event) {\n  //     event && (event.__zrIsFromLocal = true);\n  // }\n  // function isTriggeredFromLocal(instance, event) {\n  //     return !!(event && event.__zrIsFromLocal);\n  // }\n\n\n  function normalizeGlobalEvent(instance, event) {\n    // offsetX, offsetY still need to be calculated. They are necessary in the event\n    // handlers of the upper applications. Set `true` to force calculate them.\n    return normalizeEvent$1(instance.dom, new FakeGlobalEvent(instance, event), true);\n  }\n  /**\n   * Detect whether the given el is in `painterRoot`.\n   */\n\n\n  function isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n\n    while (elTmp && elTmp.nodeType !== 9 && !(isLocal = elTmp.domBelongToZr || elTmp !== el && elTmp === instance.painterRoot)) {\n      elTmp = elTmp.parentNode;\n    }\n\n    return isLocal;\n  }\n  /**\n   * Make a fake event but not change the original event,\n   * becuase the global event probably be used by other\n   * listeners not belonging to zrender.\n   * @class\n   */\n\n\n  function FakeGlobalEvent(instance, event) {\n    this.type = event.type;\n    this.target = this.currentTarget = instance.dom;\n    this.pointerType = event.pointerType; // Necessray for the force calculation of zrX, zrY\n\n    this.clientX = event.clientX;\n    this.clientY = event.clientY; // Because we do not mount global listeners to touch events,\n    // we do not copy `targetTouches` and `changedTouches` here.\n  }\n\n  var fakeGlobalEventProto = FakeGlobalEvent.prototype; // we make the default methods on the event do nothing,\n  // otherwise it is dangerous. See more details in\n  // [Drag outside] in `Handler.js`.\n\n  fakeGlobalEventProto.stopPropagation = fakeGlobalEventProto.stopImmediatePropagation = fakeGlobalEventProto.preventDefault = util.noop;\n  /**\n   * Local DOM Handlers\n   * @this {HandlerProxy}\n   */\n\n  var localDOMHandlers = {\n    mousedown: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      this._mayPointerCapture = [event.zrX, event.zrY];\n      this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      var downPoint = this._mayPointerCapture;\n\n      if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n        togglePointerCapture(this, true);\n      }\n\n      this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      togglePointerCapture(this, false);\n      this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n      event = normalizeEvent$1(this.dom, event); // Similarly to the browser did on `document` and touch event,\n      // `globalout` will be delayed to final pointer cature release.\n\n      if (this._pointerCapturing) {\n        event.zrEventControl = 'no_globalout';\n      } // There might be some doms created by upper layer application\n      // at the same level of painter.getViewportRoot() (e.g., tooltip\n      // dom created by echarts), where 'globalout' event should not\n      // be triggered when mouse enters these doms. (But 'mouseout'\n      // should be triggered at the original hovered element as usual).\n\n\n      var element = event.toElement || event.relatedTarget;\n      event.zrIsToLocalDOM = isLocalEl(this, element);\n      this.trigger('mouseout', event);\n    },\n    touchstart: function (event) {\n      // Default mouse behaviour should not be disabled here.\n      // For example, page may needs to be slided.\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this._lastTouchMoment = new Date();\n      this.handler.processGesture(event, 'start'); // For consistent event listener for both touch device and mouse device,\n      // we simulate \"mouseover-->mousedown\" in touch device. So we trigger\n      // `mousemove` here (to trigger `mouseover` inside), and then trigger\n      // `mousedown`.\n\n      localDOMHandlers.mousemove.call(this, event);\n      localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this.handler.processGesture(event, 'change'); // Mouse move should always be triggered no matter whether\n      // there is gestrue event, because mouse move and pinch may\n      // be used at the same time.\n\n      localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      markTouch(event);\n      this.handler.processGesture(event, 'end');\n      localDOMHandlers.mouseup.call(this, event); // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n      // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n      // we can conveniently implement \"hover style\" in both PC and touch device just\n      // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n      // to remove \"hover style\" on an element, without any additional code for\n      // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n      // style\" will remain for user view)\n      // click event should always be triggered no matter whether\n      // there is gestrue event. System click can not be prevented.\n\n      if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n        localDOMHandlers.click.call(this, event);\n      }\n    },\n    pointerdown: function (event) {\n      localDOMHandlers.mousedown.call(this, event); // if (useMSGuesture(this, event)) {\n      //     this._msGesture.addPointer(event.pointerId);\n      // }\n    },\n    pointermove: function (event) {\n      // FIXME\n      // pointermove is so sensitive that it always triggered when\n      // tap(click) on touch screen, which affect some judgement in\n      // upper application. So, we dont support mousemove on MS touch\n      // device yet.\n      if (!isPointerFromTouch(event)) {\n        localDOMHandlers.mousemove.call(this, event);\n      }\n    },\n    pointerup: function (event) {\n      localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n      // pointerout will be triggered when tap on touch screen\n      // (IE11+/Edge on MS Surface) after click event triggered,\n      // which is inconsistent with the mousout behavior we defined\n      // in touchend. So we unify them.\n      // (check localDOMHandlers.touchend for detailed explanation)\n      if (!isPointerFromTouch(event)) {\n        localDOMHandlers.mouseout.call(this, event);\n      }\n    }\n  };\n  /**\n   * Othere DOM UI Event handlers for zr dom.\n   * @this {HandlerProxy}\n   */\n\n  util.each(['click', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n      event = normalizeEvent$1(this.dom, event);\n      this.trigger(name, event);\n    };\n  });\n  /**\n   * DOM UI Event handlers for global page.\n   *\n   * [Caution]:\n   * those handlers should both support in capture phase and bubble phase!\n   *\n   * @this {HandlerProxy}\n   */\n\n  var globalDOMHandlers = {\n    pointermove: function (event) {\n      // FIXME\n      // pointermove is so sensitive that it always triggered when\n      // tap(click) on touch screen, which affect some judgement in\n      // upper application. So, we dont support mousemove on MS touch\n      // device yet.\n      if (!isPointerFromTouch(event)) {\n        globalDOMHandlers.mousemove.call(this, event);\n      }\n    },\n    pointerup: function (event) {\n      globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n      this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n      var pointerCaptureReleasing = this._pointerCapturing;\n      togglePointerCapture(this, false);\n      this.trigger('mouseup', event);\n\n      if (pointerCaptureReleasing) {\n        event.zrEventControl = 'only_globalout';\n        this.trigger('mouseout', event);\n      }\n    }\n  };\n  /**\n   * @param {HandlerProxy} instance\n   * @param {DOMHandlerScope} scope\n   */\n\n  function mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n\n    if (env_1.pointerEventsSupported) {\n      // Only IE11+/Edge\n      // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n      // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n      // at the same time.\n      // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n      // screen, which do not occurs in pointer event.\n      // So we use pointer event to both detect touch gesture and mouse behavior.\n      util.each(localNativeListenerNames.pointer, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          // markTriggeredFromLocal(event);\n          domHandlers[nativeEventName].call(instance, event);\n        });\n      }); // FIXME\n      // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n      // which does not prevent defuault behavior occasionally (which may cause view port\n      // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n      // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n      // touch screen. And we only support click behavior on MS touch screen now.\n      // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n      // We dont support touch on IE on win7.\n      // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n      // if (typeof MSGesture === 'function') {\n      //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n      //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n      // }\n    } else {\n      if (env_1.touchEventsSupported) {\n        util.each(localNativeListenerNames.touch, function (nativeEventName) {\n          mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n            // markTriggeredFromLocal(event);\n            domHandlers[nativeEventName].call(instance, event);\n            setTouchTimer(scope);\n          });\n        }); // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n        // addEventListener(root, 'mouseout', this._mouseoutHandler);\n      } // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n      // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n      // mouse event can not be handle in those devices.\n      // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n      // mouseevent after touch event triggered, see `setTouchTimer`.\n\n\n      util.each(localNativeListenerNames.mouse, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          event = getNativeEvent$1(event);\n\n          if (!scope.touching) {\n            // markTriggeredFromLocal(event);\n            domHandlers[nativeEventName].call(instance, event);\n          }\n        });\n      });\n    }\n  }\n  /**\n   * @param {HandlerProxy} instance\n   * @param {DOMHandlerScope} scope\n   */\n\n\n  function mountGlobalDOMEventListeners(instance, scope) {\n    // Only IE11+/Edge. See the comment in `mountLocalDOMEventListeners`.\n    if (env_1.pointerEventsSupported) {\n      util.each(globalNativeListenerNames.pointer, mount);\n    } // Touch event has implemented \"drag outside\" so we do not mount global listener for touch event.\n    // (see https://www.w3.org/TR/touch-events/#the-touchmove-event)\n    // We do not consider \"both-support-touch-and-mouse device\" for this feature (see the comment of\n    // `mountLocalDOMEventListeners`) to avoid bugs util some requirements come.\n    else if (!env_1.touchEventsSupported) {\n        util.each(globalNativeListenerNames.mouse, mount);\n      }\n\n    function mount(nativeEventName) {\n      function nativeEventListener(event) {\n        event = getNativeEvent$1(event); // See the reason in [Drag outside] in `Handler.js`\n        // This checking supports both `useCapture` or not.\n        // PENDING: if there is performance issue in some devices,\n        // we probably can not use `useCapture` and change a easier\n        // to judes whether local (mark).\n\n        if (!isLocalEl(instance, event.target)) {\n          event = normalizeGlobalEvent(instance, event);\n          scope.domHandlers[nativeEventName].call(instance, event);\n        }\n      }\n\n      mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, {\n        capture: true\n      } // See [Drag Outside] in `Handler.js`\n      );\n    }\n  }\n\n  function mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener$1(scope.domTarget, eventNameFix(nativeEventName), listener, opt);\n  }\n\n  function unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n\n    for (var nativeEventName in mounted) {\n      if (mounted.hasOwnProperty(nativeEventName)) {\n        removeEventListener$1(scope.domTarget, eventNameFix(nativeEventName), mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n      }\n    }\n\n    scope.mounted = {};\n  }\n  /**\n   * See [Drag Outside] in `Handler.js`.\n   * @implement\n   * @param {boolean} isPointerCapturing Should never be `null`/`undefined`.\n   *        `true`: start to capture pointer if it is not capturing.\n   *        `false`: end the capture if it is capturing.\n   */\n\n\n  function togglePointerCapture(instance, isPointerCapturing) {\n    instance._mayPointerCapture = null;\n\n    if (globalEventSupported && instance._pointerCapturing ^ isPointerCapturing) {\n      instance._pointerCapturing = isPointerCapturing;\n      var globalHandlerScope = instance._globalHandlerScope;\n      isPointerCapturing ? mountGlobalDOMEventListeners(instance, globalHandlerScope) : unmountDOMEventListeners(globalHandlerScope);\n    }\n  }\n  /**\n   * @inner\n   * @class\n   */\n\n\n  function DOMHandlerScope(domTarget, domHandlers) {\n    this.domTarget = domTarget;\n    this.domHandlers = domHandlers; // Key: eventName, value: mounted handler funcitons.\n    // Used for unmount.\n\n    this.mounted = {};\n    this.listenerOpts = {};\n    this.touchTimer = null;\n    this.touching = false;\n  }\n  /**\n   * @public\n   * @class\n   */\n\n\n  function HandlerDomProxy(dom, painterRoot) {\n    Eventful_1.call(this);\n    this.dom = dom;\n    this.painterRoot = painterRoot;\n    this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n\n    if (globalEventSupported) {\n      this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n    }\n    /**\n     * @type {boolean}\n     */\n\n\n    this._pointerCapturing = false;\n    /**\n     * @type {Array.<number>} [x, y] or null.\n     */\n\n    this._mayPointerCapture = null;\n    mountLocalDOMEventListeners(this, this._localHandlerScope);\n  }\n\n  var handlerDomProxyProto = HandlerDomProxy.prototype;\n\n  handlerDomProxyProto.dispose = function () {\n    unmountDOMEventListeners(this._localHandlerScope);\n\n    if (globalEventSupported) {\n      unmountDOMEventListeners(this._globalHandlerScope);\n    }\n  };\n\n  handlerDomProxyProto.setCursor = function (cursorStyle) {\n    this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n  };\n\n  util.mixin(HandlerDomProxy, Eventful_1);\n  var _default$r = HandlerDomProxy;\n  var HandlerProxy = _default$r;\n\n  /*!\n  * ZRender, a high performance 2d drawing library.\n  *\n  * Copyright (c) 2013, Baidu Inc.\n  * All rights reserved.\n  *\n  * LICENSE\n  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n  */\n  var useVML = !env_1.canvasSupported;\n  var painterCtors = {\n    canvas: Painter_1\n  };\n  var instances = {}; // ZRendermap\n\n  /**\n   * @type {string}\n   */\n\n  var version$1 = '4.3.2';\n  /**\n   * Initializing a zrender instance\n   * @param {HTMLElement} dom\n   * @param {Object} [opts]\n   * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n   * @param {number} [opts.devicePixelRatio]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   * @return {module:zrender/ZRender}\n   */\n\n  function init(dom, opts) {\n    var zr = new ZRender(guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n  }\n  /**\n   * Dispose zrender instance\n   * @param {module:zrender/ZRender} zr\n   */\n\n\n  function dispose(zr) {\n    if (zr) {\n      zr.dispose();\n    } else {\n      for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n          instances[key].dispose();\n        }\n      }\n\n      instances = {};\n    }\n\n    return this;\n  }\n  /**\n   * Get zrender instance by id\n   * @param {string} id zrender instance id\n   * @return {module:zrender/ZRender}\n   */\n\n\n  function getInstance(id) {\n    return instances[id];\n  }\n\n  function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n  }\n\n  function delInstance(id) {\n    delete instances[id];\n  }\n  /**\n   * @module zrender/ZRender\n   */\n\n  /**\n   * @constructor\n   * @alias module:zrender/ZRender\n   * @param {string} id\n   * @param {HTMLElement} dom\n   * @param {Object} opts\n   * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n   * @param {number} [opts.devicePixelRatio]\n   * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n\n\n  var ZRender = function (id, dom, opts) {\n    opts = opts || {};\n    /**\n     * @type {HTMLDomElement}\n     */\n\n    this.dom = dom;\n    /**\n     * @type {string}\n     */\n\n    this.id = id;\n    var self = this;\n    var storage = new Storage_1();\n    var rendererType = opts.renderer; // TODO WebGL\n\n    if (useVML) {\n      if (!painterCtors.vml) {\n        throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n      }\n\n      rendererType = 'vml';\n    } else if (!rendererType || !painterCtors[rendererType]) {\n      rendererType = 'canvas';\n    }\n\n    var painter = new painterCtors[rendererType](dom, storage, opts, id);\n    this.storage = storage;\n    this.painter = painter;\n    var handerProxy = !env_1.node && !env_1.worker ? new HandlerProxy(painter.getViewportRoot(), painter.root) : null;\n    this.handler = new Handler_1(storage, painter, handerProxy, painter.root);\n    /**\n     * @type {module:zrender/animation/Animation}\n     */\n\n    this.animation = new Animation_1({\n      stage: {\n        update: util.bind(this.flush, this)\n      }\n    });\n    this.animation.start();\n    /**\n     * @type {boolean}\n     * @private\n     */\n\n    this._needsRefresh; //  storage.delFromStorage, \n    // FIXME ugly\n\n    var oldDelFromStorage = storage.delFromStorage;\n    var oldAddToStorage = storage.addToStorage;\n\n    storage.delFromStorage = function (el) {\n      oldDelFromStorage.call(storage, el);\n      el && el.removeSelfFromZr(self);\n    };\n\n    storage.addToStorage = function (el) {\n      oldAddToStorage.call(storage, el);\n      el.addSelfToZr(self);\n    };\n  };\n\n  ZRender.prototype = {\n    constructor: ZRender,\n\n    /**\n     * \n     * @return {string}\n     */\n    getId: function () {\n      return this.id;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    add: function (el) {\n      this.storage.addRoot(el);\n      this._needsRefresh = true;\n    },\n\n    /**\n     * \n     * @param  {module:zrender/Element} el\n     */\n    remove: function (el) {\n      this.storage.delRoot(el);\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Change configuration of layer\n     * @param {string} zLevel\n     * @param {Object} config\n     * @param {string} [config.clearColor=0] Clear color\n     * @param {string} [config.motionBlur=false] If enable motion blur\n     * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n    */\n    configLayer: function (zLevel, config) {\n      if (this.painter.configLayer) {\n        this.painter.configLayer(zLevel, config);\n      }\n\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Set background color\n     * @param {string} backgroundColor\n     */\n    setBackgroundColor: function (backgroundColor) {\n      if (this.painter.setBackgroundColor) {\n        this.painter.setBackgroundColor(backgroundColor);\n      }\n\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Repaint the canvas immediately\n     */\n    refreshImmediately: function () {\n      // var start = new Date();\n      // Clear needsRefresh ahead to avoid something wrong happens in refresh\n      // Or it will cause zrender refreshes again and again.\n      this._needsRefresh = this._needsRefreshHover = false;\n      this.painter.refresh(); // Avoid trigger zr.refresh in Element#beforeUpdate hook\n\n      this._needsRefresh = this._needsRefreshHover = false; // var end = new Date();\n      // var log = document.getElementById('log');\n      // if (log) {\n      //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n      // }\n    },\n\n    /**\n     * Mark and repaint the canvas in the next frame of browser\n     */\n    refresh: function () {\n      this._needsRefresh = true;\n    },\n\n    /**\n     * Perform all refresh\n     */\n    flush: function () {\n      var triggerRendered;\n\n      if (this._needsRefresh) {\n        triggerRendered = true;\n        this.refreshImmediately();\n      }\n\n      if (this._needsRefreshHover) {\n        triggerRendered = true;\n        this.refreshHoverImmediately();\n      }\n\n      triggerRendered && this.trigger('rendered');\n    },\n\n    /**\n     * Add element to hover layer\n     * @param  {module:zrender/Element} el\n     * @param {Object} style\n     */\n    addHover: function (el, style) {\n      if (this.painter.addHover) {\n        var elMirror = this.painter.addHover(el, style);\n        this.refreshHover();\n        return elMirror;\n      }\n    },\n\n    /**\n     * Add element from hover layer\n     * @param  {module:zrender/Element} el\n     */\n    removeHover: function (el) {\n      if (this.painter.removeHover) {\n        this.painter.removeHover(el);\n        this.refreshHover();\n      }\n    },\n\n    /**\n     * Clear all hover elements in hover layer\n     * @param  {module:zrender/Element} el\n     */\n    clearHover: function () {\n      if (this.painter.clearHover) {\n        this.painter.clearHover();\n        this.refreshHover();\n      }\n    },\n\n    /**\n     * Refresh hover in next frame\n     */\n    refreshHover: function () {\n      this._needsRefreshHover = true;\n    },\n\n    /**\n     * Refresh hover immediately\n     */\n    refreshHoverImmediately: function () {\n      this._needsRefreshHover = false;\n      this.painter.refreshHover && this.painter.refreshHover();\n    },\n\n    /**\n     * Resize the canvas.\n     * Should be invoked when container size is changed\n     * @param {Object} [opts]\n     * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n     * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n     */\n    resize: function (opts) {\n      opts = opts || {};\n      this.painter.resize(opts.width, opts.height);\n      this.handler.resize();\n    },\n\n    /**\n     * Stop and clear all animation immediately\n     */\n    clearAnimation: function () {\n      this.animation.clear();\n    },\n\n    /**\n     * Get container width\n     */\n    getWidth: function () {\n      return this.painter.getWidth();\n    },\n\n    /**\n     * Get container height\n     */\n    getHeight: function () {\n      return this.painter.getHeight();\n    },\n\n    /**\n     * Export the canvas as Base64 URL\n     * @param {string} type\n     * @param {string} [backgroundColor='#fff']\n     * @return {string} Base64 URL\n     */\n    // toDataURL: function(type, backgroundColor) {\n    //     return this.painter.getRenderedCanvas({\n    //         backgroundColor: backgroundColor\n    //     }).toDataURL(type);\n    // },\n\n    /**\n     * Converting a path to image.\n     * It has much better performance of drawing image rather than drawing a vector path.\n     * @param {module:zrender/graphic/Path} e\n     * @param {number} width\n     * @param {number} height\n     */\n    pathToImage: function (e, dpr) {\n      return this.painter.pathToImage(e, dpr);\n    },\n\n    /**\n     * Set default cursor\n     * @param {string} [cursorStyle='default']  crosshair\n     */\n    setCursorStyle: function (cursorStyle) {\n      this.handler.setCursorStyle(cursorStyle);\n    },\n\n    /**\n     * Find hovered element\n     * @param {number} x\n     * @param {number} y\n     * @return {Object} {target, topTarget}\n     */\n    findHover: function (x, y) {\n      return this.handler.findHover(x, y);\n    },\n\n    /**\n     * Bind event\n     *\n     * @param {string} eventName Event name\n     * @param {Function} eventHandler Handler function\n     * @param {Object} [context] Context object\n     */\n    on: function (eventName, eventHandler, context) {\n      this.handler.on(eventName, eventHandler, context);\n    },\n\n    /**\n     * Unbind event\n     * @param {string} eventName Event name\n     * @param {Function} [eventHandler] Handler function\n     */\n    off: function (eventName, eventHandler) {\n      this.handler.off(eventName, eventHandler);\n    },\n\n    /**\n     * Trigger event manually\n     *\n     * @param {string} eventName Event name\n     * @param {event=} event Event object\n     */\n    trigger: function (eventName, event) {\n      this.handler.trigger(eventName, event);\n    },\n\n    /**\n     * Clear all objects and the canvas.\n     */\n    clear: function () {\n      this.storage.delRoot();\n      this.painter.clear();\n    },\n\n    /**\n     * Dispose self.\n     */\n    dispose: function () {\n      this.animation.stop();\n      this.clear();\n      this.storage.dispose();\n      this.painter.dispose();\n      this.handler.dispose();\n      this.animation = this.storage = this.painter = this.handler = null;\n      delInstance(this.id);\n    }\n  };\n  var version_1 = version$1;\n  var init_1 = init;\n  var dispose_1 = dispose;\n  var getInstance_1 = getInstance;\n  var registerPainter_1 = registerPainter;\n\n  var zrender = {\n  \tversion: version_1,\n  \tinit: init_1,\n  \tdispose: dispose_1,\n  \tgetInstance: getInstance_1,\n  \tregisterPainter: registerPainter_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$2 = util.each;\n  var isObject$5 = util.isObject;\n  var isArray$3 = util.isArray;\n  /**\n   * Make the name displayable. But we should\n   * make sure it is not duplicated with user\n   * specified name, so use '\\0';\n   */\n\n  var DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\n  /**\n   * If value is not array, then translate it to array.\n   * @param  {*} value\n   * @return {Array} [value] or value\n   */\n\n  function normalizeToArray(value) {\n    return value instanceof Array ? value : value == null ? [] : [value];\n  }\n  /**\n   * Sync default option between normal and emphasis like `position` and `show`\n   * In case some one will write code like\n   *     label: {\n   *          show: false,\n   *          position: 'outside',\n   *          fontSize: 18\n   *     },\n   *     emphasis: {\n   *          label: { show: true }\n   *     }\n   * @param {Object} opt\n   * @param {string} key\n   * @param {Array.<string>} subOpts\n   */\n\n\n  function defaultEmphasis(opt, key, subOpts) {\n    // Caution: performance sensitive.\n    if (opt) {\n      opt[key] = opt[key] || {};\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[key] = opt.emphasis[key] || {}; // Default emphasis option from normal\n\n      for (var i = 0, len = subOpts.length; i < len; i++) {\n        var subOptName = subOpts[i];\n\n        if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n          opt.emphasis[key][subOptName] = opt[key][subOptName];\n        }\n      }\n    }\n  }\n\n  var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n  //     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n  //     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n  //     // FIXME: deprecated, check and remove it.\n  //     'textStyle'\n  // ]);\n\n  /**\n   * The method do not ensure performance.\n   * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n   * This helper method retieves value from data.\n   * @param {string|number|Date|Array|Object} dataItem\n   * @return {number|string|Date|Array.<number|string|Date>}\n   */\n\n  function getDataItemValue(dataItem) {\n    return isObject$5(dataItem) && !isArray$3(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n  }\n  /**\n   * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n   * This helper method determine if dataItem has extra option besides value\n   * @param {string|number|Date|Array|Object} dataItem\n   */\n\n\n  function isDataItemOption(dataItem) {\n    return isObject$5(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n    // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n  }\n  /**\n   * Mapping to exists for merge.\n   *\n   * @public\n   * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n   * @param {Object|Array.<Object>} newCptOptions\n   * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n   *                          index of which is the same as exists.\n   */\n\n\n  function mappingToExists(exists, newCptOptions) {\n    // Mapping by the order by original option (but not order of\n    // new option) in merge mode. Because we should ensure\n    // some specified index (like xAxisIndex) is consistent with\n    // original option, which is easy to understand, espatially in\n    // media query. And in most case, merge option is used to\n    // update partial option but not be expected to change order.\n    newCptOptions = (newCptOptions || []).slice();\n    var result = util.map(exists || [], function (obj, index) {\n      return {\n        exist: obj\n      };\n    }); // Mapping by id or name if specified.\n\n    each$2(newCptOptions, function (cptOption, index) {\n      if (!isObject$5(cptOption)) {\n        return;\n      } // id has highest priority.\n\n\n      for (var i = 0; i < result.length; i++) {\n        if (!result[i].option // Consider name: two map to one.\n        && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n          result[i].option = cptOption;\n          newCptOptions[index] = null;\n          return;\n        }\n      }\n\n      for (var i = 0; i < result.length; i++) {\n        var exist = result[i].exist;\n\n        if (!result[i].option // Consider name: two map to one.\n        // Can not match when both ids exist but different.\n        && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n          result[i].option = cptOption;\n          newCptOptions[index] = null;\n          return;\n        }\n      }\n    }); // Otherwise mapping by index.\n\n    each$2(newCptOptions, function (cptOption, index) {\n      if (!isObject$5(cptOption)) {\n        return;\n      }\n\n      var i = 0;\n\n      for (; i < result.length; i++) {\n        var exist = result[i].exist;\n\n        if (!result[i].option // Existing model that already has id should be able to\n        // mapped to (because after mapping performed model may\n        // be assigned with a id, whish should not affect next\n        // mapping), except those has inner id.\n        && !isIdInner(exist) // Caution:\n        // Do not overwrite id. But name can be overwritten,\n        // because axis use name as 'show label text'.\n        // 'exist' always has id and name and we dont\n        // need to check it.\n        && cptOption.id == null) {\n          result[i].option = cptOption;\n          break;\n        }\n      }\n\n      if (i >= result.length) {\n        result.push({\n          option: cptOption\n        });\n      }\n    });\n    return result;\n  }\n  /**\n   * Make id and name for mapping result (result of mappingToExists)\n   * into `keyInfo` field.\n   *\n   * @public\n   * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n   *                          which order is the same as exists.\n   * @return {Array.<Object>} The input.\n   */\n\n\n  function makeIdAndName(mapResult) {\n    // We use this id to hash component models and view instances\n    // in echarts. id can be specified by user, or auto generated.\n    // The id generation rule ensures new view instance are able\n    // to mapped to old instance when setOption are called in\n    // no-merge mode. So we generate model id by name and plus\n    // type in view id.\n    // name can be duplicated among components, which is convenient\n    // to specify multi components (like series) by one name.\n    // Ensure that each id is distinct.\n    var idMap = util.createHashMap();\n    each$2(mapResult, function (item, index) {\n      var existCpt = item.exist;\n      existCpt && idMap.set(existCpt.id, item);\n    });\n    each$2(mapResult, function (item, index) {\n      var opt = item.option;\n      util.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n      opt && opt.id != null && idMap.set(opt.id, item);\n      !item.keyInfo && (item.keyInfo = {});\n    }); // Make name and id.\n\n    each$2(mapResult, function (item, index) {\n      var existCpt = item.exist;\n      var opt = item.option;\n      var keyInfo = item.keyInfo;\n\n      if (!isObject$5(opt)) {\n        return;\n      } // name can be overwitten. Consider case: axis.name = '20km'.\n      // But id generated by name will not be changed, which affect\n      // only in that case: setOption with 'not merge mode' and view\n      // instance will be recreated, which can be accepted.\n\n\n      keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name // Avoid diffferent series has the same name,\n      // because name may be used like in color pallet.\n      : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n      if (existCpt) {\n        keyInfo.id = existCpt.id;\n      } else if (opt.id != null) {\n        keyInfo.id = opt.id + '';\n      } else {\n        // Consider this situatoin:\n        //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n        //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n        // Series with the same name between optionA and optionB\n        // should be mapped.\n        var idNum = 0;\n\n        do {\n          keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n        } while (idMap.get(keyInfo.id));\n      }\n\n      idMap.set(keyInfo.id, item);\n    });\n  }\n\n  function isNameSpecified(componentModel) {\n    var name = componentModel.name; // Is specified when `indexOf` get -1 or > 0.\n\n    return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n  }\n  /**\n   * @public\n   * @param {Object} cptOption\n   * @return {boolean}\n   */\n\n\n  function isIdInner(cptOption) {\n    return isObject$5(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n  }\n  /**\n   * A helper for removing duplicate items between batchA and batchB,\n   * and in themselves, and categorize by series.\n   *\n   * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n   * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n   * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n   */\n\n\n  function compressBatches(batchA, batchB) {\n    var mapA = {};\n    var mapB = {};\n    makeMap(batchA || [], mapA);\n    makeMap(batchB || [], mapB, mapA);\n    return [mapToArray(mapA), mapToArray(mapB)];\n\n    function makeMap(sourceBatch, map, otherMap) {\n      for (var i = 0, len = sourceBatch.length; i < len; i++) {\n        var seriesId = sourceBatch[i].seriesId;\n        var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n        var otherDataIndices = otherMap && otherMap[seriesId];\n\n        for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n          var dataIndex = dataIndices[j];\n\n          if (otherDataIndices && otherDataIndices[dataIndex]) {\n            otherDataIndices[dataIndex] = null;\n          } else {\n            (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n          }\n        }\n      }\n    }\n\n    function mapToArray(map, isData) {\n      var result = [];\n\n      for (var i in map) {\n        if (map.hasOwnProperty(i) && map[i] != null) {\n          if (isData) {\n            result.push(+i);\n          } else {\n            var dataIndices = mapToArray(map[i], true);\n            dataIndices.length && result.push({\n              seriesId: i,\n              dataIndex: dataIndices\n            });\n          }\n        }\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n   *                         each of which can be Array or primary type.\n   * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n   */\n\n\n  function queryDataIndex(data, payload) {\n    if (payload.dataIndexInside != null) {\n      return payload.dataIndexInside;\n    } else if (payload.dataIndex != null) {\n      return util.isArray(payload.dataIndex) ? util.map(payload.dataIndex, function (value) {\n        return data.indexOfRawIndex(value);\n      }) : data.indexOfRawIndex(payload.dataIndex);\n    } else if (payload.name != null) {\n      return util.isArray(payload.name) ? util.map(payload.name, function (value) {\n        return data.indexOfName(value);\n      }) : data.indexOfName(payload.name);\n    }\n  }\n  /**\n   * Enable property storage to any host object.\n   * Notice: Serialization is not supported.\n   *\n   * For example:\n   * var inner = zrUitl.makeInner();\n   *\n   * function some1(hostObj) {\n   *      inner(hostObj).someProperty = 1212;\n   *      ...\n   * }\n   * function some2() {\n   *      var fields = inner(this);\n   *      fields.someProperty1 = 1212;\n   *      fields.someProperty2 = 'xx';\n   *      ...\n   * }\n   *\n   * @return {Function}\n   */\n\n\n  function makeInner() {\n    // Consider different scope by es module import.\n    var key = '__\\0ec_inner_' + innerUniqueIndex++ + '_' + Math.random().toFixed(5);\n    return function (hostObj) {\n      return hostObj[key] || (hostObj[key] = {});\n    };\n  }\n\n  var innerUniqueIndex = 0;\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex, seriesId, seriesName,\n   *            geoIndex, geoId, geoName,\n   *            bmapIndex, bmapId, bmapName,\n   *            xAxisIndex, xAxisId, xAxisName,\n   *            yAxisIndex, yAxisId, yAxisName,\n   *            gridIndex, gridId, gridName,\n   *            ... (can be extended)\n   *        }\n   *        Each properties can be number|string|Array.<number>|Array.<string>\n   *        For example, a finder could be\n   *        {\n   *            seriesIndex: 3,\n   *            geoId: ['aa', 'cc'],\n   *            gridName: ['xx', 'rr']\n   *        }\n   *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n   *        If nothing or null/undefined specified, return nothing.\n   * @param {Object} [opt]\n   * @param {string} [opt.defaultMainType]\n   * @param {Array.<string>} [opt.includeMainTypes]\n   * @return {Object} result like:\n   *        {\n   *            seriesModels: [seriesModel1, seriesModel2],\n   *            seriesModel: seriesModel1, // The first model\n   *            geoModels: [geoModel1, geoModel2],\n   *            geoModel: geoModel1, // The first model\n   *            ...\n   *        }\n   */\n\n  function parseFinder(ecModel, finder, opt) {\n    if (util.isString(finder)) {\n      var obj = {};\n      obj[finder + 'Index'] = 0;\n      finder = obj;\n    }\n\n    var defaultMainType = opt && opt.defaultMainType;\n\n    if (defaultMainType && !has$2(finder, defaultMainType + 'Index') && !has$2(finder, defaultMainType + 'Id') && !has$2(finder, defaultMainType + 'Name')) {\n      finder[defaultMainType + 'Index'] = 0;\n    }\n\n    var result = {};\n    each$2(finder, function (value, key) {\n      var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n      if (key === 'dataIndex' || key === 'dataIndexInside') {\n        result[key] = value;\n        return;\n      }\n\n      var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n      var mainType = parsedKey[1];\n      var queryType = (parsedKey[2] || '').toLowerCase();\n\n      if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && util.indexOf(opt.includeMainTypes, mainType) < 0) {\n        return;\n      }\n\n      var queryParam = {\n        mainType: mainType\n      };\n\n      if (queryType !== 'index' || value !== 'all') {\n        queryParam[queryType] = value;\n      }\n\n      var models = ecModel.queryComponents(queryParam);\n      result[mainType + 'Models'] = models;\n      result[mainType + 'Model'] = models[0];\n    });\n    return result;\n  }\n\n  function has$2(obj, prop) {\n    return obj && obj.hasOwnProperty(prop);\n  }\n\n  function setAttribute(dom, key, value) {\n    dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n  }\n\n  function getAttribute(dom, key) {\n    return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n  }\n\n  function getTooltipRenderMode(renderModeOption) {\n    if (renderModeOption === 'auto') {\n      // Using html when `document` exists, use richText otherwise\n      return env_1.domSupported ? 'html' : 'richText';\n    } else {\n      return renderModeOption || 'html';\n    }\n  }\n  /**\n   * Group a list by key.\n   *\n   * @param {Array} array\n   * @param {Function} getKey\n   *        param {*} Array item\n   *        return {string} key\n   * @return {Object} Result\n   *        {Array}: keys,\n   *        {module:zrender/core/util/HashMap} buckets: {key -> Array}\n   */\n\n\n  function groupData(array, getKey) {\n    var buckets = util.createHashMap();\n    var keys = [];\n    util.each(array, function (item) {\n      var key = getKey(item);\n      (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n    });\n    return {\n      keys: keys,\n      buckets: buckets\n    };\n  }\n\n  var normalizeToArray_1 = normalizeToArray;\n  var defaultEmphasis_1 = defaultEmphasis;\n  var TEXT_STYLE_OPTIONS_1 = TEXT_STYLE_OPTIONS;\n  var getDataItemValue_1 = getDataItemValue;\n  var isDataItemOption_1 = isDataItemOption;\n  var mappingToExists_1 = mappingToExists;\n  var makeIdAndName_1 = makeIdAndName;\n  var isNameSpecified_1 = isNameSpecified;\n  var isIdInner_1 = isIdInner;\n  var compressBatches_1 = compressBatches;\n  var queryDataIndex_1 = queryDataIndex;\n  var makeInner_1 = makeInner;\n  var parseFinder_1 = parseFinder;\n  var setAttribute_1 = setAttribute;\n  var getAttribute_1 = getAttribute;\n  var getTooltipRenderMode_1 = getTooltipRenderMode;\n  var groupData_1 = groupData;\n\n  var model = {\n  \tnormalizeToArray: normalizeToArray_1,\n  \tdefaultEmphasis: defaultEmphasis_1,\n  \tTEXT_STYLE_OPTIONS: TEXT_STYLE_OPTIONS_1,\n  \tgetDataItemValue: getDataItemValue_1,\n  \tisDataItemOption: isDataItemOption_1,\n  \tmappingToExists: mappingToExists_1,\n  \tmakeIdAndName: makeIdAndName_1,\n  \tisNameSpecified: isNameSpecified_1,\n  \tisIdInner: isIdInner_1,\n  \tcompressBatches: compressBatches_1,\n  \tqueryDataIndex: queryDataIndex_1,\n  \tmakeInner: makeInner_1,\n  \tparseFinder: parseFinder_1,\n  \tsetAttribute: setAttribute_1,\n  \tgetAttribute: getAttribute_1,\n  \tgetTooltipRenderMode: getTooltipRenderMode_1,\n  \tgroupData: groupData_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var TYPE_DELIMITER = '.';\n  var IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\n  /**\n   * Notice, parseClassType('') should returns {main: '', sub: ''}\n   * @public\n   */\n\n  function parseClassType(componentType) {\n    var ret = {\n      main: '',\n      sub: ''\n    };\n\n    if (componentType) {\n      componentType = componentType.split(TYPE_DELIMITER);\n      ret.main = componentType[0] || '';\n      ret.sub = componentType[1] || '';\n    }\n\n    return ret;\n  }\n  /**\n   * @public\n   */\n\n\n  function checkClassType(componentType) {\n    util.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n  }\n  /**\n   * @public\n   */\n\n\n  function enableClassExtend(RootClass, mandatoryMethods) {\n    RootClass.$constructor = RootClass;\n\n    RootClass.extend = function (proto) {\n      var superClass = this;\n\n      var ExtendedClass = function () {\n        if (!proto.$constructor) {\n          superClass.apply(this, arguments);\n        } else {\n          proto.$constructor.apply(this, arguments);\n        }\n      };\n\n      util.extend(ExtendedClass.prototype, proto);\n      ExtendedClass.extend = this.extend;\n      ExtendedClass.superCall = superCall;\n      ExtendedClass.superApply = superApply;\n      util.inherits(ExtendedClass, this);\n      ExtendedClass.superClass = superClass;\n      return ExtendedClass;\n    };\n  }\n\n  var classBase = 0;\n  /**\n   * Can not use instanceof, consider different scope by\n   * cross domain or es module import in ec extensions.\n   * Mount a method \"isInstance()\" to Clz.\n   */\n\n  function enableClassCheck(Clz) {\n    var classAttr = ['__\\0is_clz', classBase++, Math.random().toFixed(3)].join('_');\n    Clz.prototype[classAttr] = true;\n\n    Clz.isInstance = function (obj) {\n      return !!(obj && obj[classAttr]);\n    };\n  } // superCall should have class info, which can not be fetch from 'this'.\n  // Consider this case:\n  // class A has method f,\n  // class B inherits class A, overrides method f, f call superApply('f'),\n  // class C inherits class B, do not overrides method f,\n  // then when method of class C is called, dead loop occured.\n\n\n  function superCall(context, methodName) {\n    var args = util.slice(arguments, 2);\n    return this.superClass.prototype[methodName].apply(context, args);\n  }\n\n  function superApply(context, methodName, args) {\n    return this.superClass.prototype[methodName].apply(context, args);\n  }\n  /**\n   * @param {Object} entity\n   * @param {Object} options\n   * @param {boolean} [options.registerWhenExtend]\n   * @public\n   */\n\n\n  function enableClassManagement(entity, options) {\n    options = options || {};\n    /**\n     * Component model classes\n     * key: componentType,\n     * value:\n     *     componentClass, when componentType is 'xxx'\n     *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n     * @type {Object}\n     */\n\n    var storage = {};\n\n    entity.registerClass = function (Clazz, componentType) {\n      if (componentType) {\n        checkClassType(componentType);\n        componentType = parseClassType(componentType);\n\n        if (!componentType.sub) {\n          storage[componentType.main] = Clazz;\n        } else if (componentType.sub !== IS_CONTAINER) {\n          var container = makeContainer(componentType);\n          container[componentType.sub] = Clazz;\n        }\n      }\n\n      return Clazz;\n    };\n\n    entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n      var Clazz = storage[componentMainType];\n\n      if (Clazz && Clazz[IS_CONTAINER]) {\n        Clazz = subType ? Clazz[subType] : null;\n      }\n\n      if (throwWhenNotFound && !Clazz) {\n        throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n      }\n\n      return Clazz;\n    };\n\n    entity.getClassesByMainType = function (componentType) {\n      componentType = parseClassType(componentType);\n      var result = [];\n      var obj = storage[componentType.main];\n\n      if (obj && obj[IS_CONTAINER]) {\n        util.each(obj, function (o, type) {\n          type !== IS_CONTAINER && result.push(o);\n        });\n      } else {\n        result.push(obj);\n      }\n\n      return result;\n    };\n\n    entity.hasClass = function (componentType) {\n      // Just consider componentType.main.\n      componentType = parseClassType(componentType);\n      return !!storage[componentType.main];\n    };\n    /**\n     * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n     */\n\n\n    entity.getAllClassMainTypes = function () {\n      var types = [];\n      util.each(storage, function (obj, type) {\n        types.push(type);\n      });\n      return types;\n    };\n    /**\n     * If a main type is container and has sub types\n     * @param  {string}  mainType\n     * @return {boolean}\n     */\n\n\n    entity.hasSubTypes = function (componentType) {\n      componentType = parseClassType(componentType);\n      var obj = storage[componentType.main];\n      return obj && obj[IS_CONTAINER];\n    };\n\n    entity.parseClassType = parseClassType;\n\n    function makeContainer(componentType) {\n      var container = storage[componentType.main];\n\n      if (!container || !container[IS_CONTAINER]) {\n        container = storage[componentType.main] = {};\n        container[IS_CONTAINER] = true;\n      }\n\n      return container;\n    }\n\n    if (options.registerWhenExtend) {\n      var originalExtend = entity.extend;\n\n      if (originalExtend) {\n        entity.extend = function (proto) {\n          var ExtendedClass = originalExtend.call(this, proto);\n          return entity.registerClass(ExtendedClass, proto.type);\n        };\n      }\n    }\n\n    return entity;\n  }\n  /**\n   * @param {string|Array.<string>} properties\n   */\n\n\n  function setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n    // if (!zrUtil.isArray(properties)) {\n    //     properties = properties != null ? [properties] : [];\n    // }\n    // zrUtil.each(properties, function (prop) {\n    //     var value = obj[prop];\n    //     Object.defineProperty\n    //         && Object.defineProperty(obj, prop, {\n    //             value: value, writable: false\n    //         });\n    //     zrUtil.isArray(obj[prop])\n    //         && Object.freeze\n    //         && Object.freeze(obj[prop]);\n    // });\n  }\n\n  var parseClassType_1 = parseClassType;\n  var enableClassExtend_1 = enableClassExtend;\n  var enableClassCheck_1 = enableClassCheck;\n  var enableClassManagement_1 = enableClassManagement;\n  var setReadOnly_1 = setReadOnly;\n\n  var clazz = {\n  \tparseClassType: parseClassType_1,\n  \tenableClassExtend: enableClassExtend_1,\n  \tenableClassCheck: enableClassCheck_1,\n  \tenableClassManagement: enableClassManagement_1,\n  \tsetReadOnly: setReadOnly_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO Parse shadow style\n  // TODO Only shallow path support\n  function _default$s(properties) {\n    // Normalize\n    for (var i = 0; i < properties.length; i++) {\n      if (!properties[i][1]) {\n        properties[i][1] = properties[i][0];\n      }\n    }\n\n    return function (model, excludes, includes) {\n      var style = {};\n\n      for (var i = 0; i < properties.length; i++) {\n        var propName = properties[i][1];\n\n        if (excludes && util.indexOf(excludes, propName) >= 0 || includes && util.indexOf(includes, propName) < 0) {\n          continue;\n        }\n\n        var val = model.getShallow(propName);\n\n        if (val != null) {\n          style[properties[i][0]] = val;\n        }\n      }\n\n      return style;\n    };\n  }\n\n  var makeStyleMapper = _default$s;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getLineStyle = makeStyleMapper([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n  var _default$t = {\n    getLineStyle: function (excludes) {\n      var style = getLineStyle(this, excludes); // Always set lineDash whether dashed, otherwise we can not\n      // erase the previous style when assigning to el.style.\n\n      style.lineDash = this.getLineDash(style.lineWidth);\n      return style;\n    },\n    getLineDash: function (lineWidth) {\n      if (lineWidth == null) {\n        lineWidth = 1;\n      }\n\n      var lineType = this.get('type');\n      var dotSize = Math.max(lineWidth, 2);\n      var dashSize = lineWidth * 4;\n      return lineType === 'solid' || lineType == null ? // Use `false` but not `null` for the solid line here, because `null` might be\n      // ignored when assigning to `el.style`. e.g., when setting `lineStyle.type` as\n      // `'dashed'` and `emphasis.lineStyle.type` as `'solid'` in graph series, the\n      // `lineDash` gotten form the latter one is not able to erase that from the former\n      // one if using `null` here according to the emhpsis strategy in `util/graphic.js`.\n      false : lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize];\n    }\n  };\n  var lineStyle = _default$t;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getAreaStyle = makeStyleMapper([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]);\n  var _default$u = {\n    getAreaStyle: function (excludes, includes) {\n      return getAreaStyle(this, excludes, includes);\n    }\n  };\n  var areaStyle = _default$u;\n\n  var v2Create = vector.create;\n  var v2DistSquare = vector.distSquare;\n\n  /**\n   * \n   * @module zrender/core/curve\n   * @author pissang(https://www.github.com/pissang)\n   */\n  var mathPow = Math.pow;\n  var mathSqrt = Math.sqrt;\n  var EPSILON$1 = 1e-8;\n  var EPSILON_NUMERIC = 1e-4;\n  var THREE_SQRT = mathSqrt(3);\n  var ONE_THIRD = 1 / 3; // \n\n  var _v0 = v2Create();\n\n  var _v1 = v2Create();\n\n  var _v2 = v2Create();\n\n  function isAroundZero(val) {\n    return val > -EPSILON$1 && val < EPSILON$1;\n  }\n\n  function isNotAroundZero$1(val) {\n    return val > EPSILON$1 || val < -EPSILON$1;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} val\n   * @param  {Array.<number>} roots\n   * @return {number} \n   */\n\n\n  function cubicRootAt(p0, p1, p2, p3, val, roots) {\n    // Evaluate roots of cubic functions\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1 - p0);\n    var d = p0 - val;\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n    var n = 0;\n\n    if (isAroundZero(A) && isAroundZero(B)) {\n      if (isAroundZero(b)) {\n        roots[0] = 0;\n      } else {\n        var t1 = -c / b; //t1, t2, t3, b is not zero\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      }\n    } else {\n      var disc = B * B - 4 * A * C;\n\n      if (isAroundZero(disc)) {\n        var K = B / A;\n        var t1 = -b / a + K; // t1, a is not zero\n\n        var t2 = -K / 2; // t2, t3\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n        var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n        if (Y1 < 0) {\n          Y1 = -mathPow(-Y1, ONE_THIRD);\n        } else {\n          Y1 = mathPow(Y1, ONE_THIRD);\n        }\n\n        if (Y2 < 0) {\n          Y2 = -mathPow(-Y2, ONE_THIRD);\n        } else {\n          Y2 = mathPow(Y2, ONE_THIRD);\n        }\n\n        var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      } else {\n        var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n        var theta = Math.acos(T) / 3;\n        var ASqrt = mathSqrt(A);\n        var tmp = Math.cos(theta);\n        var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n        var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n        var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n\n        if (t3 >= 0 && t3 <= 1) {\n          roots[n++] = t3;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {Array.<number>} extrema\n   * @return {number} \n   */\n\n\n  function cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var n = 0;\n\n    if (isAroundZero(a)) {\n      if (isNotAroundZero$1(b)) {\n        var t1 = -c / b;\n\n        if (t1 >= 0 && t1 <= 1) {\n          extrema[n++] = t1;\n        }\n      }\n    } else {\n      var disc = b * b - 4 * a * c;\n\n      if (isAroundZero(disc)) {\n        extrema[0] = -b / (2 * a);\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var t1 = (-b + discSqrt) / (2 * a);\n        var t2 = (-b - discSqrt) / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          extrema[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          extrema[n++] = t2;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} p3\n   * @param  {number} t\n   * @param  {Array.<number>} out\n   */\n\n\n  function cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n    var p0123 = (p123 - p012) * t + p012; // Seg0\n\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123; // Seg1\n\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n  }\n  /**\n   * \n   * \n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @param {number} x\n   * @param {number} y\n   * @param {Array.<number>} [out] \n   * @return {number}\n   */\n\n\n  function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n    _v0[0] = x;\n    _v0[1] = y; //  t \n    // PENDING\n\n    for (var _t = 0; _t < 1; _t += 0.05) {\n      _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n      _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n      d1 = v2DistSquare(_v0, _v1);\n\n      if (d1 < d) {\n        t = _t;\n        d = d1;\n      }\n    }\n\n    d = Infinity; // At most 32 iteration\n\n    for (var i = 0; i < 32; i++) {\n      if (interval < EPSILON_NUMERIC) {\n        break;\n      }\n\n      prev = t - interval;\n      next = t + interval; // t - interval\n\n      _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n      _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n      d1 = v2DistSquare(_v1, _v0);\n\n      if (prev >= 0 && d1 < d) {\n        t = prev;\n        d = d1;\n      } else {\n        // t + interval\n        _v2[0] = cubicAt(x0, x1, x2, x3, next);\n        _v2[1] = cubicAt(y0, y1, y2, y3, next);\n        d2 = v2DistSquare(_v2, _v0);\n\n        if (next <= 1 && d2 < d) {\n          t = next;\n          d = d2;\n        } else {\n          interval *= 0.5;\n        }\n      }\n    } // t\n\n\n    if (out) {\n      out[0] = cubicAt(x0, x1, x2, x3, t);\n      out[1] = cubicAt(y0, y1, y2, y3, t);\n    } // console.log(interval, i);\n\n\n    return mathSqrt(d);\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @return {number}\n   */\n\n\n  function quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n  }\n  /**\n   * \n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @param  {Array.<number>} roots\n   * @return {number} \n   */\n\n\n  function quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n    var n = 0;\n\n    if (isAroundZero(a)) {\n      if (isNotAroundZero$1(b)) {\n        var t1 = -c / b;\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      }\n    } else {\n      var disc = b * b - 4 * a * c;\n\n      if (isAroundZero(disc)) {\n        var t1 = -b / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n      } else if (disc > 0) {\n        var discSqrt = mathSqrt(disc);\n        var t1 = (-b + discSqrt) / (2 * a);\n        var t2 = (-b - discSqrt) / (2 * a);\n\n        if (t1 >= 0 && t1 <= 1) {\n          roots[n++] = t1;\n        }\n\n        if (t2 >= 0 && t2 <= 1) {\n          roots[n++] = t2;\n        }\n      }\n    }\n\n    return n;\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @return {number}\n   */\n\n\n  function quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n\n    if (divider === 0) {\n      // p1 is center of p0 and p2\n      return 0.5;\n    } else {\n      return (p0 - p1) / divider;\n    }\n  }\n  /**\n   * \n   * @memberOf module:zrender/core/curve\n   * @param  {number} p0\n   * @param  {number} p1\n   * @param  {number} p2\n   * @param  {number} t\n   * @param  {Array.<number>} out\n   */\n\n\n  function quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01; // Seg0\n\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012; // Seg1\n\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n  }\n  /**\n   * \n   * \n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x\n   * @param {number} y\n   * @param {Array.<number>} out \n   * @return {number}\n   */\n\n\n  function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n    // http://pomax.github.io/bezierinfo/#projections\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    _v0[0] = x;\n    _v0[1] = y; //  t \n    // PENDING\n\n    for (var _t = 0; _t < 1; _t += 0.05) {\n      _v1[0] = quadraticAt(x0, x1, x2, _t);\n      _v1[1] = quadraticAt(y0, y1, y2, _t);\n      var d1 = v2DistSquare(_v0, _v1);\n\n      if (d1 < d) {\n        t = _t;\n        d = d1;\n      }\n    }\n\n    d = Infinity; // At most 32 iteration\n\n    for (var i = 0; i < 32; i++) {\n      if (interval < EPSILON_NUMERIC) {\n        break;\n      }\n\n      var prev = t - interval;\n      var next = t + interval; // t - interval\n\n      _v1[0] = quadraticAt(x0, x1, x2, prev);\n      _v1[1] = quadraticAt(y0, y1, y2, prev);\n      var d1 = v2DistSquare(_v1, _v0);\n\n      if (prev >= 0 && d1 < d) {\n        t = prev;\n        d = d1;\n      } else {\n        // t + interval\n        _v2[0] = quadraticAt(x0, x1, x2, next);\n        _v2[1] = quadraticAt(y0, y1, y2, next);\n        var d2 = v2DistSquare(_v2, _v0);\n\n        if (next <= 1 && d2 < d) {\n          t = next;\n          d = d2;\n        } else {\n          interval *= 0.5;\n        }\n      }\n    } // t\n\n\n    if (out) {\n      out[0] = quadraticAt(x0, x1, x2, t);\n      out[1] = quadraticAt(y0, y1, y2, t);\n    } // console.log(interval, i);\n\n\n    return mathSqrt(d);\n  }\n\n  var cubicAt_1 = cubicAt;\n  var cubicDerivativeAt_1 = cubicDerivativeAt;\n  var cubicRootAt_1 = cubicRootAt;\n  var cubicExtrema_1 = cubicExtrema;\n  var cubicSubdivide_1 = cubicSubdivide;\n  var cubicProjectPoint_1 = cubicProjectPoint;\n  var quadraticAt_1 = quadraticAt;\n  var quadraticDerivativeAt_1 = quadraticDerivativeAt;\n  var quadraticRootAt_1 = quadraticRootAt;\n  var quadraticExtremum_1 = quadraticExtremum;\n  var quadraticSubdivide_1 = quadraticSubdivide;\n  var quadraticProjectPoint_1 = quadraticProjectPoint;\n\n  var curve = {\n  \tcubicAt: cubicAt_1,\n  \tcubicDerivativeAt: cubicDerivativeAt_1,\n  \tcubicRootAt: cubicRootAt_1,\n  \tcubicExtrema: cubicExtrema_1,\n  \tcubicSubdivide: cubicSubdivide_1,\n  \tcubicProjectPoint: cubicProjectPoint_1,\n  \tquadraticAt: quadraticAt_1,\n  \tquadraticDerivativeAt: quadraticDerivativeAt_1,\n  \tquadraticRootAt: quadraticRootAt_1,\n  \tquadraticExtremum: quadraticExtremum_1,\n  \tquadraticSubdivide: quadraticSubdivide_1,\n  \tquadraticProjectPoint: quadraticProjectPoint_1\n  };\n\n  /**\n   * @author Yi Shen(https://github.com/pissang)\n   */\n  var mathMin$1 = Math.min;\n  var mathMax$1 = Math.max;\n  var mathSin = Math.sin;\n  var mathCos = Math.cos;\n  var PI2 = Math.PI * 2;\n  var start = vector.create();\n  var end = vector.create();\n  var extremity = vector.create();\n  /**\n   * `min``max`\n   * @module zrender/core/bbox\n   * @param {Array<Object>} points \n   * @param {number} min\n   * @param {number} max\n   */\n\n  function fromPoints(points, min, max) {\n    if (points.length === 0) {\n      return;\n    }\n\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    var i;\n\n    for (i = 1; i < points.length; i++) {\n      p = points[i];\n      left = mathMin$1(left, p[0]);\n      right = mathMax$1(right, p[0]);\n      top = mathMin$1(top, p[1]);\n      bottom = mathMax$1(bottom, p[1]);\n    }\n\n    min[0] = left;\n    min[1] = top;\n    max[0] = right;\n    max[1] = bottom;\n  }\n  /**\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromLine(x0, y0, x1, y1, min, max) {\n    min[0] = mathMin$1(x0, x1);\n    min[1] = mathMin$1(y0, y1);\n    max[0] = mathMax$1(x0, x1);\n    max[1] = mathMax$1(y0, y1);\n  }\n\n  var xDim = [];\n  var yDim = [];\n  /**\n   * (p0, p1, p2, p3)`min``max`\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n  function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n    var cubicExtrema = curve.cubicExtrema;\n    var cubicAt = curve.cubicAt;\n    var i;\n    var n = cubicExtrema(x0, x1, x2, x3, xDim);\n    min[0] = Infinity;\n    min[1] = Infinity;\n    max[0] = -Infinity;\n    max[1] = -Infinity;\n\n    for (i = 0; i < n; i++) {\n      var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n      min[0] = mathMin$1(x, min[0]);\n      max[0] = mathMax$1(x, max[0]);\n    }\n\n    n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n    for (i = 0; i < n; i++) {\n      var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n      min[1] = mathMin$1(y, min[1]);\n      max[1] = mathMax$1(y, max[1]);\n    }\n\n    min[0] = mathMin$1(x0, min[0]);\n    max[0] = mathMax$1(x0, max[0]);\n    min[0] = mathMin$1(x3, min[0]);\n    max[0] = mathMax$1(x3, max[0]);\n    min[1] = mathMin$1(y0, min[1]);\n    max[1] = mathMax$1(y0, max[1]);\n    min[1] = mathMin$1(y3, min[1]);\n    max[1] = mathMax$1(y3, max[1]);\n  }\n  /**\n   * (p0, p1, p2)`min``max`\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x0\n   * @param {number} y0\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n    var quadraticExtremum = curve.quadraticExtremum;\n    var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n    var tx = mathMax$1(mathMin$1(quadraticExtremum(x0, x1, x2), 1), 0);\n    var ty = mathMax$1(mathMin$1(quadraticExtremum(y0, y1, y2), 1), 0);\n    var x = quadraticAt(x0, x1, x2, tx);\n    var y = quadraticAt(y0, y1, y2, ty);\n    min[0] = mathMin$1(x0, x2, x);\n    min[1] = mathMin$1(y0, y2, y);\n    max[0] = mathMax$1(x0, x2, x);\n    max[1] = mathMax$1(y0, y2, y);\n  }\n  /**\n   * `min``max`\n   * @method\n   * @memberOf module:zrender/core/bbox\n   * @param {number} x\n   * @param {number} y\n   * @param {number} rx\n   * @param {number} ry\n   * @param {number} startAngle\n   * @param {number} endAngle\n   * @param {number} anticlockwise\n   * @param {Array.<number>} min\n   * @param {Array.<number>} max\n   */\n\n\n  function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n    var vec2Min = vector.min;\n    var vec2Max = vector.max;\n    var diff = Math.abs(startAngle - endAngle);\n\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n      // Is a circle\n      min[0] = x - rx;\n      min[1] = y - ry;\n      max[0] = x + rx;\n      max[1] = y + ry;\n      return;\n    }\n\n    start[0] = mathCos(startAngle) * rx + x;\n    start[1] = mathSin(startAngle) * ry + y;\n    end[0] = mathCos(endAngle) * rx + x;\n    end[1] = mathSin(endAngle) * ry + y;\n    vec2Min(min, start, end);\n    vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n    startAngle = startAngle % PI2;\n\n    if (startAngle < 0) {\n      startAngle = startAngle + PI2;\n    }\n\n    endAngle = endAngle % PI2;\n\n    if (endAngle < 0) {\n      endAngle = endAngle + PI2;\n    }\n\n    if (startAngle > endAngle && !anticlockwise) {\n      endAngle += PI2;\n    } else if (startAngle < endAngle && anticlockwise) {\n      startAngle += PI2;\n    }\n\n    if (anticlockwise) {\n      var tmp = endAngle;\n      endAngle = startAngle;\n      startAngle = tmp;\n    } // var number = 0;\n    // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n      if (angle > startAngle) {\n        extremity[0] = mathCos(angle) * rx + x;\n        extremity[1] = mathSin(angle) * ry + y;\n        vec2Min(min, extremity, min);\n        vec2Max(max, extremity, max);\n      }\n    }\n  }\n\n  var fromPoints_1 = fromPoints;\n  var fromLine_1 = fromLine;\n  var fromCubic_1 = fromCubic;\n  var fromQuadratic_1 = fromQuadratic;\n  var fromArc_1 = fromArc;\n\n  var bbox = {\n  \tfromPoints: fromPoints_1,\n  \tfromLine: fromLine_1,\n  \tfromCubic: fromCubic_1,\n  \tfromQuadratic: fromQuadratic_1,\n  \tfromArc: fromArc_1\n  };\n\n  var dpr$1 = config.devicePixelRatio;\n\n  /**\n   * Path `buildPath``ctx`, pathpathCommands\n   *  isInsidePath boundingRect\n   *\n   * @module zrender/core/PathProxy\n   * @author Yi Shen (http://www.github.com/pissang)\n   */\n  // TODO getTotalLength, getPointAtLength\n\n  /* global Float32Array */\n  var CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    // Rect\n    R: 7\n  }; // var CMD_MEM_SIZE = {\n  //     M: 3,\n  //     L: 3,\n  //     C: 7,\n  //     Q: 5,\n  //     A: 9,\n  //     R: 5,\n  //     Z: 1\n  // };\n\n  var min$4 = [];\n  var max$3 = [];\n  var min2 = [];\n  var max2 = [];\n  var mathMin$2 = Math.min;\n  var mathMax$2 = Math.max;\n  var mathCos$1 = Math.cos;\n  var mathSin$1 = Math.sin;\n  var mathSqrt$1 = Math.sqrt;\n  var mathAbs = Math.abs;\n  var hasTypedArray = typeof Float32Array !== 'undefined';\n  /**\n   * @alias module:zrender/core/PathProxy\n   * @constructor\n   */\n\n  var PathProxy = function (notSaveData) {\n    this._saveData = !(notSaveData || false);\n\n    if (this._saveData) {\n      /**\n       * Path data. Stored as flat array\n       * @type {Array.<Object>}\n       */\n      this.data = [];\n    }\n\n    this._ctx = null;\n  };\n  /**\n   * Path\n   * @return {Object}\n   */\n\n\n  PathProxy.prototype = {\n    constructor: PathProxy,\n    _xi: 0,\n    _yi: 0,\n    _x0: 0,\n    _y0: 0,\n    // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n    _ux: 0,\n    _uy: 0,\n    _len: 0,\n    _lineDash: null,\n    _dashOffset: 0,\n    _dashIdx: 0,\n    _dashSum: 0,\n\n    /**\n     * @readOnly\n     */\n    setScale: function (sx, sy, segmentIgnoreThreshold) {\n      // Compat. Previously there is no segmentIgnoreThreshold.\n      segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n      this._ux = mathAbs(segmentIgnoreThreshold / dpr$1 / sx) || 0;\n      this._uy = mathAbs(segmentIgnoreThreshold / dpr$1 / sy) || 0;\n    },\n    getContext: function () {\n      return this._ctx;\n    },\n\n    /**\n     * @param  {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    beginPath: function (ctx) {\n      this._ctx = ctx;\n      ctx && ctx.beginPath();\n      ctx && (this.dpr = ctx.dpr); // Reset\n\n      if (this._saveData) {\n        this._len = 0;\n      }\n\n      if (this._lineDash) {\n        this._lineDash = null;\n        this._dashOffset = 0;\n      }\n\n      return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    moveTo: function (x, y) {\n      this.addData(CMD.M, x, y);\n      this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi  _dashedXXXXTo \n      // xi, yi , x0, y0  closePath \n      //  beginPath  lineTo x0, y0 \n      //  lineTo dashed line  IE10- \n\n      this._x0 = x;\n      this._y0 = y;\n      this._xi = x;\n      this._yi = y;\n      return this;\n    },\n\n    /**\n     * @param  {number} x\n     * @param  {number} y\n     * @return {module:zrender/core/PathProxy}\n     */\n    lineTo: function (x, y) {\n      var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n      || this._len < 5;\n      this.addData(CMD.L, x, y);\n\n      if (this._ctx && exceedUnit) {\n        this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n      }\n\n      if (exceedUnit) {\n        this._xi = x;\n        this._yi = y;\n      }\n\n      return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @param  {number} x3\n     * @param  {number} y3\n     * @return {module:zrender/core/PathProxy}\n     */\n    bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n      this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n      if (this._ctx) {\n        this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n      }\n\n      this._xi = x3;\n      this._yi = y3;\n      return this;\n    },\n\n    /**\n     * @param  {number} x1\n     * @param  {number} y1\n     * @param  {number} x2\n     * @param  {number} y2\n     * @return {module:zrender/core/PathProxy}\n     */\n    quadraticCurveTo: function (x1, y1, x2, y2) {\n      this.addData(CMD.Q, x1, y1, x2, y2);\n\n      if (this._ctx) {\n        this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n      }\n\n      this._xi = x2;\n      this._yi = y2;\n      return this;\n    },\n\n    /**\n     * @param  {number} cx\n     * @param  {number} cy\n     * @param  {number} r\n     * @param  {number} startAngle\n     * @param  {number} endAngle\n     * @param  {boolean} anticlockwise\n     * @return {module:zrender/core/PathProxy}\n     */\n    arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n      this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n      this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n      this._xi = mathCos$1(endAngle) * r + cx;\n      this._yi = mathSin$1(endAngle) * r + cy;\n      return this;\n    },\n    // TODO\n    arcTo: function (x1, y1, x2, y2, radius) {\n      if (this._ctx) {\n        this._ctx.arcTo(x1, y1, x2, y2, radius);\n      }\n\n      return this;\n    },\n    // TODO\n    rect: function (x, y, w, h) {\n      this._ctx && this._ctx.rect(x, y, w, h);\n      this.addData(CMD.R, x, y, w, h);\n      return this;\n    },\n\n    /**\n     * @return {module:zrender/core/PathProxy}\n     */\n    closePath: function () {\n      this.addData(CMD.Z);\n      var ctx = this._ctx;\n      var x0 = this._x0;\n      var y0 = this._y0;\n\n      if (ctx) {\n        this._needsDash() && this._dashedLineTo(x0, y0);\n        ctx.closePath();\n      }\n\n      this._xi = x0;\n      this._yi = y0;\n      return this;\n    },\n\n    /**\n     * Context  rebuildPath  fill\n     * stroke \n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    fill: function (ctx) {\n      ctx && ctx.fill();\n      this.toStatic();\n    },\n\n    /**\n     * @param {CanvasRenderingContext2D} ctx\n     * @return {module:zrender/core/PathProxy}\n     */\n    stroke: function (ctx) {\n      ctx && ctx.stroke();\n      this.toStatic();\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDash: function (lineDash) {\n      if (lineDash instanceof Array) {\n        this._lineDash = lineDash;\n        this._dashIdx = 0;\n        var lineDashSum = 0;\n\n        for (var i = 0; i < lineDash.length; i++) {\n          lineDashSum += lineDash[i];\n        }\n\n        this._dashSum = lineDashSum;\n      }\n\n      return this;\n    },\n\n    /**\n     * \n     * Must be invoked before all other path drawing methods\n     * @return {module:zrender/core/PathProxy}\n     */\n    setLineDashOffset: function (offset) {\n      this._dashOffset = offset;\n      return this;\n    },\n\n    /**\n     *\n     * @return {boolean}\n     */\n    len: function () {\n      return this._len;\n    },\n\n    /**\n     *  Path \n     */\n    setData: function (data) {\n      var len = data.length;\n\n      if (!(this.data && this.data.length === len) && hasTypedArray) {\n        this.data = new Float32Array(len);\n      }\n\n      for (var i = 0; i < len; i++) {\n        this.data[i] = data[i];\n      }\n\n      this._len = len;\n    },\n\n    /**\n     * \n     * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n     */\n    appendPath: function (path) {\n      if (!(path instanceof Array)) {\n        path = [path];\n      }\n\n      var len = path.length;\n      var appendSize = 0;\n      var offset = this._len;\n\n      for (var i = 0; i < len; i++) {\n        appendSize += path[i].len();\n      }\n\n      if (hasTypedArray && this.data instanceof Float32Array) {\n        this.data = new Float32Array(offset + appendSize);\n      }\n\n      for (var i = 0; i < len; i++) {\n        var appendPathData = path[i].data;\n\n        for (var k = 0; k < appendPathData.length; k++) {\n          this.data[offset++] = appendPathData[k];\n        }\n      }\n\n      this._len = offset;\n    },\n\n    /**\n     *  Path \n     * \n     */\n    addData: function (cmd) {\n      if (!this._saveData) {\n        return;\n      }\n\n      var data = this.data;\n\n      if (this._len + arguments.length > data.length) {\n        //  Float32Array\n        // \n        this._expandData();\n\n        data = this.data;\n      }\n\n      for (var i = 0; i < arguments.length; i++) {\n        data[this._len++] = arguments[i];\n      }\n\n      this._prevCmd = cmd;\n    },\n    _expandData: function () {\n      // Only if data is Float32Array\n      if (!(this.data instanceof Array)) {\n        var newData = [];\n\n        for (var i = 0; i < this._len; i++) {\n          newData[i] = this.data[i];\n        }\n\n        this.data = newData;\n      }\n    },\n\n    /**\n     * If needs js implemented dashed line\n     * @return {boolean}\n     * @private\n     */\n    _needsDash: function () {\n      return this._lineDash;\n    },\n    _dashedLineTo: function (x1, y1) {\n      var dashSum = this._dashSum;\n      var offset = this._dashOffset;\n      var lineDash = this._lineDash;\n      var ctx = this._ctx;\n      var x0 = this._xi;\n      var y0 = this._yi;\n      var dx = x1 - x0;\n      var dy = y1 - y0;\n      var dist = mathSqrt$1(dx * dx + dy * dy);\n      var x = x0;\n      var y = y0;\n      var dash;\n      var nDash = lineDash.length;\n      var idx;\n      dx /= dist;\n      dy /= dist;\n\n      if (offset < 0) {\n        // Convert to positive offset\n        offset = dashSum + offset;\n      }\n\n      offset %= dashSum;\n      x -= offset * dx;\n      y -= offset * dy;\n\n      while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx === 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n        idx = this._dashIdx;\n        dash = lineDash[idx];\n        x += dx * dash;\n        y += dy * dash;\n        this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n        if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n          continue;\n        }\n\n        ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin$2(x, x1) : mathMax$2(x, x1), dy >= 0 ? mathMin$2(y, y1) : mathMax$2(y, y1));\n      } // Offset for next lineTo\n\n\n      dx = x - x1;\n      dy = y - y1;\n      this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n    // Not accurate dashed line to\n    _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n      var dashSum = this._dashSum;\n      var offset = this._dashOffset;\n      var lineDash = this._lineDash;\n      var ctx = this._ctx;\n      var x0 = this._xi;\n      var y0 = this._yi;\n      var t;\n      var dx;\n      var dy;\n      var cubicAt = curve.cubicAt;\n      var bezierLen = 0;\n      var idx = this._dashIdx;\n      var nDash = lineDash.length;\n      var x;\n      var y;\n      var tmpLen = 0;\n\n      if (offset < 0) {\n        // Convert to positive offset\n        offset = dashSum + offset;\n      }\n\n      offset %= dashSum; // Bezier approx length\n\n      for (t = 0; t < 1; t += 0.1) {\n        dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n        dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n        bezierLen += mathSqrt$1(dx * dx + dy * dy);\n      } // Find idx after add offset\n\n\n      for (; idx < nDash; idx++) {\n        tmpLen += lineDash[idx];\n\n        if (tmpLen > offset) {\n          break;\n        }\n      }\n\n      t = (tmpLen - offset) / bezierLen;\n\n      while (t <= 1) {\n        x = cubicAt(x0, x1, x2, x3, t);\n        y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n        // Bad result if dash is long\n\n        idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n        t += lineDash[idx] / bezierLen;\n        idx = (idx + 1) % nDash;\n      } // Finish the last segment and calculate the new offset\n\n\n      idx % 2 !== 0 && ctx.lineTo(x3, y3);\n      dx = x3 - x;\n      dy = y3 - y;\n      this._dashOffset = -mathSqrt$1(dx * dx + dy * dy);\n    },\n    _dashedQuadraticTo: function (x1, y1, x2, y2) {\n      // Convert quadratic to cubic using degree elevation\n      var x3 = x2;\n      var y3 = y2;\n      x2 = (x2 + 2 * x1) / 3;\n      y2 = (y2 + 2 * y1) / 3;\n      x1 = (this._xi + 2 * x1) / 3;\n      y1 = (this._yi + 2 * y1) / 3;\n\n      this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n    },\n\n    /**\n     *  Float32Array \n     * Convert dynamic array to static Float32Array\n     */\n    toStatic: function () {\n      var data = this.data;\n\n      if (data instanceof Array) {\n        data.length = this._len;\n\n        if (hasTypedArray) {\n          this.data = new Float32Array(data);\n        }\n      }\n    },\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n      min$4[0] = min$4[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n      max$3[0] = max$3[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n      var data = this.data;\n      var xi = 0;\n      var yi = 0;\n      var x0 = 0;\n      var y0 = 0;\n\n      for (var i = 0; i < data.length;) {\n        var cmd = data[i++];\n\n        if (i === 1) {\n          //  L, C, Q\n          //  previous point  point\n          //\n          //  Arc \n          xi = data[i];\n          yi = data[i + 1];\n          x0 = xi;\n          y0 = yi;\n        }\n\n        switch (cmd) {\n          case CMD.M:\n            // moveTo  subpath, \n            //  closePath \n            x0 = data[i++];\n            y0 = data[i++];\n            xi = x0;\n            yi = y0;\n            min2[0] = x0;\n            min2[1] = y0;\n            max2[0] = x0;\n            max2[1] = y0;\n            break;\n\n          case CMD.L:\n            bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.C:\n            bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.Q:\n            bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n            xi = data[i++];\n            yi = data[i++];\n            break;\n\n          case CMD.A:\n            // TODO Arc \n            var cx = data[i++];\n            var cy = data[i++];\n            var rx = data[i++];\n            var ry = data[i++];\n            var startAngle = data[i++];\n            var endAngle = data[i++] + startAngle; // TODO Arc \n\n            i += 1;\n            var anticlockwise = 1 - data[i++];\n\n            if (i === 1) {\n              //  arc \n              // \n              x0 = mathCos$1(startAngle) * rx + cx;\n              y0 = mathSin$1(startAngle) * ry + cy;\n            }\n\n            bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n            xi = mathCos$1(endAngle) * rx + cx;\n            yi = mathSin$1(endAngle) * ry + cy;\n            break;\n\n          case CMD.R:\n            x0 = xi = data[i++];\n            y0 = yi = data[i++];\n            var width = data[i++];\n            var height = data[i++]; // Use fromLine\n\n            bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n            break;\n\n          case CMD.Z:\n            xi = x0;\n            yi = y0;\n            break;\n        } // Union\n\n\n        vector.min(min$4, min$4, min2);\n        vector.max(max$3, max$3, max2);\n      } // No data\n\n\n      if (i === 0) {\n        min$4[0] = min$4[1] = max$3[0] = max$3[1] = 0;\n      }\n\n      return new BoundingRect_1(min$4[0], min$4[1], max$3[0] - min$4[0], max$3[1] - min$4[1]);\n    },\n\n    /**\n     * Rebuild path from current data\n     * Rebuild path will not consider javascript implemented line dash.\n     * @param {CanvasRenderingContext2D} ctx\n     */\n    rebuildPath: function (ctx) {\n      var d = this.data;\n      var x0;\n      var y0;\n      var xi;\n      var yi;\n      var x;\n      var y;\n      var ux = this._ux;\n      var uy = this._uy;\n      var len = this._len;\n\n      for (var i = 0; i < len;) {\n        var cmd = d[i++];\n\n        if (i === 1) {\n          //  L, C, Q\n          //  previous point  point\n          //\n          //  Arc \n          xi = d[i];\n          yi = d[i + 1];\n          x0 = xi;\n          y0 = yi;\n        }\n\n        switch (cmd) {\n          case CMD.M:\n            x0 = xi = d[i++];\n            y0 = yi = d[i++];\n            ctx.moveTo(xi, yi);\n            break;\n\n          case CMD.L:\n            x = d[i++];\n            y = d[i++]; // Not draw too small seg between\n\n            if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n              ctx.lineTo(x, y);\n              xi = x;\n              yi = y;\n            }\n\n            break;\n\n          case CMD.C:\n            ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n            xi = d[i - 2];\n            yi = d[i - 1];\n            break;\n\n          case CMD.Q:\n            ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n            xi = d[i - 2];\n            yi = d[i - 1];\n            break;\n\n          case CMD.A:\n            var cx = d[i++];\n            var cy = d[i++];\n            var rx = d[i++];\n            var ry = d[i++];\n            var theta = d[i++];\n            var dTheta = d[i++];\n            var psi = d[i++];\n            var fs = d[i++];\n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            var isEllipse = Math.abs(rx - ry) > 1e-3;\n            var endAngle = theta + dTheta;\n\n            if (isEllipse) {\n              ctx.translate(cx, cy);\n              ctx.rotate(psi);\n              ctx.scale(scaleX, scaleY);\n              ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n              ctx.scale(1 / scaleX, 1 / scaleY);\n              ctx.rotate(-psi);\n              ctx.translate(-cx, -cy);\n            } else {\n              ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n            }\n\n            if (i === 1) {\n              //  arc \n              // \n              x0 = mathCos$1(theta) * rx + cx;\n              y0 = mathSin$1(theta) * ry + cy;\n            }\n\n            xi = mathCos$1(endAngle) * rx + cx;\n            yi = mathSin$1(endAngle) * ry + cy;\n            break;\n\n          case CMD.R:\n            x0 = xi = d[i];\n            y0 = yi = d[i + 1];\n            ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n            break;\n\n          case CMD.Z:\n            ctx.closePath();\n            xi = x0;\n            yi = y0;\n        }\n      }\n    }\n  };\n  PathProxy.CMD = CMD;\n  var _default$v = PathProxy;\n  var PathProxy_1 = _default$v;\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n      return false;\n    }\n\n    if (x0 !== x1) {\n      _a = (y0 - y1) / (x0 - x1);\n      _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n    } else {\n      return Math.abs(x - x0) <= _l / 2;\n    }\n\n    var tmp = _a * x - y + _b;\n\n    var _s = tmp * tmp / (_a * _a + 1);\n\n    return _s <= _l / 2 * _l / 2;\n  }\n\n  var containStroke_1 = containStroke;\n\n  var line = {\n  \tcontainStroke: containStroke_1\n  };\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  x2\n   * @param  {number}  y2\n   * @param  {number}  x3\n   * @param  {number}  y3\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke$1(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n      return false;\n    }\n\n    var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n    return d <= _l / 2;\n  }\n\n  var containStroke_1$1 = containStroke$1;\n\n  var cubic = {\n  \tcontainStroke: containStroke_1$1\n  };\n\n  var quadraticProjectPoint$1 = curve.quadraticProjectPoint;\n\n  /**\n   * \n   * @param  {number}  x0\n   * @param  {number}  y0\n   * @param  {number}  x1\n   * @param  {number}  y1\n   * @param  {number}  x2\n   * @param  {number}  y2\n   * @param  {number}  lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {boolean}\n   */\n  function containStroke$2(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth; // Quick reject\n\n    if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n      return false;\n    }\n\n    var d = quadraticProjectPoint$1(x0, y0, x1, y1, x2, y2, x, y, null);\n    return d <= _l / 2;\n  }\n\n  var containStroke_1$2 = containStroke$2;\n\n  var quadratic = {\n  \tcontainStroke: containStroke_1$2\n  };\n\n  var PI2$1 = Math.PI * 2;\n\n  function normalizeRadian(angle) {\n    angle %= PI2$1;\n\n    if (angle < 0) {\n      angle += PI2$1;\n    }\n\n    return angle;\n  }\n\n  var normalizeRadian_1 = normalizeRadian;\n\n  var util$1 = {\n  \tnormalizeRadian: normalizeRadian_1\n  };\n\n  var normalizeRadian$1 = util$1.normalizeRadian;\n  var PI2$2 = Math.PI * 2;\n  /**\n   * \n   * @param  {number}  cx\n   * @param  {number}  cy\n   * @param  {number}  r\n   * @param  {number}  startAngle\n   * @param  {number}  endAngle\n   * @param  {boolean}  anticlockwise\n   * @param  {number} lineWidth\n   * @param  {number}  x\n   * @param  {number}  y\n   * @return {Boolean}\n   */\n\n  function containStroke$3(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n    if (lineWidth === 0) {\n      return false;\n    }\n\n    var _l = lineWidth;\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n\n    if (d - _l > r || d + _l < r) {\n      return false;\n    }\n\n    if (Math.abs(startAngle - endAngle) % PI2$2 < 1e-4) {\n      // Is a circle\n      return true;\n    }\n\n    if (anticlockwise) {\n      var tmp = startAngle;\n      startAngle = normalizeRadian$1(endAngle);\n      endAngle = normalizeRadian$1(tmp);\n    } else {\n      startAngle = normalizeRadian$1(startAngle);\n      endAngle = normalizeRadian$1(endAngle);\n    }\n\n    if (startAngle > endAngle) {\n      endAngle += PI2$2;\n    }\n\n    var angle = Math.atan2(y, x);\n\n    if (angle < 0) {\n      angle += PI2$2;\n    }\n\n    return angle >= startAngle && angle <= endAngle || angle + PI2$2 >= startAngle && angle + PI2$2 <= endAngle;\n  }\n\n  var containStroke_1$3 = containStroke$3;\n\n  var arc = {\n  \tcontainStroke: containStroke_1$3\n  };\n\n  function windingLine(x0, y0, x1, y1, x, y) {\n    if (y > y0 && y > y1 || y < y0 && y < y1) {\n      return 0;\n    } // Ignore horizontal line\n\n\n    if (y1 === y0) {\n      return 0;\n    }\n\n    var dir = y1 < y0 ? 1 : -1;\n    var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n    if (t === 1 || t === 0) {\n      dir = y1 < y0 ? 0.5 : -0.5;\n    }\n\n    var x_ = t * (x1 - x0) + x0; // If (x, y) on the line, considered as \"contain\".\n\n    return x_ === x ? Infinity : x_ > x ? dir : 0;\n  }\n\n  var windingLine_1 = windingLine;\n\n  var normalizeRadian$2 = util$1.normalizeRadian;\n\n\n\n\n\n  var CMD$1 = PathProxy_1.CMD;\n  var PI2$3 = Math.PI * 2;\n  var EPSILON$2 = 1e-4;\n\n  function isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON$2;\n  } // \n\n\n  var roots = [-1, -1, -1];\n  var extrema = [-1, -1];\n\n  function swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n  }\n\n  function windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    // Quick reject\n    if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n      return 0;\n    }\n\n    var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n    if (nRoots === 0) {\n      return 0;\n    } else {\n      var w = 0;\n      var nExtrema = -1;\n      var y0_;\n      var y1_;\n\n      for (var i = 0; i < nRoots; i++) {\n        var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n        var unit = t === 0 || t === 1 ? 0.5 : 1;\n        var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (nExtrema < 0) {\n          nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n          if (extrema[1] < extrema[0] && nExtrema > 1) {\n            swapExtrema();\n          }\n\n          y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n          if (nExtrema > 1) {\n            y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n          }\n        }\n\n        if (nExtrema === 2) {\n          // \n          if (t < extrema[0]) {\n            w += y0_ < y0 ? unit : -unit;\n          } else if (t < extrema[1]) {\n            w += y1_ < y0_ ? unit : -unit;\n          } else {\n            w += y3 < y1_ ? unit : -unit;\n          }\n        } else {\n          // \n          if (t < extrema[0]) {\n            w += y0_ < y0 ? unit : -unit;\n          } else {\n            w += y3 < y0_ ? unit : -unit;\n          }\n        }\n      }\n\n      return w;\n    }\n  }\n\n  function windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    // Quick reject\n    if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n      return 0;\n    }\n\n    var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n    if (nRoots === 0) {\n      return 0;\n    } else {\n      var t = curve.quadraticExtremum(y0, y1, y2);\n\n      if (t >= 0 && t <= 1) {\n        var w = 0;\n        var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n        for (var i = 0; i < nRoots; i++) {\n          // Remove one endpoint.\n          var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n          var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n          if (x_ < x) {\n            // Quick reject\n            continue;\n          }\n\n          if (roots[i] < t) {\n            w += y_ < y0 ? unit : -unit;\n          } else {\n            w += y2 < y_ ? unit : -unit;\n          }\n        }\n\n        return w;\n      } else {\n        // Remove one endpoint.\n        var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n        if (x_ < x) {\n          // Quick reject\n          return 0;\n        }\n\n        return y2 < y0 ? unit : -unit;\n      }\n    }\n  } // TODO\n  // Arc \n\n\n  function windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n    y -= cy;\n\n    if (y > r || y < -r) {\n      return 0;\n    }\n\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n    var diff = Math.abs(startAngle - endAngle);\n\n    if (diff < 1e-4) {\n      return 0;\n    }\n\n    if (diff % PI2$3 < 1e-4) {\n      // Is a circle\n      startAngle = 0;\n      endAngle = PI2$3;\n      var dir = anticlockwise ? 1 : -1;\n\n      if (x >= roots[0] + cx && x <= roots[1] + cx) {\n        return dir;\n      } else {\n        return 0;\n      }\n    }\n\n    if (anticlockwise) {\n      var tmp = startAngle;\n      startAngle = normalizeRadian$2(endAngle);\n      endAngle = normalizeRadian$2(tmp);\n    } else {\n      startAngle = normalizeRadian$2(startAngle);\n      endAngle = normalizeRadian$2(endAngle);\n    }\n\n    if (startAngle > endAngle) {\n      endAngle += PI2$3;\n    }\n\n    var w = 0;\n\n    for (var i = 0; i < 2; i++) {\n      var x_ = roots[i];\n\n      if (x_ + cx > x) {\n        var angle = Math.atan2(y, x_);\n        var dir = anticlockwise ? 1 : -1;\n\n        if (angle < 0) {\n          angle = PI2$3 + angle;\n        }\n\n        if (angle >= startAngle && angle <= endAngle || angle + PI2$3 >= startAngle && angle + PI2$3 <= endAngle) {\n          if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n            dir = -dir;\n          }\n\n          w += dir;\n        }\n      }\n    }\n\n    return w;\n  }\n\n  function containPath(data, lineWidth, isStroke, x, y) {\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++]; // Begin a new subpath\n\n      if (cmd === CMD$1.M && i > 1) {\n        // Close previous subpath\n        if (!isStroke) {\n          w += windingLine_1(xi, yi, x0, y0, x, y);\n        } //  subpath \n        // if (w !== 0) {\n        //     return true;\n        // }\n\n      }\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD$1.M:\n          // moveTo  subpath, \n          //  closePath \n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          break;\n\n        case CMD$1.L:\n          if (isStroke) {\n            if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // NOTE  L, C, Q  NaN\n            w += windingLine_1(xi, yi, data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.C:\n          if (isStroke) {\n            if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.Q:\n          if (isStroke) {\n            if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n          }\n\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD$1.A:\n          // TODO Arc \n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var theta = data[i++];\n          var dTheta = data[i++]; // TODO Arc \n\n          i += 1;\n          var anticlockwise = 1 - data[i++];\n          var x1 = Math.cos(theta) * rx + cx;\n          var y1 = Math.sin(theta) * ry + cy; //  arc \n\n          if (i > 1) {\n            w += windingLine_1(xi, yi, x1, y1, x, y);\n          } else {\n            // \n            x0 = x1;\n            y0 = y1;\n          } // zr scale, x\n\n\n          var _x = (x - cx) * ry / rx + cx;\n\n          if (isStroke) {\n            if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n              return true;\n            }\n          } else {\n            w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n          }\n\n          xi = Math.cos(theta + dTheta) * rx + cx;\n          yi = Math.sin(theta + dTheta) * ry + cy;\n          break;\n\n        case CMD$1.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++];\n          var x1 = x0 + width;\n          var y1 = y0 + height;\n\n          if (isStroke) {\n            if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // FIXME Clockwise ?\n            w += windingLine_1(x1, y0, x1, y1, x, y);\n            w += windingLine_1(x0, y1, x0, y0, x, y);\n          }\n\n          break;\n\n        case CMD$1.Z:\n          if (isStroke) {\n            if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n              return true;\n            }\n          } else {\n            // Close a subpath\n            w += windingLine_1(xi, yi, x0, y0, x, y); //  subpath \n            // FIXME subpaths may overlap\n            // if (w !== 0) {\n            //     return true;\n            // }\n          }\n\n          xi = x0;\n          yi = y0;\n          break;\n      }\n    }\n\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n      w += windingLine_1(xi, yi, x0, y0, x, y) || 0;\n    }\n\n    return w !== 0;\n  }\n\n  function contain(pathData, x, y) {\n    return containPath(pathData, 0, false, x, y);\n  }\n\n  function containStroke$4(pathData, lineWidth, x, y) {\n    return containPath(pathData, lineWidth, true, x, y);\n  }\n\n  var contain_1 = contain;\n  var containStroke_1$4 = containStroke$4;\n\n  var path$1 = {\n  \tcontain: contain_1,\n  \tcontainStroke: containStroke_1$4\n  };\n\n  var getCanvasPattern = Pattern_1.prototype.getCanvasPattern;\n  var abs = Math.abs;\n  var pathProxyForDraw = new PathProxy_1(true);\n  /**\n   * @alias module:zrender/graphic/Path\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n\n  function Path(opts) {\n    Displayable_1.call(this, opts);\n    /**\n     * @type {module:zrender/core/PathProxy}\n     * @readOnly\n     */\n\n    this.path = null;\n  }\n\n  Path.prototype = {\n    constructor: Path,\n    type: 'path',\n    __dirtyPath: true,\n    strokeContainThreshold: 5,\n    // This item default to be false. But in map series in echarts,\n    // in order to improve performance, it should be set to true,\n    // so the shorty segment won't draw.\n    segmentIgnoreThreshold: 0,\n\n    /**\n     * See `module:zrender/src/graphic/helper/subPixelOptimize`.\n     * @type {boolean}\n     */\n    subPixelOptimize: false,\n    brush: function (ctx, prevEl) {\n      var style = this.style;\n      var path = this.path || pathProxyForDraw;\n      var hasStroke = style.hasStroke();\n      var hasFill = style.hasFill();\n      var fill = style.fill;\n      var stroke = style.stroke;\n      var hasFillGradient = hasFill && !!fill.colorStops;\n      var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n      var hasFillPattern = hasFill && !!fill.image;\n      var hasStrokePattern = hasStroke && !!stroke.image;\n      style.bind(ctx, this, prevEl);\n      this.setTransform(ctx);\n\n      if (this.__dirty) {\n        var rect; // Update gradient because bounding rect may changed\n\n        if (hasFillGradient) {\n          rect = rect || this.getBoundingRect();\n          this._fillGradient = style.getGradient(ctx, fill, rect);\n        }\n\n        if (hasStrokeGradient) {\n          rect = rect || this.getBoundingRect();\n          this._strokeGradient = style.getGradient(ctx, stroke, rect);\n        }\n      } // Use the gradient or pattern\n\n\n      if (hasFillGradient) {\n        // PENDING If may have affect the state\n        ctx.fillStyle = this._fillGradient;\n      } else if (hasFillPattern) {\n        ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n      }\n\n      if (hasStrokeGradient) {\n        ctx.strokeStyle = this._strokeGradient;\n      } else if (hasStrokePattern) {\n        ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n      }\n\n      var lineDash = style.lineDash;\n      var lineDashOffset = style.lineDashOffset;\n      var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n      var scale = this.getGlobalScale();\n      path.setScale(scale[0], scale[1], this.segmentIgnoreThreshold); // Proxy context\n      // Rebuild path in following 2 cases\n      // 1. Path is dirty\n      // 2. Path needs javascript implemented lineDash stroking.\n      //    In this case, lineDash information will not be saved in PathProxy\n\n      if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n        path.beginPath(ctx); // Setting line dash before build path\n\n        if (lineDash && !ctxLineDash) {\n          path.setLineDash(lineDash);\n          path.setLineDashOffset(lineDashOffset);\n        }\n\n        this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n        if (this.path) {\n          this.__dirtyPath = false;\n        }\n      } else {\n        // Replay path building\n        ctx.beginPath();\n        this.path.rebuildPath(ctx);\n      }\n\n      if (hasFill) {\n        if (style.fillOpacity != null) {\n          var originalGlobalAlpha = ctx.globalAlpha;\n          ctx.globalAlpha = style.fillOpacity * style.opacity;\n          path.fill(ctx);\n          ctx.globalAlpha = originalGlobalAlpha;\n        } else {\n          path.fill(ctx);\n        }\n      }\n\n      if (lineDash && ctxLineDash) {\n        ctx.setLineDash(lineDash);\n        ctx.lineDashOffset = lineDashOffset;\n      }\n\n      if (hasStroke) {\n        if (style.strokeOpacity != null) {\n          var originalGlobalAlpha = ctx.globalAlpha;\n          ctx.globalAlpha = style.strokeOpacity * style.opacity;\n          path.stroke(ctx);\n          ctx.globalAlpha = originalGlobalAlpha;\n        } else {\n          path.stroke(ctx);\n        }\n      }\n\n      if (lineDash && ctxLineDash) {\n        // PENDING\n        // Remove lineDash\n        ctx.setLineDash([]);\n      } // Draw rect text\n\n\n      if (style.text != null) {\n        // Only restore transform when needs draw text.\n        this.restoreTransform(ctx);\n        this.drawRectText(ctx, this.getBoundingRect());\n      }\n    },\n    // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n    // Like in circle\n    buildPath: function (ctx, shapeCfg, inBundle) {},\n    createPathProxy: function () {\n      this.path = new PathProxy_1();\n    },\n    getBoundingRect: function () {\n      var rect = this._rect;\n      var style = this.style;\n      var needsUpdateRect = !rect;\n\n      if (needsUpdateRect) {\n        var path = this.path;\n\n        if (!path) {\n          // Create path on demand.\n          path = this.path = new PathProxy_1();\n        }\n\n        if (this.__dirtyPath) {\n          path.beginPath();\n          this.buildPath(path, this.shape, false);\n        }\n\n        rect = path.getBoundingRect();\n      }\n\n      this._rect = rect;\n\n      if (style.hasStroke()) {\n        // Needs update rect with stroke lineWidth when\n        // 1. Element changes scale or lineWidth\n        // 2. Shape is changed\n        var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n        if (this.__dirty || needsUpdateRect) {\n          rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n          var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n          var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n          if (!style.hasFill()) {\n            w = Math.max(w, this.strokeContainThreshold || 4);\n          } // Consider line width\n          // Line scale can't be 0;\n\n\n          if (lineScale > 1e-10) {\n            rectWithStroke.width += w / lineScale;\n            rectWithStroke.height += w / lineScale;\n            rectWithStroke.x -= w / lineScale / 2;\n            rectWithStroke.y -= w / lineScale / 2;\n          }\n        } // Return rect with stroke\n\n\n        return rectWithStroke;\n      }\n\n      return rect;\n    },\n    contain: function (x, y) {\n      var localPos = this.transformCoordToLocal(x, y);\n      var rect = this.getBoundingRect();\n      var style = this.style;\n      x = localPos[0];\n      y = localPos[1];\n\n      if (rect.contain(x, y)) {\n        var pathData = this.path.data;\n\n        if (style.hasStroke()) {\n          var lineWidth = style.lineWidth;\n          var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n          if (lineScale > 1e-10) {\n            // Only add extra hover lineWidth when there are no fill\n            if (!style.hasFill()) {\n              lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n            }\n\n            if (path$1.containStroke(pathData, lineWidth / lineScale, x, y)) {\n              return true;\n            }\n          }\n        }\n\n        if (style.hasFill()) {\n          return path$1.contain(pathData, x, y);\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * @param  {boolean} dirtyPath\n     */\n    dirty: function (dirtyPath) {\n      if (dirtyPath == null) {\n        dirtyPath = true;\n      } // Only mark dirty, not mark clean\n\n\n      if (dirtyPath) {\n        this.__dirtyPath = dirtyPath;\n        this._rect = null;\n      }\n\n      this.__dirty = this.__dirtyText = true;\n      this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n      if (this.__clipTarget) {\n        this.__clipTarget.dirty();\n      }\n    },\n\n    /**\n     * Alias for animate('shape')\n     * @param {boolean} loop\n     */\n    animateShape: function (loop) {\n      return this.animate('shape', loop);\n    },\n    // Overwrite attrKV\n    attrKV: function (key, value) {\n      // FIXME\n      if (key === 'shape') {\n        this.setShape(value);\n        this.__dirtyPath = true;\n        this._rect = null;\n      } else {\n        Displayable_1.prototype.attrKV.call(this, key, value);\n      }\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} value\n     */\n    setShape: function (key, value) {\n      var shape = this.shape; // Path from string may not have shape\n\n      if (shape) {\n        if (util.isObject(key)) {\n          for (var name in key) {\n            if (key.hasOwnProperty(name)) {\n              shape[name] = key[name];\n            }\n          }\n        } else {\n          shape[key] = value;\n        }\n\n        this.dirty(true);\n      }\n\n      return this;\n    },\n    getLineScale: function () {\n      var m = this.transform; // Get the line scale.\n      // Determinant of `m` means how much the area is enlarged by the\n      // transformation. So its square root can be used as a scale factor\n      // for width.\n\n      return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n    }\n  };\n  /**\n   *  Path element, \n   * Extend a path element\n   * @param {Object} props\n   * @param {string} props.type Path type\n   * @param {Function} props.init Initialize\n   * @param {Function} props.buildPath Overwrite buildPath method\n   * @param {Object} [props.style] Extended default style config\n   * @param {Object} [props.shape] Extended default shape config\n   */\n\n  Path.extend = function (defaults) {\n    var Sub = function (opts) {\n      Path.call(this, opts);\n\n      if (defaults.style) {\n        // Extend default style\n        this.style.extendFrom(defaults.style, false);\n      } // Extend default shape\n\n\n      var defaultShape = defaults.shape;\n\n      if (defaultShape) {\n        this.shape = this.shape || {};\n        var thisShape = this.shape;\n\n        for (var name in defaultShape) {\n          if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n            thisShape[name] = defaultShape[name];\n          }\n        }\n      }\n\n      defaults.init && defaults.init.call(this, opts);\n    };\n\n    util.inherits(Sub, Path); // FIXME  extend position, rotation \n\n    for (var name in defaults) {\n      // Extending prototype values and methods\n      if (name !== 'style' && name !== 'shape') {\n        Sub.prototype[name] = defaults[name];\n      }\n    }\n\n    return Sub;\n  };\n\n  util.inherits(Path, Displayable_1);\n  var _default$w = Path;\n  var Path_1 = _default$w;\n\n  var v2ApplyTransform$1 = vector.applyTransform;\n  var CMD$2 = PathProxy_1.CMD;\n  var points = [[], [], []];\n  var mathSqrt$2 = Math.sqrt;\n  var mathAtan2 = Math.atan2;\n\n  function _default$x(path, m) {\n    var data = path.data;\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD$2.M;\n    var C = CMD$2.C;\n    var L = CMD$2.L;\n    var R = CMD$2.R;\n    var A = CMD$2.A;\n    var Q = CMD$2.Q;\n\n    for (i = 0, j = 0; i < data.length;) {\n      cmd = data[i++];\n      j = i;\n      nPoint = 0;\n\n      switch (cmd) {\n        case M:\n          nPoint = 1;\n          break;\n\n        case L:\n          nPoint = 1;\n          break;\n\n        case C:\n          nPoint = 3;\n          break;\n\n        case Q:\n          nPoint = 2;\n          break;\n\n        case A:\n          var x = m[4];\n          var y = m[5];\n          var sx = mathSqrt$2(m[0] * m[0] + m[1] * m[1]);\n          var sy = mathSqrt$2(m[2] * m[2] + m[3] * m[3]);\n          var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n          data[i] *= sx;\n          data[i++] += x; // cy\n\n          data[i] *= sy;\n          data[i++] += y; // Scale rx and ry\n          // FIXME Assume psi is 0 here\n\n          data[i++] *= sx;\n          data[i++] *= sy; // Start angle\n\n          data[i++] += angle; // end angle\n\n          data[i++] += angle; // FIXME psi\n\n          i += 2;\n          j = i;\n          break;\n\n        case R:\n          // x0, y0\n          p[0] = data[i++];\n          p[1] = data[i++];\n          v2ApplyTransform$1(p, p, m);\n          data[j++] = p[0];\n          data[j++] = p[1]; // x1, y1\n\n          p[0] += data[i++];\n          p[1] += data[i++];\n          v2ApplyTransform$1(p, p, m);\n          data[j++] = p[0];\n          data[j++] = p[1];\n      }\n\n      for (k = 0; k < nPoint; k++) {\n        var p = points[k];\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform$1(p, p, m); // Write back\n\n        data[j++] = p[0];\n        data[j++] = p[1];\n      }\n    }\n  }\n\n  var transformPath = _default$x;\n\n  // command chars\n  // var cc = [\n  //     'm', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z',\n  //     'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'\n  // ];\n  var mathSqrt$3 = Math.sqrt;\n  var mathSin$2 = Math.sin;\n  var mathCos$2 = Math.cos;\n  var PI = Math.PI;\n\n  var vMag = function (v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n  };\n\n  var vRatio = function (u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n  };\n\n  var vAngle = function (u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n  };\n\n  function processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos$2(psi) * (x1 - x2) / 2.0 + mathSin$2(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin$2(psi) * (x1 - x2) / 2.0 + mathCos$2(psi) * (y1 - y2) / 2.0;\n    var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n    if (lambda > 1) {\n      rx *= mathSqrt$3(lambda);\n      ry *= mathSqrt$3(lambda);\n    }\n\n    var f = (fa === fs ? -1 : 1) * mathSqrt$3((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0 + mathCos$2(psi) * cxp - mathSin$2(psi) * cyp;\n    var cy = (y1 + y2) / 2.0 + mathSin$2(psi) * cxp + mathCos$2(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n\n    if (vRatio(u, v) <= -1) {\n      dTheta = PI;\n    }\n\n    if (vRatio(u, v) >= 1) {\n      dTheta = 0;\n    }\n\n    if (fs === 0 && dTheta > 0) {\n      dTheta = dTheta - 2 * PI;\n    }\n\n    if (fs === 1 && dTheta < 0) {\n      dTheta = dTheta + 2 * PI;\n    }\n\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n  }\n\n  var commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig; // Consider case:\n  // (1) delimiter can be comma or space, where continuous commas\n  // or spaces should be seen as one comma.\n  // (2) value can be like:\n  // '2e-4', 'l.5.9' (ignore 0), 'M-10-10', 'l-2.43e-1,34.9983',\n  // 'l-.5E1,54', '121-23-44-11' (no delimiter)\n\n  var numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g; // var valueSplitReg = /[\\s,]+/;\n\n  function createPathProxyFromString(data) {\n    if (!data) {\n      return new PathProxy_1();\n    } // var data = data.replace(/-/g, ' -')\n    //     .replace(/  /g, ' ')\n    //     .replace(/ /g, ',')\n    //     .replace(/,,/g, ',');\n    // var n;\n    // create pipes so that we can split the data\n    // for (n = 0; n < cc.length; n++) {\n    //     cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n    // }\n    // data = data.replace(/-/g, ',-');\n    // create array\n    // var arr = cs.split('|');\n    // init context point\n\n\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var path = new PathProxy_1();\n    var CMD = PathProxy_1.CMD; // commandReg.lastIndex = 0;\n    // var cmdResult;\n    // while ((cmdResult = commandReg.exec(data)) != null) {\n    //     var cmdStr = cmdResult[1];\n    //     var cmdContent = cmdResult[2];\n\n    var cmdList = data.match(commandReg);\n\n    for (var l = 0; l < cmdList.length; l++) {\n      var cmdText = cmdList[l];\n      var cmdStr = cmdText.charAt(0);\n      var cmd; // String#split is faster a little bit than String#replace or RegExp#exec.\n      // var p = cmdContent.split(valueSplitReg);\n      // var pLen = 0;\n      // for (var i = 0; i < p.length; i++) {\n      //     // '' and other invalid str => NaN\n      //     var val = parseFloat(p[i]);\n      //     !isNaN(val) && (p[pLen++] = val);\n      // }\n\n      var p = cmdText.match(numberReg) || [];\n      var pLen = p.length;\n\n      for (var i = 0; i < pLen; i++) {\n        p[i] = parseFloat(p[i]);\n      }\n\n      var off = 0;\n\n      while (off < pLen) {\n        var ctlPtx;\n        var ctlPty;\n        var rx;\n        var ry;\n        var psi;\n        var fa;\n        var fs;\n        var x1 = cpx;\n        var y1 = cpy; // convert l, H, h, V, and v to L\n\n        switch (cmdStr) {\n          case 'l':\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'L':\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'm':\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.M;\n            path.addData(cmd, cpx, cpy);\n            subpathX = cpx;\n            subpathY = cpy;\n            cmdStr = 'l';\n            break;\n\n          case 'M':\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.M;\n            path.addData(cmd, cpx, cpy);\n            subpathX = cpx;\n            subpathY = cpy;\n            cmdStr = 'L';\n            break;\n\n          case 'h':\n            cpx += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'H':\n            cpx = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'v':\n            cpy += p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'V':\n            cpy = p[off++];\n            cmd = CMD.L;\n            path.addData(cmd, cpx, cpy);\n            break;\n\n          case 'C':\n            cmd = CMD.C;\n            path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n            cpx = p[off - 2];\n            cpy = p[off - 1];\n            break;\n\n          case 'c':\n            cmd = CMD.C;\n            path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n            cpx += p[off - 2];\n            cpy += p[off - 1];\n            break;\n\n          case 'S':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.C) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cmd = CMD.C;\n            x1 = p[off++];\n            y1 = p[off++];\n            cpx = p[off++];\n            cpy = p[off++];\n            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n            break;\n\n          case 's':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.C) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cmd = CMD.C;\n            x1 = cpx + p[off++];\n            y1 = cpy + p[off++];\n            cpx += p[off++];\n            cpy += p[off++];\n            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n            break;\n\n          case 'Q':\n            x1 = p[off++];\n            y1 = p[off++];\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, x1, y1, cpx, cpy);\n            break;\n\n          case 'q':\n            x1 = p[off++] + cpx;\n            y1 = p[off++] + cpy;\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, x1, y1, cpx, cpy);\n            break;\n\n          case 'T':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.Q) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 't':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            var len = path.len();\n            var pathData = path.data;\n\n            if (prevCmd === CMD.Q) {\n              ctlPtx += cpx - pathData[len - 4];\n              ctlPty += cpy - pathData[len - 3];\n            }\n\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.Q;\n            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 'A':\n            rx = p[off++];\n            ry = p[off++];\n            psi = p[off++];\n            fa = p[off++];\n            fs = p[off++];\n            x1 = cpx, y1 = cpy;\n            cpx = p[off++];\n            cpy = p[off++];\n            cmd = CMD.A;\n            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n            break;\n\n          case 'a':\n            rx = p[off++];\n            ry = p[off++];\n            psi = p[off++];\n            fa = p[off++];\n            fs = p[off++];\n            x1 = cpx, y1 = cpy;\n            cpx += p[off++];\n            cpy += p[off++];\n            cmd = CMD.A;\n            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n            break;\n        }\n      }\n\n      if (cmdStr === 'z' || cmdStr === 'Z') {\n        cmd = CMD.Z;\n        path.addData(cmd); // z may be in the middle of the path.\n\n        cpx = subpathX;\n        cpy = subpathY;\n      }\n\n      prevCmd = cmd;\n    }\n\n    path.toStatic();\n    return path;\n  } // TODO Optimize double memory cost problem\n\n\n  function createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    opts = opts || {};\n\n    opts.buildPath = function (path) {\n      if (path.setData) {\n        path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n        var ctx = path.getContext();\n\n        if (ctx) {\n          path.rebuildPath(ctx);\n        }\n      } else {\n        var ctx = path;\n        pathProxy.rebuildPath(ctx);\n      }\n    };\n\n    opts.applyTransform = function (m) {\n      transformPath(pathProxy, m);\n      this.dirty(true);\n    };\n\n    return opts;\n  }\n  /**\n   * Create a Path object from path string data\n   * http://www.w3.org/TR/SVG/paths.html#PathData\n   * @param  {Object} opts Other options\n   */\n\n\n  function createFromString(str, opts) {\n    return new Path_1(createPathOptions(str, opts));\n  }\n  /**\n   * Create a Path class from path string data\n   * @param  {string} str\n   * @param  {Object} opts Other options\n   */\n\n\n  function extendFromString(str, opts) {\n    return Path_1.extend(createPathOptions(str, opts));\n  }\n  /**\n   * Merge multiple paths\n   */\n  // TODO Apply transform\n  // TODO stroke dash\n  // TODO Optimize double memory cost problem\n\n\n  function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n\n    for (var i = 0; i < len; i++) {\n      var pathEl = pathEls[i];\n\n      if (!pathEl.path) {\n        pathEl.createPathProxy();\n      }\n\n      if (pathEl.__dirtyPath) {\n        pathEl.buildPath(pathEl.path, pathEl.shape, true);\n      }\n\n      pathList.push(pathEl.path);\n    }\n\n    var pathBundle = new Path_1(opts); // Need path proxy.\n\n    pathBundle.createPathProxy();\n\n    pathBundle.buildPath = function (path) {\n      path.appendPath(pathList); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    };\n\n    return pathBundle;\n  }\n\n  var createFromString_1 = createFromString;\n  var extendFromString_1 = extendFromString;\n  var mergePath_1 = mergePath;\n\n  var path$2 = {\n  \tcreateFromString: createFromString_1,\n  \textendFromString: extendFromString_1,\n  \tmergePath: mergePath_1\n  };\n\n  var ContextCachedBy$3 = constant.ContextCachedBy;\n\n  /**\n   * @alias zrender/graphic/Text\n   * @extends module:zrender/graphic/Displayable\n   * @constructor\n   * @param {Object} opts\n   */\n  var Text = function (opts) {\n    // jshint ignore:line\n    Displayable_1.call(this, opts);\n  };\n\n  Text.prototype = {\n    constructor: Text,\n    type: 'text',\n    brush: function (ctx, prevEl) {\n      var style = this.style; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n      style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n      var text = style.text; // Convert to string\n\n      text != null && (text += ''); // Do not apply style.bind in Text node. Because the real bind job\n      // is in textHelper.renderText, and performance of text render should\n      // be considered.\n      // style.bind(ctx, this, prevEl);\n\n      if (!text$1.needDrawText(text, style)) {\n        // The current el.style is not applied\n        // and should not be used as cache.\n        ctx.__attrCachedBy = ContextCachedBy$3.NONE;\n        return;\n      }\n\n      this.setTransform(ctx);\n      text$1.renderText(this, ctx, text, style, null, prevEl);\n      this.restoreTransform(ctx);\n    },\n    getBoundingRect: function () {\n      var style = this.style; // Optimize, avoid normalize every time.\n\n      this.__dirty && text$1.normalizeTextStyle(style, true);\n\n      if (!this._rect) {\n        var text$2 = style.text;\n        text$2 != null ? text$2 += '' : text$2 = '';\n        var rect = text.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.textLineHeight, style.rich);\n        rect.x += style.x || 0;\n        rect.y += style.y || 0;\n\n        if (text$1.getStroke(style.textStroke, style.textStrokeWidth)) {\n          var w = style.textStrokeWidth;\n          rect.x -= w / 2;\n          rect.y -= w / 2;\n          rect.width += w;\n          rect.height += w;\n        }\n\n        this._rect = rect;\n      }\n\n      return this._rect;\n    }\n  };\n  util.inherits(Text, Displayable_1);\n  var _default$y = Text;\n  var Text_1 = _default$y;\n\n  /**\n   * \n   * @module zrender/shape/Circle\n   */\n  var _default$z = Path_1.extend({\n    type: 'circle',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0\n    },\n    buildPath: function (ctx, shape, inBundle) {\n      // Better stroking in ShapeBundle\n      // Always do it may have performence issue ( fill may be 2x more cost)\n      if (inBundle) {\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\n      } // else {\n      //     if (ctx.allocate && !ctx.data.length) {\n      //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n      //     }\n      // }\n      // Better stroking in ShapeBundle\n      // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n      ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n    }\n  });\n\n  var Circle = _default$z;\n\n  // Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n  // where exception \"unexpected call to method or property access\"\n  // might be thrown when calling ctx.fill or ctx.stroke after a path\n  // whose area size is zero is drawn and ctx.clip() is called and\n  // shadowBlur is set. See #4572, #3112, #5777.\n  // (e.g.,\n  //  ctx.moveTo(10, 10);\n  //  ctx.lineTo(20, 10);\n  //  ctx.closePath();\n  //  ctx.clip();\n  //  ctx.shadowBlur = 10;\n  //  ...\n  //  ctx.fill();\n  // )\n  var shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\n  function _default$A(orignalBrush) {\n    // version string can be: '11.0'\n    return env_1.browser.ie && env_1.browser.version >= 11 ? function () {\n      var clipPaths = this.__clipPaths;\n      var style = this.style;\n      var modified;\n\n      if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n          var clipPath = clipPaths[i];\n          var shape = clipPath && clipPath.shape;\n          var type = clipPath && clipPath.type;\n\n          if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n            for (var j = 0; j < shadowTemp.length; j++) {\n              // It is save to put shadowTemp static, because shadowTemp\n              // will be all modified each item brush called.\n              shadowTemp[j][2] = style[shadowTemp[j][0]];\n              style[shadowTemp[j][0]] = shadowTemp[j][1];\n            }\n\n            modified = true;\n            break;\n          }\n        }\n      }\n\n      orignalBrush.apply(this, arguments);\n\n      if (modified) {\n        for (var j = 0; j < shadowTemp.length; j++) {\n          style[shadowTemp[j][0]] = shadowTemp[j][2];\n        }\n      }\n    } : orignalBrush;\n  }\n\n  var fixClipWithShadow = _default$A;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Sector\n   */\n  var _default$B = Path_1.extend({\n    type: 'sector',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r0: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r0 = Math.max(shape.r0 || 0, 0);\n      var r = Math.max(shape.r, 0);\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitX = Math.cos(startAngle);\n      var unitY = Math.sin(startAngle);\n      ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n      ctx.lineTo(unitX * r + x, unitY * r + y);\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n      ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n      if (r0 !== 0) {\n        ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      }\n\n      ctx.closePath();\n    }\n  });\n\n  var Sector = _default$B;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Ring\n   */\n  var _default$C = Path_1.extend({\n    type: 'ring',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0,\n      r0: 0\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var PI2 = Math.PI * 2;\n      ctx.moveTo(x + shape.r, y);\n      ctx.arc(x, y, shape.r, 0, PI2, false);\n      ctx.moveTo(x + shape.r0, y);\n      ctx.arc(x, y, shape.r0, 0, PI2, true);\n    }\n  });\n\n  var Ring = _default$C;\n\n  var v2Distance = vector.distance;\n\n  /**\n   * Catmull-Rom spline \n   * @module zrender/shape/util/smoothSpline\n   * @author pissang (https://www.github.com/pissang)\n   *         Kener (@Kener-, kener.linfeng@gmail.com)\n   *         errorrik (errorrik@gmail.com)\n   */\n\n  /**\n   * @inner\n   */\n  function interpolate(p0, p1, p2, p3, t, t2, t3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n  }\n  /**\n   * @alias module:zrender/shape/util/smoothSpline\n   * @param {Array} points \n   * @param {boolean} isLoop\n   * @return {Array}\n   */\n\n\n  function _default$D(points, isLoop) {\n    var len = points.length;\n    var ret = [];\n    var distance = 0;\n\n    for (var i = 1; i < len; i++) {\n      distance += v2Distance(points[i - 1], points[i]);\n    }\n\n    var segs = distance / 2;\n    segs = segs < len ? len : segs;\n\n    for (var i = 0; i < segs; i++) {\n      var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n      var idx = Math.floor(pos);\n      var w = pos - idx;\n      var p0;\n      var p1 = points[idx % len];\n      var p2;\n      var p3;\n\n      if (!isLoop) {\n        p0 = points[idx === 0 ? idx : idx - 1];\n        p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n        p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n      } else {\n        p0 = points[(idx - 1 + len) % len];\n        p2 = points[(idx + 1) % len];\n        p3 = points[(idx + 2) % len];\n      }\n\n      var w2 = w * w;\n      var w3 = w * w2;\n      ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n    }\n\n    return ret;\n  }\n\n  var smoothSpline = _default$D;\n\n  var v2Min = vector.min;\n  var v2Max = vector.max;\n  var v2Scale = vector.scale;\n  var v2Distance$1 = vector.distance;\n  var v2Add = vector.add;\n  var v2Clone = vector.clone;\n  var v2Sub = vector.sub;\n\n  /**\n   * \n   * @module zrender/shape/util/smoothBezier\n   * @author pissang (https://www.github.com/pissang)\n   *         Kener (@Kener-, kener.linfeng@gmail.com)\n   *         errorrik (errorrik@gmail.com)\n   */\n\n  /**\n   * \n   * @alias module:zrender/shape/util/smoothBezier\n   * @param {Array} points \n   * @param {number} smooth , 0-1\n   * @param {boolean} isLoop\n   * @param {Array} constraint \n   *                            [[0, 0], [100, 100]], \n   *                           \n   * @param {Array} \n   */\n  function _default$E(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n\n    if (constraint) {\n      min = [Infinity, Infinity];\n      max = [-Infinity, -Infinity];\n\n      for (var i = 0, len = points.length; i < len; i++) {\n        v2Min(min, min, points[i]);\n        v2Max(max, max, points[i]);\n      } // \n\n\n      v2Min(min, min, constraint[0]);\n      v2Max(max, max, constraint[1]);\n    }\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      var point = points[i];\n\n      if (isLoop) {\n        prevPoint = points[i ? i - 1 : len - 1];\n        nextPoint = points[(i + 1) % len];\n      } else {\n        if (i === 0 || i === len - 1) {\n          cps.push(v2Clone(points[i]));\n          continue;\n        } else {\n          prevPoint = points[i - 1];\n          nextPoint = points[i + 1];\n        }\n      }\n\n      v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n      v2Scale(v, v, smooth);\n      var d0 = v2Distance$1(point, prevPoint);\n      var d1 = v2Distance$1(point, nextPoint);\n      var sum = d0 + d1;\n\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      v2Scale(v1, v, -d0);\n      v2Scale(v2, v, d1);\n      var cp0 = v2Add([], point, v1);\n      var cp1 = v2Add([], point, v2);\n\n      if (constraint) {\n        v2Max(cp0, cp0, min);\n        v2Min(cp0, cp0, max);\n        v2Max(cp1, cp1, min);\n        v2Min(cp1, cp1, max);\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n    }\n\n    if (isLoop) {\n      cps.push(cps.shift());\n    }\n\n    return cps;\n  }\n\n  var smoothBezier = _default$E;\n\n  function buildPath$1(ctx, shape, closePath) {\n    var points = shape.points;\n    var smooth = shape.smooth;\n\n    if (points && points.length >= 2) {\n      if (smooth && smooth !== 'spline') {\n        var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n        ctx.moveTo(points[0][0], points[0][1]);\n        var len = points.length;\n\n        for (var i = 0; i < (closePath ? len : len - 1); i++) {\n          var cp1 = controlPoints[i * 2];\n          var cp2 = controlPoints[i * 2 + 1];\n          var p = points[(i + 1) % len];\n          ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n        }\n      } else {\n        if (smooth === 'spline') {\n          points = smoothSpline(points, closePath);\n        }\n\n        ctx.moveTo(points[0][0], points[0][1]);\n\n        for (var i = 1, l = points.length; i < l; i++) {\n          ctx.lineTo(points[i][0], points[i][1]);\n        }\n      }\n\n      closePath && ctx.closePath();\n    }\n  }\n\n  var buildPath_1$1 = buildPath$1;\n\n  var poly = {\n  \tbuildPath: buildPath_1$1\n  };\n\n  /**\n   * \n   * @module zrender/shape/Polygon\n   */\n  var _default$F = Path_1.extend({\n    type: 'polygon',\n    shape: {\n      points: null,\n      smooth: false,\n      smoothConstraint: null\n    },\n    buildPath: function (ctx, shape) {\n      poly.buildPath(ctx, shape, true);\n    }\n  });\n\n  var Polygon = _default$F;\n\n  /**\n   * @module zrender/graphic/shape/Polyline\n   */\n  var _default$G = Path_1.extend({\n    type: 'polyline',\n    shape: {\n      points: null,\n      smooth: false,\n      smoothConstraint: null\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      poly.buildPath(ctx, shape, false);\n    }\n  });\n\n  var Polyline = _default$G;\n\n  /**\n   * Sub-pixel optimize for canvas rendering, prevent from blur\n   * when rendering a thin vertical/horizontal line.\n   */\n  var round = Math.round;\n  /**\n   * Sub pixel optimize line for canvas\n   *\n   * @param {Object} outputShape The modification will be performed on `outputShape`.\n   *                 `outputShape` and `inputShape` can be the same object.\n   *                 `outputShape` object can be used repeatly, because all of\n   *                 the `x1`, `x2`, `y1`, `y2` will be assigned in this method.\n   * @param {Object} [inputShape]\n   * @param {number} [inputShape.x1]\n   * @param {number} [inputShape.y1]\n   * @param {number} [inputShape.x2]\n   * @param {number} [inputShape.y2]\n   * @param {Object} [style]\n   * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n   */\n\n  function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n      return;\n    }\n\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n\n    if (!lineWidth) {\n      return;\n    }\n\n    if (round(x1 * 2) === round(x2 * 2)) {\n      outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n\n    if (round(y1 * 2) === round(y2 * 2)) {\n      outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n  }\n  /**\n   * Sub pixel optimize rect for canvas\n   *\n   * @param {Object} outputShape The modification will be performed on `outputShape`.\n   *                 `outputShape` and `inputShape` can be the same object.\n   *                 `outputShape` object can be used repeatly, because all of\n   *                 the `x`, `y`, `width`, `height` will be assigned in this method.\n   * @param {Object} [inputShape]\n   * @param {number} [inputShape.x]\n   * @param {number} [inputShape.y]\n   * @param {number} [inputShape.width]\n   * @param {number} [inputShape.height]\n   * @param {Object} [style]\n   * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n   */\n\n\n  function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n      return;\n    }\n\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n\n    if (!lineWidth) {\n      return;\n    }\n\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n  }\n  /**\n   * Sub pixel optimize for canvas\n   *\n   * @param {number} position Coordinate, such as x, y\n   * @param {number} lineWidth If `null`/`undefined`/`0`, do not optimize.\n   * @param {boolean=} positiveOrNegative Default false (negative).\n   * @return {number} Optimized position.\n   */\n\n\n  function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n      return position;\n    } // Assure that (position + lineWidth / 2) is near integer edge,\n    // otherwise line will be fuzzy in canvas.\n\n\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n  }\n\n  var subPixelOptimizeLine_1 = subPixelOptimizeLine;\n  var subPixelOptimizeRect_1 = subPixelOptimizeRect;\n  var subPixelOptimize_2 = subPixelOptimize;\n\n  var subPixelOptimize_1 = {\n  \tsubPixelOptimizeLine: subPixelOptimizeLine_1,\n  \tsubPixelOptimizeRect: subPixelOptimizeRect_1,\n  \tsubPixelOptimize: subPixelOptimize_2\n  };\n\n  var subPixelOptimizeRect$1 = subPixelOptimize_1.subPixelOptimizeRect;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Rect\n   */\n  // Avoid create repeatly.\n  var subPixelOptimizeOutputShape = {};\n\n  var _default$H = Path_1.extend({\n    type: 'rect',\n    shape: {\n      // r1r2r3r4\n      // r1          [1, 1, 1, 1]\n      // r[1]        [1, 1, 1, 1]\n      // r[1, 2]     [1, 2, 1, 2]\n      // r[1, 2, 3]  [1, 2, 3, 2]\n      r: 0,\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (ctx, shape) {\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (this.subPixelOptimize) {\n        subPixelOptimizeRect$1(subPixelOptimizeOutputShape, shape, this.style);\n        x = subPixelOptimizeOutputShape.x;\n        y = subPixelOptimizeOutputShape.y;\n        width = subPixelOptimizeOutputShape.width;\n        height = subPixelOptimizeOutputShape.height;\n        subPixelOptimizeOutputShape.r = shape.r;\n        shape = subPixelOptimizeOutputShape;\n      } else {\n        x = shape.x;\n        y = shape.y;\n        width = shape.width;\n        height = shape.height;\n      }\n\n      if (!shape.r) {\n        ctx.rect(x, y, width, height);\n      } else {\n        roundRect.buildPath(ctx, shape);\n      }\n\n      ctx.closePath();\n      return;\n    }\n  });\n\n  var Rect = _default$H;\n\n  var subPixelOptimizeLine$1 = subPixelOptimize_1.subPixelOptimizeLine;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Line\n   */\n  // Avoid create repeatly.\n  var subPixelOptimizeOutputShape$1 = {};\n\n  var _default$I = Path_1.extend({\n    type: 'line',\n    shape: {\n      // Start point\n      x1: 0,\n      y1: 0,\n      // End point\n      x2: 0,\n      y2: 0,\n      percent: 1\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x1;\n      var y1;\n      var x2;\n      var y2;\n\n      if (this.subPixelOptimize) {\n        subPixelOptimizeLine$1(subPixelOptimizeOutputShape$1, shape, this.style);\n        x1 = subPixelOptimizeOutputShape$1.x1;\n        y1 = subPixelOptimizeOutputShape$1.y1;\n        x2 = subPixelOptimizeOutputShape$1.x2;\n        y2 = subPixelOptimizeOutputShape$1.y2;\n      } else {\n        x1 = shape.x1;\n        y1 = shape.y1;\n        x2 = shape.x2;\n        y2 = shape.y2;\n      }\n\n      var percent = shape.percent;\n\n      if (percent === 0) {\n        return;\n      }\n\n      ctx.moveTo(x1, y1);\n\n      if (percent < 1) {\n        x2 = x1 * (1 - percent) + x2 * percent;\n        y2 = y1 * (1 - percent) + y2 * percent;\n      }\n\n      ctx.lineTo(x2, y2);\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} percent\n     * @return {Array.<number>}\n     */\n    pointAt: function (p) {\n      var shape = this.shape;\n      return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n    }\n  });\n\n  var Line = _default$I;\n\n  var quadraticSubdivide$1 = curve.quadraticSubdivide;\n  var cubicSubdivide$1 = curve.cubicSubdivide;\n  var quadraticAt$1 = curve.quadraticAt;\n  var cubicAt$1 = curve.cubicAt;\n  var quadraticDerivativeAt$1 = curve.quadraticDerivativeAt;\n  var cubicDerivativeAt$1 = curve.cubicDerivativeAt;\n\n  /**\n   * \n   * @module zrender/shape/BezierCurve\n   */\n  var out = [];\n\n  function someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n\n    if (cpx2 === null || cpy2 === null) {\n      return [(isTangent ? cubicDerivativeAt$1 : cubicAt$1)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt$1 : cubicAt$1)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n    } else {\n      return [(isTangent ? quadraticDerivativeAt$1 : quadraticAt$1)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt$1 : quadraticAt$1)(shape.y1, shape.cpy1, shape.y2, t)];\n    }\n  }\n\n  var _default$J = Path_1.extend({\n    type: 'bezier-curve',\n    shape: {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      cpx1: 0,\n      cpy1: 0,\n      // cpx2: 0,\n      // cpy2: 0\n      // Curve show percent, for animating\n      percent: 1\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x1 = shape.x1;\n      var y1 = shape.y1;\n      var x2 = shape.x2;\n      var y2 = shape.y2;\n      var cpx1 = shape.cpx1;\n      var cpy1 = shape.cpy1;\n      var cpx2 = shape.cpx2;\n      var cpy2 = shape.cpy2;\n      var percent = shape.percent;\n\n      if (percent === 0) {\n        return;\n      }\n\n      ctx.moveTo(x1, y1);\n\n      if (cpx2 == null || cpy2 == null) {\n        if (percent < 1) {\n          quadraticSubdivide$1(x1, cpx1, x2, percent, out);\n          cpx1 = out[1];\n          x2 = out[2];\n          quadraticSubdivide$1(y1, cpy1, y2, percent, out);\n          cpy1 = out[1];\n          y2 = out[2];\n        }\n\n        ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n      } else {\n        if (percent < 1) {\n          cubicSubdivide$1(x1, cpx1, cpx2, x2, percent, out);\n          cpx1 = out[1];\n          cpx2 = out[2];\n          x2 = out[3];\n          cubicSubdivide$1(y1, cpy1, cpy2, y2, percent, out);\n          cpy1 = out[1];\n          cpy2 = out[2];\n          y2 = out[3];\n        }\n\n        ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n      }\n    },\n\n    /**\n     * Get point at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    pointAt: function (t) {\n      return someVectorAt(this.shape, t, false);\n    },\n\n    /**\n     * Get tangent at percent\n     * @param  {number} t\n     * @return {Array.<number>}\n     */\n    tangentAt: function (t) {\n      var p = someVectorAt(this.shape, t, true);\n      return vector.normalize(p, p);\n    }\n  });\n\n  var BezierCurve = _default$J;\n\n  /**\n   * \n   * @module zrender/graphic/shape/Arc\n   */\n  var _default$K = Path_1.extend({\n    type: 'arc',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r = Math.max(shape.r, 0);\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitX = Math.cos(startAngle);\n      var unitY = Math.sin(startAngle);\n      ctx.moveTo(unitX * r + x, unitY * r + y);\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    }\n  });\n\n  var Arc = _default$K;\n\n  // CompoundPath to improve performance\n  var _default$L = Path_1.extend({\n    type: 'compound',\n    shape: {\n      paths: null\n    },\n    _updatePathDirty: function () {\n      var dirtyPath = this.__dirtyPath;\n      var paths = this.shape.paths;\n\n      for (var i = 0; i < paths.length; i++) {\n        // Mark as dirty if any subpath is dirty\n        dirtyPath = dirtyPath || paths[i].__dirtyPath;\n      }\n\n      this.__dirtyPath = dirtyPath;\n      this.__dirty = this.__dirty || dirtyPath;\n    },\n    beforeBrush: function () {\n      this._updatePathDirty();\n\n      var paths = this.shape.paths || [];\n      var scale = this.getGlobalScale(); // Update path scale\n\n      for (var i = 0; i < paths.length; i++) {\n        if (!paths[i].path) {\n          paths[i].createPathProxy();\n        }\n\n        paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n      }\n    },\n    buildPath: function (ctx, shape) {\n      var paths = shape.paths || [];\n\n      for (var i = 0; i < paths.length; i++) {\n        paths[i].buildPath(ctx, paths[i].shape, true);\n      }\n    },\n    afterBrush: function () {\n      var paths = this.shape.paths || [];\n\n      for (var i = 0; i < paths.length; i++) {\n        paths[i].__dirtyPath = false;\n      }\n    },\n    getBoundingRect: function () {\n      this._updatePathDirty();\n\n      return Path_1.prototype.getBoundingRect.call(this);\n    }\n  });\n\n  var CompoundPath = _default$L;\n\n  /**\n   * @param {Array.<Object>} colorStops\n   */\n  var Gradient = function (colorStops) {\n    this.colorStops = colorStops || [];\n  };\n\n  Gradient.prototype = {\n    constructor: Gradient,\n    addColorStop: function (offset, color) {\n      this.colorStops.push({\n        offset: offset,\n        color: color\n      });\n    }\n  };\n  var _default$M = Gradient;\n  var Gradient_1 = _default$M;\n\n  /**\n   * x, y, x2, y2 are all percent from 0 to 1\n   * @param {number} [x=0]\n   * @param {number} [y=0]\n   * @param {number} [x2=1]\n   * @param {number} [y2=0]\n   * @param {Array.<Object>} colorStops\n   * @param {boolean} [globalCoord=false]\n   */\n  var LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'linear', colorStops: ...}`, where\n    // this constructor will not be called.\n    this.x = x == null ? 0 : x;\n    this.y = y == null ? 0 : y;\n    this.x2 = x2 == null ? 1 : x2;\n    this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n    this.type = 'linear'; // If use global coord\n\n    this.global = globalCoord || false;\n    Gradient_1.call(this, colorStops);\n  };\n\n  LinearGradient.prototype = {\n    constructor: LinearGradient\n  };\n  util.inherits(LinearGradient, Gradient_1);\n  var _default$N = LinearGradient;\n  var LinearGradient_1 = _default$N;\n\n  /**\n   * x, y, r are all percent from 0 to 1\n   * @param {number} [x=0.5]\n   * @param {number} [y=0.5]\n   * @param {number} [r=0.5]\n   * @param {Array.<Object>} [colorStops]\n   * @param {boolean} [globalCoord=false]\n   */\n  var RadialGradient = function (x, y, r, colorStops, globalCoord) {\n    // Should do nothing more in this constructor. Because gradient can be\n    // declard by `color: {type: 'radial', colorStops: ...}`, where\n    // this constructor will not be called.\n    this.x = x == null ? 0.5 : x;\n    this.y = y == null ? 0.5 : y;\n    this.r = r == null ? 0.5 : r; // Can be cloned\n\n    this.type = 'radial'; // If use global coord\n\n    this.global = globalCoord || false;\n    Gradient_1.call(this, colorStops);\n  };\n\n  RadialGradient.prototype = {\n    constructor: RadialGradient\n  };\n  util.inherits(RadialGradient, Gradient_1);\n  var _default$O = RadialGradient;\n  var RadialGradient_1 = _default$O;\n\n  var inherits$1 = util.inherits;\n\n\n\n\n\n  /**\n   * Displayable for incremental rendering. It will be rendered in a separate layer\n   * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n   * addDisplayables will render the added displayables incremetally.\n   *\n   * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n   */\n  // TODO Style override ?\n  function IncrementalDisplayble(opts) {\n    Displayable_1.call(this, opts);\n    this._displayables = [];\n    this._temporaryDisplayables = [];\n    this._cursor = 0;\n    this.notClear = true;\n  }\n\n  IncrementalDisplayble.prototype.incremental = true;\n\n  IncrementalDisplayble.prototype.clearDisplaybles = function () {\n    this._displayables = [];\n    this._temporaryDisplayables = [];\n    this._cursor = 0;\n    this.dirty();\n    this.notClear = false;\n  };\n\n  IncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n    if (notPersistent) {\n      this._temporaryDisplayables.push(displayable);\n    } else {\n      this._displayables.push(displayable);\n    }\n\n    this.dirty();\n  };\n\n  IncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n    notPersistent = notPersistent || false;\n\n    for (var i = 0; i < displayables.length; i++) {\n      this.addDisplayable(displayables[i], notPersistent);\n    }\n  };\n\n  IncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      cb && cb(this._displayables[i]);\n    }\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      cb && cb(this._temporaryDisplayables[i]);\n    }\n  };\n\n  IncrementalDisplayble.prototype.update = function () {\n    this.updateTransform();\n\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i]; // PENDING\n\n      displayable.parent = this;\n      displayable.update();\n      displayable.parent = null;\n    }\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      var displayable = this._temporaryDisplayables[i]; // PENDING\n\n      displayable.parent = this;\n      displayable.update();\n      displayable.parent = null;\n    }\n  };\n\n  IncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n    // Render persistant displayables.\n    for (var i = this._cursor; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      displayable.beforeBrush && displayable.beforeBrush(ctx);\n      displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n      displayable.afterBrush && displayable.afterBrush(ctx);\n    }\n\n    this._cursor = i; // Render temporary displayables.\n\n    for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n      var displayable = this._temporaryDisplayables[i];\n      displayable.beforeBrush && displayable.beforeBrush(ctx);\n      displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n      displayable.afterBrush && displayable.afterBrush(ctx);\n    }\n\n    this._temporaryDisplayables = [];\n    this.notClear = true;\n  };\n\n  var m = [];\n\n  IncrementalDisplayble.prototype.getBoundingRect = function () {\n    if (!this._rect) {\n      var rect = new BoundingRect_1(Infinity, Infinity, -Infinity, -Infinity);\n\n      for (var i = 0; i < this._displayables.length; i++) {\n        var displayable = this._displayables[i];\n        var childRect = displayable.getBoundingRect().clone();\n\n        if (displayable.needLocalTransform()) {\n          childRect.applyTransform(displayable.getLocalTransform(m));\n        }\n\n        rect.union(childRect);\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  };\n\n  IncrementalDisplayble.prototype.contain = function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n\n    if (rect.contain(localPos[0], localPos[1])) {\n      for (var i = 0; i < this._displayables.length; i++) {\n        var displayable = this._displayables[i];\n\n        if (displayable.contain(x, y)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  inherits$1(IncrementalDisplayble, Displayable_1);\n  var _default$P = IncrementalDisplayble;\n  var IncrementalDisplayable = _default$P;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var Image$2 = Image$1;\n\n\n\n  var Group_1$1 = Group_1;\n\n\n\n  var Text_1$1 = Text_1;\n\n\n\n  var Circle_1 = Circle;\n\n\n\n  var Sector_1 = Sector;\n\n\n\n  var Ring_1 = Ring;\n\n\n\n  var Polygon_1 = Polygon;\n\n\n\n  var Polyline_1 = Polyline;\n\n\n\n  var Rect_1 = Rect;\n\n\n\n  var Line_1 = Line;\n\n\n\n  var BezierCurve_1 = BezierCurve;\n\n\n\n  var Arc_1 = Arc;\n\n\n\n  var CompoundPath_1 = CompoundPath;\n\n\n\n  var LinearGradient_1$1 = LinearGradient_1;\n\n\n\n  var RadialGradient_1$1 = RadialGradient_1;\n\n\n\n  var BoundingRect_1$1 = BoundingRect_1;\n\n\n\n  var IncrementalDisplayable_1 = IncrementalDisplayable;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var mathMax$3 = Math.max;\n  var mathMin$3 = Math.min;\n  var EMPTY_OBJ = {};\n  var Z2_EMPHASIS_LIFT = 1; // key: label model property nane, value: style property name.\n\n  var CACHED_LABEL_STYLE_PROPERTIES = {\n    color: 'textFill',\n    textBorderColor: 'textStroke',\n    textBorderWidth: 'textStrokeWidth'\n  };\n  var EMPHASIS = 'emphasis';\n  var NORMAL = 'normal'; // Reserve 0 as default.\n\n  var _highlightNextDigit = 1;\n  var _highlightKeyMap = {};\n  var _customShapeMap = {};\n  /**\n   * Extend shape with parameters\n   */\n\n  function extendShape(opts) {\n    return Path_1.extend(opts);\n  }\n  /**\n   * Extend path\n   */\n\n\n  function extendPath(pathData, opts) {\n    return path$2.extendFromString(pathData, opts);\n  }\n  /**\n   * Register a user defined shape.\n   * The shape class can be fetched by `getShapeClass`\n   * This method will overwrite the registered shapes, including\n   * the registered built-in shapes, if using the same `name`.\n   * The shape can be used in `custom series` and\n   * `graphic component` by declaring `{type: name}`.\n   *\n   * @param {string} name\n   * @param {Object} ShapeClass Can be generated by `extendShape`.\n   */\n\n\n  function registerShape(name, ShapeClass) {\n    _customShapeMap[name] = ShapeClass;\n  }\n  /**\n   * Find shape class registered by `registerShape`. Usually used in\n   * fetching user defined shape.\n   *\n   * [Caution]:\n   * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n   * to use user registered shapes.\n   * Because the built-in shape (see `getBuiltInShape`) will be registered by\n   * `registerShape` by default. That enables users to get both built-in\n   * shapes as well as the shapes belonging to themsleves. But users can overwrite\n   * the built-in shapes by using names like 'circle', 'rect' via calling\n   * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n   * in case that it is overwritten by users, except that some features, like\n   * `custom series`, `graphic component`, do it deliberately.\n   *\n   * (2) In the features like `custom series`, `graphic component`, the user input\n   * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n   * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n   * are reserved names, that is, if some user register a shape named `'image'`,\n   * the shape will not be used. If we intending to add some more reserved names\n   * in feature, that might bring break changes (disable some existing user shape\n   * names). But that case probably rearly happen. So we dont make more mechanism\n   * to resolve this issue here.\n   *\n   * @param {string} name\n   * @return {Object} The shape class. If not found, return nothing.\n   */\n\n\n  function getShapeClass(name) {\n    if (_customShapeMap.hasOwnProperty(name)) {\n      return _customShapeMap[name];\n    }\n  }\n  /**\n   * Create a path element from path data string\n   * @param {string} pathData\n   * @param {Object} opts\n   * @param {module:zrender/core/BoundingRect} rect\n   * @param {string} [layout=cover] 'center' or 'cover'\n   */\n\n\n  function makePath(pathData, opts, rect, layout) {\n    var path = path$2.createFromString(pathData, opts);\n\n    if (rect) {\n      if (layout === 'center') {\n        rect = centerGraphic(rect, path.getBoundingRect());\n      }\n\n      resizePath(path, rect);\n    }\n\n    return path;\n  }\n  /**\n   * Create a image element from image url\n   * @param {string} imageUrl image url\n   * @param {Object} opts options\n   * @param {module:zrender/core/BoundingRect} rect constrain rect\n   * @param {string} [layout=cover] 'center' or 'cover'\n   */\n\n\n  function makeImage(imageUrl, rect, layout) {\n    var path = new Image$1({\n      style: {\n        image: imageUrl,\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height\n      },\n      onload: function (img) {\n        if (layout === 'center') {\n          var boundingRect = {\n            width: img.width,\n            height: img.height\n          };\n          path.setStyle(centerGraphic(rect, boundingRect));\n        }\n      }\n    });\n    return path;\n  }\n  /**\n   * Get position of centered element in bounding box.\n   *\n   * @param  {Object} rect         element local bounding box\n   * @param  {Object} boundingRect constraint bounding box\n   * @return {Object} element position containing x, y, width, and height\n   */\n\n\n  function centerGraphic(rect, boundingRect) {\n    // Set rect to center, keep width / height ratio.\n    var aspect = boundingRect.width / boundingRect.height;\n    var width = rect.height * aspect;\n    var height;\n\n    if (width <= rect.width) {\n      height = rect.height;\n    } else {\n      width = rect.width;\n      height = width / aspect;\n    }\n\n    var cx = rect.x + rect.width / 2;\n    var cy = rect.y + rect.height / 2;\n    return {\n      x: cx - width / 2,\n      y: cy - height / 2,\n      width: width,\n      height: height\n    };\n  }\n\n  var mergePath$1 = path$2.mergePath;\n  /**\n   * Resize a path to fit the rect\n   * @param {module:zrender/graphic/Path} path\n   * @param {Object} rect\n   */\n\n  function resizePath(path, rect) {\n    if (!path.applyTransform) {\n      return;\n    }\n\n    var pathRect = path.getBoundingRect();\n    var m = pathRect.calculateTransform(rect);\n    path.applyTransform(m);\n  }\n  /**\n   * Sub pixel optimize line for canvas\n   *\n   * @param {Object} param\n   * @param {Object} [param.shape]\n   * @param {number} [param.shape.x1]\n   * @param {number} [param.shape.y1]\n   * @param {number} [param.shape.x2]\n   * @param {number} [param.shape.y2]\n   * @param {Object} [param.style]\n   * @param {number} [param.style.lineWidth]\n   * @return {Object} Modified param\n   */\n\n\n  function subPixelOptimizeLine$2(param) {\n    subPixelOptimize_1.subPixelOptimizeLine(param.shape, param.shape, param.style);\n    return param;\n  }\n  /**\n   * Sub pixel optimize rect for canvas\n   *\n   * @param {Object} param\n   * @param {Object} [param.shape]\n   * @param {number} [param.shape.x]\n   * @param {number} [param.shape.y]\n   * @param {number} [param.shape.width]\n   * @param {number} [param.shape.height]\n   * @param {Object} [param.style]\n   * @param {number} [param.style.lineWidth]\n   * @return {Object} Modified param\n   */\n\n\n  function subPixelOptimizeRect$2(param) {\n    subPixelOptimize_1.subPixelOptimizeRect(param.shape, param.shape, param.style);\n    return param;\n  }\n  /**\n   * Sub pixel optimize for canvas\n   *\n   * @param {number} position Coordinate, such as x, y\n   * @param {number} lineWidth Should be nonnegative integer.\n   * @param {boolean=} positiveOrNegative Default false (negative).\n   * @return {number} Optimized position.\n   */\n\n\n  var subPixelOptimize$1 = subPixelOptimize_1.subPixelOptimize;\n\n  function hasFillOrStroke(fillOrStroke) {\n    return fillOrStroke != null && fillOrStroke !== 'none';\n  } // Most lifted color are duplicated.\n\n\n  var liftedColorMap = util.createHashMap();\n  var liftedColorCount = 0;\n\n  function liftColor(color$1) {\n    if (typeof color$1 !== 'string') {\n      return color$1;\n    }\n\n    var liftedColor = liftedColorMap.get(color$1);\n\n    if (!liftedColor) {\n      liftedColor = color.lift(color$1, -0.1);\n\n      if (liftedColorCount < 10000) {\n        liftedColorMap.set(color$1, liftedColor);\n        liftedColorCount++;\n      }\n    }\n\n    return liftedColor;\n  }\n\n  function cacheElementStl(el) {\n    if (!el.__hoverStlDirty) {\n      return;\n    }\n\n    el.__hoverStlDirty = false;\n    var hoverStyle = el.__hoverStl;\n\n    if (!hoverStyle) {\n      el.__cachedNormalStl = el.__cachedNormalZ2 = null;\n      return;\n    }\n\n    var normalStyle = el.__cachedNormalStl = {};\n    el.__cachedNormalZ2 = el.z2;\n    var elStyle = el.style;\n\n    for (var name in hoverStyle) {\n      // See comment in `singleEnterEmphasis`.\n      if (hoverStyle[name] != null) {\n        normalStyle[name] = elStyle[name];\n      }\n    } // Always cache fill and stroke to normalStyle for lifting color.\n\n\n    normalStyle.fill = elStyle.fill;\n    normalStyle.stroke = elStyle.stroke;\n  }\n\n  function singleEnterEmphasis(el) {\n    var hoverStl = el.__hoverStl;\n\n    if (!hoverStl || el.__highlighted) {\n      return;\n    }\n\n    var zr = el.__zr;\n    var useHoverLayer = el.useHoverLayer && zr && zr.painter.type === 'canvas';\n    el.__highlighted = useHoverLayer ? 'layer' : 'plain';\n\n    if (el.isGroup || !zr && el.useHoverLayer) {\n      return;\n    }\n\n    var elTarget = el;\n    var targetStyle = el.style;\n\n    if (useHoverLayer) {\n      elTarget = zr.addHover(el);\n      targetStyle = elTarget.style;\n    }\n\n    rollbackDefaultTextStyle(targetStyle);\n\n    if (!useHoverLayer) {\n      cacheElementStl(elTarget);\n    } // styles can be:\n    // {\n    //    label: {\n    //        show: false,\n    //        position: 'outside',\n    //        fontSize: 18\n    //    },\n    //    emphasis: {\n    //        label: {\n    //            show: true\n    //        }\n    //    }\n    // },\n    // where properties of `emphasis` may not appear in `normal`. We previously use\n    // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n    // But consider rich text and setOption in merge mode, it is impossible to cover\n    // all properties in merge. So we use merge mode when setting style here.\n    // But we choose the merge strategy that only properties that is not `null/undefined`.\n    // Because when making a textStyle (espacially rich text), it is not easy to distinguish\n    // `hasOwnProperty` and `null/undefined` in code, so we trade them as the same for simplicity.\n    // But this strategy brings a trouble that `null/undefined` can not be used to remove\n    // style any more in `emphasis`. Users can both set properties directly on normal and\n    // emphasis to avoid this issue, or we might support `'none'` for this case if required.\n\n\n    targetStyle.extendFrom(hoverStl);\n    setDefaultHoverFillStroke(targetStyle, hoverStl, 'fill');\n    setDefaultHoverFillStroke(targetStyle, hoverStl, 'stroke');\n    applyDefaultTextStyle(targetStyle);\n\n    if (!useHoverLayer) {\n      el.dirty(false);\n      el.z2 += Z2_EMPHASIS_LIFT;\n    }\n  }\n\n  function setDefaultHoverFillStroke(targetStyle, hoverStyle, prop) {\n    if (!hasFillOrStroke(hoverStyle[prop]) && hasFillOrStroke(targetStyle[prop])) {\n      targetStyle[prop] = liftColor(targetStyle[prop]);\n    }\n  }\n\n  function singleEnterNormal(el) {\n    var highlighted = el.__highlighted;\n\n    if (!highlighted) {\n      return;\n    }\n\n    el.__highlighted = false;\n\n    if (el.isGroup) {\n      return;\n    }\n\n    if (highlighted === 'layer') {\n      el.__zr && el.__zr.removeHover(el);\n    } else {\n      var style = el.style;\n      var normalStl = el.__cachedNormalStl;\n\n      if (normalStl) {\n        rollbackDefaultTextStyle(style);\n        el.setStyle(normalStl);\n        applyDefaultTextStyle(style);\n      } // `__cachedNormalZ2` will not be reset if calling `setElementHoverStyle`\n      // when `el` is on emphasis state. So here by comparing with 1, we try\n      // hard to make the bug case rare.\n\n\n      var normalZ2 = el.__cachedNormalZ2;\n\n      if (normalZ2 != null && el.z2 - normalZ2 === Z2_EMPHASIS_LIFT) {\n        el.z2 = normalZ2;\n      }\n    }\n  }\n\n  function traverseUpdate(el, updater, commonParam) {\n    // If root is group, also enter updater for `highDownOnUpdate`.\n    var fromState = NORMAL;\n    var toState = NORMAL;\n    var trigger; // See the rule of `highDownOnUpdate` on `graphic.setAsHighDownDispatcher`.\n\n    el.__highlighted && (fromState = EMPHASIS, trigger = true);\n    updater(el, commonParam);\n    el.__highlighted && (toState = EMPHASIS, trigger = true);\n    el.isGroup && el.traverse(function (child) {\n      !child.isGroup && updater(child, commonParam);\n    });\n    trigger && el.__highDownOnUpdate && el.__highDownOnUpdate(fromState, toState);\n  }\n  /**\n   * Set hover style (namely \"emphasis style\") of element, based on the current\n   * style of the given `el`.\n   * This method should be called after all of the normal styles have been adopted\n   * to the `el`. See the reason on `setHoverStyle`.\n   *\n   * @param {module:zrender/Element} el Should not be `zrender/container/Group`.\n   * @param {Object} [el.hoverStyle] Can be set on el or its descendants,\n   *        e.g., `el.hoverStyle = ...; graphic.setHoverStyle(el); `.\n   *        Often used when item group has a label element and it's hoverStyle is different.\n   * @param {Object|boolean} [hoverStl] The specified hover style.\n   *        If set as `false`, disable the hover style.\n   *        Similarly, The `el.hoverStyle` can alse be set\n   *        as `false` to disable the hover style.\n   *        Otherwise, use the default hover style if not provided.\n   */\n\n\n  function setElementHoverStyle(el, hoverStl) {\n    // For performance consideration, it might be better to make the \"hover style\" only the\n    // difference properties from the \"normal style\", but not a entire copy of all styles.\n    hoverStl = el.__hoverStl = hoverStl !== false && (el.hoverStyle || hoverStl || {});\n    el.__hoverStlDirty = true; // FIXME\n    // It is not completely right to save \"normal\"/\"emphasis\" flag on elements.\n    // It probably should be saved on `data` of series. Consider the cases:\n    // (1) A highlighted elements are moved out of the view port and re-enter\n    // again by dataZoom.\n    // (2) call `setOption` and replace elements totally when they are highlighted.\n\n    if (el.__highlighted) {\n      // Consider the case:\n      // The styles of a highlighted `el` is being updated. The new \"emphasis style\"\n      // should be adapted to the `el`. Notice here new \"normal styles\" should have\n      // been set outside and the cached \"normal style\" is out of date.\n      el.__cachedNormalStl = null; // Do not clear `__cachedNormalZ2` here, because setting `z2` is not a constraint\n      // of this method. In most cases, `z2` is not set and hover style should be able\n      // to rollback. Of course, that would bring bug, but only in a rare case, see\n      // `doSingleLeaveHover` for details.\n\n      singleEnterNormal(el);\n      singleEnterEmphasis(el);\n    }\n  }\n\n  function onElementMouseOver(e) {\n    !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n    && !this.__highByOuter && traverseUpdate(this, singleEnterEmphasis);\n  }\n\n  function onElementMouseOut(e) {\n    !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n    && !this.__highByOuter && traverseUpdate(this, singleEnterNormal);\n  }\n\n  function onElementEmphasisEvent(highlightDigit) {\n    this.__highByOuter |= 1 << (highlightDigit || 0);\n    traverseUpdate(this, singleEnterEmphasis);\n  }\n\n  function onElementNormalEvent(highlightDigit) {\n    !(this.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdate(this, singleEnterNormal);\n  }\n\n  function shouldSilent(el, e) {\n    return el.__highDownSilentOnTouch && e.zrByTouch;\n  }\n  /**\n   * Set hover style (namely \"emphasis style\") of element,\n   * based on the current style of the given `el`.\n   *\n   * (1)\n   * **CONSTRAINTS** for this method:\n   * <A> This method MUST be called after all of the normal styles having been adopted\n   * to the `el`.\n   * <B> The input `hoverStyle` (that is, \"emphasis style\") MUST be the subset of the\n   * \"normal style\" having been set to the el.\n   * <C> `color` MUST be one of the \"normal styles\" (because color might be lifted as\n   * a default hover style).\n   *\n   * The reason: this method treat the current style of the `el` as the \"normal style\"\n   * and cache them when enter/update the \"emphasis style\". Consider the case: the `el`\n   * is in \"emphasis\" state and `setOption`/`dispatchAction` trigger the style updating\n   * logic, where the el should shift from the original emphasis style to the new\n   * \"emphasis style\" and should be able to \"downplay\" back to the new \"normal style\".\n   *\n   * Indeed, it is error-prone to make a interface has so many constraints, but I have\n   * not found a better solution yet to fit the backward compatibility, performance and\n   * the current programming style.\n   *\n   * (2)\n   * Call the method for a \"root\" element once. Do not call it for each descendants.\n   * If the descendants elemenets of a group has itself hover style different from the\n   * root group, we can simply mount the style on `el.hoverStyle` for them, but should\n   * not call this method for them.\n   *\n   * (3) These input parameters can be set directly on `el`:\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} [el.hoverStyle] See `graphic.setElementHoverStyle`.\n   * @param {boolean} [el.highDownSilentOnTouch=false] See `graphic.setAsHighDownDispatcher`.\n   * @param {Function} [el.highDownOnUpdate] See `graphic.setAsHighDownDispatcher`.\n   * @param {Object|boolean} [hoverStyle] See `graphic.setElementHoverStyle`.\n   */\n\n\n  function setHoverStyle(el, hoverStyle) {\n    setAsHighDownDispatcher(el, true);\n    traverseUpdate(el, setElementHoverStyle, hoverStyle);\n  }\n  /**\n   * @param {module:zrender/Element} el\n   * @param {Function} [el.highDownOnUpdate] Called when state updated.\n   *        Since `setHoverStyle` has the constraint that it must be called after\n   *        all of the normal style updated, `highDownOnUpdate` is not needed to\n   *        trigger if both `fromState` and `toState` is 'normal', and needed to\n   *        trigger if both `fromState` and `toState` is 'emphasis', which enables\n   *        to sync outside style settings to \"emphasis\" state.\n   *        @this {string} This dispatcher `el`.\n   *        @param {string} fromState Can be \"normal\" or \"emphasis\".\n   *               `fromState` might equal to `toState`,\n   *               for example, when this method is called when `el` is\n   *               on \"emphasis\" state.\n   *        @param {string} toState Can be \"normal\" or \"emphasis\".\n   *\n   *        FIXME\n   *        CAUTION: Do not expose `highDownOnUpdate` outside echarts.\n   *        Because it is not a complete solution. The update\n   *        listener should not have been mount in element,\n   *        and the normal/emphasis state should not have\n   *        mantained on elements.\n   *\n   * @param {boolean} [el.highDownSilentOnTouch=false]\n   *        In touch device, mouseover event will be trigger on touchstart event\n   *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n   *        conveniently use hoverStyle when tap on touch screen without additional\n   *        code for compatibility.\n   *        But if the chart/component has select feature, which usually also use\n   *        hoverStyle, there might be conflict between 'select-highlight' and\n   *        'hover-highlight' especially when roam is enabled (see geo for example).\n   *        In this case, `highDownSilentOnTouch` should be used to disable\n   *        hover-highlight on touch device.\n   * @param {boolean} [asDispatcher=true] If `false`, do not set as \"highDownDispatcher\".\n   */\n\n\n  function setAsHighDownDispatcher(el, asDispatcher) {\n    var disable = asDispatcher === false; // Make `highDownSilentOnTouch` and `highDownOnUpdate` only work after\n    // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n\n    el.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n    el.__highDownOnUpdate = el.highDownOnUpdate; // Simple optimize, since this method might be\n    // called for each elements of a group in some cases.\n\n    if (!disable || el.__highDownDispatcher) {\n      var method = disable ? 'off' : 'on'; // Duplicated function will be auto-ignored, see Eventful.js.\n\n      el[method]('mouseover', onElementMouseOver)[method]('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually by API or other components like hover link.\n\n      el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent); // Also keep previous record.\n\n      el.__highByOuter = el.__highByOuter || 0;\n      el.__highDownDispatcher = !disable;\n    }\n  }\n  /**\n   * @param {module:zrender/src/Element} el\n   * @return {boolean}\n   */\n\n\n  function isHighDownDispatcher(el) {\n    return !!(el && el.__highDownDispatcher);\n  }\n  /**\n   * Support hightlight/downplay record on each elements.\n   * For the case: hover highlight/downplay (legend, visualMap, ...) and\n   * user triggerred hightlight/downplay should not conflict.\n   * Only all of the highlightDigit cleared, return to normal.\n   * @param {string} highlightKey\n   * @return {number} highlightDigit\n   */\n\n\n  function getHighlightDigit(highlightKey) {\n    var highlightDigit = _highlightKeyMap[highlightKey];\n\n    if (highlightDigit == null && _highlightNextDigit <= 32) {\n      highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n    }\n\n    return highlightDigit;\n  }\n  /**\n   * See more info in `setTextStyleCommon`.\n   * @param {Object|module:zrender/graphic/Style} normalStyle\n   * @param {Object} emphasisStyle\n   * @param {module:echarts/model/Model} normalModel\n   * @param {module:echarts/model/Model} emphasisModel\n   * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n   * @param {string|Function} [opt.defaultText]\n   * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n   *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {number} [opt.labelDataIndex] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {number} [opt.labelDimIndex] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {string} [opt.labelProp] Fetch text by\n   *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex, opt.labelProp)`\n   * @param {Object} [normalSpecified]\n   * @param {Object} [emphasisSpecified]\n   */\n\n\n  function setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n    opt = opt || EMPTY_OBJ;\n    var labelFetcher = opt.labelFetcher;\n    var labelDataIndex = opt.labelDataIndex;\n    var labelDimIndex = opt.labelDimIndex;\n    var labelProp = opt.labelProp; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n    // is not supported util someone requests.\n\n    var showNormal = normalModel.getShallow('show');\n    var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n    // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n    // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n    var baseText;\n\n    if (showNormal || showEmphasis) {\n      if (labelFetcher) {\n        baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, labelProp);\n      }\n\n      if (baseText == null) {\n        baseText = util.isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt) : opt.defaultText;\n      }\n    }\n\n    var normalStyleText = showNormal ? baseText : null;\n    var emphasisStyleText = showEmphasis ? util.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex, labelProp) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n    if (normalStyleText != null || emphasisStyleText != null) {\n      // Always set `textStyle` even if `normalStyle.text` is null, because default\n      // values have to be set on `normalStyle`.\n      // If we set default values on `emphasisStyle`, consider case:\n      // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n      // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n      // Then the 'red' will not work on emphasis.\n      setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n      setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n    }\n\n    normalStyle.text = normalStyleText;\n    emphasisStyle.text = emphasisStyleText;\n  }\n  /**\n   * Modify label style manually.\n   * Only works after `setLabelStyle` and `setElementHoverStyle` called.\n   *\n   * @param {module:zrender/src/Element} el\n   * @param {Object} [normalStyleProps] optional\n   * @param {Object} [emphasisStyleProps] optional\n   */\n\n\n  function modifyLabelStyle(el, normalStyleProps, emphasisStyleProps) {\n    var elStyle = el.style;\n\n    if (normalStyleProps) {\n      rollbackDefaultTextStyle(elStyle);\n      el.setStyle(normalStyleProps);\n      applyDefaultTextStyle(elStyle);\n    }\n\n    elStyle = el.__hoverStl;\n\n    if (emphasisStyleProps && elStyle) {\n      rollbackDefaultTextStyle(elStyle);\n      util.extend(elStyle, emphasisStyleProps);\n      applyDefaultTextStyle(elStyle);\n    }\n  }\n  /**\n   * Set basic textStyle properties.\n   * See more info in `setTextStyleCommon`.\n   * @param {Object|module:zrender/graphic/Style} textStyle\n   * @param {module:echarts/model/Model} model\n   * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n   * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n   * @param {boolean} [isEmphasis]\n   */\n\n\n  function setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n    setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n    specifiedTextStyle && util.extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n    return textStyle;\n  }\n  /**\n   * Set text option in the style.\n   * See more info in `setTextStyleCommon`.\n   * @deprecated\n   * @param {Object} textStyle\n   * @param {module:echarts/model/Model} labelModel\n   * @param {string|boolean} defaultColor Default text color.\n   *        If set as false, it will be processed as a emphasis style.\n   */\n\n\n  function setText(textStyle, labelModel, defaultColor) {\n    var opt = {\n      isRectText: true\n    };\n    var isEmphasis;\n\n    if (defaultColor === false) {\n      isEmphasis = true;\n    } else {\n      // Support setting color as 'auto' to get visual color.\n      opt.autoColor = defaultColor;\n    }\n\n    setTextStyleCommon(textStyle, labelModel, opt, isEmphasis); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n  }\n  /**\n   * The uniform entry of set text style, that is, retrieve style definitions\n   * from `model` and set to `textStyle` object.\n   *\n   * Never in merge mode, but in overwrite mode, that is, all of the text style\n   * properties will be set. (Consider the states of normal and emphasis and\n   * default value can be adopted, merge would make the logic too complicated\n   * to manage.)\n   *\n   * The `textStyle` object can either be a plain object or an instance of\n   * `zrender/src/graphic/Style`, and either be the style of normal or emphasis.\n   * After this mothod called, the `textStyle` object can then be used in\n   * `el.setStyle(textStyle)` or `el.hoverStyle = textStyle`.\n   *\n   * Default value will be adopted and `insideRollbackOpt` will be created.\n   * See `applyDefaultTextStyle` `rollbackDefaultTextStyle` for more details.\n   *\n   * opt: {\n   *      disableBox: boolean, Whether diable drawing box of block (outer most).\n   *      isRectText: boolean,\n   *      autoColor: string, specify a color when color is 'auto',\n   *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n   *              If autoColor specified, it is used as default textFill.\n   *      useInsideStyle:\n   *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n   *                  if `textFill` is not specified.\n   *              `false`: Do not use inside style.\n   *              `null/undefined`: use inside style if `isRectText` is true and\n   *                  `textFill` is not specified and textPosition contains `'inside'`.\n   *      forceRich: boolean\n   * }\n   */\n\n\n  function setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n    // Consider there will be abnormal when merge hover style to normal style if given default value.\n    opt = opt || EMPTY_OBJ;\n\n    if (opt.isRectText) {\n      var textPosition;\n\n      if (opt.getTextPosition) {\n        textPosition = opt.getTextPosition(textStyleModel, isEmphasis);\n      } else {\n        textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n        // in bar series, and magric type should be considered.\n\n        textPosition === 'outside' && (textPosition = 'top');\n      }\n\n      textStyle.textPosition = textPosition;\n      textStyle.textOffset = textStyleModel.getShallow('offset');\n      var labelRotate = textStyleModel.getShallow('rotate');\n      labelRotate != null && (labelRotate *= Math.PI / 180);\n      textStyle.textRotation = labelRotate;\n      textStyle.textDistance = util.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n    }\n\n    var ecModel = textStyleModel.ecModel;\n    var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n    // {\n    //     data: [{\n    //         value: 12,\n    //         label: {\n    //             rich: {\n    //                 // no 'a' here but using parent 'a'.\n    //             }\n    //         }\n    //     }],\n    //     rich: {\n    //         a: { ... }\n    //     }\n    // }\n\n    var richItemNames = getRichItemNames(textStyleModel);\n    var richResult;\n\n    if (richItemNames) {\n      richResult = {};\n\n      for (var name in richItemNames) {\n        if (richItemNames.hasOwnProperty(name)) {\n          // Cascade is supported in rich.\n          var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n          // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n          // the default color `'blue'` will not be adopted if no color declared in `rich`.\n          // That might confuses users. So probably we should put `textStyleModel` as the\n          // root ancestor of the `richTextStyle`. But that would be a break change.\n\n          setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n        }\n      }\n    }\n\n    textStyle.rich = richResult;\n    setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n    if (opt.forceRich && !opt.textStyle) {\n      opt.textStyle = {};\n    }\n\n    return textStyle;\n  } // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n\n  function getRichItemNames(textStyleModel) {\n    // Use object to remove duplicated names.\n    var richItemNameMap;\n\n    while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n      var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n      if (rich) {\n        richItemNameMap = richItemNameMap || {};\n\n        for (var name in rich) {\n          if (rich.hasOwnProperty(name)) {\n            richItemNameMap[name] = 1;\n          }\n        }\n      }\n\n      textStyleModel = textStyleModel.parentModel;\n    }\n\n    return richItemNameMap;\n  }\n\n  function setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n    // In merge mode, default value should not be given.\n    globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n    textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n    textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n    textStyle.textStrokeWidth = util.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n    if (!isEmphasis) {\n      if (isBlock) {\n        textStyle.insideRollbackOpt = opt;\n        applyDefaultTextStyle(textStyle);\n      } // Set default finally.\n\n\n      if (textStyle.textFill == null) {\n        textStyle.textFill = opt.autoColor;\n      }\n    } // Do not use `getFont` here, because merge should be supported, where\n    // part of these properties may be changed in emphasis style, and the\n    // others should remain their original value got from normal style.\n\n\n    textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n    textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n    textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n    textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n    textStyle.textAlign = textStyleModel.getShallow('align');\n    textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n    textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n    textStyle.textWidth = textStyleModel.getShallow('width');\n    textStyle.textHeight = textStyleModel.getShallow('height');\n    textStyle.textTag = textStyleModel.getShallow('tag');\n\n    if (!isBlock || !opt.disableBox) {\n      textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n      textStyle.textPadding = textStyleModel.getShallow('padding');\n      textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n      textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n      textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n      textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n      textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n      textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n      textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n    }\n\n    textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n    textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n    textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n    textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n  }\n\n  function getAutoColor(color, opt) {\n    return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n  }\n  /**\n   * Give some default value to the input `textStyle` object, based on the current settings\n   * in this `textStyle` object.\n   *\n   * The Scenario:\n   * when text position is `inside` and `textFill` is not specified, we show\n   * text border by default for better view. But it should be considered that text position\n   * might be changed when hovering or being emphasis, where the `insideRollback` is used to\n   * restore the style.\n   *\n   * Usage (& NOTICE):\n   * When a style object (eithor plain object or instance of `zrender/src/graphic/Style`) is\n   * about to be modified on its text related properties, `rollbackDefaultTextStyle` should\n   * be called before the modification and `applyDefaultTextStyle` should be called after that.\n   * (For the case that all of the text related properties is reset, like `setTextStyleCommon`\n   * does, `rollbackDefaultTextStyle` is not needed to be called).\n   */\n\n\n  function applyDefaultTextStyle(textStyle) {\n    var textPosition = textStyle.textPosition;\n    var opt = textStyle.insideRollbackOpt;\n    var insideRollback;\n\n    if (opt && textStyle.textFill == null) {\n      var autoColor = opt.autoColor;\n      var isRectText = opt.isRectText;\n      var useInsideStyle = opt.useInsideStyle;\n      var useInsideStyleCache = useInsideStyle !== false && (useInsideStyle === true || isRectText && textPosition // textPosition can be [10, 30]\n      && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0);\n      var useAutoColorCache = !useInsideStyleCache && autoColor != null; // All of the props declared in `CACHED_LABEL_STYLE_PROPERTIES` are to be cached.\n\n      if (useInsideStyleCache || useAutoColorCache) {\n        insideRollback = {\n          textFill: textStyle.textFill,\n          textStroke: textStyle.textStroke,\n          textStrokeWidth: textStyle.textStrokeWidth\n        };\n      }\n\n      if (useInsideStyleCache) {\n        textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n        if (textStyle.textStroke == null) {\n          textStyle.textStroke = autoColor;\n          textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n        }\n      }\n\n      if (useAutoColorCache) {\n        textStyle.textFill = autoColor;\n      }\n    } // Always set `insideRollback`, so that the previous one can be cleared.\n\n\n    textStyle.insideRollback = insideRollback;\n  }\n  /**\n   * Consider the case: in a scatter,\n   * label: {\n   *     normal: {position: 'inside'},\n   *     emphasis: {position: 'top'}\n   * }\n   * In the normal state, the `textFill` will be set as '#fff' for pretty view (see\n   * `applyDefaultTextStyle`), but when switching to emphasis state, the `textFill`\n   * should be retured to 'autoColor', but not keep '#fff'.\n   */\n\n\n  function rollbackDefaultTextStyle(style) {\n    var insideRollback = style.insideRollback;\n\n    if (insideRollback) {\n      // Reset all of the props in `CACHED_LABEL_STYLE_PROPERTIES`.\n      style.textFill = insideRollback.textFill;\n      style.textStroke = insideRollback.textStroke;\n      style.textStrokeWidth = insideRollback.textStrokeWidth;\n      style.insideRollback = null;\n    }\n  }\n\n  function getFont(opt, ecModel) {\n    var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n    return util.trim([// FIXME in node-canvas fontWeight is before fontStyle\n    opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n  }\n\n  function animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n    if (typeof dataIndex === 'function') {\n      cb = dataIndex;\n      dataIndex = null;\n    } // Do not check 'animation' property directly here. Consider this case:\n    // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n    // but its parent model (`seriesModel`) does.\n\n\n    var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n    if (animationEnabled) {\n      var postfix = isUpdate ? 'Update' : '';\n      var duration = animatableModel.getShallow('animationDuration' + postfix);\n      var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n      var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n      if (typeof animationDelay === 'function') {\n        animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n      }\n\n      if (typeof duration === 'function') {\n        duration = duration(dataIndex);\n      }\n\n      duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n    } else {\n      el.stopAnimation();\n      el.attr(props);\n      cb && cb();\n    }\n  }\n  /**\n   * Update graphic element properties with or without animation according to the\n   * configuration in series.\n   *\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} props\n   * @param {module:echarts/model/Model} [animatableModel]\n   * @param {number} [dataIndex]\n   * @param {Function} [cb]\n   * @example\n   *     graphic.updateProps(el, {\n   *         position: [100, 100]\n   *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n   *     // Or\n   *     graphic.updateProps(el, {\n   *         position: [100, 100]\n   *     }, seriesModel, function () { console.log('Animation done!'); });\n   */\n\n\n  function updateProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n  }\n  /**\n   * Init graphic element properties with or without animation according to the\n   * configuration in series.\n   *\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   *\n   * @param {module:zrender/Element} el\n   * @param {Object} props\n   * @param {module:echarts/model/Model} [animatableModel]\n   * @param {number} [dataIndex]\n   * @param {Function} cb\n   */\n\n\n  function initProps(el, props, animatableModel, dataIndex, cb) {\n    animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n  }\n  /**\n   * Get transform matrix of target (param target),\n   * in coordinate of its ancestor (param ancestor)\n   *\n   * @param {module:zrender/mixin/Transformable} target\n   * @param {module:zrender/mixin/Transformable} [ancestor]\n   */\n\n\n  function getTransform(target, ancestor) {\n    var mat = matrix.identity([]);\n\n    while (target && target !== ancestor) {\n      matrix.mul(mat, target.getLocalTransform(), mat);\n      target = target.parent;\n    }\n\n    return mat;\n  }\n  /**\n   * Apply transform to an vertex.\n   * @param {Array.<number>} target [x, y]\n   * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n   *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n   *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n   * @param {boolean=} invert Whether use invert matrix.\n   * @return {Array.<number>} [x, y]\n   */\n\n\n  function applyTransform$1(target, transform, invert) {\n    if (transform && !util.isArrayLike(transform)) {\n      transform = Transformable_1.getLocalTransform(transform);\n    }\n\n    if (invert) {\n      transform = matrix.invert([], transform);\n    }\n\n    return vector.applyTransform([], target, transform);\n  }\n  /**\n   * @param {string} direction 'left' 'right' 'top' 'bottom'\n   * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n   * @param {boolean=} invert Whether use invert matrix.\n   * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n   */\n\n\n  function transformDirection(direction, transform, invert) {\n    // Pick a base, ensure that transform result will not be (0, 0).\n    var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n    var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n    var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n    vertex = applyTransform$1(vertex, transform, invert);\n    return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n  }\n  /**\n   * Apply group transition animation from g1 to g2.\n   * If no animatableModel, no animation.\n   */\n\n\n  function groupTransition(g1, g2, animatableModel, cb) {\n    if (!g1 || !g2) {\n      return;\n    }\n\n    function getElMap(g) {\n      var elMap = {};\n      g.traverse(function (el) {\n        if (!el.isGroup && el.anid) {\n          elMap[el.anid] = el;\n        }\n      });\n      return elMap;\n    }\n\n    function getAnimatableProps(el) {\n      var obj = {\n        position: vector.clone(el.position),\n        rotation: el.rotation\n      };\n\n      if (el.shape) {\n        obj.shape = util.extend({}, el.shape);\n      }\n\n      return obj;\n    }\n\n    var elMap1 = getElMap(g1);\n    g2.traverse(function (el) {\n      if (!el.isGroup && el.anid) {\n        var oldEl = elMap1[el.anid];\n\n        if (oldEl) {\n          var newProp = getAnimatableProps(el);\n          el.attr(getAnimatableProps(oldEl));\n          updateProps(el, newProp, animatableModel, el.dataIndex);\n        } // else {\n        //     if (el.previousProps) {\n        //         graphic.updateProps\n        //     }\n        // }\n\n      }\n    });\n  }\n  /**\n   * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n   * @param {Object} rect {x, y, width, height}\n   * @return {Array.<Array.<number>>} A new clipped points.\n   */\n\n\n  function clipPointsByRect(points, rect) {\n    // FIXME: this way migth be incorrect when grpahic clipped by a corner.\n    // and when element have border.\n    return util.map(points, function (point) {\n      var x = point[0];\n      x = mathMax$3(x, rect.x);\n      x = mathMin$3(x, rect.x + rect.width);\n      var y = point[1];\n      y = mathMax$3(y, rect.y);\n      y = mathMin$3(y, rect.y + rect.height);\n      return [x, y];\n    });\n  }\n  /**\n   * @param {Object} targetRect {x, y, width, height}\n   * @param {Object} rect {x, y, width, height}\n   * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n   */\n\n\n  function clipRectByRect(targetRect, rect) {\n    var x = mathMax$3(targetRect.x, rect.x);\n    var x2 = mathMin$3(targetRect.x + targetRect.width, rect.x + rect.width);\n    var y = mathMax$3(targetRect.y, rect.y);\n    var y2 = mathMin$3(targetRect.y + targetRect.height, rect.y + rect.height); // If the total rect is cliped, nothing, including the border,\n    // should be painted. So return undefined.\n\n    if (x2 >= x && y2 >= y) {\n      return {\n        x: x,\n        y: y,\n        width: x2 - x,\n        height: y2 - y\n      };\n    }\n  }\n  /**\n   * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n   * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n   * @param {Object} [rect] {x, y, width, height}\n   * @return {module:zrender/Element} Icon path or image element.\n   */\n\n\n  function createIcon(iconStr, opt, rect) {\n    opt = util.extend({\n      rectHover: true\n    }, opt);\n    var style = opt.style = {\n      strokeNoScale: true\n    };\n    rect = rect || {\n      x: -1,\n      y: -1,\n      width: 2,\n      height: 2\n    };\n\n    if (iconStr) {\n      return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), util.defaults(style, rect), new Image$1(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n    }\n  }\n  /**\n   * Return `true` if the given line (line `a`) and the given polygon\n   * are intersect.\n   * Note that we do not count colinear as intersect here because no\n   * requirement for that. We could do that if required in future.\n   *\n   * @param {number} a1x\n   * @param {number} a1y\n   * @param {number} a2x\n   * @param {number} a2y\n   * @param {Array.<Array.<number>>} points Points of the polygon.\n   * @return {boolean}\n   */\n\n\n  function linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n    for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n      var p = points[i];\n\n      if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n        return true;\n      }\n\n      p2 = p;\n    }\n  }\n  /**\n   * Return `true` if the given two lines (line `a` and line `b`)\n   * are intersect.\n   * Note that we do not count colinear as intersect here because no\n   * requirement for that. We could do that if required in future.\n   *\n   * @param {number} a1x\n   * @param {number} a1y\n   * @param {number} a2x\n   * @param {number} a2y\n   * @param {number} b1x\n   * @param {number} b1y\n   * @param {number} b2x\n   * @param {number} b2y\n   * @return {boolean}\n   */\n\n\n  function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y; // `vec_m` and `vec_n` are parallel iff\n    //     exising `k` such that `vec_m = k  vec_n`, equivalent to `vec_m X vec_n = 0`.\n\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n\n    if (nearZero(nmCrossProduct)) {\n      return false;\n    } // `vec_m` and `vec_n` are intersect iff\n    //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n    //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n    //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n\n\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n\n    if (q < 0 || q > 1) {\n      return false;\n    }\n\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n\n    if (p < 0 || p > 1) {\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Cross product of 2-dimension vector.\n   */\n\n\n  function crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n  }\n\n  function nearZero(val) {\n    return val <= 1e-6 && val >= -1e-6;\n  } // Register built-in shapes. These shapes might be overwirtten\n  // by users, although we do not recommend that.\n\n\n  registerShape('circle', Circle);\n  registerShape('sector', Sector);\n  registerShape('ring', Ring);\n  registerShape('polygon', Polygon);\n  registerShape('polyline', Polyline);\n  registerShape('rect', Rect);\n  registerShape('line', Line);\n  registerShape('bezierCurve', BezierCurve);\n  registerShape('arc', Arc);\n  var Z2_EMPHASIS_LIFT_1 = Z2_EMPHASIS_LIFT;\n  var CACHED_LABEL_STYLE_PROPERTIES_1 = CACHED_LABEL_STYLE_PROPERTIES;\n  var extendShape_1 = extendShape;\n  var extendPath_1 = extendPath;\n  var registerShape_1 = registerShape;\n  var getShapeClass_1 = getShapeClass;\n  var makePath_1 = makePath;\n  var makeImage_1 = makeImage;\n  var mergePath_1$1 = mergePath$1;\n  var resizePath_1 = resizePath;\n  var subPixelOptimizeLine_1$1 = subPixelOptimizeLine$2;\n  var subPixelOptimizeRect_1$1 = subPixelOptimizeRect$2;\n  var subPixelOptimize_1$1 = subPixelOptimize$1;\n  var setElementHoverStyle_1 = setElementHoverStyle;\n  var setHoverStyle_1 = setHoverStyle;\n  var setAsHighDownDispatcher_1 = setAsHighDownDispatcher;\n  var isHighDownDispatcher_1 = isHighDownDispatcher;\n  var getHighlightDigit_1 = getHighlightDigit;\n  var setLabelStyle_1 = setLabelStyle;\n  var modifyLabelStyle_1 = modifyLabelStyle;\n  var setTextStyle_1 = setTextStyle;\n  var setText_1 = setText;\n  var getFont_1 = getFont;\n  var updateProps_1 = updateProps;\n  var initProps_1 = initProps;\n  var getTransform_1 = getTransform;\n  var applyTransform_1$1 = applyTransform$1;\n  var transformDirection_1 = transformDirection;\n  var groupTransition_1 = groupTransition;\n  var clipPointsByRect_1 = clipPointsByRect;\n  var clipRectByRect_1 = clipRectByRect;\n  var createIcon_1 = createIcon;\n  var linePolygonIntersect_1 = linePolygonIntersect;\n  var lineLineIntersect_1 = lineLineIntersect;\n\n  var graphic = {\n  \tImage: Image$2,\n  \tGroup: Group_1$1,\n  \tText: Text_1$1,\n  \tCircle: Circle_1,\n  \tSector: Sector_1,\n  \tRing: Ring_1,\n  \tPolygon: Polygon_1,\n  \tPolyline: Polyline_1,\n  \tRect: Rect_1,\n  \tLine: Line_1,\n  \tBezierCurve: BezierCurve_1,\n  \tArc: Arc_1,\n  \tCompoundPath: CompoundPath_1,\n  \tLinearGradient: LinearGradient_1$1,\n  \tRadialGradient: RadialGradient_1$1,\n  \tBoundingRect: BoundingRect_1$1,\n  \tIncrementalDisplayable: IncrementalDisplayable_1,\n  \tZ2_EMPHASIS_LIFT: Z2_EMPHASIS_LIFT_1,\n  \tCACHED_LABEL_STYLE_PROPERTIES: CACHED_LABEL_STYLE_PROPERTIES_1,\n  \textendShape: extendShape_1,\n  \textendPath: extendPath_1,\n  \tregisterShape: registerShape_1,\n  \tgetShapeClass: getShapeClass_1,\n  \tmakePath: makePath_1,\n  \tmakeImage: makeImage_1,\n  \tmergePath: mergePath_1$1,\n  \tresizePath: resizePath_1,\n  \tsubPixelOptimizeLine: subPixelOptimizeLine_1$1,\n  \tsubPixelOptimizeRect: subPixelOptimizeRect_1$1,\n  \tsubPixelOptimize: subPixelOptimize_1$1,\n  \tsetElementHoverStyle: setElementHoverStyle_1,\n  \tsetHoverStyle: setHoverStyle_1,\n  \tsetAsHighDownDispatcher: setAsHighDownDispatcher_1,\n  \tisHighDownDispatcher: isHighDownDispatcher_1,\n  \tgetHighlightDigit: getHighlightDigit_1,\n  \tsetLabelStyle: setLabelStyle_1,\n  \tmodifyLabelStyle: modifyLabelStyle_1,\n  \tsetTextStyle: setTextStyle_1,\n  \tsetText: setText_1,\n  \tgetFont: getFont_1,\n  \tupdateProps: updateProps_1,\n  \tinitProps: initProps_1,\n  \tgetTransform: getTransform_1,\n  \tapplyTransform: applyTransform_1$1,\n  \ttransformDirection: transformDirection_1,\n  \tgroupTransition: groupTransition_1,\n  \tclipPointsByRect: clipPointsByRect_1,\n  \tclipRectByRect: clipRectByRect_1,\n  \tcreateIcon: createIcon_1,\n  \tlinePolygonIntersect: linePolygonIntersect_1,\n  \tlineLineIntersect: lineLineIntersect_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PATH_COLOR = ['textStyle', 'color'];\n  var _default$Q = {\n    /**\n     * Get color property or get color from option.textStyle.color\n     * @param {boolean} [isEmphasis]\n     * @return {string}\n     */\n    getTextColor: function (isEmphasis) {\n      var ecModel = this.ecModel;\n      return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n    },\n\n    /**\n     * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n     * @return {string}\n     */\n    getFont: function () {\n      return graphic.getFont({\n        fontStyle: this.getShallow('fontStyle'),\n        fontWeight: this.getShallow('fontWeight'),\n        fontSize: this.getShallow('fontSize'),\n        fontFamily: this.getShallow('fontFamily')\n      }, this.ecModel);\n    },\n    getTextRect: function (text$1) {\n      return text.getBoundingRect(text$1, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('lineHeight'), this.getShallow('rich'), this.getShallow('truncateText'));\n    }\n  };\n  var textStyle = _default$Q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]);\n  var _default$R = {\n    getItemStyle: function (excludes, includes) {\n      var style = getItemStyle(this, excludes, includes);\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n      return style;\n    },\n    getBorderLineDash: function () {\n      var lineType = this.get('borderType');\n      return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [5, 5] : [1, 1];\n    }\n  };\n  var itemStyle = _default$R;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$1 = model.makeInner;\n\n\n\n  var enableClassExtend$1 = clazz.enableClassExtend;\n  var enableClassCheck$1 = clazz.enableClassCheck;\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/model/Model\n   */\n  var mixin$1 = util.mixin;\n  var inner = makeInner$1();\n  /**\n   * @alias module:echarts/model/Model\n   * @constructor\n   * @param {Object} [option]\n   * @param {module:echarts/model/Model} [parentModel]\n   * @param {module:echarts/model/Global} [ecModel]\n   */\n\n  function Model(option, parentModel, ecModel) {\n    /**\n     * @type {module:echarts/model/Model}\n     * @readOnly\n     */\n    this.parentModel = parentModel;\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n\n    this.ecModel = ecModel;\n    /**\n     * @type {Object}\n     * @protected\n     */\n\n    this.option = option; // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n\n  Model.prototype = {\n    constructor: Model,\n\n    /**\n     * Model \n     * @param {Object} option\n     */\n    init: null,\n\n    /**\n     *  Option merge\n     */\n    mergeOption: function (option) {\n      util.merge(this.option, option, true);\n    },\n\n    /**\n     * @param {string|Array.<string>} path\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    get: function (path, ignoreParent) {\n      if (path == null) {\n        return this.option;\n      }\n\n      return doGet(this.option, this.parsePath(path), !ignoreParent && getParent(this, path));\n    },\n\n    /**\n     * @param {string} key\n     * @param {boolean} [ignoreParent=false]\n     * @return {*}\n     */\n    getShallow: function (key, ignoreParent) {\n      var option = this.option;\n      var val = option == null ? option : option[key];\n      var parentModel = !ignoreParent && getParent(this, key);\n\n      if (val == null && parentModel) {\n        val = parentModel.getShallow(key);\n      }\n\n      return val;\n    },\n\n    /**\n     * @param {string|Array.<string>} [path]\n     * @param {module:echarts/model/Model} [parentModel]\n     * @return {module:echarts/model/Model}\n     */\n    getModel: function (path, parentModel) {\n      var obj = path == null ? this.option : doGet(this.option, path = this.parsePath(path));\n      var thisParentModel;\n      parentModel = parentModel || (thisParentModel = getParent(this, path)) && thisParentModel.getModel(path);\n      return new Model(obj, parentModel, this.ecModel);\n    },\n\n    /**\n     * If model has option\n     */\n    isEmpty: function () {\n      return this.option == null;\n    },\n    restoreData: function () {},\n    // Pending\n    clone: function () {\n      var Ctor = this.constructor;\n      return new Ctor(util.clone(this.option));\n    },\n    setReadOnly: function (properties) {// clazzUtil.setReadOnly(this, properties);\n    },\n    // If path is null/undefined, return null/undefined.\n    parsePath: function (path) {\n      if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      return path;\n    },\n\n    /**\n     * @param {Function} getParentMethod\n     *        param {Array.<string>|string} path\n     *        return {module:echarts/model/Model}\n     */\n    customizeGetParent: function (getParentMethod) {\n      inner(this).getParent = getParentMethod;\n    },\n    isAnimationEnabled: function () {\n      if (!env_1.node) {\n        if (this.option.animation != null) {\n          return !!this.option.animation;\n        } else if (this.parentModel) {\n          return this.parentModel.isAnimationEnabled();\n        }\n      }\n    }\n  };\n\n  function doGet(obj, pathArr, parentModel) {\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      } // obj could be number/string/... (like 0)\n\n\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    if (obj == null && parentModel) {\n      obj = parentModel.get(pathArr);\n    }\n\n    return obj;\n  } // `path` can be null/undefined\n\n\n  function getParent(model, path) {\n    var getParentMethod = inner(model).getParent;\n    return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n  } // Enable Model.extend.\n\n\n  enableClassExtend$1(Model);\n  enableClassCheck$1(Model);\n  mixin$1(Model, lineStyle);\n  mixin$1(Model, areaStyle);\n  mixin$1(Model, textStyle);\n  mixin$1(Model, itemStyle);\n  var _default$S = Model;\n  var Model_1 = _default$S;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parseClassType$1 = clazz.parseClassType;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var base = 0;\n  /**\n   * @public\n   * @param {string} type\n   * @return {string}\n   */\n\n  function getUID(type) {\n    // Considering the case of crossing js context,\n    // use Math.random to make id as unique as possible.\n    return [type || '', base++, Math.random().toFixed(5)].join('_');\n  }\n  /**\n   * @inner\n   */\n\n\n  function enableSubTypeDefaulter(entity) {\n    var subTypeDefaulters = {};\n\n    entity.registerSubTypeDefaulter = function (componentType, defaulter) {\n      componentType = parseClassType$1(componentType);\n      subTypeDefaulters[componentType.main] = defaulter;\n    };\n\n    entity.determineSubType = function (componentType, option) {\n      var type = option.type;\n\n      if (!type) {\n        var componentTypeMain = parseClassType$1(componentType).main;\n\n        if (entity.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n          type = subTypeDefaulters[componentTypeMain](option);\n        }\n      }\n\n      return type;\n    };\n\n    return entity;\n  }\n  /**\n   * Topological travel on Activity Network (Activity On Vertices).\n   * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n   *\n   * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n   *\n   * If there is circle dependencey, Error will be thrown.\n   *\n   */\n\n\n  function enableTopologicalTravel(entity, dependencyGetter) {\n    /**\n     * @public\n     * @param {Array.<string>} targetNameList Target Component type list.\n     *                                           Can be ['aa', 'bb', 'aa.xx']\n     * @param {Array.<string>} fullNameList By which we can build dependency graph.\n     * @param {Function} callback Params: componentType, dependencies.\n     * @param {Object} context Scope of callback.\n     */\n    entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n      if (!targetNameList.length) {\n        return;\n      }\n\n      var result = makeDepndencyGraph(fullNameList);\n      var graph = result.graph;\n      var stack = result.noEntryList;\n      var targetNameSet = {};\n      util.each(targetNameList, function (name) {\n        targetNameSet[name] = true;\n      });\n\n      while (stack.length) {\n        var currComponentType = stack.pop();\n        var currVertex = graph[currComponentType];\n        var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n        if (isInTargetNameSet) {\n          callback.call(context, currComponentType, currVertex.originalDeps.slice());\n          delete targetNameSet[currComponentType];\n        }\n\n        util.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n      }\n\n      util.each(targetNameSet, function () {\n        throw new Error('Circle dependency may exists');\n      });\n\n      function removeEdge(succComponentType) {\n        graph[succComponentType].entryCount--;\n\n        if (graph[succComponentType].entryCount === 0) {\n          stack.push(succComponentType);\n        }\n      } // Consider this case: legend depends on series, and we call\n      // chart.setOption({series: [...]}), where only series is in option.\n      // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n      // not be called, but only sereis.mergeOption is called. Thus legend\n      // have no chance to update its local record about series (like which\n      // name of series is available in legend).\n\n\n      function removeEdgeAndAdd(succComponentType) {\n        targetNameSet[succComponentType] = true;\n        removeEdge(succComponentType);\n      }\n    };\n    /**\n     * DepndencyGraph: {Object}\n     * key: conponentType,\n     * value: {\n     *     successor: [conponentTypes...],\n     *     originalDeps: [conponentTypes...],\n     *     entryCount: {number}\n     * }\n     */\n\n\n    function makeDepndencyGraph(fullNameList) {\n      var graph = {};\n      var noEntryList = [];\n      util.each(fullNameList, function (name) {\n        var thisItem = createDependencyGraphItem(graph, name);\n        var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n        var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n        thisItem.entryCount = availableDeps.length;\n\n        if (thisItem.entryCount === 0) {\n          noEntryList.push(name);\n        }\n\n        util.each(availableDeps, function (dependentName) {\n          if (util.indexOf(thisItem.predecessor, dependentName) < 0) {\n            thisItem.predecessor.push(dependentName);\n          }\n\n          var thatItem = createDependencyGraphItem(graph, dependentName);\n\n          if (util.indexOf(thatItem.successor, dependentName) < 0) {\n            thatItem.successor.push(name);\n          }\n        });\n      });\n      return {\n        graph: graph,\n        noEntryList: noEntryList\n      };\n    }\n\n    function createDependencyGraphItem(graph, name) {\n      if (!graph[name]) {\n        graph[name] = {\n          predecessor: [],\n          successor: []\n        };\n      }\n\n      return graph[name];\n    }\n\n    function getAvailableDependencies(originalDeps, fullNameList) {\n      var availableDeps = [];\n      util.each(originalDeps, function (dep) {\n        util.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n      });\n      return availableDeps;\n    }\n  }\n\n  var getUID_1 = getUID;\n  var enableSubTypeDefaulter_1 = enableSubTypeDefaulter;\n  var enableTopologicalTravel_1 = enableTopologicalTravel;\n\n  var component = {\n  \tgetUID: getUID_1,\n  \tenableSubTypeDefaulter: enableSubTypeDefaulter_1,\n  \tenableTopologicalTravel: enableTopologicalTravel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * A third-party license is embeded for some of the code in this file:\n  * The method \"quantile\" was copied from \"d3.js\".\n  * (See more details in the comment of the method below.)\n  * The use of the source code of this file is also subject to the terms\n  * and consitions of the license of \"d3.js\" (BSD-3Clause, see\n  * </licenses/LICENSE-d3>).\n  */\n  var RADIAN_EPSILON = 1e-4;\n\n  function _trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  }\n  /**\n   * Linear mapping a value from domain to range\n   * @memberOf module:echarts/util/number\n   * @param  {(number|Array.<number>)} val\n   * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n   * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n   * @param  {boolean} clamp\n   * @return {(number|Array.<number>}\n   */\n\n\n  function linearMap(val, domain, range, clamp) {\n    var subDomain = domain[1] - domain[0];\n    var subRange = range[1] - range[0];\n\n    if (subDomain === 0) {\n      return subRange === 0 ? range[0] : (range[0] + range[1]) / 2;\n    } // Avoid accuracy problem in edge, such as\n    // 146.39 - 62.83 === 83.55999999999999.\n    // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n    // It is a little verbose for efficiency considering this method\n    // is a hotspot.\n\n\n    if (clamp) {\n      if (subDomain > 0) {\n        if (val <= domain[0]) {\n          return range[0];\n        } else if (val >= domain[1]) {\n          return range[1];\n        }\n      } else {\n        if (val >= domain[0]) {\n          return range[0];\n        } else if (val <= domain[1]) {\n          return range[1];\n        }\n      }\n    } else {\n      if (val === domain[0]) {\n        return range[0];\n      }\n\n      if (val === domain[1]) {\n        return range[1];\n      }\n    }\n\n    return (val - domain[0]) / subDomain * subRange + range[0];\n  }\n  /**\n   * Convert a percent string to absolute number.\n   * Returns NaN if percent is not a valid string or number\n   * @memberOf module:echarts/util/number\n   * @param {string|number} percent\n   * @param {number} all\n   * @return {number}\n   */\n\n\n  function parsePercent$1(percent, all) {\n    switch (percent) {\n      case 'center':\n      case 'middle':\n        percent = '50%';\n        break;\n\n      case 'left':\n      case 'top':\n        percent = '0%';\n        break;\n\n      case 'right':\n      case 'bottom':\n        percent = '100%';\n        break;\n    }\n\n    if (typeof percent === 'string') {\n      if (_trim(percent).match(/%$/)) {\n        return parseFloat(percent) / 100 * all;\n      }\n\n      return parseFloat(percent);\n    }\n\n    return percent == null ? NaN : +percent;\n  }\n  /**\n   * (1) Fix rounding error of float numbers.\n   * (2) Support return string to avoid scientific notation like '3.5e-7'.\n   *\n   * @param {number} x\n   * @param {number} [precision]\n   * @param {boolean} [returnStr]\n   * @return {number|string}\n   */\n\n\n  function round$1(x, precision, returnStr) {\n    if (precision == null) {\n      precision = 10;\n    } // Avoid range error\n\n\n    precision = Math.min(Math.max(0, precision), 20);\n    x = (+x).toFixed(precision);\n    return returnStr ? x : +x;\n  }\n  /**\n   * asc sort arr.\n   * The input arr will be modified.\n   *\n   * @param {Array} arr\n   * @return {Array} The input arr.\n   */\n\n\n  function asc(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    return arr;\n  }\n  /**\n   * Get precision\n   * @param {number} val\n   */\n\n\n  function getPrecision(val) {\n    val = +val;\n\n    if (isNaN(val)) {\n      return 0;\n    } // It is much faster than methods converting number to string as follows\n    //      var tmp = val.toString();\n    //      return tmp.length - 1 - tmp.indexOf('.');\n    // especially when precision is low\n\n\n    var e = 1;\n    var count = 0;\n\n    while (Math.round(val * e) / e !== val) {\n      e *= 10;\n      count++;\n    }\n\n    return count;\n  }\n  /**\n   * @param {string|number} val\n   * @return {number}\n   */\n\n\n  function getPrecisionSafe(val) {\n    var str = val.toString(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n    var eIndex = str.indexOf('e');\n\n    if (eIndex > 0) {\n      var precision = +str.slice(eIndex + 1);\n      return precision < 0 ? -precision : 0;\n    } else {\n      var dotIndex = str.indexOf('.');\n      return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n    }\n  }\n  /**\n   * Minimal dicernible data precisioin according to a single pixel.\n   *\n   * @param {Array.<number>} dataExtent\n   * @param {Array.<number>} pixelExtent\n   * @return {number} precision\n   */\n\n\n  function getPixelPrecision(dataExtent, pixelExtent) {\n    var log = Math.log;\n    var LN10 = Math.LN10;\n    var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n    var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n    var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n    return !isFinite(precision) ? 20 : precision;\n  }\n  /**\n   * Get a data of given precision, assuring the sum of percentages\n   * in valueList is 1.\n   * The largest remainer method is used.\n   * https://en.wikipedia.org/wiki/Largest_remainder_method\n   *\n   * @param {Array.<number>} valueList a list of all data\n   * @param {number} idx index of the data to be processed in valueList\n   * @param {number} precision integer number showing digits of precision\n   * @return {number} percent ranging from 0 to 100\n   */\n\n\n  function getPercentWithPrecision(valueList, idx, precision) {\n    if (!valueList[idx]) {\n      return 0;\n    }\n\n    var sum = util.reduce(valueList, function (acc, val) {\n      return acc + (isNaN(val) ? 0 : val);\n    }, 0);\n\n    if (sum === 0) {\n      return 0;\n    }\n\n    var digits = Math.pow(10, precision);\n    var votesPerQuota = util.map(valueList, function (val) {\n      return (isNaN(val) ? 0 : val) / sum * digits * 100;\n    });\n    var targetSeats = digits * 100;\n    var seats = util.map(votesPerQuota, function (votes) {\n      // Assign automatic seats.\n      return Math.floor(votes);\n    });\n    var currentSum = util.reduce(seats, function (acc, val) {\n      return acc + val;\n    }, 0);\n    var remainder = util.map(votesPerQuota, function (votes, idx) {\n      return votes - seats[idx];\n    }); // Has remainding votes.\n\n    while (currentSum < targetSeats) {\n      // Find next largest remainder.\n      var max = Number.NEGATIVE_INFINITY;\n      var maxId = null;\n\n      for (var i = 0, len = remainder.length; i < len; ++i) {\n        if (remainder[i] > max) {\n          max = remainder[i];\n          maxId = i;\n        }\n      } // Add a vote to max remainder.\n\n\n      ++seats[maxId];\n      remainder[maxId] = 0;\n      ++currentSum;\n    }\n\n    return seats[idx] / digits;\n  } // Number.MAX_SAFE_INTEGER, ie do not support.\n\n\n  var MAX_SAFE_INTEGER$2 = 9007199254740991;\n  /**\n   * To 0 - 2 * PI, considering negative radian.\n   * @param {number} radian\n   * @return {number}\n   */\n\n  function remRadian(radian) {\n    var pi2 = Math.PI * 2;\n    return (radian % pi2 + pi2) % pi2;\n  }\n  /**\n   * @param {type} radian\n   * @return {boolean}\n   */\n\n\n  function isRadianAroundZero(val) {\n    return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n  }\n  /* eslint-disable */\n\n\n  var TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n  /* eslint-enable */\n\n  /**\n   * @param {string|Date|number} value These values can be accepted:\n   *   + An instance of Date, represent a time in its own time zone.\n   *   + Or string in a subset of ISO 8601, only including:\n   *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n   *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n   *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n   *     all of which will be treated as local time if time zone is not specified\n   *     (see <https://momentjs.com/>).\n   *   + Or other string format, including (all of which will be treated as loacal time):\n   *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n   *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n   *   + a timestamp, which represent a time in UTC.\n   * @return {Date} date\n   */\n\n  function parseDate(value) {\n    if (value instanceof Date) {\n      return value;\n    } else if (typeof value === 'string') {\n      // Different browsers parse date in different way, so we parse it manually.\n      // Some other issues:\n      // new Date('1970-01-01') is UTC,\n      // new Date('1970/01/01') and new Date('1970-1-01') is local.\n      // See issue #3623\n      var match = TIME_REG.exec(value);\n\n      if (!match) {\n        // return Invalid Date.\n        return new Date(NaN);\n      } // Use local time when no timezone offset specifed.\n\n\n      if (!match[8]) {\n        // match[n] can only be string or undefined.\n        // But take care of '12' + 1 => '121'.\n        return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n      } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n      // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n      // For example, system timezone is set as \"Time Zone: America/Toronto\",\n      // then these code will get different result:\n      // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n      // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n      // So we should not use `new Date`, but use `Date.UTC`.\n      else {\n          var hour = +match[4] || 0;\n\n          if (match[8].toUpperCase() !== 'Z') {\n            hour -= match[8].slice(0, 3);\n          }\n\n          return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n        }\n    } else if (value == null) {\n      return new Date(NaN);\n    }\n\n    return new Date(Math.round(value));\n  }\n  /**\n   * Quantity of a number. e.g. 0.1, 1, 10, 100\n   *\n   * @param  {number} val\n   * @return {number}\n   */\n\n\n  function quantity(val) {\n    return Math.pow(10, quantityExponent(val));\n  }\n  /**\n   * Exponent of the quantity of a number\n   * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3\n   *\n   * @param  {number} val non-negative value\n   * @return {number}\n   */\n\n\n  function quantityExponent(val) {\n    if (val === 0) {\n      return 0;\n    }\n\n    var exp = Math.floor(Math.log(val) / Math.LN10);\n    /**\n     * exp is expected to be the rounded-down result of the base-10 log of val.\n     * But due to the precision loss with Math.log(val), we need to restore it\n     * using 10^exp to make sure we can get val back from exp. #11249\n     */\n\n    if (val / Math.pow(10, exp) >= 10) {\n      exp++;\n    }\n\n    return exp;\n  }\n  /**\n   * find a nice number approximately equal to x. Round the number if round = true,\n   * take ceiling if round = false. The primary observation is that the nicest\n   * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n   *\n   * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n   *\n   * @param  {number} val Non-negative value.\n   * @param  {boolean} round\n   * @return {number}\n   */\n\n\n  function nice(val, round) {\n    var exponent = quantityExponent(val);\n    var exp10 = Math.pow(10, exponent);\n    var f = val / exp10; // 1 <= f < 10\n\n    var nf;\n\n    if (round) {\n      if (f < 1.5) {\n        nf = 1;\n      } else if (f < 2.5) {\n        nf = 2;\n      } else if (f < 4) {\n        nf = 3;\n      } else if (f < 7) {\n        nf = 5;\n      } else {\n        nf = 10;\n      }\n    } else {\n      if (f < 1) {\n        nf = 1;\n      } else if (f < 2) {\n        nf = 2;\n      } else if (f < 3) {\n        nf = 3;\n      } else if (f < 5) {\n        nf = 5;\n      } else {\n        nf = 10;\n      }\n    }\n\n    val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n    // 20 is the uppper bound of toFixed.\n\n    return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n  }\n  /**\n   * This code was copied from \"d3.js\"\n   * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\n   * See the license statement at the head of this file.\n   * @param {Array.<number>} ascArr\n   */\n\n\n  function quantile(ascArr, p) {\n    var H = (ascArr.length - 1) * p + 1;\n    var h = Math.floor(H);\n    var v = +ascArr[h - 1];\n    var e = H - h;\n    return e ? v + e * (ascArr[h] - v) : v;\n  }\n  /**\n   * Order intervals asc, and split them when overlap.\n   * expect(numberUtil.reformIntervals([\n   *     {interval: [18, 62], close: [1, 1]},\n   *     {interval: [-Infinity, -70], close: [0, 0]},\n   *     {interval: [-70, -26], close: [1, 1]},\n   *     {interval: [-26, 18], close: [1, 1]},\n   *     {interval: [62, 150], close: [1, 1]},\n   *     {interval: [106, 150], close: [1, 1]},\n   *     {interval: [150, Infinity], close: [0, 0]}\n   * ])).toEqual([\n   *     {interval: [-Infinity, -70], close: [0, 0]},\n   *     {interval: [-70, -26], close: [1, 1]},\n   *     {interval: [-26, 18], close: [0, 1]},\n   *     {interval: [18, 62], close: [0, 1]},\n   *     {interval: [62, 150], close: [0, 1]},\n   *     {interval: [150, Infinity], close: [0, 0]}\n   * ]);\n   * @param {Array.<Object>} list, where `close` mean open or close\n   *        of the interval, and Infinity can be used.\n   * @return {Array.<Object>} The origin list, which has been reformed.\n   */\n\n\n  function reformIntervals(list) {\n    list.sort(function (a, b) {\n      return littleThan(a, b, 0) ? -1 : 1;\n    });\n    var curr = -Infinity;\n    var currClose = 1;\n\n    for (var i = 0; i < list.length;) {\n      var interval = list[i].interval;\n      var close = list[i].close;\n\n      for (var lg = 0; lg < 2; lg++) {\n        if (interval[lg] <= curr) {\n          interval[lg] = curr;\n          close[lg] = !lg ? 1 - currClose : 1;\n        }\n\n        curr = interval[lg];\n        currClose = close[lg];\n      }\n\n      if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n        list.splice(i, 1);\n      } else {\n        i++;\n      }\n    }\n\n    return list;\n\n    function littleThan(a, b, lg) {\n      return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n    }\n  }\n  /**\n   * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n   * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n   * subtraction forces infinities to NaN\n   *\n   * @param {*} v\n   * @return {boolean}\n   */\n\n\n  function isNumeric(v) {\n    return v - parseFloat(v) >= 0;\n  }\n\n  var linearMap_1 = linearMap;\n  var parsePercent_1$1 = parsePercent$1;\n  var round_1 = round$1;\n  var asc_1 = asc;\n  var getPrecision_1 = getPrecision;\n  var getPrecisionSafe_1 = getPrecisionSafe;\n  var getPixelPrecision_1 = getPixelPrecision;\n  var getPercentWithPrecision_1 = getPercentWithPrecision;\n  var MAX_SAFE_INTEGER_1 = MAX_SAFE_INTEGER$2;\n  var remRadian_1 = remRadian;\n  var isRadianAroundZero_1 = isRadianAroundZero;\n  var parseDate_1 = parseDate;\n  var quantity_1 = quantity;\n  var quantityExponent_1 = quantityExponent;\n  var nice_1 = nice;\n  var quantile_1 = quantile;\n  var reformIntervals_1 = reformIntervals;\n  var isNumeric_1 = isNumeric;\n\n  var number = {\n  \tlinearMap: linearMap_1,\n  \tparsePercent: parsePercent_1$1,\n  \tround: round_1,\n  \tasc: asc_1,\n  \tgetPrecision: getPrecision_1,\n  \tgetPrecisionSafe: getPrecisionSafe_1,\n  \tgetPixelPrecision: getPixelPrecision_1,\n  \tgetPercentWithPrecision: getPercentWithPrecision_1,\n  \tMAX_SAFE_INTEGER: MAX_SAFE_INTEGER_1,\n  \tremRadian: remRadian_1,\n  \tisRadianAroundZero: isRadianAroundZero_1,\n  \tparseDate: parseDate_1,\n  \tquantity: quantity_1,\n  \tquantityExponent: quantityExponent_1,\n  \tnice: nice_1,\n  \tquantile: quantile_1,\n  \treformIntervals: reformIntervals_1,\n  \tisNumeric: isNumeric_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import Text from 'zrender/src/graphic/Text';\n\n  /**\n   * add commas after every three numbers\n   * @param {string|number} x\n   * @return {string}\n   */\n  function addCommas(x) {\n    if (isNaN(x)) {\n      return '-';\n    }\n\n    x = (x + '').split('.');\n    return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (x.length > 1 ? '.' + x[1] : '');\n  }\n  /**\n   * @param {string} str\n   * @param {boolean} [upperCaseFirst=false]\n   * @return {string} str\n   */\n\n\n  function toCamelCase(str, upperCaseFirst) {\n    str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n      return group1.toUpperCase();\n    });\n\n    if (upperCaseFirst && str) {\n      str = str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    return str;\n  }\n\n  var normalizeCssArray$2 = util.normalizeCssArray;\n  var replaceReg = /([&<>\"'])/g;\n  var replaceMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n  };\n\n  function encodeHTML(source) {\n    return source == null ? '' : (source + '').replace(replaceReg, function (str, c) {\n      return replaceMap[c];\n    });\n  }\n\n  var TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\n  var wrapVar = function (varName, seriesIdx) {\n    return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n  };\n  /**\n   * Template formatter\n   * @param {string} tpl\n   * @param {Array.<Object>|Object} paramsList\n   * @param {boolean} [encode=false]\n   * @return {string}\n   */\n\n\n  function formatTpl(tpl, paramsList, encode) {\n    if (!util.isArray(paramsList)) {\n      paramsList = [paramsList];\n    }\n\n    var seriesLen = paramsList.length;\n\n    if (!seriesLen) {\n      return '';\n    }\n\n    var $vars = paramsList[0].$vars || [];\n\n    for (var i = 0; i < $vars.length; i++) {\n      var alias = TPL_VAR_ALIAS[i];\n      tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\n    }\n\n    for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n      for (var k = 0; k < $vars.length; k++) {\n        var val = paramsList[seriesIdx][$vars[k]];\n        tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n      }\n    }\n\n    return tpl;\n  }\n  /**\n   * simple Template formatter\n   *\n   * @param {string} tpl\n   * @param {Object} param\n   * @param {boolean} [encode=false]\n   * @return {string}\n   */\n\n\n  function formatTplSimple(tpl, param, encode) {\n    util.each(param, function (value, key) {\n      tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n    });\n    return tpl;\n  }\n  /**\n   * @param {Object|string} [opt] If string, means color.\n   * @param {string} [opt.color]\n   * @param {string} [opt.extraCssText]\n   * @param {string} [opt.type='item'] 'item' or 'subItem'\n   * @param {string} [opt.renderMode='html'] render mode of tooltip, 'html' or 'richText'\n   * @param {string} [opt.markerId='X'] id name for marker. If only one marker is in a rich text, this can be omitted.\n   * @return {string}\n   */\n\n\n  function getTooltipMarker(opt, extraCssText) {\n    opt = util.isString(opt) ? {\n      color: opt,\n      extraCssText: extraCssText\n    } : opt || {};\n    var color = opt.color;\n    var type = opt.type;\n    var extraCssText = opt.extraCssText;\n    var renderMode = opt.renderMode || 'html';\n    var markerId = opt.markerId || 'X';\n\n    if (!color) {\n      return '';\n    }\n\n    if (renderMode === 'html') {\n      return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:5px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\n    } else {\n      // Space for rich element marker\n      return {\n        renderMode: renderMode,\n        content: '{marker' + markerId + '|}  ',\n        style: {\n          color: color\n        }\n      };\n    }\n  }\n\n  function pad(str, len) {\n    str += '';\n    return '0000'.substr(0, len - str.length) + str;\n  }\n  /**\n   * ISO Date format\n   * @param {string} tpl\n   * @param {number} value\n   * @param {boolean} [isUTC=false] Default in local time.\n   *           see `module:echarts/scale/Time`\n   *           and `module:echarts/util/number#parseDate`.\n   * @inner\n   */\n\n\n  function formatTime(tpl, value, isUTC) {\n    if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n      tpl = 'MM-dd\\nyyyy';\n    }\n\n    var date = number.parseDate(value);\n    var utc = isUTC ? 'UTC' : '';\n    var y = date['get' + utc + 'FullYear']();\n    var M = date['get' + utc + 'Month']() + 1;\n    var d = date['get' + utc + 'Date']();\n    var h = date['get' + utc + 'Hours']();\n    var m = date['get' + utc + 'Minutes']();\n    var s = date['get' + utc + 'Seconds']();\n    var S = date['get' + utc + 'Milliseconds']();\n    tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', y % 100).replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\n    return tpl;\n  }\n  /**\n   * Capital first\n   * @param {string} str\n   * @return {string}\n   */\n\n\n  function capitalFirst(str) {\n    return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n  }\n\n  var truncateText$1 = text.truncateText;\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {string} opt.text\n   * @param {string} opt.font\n   * @param {string} [opt.textAlign='left']\n   * @param {string} [opt.textVerticalAlign='top']\n   * @param {Array.<number>} [opt.textPadding]\n   * @param {number} [opt.textLineHeight]\n   * @param {Object} [opt.rich]\n   * @param {Object} [opt.truncate]\n   * @return {Object} {x, y, width, height, lineHeight}\n   */\n\n  function getTextBoundingRect(opt) {\n    return text.getBoundingRect(opt.text, opt.font, opt.textAlign, opt.textVerticalAlign, opt.textPadding, opt.textLineHeight, opt.rich, opt.truncate);\n  }\n  /**\n   * @deprecated\n   * the `textLineHeight` was added later.\n   * For backward compatiblility, put it as the last parameter.\n   * But deprecated this interface. Please use `getTextBoundingRect` instead.\n   */\n\n\n  function getTextRect(text$1, font, textAlign, textVerticalAlign, textPadding, rich, truncate, textLineHeight) {\n    return text.getBoundingRect(text$1, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate);\n  }\n  /**\n   * open new tab\n   * @param {string} link url\n   * @param {string} target blank or self\n   */\n\n\n  function windowOpen(link, target) {\n    if (target === '_blank' || target === 'blank') {\n      var blank = window.open();\n      blank.opener = null;\n      blank.location = link;\n    } else {\n      window.open(link, target);\n    }\n  }\n\n  var addCommas_1 = addCommas;\n  var toCamelCase_1 = toCamelCase;\n  var normalizeCssArray_1$1 = normalizeCssArray$2;\n  var encodeHTML_1 = encodeHTML;\n  var formatTpl_1 = formatTpl;\n  var formatTplSimple_1 = formatTplSimple;\n  var getTooltipMarker_1 = getTooltipMarker;\n  var formatTime_1 = formatTime;\n  var capitalFirst_1 = capitalFirst;\n  var truncateText_1$1 = truncateText$1;\n  var getTextBoundingRect_1 = getTextBoundingRect;\n  var getTextRect_1 = getTextRect;\n  var windowOpen_1 = windowOpen;\n\n  var format$1 = {\n  \taddCommas: addCommas_1,\n  \ttoCamelCase: toCamelCase_1,\n  \tnormalizeCssArray: normalizeCssArray_1$1,\n  \tencodeHTML: encodeHTML_1,\n  \tformatTpl: formatTpl_1,\n  \tformatTplSimple: formatTplSimple_1,\n  \tgetTooltipMarker: getTooltipMarker_1,\n  \tformatTime: formatTime_1,\n  \tcapitalFirst: capitalFirst_1,\n  \ttruncateText: truncateText_1$1,\n  \tgetTextBoundingRect: getTextBoundingRect_1,\n  \tgetTextRect: getTextRect_1,\n  \twindowOpen: windowOpen_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var parsePercent$2 = number.parsePercent;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Layout helpers for each component positioning\n  var each$3 = util.each;\n  /**\n   * @public\n   */\n\n  var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n  /**\n   * @public\n   */\n\n  var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\n  function boxLayout(orient, group, gap, maxWidth, maxHeight) {\n    var x = 0;\n    var y = 0;\n\n    if (maxWidth == null) {\n      maxWidth = Infinity;\n    }\n\n    if (maxHeight == null) {\n      maxHeight = Infinity;\n    }\n\n    var currentLineMaxSize = 0;\n    group.eachChild(function (child, idx) {\n      var position = child.position;\n      var rect = child.getBoundingRect();\n      var nextChild = group.childAt(idx + 1);\n      var nextChildRect = nextChild && nextChild.getBoundingRect();\n      var nextX;\n      var nextY;\n\n      if (orient === 'horizontal') {\n        var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n        nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n        // FIXME compare before adding gap?\n\n        if (nextX > maxWidth || child.newline) {\n          x = 0;\n          nextX = moveX;\n          y += currentLineMaxSize + gap;\n          currentLineMaxSize = rect.height;\n        } else {\n          // FIXME: consider rect.y is not `0`?\n          currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n        }\n      } else {\n        var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n        nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n        if (nextY > maxHeight || child.newline) {\n          x += currentLineMaxSize + gap;\n          y = 0;\n          nextY = moveY;\n          currentLineMaxSize = rect.width;\n        } else {\n          currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n        }\n      }\n\n      if (child.newline) {\n        return;\n      }\n\n      position[0] = x;\n      position[1] = y;\n      orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n    });\n  }\n  /**\n   * VBox or HBox layouting\n   * @param {string} orient\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n\n  var box = boxLayout;\n  /**\n   * VBox layouting\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n  var vbox = util.curry(boxLayout, 'vertical');\n  /**\n   * HBox layouting\n   * @param {module:zrender/container/Group} group\n   * @param {number} gap\n   * @param {number} [width=Infinity]\n   * @param {number} [height=Infinity]\n   */\n\n  var hbox = util.curry(boxLayout, 'horizontal');\n  /**\n   * If x or x2 is not specified or 'center' 'left' 'right',\n   * the width would be as long as possible.\n   * If y or y2 is not specified or 'middle' 'top' 'bottom',\n   * the height would be as long as possible.\n   *\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.x]\n   * @param {number|string} [positionInfo.y]\n   * @param {number|string} [positionInfo.x2]\n   * @param {number|string} [positionInfo.y2]\n   * @param {Object} containerRect {width, height}\n   * @param {string|number} margin\n   * @return {Object} {width, height}\n   */\n\n  function getAvailableSize(positionInfo, containerRect, margin) {\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n    var x = parsePercent$2(positionInfo.x, containerWidth);\n    var y = parsePercent$2(positionInfo.y, containerHeight);\n    var x2 = parsePercent$2(positionInfo.x2, containerWidth);\n    var y2 = parsePercent$2(positionInfo.y2, containerHeight);\n    (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n    (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n    (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n    (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n    margin = format$1.normalizeCssArray(margin || 0);\n    return {\n      width: Math.max(x2 - x - margin[1] - margin[3], 0),\n      height: Math.max(y2 - y - margin[0] - margin[2], 0)\n    };\n  }\n  /**\n   * Parse position info.\n   *\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.left]\n   * @param {number|string} [positionInfo.top]\n   * @param {number|string} [positionInfo.right]\n   * @param {number|string} [positionInfo.bottom]\n   * @param {number|string} [positionInfo.width]\n   * @param {number|string} [positionInfo.height]\n   * @param {number|string} [positionInfo.aspect] Aspect is width / height\n   * @param {Object} containerRect\n   * @param {string|number} [margin]\n   *\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n\n  function getLayoutRect(positionInfo, containerRect, margin) {\n    margin = format$1.normalizeCssArray(margin || 0);\n    var containerWidth = containerRect.width;\n    var containerHeight = containerRect.height;\n    var left = parsePercent$2(positionInfo.left, containerWidth);\n    var top = parsePercent$2(positionInfo.top, containerHeight);\n    var right = parsePercent$2(positionInfo.right, containerWidth);\n    var bottom = parsePercent$2(positionInfo.bottom, containerHeight);\n    var width = parsePercent$2(positionInfo.width, containerWidth);\n    var height = parsePercent$2(positionInfo.height, containerHeight);\n    var verticalMargin = margin[2] + margin[0];\n    var horizontalMargin = margin[1] + margin[3];\n    var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n    if (isNaN(width)) {\n      width = containerWidth - right - horizontalMargin - left;\n    }\n\n    if (isNaN(height)) {\n      height = containerHeight - bottom - verticalMargin - top;\n    }\n\n    if (aspect != null) {\n      // If width and height are not given\n      // 1. Graph should not exceeds the container\n      // 2. Aspect must be keeped\n      // 3. Graph should take the space as more as possible\n      // FIXME\n      // Margin is not considered, because there is no case that both\n      // using margin and aspect so far.\n      if (isNaN(width) && isNaN(height)) {\n        if (aspect > containerWidth / containerHeight) {\n          width = containerWidth * 0.8;\n        } else {\n          height = containerHeight * 0.8;\n        }\n      } // Calculate width or height with given aspect\n\n\n      if (isNaN(width)) {\n        width = aspect * height;\n      }\n\n      if (isNaN(height)) {\n        height = width / aspect;\n      }\n    } // If left is not specified, calculate left from right and width\n\n\n    if (isNaN(left)) {\n      left = containerWidth - right - width - horizontalMargin;\n    }\n\n    if (isNaN(top)) {\n      top = containerHeight - bottom - height - verticalMargin;\n    } // Align left and top\n\n\n    switch (positionInfo.left || positionInfo.right) {\n      case 'center':\n        left = containerWidth / 2 - width / 2 - margin[3];\n        break;\n\n      case 'right':\n        left = containerWidth - width - horizontalMargin;\n        break;\n    }\n\n    switch (positionInfo.top || positionInfo.bottom) {\n      case 'middle':\n      case 'center':\n        top = containerHeight / 2 - height / 2 - margin[0];\n        break;\n\n      case 'bottom':\n        top = containerHeight - height - verticalMargin;\n        break;\n    } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n    left = left || 0;\n    top = top || 0;\n\n    if (isNaN(width)) {\n      // Width may be NaN if only one value is given except width\n      width = containerWidth - horizontalMargin - left - (right || 0);\n    }\n\n    if (isNaN(height)) {\n      // Height may be NaN if only one value is given except height\n      height = containerHeight - verticalMargin - top - (bottom || 0);\n    }\n\n    var rect = new BoundingRect_1(left + margin[3], top + margin[0], width, height);\n    rect.margin = margin;\n    return rect;\n  }\n  /**\n   * Position a zr element in viewport\n   *  Group position is specified by either\n   *  {left, top}, {right, bottom}\n   *  If all properties exists, right and bottom will be igonred.\n   *\n   * Logic:\n   *     1. Scale (against origin point in parent coord)\n   *     2. Rotate (against origin point in parent coord)\n   *     3. Traslate (with el.position by this method)\n   * So this method only fixes the last step 'Traslate', which does not affect\n   * scaling and rotating.\n   *\n   * If be called repeatly with the same input el, the same result will be gotten.\n   *\n   * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n   * @param {Object} positionInfo\n   * @param {number|string} [positionInfo.left]\n   * @param {number|string} [positionInfo.top]\n   * @param {number|string} [positionInfo.right]\n   * @param {number|string} [positionInfo.bottom]\n   * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n   * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n   * @param {Object} containerRect\n   * @param {string|number} margin\n   * @param {Object} [opt]\n   * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n   * @param {Array.<number>} [opt.boundingMode='all']\n   *        Specify how to calculate boundingRect when locating.\n   *        'all': Position the boundingRect that is transformed and uioned\n   *               both itself and its descendants.\n   *               This mode simplies confine the elements in the bounding\n   *               of their container (e.g., using 'right: 0').\n   *        'raw': Position the boundingRect that is not transformed and only itself.\n   *               This mode is useful when you want a element can overflow its\n   *               container. (Consider a rotated circle needs to be located in a corner.)\n   *               In this mode positionInfo.width/height can only be number.\n   */\n\n\n  function positionElement(el, positionInfo, containerRect, margin, opt) {\n    var h = !opt || !opt.hv || opt.hv[0];\n    var v = !opt || !opt.hv || opt.hv[1];\n    var boundingMode = opt && opt.boundingMode || 'all';\n\n    if (!h && !v) {\n      return;\n    }\n\n    var rect;\n\n    if (boundingMode === 'raw') {\n      rect = el.type === 'group' ? new BoundingRect_1(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n    } else {\n      rect = el.getBoundingRect();\n\n      if (el.needLocalTransform()) {\n        var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n        // which should not be modified.\n\n        rect = rect.clone();\n        rect.applyTransform(transform);\n      }\n    } // The real width and height can not be specified but calculated by the given el.\n\n\n    positionInfo = getLayoutRect(util.defaults({\n      width: rect.width,\n      height: rect.height\n    }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n    // (see zrender/core/Transformable#getLocalTransform),\n    // we can just only modify el.position to get final result.\n\n    var elPos = el.position;\n    var dx = h ? positionInfo.x - rect.x : 0;\n    var dy = v ? positionInfo.y - rect.y : 0;\n    el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n  }\n  /**\n   * @param {Object} option Contains some of the properties in HV_NAMES.\n   * @param {number} hvIdx 0: horizontal; 1: vertical.\n   */\n\n\n  function sizeCalculable(option, hvIdx) {\n    return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n  }\n  /**\n   * Consider Case:\n   * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n   * through setOption or media query, using normal zrUtil.merge will cause\n   * {right: 0} does not take effect.\n   *\n   * @example\n   * ComponentModel.extend({\n   *     init: function () {\n   *         ...\n   *         var inputPositionParams = layout.getLayoutParams(option);\n   *         this.mergeOption(inputPositionParams);\n   *     },\n   *     mergeOption: function (newOption) {\n   *         newOption && zrUtil.merge(thisOption, newOption, true);\n   *         layout.mergeLayoutParam(thisOption, newOption);\n   *     }\n   * });\n   *\n   * @param {Object} targetOption\n   * @param {Object} newOption\n   * @param {Object|string} [opt]\n   * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n   *  that width (or height) should not be calculated by left and right (or top and bottom).\n   */\n\n\n  function mergeLayoutParam(targetOption, newOption, opt) {\n    !util.isObject(opt) && (opt = {});\n    var ignoreSize = opt.ignoreSize;\n    !util.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n    var hResult = merge(HV_NAMES[0], 0);\n    var vResult = merge(HV_NAMES[1], 1);\n    copy(HV_NAMES[0], targetOption, hResult);\n    copy(HV_NAMES[1], targetOption, vResult);\n\n    function merge(names, hvIdx) {\n      var newParams = {};\n      var newValueCount = 0;\n      var merged = {};\n      var mergedValueCount = 0;\n      var enoughParamNumber = 2;\n      each$3(names, function (name) {\n        merged[name] = targetOption[name];\n      });\n      each$3(names, function (name) {\n        // Consider case: newOption.width is null, which is\n        // set by user for removing width setting.\n        hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n        hasValue(newParams, name) && newValueCount++;\n        hasValue(merged, name) && mergedValueCount++;\n      });\n\n      if (ignoreSize[hvIdx]) {\n        // Only one of left/right is premitted to exist.\n        if (hasValue(newOption, names[1])) {\n          merged[names[2]] = null;\n        } else if (hasValue(newOption, names[2])) {\n          merged[names[1]] = null;\n        }\n\n        return merged;\n      } // Case: newOption: {width: ..., right: ...},\n      // or targetOption: {right: ...} and newOption: {width: ...},\n      // There is no conflict when merged only has params count\n      // little than enoughParamNumber.\n\n\n      if (mergedValueCount === enoughParamNumber || !newValueCount) {\n        return merged;\n      } // Case: newOption: {width: ..., right: ...},\n      // Than we can make sure user only want those two, and ignore\n      // all origin params in targetOption.\n      else if (newValueCount >= enoughParamNumber) {\n          return newParams;\n        } else {\n          // Chose another param from targetOption by priority.\n          for (var i = 0; i < names.length; i++) {\n            var name = names[i];\n\n            if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n              newParams[name] = targetOption[name];\n              break;\n            }\n          }\n\n          return newParams;\n        }\n    }\n\n    function hasProp(obj, name) {\n      return obj.hasOwnProperty(name);\n    }\n\n    function hasValue(obj, name) {\n      return obj[name] != null && obj[name] !== 'auto';\n    }\n\n    function copy(names, target, source) {\n      each$3(names, function (name) {\n        target[name] = source[name];\n      });\n    }\n  }\n  /**\n   * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n   * @param {Object} source\n   * @return {Object} Result contains those props.\n   */\n\n\n  function getLayoutParams(source) {\n    return copyLayoutParams({}, source);\n  }\n  /**\n   * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n   * @param {Object} source\n   * @return {Object} Result contains those props.\n   */\n\n\n  function copyLayoutParams(target, source) {\n    source && target && each$3(LOCATION_PARAMS, function (name) {\n      source.hasOwnProperty(name) && (target[name] = source[name]);\n    });\n    return target;\n  }\n\n  var LOCATION_PARAMS_1 = LOCATION_PARAMS;\n  var HV_NAMES_1 = HV_NAMES;\n  var box_1 = box;\n  var vbox_1 = vbox;\n  var hbox_1 = hbox;\n  var getAvailableSize_1 = getAvailableSize;\n  var getLayoutRect_1 = getLayoutRect;\n  var positionElement_1 = positionElement;\n  var sizeCalculable_1 = sizeCalculable;\n  var mergeLayoutParam_1 = mergeLayoutParam;\n  var getLayoutParams_1 = getLayoutParams;\n  var copyLayoutParams_1 = copyLayoutParams;\n\n  var layout = {\n  \tLOCATION_PARAMS: LOCATION_PARAMS_1,\n  \tHV_NAMES: HV_NAMES_1,\n  \tbox: box_1,\n  \tvbox: vbox_1,\n  \thbox: hbox_1,\n  \tgetAvailableSize: getAvailableSize_1,\n  \tgetLayoutRect: getLayoutRect_1,\n  \tpositionElement: positionElement_1,\n  \tsizeCalculable: sizeCalculable_1,\n  \tmergeLayoutParam: mergeLayoutParam_1,\n  \tgetLayoutParams: getLayoutParams_1,\n  \tcopyLayoutParams: copyLayoutParams_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$T = {\n    getBoxLayoutParams: function () {\n      return {\n        left: this.get('left'),\n        top: this.get('top'),\n        right: this.get('right'),\n        bottom: this.get('bottom'),\n        width: this.get('width'),\n        height: this.get('height')\n      };\n    }\n  };\n  var boxLayout$1 = _default$T;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var enableClassManagement$1 = clazz.enableClassManagement;\n  var parseClassType$2 = clazz.parseClassType;\n\n\n\n  var makeInner$2 = model.makeInner;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Component model\n   *\n   * @module echarts/model/Component\n   */\n  var inner$1 = makeInner$2();\n  /**\n   * @alias module:echarts/model/Component\n   * @constructor\n   * @param {Object} option\n   * @param {module:echarts/model/Model} parentModel\n   * @param {module:echarts/model/Model} ecModel\n   */\n\n  var ComponentModel = Model_1.extend({\n    type: 'component',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    id: '',\n\n    /**\n     * Because simplified concept is probably better, series.name (or component.name)\n     * has been having too many resposibilities:\n     * (1) Generating id (which requires name in option should not be modified).\n     * (2) As an index to mapping series when merging option or calling API (a name\n     * can refer to more then one components, which is convinient is some case).\n     * (3) Display.\n     * @readOnly\n     */\n    name: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    mainType: '',\n\n    /**\n     * @readOnly\n     * @type {string}\n     */\n    subType: '',\n\n    /**\n     * @readOnly\n     * @type {number}\n     */\n    componentIndex: 0,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * @type {module:echarts/model/Global}\n     * @readOnly\n     */\n    ecModel: null,\n\n    /**\n     * key: componentType\n     * value:  Component model list, can not be null.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @readOnly\n     */\n    dependentModels: [],\n\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    uid: null,\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n    $constructor: function (option, parentModel, ecModel, extraOpt) {\n      Model_1.call(this, option, parentModel, ecModel, extraOpt);\n      this.uid = component.getUID('ec_cpt_model');\n    },\n    init: function (option, parentModel, ecModel, extraOpt) {\n      this.mergeDefaultAndTheme(option, ecModel);\n    },\n    mergeDefaultAndTheme: function (option, ecModel) {\n      var layoutMode = this.layoutMode;\n      var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n      var themeModel = ecModel.getTheme();\n      util.merge(option, themeModel.get(this.mainType));\n      util.merge(option, this.getDefaultOption());\n\n      if (layoutMode) {\n        layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n      }\n    },\n    mergeOption: function (option, extraOpt) {\n      util.merge(this.option, option, true);\n      var layoutMode = this.layoutMode;\n\n      if (layoutMode) {\n        layout.mergeLayoutParam(this.option, option, layoutMode);\n      }\n    },\n    // Hooker after init or mergeOption\n    optionUpdated: function (newCptOption, isInit) {},\n    getDefaultOption: function () {\n      var fields = inner$1(this);\n\n      if (!fields.defaultOption) {\n        var optList = [];\n        var Class = this.constructor;\n\n        while (Class) {\n          var opt = Class.prototype.defaultOption;\n          opt && optList.push(opt);\n          Class = Class.superClass;\n        }\n\n        var defaultOption = {};\n\n        for (var i = optList.length - 1; i >= 0; i--) {\n          defaultOption = util.merge(defaultOption, optList[i], true);\n        }\n\n        fields.defaultOption = defaultOption;\n      }\n\n      return fields.defaultOption;\n    },\n    getReferringComponents: function (mainType) {\n      return this.ecModel.queryComponents({\n        mainType: mainType,\n        index: this.get(mainType + 'Index', true),\n        id: this.get(mainType + 'Id', true)\n      });\n    }\n  }); // Reset ComponentModel.extend, add preConstruct.\n  // clazzUtil.enableClassExtend(\n  //     ComponentModel,\n  //     function (option, parentModel, ecModel, extraOpt) {\n  //         // Set dependentModels, componentIndex, name, id, mainType, subType.\n  //         zrUtil.extend(this, extraOpt);\n  //         this.uid = componentUtil.getUID('componentModel');\n  //         // this.setReadOnly([\n  //         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n  //         //     'dependentModels', 'componentIndex'\n  //         // ]);\n  //     }\n  // );\n  // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  enableClassManagement$1(ComponentModel, {\n    registerWhenExtend: true\n  });\n  component.enableSubTypeDefaulter(ComponentModel); // Add capability of ComponentModel.topologicalTravel.\n\n  component.enableTopologicalTravel(ComponentModel, getDependencies);\n\n  function getDependencies(componentType) {\n    var deps = [];\n    util.each(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n      deps = deps.concat(Clazz.prototype.dependencies || []);\n    }); // Ensure main type.\n\n    deps = util.map(deps, function (type) {\n      return parseClassType$2(type).main;\n    }); // Hack dataset for convenience.\n\n    if (componentType !== 'dataset' && util.indexOf(deps, 'dataset') <= 0) {\n      deps.unshift('dataset');\n    }\n\n    return deps;\n  }\n\n  util.mixin(ComponentModel, boxLayout$1);\n  var _default$U = ComponentModel;\n  var Component = _default$U;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var platform = ''; // Navigator not exists in node\n\n  if (typeof navigator !== 'undefined') {\n    platform = navigator.platform || '';\n  }\n\n  var _default$V = {\n    // backgroundColor: 'rgba(0,0,0,0)',\n    // https://dribbble.com/shots/1065960-Infographic-Pie-chart-visualization\n    // color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c', '#dd4444', '#d4df5a', '#cd4870'],\n    // Light colors:\n    // color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'],\n    // color: ['#cc5664', '#9bd6ec', '#ea946e', '#8acaaa', '#f1ec64', '#ee8686', '#a48dc1', '#5da6bc', '#b9dcae'],\n    // Dark colors:\n    color: ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],\n    gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n    // If xAxis and yAxis declared, grid is created by default.\n    // grid: {},\n    textStyle: {\n      // color: '#000',\n      // decoration: 'none',\n      // PENDING\n      fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n      // fontFamily: 'Arial, Verdana, sans-serif',\n      fontSize: 12,\n      fontStyle: 'normal',\n      fontWeight: 'normal'\n    },\n    // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n    // Default is source-over\n    blendMode: null,\n    animation: 'auto',\n    animationDuration: 1000,\n    animationDurationUpdate: 300,\n    animationEasing: 'exponentialOut',\n    animationEasingUpdate: 'cubicOut',\n    animationThreshold: 2000,\n    // Configuration for progressive/incremental rendering\n    progressiveThreshold: 3000,\n    progressive: 400,\n    // Threshold of if use single hover layer to optimize.\n    // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n    // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n    // which is unexpected.\n    // see example <echarts/test/heatmap-large.html>.\n    hoverLayerThreshold: 3000,\n    // See: module:echarts/scale/Time\n    useUTC: false\n  };\n  var globalDefault = _default$V;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var makeInner$3 = model.makeInner;\n  var normalizeToArray$1 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$2 = makeInner$3();\n\n  function getNearestColorPalette(colors, requestColorNum) {\n    var paletteNum = colors.length; // TODO colors must be in order\n\n    for (var i = 0; i < paletteNum; i++) {\n      if (colors[i].length > requestColorNum) {\n        return colors[i];\n      }\n    }\n\n    return colors[paletteNum - 1];\n  }\n\n  var _default$W = {\n    clearColorPalette: function () {\n      inner$2(this).colorIdx = 0;\n      inner$2(this).colorNameMap = {};\n    },\n\n    /**\n     * @param {string} name MUST NOT be null/undefined. Otherwise call this function\n     *                 twise with the same parameters will get different result.\n     * @param {Object} [scope=this]\n     * @param {Object} [requestColorNum]\n     * @return {string} color string.\n     */\n    getColorFromPalette: function (name, scope, requestColorNum) {\n      scope = scope || this;\n      var scopeFields = inner$2(scope);\n      var colorIdx = scopeFields.colorIdx || 0;\n      var colorNameMap = scopeFields.colorNameMap = scopeFields.colorNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n      if (colorNameMap.hasOwnProperty(name)) {\n        return colorNameMap[name];\n      }\n\n      var defaultColorPalette = normalizeToArray$1(this.get('color', true));\n      var layeredColorPalette = this.get('colorLayer', true);\n      var colorPalette = requestColorNum == null || !layeredColorPalette ? defaultColorPalette : getNearestColorPalette(layeredColorPalette, requestColorNum); // In case can't find in layered color palette.\n\n      colorPalette = colorPalette || defaultColorPalette;\n\n      if (!colorPalette || !colorPalette.length) {\n        return;\n      }\n\n      var color = colorPalette[colorIdx];\n\n      if (name) {\n        colorNameMap[name] = color;\n      }\n\n      scopeFields.colorIdx = (colorIdx + 1) % colorPalette.length;\n      return color;\n    }\n  };\n  var colorPalette = _default$W;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Avoid typo.\n  var SOURCE_FORMAT_ORIGINAL = 'original';\n  var SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\n  var SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\n  var SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\n  var SOURCE_FORMAT_UNKNOWN = 'unknown'; // ??? CHANGE A NAME\n\n  var SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\n  var SERIES_LAYOUT_BY_COLUMN = 'column';\n  var SERIES_LAYOUT_BY_ROW = 'row';\n  var SOURCE_FORMAT_ORIGINAL_1 = SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_ARRAY_ROWS_1 = SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_OBJECT_ROWS_1 = SOURCE_FORMAT_OBJECT_ROWS;\n  var SOURCE_FORMAT_KEYED_COLUMNS_1 = SOURCE_FORMAT_KEYED_COLUMNS;\n  var SOURCE_FORMAT_UNKNOWN_1 = SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY_1 = SOURCE_FORMAT_TYPED_ARRAY;\n  var SERIES_LAYOUT_BY_COLUMN_1 = SERIES_LAYOUT_BY_COLUMN;\n  var SERIES_LAYOUT_BY_ROW_1 = SERIES_LAYOUT_BY_ROW;\n\n  var sourceType = {\n  \tSOURCE_FORMAT_ORIGINAL: SOURCE_FORMAT_ORIGINAL_1,\n  \tSOURCE_FORMAT_ARRAY_ROWS: SOURCE_FORMAT_ARRAY_ROWS_1,\n  \tSOURCE_FORMAT_OBJECT_ROWS: SOURCE_FORMAT_OBJECT_ROWS_1,\n  \tSOURCE_FORMAT_KEYED_COLUMNS: SOURCE_FORMAT_KEYED_COLUMNS_1,\n  \tSOURCE_FORMAT_UNKNOWN: SOURCE_FORMAT_UNKNOWN_1,\n  \tSOURCE_FORMAT_TYPED_ARRAY: SOURCE_FORMAT_TYPED_ARRAY_1,\n  \tSERIES_LAYOUT_BY_COLUMN: SERIES_LAYOUT_BY_COLUMN_1,\n  \tSERIES_LAYOUT_BY_ROW: SERIES_LAYOUT_BY_ROW_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$1 = util.createHashMap;\n  var isTypedArray$1 = util.isTypedArray;\n\n\n\n  var enableClassCheck$2 = clazz.enableClassCheck;\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$1 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SERIES_LAYOUT_BY_COLUMN$1 = sourceType.SERIES_LAYOUT_BY_COLUMN;\n  var SOURCE_FORMAT_UNKNOWN$1 = sourceType.SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY$1 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SOURCE_FORMAT_KEYED_COLUMNS$1 = sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * [sourceFormat]\n   *\n   * + \"original\":\n   * This format is only used in series.data, where\n   * itemStyle can be specified in data item.\n   *\n   * + \"arrayRows\":\n   * [\n   *     ['product', 'score', 'amount'],\n   *     ['Matcha Latte', 89.3, 95.8],\n   *     ['Milk Tea', 92.1, 89.4],\n   *     ['Cheese Cocoa', 94.4, 91.2],\n   *     ['Walnut Brownie', 85.4, 76.9]\n   * ]\n   *\n   * + \"objectRows\":\n   * [\n   *     {product: 'Matcha Latte', score: 89.3, amount: 95.8},\n   *     {product: 'Milk Tea', score: 92.1, amount: 89.4},\n   *     {product: 'Cheese Cocoa', score: 94.4, amount: 91.2},\n   *     {product: 'Walnut Brownie', score: 85.4, amount: 76.9}\n   * ]\n   *\n   * + \"keyedColumns\":\n   * {\n   *     'product': ['Matcha Latte', 'Milk Tea', 'Cheese Cocoa', 'Walnut Brownie'],\n   *     'count': [823, 235, 1042, 988],\n   *     'score': [95.8, 81.4, 91.2, 76.9]\n   * }\n   *\n   * + \"typedArray\"\n   *\n   * + \"unknown\"\n   */\n\n  /**\n   * @constructor\n   * @param {Object} fields\n   * @param {string} fields.sourceFormat\n   * @param {Array|Object} fields.fromDataset\n   * @param {Array|Object} [fields.data]\n   * @param {string} [seriesLayoutBy='column']\n   * @param {Array.<Object|string>} [dimensionsDefine]\n   * @param {Objet|HashMap} [encodeDefine]\n   * @param {number} [startIndex=0]\n   * @param {number} [dimensionsDetectCount]\n   */\n  function Source(fields) {\n    /**\n     * @type {boolean}\n     */\n    this.fromDataset = fields.fromDataset;\n    /**\n     * Not null/undefined.\n     * @type {Array|Object}\n     */\n\n    this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$1 ? {} : []);\n    /**\n     * See also \"detectSourceFormat\".\n     * Not null/undefined.\n     * @type {string}\n     */\n\n    this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN$1;\n    /**\n     * 'row' or 'column'\n     * Not null/undefined.\n     * @type {string} seriesLayoutBy\n     */\n\n    this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN$1;\n    /**\n     * dimensions definition in option.\n     * can be null/undefined.\n     * @type {Array.<Object|string>}\n     */\n\n    this.dimensionsDefine = fields.dimensionsDefine;\n    /**\n     * encode definition in option.\n     * can be null/undefined.\n     * @type {Objet|HashMap}\n     */\n\n    this.encodeDefine = fields.encodeDefine && createHashMap$1(fields.encodeDefine);\n    /**\n     * Not null/undefined, uint.\n     * @type {number}\n     */\n\n    this.startIndex = fields.startIndex || 0;\n    /**\n     * Can be null/undefined (when unknown), uint.\n     * @type {number}\n     */\n\n    this.dimensionsDetectCount = fields.dimensionsDetectCount;\n  }\n  /**\n   * Wrap original series data for some compatibility cases.\n   */\n\n\n  Source.seriesDataToSource = function (data) {\n    return new Source({\n      data: data,\n      sourceFormat: isTypedArray$1(data) ? SOURCE_FORMAT_TYPED_ARRAY$1 : SOURCE_FORMAT_ORIGINAL$1,\n      fromDataset: false\n    });\n  };\n\n  enableClassCheck$2(Source);\n  var _default$X = Source;\n  var Source_1 = _default$X;\n\n  var makeInner$4 = model.makeInner;\n  var getDataItemValue$1 = model.getDataItemValue;\n\n\n\n  var createHashMap$2 = util.createHashMap;\n  var each$4 = util.each;\n  var map$1 = util.map;\n  var isArray$4 = util.isArray;\n  var isString$4 = util.isString;\n  var isObject$6 = util.isObject;\n  var isTypedArray$2 = util.isTypedArray;\n  var isArrayLike$3 = util.isArrayLike;\n  var extend$4 = util.extend;\n\n\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$2 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_ARRAY_ROWS$1 = sourceType.SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_OBJECT_ROWS$1 = sourceType.SOURCE_FORMAT_OBJECT_ROWS;\n  var SOURCE_FORMAT_KEYED_COLUMNS$2 = sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n  var SOURCE_FORMAT_UNKNOWN$2 = sourceType.SOURCE_FORMAT_UNKNOWN;\n  var SOURCE_FORMAT_TYPED_ARRAY$2 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SERIES_LAYOUT_BY_ROW$1 = sourceType.SERIES_LAYOUT_BY_ROW;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // The result of `guessOrdinal`.\n  var BE_ORDINAL = {\n    Must: 1,\n    // Encounter string but not '-' and not number-like.\n    Might: 2,\n    // Encounter string but number-like.\n    Not: 3 // Other cases\n\n  };\n  var inner$3 = makeInner$4();\n  /**\n   * @see {module:echarts/data/Source}\n   * @param {module:echarts/component/dataset/DatasetModel} datasetModel\n   * @return {string} sourceFormat\n   */\n\n  function detectSourceFormat(datasetModel) {\n    var data = datasetModel.option.source;\n    var sourceFormat = SOURCE_FORMAT_UNKNOWN$2;\n\n    if (isTypedArray$2(data)) {\n      sourceFormat = SOURCE_FORMAT_TYPED_ARRAY$2;\n    } else if (isArray$4(data)) {\n      // FIXME Whether tolerate null in top level array?\n      if (data.length === 0) {\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS$1;\n      }\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        var item = data[i];\n\n        if (item == null) {\n          continue;\n        } else if (isArray$4(item)) {\n          sourceFormat = SOURCE_FORMAT_ARRAY_ROWS$1;\n          break;\n        } else if (isObject$6(item)) {\n          sourceFormat = SOURCE_FORMAT_OBJECT_ROWS$1;\n          break;\n        }\n      }\n    } else if (isObject$6(data)) {\n      for (var key in data) {\n        if (data.hasOwnProperty(key) && isArrayLike$3(data[key])) {\n          sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS$2;\n          break;\n        }\n      }\n    } else if (data != null) {\n      throw new Error('Invalid data');\n    }\n\n    inner$3(datasetModel).sourceFormat = sourceFormat;\n  }\n  /**\n   * [Scenarios]:\n   * (1) Provide source data directly:\n   *     series: {\n   *         encode: {...},\n   *         dimensions: [...]\n   *         seriesLayoutBy: 'row',\n   *         data: [[...]]\n   *     }\n   * (2) Refer to datasetModel.\n   *     series: [{\n   *         encode: {...}\n   *         // Ignore datasetIndex means `datasetIndex: 0`\n   *         // and the dimensions defination in dataset is used\n   *     }, {\n   *         encode: {...},\n   *         seriesLayoutBy: 'column',\n   *         datasetIndex: 1\n   *     }]\n   *\n   * Get data from series itself or datset.\n   * @return {module:echarts/data/Source} source\n   */\n\n\n  function getSource(seriesModel) {\n    return inner$3(seriesModel).source;\n  }\n  /**\n   * MUST be called before mergeOption of all series.\n   * @param {module:echarts/model/Global} ecModel\n   */\n\n\n  function resetSourceDefaulter(ecModel) {\n    // `datasetMap` is used to make default encode.\n    inner$3(ecModel).datasetMap = createHashMap$2();\n  }\n  /**\n   * [Caution]:\n   * MUST be called after series option merged and\n   * before \"series.getInitailData()\" called.\n   *\n   * [The rule of making default encode]:\n   * Category axis (if exists) alway map to the first dimension.\n   * Each other axis occupies a subsequent dimension.\n   *\n   * [Why make default encode]:\n   * Simplify the typing of encode in option, avoiding the case like that:\n   * series: [{encode: {x: 0, y: 1}}, {encode: {x: 0, y: 2}}, {encode: {x: 0, y: 3}}],\n   * where the \"y\" have to be manually typed as \"1, 2, 3, ...\".\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   */\n\n\n  function prepareSource(seriesModel) {\n    var seriesOption = seriesModel.option;\n    var data = seriesOption.data;\n    var sourceFormat = isTypedArray$2(data) ? SOURCE_FORMAT_TYPED_ARRAY$2 : SOURCE_FORMAT_ORIGINAL$2;\n    var fromDataset = false;\n    var seriesLayoutBy = seriesOption.seriesLayoutBy;\n    var sourceHeader = seriesOption.sourceHeader;\n    var dimensionsDefine = seriesOption.dimensions;\n    var datasetModel = getDatasetModel(seriesModel);\n\n    if (datasetModel) {\n      var datasetOption = datasetModel.option;\n      data = datasetOption.source;\n      sourceFormat = inner$3(datasetModel).sourceFormat;\n      fromDataset = true; // These settings from series has higher priority.\n\n      seriesLayoutBy = seriesLayoutBy || datasetOption.seriesLayoutBy;\n      sourceHeader == null && (sourceHeader = datasetOption.sourceHeader);\n      dimensionsDefine = dimensionsDefine || datasetOption.dimensions;\n    }\n\n    var completeResult = completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine);\n    inner$3(seriesModel).source = new Source_1({\n      data: data,\n      fromDataset: fromDataset,\n      seriesLayoutBy: seriesLayoutBy,\n      sourceFormat: sourceFormat,\n      dimensionsDefine: completeResult.dimensionsDefine,\n      startIndex: completeResult.startIndex,\n      dimensionsDetectCount: completeResult.dimensionsDetectCount,\n      // Note: dataset option does not have `encode`.\n      encodeDefine: seriesOption.encode\n    });\n  } // return {startIndex, dimensionsDefine, dimensionsCount}\n\n\n  function completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine) {\n    if (!data) {\n      return {\n        dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine)\n      };\n    }\n\n    var dimensionsDetectCount;\n    var startIndex;\n\n    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$1) {\n      // Rule: Most of the first line are string: it is header.\n      // Caution: consider a line with 5 string and 1 number,\n      // it still can not be sure it is a head, because the\n      // 5 string may be 5 values of category columns.\n      if (sourceHeader === 'auto' || sourceHeader == null) {\n        arrayRowsTravelFirst(function (val) {\n          // '-' is regarded as null/undefined.\n          if (val != null && val !== '-') {\n            if (isString$4(val)) {\n              startIndex == null && (startIndex = 1);\n            } else {\n              startIndex = 0;\n            }\n          } // 10 is an experience number, avoid long loop.\n\n        }, seriesLayoutBy, data, 10);\n      } else {\n        startIndex = sourceHeader ? 1 : 0;\n      }\n\n      if (!dimensionsDefine && startIndex === 1) {\n        dimensionsDefine = [];\n        arrayRowsTravelFirst(function (val, index) {\n          dimensionsDefine[index] = val != null ? val : '';\n        }, seriesLayoutBy, data);\n      }\n\n      dimensionsDetectCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1 ? data.length : data[0] ? data[0].length : null;\n    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1) {\n      if (!dimensionsDefine) {\n        dimensionsDefine = objectRowsCollectDimensions(data);\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      if (!dimensionsDefine) {\n        dimensionsDefine = [];\n        each$4(data, function (colArr, key) {\n          dimensionsDefine.push(key);\n        });\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL$2) {\n      var value0 = getDataItemValue$1(data[0]);\n      dimensionsDetectCount = isArray$4(value0) && value0.length || 1;\n    } else ;\n\n    return {\n      startIndex: startIndex,\n      dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine),\n      dimensionsDetectCount: dimensionsDetectCount\n    };\n  } // Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\n  // which is reasonable. But dimension name is duplicated.\n  // Returns undefined or an array contains only object without null/undefiend or string.\n\n\n  function normalizeDimensionsDefine(dimensionsDefine) {\n    if (!dimensionsDefine) {\n      // The meaning of null/undefined is different from empty array.\n      return;\n    }\n\n    var nameMap = createHashMap$2();\n    return map$1(dimensionsDefine, function (item, index) {\n      item = extend$4({}, isObject$6(item) ? item : {\n        name: item\n      }); // User can set null in dimensions.\n      // We dont auto specify name, othewise a given name may\n      // cause it be refered unexpectedly.\n\n      if (item.name == null) {\n        return item;\n      } // Also consider number form like 2012.\n\n\n      item.name += ''; // User may also specify displayName.\n      // displayName will always exists except user not\n      // specified or dim name is not specified or detected.\n      // (A auto generated dim name will not be used as\n      // displayName).\n\n      if (item.displayName == null) {\n        item.displayName = item.name;\n      }\n\n      var exist = nameMap.get(item.name);\n\n      if (!exist) {\n        nameMap.set(item.name, {\n          count: 1\n        });\n      } else {\n        item.name += '-' + exist.count++;\n      }\n\n      return item;\n    });\n  }\n\n  function arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\n    maxLoop == null && (maxLoop = Infinity);\n\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1) {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        cb(data[i] ? data[i][0] : null, i);\n      }\n    } else {\n      var value0 = data[0] || [];\n\n      for (var i = 0; i < value0.length && i < maxLoop; i++) {\n        cb(value0[i], i);\n      }\n    }\n  }\n\n  function objectRowsCollectDimensions(data) {\n    var firstIndex = 0;\n    var obj;\n\n    while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\n\n\n    if (obj) {\n      var dimensions = [];\n      each$4(obj, function (value, key) {\n        dimensions.push(key);\n      });\n      return dimensions;\n    }\n  }\n  /**\n   * [The strategy of the arrengment of data dimensions for dataset]:\n   * \"value way\": all axes are non-category axes. So series one by one take\n   *     several (the number is coordSysDims.length) dimensions from dataset.\n   *     The result of data arrengment of data dimensions like:\n   *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |\n   * \"category way\": at least one axis is category axis. So the the first data\n   *     dimension is always mapped to the first category axis and shared by\n   *     all of the series. The other data dimensions are taken by series like\n   *     \"value way\" does.\n   *     The result of data arrengment of data dimensions like:\n   *     | ser_shared_x | ser0_y | ser1_y | ser2_y |\n   *\n   * @param {Array.<Object|string>} coordDimensions [{name: <string>, type: <string>, dimsDef: <Array>}, ...]\n   * @param {module:model/Series} seriesModel\n   * @param {module:data/Source} source\n   * @return {Object} encode Never be `null/undefined`.\n   */\n\n\n  function makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {\n    var encode = {};\n    var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n    if (!datasetModel || !coordDimensions) {\n      return encode;\n    }\n\n    var encodeItemName = [];\n    var encodeSeriesName = [];\n    var ecModel = seriesModel.ecModel;\n    var datasetMap = inner$3(ecModel).datasetMap;\n    var key = datasetModel.uid + '_' + source.seriesLayoutBy;\n    var baseCategoryDimIndex;\n    var categoryWayValueDimStart;\n    coordDimensions = coordDimensions.slice();\n    each$4(coordDimensions, function (coordDimInfo, coordDimIdx) {\n      !isObject$6(coordDimInfo) && (coordDimensions[coordDimIdx] = {\n        name: coordDimInfo\n      });\n\n      if (coordDimInfo.type === 'ordinal' && baseCategoryDimIndex == null) {\n        baseCategoryDimIndex = coordDimIdx;\n        categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimensions[coordDimIdx]);\n      }\n\n      encode[coordDimInfo.name] = [];\n    });\n    var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\n      categoryWayDim: categoryWayValueDimStart,\n      valueWayDim: 0\n    }); // TODO\n    // Auto detect first time axis and do arrangement.\n\n    each$4(coordDimensions, function (coordDimInfo, coordDimIdx) {\n      var coordDimName = coordDimInfo.name;\n      var count = getDataDimCountOnCoordDim(coordDimInfo); // In value way.\n\n      if (baseCategoryDimIndex == null) {\n        var start = datasetRecord.valueWayDim;\n        pushDim(encode[coordDimName], start, count);\n        pushDim(encodeSeriesName, start, count);\n        datasetRecord.valueWayDim += count; // ??? TODO give a better default series name rule?\n        // especially when encode x y specified.\n        // consider: when mutiple series share one dimension\n        // category axis, series name should better use\n        // the other dimsion name. On the other hand, use\n        // both dimensions name.\n      } // In category way, the first category axis.\n      else if (baseCategoryDimIndex === coordDimIdx) {\n          pushDim(encode[coordDimName], 0, count);\n          pushDim(encodeItemName, 0, count);\n        } // In category way, the other axis.\n        else {\n            var start = datasetRecord.categoryWayDim;\n            pushDim(encode[coordDimName], start, count);\n            pushDim(encodeSeriesName, start, count);\n            datasetRecord.categoryWayDim += count;\n          }\n    });\n\n    function pushDim(dimIdxArr, idxFrom, idxCount) {\n      for (var i = 0; i < idxCount; i++) {\n        dimIdxArr.push(idxFrom + i);\n      }\n    }\n\n    function getDataDimCountOnCoordDim(coordDimInfo) {\n      var dimsDef = coordDimInfo.dimsDef;\n      return dimsDef ? dimsDef.length : 1;\n    }\n\n    encodeItemName.length && (encode.itemName = encodeItemName);\n    encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\n    return encode;\n  }\n  /**\n   * Work for data like [{name: ..., value: ...}, ...].\n   *\n   * @param {module:model/Series} seriesModel\n   * @param {module:data/Source} source\n   * @return {Object} encode Never be `null/undefined`.\n   */\n\n\n  function makeSeriesEncodeForNameBased(seriesModel, source, dimCount) {\n    var encode = {};\n    var datasetModel = getDatasetModel(seriesModel); // Currently only make default when using dataset, util more reqirements occur.\n\n    if (!datasetModel) {\n      return encode;\n    }\n\n    var sourceFormat = source.sourceFormat;\n    var dimensionsDefine = source.dimensionsDefine;\n    var potentialNameDimIndex;\n\n    if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1 || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      each$4(dimensionsDefine, function (dim, idx) {\n        if ((isObject$6(dim) ? dim.name : dim) === 'name') {\n          potentialNameDimIndex = idx;\n        }\n      });\n    } // idxResult: {v, n}.\n\n\n    var idxResult = function () {\n      var idxRes0 = {};\n      var idxRes1 = {};\n      var guessRecords = []; // 5 is an experience value.\n\n      for (var i = 0, len = Math.min(5, dimCount); i < len; i++) {\n        var guessResult = doGuessOrdinal(source.data, sourceFormat, source.seriesLayoutBy, dimensionsDefine, source.startIndex, i);\n        guessRecords.push(guessResult);\n        var isPureNumber = guessResult === BE_ORDINAL.Not; // [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,\n        // and then find a name dim with the priority:\n        // \"BE_ORDINAL.Might|BE_ORDINAL.Must\" > \"other dim\" > \"the value dim itself\".\n\n        if (isPureNumber && idxRes0.v == null && i !== potentialNameDimIndex) {\n          idxRes0.v = i;\n        }\n\n        if (idxRes0.n == null || idxRes0.n === idxRes0.v || !isPureNumber && guessRecords[idxRes0.n] === BE_ORDINAL.Not) {\n          idxRes0.n = i;\n        }\n\n        if (fulfilled(idxRes0) && guessRecords[idxRes0.n] !== BE_ORDINAL.Not) {\n          return idxRes0;\n        } // [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),\n        // find the first BE_ORDINAL.Might as the value dim,\n        // and then find a name dim with the priority:\n        // \"other dim\" > \"the value dim itself\".\n        // That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be\n        // treated as number.\n\n\n        if (!isPureNumber) {\n          if (guessResult === BE_ORDINAL.Might && idxRes1.v == null && i !== potentialNameDimIndex) {\n            idxRes1.v = i;\n          }\n\n          if (idxRes1.n == null || idxRes1.n === idxRes1.v) {\n            idxRes1.n = i;\n          }\n        }\n      }\n\n      function fulfilled(idxResult) {\n        return idxResult.v != null && idxResult.n != null;\n      }\n\n      return fulfilled(idxRes0) ? idxRes0 : fulfilled(idxRes1) ? idxRes1 : null;\n    }();\n\n    if (idxResult) {\n      encode.value = idxResult.v; // `potentialNameDimIndex` has highest priority.\n\n      var nameDimIndex = potentialNameDimIndex != null ? potentialNameDimIndex : idxResult.n; // By default, label use itemName in charts.\n      // So we dont set encodeLabel here.\n\n      encode.itemName = [nameDimIndex];\n      encode.seriesName = [nameDimIndex];\n    }\n\n    return encode;\n  }\n  /**\n   * If return null/undefined, indicate that should not use datasetModel.\n   */\n\n\n  function getDatasetModel(seriesModel) {\n    var option = seriesModel.option; // Caution: consider the scenario:\n    // A dataset is declared and a series is not expected to use the dataset,\n    // and at the beginning `setOption({series: { noData })` (just prepare other\n    // option but no data), then `setOption({series: {data: [...]}); In this case,\n    // the user should set an empty array to avoid that dataset is used by default.\n\n    var thisData = option.data;\n\n    if (!thisData) {\n      return seriesModel.ecModel.getComponent('dataset', option.datasetIndex || 0);\n    }\n  }\n  /**\n   * The rule should not be complex, otherwise user might not\n   * be able to known where the data is wrong.\n   * The code is ugly, but how to make it neat?\n   *\n   * @param {module:echars/data/Source} source\n   * @param {number} dimIndex\n   * @return {BE_ORDINAL} guess result.\n   */\n\n\n  function guessOrdinal(source, dimIndex) {\n    return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\n  } // dimIndex may be overflow source data.\n  // return {BE_ORDINAL}\n\n\n  function doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\n    var result; // Experience value.\n\n    var maxLoop = 5;\n\n    if (isTypedArray$2(data)) {\n      return BE_ORDINAL.Not;\n    } // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\n    // always exists in source.\n\n\n    var dimName;\n    var dimType;\n\n    if (dimensionsDefine) {\n      var dimDefItem = dimensionsDefine[dimIndex];\n\n      if (isObject$6(dimDefItem)) {\n        dimName = dimDefItem.name;\n        dimType = dimDefItem.type;\n      } else if (isString$4(dimDefItem)) {\n        dimName = dimDefItem;\n      }\n    }\n\n    if (dimType != null) {\n      return dimType === 'ordinal' ? BE_ORDINAL.Must : BE_ORDINAL.Not;\n    }\n\n    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$1) {\n      if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW$1) {\n        var sample = data[dimIndex];\n\n        for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\n          if ((result = detectValue(sample[startIndex + i])) != null) {\n            return result;\n          }\n        }\n      } else {\n        for (var i = 0; i < data.length && i < maxLoop; i++) {\n          var row = data[startIndex + i];\n\n          if (row && (result = detectValue(row[dimIndex])) != null) {\n            return result;\n          }\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS$1) {\n      if (!dimName) {\n        return BE_ORDINAL.Not;\n      }\n\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var item = data[i];\n\n        if (item && (result = detectValue(item[dimName])) != null) {\n          return result;\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS$2) {\n      if (!dimName) {\n        return BE_ORDINAL.Not;\n      }\n\n      var sample = data[dimName];\n\n      if (!sample || isTypedArray$2(sample)) {\n        return BE_ORDINAL.Not;\n      }\n\n      for (var i = 0; i < sample.length && i < maxLoop; i++) {\n        if ((result = detectValue(sample[i])) != null) {\n          return result;\n        }\n      }\n    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL$2) {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var item = data[i];\n        var val = getDataItemValue$1(item);\n\n        if (!isArray$4(val)) {\n          return BE_ORDINAL.Not;\n        }\n\n        if ((result = detectValue(val[dimIndex])) != null) {\n          return result;\n        }\n      }\n    }\n\n    function detectValue(val) {\n      var beStr = isString$4(val); // Consider usage convenience, '1', '2' will be treated as \"number\".\n      // `isFinit('')` get `true`.\n\n      if (val != null && isFinite(val) && val !== '') {\n        return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;\n      } else if (beStr && val !== '-') {\n        return BE_ORDINAL.Must;\n      }\n    }\n\n    return BE_ORDINAL.Not;\n  }\n\n  var BE_ORDINAL_1 = BE_ORDINAL;\n  var detectSourceFormat_1 = detectSourceFormat;\n  var getSource_1 = getSource;\n  var resetSourceDefaulter_1 = resetSourceDefaulter;\n  var prepareSource_1 = prepareSource;\n  var makeSeriesEncodeForAxisCoordSys_1 = makeSeriesEncodeForAxisCoordSys;\n  var makeSeriesEncodeForNameBased_1 = makeSeriesEncodeForNameBased;\n  var guessOrdinal_1 = guessOrdinal;\n\n  var sourceHelper = {\n  \tBE_ORDINAL: BE_ORDINAL_1,\n  \tdetectSourceFormat: detectSourceFormat_1,\n  \tgetSource: getSource_1,\n  \tresetSourceDefaulter: resetSourceDefaulter_1,\n  \tprepareSource: prepareSource_1,\n  \tmakeSeriesEncodeForAxisCoordSys: makeSeriesEncodeForAxisCoordSys_1,\n  \tmakeSeriesEncodeForNameBased: makeSeriesEncodeForNameBased_1,\n  \tguessOrdinal: guessOrdinal_1\n  };\n\n  var each$5 = util.each;\n  var filter$1 = util.filter;\n  var map$2 = util.map;\n  var isArray$5 = util.isArray;\n  var indexOf$3 = util.indexOf;\n  var isObject$7 = util.isObject;\n  var isString$5 = util.isString;\n  var createHashMap$3 = util.createHashMap;\n  var assert$1 = util.assert;\n  var clone$4 = util.clone;\n  var merge$1 = util.merge;\n  var extend$5 = util.extend;\n  var mixin$2 = util.mixin;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var resetSourceDefaulter$1 = sourceHelper.resetSourceDefaulter;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * ECharts global model\n   *\n   * @module {echarts/model/Global}\n   */\n\n  /**\n   * Caution: If the mechanism should be changed some day, these cases\n   * should be considered:\n   *\n   * (1) In `merge option` mode, if using the same option to call `setOption`\n   * many times, the result should be the same (try our best to ensure that).\n   * (2) In `merge option` mode, if a component has no id/name specified, it\n   * will be merged by index, and the result sequence of the components is\n   * consistent to the original sequence.\n   * (3) `reset` feature (in toolbox). Find detailed info in comments about\n   * `mergeOption` in module:echarts/model/OptionManager.\n   */\n  var OPTION_INNER_KEY = '\\0_ec_inner';\n  /**\n   * @alias module:echarts/model/Global\n   *\n   * @param {Object} option\n   * @param {module:echarts/model/Model} parentModel\n   * @param {Object} theme\n   */\n\n  var GlobalModel = Model_1.extend({\n    init: function (option, parentModel, theme, optionManager) {\n      theme = theme || {};\n      this.option = null; // Mark as not initialized.\n\n      /**\n       * @type {module:echarts/model/Model}\n       * @private\n       */\n\n      this._theme = new Model_1(theme);\n      /**\n       * @type {module:echarts/model/OptionManager}\n       */\n\n      this._optionManager = optionManager;\n    },\n    setOption: function (option, optionPreprocessorFuncs) {\n      assert$1(!(OPTION_INNER_KEY in option), 'please use chart.getOption()');\n\n      this._optionManager.setOption(option, optionPreprocessorFuncs);\n\n      this.resetOption(null);\n    },\n\n    /**\n     * @param {string} type null/undefined: reset all.\n     *                      'recreate': force recreate all.\n     *                      'timeline': only reset timeline option\n     *                      'media': only reset media query option\n     * @return {boolean} Whether option changed.\n     */\n    resetOption: function (type) {\n      var optionChanged = false;\n      var optionManager = this._optionManager;\n\n      if (!type || type === 'recreate') {\n        var baseOption = optionManager.mountOption(type === 'recreate');\n\n        if (!this.option || type === 'recreate') {\n          initBase.call(this, baseOption);\n        } else {\n          this.restoreData();\n          this.mergeOption(baseOption);\n        }\n\n        optionChanged = true;\n      }\n\n      if (type === 'timeline' || type === 'media') {\n        this.restoreData();\n      }\n\n      if (!type || type === 'recreate' || type === 'timeline') {\n        var timelineOption = optionManager.getTimelineOption(this);\n        timelineOption && (this.mergeOption(timelineOption), optionChanged = true);\n      }\n\n      if (!type || type === 'recreate' || type === 'media') {\n        var mediaOptions = optionManager.getMediaOption(this, this._api);\n\n        if (mediaOptions.length) {\n          each$5(mediaOptions, function (mediaOption) {\n            this.mergeOption(mediaOption, optionChanged = true);\n          }, this);\n        }\n      }\n\n      return optionChanged;\n    },\n\n    /**\n     * @protected\n     */\n    mergeOption: function (newOption) {\n      var option = this.option;\n      var componentsMap = this._componentsMap;\n      var newCptTypes = [];\n      resetSourceDefaulter$1(this); // If no component class, merge directly.\n      // For example: color, animaiton options, etc.\n\n      each$5(newOption, function (componentOption, mainType) {\n        if (componentOption == null) {\n          return;\n        }\n\n        if (!Component.hasClass(mainType)) {\n          // globalSettingTask.dirty();\n          option[mainType] = option[mainType] == null ? clone$4(componentOption) : merge$1(option[mainType], componentOption, true);\n        } else if (mainType) {\n          newCptTypes.push(mainType);\n        }\n      });\n      Component.topologicalTravel(newCptTypes, Component.getAllClassMainTypes(), visitComponent, this);\n\n      function visitComponent(mainType, dependencies) {\n        var newCptOptionList = model.normalizeToArray(newOption[mainType]);\n        var mapResult = model.mappingToExists(componentsMap.get(mainType), newCptOptionList);\n        model.makeIdAndName(mapResult); // Set mainType and complete subType.\n\n        each$5(mapResult, function (item, index) {\n          var opt = item.option;\n\n          if (isObject$7(opt)) {\n            item.keyInfo.mainType = mainType;\n            item.keyInfo.subType = determineSubType(mainType, opt, item.exist);\n          }\n        });\n        var dependentModels = getComponentsByTypes(componentsMap, dependencies);\n        option[mainType] = [];\n        componentsMap.set(mainType, []);\n        each$5(mapResult, function (resultItem, index) {\n          var componentModel = resultItem.exist;\n          var newCptOption = resultItem.option;\n          assert$1(isObject$7(newCptOption) || componentModel, 'Empty component definition'); // Consider where is no new option and should be merged using {},\n          // see removeEdgeAndAdd in topologicalTravel and\n          // ComponentModel.getAllClassMainTypes.\n\n          if (!newCptOption) {\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          } else {\n            var ComponentModelClass = Component.getClass(mainType, resultItem.keyInfo.subType, true);\n\n            if (componentModel && componentModel.constructor === ComponentModelClass) {\n              componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n              componentModel.mergeOption(newCptOption, this);\n              componentModel.optionUpdated(newCptOption, false);\n            } else {\n              // PENDING Global as parent ?\n              var extraOpt = extend$5({\n                dependentModels: dependentModels,\n                componentIndex: index\n              }, resultItem.keyInfo);\n              componentModel = new ComponentModelClass(newCptOption, this, this, extraOpt);\n              extend$5(componentModel, extraOpt);\n              componentModel.init(newCptOption, this, this, extraOpt); // Call optionUpdated after init.\n              // newCptOption has been used as componentModel.option\n              // and may be merged with theme and default, so pass null\n              // to avoid confusion.\n\n              componentModel.optionUpdated(null, true);\n            }\n          }\n\n          componentsMap.get(mainType)[index] = componentModel;\n          option[mainType][index] = componentModel.option;\n        }, this); // Backup series for filtering.\n\n        if (mainType === 'series') {\n          createSeriesIndices(this, componentsMap.get('series'));\n        }\n      }\n\n      this._seriesIndicesMap = createHashMap$3(this._seriesIndices = this._seriesIndices || []);\n    },\n\n    /**\n     * Get option for output (cloned option and inner info removed)\n     * @public\n     * @return {Object}\n     */\n    getOption: function () {\n      var option = clone$4(this.option);\n      each$5(option, function (opts, mainType) {\n        if (Component.hasClass(mainType)) {\n          var opts = model.normalizeToArray(opts);\n\n          for (var i = opts.length - 1; i >= 0; i--) {\n            // Remove options with inner id.\n            if (model.isIdInner(opts[i])) {\n              opts.splice(i, 1);\n            }\n          }\n\n          option[mainType] = opts;\n        }\n      });\n      delete option[OPTION_INNER_KEY];\n      return option;\n    },\n\n    /**\n     * @return {module:echarts/model/Model}\n     */\n    getTheme: function () {\n      return this._theme;\n    },\n\n    /**\n     * @param {string} mainType\n     * @param {number} [idx=0]\n     * @return {module:echarts/model/Component}\n     */\n    getComponent: function (mainType, idx) {\n      var list = this._componentsMap.get(mainType);\n\n      if (list) {\n        return list[idx || 0];\n      }\n    },\n\n    /**\n     * If none of index and id and name used, return all components with mainType.\n     * @param {Object} condition\n     * @param {string} condition.mainType\n     * @param {string} [condition.subType] If ignore, only query by mainType\n     * @param {number|Array.<number>} [condition.index] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.id] Either input index or id or name.\n     * @param {string|Array.<string>} [condition.name] Either input index or id or name.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    queryComponents: function (condition) {\n      var mainType = condition.mainType;\n\n      if (!mainType) {\n        return [];\n      }\n\n      var index = condition.index;\n      var id = condition.id;\n      var name = condition.name;\n\n      var cpts = this._componentsMap.get(mainType);\n\n      if (!cpts || !cpts.length) {\n        return [];\n      }\n\n      var result;\n\n      if (index != null) {\n        if (!isArray$5(index)) {\n          index = [index];\n        }\n\n        result = filter$1(map$2(index, function (idx) {\n          return cpts[idx];\n        }), function (val) {\n          return !!val;\n        });\n      } else if (id != null) {\n        var isIdArray = isArray$5(id);\n        result = filter$1(cpts, function (cpt) {\n          return isIdArray && indexOf$3(id, cpt.id) >= 0 || !isIdArray && cpt.id === id;\n        });\n      } else if (name != null) {\n        var isNameArray = isArray$5(name);\n        result = filter$1(cpts, function (cpt) {\n          return isNameArray && indexOf$3(name, cpt.name) >= 0 || !isNameArray && cpt.name === name;\n        });\n      } else {\n        // Return all components with mainType\n        result = cpts.slice();\n      }\n\n      return filterBySubType(result, condition);\n    },\n\n    /**\n     * The interface is different from queryComponents,\n     * which is convenient for inner usage.\n     *\n     * @usage\n     * var result = findComponents(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n     * );\n     * var result = findComponents(\n     *     {mainType: 'series',\n     *     filter: function (model, index) {...}}\n     * );\n     * // result like [component0, componnet1, ...]\n     *\n     * @param {Object} condition\n     * @param {string} condition.mainType Mandatory.\n     * @param {string} [condition.subType] Optional.\n     * @param {Object} [condition.query] like {xxxIndex, xxxId, xxxName},\n     *        where xxx is mainType.\n     *        If query attribute is null/undefined or has no index/id/name,\n     *        do not filtering by query conditions, which is convenient for\n     *        no-payload situations or when target of action is global.\n     * @param {Function} [condition.filter] parameter: component, return boolean.\n     * @return {Array.<module:echarts/model/Component>}\n     */\n    findComponents: function (condition) {\n      var query = condition.query;\n      var mainType = condition.mainType;\n      var queryCond = getQueryCond(query);\n      var result = queryCond ? this.queryComponents(queryCond) : this._componentsMap.get(mainType);\n      return doFilter(filterBySubType(result, condition));\n\n      function getQueryCond(q) {\n        var indexAttr = mainType + 'Index';\n        var idAttr = mainType + 'Id';\n        var nameAttr = mainType + 'Name';\n        return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n          mainType: mainType,\n          // subType will be filtered finally.\n          index: q[indexAttr],\n          id: q[idAttr],\n          name: q[nameAttr]\n        } : null;\n      }\n\n      function doFilter(res) {\n        return condition.filter ? filter$1(res, condition.filter) : res;\n      }\n    },\n\n    /**\n     * @usage\n     * eachComponent('legend', function (legendModel, index) {\n     *     ...\n     * });\n     * eachComponent(function (componentType, model, index) {\n     *     // componentType does not include subType\n     *     // (componentType is 'xxx' but not 'xxx.aa')\n     * });\n     * eachComponent(\n     *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}},\n     *     function (model, index) {...}\n     * );\n     * eachComponent(\n     *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}},\n     *     function (model, index) {...}\n     * );\n     *\n     * @param {string|Object=} mainType When mainType is object, the definition\n     *                                  is the same as the method 'findComponents'.\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachComponent: function (mainType, cb, context) {\n      var componentsMap = this._componentsMap;\n\n      if (typeof mainType === 'function') {\n        context = cb;\n        cb = mainType;\n        componentsMap.each(function (components, componentType) {\n          each$5(components, function (component, index) {\n            cb.call(context, componentType, component, index);\n          });\n        });\n      } else if (isString$5(mainType)) {\n        each$5(componentsMap.get(mainType), cb, context);\n      } else if (isObject$7(mainType)) {\n        var queryResult = this.findComponents(mainType);\n        each$5(queryResult, cb, context);\n      }\n    },\n\n    /**\n     * @param {string} name\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByName: function (name) {\n      var series = this._componentsMap.get('series');\n\n      return filter$1(series, function (oneSeries) {\n        return oneSeries.name === name;\n      });\n    },\n\n    /**\n     * @param {number} seriesIndex\n     * @return {module:echarts/model/Series}\n     */\n    getSeriesByIndex: function (seriesIndex) {\n      return this._componentsMap.get('series')[seriesIndex];\n    },\n\n    /**\n     * Get series list before filtered by type.\n     * FIXME: rename to getRawSeriesByType?\n     *\n     * @param {string} subType\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeriesByType: function (subType) {\n      var series = this._componentsMap.get('series');\n\n      return filter$1(series, function (oneSeries) {\n        return oneSeries.subType === subType;\n      });\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Series>}\n     */\n    getSeries: function () {\n      return this._componentsMap.get('series').slice();\n    },\n\n    /**\n     * @return {number}\n     */\n    getSeriesCount: function () {\n      return this._componentsMap.get('series').length;\n    },\n\n    /**\n     * After filtering, series may be different\n     * frome raw series.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeries: function (cb, context) {\n      each$5(this._seriesIndices, function (rawSeriesIndex) {\n        var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n        cb.call(context, series, rawSeriesIndex);\n      }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered.\n     *\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeries: function (cb, context) {\n      each$5(this._componentsMap.get('series'), cb, context);\n    },\n\n    /**\n     * After filtering, series may be different.\n     * frome raw series.\n     *\n     * @param {string} subType.\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachSeriesByType: function (subType, cb, context) {\n      each$5(this._seriesIndices, function (rawSeriesIndex) {\n        var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n        if (series.subType === subType) {\n          cb.call(context, series, rawSeriesIndex);\n        }\n      }, this);\n    },\n\n    /**\n     * Iterate raw series before filtered of given type.\n     *\n     * @parma {string} subType\n     * @param {Function} cb\n     * @param {*} context\n     */\n    eachRawSeriesByType: function (subType, cb, context) {\n      return each$5(this.getSeriesByType(subType), cb, context);\n    },\n\n    /**\n     * @param {module:echarts/model/Series} seriesModel\n     */\n    isSeriesFiltered: function (seriesModel) {\n      return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n    },\n\n    /**\n     * @return {Array.<number>}\n     */\n    getCurrentSeriesIndices: function () {\n      return (this._seriesIndices || []).slice();\n    },\n\n    /**\n     * @param {Function} cb\n     * @param {*} context\n     */\n    filterSeries: function (cb, context) {\n      var filteredSeries = filter$1(this._componentsMap.get('series'), cb, context);\n      createSeriesIndices(this, filteredSeries);\n    },\n    restoreData: function (payload) {\n      var componentsMap = this._componentsMap;\n      createSeriesIndices(this, componentsMap.get('series'));\n      var componentTypes = [];\n      componentsMap.each(function (components, componentType) {\n        componentTypes.push(componentType);\n      });\n      Component.topologicalTravel(componentTypes, Component.getAllClassMainTypes(), function (componentType, dependencies) {\n        each$5(componentsMap.get(componentType), function (component) {\n          (componentType !== 'series' || !isNotTargetSeries(component, payload)) && component.restoreData();\n        });\n      });\n    }\n  });\n\n  function isNotTargetSeries(seriesModel, payload) {\n    if (payload) {\n      var index = payload.seiresIndex;\n      var id = payload.seriesId;\n      var name = payload.seriesName;\n      return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name != null && seriesModel.name !== name;\n    }\n  }\n  /**\n   * @inner\n   */\n\n\n  function mergeTheme(option, theme) {\n    // PENDING\n    // NOT use `colorLayer` in theme if option has `color`\n    var notMergeColorLayer = option.color && !option.colorLayer;\n    each$5(theme, function (themeItem, name) {\n      if (name === 'colorLayer' && notMergeColorLayer) {\n        return;\n      } //  component model  merge  model \n\n\n      if (!Component.hasClass(name)) {\n        if (typeof themeItem === 'object') {\n          option[name] = !option[name] ? clone$4(themeItem) : merge$1(option[name], themeItem, false);\n        } else {\n          if (option[name] == null) {\n            option[name] = themeItem;\n          }\n        }\n      }\n    });\n  }\n\n  function initBase(baseOption) {\n    baseOption = baseOption; // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n    // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n\n    this.option = {};\n    this.option[OPTION_INNER_KEY] = 1;\n    /**\n     * Init with series: [], in case of calling findSeries method\n     * before series initialized.\n     * @type {Object.<string, Array.<module:echarts/model/Model>>}\n     * @private\n     */\n\n    this._componentsMap = createHashMap$3({\n      series: []\n    });\n    /**\n     * Mapping between filtered series list and raw series list.\n     * key: filtered series indices, value: raw series indices.\n     * @type {Array.<nubmer>}\n     * @private\n     */\n\n    this._seriesIndices;\n    this._seriesIndicesMap;\n    mergeTheme(baseOption, this._theme.option); // TODO Needs clone when merging to the unexisted property\n\n    merge$1(baseOption, globalDefault, false);\n    this.mergeOption(baseOption);\n  }\n  /**\n   * @inner\n   * @param {Array.<string>|string} types model types\n   * @return {Object} key: {string} type, value: {Array.<Object>} models\n   */\n\n\n  function getComponentsByTypes(componentsMap, types) {\n    if (!isArray$5(types)) {\n      types = types ? [types] : [];\n    }\n\n    var ret = {};\n    each$5(types, function (type) {\n      ret[type] = (componentsMap.get(type) || []).slice();\n    });\n    return ret;\n  }\n  /**\n   * @inner\n   */\n\n\n  function determineSubType(mainType, newCptOption, existComponent) {\n    var subType = newCptOption.type ? newCptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\n    : Component.determineSubType(mainType, newCptOption); // tooltip, markline, markpoint may always has no subType\n\n    return subType;\n  }\n  /**\n   * @inner\n   */\n\n\n  function createSeriesIndices(ecModel, seriesModels) {\n    ecModel._seriesIndicesMap = createHashMap$3(ecModel._seriesIndices = map$2(seriesModels, function (series) {\n      return series.componentIndex;\n    }) || []);\n  }\n  /**\n   * @inner\n   */\n\n\n  function filterBySubType(components, condition) {\n    // Using hasOwnProperty for restrict. Consider\n    // subType is undefined in user payload.\n    return condition.hasOwnProperty('subType') ? filter$1(components, function (cpt) {\n      return cpt.subType === condition.subType;\n    }) : components;\n  }\n\n  mixin$2(GlobalModel, colorPalette);\n  var _default$Y = GlobalModel;\n  var Global = _default$Y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var echartsAPIList = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption', 'getViewOfComponentModel', 'getViewOfSeriesModel']; // And `getCoordinateSystems` and `getComponentByElement` will be injected in echarts.js\n\n  function ExtensionAPI(chartInstance) {\n    util.each(echartsAPIList, function (name) {\n      this[name] = util.bind(chartInstance[name], chartInstance);\n    }, this);\n  }\n\n  var _default$Z = ExtensionAPI;\n  var ExtensionAPI_1 = _default$Z;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var coordinateSystemCreators = {};\n\n  function CoordinateSystemManager() {\n    this._coordinateSystems = [];\n  }\n\n  CoordinateSystemManager.prototype = {\n    constructor: CoordinateSystemManager,\n    create: function (ecModel, api) {\n      var coordinateSystems = [];\n      util.each(coordinateSystemCreators, function (creater, type) {\n        var list = creater.create(ecModel, api);\n        coordinateSystems = coordinateSystems.concat(list || []);\n      });\n      this._coordinateSystems = coordinateSystems;\n    },\n    update: function (ecModel, api) {\n      util.each(this._coordinateSystems, function (coordSys) {\n        coordSys.update && coordSys.update(ecModel, api);\n      });\n    },\n    getCoordinateSystems: function () {\n      return this._coordinateSystems.slice();\n    }\n  };\n\n  CoordinateSystemManager.register = function (type, coordinateSystemCreator) {\n    coordinateSystemCreators[type] = coordinateSystemCreator;\n  };\n\n  CoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n  };\n\n  var _default$_ = CoordinateSystemManager;\n  var CoordinateSystem = _default$_;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * ECharts option manager\n   *\n   * @module {echarts/model/OptionManager}\n   */\n  var each$6 = util.each;\n  var clone$5 = util.clone;\n  var map$3 = util.map;\n  var merge$2 = util.merge;\n  var QUERY_REG = /^(min|max)?(.+)$/;\n  /**\n   * TERM EXPLANATIONS:\n   *\n   * [option]:\n   *\n   *     An object that contains definitions of components. For example:\n   *     var option = {\n   *         title: {...},\n   *         legend: {...},\n   *         visualMap: {...},\n   *         series: [\n   *             {data: [...]},\n   *             {data: [...]},\n   *             ...\n   *         ]\n   *     };\n   *\n   * [rawOption]:\n   *\n   *     An object input to echarts.setOption. 'rawOption' may be an\n   *     'option', or may be an object contains multi-options. For example:\n   *     var option = {\n   *         baseOption: {\n   *             title: {...},\n   *             legend: {...},\n   *             series: [\n   *                 {data: [...]},\n   *                 {data: [...]},\n   *                 ...\n   *             ]\n   *         },\n   *         timeline: {...},\n   *         options: [\n   *             {title: {...}, series: {data: [...]}},\n   *             {title: {...}, series: {data: [...]}},\n   *             ...\n   *         ],\n   *         media: [\n   *             {\n   *                 query: {maxWidth: 320},\n   *                 option: {series: {x: 20}, visualMap: {show: false}}\n   *             },\n   *             {\n   *                 query: {minWidth: 320, maxWidth: 720},\n   *                 option: {series: {x: 500}, visualMap: {show: true}}\n   *             },\n   *             {\n   *                 option: {series: {x: 1200}, visualMap: {show: true}}\n   *             }\n   *         ]\n   *     };\n   *\n   * @alias module:echarts/model/OptionManager\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n  function OptionManager(api) {\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n    this._api = api;\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._timelineOptions = [];\n    /**\n     * @private\n     * @type {Array.<Object>}\n     */\n\n    this._mediaList = [];\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._mediaDefault;\n    /**\n     * -1, means default.\n     * empty means no media.\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._currentMediaIndices = [];\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._optionBackup;\n    /**\n     * @private\n     * @type {Object}\n     */\n\n    this._newBaseOption;\n  } // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n\n\n  OptionManager.prototype = {\n    constructor: OptionManager,\n\n    /**\n     * @public\n     * @param {Object} rawOption Raw option.\n     * @param {module:echarts/model/Global} ecModel\n     * @param {Array.<Function>} optionPreprocessorFuncs\n     * @return {Object} Init option\n     */\n    setOption: function (rawOption, optionPreprocessorFuncs) {\n      if (rawOption) {\n        // That set dat primitive is dangerous if user reuse the data when setOption again.\n        util.each(model.normalizeToArray(rawOption.series), function (series) {\n          series && series.data && util.isTypedArray(series.data) && util.setAsPrimitive(series.data);\n        });\n      } // Caution: some series modify option data, if do not clone,\n      // it should ensure that the repeat modify correctly\n      // (create a new object when modify itself).\n\n\n      rawOption = clone$5(rawOption); // FIXME\n      //  timeline options  media baseOption\n\n      var oldOptionBackup = this._optionBackup;\n      var newParsedOption = parseRawOption.call(this, rawOption, optionPreprocessorFuncs, !oldOptionBackup);\n      this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n      if (oldOptionBackup) {\n        // Only baseOption can be merged.\n        mergeOption(oldOptionBackup.baseOption, newParsedOption.baseOption); // For simplicity, timeline options and media options do not support merge,\n        // that is, if you `setOption` twice and both has timeline options, the latter\n        // timeline opitons will not be merged to the formers, but just substitude them.\n\n        if (newParsedOption.timelineOptions.length) {\n          oldOptionBackup.timelineOptions = newParsedOption.timelineOptions;\n        }\n\n        if (newParsedOption.mediaList.length) {\n          oldOptionBackup.mediaList = newParsedOption.mediaList;\n        }\n\n        if (newParsedOption.mediaDefault) {\n          oldOptionBackup.mediaDefault = newParsedOption.mediaDefault;\n        }\n      } else {\n        this._optionBackup = newParsedOption;\n      }\n    },\n\n    /**\n     * @param {boolean} isRecreate\n     * @return {Object}\n     */\n    mountOption: function (isRecreate) {\n      var optionBackup = this._optionBackup; // TODO\n      // resetclone\n\n      this._timelineOptions = map$3(optionBackup.timelineOptions, clone$5);\n      this._mediaList = map$3(optionBackup.mediaList, clone$5);\n      this._mediaDefault = clone$5(optionBackup.mediaDefault);\n      this._currentMediaIndices = [];\n      return clone$5(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n      // called, and is merged into every new option by inner method `mergeOption`\n      // each time `setOption` called, can be only used in `isRecreate`, because\n      // its reliability is under suspicion. In other cases option merge is\n      // performed by `model.mergeOption`.\n      ? optionBackup.baseOption : this._newBaseOption);\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Object}\n     */\n    getTimelineOption: function (ecModel) {\n      var option;\n      var timelineOptions = this._timelineOptions;\n\n      if (timelineOptions.length) {\n        // getTimelineOption can only be called after ecModel inited,\n        // so we can get currentIndex from timelineModel.\n        var timelineModel = ecModel.getComponent('timeline');\n\n        if (timelineModel) {\n          option = clone$5(timelineOptions[timelineModel.getCurrentIndex()], true);\n        }\n      }\n\n      return option;\n    },\n\n    /**\n     * @param {module:echarts/model/Global} ecModel\n     * @return {Array.<Object>}\n     */\n    getMediaOption: function (ecModel) {\n      var ecWidth = this._api.getWidth();\n\n      var ecHeight = this._api.getHeight();\n\n      var mediaList = this._mediaList;\n      var mediaDefault = this._mediaDefault;\n      var indices = [];\n      var result = []; // No media defined.\n\n      if (!mediaList.length && !mediaDefault) {\n        return result;\n      } // Multi media may be applied, the latter defined media has higher priority.\n\n\n      for (var i = 0, len = mediaList.length; i < len; i++) {\n        if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n          indices.push(i);\n        }\n      } // FIXME\n      // mediaDefault\n\n\n      if (!indices.length && mediaDefault) {\n        indices = [-1];\n      }\n\n      if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n        result = map$3(indices, function (index) {\n          return clone$5(index === -1 ? mediaDefault.option : mediaList[index].option);\n        });\n      } // Otherwise return nothing.\n\n\n      this._currentMediaIndices = indices;\n      return result;\n    }\n  };\n\n  function parseRawOption(rawOption, optionPreprocessorFuncs, isNew) {\n    var timelineOptions = [];\n    var mediaList = [];\n    var mediaDefault;\n    var baseOption; // Compatible with ec2.\n\n    var timelineOpt = rawOption.timeline;\n\n    if (rawOption.baseOption) {\n      baseOption = rawOption.baseOption;\n    } // For timeline\n\n\n    if (timelineOpt || rawOption.options) {\n      baseOption = baseOption || {};\n      timelineOptions = (rawOption.options || []).slice();\n    } // For media query\n\n\n    if (rawOption.media) {\n      baseOption = baseOption || {};\n      var media = rawOption.media;\n      each$6(media, function (singleMedia) {\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } // For normal option\n\n\n    if (!baseOption) {\n      baseOption = rawOption;\n    } // Set timelineOpt to baseOption in ec3,\n    // which is convenient for merge option.\n\n\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOpt;\n    } // Preprocess.\n\n\n    each$6([baseOption].concat(timelineOptions).concat(util.map(mediaList, function (media) {\n      return media.option;\n    })), function (option) {\n      each$6(optionPreprocessorFuncs, function (preProcess) {\n        preProcess(option, isNew);\n      });\n    });\n    return {\n      baseOption: baseOption,\n      timelineOptions: timelineOptions,\n      mediaDefault: mediaDefault,\n      mediaList: mediaList\n    };\n  }\n  /**\n   * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n   * Support: width, height, aspectRatio\n   * Can use max or min as prefix.\n   */\n\n\n  function applyMediaQuery(query, ecWidth, ecHeight) {\n    var realMap = {\n      width: ecWidth,\n      height: ecHeight,\n      aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n\n    };\n    var applicatable = true;\n    util.each(query, function (value, attr) {\n      var matched = attr.match(QUERY_REG);\n\n      if (!matched || !matched[1] || !matched[2]) {\n        return;\n      }\n\n      var operator = matched[1];\n      var realAttr = matched[2].toLowerCase();\n\n      if (!compare(realMap[realAttr], value, operator)) {\n        applicatable = false;\n      }\n    });\n    return applicatable;\n  }\n\n  function compare(real, expect, operator) {\n    if (operator === 'min') {\n      return real >= expect;\n    } else if (operator === 'max') {\n      return real <= expect;\n    } else {\n      // Equals\n      return real === expect;\n    }\n  }\n\n  function indicesEquals(indices1, indices2) {\n    // indices is always order by asc and has only finite number.\n    return indices1.join(',') === indices2.join(',');\n  }\n  /**\n   * Consider case:\n   * `chart.setOption(opt1);`\n   * Then user do some interaction like dataZoom, dataView changing.\n   * `chart.setOption(opt2);`\n   * Then user press 'reset button' in toolbox.\n   *\n   * After doing that all of the interaction effects should be reset, the\n   * chart should be the same as the result of invoke\n   * `chart.setOption(opt1); chart.setOption(opt2);`.\n   *\n   * Although it is not able ensure that\n   * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n   * `chart.setOption(merge(opt1, opt2));` exactly,\n   * this might be the only simple way to implement that feature.\n   *\n   * MEMO: We've considered some other approaches:\n   * 1. Each model handle its self restoration but not uniform treatment.\n   *     (Too complex in logic and error-prone)\n   * 2. Use a shadow ecModel. (Performace expensive)\n   */\n\n\n  function mergeOption(oldOption, newOption) {\n    newOption = newOption || {};\n    each$6(newOption, function (newCptOpt, mainType) {\n      if (newCptOpt == null) {\n        return;\n      }\n\n      var oldCptOpt = oldOption[mainType];\n\n      if (!Component.hasClass(mainType)) {\n        oldOption[mainType] = merge$2(oldCptOpt, newCptOpt, true);\n      } else {\n        newCptOpt = model.normalizeToArray(newCptOpt);\n        oldCptOpt = model.normalizeToArray(oldCptOpt);\n        var mapResult = model.mappingToExists(oldCptOpt, newCptOpt);\n        oldOption[mainType] = map$3(mapResult, function (item) {\n          return item.option && item.exist ? merge$2(item.exist, item.option, true) : item.exist || item.option;\n        });\n      }\n    });\n  }\n\n  var _default$$ = OptionManager;\n  var OptionManager_1 = _default$$;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$7 = util.each;\n  var isObject$8 = util.isObject;\n  var POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\n  function compatEC2ItemStyle(opt) {\n    var itemStyleOpt = opt && opt.itemStyle;\n\n    if (!itemStyleOpt) {\n      return;\n    }\n\n    for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n      var styleName = POSSIBLE_STYLES[i];\n      var normalItemStyleOpt = itemStyleOpt.normal;\n      var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n      if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n        opt[styleName] = opt[styleName] || {};\n\n        if (!opt[styleName].normal) {\n          opt[styleName].normal = normalItemStyleOpt[styleName];\n        } else {\n          util.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n        }\n\n        normalItemStyleOpt[styleName] = null;\n      }\n\n      if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n        opt[styleName] = opt[styleName] || {};\n\n        if (!opt[styleName].emphasis) {\n          opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n        } else {\n          util.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n        }\n\n        emphasisItemStyleOpt[styleName] = null;\n      }\n    }\n  }\n\n  function convertNormalEmphasis(opt, optType, useExtend) {\n    if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n      var normalOpt = opt[optType].normal;\n      var emphasisOpt = opt[optType].emphasis;\n\n      if (normalOpt) {\n        // Timeline controlStyle has other properties besides normal and emphasis\n        if (useExtend) {\n          opt[optType].normal = opt[optType].emphasis = null;\n          util.defaults(opt[optType], normalOpt);\n        } else {\n          opt[optType] = normalOpt;\n        }\n      }\n\n      if (emphasisOpt) {\n        opt.emphasis = opt.emphasis || {};\n        opt.emphasis[optType] = emphasisOpt;\n      }\n    }\n  }\n\n  function removeEC3NormalStatus(opt) {\n    convertNormalEmphasis(opt, 'itemStyle');\n    convertNormalEmphasis(opt, 'lineStyle');\n    convertNormalEmphasis(opt, 'areaStyle');\n    convertNormalEmphasis(opt, 'label');\n    convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n    convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n    convertNormalEmphasis(opt, 'edgeLabel');\n  }\n\n  function compatTextStyle(opt, propName) {\n    // Check whether is not object (string\\null\\undefined ...)\n    var labelOptSingle = isObject$8(opt) && opt[propName];\n    var textStyle = isObject$8(labelOptSingle) && labelOptSingle.textStyle;\n\n    if (textStyle) {\n      for (var i = 0, len = model.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n        var propName = model.TEXT_STYLE_OPTIONS[i];\n\n        if (textStyle.hasOwnProperty(propName)) {\n          labelOptSingle[propName] = textStyle[propName];\n        }\n      }\n    }\n  }\n\n  function compatEC3CommonStyles(opt) {\n    if (opt) {\n      removeEC3NormalStatus(opt);\n      compatTextStyle(opt, 'label');\n      opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n    }\n  }\n\n  function processSeries(seriesOpt) {\n    if (!isObject$8(seriesOpt)) {\n      return;\n    }\n\n    compatEC2ItemStyle(seriesOpt);\n    removeEC3NormalStatus(seriesOpt);\n    compatTextStyle(seriesOpt, 'label'); // treemap\n\n    compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt, 'edgeLabel');\n\n    if (seriesOpt.emphasis) {\n      compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n      compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n      compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n    }\n\n    var markPoint = seriesOpt.markPoint;\n\n    if (markPoint) {\n      compatEC2ItemStyle(markPoint);\n      compatEC3CommonStyles(markPoint);\n    }\n\n    var markLine = seriesOpt.markLine;\n\n    if (markLine) {\n      compatEC2ItemStyle(markLine);\n      compatEC3CommonStyles(markLine);\n    }\n\n    var markArea = seriesOpt.markArea;\n\n    if (markArea) {\n      compatEC3CommonStyles(markArea);\n    }\n\n    var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n    // then the backward compat based on option type will not be performed.\n\n    if (seriesOpt.type === 'graph') {\n      data = data || seriesOpt.nodes;\n      var edgeData = seriesOpt.links || seriesOpt.edges;\n\n      if (edgeData && !util.isTypedArray(edgeData)) {\n        for (var i = 0; i < edgeData.length; i++) {\n          compatEC3CommonStyles(edgeData[i]);\n        }\n      }\n\n      util.each(seriesOpt.categories, function (opt) {\n        removeEC3NormalStatus(opt);\n      });\n    }\n\n    if (data && !util.isTypedArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        compatEC3CommonStyles(data[i]);\n      }\n    } // mark point data\n\n\n    var markPoint = seriesOpt.markPoint;\n\n    if (markPoint && markPoint.data) {\n      var mpData = markPoint.data;\n\n      for (var i = 0; i < mpData.length; i++) {\n        compatEC3CommonStyles(mpData[i]);\n      }\n    } // mark line data\n\n\n    var markLine = seriesOpt.markLine;\n\n    if (markLine && markLine.data) {\n      var mlData = markLine.data;\n\n      for (var i = 0; i < mlData.length; i++) {\n        if (util.isArray(mlData[i])) {\n          compatEC3CommonStyles(mlData[i][0]);\n          compatEC3CommonStyles(mlData[i][1]);\n        } else {\n          compatEC3CommonStyles(mlData[i]);\n        }\n      }\n    } // Series\n\n\n    if (seriesOpt.type === 'gauge') {\n      compatTextStyle(seriesOpt, 'axisLabel');\n      compatTextStyle(seriesOpt, 'title');\n      compatTextStyle(seriesOpt, 'detail');\n    } else if (seriesOpt.type === 'treemap') {\n      convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n      util.each(seriesOpt.levels, function (opt) {\n        removeEC3NormalStatus(opt);\n      });\n    } else if (seriesOpt.type === 'tree') {\n      removeEC3NormalStatus(seriesOpt.leaves);\n    } // sunburst starts from ec4, so it does not need to compat levels.\n\n  }\n\n  function toArr(o) {\n    return util.isArray(o) ? o : o ? [o] : [];\n  }\n\n  function toObj(o) {\n    return (util.isArray(o) ? o[0] : o) || {};\n  }\n\n  function _default$10(option, isTheme) {\n    each$7(toArr(option.series), function (seriesOpt) {\n      isObject$8(seriesOpt) && processSeries(seriesOpt);\n    });\n    var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n    isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n    each$7(axes, function (axisName) {\n      each$7(toArr(option[axisName]), function (axisOpt) {\n        if (axisOpt) {\n          compatTextStyle(axisOpt, 'axisLabel');\n          compatTextStyle(axisOpt.axisPointer, 'label');\n        }\n      });\n    });\n    each$7(toArr(option.parallel), function (parallelOpt) {\n      var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n      compatTextStyle(parallelAxisDefault, 'axisLabel');\n      compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n    });\n    each$7(toArr(option.calendar), function (calendarOpt) {\n      convertNormalEmphasis(calendarOpt, 'itemStyle');\n      compatTextStyle(calendarOpt, 'dayLabel');\n      compatTextStyle(calendarOpt, 'monthLabel');\n      compatTextStyle(calendarOpt, 'yearLabel');\n    }); // radar.name.textStyle\n\n    each$7(toArr(option.radar), function (radarOpt) {\n      compatTextStyle(radarOpt, 'name');\n    });\n    each$7(toArr(option.geo), function (geoOpt) {\n      if (isObject$8(geoOpt)) {\n        compatEC3CommonStyles(geoOpt);\n        each$7(toArr(geoOpt.regions), function (regionObj) {\n          compatEC3CommonStyles(regionObj);\n        });\n      }\n    });\n    each$7(toArr(option.timeline), function (timelineOpt) {\n      compatEC3CommonStyles(timelineOpt);\n      convertNormalEmphasis(timelineOpt, 'label');\n      convertNormalEmphasis(timelineOpt, 'itemStyle');\n      convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n      var data = timelineOpt.data;\n      util.isArray(data) && util.each(data, function (item) {\n        if (util.isObject(item)) {\n          convertNormalEmphasis(item, 'label');\n          convertNormalEmphasis(item, 'itemStyle');\n        }\n      });\n    });\n    each$7(toArr(option.toolbox), function (toolboxOpt) {\n      convertNormalEmphasis(toolboxOpt, 'iconStyle');\n      each$7(toolboxOpt.feature, function (featureOpt) {\n        convertNormalEmphasis(featureOpt, 'iconStyle');\n      });\n    });\n    compatTextStyle(toObj(option.axisPointer), 'label');\n    compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n  }\n\n  var compatStyle = _default$10;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$8 = util.each;\n  var isArray$6 = util.isArray;\n  var isObject$9 = util.isObject;\n\n\n\n\n\n  var normalizeToArray$2 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Compatitable with 2.0\n  function get$2(opt, path) {\n    path = path.split(',');\n    var obj = opt;\n\n    for (var i = 0; i < path.length; i++) {\n      obj = obj && obj[path[i]];\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    return obj;\n  }\n\n  function set$4(opt, path, val, overwrite) {\n    path = path.split(',');\n    var obj = opt;\n    var key;\n\n    for (var i = 0; i < path.length - 1; i++) {\n      key = path[i];\n\n      if (obj[key] == null) {\n        obj[key] = {};\n      }\n\n      obj = obj[key];\n    }\n\n    if (overwrite || obj[path[i]] == null) {\n      obj[path[i]] = val;\n    }\n  }\n\n  function compatLayoutProperties(option) {\n    each$8(LAYOUT_PROPERTIES, function (prop) {\n      if (prop[0] in option && !(prop[1] in option)) {\n        option[prop[1]] = option[prop[0]];\n      }\n    });\n  }\n\n  var LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\n  var COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\n\n  function _default$11(option, isTheme) {\n    compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n    option.series = normalizeToArray$2(option.series);\n    each$8(option.series, function (seriesOpt) {\n      if (!isObject$9(seriesOpt)) {\n        return;\n      }\n\n      var seriesType = seriesOpt.type;\n\n      if (seriesType === 'line') {\n        if (seriesOpt.clipOverflow != null) {\n          seriesOpt.clip = seriesOpt.clipOverflow;\n        }\n      } else if (seriesType === 'pie' || seriesType === 'gauge') {\n        if (seriesOpt.clockWise != null) {\n          seriesOpt.clockwise = seriesOpt.clockWise;\n        }\n      } else if (seriesType === 'gauge') {\n        var pointerColor = get$2(seriesOpt, 'pointer.color');\n        pointerColor != null && set$4(seriesOpt, 'itemStyle.color', pointerColor);\n      }\n\n      compatLayoutProperties(seriesOpt);\n    }); // dataRange has changed to visualMap\n\n    if (option.dataRange) {\n      option.visualMap = option.dataRange;\n    }\n\n    each$8(COMPATITABLE_COMPONENTS, function (componentName) {\n      var options = option[componentName];\n\n      if (options) {\n        if (!isArray$6(options)) {\n          options = [options];\n        }\n\n        each$8(options, function (option) {\n          compatLayoutProperties(option);\n        });\n      }\n    });\n  }\n\n  var backwardCompat = _default$11;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$4 = util.createHashMap;\n  var each$9 = util.each;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // (1) [Caution]: the logic is correct based on the premises:\n  //     data processing stage is blocked in stream.\n  //     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n  // (2) Only register once when import repeatly.\n  //     Should be executed after series filtered and before stack calculation.\n  function _default$12(ecModel) {\n    var stackInfoMap = createHashMap$4();\n    ecModel.eachSeries(function (seriesModel) {\n      var stack = seriesModel.get('stack'); // Compatibal: when `stack` is set as '', do not stack.\n\n      if (stack) {\n        var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n        var data = seriesModel.getData();\n        var stackInfo = {\n          // Used for calculate axis extent automatically.\n          stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n          stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n          stackedDimension: data.getCalculationInfo('stackedDimension'),\n          stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n          isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n          data: data,\n          seriesModel: seriesModel\n        }; // If stacked on axis that do not support data stack.\n\n        if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n          return;\n        }\n\n        stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n        stackInfoList.push(stackInfo);\n      }\n    });\n    stackInfoMap.each(calculateStack);\n  }\n\n  function calculateStack(stackInfoList) {\n    each$9(stackInfoList, function (targetStackInfo, idxInStack) {\n      var resultVal = [];\n      var resultNaN = [NaN, NaN];\n      var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n      var targetData = targetStackInfo.data;\n      var isStackedByIndex = targetStackInfo.isStackedByIndex; // Should not write on raw data, because stack series model list changes\n      // depending on legend selection.\n\n      var newData = targetData.map(dims, function (v0, v1, dataIndex) {\n        var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n        // should also be NaN, to draw a appropriate belt area.\n\n        if (isNaN(sum)) {\n          return resultNaN;\n        }\n\n        var byValue;\n        var stackedDataRawIndex;\n\n        if (isStackedByIndex) {\n          stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n        } else {\n          byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n        } // If stackOver is NaN, chart view will render point on value start.\n\n\n        var stackedOver = NaN;\n\n        for (var j = idxInStack - 1; j >= 0; j--) {\n          var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n          if (!isStackedByIndex) {\n            stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n          }\n\n          if (stackedDataRawIndex >= 0) {\n            var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n            if (sum >= 0 && val > 0 || // Positive stack\n            sum <= 0 && val < 0 // Negative stack\n            ) {\n                sum += val;\n                stackedOver = val;\n                break;\n              }\n          }\n        }\n\n        resultVal[0] = sum;\n        resultVal[1] = stackedOver;\n        return resultVal;\n      });\n      targetData.hostModel.setData(newData); // Update for consequent calculation\n\n      targetStackInfo.data = newData;\n    });\n  }\n\n  var dataStack = _default$12;\n\n  var extend$6 = util.extend;\n  var each$a = util.each;\n  var isObject$a = util.isObject;\n\n\n\n  var getDataItemValue$2 = model.getDataItemValue;\n  var isDataItemOption$1 = model.isDataItemOption;\n\n\n\n  var parseDate$1 = number.parseDate;\n\n\n\n\n\n  var SOURCE_FORMAT_TYPED_ARRAY$3 = sourceType.SOURCE_FORMAT_TYPED_ARRAY;\n  var SOURCE_FORMAT_ARRAY_ROWS$2 = sourceType.SOURCE_FORMAT_ARRAY_ROWS;\n  var SOURCE_FORMAT_ORIGINAL$3 = sourceType.SOURCE_FORMAT_ORIGINAL;\n  var SOURCE_FORMAT_OBJECT_ROWS$2 = sourceType.SOURCE_FORMAT_OBJECT_ROWS;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO\n  // ??? refactor? check the outer usage of data provider.\n  // merge with defaultDimValueGetter?\n\n  /**\n   * If normal array used, mutable chunk size is supported.\n   * If typed array used, chunk size must be fixed.\n   */\n  function DefaultDataProvider(source, dimSize) {\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    this._source = source;\n    var data = this._data = source.data;\n    var sourceFormat = source.sourceFormat; // Typed array. TODO IE10+?\n\n    if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY$3) {\n      this._offset = 0;\n      this._dimSize = dimSize;\n      this._data = data;\n    }\n\n    var methods = providerMethods[sourceFormat === SOURCE_FORMAT_ARRAY_ROWS$2 ? sourceFormat + '_' + source.seriesLayoutBy : sourceFormat];\n    extend$6(this, methods);\n  }\n\n  var providerProto = DefaultDataProvider.prototype; // If data is pure without style configuration\n\n  providerProto.pure = false; // If data is persistent and will not be released after use.\n\n  providerProto.persistent = true; // ???! FIXME legacy data provider do not has method getSource\n\n  providerProto.getSource = function () {\n    return this._source;\n  };\n\n  var providerMethods = {\n    'arrayRows_column': {\n      pure: true,\n      count: function () {\n        return Math.max(0, this._data.length - this._source.startIndex);\n      },\n      getItem: function (idx) {\n        return this._data[idx + this._source.startIndex];\n      },\n      appendData: appendDataSimply\n    },\n    'arrayRows_row': {\n      pure: true,\n      count: function () {\n        var row = this._data[0];\n        return row ? Math.max(0, row.length - this._source.startIndex) : 0;\n      },\n      getItem: function (idx) {\n        idx += this._source.startIndex;\n        var item = [];\n        var data = this._data;\n\n        for (var i = 0; i < data.length; i++) {\n          var row = data[i];\n          item.push(row ? row[idx] : null);\n        }\n\n        return item;\n      },\n      appendData: function () {\n        throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\n      }\n    },\n    'objectRows': {\n      pure: true,\n      count: countSimply,\n      getItem: getItemSimply,\n      appendData: appendDataSimply\n    },\n    'keyedColumns': {\n      pure: true,\n      count: function () {\n        var dimName = this._source.dimensionsDefine[0].name;\n        var col = this._data[dimName];\n        return col ? col.length : 0;\n      },\n      getItem: function (idx) {\n        var item = [];\n        var dims = this._source.dimensionsDefine;\n\n        for (var i = 0; i < dims.length; i++) {\n          var col = this._data[dims[i].name];\n          item.push(col ? col[idx] : null);\n        }\n\n        return item;\n      },\n      appendData: function (newData) {\n        var data = this._data;\n        each$a(newData, function (newCol, key) {\n          var oldCol = data[key] || (data[key] = []);\n\n          for (var i = 0; i < (newCol || []).length; i++) {\n            oldCol.push(newCol[i]);\n          }\n        });\n      }\n    },\n    'original': {\n      count: countSimply,\n      getItem: getItemSimply,\n      appendData: appendDataSimply\n    },\n    'typedArray': {\n      persistent: false,\n      pure: true,\n      count: function () {\n        return this._data ? this._data.length / this._dimSize : 0;\n      },\n      getItem: function (idx, out) {\n        idx = idx - this._offset;\n        out = out || [];\n        var offset = this._dimSize * idx;\n\n        for (var i = 0; i < this._dimSize; i++) {\n          out[i] = this._data[offset + i];\n        }\n\n        return out;\n      },\n      appendData: function (newData) {\n        this._data = newData;\n      },\n      // Clean self if data is already used.\n      clean: function () {\n        // PENDING\n        this._offset += this.count();\n        this._data = null;\n      }\n    }\n  };\n\n  function countSimply() {\n    return this._data.length;\n  }\n\n  function getItemSimply(idx) {\n    return this._data[idx];\n  }\n\n  function appendDataSimply(newData) {\n    for (var i = 0; i < newData.length; i++) {\n      this._data.push(newData[i]);\n    }\n  }\n\n  var rawValueGetters = {\n    arrayRows: getRawValueSimply,\n    objectRows: function (dataItem, dataIndex, dimIndex, dimName) {\n      return dimIndex != null ? dataItem[dimName] : dataItem;\n    },\n    keyedColumns: getRawValueSimply,\n    original: function (dataItem, dataIndex, dimIndex, dimName) {\n      // FIXME\n      // In some case (markpoint in geo (geo-map.html)), dataItem\n      // is {coord: [...]}\n      var value = getDataItemValue$2(dataItem);\n      return dimIndex == null || !(value instanceof Array) ? value : value[dimIndex];\n    },\n    typedArray: getRawValueSimply\n  };\n\n  function getRawValueSimply(dataItem, dataIndex, dimIndex, dimName) {\n    return dimIndex != null ? dataItem[dimIndex] : dataItem;\n  }\n\n  var defaultDimValueGetters = {\n    arrayRows: getDimValueSimply,\n    objectRows: function (dataItem, dimName, dataIndex, dimIndex) {\n      return converDataValue(dataItem[dimName], this._dimensionInfos[dimName]);\n    },\n    keyedColumns: getDimValueSimply,\n    original: function (dataItem, dimName, dataIndex, dimIndex) {\n      // Performance sensitive, do not use modelUtil.getDataItemValue.\n      // If dataItem is an plain object with no value field, the var `value`\n      // will be assigned with the object, but it will be tread correctly\n      // in the `convertDataValue`.\n      var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value); // If any dataItem is like { value: 10 }\n\n      if (!this._rawData.pure && isDataItemOption$1(dataItem)) {\n        this.hasItemOption = true;\n      }\n\n      return converDataValue(value instanceof Array ? value[dimIndex] // If value is a single number or something else not array.\n      : value, this._dimensionInfos[dimName]);\n    },\n    typedArray: function (dataItem, dimName, dataIndex, dimIndex) {\n      return dataItem[dimIndex];\n    }\n  };\n\n  function getDimValueSimply(dataItem, dimName, dataIndex, dimIndex) {\n    return converDataValue(dataItem[dimIndex], this._dimensionInfos[dimName]);\n  }\n  /**\n   * This helper method convert value in data.\n   * @param {string|number|Date} value\n   * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n   *        If \"dimInfo.ordinalParseAndSave\", ordinal value can be parsed.\n   */\n\n\n  function converDataValue(value, dimInfo) {\n    // Performance sensitive.\n    var dimType = dimInfo && dimInfo.type;\n\n    if (dimType === 'ordinal') {\n      // If given value is a category string\n      var ordinalMeta = dimInfo && dimInfo.ordinalMeta;\n      return ordinalMeta ? ordinalMeta.parseAndCollect(value) : value;\n    }\n\n    if (dimType === 'time' // spead up when using timestamp\n    && typeof value !== 'number' && value != null && value !== '-') {\n      value = +parseDate$1(value);\n    } // dimType defaults 'number'.\n    // If dimType is not ordinal and value is null or undefined or NaN or '-',\n    // parse to NaN.\n\n\n    return value == null || value === '' ? NaN // If string (like '-'), using '+' parse to NaN\n    // If object, also parse to NaN\n    : +value;\n  } // ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\n  // Consider persistent.\n  // Caution: why use raw value to display on label or tooltip?\n  // A reason is to avoid format. For example time value we do not know\n  // how to format is expected. More over, if stack is used, calculated\n  // value may be 0.91000000001, which have brings trouble to display.\n  // TODO: consider how to treat null/undefined/NaN when display?\n\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @param {string|number} [dim] dimName or dimIndex\n   * @return {Array.<number>|string|number} can be null/undefined.\n   */\n\n\n  function retrieveRawValue(data, dataIndex, dim) {\n    if (!data) {\n      return;\n    } // Consider data may be not persistent.\n\n\n    var dataItem = data.getRawDataItem(dataIndex);\n\n    if (dataItem == null) {\n      return;\n    }\n\n    var sourceFormat = data.getProvider().getSource().sourceFormat;\n    var dimName;\n    var dimIndex;\n    var dimInfo = data.getDimensionInfo(dim);\n\n    if (dimInfo) {\n      dimName = dimInfo.name;\n      dimIndex = dimInfo.index;\n    }\n\n    return rawValueGetters[sourceFormat](dataItem, dataIndex, dimIndex, dimName);\n  }\n  /**\n   * Compatible with some cases (in pie, map) like:\n   * data: [{name: 'xx', value: 5, selected: true}, ...]\n   * where only sourceFormat is 'original' and 'objectRows' supported.\n   *\n   * ??? TODO\n   * Supported detail options in data item when using 'arrayRows'.\n   *\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @param {string} attr like 'selected'\n   */\n\n\n  function retrieveRawAttr(data, dataIndex, attr) {\n    if (!data) {\n      return;\n    }\n\n    var sourceFormat = data.getProvider().getSource().sourceFormat;\n\n    if (sourceFormat !== SOURCE_FORMAT_ORIGINAL$3 && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS$2) {\n      return;\n    }\n\n    var dataItem = data.getRawDataItem(dataIndex);\n\n    if (sourceFormat === SOURCE_FORMAT_ORIGINAL$3 && !isObject$a(dataItem)) {\n      dataItem = null;\n    }\n\n    if (dataItem) {\n      return dataItem[attr];\n    }\n  }\n\n  var DefaultDataProvider_1 = DefaultDataProvider;\n  var defaultDimValueGetters_1 = defaultDimValueGetters;\n  var retrieveRawValue_1 = retrieveRawValue;\n  var retrieveRawAttr_1 = retrieveRawAttr;\n\n  var dataProvider = {\n  \tDefaultDataProvider: DefaultDataProvider_1,\n  \tdefaultDimValueGetters: defaultDimValueGetters_1,\n  \tretrieveRawValue: retrieveRawValue_1,\n  \tretrieveRawAttr: retrieveRawAttr_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieveRawValue$1 = dataProvider.retrieveRawValue;\n\n\n\n  var getTooltipMarker$1 = format$1.getTooltipMarker;\n  var formatTpl$1 = format$1.formatTpl;\n\n\n\n  var getTooltipRenderMode$1 = model.getTooltipRenderMode;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\n  var _default$13 = {\n    /**\n     * Get params for formatter\n     * @param {number} dataIndex\n     * @param {string} [dataType]\n     * @return {Object}\n     */\n    getDataParams: function (dataIndex, dataType) {\n      var data = this.getData(dataType);\n      var rawValue = this.getRawValue(dataIndex, dataType);\n      var rawDataIndex = data.getRawIndex(dataIndex);\n      var name = data.getName(dataIndex);\n      var itemOpt = data.getRawDataItem(dataIndex);\n      var color = data.getItemVisual(dataIndex, 'color');\n      var borderColor = data.getItemVisual(dataIndex, 'borderColor');\n      var tooltipModel = this.ecModel.getComponent('tooltip');\n      var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n      var renderMode = getTooltipRenderMode$1(renderModeOption);\n      var mainType = this.mainType;\n      var isSeries = mainType === 'series';\n      var userOutput = data.userOutput;\n      return {\n        componentType: mainType,\n        componentSubType: this.subType,\n        componentIndex: this.componentIndex,\n        seriesType: isSeries ? this.subType : null,\n        seriesIndex: this.seriesIndex,\n        seriesId: isSeries ? this.id : null,\n        seriesName: isSeries ? this.name : null,\n        name: name,\n        dataIndex: rawDataIndex,\n        data: itemOpt,\n        dataType: dataType,\n        value: rawValue,\n        color: color,\n        borderColor: borderColor,\n        dimensionNames: userOutput ? userOutput.dimensionNames : null,\n        encode: userOutput ? userOutput.encode : null,\n        marker: getTooltipMarker$1({\n          color: color,\n          renderMode: renderMode\n        }),\n        // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n        $vars: ['seriesName', 'name', 'value']\n      };\n    },\n\n    /**\n     * Format label\n     * @param {number} dataIndex\n     * @param {string} [status='normal'] 'normal' or 'emphasis'\n     * @param {string} [dataType]\n     * @param {number} [dimIndex] Only used in some chart that\n     *        use formatter in different dimensions, like radar.\n     * @param {string} [labelProp='label']\n     * @return {string} If not formatter, return null/undefined\n     */\n    getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n      status = status || 'normal';\n      var data = this.getData(dataType);\n      var itemModel = data.getItemModel(dataIndex);\n      var params = this.getDataParams(dataIndex, dataType);\n\n      if (dimIndex != null && params.value instanceof Array) {\n        params.value = params.value[dimIndex];\n      }\n\n      var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n      if (typeof formatter === 'function') {\n        params.status = status;\n        params.dimensionIndex = dimIndex;\n        return formatter(params);\n      } else if (typeof formatter === 'string') {\n        var str = formatTpl$1(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n        // Do not support '}' in dim name util have to.\n\n        return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n          var len = dim.length;\n\n          if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n            dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n          }\n\n          return retrieveRawValue$1(data, dataIndex, dim);\n        });\n      }\n    },\n\n    /**\n     * Get raw value in option\n     * @param {number} idx\n     * @param {string} [dataType]\n     * @return {Array|number|string}\n     */\n    getRawValue: function (idx, dataType) {\n      return retrieveRawValue$1(this.getData(dataType), idx);\n    },\n\n    /**\n     * Should be implemented.\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     * @return {string} tooltip string\n     */\n    formatTooltip: function () {// Empty function\n    }\n  };\n  var dataFormat = _default$13;\n\n  var isArray$7 = util.isArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} define\n   * @return See the return of `createTask`.\n   */\n  function createTask(define) {\n    return new Task(define);\n  }\n  /**\n   * @constructor\n   * @param {Object} define\n   * @param {Function} define.reset Custom reset\n   * @param {Function} [define.plan] Returns 'reset' indicate reset immediately.\n   * @param {Function} [define.count] count is used to determin data task.\n   * @param {Function} [define.onDirty] count is used to determin data task.\n   */\n\n\n  function Task(define) {\n    define = define || {};\n    this._reset = define.reset;\n    this._plan = define.plan;\n    this._count = define.count;\n    this._onDirty = define.onDirty;\n    this._dirty = true; // Context must be specified implicitly, to\n    // avoid miss update context when model changed.\n\n    this.context;\n  }\n\n  var taskProto = Task.prototype;\n  /**\n   * @param {Object} performArgs\n   * @param {number} [performArgs.step] Specified step.\n   * @param {number} [performArgs.skip] Skip customer perform call.\n   * @param {number} [performArgs.modBy] Sampling window size.\n   * @param {number} [performArgs.modDataCount] Sampling count.\n   */\n\n  taskProto.perform = function (performArgs) {\n    var upTask = this._upstream;\n    var skip = performArgs && performArgs.skip; // TODO some refactor.\n    // Pull data. Must pull data each time, because context.data\n    // may be updated by Series.setData.\n\n    if (this._dirty && upTask) {\n      var context = this.context;\n      context.data = context.outputData = upTask.context.outputData;\n    }\n\n    if (this.__pipeline) {\n      this.__pipeline.currentTask = this;\n    }\n\n    var planResult;\n\n    if (this._plan && !skip) {\n      planResult = this._plan(this.context);\n    } // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n    // elements uniformed distributed when progress, especially when moving or zooming.\n\n\n    var lastModBy = normalizeModBy(this._modBy);\n    var lastModDataCount = this._modDataCount || 0;\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\n\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n      planResult = 'reset';\n    }\n\n    function normalizeModBy(val) {\n      !(val >= 1) && (val = 1); // jshint ignore:line\n\n      return val;\n    }\n\n    var forceFirstProgress;\n\n    if (this._dirty || planResult === 'reset') {\n      this._dirty = false;\n      forceFirstProgress = reset(this, skip);\n    }\n\n    this._modBy = modBy;\n    this._modDataCount = modDataCount;\n    var step = performArgs && performArgs.step;\n\n    if (upTask) {\n      this._dueEnd = upTask._outputDueEnd;\n    } // DataTask or overallTask\n    else {\n        this._dueEnd = this._count ? this._count(this.context) : Infinity;\n      } // Note: Stubs, that its host overall task let it has progress, has progress.\n    // If no progress, pass index from upstream to downstream each time plan called.\n\n\n    if (this._progress) {\n      var start = this._dueIndex;\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n\n      if (!skip && (forceFirstProgress || start < end)) {\n        var progress = this._progress;\n\n        if (isArray$7(progress)) {\n          for (var i = 0; i < progress.length; i++) {\n            doProgress(this, progress[i], start, end, modBy, modDataCount);\n          }\n        } else {\n          doProgress(this, progress, start, end, modBy, modDataCount);\n        }\n      }\n\n      this._dueIndex = end; // If no `outputDueEnd`, assume that output data and\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\n\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n      this._outputDueEnd = outputDueEnd;\n    } else {\n      // (1) Some overall task has no progress.\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n      // This should always be performed so it can be passed to downstream.\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n    }\n\n    return this.unfinished();\n  };\n\n  var iterator = function () {\n    var end;\n    var current;\n    var modBy;\n    var modDataCount;\n    var winCount;\n    var it = {\n      reset: function (s, e, sStep, sCount) {\n        current = s;\n        end = e;\n        modBy = sStep;\n        modDataCount = sCount;\n        winCount = Math.ceil(modDataCount / modBy);\n        it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n      }\n    };\n    return it;\n\n    function sequentialNext() {\n      return current < end ? current++ : null;\n    }\n\n    function modNext() {\n      var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n      var result = current >= end ? null : dataIndex < modDataCount ? dataIndex // If modDataCount is smaller than data.count() (consider `appendData` case),\n      // Use normal linear rendering mode.\n      : current;\n      current++;\n      return result;\n    }\n  }();\n\n  taskProto.dirty = function () {\n    this._dirty = true;\n    this._onDirty && this._onDirty(this.context);\n  };\n\n  function doProgress(taskIns, progress, start, end, modBy, modDataCount) {\n    iterator.reset(start, end, modBy, modDataCount);\n    taskIns._callingProgress = progress;\n\n    taskIns._callingProgress({\n      start: start,\n      end: end,\n      count: end - start,\n      next: iterator.next\n    }, taskIns.context);\n  }\n\n  function reset(taskIns, skip) {\n    taskIns._dueIndex = taskIns._outputDueEnd = taskIns._dueEnd = 0;\n    taskIns._settedOutputEnd = null;\n    var progress;\n    var forceFirstProgress;\n\n    if (!skip && taskIns._reset) {\n      progress = taskIns._reset(taskIns.context);\n\n      if (progress && progress.progress) {\n        forceFirstProgress = progress.forceFirstProgress;\n        progress = progress.progress;\n      } // To simplify no progress checking, array must has item.\n\n\n      if (isArray$7(progress) && !progress.length) {\n        progress = null;\n      }\n    }\n\n    taskIns._progress = progress;\n    taskIns._modBy = taskIns._modDataCount = null;\n    var downstream = taskIns._downstream;\n    downstream && downstream.dirty();\n    return forceFirstProgress;\n  }\n  /**\n   * @return {boolean}\n   */\n\n\n  taskProto.unfinished = function () {\n    return this._progress && this._dueIndex < this._dueEnd;\n  };\n  /**\n   * @param {Object} downTask The downstream task.\n   * @return {Object} The downstream task.\n   */\n\n\n  taskProto.pipe = function (downTask) {\n    // If already downstream, do not dirty downTask.\n    if (this._downstream !== downTask || this._dirty) {\n      this._downstream = downTask;\n      downTask._upstream = this;\n      downTask.dirty();\n    }\n  };\n\n  taskProto.dispose = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    this._upstream && (this._upstream._downstream = null);\n    this._downstream && (this._downstream._upstream = null);\n    this._dirty = false;\n    this._disposed = true;\n  };\n\n  taskProto.getUpstream = function () {\n    return this._upstream;\n  };\n\n  taskProto.getDownstream = function () {\n    return this._downstream;\n  };\n\n  taskProto.setOutputEnd = function (end) {\n    // This only happend in dataTask, dataZoom, map, currently.\n    // where dataZoom do not set end each time, but only set\n    // when reset. So we should record the setted end, in case\n    // that the stub of dataZoom perform again and earse the\n    // setted end by upstream.\n    this._outputDueEnd = this._settedOutputEnd = end;\n  }; ///////////////////////////////////////////////////////////\n  // For stream debug (Should be commented out after used!)\n  // Usage: printTask(this, 'begin');\n  // Usage: printTask(this, null, {someExtraProp});\n  // function printTask(task, prefix, extra) {\n  //     window.ecTaskUID == null && (window.ecTaskUID = 0);\n  //     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n  //     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n  //     var props = [];\n  //     if (task.__pipeline) {\n  //         var val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n  //         props.push({text: 'idx', value: val});\n  //     } else {\n  //         var stubCount = 0;\n  //         task.agentStubMap.each(() => stubCount++);\n  //         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n  //     }\n  //     props.push({text: 'uid', value: task.uidDebug});\n  //     if (task.__pipeline) {\n  //         props.push({text: 'pid', value: task.__pipeline.id});\n  //         task.agent && props.push(\n  //             {text: 'stubFor', value: task.agent.uidDebug}\n  //         );\n  //     }\n  //     props.push(\n  //         {text: 'dirty', value: task._dirty},\n  //         {text: 'dueIndex', value: task._dueIndex},\n  //         {text: 'dueEnd', value: task._dueEnd},\n  //         {text: 'outputDueEnd', value: task._outputDueEnd}\n  //     );\n  //     if (extra) {\n  //         Object.keys(extra).forEach(key => {\n  //             props.push({text: key, value: extra[key]});\n  //         });\n  //     }\n  //     var args = ['color: blue'];\n  //     var msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n  //         args.push('color: black', 'color: red'),\n  //         `${item.text}: %c${item.value}`\n  //     )).join('%c, ');\n  //     console.log.apply(console, [msg].concat(args));\n  //     // console.log(this);\n  // }\n\n\n  var createTask_1 = createTask;\n\n  var task$2 = {\n  \tcreateTask: createTask_1\n  };\n\n  var formatTime$1 = format$1.formatTime;\n  var encodeHTML$1 = format$1.encodeHTML;\n  var addCommas$1 = format$1.addCommas;\n  var getTooltipMarker$2 = format$1.getTooltipMarker;\n\n\n\n\n\n\n\n\n\n\n\n  var getLayoutParams$1 = layout.getLayoutParams;\n  var mergeLayoutParam$1 = layout.mergeLayoutParam;\n\n\n\n  var createTask$1 = task$2.createTask;\n\n\n\n  var prepareSource$1 = sourceHelper.prepareSource;\n  var getSource$1 = sourceHelper.getSource;\n\n\n\n  var retrieveRawValue$2 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$4 = model.makeInner();\n  var SeriesModel = Component.extend({\n    type: 'series.__base__',\n\n    /**\n     * @readOnly\n     */\n    seriesIndex: 0,\n    // coodinateSystem will be injected in the echarts/CoordinateSystem\n    coordinateSystem: null,\n\n    /**\n     * @type {Object}\n     * @protected\n     */\n    defaultOption: null,\n\n    /**\n     * legend visual provider to the legend component\n     * @type {Object}\n     */\n    // PENDING\n    legendVisualProvider: null,\n\n    /**\n     * Access path of color for visual\n     */\n    visualColorAccessPath: 'itemStyle.color',\n\n    /**\n     * Access path of borderColor for visual\n     */\n    visualBorderColorAccessPath: 'itemStyle.borderColor',\n\n    /**\n     * Support merge layout params.\n     * Only support 'box' now (left/right/top/bottom/width/height).\n     * @type {string|Object} Object can be {ignoreSize: true}\n     * @readOnly\n     */\n    layoutMode: null,\n    init: function (option, parentModel, ecModel, extraOpt) {\n      /**\n       * @type {number}\n       * @readOnly\n       */\n      this.seriesIndex = this.componentIndex;\n      this.dataTask = createTask$1({\n        count: dataTaskCount,\n        reset: dataTaskReset\n      });\n      this.dataTask.context = {\n        model: this\n      };\n      this.mergeDefaultAndTheme(option, ecModel);\n      prepareSource$1(this);\n      var data = this.getInitialData(option, ecModel);\n      wrapData(data, this);\n      this.dataTask.context.data = data;\n\n      /**\n       * @type {module:echarts/data/List|module:echarts/data/Tree|module:echarts/data/Graph}\n       * @private\n       */\n      inner$4(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n      // dataBeforeProcessed by cloneShallow), cloneShallow will\n      // cause data.graph.data !== data when using\n      // module:echarts/data/Graph or module:echarts/data/Tree.\n      // See module:echarts/data/helper/linkList\n      // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n      // init or merge stage, because the data can be restored. So we do not `restoreData`\n      // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n      // Call `seriesModel.getRawData()` instead.\n      // this.restoreData();\n\n      autoSeriesName(this);\n    },\n\n    /**\n     * Util for merge default and theme to option\n     * @param  {Object} option\n     * @param  {module:echarts/model/Global} ecModel\n     */\n    mergeDefaultAndTheme: function (option, ecModel) {\n      var layoutMode = this.layoutMode;\n      var inputPositionParams = layoutMode ? getLayoutParams$1(option) : {}; // Backward compat: using subType on theme.\n      // But if name duplicate between series subType\n      // (for example: parallel) add component mainType,\n      // add suffix 'Series'.\n\n      var themeSubType = this.subType;\n\n      if (Component.hasClass(themeSubType)) {\n        themeSubType += 'Series';\n      }\n\n      util.merge(option, ecModel.getTheme().get(this.subType));\n      util.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n      model.defaultEmphasis(option, 'label', ['show']);\n      this.fillDataTextStyle(option.data);\n\n      if (layoutMode) {\n        mergeLayoutParam$1(option, inputPositionParams, layoutMode);\n      }\n    },\n    mergeOption: function (newSeriesOption, ecModel) {\n      // this.settingTask.dirty();\n      newSeriesOption = util.merge(this.option, newSeriesOption, true);\n      this.fillDataTextStyle(newSeriesOption.data);\n      var layoutMode = this.layoutMode;\n\n      if (layoutMode) {\n        mergeLayoutParam$1(this.option, newSeriesOption, layoutMode);\n      }\n\n      prepareSource$1(this);\n      var data = this.getInitialData(newSeriesOption, ecModel);\n      wrapData(data, this);\n      this.dataTask.dirty();\n      this.dataTask.context.data = data;\n      inner$4(this).dataBeforeProcessed = data;\n      autoSeriesName(this);\n    },\n    fillDataTextStyle: function (data) {\n      // Default data label emphasis `show`\n      // FIXME Tree structure data ?\n      // FIXME Performance ?\n      if (data && !util.isTypedArray(data)) {\n        var props = ['show'];\n\n        for (var i = 0; i < data.length; i++) {\n          if (data[i] && data[i].label) {\n            model.defaultEmphasis(data[i], 'label', props);\n          }\n        }\n      }\n    },\n\n    /**\n     * Init a data structure from data related option in series\n     * Must be overwritten\n     */\n    getInitialData: function () {},\n\n    /**\n     * Append data to list\n     * @param {Object} params\n     * @param {Array|TypedArray} params.data\n     */\n    appendData: function (params) {\n      // FIXME ???\n      // (1) If data from dataset, forbidden append.\n      // (2) support append data of dataset.\n      var data = this.getRawData();\n      data.appendData(params.data);\n    },\n\n    /**\n     * Consider some method like `filter`, `map` need make new data,\n     * We should make sure that `seriesModel.getData()` get correct\n     * data in the stream procedure. So we fetch data from upstream\n     * each time `task.perform` called.\n     * @param {string} [dataType]\n     * @return {module:echarts/data/List}\n     */\n    getData: function (dataType) {\n      var task = getCurrentTask(this);\n\n      if (task) {\n        var data = task.context.data;\n        return dataType == null ? data : data.getLinkedData(dataType);\n      } else {\n        // When series is not alive (that may happen when click toolbox\n        // restore or setOption with not merge mode), series data may\n        // be still need to judge animation or something when graphic\n        // elements want to know whether fade out.\n        return inner$4(this).data;\n      }\n    },\n\n    /**\n     * @param {module:echarts/data/List} data\n     */\n    setData: function (data) {\n      var task = getCurrentTask(this);\n\n      if (task) {\n        var context = task.context; // Consider case: filter, data sample.\n\n        if (context.data !== data && task.modifyOutputEnd) {\n          task.setOutputEnd(data.count());\n        }\n\n        context.outputData = data; // Caution: setData should update context.data,\n        // Because getData may be called multiply in a\n        // single stage and expect to get the data just\n        // set. (For example, AxisProxy, x y both call\n        // getData and setDate sequentially).\n        // So the context.data should be fetched from\n        // upstream each time when a stage starts to be\n        // performed.\n\n        if (task !== this.dataTask) {\n          context.data = data;\n        }\n      }\n\n      inner$4(this).data = data;\n    },\n\n    /**\n     * @see {module:echarts/data/helper/sourceHelper#getSource}\n     * @return {module:echarts/data/Source} source\n     */\n    getSource: function () {\n      return getSource$1(this);\n    },\n\n    /**\n     * Get data before processed\n     * @return {module:echarts/data/List}\n     */\n    getRawData: function () {\n      return inner$4(this).dataBeforeProcessed;\n    },\n\n    /**\n     * Get base axis if has coordinate system and has axis.\n     * By default use coordSys.getBaseAxis();\n     * Can be overrided for some chart.\n     * @return {type} description\n     */\n    getBaseAxis: function () {\n      var coordSys = this.coordinateSystem;\n      return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n    },\n    // FIXME\n\n    /**\n     * Default tooltip formatter\n     *\n     * @param {number} dataIndex\n     * @param {boolean} [multipleSeries=false]\n     * @param {number} [dataType]\n     * @param {string} [renderMode='html'] valid values: 'html' and 'richText'.\n     *                                     'html' is used for rendering tooltip in extra DOM form, and the result\n     *                                     string is used as DOM HTML content.\n     *                                     'richText' is used for rendering tooltip in rich text form, for those where\n     *                                     DOM operation is not supported.\n     * @return {Object} formatted tooltip with `html` and `markers`\n     */\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var series = this;\n      renderMode = renderMode || 'html';\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n      var isRichText = renderMode === 'richText';\n      var markers = {};\n      var markerId = 0;\n\n      function formatArrayValue(value) {\n        // ??? TODO refactor these logic.\n        // check: category-no-encode-has-axis-data in dataset.html\n        var vertially = util.reduce(value, function (vertially, val, idx) {\n          var dimItem = data.getDimensionInfo(idx);\n          return vertially |= dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\n        }, 0);\n        var result = [];\n        tooltipDims.length ? util.each(tooltipDims, function (dim) {\n          setEachItem(retrieveRawValue$2(data, dataIndex, dim), dim);\n        }) // By default, all dims is used on tooltip.\n        : util.each(value, setEachItem);\n\n        function setEachItem(val, dim) {\n          var dimInfo = data.getDimensionInfo(dim); // If `dimInfo.tooltip` is not set, show tooltip.\n\n          if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n            return;\n          }\n\n          var dimType = dimInfo.type;\n          var markName = 'sub' + series.seriesIndex + 'at' + markerId;\n          var dimHead = getTooltipMarker$2({\n            color: color,\n            type: 'subItem',\n            renderMode: renderMode,\n            markerId: markName\n          });\n          var dimHeadStr = typeof dimHead === 'string' ? dimHead : dimHead.content;\n          var valStr = (vertially ? dimHeadStr + encodeHTML$1(dimInfo.displayName || '-') + ': ' : '') + // FIXME should not format time for raw data?\n          encodeHTML$1(dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : formatTime$1('yyyy/MM/dd hh:mm:ss', val) : addCommas$1(val));\n          valStr && result.push(valStr);\n\n          if (isRichText) {\n            markers[markName] = color;\n            ++markerId;\n          }\n        }\n\n        var newLine = vertially ? isRichText ? '\\n' : '<br/>' : '';\n        var content = newLine + result.join(newLine || ', ');\n        return {\n          renderMode: renderMode,\n          content: content,\n          style: markers\n        };\n      }\n\n      function formatSingleValue(val) {\n        // return encodeHTML(addCommas(val));\n        return {\n          renderMode: renderMode,\n          content: encodeHTML$1(addCommas$1(val)),\n          style: markers\n        };\n      }\n\n      var data = this.getData();\n      var tooltipDims = data.mapDimension('defaultedTooltip', true);\n      var tooltipDimLen = tooltipDims.length;\n      var value = this.getRawValue(dataIndex);\n      var isValueArr = util.isArray(value);\n      var color = data.getItemVisual(dataIndex, 'color');\n\n      if (util.isObject(color) && color.colorStops) {\n        color = (color.colorStops[0] || {}).color;\n      }\n\n      color = color || 'transparent'; // Complicated rule for pretty tooltip.\n\n      var formattedValue = tooltipDimLen > 1 || isValueArr && !tooltipDimLen ? formatArrayValue(value) : tooltipDimLen ? formatSingleValue(retrieveRawValue$2(data, dataIndex, tooltipDims[0])) : formatSingleValue(isValueArr ? value[0] : value);\n      var content = formattedValue.content;\n      var markName = series.seriesIndex + 'at' + markerId;\n      var colorEl = getTooltipMarker$2({\n        color: color,\n        type: 'item',\n        renderMode: renderMode,\n        markerId: markName\n      });\n      markers[markName] = color;\n      ++markerId;\n      var name = data.getName(dataIndex);\n      var seriesName = this.name;\n\n      if (!model.isNameSpecified(this)) {\n        seriesName = '';\n      }\n\n      seriesName = seriesName ? encodeHTML$1(seriesName) + (!multipleSeries ? newLine : ': ') : '';\n      var colorStr = typeof colorEl === 'string' ? colorEl : colorEl.content;\n      var html = !multipleSeries ? seriesName + colorStr + (name ? encodeHTML$1(name) + ': ' + content : content) : colorStr + seriesName + content;\n      return {\n        html: html,\n        markers: markers\n      };\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n      if (env_1.node) {\n        return false;\n      }\n\n      var animationEnabled = this.getShallow('animation');\n\n      if (animationEnabled) {\n        if (this.getData().count() > this.getShallow('animationThreshold')) {\n          animationEnabled = false;\n        }\n      }\n\n      return animationEnabled;\n    },\n    restoreData: function () {\n      this.dataTask.dirty();\n    },\n    getColorFromPalette: function (name, scope, requestColorNum) {\n      var ecModel = this.ecModel; // PENDING\n\n      var color = colorPalette.getColorFromPalette.call(this, name, scope, requestColorNum);\n\n      if (!color) {\n        color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n      }\n\n      return color;\n    },\n\n    /**\n     * Use `data.mapDimension(coordDim, true)` instead.\n     * @deprecated\n     */\n    coordDimToDataDim: function (coordDim) {\n      return this.getRawData().mapDimension(coordDim, true);\n    },\n\n    /**\n     * Get progressive rendering count each step\n     * @return {number}\n     */\n    getProgressive: function () {\n      return this.get('progressive');\n    },\n\n    /**\n     * Get progressive rendering count each step\n     * @return {number}\n     */\n    getProgressiveThreshold: function () {\n      return this.get('progressiveThreshold');\n    },\n\n    /**\n     * Get data indices for show tooltip content. See tooltip.\n     * @abstract\n     * @param {Array.<string>|string} dim\n     * @param {Array.<number>} value\n     * @param {module:echarts/coord/single/SingleAxis} baseAxis\n     * @return {Object} {dataIndices, nestestValue}.\n     */\n    getAxisTooltipData: null,\n\n    /**\n     * See tooltip.\n     * @abstract\n     * @param {number} dataIndex\n     * @return {Array.<number>} Point of tooltip. null/undefined can be returned.\n     */\n    getTooltipPosition: null,\n\n    /**\n     * @see {module:echarts/stream/Scheduler}\n     */\n    pipeTask: null,\n\n    /**\n     * Convinient for override in extended class.\n     * @protected\n     * @type {Function}\n     */\n    preventIncremental: null,\n\n    /**\n     * @public\n     * @readOnly\n     * @type {Object}\n     */\n    pipelineContext: null\n  });\n  util.mixin(SeriesModel, dataFormat);\n  util.mixin(SeriesModel, colorPalette);\n  /**\n   * MUST be called after `prepareSource` called\n   * Here we need to make auto series, especially for auto legend. But we\n   * do not modify series.name in option to avoid side effects.\n   */\n\n  function autoSeriesName(seriesModel) {\n    // User specified name has higher priority, otherwise it may cause\n    // series can not be queried unexpectedly.\n    var name = seriesModel.name;\n\n    if (!model.isNameSpecified(seriesModel)) {\n      seriesModel.name = getSeriesAutoName(seriesModel) || name;\n    }\n  }\n\n  function getSeriesAutoName(seriesModel) {\n    var data = seriesModel.getRawData();\n    var dataDims = data.mapDimension('seriesName', true);\n    var nameArr = [];\n    util.each(dataDims, function (dataDim) {\n      var dimInfo = data.getDimensionInfo(dataDim);\n      dimInfo.displayName && nameArr.push(dimInfo.displayName);\n    });\n    return nameArr.join(' ');\n  }\n\n  function dataTaskCount(context) {\n    return context.model.getRawData().count();\n  }\n\n  function dataTaskReset(context) {\n    var seriesModel = context.model;\n    seriesModel.setData(seriesModel.getRawData().cloneShallow());\n    return dataTaskProgress;\n  }\n\n  function dataTaskProgress(param, context) {\n    // Avoid repead cloneShallow when data just created in reset.\n    if (context.outputData && param.end > context.outputData.count()) {\n      context.model.getRawData().cloneShallow(context.outputData);\n    }\n  } // TODO refactor\n\n\n  function wrapData(data, seriesModel) {\n    util.each(data.CHANGABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, util.curry(onDataSelfChange, seriesModel));\n    });\n  }\n\n  function onDataSelfChange(seriesModel) {\n    var task = getCurrentTask(seriesModel);\n\n    if (task) {\n      // Consider case: filter, selectRange\n      task.setOutputEnd(this.count());\n    }\n  }\n\n  function getCurrentTask(seriesModel) {\n    var scheduler = (seriesModel.ecModel || {}).scheduler;\n    var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n\n    if (pipeline) {\n      // When pipline finished, the currrentTask keep the last\n      // task (renderTask).\n      var task = pipeline.currentTask;\n\n      if (task) {\n        var agentStubMap = task.agentStubMap;\n\n        if (agentStubMap) {\n          task = agentStubMap.get(seriesModel.uid);\n        }\n      }\n\n      return task;\n    }\n  }\n\n  var _default$14 = SeriesModel;\n  var Series = _default$14;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var Component$1 = function () {\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group_1();\n    /**\n     * @type {string}\n     * @readOnly\n     */\n\n    this.uid = component.getUID('viewComponent');\n  };\n\n  Component$1.prototype = {\n    constructor: Component$1,\n    init: function (ecModel, api) {},\n    render: function (componentModel, ecModel, api, payload) {},\n    dispose: function () {},\n\n    /**\n     * @param {string} eventType\n     * @param {Object} query\n     * @param {module:zrender/Element} targetEl\n     * @param {Object} packedEvent\n     * @return {boolen} Pass only when return `true`.\n     */\n    filterForExposedEvent: null\n  };\n  var componentProto = Component$1.prototype;\n\n  componentProto.updateView = componentProto.updateLayout = componentProto.updateVisual = function (seriesModel, ecModel, api, payload) {// Do nothing;\n  }; // Enable Component.extend.\n\n\n  clazz.enableClassExtend(Component$1); // Enable capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  clazz.enableClassManagement(Component$1, {\n    registerWhenExtend: true\n  });\n  var _default$15 = Component$1;\n  var Component_1 = _default$15;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var makeInner$5 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @return {string} If large mode changed, return string 'reset';\n   */\n  function _default$16() {\n    var inner = makeInner$5();\n    return function (seriesModel) {\n      var fields = inner(seriesModel);\n      var pipelineContext = seriesModel.pipelineContext;\n      var originalLarge = fields.large;\n      var originalProgressive = fields.progressiveRender; // FIXME: if the planner works on a filtered series, `pipelineContext` does not\n      // exists. See #11611 . Probably we need to modify this structure, see the comment\n      // on `performRawSeries` in `Schedular.js`.\n\n      var large = fields.large = pipelineContext && pipelineContext.large;\n      var progressive = fields.progressiveRender = pipelineContext && pipelineContext.progressiveRender;\n      return !!(originalLarge ^ large || originalProgressive ^ progressive) && 'reset';\n    };\n  }\n\n  var createRenderPlanner = _default$16;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$b = util.each;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var createTask$2 = task$2.createTask;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$5 = model.makeInner();\n  var renderPlanner = createRenderPlanner();\n\n  function Chart() {\n    /**\n     * @type {module:zrender/container/Group}\n     * @readOnly\n     */\n    this.group = new Group_1();\n    /**\n     * @type {string}\n     * @readOnly\n     */\n\n    this.uid = component.getUID('viewChart');\n    this.renderTask = createTask$2({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n\n  Chart.prototype = {\n    type: 'chart',\n\n    /**\n     * Init the chart.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    init: function (ecModel, api) {},\n\n    /**\n     * Render the chart.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    render: function (seriesModel, ecModel, api, payload) {},\n\n    /**\n     * Highlight series or specified data item.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    highlight: function (seriesModel, ecModel, api, payload) {\n      toggleHighlight(seriesModel.getData(), payload, 'emphasis');\n    },\n\n    /**\n     * Downplay series or specified data item.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    downplay: function (seriesModel, ecModel, api, payload) {\n      toggleHighlight(seriesModel.getData(), payload, 'normal');\n    },\n\n    /**\n     * Remove self.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    remove: function (ecModel, api) {\n      this.group.removeAll();\n    },\n\n    /**\n     * Dispose self.\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     */\n    dispose: function () {},\n\n    /**\n     * Rendering preparation in progressive mode.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    incrementalPrepareRender: null,\n\n    /**\n     * Render in progressive mode.\n     * @param  {Object} params See taskParams in `stream/task.js`\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     */\n    incrementalRender: null,\n\n    /**\n     * Update transform directly.\n     * @param  {module:echarts/model/Series} seriesModel\n     * @param  {module:echarts/model/Global} ecModel\n     * @param  {module:echarts/ExtensionAPI} api\n     * @param  {Object} payload\n     * @return {Object} {update: true}\n     */\n    updateTransform: null,\n\n    /**\n     * The view contains the given point.\n     * @interface\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    // containPoint: function () {}\n\n    /**\n     * @param {string} eventType\n     * @param {Object} query\n     * @param {module:zrender/Element} targetEl\n     * @param {Object} packedEvent\n     * @return {boolen} Pass only when return `true`.\n     */\n    filterForExposedEvent: null\n  };\n  var chartProto = Chart.prototype;\n\n  chartProto.updateView = chartProto.updateLayout = chartProto.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  /**\n   * Set state of single element\n   * @param {module:zrender/Element} el\n   * @param {string} state 'normal'|'emphasis'\n   * @param {number} highlightDigit\n   */\n\n\n  function elSetState(el, state, highlightDigit) {\n    if (el) {\n      el.trigger(state, highlightDigit);\n\n      if (el.isGroup // Simple optimize.\n      && !graphic.isHighDownDispatcher(el)) {\n        for (var i = 0, len = el.childCount(); i < len; i++) {\n          elSetState(el.childAt(i), state, highlightDigit);\n        }\n      }\n    }\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {Object} payload\n   * @param {string} state 'normal'|'emphasis'\n   */\n\n\n  function toggleHighlight(data, payload, state) {\n    var dataIndex = model.queryDataIndex(data, payload);\n    var highlightDigit = payload && payload.highlightKey != null ? graphic.getHighlightDigit(payload.highlightKey) : null;\n\n    if (dataIndex != null) {\n      each$b(model.normalizeToArray(dataIndex), function (dataIdx) {\n        elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n      });\n    } else {\n      data.eachItemGraphicEl(function (el) {\n        elSetState(el, state, highlightDigit);\n      });\n    }\n  } // Enable Chart.extend.\n\n\n  clazz.enableClassExtend(Chart, ['dispose']); // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\n  clazz.enableClassManagement(Chart, {\n    registerWhenExtend: true\n  });\n\n  Chart.markUpdateMethod = function (payload, methodName) {\n    inner$5(payload).updateMethod = methodName;\n  };\n\n  function renderTaskPlan(context) {\n    return renderPlanner(context.model);\n  }\n\n  function renderTaskReset(context) {\n    var seriesModel = context.model;\n    var ecModel = context.ecModel;\n    var api = context.api;\n    var payload = context.payload; // ???! remove updateView updateVisual\n\n    var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n    var view = context.view;\n    var updateMethod = payload && inner$5(payload).updateMethod;\n    var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod // `appendData` is also supported when data amount\n    // is less than progressive threshold.\n    : 'render';\n\n    if (methodName !== 'render') {\n      view[methodName](seriesModel, ecModel, api, payload);\n    }\n\n    return progressMethodMap[methodName];\n  }\n\n  var progressMethodMap = {\n    incrementalPrepareRender: {\n      progress: function (params, context) {\n        context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n      }\n    },\n    render: {\n      // Put view.render in `progress` to support appendData. But in this case\n      // view.render should not be called in reset, otherwise it will be called\n      // twise. Use `forceFirstProgress` to make sure that view.render is called\n      // in any cases.\n      forceFirstProgress: true,\n      progress: function (params, context) {\n        context.view.render(context.model, context.ecModel, context.api, context.payload);\n      }\n    }\n  };\n  var _default$17 = Chart;\n  var Chart_1 = _default$17;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var ORIGIN_METHOD = '\\0__throttleOriginMethod';\n  var RATE = '\\0__throttleRate';\n  var THROTTLE_TYPE = '\\0__throttleType';\n  /**\n   * @public\n   * @param {(Function)} fn\n   * @param {number} [delay=0] Unit: ms.\n   * @param {boolean} [debounce=false]\n   *        true: If call interval less than `delay`, only the last call works.\n   *        false: If call interval less than `delay, call works on fixed rate.\n   * @return {(Function)} throttled fn.\n   */\n\n  function throttle$1(fn, delay, debounce) {\n    var currCall;\n    var lastCall = 0;\n    var lastExec = 0;\n    var timer = null;\n    var diff;\n    var scope;\n    var args;\n    var debounceNextCall;\n    delay = delay || 0;\n\n    function exec() {\n      lastExec = new Date().getTime();\n      timer = null;\n      fn.apply(scope, args || []);\n    }\n\n    var cb = function () {\n      currCall = new Date().getTime();\n      scope = this;\n      args = arguments;\n      var thisDelay = debounceNextCall || delay;\n      var thisDebounce = debounceNextCall || debounce;\n      debounceNextCall = null;\n      diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n      clearTimeout(timer); // Here we should make sure that: the `exec` SHOULD NOT be called later\n      // than a new call of `cb`, that is, preserving the command order. Consider\n      // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n      // happens, either the `exec` is called dierectly, or the call is delayed.\n      // But the delayed call should never be later than next call of `cb`. Under\n      // this assurance, we can simply update view state each time `dispatchAction`\n      // triggered by user roaming, but not need to add extra code to avoid the\n      // state being \"rolled-back\".\n\n      if (thisDebounce) {\n        timer = setTimeout(exec, thisDelay);\n      } else {\n        if (diff >= 0) {\n          exec();\n        } else {\n          timer = setTimeout(exec, -diff);\n        }\n      }\n\n      lastCall = currCall;\n    };\n    /**\n     * Clear throttle.\n     * @public\n     */\n\n\n    cb.clear = function () {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      }\n    };\n    /**\n     * Enable debounce once.\n     */\n\n\n    cb.debounceNextCall = function (debounceDelay) {\n      debounceNextCall = debounceDelay;\n    };\n\n    return cb;\n  }\n  /**\n   * Create throttle method or update throttle rate.\n   *\n   * @example\n   * ComponentView.prototype.render = function () {\n   *     ...\n   *     throttle.createOrUpdate(\n   *         this,\n   *         '_dispatchAction',\n   *         this.model.get('throttle'),\n   *         'fixRate'\n   *     );\n   * };\n   * ComponentView.prototype.remove = function () {\n   *     throttle.clear(this, '_dispatchAction');\n   * };\n   * ComponentView.prototype.dispose = function () {\n   *     throttle.clear(this, '_dispatchAction');\n   * };\n   *\n   * @public\n   * @param {Object} obj\n   * @param {string} fnAttr\n   * @param {number} [rate]\n   * @param {string} [throttleType='fixRate'] 'fixRate' or 'debounce'\n   * @return {Function} throttled function.\n   */\n\n\n  function createOrUpdate(obj, fnAttr, rate, throttleType) {\n    var fn = obj[fnAttr];\n\n    if (!fn) {\n      return;\n    }\n\n    var originFn = fn[ORIGIN_METHOD] || fn;\n    var lastThrottleType = fn[THROTTLE_TYPE];\n    var lastRate = fn[RATE];\n\n    if (lastRate !== rate || lastThrottleType !== throttleType) {\n      if (rate == null || !throttleType) {\n        return obj[fnAttr] = originFn;\n      }\n\n      fn = obj[fnAttr] = throttle$1(originFn, rate, throttleType === 'debounce');\n      fn[ORIGIN_METHOD] = originFn;\n      fn[THROTTLE_TYPE] = throttleType;\n      fn[RATE] = rate;\n    }\n\n    return fn;\n  }\n  /**\n   * Clear throttle. Example see throttle.createOrUpdate.\n   *\n   * @public\n   * @param {Object} obj\n   * @param {string} fnAttr\n   */\n\n\n  function clear$1(obj, fnAttr) {\n    var fn = obj[fnAttr];\n\n    if (fn && fn[ORIGIN_METHOD]) {\n      obj[fnAttr] = fn[ORIGIN_METHOD];\n    }\n  }\n\n  var throttle_2 = throttle$1;\n  var createOrUpdate_1 = createOrUpdate;\n  var clear_1 = clear$1;\n\n  var throttle_1 = {\n  \tthrottle: throttle_2,\n  \tcreateOrUpdate: createOrUpdate_1,\n  \tclear: clear_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var isFunction$3 = util.isFunction;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$18 = {\n    createOnAllSeries: true,\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      var colorAccessPath = (seriesModel.visualColorAccessPath || 'itemStyle.color').split('.'); // Set in itemStyle\n\n      var color = seriesModel.get(colorAccessPath);\n      var colorCallback = isFunction$3(color) && !(color instanceof Gradient_1) ? color : null; // Default color\n\n      if (!color || colorCallback) {\n        color = seriesModel.getColorFromPalette( // TODO series count changed.\n        seriesModel.name, null, ecModel.getSeriesCount());\n      }\n\n      data.setVisual('color', color);\n      var borderColorAccessPath = (seriesModel.visualBorderColorAccessPath || 'itemStyle.borderColor').split('.');\n      var borderColor = seriesModel.get(borderColorAccessPath);\n      data.setVisual('borderColor', borderColor); // Only visible series has each data be visual encoded\n\n      if (!ecModel.isSeriesFiltered(seriesModel)) {\n        if (colorCallback) {\n          data.each(function (idx) {\n            data.setItemVisual(idx, 'color', colorCallback(seriesModel.getDataParams(idx)));\n          });\n        } // itemStyle in each data item\n\n\n        var dataEach = function (data, idx) {\n          var itemModel = data.getItemModel(idx);\n          var color = itemModel.get(colorAccessPath, true);\n          var borderColor = itemModel.get(borderColorAccessPath, true);\n\n          if (color != null) {\n            data.setItemVisual(idx, 'color', color);\n          }\n\n          if (borderColor != null) {\n            data.setItemVisual(idx, 'borderColor', borderColor);\n          }\n        };\n\n        return {\n          dataEach: data.hasItemOption ? dataEach : null\n        };\n      }\n    }\n  };\n  var seriesColor = _default$18;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Language: (Simplified) Chinese.\n   */\n  var _default$19 = {\n    legend: {\n      selector: {\n        all: '',\n        inverse: ''\n      }\n    },\n    toolbox: {\n      brush: {\n        title: {\n          rect: '',\n          polygon: '',\n          lineX: '',\n          lineY: '',\n          keep: '',\n          clear: ''\n        }\n      },\n      dataView: {\n        title: '',\n        lang: ['', '', '']\n      },\n      dataZoom: {\n        title: {\n          zoom: '',\n          back: ''\n        }\n      },\n      magicType: {\n        title: {\n          line: '',\n          bar: '',\n          stack: '',\n          tiled: ''\n        }\n      },\n      restore: {\n        title: ''\n      },\n      saveAsImage: {\n        title: '',\n        lang: ['']\n      }\n    },\n    series: {\n      typeNames: {\n        pie: '',\n        bar: '',\n        line: '',\n        scatter: '',\n        effectScatter: '',\n        radar: '',\n        tree: '',\n        treemap: '',\n        boxplot: '',\n        candlestick: 'K',\n        k: 'K',\n        heatmap: '',\n        map: '',\n        parallel: '',\n        lines: '',\n        graph: '',\n        sankey: '',\n        funnel: '',\n        gauge: '',\n        pictorialBar: '',\n        themeRiver: '',\n        sunburst: ''\n      }\n    },\n    aria: {\n      general: {\n        withTitle: '{title}',\n        withoutTitle: ''\n      },\n      series: {\n        single: {\n          prefix: '',\n          withName: '{seriesType}{seriesName}',\n          withoutName: '{seriesType}'\n        },\n        multiple: {\n          prefix: '{seriesCount}',\n          withName: '{seriesId}{seriesName}{seriesType}',\n          withoutName: '{seriesId}{seriesType}',\n          separator: {\n            middle: '',\n            end: ''\n          }\n        }\n      },\n      data: {\n        allData: '',\n        partialData: '{displayCnt}',\n        withName: '{name}{value}',\n        withoutName: '{value}',\n        separator: {\n          middle: '',\n          end: ''\n        }\n      }\n    }\n  };\n  var lang = _default$19;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var retrieveRawValue$3 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1a(dom, ecModel) {\n    var ariaModel = ecModel.getModel('aria');\n\n    if (!ariaModel.get('show')) {\n      return;\n    } else if (ariaModel.get('description')) {\n      dom.setAttribute('aria-label', ariaModel.get('description'));\n      return;\n    }\n\n    var seriesCnt = 0;\n    ecModel.eachSeries(function (seriesModel, idx) {\n      ++seriesCnt;\n    }, this);\n    var maxDataCnt = ariaModel.get('data.maxCount') || 10;\n    var maxSeriesCnt = ariaModel.get('series.maxCount') || 10;\n    var displaySeriesCnt = Math.min(seriesCnt, maxSeriesCnt);\n    var ariaLabel;\n\n    if (seriesCnt < 1) {\n      // No series, no aria label\n      return;\n    } else {\n      var title = getTitle();\n\n      if (title) {\n        ariaLabel = replace(getConfig('general.withTitle'), {\n          title: title\n        });\n      } else {\n        ariaLabel = getConfig('general.withoutTitle');\n      }\n\n      var seriesLabels = [];\n      var prefix = seriesCnt > 1 ? 'series.multiple.prefix' : 'series.single.prefix';\n      ariaLabel += replace(getConfig(prefix), {\n        seriesCount: seriesCnt\n      });\n      ecModel.eachSeries(function (seriesModel, idx) {\n        if (idx < displaySeriesCnt) {\n          var seriesLabel;\n          var seriesName = seriesModel.get('name');\n          var seriesTpl = 'series.' + (seriesCnt > 1 ? 'multiple' : 'single') + '.';\n          seriesLabel = getConfig(seriesName ? seriesTpl + 'withName' : seriesTpl + 'withoutName');\n          seriesLabel = replace(seriesLabel, {\n            seriesId: seriesModel.seriesIndex,\n            seriesName: seriesModel.get('name'),\n            seriesType: getSeriesTypeName(seriesModel.subType)\n          });\n          var data = seriesModel.getData();\n          window.data = data;\n\n          if (data.count() > maxDataCnt) {\n            // Show part of data\n            seriesLabel += replace(getConfig('data.partialData'), {\n              displayCnt: maxDataCnt\n            });\n          } else {\n            seriesLabel += getConfig('data.allData');\n          }\n\n          var dataLabels = [];\n\n          for (var i = 0; i < data.count(); i++) {\n            if (i < maxDataCnt) {\n              var name = data.getName(i);\n              var value = retrieveRawValue$3(data, i);\n              dataLabels.push(replace(name ? getConfig('data.withName') : getConfig('data.withoutName'), {\n                name: name,\n                value: value\n              }));\n            }\n          }\n\n          seriesLabel += dataLabels.join(getConfig('data.separator.middle')) + getConfig('data.separator.end');\n          seriesLabels.push(seriesLabel);\n        }\n      });\n      ariaLabel += seriesLabels.join(getConfig('series.multiple.separator.middle')) + getConfig('series.multiple.separator.end');\n      dom.setAttribute('aria-label', ariaLabel);\n    }\n\n    function replace(str, keyValues) {\n      if (typeof str !== 'string') {\n        return str;\n      }\n\n      var result = str;\n      util.each(keyValues, function (value, key) {\n        result = result.replace(new RegExp('\\\\{\\\\s*' + key + '\\\\s*\\\\}', 'g'), value);\n      });\n      return result;\n    }\n\n    function getConfig(path) {\n      var userConfig = ariaModel.get(path);\n\n      if (userConfig == null) {\n        var pathArr = path.split('.');\n        var result = lang.aria;\n\n        for (var i = 0; i < pathArr.length; ++i) {\n          result = result[pathArr[i]];\n        }\n\n        return result;\n      } else {\n        return userConfig;\n      }\n    }\n\n    function getTitle() {\n      var title = ecModel.getModel('title').option;\n\n      if (title && title.length) {\n        title = title[0];\n      }\n\n      return title && title.text;\n    }\n\n    function getSeriesTypeName(type) {\n      return lang.series.typeNames[type] || '';\n    }\n  }\n\n  var aria = _default$1a;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI$1 = Math.PI;\n  /**\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} [opts]\n   * @param {string} [opts.text]\n   * @param {string} [opts.color]\n   * @param {string} [opts.textColor]\n   * @return {module:zrender/Element}\n   */\n\n  function _default$1b(api, opts) {\n    opts = opts || {};\n    util.defaults(opts, {\n      text: 'loading',\n      textColor: '#000',\n      fontSize: '12px',\n      maskColor: 'rgba(255, 255, 255, 0.8)',\n      showSpinner: true,\n      color: '#c23531',\n      spinnerRadius: 10,\n      lineWidth: 5,\n      zlevel: 0\n    });\n    var group = new graphic.Group();\n    var mask = new graphic.Rect({\n      style: {\n        fill: opts.maskColor\n      },\n      zlevel: opts.zlevel,\n      z: 10000\n    });\n    group.add(mask);\n    var font = opts.fontSize + ' sans-serif';\n    var labelRect = new graphic.Rect({\n      style: {\n        fill: 'none',\n        text: opts.text,\n        font: font,\n        textPosition: 'right',\n        textDistance: 10,\n        textFill: opts.textColor\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    group.add(labelRect);\n\n    if (opts.showSpinner) {\n      var arc = new graphic.Arc({\n        shape: {\n          startAngle: -PI$1 / 2,\n          endAngle: -PI$1 / 2 + 0.1,\n          r: opts.spinnerRadius\n        },\n        style: {\n          stroke: opts.color,\n          lineCap: 'round',\n          lineWidth: opts.lineWidth\n        },\n        zlevel: opts.zlevel,\n        z: 10001\n      });\n      arc.animateShape(true).when(1000, {\n        endAngle: PI$1 * 3 / 2\n      }).start('circularInOut');\n      arc.animateShape(true).when(1000, {\n        startAngle: PI$1 * 3 / 2\n      }).delay(300).start('circularInOut');\n      group.add(arc);\n    } // Inject resize\n\n\n    group.resize = function () {\n      var textWidth = text.getWidth(opts.text, font);\n      var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n      // textDistance needs to be calculated when both animation and text exist\n\n      var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 // only show the text\n      - (opts.showSpinner ? 0 : textWidth / 2);\n      var cy = api.getHeight() / 2;\n      opts.showSpinner && arc.setShape({\n        cx: cx,\n        cy: cy\n      });\n      labelRect.setShape({\n        x: cx - r,\n        y: cy - r,\n        width: r * 2,\n        height: r * 2\n      });\n      mask.setShape({\n        x: 0,\n        y: 0,\n        width: api.getWidth(),\n        height: api.getHeight()\n      });\n    };\n\n    group.resize();\n    return group;\n  }\n\n  var _default_1 = _default$1b;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$c = util.each;\n  var map$4 = util.map;\n  var isFunction$4 = util.isFunction;\n  var createHashMap$5 = util.createHashMap;\n  var noop$2 = util.noop;\n\n\n\n  var createTask$3 = task$2.createTask;\n\n\n\n  var getUID$1 = component.getUID;\n\n\n\n\n\n\n\n  var normalizeToArray$3 = model.normalizeToArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/stream/Scheduler\n   */\n\n  /**\n   * @constructor\n   */\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    this.ecInstance = ecInstance;\n    this.api = api;\n    this.unfinished; // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n\n    var dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    var visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n    /**\n     * @private\n     * @type {\n     *     [handlerUID: string]: {\n     *         seriesTaskMap?: {\n     *             [seriesUID: string]: Task\n     *         },\n     *         overallTask?: Task\n     *     }\n     * }\n     */\n\n    this._stageTaskMap = createHashMap$5();\n  }\n\n  var proto = Scheduler.prototype;\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Object} payload\n   */\n\n  proto.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload); // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  }; // If seriesModel provided, incremental threshold is check by series data.\n\n\n  proto.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n\n  proto.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\n   * Current, progressive rendering starts from visual and layout.\n   * Always detect render mode in the same stage, avoiding that incorrect\n   * detection caused by data filtering.\n   * Caution:\n   * `updateStreamModes` use `seriesModel.getData()`.\n   */\n\n\n  proto.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n\n    var data = seriesModel.getData();\n    var dataLen = data.count(); // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold'); // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n\n  proto.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap$5();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n      pipe(scheduler, seriesModel, seriesModel.dataTask);\n    });\n  };\n\n  proto.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.ecInstance.getModel();\n    var api = this.api;\n    each$c(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, []);\n      handler.reset && createSeriesStageTask(this, handler, record, ecModel, api);\n      handler.overallReset && createOverallStageTask(this, handler, record, ecModel, api);\n    }, this);\n  };\n\n  proto.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n    pipe(this, model, renderTask);\n  };\n\n  proto.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    performStageTasks(this, this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  }; // opt\n  // opt.visualType: 'visual' or 'layout'\n  // opt.setDirty\n\n\n  proto.performVisualTasks = function (ecModel, payload, opt) {\n    performStageTasks(this, this._visualHandlers, ecModel, payload, opt);\n  };\n\n  function performStageTasks(scheduler, stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished;\n    each$c(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n\n      if (overallTask) {\n        var overallNeedDirty;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty = true;\n          }\n        });\n        overallNeedDirty && overallTask.dirty();\n        updatePayload(overallTask, payload);\n        var performArgs = scheduler.getPerformArgs(overallTask, opt.block); // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs);\n        });\n        unfinished |= overallTask.perform(performArgs);\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n\n          var performArgs = scheduler.getPerformArgs(task, opt.block); // FIXME\n          // if intending to decalare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because is a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operaions\n          // and stream-independent operations should better not be mixed.\n\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          updatePayload(task, payload);\n          unfinished |= task.perform(performArgs);\n        });\n      }\n    });\n\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n\n    scheduler.unfinished |= unfinished;\n  }\n\n  proto.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished |= seriesModel.dataTask.perform();\n    });\n    this.unfinished |= unfinished;\n  };\n\n  proto.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n\n  var updatePayload = proto.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n\n  function createSeriesStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n    var seriesTaskMap = stageHandlerRecord.seriesTaskMap || (stageHandlerRecord.seriesTaskMap = createHashMap$5());\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries; // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid; // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n\n      var task = seriesTaskMap.get(pipelineId) || seriesTaskMap.set(pipelineId, createTask$3({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n      pipe(scheduler, seriesModel, task);\n    } // Clear unused series tasks.\n\n\n    var pipelineMap = scheduler._pipelineMap;\n    seriesTaskMap.each(function (task, pipelineId) {\n      if (!pipelineMap.get(pipelineId)) {\n        task.dispose();\n        seriesTaskMap.removeKey(pipelineId);\n      }\n    });\n  }\n\n  function createOverallStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask // For overall task, the function only be called on reset stage.\n    || createTask$3({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    }; // Reuse orignal stubs.\n\n    var agentStubMap = overallTask.agentStubMap = overallTask.agentStubMap || createHashMap$5();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var modifyOutputEnd = stageHandler.modifyOutputEnd; // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    } // Otherwise, (usually it is legancy case), the overall task will only be\n    // executed when upstream dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upsteam.\n    else {\n        overallProgress = false;\n        each$c(ecModel.getSeries(), createStub);\n      }\n\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = agentStubMap.get(pipelineId);\n\n      if (!stub) {\n        stub = agentStubMap.set(pipelineId, createTask$3({\n          reset: stubReset,\n          onDirty: stubOnDirty\n        })); // When the result of `getTargetSeries` changed, the overallTask\n        // should be set as dirty and re-performed.\n\n        overallTask.dirty();\n      }\n\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress,\n        modifyOutputEnd: modifyOutputEnd\n      };\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n      pipe(scheduler, seriesModel, stub);\n    } // Clear unused stubs.\n\n\n    var pipelineMap = scheduler._pipelineMap;\n    agentStubMap.each(function (stub, pipelineId) {\n      if (!pipelineMap.get(pipelineId)) {\n        stub.dispose(); // When the result of `getTargetSeries` changed, the overallTask\n        // should be set as dirty and re-performed.\n\n        overallTask.dirty();\n        agentStubMap.removeKey(pipelineId);\n      }\n    });\n  }\n\n  function overallTaskReset(context) {\n    context.overallReset(context.ecModel, context.api, context.payload);\n  }\n\n  function stubReset(context, upstreamContext) {\n    return context.overallProgress && stubProgress;\n  }\n\n  function stubProgress() {\n    this.agent.dirty();\n    this.getDownstream().dirty();\n  }\n\n  function stubOnDirty() {\n    this.agent && this.agent.dirty();\n  }\n\n  function seriesTaskPlan(context) {\n    return context.plan && context.plan(context.model, context.ecModel, context.api, context.payload);\n  }\n\n  function seriesTaskReset(context) {\n    if (context.useClearVisual) {\n      context.data.clearAllVisual();\n    }\n\n    var resetDefines = context.resetDefines = normalizeToArray$3(context.reset(context.model, context.ecModel, context.api, context.payload));\n    return resetDefines.length > 1 ? map$4(resetDefines, function (v, idx) {\n      return makeSeriesTaskProgress(idx);\n    }) : singleSeriesTaskProgress;\n  }\n\n  var singleSeriesTaskProgress = makeSeriesTaskProgress(0);\n\n  function makeSeriesTaskProgress(resetDefineIdx) {\n    return function (params, context) {\n      var data = context.data;\n      var resetDefine = context.resetDefines[resetDefineIdx];\n\n      if (resetDefine && resetDefine.dataEach) {\n        for (var i = params.start; i < params.end; i++) {\n          resetDefine.dataEach(data, i);\n        }\n      } else if (resetDefine && resetDefine.progress) {\n        resetDefine.progress(params, data);\n      }\n    };\n  }\n\n  function seriesTaskCount(context) {\n    return context.data.count();\n  }\n\n  function pipe(scheduler, seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n\n    var pipeline = scheduler._pipelineMap.get(pipelineId);\n\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  }\n\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction$4(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n\n    stageHandler.uid = getUID$1('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n  /**\n   * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n   * To ensure that they can work normally, they should work in block mode, that is,\n   * they should not be started util the previous tasks finished. So they cause the\n   * progressive rendering disabled. We try to detect the series type, to narrow down\n   * the block range to only the series type they concern, but not all series.\n   */\n\n\n  function detectSeriseType(legacyFunc) {\n    seriesType = null;\n\n    try {\n      // Assume there is no async when calling `eachSeriesByType`.\n      legacyFunc(ecModelMock, apiMock);\n    } catch (e) {}\n\n    return seriesType;\n  }\n\n  var ecModelMock = {};\n  var apiMock = {};\n  var seriesType;\n  mockMethods(ecModelMock, Global);\n  mockMethods(apiMock, ExtensionAPI_1);\n\n  ecModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n    seriesType = type;\n  };\n\n  ecModelMock.eachComponent = function (cond) {\n    if (cond.mainType === 'series' && cond.subType) {\n      seriesType = cond.subType;\n    }\n  };\n\n  function mockMethods(target, Clz) {\n    /* eslint-disable */\n    for (var name in Clz.prototype) {\n      // Do not use hasOwnProperty\n      target[name] = noop$2;\n    }\n    /* eslint-enable */\n\n  }\n\n  var _default$1c = Scheduler;\n  var Scheduler_1 = _default$1c;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\n  var _default$1d = {\n    color: colorAll,\n    colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n  };\n  var light = _default$1d;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var contrastColor = '#eee';\n\n  var axisCommon = function () {\n    return {\n      axisLine: {\n        lineStyle: {\n          color: contrastColor\n        }\n      },\n      axisTick: {\n        lineStyle: {\n          color: contrastColor\n        }\n      },\n      axisLabel: {\n        textStyle: {\n          color: contrastColor\n        }\n      },\n      splitLine: {\n        lineStyle: {\n          type: 'dashed',\n          color: '#aaa'\n        }\n      },\n      splitArea: {\n        areaStyle: {\n          color: contrastColor\n        }\n      }\n    };\n  };\n\n  var colorPalette$1 = ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78', '#73a373', '#73b9bc', '#7289ab', '#91ca8c', '#f49f42'];\n  var theme = {\n    color: colorPalette$1,\n    backgroundColor: '#333',\n    tooltip: {\n      axisPointer: {\n        lineStyle: {\n          color: contrastColor\n        },\n        crossStyle: {\n          color: contrastColor\n        },\n        label: {\n          color: '#000'\n        }\n      }\n    },\n    legend: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    textStyle: {\n      color: contrastColor\n    },\n    title: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    toolbox: {\n      iconStyle: {\n        normal: {\n          borderColor: contrastColor\n        }\n      }\n    },\n    dataZoom: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    visualMap: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    timeline: {\n      lineStyle: {\n        color: contrastColor\n      },\n      itemStyle: {\n        normal: {\n          color: colorPalette$1[1]\n        }\n      },\n      label: {\n        normal: {\n          textStyle: {\n            color: contrastColor\n          }\n        }\n      },\n      controlStyle: {\n        normal: {\n          color: contrastColor,\n          borderColor: contrastColor\n        }\n      }\n    },\n    timeAxis: axisCommon(),\n    logAxis: axisCommon(),\n    valueAxis: axisCommon(),\n    categoryAxis: axisCommon(),\n    line: {\n      symbol: 'circle'\n    },\n    graph: {\n      color: colorPalette$1\n    },\n    gauge: {\n      title: {\n        textStyle: {\n          color: contrastColor\n        }\n      }\n    },\n    candlestick: {\n      itemStyle: {\n        normal: {\n          color: '#FD1050',\n          color0: '#0CF49B',\n          borderColor: '#FD1050',\n          borderColor0: '#0CF49B'\n        }\n      }\n    }\n  };\n  theme.categoryAxis.splitLine.show = false;\n  var _default$1e = theme;\n  var dark = _default$1e;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var detectSourceFormat$1 = sourceHelper.detectSourceFormat;\n\n\n\n  var SERIES_LAYOUT_BY_COLUMN$2 = sourceType.SERIES_LAYOUT_BY_COLUMN;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * This module is imported by echarts directly.\n   *\n   * Notice:\n   * Always keep this file exists for backward compatibility.\n   * Because before 4.1.0, dataset is an optional component,\n   * some users may import this module manually.\n   */\n  Component.extend({\n    type: 'dataset',\n\n    /**\n     * @protected\n     */\n    defaultOption: {\n      // 'row', 'column'\n      seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN$2,\n      // null/'auto': auto detect header, see \"module:echarts/data/helper/sourceHelper\"\n      sourceHeader: null,\n      dimensions: null,\n      source: null\n    },\n    optionUpdated: function () {\n      detectSourceFormat$1(this);\n    }\n  });\n  Component_1.extend({\n    type: 'dataset'\n  });\n\n  /**\n   * \n   * @module zrender/graphic/shape/Ellipse\n   */\n  var _default$1f = Path_1.extend({\n    type: 'ellipse',\n    shape: {\n      cx: 0,\n      cy: 0,\n      rx: 0,\n      ry: 0\n    },\n    buildPath: function (ctx, shape) {\n      var k = 0.5522848;\n      var x = shape.cx;\n      var y = shape.cy;\n      var a = shape.rx;\n      var b = shape.ry;\n      var ox = a * k; // \n\n      var oy = b * k; // \n      // \n\n      ctx.moveTo(x - a, y);\n      ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n      ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n      ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n      ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n      ctx.closePath();\n    }\n  });\n\n  var Ellipse = _default$1f;\n\n  var createFromString$1 = path$2.createFromString;\n\n\n\n  var isString$6 = util.isString;\n  var extend$7 = util.extend;\n  var defaults$1 = util.defaults;\n  var trim$3 = util.trim;\n  var each$d = util.each;\n  // import RadialGradient from '../graphic/RadialGradient';\n  // import Pattern from '../graphic/Pattern';\n  // import * as vector from '../core/vector';\n  // Most of the values can be separated by comma and/or white space.\n  var DILIMITER_REG = /[\\s,]+/;\n  /**\n   * For big svg string, this method might be time consuming.\n   *\n   * @param {string} svg xml string\n   * @return {Object} xml root.\n   */\n\n  function parseXML(svg) {\n    if (isString$6(svg)) {\n      var parser = new DOMParser();\n      svg = parser.parseFromString(svg, 'text/xml');\n    } // Document node. If using $.get, doc node may be input.\n\n\n    if (svg.nodeType === 9) {\n      svg = svg.firstChild;\n    } // nodeName of <!DOCTYPE svg> is also 'svg'.\n\n\n    while (svg.nodeName.toLowerCase() !== 'svg' || svg.nodeType !== 1) {\n      svg = svg.nextSibling;\n    }\n\n    return svg;\n  }\n\n  function SVGParser() {\n    this._defs = {};\n    this._root = null;\n    this._isDefine = false;\n    this._isText = false;\n  }\n\n  SVGParser.prototype.parse = function (xml, opt) {\n    opt = opt || {};\n    var svg = parseXML(xml);\n\n    if (!svg) {\n      throw new Error('Illegal svg');\n    }\n\n    var root = new Group_1();\n    this._root = root; // parse view port\n\n    var viewBox = svg.getAttribute('viewBox') || ''; // If width/height not specified, means \"100%\" of `opt.width/height`.\n    // TODO: Other percent value not supported yet.\n\n    var width = parseFloat(svg.getAttribute('width') || opt.width);\n    var height = parseFloat(svg.getAttribute('height') || opt.height); // If width/height not specified, set as null for output.\n\n    isNaN(width) && (width = null);\n    isNaN(height) && (height = null); // Apply inline style on svg element.\n\n    parseAttributes(svg, root, null, true);\n    var child = svg.firstChild;\n\n    while (child) {\n      this._parseNode(child, root);\n\n      child = child.nextSibling;\n    }\n\n    var viewBoxRect;\n    var viewBoxTransform;\n\n    if (viewBox) {\n      var viewBoxArr = trim$3(viewBox).split(DILIMITER_REG); // Some invalid case like viewBox: 'none'.\n\n      if (viewBoxArr.length >= 4) {\n        viewBoxRect = {\n          x: parseFloat(viewBoxArr[0] || 0),\n          y: parseFloat(viewBoxArr[1] || 0),\n          width: parseFloat(viewBoxArr[2]),\n          height: parseFloat(viewBoxArr[3])\n        };\n      }\n    }\n\n    if (viewBoxRect && width != null && height != null) {\n      viewBoxTransform = makeViewBoxTransform(viewBoxRect, width, height);\n\n      if (!opt.ignoreViewBox) {\n        // If set transform on the output group, it probably bring trouble when\n        // some users only intend to show the clipped content inside the viewBox,\n        // but not intend to transform the output group. So we keep the output\n        // group no transform. If the user intend to use the viewBox as a\n        // camera, just set `opt.ignoreViewBox` as `true` and set transfrom\n        // manually according to the viewBox info in the output of this method.\n        var elRoot = root;\n        root = new Group_1();\n        root.add(elRoot);\n        elRoot.scale = viewBoxTransform.scale.slice();\n        elRoot.position = viewBoxTransform.position.slice();\n      }\n    } // Some shapes might be overflow the viewport, which should be\n    // clipped despite whether the viewBox is used, as the SVG does.\n\n\n    if (!opt.ignoreRootClip && width != null && height != null) {\n      root.setClipPath(new Rect({\n        shape: {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height\n        }\n      }));\n    } // Set width/height on group just for output the viewport size.\n\n\n    return {\n      root: root,\n      width: width,\n      height: height,\n      viewBoxRect: viewBoxRect,\n      viewBoxTransform: viewBoxTransform\n    };\n  };\n\n  SVGParser.prototype._parseNode = function (xmlNode, parentGroup) {\n    var nodeName = xmlNode.nodeName.toLowerCase(); // TODO\n    // support <style>...</style> in svg, where nodeName is 'style',\n    // CSS classes is defined globally wherever the style tags are declared.\n\n    if (nodeName === 'defs') {\n      // define flag\n      this._isDefine = true;\n    } else if (nodeName === 'text') {\n      this._isText = true;\n    }\n\n    var el;\n\n    if (this._isDefine) {\n      var parser = defineParsers[nodeName];\n\n      if (parser) {\n        var def = parser.call(this, xmlNode);\n        var id = xmlNode.getAttribute('id');\n\n        if (id) {\n          this._defs[id] = def;\n        }\n      }\n    } else {\n      var parser = nodeParsers[nodeName];\n\n      if (parser) {\n        el = parser.call(this, xmlNode, parentGroup);\n        parentGroup.add(el);\n      }\n    }\n\n    var child = xmlNode.firstChild;\n\n    while (child) {\n      if (child.nodeType === 1) {\n        this._parseNode(child, el);\n      } // Is text\n\n\n      if (child.nodeType === 3 && this._isText) {\n        this._parseText(child, el);\n      }\n\n      child = child.nextSibling;\n    } // Quit define\n\n\n    if (nodeName === 'defs') {\n      this._isDefine = false;\n    } else if (nodeName === 'text') {\n      this._isText = false;\n    }\n  };\n\n  SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n    if (xmlNode.nodeType === 1) {\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      this._textX += parseFloat(dx);\n      this._textY += parseFloat(dy);\n    }\n\n    var text = new Text_1({\n      style: {\n        text: xmlNode.textContent,\n        transformText: true\n      },\n      position: [this._textX || 0, this._textY || 0]\n    });\n    inheritStyle(parentGroup, text);\n    parseAttributes(xmlNode, text, this._defs);\n    var fontSize = text.style.fontSize;\n\n    if (fontSize && fontSize < 9) {\n      // PENDING\n      text.style.fontSize = 9;\n      text.scale = text.scale || [1, 1];\n      text.scale[0] *= fontSize / 9;\n      text.scale[1] *= fontSize / 9;\n    }\n\n    var rect = text.getBoundingRect();\n    this._textX += rect.width;\n    parentGroup.add(text);\n    return text;\n  };\n\n  var nodeParsers = {\n    'g': function (xmlNode, parentGroup) {\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      return g;\n    },\n    'rect': function (xmlNode, parentGroup) {\n      var rect = new Rect();\n      inheritStyle(parentGroup, rect);\n      parseAttributes(xmlNode, rect, this._defs);\n      rect.setShape({\n        x: parseFloat(xmlNode.getAttribute('x') || 0),\n        y: parseFloat(xmlNode.getAttribute('y') || 0),\n        width: parseFloat(xmlNode.getAttribute('width') || 0),\n        height: parseFloat(xmlNode.getAttribute('height') || 0)\n      }); // console.log(xmlNode.getAttribute('transform'));\n      // console.log(rect.transform);\n\n      return rect;\n    },\n    'circle': function (xmlNode, parentGroup) {\n      var circle = new Circle();\n      inheritStyle(parentGroup, circle);\n      parseAttributes(xmlNode, circle, this._defs);\n      circle.setShape({\n        cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n        cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n        r: parseFloat(xmlNode.getAttribute('r') || 0)\n      });\n      return circle;\n    },\n    'line': function (xmlNode, parentGroup) {\n      var line = new Line();\n      inheritStyle(parentGroup, line);\n      parseAttributes(xmlNode, line, this._defs);\n      line.setShape({\n        x1: parseFloat(xmlNode.getAttribute('x1') || 0),\n        y1: parseFloat(xmlNode.getAttribute('y1') || 0),\n        x2: parseFloat(xmlNode.getAttribute('x2') || 0),\n        y2: parseFloat(xmlNode.getAttribute('y2') || 0)\n      });\n      return line;\n    },\n    'ellipse': function (xmlNode, parentGroup) {\n      var ellipse = new Ellipse();\n      inheritStyle(parentGroup, ellipse);\n      parseAttributes(xmlNode, ellipse, this._defs);\n      ellipse.setShape({\n        cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n        cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n        rx: parseFloat(xmlNode.getAttribute('rx') || 0),\n        ry: parseFloat(xmlNode.getAttribute('ry') || 0)\n      });\n      return ellipse;\n    },\n    'polygon': function (xmlNode, parentGroup) {\n      var points = xmlNode.getAttribute('points');\n\n      if (points) {\n        points = parsePoints(points);\n      }\n\n      var polygon = new Polygon({\n        shape: {\n          points: points || []\n        }\n      });\n      inheritStyle(parentGroup, polygon);\n      parseAttributes(xmlNode, polygon, this._defs);\n      return polygon;\n    },\n    'polyline': function (xmlNode, parentGroup) {\n      var path = new Path_1();\n      inheritStyle(parentGroup, path);\n      parseAttributes(xmlNode, path, this._defs);\n      var points = xmlNode.getAttribute('points');\n\n      if (points) {\n        points = parsePoints(points);\n      }\n\n      var polyline = new Polyline({\n        shape: {\n          points: points || []\n        }\n      });\n      return polyline;\n    },\n    'image': function (xmlNode, parentGroup) {\n      var img = new Image$1();\n      inheritStyle(parentGroup, img);\n      parseAttributes(xmlNode, img, this._defs);\n      img.setStyle({\n        image: xmlNode.getAttribute('xlink:href'),\n        x: xmlNode.getAttribute('x'),\n        y: xmlNode.getAttribute('y'),\n        width: xmlNode.getAttribute('width'),\n        height: xmlNode.getAttribute('height')\n      });\n      return img;\n    },\n    'text': function (xmlNode, parentGroup) {\n      var x = xmlNode.getAttribute('x') || 0;\n      var y = xmlNode.getAttribute('y') || 0;\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      this._textX = parseFloat(x) + parseFloat(dx);\n      this._textY = parseFloat(y) + parseFloat(dy);\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      return g;\n    },\n    'tspan': function (xmlNode, parentGroup) {\n      var x = xmlNode.getAttribute('x');\n      var y = xmlNode.getAttribute('y');\n\n      if (x != null) {\n        // new offset x\n        this._textX = parseFloat(x);\n      }\n\n      if (y != null) {\n        // new offset y\n        this._textY = parseFloat(y);\n      }\n\n      var dx = xmlNode.getAttribute('dx') || 0;\n      var dy = xmlNode.getAttribute('dy') || 0;\n      var g = new Group_1();\n      inheritStyle(parentGroup, g);\n      parseAttributes(xmlNode, g, this._defs);\n      this._textX += dx;\n      this._textY += dy;\n      return g;\n    },\n    'path': function (xmlNode, parentGroup) {\n      // TODO svg fill rule\n      // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule\n      // path.style.globalCompositeOperation = 'xor';\n      var d = xmlNode.getAttribute('d') || ''; // Performance sensitive.\n\n      var path = createFromString$1(d);\n      inheritStyle(parentGroup, path);\n      parseAttributes(xmlNode, path, this._defs);\n      return path;\n    }\n  };\n  var defineParsers = {\n    'lineargradient': function (xmlNode) {\n      var x1 = parseInt(xmlNode.getAttribute('x1') || 0, 10);\n      var y1 = parseInt(xmlNode.getAttribute('y1') || 0, 10);\n      var x2 = parseInt(xmlNode.getAttribute('x2') || 10, 10);\n      var y2 = parseInt(xmlNode.getAttribute('y2') || 0, 10);\n      var gradient = new LinearGradient_1(x1, y1, x2, y2);\n\n      _parseGradientColorStops(xmlNode, gradient);\n\n      return gradient;\n    },\n    'radialgradient': function (xmlNode) {}\n  };\n\n  function _parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n\n    while (stop) {\n      if (stop.nodeType === 1) {\n        var offset = stop.getAttribute('offset');\n\n        if (offset.indexOf('%') > 0) {\n          // percentage\n          offset = parseInt(offset, 10) / 100;\n        } else if (offset) {\n          // number from 0 to 1\n          offset = parseFloat(offset);\n        } else {\n          offset = 0;\n        }\n\n        var stopColor = stop.getAttribute('stop-color') || '#000000';\n        gradient.addColorStop(offset, stopColor);\n      }\n\n      stop = stop.nextSibling;\n    }\n  }\n\n  function inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n      if (!child.__inheritedStyle) {\n        child.__inheritedStyle = {};\n      }\n\n      defaults$1(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n  }\n\n  function parsePoints(pointsString) {\n    var list = trim$3(pointsString).split(DILIMITER_REG);\n    var points = [];\n\n    for (var i = 0; i < list.length; i += 2) {\n      var x = parseFloat(list[i]);\n      var y = parseFloat(list[i + 1]);\n      points.push([x, y]);\n    }\n\n    return points;\n  }\n\n  var attributesMap = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-align': 'textAlign',\n    'alignment-baseline': 'textBaseline'\n  };\n\n  function parseAttributes(xmlNode, el, defs, onlyInlineStyle) {\n    var zrStyle = el.__inheritedStyle || {};\n    var isTextEl = el.type === 'text'; // TODO Shadow\n\n    if (xmlNode.nodeType === 1) {\n      parseTransformAttribute(xmlNode, el);\n      extend$7(zrStyle, parseStyleAttribute(xmlNode));\n\n      if (!onlyInlineStyle) {\n        for (var svgAttrName in attributesMap) {\n          if (attributesMap.hasOwnProperty(svgAttrName)) {\n            var attrValue = xmlNode.getAttribute(svgAttrName);\n\n            if (attrValue != null) {\n              zrStyle[attributesMap[svgAttrName]] = attrValue;\n            }\n          }\n        }\n      }\n    }\n\n    var elFillProp = isTextEl ? 'textFill' : 'fill';\n    var elStrokeProp = isTextEl ? 'textStroke' : 'stroke';\n    el.style = el.style || new Style_1();\n    var elStyle = el.style;\n    zrStyle.fill != null && elStyle.set(elFillProp, getPaint(zrStyle.fill, defs));\n    zrStyle.stroke != null && elStyle.set(elStrokeProp, getPaint(zrStyle.stroke, defs));\n    each$d(['lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'], function (propName) {\n      var elPropName = propName === 'lineWidth' && isTextEl ? 'textStrokeWidth' : propName;\n      zrStyle[propName] != null && elStyle.set(elPropName, parseFloat(zrStyle[propName]));\n    });\n\n    if (!zrStyle.textBaseline || zrStyle.textBaseline === 'auto') {\n      zrStyle.textBaseline = 'alphabetic';\n    }\n\n    if (zrStyle.textBaseline === 'alphabetic') {\n      zrStyle.textBaseline = 'bottom';\n    }\n\n    if (zrStyle.textAlign === 'start') {\n      zrStyle.textAlign = 'left';\n    }\n\n    if (zrStyle.textAlign === 'end') {\n      zrStyle.textAlign = 'right';\n    }\n\n    each$d(['lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign', 'textBaseline'], function (propName) {\n      zrStyle[propName] != null && elStyle.set(propName, zrStyle[propName]);\n    });\n\n    if (zrStyle.lineDash) {\n      el.style.lineDash = trim$3(zrStyle.lineDash).split(DILIMITER_REG);\n    }\n\n    if (elStyle[elStrokeProp] && elStyle[elStrokeProp] !== 'none') {\n      // enable stroke\n      el[elStrokeProp] = true;\n    }\n\n    el.__inheritedStyle = zrStyle;\n  }\n\n  var urlRegex = /url\\(\\s*#(.*?)\\)/;\n\n  function getPaint(str, defs) {\n    // if (str === 'none') {\n    //     return;\n    // }\n    var urlMatch = defs && str && str.match(urlRegex);\n\n    if (urlMatch) {\n      var url = trim$3(urlMatch[1]);\n      var def = defs[url];\n      return def;\n    }\n\n    return str;\n  }\n\n  var transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g;\n\n  function parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n\n    if (transform) {\n      transform = transform.replace(/,/g, ' ');\n      var m = null;\n      var transformOps = [];\n      transform.replace(transformRegex, function (str, type, value) {\n        transformOps.push(type, value);\n      });\n\n      for (var i = transformOps.length - 1; i > 0; i -= 2) {\n        var value = transformOps[i];\n        var type = transformOps[i - 1];\n        m = m || matrix.create();\n\n        switch (type) {\n          case 'translate':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.translate(m, m, [parseFloat(value[0]), parseFloat(value[1] || 0)]);\n            break;\n\n          case 'scale':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.scale(m, m, [parseFloat(value[0]), parseFloat(value[1] || value[0])]);\n            break;\n\n          case 'rotate':\n            value = trim$3(value).split(DILIMITER_REG);\n            matrix.rotate(m, m, parseFloat(value[0]));\n            break;\n\n          case 'skew':\n            value = trim$3(value).split(DILIMITER_REG);\n            console.warn('Skew transform is not supported yet');\n            break;\n\n          case 'matrix':\n            var value = trim$3(value).split(DILIMITER_REG);\n            m[0] = parseFloat(value[0]);\n            m[1] = parseFloat(value[1]);\n            m[2] = parseFloat(value[2]);\n            m[3] = parseFloat(value[3]);\n            m[4] = parseFloat(value[4]);\n            m[5] = parseFloat(value[5]);\n            break;\n        }\n      }\n\n      node.setLocalTransform(m);\n    }\n  } // Value may contain space.\n\n\n  var styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\n\n  function parseStyleAttribute(xmlNode) {\n    var style = xmlNode.getAttribute('style');\n    var result = {};\n\n    if (!style) {\n      return result;\n    }\n\n    var styleList = {};\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n      styleList[styleRegResult[1]] = styleRegResult[2];\n    }\n\n    for (var svgAttrName in attributesMap) {\n      if (attributesMap.hasOwnProperty(svgAttrName) && styleList[svgAttrName] != null) {\n        result[attributesMap[svgAttrName]] = styleList[svgAttrName];\n      }\n    }\n\n    return result;\n  }\n  /**\n   * @param {Array.<number>} viewBoxRect\n   * @param {number} width\n   * @param {number} height\n   * @return {Object} {scale, position}\n   */\n\n\n  function makeViewBoxTransform(viewBoxRect, width, height) {\n    var scaleX = width / viewBoxRect.width;\n    var scaleY = height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY); // preserveAspectRatio 'xMidYMid'\n\n    var viewBoxScale = [scale, scale];\n    var viewBoxPosition = [-(viewBoxRect.x + viewBoxRect.width / 2) * scale + width / 2, -(viewBoxRect.y + viewBoxRect.height / 2) * scale + height / 2];\n    return {\n      scale: viewBoxScale,\n      position: viewBoxPosition\n    };\n  }\n  /**\n   * @param {string|XMLElement} xml\n   * @param {Object} [opt]\n   * @param {number} [opt.width] Default width if svg width not specified or is a percent value.\n   * @param {number} [opt.height] Default height if svg height not specified or is a percent value.\n   * @param {boolean} [opt.ignoreViewBox]\n   * @param {boolean} [opt.ignoreRootClip]\n   * @return {Object} result:\n   * {\n   *     root: Group, The root of the the result tree of zrender shapes,\n   *     width: number, the viewport width of the SVG,\n   *     height: number, the viewport height of the SVG,\n   *     viewBoxRect: {x, y, width, height}, the declared viewBox rect of the SVG, if exists,\n   *     viewBoxTransform: the {scale, position} calculated by viewBox and viewport, is exists.\n   * }\n   */\n\n\n  function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n  }\n\n  var parseXML_1 = parseXML;\n  var makeViewBoxTransform_1 = makeViewBoxTransform;\n  var parseSVG_2 = parseSVG;\n\n  var parseSVG_1 = {\n  \tparseXML: parseXML_1,\n  \tmakeViewBoxTransform: makeViewBoxTransform_1,\n  \tparseSVG: parseSVG_2\n  };\n\n  var createHashMap$6 = util.createHashMap;\n  var isString$7 = util.isString;\n  var isArray$8 = util.isArray;\n  var each$e = util.each;\n\n\n\n  var parseXML$1 = parseSVG_1.parseXML;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var storage = createHashMap$6(); // For minimize the code size of common echarts package,\n  // do not put too much logic in this module.\n\n  var _default$1g = {\n    // The format of record: see `echarts.registerMap`.\n    // Compatible with previous `echarts.registerMap`.\n    registerMap: function (mapName, rawGeoJson, rawSpecialAreas) {\n      var records;\n\n      if (isArray$8(rawGeoJson)) {\n        records = rawGeoJson;\n      } else if (rawGeoJson.svg) {\n        records = [{\n          type: 'svg',\n          source: rawGeoJson.svg,\n          specialAreas: rawGeoJson.specialAreas\n        }];\n      } else {\n        // Backward compatibility.\n        if (rawGeoJson.geoJson && !rawGeoJson.features) {\n          rawSpecialAreas = rawGeoJson.specialAreas;\n          rawGeoJson = rawGeoJson.geoJson;\n        }\n\n        records = [{\n          type: 'geoJSON',\n          source: rawGeoJson,\n          specialAreas: rawSpecialAreas\n        }];\n      }\n\n      each$e(records, function (record) {\n        var type = record.type;\n        type === 'geoJson' && (type = record.type = 'geoJSON');\n        var parse = parsers[type];\n        parse(record);\n      });\n      return storage.set(mapName, records);\n    },\n    retrieveMap: function (mapName) {\n      return storage.get(mapName);\n    }\n  };\n  var parsers = {\n    geoJSON: function (record) {\n      var source = record.source;\n      record.geoJSON = !isString$7(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\n    },\n    // Only perform parse to XML object here, which might be time\n    // consiming for large SVG.\n    // Although convert XML to zrender element is also time consiming,\n    // if we do it here, the clone of zrender elements has to be\n    // required. So we do it once for each geo instance, util real\n    // performance issues call for optimizing it.\n    svg: function (record) {\n      record.svgXML = parseXML$1(record.source);\n    }\n  };\n  var mapDataStorage = _default$1g;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function defaultKeyGetter(item) {\n    return item;\n  }\n  /**\n   * @param {Array} oldArr\n   * @param {Array} newArr\n   * @param {Function} oldKeyGetter\n   * @param {Function} newKeyGetter\n   * @param {Object} [context] Can be visited by this.context in callback.\n   */\n\n\n  function DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context) {\n    this._old = oldArr;\n    this._new = newArr;\n    this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n    this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n    this.context = context;\n  }\n\n  DataDiffer.prototype = {\n    constructor: DataDiffer,\n\n    /**\n     * Callback function when add a data\n     */\n    add: function (func) {\n      this._add = func;\n      return this;\n    },\n\n    /**\n     * Callback function when update a data\n     */\n    update: function (func) {\n      this._update = func;\n      return this;\n    },\n\n    /**\n     * Callback function when remove a data\n     */\n    remove: function (func) {\n      this._remove = func;\n      return this;\n    },\n    execute: function () {\n      var oldArr = this._old;\n      var newArr = this._new;\n      var oldDataIndexMap = {};\n      var newDataIndexMap = {};\n      var oldDataKeyArr = [];\n      var newDataKeyArr = [];\n      var i;\n      initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter', this);\n      initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter', this);\n\n      for (i = 0; i < oldArr.length; i++) {\n        var key = oldDataKeyArr[i];\n        var idx = newDataIndexMap[key]; // idx can never be empty array here. see 'set null' logic below.\n\n        if (idx != null) {\n          // Consider there is duplicate key (for example, use dataItem.name as key).\n          // We should make sure every item in newArr and oldArr can be visited.\n          var len = idx.length;\n\n          if (len) {\n            len === 1 && (newDataIndexMap[key] = null);\n            idx = idx.shift();\n          } else {\n            newDataIndexMap[key] = null;\n          }\n\n          this._update && this._update(idx, i);\n        } else {\n          this._remove && this._remove(i);\n        }\n      }\n\n      for (var i = 0; i < newDataKeyArr.length; i++) {\n        var key = newDataKeyArr[i];\n\n        if (newDataIndexMap.hasOwnProperty(key)) {\n          var idx = newDataIndexMap[key];\n\n          if (idx == null) {\n            continue;\n          } // idx can never be empty array here. see 'set null' logic above.\n\n\n          if (!idx.length) {\n            this._add && this._add(idx);\n          } else {\n            for (var j = 0, len = idx.length; j < len; j++) {\n              this._add && this._add(idx[j]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function initIndexMap(arr, map, keyArr, keyGetterName, dataDiffer) {\n    for (var i = 0; i < arr.length; i++) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var key = '_ec_' + dataDiffer[keyGetterName](arr[i], i);\n      var existence = map[key];\n\n      if (existence == null) {\n        keyArr.push(key);\n        map[key] = i;\n      } else {\n        if (!existence.length) {\n          map[key] = existence = [existence];\n        }\n\n        existence.push(i);\n      }\n    }\n  }\n\n  var _default$1h = DataDiffer;\n  var DataDiffer_1 = _default$1h;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$f = util.each;\n  var createHashMap$7 = util.createHashMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var OTHER_DIMENSIONS = createHashMap$7(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\n\n  function summarizeDimensions(data) {\n    var summary = {};\n    var encode = summary.encode = {};\n    var notExtraCoordDimMap = createHashMap$7();\n    var defaultedLabel = [];\n    var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n    var userOutput = summary.userOutput = {\n      dimensionNames: data.dimensions.slice(),\n      encode: {}\n    };\n    each$f(data.dimensions, function (dimName) {\n      var dimItem = data.getDimensionInfo(dimName);\n      var coordDim = dimItem.coordDim;\n\n      if (coordDim) {\n        var coordDimIndex = dimItem.coordDimIndex;\n        getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n        if (!dimItem.isExtraCoord) {\n          notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n          // because when dataset is used, it is hard to guess which dimension\n          // can be value dimension. If both show x, y on label is not look good,\n          // and conventionally y axis is focused more.\n\n          if (mayLabelDimType(dimItem.type)) {\n            defaultedLabel[0] = dimName;\n          } // User output encode do not contain generated coords.\n          // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n          getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n        }\n\n        if (dimItem.defaultTooltip) {\n          defaultedTooltip.push(dimName);\n        }\n      }\n\n      OTHER_DIMENSIONS.each(function (v, otherDim) {\n        var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n        var dimIndex = dimItem.otherDims[otherDim];\n\n        if (dimIndex != null && dimIndex !== false) {\n          encodeArr[dimIndex] = dimItem.name;\n        }\n      });\n    });\n    var dataDimsOnCoord = [];\n    var encodeFirstDimNotExtra = {};\n    notExtraCoordDimMap.each(function (v, coordDim) {\n      var dimArr = encode[coordDim]; // ??? FIXME extra coord should not be set in dataDimsOnCoord.\n      // But should fix the case that radar axes: simplify the logic\n      // of `completeDimension`, remove `extraPrefix`.\n\n      encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n      // dim canot on more than one coordDim.\n\n      dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n    });\n    summary.dataDimsOnCoord = dataDimsOnCoord;\n    summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n    var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n    // in this way. Use label.formatter instead. May be remove this approach someday.\n\n    if (encodeLabel && encodeLabel.length) {\n      defaultedLabel = encodeLabel.slice();\n    }\n\n    var encodeTooltip = encode.tooltip;\n\n    if (encodeTooltip && encodeTooltip.length) {\n      defaultedTooltip = encodeTooltip.slice();\n    } else if (!defaultedTooltip.length) {\n      defaultedTooltip = defaultedLabel.slice();\n    }\n\n    encode.defaultedLabel = defaultedLabel;\n    encode.defaultedTooltip = defaultedTooltip;\n    return summary;\n  }\n\n  function getOrCreateEncodeArr(encode, dim) {\n    if (!encode.hasOwnProperty(dim)) {\n      encode[dim] = [];\n    }\n\n    return encode[dim];\n  }\n\n  function getDimensionTypeByAxis(axisType) {\n    return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n  }\n\n  function mayLabelDimType(dimType) {\n    // In most cases, ordinal and time do not suitable for label.\n    // Ordinal info can be displayed on axis. Time is too long.\n    return !(dimType === 'ordinal' || dimType === 'time');\n  } // function findTheLastDimMayLabel(data) {\n  //     // Get last value dim\n  //     var dimensions = data.dimensions.slice();\n  //     var valueType;\n  //     var valueDim;\n  //     while (dimensions.length && (\n  //         valueDim = dimensions.pop(),\n  //         valueType = data.getDimensionInfo(valueDim).type,\n  //         valueType === 'ordinal' || valueType === 'time'\n  //     )) {} // jshint ignore:line\n  //     return valueDim;\n  // }\n\n\n  var OTHER_DIMENSIONS_1 = OTHER_DIMENSIONS;\n  var summarizeDimensions_1 = summarizeDimensions;\n  var getDimensionTypeByAxis_1 = getDimensionTypeByAxis;\n\n  var dimensionHelper = {\n  \tOTHER_DIMENSIONS: OTHER_DIMENSIONS_1,\n  \tsummarizeDimensions: summarizeDimensions_1,\n  \tgetDimensionTypeByAxis: getDimensionTypeByAxis_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @class\n   * @param {Object|DataDimensionInfo} [opt] All of the fields will be shallow copied.\n   */\n  function DataDimensionInfo(opt) {\n    if (opt != null) {\n      util.extend(this, opt);\n    }\n    /**\n     * Dimension name.\n     * Mandatory.\n     * @type {string}\n     */\n    // this.name;\n\n    /**\n     * The origin name in dimsDef, see source helper.\n     * If displayName given, the tooltip will displayed vertically.\n     * Optional.\n     * @type {string}\n     */\n    // this.displayName;\n\n    /**\n     * Which coordSys dimension this dimension mapped to.\n     * A `coordDim` can be a \"coordSysDim\" that the coordSys required\n     * (for example, an item in `coordSysDims` of `model/referHelper#CoordSysInfo`),\n     * or an generated \"extra coord name\" if does not mapped to any \"coordSysDim\"\n     * (That is determined by whether `isExtraCoord` is `true`).\n     * Mandatory.\n     * @type {string}\n     */\n    // this.coordDim;\n\n    /**\n     * The index of this dimension in `series.encode[coordDim]`.\n     * Mandatory.\n     * @type {number}\n     */\n    // this.coordDimIndex;\n\n    /**\n     * Dimension type. The enumerable values are the key of\n     * `dataCtors` of `data/List`.\n     * Optional.\n     * @type {string}\n     */\n    // this.type;\n\n    /**\n     * This index of this dimension info in `data/List#_dimensionInfos`.\n     * Mandatory after added to `data/List`.\n     * @type {number}\n     */\n    // this.index;\n\n    /**\n     * The format of `otherDims` is:\n     * ```js\n     * {\n     *     tooltip: number optional,\n     *     label: number optional,\n     *     itemName: number optional,\n     *     seriesName: number optional,\n     * }\n     * ```\n     *\n     * A `series.encode` can specified these fields:\n     * ```js\n     * encode: {\n     *     // \"3, 1, 5\" is the index of data dimension.\n     *     tooltip: [3, 1, 5],\n     *     label: [0, 3],\n     *     ...\n     * }\n     * ```\n     * `otherDims` is the parse result of the `series.encode` above, like:\n     * ```js\n     * // Suppose the index of this data dimension is `3`.\n     * this.otherDims = {\n     *     // `3` is at the index `0` of the `encode.tooltip`\n     *     tooltip: 0,\n     *     // `3` is at the index `1` of the `encode.tooltip`\n     *     label: 1\n     * };\n     * ```\n     *\n     * This prop should never be `null`/`undefined` after initialized.\n     * @type {Object}\n     */\n\n\n    this.otherDims = {};\n    /**\n     * Be `true` if this dimension is not mapped to any \"coordSysDim\" that the\n     * \"coordSys\" required.\n     * Mandatory.\n     * @type {boolean}\n     */\n    // this.isExtraCoord;\n\n    /**\n     * @type {module:data/OrdinalMeta}\n     */\n    // this.ordinalMeta;\n\n    /**\n     * Whether to create inverted indices.\n     * @type {boolean}\n     */\n    // this.createInvertedIndices;\n  }\n  var _default$1i = DataDimensionInfo;\n  var DataDimensionInfo_1 = _default$1i;\n\n  var defaultDimValueGetters$1 = dataProvider.defaultDimValueGetters;\n  var DefaultDataProvider$1 = dataProvider.DefaultDataProvider;\n\n\n\n  var summarizeDimensions$1 = dimensionHelper.summarizeDimensions;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float64Array, Int32Array, Uint32Array, Uint16Array */\n\n  /**\n   * List for data storage\n   * @module echarts/data/List\n   */\n  var isObject$b = util.isObject;\n  var UNDEFINED = 'undefined';\n  var INDEX_NOT_FOUND = -1; // Use prefix to avoid index to be the same as otherIdList[idx],\n  // which will cause weird udpate animation.\n\n  var ID_PREFIX = 'e\\0\\0';\n  var dataCtors = {\n    'float': typeof Float64Array === UNDEFINED ? Array : Float64Array,\n    'int': typeof Int32Array === UNDEFINED ? Array : Int32Array,\n    // Ordinal data type can be string or int\n    'ordinal': Array,\n    'number': Array,\n    'time': Array\n  }; // Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\n  // different from the Ctor of typed array.\n\n  var CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\n  var CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\n  var CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\n\n  function getIndicesCtor(list) {\n    // The possible max value in this._indicies is always this._rawCount despite of filtering.\n    return list._rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\n  }\n\n  function cloneChunk(originalChunk) {\n    var Ctor = originalChunk.constructor; // Only shallow clone is enough when Array.\n\n    return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\n  }\n\n  var TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_rawData', '_chunkSize', '_chunkCount', '_dimValueGetter', '_count', '_rawCount', '_nameDimIdx', '_idDimIdx'];\n  var CLONE_PROPERTIES = ['_extent', '_approximateExtent', '_rawExtent'];\n\n  function transferProperties(target, source) {\n    util.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n      if (source.hasOwnProperty(propName)) {\n        target[propName] = source[propName];\n      }\n    });\n    target.__wrappedMethods = source.__wrappedMethods;\n    util.each(CLONE_PROPERTIES, function (propName) {\n      target[propName] = util.clone(source[propName]);\n    });\n    target._calculationInfo = util.extend(source._calculationInfo);\n  }\n  /**\n   * @constructor\n   * @alias module:echarts/data/List\n   *\n   * @param {Array.<string|Object|module:data/DataDimensionInfo>} dimensions\n   *      For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n   *      Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n   * @param {module:echarts/model/Model} hostModel\n   */\n\n\n  var List = function (dimensions, hostModel) {\n    dimensions = dimensions || ['x', 'y'];\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    var invertedIndicesMap = {};\n\n    for (var i = 0; i < dimensions.length; i++) {\n      // Use the original dimensions[i], where other flag props may exists.\n      var dimensionInfo = dimensions[i];\n\n      if (util.isString(dimensionInfo)) {\n        dimensionInfo = new DataDimensionInfo_1({\n          name: dimensionInfo\n        });\n      } else if (!(dimensionInfo instanceof DataDimensionInfo_1)) {\n        dimensionInfo = new DataDimensionInfo_1(dimensionInfo);\n      }\n\n      var dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'float';\n\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n\n      dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n      dimensionNames.push(dimensionName);\n      dimensionInfos[dimensionName] = dimensionInfo;\n      dimensionInfo.index = i;\n\n      if (dimensionInfo.createInvertedIndices) {\n        invertedIndicesMap[dimensionName] = [];\n      }\n    }\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n\n\n    this.dimensions = dimensionNames;\n    /**\n     * Infomation of each data dimension, like data type.\n     * @type {Object}\n     */\n\n    this._dimensionInfos = dimensionInfos;\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.hostModel = hostModel;\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.dataType;\n    /**\n     * Indices stores the indices of data subset after filtered.\n     * This data subset will be used in chart.\n     * @type {Array.<number>}\n     * @readOnly\n     */\n\n    this._indices = null;\n    this._count = 0;\n    this._rawCount = 0;\n    /**\n     * Data storage\n     * @type {Object.<key, Array.<TypedArray|Array>>}\n     * @private\n     */\n\n    this._storage = {};\n    /**\n     * @type {Array.<string>}\n     */\n\n    this._nameList = [];\n    /**\n     * @type {Array.<string>}\n     */\n\n    this._idList = [];\n    /**\n     * Models of data option is stored sparse for optimizing memory cost\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._optionModels = [];\n    /**\n     * Global visual properties after visual coding\n     * @type {Object}\n     * @private\n     */\n\n    this._visual = {};\n    /**\n     * Globel layout properties.\n     * @type {Object}\n     * @private\n     */\n\n    this._layout = {};\n    /**\n     * Item visual properties after visual coding\n     * @type {Array.<Object>}\n     * @private\n     */\n\n    this._itemVisuals = [];\n    /**\n     * Key: visual type, Value: boolean\n     * @type {Object}\n     * @readOnly\n     */\n\n    this.hasItemVisual = {};\n    /**\n     * Item layout properties after layout\n     * @type {Array.<Object>}\n     * @private\n     */\n\n    this._itemLayouts = [];\n    /**\n     * Graphic elemnents\n     * @type {Array.<module:zrender/Element>}\n     * @private\n     */\n\n    this._graphicEls = [];\n    /**\n     * Max size of each chunk.\n     * @type {number}\n     * @private\n     */\n\n    this._chunkSize = 1e5;\n    /**\n     * @type {number}\n     * @private\n     */\n\n    this._chunkCount = 0;\n    /**\n     * @type {Array.<Array|Object>}\n     * @private\n     */\n\n    this._rawData;\n    /**\n     * Raw extent will not be cloned, but only transfered.\n     * It will not be calculated util needed.\n     * key: dim,\n     * value: {end: number, extent: Array.<number>}\n     * @type {Object}\n     * @private\n     */\n\n    this._rawExtent = {};\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._extent = {};\n    /**\n     * key: dim\n     * value: extent\n     * @type {Object}\n     * @private\n     */\n\n    this._approximateExtent = {};\n    /**\n     * Cache summary info for fast visit. See \"dimensionHelper\".\n     * @type {Object}\n     * @private\n     */\n\n    this._dimensionsSummary = summarizeDimensions$1(this);\n    /**\n     * @type {Object.<Array|TypedArray>}\n     * @private\n     */\n\n    this._invertedIndicesMap = invertedIndicesMap;\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._calculationInfo = {};\n    /**\n     * User output info of this data.\n     * DO NOT use it in other places!\n     *\n     * When preparing user params for user callbacks, we have\n     * to clone these inner data structures to prevent users\n     * from modifying them to effect built-in logic. And for\n     * performance consideration we make this `userOutput` to\n     * avoid clone them too many times.\n     *\n     * @type {Object}\n     * @readOnly\n     */\n\n    this.userOutput = this._dimensionsSummary.userOutput;\n  };\n\n  var listProto = List.prototype;\n  listProto.type = 'list';\n  /**\n   * If each data item has it's own option\n   * @type {boolean}\n   */\n\n  listProto.hasItemOption = true;\n  /**\n   * The meanings of the input parameter `dim`:\n   *\n   * + If dim is a number (e.g., `1`), it means the index of the dimension.\n   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n   * + If dim is a number-like string (e.g., `\"1\"`):\n   *     + If there is the same concrete dim name defined in `this.dimensions`, it means that concrete name.\n   *     + If not, it will be converted to a number, which means the index of the dimension.\n   *        (why? because of the backward compatbility. We have been tolerating number-like string in\n   *        dimension setting, although now it seems that it is not a good idea.)\n   *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n   *     if no dimension name is defined as `\"1\"`.\n   * + If dim is a not-number-like string, it means the concrete dim name.\n   *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n   *   or customized in `dimensions` property of option like `\"age\"`.\n   *\n   * Get dimension name\n   * @param {string|number} dim See above.\n   * @return {string} Concrete dim name.\n   */\n\n  listProto.getDimension = function (dim) {\n    if (typeof dim === 'number' // If being a number-like string but not being defined a dimension name.\n    || !isNaN(dim) && !this._dimensionInfos.hasOwnProperty(dim)) {\n      dim = this.dimensions[dim];\n    }\n\n    return dim;\n  };\n  /**\n   * Get type and calculation info of particular dimension\n   * @param {string|number} dim\n   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n   */\n\n\n  listProto.getDimensionInfo = function (dim) {\n    // Do not clone, because there may be categories in dimInfo.\n    return this._dimensionInfos[this.getDimension(dim)];\n  };\n  /**\n   * @return {Array.<string>} concrete dimension name list on coord.\n   */\n\n\n  listProto.getDimensionsOnCoord = function () {\n    return this._dimensionsSummary.dataDimsOnCoord.slice();\n  };\n  /**\n   * @param {string} coordDim\n   * @param {number} [idx] A coordDim may map to more than one data dim.\n   *        If idx is `true`, return a array of all mapped dims.\n   *        If idx is not specified, return the first dim not extra.\n   * @return {string|Array.<string>} concrete data dim.\n   *        If idx is number, and not found, return null/undefined.\n   *        If idx is `true`, and not found, return empty array (always return array).\n   */\n\n\n  listProto.mapDimension = function (coordDim, idx) {\n    var dimensionsSummary = this._dimensionsSummary;\n\n    if (idx == null) {\n      return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n    }\n\n    var dims = dimensionsSummary.encode[coordDim];\n    return idx === true // always return array if idx is `true`\n    ? (dims || []).slice() : dims && dims[idx];\n  };\n  /**\n   * Initialize from data\n   * @param {Array.<Object|number|Array>} data source or data or data provider.\n   * @param {Array.<string>} [nameLIst] The name of a datum is used on data diff and\n   *        default label/tooltip.\n   *        A name can be specified in encode.itemName,\n   *        or dataItem.name (only for series option data),\n   *        or provided in nameList from outside.\n   * @param {Function} [dimValueGetter] (dataItem, dimName, dataIndex, dimIndex) => number\n   */\n\n\n  listProto.initData = function (data, nameList, dimValueGetter) {\n    var notProvider = Source_1.isInstance(data) || util.isArrayLike(data);\n\n    if (notProvider) {\n      data = new DefaultDataProvider$1(data, this.dimensions.length);\n    }\n\n    this._rawData = data; // Clear\n\n    this._storage = {};\n    this._indices = null;\n    this._nameList = nameList || [];\n    this._idList = [];\n    this._nameRepeatCount = {};\n\n    if (!dimValueGetter) {\n      this.hasItemOption = false;\n    }\n    /**\n     * @readOnly\n     */\n\n\n    this.defaultDimValueGetter = defaultDimValueGetters$1[this._rawData.getSource().sourceFormat]; // Default dim value getter\n\n    this._dimValueGetter = dimValueGetter = dimValueGetter || this.defaultDimValueGetter;\n    this._dimValueGetterArrayRows = defaultDimValueGetters$1.arrayRows; // Reset raw extent.\n\n    this._rawExtent = {};\n\n    this._initDataFromProvider(0, data.count()); // If data has no item option.\n\n\n    if (data.pure) {\n      this.hasItemOption = false;\n    }\n  };\n\n  listProto.getProvider = function () {\n    return this._rawData;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n\n\n  listProto.appendData = function (data) {\n    var rawData = this._rawData;\n    var start = this.count();\n    rawData.appendData(data);\n    var end = rawData.count();\n\n    if (!rawData.persistent) {\n      end += start;\n    }\n\n    this._initDataFromProvider(start, end);\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   * This method does not modify `rawData` (`dataProvider`), but only\n   * add values to storage.\n   *\n   * The final count will be increased by `Math.max(values.length, names.length)`.\n   *\n   * @param {Array.<Array.<*>>} values That is the SourceType: 'arrayRows', like\n   *        [\n   *            [12, 33, 44],\n   *            [NaN, 43, 1],\n   *            ['-', 'asdf', 0]\n   *        ]\n   *        Each item is exaclty cooresponding to a dimension.\n   * @param {Array.<string>} [names]\n   */\n\n\n  listProto.appendValues = function (values, names) {\n    var chunkSize = this._chunkSize;\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var start = this.count();\n    var end = start + Math.max(values.length, names ? names.length : 0);\n    var originalChunkCount = this._chunkCount;\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      if (!storage[dim]) {\n        storage[dim] = [];\n      }\n\n      prepareChunks(storage, this._dimensionInfos[dim], chunkSize, originalChunkCount, end);\n      this._chunkCount = storage[dim].length;\n    }\n\n    var emptyDataItem = new Array(dimLen);\n\n    for (var idx = start; idx < end; idx++) {\n      var sourceIdx = idx - start;\n      var chunkIndex = Math.floor(idx / chunkSize);\n      var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n      for (var k = 0; k < dimLen; k++) {\n        var dim = dimensions[k];\n\n        var val = this._dimValueGetterArrayRows(values[sourceIdx] || emptyDataItem, dim, sourceIdx, k);\n\n        storage[dim][chunkIndex][chunkOffset] = val;\n        var dimRawExtent = rawExtent[dim];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      }\n\n      if (names) {\n        this._nameList[idx] = names[sourceIdx];\n      }\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  listProto._initDataFromProvider = function (start, end) {\n    // Optimize.\n    if (start >= end) {\n      return;\n    }\n\n    var chunkSize = this._chunkSize;\n    var rawData = this._rawData;\n    var storage = this._storage;\n    var dimensions = this.dimensions;\n    var dimLen = dimensions.length;\n    var dimensionInfoMap = this._dimensionInfos;\n    var nameList = this._nameList;\n    var idList = this._idList;\n    var rawExtent = this._rawExtent;\n    var nameRepeatCount = this._nameRepeatCount = {};\n    var nameDimIdx;\n    var originalChunkCount = this._chunkCount;\n\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n\n      if (!rawExtent[dim]) {\n        rawExtent[dim] = getInitialExtent();\n      }\n\n      var dimInfo = dimensionInfoMap[dim];\n\n      if (dimInfo.otherDims.itemName === 0) {\n        nameDimIdx = this._nameDimIdx = i;\n      }\n\n      if (dimInfo.otherDims.itemId === 0) {\n        this._idDimIdx = i;\n      }\n\n      if (!storage[dim]) {\n        storage[dim] = [];\n      }\n\n      prepareChunks(storage, dimInfo, chunkSize, originalChunkCount, end);\n      this._chunkCount = storage[dim].length;\n    }\n\n    var dataItem = new Array(dimLen);\n\n    for (var idx = start; idx < end; idx++) {\n      // NOTICE: Try not to write things into dataItem\n      dataItem = rawData.getItem(idx, dataItem); // Each data item is value\n      // [1, 2]\n      // 2\n      // Bar chart, line chart which uses category axis\n      // only gives the 'y' value. 'x' value is the indices of category\n      // Use a tempValue to normalize the value to be a (x, y) value\n\n      var chunkIndex = Math.floor(idx / chunkSize);\n      var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n      for (var k = 0; k < dimLen; k++) {\n        var dim = dimensions[k];\n        var dimStorage = storage[dim][chunkIndex]; // PENDING NULL is empty or zero\n\n        var val = this._dimValueGetter(dataItem, dim, idx, k);\n\n        dimStorage[chunkOffset] = val;\n        var dimRawExtent = rawExtent[dim];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      } // ??? FIXME not check by pure but sourceFormat?\n      // TODO refactor these logic.\n\n\n      if (!rawData.pure) {\n        var name = nameList[idx];\n\n        if (dataItem && name == null) {\n          // If dataItem is {name: ...}, it has highest priority.\n          // That is appropriate for many common cases.\n          if (dataItem.name != null) {\n            // There is no other place to persistent dataItem.name,\n            // so save it to nameList.\n            nameList[idx] = name = dataItem.name;\n          } else if (nameDimIdx != null) {\n            var nameDim = dimensions[nameDimIdx];\n            var nameDimChunk = storage[nameDim][chunkIndex];\n\n            if (nameDimChunk) {\n              name = nameDimChunk[chunkOffset];\n              var ordinalMeta = dimensionInfoMap[nameDim].ordinalMeta;\n\n              if (ordinalMeta && ordinalMeta.categories.length) {\n                name = ordinalMeta.categories[name];\n              }\n            }\n          }\n        } // Try using the id in option\n        // id or name is used on dynamical data, mapping old and new items.\n\n\n        var id = dataItem == null ? null : dataItem.id;\n\n        if (id == null && name != null) {\n          // Use name as id and add counter to avoid same name\n          nameRepeatCount[name] = nameRepeatCount[name] || 0;\n          id = name;\n\n          if (nameRepeatCount[name] > 0) {\n            id += '__ec__' + nameRepeatCount[name];\n          }\n\n          nameRepeatCount[name]++;\n        }\n\n        id != null && (idList[idx] = id);\n      }\n    }\n\n    if (!rawData.persistent && rawData.clean) {\n      // Clean unused data if data source is typed array.\n      rawData.clean();\n    }\n\n    this._rawCount = this._count = end; // Reset data extent\n\n    this._extent = {};\n    prepareInvertedIndex(this);\n  };\n\n  function prepareChunks(storage, dimInfo, chunkSize, chunkCount, end) {\n    var DataCtor = dataCtors[dimInfo.type];\n    var lastChunkIndex = chunkCount - 1;\n    var dim = dimInfo.name;\n    var resizeChunkArray = storage[dim][lastChunkIndex];\n\n    if (resizeChunkArray && resizeChunkArray.length < chunkSize) {\n      var newStore = new DataCtor(Math.min(end - lastChunkIndex * chunkSize, chunkSize)); // The cost of the copy is probably inconsiderable\n      // within the initial chunkSize.\n\n      for (var j = 0; j < resizeChunkArray.length; j++) {\n        newStore[j] = resizeChunkArray[j];\n      }\n\n      storage[dim][lastChunkIndex] = newStore;\n    } // Create new chunks.\n\n\n    for (var k = chunkCount * chunkSize; k < end; k += chunkSize) {\n      storage[dim].push(new DataCtor(Math.min(end - k, chunkSize)));\n    }\n  }\n\n  function prepareInvertedIndex(list) {\n    var invertedIndicesMap = list._invertedIndicesMap;\n    util.each(invertedIndicesMap, function (invertedIndices, dim) {\n      var dimInfo = list._dimensionInfos[dim]; // Currently, only dimensions that has ordinalMeta can create inverted indices.\n\n      var ordinalMeta = dimInfo.ordinalMeta;\n\n      if (ordinalMeta) {\n        invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length); // The default value of TypedArray is 0. To avoid miss\n        // mapping to 0, we should set it as INDEX_NOT_FOUND.\n\n        for (var i = 0; i < invertedIndices.length; i++) {\n          invertedIndices[i] = INDEX_NOT_FOUND;\n        }\n\n        for (var i = 0; i < list._count; i++) {\n          // Only support the case that all values are distinct.\n          invertedIndices[list.get(dim, i)] = i;\n        }\n      }\n    });\n  }\n\n  function getRawValueFromStore(list, dimIndex, rawIndex) {\n    var val;\n\n    if (dimIndex != null) {\n      var chunkSize = list._chunkSize;\n      var chunkIndex = Math.floor(rawIndex / chunkSize);\n      var chunkOffset = rawIndex % chunkSize;\n      var dim = list.dimensions[dimIndex];\n      var chunk = list._storage[dim][chunkIndex];\n\n      if (chunk) {\n        val = chunk[chunkOffset];\n        var ordinalMeta = list._dimensionInfos[dim].ordinalMeta;\n\n        if (ordinalMeta && ordinalMeta.categories.length) {\n          val = ordinalMeta.categories[val];\n        }\n      }\n    }\n\n    return val;\n  }\n  /**\n   * @return {number}\n   */\n\n\n  listProto.count = function () {\n    return this._count;\n  };\n\n  listProto.getIndices = function () {\n    var newIndices;\n    var indices = this._indices;\n\n    if (indices) {\n      var Ctor = indices.constructor;\n      var thisCount = this._count; // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\n\n      if (Ctor === Array) {\n        newIndices = new Ctor(thisCount);\n\n        for (var i = 0; i < thisCount; i++) {\n          newIndices[i] = indices[i];\n        }\n      } else {\n        newIndices = new Ctor(indices.buffer, 0, thisCount);\n      }\n    } else {\n      var Ctor = getIndicesCtor(this);\n      var newIndices = new Ctor(this.count());\n\n      for (var i = 0; i < newIndices.length; i++) {\n        newIndices[i] = i;\n      }\n    }\n\n    return newIndices;\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   * @param {string} dim Dim must be concrete name.\n   * @param {number} idx\n   * @param {boolean} stack\n   * @return {number}\n   */\n\n\n  listProto.get = function (dim, idx\n  /*, stack */\n  ) {\n    if (!(idx >= 0 && idx < this._count)) {\n      return NaN;\n    }\n\n    var storage = this._storage;\n\n    if (!storage[dim]) {\n      // TODO Warn ?\n      return NaN;\n    }\n\n    idx = this.getRawIndex(idx);\n    var chunkIndex = Math.floor(idx / this._chunkSize);\n    var chunkOffset = idx % this._chunkSize;\n    var chunkStore = storage[dim][chunkIndex];\n    var value = chunkStore[chunkOffset]; // FIXME ordinal data type is not stackable\n    // if (stack) {\n    //     var dimensionInfo = this._dimensionInfos[dim];\n    //     if (dimensionInfo && dimensionInfo.stackable) {\n    //         var stackedOn = this.stackedOn;\n    //         while (stackedOn) {\n    //             // Get no stacked data of stacked on\n    //             var stackedValue = stackedOn.get(dim, idx);\n    //             // Considering positive stack, negative stack and empty data\n    //             if ((value >= 0 && stackedValue > 0)  // Positive stack\n    //                 || (value <= 0 && stackedValue < 0) // Negative stack\n    //             ) {\n    //                 value += stackedValue;\n    //             }\n    //             stackedOn = stackedOn.stackedOn;\n    //         }\n    //     }\n    // }\n\n    return value;\n  };\n  /**\n   * @param {string} dim concrete dim\n   * @param {number} rawIndex\n   * @return {number|string}\n   */\n\n\n  listProto.getByRawIndex = function (dim, rawIdx) {\n    if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\n      return NaN;\n    }\n\n    var dimStore = this._storage[dim];\n\n    if (!dimStore) {\n      // TODO Warn ?\n      return NaN;\n    }\n\n    var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n    var chunkOffset = rawIdx % this._chunkSize;\n    var chunkStore = dimStore[chunkIndex];\n    return chunkStore[chunkOffset];\n  };\n  /**\n   * FIXME Use `get` on chrome maybe slow(in filterSelf and selectRange).\n   * Hack a much simpler _getFast\n   * @private\n   */\n\n\n  listProto._getFast = function (dim, rawIdx) {\n    var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n    var chunkOffset = rawIdx % this._chunkSize;\n    var chunkStore = this._storage[dim][chunkIndex];\n    return chunkStore[chunkOffset];\n  };\n  /**\n   * Get value for multi dimensions.\n   * @param {Array.<string>} [dimensions] If ignored, using all dimensions.\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getValues = function (dimensions, idx\n  /*, stack */\n  ) {\n    var values = [];\n\n    if (!util.isArray(dimensions)) {\n      // stack = idx;\n      idx = dimensions;\n      dimensions = this.dimensions;\n    }\n\n    for (var i = 0, len = dimensions.length; i < len; i++) {\n      values.push(this.get(dimensions[i], idx\n      /*, stack */\n      ));\n    }\n\n    return values;\n  };\n  /**\n   * If value is NaN. Inlcuding '-'\n   * Only check the coord dimensions.\n   * @param {string} dim\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.hasValue = function (idx) {\n    var dataDimsOnCoord = this._dimensionsSummary.dataDimsOnCoord;\n\n    for (var i = 0, len = dataDimsOnCoord.length; i < len; i++) {\n      // Ordinal type originally can be string or number.\n      // But when an ordinal type is used on coord, it can\n      // not be string but only number. So we can also use isNaN.\n      if (isNaN(this.get(dataDimsOnCoord[i], idx))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Get extent of data in one dimension\n   * @param {string} dim\n   * @param {boolean} stack\n   */\n\n\n  listProto.getDataExtent = function (dim\n  /*, stack */\n  ) {\n    // Make sure use concrete dim as cache name.\n    dim = this.getDimension(dim);\n    var dimData = this._storage[dim];\n    var initialExtent = getInitialExtent(); // stack = !!((stack || false) && this.getCalculationInfo(dim));\n\n    if (!dimData) {\n      return initialExtent;\n    } // Make more strict checkings to ensure hitting cache.\n\n\n    var currEnd = this.count(); // var cacheName = [dim, !!stack].join('_');\n    // var cacheName = dim;\n    // Consider the most cases when using data zoom, `getDataExtent`\n    // happened before filtering. We cache raw extent, which is not\n    // necessary to be cleared and recalculated when restore data.\n\n    var useRaw = !this._indices; // && !stack;\n\n    var dimExtent;\n\n    if (useRaw) {\n      return this._rawExtent[dim].slice();\n    }\n\n    dimExtent = this._extent[dim];\n\n    if (dimExtent) {\n      return dimExtent.slice();\n    }\n\n    dimExtent = initialExtent;\n    var min = dimExtent[0];\n    var max = dimExtent[1];\n\n    for (var i = 0; i < currEnd; i++) {\n      // var value = stack ? this.get(dim, i, true) : this._getFast(dim, this.getRawIndex(i));\n      var value = this._getFast(dim, this.getRawIndex(i));\n\n      value < min && (min = value);\n      value > max && (max = value);\n    }\n\n    dimExtent = [min, max];\n    this._extent[dim] = dimExtent;\n    return dimExtent;\n  };\n  /**\n   * Optimize for the scenario that data is filtered by a given extent.\n   * Consider that if data amount is more than hundreds of thousand,\n   * extent calculation will cost more than 10ms and the cache will\n   * be erased because of the filtering.\n   */\n\n\n  listProto.getApproximateExtent = function (dim\n  /*, stack */\n  ) {\n    dim = this.getDimension(dim);\n    return this._approximateExtent[dim] || this.getDataExtent(dim\n    /*, stack */\n    );\n  };\n\n  listProto.setApproximateExtent = function (extent, dim\n  /*, stack */\n  ) {\n    dim = this.getDimension(dim);\n    this._approximateExtent[dim] = extent.slice();\n  };\n  /**\n   * @param {string} key\n   * @return {*}\n   */\n\n\n  listProto.getCalculationInfo = function (key) {\n    return this._calculationInfo[key];\n  };\n  /**\n   * @param {string|Object} key or k-v object\n   * @param {*} [value]\n   */\n\n\n  listProto.setCalculationInfo = function (key, value) {\n    isObject$b(key) ? util.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n  };\n  /**\n   * Get sum of data in one dimension\n   * @param {string} dim\n   */\n\n\n  listProto.getSum = function (dim\n  /*, stack */\n  ) {\n    var dimData = this._storage[dim];\n    var sum = 0;\n\n    if (dimData) {\n      for (var i = 0, len = this.count(); i < len; i++) {\n        var value = this.get(dim, i\n        /*, stack */\n        );\n\n        if (!isNaN(value)) {\n          sum += value;\n        }\n      }\n    }\n\n    return sum;\n  };\n  /**\n   * Get median of data in one dimension\n   * @param {string} dim\n   */\n\n\n  listProto.getMedian = function (dim\n  /*, stack */\n  ) {\n    var dimDataArray = []; // map all data of one dimension\n\n    this.each(dim, function (val, idx) {\n      if (!isNaN(val)) {\n        dimDataArray.push(val);\n      }\n    }); // TODO\n    // Use quick select?\n    // immutability & sort\n\n    var sortedDimDataArray = [].concat(dimDataArray).sort(function (a, b) {\n      return a - b;\n    });\n    var len = this.count(); // calculate median\n\n    return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\n  }; // /**\n  //  * Retreive the index with given value\n  //  * @param {string} dim Concrete dimension.\n  //  * @param {number} value\n  //  * @return {number}\n  //  */\n  // Currently incorrect: should return dataIndex but not rawIndex.\n  // Do not fix it until this method is to be used somewhere.\n  // FIXME Precision of float value\n  // listProto.indexOf = function (dim, value) {\n  //     var storage = this._storage;\n  //     var dimData = storage[dim];\n  //     var chunkSize = this._chunkSize;\n  //     if (dimData) {\n  //         for (var i = 0, len = this.count(); i < len; i++) {\n  //             var chunkIndex = Math.floor(i / chunkSize);\n  //             var chunkOffset = i % chunkSize;\n  //             if (dimData[chunkIndex][chunkOffset] === value) {\n  //                 return i;\n  //             }\n  //         }\n  //     }\n  //     return -1;\n  // };\n\n  /**\n   * Only support the dimension which inverted index created.\n   * Do not support other cases until required.\n   * @param {string} concrete dim\n   * @param {number|string} value\n   * @return {number} rawIndex\n   */\n\n\n  listProto.rawIndexOf = function (dim, value) {\n    var invertedIndices = dim && this._invertedIndicesMap[dim];\n    var rawIndex = invertedIndices[value];\n\n    if (rawIndex == null || isNaN(rawIndex)) {\n      return INDEX_NOT_FOUND;\n    }\n\n    return rawIndex;\n  };\n  /**\n   * Retreive the index with given name\n   * @param {number} idx\n   * @param {number} name\n   * @return {number}\n   */\n\n\n  listProto.indexOfName = function (name) {\n    for (var i = 0, len = this.count(); i < len; i++) {\n      if (this.getName(i) === name) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index with given raw data index\n   * @param {number} idx\n   * @param {number} name\n   * @return {number}\n   */\n\n\n  listProto.indexOfRawIndex = function (rawIndex) {\n    if (rawIndex >= this._rawCount || rawIndex < 0) {\n      return -1;\n    }\n\n    if (!this._indices) {\n      return rawIndex;\n    } // Indices are ascending\n\n\n    var indices = this._indices; // If rawIndex === dataIndex\n\n    var rawDataIndex = indices[rawIndex];\n\n    if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\n      return rawIndex;\n    }\n\n    var left = 0;\n    var right = this._count - 1;\n\n    while (left <= right) {\n      var mid = (left + right) / 2 | 0;\n\n      if (indices[mid] < rawIndex) {\n        left = mid + 1;\n      } else if (indices[mid] > rawIndex) {\n        right = mid - 1;\n      } else {\n        return mid;\n      }\n    }\n\n    return -1;\n  };\n  /**\n   * Retreive the index of nearest value\n   * @param {string} dim\n   * @param {number} value\n   * @param {number} [maxDistance=Infinity]\n   * @return {Array.<number>} If and only if multiple indices has\n   *        the same value, they are put to the result.\n   */\n\n\n  listProto.indicesOfNearest = function (dim, value, maxDistance) {\n    var storage = this._storage;\n    var dimData = storage[dim];\n    var nearestIndices = [];\n\n    if (!dimData) {\n      return nearestIndices;\n    }\n\n    if (maxDistance == null) {\n      maxDistance = Infinity;\n    }\n\n    var minDist = Infinity;\n    var minDiff = -1;\n    var nearestIndicesLen = 0; // Check the test case of `test/ut/spec/data/List.js`.\n\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var diff = value - this.get(dim, i);\n      var dist = Math.abs(diff);\n\n      if (dist <= maxDistance) {\n        // When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,\n        // we'd better not push both of them to `nearestIndices`, otherwise it is easy to\n        // get more than one item in `nearestIndices` (more specifically, in `tooltip`).\n        // So we chose the one that `diff >= 0` in this csae.\n        // But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them\n        // should be push to `nearestIndices`.\n        if (dist < minDist || dist === minDist && diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          nearestIndicesLen = 0;\n        }\n\n        if (diff === minDiff) {\n          nearestIndices[nearestIndicesLen++] = i;\n        }\n      }\n    }\n\n    nearestIndices.length = nearestIndicesLen;\n    return nearestIndices;\n  };\n  /**\n   * Get raw data index\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getRawIndex = getRawIndexWithoutIndices;\n\n  function getRawIndexWithoutIndices(idx) {\n    return idx;\n  }\n\n  function getRawIndexWithIndices(idx) {\n    if (idx < this._count && idx >= 0) {\n      return this._indices[idx];\n    }\n\n    return -1;\n  }\n  /**\n   * Get raw data item\n   * @param {number} idx\n   * @return {number}\n   */\n\n\n  listProto.getRawDataItem = function (idx) {\n    if (!this._rawData.persistent) {\n      var val = [];\n\n      for (var i = 0; i < this.dimensions.length; i++) {\n        var dim = this.dimensions[i];\n        val.push(this.get(dim, idx));\n      }\n\n      return val;\n    } else {\n      return this._rawData.getItem(this.getRawIndex(idx));\n    }\n  };\n  /**\n   * @param {number} idx\n   * @param {boolean} [notDefaultIdx=false]\n   * @return {string}\n   */\n\n\n  listProto.getName = function (idx) {\n    var rawIndex = this.getRawIndex(idx);\n    return this._nameList[rawIndex] || getRawValueFromStore(this, this._nameDimIdx, rawIndex) || '';\n  };\n  /**\n   * @param {number} idx\n   * @param {boolean} [notDefaultIdx=false]\n   * @return {string}\n   */\n\n\n  listProto.getId = function (idx) {\n    return getId(this, this.getRawIndex(idx));\n  };\n\n  function getId(list, rawIndex) {\n    var id = list._idList[rawIndex];\n\n    if (id == null) {\n      id = getRawValueFromStore(list, list._idDimIdx, rawIndex);\n    }\n\n    if (id == null) {\n      // FIXME Check the usage in graph, should not use prefix.\n      id = ID_PREFIX + rawIndex;\n    }\n\n    return id;\n  }\n\n  function normalizeDimensions(dimensions) {\n    if (!util.isArray(dimensions)) {\n      dimensions = [dimensions];\n    }\n\n    return dimensions;\n  }\n  /**\n   * Data iteration\n   * @param {string|Array.<string>}\n   * @param {Function} cb\n   * @param {*} [context=this]\n   *\n   * @example\n   *  list.each('x', function (x, idx) {});\n   *  list.each(['x', 'y'], function (x, y, idx) {});\n   *  list.each(function (idx) {})\n   */\n\n\n  listProto.each = function (dims, cb, context, contextCompat) {\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dims === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dims;\n      dims = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    dims = util.map(normalizeDimensions(dims), this.getDimension, this);\n    var dimSize = dims.length;\n\n    for (var i = 0; i < this.count(); i++) {\n      // Simple optimization\n      switch (dimSize) {\n        case 0:\n          cb.call(context, i);\n          break;\n\n        case 1:\n          cb.call(context, this.get(dims[0], i), i);\n          break;\n\n        case 2:\n          cb.call(context, this.get(dims[0], i), this.get(dims[1], i), i);\n          break;\n\n        default:\n          var k = 0;\n          var value = [];\n\n          for (; k < dimSize; k++) {\n            value[k] = this.get(dims[k], i);\n          } // Index\n\n\n          value[k] = i;\n          cb.apply(context, value);\n      }\n    }\n  };\n  /**\n   * Data filter\n   * @param {string|Array.<string>}\n   * @param {Function} cb\n   * @param {*} [context=this]\n   */\n\n\n  listProto.filterSelf = function (dimensions, cb, context, contextCompat) {\n\n    if (!this._count) {\n      return;\n    }\n\n    if (typeof dimensions === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dimensions;\n      dimensions = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    dimensions = util.map(normalizeDimensions(dimensions), this.getDimension, this);\n    var count = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(count);\n    var value = [];\n    var dimSize = dimensions.length;\n    var offset = 0;\n    var dim0 = dimensions[0];\n\n    for (var i = 0; i < count; i++) {\n      var keep;\n      var rawIdx = this.getRawIndex(i); // Simple optimization\n\n      if (dimSize === 0) {\n        keep = cb.call(context, i);\n      } else if (dimSize === 1) {\n        var val = this._getFast(dim0, rawIdx);\n\n        keep = cb.call(context, val, i);\n      } else {\n        for (var k = 0; k < dimSize; k++) {\n          value[k] = this._getFast(dim0, rawIdx);\n        }\n\n        value[k] = i;\n        keep = cb.apply(context, value);\n      }\n\n      if (keep) {\n        newIndices[offset++] = rawIdx;\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < count) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n\n\n  listProto.selectRange = function (range) {\n\n    if (!this._count) {\n      return;\n    }\n\n    var dimensions = [];\n\n    for (var dim in range) {\n      if (range.hasOwnProperty(dim)) {\n        dimensions.push(dim);\n      }\n    }\n\n    var dimSize = dimensions.length;\n\n    if (!dimSize) {\n      return;\n    }\n\n    var originalCount = this.count();\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(originalCount);\n    var offset = 0;\n    var dim0 = dimensions[0];\n    var min = range[dim0][0];\n    var max = range[dim0][1];\n    var quickFinished = false;\n\n    if (!this._indices) {\n      // Extreme optimization for common case. About 2x faster in chrome.\n      var idx = 0;\n\n      if (dimSize === 1) {\n        var dimStorage = this._storage[dimensions[0]];\n\n        for (var k = 0; k < this._chunkCount; k++) {\n          var chunkStorage = dimStorage[k];\n          var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n          for (var i = 0; i < len; i++) {\n            var val = chunkStorage[i]; // NaN will not be filtered. Consider the case, in line chart, empty\n            // value indicates the line should be broken. But for the case like\n            // scatter plot, a data item with empty value will not be rendered,\n            // but the axis extent may be effected if some other dim of the data\n            // item has value. Fortunately it is not a significant negative effect.\n\n            if (val >= min && val <= max || isNaN(val)) {\n              newIndices[offset++] = idx;\n            }\n\n            idx++;\n          }\n        }\n\n        quickFinished = true;\n      } else if (dimSize === 2) {\n        var dimStorage = this._storage[dim0];\n        var dimStorage2 = this._storage[dimensions[1]];\n        var min2 = range[dimensions[1]][0];\n        var max2 = range[dimensions[1]][1];\n\n        for (var k = 0; k < this._chunkCount; k++) {\n          var chunkStorage = dimStorage[k];\n          var chunkStorage2 = dimStorage2[k];\n          var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n          for (var i = 0; i < len; i++) {\n            var val = chunkStorage[i];\n            var val2 = chunkStorage2[i]; // Do not filter NaN, see comment above.\n\n            if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\n              newIndices[offset++] = idx;\n            }\n\n            idx++;\n          }\n        }\n\n        quickFinished = true;\n      }\n    }\n\n    if (!quickFinished) {\n      if (dimSize === 1) {\n        for (var i = 0; i < originalCount; i++) {\n          var rawIndex = this.getRawIndex(i);\n\n          var val = this._getFast(dim0, rawIndex); // Do not filter NaN, see comment above.\n\n\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = rawIndex;\n          }\n        }\n      } else {\n        for (var i = 0; i < originalCount; i++) {\n          var keep = true;\n          var rawIndex = this.getRawIndex(i);\n\n          for (var k = 0; k < dimSize; k++) {\n            var dimk = dimensions[k];\n\n            var val = this._getFast(dim, rawIndex); // Do not filter NaN, see comment above.\n\n\n            if (val < range[dimk][0] || val > range[dimk][1]) {\n              keep = false;\n            }\n          }\n\n          if (keep) {\n            newIndices[offset++] = this.getRawIndex(i);\n          }\n        }\n      }\n    } // Set indices after filtered.\n\n\n    if (offset < originalCount) {\n      this._indices = newIndices;\n    }\n\n    this._count = offset; // Reset data extent\n\n    this._extent = {};\n    this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return this;\n  };\n  /**\n   * Data mapping to a plain array\n   * @param {string|Array.<string>} [dimensions]\n   * @param {Function} cb\n   * @param {*} [context=this]\n   * @return {Array}\n   */\n\n\n  listProto.mapArray = function (dimensions, cb, context, contextCompat) {\n\n    if (typeof dimensions === 'function') {\n      contextCompat = context;\n      context = cb;\n      cb = dimensions;\n      dimensions = [];\n    } // contextCompat just for compat echarts3\n\n\n    context = context || contextCompat || this;\n    var result = [];\n    this.each(dimensions, function () {\n      result.push(cb && cb.apply(this, arguments));\n    }, context);\n    return result;\n  }; // Data in excludeDimensions is copied, otherwise transfered.\n\n\n  function cloneListForMapAndSample(original, excludeDimensions) {\n    var allDimensions = original.dimensions;\n    var list = new List(util.map(allDimensions, original.getDimensionInfo, original), original.hostModel); // FIXME If needs stackedOn, value may already been stacked\n\n    transferProperties(list, original);\n    var storage = list._storage = {};\n    var originalStorage = original._storage; // Init storage\n\n    for (var i = 0; i < allDimensions.length; i++) {\n      var dim = allDimensions[i];\n\n      if (originalStorage[dim]) {\n        // Notice that we do not reset invertedIndicesMap here, becuase\n        // there is no scenario of mapping or sampling ordinal dimension.\n        if (util.indexOf(excludeDimensions, dim) >= 0) {\n          storage[dim] = cloneDimStore(originalStorage[dim]);\n          list._rawExtent[dim] = getInitialExtent();\n          list._extent[dim] = null;\n        } else {\n          // Direct reference for other dimensions\n          storage[dim] = originalStorage[dim];\n        }\n      }\n    }\n\n    return list;\n  }\n\n  function cloneDimStore(originalDimStore) {\n    var newDimStore = new Array(originalDimStore.length);\n\n    for (var j = 0; j < originalDimStore.length; j++) {\n      newDimStore[j] = cloneChunk(originalDimStore[j]);\n    }\n\n    return newDimStore;\n  }\n\n  function getInitialExtent() {\n    return [Infinity, -Infinity];\n  }\n  /**\n   * Data mapping to a new List with given dimensions\n   * @param {string|Array.<string>} dimensions\n   * @param {Function} cb\n   * @param {*} [context=this]\n   * @return {Array}\n   */\n\n\n  listProto.map = function (dimensions, cb, context, contextCompat) {\n\n    context = context || contextCompat || this;\n    dimensions = util.map(normalizeDimensions(dimensions), this.getDimension, this);\n    var list = cloneListForMapAndSample(this, dimensions); // Following properties are all immutable.\n    // So we can reference to the same value\n\n    list._indices = this._indices;\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    var storage = list._storage;\n    var tmpRetValue = [];\n    var chunkSize = this._chunkSize;\n    var dimSize = dimensions.length;\n    var dataCount = this.count();\n    var values = [];\n    var rawExtent = list._rawExtent;\n\n    for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\n      for (var dimIndex = 0; dimIndex < dimSize; dimIndex++) {\n        values[dimIndex] = this.get(dimensions[dimIndex], dataIndex\n        /*, stack */\n        );\n      }\n\n      values[dimSize] = dataIndex;\n      var retValue = cb && cb.apply(context, values);\n\n      if (retValue != null) {\n        // a number or string (in oridinal dimension)?\n        if (typeof retValue !== 'object') {\n          tmpRetValue[0] = retValue;\n          retValue = tmpRetValue;\n        }\n\n        var rawIndex = this.getRawIndex(dataIndex);\n        var chunkIndex = Math.floor(rawIndex / chunkSize);\n        var chunkOffset = rawIndex % chunkSize;\n\n        for (var i = 0; i < retValue.length; i++) {\n          var dim = dimensions[i];\n          var val = retValue[i];\n          var rawExtentOnDim = rawExtent[dim];\n          var dimStore = storage[dim];\n\n          if (dimStore) {\n            dimStore[chunkIndex][chunkOffset] = val;\n          }\n\n          if (val < rawExtentOnDim[0]) {\n            rawExtentOnDim[0] = val;\n          }\n\n          if (val > rawExtentOnDim[1]) {\n            rawExtentOnDim[1] = val;\n          }\n        }\n      }\n    }\n\n    return list;\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param {string} dimension\n   * @param {number} rate\n   * @param {Function} sampleValue\n   * @param {Function} sampleIndex Sample index for name and id\n   */\n\n\n  listProto.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this, [dimension]);\n    var targetStorage = list._storage;\n    var frameValues = [];\n    var frameSize = Math.floor(1 / rate);\n    var dimStore = targetStorage[dimension];\n    var len = this.count();\n    var chunkSize = this._chunkSize;\n    var rawExtentOnDim = list._rawExtent[dimension];\n    var newIndices = new (getIndicesCtor(this))(len);\n    var offset = 0;\n\n    for (var i = 0; i < len; i += frameSize) {\n      // Last frame\n      if (frameSize > len - i) {\n        frameSize = len - i;\n        frameValues.length = frameSize;\n      }\n\n      for (var k = 0; k < frameSize; k++) {\n        var dataIdx = this.getRawIndex(i + k);\n        var originalChunkIndex = Math.floor(dataIdx / chunkSize);\n        var originalChunkOffset = dataIdx % chunkSize;\n        frameValues[k] = dimStore[originalChunkIndex][originalChunkOffset];\n      }\n\n      var value = sampleValue(frameValues);\n      var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1));\n      var sampleChunkIndex = Math.floor(sampleFrameIdx / chunkSize);\n      var sampleChunkOffset = sampleFrameIdx % chunkSize; // Only write value on the filtered data\n\n      dimStore[sampleChunkIndex][sampleChunkOffset] = value;\n\n      if (value < rawExtentOnDim[0]) {\n        rawExtentOnDim[0] = value;\n      }\n\n      if (value > rawExtentOnDim[1]) {\n        rawExtentOnDim[1] = value;\n      }\n\n      newIndices[offset++] = sampleFrameIdx;\n    }\n\n    list._count = offset;\n    list._indices = newIndices;\n    list.getRawIndex = getRawIndexWithIndices;\n    return list;\n  };\n  /**\n   * Get model of one data item.\n   *\n   * @param {number} idx\n   */\n  // FIXME Model proxy ?\n\n\n  listProto.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    return new Model_1(this.getRawDataItem(idx), hostModel, hostModel && hostModel.ecModel);\n  };\n  /**\n   * Create a data differ\n   * @param {module:echarts/data/List} otherList\n   * @return {module:echarts/data/DataDiffer}\n   */\n\n\n  listProto.diff = function (otherList) {\n    var thisList = this;\n    return new DataDiffer_1(otherList ? otherList.getIndices() : [], this.getIndices(), function (idx) {\n      return getId(otherList, idx);\n    }, function (idx) {\n      return getId(thisList, idx);\n    });\n  };\n  /**\n   * Get visual property.\n   * @param {string} key\n   */\n\n\n  listProto.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n  };\n  /**\n   * Set visual property\n   * @param {string|Object} key\n   * @param {*} [value]\n   *\n   * @example\n   *  setVisual('color', color);\n   *  setVisual({\n   *      'color': color\n   *  });\n   */\n\n\n  listProto.setVisual = function (key, val) {\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.setVisual(name, key[name]);\n        }\n      }\n\n      return;\n    }\n\n    this._visual = this._visual || {};\n    this._visual[key] = val;\n  };\n  /**\n   * Set layout property.\n   * @param {string|Object} key\n   * @param {*} [val]\n   */\n\n\n  listProto.setLayout = function (key, val) {\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.setLayout(name, key[name]);\n        }\n      }\n\n      return;\n    }\n\n    this._layout[key] = val;\n  };\n  /**\n   * Get layout property.\n   * @param  {string} key.\n   * @return {*}\n   */\n\n\n  listProto.getLayout = function (key) {\n    return this._layout[key];\n  };\n  /**\n   * Get layout of single data item\n   * @param {number} idx\n   */\n\n\n  listProto.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n  };\n  /**\n   * Set layout of single data item\n   * @param {number} idx\n   * @param {Object} layout\n   * @param {boolean=} [merge=false]\n   */\n\n\n  listProto.setItemLayout = function (idx, layout, merge) {\n    this._itemLayouts[idx] = merge ? util.extend(this._itemLayouts[idx] || {}, layout) : layout;\n  };\n  /**\n   * Clear all layout of single data item\n   */\n\n\n  listProto.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n  };\n  /**\n   * Get visual property of single data item\n   * @param {number} idx\n   * @param {string} key\n   * @param {boolean} [ignoreParent=false]\n   */\n\n\n  listProto.getItemVisual = function (idx, key, ignoreParent) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n\n    if (val == null && !ignoreParent) {\n      // Use global visual property\n      return this.getVisual(key);\n    }\n\n    return val;\n  };\n  /**\n   * Set visual property of single data item\n   *\n   * @param {number} idx\n   * @param {string|Object} key\n   * @param {*} [value]\n   *\n   * @example\n   *  setItemVisual(0, 'color', color);\n   *  setItemVisual(0, {\n   *      'color': color\n   *  });\n   */\n\n\n  listProto.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    var hasItemVisual = this.hasItemVisual;\n    this._itemVisuals[idx] = itemVisual;\n\n    if (isObject$b(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          itemVisual[name] = key[name];\n          hasItemVisual[name] = true;\n        }\n      }\n\n      return;\n    }\n\n    itemVisual[key] = value;\n    hasItemVisual[key] = true;\n  };\n  /**\n   * Clear itemVisuals and list visual.\n   */\n\n\n  listProto.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n    this.hasItemVisual = {};\n  };\n\n  var setItemDataAndSeriesIndex = function (child) {\n    child.seriesIndex = this.seriesIndex;\n    child.dataIndex = this.dataIndex;\n    child.dataType = this.dataType;\n  };\n  /**\n   * Set graphic element relative to data. It can be set as null\n   * @param {number} idx\n   * @param {module:zrender/Element} [el]\n   */\n\n\n  listProto.setItemGraphicEl = function (idx, el) {\n    var hostModel = this.hostModel;\n\n    if (el) {\n      // Add data index and series index for indexing the data by element\n      // Useful in tooltip\n      el.dataIndex = idx;\n      el.dataType = this.dataType;\n      el.seriesIndex = hostModel && hostModel.seriesIndex;\n\n      if (el.type === 'group') {\n        el.traverse(setItemDataAndSeriesIndex, el);\n      }\n    }\n\n    this._graphicEls[idx] = el;\n  };\n  /**\n   * @param {number} idx\n   * @return {module:zrender/Element}\n   */\n\n\n  listProto.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n  };\n  /**\n   * @param {Function} cb\n   * @param {*} context\n   */\n\n\n  listProto.eachItemGraphicEl = function (cb, context) {\n    util.each(this._graphicEls, function (el, idx) {\n      if (el) {\n        cb && cb.call(context, el, idx);\n      }\n    });\n  };\n  /**\n   * Shallow clone a new list except visual and layout properties, and graph elements.\n   * New list only change the indices.\n   */\n\n\n  listProto.cloneShallow = function (list) {\n    if (!list) {\n      var dimensionInfoList = util.map(this.dimensions, this.getDimensionInfo, this);\n      list = new List(dimensionInfoList, this.hostModel);\n    } // FIXME\n\n\n    list._storage = this._storage;\n    transferProperties(list, this); // Clone will not change the data extent and indices\n\n    if (this._indices) {\n      var Ctor = this._indices.constructor;\n      list._indices = new Ctor(this._indices);\n    } else {\n      list._indices = null;\n    }\n\n    list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n    return list;\n  };\n  /**\n   * Wrap some method to add more feature\n   * @param {string} methodName\n   * @param {Function} injectFunction\n   */\n\n\n  listProto.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n\n    if (typeof originalMethod !== 'function') {\n      return;\n    }\n\n    this.__wrappedMethods = this.__wrappedMethods || [];\n\n    this.__wrappedMethods.push(methodName);\n\n    this[methodName] = function () {\n      var res = originalMethod.apply(this, arguments);\n      return injectFunction.apply(this, [res].concat(util.slice(arguments)));\n    };\n  }; // Methods that create a new list based on this list should be listed here.\n  // Notice that those method should `RETURN` the new list.\n\n\n  listProto.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'map']; // Methods that change indices of this list should be listed here.\n\n  listProto.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\n  var _default$1j = List;\n  var List_1 = _default$1j;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$8 = util.createHashMap;\n  var each$g = util.each;\n  var isString$8 = util.isString;\n  var defaults$2 = util.defaults;\n  var extend$8 = util.extend;\n  var isObject$c = util.isObject;\n  var clone$6 = util.clone;\n\n\n\n  var normalizeToArray$4 = model.normalizeToArray;\n\n\n\n  var guessOrdinal$1 = sourceHelper.guessOrdinal;\n  var BE_ORDINAL$1 = sourceHelper.BE_ORDINAL;\n\n\n\n\n\n  var OTHER_DIMENSIONS$1 = dimensionHelper.OTHER_DIMENSIONS;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @deprecated\n   * Use `echarts/data/helper/createDimensions` instead.\n   */\n\n  /**\n   * @see {module:echarts/test/ut/spec/data/completeDimensions}\n   *\n   * This method builds the relationship between:\n   * + \"what the coord sys or series requires (see `sysDims`)\",\n   * + \"what the user defines (in `encode` and `dimensions`, see `opt.dimsDef` and `opt.encodeDef`)\"\n   * + \"what the data source provids (see `source`)\".\n   *\n   * Some guess strategy will be adapted if user does not define something.\n   * If no 'value' dimension specified, the first no-named dimension will be\n   * named as 'value'.\n   *\n   * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n   *      provides not only dim template, but also default order.\n   *      properties: 'name', 'type', 'displayName'.\n   *      `name` of each item provides default coord name.\n   *      [{dimsDef: [string|Object, ...]}, ...] dimsDef of sysDim item provides default dim name, and\n   *                                    provide dims count that the sysDim required.\n   *      [{ordinalMeta}] can be specified.\n   * @param {module:echarts/data/Source|Array|Object} source or data (for compatibal with pervious)\n   * @param {Object} [opt]\n   * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n   *      For example: ['asdf', {name, type}, ...].\n   * @param {Object|HashMap} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n   * @param {Function} [opt.encodeDefaulter] Called if no `opt.encodeDef` exists.\n   *      If not specified, auto find the next available data dim.\n   *      param source {module:data/Source}\n   *      param dimCount {number}\n   *      return {Object} encode Never be `null/undefined`.\n   * @param {string} [opt.generateCoord] Generate coord dim with the given name.\n   *      If not specified, extra dim names will be:\n   *      'value', 'value0', 'value1', ...\n   * @param {number} [opt.generateCoordCount] By default, the generated dim name is `generateCoord`.\n   *      If `generateCoordCount` specified, the generated dim names will be:\n   *      `generateCoord` + 0, `generateCoord` + 1, ...\n   *      can be Infinity, indicate that use all of the remain columns.\n   * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n   * @return {Array.<module:data/DataDimensionInfo>}\n   */\n  function completeDimensions(sysDims, source, opt) {\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    opt = opt || {};\n    sysDims = (sysDims || []).slice();\n    var dimsDef = (opt.dimsDef || []).slice();\n    var dataDimNameMap = createHashMap$8();\n    var coordDimNameMap = createHashMap$8(); // var valueCandidate;\n\n    var result = [];\n    var dimCount = getDimCount(source, sysDims, dimsDef, opt.dimCount); // Apply user defined dims (`name` and `type`) and init result.\n\n    for (var i = 0; i < dimCount; i++) {\n      var dimDefItem = dimsDef[i] = extend$8({}, isObject$c(dimsDef[i]) ? dimsDef[i] : {\n        name: dimsDef[i]\n      });\n      var userDimName = dimDefItem.name;\n      var resultItem = result[i] = new DataDimensionInfo_1(); // Name will be applied later for avoiding duplication.\n\n      if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n        // Only if `series.dimensions` is defined in option\n        // displayName, will be set, and dimension will be diplayed vertically in\n        // tooltip by default.\n        resultItem.name = resultItem.displayName = userDimName;\n        dataDimNameMap.set(userDimName, i);\n      }\n\n      dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n      dimDefItem.displayName != null && (resultItem.displayName = dimDefItem.displayName);\n    }\n\n    var encodeDef = opt.encodeDef;\n\n    if (!encodeDef && opt.encodeDefaulter) {\n      encodeDef = opt.encodeDefaulter(source, dimCount);\n    }\n\n    encodeDef = createHashMap$8(encodeDef); // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n    encodeDef.each(function (dataDims, coordDim) {\n      dataDims = normalizeToArray$4(dataDims).slice(); // Note: It is allowed that `dataDims.length` is `0`, e.g., options is\n      // `{encode: {x: -1, y: 1}}`. Should not filter anything in\n      // this case.\n\n      if (dataDims.length === 1 && !isString$8(dataDims[0]) && dataDims[0] < 0) {\n        encodeDef.set(coordDim, false);\n        return;\n      }\n\n      var validDataDims = encodeDef.set(coordDim, []);\n      each$g(dataDims, function (resultDimIdx, idx) {\n        // The input resultDimIdx can be dim name or index.\n        isString$8(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n        if (resultDimIdx != null && resultDimIdx < dimCount) {\n          validDataDims[idx] = resultDimIdx;\n          applyDim(result[resultDimIdx], coordDim, idx);\n        }\n      });\n    }); // Apply templetes and default order from `sysDims`.\n\n    var availDimIdx = 0;\n    each$g(sysDims, function (sysDimItem, sysDimIndex) {\n      var coordDim;\n      var sysDimItem;\n      var sysDimItemDimsDef;\n      var sysDimItemOtherDims;\n\n      if (isString$8(sysDimItem)) {\n        coordDim = sysDimItem;\n        sysDimItem = {};\n      } else {\n        coordDim = sysDimItem.name;\n        var ordinalMeta = sysDimItem.ordinalMeta;\n        sysDimItem.ordinalMeta = null;\n        sysDimItem = clone$6(sysDimItem);\n        sysDimItem.ordinalMeta = ordinalMeta; // `coordDimIndex` should not be set directly.\n\n        sysDimItemDimsDef = sysDimItem.dimsDef;\n        sysDimItemOtherDims = sysDimItem.otherDims;\n        sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n      }\n\n      var dataDims = encodeDef.get(coordDim); // negative resultDimIdx means no need to mapping.\n\n      if (dataDims === false) {\n        return;\n      }\n\n      var dataDims = normalizeToArray$4(dataDims); // dimensions provides default dim sequences.\n\n      if (!dataDims.length) {\n        for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n          while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n            availDimIdx++;\n          }\n\n          availDimIdx < result.length && dataDims.push(availDimIdx++);\n        }\n      } // Apply templates.\n\n\n      each$g(dataDims, function (resultDimIdx, coordDimIndex) {\n        var resultItem = result[resultDimIdx];\n        applyDim(defaults$2(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n        if (resultItem.name == null && sysDimItemDimsDef) {\n          var sysDimItemDimsDefItem = sysDimItemDimsDef[coordDimIndex];\n          !isObject$c(sysDimItemDimsDefItem) && (sysDimItemDimsDefItem = {\n            name: sysDimItemDimsDefItem\n          });\n          resultItem.name = resultItem.displayName = sysDimItemDimsDefItem.name;\n          resultItem.defaultTooltip = sysDimItemDimsDefItem.defaultTooltip;\n        } // FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}\n\n\n        sysDimItemOtherDims && defaults$2(resultItem.otherDims, sysDimItemOtherDims);\n      });\n    });\n\n    function applyDim(resultItem, coordDim, coordDimIndex) {\n      if (OTHER_DIMENSIONS$1.get(coordDim) != null) {\n        resultItem.otherDims[coordDim] = coordDimIndex;\n      } else {\n        resultItem.coordDim = coordDim;\n        resultItem.coordDimIndex = coordDimIndex;\n        coordDimNameMap.set(coordDim, true);\n      }\n    } // Make sure the first extra dim is 'value'.\n\n\n    var generateCoord = opt.generateCoord;\n    var generateCoordCount = opt.generateCoordCount;\n    var fromZero = generateCoordCount != null;\n    generateCoordCount = generateCoord ? generateCoordCount || 1 : 0;\n    var extra = generateCoord || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n    for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n      var resultItem = result[resultDimIdx] = result[resultDimIdx] || new DataDimensionInfo_1();\n      var coordDim = resultItem.coordDim;\n\n      if (coordDim == null) {\n        resultItem.coordDim = genName(extra, coordDimNameMap, fromZero);\n        resultItem.coordDimIndex = 0;\n\n        if (!generateCoord || generateCoordCount <= 0) {\n          resultItem.isExtraCoord = true;\n        }\n\n        generateCoordCount--;\n      }\n\n      resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n\n      if (resultItem.type == null && (guessOrdinal$1(source, resultDimIdx, resultItem.name) === BE_ORDINAL$1.Must // Consider the case:\n      // {\n      //    dataset: {source: [\n      //        ['2001', 123],\n      //        ['2002', 456],\n      //        ...\n      //        ['The others', 987],\n      //    ]},\n      //    series: {type: 'pie'}\n      // }\n      // The first colum should better be treated as a \"ordinal\" although it\n      // might not able to be detected as an \"ordinal\" by `guessOrdinal`.\n      || resultItem.isExtraCoord && (resultItem.otherDims.itemName != null || resultItem.otherDims.seriesName != null))) {\n        resultItem.type = 'ordinal';\n      }\n    }\n\n    return result;\n  } // ??? TODO\n  // Originally detect dimCount by data[0]. Should we\n  // optimize it to only by sysDims and dimensions and encode.\n  // So only necessary dims will be initialized.\n  // But\n  // (1) custom series should be considered. where other dims\n  // may be visited.\n  // (2) sometimes user need to calcualte bubble size or use visualMap\n  // on other dimensions besides coordSys needed.\n  // So, dims that is not used by system, should be shared in storage?\n\n\n  function getDimCount(source, sysDims, dimsDef, optDimCount) {\n    // Note that the result dimCount should not small than columns count\n    // of data, otherwise `dataDimNameMap` checking will be incorrect.\n    var dimCount = Math.max(source.dimensionsDetectCount || 1, sysDims.length, dimsDef.length, optDimCount || 0);\n    each$g(sysDims, function (sysDimItem) {\n      var sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n    });\n    return dimCount;\n  }\n\n  function genName(name, map, fromZero) {\n    if (fromZero || map.get(name) != null) {\n      var i = 0;\n\n      while (map.get(name + i) != null) {\n        i++;\n      }\n\n      name += i;\n    }\n\n    map.set(name, true);\n    return name;\n  }\n\n  var _default$1k = completeDimensions;\n  var completeDimensions_1 = _default$1k;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Substitute `completeDimensions`.\n   * `completeDimensions` is to be deprecated.\n   */\n\n  /**\n   * @param {module:echarts/data/Source|module:echarts/data/List} source or data.\n   * @param {Object|Array} [opt]\n   * @param {Array.<string|Object>} [opt.coordDimensions=[]]\n   * @param {number} [opt.dimensionsCount]\n   * @param {string} [opt.generateCoord]\n   * @param {string} [opt.generateCoordCount]\n   * @param {Array.<string|Object>} [opt.dimensionsDefine=source.dimensionsDefine] Overwrite source define.\n   * @param {Object|HashMap} [opt.encodeDefine=source.encodeDefine] Overwrite source define.\n   * @param {Function} [opt.encodeDefaulter] Make default encode if user not specified.\n   * @return {Array.<Object>} dimensionsInfo\n   */\n  function _default$1l(source, opt) {\n    opt = opt || {};\n    return completeDimensions_1(opt.coordDimensions || [], source, {\n      dimsDef: opt.dimensionsDefine || source.dimensionsDefine,\n      encodeDef: opt.encodeDefine || source.encodeDefine,\n      dimCount: opt.dimensionsCount,\n      encodeDefaulter: opt.encodeDefaulter,\n      generateCoord: opt.generateCoord,\n      generateCoordCount: opt.generateCoordCount\n    });\n  }\n\n  var createDimensions = _default$1l;\n\n  var createHashMap$9 = util.createHashMap;\n  var each$h = util.each;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Helper for model references.\n   * There are many manners to refer axis/coordSys.\n   */\n  // TODO\n  // merge relevant logic to this file?\n  // check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\n\n  /**\n   * @class\n   * For example:\n   * {\n   *     coordSysName: 'cartesian2d',\n   *     coordSysDims: ['x', 'y', ...],\n   *     axisMap: HashMap({\n   *         x: xAxisModel,\n   *         y: yAxisModel\n   *     }),\n   *     categoryAxisMap: HashMap({\n   *         x: xAxisModel,\n   *         y: undefined\n   *     }),\n   *     // The index of the first category axis in `coordSysDims`.\n   *     // `null/undefined` means no category axis exists.\n   *     firstCategoryDimIndex: 1,\n   *     // To replace user specified encode.\n   * }\n   */\n  function CoordSysInfo(coordSysName) {\n    /**\n     * @type {string}\n     */\n    this.coordSysName = coordSysName;\n    /**\n     * @type {Array.<string>}\n     */\n\n    this.coordSysDims = [];\n    /**\n     * @type {module:zrender/core/util#HashMap}\n     */\n\n    this.axisMap = createHashMap$9();\n    /**\n     * @type {module:zrender/core/util#HashMap}\n     */\n\n    this.categoryAxisMap = createHashMap$9();\n    /**\n     * @type {number}\n     */\n\n    this.firstCategoryDimIndex = null;\n  }\n  /**\n   * @return {module:model/referHelper#CoordSysInfo}\n   */\n\n\n  function getCoordSysInfoBySeries(seriesModel) {\n    var coordSysName = seriesModel.get('coordinateSystem');\n    var result = new CoordSysInfo(coordSysName);\n    var fetch = fetchers[coordSysName];\n\n    if (fetch) {\n      fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n      return result;\n    }\n  }\n\n  var fetchers = {\n    cartesian2d: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var xAxisModel = seriesModel.getReferringComponents('xAxis')[0];\n      var yAxisModel = seriesModel.getReferringComponents('yAxis')[0];\n      result.coordSysDims = ['x', 'y'];\n      axisMap.set('x', xAxisModel);\n      axisMap.set('y', yAxisModel);\n\n      if (isCategory(xAxisModel)) {\n        categoryAxisMap.set('x', xAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n\n      if (isCategory(yAxisModel)) {\n        categoryAxisMap.set('y', yAxisModel);\n        result.firstCategoryDimIndex == null & (result.firstCategoryDimIndex = 1);\n      }\n    },\n    singleAxis: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var singleAxisModel = seriesModel.getReferringComponents('singleAxis')[0];\n      result.coordSysDims = ['single'];\n      axisMap.set('single', singleAxisModel);\n\n      if (isCategory(singleAxisModel)) {\n        categoryAxisMap.set('single', singleAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n    },\n    polar: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var polarModel = seriesModel.getReferringComponents('polar')[0];\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      result.coordSysDims = ['radius', 'angle'];\n      axisMap.set('radius', radiusAxisModel);\n      axisMap.set('angle', angleAxisModel);\n\n      if (isCategory(radiusAxisModel)) {\n        categoryAxisMap.set('radius', radiusAxisModel);\n        result.firstCategoryDimIndex = 0;\n      }\n\n      if (isCategory(angleAxisModel)) {\n        categoryAxisMap.set('angle', angleAxisModel);\n        result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n      }\n    },\n    geo: function (seriesModel, result, axisMap, categoryAxisMap) {\n      result.coordSysDims = ['lng', 'lat'];\n    },\n    parallel: function (seriesModel, result, axisMap, categoryAxisMap) {\n      var ecModel = seriesModel.ecModel;\n      var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n      var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n      each$h(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n        var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n        var axisDim = coordSysDims[index];\n        axisMap.set(axisDim, axisModel);\n\n        if (isCategory(axisModel) && result.firstCategoryDimIndex == null) {\n          categoryAxisMap.set(axisDim, axisModel);\n          result.firstCategoryDimIndex = index;\n        }\n      });\n    }\n  };\n\n  function isCategory(axisModel) {\n    return axisModel.get('type') === 'category';\n  }\n\n  var getCoordSysInfoBySeries_1 = getCoordSysInfoBySeries;\n\n  var referHelper = {\n  \tgetCoordSysInfoBySeries: getCoordSysInfoBySeries_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$i = util.each;\n  var isString$9 = util.isString;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Note that it is too complicated to support 3d stack by value\n   * (have to create two-dimension inverted index), so in 3d case\n   * we just support that stacked by index.\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Array.<string|Object>} dimensionInfoList The same as the input of <module:echarts/data/List>.\n   *        The input dimensionInfoList will be modified.\n   * @param {Object} [opt]\n   * @param {boolean} [opt.stackedCoordDimension=''] Specify a coord dimension if needed.\n   * @param {boolean} [opt.byIndex=false]\n   * @return {Object} calculationInfo\n   * {\n   *     stackedDimension: string\n   *     stackedByDimension: string\n   *     isStackedByIndex: boolean\n   *     stackedOverDimension: string\n   *     stackResultDimension: string\n   * }\n   */\n  function enableDataStack(seriesModel, dimensionInfoList, opt) {\n    opt = opt || {};\n    var byIndex = opt.byIndex;\n    var stackedCoordDimension = opt.stackedCoordDimension; // Compatibal: when `stack` is set as '', do not stack.\n\n    var mayStack = !!(seriesModel && seriesModel.get('stack'));\n    var stackedByDimInfo;\n    var stackedDimInfo;\n    var stackResultDimension;\n    var stackedOverDimension;\n    each$i(dimensionInfoList, function (dimensionInfo, index) {\n      if (isString$9(dimensionInfo)) {\n        dimensionInfoList[index] = dimensionInfo = {\n          name: dimensionInfo\n        };\n      }\n\n      if (mayStack && !dimensionInfo.isExtraCoord) {\n        // Find the first ordinal dimension as the stackedByDimInfo.\n        if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {\n          stackedByDimInfo = dimensionInfo;\n        } // Find the first stackable dimension as the stackedDimInfo.\n\n\n        if (!stackedDimInfo && dimensionInfo.type !== 'ordinal' && dimensionInfo.type !== 'time' && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {\n          stackedDimInfo = dimensionInfo;\n        }\n      }\n    });\n\n    if (stackedDimInfo && !byIndex && !stackedByDimInfo) {\n      // Compatible with previous design, value axis (time axis) only stack by index.\n      // It may make sense if the user provides elaborately constructed data.\n      byIndex = true;\n    } // Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.\n    // That put stack logic in List is for using conveniently in echarts extensions, but it\n    // might not be a good way.\n\n\n    if (stackedDimInfo) {\n      // Use a weird name that not duplicated with other names.\n      stackResultDimension = '__\\0ecstackresult';\n      stackedOverDimension = '__\\0ecstackedover'; // Create inverted index to fast query index by value.\n\n      if (stackedByDimInfo) {\n        stackedByDimInfo.createInvertedIndices = true;\n      }\n\n      var stackedDimCoordDim = stackedDimInfo.coordDim;\n      var stackedDimType = stackedDimInfo.type;\n      var stackedDimCoordIndex = 0;\n      each$i(dimensionInfoList, function (dimensionInfo) {\n        if (dimensionInfo.coordDim === stackedDimCoordDim) {\n          stackedDimCoordIndex++;\n        }\n      });\n      dimensionInfoList.push({\n        name: stackResultDimension,\n        coordDim: stackedDimCoordDim,\n        coordDimIndex: stackedDimCoordIndex,\n        type: stackedDimType,\n        isExtraCoord: true,\n        isCalculationCoord: true\n      });\n      stackedDimCoordIndex++;\n      dimensionInfoList.push({\n        name: stackedOverDimension,\n        // This dimension contains stack base (generally, 0), so do not set it as\n        // `stackedDimCoordDim` to avoid extent calculation, consider log scale.\n        coordDim: stackedOverDimension,\n        coordDimIndex: stackedDimCoordIndex,\n        type: stackedDimType,\n        isExtraCoord: true,\n        isCalculationCoord: true\n      });\n    }\n\n    return {\n      stackedDimension: stackedDimInfo && stackedDimInfo.name,\n      stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,\n      isStackedByIndex: byIndex,\n      stackedOverDimension: stackedOverDimension,\n      stackResultDimension: stackResultDimension\n    };\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {string} stackedDim\n   */\n\n\n  function isDimensionStacked(data, stackedDim\n  /*, stackedByDim*/\n  ) {\n    // Each single series only maps to one pair of axis. So we do not need to\n    // check stackByDim, whatever stacked by a dimension or stacked by index.\n    return !!stackedDim && stackedDim === data.getCalculationInfo('stackedDimension'); // && (\n    //     stackedByDim != null\n    //         ? stackedByDim === data.getCalculationInfo('stackedByDimension')\n    //         : data.getCalculationInfo('isStackedByIndex')\n    // );\n  }\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {string} targetDim\n   * @param {string} [stackedByDim] If not input this parameter, check whether\n   *                                stacked by index.\n   * @return {string} dimension\n   */\n\n\n  function getStackedDimension(data, targetDim) {\n    return isDimensionStacked(data, targetDim) ? data.getCalculationInfo('stackResultDimension') : targetDim;\n  }\n\n  var enableDataStack_1 = enableDataStack;\n  var isDimensionStacked_1 = isDimensionStacked;\n  var getStackedDimension_1 = getStackedDimension;\n\n  var dataStackHelper = {\n  \tenableDataStack: enableDataStack_1,\n  \tisDimensionStacked: isDimensionStacked_1,\n  \tgetStackedDimension: getStackedDimension_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var SOURCE_FORMAT_ORIGINAL$4 = sourceType.SOURCE_FORMAT_ORIGINAL;\n\n\n\n  var getDimensionTypeByAxis$1 = dimensionHelper.getDimensionTypeByAxis;\n\n\n\n  var getDataItemValue$3 = model.getDataItemValue;\n\n\n\n\n\n  var getCoordSysInfoBySeries$1 = referHelper.getCoordSysInfoBySeries;\n\n\n\n\n\n  var enableDataStack$1 = dataStackHelper.enableDataStack;\n\n\n\n  var makeSeriesEncodeForAxisCoordSys$1 = sourceHelper.makeSeriesEncodeForAxisCoordSys;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/data/Source|Array} source Or raw data.\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Object} [opt]\n   * @param {string} [opt.generateCoord]\n   * @param {boolean} [opt.useEncodeDefaulter]\n   */\n  function createListFromArray(source, seriesModel, opt) {\n    opt = opt || {};\n\n    if (!Source_1.isInstance(source)) {\n      source = Source_1.seriesDataToSource(source);\n    }\n\n    var coordSysName = seriesModel.get('coordinateSystem');\n    var registeredCoordSys = CoordinateSystem.get(coordSysName);\n    var coordSysInfo = getCoordSysInfoBySeries$1(seriesModel);\n    var coordSysDimDefs;\n\n    if (coordSysInfo) {\n      coordSysDimDefs = util.map(coordSysInfo.coordSysDims, function (dim) {\n        var dimInfo = {\n          name: dim\n        };\n        var axisModel = coordSysInfo.axisMap.get(dim);\n\n        if (axisModel) {\n          var axisType = axisModel.get('type');\n          dimInfo.type = getDimensionTypeByAxis$1(axisType); // dimInfo.stackable = isStackable(axisType);\n        }\n\n        return dimInfo;\n      });\n    }\n\n    if (!coordSysDimDefs) {\n      // Get dimensions from registered coordinate system\n      coordSysDimDefs = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ['x', 'y'];\n    }\n\n    var dimInfoList = createDimensions(source, {\n      coordDimensions: coordSysDimDefs,\n      generateCoord: opt.generateCoord,\n      encodeDefaulter: opt.useEncodeDefaulter ? util.curry(makeSeriesEncodeForAxisCoordSys$1, coordSysDimDefs, seriesModel) : null\n    });\n    var firstCategoryDimIndex;\n    var hasNameEncode;\n    coordSysInfo && util.each(dimInfoList, function (dimInfo, dimIndex) {\n      var coordDim = dimInfo.coordDim;\n      var categoryAxisModel = coordSysInfo.categoryAxisMap.get(coordDim);\n\n      if (categoryAxisModel) {\n        if (firstCategoryDimIndex == null) {\n          firstCategoryDimIndex = dimIndex;\n        }\n\n        dimInfo.ordinalMeta = categoryAxisModel.getOrdinalMeta();\n      }\n\n      if (dimInfo.otherDims.itemName != null) {\n        hasNameEncode = true;\n      }\n    });\n\n    if (!hasNameEncode && firstCategoryDimIndex != null) {\n      dimInfoList[firstCategoryDimIndex].otherDims.itemName = 0;\n    }\n\n    var stackCalculationInfo = enableDataStack$1(seriesModel, dimInfoList);\n    var list = new List_1(dimInfoList, seriesModel);\n    list.setCalculationInfo(stackCalculationInfo);\n    var dimValueGetter = firstCategoryDimIndex != null && isNeedCompleteOrdinalData(source) ? function (itemOpt, dimName, dataIndex, dimIndex) {\n      // Use dataIndex as ordinal value in categoryAxis\n      return dimIndex === firstCategoryDimIndex ? dataIndex : this.defaultDimValueGetter(itemOpt, dimName, dataIndex, dimIndex);\n    } : null;\n    list.hasItemOption = false;\n    list.initData(source, null, dimValueGetter);\n    return list;\n  }\n\n  function isNeedCompleteOrdinalData(source) {\n    if (source.sourceFormat === SOURCE_FORMAT_ORIGINAL$4) {\n      var sampleItem = firstDataNotNull(source.data || []);\n      return sampleItem != null && !util.isArray(getDataItemValue$3(sampleItem));\n    }\n  }\n\n  function firstDataNotNull(data) {\n    var i = 0;\n\n    while (i < data.length && data[i] == null) {\n      i++;\n    }\n\n    return data[i];\n  }\n\n  var _default$1m = createListFromArray;\n  var createListFromArray_1 = _default$1m;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * // Scale class management\n   * @module echarts/scale/Scale\n   */\n\n  /**\n   * @param {Object} [setting]\n   */\n  function Scale(setting) {\n    this._setting = setting || {};\n    /**\n     * Extent\n     * @type {Array.<number>}\n     * @protected\n     */\n\n    this._extent = [Infinity, -Infinity];\n    /**\n     * Step is calculated in adjustExtent\n     * @type {Array.<number>}\n     * @protected\n     */\n\n    this._interval = 0;\n    this.init && this.init.apply(this, arguments);\n  }\n  /**\n   * Parse input val to valid inner number.\n   * @param {*} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.parse = function (val) {\n    // Notice: This would be a trap here, If the implementation\n    // of this method depends on extent, and this method is used\n    // before extent set (like in dataZoom), it would be wrong.\n    // Nevertheless, parse does not depend on extent generally.\n    return val;\n  };\n\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n\n  Scale.prototype.contain = function (val) {\n    var extent = this._extent;\n    return val >= extent[0] && val <= extent[1];\n  };\n  /**\n   * Normalize value to linear [0, 1], return 0.5 if extent span is 0\n   * @param {number} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.normalize = function (val) {\n    var extent = this._extent;\n\n    if (extent[1] === extent[0]) {\n      return 0.5;\n    }\n\n    return (val - extent[0]) / (extent[1] - extent[0]);\n  };\n  /**\n   * Scale normalized value\n   * @param {number} val\n   * @return {number}\n   */\n\n\n  Scale.prototype.scale = function (val) {\n    var extent = this._extent;\n    return val * (extent[1] - extent[0]) + extent[0];\n  };\n  /**\n   * Set extent from data\n   * @param {Array.<number>} other\n   */\n\n\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   * @param {module:echarts/data/List} data\n   * @param {string} dim\n   */\n\n\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   * @return {Array.<number>}\n   */\n\n\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   * @param {number} start\n   * @param {number} end\n   */\n\n\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  },\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n  /**\n   * @abstract\n   * @param {*} tick\n   * @return {string} label of the tick.\n   */\n\n  Scale.prototype.getLabel = null;\n  clazz.enableClassExtend(Scale);\n  clazz.enableClassManagement(Scale, {\n    registerWhenExtend: true\n  });\n  var _default$1n = Scale;\n  var Scale_1 = _default$1n;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$a = util.createHashMap;\n  var isObject$d = util.isObject;\n  var map$5 = util.map;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @constructor\n   * @param {Object} [opt]\n   * @param {Object} [opt.categories=[]]\n   * @param {Object} [opt.needCollect=false]\n   * @param {Object} [opt.deduplication=false]\n   */\n  function OrdinalMeta(opt) {\n    /**\n     * @readOnly\n     * @type {Array.<string>}\n     */\n    this.categories = opt.categories || [];\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._needCollect = opt.needCollect;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._deduplication = opt.deduplication;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._map;\n  }\n  /**\n   * @param {module:echarts/model/Model} axisModel\n   * @return {module:echarts/data/OrdinalMeta}\n   */\n\n\n  OrdinalMeta.createByAxisModel = function (axisModel) {\n    var option = axisModel.option;\n    var data = option.data;\n    var categories = data && map$5(data, getName);\n    return new OrdinalMeta({\n      categories: categories,\n      needCollect: !categories,\n      // deduplication is default in axis.\n      deduplication: option.dedplication !== false\n    });\n  };\n\n  var proto$1 = OrdinalMeta.prototype;\n  /**\n   * @param {string} category\n   * @return {number} ordinal\n   */\n\n  proto$1.getOrdinal = function (category) {\n    return getOrCreateMap(this).get(category);\n  };\n  /**\n   * @param {*} category\n   * @return {number} The ordinal. If not found, return NaN.\n   */\n\n\n  proto$1.parseAndCollect = function (category) {\n    var index;\n    var needCollect = this._needCollect; // The value of category dim can be the index of the given category set.\n    // This feature is only supported when !needCollect, because we should\n    // consider a common case: a value is 2017, which is a number but is\n    // expected to be tread as a category. This case usually happen in dataset,\n    // where it happent to be no need of the index feature.\n\n    if (typeof category !== 'string' && !needCollect) {\n      return category;\n    } // Optimize for the scenario:\n    // category is ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // Notice, if a dataset dimension provide categroies, usually echarts\n    // should remove duplication except user tell echarts dont do that\n    // (set axis.deduplication = false), because echarts do not know whether\n    // the values in the category dimension has duplication (consider the\n    // parallel-aqi example)\n\n\n    if (needCollect && !this._deduplication) {\n      index = this.categories.length;\n      this.categories[index] = category;\n      return index;\n    }\n\n    var map = getOrCreateMap(this);\n    index = map.get(category);\n\n    if (index == null) {\n      if (needCollect) {\n        index = this.categories.length;\n        this.categories[index] = category;\n        map.set(category, index);\n      } else {\n        index = NaN;\n      }\n    }\n\n    return index;\n  }; // Consider big data, do not create map until needed.\n\n\n  function getOrCreateMap(ordinalMeta) {\n    return ordinalMeta._map || (ordinalMeta._map = createHashMap$a(ordinalMeta.categories));\n  }\n\n  function getName(obj) {\n    if (isObject$d(obj) && obj.value != null) {\n      return obj.value;\n    } else {\n      return obj + '';\n    }\n  }\n\n  var _default$1o = OrdinalMeta;\n  var OrdinalMeta_1 = _default$1o;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Linear continuous scale\n   * @module echarts/coord/scale/Ordinal\n   *\n   * http://en.wikipedia.org/wiki/Level_of_measurement\n   */\n  // FIXME only one data\n  var scaleProto = Scale_1.prototype;\n  var OrdinalScale = Scale_1.extend({\n    type: 'ordinal',\n\n    /**\n     * @param {module:echarts/data/OrdianlMeta|Array.<string>} ordinalMeta\n     */\n    init: function (ordinalMeta, extent) {\n      // Caution: Should not use instanceof, consider ec-extensions using\n      // import approach to get OrdinalMeta class.\n      if (!ordinalMeta || util.isArray(ordinalMeta)) {\n        ordinalMeta = new OrdinalMeta_1({\n          categories: ordinalMeta\n        });\n      }\n\n      this._ordinalMeta = ordinalMeta;\n      this._extent = extent || [0, ordinalMeta.categories.length - 1];\n    },\n    parse: function (val) {\n      return typeof val === 'string' ? this._ordinalMeta.getOrdinal(val) // val might be float.\n      : Math.round(val);\n    },\n    contain: function (rank) {\n      rank = this.parse(rank);\n      return scaleProto.contain.call(this, rank) && this._ordinalMeta.categories[rank] != null;\n    },\n\n    /**\n     * Normalize given rank or name to linear [0, 1]\n     * @param {number|string} [val]\n     * @return {number}\n     */\n    normalize: function (val) {\n      return scaleProto.normalize.call(this, this.parse(val));\n    },\n    scale: function (val) {\n      return Math.round(scaleProto.scale.call(this, val));\n    },\n\n    /**\n     * @return {Array}\n     */\n    getTicks: function () {\n      var ticks = [];\n      var extent = this._extent;\n      var rank = extent[0];\n\n      while (rank <= extent[1]) {\n        ticks.push(rank);\n        rank++;\n      }\n\n      return ticks;\n    },\n\n    /**\n     * Get item on rank n\n     * @param {number} n\n     * @return {string}\n     */\n    getLabel: function (n) {\n      if (!this.isBlank()) {\n        // Note that if no data, ordinalMeta.categories is an empty array.\n        return this._ordinalMeta.categories[n];\n      }\n    },\n\n    /**\n     * @return {number}\n     */\n    count: function () {\n      return this._extent[1] - this._extent[0] + 1;\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n      this.unionExtent(data.getApproximateExtent(dim));\n    },\n    getOrdinalMeta: function () {\n      return this._ordinalMeta;\n    },\n    niceTicks: util.noop,\n    niceExtent: util.noop\n  });\n  /**\n   * @return {module:echarts/scale/Time}\n   */\n\n  OrdinalScale.create = function () {\n    return new OrdinalScale();\n  };\n\n  var _default$1p = OrdinalScale;\n  var Ordinal = _default$1p;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * For testable.\n   */\n  var roundNumber = number.round;\n  /**\n   * @param {Array.<number>} extent Both extent[0] and extent[1] should be valid number.\n   *                                Should be extent[0] < extent[1].\n   * @param {number} splitNumber splitNumber should be >= 1.\n   * @param {number} [minInterval]\n   * @param {number} [maxInterval]\n   * @return {Object} {interval, intervalPrecision, niceTickExtent}\n   */\n\n  function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n    var result = {};\n    var span = extent[1] - extent[0];\n    var interval = result.interval = number.nice(span / splitNumber, true);\n\n    if (minInterval != null && interval < minInterval) {\n      interval = result.interval = minInterval;\n    }\n\n    if (maxInterval != null && interval > maxInterval) {\n      interval = result.interval = maxInterval;\n    } // Tow more digital for tick.\n\n\n    var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n    var niceTickExtent = result.niceTickExtent = [roundNumber(Math.ceil(extent[0] / interval) * interval, precision), roundNumber(Math.floor(extent[1] / interval) * interval, precision)];\n    fixExtent(niceTickExtent, extent);\n    return result;\n  }\n  /**\n   * @param {number} interval\n   * @return {number} interval precision\n   */\n\n\n  function getIntervalPrecision(interval) {\n    // Tow more digital for tick.\n    return number.getPrecisionSafe(interval) + 2;\n  }\n\n  function clamp(niceTickExtent, idx, extent) {\n    niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n  } // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\n  function fixExtent(niceTickExtent, extent) {\n    !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n    !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n    clamp(niceTickExtent, 0, extent);\n    clamp(niceTickExtent, 1, extent);\n\n    if (niceTickExtent[0] > niceTickExtent[1]) {\n      niceTickExtent[0] = niceTickExtent[1];\n    }\n  }\n\n  var intervalScaleNiceTicks_1 = intervalScaleNiceTicks;\n  var getIntervalPrecision_1 = getIntervalPrecision;\n  var fixExtent_1 = fixExtent;\n\n  var helper = {\n  \tintervalScaleNiceTicks: intervalScaleNiceTicks_1,\n  \tgetIntervalPrecision: getIntervalPrecision_1,\n  \tfixExtent: fixExtent_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Interval scale\n   * @module echarts/scale/Interval\n   */\n  var roundNumber$1 = number.round;\n  /**\n   * @alias module:echarts/coord/scale/Interval\n   * @constructor\n   */\n\n  var IntervalScale = Scale_1.extend({\n    type: 'interval',\n    _interval: 0,\n    _intervalPrecision: 2,\n    setExtent: function (start, end) {\n      var thisExtent = this._extent; //start,end may be a Number like '25',so...\n\n      if (!isNaN(start)) {\n        thisExtent[0] = parseFloat(start);\n      }\n\n      if (!isNaN(end)) {\n        thisExtent[1] = parseFloat(end);\n      }\n    },\n    unionExtent: function (other) {\n      var extent = this._extent;\n      other[0] < extent[0] && (extent[0] = other[0]);\n      other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n      IntervalScale.prototype.setExtent.call(this, extent[0], extent[1]);\n    },\n\n    /**\n     * Get interval\n     */\n    getInterval: function () {\n      return this._interval;\n    },\n\n    /**\n     * Set interval\n     */\n    setInterval: function (interval) {\n      this._interval = interval; // Dropped auto calculated niceExtent and use user setted extent\n      // We assume user wan't to set both interval, min, max to get a better result\n\n      this._niceExtent = this._extent.slice();\n      this._intervalPrecision = helper.getIntervalPrecision(interval);\n    },\n\n    /**\n     * @param {boolean} [expandToNicedExtent=false] If expand the ticks to niced extent.\n     * @return {Array.<number>}\n     */\n    getTicks: function (expandToNicedExtent) {\n      var interval = this._interval;\n      var extent = this._extent;\n      var niceTickExtent = this._niceExtent;\n      var intervalPrecision = this._intervalPrecision;\n      var ticks = []; // If interval is 0, return [];\n\n      if (!interval) {\n        return ticks;\n      } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n      var safeLimit = 10000;\n\n      if (extent[0] < niceTickExtent[0]) {\n        if (expandToNicedExtent) {\n          ticks.push(roundNumber$1(niceTickExtent[0] - interval, intervalPrecision));\n        } else {\n          ticks.push(extent[0]);\n        }\n      }\n\n      var tick = niceTickExtent[0];\n\n      while (tick <= niceTickExtent[1]) {\n        ticks.push(tick); // Avoid rounding error\n\n        tick = roundNumber$1(tick + interval, intervalPrecision);\n\n        if (tick === ticks[ticks.length - 1]) {\n          // Consider out of safe float point, e.g.,\n          // -3711126.9907707 + 2e-10 === -3711126.9907707\n          break;\n        }\n\n        if (ticks.length > safeLimit) {\n          return [];\n        }\n      } // Consider this case: the last item of ticks is smaller\n      // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n      var lastNiceTick = ticks.length ? ticks[ticks.length - 1] : niceTickExtent[1];\n\n      if (extent[1] > lastNiceTick) {\n        if (expandToNicedExtent) {\n          ticks.push(roundNumber$1(lastNiceTick + interval, intervalPrecision));\n        } else {\n          ticks.push(extent[1]);\n        }\n      }\n\n      return ticks;\n    },\n\n    /**\n     * @param {number} [splitNumber=5]\n     * @return {Array.<Array.<number>>}\n     */\n    getMinorTicks: function (splitNumber) {\n      var ticks = this.getTicks(true);\n      var minorTicks = [];\n      var extent = this.getExtent();\n\n      for (var i = 1; i < ticks.length; i++) {\n        var nextTick = ticks[i];\n        var prevTick = ticks[i - 1];\n        var count = 0;\n        var minorTicksGroup = [];\n        var interval = nextTick - prevTick;\n        var minorInterval = interval / splitNumber;\n\n        while (count < splitNumber - 1) {\n          var minorTick = number.round(prevTick + (count + 1) * minorInterval); // For the first and last interval. The count may be less than splitNumber.\n\n          if (minorTick > extent[0] && minorTick < extent[1]) {\n            minorTicksGroup.push(minorTick);\n          }\n\n          count++;\n        }\n\n        minorTicks.push(minorTicksGroup);\n      }\n\n      return minorTicks;\n    },\n\n    /**\n     * @param {number} data\n     * @param {Object} [opt]\n     * @param {number|string} [opt.precision] If 'auto', use nice presision.\n     * @param {boolean} [opt.pad] returns 1.50 but not 1.5 if precision is 2.\n     * @return {string}\n     */\n    getLabel: function (data, opt) {\n      if (data == null) {\n        return '';\n      }\n\n      var precision = opt && opt.precision;\n\n      if (precision == null) {\n        precision = number.getPrecisionSafe(data) || 0;\n      } else if (precision === 'auto') {\n        // Should be more precise then tick.\n        precision = this._intervalPrecision;\n      } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n      // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n      data = roundNumber$1(data, precision, true);\n      return format$1.addCommas(data);\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     *\n     * @param {number} [splitNumber = 5] Desired number of ticks\n     * @param {number} [minInterval]\n     * @param {number} [maxInterval]\n     */\n    niceTicks: function (splitNumber, minInterval, maxInterval) {\n      splitNumber = splitNumber || 5;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n\n      if (!isFinite(span)) {\n        return;\n      } // User may set axis min 0 and data are all negative\n      // FIXME If it needs to reverse ?\n\n\n      if (span < 0) {\n        span = -span;\n        extent.reverse();\n      }\n\n      var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n      this._intervalPrecision = result.intervalPrecision;\n      this._interval = result.interval;\n      this._niceExtent = result.niceTickExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @param {Object} opt\n     * @param {number} [opt.splitNumber = 5] Given approx tick number\n     * @param {boolean} [opt.fixMin=false]\n     * @param {boolean} [opt.fixMax=false]\n     * @param {boolean} [opt.minInterval]\n     * @param {boolean} [opt.maxInterval]\n     */\n    niceExtent: function (opt) {\n      var extent = this._extent; // If extent start and end are same, expand them\n\n      if (extent[0] === extent[1]) {\n        if (extent[0] !== 0) {\n          // Expand extent\n          var expandSize = extent[0]; // In the fowllowing case\n          //      Axis has been fixed max 100\n          //      Plus data are all 100 and axis extent are [100, 100].\n          // Extend to the both side will cause expanded max is larger than fixed max.\n          // So only expand to the smaller side.\n\n          if (!opt.fixMax) {\n            extent[1] += expandSize / 2;\n            extent[0] -= expandSize / 2;\n          } else {\n            extent[0] -= expandSize / 2;\n          }\n        } else {\n          extent[1] = 1;\n        }\n      }\n\n      var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n      if (!isFinite(span)) {\n        extent[0] = 0;\n        extent[1] = 1;\n      }\n\n      this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n      var interval = this._interval;\n\n      if (!opt.fixMin) {\n        extent[0] = roundNumber$1(Math.floor(extent[0] / interval) * interval);\n      }\n\n      if (!opt.fixMax) {\n        extent[1] = roundNumber$1(Math.ceil(extent[1] / interval) * interval);\n      }\n    }\n  });\n  /**\n   * @return {module:echarts/scale/Time}\n   */\n\n  IntervalScale.create = function () {\n    return new IntervalScale();\n  };\n\n  var _default$1q = IntervalScale;\n  var Interval = _default$1q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parsePercent$3 = number.parsePercent;\n\n\n\n  var isDimensionStacked$1 = dataStackHelper.isDimensionStacked;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float32Array */\n  var STACK_PREFIX = '__ec_stack_';\n  var LARGE_BAR_MIN_WIDTH = 0.5;\n  var LargeArr = typeof Float32Array !== 'undefined' ? Float32Array : Array;\n\n  function getSeriesStackId(seriesModel) {\n    return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n  }\n\n  function getAxisKey(axis) {\n    return axis.dim + axis.index;\n  }\n  /**\n   * @param {Object} opt\n   * @param {module:echarts/coord/Axis} opt.axis Only support category axis currently.\n   * @param {number} opt.count Positive interger.\n   * @param {number} [opt.barWidth]\n   * @param {number} [opt.barMaxWidth]\n   * @param {number} [opt.barMinWidth]\n   * @param {number} [opt.barGap]\n   * @param {number} [opt.barCategoryGap]\n   * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n   */\n\n\n  function getLayoutOnAxis(opt) {\n    var params = [];\n    var baseAxis = opt.axis;\n    var axisKey = 'axis0';\n\n    if (baseAxis.type !== 'category') {\n      return;\n    }\n\n    var bandWidth = baseAxis.getBandWidth();\n\n    for (var i = 0; i < opt.count || 0; i++) {\n      params.push(util.defaults({\n        bandWidth: bandWidth,\n        axisKey: axisKey,\n        stackId: STACK_PREFIX + i\n      }, opt));\n    }\n\n    var widthAndOffsets = doCalBarWidthAndOffset(params);\n    var result = [];\n\n    for (var i = 0; i < opt.count; i++) {\n      var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n      item.offsetCenter = item.offset + item.width / 2;\n      result.push(item);\n    }\n\n    return result;\n  }\n\n  function prepareLayoutBarSeries(seriesType, ecModel) {\n    var seriesModels = [];\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n      // Check series coordinate, do layout for cartesian2d only\n      if (isOnCartesian(seriesModel) && !isInLargeMode(seriesModel)) {\n        seriesModels.push(seriesModel);\n      }\n    });\n    return seriesModels;\n  }\n  /**\n   * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent\n   * values.\n   * This works for time axes, value axes, and log axes.\n   * For a single time axis, return value is in the form like\n   * {'x_0': [1000000]}.\n   * The value of 1000000 is in milliseconds.\n   */\n\n\n  function getValueAxesMinGaps(barSeries) {\n    /**\n     * Map from axis.index to values.\n     * For a single time axis, axisValues is in the form like\n     * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.\n     * Items in axisValues[x], e.g. 1495555200000, are time values of all\n     * series.\n     */\n    var axisValues = {};\n    util.each(barSeries, function (seriesModel) {\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n\n      if (baseAxis.type !== 'time' && baseAxis.type !== 'value') {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var key = baseAxis.dim + '_' + baseAxis.index;\n      var dim = data.mapDimension(baseAxis.dim);\n\n      for (var i = 0, cnt = data.count(); i < cnt; ++i) {\n        var value = data.get(dim, i);\n\n        if (!axisValues[key]) {\n          // No previous data for the axis\n          axisValues[key] = [value];\n        } else {\n          // No value in previous series\n          axisValues[key].push(value);\n        } // Ignore duplicated time values in the same axis\n\n      }\n    });\n    var axisMinGaps = [];\n\n    for (var key in axisValues) {\n      if (axisValues.hasOwnProperty(key)) {\n        var valuesInAxis = axisValues[key];\n\n        if (valuesInAxis) {\n          // Sort axis values into ascending order to calculate gaps\n          valuesInAxis.sort(function (a, b) {\n            return a - b;\n          });\n          var min = null;\n\n          for (var j = 1; j < valuesInAxis.length; ++j) {\n            var delta = valuesInAxis[j] - valuesInAxis[j - 1];\n\n            if (delta > 0) {\n              // Ignore 0 delta because they are of the same axis value\n              min = min === null ? delta : Math.min(min, delta);\n            }\n          } // Set to null if only have one data\n\n\n          axisMinGaps[key] = min;\n        }\n      }\n    }\n\n    return axisMinGaps;\n  }\n\n  function makeColumnLayout(barSeries) {\n    var axisMinGaps = getValueAxesMinGaps(barSeries);\n    var seriesInfoList = [];\n    util.each(barSeries, function (seriesModel) {\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var axisExtent = baseAxis.getExtent();\n      var bandWidth;\n\n      if (baseAxis.type === 'category') {\n        bandWidth = baseAxis.getBandWidth();\n      } else if (baseAxis.type === 'value' || baseAxis.type === 'time') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n        var minGap = axisMinGaps[key];\n        var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);\n        var scale = baseAxis.scale.getExtent();\n        var scaleSpan = Math.abs(scale[1] - scale[0]);\n        bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan; // When there is only one data value\n      } else {\n        var data = seriesModel.getData();\n        bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n      }\n\n      var barWidth = parsePercent$3(seriesModel.get('barWidth'), bandWidth);\n      var barMaxWidth = parsePercent$3(seriesModel.get('barMaxWidth'), bandWidth);\n      var barMinWidth = parsePercent$3( // barMinWidth by default is 1 in cartesian. Because in value axis,\n      // the auto-calculated bar width might be less than 1.\n      seriesModel.get('barMinWidth') || 1, bandWidth);\n      var barGap = seriesModel.get('barGap');\n      var barCategoryGap = seriesModel.get('barCategoryGap');\n      seriesInfoList.push({\n        bandWidth: bandWidth,\n        barWidth: barWidth,\n        barMaxWidth: barMaxWidth,\n        barMinWidth: barMinWidth,\n        barGap: barGap,\n        barCategoryGap: barCategoryGap,\n        axisKey: getAxisKey(baseAxis),\n        stackId: getSeriesStackId(seriesModel)\n      });\n    });\n    return doCalBarWidthAndOffset(seriesInfoList);\n  }\n\n  function doCalBarWidthAndOffset(seriesInfoList) {\n    // Columns info on each category axis. Key is cartesian name\n    var columnsMap = {};\n    util.each(seriesInfoList, function (seriesInfo, idx) {\n      var axisKey = seriesInfo.axisKey;\n      var bandWidth = seriesInfo.bandWidth;\n      var columnsOnAxis = columnsMap[axisKey] || {\n        bandWidth: bandWidth,\n        remainedWidth: bandWidth,\n        autoWidthCount: 0,\n        categoryGap: '20%',\n        gap: '30%',\n        stacks: {}\n      };\n      var stacks = columnsOnAxis.stacks;\n      columnsMap[axisKey] = columnsOnAxis;\n      var stackId = seriesInfo.stackId;\n\n      if (!stacks[stackId]) {\n        columnsOnAxis.autoWidthCount++;\n      }\n\n      stacks[stackId] = stacks[stackId] || {\n        width: 0,\n        maxWidth: 0\n      }; // Caution: In a single coordinate system, these barGrid attributes\n      // will be shared by series. Consider that they have default values,\n      // only the attributes set on the last series will work.\n      // Do not change this fact unless there will be a break change.\n\n      var barWidth = seriesInfo.barWidth;\n\n      if (barWidth && !stacks[stackId].width) {\n        // See #6312, do not restrict width.\n        stacks[stackId].width = barWidth;\n        barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n        columnsOnAxis.remainedWidth -= barWidth;\n      }\n\n      var barMaxWidth = seriesInfo.barMaxWidth;\n      barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n      var barMinWidth = seriesInfo.barMinWidth;\n      barMinWidth && (stacks[stackId].minWidth = barMinWidth);\n      var barGap = seriesInfo.barGap;\n      barGap != null && (columnsOnAxis.gap = barGap);\n      var barCategoryGap = seriesInfo.barCategoryGap;\n      barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n    });\n    var result = {};\n    util.each(columnsMap, function (columnsOnAxis, coordSysName) {\n      result[coordSysName] = {};\n      var stacks = columnsOnAxis.stacks;\n      var bandWidth = columnsOnAxis.bandWidth;\n      var categoryGap = parsePercent$3(columnsOnAxis.categoryGap, bandWidth);\n      var barGapPercent = parsePercent$3(columnsOnAxis.gap, 1);\n      var remainedWidth = columnsOnAxis.remainedWidth;\n      var autoWidthCount = columnsOnAxis.autoWidthCount;\n      var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n      autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n      util.each(stacks, function (column) {\n        var maxWidth = column.maxWidth;\n        var minWidth = column.minWidth;\n\n        if (!column.width) {\n          var finalWidth = autoWidth;\n\n          if (maxWidth && maxWidth < finalWidth) {\n            finalWidth = Math.min(maxWidth, remainedWidth);\n          } // `minWidth` has higher priority. `minWidth` decide that wheter the\n          // bar is able to be visible. So `minWidth` should not be restricted\n          // by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In\n          // the extreme cases for `value` axis, bars are allowed to overlap\n          // with each other if `minWidth` specified.\n\n\n          if (minWidth && minWidth > finalWidth) {\n            finalWidth = minWidth;\n          }\n\n          if (finalWidth !== autoWidth) {\n            column.width = finalWidth;\n            remainedWidth -= finalWidth + barGapPercent * finalWidth;\n            autoWidthCount--;\n          }\n        } else {\n          // `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as\n          // CSS does. Becuase barWidth can be a percent value, where\n          // `barMaxWidth` can be used to restrict the final width.\n          var finalWidth = column.width;\n\n          if (maxWidth) {\n            finalWidth = Math.min(finalWidth, maxWidth);\n          } // `minWidth` has higher priority, as described above\n\n\n          if (minWidth) {\n            finalWidth = Math.max(finalWidth, minWidth);\n          }\n\n          column.width = finalWidth;\n          remainedWidth -= finalWidth + barGapPercent * finalWidth;\n          autoWidthCount--;\n        }\n      }); // Recalculate width again\n\n      autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n      autoWidth = Math.max(autoWidth, 0);\n      var widthSum = 0;\n      var lastColumn;\n      util.each(stacks, function (column, idx) {\n        if (!column.width) {\n          column.width = autoWidth;\n        }\n\n        lastColumn = column;\n        widthSum += column.width * (1 + barGapPercent);\n      });\n\n      if (lastColumn) {\n        widthSum -= lastColumn.width * barGapPercent;\n      }\n\n      var offset = -widthSum / 2;\n      util.each(stacks, function (column, stackId) {\n        result[coordSysName][stackId] = result[coordSysName][stackId] || {\n          bandWidth: bandWidth,\n          offset: offset,\n          width: column.width\n        };\n        offset += column.width * (1 + barGapPercent);\n      });\n    });\n    return result;\n  }\n  /**\n   * @param {Object} barWidthAndOffset The result of makeColumnLayout\n   * @param {module:echarts/coord/Axis} axis\n   * @param {module:echarts/model/Series} [seriesModel] If not provided, return all.\n   * @return {Object} {stackId: {offset, width}} or {offset, width} if seriesModel provided.\n   */\n\n\n  function retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n    if (barWidthAndOffset && axis) {\n      var result = barWidthAndOffset[getAxisKey(axis)];\n\n      if (result != null && seriesModel != null) {\n        result = result[getSeriesStackId(seriesModel)];\n      }\n\n      return result;\n    }\n  }\n  /**\n   * @param {string} seriesType\n   * @param {module:echarts/model/Global} ecModel\n   */\n\n\n  function layout$1(seriesType, ecModel) {\n    var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n    var barWidthAndOffset = makeColumnLayout(seriesModels);\n    var lastStackCoords = {};\n    util.each(seriesModels, function (seriesModel) {\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var stackId = getSeriesStackId(seriesModel);\n      var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n      var columnOffset = columnLayoutInfo.offset;\n      var columnWidth = columnLayoutInfo.width;\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var barMinHeight = seriesModel.get('barMinHeight') || 0;\n      lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n\n      data.setLayout({\n        bandWidth: columnLayoutInfo.bandWidth,\n        offset: columnOffset,\n        size: columnWidth\n      });\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var baseDim = data.mapDimension(baseAxis.dim);\n      var stacked = isDimensionStacked$1(data, valueDim\n      /*, baseDim*/\n      );\n      var isValueAxisH = valueAxis.isHorizontal();\n      var valueAxisStart = getValueAxisStart(baseAxis, valueAxis);\n\n      for (var idx = 0, len = data.count(); idx < len; idx++) {\n        var value = data.get(valueDim, idx);\n        var baseValue = data.get(baseDim, idx);\n        var sign = value >= 0 ? 'p' : 'n';\n        var baseCoord = valueAxisStart; // Because of the barMinHeight, we can not use the value in\n        // stackResultDimension directly.\n\n        if (stacked) {\n          // Only ordinal axis can be stacked.\n          if (!lastStackCoords[stackId][baseValue]) {\n            lastStackCoords[stackId][baseValue] = {\n              p: valueAxisStart,\n              // Positive stack\n              n: valueAxisStart // Negative stack\n\n            };\n          } // Should also consider #4243\n\n\n          baseCoord = lastStackCoords[stackId][baseValue][sign];\n        }\n\n        var x;\n        var y;\n        var width;\n        var height;\n\n        if (isValueAxisH) {\n          var coord = cartesian.dataToPoint([value, baseValue]);\n          x = baseCoord;\n          y = coord[1] + columnOffset;\n          width = coord[0] - valueAxisStart;\n          height = columnWidth;\n\n          if (Math.abs(width) < barMinHeight) {\n            width = (width < 0 ? -1 : 1) * barMinHeight;\n          } // Ignore stack from NaN value\n\n\n          if (!isNaN(width)) {\n            stacked && (lastStackCoords[stackId][baseValue][sign] += width);\n          }\n        } else {\n          var coord = cartesian.dataToPoint([baseValue, value]);\n          x = coord[0] + columnOffset;\n          y = baseCoord;\n          width = columnWidth;\n          height = coord[1] - valueAxisStart;\n\n          if (Math.abs(height) < barMinHeight) {\n            // Include zero to has a positive bar\n            height = (height <= 0 ? -1 : 1) * barMinHeight;\n          } // Ignore stack from NaN value\n\n\n          if (!isNaN(height)) {\n            stacked && (lastStackCoords[stackId][baseValue][sign] += height);\n          }\n        }\n\n        data.setItemLayout(idx, {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        });\n      }\n    }, this);\n  } // TODO: Do not support stack in large mode yet.\n\n\n  var largeLayout = {\n    seriesType: 'bar',\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      if (!isOnCartesian(seriesModel) || !isInLargeMode(seriesModel)) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var coordLayout = cartesian.grid.getRect();\n      var baseAxis = cartesian.getBaseAxis();\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var baseDim = data.mapDimension(baseAxis.dim);\n      var valueAxisHorizontal = valueAxis.isHorizontal();\n      var valueDimIdx = valueAxisHorizontal ? 0 : 1;\n      var barWidth = retrieveColumnLayout(makeColumnLayout([seriesModel]), baseAxis, seriesModel).width;\n\n      if (!(barWidth > LARGE_BAR_MIN_WIDTH)) {\n        // jshint ignore:line\n        barWidth = LARGE_BAR_MIN_WIDTH;\n      }\n\n      return {\n        progress: progress\n      };\n\n      function progress(params, data) {\n        var count = params.count;\n        var largePoints = new LargeArr(count * 2);\n        var largeBackgroundPoints = new LargeArr(count * 2);\n        var largeDataIndices = new LargeArr(count);\n        var dataIndex;\n        var coord = [];\n        var valuePair = [];\n        var pointsOffset = 0;\n        var idxOffset = 0;\n\n        while ((dataIndex = params.next()) != null) {\n          valuePair[valueDimIdx] = data.get(valueDim, dataIndex);\n          valuePair[1 - valueDimIdx] = data.get(baseDim, dataIndex);\n          coord = cartesian.dataToPoint(valuePair, null, coord); // Data index might not be in order, depends on `progressiveChunkMode`.\n\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coordLayout.x + coordLayout.width : coord[0];\n          largePoints[pointsOffset++] = coord[0];\n          largeBackgroundPoints[pointsOffset] = valueAxisHorizontal ? coord[1] : coordLayout.y + coordLayout.height;\n          largePoints[pointsOffset++] = coord[1];\n          largeDataIndices[idxOffset++] = dataIndex;\n        }\n\n        data.setLayout({\n          largePoints: largePoints,\n          largeDataIndices: largeDataIndices,\n          largeBackgroundPoints: largeBackgroundPoints,\n          barWidth: barWidth,\n          valueAxisStart: getValueAxisStart(baseAxis, valueAxis),\n          backgroundStart: valueAxisHorizontal ? coordLayout.x : coordLayout.y,\n          valueAxisHorizontal: valueAxisHorizontal\n        });\n      }\n    }\n  };\n\n  function isOnCartesian(seriesModel) {\n    return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n  }\n\n  function isInLargeMode(seriesModel) {\n    return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n  } // See cases in `test/bar-start.html` and `#7412`, `#8747`.\n\n\n  function getValueAxisStart(baseAxis, valueAxis, stacked) {\n    return valueAxis.toGlobalCoord(valueAxis.dataToCoord(valueAxis.type === 'log' ? 1 : 0));\n  }\n\n  var getLayoutOnAxis_1 = getLayoutOnAxis;\n  var prepareLayoutBarSeries_1 = prepareLayoutBarSeries;\n  var makeColumnLayout_1 = makeColumnLayout;\n  var retrieveColumnLayout_1 = retrieveColumnLayout;\n  var layout_1 = layout$1;\n  var largeLayout_1 = largeLayout;\n\n  var barGrid = {\n  \tgetLayoutOnAxis: getLayoutOnAxis_1,\n  \tprepareLayoutBarSeries: prepareLayoutBarSeries_1,\n  \tmakeColumnLayout: makeColumnLayout_1,\n  \tretrieveColumnLayout: retrieveColumnLayout_1,\n  \tlayout: layout_1,\n  \tlargeLayout: largeLayout_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * A third-party license is embeded for some of the code in this file:\n  * The \"scaleLevels\" was originally copied from \"d3.js\" with some\n  * modifications made for this project.\n  * (See more details in the comment on the definition of \"scaleLevels\" below.)\n  * The use of the source code of this file is also subject to the terms\n  * and consitions of the license of \"d3.js\" (BSD-3Clause, see\n  * </licenses/LICENSE-d3>).\n  */\n  // [About UTC and local time zone]:\n  // In most cases, `number.parseDate` will treat input data string as local time\n  // (except time zone is specified in time string). And `format.formateTime` returns\n  // local time by default. option.useUTC is false by default. This design have\n  // concidered these common case:\n  // (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n  // in local time by default.\n  // (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n  // as its original time, without any time difference.\n  var intervalScaleProto = Interval.prototype;\n  var mathCeil = Math.ceil;\n  var mathFloor = Math.floor;\n  var ONE_SECOND = 1000;\n  var ONE_MINUTE = ONE_SECOND * 60;\n  var ONE_HOUR = ONE_MINUTE * 60;\n  var ONE_DAY = ONE_HOUR * 24; // FIXME \n\n  var bisect = function (a, x, lo, hi) {\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n\n      if (a[mid][1] < x) {\n        lo = mid + 1;\n      } else {\n        hi = mid;\n      }\n    }\n\n    return lo;\n  };\n  /**\n   * @alias module:echarts/coord/scale/Time\n   * @constructor\n   */\n\n\n  var TimeScale = Interval.extend({\n    type: 'time',\n\n    /**\n     * @override\n     */\n    getLabel: function (val) {\n      var stepLvl = this._stepLvl;\n      var date = new Date(val);\n      return format$1.formatTime(stepLvl[0], date, this.getSetting('useUTC'));\n    },\n\n    /**\n     * @override\n     */\n    niceExtent: function (opt) {\n      var extent = this._extent; // If extent start and end are same, expand them\n\n      if (extent[0] === extent[1]) {\n        // Expand extent\n        extent[0] -= ONE_DAY;\n        extent[1] += ONE_DAY;\n      } // If there are no data and extent are [Infinity, -Infinity]\n\n\n      if (extent[1] === -Infinity && extent[0] === Infinity) {\n        var d = new Date();\n        extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n        extent[0] = extent[1] - ONE_DAY;\n      }\n\n      this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n      var interval = this._interval;\n\n      if (!opt.fixMin) {\n        extent[0] = number.round(mathFloor(extent[0] / interval) * interval);\n      }\n\n      if (!opt.fixMax) {\n        extent[1] = number.round(mathCeil(extent[1] / interval) * interval);\n      }\n    },\n\n    /**\n     * @override\n     */\n    niceTicks: function (approxTickNum, minInterval, maxInterval) {\n      approxTickNum = approxTickNum || 10;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n      var approxInterval = span / approxTickNum;\n\n      if (minInterval != null && approxInterval < minInterval) {\n        approxInterval = minInterval;\n      }\n\n      if (maxInterval != null && approxInterval > maxInterval) {\n        approxInterval = maxInterval;\n      }\n\n      var scaleLevelsLen = scaleLevels.length;\n      var idx = bisect(scaleLevels, approxInterval, 0, scaleLevelsLen);\n      var level = scaleLevels[Math.min(idx, scaleLevelsLen - 1)];\n      var interval = level[1]; // Same with interval scale if span is much larger than 1 year\n\n      if (level[0] === 'year') {\n        var yearSpan = span / interval; // From \"Nice Numbers for Graph Labels\" of Graphic Gems\n        // var niceYearSpan = numberUtil.nice(yearSpan, false);\n\n        var yearStep = number.nice(yearSpan / approxTickNum, true);\n        interval *= yearStep;\n      }\n\n      var timezoneOffset = this.getSetting('useUTC') ? 0 : new Date(+extent[0] || +extent[1]).getTimezoneOffset() * 60 * 1000;\n      var niceExtent = [Math.round(mathCeil((extent[0] - timezoneOffset) / interval) * interval + timezoneOffset), Math.round(mathFloor((extent[1] - timezoneOffset) / interval) * interval + timezoneOffset)];\n      helper.fixExtent(niceExtent, extent);\n      this._stepLvl = level; // Interval will be used in getTicks\n\n      this._interval = interval;\n      this._niceExtent = niceExtent;\n    },\n    parse: function (val) {\n      // val might be float.\n      return +number.parseDate(val);\n    }\n  });\n  util.each(['contain', 'normalize'], function (methodName) {\n    TimeScale.prototype[methodName] = function (val) {\n      return intervalScaleProto[methodName].call(this, this.parse(val));\n    };\n  });\n  /**\n   * This implementation was originally copied from \"d3.js\"\n   * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n   * with some modifications made for this program.\n   * See the license statement at the head of this file.\n   */\n\n  var scaleLevels = [// Format              interval\n  ['hh:mm:ss', ONE_SECOND], // 1s\n  ['hh:mm:ss', ONE_SECOND * 5], // 5s\n  ['hh:mm:ss', ONE_SECOND * 10], // 10s\n  ['hh:mm:ss', ONE_SECOND * 15], // 15s\n  ['hh:mm:ss', ONE_SECOND * 30], // 30s\n  ['hh:mm\\nMM-dd', ONE_MINUTE], // 1m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 5], // 5m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 10], // 10m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 15], // 15m\n  ['hh:mm\\nMM-dd', ONE_MINUTE * 30], // 30m\n  ['hh:mm\\nMM-dd', ONE_HOUR], // 1h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 2], // 2h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 6], // 6h\n  ['hh:mm\\nMM-dd', ONE_HOUR * 12], // 12h\n  ['MM-dd\\nyyyy', ONE_DAY], // 1d\n  ['MM-dd\\nyyyy', ONE_DAY * 2], // 2d\n  ['MM-dd\\nyyyy', ONE_DAY * 3], // 3d\n  ['MM-dd\\nyyyy', ONE_DAY * 4], // 4d\n  ['MM-dd\\nyyyy', ONE_DAY * 5], // 5d\n  ['MM-dd\\nyyyy', ONE_DAY * 6], // 6d\n  ['week', ONE_DAY * 7], // 7d\n  ['MM-dd\\nyyyy', ONE_DAY * 10], // 10d\n  ['week', ONE_DAY * 14], // 2w\n  ['week', ONE_DAY * 21], // 3w\n  ['month', ONE_DAY * 31], // 1M\n  ['week', ONE_DAY * 42], // 6w\n  ['month', ONE_DAY * 62], // 2M\n  ['week', ONE_DAY * 70], // 10w\n  ['quarter', ONE_DAY * 95], // 3M\n  ['month', ONE_DAY * 31 * 4], // 4M\n  ['month', ONE_DAY * 31 * 5], // 5M\n  ['half-year', ONE_DAY * 380 / 2], // 6M\n  ['month', ONE_DAY * 31 * 8], // 8M\n  ['month', ONE_DAY * 31 * 10], // 10M\n  ['year', ONE_DAY * 380] // 1Y\n  ];\n  /**\n   * @param {module:echarts/model/Model}\n   * @return {module:echarts/scale/Time}\n   */\n\n  TimeScale.create = function (model) {\n    return new TimeScale({\n      useUTC: model.ecModel.get('useUTC')\n    });\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Log scale\n   * @module echarts/scale/Log\n   */\n  // Use some method of IntervalScale\n  var scaleProto$1 = Scale_1.prototype;\n  var intervalScaleProto$1 = Interval.prototype;\n  var getPrecisionSafe$1 = number.getPrecisionSafe;\n  var roundingErrorFix = number.round;\n  var mathFloor$1 = Math.floor;\n  var mathCeil$1 = Math.ceil;\n  var mathPow$1 = Math.pow;\n  var mathLog = Math.log;\n  var LogScale = Scale_1.extend({\n    type: 'log',\n    base: 10,\n    $constructor: function () {\n      Scale_1.apply(this, arguments);\n      this._originalScale = new Interval();\n    },\n\n    /**\n     * @param {boolean} [expandToNicedExtent=false] If expand the ticks to niced extent.\n     * @return {Array.<number>}\n     */\n    getTicks: function (expandToNicedExtent) {\n      var originalScale = this._originalScale;\n      var extent = this._extent;\n      var originalExtent = originalScale.getExtent();\n      return util.map(intervalScaleProto$1.getTicks.call(this, expandToNicedExtent), function (val) {\n        var powVal = number.round(mathPow$1(this.base, val)); // Fix #4158\n\n        powVal = val === extent[0] && originalScale.__fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n        powVal = val === extent[1] && originalScale.__fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n        return powVal;\n      }, this);\n    },\n\n    /**\n     * @param {number} splitNumber\n     * @return {Array.<Array.<number>>}\n     */\n    getMinorTicks: intervalScaleProto$1.getMinorTicks,\n\n    /**\n     * @param {number} val\n     * @return {string}\n     */\n    getLabel: intervalScaleProto$1.getLabel,\n\n    /**\n     * @param  {number} val\n     * @return {number}\n     */\n    scale: function (val) {\n      val = scaleProto$1.scale.call(this, val);\n      return mathPow$1(this.base, val);\n    },\n\n    /**\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n      var base = this.base;\n      start = mathLog(start) / mathLog(base);\n      end = mathLog(end) / mathLog(base);\n      intervalScaleProto$1.setExtent.call(this, start, end);\n    },\n\n    /**\n     * @return {number} end\n     */\n    getExtent: function () {\n      var base = this.base;\n      var extent = scaleProto$1.getExtent.call(this);\n      extent[0] = mathPow$1(base, extent[0]);\n      extent[1] = mathPow$1(base, extent[1]); // Fix #4158\n\n      var originalScale = this._originalScale;\n      var originalExtent = originalScale.getExtent();\n      originalScale.__fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n      originalScale.__fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n      return extent;\n    },\n\n    /**\n     * @param  {Array.<number>} extent\n     */\n    unionExtent: function (extent) {\n      this._originalScale.unionExtent(extent);\n\n      var base = this.base;\n      extent[0] = mathLog(extent[0]) / mathLog(base);\n      extent[1] = mathLog(extent[1]) / mathLog(base);\n      scaleProto$1.unionExtent.call(this, extent);\n    },\n\n    /**\n     * @override\n     */\n    unionExtentFromData: function (data, dim) {\n      // TODO\n      // filter value that <= 0\n      this.unionExtent(data.getApproximateExtent(dim));\n    },\n\n    /**\n     * Update interval and extent of intervals for nice ticks\n     * @param  {number} [approxTickNum = 10] Given approx tick number\n     */\n    niceTicks: function (approxTickNum) {\n      approxTickNum = approxTickNum || 10;\n      var extent = this._extent;\n      var span = extent[1] - extent[0];\n\n      if (span === Infinity || span <= 0) {\n        return;\n      }\n\n      var interval = number.quantity(span);\n      var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n      if (err <= 0.5) {\n        interval *= 10;\n      } // Interval should be integer\n\n\n      while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n        interval *= 10;\n      }\n\n      var niceExtent = [number.round(mathCeil$1(extent[0] / interval) * interval), number.round(mathFloor$1(extent[1] / interval) * interval)];\n      this._interval = interval;\n      this._niceExtent = niceExtent;\n    },\n\n    /**\n     * Nice extent.\n     * @override\n     */\n    niceExtent: function (opt) {\n      intervalScaleProto$1.niceExtent.call(this, opt);\n      var originalScale = this._originalScale;\n      originalScale.__fixMin = opt.fixMin;\n      originalScale.__fixMax = opt.fixMax;\n    }\n  });\n  util.each(['contain', 'normalize'], function (methodName) {\n    LogScale.prototype[methodName] = function (val) {\n      val = mathLog(val) / mathLog(this.base);\n      return scaleProto$1[methodName].call(this, val);\n    };\n  });\n\n  LogScale.create = function () {\n    return new LogScale();\n  };\n\n  function fixRoundingError(val, originalVal) {\n    return roundingErrorFix(val, getPrecisionSafe$1(originalVal));\n  }\n\n  var _default$1r = LogScale;\n  var Log = _default$1r;\n\n  var prepareLayoutBarSeries$1 = barGrid.prepareLayoutBarSeries;\n  var makeColumnLayout$1 = barGrid.makeColumnLayout;\n  var retrieveColumnLayout$1 = barGrid.retrieveColumnLayout;\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Get axis scale extent before niced.\n   * Item of returned array can only be number (including Infinity and NaN).\n   */\n  function getScaleExtent(scale, model) {\n    var scaleType = scale.type;\n    var min = model.getMin();\n    var max = model.getMax();\n    var originalExtent = scale.getExtent();\n    var axisDataLen;\n    var boundaryGap;\n    var span;\n\n    if (scaleType === 'ordinal') {\n      axisDataLen = model.getCategories().length;\n    } else {\n      boundaryGap = model.get('boundaryGap');\n\n      if (!util.isArray(boundaryGap)) {\n        boundaryGap = [boundaryGap || 0, boundaryGap || 0];\n      }\n\n      if (typeof boundaryGap[0] === 'boolean') {\n        boundaryGap = [0, 0];\n      }\n\n      boundaryGap[0] = number.parsePercent(boundaryGap[0], 1);\n      boundaryGap[1] = number.parsePercent(boundaryGap[1], 1);\n      span = originalExtent[1] - originalExtent[0] || Math.abs(originalExtent[0]);\n    } // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n    // FIXME\n    // (1) When min/max is 'dataMin' or 'dataMax', should boundaryGap be able to used?\n    // (2) When `needCrossZero` and all data is positive/negative, should it be ensured\n    // that the results processed by boundaryGap are positive/negative?\n\n\n    if (min === 'dataMin') {\n      min = originalExtent[0];\n    } else if (typeof min === 'function') {\n      min = min({\n        min: originalExtent[0],\n        max: originalExtent[1]\n      });\n    }\n\n    if (max === 'dataMax') {\n      max = originalExtent[1];\n    } else if (typeof max === 'function') {\n      max = max({\n        min: originalExtent[0],\n        max: originalExtent[1]\n      });\n    }\n\n    var fixMin = min != null;\n    var fixMax = max != null;\n\n    if (min == null) {\n      min = scaleType === 'ordinal' ? axisDataLen ? 0 : NaN : originalExtent[0] - boundaryGap[0] * span;\n    }\n\n    if (max == null) {\n      max = scaleType === 'ordinal' ? axisDataLen ? axisDataLen - 1 : NaN : originalExtent[1] + boundaryGap[1] * span;\n    }\n\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n    scale.setBlank(util.eqNaN(min) || util.eqNaN(max) || scaleType === 'ordinal' && !scale.getOrdinalMeta().categories.length); // Evaluate if axis needs cross zero\n\n    if (model.getNeedCrossZero()) {\n      // Axis is over zero and min is not set\n      if (min > 0 && max > 0 && !fixMin) {\n        min = 0;\n      } // Axis is under zero and max is not set\n\n\n      if (min < 0 && max < 0 && !fixMax) {\n        max = 0;\n      }\n    } // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n    // is base axis\n    // FIXME\n    // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n    // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n    //     Should not depend on series type `bar`?\n    // (3) Fix that might overlap when using dataZoom.\n    // (4) Consider other chart types using `barGrid`?\n    // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n\n    var ecModel = model.ecModel;\n\n    if (ecModel && scaleType === 'time'\n    /*|| scaleType === 'interval' */\n    ) {\n      var barSeriesModels = prepareLayoutBarSeries$1('bar', ecModel);\n      var isBaseAxisAndHasBarSeries;\n      util.each(barSeriesModels, function (seriesModel) {\n        isBaseAxisAndHasBarSeries |= seriesModel.getBaseAxis() === model.axis;\n      });\n\n      if (isBaseAxisAndHasBarSeries) {\n        // Calculate placement of bars on axis\n        var barWidthAndOffset = makeColumnLayout$1(barSeriesModels); // Adjust axis min and max to account for overflow\n\n        var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n        min = adjustedScale.min;\n        max = adjustedScale.max;\n      }\n    }\n\n    return {\n      extent: [min, max],\n      // \"fix\" means \"fixed\", the value should not be\n      // changed in the subsequent steps.\n      fixMin: fixMin,\n      fixMax: fixMax\n    };\n  }\n\n  function adjustScaleForOverflow(min, max, model, barWidthAndOffset) {\n    // Get Axis Length\n    var axisExtent = model.axis.getExtent();\n    var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n    var barsOnCurrentAxis = retrieveColumnLayout$1(barWidthAndOffset, model.axis);\n\n    if (barsOnCurrentAxis === undefined) {\n      return {\n        min: min,\n        max: max\n      };\n    }\n\n    var minOverflow = Infinity;\n    util.each(barsOnCurrentAxis, function (item) {\n      minOverflow = Math.min(item.offset, minOverflow);\n    });\n    var maxOverflow = -Infinity;\n    util.each(barsOnCurrentAxis, function (item) {\n      maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n    });\n    minOverflow = Math.abs(minOverflow);\n    maxOverflow = Math.abs(maxOverflow);\n    var totalOverFlow = minOverflow + maxOverflow; // Calulate required buffer based on old range and overflow\n\n    var oldRange = max - min;\n    var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n    var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n    max += overflowBuffer * (maxOverflow / totalOverFlow);\n    min -= overflowBuffer * (minOverflow / totalOverFlow);\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  function niceScaleExtent(scale, model) {\n    var extentInfo = getScaleExtent(scale, model);\n    var extent = extentInfo.extent;\n    var splitNumber = model.get('splitNumber');\n\n    if (scale.type === 'log') {\n      scale.base = model.get('logBase');\n    }\n\n    var scaleType = scale.type;\n    scale.setExtent(extent[0], extent[1]);\n    scale.niceExtent({\n      splitNumber: splitNumber,\n      fixMin: extentInfo.fixMin,\n      fixMax: extentInfo.fixMax,\n      minInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('minInterval') : null,\n      maxInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('maxInterval') : null\n    }); // If some one specified the min, max. And the default calculated interval\n    // is not good enough. He can specify the interval. It is often appeared\n    // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n    // to be 60.\n    // FIXME\n\n    var interval = model.get('interval');\n\n    if (interval != null) {\n      scale.setInterval && scale.setInterval(interval);\n    }\n  }\n  /**\n   * @param {module:echarts/model/Model} model\n   * @param {string} [axisType] Default retrieve from model.type\n   * @return {module:echarts/scale/*}\n   */\n\n\n  function createScaleByModel(model, axisType) {\n    axisType = axisType || model.get('type');\n\n    if (axisType) {\n      switch (axisType) {\n        // Buildin scale\n        case 'category':\n          return new Ordinal(model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(), [Infinity, -Infinity]);\n\n        case 'value':\n          return new Interval();\n        // Extended scale, like time and log\n\n        default:\n          return (Scale_1.getClass(axisType) || Interval).create(model);\n      }\n    }\n  }\n  /**\n   * Check if the axis corss 0\n   */\n\n\n  function ifAxisCrossZero(axis) {\n    var dataExtent = axis.scale.getExtent();\n    var min = dataExtent[0];\n    var max = dataExtent[1];\n    return !(min > 0 && max > 0 || min < 0 && max < 0);\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @return {Function} Label formatter function.\n   *         param: {number} tickValue,\n   *         param: {number} idx, the index in all ticks.\n   *                         If category axis, this param is not requied.\n   *         return: {string} label string.\n   */\n\n\n  function makeLabelFormatter(axis) {\n    var labelFormatter = axis.getLabelModel().get('formatter');\n    var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n    if (typeof labelFormatter === 'string') {\n      labelFormatter = function (tpl) {\n        return function (val) {\n          // For category axis, get raw value; for numeric axis,\n          // get foramtted label like '1,333,444'.\n          val = axis.scale.getLabel(val);\n          return tpl.replace('{value}', val != null ? val : '');\n        };\n      }(labelFormatter); // Consider empty array\n\n\n      return labelFormatter;\n    } else if (typeof labelFormatter === 'function') {\n      return function (tickValue, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tickValue - categoryTickStart;\n        }\n\n        return labelFormatter(getAxisRawValue(axis, tickValue), idx);\n      };\n    } else {\n      return function (tick) {\n        return axis.scale.getLabel(tick);\n      };\n    }\n  }\n\n  function getAxisRawValue(axis, value) {\n    // In category axis with data zoom, tick is not the original\n    // index of axis.data. So tick should not be exposed to user\n    // in category axis.\n    return axis.type === 'category' ? axis.scale.getLabel(value) : value;\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @return {module:zrender/core/BoundingRect} Be null/undefined if no labels.\n   */\n\n\n  function estimateLabelUnionRect(axis) {\n    var axisModel = axis.model;\n    var scale = axis.scale;\n\n    if (!axisModel.get('axisLabel.show') || scale.isBlank()) {\n      return;\n    }\n\n    var isCategory = axis.type === 'category';\n    var realNumberScaleTicks;\n    var tickCount;\n    var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n    if (isCategory) {\n      tickCount = scale.count();\n    } else {\n      realNumberScaleTicks = scale.getTicks();\n      tickCount = realNumberScaleTicks.length;\n    }\n\n    var axisLabelModel = axis.getLabelModel();\n    var labelFormatter = makeLabelFormatter(axis);\n    var rect;\n    var step = 1; // Simple optimization for large amount of labels\n\n    if (tickCount > 40) {\n      step = Math.ceil(tickCount / 40);\n    }\n\n    for (var i = 0; i < tickCount; i += step) {\n      var tickValue = realNumberScaleTicks ? realNumberScaleTicks[i] : categoryScaleExtent[0] + i;\n      var label = labelFormatter(tickValue);\n      var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n      var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n      rect ? rect.union(singleRect) : rect = singleRect;\n    }\n\n    return rect;\n  }\n\n  function rotateTextRect(textRect, rotate) {\n    var rotateRadians = rotate * Math.PI / 180;\n    var boundingBox = textRect.plain();\n    var beforeWidth = boundingBox.width;\n    var beforeHeight = boundingBox.height;\n    var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n    var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n    var rotatedRect = new BoundingRect_1(boundingBox.x, boundingBox.y, afterWidth, afterHeight);\n    return rotatedRect;\n  }\n  /**\n   * @param {module:echarts/src/model/Model} model axisLabelModel or axisTickModel\n   * @return {number|String} Can be null|'auto'|number|function\n   */\n\n\n  function getOptionCategoryInterval(model) {\n    var interval = model.get('interval');\n    return interval == null ? 'auto' : interval;\n  }\n  /**\n   * Set `categoryInterval` as 0 implicitly indicates that\n   * show all labels reguardless of overlap.\n   * @param {Object} axis axisModel.axis\n   * @return {boolean}\n   */\n\n\n  function shouldShowAllLabels(axis) {\n    return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n  }\n\n  var getScaleExtent_1 = getScaleExtent;\n  var niceScaleExtent_1 = niceScaleExtent;\n  var createScaleByModel_1 = createScaleByModel;\n  var ifAxisCrossZero_1 = ifAxisCrossZero;\n  var makeLabelFormatter_1 = makeLabelFormatter;\n  var getAxisRawValue_1 = getAxisRawValue;\n  var estimateLabelUnionRect_1 = estimateLabelUnionRect;\n  var getOptionCategoryInterval_1 = getOptionCategoryInterval;\n  var shouldShowAllLabels_1 = shouldShowAllLabels;\n\n  var axisHelper = {\n  \tgetScaleExtent: getScaleExtent_1,\n  \tniceScaleExtent: niceScaleExtent_1,\n  \tcreateScaleByModel: createScaleByModel_1,\n  \tifAxisCrossZero: ifAxisCrossZero_1,\n  \tmakeLabelFormatter: makeLabelFormatter_1,\n  \tgetAxisRawValue: getAxisRawValue_1,\n  \testimateLabelUnionRect: estimateLabelUnionRect_1,\n  \tgetOptionCategoryInterval: getOptionCategoryInterval_1,\n  \tshouldShowAllLabels: shouldShowAllLabels_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import * as axisHelper from './axisHelper';\n  var _default$1s = {\n    /**\n     * @param {boolean} origin\n     * @return {number|string} min value or 'dataMin' or null/undefined (means auto) or NaN\n     */\n    getMin: function (origin) {\n      var option = this.option;\n      var min = !origin && option.rangeStart != null ? option.rangeStart : option.min;\n\n      if (this.axis && min != null && min !== 'dataMin' && typeof min !== 'function' && !util.eqNaN(min)) {\n        min = this.axis.scale.parse(min);\n      }\n\n      return min;\n    },\n\n    /**\n     * @param {boolean} origin\n     * @return {number|string} max value or 'dataMax' or null/undefined (means auto) or NaN\n     */\n    getMax: function (origin) {\n      var option = this.option;\n      var max = !origin && option.rangeEnd != null ? option.rangeEnd : option.max;\n\n      if (this.axis && max != null && max !== 'dataMax' && typeof max !== 'function' && !util.eqNaN(max)) {\n        max = this.axis.scale.parse(max);\n      }\n\n      return max;\n    },\n\n    /**\n     * @return {boolean}\n     */\n    getNeedCrossZero: function () {\n      var option = this.option;\n      return option.rangeStart != null || option.rangeEnd != null ? false : !option.scale;\n    },\n\n    /**\n     * Should be implemented by each axis model if necessary.\n     * @return {module:echarts/model/Component} coordinate system model\n     */\n    getCoordSysModel: util.noop,\n\n    /**\n     * @param {number} rangeStart Can only be finite number or null/undefined or NaN.\n     * @param {number} rangeEnd Can only be finite number or null/undefined or NaN.\n     */\n    setRange: function (rangeStart, rangeEnd) {\n      this.option.rangeStart = rangeStart;\n      this.option.rangeEnd = rangeEnd;\n    },\n\n    /**\n     * Reset range\n     */\n    resetRange: function () {\n      // rangeStart and rangeEnd is readonly.\n      this.option.rangeStart = this.option.rangeEnd = null;\n    }\n  };\n  var axisModelCommonMixin = _default$1s;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var calculateTextPosition$1 = text.calculateTextPosition;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Symbol factory\n\n  /**\n   * Triangle shape\n   * @inner\n   */\n  var Triangle = graphic.extendShape({\n    type: 'triangle',\n    shape: {\n      cx: 0,\n      cy: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var cx = shape.cx;\n      var cy = shape.cy;\n      var width = shape.width / 2;\n      var height = shape.height / 2;\n      path.moveTo(cx, cy - height);\n      path.lineTo(cx + width, cy + height);\n      path.lineTo(cx - width, cy + height);\n      path.closePath();\n    }\n  });\n  /**\n   * Diamond shape\n   * @inner\n   */\n\n  var Diamond = graphic.extendShape({\n    type: 'diamond',\n    shape: {\n      cx: 0,\n      cy: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var cx = shape.cx;\n      var cy = shape.cy;\n      var width = shape.width / 2;\n      var height = shape.height / 2;\n      path.moveTo(cx, cy - height);\n      path.lineTo(cx + width, cy);\n      path.lineTo(cx, cy + height);\n      path.lineTo(cx - width, cy);\n      path.closePath();\n    }\n  });\n  /**\n   * Pin shape\n   * @inner\n   */\n\n  var Pin = graphic.extendShape({\n    type: 'pin',\n    shape: {\n      // x, y on the cusp\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (path, shape) {\n      var x = shape.x;\n      var y = shape.y;\n      var w = shape.width / 5 * 3; // Height must be larger than width\n\n      var h = Math.max(w, shape.height);\n      var r = w / 2; // Dist on y with tangent point and circle center\n\n      var dy = r * r / (h - r);\n      var cy = y - h + r + dy;\n      var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n      var dx = Math.cos(angle) * r;\n      var tanX = Math.sin(angle);\n      var tanY = Math.cos(angle);\n      var cpLen = r * 0.6;\n      var cpLen2 = r * 0.7;\n      path.moveTo(x - dx, cy + dy);\n      path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n      path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n      path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n      path.closePath();\n    }\n  });\n  /**\n   * Arrow shape\n   * @inner\n   */\n\n  var Arrow = graphic.extendShape({\n    type: 'arrow',\n    shape: {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    buildPath: function (ctx, shape) {\n      var height = shape.height;\n      var width = shape.width;\n      var x = shape.x;\n      var y = shape.y;\n      var dx = width / 3 * 2;\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + dx, y + height);\n      ctx.lineTo(x, y + height / 4 * 3);\n      ctx.lineTo(x - dx, y + height);\n      ctx.lineTo(x, y);\n      ctx.closePath();\n    }\n  });\n  /**\n   * Map of path contructors\n   * @type {Object.<string, module:zrender/graphic/Path>}\n   */\n\n  var symbolCtors = {\n    line: graphic.Line,\n    rect: graphic.Rect,\n    roundRect: graphic.Rect,\n    square: graphic.Rect,\n    circle: graphic.Circle,\n    diamond: Diamond,\n    pin: Pin,\n    arrow: Arrow,\n    triangle: Triangle\n  };\n  var symbolShapeMakers = {\n    line: function (x, y, w, h, shape) {\n      // FIXME\n      shape.x1 = x;\n      shape.y1 = y + h / 2;\n      shape.x2 = x + w;\n      shape.y2 = y + h / 2;\n    },\n    rect: function (x, y, w, h, shape) {\n      shape.x = x;\n      shape.y = y;\n      shape.width = w;\n      shape.height = h;\n    },\n    roundRect: function (x, y, w, h, shape) {\n      shape.x = x;\n      shape.y = y;\n      shape.width = w;\n      shape.height = h;\n      shape.r = Math.min(w, h) / 4;\n    },\n    square: function (x, y, w, h, shape) {\n      var size = Math.min(w, h);\n      shape.x = x;\n      shape.y = y;\n      shape.width = size;\n      shape.height = size;\n    },\n    circle: function (x, y, w, h, shape) {\n      // Put circle in the center of square\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.r = Math.min(w, h) / 2;\n    },\n    diamond: function (x, y, w, h, shape) {\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    pin: function (x, y, w, h, shape) {\n      shape.x = x + w / 2;\n      shape.y = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    arrow: function (x, y, w, h, shape) {\n      shape.x = x + w / 2;\n      shape.y = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    },\n    triangle: function (x, y, w, h, shape) {\n      shape.cx = x + w / 2;\n      shape.cy = y + h / 2;\n      shape.width = w;\n      shape.height = h;\n    }\n  };\n  var symbolBuildProxies = {};\n  util.each(symbolCtors, function (Ctor, name) {\n    symbolBuildProxies[name] = new Ctor();\n  });\n  var SymbolClz = graphic.extendShape({\n    type: 'symbol',\n    shape: {\n      symbolType: '',\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    },\n    calculateTextPosition: function (out, style, rect) {\n      var res = calculateTextPosition$1(out, style, rect);\n      var shape = this.shape;\n\n      if (shape && shape.symbolType === 'pin' && style.textPosition === 'inside') {\n        res.y = rect.y + rect.height * 0.4;\n      }\n\n      return res;\n    },\n    buildPath: function (ctx, shape, inBundle) {\n      var symbolType = shape.symbolType;\n\n      if (symbolType !== 'none') {\n        var proxySymbol = symbolBuildProxies[symbolType];\n\n        if (!proxySymbol) {\n          // Default rect\n          symbolType = 'rect';\n          proxySymbol = symbolBuildProxies[symbolType];\n        }\n\n        symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n        proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n      }\n    }\n  }); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\n  function symbolPathSetColor(color, innerColor) {\n    if (this.type !== 'image') {\n      var symbolStyle = this.style;\n      var symbolShape = this.shape;\n\n      if (symbolShape && symbolShape.symbolType === 'line') {\n        symbolStyle.stroke = color;\n      } else if (this.__isEmptyBrush) {\n        symbolStyle.stroke = color;\n        symbolStyle.fill = innerColor || '#fff';\n      } else {\n        // FIXME  onlyStroke ?\n        symbolStyle.fill && (symbolStyle.fill = color);\n        symbolStyle.stroke && (symbolStyle.stroke = color);\n      }\n\n      this.dirty(false);\n    }\n  }\n  /**\n   * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n   * @param {string} symbolType\n   * @param {number} x\n   * @param {number} y\n   * @param {number} w\n   * @param {number} h\n   * @param {string} color\n   * @param {boolean} [keepAspect=false] whether to keep the ratio of w/h,\n   *                            for path and image only.\n   */\n\n\n  function createSymbol(symbolType, x, y, w, h, color, keepAspect) {\n    // TODO Support image object, DynamicImage.\n    var isEmpty = symbolType.indexOf('empty') === 0;\n\n    if (isEmpty) {\n      symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n    }\n\n    var symbolPath;\n\n    if (symbolType.indexOf('image://') === 0) {\n      symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect_1(x, y, w, h), keepAspect ? 'center' : 'cover');\n    } else if (symbolType.indexOf('path://') === 0) {\n      symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect_1(x, y, w, h), keepAspect ? 'center' : 'cover');\n    } else {\n      symbolPath = new SymbolClz({\n        shape: {\n          symbolType: symbolType,\n          x: x,\n          y: y,\n          width: w,\n          height: h\n        }\n      });\n    }\n\n    symbolPath.__isEmptyBrush = isEmpty;\n    symbolPath.setColor = symbolPathSetColor;\n    symbolPath.setColor(color);\n    return symbolPath;\n  }\n\n  var createSymbol_1 = createSymbol;\n\n  var symbol = {\n  \tcreateSymbol: createSymbol_1\n  };\n\n  var getLayoutRect_1$1 = layout.getLayoutRect;\n\n\n\n  var enableDataStack$2 = dataStackHelper.enableDataStack;\n  var isDimensionStacked$2 = dataStackHelper.isDimensionStacked;\n  var getStackedDimension$1 = dataStackHelper.getStackedDimension;\n\n\n\n  var completeDimensions$1 = completeDimensions_1;\n\n\n\n  var createDimensions$1 = createDimensions;\n\n\n\n  var createSymbol$1 = symbol.createSymbol;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import createGraphFromNodeEdge from './chart/helper/createGraphFromNodeEdge';\n\n  /**\n   * Create a muti dimension List structure from seriesModel.\n   * @param  {module:echarts/model/Model} seriesModel\n   * @return {module:echarts/data/List} list\n   */\n  function createList(seriesModel) {\n    return createListFromArray_1(seriesModel.getSource(), seriesModel);\n  } // export function createGraph(seriesModel) {\n  //     var nodes = seriesModel.get('data');\n  //     var links = seriesModel.get('links');\n  //     return createGraphFromNodeEdge(nodes, links, seriesModel);\n  // }\n\n\n  var dataStack$1 = {\n    isDimensionStacked: isDimensionStacked$2,\n    enableDataStack: enableDataStack$2,\n    getStackedDimension: getStackedDimension$1\n  };\n  /**\n   * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n   * @param {string} symbolDesc\n   * @param {number} x\n   * @param {number} y\n   * @param {number} w\n   * @param {number} h\n   * @param {string} color\n   */\n\n  /**\n   * Create scale\n   * @param {Array.<number>} dataExtent\n   * @param {Object|module:echarts/Model} option\n   */\n  function createScale(dataExtent, option) {\n    var axisModel = option;\n\n    if (!Model_1.isInstance(option)) {\n      axisModel = new Model_1(option);\n      util.mixin(axisModel, axisModelCommonMixin);\n    }\n\n    var scale = axisHelper.createScaleByModel(axisModel);\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n    axisHelper.niceScaleExtent(scale, axisModel);\n    return scale;\n  }\n  /**\n   * Mixin common methods to axis model,\n   *\n   * Inlcude methods\n   * `getFormattedLabels() => Array.<string>`\n   * `getCategories() => Array.<string>`\n   * `getMin(origin: boolean) => number`\n   * `getMax(origin: boolean) => number`\n   * `getNeedCrossZero() => boolean`\n   * `setRange(start: number, end: number)`\n   * `resetRange()`\n   */\n\n\n  function mixinAxisModelCommonMethods(Model) {\n    util.mixin(Model, axisModelCommonMixin);\n  }\n\n  var createList_1 = createList;\n  var dataStack_1 = dataStack$1;\n  var createScale_1 = createScale;\n  var mixinAxisModelCommonMethods_1 = mixinAxisModelCommonMethods;\n\n  var helper$1 = {\n  \tgetLayoutRect: getLayoutRect_1$1,\n  \tcompleteDimensions: completeDimensions$1,\n  \tcreateDimensions: createDimensions$1,\n  \tcreateSymbol: createSymbol$1,\n  \tcreateList: createList_1,\n  \tdataStack: dataStack_1,\n  \tcreateScale: createScale_1,\n  \tmixinAxisModelCommonMethods: mixinAxisModelCommonMethods_1\n  };\n\n  var EPSILON$3 = 1e-8;\n\n  function isAroundEqual$1(a, b) {\n    return Math.abs(a - b) < EPSILON$3;\n  }\n\n  function contain$1(points, x, y) {\n    var w = 0;\n    var p = points[0];\n\n    if (!p) {\n      return false;\n    }\n\n    for (var i = 1; i < points.length; i++) {\n      var p2 = points[i];\n      w += windingLine_1(p[0], p[1], p2[0], p2[1], x, y);\n      p = p2;\n    } // Close polygon\n\n\n    var p0 = points[0];\n\n    if (!isAroundEqual$1(p[0], p0[0]) || !isAroundEqual$1(p[1], p0[1])) {\n      w += windingLine_1(p[0], p[1], p0[0], p0[1], x, y);\n    }\n\n    return w !== 0;\n  }\n\n  var contain_1$1 = contain$1;\n\n  var polygon = {\n  \tcontain: contain_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/coord/geo/Region\n   */\n\n  /**\n   * @param {string|Region} name\n   * @param {Array} geometries\n   * @param {Array.<number>} cp\n   */\n  function Region(name, geometries, cp) {\n    /**\n     * @type {string}\n     * @readOnly\n     */\n    this.name = name;\n    /**\n     * @type {Array.<Array>}\n     * @readOnly\n     */\n\n    this.geometries = geometries;\n\n    if (!cp) {\n      var rect = this.getBoundingRect();\n      cp = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    } else {\n      cp = [cp[0], cp[1]];\n    }\n    /**\n     * @type {Array.<number>}\n     */\n\n\n    this.center = cp;\n  }\n\n  Region.prototype = {\n    constructor: Region,\n    properties: null,\n\n    /**\n     * @return {module:zrender/core/BoundingRect}\n     */\n    getBoundingRect: function () {\n      var rect = this._rect;\n\n      if (rect) {\n        return rect;\n      }\n\n      var MAX_NUMBER = Number.MAX_VALUE;\n      var min = [MAX_NUMBER, MAX_NUMBER];\n      var max = [-MAX_NUMBER, -MAX_NUMBER];\n      var min2 = [];\n      var max2 = [];\n      var geometries = this.geometries;\n\n      for (var i = 0; i < geometries.length; i++) {\n        // Only support polygon\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        } // Doesn't consider hole\n\n\n        var exterior = geometries[i].exterior;\n        bbox.fromPoints(exterior, min2, max2);\n        vector.min(min, min, min2);\n        vector.max(max, max, max2);\n      } // No data\n\n\n      if (i === 0) {\n        min[0] = min[1] = max[0] = max[1] = 0;\n      }\n\n      return this._rect = new BoundingRect_1(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    },\n\n    /**\n     * @param {<Array.<number>} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n      var rect = this.getBoundingRect();\n      var geometries = this.geometries;\n\n      if (!rect.contain(coord[0], coord[1])) {\n        return false;\n      }\n\n      loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n        // Only support polygon.\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        }\n\n        var exterior = geometries[i].exterior;\n        var interiors = geometries[i].interiors;\n\n        if (polygon.contain(exterior, coord[0], coord[1])) {\n          // Not in the region if point is in the hole.\n          for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n            if (polygon.contain(interiors[k])) {\n              continue loopGeo;\n            }\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    },\n    transformTo: function (x, y, width, height) {\n      var rect = this.getBoundingRect();\n      var aspect = rect.width / rect.height;\n\n      if (!width) {\n        width = aspect * height;\n      } else if (!height) {\n        height = width / aspect;\n      }\n\n      var target = new BoundingRect_1(x, y, width, height);\n      var transform = rect.calculateTransform(target);\n      var geometries = this.geometries;\n\n      for (var i = 0; i < geometries.length; i++) {\n        // Only support polygon.\n        if (geometries[i].type !== 'polygon') {\n          continue;\n        }\n\n        var exterior = geometries[i].exterior;\n        var interiors = geometries[i].interiors;\n\n        for (var p = 0; p < exterior.length; p++) {\n          vector.applyTransform(exterior[p], exterior[p], transform);\n        }\n\n        for (var h = 0; h < (interiors ? interiors.length : 0); h++) {\n          for (var p = 0; p < interiors[h].length; p++) {\n            vector.applyTransform(interiors[h][p], interiors[h][p], transform);\n          }\n        }\n      }\n\n      rect = this._rect;\n      rect.copy(target); // Update center\n\n      this.center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    },\n    cloneShallow: function (name) {\n      name == null && (name = this.name);\n      var newRegion = new Region(name, this.geometries, this.center);\n      newRegion._rect = this._rect;\n      newRegion.transformTo = null; // Simply avoid to be called.\n\n      return newRegion;\n    }\n  };\n  var _default$1t = Region;\n  var Region_1 = _default$1t;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Parse and decode geo json\n   * @module echarts/coord/geo/parseGeoJson\n   */\n  function decode(json) {\n    if (!json.UTF8Encoding) {\n      return json;\n    }\n\n    var encodeScale = json.UTF8Scale;\n\n    if (encodeScale == null) {\n      encodeScale = 1024;\n    }\n\n    var features = json.features;\n\n    for (var f = 0; f < features.length; f++) {\n      var feature = features[f];\n      var geometry = feature.geometry;\n      var coordinates = geometry.coordinates;\n      var encodeOffsets = geometry.encodeOffsets;\n\n      for (var c = 0; c < coordinates.length; c++) {\n        var coordinate = coordinates[c];\n\n        if (geometry.type === 'Polygon') {\n          coordinates[c] = decodePolygon(coordinate, encodeOffsets[c], encodeScale);\n        } else if (geometry.type === 'MultiPolygon') {\n          for (var c2 = 0; c2 < coordinate.length; c2++) {\n            var polygon = coordinate[c2];\n            coordinate[c2] = decodePolygon(polygon, encodeOffsets[c][c2], encodeScale);\n          }\n        }\n      }\n    } // Has been decoded\n\n\n    json.UTF8Encoding = false;\n    return json;\n  }\n\n  function decodePolygon(coordinate, encodeOffsets, encodeScale) {\n    var result = [];\n    var prevX = encodeOffsets[0];\n    var prevY = encodeOffsets[1];\n\n    for (var i = 0; i < coordinate.length; i += 2) {\n      var x = coordinate.charCodeAt(i) - 64;\n      var y = coordinate.charCodeAt(i + 1) - 64; // ZigZag decoding\n\n      x = x >> 1 ^ -(x & 1);\n      y = y >> 1 ^ -(y & 1); // Delta deocding\n\n      x += prevX;\n      y += prevY;\n      prevX = x;\n      prevY = y; // Dequantize\n\n      result.push([x / encodeScale, y / encodeScale]);\n    }\n\n    return result;\n  }\n  /**\n   * @alias module:echarts/coord/geo/parseGeoJson\n   * @param {Object} geoJson\n   * @param {string} nameProperty\n   * @return {module:zrender/container/Group}\n   */\n\n\n  function _default$1u(geoJson, nameProperty) {\n    decode(geoJson);\n    return util.map(util.filter(geoJson.features, function (featureObj) {\n      // Output of mapshaper may have geometry null\n      return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n    }), function (featureObj) {\n      var properties = featureObj.properties;\n      var geo = featureObj.geometry;\n      var coordinates = geo.coordinates;\n      var geometries = [];\n\n      if (geo.type === 'Polygon') {\n        geometries.push({\n          type: 'polygon',\n          // According to the GeoJSON specification.\n          // First must be exterior, and the rest are all interior(holes).\n          exterior: coordinates[0],\n          interiors: coordinates.slice(1)\n        });\n      }\n\n      if (geo.type === 'MultiPolygon') {\n        util.each(coordinates, function (item) {\n          if (item[0]) {\n            geometries.push({\n              type: 'polygon',\n              exterior: item[0],\n              interiors: item.slice(1)\n            });\n          }\n        });\n      }\n\n      var region = new Region_1(properties[nameProperty || 'name'], geometries, properties.cp);\n      region.properties = properties;\n      return region;\n    });\n  }\n\n  var parseGeoJson = _default$1u;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$6 = model.makeInner;\n\n\n\n  var makeLabelFormatter$1 = axisHelper.makeLabelFormatter;\n  var getOptionCategoryInterval$1 = axisHelper.getOptionCategoryInterval;\n  var shouldShowAllLabels$1 = axisHelper.shouldShowAllLabels;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$6 = makeInner$6();\n  /**\n   * @param {module:echats/coord/Axis} axis\n   * @return {Object} {\n   *     labels: [{\n   *         formattedLabel: string,\n   *         rawLabel: string,\n   *         tickValue: number\n   *     }, ...],\n   *     labelCategoryInterval: number\n   * }\n   */\n\n  function createAxisLabels(axis) {\n    // Only ordinal scale support tick interval\n    return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n  }\n  /**\n   * @param {module:echats/coord/Axis} axis\n   * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n   * @return {Object} {\n   *     ticks: Array.<number>\n   *     tickCategoryInterval: number\n   * }\n   */\n\n\n  function createAxisTicks(axis, tickModel) {\n    // Only ordinal scale support tick interval\n    return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n      ticks: axis.scale.getTicks()\n    };\n  }\n\n  function makeCategoryLabels(axis) {\n    var labelModel = axis.getLabelModel();\n    var result = makeCategoryLabelsActually(axis, labelModel);\n    return !labelModel.get('show') || axis.scale.isBlank() ? {\n      labels: [],\n      labelCategoryInterval: result.labelCategoryInterval\n    } : result;\n  }\n\n  function makeCategoryLabelsActually(axis, labelModel) {\n    var labelsCache = getListCache(axis, 'labels');\n    var optionLabelInterval = getOptionCategoryInterval$1(labelModel);\n    var result = listCacheGet(labelsCache, optionLabelInterval);\n\n    if (result) {\n      return result;\n    }\n\n    var labels;\n    var numericLabelInterval;\n\n    if (util.isFunction(optionLabelInterval)) {\n      labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n    } else {\n      numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n      labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n    } // Cache to avoid calling interval function repeatly.\n\n\n    return listCacheSet(labelsCache, optionLabelInterval, {\n      labels: labels,\n      labelCategoryInterval: numericLabelInterval\n    });\n  }\n\n  function makeCategoryTicks(axis, tickModel) {\n    var ticksCache = getListCache(axis, 'ticks');\n    var optionTickInterval = getOptionCategoryInterval$1(tickModel);\n    var result = listCacheGet(ticksCache, optionTickInterval);\n\n    if (result) {\n      return result;\n    }\n\n    var ticks;\n    var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n    // we should not return all ticks.\n\n    if (!tickModel.get('show') || axis.scale.isBlank()) {\n      ticks = [];\n    }\n\n    if (util.isFunction(optionTickInterval)) {\n      ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n    } // Always use label interval by default despite label show. Consider this\n    // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n    // labels. `splitLine` and `axisTick` should be consistent in this case.\n    else if (optionTickInterval === 'auto') {\n        var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n        tickCategoryInterval = labelsResult.labelCategoryInterval;\n        ticks = util.map(labelsResult.labels, function (labelItem) {\n          return labelItem.tickValue;\n        });\n      } else {\n        tickCategoryInterval = optionTickInterval;\n        ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n      } // Cache to avoid calling interval function repeatly.\n\n\n    return listCacheSet(ticksCache, optionTickInterval, {\n      ticks: ticks,\n      tickCategoryInterval: tickCategoryInterval\n    });\n  }\n\n  function makeRealNumberLabels(axis) {\n    var ticks = axis.scale.getTicks();\n    var labelFormatter = makeLabelFormatter$1(axis);\n    return {\n      labels: util.map(ticks, function (tickValue, idx) {\n        return {\n          formattedLabel: labelFormatter(tickValue, idx),\n          rawLabel: axis.scale.getLabel(tickValue),\n          tickValue: tickValue\n        };\n      })\n    };\n  } // Large category data calculation is performence sensitive, and ticks and label\n  // probably be fetched by multiple times. So we cache the result.\n  // axis is created each time during a ec process, so we do not need to clear cache.\n\n\n  function getListCache(axis, prop) {\n    // Because key can be funciton, and cache size always be small, we use array cache.\n    return inner$6(axis)[prop] || (inner$6(axis)[prop] = []);\n  }\n\n  function listCacheGet(cache, key) {\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i].key === key) {\n        return cache[i].value;\n      }\n    }\n  }\n\n  function listCacheSet(cache, key, value) {\n    cache.push({\n      key: key,\n      value: value\n    });\n    return value;\n  }\n\n  function makeAutoCategoryInterval(axis) {\n    var result = inner$6(axis).autoInterval;\n    return result != null ? result : inner$6(axis).autoInterval = axis.calculateCategoryInterval();\n  }\n  /**\n   * Calculate interval for category axis ticks and labels.\n   * To get precise result, at least one of `getRotate` and `isHorizontal`\n   * should be implemented in axis.\n   */\n\n\n  function calculateCategoryInterval(axis) {\n    var params = fetchAutoCategoryIntervalCalculationParams(axis);\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n    // avoid generating a long array by `getTicks`\n    // in large category data case.\n\n    var tickCount = ordinalScale.count();\n\n    if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n      return 0;\n    }\n\n    var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n    if (tickCount > 40) {\n      step = Math.max(1, Math.floor(tickCount / 40));\n    }\n\n    var tickValue = ordinalExtent[0];\n    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n    var unitW = Math.abs(unitSpan * Math.cos(rotation));\n    var unitH = Math.abs(unitSpan * Math.sin(rotation));\n    var maxW = 0;\n    var maxH = 0; // Caution: Performance sensitive for large category data.\n    // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n    for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n      var width = 0;\n      var height = 0; // Not precise, do not consider align and vertical align\n      // and each distance from axis line yet.\n\n      var rect = text.getBoundingRect(labelFormatter(tickValue), params.font, 'center', 'top'); // Magic number\n\n      width = rect.width * 1.3;\n      height = rect.height * 1.3; // Min size, void long loop.\n\n      maxW = Math.max(maxW, width, 7);\n      maxH = Math.max(maxH, height, 7);\n    }\n\n    var dw = maxW / unitW;\n    var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n    isNaN(dw) && (dw = Infinity);\n    isNaN(dh) && (dh = Infinity);\n    var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n    var cache = inner$6(axis.model);\n    var axisExtent = axis.getExtent();\n    var lastAutoInterval = cache.lastAutoInterval;\n    var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n    // otherwise the calculated interval might jitter when the zoom\n    // window size is close to the interval-changing size.\n    // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n    // The jitter will cause that sometimes the displayed labels are\n    // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n\n    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n    // point is not the same when zooming in or zooming out.\n    && lastAutoInterval > interval // If the axis change is caused by chart resize, the cache should not\n    // be used. Otherwise some hiden labels might not be shown again.\n    && cache.axisExtend0 === axisExtent[0] && cache.axisExtend1 === axisExtent[1]) {\n      interval = lastAutoInterval;\n    } // Only update cache if cache not used, otherwise the\n    // changing of interval is too insensitive.\n    else {\n        cache.lastTickCount = tickCount;\n        cache.lastAutoInterval = interval;\n        cache.axisExtend0 = axisExtent[0];\n        cache.axisExtend1 = axisExtent[1];\n      }\n\n    return interval;\n  }\n\n  function fetchAutoCategoryIntervalCalculationParams(axis) {\n    var labelModel = axis.getLabelModel();\n    return {\n      axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n      labelRotate: labelModel.get('rotate') || 0,\n      font: labelModel.getFont()\n    };\n  }\n\n  function makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent();\n    var labelModel = axis.getLabelModel();\n    var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n    var step = Math.max((categoryInterval || 0) + 1, 1);\n    var startTick = ordinalExtent[0];\n    var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n    // while zooming and moving while interval > 0. Otherwise the selection\n    // of displayable ticks and symbols probably keep changing.\n    // 3 is empirical value.\n\n    if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n      startTick = Math.round(Math.ceil(startTick / step) * step);\n    } // (1) Only add min max label here but leave overlap checking\n    // to render stage, which also ensure the returned list\n    // suitable for splitLine and splitArea rendering.\n    // (2) Scales except category always contain min max label so\n    // do not need to perform this process.\n\n\n    var showAllLabel = shouldShowAllLabels$1(axis);\n    var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n    var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n    if (includeMinLabel && startTick !== ordinalExtent[0]) {\n      addItem(ordinalExtent[0]);\n    } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n    var tickValue = startTick;\n\n    for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n      addItem(tickValue);\n    }\n\n    if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n      addItem(ordinalExtent[1]);\n    }\n\n    function addItem(tVal) {\n      result.push(onlyTick ? tVal : {\n        formattedLabel: labelFormatter(tVal),\n        rawLabel: ordinalScale.getLabel(tVal),\n        tickValue: tVal\n      });\n    }\n\n    return result;\n  } // When interval is function, the result `false` means ignore the tick.\n  // It is time consuming for large category data.\n\n\n  function makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n    var ordinalScale = axis.scale;\n    var labelFormatter = makeLabelFormatter$1(axis);\n    var result = [];\n    util.each(ordinalScale.getTicks(), function (tickValue) {\n      var rawLabel = ordinalScale.getLabel(tickValue);\n\n      if (categoryInterval(tickValue, rawLabel)) {\n        result.push(onlyTick ? tickValue : {\n          formattedLabel: labelFormatter(tickValue),\n          rawLabel: rawLabel,\n          tickValue: tickValue\n        });\n      }\n    });\n    return result;\n  }\n\n  var createAxisLabels_1 = createAxisLabels;\n  var createAxisTicks_1 = createAxisTicks;\n  var calculateCategoryInterval_1 = calculateCategoryInterval;\n\n  var axisTickLabelBuilder = {\n  \tcreateAxisLabels: createAxisLabels_1,\n  \tcreateAxisTicks: createAxisTicks_1,\n  \tcalculateCategoryInterval: calculateCategoryInterval_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var each$j = util.each;\n  var map$6 = util.map;\n\n\n\n  var linearMap$1 = number.linearMap;\n  var getPixelPrecision$1 = number.getPixelPrecision;\n  var round$2 = number.round;\n\n\n\n  var createAxisTicks$1 = axisTickLabelBuilder.createAxisTicks;\n  var createAxisLabels$1 = axisTickLabelBuilder.createAxisLabels;\n  var calculateCategoryInterval$1 = axisTickLabelBuilder.calculateCategoryInterval;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var NORMALIZED_EXTENT = [0, 1];\n  /**\n   * Base class of Axis.\n   * @constructor\n   */\n\n  var Axis = function (dim, scale, extent) {\n    /**\n     * Axis dimension. Such as 'x', 'y', 'z', 'angle', 'radius'.\n     * @type {string}\n     */\n    this.dim = dim;\n    /**\n     * Axis scale\n     * @type {module:echarts/coord/scale/*}\n     */\n\n    this.scale = scale;\n    /**\n     * @type {Array.<number>}\n     * @private\n     */\n\n    this._extent = extent || [0, 0];\n    /**\n     * @type {boolean}\n     */\n\n    this.inverse = false;\n    /**\n     * Usually true when axis has a ordinal scale\n     * @type {boolean}\n     */\n\n    this.onBand = false;\n  };\n\n  Axis.prototype = {\n    constructor: Axis,\n\n    /**\n     * If axis extent contain given coord\n     * @param {number} coord\n     * @return {boolean}\n     */\n    contain: function (coord) {\n      var extent = this._extent;\n      var min = Math.min(extent[0], extent[1]);\n      var max = Math.max(extent[0], extent[1]);\n      return coord >= min && coord <= max;\n    },\n\n    /**\n     * If axis extent contain given data\n     * @param {number} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n      return this.scale.contain(data);\n    },\n\n    /**\n     * Get coord extent.\n     * @return {Array.<number>}\n     */\n    getExtent: function () {\n      return this._extent.slice();\n    },\n\n    /**\n     * Get precision used for formatting\n     * @param {Array.<number>} [dataExtent]\n     * @return {number}\n     */\n    getPixelPrecision: function (dataExtent) {\n      return getPixelPrecision$1(dataExtent || this.scale.getExtent(), this._extent);\n    },\n\n    /**\n     * Set coord extent\n     * @param {number} start\n     * @param {number} end\n     */\n    setExtent: function (start, end) {\n      var extent = this._extent;\n      extent[0] = start;\n      extent[1] = end;\n    },\n\n    /**\n     * Convert data to coord. Data is the rank if it has an ordinal scale\n     * @param {number} data\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    dataToCoord: function (data, clamp) {\n      var extent = this._extent;\n      var scale = this.scale;\n      data = scale.normalize(data);\n\n      if (this.onBand && scale.type === 'ordinal') {\n        extent = extent.slice();\n        fixExtentWithBands(extent, scale.count());\n      }\n\n      return linearMap$1(data, NORMALIZED_EXTENT, extent, clamp);\n    },\n\n    /**\n     * Convert coord to data. Data is the rank if it has an ordinal scale\n     * @param {number} coord\n     * @param  {boolean} clamp\n     * @return {number}\n     */\n    coordToData: function (coord, clamp) {\n      var extent = this._extent;\n      var scale = this.scale;\n\n      if (this.onBand && scale.type === 'ordinal') {\n        extent = extent.slice();\n        fixExtentWithBands(extent, scale.count());\n      }\n\n      var t = linearMap$1(coord, extent, NORMALIZED_EXTENT, clamp);\n      return this.scale.scale(t);\n    },\n\n    /**\n     * Convert pixel point to data in axis\n     * @param {Array.<number>} point\n     * @param  {boolean} clamp\n     * @return {number} data\n     */\n    pointToData: function (point, clamp) {// Should be implemented in derived class if necessary.\n    },\n\n    /**\n     * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n     * `axis.getTicksCoords` considers `onBand`, which is used by\n     * `boundaryGap:true` of category axis and splitLine and splitArea.\n     * @param {Object} [opt]\n     * @param {Model} [opt.tickModel=axis.model.getModel('axisTick')]\n     * @param {boolean} [opt.clamp] If `true`, the first and the last\n     *        tick must be at the axis end points. Otherwise, clip ticks\n     *        that outside the axis extent.\n     * @return {Array.<Object>} [{\n     *     coord: ...,\n     *     tickValue: ...\n     * }, ...]\n     */\n    getTicksCoords: function (opt) {\n      opt = opt || {};\n      var tickModel = opt.tickModel || this.getTickModel();\n      var result = createAxisTicks$1(this, tickModel);\n      var ticks = result.ticks;\n      var ticksCoords = map$6(ticks, function (tickValue) {\n        return {\n          coord: this.dataToCoord(tickValue),\n          tickValue: tickValue\n        };\n      }, this);\n      var alignWithLabel = tickModel.get('alignWithLabel');\n      fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n      return ticksCoords;\n    },\n\n    /**\n     * @return {Array.<Array.<Object>>} [{ coord: ..., tickValue: ...}]\n     */\n    getMinorTicksCoords: function () {\n      if (this.scale.type === 'ordinal') {\n        // Category axis doesn't support minor ticks\n        return [];\n      }\n\n      var minorTickModel = this.model.getModel('minorTick');\n      var splitNumber = minorTickModel.get('splitNumber'); // Protection.\n\n      if (!(splitNumber > 0 && splitNumber < 100)) {\n        splitNumber = 5;\n      }\n\n      var minorTicks = this.scale.getMinorTicks(splitNumber);\n      var minorTicksCoords = map$6(minorTicks, function (minorTicksGroup) {\n        return map$6(minorTicksGroup, function (minorTick) {\n          return {\n            coord: this.dataToCoord(minorTick),\n            tickValue: minorTick\n          };\n        }, this);\n      }, this);\n      return minorTicksCoords;\n    },\n\n    /**\n     * @return {Array.<Object>} [{\n     *     formattedLabel: string,\n     *     rawLabel: axis.scale.getLabel(tickValue)\n     *     tickValue: number\n     * }, ...]\n     */\n    getViewLabels: function () {\n      return createAxisLabels$1(this).labels;\n    },\n\n    /**\n     * @return {module:echarts/coord/model/Model}\n     */\n    getLabelModel: function () {\n      return this.model.getModel('axisLabel');\n    },\n\n    /**\n     * Notice here we only get the default tick model. For splitLine\n     * or splitArea, we should pass the splitLineModel or splitAreaModel\n     * manually when calling `getTicksCoords`.\n     * In GL, this method may be overrided to:\n     * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n     * @return {module:echarts/coord/model/Model}\n     */\n    getTickModel: function () {\n      return this.model.getModel('axisTick');\n    },\n\n    /**\n     * Get width of band\n     * @return {number}\n     */\n    getBandWidth: function () {\n      var axisExtent = this._extent;\n      var dataExtent = this.scale.getExtent();\n      var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n      len === 0 && (len = 1);\n      var size = Math.abs(axisExtent[1] - axisExtent[0]);\n      return Math.abs(size) / len;\n    },\n\n    /**\n     * @abstract\n     * @return {boolean} Is horizontal\n     */\n    isHorizontal: null,\n\n    /**\n     * @abstract\n     * @return {number} Get axis rotate, by degree.\n     */\n    getRotate: null,\n\n    /**\n     * Only be called in category axis.\n     * Can be overrided, consider other axes like in 3D.\n     * @return {number} Auto interval for cateogry axis tick and label\n     */\n    calculateCategoryInterval: function () {\n      return calculateCategoryInterval$1(this);\n    }\n  };\n\n  function fixExtentWithBands(extent, nTick) {\n    var size = extent[1] - extent[0];\n    var len = nTick;\n    var margin = size / len / 2;\n    extent[0] += margin;\n    extent[1] -= margin;\n  } // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n  // |---1---|---2---|---3---|---4---|.\n  // So the displayed ticks and splitLine/splitArea should between\n  // each data item, otherwise cause misleading (e.g., split tow bars\n  // of a single data item when there are two bar series).\n  // Also consider if tickCategoryInterval > 0 and onBand, ticks and\n  // splitLine/spliteArea should layout appropriately corresponding\n  // to displayed labels. (So we should not use `getBandWidth` in this\n  // case).\n\n\n  function fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n    var ticksLen = ticksCoords.length;\n\n    if (!axis.onBand || alignWithLabel || !ticksLen) {\n      return;\n    }\n\n    var axisExtent = axis.getExtent();\n    var last;\n    var diffSize;\n\n    if (ticksLen === 1) {\n      ticksCoords[0].coord = axisExtent[0];\n      last = ticksCoords[1] = {\n        coord: axisExtent[0]\n      };\n    } else {\n      var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n      var shift = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n      each$j(ticksCoords, function (ticksItem) {\n        ticksItem.coord -= shift / 2;\n      });\n      var dataExtent = axis.scale.getExtent();\n      diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n      last = {\n        coord: ticksCoords[ticksLen - 1].coord + shift * diffSize\n      };\n      ticksCoords.push(last);\n    }\n\n    var inverse = axisExtent[0] > axisExtent[1]; // Handling clamp.\n\n    if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n      clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n    }\n\n    if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n      ticksCoords.unshift({\n        coord: axisExtent[0]\n      });\n    }\n\n    if (littleThan(axisExtent[1], last.coord)) {\n      clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n    }\n\n    if (clamp && littleThan(last.coord, axisExtent[1])) {\n      ticksCoords.push({\n        coord: axisExtent[1]\n      });\n    }\n\n    function littleThan(a, b) {\n      // Avoid rounding error cause calculated tick coord different with extent.\n      // It may cause an extra unecessary tick added.\n      a = round$2(a);\n      b = round$2(b);\n      return inverse ? a > b : a < b;\n    }\n  }\n\n  var _default$1v = Axis;\n  var Axis_1 = _default$1v;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var zrender_1 = zrender;\n\n\n\n  var matrix_1 = matrix;\n\n\n\n  var vector_1 = vector;\n\n\n\n\n\n  var color$1 = color;\n\n\n\n\n\n  var number$1 = number;\n\n\n\n  var format$2 = format$1;\n  var throttle_1$1 = throttle_1.throttle;\n\n\n\n  var helper$2 = helper$1;\n\n\n\n  var parseGeoJSON_1 = parseGeoJson;\n\n\n\n  var List$1 = List_1;\n\n\n\n  var Model$1 = Model_1;\n\n\n\n  var Axis$1 = Axis_1;\n\n\n\n  var env$1 = env_1;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Do not mount those modules on 'src/echarts' for better tree shaking.\n   */\n  var parseGeoJson$1 = parseGeoJson;\n  var ecUtil = {};\n  util.each(['map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter', 'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction', 'extend', 'defaults', 'clone', 'merge'], function (name) {\n    ecUtil[name] = util[name];\n  });\n  var graphic$1 = {};\n  util.each(['extendShape', 'extendPath', 'makePath', 'makeImage', 'mergePath', 'resizePath', 'createIcon', 'setHoverStyle', 'setLabelStyle', 'setTextStyle', 'setText', 'getFont', 'updateProps', 'initProps', 'getTransform', 'clipPointsByRect', 'clipRectByRect', 'registerShape', 'getShapeClass', 'Group', 'Image', 'Text', 'Circle', 'Sector', 'Ring', 'Polygon', 'Polyline', 'Rect', 'Line', 'BezierCurve', 'Arc', 'IncrementalDisplayable', 'CompoundPath', 'LinearGradient', 'RadialGradient', 'BoundingRect'], function (name) {\n    graphic$1[name] = graphic[name];\n  });\n  var parseGeoJson_1 = parseGeoJson$1;\n  var util$2 = ecUtil;\n  var graphic_1 = graphic$1;\n\n  var _export$1 = {\n  \tzrender: zrender_1,\n  \tmatrix: matrix_1,\n  \tvector: vector_1,\n  \tcolor: color$1,\n  \tnumber: number$1,\n  \tformat: format$2,\n  \tthrottle: throttle_1$1,\n  \thelper: helper$2,\n  \tparseGeoJSON: parseGeoJSON_1,\n  \tList: List$1,\n  \tModel: Model$1,\n  \tAxis: Axis$1,\n  \tenv: env$1,\n  \tparseGeoJson: parseGeoJson_1,\n  \tutil: util$2,\n  \tgraphic: graphic_1\n  };\n\n  var echarts = createCommonjsModule(function (module, exports) {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var throttle = throttle_1.throttle;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var assert = util.assert;\n  var each = util.each;\n  var isFunction = util.isFunction;\n  var isObject = util.isObject;\n  var parseClassType = Component.parseClassType;\n  var version = '4.9.0';\n  var dependencies = {\n    zrender: '4.3.2'\n  };\n  var TEST_FRAME_REMAIN_TIME = 1;\n  var PRIORITY_PROCESSOR_FILTER = 1000;\n  var PRIORITY_PROCESSOR_SERIES_FILTER = 800;\n  var PRIORITY_PROCESSOR_DATASTACK = 900;\n  var PRIORITY_PROCESSOR_STATISTIC = 5000;\n  var PRIORITY_VISUAL_LAYOUT = 1000;\n  var PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\n  var PRIORITY_VISUAL_GLOBAL = 2000;\n  var PRIORITY_VISUAL_CHART = 3000;\n  var PRIORITY_VISUAL_POST_CHART_LAYOUT = 3500;\n  var PRIORITY_VISUAL_COMPONENT = 4000; // FIXME\n  // necessary?\n\n  var PRIORITY_VISUAL_BRUSH = 5000;\n  var PRIORITY = {\n    PROCESSOR: {\n      FILTER: PRIORITY_PROCESSOR_FILTER,\n      SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n      STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n    },\n    VISUAL: {\n      LAYOUT: PRIORITY_VISUAL_LAYOUT,\n      PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n      GLOBAL: PRIORITY_VISUAL_GLOBAL,\n      CHART: PRIORITY_VISUAL_CHART,\n      POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n      COMPONENT: PRIORITY_VISUAL_COMPONENT,\n      BRUSH: PRIORITY_VISUAL_BRUSH\n    }\n  }; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n  // where they must not be invoked nestedly, except the only case: invoke\n  // dispatchAction with updateMethod \"none\" in main process.\n  // This flag is used to carry out this rule.\n  // All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\n\n  var IN_MAIN_PROCESS = '__flagInMainProcess';\n  var OPTION_UPDATED = '__optionUpdated';\n  var ACTION_REG = /^[a-zA-Z0-9_]+$/;\n\n  function createRegisterEventWithLowercaseName(method, ignoreDisposed) {\n    return function (eventName, handler, context) {\n      if (!ignoreDisposed && this._disposed) {\n        disposedWarning(this.id);\n        return;\n      } // Event name is all lowercase\n\n\n      eventName = eventName && eventName.toLowerCase();\n      Eventful_1.prototype[method].call(this, eventName, handler, context);\n    };\n  }\n  /**\n   * @module echarts~MessageCenter\n   */\n\n\n  function MessageCenter() {\n    Eventful_1.call(this);\n  }\n\n  MessageCenter.prototype.on = createRegisterEventWithLowercaseName('on', true);\n  MessageCenter.prototype.off = createRegisterEventWithLowercaseName('off', true);\n  MessageCenter.prototype.one = createRegisterEventWithLowercaseName('one', true);\n  util.mixin(MessageCenter, Eventful_1);\n  /**\n   * @module echarts~ECharts\n   */\n\n  function ECharts(dom, theme, opts) {\n    opts = opts || {}; // Get theme by name\n\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n    /**\n     * @type {string}\n     */\n\n\n    this.id;\n    /**\n     * Group id\n     * @type {string}\n     */\n\n    this.group;\n    /**\n     * @type {HTMLElement}\n     * @private\n     */\n\n    this._dom = dom;\n    var defaultRenderer = 'canvas';\n\n    /**\n     * @type {module:zrender/ZRender}\n     * @private\n     */\n    var zr = this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height\n    });\n    /**\n     * Expect 60 fps.\n     * @type {Function}\n     * @private\n     */\n\n    this._throttledZrFlush = throttle(util.bind(zr.flush, zr), 17);\n    var theme = util.clone(theme);\n    theme && backwardCompat(theme, true);\n    /**\n     * @type {Object}\n     * @private\n     */\n\n    this._theme = theme;\n    /**\n     * @type {Array.<module:echarts/view/Chart>}\n     * @private\n     */\n\n    this._chartsViews = [];\n    /**\n     * @type {Object.<string, module:echarts/view/Chart>}\n     * @private\n     */\n\n    this._chartsMap = {};\n    /**\n     * @type {Array.<module:echarts/view/Component>}\n     * @private\n     */\n\n    this._componentsViews = [];\n    /**\n     * @type {Object.<string, module:echarts/view/Component>}\n     * @private\n     */\n\n    this._componentsMap = {};\n    /**\n     * @type {module:echarts/CoordinateSystem}\n     * @private\n     */\n\n    this._coordSysMgr = new CoordinateSystem();\n    /**\n     * @type {module:echarts/ExtensionAPI}\n     * @private\n     */\n\n    var api = this._api = createExtensionAPI(this); // Sort on demand\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    /**\n     * @type {module:echarts/stream/Scheduler}\n     */\n\n    this._scheduler = new Scheduler_1(this, api, dataProcessorFuncs, visualFuncs);\n    Eventful_1.call(this, this._ecEventProcessor = new EventProcessor());\n    /**\n     * @type {module:echarts~MessageCenter}\n     * @private\n     */\n\n    this._messageCenter = new MessageCenter(); // Init mouse events\n\n    this._initEvents(); // In case some people write `window.onresize = chart.resize`\n\n\n    this.resize = util.bind(this.resize, this); // Can't dispatch action during rendering procedure\n\n    this._pendingActions = [];\n    zr.animation.on('frame', this._onframe, this);\n    bindRenderedEvent(zr, this); // ECharts instance can be used as value.\n\n    util.setAsPrimitive(this);\n  }\n\n  var echartsProto = ECharts.prototype;\n\n  echartsProto._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    var scheduler = this._scheduler; // Lazy update\n\n    if (this[OPTION_UPDATED]) {\n      var silent = this[OPTION_UPDATED].silent;\n      this[IN_MAIN_PROCESS] = true;\n      prepare(this);\n      updateMethods.update.call(this);\n      this[IN_MAIN_PROCESS] = false;\n      this[OPTION_UPDATED] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n        // Stream progress.\n        var remainTime = TEST_FRAME_REMAIN_TIME;\n        var ecModel = this._model;\n        var api = this._api;\n        scheduler.unfinished = false;\n\n        do {\n          var startTime = +new Date();\n          scheduler.performSeriesTasks(ecModel); // Currently dataProcessorFuncs do not check threshold.\n\n          scheduler.performDataProcessorTasks(ecModel);\n          updateStreamModes(this, ecModel); // Do not update coordinate system here. Because that coord system update in\n          // each frame is not a good user experience. So we follow the rule that\n          // the extent of the coordinate system is determin in the first frame (the\n          // frame is executed immedietely after task reset.\n          // this._coordSysMgr.update(ecModel, api);\n          // console.log('--- ec frame visual ---', remainTime);\n\n          scheduler.performVisualTasks(ecModel);\n          renderSeries(this, this._model, api, 'remain');\n          remainTime -= +new Date() - startTime;\n        } while (remainTime > 0 && scheduler.unfinished); // Call flush explicitly for trigger finished event.\n\n\n        if (!scheduler.unfinished) {\n          this._zr.flush();\n        } // Else, zr flushing be ensue within the same frame,\n        // because zr flushing is after onframe event.\n\n      }\n  };\n  /**\n   * @return {HTMLElement}\n   */\n\n\n  echartsProto.getDom = function () {\n    return this._dom;\n  };\n  /**\n   * @return {module:zrender~ZRender}\n   */\n\n\n  echartsProto.getZr = function () {\n    return this._zr;\n  };\n  /**\n   * Usage:\n   * chart.setOption(option, notMerge, lazyUpdate);\n   * chart.setOption(option, {\n   *     notMerge: ...,\n   *     lazyUpdate: ...,\n   *     silent: ...\n   * });\n   *\n   * @param {Object} option\n   * @param {Object|boolean} [opts] opts or notMerge.\n   * @param {boolean} [opts.notMerge=false]\n   * @param {boolean} [opts.lazyUpdate=false] Useful when setOption frequently.\n   */\n\n\n  echartsProto.setOption = function (option, notMerge, lazyUpdate) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager_1(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new Global();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, theme, optionManager);\n    }\n\n    this._model.setOption(option, optionPreprocessorFuncs);\n\n    if (lazyUpdate) {\n      this[OPTION_UPDATED] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS] = false;\n    } else {\n      prepare(this);\n      updateMethods.update.call(this); // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n\n      this._zr.flush();\n\n      this[OPTION_UPDATED] = false;\n      this[IN_MAIN_PROCESS] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\n   * @DEPRECATED\n   */\n\n\n  echartsProto.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n  /**\n   * @return {module:echarts/model/Global}\n   */\n\n\n  echartsProto.getModel = function () {\n    return this._model;\n  };\n  /**\n   * @return {Object}\n   */\n\n\n  echartsProto.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getWidth = function () {\n    return this._zr.getWidth();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getHeight = function () {\n    return this._zr.getHeight();\n  };\n  /**\n   * @return {number}\n   */\n\n\n  echartsProto.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n  };\n  /**\n   * Get canvas which has all thing rendered\n   * @param {Object} opts\n   * @param {string} [opts.backgroundColor]\n   * @return {string}\n   */\n\n\n  echartsProto.getRenderedCanvas = function (opts) {\n    if (!env_1.canvasSupported) {\n      return;\n    }\n\n    opts = opts || {};\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n    var zr = this._zr; // var list = zr.storage.getDisplayList();\n    // Stop animations\n    // Never works before in init animation, so remove it.\n    // zrUtil.each(list, function (el) {\n    //     el.stopAnimation(true);\n    // });\n\n    return zr.painter.getRenderedCanvas(opts);\n  };\n  /**\n   * Get svg data url\n   * @return {string}\n   */\n\n\n  echartsProto.getSvgDataURL = function () {\n    if (!env_1.svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList(); // Stop animations\n\n    util.each(list, function (el) {\n      el.stopAnimation(true);\n    });\n    return zr.painter.toDataURL();\n  };\n  /**\n   * @return {string}\n   * @param {Object} opts\n   * @param {string} [opts.type='png']\n   * @param {string} [opts.pixelRatio=1]\n   * @param {string} [opts.backgroundColor]\n   * @param {string} [opts.excludeComponents]\n   */\n\n\n  echartsProto.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n  /**\n   * @return {string}\n   * @param {Object} opts\n   * @param {string} [opts.type='png']\n   * @param {string} [opts.pixelRatio=1]\n   * @param {string} [opts.backgroundColor]\n   */\n\n\n  echartsProto.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!env_1.canvasSupported) {\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left = MAX_NUMBER;\n      var top = MAX_NUMBER;\n      var right = -MAX_NUMBER;\n      var bottom = -MAX_NUMBER;\n      var canvasList = [];\n      var dpr = opts && opts.pixelRatio || 1;\n      util.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(util.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left = mathMin(boundingRect.left, left);\n          top = mathMin(boundingRect.top, top);\n          right = mathMax(boundingRect.right, right);\n          bottom = mathMax(boundingRect.bottom, bottom);\n          canvasList.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left *= dpr;\n      top *= dpr;\n      right *= dpr;\n      bottom *= dpr;\n      var width = right - left;\n      var height = bottom - top;\n      var targetCanvas = util.createCanvas();\n      var zr = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content = '';\n        each(canvasList, function (item) {\n          var x = item.left - left;\n          var y = item.top - top;\n          content += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr.painter.getSvgRoot().innerHTML = content;\n\n        if (opts.connectedBackgroundColor) {\n          zr.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr.refreshImmediately();\n        return zr.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr - left,\n              y: item.top * dpr - top,\n              image: item.dom\n            }\n          });\n          zr.add(img);\n        });\n        zr.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n  /**\n   * Convert from logical coordinate system to pixel coordinate system.\n   * See CoordinateSystem#convertToPixel.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId, geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName,\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {Array|number} result\n   */\n\n\n  echartsProto.convertToPixel = util.curry(doConvertPixel, 'convertToPixel');\n  /**\n   * Convert from pixel coordinate system to logical coordinate system.\n   * See CoordinateSystem#convertFromPixel.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId / geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {Array|number} result\n   */\n\n  echartsProto.convertFromPixel = util.curry(doConvertPixel, 'convertFromPixel');\n\n  function doConvertPixel(methodName, finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n\n    var coordSysList = this._coordSysMgr.getCoordinateSystems();\n\n    var result;\n    finder = model.parseFinder(ecModel, finder);\n\n    for (var i = 0; i < coordSysList.length; i++) {\n      var coordSys = coordSysList[i];\n\n      if (coordSys[methodName] && (result = coordSys[methodName](ecModel, finder, value)) != null) {\n        return result;\n      }\n    }\n  }\n  /**\n   * Is the specified coordinate systems or components contain the given pixel point.\n   * @param {string|Object} finder\n   *        If string, e.g., 'geo', means {geoIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            geoIndex / geoId / geoName,\n   *            bmapIndex / bmapId / bmapName,\n   *            xAxisIndex / xAxisId / xAxisName,\n   *            yAxisIndex / yAxisId / yAxisName,\n   *            gridIndex / gridId / gridName,\n   *            ... (can be extended)\n   *        }\n   * @param {Array|number} value\n   * @return {boolean} result\n   */\n\n\n  echartsProto.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    finder = model.parseFinder(ecModel, finder);\n    util.each(finder, function (models, key) {\n      key.indexOf('Models') >= 0 && util.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result |= !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result |= view.containPoint(value, model);\n          }\n        } else ;\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\n   * Get visual from series or data.\n   * @param {string|Object} finder\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            dataIndex / dataIndexInside\n   *        }\n   *        If dataIndex is not specified, series visual will be fetched,\n   *        but not data item visual.\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\n   *        visual will be fetched from first series.\n   * @param {string} visualType 'color', 'symbol', 'symbolSize'\n   */\n\n\n  echartsProto.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    finder = model.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = finder.seriesModel;\n    var data = seriesModel.getData();\n    var dataIndexInside = finder.hasOwnProperty('dataIndexInside') ? finder.dataIndexInside : finder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(finder.dataIndex) : null;\n    return dataIndexInside != null ? data.getItemVisual(dataIndexInside, visualType) : data.getVisual(visualType);\n  };\n  /**\n   * Get view of corresponding component model\n   * @param  {module:echarts/model/Component} componentModel\n   * @return {module:echarts/view/Component}\n   */\n\n\n  echartsProto.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\n   * Get view of corresponding series model\n   * @param  {module:echarts/model/Series} seriesModel\n   * @return {module:echarts/view/Chart}\n   */\n\n\n  echartsProto.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  var updateMethods = {\n    prepareAndUpdate: function (payload) {\n      prepare(this);\n      updateMethods.update.call(this, payload);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    update: function (payload) {\n      // console.profile && console.profile('update');\n      var ecModel = this._model;\n      var api = this._api;\n      var zr = this._zr;\n      var coordSysMgr = this._coordSysMgr;\n      var scheduler = this._scheduler; // update before setOption\n\n      if (!ecModel) {\n        return;\n      }\n\n      scheduler.restoreData(ecModel, payload);\n      scheduler.performSeriesTasks(ecModel); // TODO\n      // Save total ecModel here for undo/redo (after restoring data and before processing data).\n      // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n      // Create new coordinate system each update\n      // In LineView may save the old coordinate system and use it to get the orignal point\n\n      coordSysMgr.create(ecModel, api);\n      scheduler.performDataProcessorTasks(ecModel, payload); // Current stream render is not supported in data process. So we can update\n      // stream modes after data processing, where the filtered data is used to\n      // deteming whether use progressive rendering.\n\n      updateStreamModes(this, ecModel); // We update stream modes before coordinate system updated, then the modes info\n      // can be fetched when coord sys updating (consider the barGrid extent fix). But\n      // the drawback is the full coord info can not be fetched. Fortunately this full\n      // coord is not requied in stream mode updater currently.\n\n      coordSysMgr.update(ecModel, api);\n      clearColorPalette(ecModel);\n      scheduler.performVisualTasks(ecModel, payload);\n      render(this, ecModel, api, payload); // Set background\n\n      var backgroundColor = ecModel.get('backgroundColor') || 'transparent'; // In IE8\n\n      if (!env_1.canvasSupported) {\n        var colorArr = color.parse(backgroundColor);\n        backgroundColor = color.stringify(colorArr, 'rgb');\n\n        if (colorArr[3] === 0) {\n          backgroundColor = 'transparent';\n        }\n      } else {\n        zr.setBackgroundColor(backgroundColor);\n      }\n\n      performPostUpdateFuncs(ecModel, api); // console.profile && console.profileEnd('update');\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateTransform: function (payload) {\n      var ecModel = this._model;\n      var ecIns = this;\n      var api = this._api; // update before setOption\n\n      if (!ecModel) {\n        return;\n      } // ChartView.markUpdateMethod(payload, 'updateTransform');\n\n\n      var componentDirtyList = [];\n      ecModel.eachComponent(function (componentType, componentModel) {\n        var componentView = ecIns.getViewOfComponentModel(componentModel);\n\n        if (componentView && componentView.__alive) {\n          if (componentView.updateTransform) {\n            var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n            result && result.update && componentDirtyList.push(componentView);\n          } else {\n            componentDirtyList.push(componentView);\n          }\n        }\n      });\n      var seriesDirtyMap = util.createHashMap();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n        if (chartView.updateTransform) {\n          var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n          result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n        } else {\n          seriesDirtyMap.set(seriesModel.uid, 1);\n        }\n      });\n      clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n\n      this._scheduler.performVisualTasks(ecModel, payload, {\n        setDirty: true,\n        dirtyMap: seriesDirtyMap\n      }); // Currently, not call render of components. Geo render cost a lot.\n      // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n\n\n      renderSeries(ecIns, ecModel, api, payload, seriesDirtyMap);\n      performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateView: function (payload) {\n      var ecModel = this._model; // update before setOption\n\n      if (!ecModel) {\n        return;\n      }\n\n      Chart_1.markUpdateMethod(payload, 'updateView');\n      clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n      this._scheduler.performVisualTasks(ecModel, payload, {\n        setDirty: true\n      });\n\n      render(this, this._model, this._api, payload);\n      performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateVisual: function (payload) {\n      updateMethods.update.call(this, payload); // var ecModel = this._model;\n      // // update before setOption\n      // if (!ecModel) {\n      //     return;\n      // }\n      // ChartView.markUpdateMethod(payload, 'updateVisual');\n      // clearColorPalette(ecModel);\n      // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // this._scheduler.performVisualTasks(ecModel, payload, {visualType: 'visual', setDirty: true});\n      // render(this, this._model, this._api, payload);\n      // performPostUpdateFuncs(ecModel, this._api);\n    },\n\n    /**\n     * @param {Object} payload\n     * @private\n     */\n    updateLayout: function (payload) {\n      updateMethods.update.call(this, payload); // var ecModel = this._model;\n      // // update before setOption\n      // if (!ecModel) {\n      //     return;\n      // }\n      // ChartView.markUpdateMethod(payload, 'updateLayout');\n      // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n      // // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n      // this._scheduler.performVisualTasks(ecModel, payload, {setDirty: true});\n      // render(this, this._model, this._api, payload);\n      // performPostUpdateFuncs(ecModel, this._api);\n    }\n  };\n\n  function prepare(ecIns) {\n    var ecModel = ecIns._model;\n    var scheduler = ecIns._scheduler;\n    scheduler.restorePipelines(ecModel);\n    scheduler.prepareStageTasks();\n    prepareView(ecIns, 'component', ecModel, scheduler);\n    prepareView(ecIns, 'chart', ecModel, scheduler);\n    scheduler.plan();\n  }\n  /**\n   * @private\n   */\n\n\n  function updateDirectly(ecIns, method, payload, mainType, subType) {\n    var ecModel = ecIns._model; // broadcast\n\n    if (!mainType) {\n      // FIXME\n      // Chart will not be update directly here, except set dirty.\n      // But there is no such scenario now.\n      each(ecIns._componentsViews.concat(ecIns._chartsViews), callView);\n      return;\n    }\n\n    var query = {};\n    query[mainType + 'Id'] = payload[mainType + 'Id'];\n    query[mainType + 'Index'] = payload[mainType + 'Index'];\n    query[mainType + 'Name'] = payload[mainType + 'Name'];\n    var condition = {\n      mainType: mainType,\n      query: query\n    };\n    subType && (condition.subType = subType); // subType may be '' by parseClassType;\n\n    var excludeSeriesId = payload.excludeSeriesId;\n\n    if (excludeSeriesId != null) {\n      excludeSeriesId = util.createHashMap(model.normalizeToArray(excludeSeriesId));\n    } // If dispatchAction before setOption, do nothing.\n\n\n    ecModel && ecModel.eachComponent(condition, function (model) {\n      if (!excludeSeriesId || excludeSeriesId.get(model.id) == null) {\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n      }\n    }, ecIns);\n\n    function callView(view) {\n      view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n    }\n  }\n  /**\n   * Resize the chart\n   * @param {Object} opts\n   * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n   * @param {boolean} [opts.silent=false]\n   */\n\n\n  echartsProto.resize = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model; // Resize loading effect\n\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var optionChanged = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    this[IN_MAIN_PROCESS] = true;\n    optionChanged && prepare(this);\n    updateMethods.update.call(this);\n    this[IN_MAIN_PROCESS] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  function updateStreamModes(ecIns, ecModel) {\n    var chartsMap = ecIns._chartsMap;\n    var scheduler = ecIns._scheduler;\n    ecModel.eachSeries(function (seriesModel) {\n      scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n    });\n  }\n  /**\n   * Show loading effect\n   * @param  {string} [name='default']\n   * @param  {Object} [cfg]\n   */\n\n\n  echartsProto.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\n   * Hide loading effect\n   */\n\n\n  echartsProto.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n  /**\n   * @param {Object} eventObj\n   * @return {Object}\n   */\n\n\n  echartsProto.makeActionFromEvent = function (eventObj) {\n    var payload = util.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  /**\n   * @pubilc\n   * @param {Object} payload\n   * @param {string} [payload.type] Action type\n   * @param {Object|boolean} [opt] If pass boolean, means opt.silent\n   * @param {boolean} [opt.silent=false] Whether trigger events.\n   * @param {boolean} [opt.flush=undefined]\n   *                  true: Flush immediately, and then pixel in canvas can be fetched\n   *                      immediately. Caution: it might affect performance.\n   *                  false: Not flush.\n   *                  undefined: Auto decide whether perform flush.\n   */\n\n\n  echartsProto.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    } // Avoid dispatch action before setOption. Especially in `connect`.\n\n\n    if (!this._model) {\n      return;\n    } // May dispatchAction in rendering procedure\n\n\n    if (this[IN_MAIN_PROCESS]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    doDispatchAction.call(this, payload, opt.silent);\n\n    if (opt.flush) {\n      this._zr.flush(true);\n    } else if (opt.flush !== false && env_1.browser.weChat) {\n      // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh util user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, opt.silent);\n    triggerUpdatedEvent.call(this, opt.silent);\n  };\n\n  function doDispatchAction(payload, silent) {\n    var payloadType = payload.type;\n    var escapeConnect = payload.escapeConnect;\n    var actionWrap = actions[payloadType];\n    var actionInfo = actionWrap.actionInfo;\n    var cptType = (actionInfo.update || 'update').split(':');\n    var updateMethod = cptType.pop();\n    cptType = cptType[0] != null && parseClassType(cptType[0]);\n    this[IN_MAIN_PROCESS] = true;\n    var payloads = [payload];\n    var batched = false; // Batch action\n\n    if (payload.batch) {\n      batched = true;\n      payloads = util.map(payload.batch, function (item) {\n        item = util.defaults(util.extend({}, item), payload);\n        item.batch = null;\n        return item;\n      });\n    }\n\n    var eventObjBatch = [];\n    var eventObj;\n    var isHighDown = payloadType === 'highlight' || payloadType === 'downplay';\n    each(payloads, function (batchItem) {\n      // Action can specify the event by return it.\n      eventObj = actionWrap.action(batchItem, this._model, this._api); // Emit event outside\n\n      eventObj = eventObj || util.extend({}, batchItem); // Convert type to eventType\n\n      eventObj.type = actionInfo.event || eventObj.type;\n      eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\n\n      if (isHighDown) {\n        // method, payload, mainType, subType\n        updateDirectly(this, updateMethod, batchItem, 'series');\n      } else if (cptType) {\n        updateDirectly(this, updateMethod, batchItem, cptType.main, cptType.sub);\n      }\n    }, this);\n\n    if (updateMethod !== 'none' && !isHighDown && !cptType) {\n      // Still dirty\n      if (this[OPTION_UPDATED]) {\n        // FIXME Pass payload ?\n        prepare(this);\n        updateMethods.update.call(this, payload);\n        this[OPTION_UPDATED] = false;\n      } else {\n        updateMethods[updateMethod].call(this, payload);\n      }\n    } // Follow the rule of action batch\n\n\n    if (batched) {\n      eventObj = {\n        type: actionInfo.event || payloadType,\n        escapeConnect: escapeConnect,\n        batch: eventObjBatch\n      };\n    } else {\n      eventObj = eventObjBatch[0];\n    }\n\n    this[IN_MAIN_PROCESS] = false;\n    !silent && this._messageCenter.trigger(eventObj.type, eventObj);\n  }\n\n  function flushPendingActions(silent) {\n    var pendingActions = this._pendingActions;\n\n    while (pendingActions.length) {\n      var payload = pendingActions.shift();\n      doDispatchAction.call(this, payload, silent);\n    }\n  }\n\n  function triggerUpdatedEvent(silent) {\n    !silent && this.trigger('updated');\n  }\n  /**\n   * Event `rendered` is triggered when zr\n   * rendered. It is useful for realtime\n   * snapshot (reflect animation).\n   *\n   * Event `finished` is triggered when:\n   * (1) zrender rendering finished.\n   * (2) initial animation finished.\n   * (3) progressive rendering finished.\n   * (4) no pending action.\n   * (5) no delayed setOption needs to be processed.\n   */\n\n\n  function bindRenderedEvent(zr, ecIns) {\n    zr.on('rendered', function () {\n      ecIns.trigger('rendered'); // The `finished` event should not be triggered repeatly,\n      // so it should only be triggered when rendering indeed happend\n      // in zrender. (Consider the case that dipatchAction is keep\n      // triggering when mouse move).\n\n      if ( // Although zr is dirty if initial animation is not finished\n      // and this checking is called on frame, we also check\n      // animation finished for robustness.\n      zr.animation.isFinished() && !ecIns[OPTION_UPDATED] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n        ecIns.trigger('finished');\n      }\n    });\n  }\n  /**\n   * @param {Object} params\n   * @param {number} params.seriesIndex\n   * @param {Array|TypedArray} params.data\n   */\n\n\n  echartsProto.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    seriesModel.appendData(params); // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n\n    this._scheduler.unfinished = true;\n  };\n  /**\n   * Register event\n   * @method\n   */\n\n\n  echartsProto.on = createRegisterEventWithLowercaseName('on', false);\n  echartsProto.off = createRegisterEventWithLowercaseName('off', false);\n  echartsProto.one = createRegisterEventWithLowercaseName('one', false);\n  /**\n   * Prepare view instances of charts and components\n   * @param  {module:echarts/model/Global} ecModel\n   * @private\n   */\n\n  function prepareView(ecIns, type, ecModel, scheduler) {\n    var isComponent = type === 'component';\n    var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n    var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n    var zr = ecIns._zr;\n    var api = ecIns._api;\n\n    for (var i = 0; i < viewList.length; i++) {\n      viewList[i].__alive = false;\n    }\n\n    isComponent ? ecModel.eachComponent(function (componentType, model) {\n      componentType !== 'series' && doPrepare(model);\n    }) : ecModel.eachSeries(doPrepare);\n\n    function doPrepare(model) {\n      // Consider: id same and type changed.\n      var viewId = '_ec_' + model.id + '_' + model.type;\n      var view = viewMap[viewId];\n\n      if (!view) {\n        var classType = parseClassType(model.type);\n        var Clazz = isComponent ? Component_1.getClass(classType.main, classType.sub) : Chart_1.getClass(classType.sub);\n        view = new Clazz();\n        view.init(ecModel, api);\n        viewMap[viewId] = view;\n        viewList.push(view);\n        zr.add(view.group);\n      }\n\n      model.__viewId = view.__id = viewId;\n      view.__alive = true;\n      view.__model = model;\n      view.group.__ecComponentInfo = {\n        mainType: model.mainType,\n        index: model.componentIndex\n      };\n      !isComponent && scheduler.prepareView(view, model, ecModel, api);\n    }\n\n    for (var i = 0; i < viewList.length;) {\n      var view = viewList[i];\n\n      if (!view.__alive) {\n        !isComponent && view.renderTask.dispose();\n        zr.remove(view.group);\n        view.dispose(ecModel, api);\n        viewList.splice(i, 1);\n        delete viewMap[view.__id];\n        view.__id = view.group.__ecComponentInfo = null;\n      } else {\n        i++;\n      }\n    }\n  } // /**\n  //  * Encode visual infomation from data after data processing\n  //  *\n  //  * @param {module:echarts/model/Global} ecModel\n  //  * @param {object} layout\n  //  * @param {boolean} [layoutFilter] `true`: only layout,\n  //  *                                 `false`: only not layout,\n  //  *                                 `null`/`undefined`: all.\n  //  * @param {string} taskBaseTag\n  //  * @private\n  //  */\n  // function startVisualEncoding(ecIns, ecModel, api, payload, layoutFilter) {\n  //     each(visualFuncs, function (visual, index) {\n  //         var isLayout = visual.isLayout;\n  //         if (layoutFilter == null\n  //             || (layoutFilter === false && !isLayout)\n  //             || (layoutFilter === true && isLayout)\n  //         ) {\n  //             visual.func(ecModel, api, payload);\n  //         }\n  //     });\n  // }\n\n\n  function clearColorPalette(ecModel) {\n    ecModel.clearColorPalette();\n    ecModel.eachSeries(function (seriesModel) {\n      seriesModel.clearColorPalette();\n    });\n  }\n\n  function render(ecIns, ecModel, api, payload) {\n    renderComponents(ecIns, ecModel, api, payload);\n    each(ecIns._chartsViews, function (chart) {\n      chart.__alive = false;\n    });\n    renderSeries(ecIns, ecModel, api, payload); // Remove groups of unrendered charts\n\n    each(ecIns._chartsViews, function (chart) {\n      if (!chart.__alive) {\n        chart.remove(ecModel, api);\n      }\n    });\n  }\n\n  function renderComponents(ecIns, ecModel, api, payload, dirtyList) {\n    each(dirtyList || ecIns._componentsViews, function (componentView) {\n      var componentModel = componentView.__model;\n      componentView.render(componentModel, ecModel, api, payload);\n      updateZ(componentModel, componentView);\n    });\n  }\n  /**\n   * Render each chart and component\n   * @private\n   */\n\n\n  function renderSeries(ecIns, ecModel, api, payload, dirtyMap) {\n    // Render all charts\n    var scheduler = ecIns._scheduler;\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      var chartView = ecIns._chartsMap[seriesModel.__viewId];\n      chartView.__alive = true;\n      var renderTask = chartView.renderTask;\n      scheduler.updatePayload(renderTask, payload);\n\n      if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n        renderTask.dirty();\n      }\n\n      unfinished |= renderTask.perform(scheduler.getPerformArgs(renderTask));\n      chartView.group.silent = !!seriesModel.get('silent');\n      updateZ(seriesModel, chartView);\n      updateBlend(seriesModel, chartView);\n    });\n    scheduler.unfinished |= unfinished; // If use hover layer\n\n    updateHoverLayerStatus(ecIns, ecModel); // Add aria\n\n    aria(ecIns._zr.dom, ecModel);\n  }\n\n  function performPostUpdateFuncs(ecModel, api) {\n    each(postUpdateFuncs, function (func) {\n      func(ecModel, api);\n    });\n  }\n\n  var MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n  /**\n   * @private\n   */\n\n  echartsProto._initEvents = function () {\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = this.getModel();\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout'; // no e.target when 'globalout'.\n\n        if (isGlobalOut) {\n          params = {};\n        } else if (el && el.dataIndex != null) {\n          var dataModel = el.dataModel || ecModel.getSeriesByIndex(el.seriesIndex);\n          params = dataModel && dataModel.getDataParams(el.dataIndex, el.dataType, el) || {};\n        } // If element has custom eventData of components\n        else if (el && el.eventData) {\n            params = util.extend({}, el.eventData);\n          } // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex; // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n          params.event = e;\n          params.type = eveName;\n          this._ecEventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n          this.trigger(eveName, params);\n        }\n      }; // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n\n\n      handler.zrEventfulCallAtLast = true;\n\n      this._zr.on(eveName, handler, this);\n    }, this);\n    each(eventActionMap, function (actionType, eventType) {\n      this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, this);\n    }, this);\n  };\n  /**\n   * @return {boolean}\n   */\n\n\n  echartsProto.isDisposed = function () {\n    return this._disposed;\n  };\n  /**\n   * Clear\n   */\n\n\n  echartsProto.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n  /**\n   * Dispose instance\n   */\n\n\n  echartsProto.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    model.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    }); // Dispose after all views disposed\n\n    this._zr.dispose();\n\n    delete instances[this.id];\n  };\n\n  util.mixin(ECharts, Eventful_1);\n\n  function disposedWarning(id) {}\n\n  function updateHoverLayerStatus(ecIns, ecModel) {\n    var zr = ecIns._zr;\n    var storage = zr.storage;\n    var elCount = 0;\n    storage.traverse(function (el) {\n      elCount++;\n    });\n\n    if (elCount > ecModel.get('hoverLayerThreshold') && !env_1.node) {\n      ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.preventUsingHoverLayer) {\n          return;\n        }\n\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n        if (chartView.__alive) {\n          chartView.group.traverse(function (el) {\n            // Don't switch back.\n            el.useHoverLayer = true;\n          });\n        }\n      });\n    }\n  }\n  /**\n   * Update chart progressive and blend.\n   * @param {module:echarts/model/Series|module:echarts/model/Component} model\n   * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n   */\n\n\n  function updateBlend(seriesModel, chartView) {\n    var blendMode = seriesModel.get('blendMode') || null;\n    chartView.group.traverse(function (el) {\n      // FIXME marker and other components\n      if (!el.isGroup) {\n        // Only set if blendMode is changed. In case element is incremental and don't wan't to rerender.\n        if (el.style.blend !== blendMode) {\n          el.setStyle('blend', blendMode);\n        }\n      }\n\n      if (el.eachPendingDisplayable) {\n        el.eachPendingDisplayable(function (displayable) {\n          displayable.setStyle('blend', blendMode);\n        });\n      }\n    });\n  }\n  /**\n   * @param {module:echarts/model/Series|module:echarts/model/Component} model\n   * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n   */\n\n\n  function updateZ(model, view) {\n    var z = model.get('z');\n    var zlevel = model.get('zlevel'); // Set z and zlevel\n\n    view.group.traverse(function (el) {\n      if (el.type !== 'group') {\n        z != null && (el.z = z);\n        zlevel != null && (el.zlevel = zlevel);\n      }\n    });\n  }\n\n  function createExtensionAPI(ecInstance) {\n    var coordSysMgr = ecInstance._coordSysMgr;\n    return util.extend(new ExtensionAPI_1(ecInstance), {\n      // Inject methods\n      getCoordinateSystems: util.bind(coordSysMgr.getCoordinateSystems, coordSysMgr),\n      getComponentByElement: function (el) {\n        while (el) {\n          var modelInfo = el.__ecComponentInfo;\n\n          if (modelInfo != null) {\n            return ecInstance._model.getComponent(modelInfo.mainType, modelInfo.index);\n          }\n\n          el = el.parent;\n        }\n      }\n    });\n  }\n  /**\n   * @class\n   * Usage of query:\n   * `chart.on('click', query, handler);`\n   * The `query` can be:\n   * + The component type query string, only `mainType` or `mainType.subType`,\n   *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n   * + The component query object, like:\n   *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n   *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n   * + The data query object, like:\n   *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n   * + The other query object (cmponent customized query), like:\n   *   `{element: 'some'}` (only available in custom series).\n   *\n   * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n   * same as there is no such prop in the `query` object.\n   */\n\n\n  function EventProcessor() {\n    // These info required: targetEl, packedEvent, model, view\n    this.eventInfo;\n  }\n\n  EventProcessor.prototype = {\n    constructor: EventProcessor,\n    normalizeQuery: function (query) {\n      var cptQuery = {};\n      var dataQuery = {};\n      var otherQuery = {}; // `query` is `mainType` or `mainType.subType` of component.\n\n      if (util.isString(query)) {\n        var condCptType = parseClassType(query); // `.main` and `.sub` may be ''.\n\n        cptQuery.mainType = condCptType.main || null;\n        cptQuery.subType = condCptType.sub || null;\n      } // `query` is an object, convert to {mainType, index, name, id}.\n      else {\n          // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n          // can not be used in `compomentModel.filterForExposedEvent`.\n          var suffixes = ['Index', 'Name', 'Id'];\n          var dataKeys = {\n            name: 1,\n            dataIndex: 1,\n            dataType: 1\n          };\n          util.each(query, function (val, key) {\n            var reserved = false;\n\n            for (var i = 0; i < suffixes.length; i++) {\n              var propSuffix = suffixes[i];\n              var suffixPos = key.lastIndexOf(propSuffix);\n\n              if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n                var mainType = key.slice(0, suffixPos); // Consider `dataIndex`.\n\n                if (mainType !== 'data') {\n                  cptQuery.mainType = mainType;\n                  cptQuery[propSuffix.toLowerCase()] = val;\n                  reserved = true;\n                }\n              }\n            }\n\n            if (dataKeys.hasOwnProperty(key)) {\n              dataQuery[key] = val;\n              reserved = true;\n            }\n\n            if (!reserved) {\n              otherQuery[key] = val;\n            }\n          });\n        }\n\n      return {\n        cptQuery: cptQuery,\n        dataQuery: dataQuery,\n        otherQuery: otherQuery\n      };\n    },\n    filter: function (eventType, query, args) {\n      // They should be assigned before each trigger call.\n      var eventInfo = this.eventInfo;\n\n      if (!eventInfo) {\n        return true;\n      }\n\n      var targetEl = eventInfo.targetEl;\n      var packedEvent = eventInfo.packedEvent;\n      var model = eventInfo.model;\n      var view = eventInfo.view; // For event like 'globalout'.\n\n      if (!model || !view) {\n        return true;\n      }\n\n      var cptQuery = query.cptQuery;\n      var dataQuery = query.dataQuery;\n      return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n\n      function check(query, host, prop, propOnHost) {\n        return query[prop] == null || host[propOnHost || prop] === query[prop];\n      }\n    },\n    afterTrigger: function () {\n      // Make sure the eventInfo wont be used in next trigger.\n      this.eventInfo = null;\n    }\n  };\n  /**\n   * @type {Object} key: actionType.\n   * @inner\n   */\n\n  var actions = {};\n  /**\n   * Map eventType to actionType\n   * @type {Object}\n   */\n\n  var eventActionMap = {};\n  /**\n   * Data processor functions of each stage\n   * @type {Array.<Object.<string, Function>>}\n   * @inner\n   */\n\n  var dataProcessorFuncs = [];\n  /**\n   * @type {Array.<Function>}\n   * @inner\n   */\n\n  var optionPreprocessorFuncs = [];\n  /**\n   * @type {Array.<Function>}\n   * @inner\n   */\n\n  var postUpdateFuncs = [];\n  /**\n   * Visual encoding functions of each stage\n   * @type {Array.<Object.<string, Function>>}\n   */\n\n  var visualFuncs = [];\n  /**\n   * Theme storage\n   * @type {Object.<key, Object>}\n   */\n\n  var themeStorage = {};\n  /**\n   * Loading effects\n   */\n\n  var loadingEffects = {};\n  var instances = {};\n  var connectedGroups = {};\n  var idBase = new Date() - 0;\n  var groupIdBase = new Date() - 0;\n  var DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\n  function enableConnect(chart) {\n    var STATUS_PENDING = 0;\n    var STATUS_UPDATING = 1;\n    var STATUS_UPDATED = 2;\n    var STATUS_KEY = '__connectUpdateStatus';\n\n    function updateConnectedChartsStatus(charts, status) {\n      for (var i = 0; i < charts.length; i++) {\n        var otherChart = charts[i];\n        otherChart[STATUS_KEY] = status;\n      }\n    }\n\n    each(eventActionMap, function (actionType, eventType) {\n      chart._messageCenter.on(eventType, function (event) {\n        if (connectedGroups[chart.group] && chart[STATUS_KEY] !== STATUS_PENDING) {\n          if (event && event.escapeConnect) {\n            return;\n          }\n\n          var action = chart.makeActionFromEvent(event);\n          var otherCharts = [];\n          each(instances, function (otherChart) {\n            if (otherChart !== chart && otherChart.group === chart.group) {\n              otherCharts.push(otherChart);\n            }\n          });\n          updateConnectedChartsStatus(otherCharts, STATUS_PENDING);\n          each(otherCharts, function (otherChart) {\n            if (otherChart[STATUS_KEY] !== STATUS_UPDATING) {\n              otherChart.dispatchAction(action);\n            }\n          });\n          updateConnectedChartsStatus(otherCharts, STATUS_UPDATED);\n        }\n      });\n    });\n  }\n  /**\n   * @param {HTMLElement} dom\n   * @param {Object} [theme]\n   * @param {Object} opts\n   * @param {number} [opts.devicePixelRatio] Use window.devicePixelRatio by default\n   * @param {string} [opts.renderer] Can choose 'canvas' or 'svg' to render the chart.\n   * @param {number} [opts.width] Use clientWidth of the input `dom` by default.\n   *                              Can be 'auto' (the same as null/undefined)\n   * @param {number} [opts.height] Use clientHeight of the input `dom` by default.\n   *                               Can be 'auto' (the same as null/undefined)\n   */\n\n\n  function init(dom, theme, opts) {\n    var existInstance = getInstanceByDom(dom);\n\n    if (existInstance) {\n      return existInstance;\n    }\n\n    var chart = new ECharts(dom, theme, opts);\n    chart.id = 'ec_' + idBase++;\n    instances[chart.id] = chart;\n    model.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n    enableConnect(chart);\n    return chart;\n  }\n  /**\n   * @return {string|Array.<module:echarts~ECharts>} groupId\n   */\n\n\n  function connect(groupId) {\n    // Is array of charts\n    if (util.isArray(groupId)) {\n      var charts = groupId;\n      groupId = null; // If any chart has group\n\n      each(charts, function (chart) {\n        if (chart.group != null) {\n          groupId = chart.group;\n        }\n      });\n      groupId = groupId || 'g_' + groupIdBase++;\n      each(charts, function (chart) {\n        chart.group = groupId;\n      });\n    }\n\n    connectedGroups[groupId] = true;\n    return groupId;\n  }\n  /**\n   * @DEPRECATED\n   * @return {string} groupId\n   */\n\n\n  function disConnect(groupId) {\n    connectedGroups[groupId] = false;\n  }\n  /**\n   * @return {string} groupId\n   */\n\n\n  var disconnect = disConnect;\n  /**\n   * Dispose a chart instance\n   * @param  {module:echarts~ECharts|HTMLDomElement|string} chart\n   */\n\n  function dispose(chart) {\n    if (typeof chart === 'string') {\n      chart = instances[chart];\n    } else if (!(chart instanceof ECharts)) {\n      // Try to treat as dom\n      chart = getInstanceByDom(chart);\n    }\n\n    if (chart instanceof ECharts && !chart.isDisposed()) {\n      chart.dispose();\n    }\n  }\n  /**\n   * @param  {HTMLElement} dom\n   * @return {echarts~ECharts}\n   */\n\n\n  function getInstanceByDom(dom) {\n    return instances[model.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n  }\n  /**\n   * @param {string} key\n   * @return {echarts~ECharts}\n   */\n\n\n  function getInstanceById(key) {\n    return instances[key];\n  }\n  /**\n   * Register theme\n   */\n\n\n  function registerTheme(name, theme) {\n    themeStorage[name] = theme;\n  }\n  /**\n   * Register option preprocessor\n   * @param {Function} preprocessorFunc\n   */\n\n\n  function registerPreprocessor(preprocessorFunc) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n  /**\n   * @param {number} [priority=1000]\n   * @param {Object|Function} processor\n   */\n\n\n  function registerProcessor(priority, processor) {\n    normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_FILTER);\n  }\n  /**\n   * Register postUpdater\n   * @param {Function} postUpdateFunc\n   */\n\n\n  function registerPostUpdate(postUpdateFunc) {\n    postUpdateFuncs.push(postUpdateFunc);\n  }\n  /**\n   * Usage:\n   * registerAction('someAction', 'someEvent', function () { ... });\n   * registerAction('someAction', function () { ... });\n   * registerAction(\n   *     {type: 'someAction', event: 'someEvent', update: 'updateView'},\n   *     function () { ... }\n   * );\n   *\n   * @param {(string|Object)} actionInfo\n   * @param {string} actionInfo.type\n   * @param {string} [actionInfo.event]\n   * @param {string} [actionInfo.update]\n   * @param {string} [eventName]\n   * @param {Function} action\n   */\n\n\n  function registerAction(actionInfo, eventName, action) {\n    if (typeof eventName === 'function') {\n      action = eventName;\n      eventName = '';\n    }\n\n    var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n      event: eventName\n    }][0]; // Event name is all lowercase\n\n    actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n    eventName = actionInfo.event; // Validate action type and event name.\n\n    assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n    if (!actions[actionType]) {\n      actions[actionType] = {\n        action: action,\n        actionInfo: actionInfo\n      };\n    }\n\n    eventActionMap[eventName] = actionType;\n  }\n  /**\n   * @param {string} type\n   * @param {*} CoordinateSystem\n   */\n\n\n  function registerCoordinateSystem(type, CoordinateSystem$1) {\n    CoordinateSystem.register(type, CoordinateSystem$1);\n  }\n  /**\n   * Get dimensions of specified coordinate system.\n   * @param {string} type\n   * @return {Array.<string|Object>}\n   */\n\n\n  function getCoordinateSystemDimensions(type) {\n    var coordSysCreator = CoordinateSystem.get(type);\n\n    if (coordSysCreator) {\n      return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n    }\n  }\n  /**\n   * Layout is a special stage of visual encoding\n   * Most visual encoding like color are common for different chart\n   * But each chart has it's own layout algorithm\n   *\n   * @param {number} [priority=1000]\n   * @param {Function} layoutTask\n   */\n\n\n  function registerLayout(priority, layoutTask) {\n    normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n  }\n  /**\n   * @param {number} [priority=3000]\n   * @param {module:echarts/stream/Task} visualTask\n   */\n\n\n  function registerVisual(priority, visualTask) {\n    normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n  }\n  /**\n   * @param {Object|Function} fn: {seriesType, createOnAllSeries, performRawSeries, reset}\n   */\n\n\n  function normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n    if (isFunction(priority) || isObject(priority)) {\n      fn = priority;\n      priority = defaultPriority;\n    }\n\n    var stageHandler = Scheduler_1.wrapStageHandler(fn, visualType);\n    stageHandler.__prio = priority;\n    stageHandler.__raw = fn;\n    targetList.push(stageHandler);\n    return stageHandler;\n  }\n  /**\n   * @param {string} name\n   */\n\n\n  function registerLoading(name, loadingFx) {\n    loadingEffects[name] = loadingFx;\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendComponentModel(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ComponentModel;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return Component.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendComponentView(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ComponentView;\n    // if (superClass) {\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentView.getClass(classType.main, classType.sub, true);\n    // }\n    return Component_1.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendSeriesModel(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = SeriesModel;\n    // if (superClass) {\n    //     superClass = 'series.' + superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n    // }\n    return Series.extend(opts);\n  }\n  /**\n   * @param {Object} opts\n   * @param {string} [superClass]\n   */\n\n\n  function extendChartView(opts\n  /*, superClass*/\n  ) {\n    // var Clazz = ChartView;\n    // if (superClass) {\n    //     superClass = superClass.replace('series.', '');\n    //     var classType = parseClassType(superClass);\n    //     Clazz = ChartView.getClass(classType.main, true);\n    // }\n    return Chart_1.extend(opts);\n  }\n  /**\n   * ZRender need a canvas context to do measureText.\n   * But in node environment canvas may be created by node-canvas.\n   * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n   *\n   * Be careful of using it in the browser.\n   *\n   * @param {Function} creator\n   * @example\n   *     var Canvas = require('canvas');\n   *     var echarts = require('echarts');\n   *     echarts.setCanvasCreator(function () {\n   *         // Small size is enough.\n   *         return new Canvas(32, 32);\n   *     });\n   */\n\n\n  function setCanvasCreator(creator) {\n    util.$override('createCanvas', creator);\n  }\n  /**\n   * @param {string} mapName\n   * @param {Array.<Object>|Object|string} geoJson\n   * @param {Object} [specialAreas]\n   *\n   * @example GeoJSON\n   *     $.get('USA.json', function (geoJson) {\n   *         echarts.registerMap('USA', geoJson);\n   *         // Or\n   *         echarts.registerMap('USA', {\n   *             geoJson: geoJson,\n   *             specialAreas: {}\n   *         })\n   *     });\n   *\n   *     $.get('airport.svg', function (svg) {\n   *         echarts.registerMap('airport', {\n   *             svg: svg\n   *         }\n   *     });\n   *\n   *     echarts.registerMap('eu', [\n   *         {svg: eu-topographic.svg},\n   *         {geoJSON: eu.json}\n   *     ])\n   */\n\n\n  function registerMap(mapName, geoJson, specialAreas) {\n    mapDataStorage.registerMap(mapName, geoJson, specialAreas);\n  }\n  /**\n   * @param {string} mapName\n   * @return {Object}\n   */\n\n\n  function getMap(mapName) {\n    // For backward compatibility, only return the first one.\n    var records = mapDataStorage.retrieveMap(mapName);\n    return records && records[0] && {\n      geoJson: records[0].geoJSON,\n      specialAreas: records[0].specialAreas\n    };\n  }\n\n  registerVisual(PRIORITY_VISUAL_GLOBAL, seriesColor);\n  registerPreprocessor(backwardCompat);\n  registerProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\n  registerLoading('default', _default_1); // Default actions\n\n  registerAction({\n    type: 'highlight',\n    event: 'highlight',\n    update: 'highlight'\n  }, util.noop);\n  registerAction({\n    type: 'downplay',\n    event: 'downplay',\n    update: 'downplay'\n  }, util.noop); // Default theme\n\n  registerTheme('light', light);\n  registerTheme('dark', dark); // For backward compatibility, where the namespace `dataTool` will\n  // be mounted on `echarts` is the extension `dataTool` is imported.\n\n  var dataTool = {};\n  exports.version = version;\n  exports.dependencies = dependencies;\n  exports.PRIORITY = PRIORITY;\n  exports.init = init;\n  exports.connect = connect;\n  exports.disConnect = disConnect;\n  exports.disconnect = disconnect;\n  exports.dispose = dispose;\n  exports.getInstanceByDom = getInstanceByDom;\n  exports.getInstanceById = getInstanceById;\n  exports.registerTheme = registerTheme;\n  exports.registerPreprocessor = registerPreprocessor;\n  exports.registerProcessor = registerProcessor;\n  exports.registerPostUpdate = registerPostUpdate;\n  exports.registerAction = registerAction;\n  exports.registerCoordinateSystem = registerCoordinateSystem;\n  exports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\n  exports.registerLayout = registerLayout;\n  exports.registerVisual = registerVisual;\n  exports.registerLoading = registerLoading;\n  exports.extendComponentModel = extendComponentModel;\n  exports.extendComponentView = extendComponentView;\n  exports.extendSeriesModel = extendSeriesModel;\n  exports.extendChartView = extendChartView;\n  exports.setCanvasCreator = setCanvasCreator;\n  exports.registerMap = registerMap;\n  exports.getMap = getMap;\n  exports.dataTool = dataTool;\n\n  (function () {\n      for (var key in _export$1) {\n          if (_export$1.hasOwnProperty(key)) {\n              exports[key] = _export$1[key];\n          }\n      }\n  })();\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$1w = Series.extend({\n    type: 'series.line',\n    dependencies: ['grid', 'polar'],\n    getInitialData: function (option, ecModel) {\n      return createListFromArray_1(this.getSource(), this, {\n        useEncodeDefaulter: true\n      });\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      coordinateSystem: 'cartesian2d',\n      legendHoverLink: true,\n      hoverAnimation: true,\n      // stack: null\n      // xAxisIndex: 0,\n      // yAxisIndex: 0,\n      // polarIndex: 0,\n      // If clip the overflow value\n      clip: true,\n      // cursor: null,\n      label: {\n        position: 'top'\n      },\n      // itemStyle: {\n      // },\n      lineStyle: {\n        width: 2,\n        type: 'solid'\n      },\n      // areaStyle: {\n      // origin of areaStyle. Valid values:\n      // `'auto'/null/undefined`: from axisLine to data\n      // `'start'`: from min to data\n      // `'end'`: from data to max\n      // origin: 'auto'\n      // },\n      // false, 'start', 'end', 'middle'\n      step: false,\n      // Disabled if step is true\n      smooth: false,\n      smoothMonotone: null,\n      symbol: 'emptyCircle',\n      symbolSize: 4,\n      symbolRotate: null,\n      showSymbol: true,\n      // `false`: follow the label interval strategy.\n      // `true`: show all symbols.\n      // `'auto'`: If possible, show all symbols, otherwise\n      //           follow the label interval strategy.\n      showAllSymbol: 'auto',\n      // Whether to connect break point.\n      connectNulls: false,\n      // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n      sampling: 'none',\n      animationEasing: 'linear',\n      // Disable progressive\n      progressive: 0,\n      hoverLayerThreshold: Infinity\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieveRawValue$4 = dataProvider.retrieveRawValue;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @return {string} label string. Not null/undefined\n   */\n  function getDefaultLabel(data, dataIndex) {\n    var labelDims = data.mapDimension('defaultedLabel', true);\n    var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n    if (len === 1) {\n      return retrieveRawValue$4(data, dataIndex, labelDims[0]);\n    } else if (len) {\n      var vals = [];\n\n      for (var i = 0; i < labelDims.length; i++) {\n        var val = retrieveRawValue$4(data, dataIndex, labelDims[i]);\n        vals.push(val);\n      }\n\n      return vals.join(' ');\n    }\n  }\n\n  var getDefaultLabel_1 = getDefaultLabel;\n\n  var labelHelper = {\n  \tgetDefaultLabel: getDefaultLabel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var createSymbol$2 = symbol.createSymbol;\n\n\n\n\n\n  var parsePercent$4 = number.parsePercent;\n\n\n\n  var getDefaultLabel$1 = labelHelper.getDefaultLabel;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/Symbol\n   */\n\n  /**\n   * @constructor\n   * @alias {module:echarts/chart/helper/Symbol}\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @extends {module:zrender/graphic/Group}\n   */\n  function SymbolClz$1(data, idx, seriesScope) {\n    graphic.Group.call(this);\n    this.updateData(data, idx, seriesScope);\n  }\n\n  var symbolProto = SymbolClz$1.prototype;\n  /**\n   * @public\n   * @static\n   * @param {module:echarts/data/List} data\n   * @param {number} dataIndex\n   * @return {Array.<number>} [width, height]\n   */\n\n  var getSymbolSize = SymbolClz$1.getSymbolSize = function (data, idx) {\n    var symbolSize = data.getItemVisual(idx, 'symbolSize');\n    return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  };\n\n  function getScale(symbolSize) {\n    return [symbolSize[0] / 2, symbolSize[1] / 2];\n  }\n\n  function driftSymbol(dx, dy) {\n    this.parent.drift(dx, dy);\n  }\n\n  symbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll();\n    var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n\n    var symbolPath = createSymbol$2(symbolType, -1, -1, 2, 2, color, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scale: getScale(symbolSize)\n    }); // Rewrite drift method\n\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n\n\n  symbolProto.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(toLastFrame);\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n\n\n  symbolProto.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Get scale(aka, current symbol size).\n   * Including the change caused by animation\n   */\n\n\n  symbolProto.getScale = function () {\n    return this.childAt(0).scale;\n  };\n  /**\n   * Highlight symbol\n   */\n\n\n  symbolProto.highlight = function () {\n    this.childAt(0).trigger('emphasis');\n  };\n  /**\n   * Downplay symbol\n   */\n\n\n  symbolProto.downplay = function () {\n    this.childAt(0).trigger('normal');\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n\n\n  symbolProto.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n\n  symbolProto.setDraggable = function (draggable) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @param {Object} [seriesScope]\n   * @param {Object} [seriesScope.itemStyle]\n   * @param {Object} [seriesScope.hoverItemStyle]\n   * @param {Object} [seriesScope.symbolRotate]\n   * @param {Object} [seriesScope.symbolOffset]\n   * @param {module:echarts/model/Model} [seriesScope.labelModel]\n   * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n   * @param {boolean} [seriesScope.hoverAnimation]\n   * @param {Object} [seriesScope.cursorStyle]\n   * @param {module:echarts/model/Model} [seriesScope.itemModel]\n   * @param {string} [seriesScope.symbolInnerColor]\n   * @param {Object} [seriesScope.fadeIn=false]\n   */\n\n\n  symbolProto.updateData = function (data, idx, seriesScope) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      graphic.updateProps(symbolPath, {\n        scale: getScale(symbolSize)\n      }, seriesModel, idx);\n    }\n\n    this._updateCommon(data, idx, symbolSize, seriesScope);\n\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n      var fadeIn = seriesScope && seriesScope.fadeIn;\n      var target = {\n        scale: symbolPath.scale.slice()\n      };\n      fadeIn && (target.style = {\n        opacity: symbolPath.style.opacity\n      });\n      symbolPath.scale = [0, 0];\n      fadeIn && (symbolPath.style.opacity = 0);\n      graphic.initProps(symbolPath, target, seriesModel, idx);\n    }\n\n    this._seriesModel = seriesModel;\n  }; // Update common properties\n\n\n  var normalStyleAccessPath = ['itemStyle'];\n  var emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\n  var normalLabelAccessPath = ['label'];\n  var emphasisLabelAccessPath = ['emphasis', 'label'];\n  /**\n   * @param {module:echarts/data/List} data\n   * @param {number} idx\n   * @param {Array.<number>} symbolSize\n   * @param {Object} [seriesScope]\n   */\n\n  symbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var color = data.getItemVisual(idx, 'color'); // Reset style\n\n    if (symbolPath.type !== 'image') {\n      symbolPath.useStyle({\n        strokeNoScale: true\n      });\n    } else {\n      symbolPath.setStyle({\n        opacity: 1,\n        shadowBlur: null,\n        shadowOffsetX: null,\n        shadowOffsetY: null,\n        shadowColor: null\n      });\n    }\n\n    var itemStyle = seriesScope && seriesScope.itemStyle;\n    var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n    var symbolOffset = seriesScope && seriesScope.symbolOffset;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n    var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n    var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n      // Because symbol provide setColor individually to set fill and stroke\n\n      itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n      hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n      symbolOffset = itemModel.getShallow('symbolOffset');\n      labelModel = itemModel.getModel(normalLabelAccessPath);\n      hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n      hoverAnimation = itemModel.getShallow('hoverAnimation');\n      cursorStyle = itemModel.getShallow('cursor');\n    } else {\n      hoverItemStyle = util.extend({}, hoverItemStyle);\n    }\n\n    var elStyle = symbolPath.style;\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n    if (symbolOffset) {\n      symbolPath.attr('position', [parsePercent$4(symbolOffset[0], symbolSize[0]), parsePercent$4(symbolOffset[1], symbolSize[1])]);\n    }\n\n    cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n    symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n    symbolPath.setStyle(itemStyle);\n    var opacity = data.getItemVisual(idx, 'opacity');\n\n    if (opacity != null) {\n      elStyle.opacity = opacity;\n    }\n\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = symbolPath.__z2Origin;\n\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        symbolPath.__z2Origin = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      symbolPath.__z2Origin = null;\n    }\n\n    var useNameLabel = seriesScope && seriesScope.useNameLabel;\n    graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      isRectText: true,\n      autoColor: color\n    }); // Do not execute util needed.\n\n    function getLabelDefaultText(idx, opt) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel$1(data, idx);\n    }\n\n    symbolPath.__symbolOriginalScale = getScale(symbolSize);\n    symbolPath.hoverStyle = hoverItemStyle;\n    symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n    graphic.setHoverStyle(symbolPath);\n  };\n\n  function highDownOnUpdate(fromState, toState) {\n    // Do not support this hover animation util some scenario required.\n    // Animation can only be supported in hover layer when using `el.incremetal`.\n    if (this.incremental || this.useHoverLayer) {\n      return;\n    }\n\n    if (toState === 'emphasis') {\n      var scale = this.__symbolOriginalScale;\n      var ratio = scale[1] / scale[0];\n      var emphasisOpt = {\n        scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n      }; // FIXME\n      // modify it after support stop specified animation.\n      // toState === fromState\n      //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n      this.animateTo(emphasisOpt, 400, 'elasticOut');\n    } else if (toState === 'normal') {\n      this.animateTo({\n        scale: this.__symbolOriginalScale\n      }, 400, 'elasticOut');\n    }\n  }\n  /**\n   * @param {Function} cb\n   * @param {Object} [opt]\n   * @param {Object} [opt.keepLabel=true]\n   */\n\n\n  symbolProto.fadeOut = function (cb, opt) {\n    var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n    this.silent = symbolPath.silent = true; // Not show text when animating\n\n    !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n    graphic.updateProps(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scale: [0, 0]\n    }, this._seriesModel, this.dataIndex, cb);\n  };\n\n  util.inherits(SymbolClz$1, graphic.Group);\n  var _default$1x = SymbolClz$1;\n  var _Symbol = _default$1x;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var isObject$e = util.isObject;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/SymbolDraw\n   */\n\n  /**\n   * @constructor\n   * @alias module:echarts/chart/helper/SymbolDraw\n   * @param {module:zrender/graphic/Group} [symbolCtor]\n   */\n  function SymbolDraw(symbolCtor) {\n    this.group = new graphic.Group();\n    this._symbolCtor = symbolCtor || _Symbol;\n  }\n\n  var symbolDrawProto = SymbolDraw.prototype;\n\n  function symbolNeedsDraw(data, point, idx, opt) {\n    return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n    // the symbol element shape. We use the same clip shape here as\n    // the line clip.\n    && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n  }\n  /**\n   * Update symbols draw by new data\n   * @param {module:echarts/data/List} data\n   * @param {Object} [opt] Or isIgnore\n   * @param {Function} [opt.isIgnore]\n   * @param {Object} [opt.clipShape]\n   */\n\n\n  symbolDrawProto.updateData = function (data, opt) {\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._symbolCtor;\n    var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!oldData) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      var point = data.getItemLayout(newIdx);\n\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n        symbolEl.attr('position', point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = data.getItemLayout(newIdx);\n\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n\n      if (!symbolEl) {\n        symbolEl = new SymbolCtor(data, newIdx);\n        symbolEl.attr('position', point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope);\n        graphic.updateProps(symbolEl, {\n          position: point\n        }, seriesModel);\n      } // Add back\n\n\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      });\n    }).execute();\n    this._data = data;\n  };\n\n  symbolDrawProto.isPersistent = function () {\n    return true;\n  };\n\n  symbolDrawProto.updateLayout = function () {\n    var data = this._data;\n\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = data.getItemLayout(idx);\n        el.attr('position', point);\n      });\n    }\n  };\n\n  symbolDrawProto.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n  /**\n   * Update symbols draw by new data\n   * @param {module:echarts/data/List} data\n   * @param {Object} [opt] Or isIgnore\n   * @param {Function} [opt.isIgnore]\n   * @param {Object} [opt.clipShape]\n   */\n\n\n  symbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n    opt = normalizeUpdateOpt(opt);\n\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = el.useHoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._symbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.attr('position', point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  function normalizeUpdateOpt(opt) {\n    if (opt != null && !isObject$e(opt)) {\n      opt = {\n        isIgnore: opt\n      };\n    }\n\n    return opt || {};\n  }\n\n  symbolDrawProto.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data; // Incremental model do not have this._data.\n\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        });\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n\n  function makeSeriesScope(data) {\n    var seriesModel = data.hostModel;\n    return {\n      itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n      hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      labelModel: seriesModel.getModel('label'),\n      hoverLabelModel: seriesModel.getModel('emphasis.label'),\n      cursorStyle: seriesModel.get('cursor')\n    };\n  }\n\n  var _default$1y = SymbolDraw;\n  var SymbolDraw_1 = _default$1y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var isDimensionStacked$3 = dataStackHelper.isDimensionStacked;\n\n\n\n  var map$7 = util.map;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} coordSys\n   * @param {module:echarts/data/List} data\n   * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n   */\n  function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n    var baseAxis = coordSys.getBaseAxis();\n    var valueAxis = coordSys.getOtherAxis(baseAxis);\n    var valueStart = getValueStart(valueAxis, valueOrigin);\n    var baseAxisDim = baseAxis.dim;\n    var valueAxisDim = valueAxis.dim;\n    var valueDim = data.mapDimension(valueAxisDim);\n    var baseDim = data.mapDimension(baseAxisDim);\n    var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n    var dims = map$7(coordSys.dimensions, function (coordDim) {\n      return data.mapDimension(coordDim);\n    });\n    var stacked;\n    var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n    if (stacked |= isDimensionStacked$3(data, dims[0]\n    /*, dims[1]*/\n    )) {\n      // jshint ignore:line\n      dims[0] = stackResultDim;\n    }\n\n    if (stacked |= isDimensionStacked$3(data, dims[1]\n    /*, dims[0]*/\n    )) {\n      // jshint ignore:line\n      dims[1] = stackResultDim;\n    }\n\n    return {\n      dataDimsForPoint: dims,\n      valueStart: valueStart,\n      valueAxisDim: valueAxisDim,\n      baseAxisDim: baseAxisDim,\n      stacked: !!stacked,\n      valueDim: valueDim,\n      baseDim: baseDim,\n      baseDataOffset: baseDataOffset,\n      stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n    };\n  }\n\n  function getValueStart(valueAxis, valueOrigin) {\n    var valueStart = 0;\n    var extent = valueAxis.scale.getExtent();\n\n    if (valueOrigin === 'start') {\n      valueStart = extent[0];\n    } else if (valueOrigin === 'end') {\n      valueStart = extent[1];\n    } // auto\n    else {\n        // Both positive\n        if (extent[0] > 0) {\n          valueStart = extent[0];\n        } // Both negative\n        else if (extent[1] < 0) {\n            valueStart = extent[1];\n          } // If is one positive, and one negative, onZero shall be true\n\n      }\n\n    return valueStart;\n  }\n\n  function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n    var value = NaN;\n\n    if (dataCoordInfo.stacked) {\n      value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n    }\n\n    if (isNaN(value)) {\n      value = dataCoordInfo.valueStart;\n    }\n\n    var baseDataOffset = dataCoordInfo.baseDataOffset;\n    var stackedData = [];\n    stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n    stackedData[1 - baseDataOffset] = value;\n    return coordSys.dataToPoint(stackedData);\n  }\n\n  var prepareDataCoordInfo_1 = prepareDataCoordInfo;\n  var getStackedOnPoint_1 = getStackedOnPoint;\n\n  var helper$3 = {\n  \tprepareDataCoordInfo: prepareDataCoordInfo_1,\n  \tgetStackedOnPoint: getStackedOnPoint_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var prepareDataCoordInfo$1 = helper$3.prepareDataCoordInfo;\n  var getStackedOnPoint$1 = helper$3.getStackedOnPoint;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // var arrayDiff = require('zrender/src/core/arrayDiff');\n  // 'zrender/src/core/arrayDiff' has been used before, but it did\n  // not do well in performance when roam with fixed dataZoom window.\n  // function convertToIntId(newIdList, oldIdList) {\n  //     // Generate int id instead of string id.\n  //     // Compare string maybe slow in score function of arrDiff\n  //     // Assume id in idList are all unique\n  //     var idIndicesMap = {};\n  //     var idx = 0;\n  //     for (var i = 0; i < newIdList.length; i++) {\n  //         idIndicesMap[newIdList[i]] = idx;\n  //         newIdList[i] = idx++;\n  //     }\n  //     for (var i = 0; i < oldIdList.length; i++) {\n  //         var oldId = oldIdList[i];\n  //         // Same with newIdList\n  //         if (idIndicesMap[oldId]) {\n  //             oldIdList[i] = idIndicesMap[oldId];\n  //         }\n  //         else {\n  //             oldIdList[i] = idx++;\n  //         }\n  //     }\n  // }\n  function diffData(oldData, newData) {\n    var diffResult = [];\n    newData.diff(oldData).add(function (idx) {\n      diffResult.push({\n        cmd: '+',\n        idx: idx\n      });\n    }).update(function (newIdx, oldIdx) {\n      diffResult.push({\n        cmd: '=',\n        idx: oldIdx,\n        idx1: newIdx\n      });\n    }).remove(function (idx) {\n      diffResult.push({\n        cmd: '-',\n        idx: idx\n      });\n    }).execute();\n    return diffResult;\n  }\n\n  function _default$1z(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n    var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n    // var oldIdList = oldData.mapArray(oldData.getId);\n    // convertToIntId(newIdList, oldIdList);\n    // // FIXME One data ?\n    // diff = arrayDiff(oldIdList, newIdList);\n\n    var currPoints = [];\n    var nextPoints = []; // Points for stacking base line\n\n    var currStackedPoints = [];\n    var nextStackedPoints = [];\n    var status = [];\n    var sortedIndices = [];\n    var rawIndices = [];\n    var newDataOldCoordInfo = prepareDataCoordInfo$1(oldCoordSys, newData, oldValueOrigin);\n    var oldDataNewCoordInfo = prepareDataCoordInfo$1(newCoordSys, oldData, newValueOrigin);\n\n    for (var i = 0; i < diff.length; i++) {\n      var diffItem = diff[i];\n      var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n      // Which is in case remvoing or add more than one data in the tail or head\n\n      switch (diffItem.cmd) {\n        case '=':\n          var currentPt = oldData.getItemLayout(diffItem.idx);\n          var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n          if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n            currentPt = nextPt.slice();\n          }\n\n          currPoints.push(currentPt);\n          nextPoints.push(nextPt);\n          currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n          nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n          rawIndices.push(newData.getRawIndex(diffItem.idx1));\n          break;\n\n        case '+':\n          var idx = diffItem.idx;\n          currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n          nextPoints.push(newData.getItemLayout(idx).slice());\n          currStackedPoints.push(getStackedOnPoint$1(newDataOldCoordInfo, oldCoordSys, newData, idx));\n          nextStackedPoints.push(newStackedOnPoints[idx]);\n          rawIndices.push(newData.getRawIndex(idx));\n          break;\n\n        case '-':\n          var idx = diffItem.idx;\n          var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n          // FIXME FIXME FIXME\n\n          if (rawIndex !== idx) {\n            currPoints.push(oldData.getItemLayout(idx));\n            nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n            currStackedPoints.push(oldStackedOnPoints[idx]);\n            nextStackedPoints.push(getStackedOnPoint$1(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n            rawIndices.push(rawIndex);\n          } else {\n            pointAdded = false;\n          }\n\n      } // Original indices\n\n\n      if (pointAdded) {\n        status.push(diffItem);\n        sortedIndices.push(sortedIndices.length);\n      }\n    } // Diff result may be crossed if all items are changed\n    // Sort by data index\n\n\n    sortedIndices.sort(function (a, b) {\n      return rawIndices[a] - rawIndices[b];\n    });\n    var sortedCurrPoints = [];\n    var sortedNextPoints = [];\n    var sortedCurrStackedPoints = [];\n    var sortedNextStackedPoints = [];\n    var sortedStatus = [];\n\n    for (var i = 0; i < sortedIndices.length; i++) {\n      var idx = sortedIndices[i];\n      sortedCurrPoints[i] = currPoints[idx];\n      sortedNextPoints[i] = nextPoints[idx];\n      sortedCurrStackedPoints[i] = currStackedPoints[idx];\n      sortedNextStackedPoints[i] = nextStackedPoints[idx];\n      sortedStatus[i] = status[idx];\n    }\n\n    return {\n      current: sortedCurrPoints,\n      next: sortedNextPoints,\n      stackedOnCurrent: sortedCurrStackedPoints,\n      stackedOnNext: sortedNextStackedPoints,\n      status: sortedStatus\n    };\n  }\n\n  var lineAnimationDiff = _default$1z;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Poly path support NaN point\n  var vec2Min = vector.min;\n  var vec2Max = vector.max;\n  var scaleAndAdd$1 = vector.scaleAndAdd;\n  var v2Copy = vector.copy; // Temporary variable\n\n  var v = [];\n  var cp0 = [];\n  var cp1 = [];\n\n  function isPointNull(p) {\n    return isNaN(p[0]) || isNaN(p[1]);\n  }\n\n  function drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    // if (smoothMonotone == null) {\n    //     if (isMono(points, 'x')) {\n    //         return drawMono(ctx, points, start, segLen, allLen,\n    //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n    //     }\n    //     else if (isMono(points, 'y')) {\n    //         return drawMono(ctx, points, start, segLen, allLen,\n    //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n    //     }\n    //     else {\n    //         return drawNonMono.apply(this, arguments);\n    //     }\n    // }\n    // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n    //     return drawMono.apply(this, arguments);\n    // }\n    // else {\n    //     return drawNonMono.apply(this, arguments);\n    // }\n    if (smoothMonotone === 'none' || !smoothMonotone) {\n      return drawNonMono.apply(this, arguments);\n    } else {\n      return drawMono.apply(this, arguments);\n    }\n  }\n  /**\n   * Check if points is in monotone.\n   *\n   * @param {number[][]} points         Array of points which is in [x, y] form\n   * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n   *                                    dimension that is checking.\n   *                                    If is 'none', `drawNonMono` should be\n   *                                    called.\n   *                                    If is undefined, either being monotone\n   *                                    in 'x' or 'y' will call `drawMono`.\n   */\n  // function isMono(points, smoothMonotone) {\n  //     if (points.length <= 1) {\n  //         return true;\n  //     }\n  //     var dim = smoothMonotone === 'x' ? 0 : 1;\n  //     var last = points[0][dim];\n  //     var lastDiff = 0;\n  //     for (var i = 1; i < points.length; ++i) {\n  //         var diff = points[i][dim] - last;\n  //         if (!isNaN(diff) && !isNaN(lastDiff)\n  //             && diff !== 0 && lastDiff !== 0\n  //             && ((diff >= 0) !== (lastDiff >= 0))\n  //         ) {\n  //             return false;\n  //         }\n  //         if (!isNaN(diff) && diff !== 0) {\n  //             lastDiff = diff;\n  //             last = points[i][dim];\n  //         }\n  //     }\n  //     return true;\n  // }\n\n  /**\n   * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n   * control points will be used. This should be used when points are monotone\n   * either in x or y dimension.\n   */\n\n\n  function drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    var prevIdx = 0;\n    var idx = start;\n\n    for (var k = 0; k < segLen; k++) {\n      var p = points[idx];\n\n      if (idx >= allLen || idx < 0) {\n        break;\n      }\n\n      if (isPointNull(p)) {\n        if (connectNulls) {\n          idx += dir;\n          continue;\n        }\n\n        break;\n      }\n\n      if (idx === start) {\n        ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      } else {\n        if (smooth > 0) {\n          var prevP = points[prevIdx];\n          var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n          var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n          v2Copy(cp0, prevP);\n          cp0[dim] = prevP[dim] + ctrlLen;\n          v2Copy(cp1, p);\n          cp1[dim] = p[dim] - ctrlLen;\n          ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n        } else {\n          ctx.lineTo(p[0], p[1]);\n        }\n      }\n\n      prevIdx = idx;\n      idx += dir;\n    }\n\n    return k;\n  }\n  /**\n   * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n   * situations. This should be used when points are non-monotone neither in x or\n   * y dimension.\n   */\n\n\n  function drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n    var prevIdx = 0;\n    var idx = start;\n\n    for (var k = 0; k < segLen; k++) {\n      var p = points[idx];\n\n      if (idx >= allLen || idx < 0) {\n        break;\n      }\n\n      if (isPointNull(p)) {\n        if (connectNulls) {\n          idx += dir;\n          continue;\n        }\n\n        break;\n      }\n\n      if (idx === start) {\n        ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n        v2Copy(cp0, p);\n      } else {\n        if (smooth > 0) {\n          var nextIdx = idx + dir;\n          var nextP = points[nextIdx];\n\n          if (connectNulls) {\n            // Find next point not null\n            while (nextP && isPointNull(points[nextIdx])) {\n              nextIdx += dir;\n              nextP = points[nextIdx];\n            }\n          }\n\n          var ratioNextSeg = 0.5;\n          var prevP = points[prevIdx];\n          var nextP = points[nextIdx]; // Last point\n\n          if (!nextP || isPointNull(nextP)) {\n            v2Copy(cp1, p);\n          } else {\n            // If next data is null in not connect case\n            if (isPointNull(nextP) && !connectNulls) {\n              nextP = p;\n            }\n\n            vector.sub(v, nextP, prevP);\n            var lenPrevSeg;\n            var lenNextSeg;\n\n            if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n              var dim = smoothMonotone === 'x' ? 0 : 1;\n              lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n              lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n            } else {\n              lenPrevSeg = vector.dist(p, prevP);\n              lenNextSeg = vector.dist(p, nextP);\n            } // Use ratio of seg length\n\n\n            ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n            scaleAndAdd$1(cp1, p, v, -smooth * (1 - ratioNextSeg));\n          } // Smooth constraint\n\n\n          vec2Min(cp0, cp0, smoothMax);\n          vec2Max(cp0, cp0, smoothMin);\n          vec2Min(cp1, cp1, smoothMax);\n          vec2Max(cp1, cp1, smoothMin);\n          ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n          scaleAndAdd$1(cp0, p, v, smooth * ratioNextSeg);\n        } else {\n          ctx.lineTo(p[0], p[1]);\n        }\n      }\n\n      prevIdx = idx;\n      idx += dir;\n    }\n\n    return k;\n  }\n\n  function getBoundingBox(points, smoothConstraint) {\n    var ptMin = [Infinity, Infinity];\n    var ptMax = [-Infinity, -Infinity];\n\n    if (smoothConstraint) {\n      for (var i = 0; i < points.length; i++) {\n        var pt = points[i];\n\n        if (pt[0] < ptMin[0]) {\n          ptMin[0] = pt[0];\n        }\n\n        if (pt[1] < ptMin[1]) {\n          ptMin[1] = pt[1];\n        }\n\n        if (pt[0] > ptMax[0]) {\n          ptMax[0] = pt[0];\n        }\n\n        if (pt[1] > ptMax[1]) {\n          ptMax[1] = pt[1];\n        }\n      }\n    }\n\n    return {\n      min: smoothConstraint ? ptMin : ptMax,\n      max: smoothConstraint ? ptMax : ptMin\n    };\n  }\n\n  var Polyline$1 = Path_1.extend({\n    type: 'ec-polyline',\n    shape: {\n      points: [],\n      smooth: 0,\n      smoothConstraint: true,\n      smoothMonotone: null,\n      connectNulls: false\n    },\n    style: {\n      fill: null,\n      stroke: '#000'\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var points = shape.points;\n      var i = 0;\n      var len = points.length;\n      var result = getBoundingBox(points, shape.smoothConstraint);\n\n      if (shape.connectNulls) {\n        // Must remove first and last null values avoid draw error in polygon\n        for (; len > 0; len--) {\n          if (!isPointNull(points[len - 1])) {\n            break;\n          }\n        }\n\n        for (; i < len; i++) {\n          if (!isPointNull(points[i])) {\n            break;\n          }\n        }\n      }\n\n      while (i < len) {\n        i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n      }\n    }\n  });\n  var Polygon$1 = Path_1.extend({\n    type: 'ec-polygon',\n    shape: {\n      points: [],\n      // Offset between stacked base points and points\n      stackedOnPoints: [],\n      smooth: 0,\n      stackedOnSmooth: 0,\n      smoothConstraint: true,\n      smoothMonotone: null,\n      connectNulls: false\n    },\n    brush: fixClipWithShadow(Path_1.prototype.brush),\n    buildPath: function (ctx, shape) {\n      var points = shape.points;\n      var stackedOnPoints = shape.stackedOnPoints;\n      var i = 0;\n      var len = points.length;\n      var smoothMonotone = shape.smoothMonotone;\n      var bbox = getBoundingBox(points, shape.smoothConstraint);\n      var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n      if (shape.connectNulls) {\n        // Must remove first and last null values avoid draw error in polygon\n        for (; len > 0; len--) {\n          if (!isPointNull(points[len - 1])) {\n            break;\n          }\n        }\n\n        for (; i < len; i++) {\n          if (!isPointNull(points[i])) {\n            break;\n          }\n        }\n      }\n\n      while (i < len) {\n        var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n        drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n        i += k + 1;\n        ctx.closePath();\n      }\n    }\n  });\n  var Polyline_1$1 = Polyline$1;\n  var Polygon_1$1 = Polygon$1;\n\n  var poly$1 = {\n  \tPolyline: Polyline_1$1,\n  \tPolygon: Polygon_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var round$3 = number.round;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function createGridClipPath(cartesian, hasAnimation, seriesModel) {\n    var rect = cartesian.getArea();\n    var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n    var x = rect.x;\n    var y = rect.y;\n    var width = rect.width;\n    var height = rect.height;\n    var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n    x -= lineWidth / 2;\n    y -= lineWidth / 2;\n    width += lineWidth;\n    height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n    x = Math.floor(x);\n    width = Math.round(width);\n    var clipPath = new graphic.Rect({\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      }\n    });\n\n    if (hasAnimation) {\n      clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n      graphic.initProps(clipPath, {\n        shape: {\n          width: width,\n          height: height\n        }\n      }, seriesModel);\n    }\n\n    return clipPath;\n  }\n\n  function createPolarClipPath(polar, hasAnimation, seriesModel) {\n    var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: round$3(polar.cx, 1),\n        cy: round$3(polar.cy, 1),\n        r0: round$3(sectorArea.r0, 1),\n        r: round$3(sectorArea.r, 1),\n        startAngle: sectorArea.startAngle,\n        endAngle: sectorArea.endAngle,\n        clockwise: sectorArea.clockwise\n      }\n    });\n\n    if (hasAnimation) {\n      clipPath.shape.endAngle = sectorArea.startAngle;\n      graphic.initProps(clipPath, {\n        shape: {\n          endAngle: sectorArea.endAngle\n        }\n      }, seriesModel);\n    }\n\n    return clipPath;\n  }\n\n  function createClipPath(coordSys, hasAnimation, seriesModel) {\n    if (!coordSys) {\n      return null;\n    } else if (coordSys.type === 'polar') {\n      return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n    } else if (coordSys.type === 'cartesian2d') {\n      return createGridClipPath(coordSys, hasAnimation, seriesModel);\n    }\n\n    return null;\n  }\n\n  var createGridClipPath_1 = createGridClipPath;\n  var createPolarClipPath_1 = createPolarClipPath;\n  var createClipPath_1 = createClipPath;\n\n  var createClipPathFromCoordSys = {\n  \tcreateGridClipPath: createGridClipPath_1,\n  \tcreatePolarClipPath: createPolarClipPath_1,\n  \tcreateClipPath: createClipPath_1\n  };\n\n  var fromPoints$1 = bbox.fromPoints;\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var Polyline$2 = poly$1.Polyline;\n  var Polygon$2 = poly$1.Polygon;\n\n\n\n\n\n  var prepareDataCoordInfo$2 = helper$3.prepareDataCoordInfo;\n  var getStackedOnPoint$2 = helper$3.getStackedOnPoint;\n\n\n\n  var createGridClipPath$1 = createClipPathFromCoordSys.createGridClipPath;\n  var createPolarClipPath$1 = createClipPathFromCoordSys.createPolarClipPath;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME step not support polar\n  function isPointsSame(points1, points2) {\n    if (points1.length !== points2.length) {\n      return;\n    }\n\n    for (var i = 0; i < points1.length; i++) {\n      var p1 = points1[i];\n      var p2 = points2[i];\n\n      if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n        return;\n      }\n    }\n\n    return true;\n  }\n\n  function getBoundingDiff(points1, points2) {\n    var min1 = [];\n    var max1 = [];\n    var min2 = [];\n    var max2 = [];\n    fromPoints$1(points1, min1, max1);\n    fromPoints$1(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n    return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n  }\n\n  function getSmooth(smooth) {\n    return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n  }\n  /**\n   * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n   * @param {module:echarts/data/List} data\n   * @param {Object} dataCoordInfo\n   * @param {Array.<Array.<number>>} points\n   */\n\n\n  function getStackedOnPoints(coordSys, data, dataCoordInfo) {\n    if (!dataCoordInfo.valueDim) {\n      return [];\n    }\n\n    var points = [];\n\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      points.push(getStackedOnPoint$2(dataCoordInfo, coordSys, data, idx));\n    }\n\n    return points;\n  }\n\n  function turnPointsIntoStep(points, coordSys, stepTurnAt) {\n    var baseAxis = coordSys.getBaseAxis();\n    var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n    var stepPoints = [];\n\n    for (var i = 0; i < points.length - 1; i++) {\n      var nextPt = points[i + 1];\n      var pt = points[i];\n      stepPoints.push(pt);\n      var stepPt = [];\n\n      switch (stepTurnAt) {\n        case 'end':\n          stepPt[baseIndex] = nextPt[baseIndex];\n          stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n          stepPoints.push(stepPt);\n          break;\n\n        case 'middle':\n          // default is start\n          var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n          var stepPt2 = [];\n          stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n          stepPt[1 - baseIndex] = pt[1 - baseIndex];\n          stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n          stepPoints.push(stepPt);\n          stepPoints.push(stepPt2);\n          break;\n\n        default:\n          stepPt[baseIndex] = pt[baseIndex];\n          stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n          stepPoints.push(stepPt);\n      }\n    } // Last points\n\n\n    points[i] && stepPoints.push(points[i]);\n    return stepPoints;\n  }\n\n  function getVisualGradient(data, coordSys) {\n    var visualMetaList = data.getVisual('visualMeta');\n\n    if (!visualMetaList || !visualMetaList.length || !data.count()) {\n      // When data.count() is 0, gradient range can not be calculated.\n      return;\n    }\n\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var coordDim;\n    var visualMeta;\n\n    for (var i = visualMetaList.length - 1; i >= 0; i--) {\n      var dimIndex = visualMetaList[i].dimension;\n      var dimName = data.dimensions[dimIndex];\n      var dimInfo = data.getDimensionInfo(dimName);\n      coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n      if (coordDim === 'x' || coordDim === 'y') {\n        visualMeta = visualMetaList[i];\n        break;\n      }\n    }\n\n    if (!visualMeta) {\n      return;\n    } // If the area to be rendered is bigger than area defined by LinearGradient,\n    // the canvas spec prescribes that the color of the first stop and the last\n    // stop should be used. But if two stops are added at offset 0, in effect\n    // browsers use the color of the second stop to render area outside\n    // LinearGradient. So we can only infinitesimally extend area defined in\n    // LinearGradient to render `outerColors`.\n\n\n    var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n    var colorStops = util.map(visualMeta.stops, function (stop) {\n      return {\n        coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n        color: stop.color\n      };\n    });\n    var stopLen = colorStops.length;\n    var outerColors = visualMeta.outerColors.slice();\n\n    if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n      colorStops.reverse();\n      outerColors.reverse();\n    }\n\n    var tinyExtent = 10; // Arbitrary value: 10px\n\n    var minCoord = colorStops[0].coord - tinyExtent;\n    var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n    var coordSpan = maxCoord - minCoord;\n\n    if (coordSpan < 1e-3) {\n      return 'transparent';\n    }\n\n    util.each(colorStops, function (stop) {\n      stop.offset = (stop.coord - minCoord) / coordSpan;\n    });\n    colorStops.push({\n      offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n      color: outerColors[1] || 'transparent'\n    });\n    colorStops.unshift({\n      // notice colorStops.length have been changed.\n      offset: stopLen ? colorStops[0].offset : 0.5,\n      color: outerColors[0] || 'transparent'\n    }); // zrUtil.each(colorStops, function (colorStop) {\n    //     // Make sure each offset has rounded px to avoid not sharp edge\n    //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n    // });\n\n    var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n    gradient[coordDim] = minCoord;\n    gradient[coordDim + '2'] = maxCoord;\n    return gradient;\n  }\n\n  function getIsIgnoreFunc(seriesModel, data, coordSys) {\n    var showAllSymbol = seriesModel.get('showAllSymbol');\n    var isAuto = showAllSymbol === 'auto';\n\n    if (showAllSymbol && !isAuto) {\n      return;\n    }\n\n    var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n    if (!categoryAxis) {\n      return;\n    } // Note that category label interval strategy might bring some weird effect\n    // in some scenario: users may wonder why some of the symbols are not\n    // displayed. So we show all symbols as possible as we can.\n\n\n    if (isAuto // Simplify the logic, do not determine label overlap here.\n    && canShowAllSymbolForCategory(categoryAxis, data)) {\n      return;\n    } // Otherwise follow the label interval strategy on category axis.\n\n\n    var categoryDataDim = data.mapDimension(categoryAxis.dim);\n    var labelMap = {};\n    util.each(categoryAxis.getViewLabels(), function (labelItem) {\n      labelMap[labelItem.tickValue] = 1;\n    });\n    return function (dataIndex) {\n      return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n    };\n  }\n\n  function canShowAllSymbolForCategory(categoryAxis, data) {\n    // In mose cases, line is monotonous on category axis, and the label size\n    // is close with each other. So we check the symbol size and some of the\n    // label size alone with the category axis to estimate whether all symbol\n    // can be shown without overlap.\n    var axisExtent = categoryAxis.getExtent();\n    var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n    isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n    // Sampling some points, max 5.\n\n    var dataLen = data.count();\n    var step = Math.max(1, Math.round(dataLen / 5));\n\n    for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n      if (_Symbol.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n      )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n      * 1.5 > availSize) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function createLineClipPath(coordSys, hasAnimation, seriesModel) {\n    if (coordSys.type === 'cartesian2d') {\n      var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n      var clipPath = createGridClipPath$1(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n      if (!seriesModel.get('clip', true)) {\n        var rectShape = clipPath.shape;\n        var expandSize = Math.max(rectShape.width, rectShape.height);\n\n        if (isHorizontal) {\n          rectShape.y -= expandSize;\n          rectShape.height += expandSize * 2;\n        } else {\n          rectShape.x -= expandSize;\n          rectShape.width += expandSize * 2;\n        }\n      }\n\n      return clipPath;\n    } else {\n      return createPolarClipPath$1(coordSys, hasAnimation, seriesModel);\n    }\n  }\n\n  var _default$1A = Chart_1.extend({\n    type: 'line',\n    init: function () {\n      var lineGroup = new graphic.Group();\n      var symbolDraw = new SymbolDraw_1();\n      this.group.add(symbolDraw.group);\n      this._symbolDraw = symbolDraw;\n      this._lineGroup = lineGroup;\n    },\n    render: function (seriesModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var group = this.group;\n      var data = seriesModel.getData();\n      var lineStyleModel = seriesModel.getModel('lineStyle');\n      var areaStyleModel = seriesModel.getModel('areaStyle');\n      var points = data.mapArray(data.getItemLayout);\n      var isCoordSysPolar = coordSys.type === 'polar';\n      var prevCoordSys = this._coordSys;\n      var symbolDraw = this._symbolDraw;\n      var polyline = this._polyline;\n      var polygon = this._polygon;\n      var lineGroup = this._lineGroup;\n      var hasAnimation = seriesModel.get('animation');\n      var isAreaChart = !areaStyleModel.isEmpty();\n      var valueOrigin = areaStyleModel.get('origin');\n      var dataCoordInfo = prepareDataCoordInfo$2(coordSys, data, valueOrigin);\n      var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n      var showSymbol = seriesModel.get('showSymbol');\n      var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n      var oldData = this._data;\n      oldData && oldData.eachItemGraphicEl(function (el, idx) {\n        if (el.__temp) {\n          group.remove(el);\n          oldData.setItemGraphicEl(idx, null);\n        }\n      }); // Remove previous created symbols if showSymbol changed to false\n\n      if (!showSymbol) {\n        symbolDraw.remove();\n      }\n\n      group.add(lineGroup); // FIXME step not support polar\n\n      var step = !isCoordSysPolar && seriesModel.get('step');\n      var clipShapeForSymbol;\n\n      if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n        clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n        // See #7913 and `test/dataZoom-clip.html`.\n\n        if (clipShapeForSymbol.width != null) {\n          clipShapeForSymbol.x -= 0.1;\n          clipShapeForSymbol.y -= 0.1;\n          clipShapeForSymbol.width += 0.2;\n          clipShapeForSymbol.height += 0.2;\n        } else if (clipShapeForSymbol.r0) {\n          clipShapeForSymbol.r0 -= 0.5;\n          clipShapeForSymbol.r1 += 0.5;\n        }\n      }\n\n      this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n      if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n        showSymbol && symbolDraw.updateData(data, {\n          isIgnore: isIgnoreFunc,\n          clipShape: clipShapeForSymbol\n        });\n\n        if (step) {\n          // TODO If stacked series is not step\n          points = turnPointsIntoStep(points, coordSys, step);\n          stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n        }\n\n        polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n        if (isAreaChart) {\n          polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n        }\n\n        lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n      } else {\n        if (isAreaChart && !polygon) {\n          // If areaStyle is added\n          polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n        } else if (polygon && !isAreaChart) {\n          // If areaStyle is removed\n          lineGroup.remove(polygon);\n          polygon = this._polygon = null;\n        } // Update clipPath\n\n\n        lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n        // because points are not changed\n\n        showSymbol && symbolDraw.updateData(data, {\n          isIgnore: isIgnoreFunc,\n          clipShape: clipShapeForSymbol\n        }); // Stop symbol animation and sync with line points\n        // FIXME performance?\n\n        data.eachItemGraphicEl(function (el) {\n          el.stopAnimation(true);\n        }); // In the case data zoom triggerred refreshing frequently\n        // Data may not change if line has a category axis. So it should animate nothing\n\n        if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n          if (hasAnimation) {\n            this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n          } else {\n            // Not do it in update with animation\n            if (step) {\n              // TODO If stacked series is not step\n              points = turnPointsIntoStep(points, coordSys, step);\n              stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n            }\n\n            polyline.setShape({\n              points: points\n            });\n            polygon && polygon.setShape({\n              points: points,\n              stackedOnPoints: stackedOnPoints\n            });\n          }\n        }\n      }\n\n      var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n      polyline.useStyle(util.defaults( // Use color in lineStyle first\n      lineStyleModel.getLineStyle(), {\n        fill: 'none',\n        stroke: visualColor,\n        lineJoin: 'bevel'\n      }));\n      var smooth = seriesModel.get('smooth');\n      smooth = getSmooth(seriesModel.get('smooth'));\n      polyline.setShape({\n        smooth: smooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n\n      if (polygon) {\n        var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n        var stackedOnSmooth = 0;\n        polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(), {\n          fill: visualColor,\n          opacity: 0.7,\n          lineJoin: 'bevel'\n        }));\n\n        if (stackedOnSeries) {\n          stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n        }\n\n        polygon.setShape({\n          smooth: smooth,\n          stackedOnSmooth: stackedOnSmooth,\n          smoothMonotone: seriesModel.get('smoothMonotone'),\n          connectNulls: seriesModel.get('connectNulls')\n        });\n      }\n\n      this._data = data; // Save the coordinate system for transition animation when data changed\n\n      this._coordSys = coordSys;\n      this._stackedOnPoints = stackedOnPoints;\n      this._points = points;\n      this._step = step;\n      this._valueOrigin = valueOrigin;\n    },\n    dispose: function () {},\n    highlight: function (seriesModel, ecModel, api, payload) {\n      var data = seriesModel.getData();\n      var dataIndex = model.queryDataIndex(data, payload);\n\n      if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n        var symbol = data.getItemGraphicEl(dataIndex);\n\n        if (!symbol) {\n          // Create a temporary symbol if it is not exists\n          var pt = data.getItemLayout(dataIndex);\n\n          if (!pt) {\n            // Null data\n            return;\n          } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n          if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n            return;\n          }\n\n          symbol = new _Symbol(data, dataIndex);\n          symbol.position = pt;\n          symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n          symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n          symbol.__temp = true;\n          data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n          symbol.stopSymbolAnimation(true);\n          this.group.add(symbol);\n        }\n\n        symbol.highlight();\n      } else {\n        // Highlight whole series\n        Chart_1.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n      }\n    },\n    downplay: function (seriesModel, ecModel, api, payload) {\n      var data = seriesModel.getData();\n      var dataIndex = model.queryDataIndex(data, payload);\n\n      if (dataIndex != null && dataIndex >= 0) {\n        var symbol = data.getItemGraphicEl(dataIndex);\n\n        if (symbol) {\n          if (symbol.__temp) {\n            data.setItemGraphicEl(dataIndex, null);\n            this.group.remove(symbol);\n          } else {\n            symbol.downplay();\n          }\n        }\n      } else {\n        // FIXME\n        // can not downplay completely.\n        // Downplay whole series\n        Chart_1.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n      }\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolyline: function (points) {\n      var polyline = this._polyline; // Remove previous created polyline\n\n      if (polyline) {\n        this._lineGroup.remove(polyline);\n      }\n\n      polyline = new Polyline$2({\n        shape: {\n          points: points\n        },\n        silent: true,\n        z2: 10\n      });\n\n      this._lineGroup.add(polyline);\n\n      this._polyline = polyline;\n      return polyline;\n    },\n\n    /**\n     * @param {module:zrender/container/Group} group\n     * @param {Array.<Array.<number>>} stackedOnPoints\n     * @param {Array.<Array.<number>>} points\n     * @private\n     */\n    _newPolygon: function (points, stackedOnPoints) {\n      var polygon = this._polygon; // Remove previous created polygon\n\n      if (polygon) {\n        this._lineGroup.remove(polygon);\n      }\n\n      polygon = new Polygon$2({\n        shape: {\n          points: points,\n          stackedOnPoints: stackedOnPoints\n        },\n        silent: true\n      });\n\n      this._lineGroup.add(polygon);\n\n      this._polygon = polygon;\n      return polygon;\n    },\n\n    /**\n     * @private\n     */\n    // FIXME Two value axis\n    _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n      var polyline = this._polyline;\n      var polygon = this._polygon;\n      var seriesModel = data.hostModel;\n      var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n      var current = diff.current;\n      var stackedOnCurrent = diff.stackedOnCurrent;\n      var next = diff.next;\n      var stackedOnNext = diff.stackedOnNext;\n\n      if (step) {\n        // TODO If stacked series is not step\n        current = turnPointsIntoStep(diff.current, coordSys, step);\n        stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n        next = turnPointsIntoStep(diff.next, coordSys, step);\n        stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n      } // Don't apply animation if diff is large.\n      // For better result and avoid memory explosion problems like\n      // https://github.com/apache/incubator-echarts/issues/12229\n\n\n      if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n        polyline.setShape({\n          points: next\n        });\n\n        if (polygon) {\n          polygon.setShape({\n            points: next,\n            stackedOnPoints: stackedOnNext\n          });\n        }\n\n        return;\n      } // `diff.current` is subset of `current` (which should be ensured by\n      // turnPointsIntoStep), so points in `__points` can be updated when\n      // points in `current` are update during animation.\n\n\n      polyline.shape.__points = diff.current;\n      polyline.shape.points = current;\n      graphic.updateProps(polyline, {\n        shape: {\n          points: next\n        }\n      }, seriesModel);\n\n      if (polygon) {\n        polygon.setShape({\n          points: current,\n          stackedOnPoints: stackedOnCurrent\n        });\n        graphic.updateProps(polygon, {\n          shape: {\n            points: next,\n            stackedOnPoints: stackedOnNext\n          }\n        }, seriesModel);\n      }\n\n      var updatedDataInfo = [];\n      var diffStatus = diff.status;\n\n      for (var i = 0; i < diffStatus.length; i++) {\n        var cmd = diffStatus[i].cmd;\n\n        if (cmd === '=') {\n          var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n          if (el) {\n            updatedDataInfo.push({\n              el: el,\n              ptIdx: i // Index of points\n\n            });\n          }\n        }\n      }\n\n      if (polyline.animators && polyline.animators.length) {\n        polyline.animators[0].during(function () {\n          for (var i = 0; i < updatedDataInfo.length; i++) {\n            var el = updatedDataInfo[i].el;\n            el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n          }\n        });\n      }\n    },\n    remove: function (ecModel) {\n      var group = this.group;\n      var oldData = this._data;\n\n      this._lineGroup.removeAll();\n\n      this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n      oldData && oldData.eachItemGraphicEl(function (el, idx) {\n        if (el.__temp) {\n          group.remove(el);\n          oldData.setItemGraphicEl(idx, null);\n        }\n      });\n      this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var isFunction$5 = util.isFunction;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1B(seriesType, defaultSymbolType, legendSymbol) {\n    // Encoding visual for all series include which is filtered for legend drawing\n    return {\n      seriesType: seriesType,\n      // For legend.\n      performRawSeries: true,\n      reset: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var symbolType = seriesModel.get('symbol');\n        var symbolSize = seriesModel.get('symbolSize');\n        var keepAspect = seriesModel.get('symbolKeepAspect');\n        var symbolRotate = seriesModel.get('symbolRotate');\n        var hasSymbolTypeCallback = isFunction$5(symbolType);\n        var hasSymbolSizeCallback = isFunction$5(symbolSize);\n        var hasSymbolRotateCallback = isFunction$5(symbolRotate);\n        var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback;\n        var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n        var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n        data.setVisual({\n          legendSymbol: legendSymbol || seriesSymbol,\n          // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n          // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n          // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n          // some cases but generally it is not recommanded.\n          symbol: seriesSymbol,\n          symbolSize: seriesSymbolSize,\n          symbolKeepAspect: keepAspect,\n          symbolRotate: symbolRotate\n        }); // Only visible series has each data be visual encoded\n\n        if (ecModel.isSeriesFiltered(seriesModel)) {\n          return;\n        }\n\n        function dataEach(data, idx) {\n          if (hasCallback) {\n            var rawValue = seriesModel.getRawValue(idx);\n            var params = seriesModel.getDataParams(idx);\n            hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n            hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n            hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n          }\n\n          if (data.hasItemOption) {\n            var itemModel = data.getItemModel(idx);\n            var itemSymbolType = itemModel.getShallow('symbol', true);\n            var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n            var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n            var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n            if (itemSymbolType != null) {\n              data.setItemVisual(idx, 'symbol', itemSymbolType);\n            }\n\n            if (itemSymbolSize != null) {\n              // PENDING Transform symbolSize ?\n              data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n            }\n\n            if (itemSymbolRotate != null) {\n              data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n            }\n\n            if (itemSymbolKeepAspect != null) {\n              data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n            }\n          }\n        }\n\n        return {\n          dataEach: data.hasItemOption || hasCallback ? dataEach : null\n        };\n      }\n    };\n  }\n\n  var symbol$1 = _default$1B;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var map$8 = util.map;\n\n\n\n\n\n  var isDimensionStacked$4 = dataStackHelper.isDimensionStacked;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /* global Float32Array */\n  function _default$1C(seriesType) {\n    return {\n      seriesType: seriesType,\n      plan: createRenderPlanner(),\n      reset: function (seriesModel) {\n        var data = seriesModel.getData();\n        var coordSys = seriesModel.coordinateSystem;\n        var pipelineContext = seriesModel.pipelineContext;\n        var isLargeRender = pipelineContext.large;\n\n        if (!coordSys) {\n          return;\n        }\n\n        var dims = map$8(coordSys.dimensions, function (dim) {\n          return data.mapDimension(dim);\n        }).slice(0, 2);\n        var dimLen = dims.length;\n        var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n        if (isDimensionStacked$4(data, dims[0]\n        /*, dims[1]*/\n        )) {\n          dims[0] = stackResultDim;\n        }\n\n        if (isDimensionStacked$4(data, dims[1]\n        /*, dims[0]*/\n        )) {\n          dims[1] = stackResultDim;\n        }\n\n        function progress(params, data) {\n          var segCount = params.end - params.start;\n          var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n          for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n            var point;\n\n            if (dimLen === 1) {\n              var x = data.get(dims[0], i);\n              point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              var x = tmpIn[0] = data.get(dims[0], i);\n              var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n              point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (isLargeRender) {\n              points[offset++] = point ? point[0] : NaN;\n              points[offset++] = point ? point[1] : NaN;\n            } else {\n              data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n            }\n          }\n\n          isLargeRender && data.setLayout('symbolPoints', points);\n        }\n\n        return dimLen && {\n          progress: progress\n        };\n      }\n    };\n  }\n\n  var points$1 = _default$1C;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var samplers = {\n    average: function (frame) {\n      var sum = 0;\n      var count = 0;\n\n      for (var i = 0; i < frame.length; i++) {\n        if (!isNaN(frame[i])) {\n          sum += frame[i];\n          count++;\n        }\n      } // Return NaN if count is 0\n\n\n      return count === 0 ? NaN : sum / count;\n    },\n    sum: function (frame) {\n      var sum = 0;\n\n      for (var i = 0; i < frame.length; i++) {\n        // Ignore NaN\n        sum += frame[i] || 0;\n      }\n\n      return sum;\n    },\n    max: function (frame) {\n      var max = -Infinity;\n\n      for (var i = 0; i < frame.length; i++) {\n        frame[i] > max && (max = frame[i]);\n      } // NaN will cause illegal axis extent.\n\n\n      return isFinite(max) ? max : NaN;\n    },\n    min: function (frame) {\n      var min = Infinity;\n\n      for (var i = 0; i < frame.length; i++) {\n        frame[i] < min && (min = frame[i]);\n      } // NaN will cause illegal axis extent.\n\n\n      return isFinite(min) ? min : NaN;\n    },\n    // TODO\n    // Median\n    nearest: function (frame) {\n      return frame[0];\n    }\n  };\n\n  var indexSampler = function (frame, value) {\n    return Math.round(frame.length / 2);\n  };\n\n  function _default$1D(seriesType) {\n    return {\n      seriesType: seriesType,\n      modifyOutputEnd: true,\n      reset: function (seriesModel, ecModel, api) {\n        var data = seriesModel.getData();\n        var sampling = seriesModel.get('sampling');\n        var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n        if (coordSys.type === 'cartesian2d' && sampling) {\n          var baseAxis = coordSys.getBaseAxis();\n          var valueAxis = coordSys.getOtherAxis(baseAxis);\n          var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n          var size = Math.abs(extent[1] - extent[0]);\n          var rate = Math.round(data.count() / size);\n\n          if (rate > 1) {\n            var sampler;\n\n            if (typeof sampling === 'string') {\n              sampler = samplers[sampling];\n            } else if (typeof sampling === 'function') {\n              sampler = sampling;\n            }\n\n            if (sampler) {\n              // Only support sample the first dim mapped from value axis.\n              seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n            }\n          }\n        }\n      }\n    };\n  }\n\n  var dataSample = _default$1D;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Cartesian coordinate system\n   * @module  echarts/coord/Cartesian\n   *\n   */\n  function dimAxisMapper(dim) {\n    return this._axes[dim];\n  }\n  /**\n   * @alias module:echarts/coord/Cartesian\n   * @constructor\n   */\n\n\n  var Cartesian = function (name) {\n    this._axes = {};\n    this._dimList = [];\n    /**\n     * @type {string}\n     */\n\n    this.name = name || '';\n  };\n\n  Cartesian.prototype = {\n    constructor: Cartesian,\n    type: 'cartesian',\n\n    /**\n     * Get axis\n     * @param  {number|string} dim\n     * @return {module:echarts/coord/Cartesian~Axis}\n     */\n    getAxis: function (dim) {\n      return this._axes[dim];\n    },\n\n    /**\n     * Get axes list\n     * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n     */\n    getAxes: function () {\n      return util.map(this._dimList, dimAxisMapper, this);\n    },\n\n    /**\n     * Get axes list by given scale type\n     */\n    getAxesByScale: function (scaleType) {\n      scaleType = scaleType.toLowerCase();\n      return util.filter(this.getAxes(), function (axis) {\n        return axis.scale.type === scaleType;\n      });\n    },\n\n    /**\n     * Add axis\n     * @param {module:echarts/coord/Cartesian.Axis}\n     */\n    addAxis: function (axis) {\n      var dim = axis.dim;\n      this._axes[dim] = axis;\n\n      this._dimList.push(dim);\n    },\n\n    /**\n     * Convert data to coord in nd space\n     * @param {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    dataToCoord: function (val) {\n      return this._dataCoordConvert(val, 'dataToCoord');\n    },\n\n    /**\n     * Convert coord in nd space to data\n     * @param  {Array.<number>|Object.<string, number>} val\n     * @return {Array.<number>|Object.<string, number>}\n     */\n    coordToData: function (val) {\n      return this._dataCoordConvert(val, 'coordToData');\n    },\n    _dataCoordConvert: function (input, method) {\n      var dimList = this._dimList;\n      var output = input instanceof Array ? [] : {};\n\n      for (var i = 0; i < dimList.length; i++) {\n        var dim = dimList[i];\n        var axis = this._axes[dim];\n        output[dim] = axis[method](input[dim]);\n      }\n\n      return output;\n    }\n  };\n  var _default$1E = Cartesian;\n  var Cartesian_1 = _default$1E;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function Cartesian2D(name) {\n    Cartesian_1.call(this, name);\n  }\n\n  Cartesian2D.prototype = {\n    constructor: Cartesian2D,\n    type: 'cartesian2d',\n\n    /**\n     * @type {Array.<string>}\n     * @readOnly\n     */\n    dimensions: ['x', 'y'],\n\n    /**\n     * Base axis will be used on stacking.\n     *\n     * @return {module:echarts/coord/cartesian/Axis2D}\n     */\n    getBaseAxis: function () {\n      return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n    },\n\n    /**\n     * If contain point\n     * @param {Array.<number>} point\n     * @return {boolean}\n     */\n    containPoint: function (point) {\n      var axisX = this.getAxis('x');\n      var axisY = this.getAxis('y');\n      return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n    },\n\n    /**\n     * If contain data\n     * @param {Array.<number>} data\n     * @return {boolean}\n     */\n    containData: function (data) {\n      return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n    },\n\n    /**\n     * @param {Array.<number>} data\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    dataToPoint: function (data, reserved, out) {\n      var xAxis = this.getAxis('x');\n      var yAxis = this.getAxis('y');\n      out = out || [];\n      out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n      out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n      return out;\n    },\n\n    /**\n     * @param {Array.<number>} data\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    clampData: function (data, out) {\n      var xScale = this.getAxis('x').scale;\n      var yScale = this.getAxis('y').scale;\n      var xAxisExtent = xScale.getExtent();\n      var yAxisExtent = yScale.getExtent();\n      var x = xScale.parse(data[0]);\n      var y = yScale.parse(data[1]);\n      out = out || [];\n      out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n      out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n      return out;\n    },\n\n    /**\n     * @param {Array.<number>} point\n     * @param {Array.<number>} out\n     * @return {Array.<number>}\n     */\n    pointToData: function (point, out) {\n      var xAxis = this.getAxis('x');\n      var yAxis = this.getAxis('y');\n      out = out || [];\n      out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n      out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n      return out;\n    },\n\n    /**\n     * Get other axis\n     * @param {module:echarts/coord/cartesian/Axis2D} axis\n     */\n    getOtherAxis: function (axis) {\n      return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n    },\n\n    /**\n     * Get rect area of cartesian.\n     * Area will have a contain function to determine if a point is in the coordinate system.\n     * @return {BoundingRect}\n     */\n    getArea: function () {\n      var xExtent = this.getAxis('x').getGlobalExtent();\n      var yExtent = this.getAxis('y').getGlobalExtent();\n      var x = Math.min(xExtent[0], xExtent[1]);\n      var y = Math.min(yExtent[0], yExtent[1]);\n      var width = Math.max(xExtent[0], xExtent[1]) - x;\n      var height = Math.max(yExtent[0], yExtent[1]) - y;\n      var rect = new BoundingRect_1(x, y, width, height);\n      return rect;\n    }\n  };\n  util.inherits(Cartesian2D, Cartesian_1);\n  var _default$1F = Cartesian2D;\n  var Cartesian2D_1 = _default$1F;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Extend axis 2d\n   * @constructor module:echarts/coord/cartesian/Axis2D\n   * @extends {module:echarts/coord/cartesian/Axis}\n   * @param {string} dim\n   * @param {*} scale\n   * @param {Array.<number>} coordExtent\n   * @param {string} axisType\n   * @param {string} position\n   */\n  var Axis2D = function (dim, scale, coordExtent, axisType, position) {\n    Axis_1.call(this, dim, scale, coordExtent);\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n\n    this.type = axisType || 'value';\n    /**\n     * Axis position\n     *  - 'top'\n     *  - 'bottom'\n     *  - 'left'\n     *  - 'right'\n     */\n\n    this.position = position || 'bottom';\n  };\n\n  Axis2D.prototype = {\n    constructor: Axis2D,\n\n    /**\n     * Index of axis, can be used as key\n     */\n    index: 0,\n\n    /**\n     * Implemented in <module:echarts/coord/cartesian/Grid>.\n     * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n     *         If not on zero of other axis, return null/undefined.\n     *         If no axes, return an empty array.\n     */\n    getAxesOnZeroOf: null,\n\n    /**\n     * Axis model\n     * @param {module:echarts/coord/cartesian/AxisModel}\n     */\n    model: null,\n    isHorizontal: function () {\n      var position = this.position;\n      return position === 'top' || position === 'bottom';\n    },\n\n    /**\n     * Each item cooresponds to this.getExtent(), which\n     * means globalExtent[0] may greater than globalExtent[1],\n     * unless `asc` is input.\n     *\n     * @param {boolean} [asc]\n     * @return {Array.<number>}\n     */\n    getGlobalExtent: function (asc) {\n      var ret = this.getExtent();\n      ret[0] = this.toGlobalCoord(ret[0]);\n      ret[1] = this.toGlobalCoord(ret[1]);\n      asc && ret[0] > ret[1] && ret.reverse();\n      return ret;\n    },\n    getOtherAxis: function () {\n      this.grid.getOtherAxis();\n    },\n\n    /**\n     * @override\n     */\n    pointToData: function (point, clamp) {\n      return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n    },\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var localCoord = axis.toLocalCoord(80);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toLocalCoord: null,\n\n    /**\n     * Transform global coord to local coord,\n     * i.e. var globalCoord = axis.toLocalCoord(40);\n     * designate by module:echarts/coord/cartesian/Grid.\n     * @type {Function}\n     */\n    toGlobalCoord: null\n  };\n  util.inherits(Axis2D, Axis_1);\n  var _default$1G = Axis2D;\n  var Axis2D_1 = _default$1G;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var defaultOption = {\n    show: true,\n    zlevel: 0,\n    z: 0,\n    // Inverse the axis.\n    inverse: false,\n    // Axis name displayed.\n    name: '',\n    // 'start' | 'middle' | 'end'\n    nameLocation: 'end',\n    // By degree. By default auto rotate by nameLocation.\n    nameRotate: null,\n    nameTruncate: {\n      maxWidth: null,\n      ellipsis: '...',\n      placeholder: '.'\n    },\n    // Use global text style by default.\n    nameTextStyle: {},\n    // The gap between axisName and axisLine.\n    nameGap: 15,\n    // Default `false` to support tooltip.\n    silent: false,\n    // Default `false` to avoid legacy user event listener fail.\n    triggerEvent: false,\n    tooltip: {\n      show: false\n    },\n    axisPointer: {},\n    axisLine: {\n      show: true,\n      onZero: true,\n      onZeroAxisIndex: null,\n      lineStyle: {\n        color: '#333',\n        width: 1,\n        type: 'solid'\n      },\n      // The arrow at both ends the the axis.\n      symbol: ['none', 'none'],\n      symbolSize: [10, 15]\n    },\n    axisTick: {\n      show: true,\n      // Whether axisTick is inside the grid or outside the grid.\n      inside: false,\n      // The length of axisTick.\n      length: 5,\n      lineStyle: {\n        width: 1\n      }\n    },\n    axisLabel: {\n      show: true,\n      // Whether axisLabel is inside the grid or outside the grid.\n      inside: false,\n      rotate: 0,\n      // true | false | null/undefined (auto)\n      showMinLabel: null,\n      // true | false | null/undefined (auto)\n      showMaxLabel: null,\n      margin: 8,\n      // formatter: null,\n      fontSize: 12\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: ['#ccc'],\n        width: 1,\n        type: 'solid'\n      }\n    },\n    splitArea: {\n      show: false,\n      areaStyle: {\n        color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n      }\n    }\n  };\n  var axisDefault = {};\n  axisDefault.categoryAxis = util.merge({\n    // The gap at both ends of the axis. For categoryAxis, boolean.\n    boundaryGap: true,\n    // Set false to faster category collection.\n    // Only usefull in the case like: category is\n    // ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // null means \"auto\":\n    // if axis.data provided, do not deduplication,\n    // else do deduplication.\n    deduplication: null,\n    // splitArea: {\n    // show: false\n    // },\n    splitLine: {\n      show: false\n    },\n    axisTick: {\n      // If tick is align with label when boundaryGap is true\n      alignWithLabel: false,\n      interval: 'auto'\n    },\n    axisLabel: {\n      interval: 'auto'\n    }\n  }, defaultOption);\n  axisDefault.valueAxis = util.merge({\n    // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n    // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n    boundaryGap: [0, 0],\n    // TODO\n    // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n    // Min value of the axis. can be:\n    // + a number\n    // + 'dataMin': use the min value in data.\n    // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n    // min: null,\n    // Max value of the axis. can be:\n    // + a number\n    // + 'dataMax': use the max value in data.\n    // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n    // max: null,\n    // Readonly prop, specifies start value of the range when using data zoom.\n    // rangeStart: null\n    // Readonly prop, specifies end value of the range when using data zoom.\n    // rangeEnd: null\n    // Optional value can be:\n    // + `false`: always include value 0.\n    // + `true`: the extent do not consider value 0.\n    // scale: false,\n    // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n    splitNumber: 5,\n    // Interval specifies the span of the ticks is mandatorily.\n    // interval: null\n    // Specify min interval when auto calculate tick interval.\n    // minInterval: null\n    // Specify max interval when auto calculate tick interval.\n    // maxInterval: null\n    minorTick: {\n      // Minor tick, not available for cateogry axis.\n      show: false,\n      // Split number of minor ticks. The value should be in range of (0, 100)\n      splitNumber: 5,\n      // Lenght of minor tick\n      length: 3,\n      // Same inside with axisTick\n      // Line style\n      lineStyle: {// Default to be same with axisTick\n      }\n    },\n    minorSplitLine: {\n      show: false,\n      lineStyle: {\n        color: '#eee',\n        width: 1\n      }\n    }\n  }, defaultOption);\n  axisDefault.timeAxis = util.defaults({\n    scale: true,\n    min: 'dataMin',\n    max: 'dataMax'\n  }, axisDefault.valueAxis);\n  axisDefault.logAxis = util.defaults({\n    scale: true,\n    logBase: 10\n  }, axisDefault.valueAxis);\n  var _default$1H = axisDefault;\n  var axisDefault_1 = _default$1H;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var getLayoutParams$2 = layout.getLayoutParams;\n  var mergeLayoutParam$2 = layout.mergeLayoutParam;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME axisType is fixed ?\n  var AXIS_TYPES = ['value', 'category', 'time', 'log'];\n  /**\n   * Generate sub axis model class\n   * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n   * @param {module:echarts/model/Component} BaseAxisModelClass\n   * @param {Function} axisTypeDefaulter\n   * @param {Object} [extraDefaultOption]\n   */\n\n  function _default$1I(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n    util.each(AXIS_TYPES, function (axisType) {\n      BaseAxisModelClass.extend({\n        /**\n         * @readOnly\n         */\n        type: axisName + 'Axis.' + axisType,\n        mergeDefaultAndTheme: function (option, ecModel) {\n          var layoutMode = this.layoutMode;\n          var inputPositionParams = layoutMode ? getLayoutParams$2(option) : {};\n          var themeModel = ecModel.getTheme();\n          util.merge(option, themeModel.get(axisType + 'Axis'));\n          util.merge(option, this.getDefaultOption());\n          option.type = axisTypeDefaulter(axisName, option);\n\n          if (layoutMode) {\n            mergeLayoutParam$2(option, inputPositionParams, layoutMode);\n          }\n        },\n\n        /**\n         * @override\n         */\n        optionUpdated: function () {\n          var thisOption = this.option;\n\n          if (thisOption.type === 'category') {\n            this.__ordinalMeta = OrdinalMeta_1.createByAxisModel(this);\n          }\n        },\n\n        /**\n         * Should not be called before all of 'getInitailData' finished.\n         * Because categories are collected during initializing data.\n         */\n        getCategories: function (rawData) {\n          var option = this.option; // FIXME\n          // warning if called before all of 'getInitailData' finished.\n\n          if (option.type === 'category') {\n            if (rawData) {\n              return option.data;\n            }\n\n            return this.__ordinalMeta.categories;\n          }\n        },\n        getOrdinalMeta: function () {\n          return this.__ordinalMeta;\n        },\n        defaultOption: util.mergeAll([{}, axisDefault_1[axisType + 'Axis'], extraDefaultOption], true)\n      });\n    });\n    Component.registerSubTypeDefaulter(axisName + 'Axis', util.curry(axisTypeDefaulter, axisName));\n  }\n\n  var axisModelCreator = _default$1I;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisModel = Component.extend({\n    type: 'cartesian2dAxis',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Axis2D}\n     */\n    axis: null,\n\n    /**\n     * @override\n     */\n    init: function () {\n      AxisModel.superApply(this, 'init', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    mergeOption: function () {\n      AxisModel.superApply(this, 'mergeOption', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     */\n    restoreData: function () {\n      AxisModel.superApply(this, 'restoreData', arguments);\n      this.resetRange();\n    },\n\n    /**\n     * @override\n     * @return {module:echarts/model/Component}\n     */\n    getCoordSysModel: function () {\n      return this.ecModel.queryComponents({\n        mainType: 'grid',\n        index: this.option.gridIndex,\n        id: this.option.gridId\n      })[0];\n    }\n  });\n\n  function getAxisType(axisDim, option) {\n    // Default axis with data is category axis\n    return option.type || (option.data ? 'category' : 'value');\n  }\n\n  util.merge(AxisModel.prototype, axisModelCommonMixin);\n  var extraOption = {\n    // gridIndex: 0,\n    // gridId: '',\n    // Offset is for multiple axis on the same position\n    offset: 0\n  };\n  axisModelCreator('x', AxisModel, getAxisType, extraOption);\n  axisModelCreator('y', AxisModel, getAxisType, extraOption);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Grid \n  //  Cartesian2D \n  var _default$1J = Component.extend({\n    type: 'grid',\n    dependencies: ['xAxis', 'yAxis'],\n    layoutMode: 'box',\n\n    /**\n     * @type {module:echarts/coord/cartesian/Grid}\n     */\n    coordinateSystem: null,\n    defaultOption: {\n      show: false,\n      zlevel: 0,\n      z: 0,\n      left: '10%',\n      top: 60,\n      right: '10%',\n      bottom: 60,\n      // If grid size contain label\n      containLabel: false,\n      // width: {totalWidth} - left - right,\n      // height: {totalHeight} - top - bottom,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    }\n  });\n\n  var isObject$f = util.isObject;\n  var each$k = util.each;\n  var map$9 = util.map;\n  var indexOf$4 = util.indexOf;\n\n\n\n  var getLayoutRect$1 = layout.getLayoutRect;\n\n\n\n  var createScaleByModel$1 = axisHelper.createScaleByModel;\n  var ifAxisCrossZero$1 = axisHelper.ifAxisCrossZero;\n  var niceScaleExtent$1 = axisHelper.niceScaleExtent;\n  var estimateLabelUnionRect$1 = axisHelper.estimateLabelUnionRect;\n\n\n\n\n\n\n\n\n\n  var getStackedDimension$2 = dataStackHelper.getStackedDimension;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Grid is a region which contains at most 4 cartesian systems\n   *\n   * TODO Default cartesian\n   */\n  // Depends on GridModel, AxisModel, which performs preprocess.\n\n  /**\n   * Check if the axis is used in the specified grid\n   * @inner\n   */\n  function isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n    return axisModel.getCoordSysModel() === gridModel;\n  }\n\n  function Grid(gridModel, ecModel, api) {\n    /**\n     * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n     * @private\n     */\n    this._coordsMap = {};\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n     * @private\n     */\n\n    this._coordsList = [];\n    /**\n     * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n     * @private\n     */\n\n    this._axesMap = {};\n    /**\n     * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n     * @private\n     */\n\n    this._axesList = [];\n\n    this._initCartesian(gridModel, ecModel, api);\n\n    this.model = gridModel;\n  }\n\n  var gridProto = Grid.prototype;\n  gridProto.type = 'grid';\n  gridProto.axisPointerEnabled = true;\n\n  gridProto.getRect = function () {\n    return this._rect;\n  };\n\n  gridProto.update = function (ecModel, api) {\n    var axesMap = this._axesMap;\n\n    this._updateScale(ecModel, this.model);\n\n    each$k(axesMap.x, function (xAxis) {\n      niceScaleExtent$1(xAxis.scale, xAxis.model);\n    });\n    each$k(axesMap.y, function (yAxis) {\n      niceScaleExtent$1(yAxis.scale, yAxis.model);\n    }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n    var onZeroRecords = {};\n    each$k(axesMap.x, function (xAxis) {\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n    });\n    each$k(axesMap.y, function (yAxis) {\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n    }); // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n\n    this.resize(this.model, api);\n  };\n\n  function fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n    axis.getAxesOnZeroOf = function () {\n      // TODO: onZero of multiple axes.\n      return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n    }; // onZero can not be enabled in these two situations:\n    // 1. When any other axis is a category axis.\n    // 2. When no axis is cross 0 point.\n\n\n    var otherAxes = axesMap[otherAxisDim];\n    var otherAxisOnZeroOf;\n    var axisModel = axis.model;\n    var onZero = axisModel.get('axisLine.onZero');\n    var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n    if (!onZero) {\n      return;\n    } // If target axis is specified.\n\n\n    if (onZeroAxisIndex != null) {\n      if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n        otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n      }\n    } else {\n      // Find the first available other axis.\n      for (var idx in otherAxes) {\n        if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n        // if both onZero, the two Y axes overlap.\n        && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n          otherAxisOnZeroOf = otherAxes[idx];\n          break;\n        }\n      }\n    }\n\n    if (otherAxisOnZeroOf) {\n      onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n    }\n\n    function getOnZeroRecordKey(axis) {\n      return axis.dim + '_' + axis.index;\n    }\n  }\n\n  function canOnZeroToAxis(axis) {\n    return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero$1(axis);\n  }\n  /**\n   * Resize the grid\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n\n  gridProto.resize = function (gridModel, api, ignoreContainLabel) {\n    var gridRect = getLayoutRect$1(gridModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._rect = gridRect;\n    var axesList = this._axesList;\n    adjustAxes(); // Minus label size\n\n    if (!ignoreContainLabel && gridModel.get('containLabel')) {\n      each$k(axesList, function (axis) {\n        if (!axis.model.get('axisLabel.inside')) {\n          var labelUnionRect = estimateLabelUnionRect$1(axis);\n\n          if (labelUnionRect) {\n            var dim = axis.isHorizontal() ? 'height' : 'width';\n            var margin = axis.model.get('axisLabel.margin');\n            gridRect[dim] -= labelUnionRect[dim] + margin;\n\n            if (axis.position === 'top') {\n              gridRect.y += labelUnionRect.height + margin;\n            } else if (axis.position === 'left') {\n              gridRect.x += labelUnionRect.width + margin;\n            }\n          }\n        }\n      });\n      adjustAxes();\n    }\n\n    function adjustAxes() {\n      each$k(axesList, function (axis) {\n        var isHorizontal = axis.isHorizontal();\n        var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n        var idx = axis.inverse ? 1 : 0;\n        axis.setExtent(extent[idx], extent[1 - idx]);\n        updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n      });\n    }\n  };\n  /**\n   * @param {string} axisType\n   * @param {number} [axisIndex]\n   */\n\n\n  gridProto.getAxis = function (axisType, axisIndex) {\n    var axesMapOnDim = this._axesMap[axisType];\n\n    if (axesMapOnDim != null) {\n      if (axisIndex == null) {\n        // Find first axis\n        for (var name in axesMapOnDim) {\n          if (axesMapOnDim.hasOwnProperty(name)) {\n            return axesMapOnDim[name];\n          }\n        }\n      }\n\n      return axesMapOnDim[axisIndex];\n    }\n  };\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n\n\n  gridProto.getAxes = function () {\n    return this._axesList.slice();\n  };\n  /**\n   * Usage:\n   *      grid.getCartesian(xAxisIndex, yAxisIndex);\n   *      grid.getCartesian(xAxisIndex);\n   *      grid.getCartesian(null, yAxisIndex);\n   *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n   *\n   * @param {number|Object} [xAxisIndex]\n   * @param {number} [yAxisIndex]\n   */\n\n\n  gridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      return this._coordsMap[key];\n    }\n\n    if (isObject$f(xAxisIndex)) {\n      yAxisIndex = xAxisIndex.yAxisIndex;\n      xAxisIndex = xAxisIndex.xAxisIndex;\n    } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n        return coordList[i];\n      }\n    }\n  };\n\n  gridProto.getCartesians = function () {\n    return this._coordsList.slice();\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(ecModel, finder);\n\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n  };\n  /**\n   * @inner\n   */\n\n\n  gridProto._findConvertTarget = function (ecModel, finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n\n    if (seriesModel) {\n      cartesian = seriesModel.coordinateSystem;\n      indexOf$4(coordsList, cartesian) < 0 && (cartesian = null);\n    } else if (xAxisModel && yAxisModel) {\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    } else if (xAxisModel) {\n      axis = this.getAxis('x', xAxisModel.componentIndex);\n    } else if (yAxisModel) {\n      axis = this.getAxis('y', yAxisModel.componentIndex);\n    } // Lowest priority.\n    else if (gridModel) {\n        var grid = gridModel.coordinateSystem;\n\n        if (grid === this) {\n          cartesian = this._coordsList[0];\n        }\n      }\n\n    return {\n      cartesian: cartesian,\n      axis: axis\n    };\n  };\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n\n\n  gridProto.containPoint = function (point) {\n    var coord = this._coordsList[0];\n\n    if (coord) {\n      return coord.containPoint(point);\n    }\n  };\n  /**\n   * Initialize cartesian coordinate systems\n   * @private\n   */\n\n\n  gridProto._initCartesian = function (gridModel, ecModel, api) {\n    var axisPositionUsed = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var axesMap = {\n      x: {},\n      y: {}\n    };\n    var axesCount = {\n      x: 0,\n      y: 0\n    }; /// Create axis\n\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n    if (!axesCount.x || !axesCount.y) {\n      // Roll back when there no either x or y axis\n      this._axesMap = {};\n      this._axesList = [];\n      return;\n    }\n\n    this._axesMap = axesMap; /// Create cartesian2d\n\n    each$k(axesMap.x, function (xAxis, xAxisIndex) {\n      each$k(axesMap.y, function (yAxis, yAxisIndex) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        var cartesian = new Cartesian2D_1(key);\n        cartesian.grid = this;\n        cartesian.model = gridModel;\n        this._coordsMap[key] = cartesian;\n\n        this._coordsList.push(cartesian);\n\n        cartesian.addAxis(xAxis);\n        cartesian.addAxis(yAxis);\n      }, this);\n    }, this);\n\n    function createAxisCreator(axisType) {\n      return function (axisModel, idx) {\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\n          return;\n        }\n\n        var axisPosition = axisModel.get('position');\n\n        if (axisType === 'x') {\n          // Fix position\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n            // Default bottom of X\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n          }\n        } else {\n          // Fix position\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\n            // Default left of Y\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\n          }\n        }\n\n        axisPositionUsed[axisPosition] = true;\n        var axis = new Axis2D_1(axisType, createScaleByModel$1(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n        axisModel.axis = axis; // Inject axisModel into axis\n\n        axis.model = axisModel; // Inject grid info axis\n\n        axis.grid = this; // Index of axis, can be used as key\n\n        axis.index = idx;\n\n        this._axesList.push(axis);\n\n        axesMap[axisType][idx] = axis;\n        axesCount[axisType]++;\n      };\n    }\n  };\n  /**\n   * Update cartesian properties from series\n   * @param  {module:echarts/model/Option} option\n   * @private\n   */\n\n\n  gridProto._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each$k(this._axesList, function (axis) {\n      axis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (isCartesian2D(seriesModel)) {\n        var axesModels = findAxesModels(seriesModel);\n        var xAxisModel = axesModels[0];\n        var yAxisModel = axesModels[1];\n\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\n          return;\n        }\n\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n        var data = seriesModel.getData();\n        var xAxis = cartesian.getAxis('x');\n        var yAxis = cartesian.getAxis('y');\n\n        if (data.type === 'list') {\n          unionExtent(data, xAxis);\n          unionExtent(data, yAxis);\n        }\n      }\n    }, this);\n\n    function unionExtent(data, axis, seriesModel) {\n      each$k(data.mapDimension(axis.dim, true), function (dim) {\n        axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n        // is [0.1, 0.5], the extent of the `stackResultDimension`\n        // is [7, 9], the final extent should not include [0.1, 0.5].\n        data, getStackedDimension$2(data, dim));\n      });\n    }\n  };\n  /**\n   * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n\n\n  gridProto.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n    each$k(this.getCartesians(), function (cartesian) {\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\n      indexOf$4(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n      indexOf$4(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n    return {\n      baseAxes: baseAxes,\n      otherAxes: otherAxes\n    };\n  };\n  /**\n   * @inner\n   */\n\n\n  function updateAxisTransform(axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n    axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return axisExtentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return axisExtentSum - coord + coordBase;\n    };\n  }\n\n  var axesTypes = ['xAxis', 'yAxis'];\n  /**\n   * @inner\n   */\n\n  function findAxesModels(seriesModel, ecModel) {\n    return map$9(axesTypes, function (axisType) {\n      var axisModel = seriesModel.getReferringComponents(axisType)[0];\n      return axisModel;\n    });\n  }\n  /**\n   * @inner\n   */\n\n\n  function isCartesian2D(seriesModel) {\n    return seriesModel.get('coordinateSystem') === 'cartesian2d';\n  }\n\n  Grid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n      var grid = new Grid(gridModel, ecModel, api);\n      grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n      // should be performed in create stage.\n\n      grid.resize(gridModel, api, true);\n      gridModel.coordinateSystem = grid;\n      grids.push(grid);\n    }); // Inject the coordinateSystems into seriesModel\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (!isCartesian2D(seriesModel)) {\n        return;\n      }\n\n      var axesModels = findAxesModels(seriesModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n      var gridModel = xAxisModel.getCoordSysModel();\n      var grid = gridModel.coordinateSystem;\n      seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    });\n    return grids;\n  }; // For deciding which dimensions to use when creating list data\n\n\n  Grid.dimensions = Grid.prototype.dimensions = Cartesian2D_1.prototype.dimensions;\n  CoordinateSystem.register('cartesian2d', Grid);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var retrieve$1 = util.retrieve;\n  var defaults$3 = util.defaults;\n  var extend$9 = util.extend;\n  var each$l = util.each;\n\n\n\n\n\n\n\n\n\n  var isRadianAroundZero$1 = number.isRadianAroundZero;\n  var remRadian$1 = number.remRadian;\n\n\n\n  var createSymbol$3 = symbol.createSymbol;\n\n\n\n\n\n  var v2ApplyTransform$2 = vector.applyTransform;\n\n\n\n  var shouldShowAllLabels$2 = axisHelper.shouldShowAllLabels;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI$2 = Math.PI;\n  /**\n   * A final axis is translated and rotated from a \"standard axis\".\n   * So opt.position and opt.rotation is required.\n   *\n   * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n   * for example: (0, 0) ------------> (0, 50)\n   *\n   * nameDirection or tickDirection or labelDirection is 1 means tick\n   * or label is below the standard axis, whereas is -1 means above\n   * the standard axis. labelOffset means offset between label and axis,\n   * which is useful when 'onZero', where axisLabel is in the grid and\n   * label in outside grid.\n   *\n   * Tips: like always,\n   * positive rotation represents anticlockwise, and negative rotation\n   * represents clockwise.\n   * The direction of position coordinate is the same as the direction\n   * of screen coordinate.\n   *\n   * Do not need to consider axis 'inverse', which is auto processed by\n   * axis extent.\n   *\n   * @param {module:zrender/container/Group} group\n   * @param {Object} axisModel\n   * @param {Object} opt Standard axis parameters.\n   * @param {Array.<number>} opt.position [x, y]\n   * @param {number} opt.rotation by radian\n   * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n   * @param {number} [opt.tickDirection=1] 1 or -1\n   * @param {number} [opt.labelDirection=1] 1 or -1\n   * @param {number} [opt.labelOffset=0] Usefull when onZero.\n   * @param {string} [opt.axisLabelShow] default get from axisModel.\n   * @param {string} [opt.axisName] default get from axisModel.\n   * @param {number} [opt.axisNameAvailableWidth]\n   * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n   * @param {number} [opt.strokeContainThreshold] Default label interval when label\n   * @param {number} [opt.nameTruncateMaxWidth]\n   */\n\n  var AxisBuilder = function (axisModel, opt) {\n    /**\n     * @readOnly\n     */\n    this.opt = opt;\n    /**\n     * @readOnly\n     */\n\n    this.axisModel = axisModel; // Default value\n\n    defaults$3(opt, {\n      labelOffset: 0,\n      nameDirection: 1,\n      tickDirection: 1,\n      labelDirection: 1,\n      silent: true\n    });\n    /**\n     * @readOnly\n     */\n\n    this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n    var dumbGroup = new graphic.Group({\n      position: opt.position.slice(),\n      rotation: opt.rotation\n    }); // this.group.add(dumbGroup);\n    // this._dumbGroup = dumbGroup;\n\n    dumbGroup.updateTransform();\n    this._transform = dumbGroup.transform;\n    this._dumbGroup = dumbGroup;\n  };\n\n  AxisBuilder.prototype = {\n    constructor: AxisBuilder,\n    hasBuilder: function (name) {\n      return !!builders[name];\n    },\n    add: function (name) {\n      builders[name].call(this);\n    },\n    getGroup: function () {\n      return this.group;\n    }\n  };\n  var builders = {\n    /**\n     * @private\n     */\n    axisLine: function () {\n      var opt = this.opt;\n      var axisModel = this.axisModel;\n\n      if (!axisModel.get('axisLine.show')) {\n        return;\n      }\n\n      var extent = this.axisModel.axis.getExtent();\n      var matrix = this._transform;\n      var pt1 = [extent[0], 0];\n      var pt2 = [extent[1], 0];\n\n      if (matrix) {\n        v2ApplyTransform$2(pt1, pt1, matrix);\n        v2ApplyTransform$2(pt2, pt2, matrix);\n      }\n\n      var lineStyle = extend$9({\n        lineCap: 'round'\n      }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n      this.group.add(new graphic.Line({\n        // Id for animation\n        anid: 'line',\n        subPixelOptimize: true,\n        shape: {\n          x1: pt1[0],\n          y1: pt1[1],\n          x2: pt2[0],\n          y2: pt2[1]\n        },\n        style: lineStyle,\n        strokeContainThreshold: opt.strokeContainThreshold || 5,\n        silent: true,\n        z2: 1\n      }));\n      var arrows = axisModel.get('axisLine.symbol');\n      var arrowSize = axisModel.get('axisLine.symbolSize');\n      var arrowOffset = axisModel.get('axisLine.symbolOffset') || 0;\n\n      if (typeof arrowOffset === 'number') {\n        arrowOffset = [arrowOffset, arrowOffset];\n      }\n\n      if (arrows != null) {\n        if (typeof arrows === 'string') {\n          // Use the same arrow for start and end point\n          arrows = [arrows, arrows];\n        }\n\n        if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n          // Use the same size for width and height\n          arrowSize = [arrowSize, arrowSize];\n        }\n\n        var symbolWidth = arrowSize[0];\n        var symbolHeight = arrowSize[1];\n        each$l([{\n          rotate: opt.rotation + Math.PI / 2,\n          offset: arrowOffset[0],\n          r: 0\n        }, {\n          rotate: opt.rotation - Math.PI / 2,\n          offset: arrowOffset[1],\n          r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n        }], function (point, index) {\n          if (arrows[index] !== 'none' && arrows[index] != null) {\n            var symbol = createSymbol$3(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true); // Calculate arrow position with offset\n\n            var r = point.r + point.offset;\n            var pos = [pt1[0] + r * Math.cos(opt.rotation), pt1[1] - r * Math.sin(opt.rotation)];\n            symbol.attr({\n              rotation: point.rotate,\n              position: pos,\n              silent: true,\n              z2: 11\n            });\n            this.group.add(symbol);\n          }\n        }, this);\n      }\n    },\n\n    /**\n     * @private\n     */\n    axisTickLabel: function () {\n      var axisModel = this.axisModel;\n      var opt = this.opt;\n      var ticksEls = buildAxisMajorTicks(this, axisModel, opt);\n      var labelEls = buildAxisLabel(this, axisModel, opt);\n      fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n      buildAxisMinorTicks(this, axisModel, opt);\n    },\n\n    /**\n     * @private\n     */\n    axisName: function () {\n      var opt = this.opt;\n      var axisModel = this.axisModel;\n      var name = retrieve$1(opt.axisName, axisModel.get('name'));\n\n      if (!name) {\n        return;\n      }\n\n      var nameLocation = axisModel.get('nameLocation');\n      var nameDirection = opt.nameDirection;\n      var textStyleModel = axisModel.getModel('nameTextStyle');\n      var gap = axisModel.get('nameGap') || 0;\n      var extent = this.axisModel.axis.getExtent();\n      var gapSignal = extent[0] > extent[1] ? -1 : 1;\n      var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n      // Reuse labelOffset.\n      isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n      var labelLayout;\n      var nameRotation = axisModel.get('nameRotate');\n\n      if (nameRotation != null) {\n        nameRotation = nameRotation * PI$2 / 180; // To radian.\n      }\n\n      var axisNameAvailableWidth;\n\n      if (isNameLocationCenter(nameLocation)) {\n        labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n        nameDirection);\n      } else {\n        labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n        axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n        if (axisNameAvailableWidth != null) {\n          axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n          !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n        }\n      }\n\n      var textFont = textStyleModel.getFont();\n      var truncateOpt = axisModel.get('nameTruncate', true) || {};\n      var ellipsis = truncateOpt.ellipsis;\n      var maxWidth = retrieve$1(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n      // truncate rich text? (consider performance)\n\n      var truncatedText = ellipsis != null && maxWidth != null ? format$1.truncateText(name, maxWidth, textFont, ellipsis, {\n        minChar: 2,\n        placeholder: truncateOpt.placeholder\n      }) : name;\n      var tooltipOpt = axisModel.get('tooltip', true);\n      var mainType = axisModel.mainType;\n      var formatterParams = {\n        componentType: mainType,\n        name: name,\n        $vars: ['name']\n      };\n      formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n      var textEl = new graphic.Text({\n        // Id for animation\n        anid: 'name',\n        __fullText: name,\n        __truncatedText: truncatedText,\n        position: pos,\n        rotation: labelLayout.rotation,\n        silent: isLabelSilent(axisModel),\n        z2: 1,\n        tooltip: tooltipOpt && tooltipOpt.show ? extend$9({\n          content: name,\n          formatter: function () {\n            return name;\n          },\n          formatterParams: formatterParams\n        }, tooltipOpt) : null\n      });\n      graphic.setTextStyle(textEl.style, textStyleModel, {\n        text: truncatedText,\n        textFont: textFont,\n        textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n        textAlign: textStyleModel.get('align') || labelLayout.textAlign,\n        textVerticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n      });\n\n      if (axisModel.get('triggerEvent')) {\n        textEl.eventData = makeAxisEventDataBase(axisModel);\n        textEl.eventData.targetType = 'axisName';\n        textEl.eventData.name = name;\n      } // FIXME\n\n\n      this._dumbGroup.add(textEl);\n\n      textEl.updateTransform();\n      this.group.add(textEl);\n      textEl.decomposeTransform();\n    }\n  };\n\n  var makeAxisEventDataBase = AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n    var eventData = {\n      componentType: axisModel.mainType,\n      componentIndex: axisModel.componentIndex\n    };\n    eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n    return eventData;\n  };\n  /**\n   * @public\n   * @static\n   * @param {Object} opt\n   * @param {number} axisRotation in radian\n   * @param {number} textRotation in radian\n   * @param {number} direction\n   * @return {Object} {\n   *  rotation, // according to axis\n   *  textAlign,\n   *  textVerticalAlign\n   * }\n   */\n\n\n  var innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n    var rotationDiff = remRadian$1(textRotation - axisRotation);\n    var textAlign;\n    var textVerticalAlign;\n\n    if (isRadianAroundZero$1(rotationDiff)) {\n      // Label is parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else if (isRadianAroundZero$1(rotationDiff - PI$2)) {\n      // Label is inverse parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n\n      if (rotationDiff > 0 && rotationDiff < PI$2) {\n        textAlign = direction > 0 ? 'right' : 'left';\n      } else {\n        textAlign = direction > 0 ? 'left' : 'right';\n      }\n    }\n\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  };\n\n  function endTextLayout(opt, textPosition, textRotate, extent) {\n    var rotationDiff = remRadian$1(textRotate - opt.rotation);\n    var textAlign;\n    var textVerticalAlign;\n    var inverse = extent[0] > extent[1];\n    var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n    if (isRadianAroundZero$1(rotationDiff - PI$2 / 2)) {\n      textVerticalAlign = onLeft ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else if (isRadianAroundZero$1(rotationDiff - PI$2 * 1.5)) {\n      textVerticalAlign = onLeft ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n\n      if (rotationDiff < PI$2 * 1.5 && rotationDiff > PI$2 / 2) {\n        textAlign = onLeft ? 'left' : 'right';\n      } else {\n        textAlign = onLeft ? 'right' : 'left';\n      }\n    }\n\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  }\n\n  var isLabelSilent = AxisBuilder.isLabelSilent = function (axisModel) {\n    var tooltipOpt = axisModel.get('tooltip');\n    return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n    || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n  };\n\n  function fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n    if (shouldShowAllLabels$2(axisModel.axis)) {\n      return;\n    } // If min or max are user set, we need to check\n    // If the tick on min(max) are overlap on their neighbour tick\n    // If they are overlapped, we need to hide the min(max) tick label\n\n\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n    // Have not consider onBand yet, where tick els is more than label els.\n\n    labelEls = labelEls || [];\n    tickEls = tickEls || [];\n    var firstLabel = labelEls[0];\n    var nextLabel = labelEls[1];\n    var lastLabel = labelEls[labelEls.length - 1];\n    var prevLabel = labelEls[labelEls.length - 2];\n    var firstTick = tickEls[0];\n    var nextTick = tickEls[1];\n    var lastTick = tickEls[tickEls.length - 1];\n    var prevTick = tickEls[tickEls.length - 2];\n\n    if (showMinLabel === false) {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n      if (showMinLabel) {\n        ignoreEl(nextLabel);\n        ignoreEl(nextTick);\n      } else {\n        ignoreEl(firstLabel);\n        ignoreEl(firstTick);\n      }\n    }\n\n    if (showMaxLabel === false) {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n      if (showMaxLabel) {\n        ignoreEl(prevLabel);\n        ignoreEl(prevTick);\n      } else {\n        ignoreEl(lastLabel);\n        ignoreEl(lastTick);\n      }\n    }\n  }\n\n  function ignoreEl(el) {\n    el && (el.ignore = true);\n  }\n\n  function isTwoLabelOverlapped(current, next, labelLayout) {\n    // current and next has the same rotation.\n    var firstRect = current && current.getBoundingRect().clone();\n    var nextRect = next && next.getBoundingRect().clone();\n\n    if (!firstRect || !nextRect) {\n      return;\n    } // When checking intersect of two rotated labels, we use mRotationBack\n    // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n    var mRotationBack = matrix.identity([]);\n    matrix.rotate(mRotationBack, mRotationBack, -current.rotation);\n    firstRect.applyTransform(matrix.mul([], mRotationBack, current.getLocalTransform()));\n    nextRect.applyTransform(matrix.mul([], mRotationBack, next.getLocalTransform()));\n    return firstRect.intersect(nextRect);\n  }\n\n  function isNameLocationCenter(nameLocation) {\n    return nameLocation === 'middle' || nameLocation === 'center';\n  }\n\n  function createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, aniid) {\n    var tickEls = [];\n    var pt1 = [];\n    var pt2 = [];\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = ticksCoords[i].coord;\n      pt1[0] = tickCoord;\n      pt1[1] = 0;\n      pt2[0] = tickCoord;\n      pt2[1] = tickEndCoord;\n\n      if (tickTransform) {\n        v2ApplyTransform$2(pt1, pt1, tickTransform);\n        v2ApplyTransform$2(pt2, pt2, tickTransform);\n      } // Tick line, Not use group transform to have better line draw\n\n\n      var tickEl = new graphic.Line({\n        // Id for animation\n        anid: aniid + '_' + ticksCoords[i].tickValue,\n        subPixelOptimize: true,\n        shape: {\n          x1: pt1[0],\n          y1: pt1[1],\n          x2: pt2[0],\n          y2: pt2[1]\n        },\n        style: tickLineStyle,\n        z2: 2,\n        silent: true\n      });\n      tickEls.push(tickEl);\n    }\n\n    return tickEls;\n  }\n\n  function buildAxisMajorTicks(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var tickModel = axisModel.getModel('axisTick');\n\n    if (!tickModel.get('show') || axis.scale.isBlank()) {\n      return;\n    }\n\n    var lineStyleModel = tickModel.getModel('lineStyle');\n    var tickEndCoord = opt.tickDirection * tickModel.get('length');\n    var ticksCoords = axis.getTicksCoords();\n    var ticksEls = createTicks(ticksCoords, axisBuilder._transform, tickEndCoord, defaults$3(lineStyleModel.getLineStyle(), {\n      stroke: axisModel.get('axisLine.lineStyle.color')\n    }), 'ticks');\n\n    for (var i = 0; i < ticksEls.length; i++) {\n      axisBuilder.group.add(ticksEls[i]);\n    }\n\n    return ticksEls;\n  }\n\n  function buildAxisMinorTicks(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var minorTickModel = axisModel.getModel('minorTick');\n\n    if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n      return;\n    }\n\n    var minorTicksCoords = axis.getMinorTicksCoords();\n\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var lineStyleModel = minorTickModel.getModel('lineStyle');\n    var tickEndCoord = opt.tickDirection * minorTickModel.get('length');\n    var minorTickLineStyle = defaults$3(lineStyleModel.getLineStyle(), defaults$3(axisModel.getModel('axisTick').getLineStyle(), {\n      stroke: axisModel.get('axisLine.lineStyle.color')\n    }));\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      var minorTicksEls = createTicks(minorTicksCoords[i], axisBuilder._transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n\n      for (var k = 0; k < minorTicksEls.length; k++) {\n        axisBuilder.group.add(minorTicksEls[k]);\n      }\n    }\n  }\n\n  function buildAxisLabel(axisBuilder, axisModel, opt) {\n    var axis = axisModel.axis;\n    var show = retrieve$1(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n    if (!show || axis.scale.isBlank()) {\n      return;\n    }\n\n    var labelModel = axisModel.getModel('axisLabel');\n    var labelMargin = labelModel.get('margin');\n    var labels = axis.getViewLabels(); // Special label rotate.\n\n    var labelRotation = (retrieve$1(opt.labelRotate, labelModel.get('rotate')) || 0) * PI$2 / 180;\n    var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n    var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n    var labelEls = [];\n    var silent = isLabelSilent(axisModel);\n    var triggerEvent = axisModel.get('triggerEvent');\n    each$l(labels, function (labelItem, index) {\n      var tickValue = labelItem.tickValue;\n      var formattedLabel = labelItem.formattedLabel;\n      var rawLabel = labelItem.rawLabel;\n      var itemLabelModel = labelModel;\n\n      if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n        itemLabelModel = new Model_1(rawCategoryData[tickValue].textStyle, labelModel, axisModel.ecModel);\n      }\n\n      var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n      var tickCoord = axis.dataToCoord(tickValue);\n      var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n      var textEl = new graphic.Text({\n        // Id for animation\n        anid: 'label_' + tickValue,\n        position: pos,\n        rotation: labelLayout.rotation,\n        silent: silent,\n        z2: 10\n      });\n      graphic.setTextStyle(textEl.style, itemLabelModel, {\n        text: formattedLabel,\n        textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n        textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n        textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n        // index of axis.data. So tick should not be exposed to user\n        // in category axis.\n        // (2) Compatible with previous version, which always use formatted label as\n        // input. But in interval scale the formatted label is like '223,445', which\n        // maked user repalce ','. So we modify it to return original val but remain\n        // it as 'string' to avoid error in replacing.\n        axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n      }); // Pack data for mouse event\n\n      if (triggerEvent) {\n        textEl.eventData = makeAxisEventDataBase(axisModel);\n        textEl.eventData.targetType = 'axisLabel';\n        textEl.eventData.value = rawLabel;\n      } // FIXME\n\n\n      axisBuilder._dumbGroup.add(textEl);\n\n      textEl.updateTransform();\n      labelEls.push(textEl);\n      axisBuilder.group.add(textEl);\n      textEl.decomposeTransform();\n    });\n    return labelEls;\n  }\n\n  var _default$1K = AxisBuilder;\n  var AxisBuilder_1 = _default$1K;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$m = util.each;\n  var curry$1 = util.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n\n  function collect(ecModel, api) {\n    var result = {\n      /**\n       * key: makeKey(axis.model)\n       * value: {\n       *      axis,\n       *      coordSys,\n       *      axisPointerModel,\n       *      triggerTooltip,\n       *      involveSeries,\n       *      snap,\n       *      seriesModels,\n       *      seriesDataCount\n       * }\n       */\n      axesInfo: {},\n      seriesInvolved: false,\n\n      /**\n       * key: makeKey(coordSys.model)\n       * value: Object: key makeKey(axis.model), value: axisInfo\n       */\n      coordSysAxesInfo: {},\n      coordSysMap: {}\n    };\n    collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n    result.seriesInvolved && collectSeriesInfo(result, ecModel);\n    return result;\n  }\n\n  function collectAxesInfo(result, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n    var linksOption = globalAxisPointerModel.get('link', true) || [];\n    var linkGroups = []; // Collect axes info.\n\n    each$m(api.getCoordinateSystems(), function (coordSys) {\n      // Some coordinate system do not support axes, like geo.\n      if (!coordSys.axisPointerEnabled) {\n        return;\n      }\n\n      var coordSysKey = makeKey(coordSys.model);\n      var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n      result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n      // for user. So we enable seting tooltip on coordSys model.\n\n      var coordSysModel = coordSys.model;\n      var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n      each$m(coordSys.getAxes(), curry$1(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n      // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n      if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n      // show but axisPointer will show as normal.\n      && baseTooltipModel.get('show')) {\n        // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n        // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n        var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n        var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n        var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n        if (triggerAxis || cross) {\n          each$m(tooltipAxes.baseAxes, curry$1(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n        }\n\n        if (cross) {\n          each$m(tooltipAxes.otherAxes, curry$1(saveTooltipAxisInfo, 'cross', false));\n        }\n      } // fromTooltip: true | false | 'cross'\n      // triggerTooltip: true | false | null\n\n\n      function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n        var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n        var axisPointerShow = axisPointerModel.get('show');\n\n        if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n          return;\n        }\n\n        if (triggerTooltip == null) {\n          triggerTooltip = axisPointerModel.get('triggerTooltip');\n        }\n\n        axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n        var snap = axisPointerModel.get('snap');\n        var key = makeKey(axis.model);\n        var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n        var axisInfo = result.axesInfo[key] = {\n          key: key,\n          axis: axis,\n          coordSys: coordSys,\n          axisPointerModel: axisPointerModel,\n          triggerTooltip: triggerTooltip,\n          involveSeries: involveSeries,\n          snap: snap,\n          useHandle: isHandleTrigger(axisPointerModel),\n          seriesModels: []\n        };\n        axesInfoInCoordSys[key] = axisInfo;\n        result.seriesInvolved |= involveSeries;\n        var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n        if (groupIndex != null) {\n          var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n            axesInfo: {}\n          });\n          linkGroup.axesInfo[key] = axisInfo;\n          linkGroup.mapper = linksOption[groupIndex].mapper;\n          axisInfo.linkGroup = linkGroup;\n        }\n      }\n    });\n  }\n\n  function makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n    var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n    var volatileOption = {};\n    each$m(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n      volatileOption[field] = util.clone(tooltipAxisPointerModel.get(field));\n    }); // category axis do not auto snap, otherwise some tick that do not\n    // has value can not be hovered. value/time/log axis default snap if\n    // triggered from tooltip and trigger tooltip.\n\n    volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n    // Only these properties can be overrided from tooltip to axisPointer.\n\n    if (tooltipAxisPointerModel.get('type') === 'cross') {\n      volatileOption.type = 'line';\n    }\n\n    var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n    labelOption.show == null && (labelOption.show = false);\n\n    if (fromTooltip === 'cross') {\n      // When 'cross', both axes show labels.\n      var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get('label.show');\n      labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\n      // (cross style is dashed by default)\n\n      if (!triggerTooltip) {\n        var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n        crossStyle && util.defaults(labelOption, crossStyle.textStyle);\n      }\n    }\n\n    return axis.model.getModel('axisPointer', new Model_1(volatileOption, globalAxisPointerModel, ecModel));\n  }\n\n  function collectSeriesInfo(result, ecModel) {\n    // Prepare data for axis trigger\n    ecModel.eachSeries(function (seriesModel) {\n      // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n      var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n      if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n        return;\n      }\n\n      each$m(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n        var axis = axisInfo.axis;\n\n        if (coordSys.getAxis(axis.dim) === axis) {\n          axisInfo.seriesModels.push(seriesModel);\n          axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n          axisInfo.seriesDataCount += seriesModel.getData().count();\n        }\n      });\n    }, this);\n  }\n  /**\n   * For example:\n   * {\n   *     axisPointer: {\n   *         links: [{\n   *             xAxisIndex: [2, 4],\n   *             yAxisIndex: 'all'\n   *         }, {\n   *             xAxisId: ['a5', 'a7'],\n   *             xAxisName: 'xxx'\n   *         }]\n   *     }\n   * }\n   */\n\n\n  function getLinkGroupIndex(linksOption, axis) {\n    var axisModel = axis.model;\n    var dim = axis.dim;\n\n    for (var i = 0; i < linksOption.length; i++) {\n      var linkOption = linksOption[i] || {};\n\n      if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n        return i;\n      }\n    }\n  }\n\n  function checkPropInLink(linkPropValue, axisPropValue) {\n    return linkPropValue === 'all' || util.isArray(linkPropValue) && util.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n  }\n\n  function fixValue(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n\n    if (!axisInfo) {\n      return;\n    }\n\n    var axisPointerModel = axisInfo.axisPointerModel;\n    var scale = axisInfo.axis.scale;\n    var option = axisPointerModel.option;\n    var status = axisPointerModel.get('status');\n    var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n    if (value != null) {\n      value = scale.parse(value);\n    }\n\n    var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n    // and status should be initialized.\n\n    if (status == null) {\n      option.status = useHandle ? 'show' : 'hide';\n    }\n\n    var extent = scale.getExtent().slice();\n    extent[0] > extent[1] && extent.reverse();\n\n    if ( // Pick a value on axis when initializing.\n    value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n    // where we should re-pick a value to keep `handle` displaying normally.\n    || value > extent[1]) {\n      // Make handle displayed on the end of the axis when init, which looks better.\n      value = extent[1];\n    }\n\n    if (value < extent[0]) {\n      value = extent[0];\n    }\n\n    option.value = value;\n\n    if (useHandle) {\n      option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n    }\n  }\n\n  function getAxisInfo(axisModel) {\n    var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n    return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n  }\n\n  function getAxisPointerModel(axisModel) {\n    var axisInfo = getAxisInfo(axisModel);\n    return axisInfo && axisInfo.axisPointerModel;\n  }\n\n  function isHandleTrigger(axisPointerModel) {\n    return !!axisPointerModel.get('handle.show');\n  }\n  /**\n   * @param {module:echarts/model/Model} model\n   * @return {string} unique key\n   */\n\n\n  function makeKey(model) {\n    return model.type + '||' + model.id;\n  }\n\n  var collect_1 = collect;\n  var fixValue_1 = fixValue;\n  var getAxisInfo_1 = getAxisInfo;\n  var getAxisPointerModel_1 = getAxisPointerModel;\n  var makeKey_1 = makeKey;\n\n  var modelHelper = {\n  \tcollect: collect_1,\n  \tfixValue: fixValue_1,\n  \tgetAxisInfo: getAxisInfo_1,\n  \tgetAxisPointerModel: getAxisPointerModel_1,\n  \tmakeKey: makeKey_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Base class of AxisView.\n   */\n  var AxisView = echarts.extendComponentView({\n    type: 'axis',\n\n    /**\n     * @private\n     */\n    _axisPointer: null,\n\n    /**\n     * @protected\n     * @type {string}\n     */\n    axisPointerClass: null,\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n      // FIXME\n      // This process should proformed after coordinate systems updated\n      // (axis scale updated), and should be performed each time update.\n      // So put it here temporarily, although it is not appropriate to\n      // put a model-writing procedure in `view`.\n      this.axisPointerClass && modelHelper.fixValue(axisModel);\n      AxisView.superApply(this, 'render', arguments);\n      updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n    },\n\n    /**\n     * Action handler.\n     * @public\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/model/Global} ecModel\n     * @param {module:echarts/ExtensionAPI} api\n     * @param {Object} payload\n     */\n    updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n      updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n      var axisPointer = this._axisPointer;\n      axisPointer && axisPointer.remove(api);\n      AxisView.superApply(this, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n      disposeAxisPointer(this, api);\n      AxisView.superApply(this, 'dispose', arguments);\n    }\n  });\n\n  function updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n    var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n    if (!Clazz) {\n      return;\n    }\n\n    var axisPointerModel = modelHelper.getAxisPointerModel(axisModel);\n    axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n  }\n\n  function disposeAxisPointer(axisView, ecModel, api) {\n    var axisPointer = axisView._axisPointer;\n    axisPointer && axisPointer.dispose(ecModel, api);\n    axisView._axisPointer = null;\n  }\n\n  var axisPointerClazz = [];\n\n  AxisView.registerAxisPointerClass = function (type, clazz) {\n    axisPointerClazz[type] = clazz;\n  };\n\n  AxisView.getAxisPointerClass = function (type) {\n    return type && axisPointerClazz[type];\n  };\n\n  var _default$1L = AxisView;\n  var AxisView_1 = _default$1L;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Can only be called after coordinate system creation stage.\n   * (Can be called before coordinate system update stage).\n   *\n   * @param {Object} opt {labelInside}\n   * @return {Object} {\n   *  position, rotation, labelDirection, labelOffset,\n   *  tickDirection, labelRotate, z2\n   * }\n   */\n  function layout$2(gridModel, axisModel, opt) {\n    opt = opt || {};\n    var grid = gridModel.coordinateSystem;\n    var axis = axisModel.axis;\n    var layout = {};\n    var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n    var rawAxisPosition = axis.position;\n    var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n    var axisDim = axis.dim;\n    var rect = grid.getRect();\n    var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n    var idx = {\n      left: 0,\n      right: 1,\n      top: 0,\n      bottom: 1,\n      onZero: 2\n    };\n    var axisOffset = axisModel.get('offset') || 0;\n    var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n    if (otherAxisOnZeroOf) {\n      var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n      posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n    } // Axis position\n\n\n    layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n    layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n    var dirMap = {\n      top: -1,\n      bottom: 1,\n      left: -1,\n      right: 1\n    };\n    layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n    layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n    if (axisModel.get('axisTick.inside')) {\n      layout.tickDirection = -layout.tickDirection;\n    }\n\n    if (util.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n      layout.labelDirection = -layout.labelDirection;\n    } // Special label rotation\n\n\n    var labelRotate = axisModel.get('axisLabel.rotate');\n    layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n    layout.z2 = 1;\n    return layout;\n  }\n\n  var layout_1$1 = layout$2;\n\n  var cartesianAxisHelper = {\n  \tlayout: layout_1$1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitAreaModel = axisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitAreaModel,\n      clamp: true\n    });\n\n    if (!ticksCoords.length) {\n      return;\n    } // For Making appropriate splitArea animation, the color and anid\n    // should be corresponding to previous one if possible.\n\n\n    var areaColorsLen = areaColors.length;\n    var lastSplitAreaColors = axisView.__splitAreaColors;\n    var newSplitAreaColors = util.createHashMap();\n    var colorIndex = 0;\n\n    if (lastSplitAreaColors) {\n      for (var i = 0; i < ticksCoords.length; i++) {\n        var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n        if (cIndex != null) {\n          colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n          break;\n        }\n      }\n    }\n\n    var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n    var areaStyle = areaStyleModel.getAreaStyle();\n    areaColors = util.isArray(areaColors) ? areaColors : [areaColors];\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (axis.isHorizontal()) {\n        x = prev;\n        y = gridRect.y;\n        width = tickCoord - x;\n        height = gridRect.height;\n        prev = x + width;\n      } else {\n        x = gridRect.x;\n        y = prev;\n        width = gridRect.width;\n        height = tickCoord - y;\n        prev = y + height;\n      }\n\n      var tickValue = ticksCoords[i - 1].tickValue;\n      tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n      axisGroup.add(new graphic.Rect({\n        anid: tickValue != null ? 'area_' + tickValue : null,\n        shape: {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        },\n        style: util.defaults({\n          fill: areaColors[colorIndex]\n        }, areaStyle),\n        silent: true\n      }));\n      colorIndex = (colorIndex + 1) % areaColorsLen;\n    }\n\n    axisView.__splitAreaColors = newSplitAreaColors;\n  }\n\n  function rectCoordAxisHandleRemove(axisView) {\n    axisView.__splitAreaColors = null;\n  }\n\n  var rectCoordAxisBuildSplitArea_1 = rectCoordAxisBuildSplitArea;\n  var rectCoordAxisHandleRemove_1 = rectCoordAxisHandleRemove;\n\n  var axisSplitHelper = {\n  \trectCoordAxisBuildSplitArea: rectCoordAxisBuildSplitArea_1,\n  \trectCoordAxisHandleRemove: rectCoordAxisHandleRemove_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var rectCoordAxisBuildSplitArea$1 = axisSplitHelper.rectCoordAxisBuildSplitArea;\n  var rectCoordAxisHandleRemove$1 = axisSplitHelper.rectCoordAxisHandleRemove;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\n  var selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\n  var CartesianAxisView = AxisView_1.extend({\n    type: 'cartesianAxis',\n    axisPointerClass: 'CartesianAxisPointer',\n\n    /**\n     * @override\n     */\n    render: function (axisModel, ecModel, api, payload) {\n      this.group.removeAll();\n      var oldAxisGroup = this._axisGroup;\n      this._axisGroup = new graphic.Group();\n      this.group.add(this._axisGroup);\n\n      if (!axisModel.get('show')) {\n        return;\n      }\n\n      var gridModel = axisModel.getCoordSysModel();\n      var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n      var axisBuilder = new AxisBuilder_1(axisModel, layout);\n      util.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n      this._axisGroup.add(axisBuilder.getGroup());\n\n      util.each(selfBuilderAttrs, function (name) {\n        if (axisModel.get(name + '.show')) {\n          this['_' + name](axisModel, gridModel);\n        }\n      }, this);\n      graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n      CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n    },\n    remove: function () {\n      rectCoordAxisHandleRemove$1(this);\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _splitLine: function (axisModel, gridModel) {\n      var axis = axisModel.axis;\n\n      if (axis.scale.isBlank()) {\n        return;\n      }\n\n      var splitLineModel = axisModel.getModel('splitLine');\n      var lineStyleModel = splitLineModel.getModel('lineStyle');\n      var lineColors = lineStyleModel.get('color');\n      lineColors = util.isArray(lineColors) ? lineColors : [lineColors];\n      var gridRect = gridModel.coordinateSystem.getRect();\n      var isHorizontal = axis.isHorizontal();\n      var lineCount = 0;\n      var ticksCoords = axis.getTicksCoords({\n        tickModel: splitLineModel\n      });\n      var p1 = [];\n      var p2 = [];\n      var lineStyle = lineStyleModel.getLineStyle();\n\n      for (var i = 0; i < ticksCoords.length; i++) {\n        var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n\n        var colorIndex = lineCount++ % lineColors.length;\n        var tickValue = ticksCoords[i].tickValue;\n\n        this._axisGroup.add(new graphic.Line({\n          anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n          subPixelOptimize: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: util.defaults({\n            stroke: lineColors[colorIndex]\n          }, lineStyle),\n          silent: true\n        }));\n      }\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _minorSplitLine: function (axisModel, gridModel) {\n      var axis = axisModel.axis;\n      var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n      var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n      var gridRect = gridModel.coordinateSystem.getRect();\n      var isHorizontal = axis.isHorizontal();\n      var minorTicksCoords = axis.getMinorTicksCoords();\n\n      if (!minorTicksCoords.length) {\n        return;\n      }\n\n      var p1 = [];\n      var p2 = [];\n      var lineStyle = lineStyleModel.getLineStyle();\n\n      for (var i = 0; i < minorTicksCoords.length; i++) {\n        for (var k = 0; k < minorTicksCoords[i].length; k++) {\n          var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n\n          if (isHorizontal) {\n            p1[0] = tickCoord;\n            p1[1] = gridRect.y;\n            p2[0] = tickCoord;\n            p2[1] = gridRect.y + gridRect.height;\n          } else {\n            p1[0] = gridRect.x;\n            p1[1] = tickCoord;\n            p2[0] = gridRect.x + gridRect.width;\n            p2[1] = tickCoord;\n          }\n\n          this._axisGroup.add(new graphic.Line({\n            anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n            subPixelOptimize: true,\n            shape: {\n              x1: p1[0],\n              y1: p1[1],\n              x2: p2[0],\n              y2: p2[1]\n            },\n            style: lineStyle,\n            silent: true\n          }));\n        }\n      }\n    },\n\n    /**\n     * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n     * @param {module:echarts/coord/cartesian/GridModel} gridModel\n     * @private\n     */\n    _splitArea: function (axisModel, gridModel) {\n      rectCoordAxisBuildSplitArea$1(this, this._axisGroup, axisModel, gridModel);\n    }\n  });\n  CartesianAxisView.extend({\n    type: 'xAxis'\n  });\n  CartesianAxisView.extend({\n    type: 'yAxis'\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Grid view\n  echarts.extendComponentView({\n    type: 'grid',\n    render: function (gridModel, ecModel) {\n      this.group.removeAll();\n\n      if (gridModel.get('show')) {\n        this.group.add(new graphic.Rect({\n          shape: gridModel.coordinateSystem.getRect(),\n          style: util.defaults({\n            fill: gridModel.get('backgroundColor')\n          }, gridModel.getItemStyle()),\n          silent: true,\n          z2: -1\n        }));\n      }\n    }\n  });\n  echarts.registerPreprocessor(function (option) {\n    // Only create grid when need\n    if (option.xAxis && option.yAxis && !option.grid) {\n      option.grid = {};\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // In case developer forget to include grid component\n  echarts.registerVisual(symbol$1('line', 'circle', 'line'));\n  echarts.registerLayout(points$1('line')); // Down sample after filter\n\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n   * @param {module:echarts/model/Global} ecModel\n   * @return {Object} {point: [x, y], el: ...} point Will not be null.\n   */\n  function _default$1M(finder, ecModel) {\n    var point = [];\n    var seriesIndex = finder.seriesIndex;\n    var seriesModel;\n\n    if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n      return {\n        point: []\n      };\n    }\n\n    var data = seriesModel.getData();\n    var dataIndex = model.queryDataIndex(data, finder);\n\n    if (dataIndex == null || dataIndex < 0 || util.isArray(dataIndex)) {\n      return {\n        point: []\n      };\n    }\n\n    var el = data.getItemGraphicEl(dataIndex);\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (seriesModel.getTooltipPosition) {\n      point = seriesModel.getTooltipPosition(dataIndex) || [];\n    } else if (coordSys && coordSys.dataToPoint) {\n      point = coordSys.dataToPoint(data.getValues(util.map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }), dataIndex, true)) || [];\n    } else if (el) {\n      // Use graphic bounding rect\n      var rect = el.getBoundingRect().clone();\n      rect.applyTransform(el.transform);\n      point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    }\n\n    return {\n      point: point,\n      el: el\n    };\n  }\n\n  var findPointFromSeries = _default$1M;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var makeInner$7 = model.makeInner;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$n = util.each;\n  var curry$2 = util.curry;\n  var inner$7 = makeInner$7();\n  /**\n   * Basic logic: check all axis, if they do not demand show/highlight,\n   * then hide/downplay them.\n   *\n   * @param {Object} coordSysAxesInfo\n   * @param {Object} payload\n   * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n   * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n   *              trigger axisPointer and tooltip.\n   * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n   *              trigger axisPointer and tooltip.\n   * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n   * @param {Object} [payload.dataIndex] finder, restrict target axes.\n   * @param {Object} [payload.axesInfo] finder, restrict target axes.\n   *        [{\n   *          axisDim: 'x'|'y'|'angle'|...,\n   *          axisIndex: ...,\n   *          value: ...\n   *        }, ...]\n   * @param {Function} [payload.dispatchAction]\n   * @param {Object} [payload.tooltipOption]\n   * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n   *        which can be specified in dispatchAction\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @return {Object} content of event obj for echarts.connect.\n   */\n\n  function _default$1N(payload, ecModel, api) {\n    var currTrigger = payload.currTrigger;\n    var point = [payload.x, payload.y];\n    var finder = payload;\n    var dispatchAction = payload.dispatchAction || util.bind(api.dispatchAction, api);\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n    // See #6121. But we are not able to reproduce it yet.\n\n    if (!coordSysAxesInfo) {\n      return;\n    }\n\n    if (illegalPoint(point)) {\n      // Used in the default behavior of `connection`: use the sample seriesIndex\n      // and dataIndex. And also used in the tooltipView trigger.\n      point = findPointFromSeries({\n        seriesIndex: finder.seriesIndex,\n        // Do not use dataIndexInside from other ec instance.\n        // FIXME: auto detect it?\n        dataIndex: finder.dataIndex\n      }, ecModel).point;\n    }\n\n    var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n    // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n    // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n    // and dataIndex.\n\n    var inputAxesInfo = finder.axesInfo;\n    var axesInfo = coordSysAxesInfo.axesInfo;\n    var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n    var outputFinder = {};\n    var showValueMap = {};\n    var dataByCoordSys = {\n      list: [],\n      map: {}\n    };\n    var updaters = {\n      showPointer: curry$2(showPointer, showValueMap),\n      showTooltip: curry$2(showTooltip, dataByCoordSys)\n    }; // Process for triggered axes.\n\n    each$n(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n      // If a point given, it must be contained by the coordinate system.\n      var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n      each$n(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n        var axis = axisInfo.axis;\n        var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n        if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n          var val = inputAxisInfo && inputAxisInfo.value;\n\n          if (val == null && !isIllegalPoint) {\n            val = axis.pointToData(point);\n          }\n\n          val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n        }\n      });\n    }); // Process for linked axes.\n\n    var linkTriggers = {};\n    each$n(axesInfo, function (tarAxisInfo, tarKey) {\n      var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n      if (linkGroup && !showValueMap[tarKey]) {\n        each$n(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n          var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n          if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n            var val = srcValItem.value;\n            linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n            linkTriggers[tarAxisInfo.key] = val;\n          }\n        });\n      }\n    });\n    each$n(linkTriggers, function (val, tarKey) {\n      processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n    });\n    updateModelActually(showValueMap, axesInfo, outputFinder);\n    dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n    dispatchHighDownActually(axesInfo, dispatchAction, api);\n    return outputFinder;\n  }\n\n  function processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n    var axis = axisInfo.axis;\n\n    if (axis.scale.isBlank() || !axis.containData(newValue)) {\n      return;\n    }\n\n    if (!axisInfo.involveSeries) {\n      updaters.showPointer(axisInfo, newValue);\n      return;\n    } // Heavy calculation. So put it after axis.containData checking.\n\n\n    var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n    var payloadBatch = payloadInfo.payloadBatch;\n    var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n    // By default use the first involved series data as a sample to connect.\n\n    if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n      util.extend(outputFinder, payloadBatch[0]);\n    } // If no linkSource input, this process is for collecting link\n    // target, where snap should not be accepted.\n\n\n    if (!dontSnap && axisInfo.snap) {\n      if (axis.containData(snapToValue) && snapToValue != null) {\n        newValue = snapToValue;\n      }\n    }\n\n    updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n    // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n    updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n  }\n\n  function buildPayloadsBySeries(value, axisInfo) {\n    var axis = axisInfo.axis;\n    var dim = axis.dim;\n    var snapToValue = value;\n    var payloadBatch = [];\n    var minDist = Number.MAX_VALUE;\n    var minDiff = -1;\n    each$n(axisInfo.seriesModels, function (series, idx) {\n      var dataDim = series.getData().mapDimension(dim, true);\n      var seriesNestestValue;\n      var dataIndices;\n\n      if (series.getAxisTooltipData) {\n        var result = series.getAxisTooltipData(dataDim, value, axis);\n        dataIndices = result.dataIndices;\n        seriesNestestValue = result.nestestValue;\n      } else {\n        dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n        // when data length is not same.\n        // false,\n        axis.type === 'category' ? 0.5 : null);\n\n        if (!dataIndices.length) {\n          return;\n        }\n\n        seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n      }\n\n      if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n        return;\n      }\n\n      var diff = value - seriesNestestValue;\n      var dist = Math.abs(diff); // Consider category case\n\n      if (dist <= minDist) {\n        if (dist < minDist || diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          snapToValue = seriesNestestValue;\n          payloadBatch.length = 0;\n        }\n\n        each$n(dataIndices, function (dataIndex) {\n          payloadBatch.push({\n            seriesIndex: series.seriesIndex,\n            dataIndexInside: dataIndex,\n            dataIndex: series.getData().getRawIndex(dataIndex)\n          });\n        });\n      }\n    });\n    return {\n      payloadBatch: payloadBatch,\n      snapToValue: snapToValue\n    };\n  }\n\n  function showPointer(showValueMap, axisInfo, value, payloadBatch) {\n    showValueMap[axisInfo.key] = {\n      value: value,\n      payloadBatch: payloadBatch\n    };\n  }\n\n  function showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n    var payloadBatch = payloadInfo.payloadBatch;\n    var axis = axisInfo.axis;\n    var axisModel = axis.model;\n    var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n    // whose length will be used to judge whether dispatch action.\n\n    if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n      return;\n    }\n\n    var coordSysModel = axisInfo.coordSys.model;\n    var coordSysKey = modelHelper.makeKey(coordSysModel);\n    var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n    if (!coordSysItem) {\n      coordSysItem = dataByCoordSys.map[coordSysKey] = {\n        coordSysId: coordSysModel.id,\n        coordSysIndex: coordSysModel.componentIndex,\n        coordSysType: coordSysModel.type,\n        coordSysMainType: coordSysModel.mainType,\n        dataByAxis: []\n      };\n      dataByCoordSys.list.push(coordSysItem);\n    }\n\n    coordSysItem.dataByAxis.push({\n      axisDim: axis.dim,\n      axisIndex: axisModel.componentIndex,\n      axisType: axisModel.type,\n      axisId: axisModel.id,\n      value: value,\n      // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n      // depends that all models have been updated. So it should not be performed\n      // here. Considering axisPointerModel used here is volatile, which is hard\n      // to be retrieve in TooltipView, we prepare parameters here.\n      valueLabelOpt: {\n        precision: axisPointerModel.get('label.precision'),\n        formatter: axisPointerModel.get('label.formatter')\n      },\n      seriesDataIndices: payloadBatch.slice()\n    });\n  }\n\n  function updateModelActually(showValueMap, axesInfo, outputFinder) {\n    var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n    each$n(axesInfo, function (axisInfo, key) {\n      var option = axisInfo.axisPointerModel.option;\n      var valItem = showValueMap[key];\n\n      if (valItem) {\n        !axisInfo.useHandle && (option.status = 'show');\n        option.value = valItem.value; // For label formatter param and highlight.\n\n        option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n      } // When always show (e.g., handle used), remain\n      // original value and status.\n      else {\n          // If hide, value still need to be set, consider\n          // click legend to toggle axis blank.\n          !axisInfo.useHandle && (option.status = 'hide');\n        } // If status is 'hide', should be no info in payload.\n\n\n      option.status === 'show' && outputAxesInfo.push({\n        axisDim: axisInfo.axis.dim,\n        axisIndex: axisInfo.axis.model.componentIndex,\n        value: option.value\n      });\n    });\n  }\n\n  function dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n    // Basic logic: If no showTip required, hideTip will be dispatched.\n    if (illegalPoint(point) || !dataByCoordSys.list.length) {\n      dispatchAction({\n        type: 'hideTip'\n      });\n      return;\n    } // In most case only one axis (or event one series is used). It is\n    // convinient to fetch payload.seriesIndex and payload.dataIndex\n    // dirtectly. So put the first seriesIndex and dataIndex of the first\n    // axis on the payload.\n\n\n    var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n    dispatchAction({\n      type: 'showTip',\n      escapeConnect: true,\n      x: point[0],\n      y: point[1],\n      tooltipOption: payload.tooltipOption,\n      position: payload.position,\n      dataIndexInside: sampleItem.dataIndexInside,\n      dataIndex: sampleItem.dataIndex,\n      seriesIndex: sampleItem.seriesIndex,\n      dataByCoordSys: dataByCoordSys.list\n    });\n  }\n\n  function dispatchHighDownActually(axesInfo, dispatchAction, api) {\n    // FIXME\n    // highlight status modification shoule be a stage of main process?\n    // (Consider confilct (e.g., legend and axisPointer) and setOption)\n    var zr = api.getZr();\n    var highDownKey = 'axisPointerLastHighlights';\n    var lastHighlights = inner$7(zr)[highDownKey] || {};\n    var newHighlights = inner$7(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n    // Build hash map and remove duplicate incidentally.\n\n    each$n(axesInfo, function (axisInfo, key) {\n      var option = axisInfo.axisPointerModel.option;\n      option.status === 'show' && each$n(option.seriesDataIndices, function (batchItem) {\n        var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n        newHighlights[key] = batchItem;\n      });\n    }); // Diff.\n\n    var toHighlight = [];\n    var toDownplay = [];\n    util.each(lastHighlights, function (batchItem, key) {\n      !newHighlights[key] && toDownplay.push(batchItem);\n    });\n    util.each(newHighlights, function (batchItem, key) {\n      !lastHighlights[key] && toHighlight.push(batchItem);\n    });\n    toDownplay.length && api.dispatchAction({\n      type: 'downplay',\n      escapeConnect: true,\n      batch: toDownplay\n    });\n    toHighlight.length && api.dispatchAction({\n      type: 'highlight',\n      escapeConnect: true,\n      batch: toHighlight\n    });\n  }\n\n  function findInputAxisInfo(inputAxesInfo, axisInfo) {\n    for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n      var inputAxisInfo = inputAxesInfo[i];\n\n      if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n        return inputAxisInfo;\n      }\n    }\n  }\n\n  function makeMapperParam(axisInfo) {\n    var axisModel = axisInfo.axis.model;\n    var item = {};\n    var dim = item.axisDim = axisInfo.axis.dim;\n    item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n    item.axisName = item[dim + 'AxisName'] = axisModel.name;\n    item.axisId = item[dim + 'AxisId'] = axisModel.id;\n    return item;\n  }\n\n  function illegalPoint(point) {\n    return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n  }\n\n  var axisTrigger = _default$1N;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisPointerModel = echarts.extendComponentModel({\n    type: 'axisPointer',\n    coordSysAxesInfo: null,\n    defaultOption: {\n      // 'auto' means that show when triggered by tooltip or handle.\n      show: 'auto',\n      // 'click' | 'mousemove' | 'none'\n      triggerOn: null,\n      // set default in AxisPonterView.js\n      zlevel: 0,\n      z: 50,\n      type: 'line',\n      // 'line' 'shadow' 'cross' 'none'.\n      // axispointer triggered by tootip determine snap automatically,\n      // see `modelHelper`.\n      snap: false,\n      triggerTooltip: true,\n      value: null,\n      status: null,\n      // Init value depends on whether handle is used.\n      // [group0, group1, ...]\n      // Each group can be: {\n      //      mapper: function () {},\n      //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n      //      xAxisId: ...,\n      //      yAxisName: ...,\n      //      angleAxisIndex: ...\n      // }\n      // mapper: can be ignored.\n      //      input: {axisInfo, value}\n      //      output: {axisInfo, value}\n      link: [],\n      // Do not set 'auto' here, otherwise global animation: false\n      // will not effect at this axispointer.\n      animation: null,\n      animationDurationUpdate: 200,\n      lineStyle: {\n        color: '#aaa',\n        width: 1,\n        type: 'solid'\n      },\n      shadowStyle: {\n        color: 'rgba(150,150,150,0.3)'\n      },\n      label: {\n        show: true,\n        formatter: null,\n        // string | Function\n        precision: 'auto',\n        // Or a number like 0, 1, 2 ...\n        margin: 3,\n        color: '#fff',\n        padding: [5, 7, 5, 7],\n        backgroundColor: 'auto',\n        // default: axis line color\n        borderColor: null,\n        borderWidth: 0,\n        shadowBlur: 3,\n        shadowColor: '#aaa' // Considering applicability, common style should\n        // better not have shadowOffset.\n        // shadowOffsetX: 0,\n        // shadowOffsetY: 2\n\n      },\n      handle: {\n        show: false,\n\n        /* eslint-disable */\n        icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n        // jshint ignore:line\n\n        /* eslint-enable */\n        size: 45,\n        // handle margin is from symbol center to axis, which is stable when circular move.\n        margin: 50,\n        // color: '#1b8bbd'\n        // color: '#2f4554'\n        color: '#333',\n        shadowBlur: 3,\n        shadowColor: '#aaa',\n        shadowOffsetX: 0,\n        shadowOffsetY: 2,\n        // For mobile performance\n        throttle: 40\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var makeInner$8 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$8 = makeInner$8();\n  var each$o = util.each;\n  /**\n   * @param {string} key\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Function} handler\n   *      param: {string} currTrigger\n   *      param: {Array.<number>} point\n   */\n\n  function register(key, api, handler) {\n    if (env_1.node) {\n      return;\n    }\n\n    var zr = api.getZr();\n    inner$8(zr).records || (inner$8(zr).records = {});\n    initGlobalListeners(zr, api);\n    var record = inner$8(zr).records[key] || (inner$8(zr).records[key] = {});\n    record.handler = handler;\n  }\n\n  function initGlobalListeners(zr, api) {\n    if (inner$8(zr).initialized) {\n      return;\n    }\n\n    inner$8(zr).initialized = true;\n    useHandler('click', util.curry(doEnter, 'click'));\n    useHandler('mousemove', util.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n    useHandler('globalout', onLeave);\n\n    function useHandler(eventType, cb) {\n      zr.on(eventType, function (e) {\n        var dis = makeDispatchAction(api);\n        each$o(inner$8(zr).records, function (record) {\n          record && cb(record, e, dis.dispatchAction);\n        });\n        dispatchTooltipFinally(dis.pendings, api);\n      });\n    }\n  }\n\n  function dispatchTooltipFinally(pendings, api) {\n    var showLen = pendings.showTip.length;\n    var hideLen = pendings.hideTip.length;\n    var actuallyPayload;\n\n    if (showLen) {\n      actuallyPayload = pendings.showTip[showLen - 1];\n    } else if (hideLen) {\n      actuallyPayload = pendings.hideTip[hideLen - 1];\n    }\n\n    if (actuallyPayload) {\n      actuallyPayload.dispatchAction = null;\n      api.dispatchAction(actuallyPayload);\n    }\n  }\n\n  function onLeave(record, e, dispatchAction) {\n    record.handler('leave', null, dispatchAction);\n  }\n\n  function doEnter(currTrigger, record, e, dispatchAction) {\n    record.handler(currTrigger, e, dispatchAction);\n  }\n\n  function makeDispatchAction(api) {\n    var pendings = {\n      showTip: [],\n      hideTip: []\n    }; // FIXME\n    // better approach?\n    // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n    // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n    // So we have to add \"final stage\" to merge those dispatched actions.\n\n    var dispatchAction = function (payload) {\n      var pendingList = pendings[payload.type];\n\n      if (pendingList) {\n        pendingList.push(payload);\n      } else {\n        payload.dispatchAction = dispatchAction;\n        api.dispatchAction(payload);\n      }\n    };\n\n    return {\n      dispatchAction: dispatchAction,\n      pendings: pendings\n    };\n  }\n  /**\n   * @param {string} key\n   * @param {module:echarts/ExtensionAPI} api\n   */\n\n\n  function unregister(key, api) {\n    if (env_1.node) {\n      return;\n    }\n\n    var zr = api.getZr();\n    var record = (inner$8(zr).records || {})[key];\n\n    if (record) {\n      inner$8(zr).records[key] = null;\n    }\n  }\n\n  var register_1 = register;\n  var unregister_1 = unregister;\n\n  var globalListener = {\n  \tregister: register_1,\n  \tunregister: unregister_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var AxisPointerView = echarts.extendComponentView({\n    type: 'axisPointer',\n    render: function (globalAxisPointerModel, ecModel, api) {\n      var globalTooltipModel = ecModel.getComponent('tooltip');\n      var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n      // AxisPointerView to be independent to Tooltip.\n\n      globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n        // If 'none', it is not controlled by mouse totally.\n        if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n          dispatchAction({\n            type: 'updateAxisPointer',\n            currTrigger: currTrigger,\n            x: e && e.offsetX,\n            y: e && e.offsetY\n          });\n        }\n      });\n    },\n\n    /**\n     * @override\n     */\n    remove: function (ecModel, api) {\n      globalListener.unregister(api.getZr(), 'axisPointer');\n      AxisPointerView.superApply(this._model, 'remove', arguments);\n    },\n\n    /**\n     * @override\n     */\n    dispose: function (ecModel, api) {\n      globalListener.unregister('axisPointer', api);\n      AxisPointerView.superApply(this._model, 'dispose', arguments);\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var makeInner$9 = model.makeInner;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var inner$9 = makeInner$9();\n  var clone$7 = util.clone;\n  var bind$2 = util.bind;\n  /**\n   * Base axis pointer class in 2D.\n   * Implemenents {module:echarts/component/axis/IAxisPointer}.\n   */\n\n  function BaseAxisPointer() {}\n\n  BaseAxisPointer.prototype = {\n    /**\n     * @private\n     */\n    _group: null,\n\n    /**\n     * @private\n     */\n    _lastGraphicKey: null,\n\n    /**\n     * @private\n     */\n    _handle: null,\n\n    /**\n     * @private\n     */\n    _dragging: false,\n\n    /**\n     * @private\n     */\n    _lastValue: null,\n\n    /**\n     * @private\n     */\n    _lastStatus: null,\n\n    /**\n     * @private\n     */\n    _payloadInfo: null,\n\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     * @protected\n     */\n    animationThreshold: 15,\n\n    /**\n     * @implement\n     */\n    render: function (axisModel, axisPointerModel, api, forceRender) {\n      var value = axisPointerModel.get('value');\n      var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n      // be replaced when user calling setOption in not merge mode.\n\n      this._axisModel = axisModel;\n      this._axisPointerModel = axisPointerModel;\n      this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n      // So it is power consuming if performing `render` each time,\n      // especially on mobile device.\n\n      if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n        return;\n      }\n\n      this._lastValue = value;\n      this._lastStatus = status;\n      var group = this._group;\n      var handle = this._handle;\n\n      if (!status || status === 'hide') {\n        // Do not clear here, for animation better.\n        group && group.hide();\n        handle && handle.hide();\n        return;\n      }\n\n      group && group.show();\n      handle && handle.show(); // Otherwise status is 'show'\n\n      var elOption = {};\n      this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n      var graphicKey = elOption.graphicKey;\n\n      if (graphicKey !== this._lastGraphicKey) {\n        this.clear(api);\n      }\n\n      this._lastGraphicKey = graphicKey;\n      var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n      if (!group) {\n        group = this._group = new graphic.Group();\n        this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n        this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n        api.getZr().add(group);\n      } else {\n        var doUpdateProps = util.curry(updateProps$1, axisPointerModel, moveAnimation);\n        this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n        this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n      }\n\n      updateMandatoryProps(group, axisPointerModel, true);\n\n      this._renderHandle(value);\n    },\n\n    /**\n     * @implement\n     */\n    remove: function (api) {\n      this.clear(api);\n    },\n\n    /**\n     * @implement\n     */\n    dispose: function (api) {\n      this.clear(api);\n    },\n\n    /**\n     * @protected\n     */\n    determineAnimation: function (axisModel, axisPointerModel) {\n      var animation = axisPointerModel.get('animation');\n      var axis = axisModel.axis;\n      var isCategoryAxis = axis.type === 'category';\n      var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n      if (!useSnap && !isCategoryAxis) {\n        return false;\n      }\n\n      if (animation === 'auto' || animation == null) {\n        var animationThreshold = this.animationThreshold;\n\n        if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n          return true;\n        } // It is important to auto animation when snap used. Consider if there is\n        // a dataZoom, animation will be disabled when too many points exist, while\n        // it will be enabled for better visual effect when little points exist.\n\n\n        if (useSnap) {\n          var seriesDataCount = modelHelper.getAxisInfo(axisModel).seriesDataCount;\n          var axisExtent = axis.getExtent(); // Approximate band width\n\n          return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n        }\n\n        return false;\n      }\n\n      return animation === true;\n    },\n\n    /**\n     * add {pointer, label, graphicKey} to elOption\n     * @protected\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n    },\n\n    /**\n     * @protected\n     */\n    createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n      var pointerOption = elOption.pointer;\n\n      if (pointerOption) {\n        var pointerEl = inner$9(group).pointerEl = new graphic[pointerOption.type](clone$7(elOption.pointer));\n        group.add(pointerEl);\n      }\n    },\n\n    /**\n     * @protected\n     */\n    createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n      if (elOption.label) {\n        var labelEl = inner$9(group).labelEl = new graphic.Rect(clone$7(elOption.label));\n        group.add(labelEl);\n        updateLabelShowHide(labelEl, axisPointerModel);\n      }\n    },\n\n    /**\n     * @protected\n     */\n    updatePointerEl: function (group, elOption, updateProps) {\n      var pointerEl = inner$9(group).pointerEl;\n\n      if (pointerEl && elOption.pointer) {\n        pointerEl.setStyle(elOption.pointer.style);\n        updateProps(pointerEl, {\n          shape: elOption.pointer.shape\n        });\n      }\n    },\n\n    /**\n     * @protected\n     */\n    updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n      var labelEl = inner$9(group).labelEl;\n\n      if (labelEl) {\n        labelEl.setStyle(elOption.label.style);\n        updateProps(labelEl, {\n          // Consider text length change in vertical axis, animation should\n          // be used on shape, otherwise the effect will be weird.\n          shape: elOption.label.shape,\n          position: elOption.label.position\n        });\n        updateLabelShowHide(labelEl, axisPointerModel);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _renderHandle: function (value) {\n      if (this._dragging || !this.updateHandleTransform) {\n        return;\n      }\n\n      var axisPointerModel = this._axisPointerModel;\n\n      var zr = this._api.getZr();\n\n      var handle = this._handle;\n      var handleModel = axisPointerModel.getModel('handle');\n      var status = axisPointerModel.get('status');\n\n      if (!handleModel.get('show') || !status || status === 'hide') {\n        handle && zr.remove(handle);\n        this._handle = null;\n        return;\n      }\n\n      var isInit;\n\n      if (!this._handle) {\n        isInit = true;\n        handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n          cursor: 'move',\n          draggable: true,\n          onmousemove: function (e) {\n            // Fot mobile devicem, prevent screen slider on the button.\n            event.stop(e.event);\n          },\n          onmousedown: bind$2(this._onHandleDragMove, this, 0, 0),\n          drift: bind$2(this._onHandleDragMove, this),\n          ondragend: bind$2(this._onHandleDragEnd, this)\n        });\n        zr.add(handle);\n      }\n\n      updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n      var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n      handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n      var handleSize = handleModel.get('size');\n\n      if (!util.isArray(handleSize)) {\n        handleSize = [handleSize, handleSize];\n      }\n\n      handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n      throttle_1.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n      this._moveHandleToValue(value, isInit);\n    },\n\n    /**\n     * @private\n     */\n    _moveHandleToValue: function (value, isInit) {\n      updateProps$1(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragMove: function (dx, dy) {\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      this._dragging = true; // Persistent for throttle.\n\n      var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n      this._payloadInfo = trans;\n      handle.stopAnimation();\n      handle.attr(getHandleTransProps(trans));\n      inner$9(handle).lastProp = null;\n\n      this._doDispatchAxisPointer();\n    },\n\n    /**\n     * Throttled method.\n     * @private\n     */\n    _doDispatchAxisPointer: function () {\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      var payloadInfo = this._payloadInfo;\n      var axisModel = this._axisModel;\n\n      this._api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payloadInfo.cursorPoint[0],\n        y: payloadInfo.cursorPoint[1],\n        tooltipOption: payloadInfo.tooltipOption,\n        axesInfo: [{\n          axisDim: axisModel.axis.dim,\n          axisIndex: axisModel.componentIndex\n        }]\n      });\n    },\n\n    /**\n     * @private\n     */\n    _onHandleDragEnd: function (moveAnimation) {\n      this._dragging = false;\n      var handle = this._handle;\n\n      if (!handle) {\n        return;\n      }\n\n      var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n      // axisPointer. So move handle to align the exact value position when\n      // drag ended.\n\n\n      this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n      // button, and will be hidden after finger left handle button.\n\n\n      this._api.dispatchAction({\n        type: 'hideTip'\n      });\n    },\n\n    /**\n     * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {number} value\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0}\n     */\n    getHandleTransform: null,\n\n    /**\n     * * Should be implemenented by sub-class if support `handle`.\n     * @protected\n     * @param {Object} transform {position, rotation}\n     * @param {Array.<number>} delta [dx, dy]\n     * @param {module:echarts/model/Model} axisModel\n     * @param {module:echarts/model/Model} axisPointerModel\n     * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n     */\n    updateHandleTransform: null,\n\n    /**\n     * @private\n     */\n    clear: function (api) {\n      this._lastValue = null;\n      this._lastStatus = null;\n      var zr = api.getZr();\n      var group = this._group;\n      var handle = this._handle;\n\n      if (zr && group) {\n        this._lastGraphicKey = null;\n        group && zr.remove(group);\n        handle && zr.remove(handle);\n        this._group = null;\n        this._handle = null;\n        this._payloadInfo = null;\n      }\n    },\n\n    /**\n     * @protected\n     */\n    doClear: function () {// Implemented by sub-class if necessary.\n    },\n\n    /**\n     * @protected\n     * @param {Array.<number>} xy\n     * @param {Array.<number>} wh\n     * @param {number} [xDimIndex=0] or 1\n     */\n    buildLabel: function (xy, wh, xDimIndex) {\n      xDimIndex = xDimIndex || 0;\n      return {\n        x: xy[xDimIndex],\n        y: xy[1 - xDimIndex],\n        width: wh[xDimIndex],\n        height: wh[1 - xDimIndex]\n      };\n    }\n  };\n  BaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\n  function updateProps$1(animationModel, moveAnimation, el, props) {\n    // Animation optimize.\n    if (!propsEqual(inner$9(el).lastProp, props)) {\n      inner$9(el).lastProp = props;\n      moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n    }\n  }\n\n  function propsEqual(lastProps, newProps) {\n    if (util.isObject(lastProps) && util.isObject(newProps)) {\n      var equals = true;\n      util.each(newProps, function (item, key) {\n        equals = equals && propsEqual(lastProps[key], item);\n      });\n      return !!equals;\n    } else {\n      return lastProps === newProps;\n    }\n  }\n\n  function updateLabelShowHide(labelEl, axisPointerModel) {\n    labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n  }\n\n  function getHandleTransProps(trans) {\n    return {\n      position: trans.position.slice(),\n      rotation: trans.rotation || 0\n    };\n  }\n\n  function updateMandatoryProps(group, axisPointerModel, silent) {\n    var z = axisPointerModel.get('z');\n    var zlevel = axisPointerModel.get('zlevel');\n    group && group.traverse(function (el) {\n      if (el.type !== 'group') {\n        z != null && (el.z = z);\n        zlevel != null && (el.zlevel = zlevel);\n        el.silent = silent;\n      }\n    });\n  }\n\n  clazz.enableClassExtend(BaseAxisPointer);\n  var _default$1O = BaseAxisPointer;\n  var BaseAxisPointer_1 = _default$1O;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/model/Model} axisPointerModel\n   */\n  function buildElStyle(axisPointerModel) {\n    var axisPointerType = axisPointerModel.get('type');\n    var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n    var style;\n\n    if (axisPointerType === 'line') {\n      style = styleModel.getLineStyle();\n      style.fill = null;\n    } else if (axisPointerType === 'shadow') {\n      style = styleModel.getAreaStyle();\n      style.stroke = null;\n    }\n\n    return style;\n  }\n  /**\n   * @param {Function} labelPos {align, verticalAlign, position}\n   */\n\n\n  function buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n    var value = axisPointerModel.get('value');\n    var text$1 = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    });\n    var labelModel = axisPointerModel.getModel('label');\n    var paddings = format$1.normalizeCssArray(labelModel.get('padding') || 0);\n    var font = labelModel.getFont();\n    var textRect = text.getBoundingRect(text$1, font);\n    var position = labelPos.position;\n    var width = textRect.width + paddings[1] + paddings[3];\n    var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n    var align = labelPos.align;\n    align === 'right' && (position[0] -= width);\n    align === 'center' && (position[0] -= width / 2);\n    var verticalAlign = labelPos.verticalAlign;\n    verticalAlign === 'bottom' && (position[1] -= height);\n    verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n    confineInContainer(position, width, height, api);\n    var bgColor = labelModel.get('backgroundColor');\n\n    if (!bgColor || bgColor === 'auto') {\n      bgColor = axisModel.get('axisLine.lineStyle.color');\n    }\n\n    elOption.label = {\n      shape: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        r: labelModel.get('borderRadius')\n      },\n      position: position.slice(),\n      // TODO: rich\n      style: {\n        text: text$1,\n        textFont: font,\n        textFill: labelModel.getTextColor(),\n        textPosition: 'inside',\n        textPadding: paddings,\n        fill: bgColor,\n        stroke: labelModel.get('borderColor') || 'transparent',\n        lineWidth: labelModel.get('borderWidth') || 0,\n        shadowBlur: labelModel.get('shadowBlur'),\n        shadowColor: labelModel.get('shadowColor'),\n        shadowOffsetX: labelModel.get('shadowOffsetX'),\n        shadowOffsetY: labelModel.get('shadowOffsetY')\n      },\n      // Lable should be over axisPointer.\n      z2: 10\n    };\n  } // Do not overflow ec container\n\n\n  function confineInContainer(position, width, height, api) {\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    position[0] = Math.min(position[0] + width, viewWidth) - width;\n    position[1] = Math.min(position[1] + height, viewHeight) - height;\n    position[0] = Math.max(position[0], 0);\n    position[1] = Math.max(position[1], 0);\n  }\n  /**\n   * @param {number} value\n   * @param {module:echarts/coord/Axis} axis\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Object} opt\n   * @param {Array.<Object>} seriesDataIndices\n   * @param {number|string} opt.precision 'auto' or a number\n   * @param {string|Function} opt.formatter label formatter\n   */\n\n\n  function getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n    value = axis.scale.parse(value);\n    var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n    // helps to debounce when when moving label.\n    value, {\n      precision: opt.precision\n    });\n    var formatter = opt.formatter;\n\n    if (formatter) {\n      var params = {\n        value: axisHelper.getAxisRawValue(axis, value),\n        axisDimension: axis.dim,\n        axisIndex: axis.index,\n        seriesData: []\n      };\n      util.each(seriesDataIndices, function (idxItem) {\n        var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n        var dataIndex = idxItem.dataIndexInside;\n        var dataParams = series && series.getDataParams(dataIndex);\n        dataParams && params.seriesData.push(dataParams);\n      });\n\n      if (util.isString(formatter)) {\n        text = formatter.replace('{value}', text);\n      } else if (util.isFunction(formatter)) {\n        text = formatter(params);\n      }\n    }\n\n    return text;\n  }\n  /**\n   * @param {module:echarts/coord/Axis} axis\n   * @param {number} value\n   * @param {Object} layoutInfo {\n   *  rotation, position, labelOffset, labelDirection, labelMargin\n   * }\n   */\n\n\n  function getTransformedPosition(axis, value, layoutInfo) {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, layoutInfo.rotation);\n    matrix.translate(transform, transform, layoutInfo.position);\n    return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n  }\n\n  function buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n    var textLayout = AxisBuilder_1.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n    layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n    buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n      position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n      align: textLayout.textAlign,\n      verticalAlign: textLayout.textVerticalAlign\n    });\n  }\n  /**\n   * @param {Array.<number>} p1\n   * @param {Array.<number>} p2\n   * @param {number} [xDimIndex=0] or 1\n   */\n\n\n  function makeLineShape(p1, p2, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x1: p1[xDimIndex],\n      y1: p1[1 - xDimIndex],\n      x2: p2[xDimIndex],\n      y2: p2[1 - xDimIndex]\n    };\n  }\n  /**\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n\n\n  function makeRectShape(xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n\n  function makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n    return {\n      cx: cx,\n      cy: cy,\n      r0: r0,\n      r: r,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      clockwise: true\n    };\n  }\n\n  var buildElStyle_1 = buildElStyle;\n  var buildLabelElOption_1 = buildLabelElOption;\n  var getValueLabel_1 = getValueLabel;\n  var getTransformedPosition_1 = getTransformedPosition;\n  var buildCartesianSingleLabelElOption_1 = buildCartesianSingleLabelElOption;\n  var makeLineShape_1 = makeLineShape;\n  var makeRectShape_1 = makeRectShape;\n  var makeSectorShape_1 = makeSectorShape;\n\n  var viewHelper = {\n  \tbuildElStyle: buildElStyle_1,\n  \tbuildLabelElOption: buildLabelElOption_1,\n  \tgetValueLabel: getValueLabel_1,\n  \tgetTransformedPosition: getTransformedPosition_1,\n  \tbuildCartesianSingleLabelElOption: buildCartesianSingleLabelElOption_1,\n  \tmakeLineShape: makeLineShape_1,\n  \tmakeRectShape: makeRectShape_1,\n  \tmakeSectorShape: makeSectorShape_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var CartesianAxisPointer = BaseAxisPointer_1.extend({\n    /**\n     * @override\n     */\n    makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n      var axis = axisModel.axis;\n      var grid = axis.grid;\n      var axisPointerType = axisPointerModel.get('type');\n      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n      var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n      if (axisPointerType && axisPointerType !== 'none') {\n        var elStyle = viewHelper.buildElStyle(axisPointerModel);\n        var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n        pointerOption.style = elStyle;\n        elOption.graphicKey = pointerOption.type;\n        elOption.pointer = pointerOption;\n      }\n\n      var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n      viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n    },\n\n    /**\n     * @override\n     */\n    getHandleTransform: function (value, axisModel, axisPointerModel) {\n      var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n        labelInside: false\n      });\n      layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n      return {\n        position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n        rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n      };\n    },\n\n    /**\n     * @override\n     */\n    updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n      var axis = axisModel.axis;\n      var grid = axis.grid;\n      var axisExtent = axis.getGlobalExtent(true);\n      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n      var dimIndex = axis.dim === 'x' ? 0 : 1;\n      var currPosition = transform.position;\n      currPosition[dimIndex] += delta[dimIndex];\n      currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n      currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n      var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n      var cursorPoint = [cursorOtherValue, cursorOtherValue];\n      cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n      var tooltipOptions = [{\n        verticalAlign: 'middle'\n      }, {\n        align: 'center'\n      }];\n      return {\n        position: currPosition,\n        rotation: transform.rotation,\n        cursorPoint: cursorPoint,\n        tooltipOption: tooltipOptions[dimIndex]\n      };\n    }\n  });\n\n  function getCartesian(grid, axis) {\n    var opt = {};\n    opt[axis.dim + 'AxisIndex'] = axis.index;\n    return grid.getCartesian(opt);\n  }\n\n  var pointerShapeBuilder = {\n    line: function (axis, pixelValue, otherExtent) {\n      var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n      return {\n        type: 'Line',\n        subPixelOptimize: true,\n        shape: targetShape\n      };\n    },\n    shadow: function (axis, pixelValue, otherExtent) {\n      var bandWidth = Math.max(1, axis.getBandWidth());\n      var span = otherExtent[1] - otherExtent[0];\n      return {\n        type: 'Rect',\n        shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n      };\n    }\n  };\n\n  function getAxisDimIndex(axis) {\n    return axis.dim === 'x' ? 0 : 1;\n  }\n\n  AxisView_1.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // CartesianAxisPointer is not supposed to be required here. But consider\n  // echarts.simple.js and online build tooltip, which only require gridSimple,\n  // CartesianAxisPointer should be able to required somewhere.\n  echarts.registerPreprocessor(function (option) {\n    // Always has a global axisPointerModel for default setting.\n    if (option) {\n      (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n      var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n      // is not set, remain null/undefined, otherwise it will\n      // override existent link setting.\n\n      if (link && !util.isArray(link)) {\n        option.axisPointer.link = [link];\n      }\n    }\n  }); // This process should proformed after coordinate systems created\n  // and series data processed. So put it on statistic processing stage.\n\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n    // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n    // allAxesInfo should be updated when setOption performed.\n    ecModel.getComponent('axisPointer').coordSysAxesInfo = modelHelper.collect(ecModel, api);\n  }); // Broadcast to all views.\n\n  echarts.registerAction({\n    type: 'updateAxisPointer',\n    event: 'updateAxisPointer',\n    update: ':updateAxisPointer'\n  }, axisTrigger);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$1P = echarts.extendComponentModel({\n    type: 'tooltip',\n    dependencies: ['axisPointer'],\n    defaultOption: {\n      zlevel: 0,\n      z: 60,\n      show: true,\n      // tooltip\n      showContent: true,\n      // 'trigger' only works on coordinate system.\n      // 'item' | 'axis' | 'none'\n      trigger: 'item',\n      // 'click' | 'mousemove' | 'none'\n      triggerOn: 'mousemove|click',\n      alwaysShowContent: false,\n      displayMode: 'single',\n      // 'single' | 'multipleByCoordSys'\n      renderMode: 'auto',\n      // 'auto' | 'html' | 'richText'\n      // 'auto': use html by default, and use non-html if `document` is not defined\n      // 'html': use html for tooltip\n      // 'richText': use canvas, svg, and etc. for tooltip\n      //  {Array} | {Function}\n      // position: null\n      // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n      // align: null,\n      // verticalAlign: null,\n      //  content  viewRect  false \n      confine: false,\n      // {string}Template  {Function}\n      // formatter: null\n      showDelay: 0,\n      // ms\n      hideDelay: 100,\n      // s\n      transitionDuration: 0.4,\n      enterable: false,\n      // 0.7\n      backgroundColor: 'rgba(50,50,50,0.7)',\n      // \n      borderColor: '#333',\n      // px4\n      borderRadius: 4,\n      // px0\n      borderWidth: 0,\n      // px5\n      // css\n      padding: 5,\n      // Extra css text\n      extraCssText: '',\n      // \n      axisPointer: {\n        // \n        // 'line' | 'shadow' | 'cross'\n        type: 'line',\n        // type  line  tooltip line \n        //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n        //  'auto' category  x \n        //  angle \n        axis: 'auto',\n        animation: 'auto',\n        animationDurationUpdate: 200,\n        animationEasingUpdate: 'exponentialOut',\n        crossStyle: {\n          color: '#999',\n          width: 1,\n          type: 'dashed',\n          // TODO formatter\n          textStyle: {} // lineStyle and shadowStyle should not be specified here,\n          // otherwise it will always override those styles on option.axisPointer.\n\n        }\n      },\n      textStyle: {\n        color: '#fff',\n        fontSize: 14\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var each$p = util.each;\n  var toCamelCase$1 = format$1.toCamelCase;\n  var vendors = ['', '-webkit-', '-moz-', '-o-'];\n  var gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n  /**\n   * @param {number} duration\n   * @return {string}\n   * @inner\n   */\n\n  function assembleTransition(duration) {\n    var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n    var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n    return util.map(vendors, function (vendorPrefix) {\n      return vendorPrefix + 'transition:' + transitionText;\n    }).join(';');\n  }\n  /**\n   * @param {Object} textStyle\n   * @return {string}\n   * @inner\n   */\n\n\n  function assembleFont(textStyleModel) {\n    var cssText = [];\n    var fontSize = textStyleModel.get('fontSize');\n    var color = textStyleModel.getTextColor();\n    color && cssText.push('color:' + color);\n    cssText.push('font:' + textStyleModel.getFont());\n    var lineHeight = textStyleModel.get('lineHeight');\n\n    if (lineHeight == null) {\n      lineHeight = Math.round(fontSize * 3 / 2);\n    }\n\n    fontSize && cssText.push('line-height:' + lineHeight + 'px');\n    var shadowColor = textStyleModel.get('textShadowColor');\n    var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n    var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n    var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n    shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n    each$p(['decoration', 'align'], function (name) {\n      var val = textStyleModel.get(name);\n      val && cssText.push('text-' + name + ':' + val);\n    });\n    return cssText.join(';');\n  }\n  /**\n   * @param {Object} tooltipModel\n   * @return {string}\n   * @inner\n   */\n\n\n  function assembleCssText(tooltipModel) {\n    var cssText = [];\n    var transitionDuration = tooltipModel.get('transitionDuration');\n    var backgroundColor = tooltipModel.get('backgroundColor');\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n    transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n    if (backgroundColor) {\n      if (env_1.canvasSupported) {\n        cssText.push('background-Color:' + backgroundColor);\n      } else {\n        // for ie\n        cssText.push('background-Color:#' + color.toHex(backgroundColor));\n        cssText.push('filter:alpha(opacity=70)');\n      }\n    } // Border style\n\n\n    each$p(['width', 'color', 'radius'], function (name) {\n      var borderName = 'border-' + name;\n      var camelCase = toCamelCase$1(borderName);\n      var val = tooltipModel.get(camelCase);\n      val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n    }); // Text style\n\n    cssText.push(assembleFont(textStyleModel)); // Padding\n\n    if (padding != null) {\n      cssText.push('padding:' + format$1.normalizeCssArray(padding).join('px ') + 'px');\n    }\n\n    return cssText.join(';') + ';';\n  } // If not able to make, do not modify the input `out`.\n\n\n  function makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n    var zrPainter = zr && zr.painter;\n\n    if (appendToBody) {\n      var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n      if (zrViewportRoot) {\n        // Some APPs might use scale on body, so we support CSS transform here.\n        dom.transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n      }\n    } else {\n      out[0] = zrX;\n      out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n      // the sibling of canvas root. So padding of ec container\n      // should be considered here.\n\n      var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n      if (viewportRootOffset) {\n        out[0] += viewportRootOffset.offsetLeft;\n        out[1] += viewportRootOffset.offsetTop;\n      }\n    }\n\n    out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n    out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n  }\n  /**\n   * @alias module:echarts/component/tooltip/TooltipContent\n   * @param {HTMLElement} container\n   * @param {ExtensionAPI} api\n   * @param {Object} [opt]\n   * @param {boolean} [opt.appendToBody]\n   *        `false`: the DOM element will be inside the container. Default value.\n   *        `true`: the DOM element will be appended to HTML body, which avoid\n   *                some overflow clip but intrude outside of the container.\n   * @constructor\n   */\n\n\n  function TooltipContent(container, api, opt) {\n    if (env_1.wxa) {\n      return null;\n    }\n\n    var el = document.createElement('div');\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendToBody = this._appendToBody = opt && opt.appendToBody;\n    this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n    makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n    if (appendToBody) {\n      document.body.appendChild(el);\n    } else {\n      container.appendChild(el);\n    }\n\n    this._container = container;\n    this._show = false;\n    /**\n     * @private\n     */\n\n    this._hideTimeout; // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n\n    var self = this;\n\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    };\n\n    el.onmousemove = function (e) {\n      e = e || window.event;\n\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        event.normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n\n    el.onmouseleave = function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    };\n  }\n\n  TooltipContent.prototype = {\n    constructor: TooltipContent,\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _enterable: true,\n\n    /**\n     * Update when tooltip is rendered\n     */\n    update: function (tooltipModel) {\n      // FIXME\n      // Move this logic to ec main?\n      var container = this._container;\n      var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n      var domStyle = container.style;\n\n      if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n        domStyle.position = 'relative';\n      }\n\n      var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      alwaysShowContent && this._moveTooltipIfResized(); // Hide the tooltip\n      // PENDING\n      // this.hide();\n    },\n\n    /**\n     * when `alwaysShowContent` is true,\n     * we should move the tooltip after chart resized\n     */\n    _moveTooltipIfResized: function () {\n      var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n      var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n      var realX = ratioX * this._zr.getWidth();\n\n      var realY = ratioY * this._zr.getHeight();\n\n      this.moveTo(realX, realY);\n    },\n    show: function (tooltipModel) {\n      clearTimeout(this._hideTimeout);\n      var el = this.el;\n      var styleCoord = this._styleCoord;\n      el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n      // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n      // we should set initial value to `left` and `top`.\n      + ';left:' + styleCoord[0] + 'px;top:' + styleCoord[1] + 'px;' + (tooltipModel.get('extraCssText') || '');\n      el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n\n      el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n      this._show = true;\n    },\n    setContent: function (content) {\n      this.el.innerHTML = content == null ? '' : content;\n    },\n    setEnterable: function (enterable) {\n      this._enterable = enterable;\n    },\n    getSize: function () {\n      var el = this.el;\n      return [el.clientWidth, el.clientHeight];\n    },\n    moveTo: function (zrX, zrY) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n      var style = this.el.style;\n      style.left = styleCoord[0] + 'px';\n      style.top = styleCoord[1] + 'px';\n    },\n    hide: function () {\n      this.el.style.display = 'none';\n      this._show = false;\n    },\n    hideLater: function (time) {\n      if (this._show && !(this._inContent && this._enterable)) {\n        if (time) {\n          this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n          this._show = false;\n          this._hideTimeout = setTimeout(util.bind(this.hide, this), time);\n        } else {\n          this.hide();\n        }\n      }\n    },\n    isShow: function () {\n      return this._show;\n    },\n    dispose: function () {\n      this.el.parentNode.removeChild(this.el);\n    },\n    getOuterSize: function () {\n      var width = this.el.clientWidth;\n      var height = this.el.clientHeight; // Consider browser compatibility.\n      // IE8 does not support getComputedStyle.\n\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        var stl = document.defaultView.getComputedStyle(this.el);\n\n        if (stl) {\n          width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n          height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n        }\n      }\n\n      return {\n        width: width,\n        height: height\n      };\n    }\n  };\n  var _default$1Q = TooltipContent;\n  var TooltipContent_1 = _default$1Q;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // import Group from 'zrender/src/container/Group';\n  function makeStyleCoord$1(out, zr, zrX, zrY) {\n    out[0] = zrX;\n    out[1] = zrY;\n    out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n    out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n  }\n  /**\n   * @alias module:echarts/component/tooltip/TooltipRichContent\n   * @constructor\n   */\n\n\n  function TooltipRichContent(api) {\n    var zr = this._zr = api.getZr();\n    this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n    makeStyleCoord$1(this._styleCoord, zr, api.getWidth() / 2, api.getHeight() / 2);\n    this._show = false;\n    /**\n     * @private\n     */\n\n    this._hideTimeout;\n  }\n\n  TooltipRichContent.prototype = {\n    constructor: TooltipRichContent,\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    _enterable: true,\n\n    /**\n     * Update when tooltip is rendered\n     */\n    update: function (tooltipModel) {\n      var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      alwaysShowContent && this._moveTooltipIfResized();\n    },\n\n    /**\n     * when `alwaysShowContent` is true,\n     * we should move the tooltip after chart resized\n     */\n    _moveTooltipIfResized: function () {\n      var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n      var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n      var realX = ratioX * this._zr.getWidth();\n\n      var realY = ratioY * this._zr.getHeight();\n\n      this.moveTo(realX, realY);\n    },\n    show: function (tooltipModel) {\n      if (this._hideTimeout) {\n        clearTimeout(this._hideTimeout);\n      }\n\n      this.el.attr('show', true);\n      this._show = true;\n    },\n\n    /**\n     * Set tooltip content\n     *\n     * @param {string} content rich text string of content\n     * @param {Object} markerRich rich text style\n     * @param {Object} tooltipModel tooltip model\n     */\n    setContent: function (content, markerRich, tooltipModel) {\n      if (this.el) {\n        this._zr.remove(this.el);\n      }\n\n      var markers = {};\n      var text = content;\n      var prefix = '{marker';\n      var suffix = '|}';\n      var startId = text.indexOf(prefix);\n\n      while (startId >= 0) {\n        var endId = text.indexOf(suffix);\n        var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n        if (name.indexOf('sub') > -1) {\n          markers['marker' + name] = {\n            textWidth: 4,\n            textHeight: 4,\n            textBorderRadius: 2,\n            textBackgroundColor: markerRich[name],\n            // TODO: textOffset is not implemented for rich text\n            textOffset: [3, 0]\n          };\n        } else {\n          markers['marker' + name] = {\n            textWidth: 10,\n            textHeight: 10,\n            textBorderRadius: 5,\n            textBackgroundColor: markerRich[name]\n          };\n        }\n\n        text = text.substr(endId + 1);\n        startId = text.indexOf('{marker');\n      }\n\n      var textStyleModel = tooltipModel.getModel('textStyle');\n      var fontSize = textStyleModel.get('fontSize');\n      var lineHeight = tooltipModel.get('textLineHeight');\n\n      if (lineHeight == null) {\n        lineHeight = Math.round(fontSize * 3 / 2);\n      }\n\n      this.el = new Text_1({\n        style: graphic.setTextStyle({}, textStyleModel, {\n          rich: markers,\n          text: content,\n          textBackgroundColor: tooltipModel.get('backgroundColor'),\n          textBorderRadius: tooltipModel.get('borderRadius'),\n          textFill: tooltipModel.get('textStyle.color'),\n          textPadding: tooltipModel.get('padding'),\n          textLineHeight: lineHeight\n        }),\n        z: tooltipModel.get('z')\n      });\n\n      this._zr.add(this.el);\n\n      var self = this;\n      this.el.on('mouseover', function () {\n        // clear the timeout in hideLater and keep showing tooltip\n        if (self._enterable) {\n          clearTimeout(self._hideTimeout);\n          self._show = true;\n        }\n\n        self._inContent = true;\n      });\n      this.el.on('mouseout', function () {\n        if (self._enterable) {\n          if (self._show) {\n            self.hideLater(self._hideDelay);\n          }\n        }\n\n        self._inContent = false;\n      });\n    },\n    setEnterable: function (enterable) {\n      this._enterable = enterable;\n    },\n    getSize: function () {\n      var bounding = this.el.getBoundingRect();\n      return [bounding.width, bounding.height];\n    },\n    moveTo: function (x, y) {\n      if (this.el) {\n        var styleCoord = this._styleCoord;\n        makeStyleCoord$1(styleCoord, this._zr, x, y);\n        this.el.attr('position', [styleCoord[0], styleCoord[1]]);\n      }\n    },\n    hide: function () {\n      if (this.el) {\n        this.el.hide();\n      }\n\n      this._show = false;\n    },\n    hideLater: function (time) {\n      if (this._show && !(this._inContent && this._enterable)) {\n        if (time) {\n          this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n          this._show = false;\n          this._hideTimeout = setTimeout(util.bind(this.hide, this), time);\n        } else {\n          this.hide();\n        }\n      }\n    },\n    isShow: function () {\n      return this._show;\n    },\n    dispose: function () {\n      clearTimeout(this._hideTimeout);\n\n      if (this.el) {\n        this._zr.remove(this.el);\n      }\n    },\n    getOuterSize: function () {\n      var size = this.getSize();\n      return {\n        width: size[0],\n        height: size[1]\n      };\n    }\n  };\n  var _default$1R = TooltipRichContent;\n  var TooltipRichContent_1 = _default$1R;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var getTooltipRenderMode$2 = model.getTooltipRenderMode;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var bind$3 = util.bind;\n  var each$q = util.each;\n  var parsePercent$5 = number.parsePercent;\n  var proxyRect = new graphic.Rect({\n    shape: {\n      x: -1,\n      y: -1,\n      width: 2,\n      height: 2\n    }\n  });\n\n  var _default$1S = echarts.extendComponentView({\n    type: 'tooltip',\n    init: function (ecModel, api) {\n      if (env_1.node) {\n        return;\n      }\n\n      var tooltipModel = ecModel.getComponent('tooltip');\n      var renderMode = tooltipModel.get('renderMode');\n      this._renderMode = getTooltipRenderMode$2(renderMode);\n      var tooltipContent;\n\n      if (this._renderMode === 'html') {\n        tooltipContent = new TooltipContent_1(api.getDom(), api, {\n          appendToBody: tooltipModel.get('appendToBody', true)\n        });\n        this._newLine = '<br/>';\n      } else {\n        tooltipContent = new TooltipRichContent_1(api);\n        this._newLine = '\\n';\n      }\n\n      this._tooltipContent = tooltipContent;\n    },\n    render: function (tooltipModel, ecModel, api) {\n      if (env_1.node) {\n        return;\n      } // Reset\n\n\n      this.group.removeAll();\n      /**\n       * @private\n       * @type {module:echarts/component/tooltip/TooltipModel}\n       */\n\n      this._tooltipModel = tooltipModel;\n      /**\n       * @private\n       * @type {module:echarts/model/Global}\n       */\n\n      this._ecModel = ecModel;\n      /**\n       * @private\n       * @type {module:echarts/ExtensionAPI}\n       */\n\n      this._api = api;\n      /**\n       * Should be cleaned when render.\n       * @private\n       * @type {Array.<Array.<Object>>}\n       */\n\n      this._lastDataByCoordSys = null;\n      /**\n       * @private\n       * @type {boolean}\n       */\n\n      this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n      var tooltipContent = this._tooltipContent;\n      tooltipContent.update(tooltipModel);\n      tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n      this._initGlobalListener();\n\n      this._keepShow();\n    },\n    _initGlobalListener: function () {\n      var tooltipModel = this._tooltipModel;\n      var triggerOn = tooltipModel.get('triggerOn');\n      globalListener.register('itemTooltip', this._api, bind$3(function (currTrigger, e, dispatchAction) {\n        // If 'none', it is not controlled by mouse totally.\n        if (triggerOn !== 'none') {\n          if (triggerOn.indexOf(currTrigger) >= 0) {\n            this._tryShow(e, dispatchAction);\n          } else if (currTrigger === 'leave') {\n            this._hide(dispatchAction);\n          }\n        }\n      }, this));\n    },\n    _keepShow: function () {\n      var tooltipModel = this._tooltipModel;\n      var ecModel = this._ecModel;\n      var api = this._api; // Try to keep the tooltip show when refreshing\n\n      if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n      // self.manuallyShowTip({x, y}) might cause tooltip hide,\n      // which is not expected.\n      && tooltipModel.get('triggerOn') !== 'none') {\n        var self = this;\n        clearTimeout(this._refreshUpdateTimeout);\n        this._refreshUpdateTimeout = setTimeout(function () {\n          // Show tip next tick after other charts are rendered\n          // In case highlight action has wrong result\n          // FIXME\n          !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n            x: self._lastX,\n            y: self._lastY\n          });\n        });\n      }\n    },\n\n    /**\n     * Show tip manually by\n     * dispatchAction({\n     *     type: 'showTip',\n     *     x: 10,\n     *     y: 10\n     * });\n     * Or\n     * dispatchAction({\n     *      type: 'showTip',\n     *      seriesIndex: 0,\n     *      dataIndex or dataIndexInside or name\n     * });\n     *\n     *  TODO Batch\n     */\n    manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n      if (payload.from === this.uid || env_1.node) {\n        return;\n      }\n\n      var dispatchAction = makeDispatchAction$1(payload, api); // Reset ticket\n\n      this._ticket = ''; // When triggered from axisPointer.\n\n      var dataByCoordSys = payload.dataByCoordSys;\n\n      if (payload.tooltip && payload.x != null && payload.y != null) {\n        var el = proxyRect;\n        el.position = [payload.x, payload.y];\n        el.update();\n        el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          target: el\n        }, dispatchAction);\n      } else if (dataByCoordSys) {\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          position: payload.position,\n          dataByCoordSys: payload.dataByCoordSys,\n          tooltipOption: payload.tooltipOption\n        }, dispatchAction);\n      } else if (payload.seriesIndex != null) {\n        if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n          return;\n        }\n\n        var pointInfo = findPointFromSeries(payload, ecModel);\n        var cx = pointInfo.point[0];\n        var cy = pointInfo.point[1];\n\n        if (cx != null && cy != null) {\n          this._tryShow({\n            offsetX: cx,\n            offsetY: cy,\n            position: payload.position,\n            target: pointInfo.el\n          }, dispatchAction);\n        }\n      } else if (payload.x != null && payload.y != null) {\n        // FIXME\n        // should wrap dispatchAction like `axisPointer/globalListener` ?\n        api.dispatchAction({\n          type: 'updateAxisPointer',\n          x: payload.x,\n          y: payload.y\n        });\n\n        this._tryShow({\n          offsetX: payload.x,\n          offsetY: payload.y,\n          position: payload.position,\n          target: api.getZr().findHover(payload.x, payload.y).target\n        }, dispatchAction);\n      }\n    },\n    manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n      var tooltipContent = this._tooltipContent;\n\n      if (!this._alwaysShowContent && this._tooltipModel) {\n        tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n      }\n\n      this._lastX = this._lastY = null;\n\n      if (payload.from !== this.uid) {\n        this._hide(makeDispatchAction$1(payload, api));\n      }\n    },\n    // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n    // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n    // and tooltip.\n    _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n      var seriesIndex = payload.seriesIndex;\n      var dataIndex = payload.dataIndex;\n      var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n      if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n        return;\n      }\n\n      var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n      if (!seriesModel) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n      if (tooltipModel.get('trigger') !== 'axis') {\n        return;\n      }\n\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        seriesIndex: seriesIndex,\n        dataIndex: dataIndex,\n        position: payload.position\n      });\n      return true;\n    },\n    _tryShow: function (e, dispatchAction) {\n      var el = e.target;\n      var tooltipModel = this._tooltipModel;\n\n      if (!tooltipModel) {\n        return;\n      } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n      this._lastX = e.offsetX;\n      this._lastY = e.offsetY;\n      var dataByCoordSys = e.dataByCoordSys;\n\n      if (dataByCoordSys && dataByCoordSys.length) {\n        this._showAxisTooltip(dataByCoordSys, e);\n      } // Always show item tooltip if mouse is on the element with dataIndex\n      else if (el && el.dataIndex != null) {\n          this._lastDataByCoordSys = null;\n\n          this._showSeriesItemTooltip(e, el, dispatchAction);\n        } // Tooltip provided directly. Like legend.\n        else if (el && el.tooltip) {\n            this._lastDataByCoordSys = null;\n\n            this._showComponentItemTooltip(e, el, dispatchAction);\n          } else {\n            this._lastDataByCoordSys = null;\n\n            this._hide(dispatchAction);\n          }\n    },\n    _showOrMove: function (tooltipModel, cb) {\n      // showDelay is used in this case: tooltip.enterable is set\n      // as true. User intent to move mouse into tooltip and click\n      // something. `showDelay` makes it easier to enter the content\n      // but tooltip do not move immediately.\n      var delay = tooltipModel.get('showDelay');\n      cb = util.bind(cb, this);\n      clearTimeout(this._showTimout);\n      delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n    },\n    _showAxisTooltip: function (dataByCoordSys, e) {\n      var ecModel = this._ecModel;\n      var globalTooltipModel = this._tooltipModel;\n      var point = [e.offsetX, e.offsetY];\n      var singleDefaultHTML = [];\n      var singleParamsList = [];\n      var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n      var renderMode = this._renderMode;\n      var newLine = this._newLine;\n      var markers = {};\n      each$q(dataByCoordSys, function (itemCoordSys) {\n        // var coordParamList = [];\n        // var coordDefaultHTML = [];\n        // var coordTooltipModel = buildTooltipModel([\n        //     e.tooltipOption,\n        //     itemCoordSys.tooltipOption,\n        //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n        //     globalTooltipModel\n        // ]);\n        // var displayMode = coordTooltipModel.get('displayMode');\n        // var paramsList = displayMode === 'single' ? singleParamsList : [];\n        each$q(itemCoordSys.dataByAxis, function (item) {\n          var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n          var axisValue = item.value;\n          var seriesDefaultHTML = [];\n\n          if (!axisModel || axisValue == null) {\n            return;\n          }\n\n          var valueLabel = viewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n          util.each(item.seriesDataIndices, function (idxItem) {\n            var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n            var dataIndex = idxItem.dataIndexInside;\n            var dataParams = series && series.getDataParams(dataIndex);\n            dataParams.axisDim = item.axisDim;\n            dataParams.axisIndex = item.axisIndex;\n            dataParams.axisType = item.axisType;\n            dataParams.axisId = item.axisId;\n            dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n            dataParams.axisValueLabel = valueLabel;\n\n            if (dataParams) {\n              singleParamsList.push(dataParams);\n              var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n              var html;\n\n              if (util.isObject(seriesTooltip)) {\n                html = seriesTooltip.html;\n                var newMarkers = seriesTooltip.markers;\n                util.merge(markers, newMarkers);\n              } else {\n                html = seriesTooltip;\n              }\n\n              seriesDefaultHTML.push(html);\n            }\n          }); // Default tooltip content\n          // FIXME\n          // (1) should be the first data which has name?\n          // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n          var firstLine = valueLabel;\n\n          if (renderMode !== 'html') {\n            singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n          } else {\n            singleDefaultHTML.push((firstLine ? format$1.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n          }\n        });\n      }, this); // In most case, the second axis is shown upper than the first one.\n\n      singleDefaultHTML.reverse();\n      singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n      var positionExpr = e.position;\n\n      this._showOrMove(singleTooltipModel, function () {\n        if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n          this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n        } else {\n          this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n        }\n      }); // Do not trigger events here, because this branch only be entered\n      // from dispatchAction.\n\n    },\n    _showSeriesItemTooltip: function (e, el, dispatchAction) {\n      var ecModel = this._ecModel; // Use dataModel in element if possible\n      // Used when mouseover on a element like markPoint or edge\n      // In which case, the data is not main data in series.\n\n      var seriesIndex = el.seriesIndex;\n      var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n      var dataModel = el.dataModel || seriesModel;\n      var dataIndex = el.dataIndex;\n      var dataType = el.dataType;\n      var data = dataModel.getData(dataType);\n      var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n      var tooltipTrigger = tooltipModel.get('trigger');\n\n      if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n        return;\n      }\n\n      var params = dataModel.getDataParams(dataIndex, dataType);\n      var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n      var defaultHtml;\n      var markers;\n\n      if (util.isObject(seriesTooltip)) {\n        defaultHtml = seriesTooltip.html;\n        markers = seriesTooltip.markers;\n      } else {\n        defaultHtml = seriesTooltip;\n        markers = null;\n      }\n\n      var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n      this._showOrMove(tooltipModel, function () {\n        this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n      }); // FIXME\n      // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n      dispatchAction({\n        type: 'showTip',\n        dataIndexInside: dataIndex,\n        dataIndex: data.getRawIndex(dataIndex),\n        seriesIndex: seriesIndex,\n        from: this.uid\n      });\n    },\n    _showComponentItemTooltip: function (e, el, dispatchAction) {\n      var tooltipOpt = el.tooltip;\n\n      if (typeof tooltipOpt === 'string') {\n        var content = tooltipOpt;\n        tooltipOpt = {\n          content: content,\n          // Fixed formatter\n          formatter: content\n        };\n      }\n\n      var subTooltipModel = new Model_1(tooltipOpt, this._tooltipModel, this._ecModel);\n      var defaultHtml = subTooltipModel.get('content');\n      var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n      // only works on coordinate system. In fact, we have not found case\n      // that requires setting `trigger` nothing on component yet.\n\n      this._showOrMove(subTooltipModel, function () {\n        this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n      }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n      dispatchAction({\n        type: 'showTip',\n        from: this.uid\n      });\n    },\n    _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n      // Reset ticket\n      this._ticket = '';\n\n      if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n        return;\n      }\n\n      var tooltipContent = this._tooltipContent;\n      var formatter = tooltipModel.get('formatter');\n      positionExpr = positionExpr || tooltipModel.get('position');\n      var html = defaultHtml;\n\n      if (formatter && typeof formatter === 'string') {\n        html = format$1.formatTpl(formatter, params, true);\n      } else if (typeof formatter === 'function') {\n        var callback = bind$3(function (cbTicket, html) {\n          if (cbTicket === this._ticket) {\n            tooltipContent.setContent(html, markers, tooltipModel);\n\n            this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n          }\n        }, this);\n        this._ticket = asyncTicket;\n        html = formatter(params, asyncTicket, callback);\n      }\n\n      tooltipContent.setContent(html, markers, tooltipModel);\n      tooltipContent.show(tooltipModel);\n\n      this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n    },\n\n    /**\n     * @param  {string|Function|Array.<number>|Object} positionExpr\n     * @param  {number} x Mouse x\n     * @param  {number} y Mouse y\n     * @param  {boolean} confine Whether confine tooltip content in view rect.\n     * @param  {Object|<Array.<Object>} params\n     * @param  {module:zrender/Element} el target element\n     * @param  {module:echarts/ExtensionAPI} api\n     * @return {Array.<number>}\n     */\n    _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n      var viewWidth = this._api.getWidth();\n\n      var viewHeight = this._api.getHeight();\n\n      positionExpr = positionExpr || tooltipModel.get('position');\n      var contentSize = content.getSize();\n      var align = tooltipModel.get('align');\n      var vAlign = tooltipModel.get('verticalAlign');\n      var rect = el && el.getBoundingRect().clone();\n      el && rect.applyTransform(el.transform);\n\n      if (typeof positionExpr === 'function') {\n        // Callback of position can be an array or a string specify the position\n        positionExpr = positionExpr([x, y], params, content.el, rect, {\n          viewSize: [viewWidth, viewHeight],\n          contentSize: contentSize.slice()\n        });\n      }\n\n      if (util.isArray(positionExpr)) {\n        x = parsePercent$5(positionExpr[0], viewWidth);\n        y = parsePercent$5(positionExpr[1], viewHeight);\n      } else if (util.isObject(positionExpr)) {\n        positionExpr.width = contentSize[0];\n        positionExpr.height = contentSize[1];\n        var layoutRect = layout.getLayoutRect(positionExpr, {\n          width: viewWidth,\n          height: viewHeight\n        });\n        x = layoutRect.x;\n        y = layoutRect.y;\n        align = null; // When positionExpr is left/top/right/bottom,\n        // align and verticalAlign will not work.\n\n        vAlign = null;\n      } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n      else if (typeof positionExpr === 'string' && el) {\n          var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n          x = pos[0];\n          y = pos[1];\n        } else {\n          var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n          x = pos[0];\n          y = pos[1];\n        }\n\n      align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n      vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n      if (tooltipModel.get('confine')) {\n        var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n        x = pos[0];\n        y = pos[1];\n      }\n\n      content.moveTo(x, y);\n    },\n    // FIXME\n    // Should we remove this but leave this to user?\n    _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n      var lastCoordSys = this._lastDataByCoordSys;\n      var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n      contentNotChanged && each$q(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n        var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n        var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n        var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n        contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n        contentNotChanged && each$q(lastDataByAxis, function (lastItem, indexAxis) {\n          var thisItem = thisDataByAxis[indexAxis] || {};\n          var lastIndices = lastItem.seriesDataIndices || [];\n          var newIndices = thisItem.seriesDataIndices || [];\n          contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n          contentNotChanged && each$q(lastIndices, function (lastIdxItem, j) {\n            var newIdxItem = newIndices[j];\n            contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n          });\n        });\n      });\n      this._lastDataByCoordSys = dataByCoordSys;\n      return !!contentNotChanged;\n    },\n    _hide: function (dispatchAction) {\n      // Do not directly hideLater here, because this behavior may be prevented\n      // in dispatchAction when showTip is dispatched.\n      // FIXME\n      // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n      this._lastDataByCoordSys = null;\n      dispatchAction({\n        type: 'hideTip',\n        from: this.uid\n      });\n    },\n    dispose: function (ecModel, api) {\n      if (env_1.node) {\n        return;\n      }\n\n      this._tooltipContent.dispose();\n\n      globalListener.unregister('itemTooltip', api);\n    }\n  });\n  /**\n   * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n   * From top to bottom. (the last one should be globalTooltipModel);\n   */\n\n\n  function buildTooltipModel(modelCascade) {\n    var resultModel = modelCascade.pop();\n\n    while (modelCascade.length) {\n      var tooltipOpt = modelCascade.pop();\n\n      if (tooltipOpt) {\n        if (Model_1.isInstance(tooltipOpt)) {\n          tooltipOpt = tooltipOpt.get('tooltip', true);\n        } // In each data item tooltip can be simply write:\n        // {\n        //  value: 10,\n        //  tooltip: 'Something you need to know'\n        // }\n\n\n        if (typeof tooltipOpt === 'string') {\n          tooltipOpt = {\n            formatter: tooltipOpt\n          };\n        }\n\n        resultModel = new Model_1(tooltipOpt, resultModel, resultModel.ecModel);\n      }\n    }\n\n    return resultModel;\n  }\n\n  function makeDispatchAction$1(payload, api) {\n    return payload.dispatchAction || util.bind(api.dispatchAction, api);\n  }\n\n  function refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n    var size = content.getOuterSize();\n    var width = size.width;\n    var height = size.height;\n\n    if (gapH != null) {\n      if (x + width + gapH > viewWidth) {\n        x -= width + gapH;\n      } else {\n        x += gapH;\n      }\n    }\n\n    if (gapV != null) {\n      if (y + height + gapV > viewHeight) {\n        y -= height + gapV;\n      } else {\n        y += gapV;\n      }\n    }\n\n    return [x, y];\n  }\n\n  function confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n    var size = content.getOuterSize();\n    var width = size.width;\n    var height = size.height;\n    x = Math.min(x + width, viewWidth) - width;\n    y = Math.min(y + height, viewHeight) - height;\n    x = Math.max(x, 0);\n    y = Math.max(y, 0);\n    return [x, y];\n  }\n\n  function calcTooltipPosition(position, rect, contentSize) {\n    var domWidth = contentSize[0];\n    var domHeight = contentSize[1];\n    var gap = 5;\n    var x = 0;\n    var y = 0;\n    var rectWidth = rect.width;\n    var rectHeight = rect.height;\n\n    switch (position) {\n      case 'inside':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n        break;\n\n      case 'top':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y - domHeight - gap;\n        break;\n\n      case 'bottom':\n        x = rect.x + rectWidth / 2 - domWidth / 2;\n        y = rect.y + rectHeight + gap;\n        break;\n\n      case 'left':\n        x = rect.x - domWidth - gap;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n        break;\n\n      case 'right':\n        x = rect.x + rectWidth + gap;\n        y = rect.y + rectHeight / 2 - domHeight / 2;\n    }\n\n    return [x, y];\n  }\n\n  function isCenterAlign(align) {\n    return align === 'center' || align === 'middle';\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME Better way to pack data in graphic element\n\n  /**\n   * @action\n   * @property {string} type\n   * @property {number} seriesIndex\n   * @property {number} dataIndex\n   * @property {number} [x]\n   * @property {number} [y]\n   */\n  echarts.registerAction({\n    type: 'showTip',\n    event: 'showTip',\n    update: 'tooltip:manuallyShowTip'\n  }, // noop\n  function () {});\n  echarts.registerAction({\n    type: 'hideTip',\n    event: 'hideTip',\n    update: 'tooltip:manuallyHideTip'\n  }, // noop\n  function () {});\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var isNameSpecified$1 = model.isNameSpecified;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var langSelector = lang.legend.selector;\n  var defaultSelectorOption = {\n    all: {\n      type: 'all',\n      title: util.clone(langSelector.all)\n    },\n    inverse: {\n      type: 'inverse',\n      title: util.clone(langSelector.inverse)\n    }\n  };\n  var LegendModel = echarts.extendComponentModel({\n    type: 'legend.plain',\n    dependencies: ['series'],\n    layoutMode: {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas realy width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    },\n    init: function (option, parentModel, ecModel) {\n      this.mergeDefaultAndTheme(option, ecModel);\n      option.selected = option.selected || {};\n\n      this._updateSelector(option);\n    },\n    mergeOption: function (option) {\n      LegendModel.superCall(this, 'mergeOption', option);\n\n      this._updateSelector(option);\n    },\n    _updateSelector: function (option) {\n      var selector = option.selector;\n\n      if (selector === true) {\n        selector = option.selector = ['all', 'inverse'];\n      }\n\n      if (util.isArray(selector)) {\n        util.each(selector, function (item, index) {\n          util.isString(item) && (item = {\n            type: item\n          });\n          selector[index] = util.merge(item, defaultSelectorOption[item.type]);\n        });\n      }\n    },\n    optionUpdated: function () {\n      this._updateData(this.ecModel);\n\n      var legendData = this._data; // If selectedMode is single, try to select one\n\n      if (legendData[0] && this.get('selectedMode') === 'single') {\n        var hasSelected = false; // If has any selected in option.selected\n\n        for (var i = 0; i < legendData.length; i++) {\n          var name = legendData[i].get('name');\n\n          if (this.isSelected(name)) {\n            // Force to unselect others\n            this.select(name);\n            hasSelected = true;\n            break;\n          }\n        } // Try select the first if selectedMode is single\n\n\n        !hasSelected && this.select(legendData[0].get('name'));\n      }\n    },\n    _updateData: function (ecModel) {\n      var potentialData = [];\n      var availableNames = [];\n      ecModel.eachRawSeries(function (seriesModel) {\n        var seriesName = seriesModel.name;\n        availableNames.push(seriesName);\n        var isPotential;\n\n        if (seriesModel.legendVisualProvider) {\n          var provider = seriesModel.legendVisualProvider;\n          var names = provider.getAllNames();\n\n          if (!ecModel.isSeriesFiltered(seriesModel)) {\n            availableNames = availableNames.concat(names);\n          }\n\n          if (names.length) {\n            potentialData = potentialData.concat(names);\n          } else {\n            isPotential = true;\n          }\n        } else {\n          isPotential = true;\n        }\n\n        if (isPotential && isNameSpecified$1(seriesModel)) {\n          potentialData.push(seriesModel.name);\n        }\n      });\n      /**\n       * @type {Array.<string>}\n       * @private\n       */\n\n      this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n      // which is convinient for user preparing option.\n\n      var rawData = this.get('data') || potentialData;\n      var legendData = util.map(rawData, function (dataItem) {\n        // Can be string or number\n        if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n          dataItem = {\n            name: dataItem\n          };\n        }\n\n        return new Model_1(dataItem, this, this.ecModel);\n      }, this);\n      /**\n       * @type {Array.<module:echarts/model/Model>}\n       * @private\n       */\n\n      this._data = legendData;\n    },\n\n    /**\n     * @return {Array.<module:echarts/model/Model>}\n     */\n    getData: function () {\n      return this._data;\n    },\n\n    /**\n     * @param {string} name\n     */\n    select: function (name) {\n      var selected = this.option.selected;\n      var selectedMode = this.get('selectedMode');\n\n      if (selectedMode === 'single') {\n        var data = this._data;\n        util.each(data, function (dataItem) {\n          selected[dataItem.get('name')] = false;\n        });\n      }\n\n      selected[name] = true;\n    },\n\n    /**\n     * @param {string} name\n     */\n    unSelect: function (name) {\n      if (this.get('selectedMode') !== 'single') {\n        this.option.selected[name] = false;\n      }\n    },\n\n    /**\n     * @param {string} name\n     */\n    toggleSelected: function (name) {\n      var selected = this.option.selected; // Default is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      this[selected[name] ? 'unSelect' : 'select'](name);\n    },\n    allSelect: function () {\n      var data = this._data;\n      var selected = this.option.selected;\n      util.each(data, function (dataItem) {\n        selected[dataItem.get('name', true)] = true;\n      });\n    },\n    inverseSelect: function () {\n      var data = this._data;\n      var selected = this.option.selected;\n      util.each(data, function (dataItem) {\n        var name = dataItem.get('name', true); // Initially, default value is true\n\n        if (!selected.hasOwnProperty(name)) {\n          selected[name] = true;\n        }\n\n        selected[name] = !selected[name];\n      });\n    },\n\n    /**\n     * @param {string} name\n     */\n    isSelected: function (name) {\n      var selected = this.option.selected;\n      return !(selected.hasOwnProperty(name) && !selected[name]) && util.indexOf(this._availableNames, name) >= 0;\n    },\n    getOrient: function () {\n      return this.get('orient') === 'vertical' ? {\n        index: 1,\n        name: 'vertical'\n      } : {\n        index: 0,\n        name: 'horizontal'\n      };\n    },\n    defaultOption: {\n      // \n      zlevel: 0,\n      // \n      z: 4,\n      show: true,\n      // \n      // 'horizontal' | 'vertical'\n      orient: 'horizontal',\n      left: 'center',\n      // right: 'center',\n      top: 0,\n      // bottom: null,\n      // \n      // 'auto' | 'left' | 'right'\n      //  'auto',  x \n      align: 'auto',\n      backgroundColor: 'rgba(0,0,0,0)',\n      // \n      borderColor: '#ccc',\n      borderRadius: 0,\n      // px0\n      borderWidth: 0,\n      // px5\n      // css\n      padding: 5,\n      // itempx10\n      // \n      itemGap: 10,\n      // the width of legend symbol\n      itemWidth: 25,\n      // the height of legend symbol\n      itemHeight: 14,\n      // the color of unselected legend symbol\n      inactiveColor: '#ccc',\n      // the borderColor of unselected legend symbol\n      inactiveBorderColor: '#ccc',\n      itemStyle: {\n        // the default borderWidth of legend symbol\n        borderWidth: 0\n      },\n      textStyle: {\n        // \n        color: '#333'\n      },\n      // formatter: '',\n      // \n      selectedMode: true,\n      // LEGEND.SELECTED\n      // selected: null,\n      // legend.dataitem\n      // data: [],\n      // Usage:\n      // selector: [{type: 'all or inverse', title: xxx}]\n      // or\n      // selector: true\n      // or\n      // selector: ['all', 'inverse']\n      selector: false,\n      selectorLabel: {\n        show: true,\n        borderRadius: 10,\n        padding: [3, 5, 3, 5],\n        fontSize: 12,\n        fontFamily: ' sans-serif',\n        color: '#666',\n        borderWidth: 1,\n        borderColor: '#666'\n      },\n      emphasis: {\n        selectorLabel: {\n          show: true,\n          color: '#eee',\n          backgroundColor: '#666'\n        }\n      },\n      // Value can be 'start' or 'end'\n      selectorPosition: 'auto',\n      selectorItemGap: 7,\n      selectorButtonGap: 10,\n      // Tooltip \n      tooltip: {\n        show: false\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function legendSelectActionHandler(methodName, payload, ecModel) {\n    var selectedMap = {};\n    var isToggleSelect = methodName === 'toggleSelected';\n    var isSelected; // Update all legend components\n\n    ecModel.eachComponent('legend', function (legendModel) {\n      if (isToggleSelect && isSelected != null) {\n        // Force other legend has same selected status\n        // Or the first is toggled to true and other are toggled to false\n        // In the case one legend has some item unSelected in option. And if other legend\n        // doesn't has the item, they will assume it is selected.\n        legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n      } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n        legendModel[methodName]();\n      } else {\n        legendModel[methodName](payload.name);\n        isSelected = legendModel.isSelected(payload.name);\n      }\n\n      var legendData = legendModel.getData();\n      util.each(legendData, function (model) {\n        var name = model.get('name'); // Wrap element\n\n        if (name === '\\n' || name === '') {\n          return;\n        }\n\n        var isItemSelected = legendModel.isSelected(name);\n\n        if (selectedMap.hasOwnProperty(name)) {\n          // Unselected if any legend is unselected\n          selectedMap[name] = selectedMap[name] && isItemSelected;\n        } else {\n          selectedMap[name] = isItemSelected;\n        }\n      });\n    }); // Return the event explicitly\n\n    return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n      selected: selectedMap\n    } : {\n      name: payload.name,\n      selected: selectedMap\n    };\n  }\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n\n\n  echarts.registerAction('legendToggleSelect', 'legendselectchanged', util.curry(legendSelectActionHandler, 'toggleSelected'));\n  echarts.registerAction('legendAllSelect', 'legendselectall', util.curry(legendSelectActionHandler, 'allSelect'));\n  echarts.registerAction('legendInverseSelect', 'legendinverseselect', util.curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  echarts.registerAction('legendSelect', 'legendselected', util.curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  echarts.registerAction('legendUnSelect', 'legendunselected', util.curry(legendSelectActionHandler, 'unSelect'));\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var getLayoutRect$2 = layout.getLayoutRect;\n  var layoutBox = layout.box;\n  var positionElement$1 = layout.positionElement;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Layout list like component.\n   * It will box layout each items in group of component and then position the whole group in the viewport\n   * @param {module:zrender/group/Group} group\n   * @param {module:echarts/model/Component} componentModel\n   * @param {module:echarts/ExtensionAPI}\n   */\n  function layout$3(group, componentModel, api) {\n    var boxLayoutParams = componentModel.getBoxLayoutParams();\n    var padding = componentModel.get('padding');\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var rect = getLayoutRect$2(boxLayoutParams, viewportSize, padding);\n    layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n    positionElement$1(group, boxLayoutParams, viewportSize, padding);\n  }\n\n  function makeBackground(rect, componentModel) {\n    var padding = format$1.normalizeCssArray(componentModel.get('padding'));\n    var style = componentModel.getItemStyle(['color', 'opacity']);\n    style.fill = componentModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[1] + padding[3],\n        height: rect.height + padding[0] + padding[2],\n        r: componentModel.get('borderRadius')\n      },\n      style: style,\n      silent: true,\n      z2: -1\n    }); // FIXME\n    // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n    // and background rect when setting like `left: 0`, `top: 0`.\n    // graphic.subPixelOptimizeRect(rect);\n\n    return rect;\n  }\n\n  var layout_1$2 = layout$3;\n  var makeBackground_1 = makeBackground;\n\n  var listComponent = {\n  \tlayout: layout_1$2,\n  \tmakeBackground: makeBackground_1\n  };\n\n  var createSymbol$4 = symbol.createSymbol;\n\n\n\n\n\n  var makeBackground$1 = listComponent.makeBackground;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var curry$3 = util.curry;\n  var each$r = util.each;\n  var Group$1 = graphic.Group;\n\n  var _default$1T = echarts.extendComponentView({\n    type: 'legend.plain',\n    newlineDisabled: false,\n\n    /**\n     * @override\n     */\n    init: function () {\n      /**\n       * @private\n       * @type {module:zrender/container/Group}\n       */\n      this.group.add(this._contentGroup = new Group$1());\n      /**\n       * @private\n       * @type {module:zrender/Element}\n       */\n\n      this._backgroundEl;\n      /**\n       * @private\n       * @type {module:zrender/container/Group}\n       */\n\n      this.group.add(this._selectorGroup = new Group$1());\n      /**\n       * If first rendering, `contentGroup.position` is [0, 0], which\n       * does not make sense and may cause unexepcted animation if adopted.\n       * @private\n       * @type {boolean}\n       */\n\n      this._isFirstRender = true;\n    },\n\n    /**\n     * @protected\n     */\n    getContentGroup: function () {\n      return this._contentGroup;\n    },\n\n    /**\n     * @protected\n     */\n    getSelectorGroup: function () {\n      return this._selectorGroup;\n    },\n\n    /**\n     * @override\n     */\n    render: function (legendModel, ecModel, api) {\n      var isFirstRender = this._isFirstRender;\n      this._isFirstRender = false;\n      this.resetInner();\n\n      if (!legendModel.get('show', true)) {\n        return;\n      }\n\n      var itemAlign = legendModel.get('align');\n      var orient = legendModel.get('orient');\n\n      if (!itemAlign || itemAlign === 'auto') {\n        itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n      }\n\n      var selector = legendModel.get('selector', true);\n      var selectorPosition = legendModel.get('selectorPosition', true);\n\n      if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n        selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n      }\n\n      this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n      var positionInfo = legendModel.getBoxLayoutParams();\n      var viewportSize = {\n        width: api.getWidth(),\n        height: api.getHeight()\n      };\n      var padding = legendModel.get('padding');\n      var maxSize = layout.getLayoutRect(positionInfo, viewportSize, padding);\n      var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n      var layoutRect = layout.getLayoutRect(util.defaults({\n        width: mainRect.width,\n        height: mainRect.height\n      }, positionInfo), viewportSize, padding);\n      this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n      this.group.add(this._backgroundEl = makeBackground$1(mainRect, legendModel));\n    },\n\n    /**\n     * @protected\n     */\n    resetInner: function () {\n      this.getContentGroup().removeAll();\n      this._backgroundEl && this.group.remove(this._backgroundEl);\n      this.getSelectorGroup().removeAll();\n    },\n\n    /**\n     * @protected\n     */\n    renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n      var contentGroup = this.getContentGroup();\n      var legendDrawnMap = util.createHashMap();\n      var selectMode = legendModel.get('selectedMode');\n      var excludeSeriesId = [];\n      ecModel.eachRawSeries(function (seriesModel) {\n        !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n      });\n      each$r(legendModel.getData(), function (itemModel, dataIndex) {\n        var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n        if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n          contentGroup.add(new Group$1({\n            newline: true\n          }));\n          return;\n        } // Representitive series.\n\n\n        var seriesModel = ecModel.getSeriesByName(name)[0];\n\n        if (legendDrawnMap.get(name)) {\n          // Have been drawed\n          return;\n        } // Legend to control series.\n\n\n        if (seriesModel) {\n          var data = seriesModel.getData();\n          var color = data.getVisual('color');\n          var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n          if (typeof color === 'function') {\n            // Use the first data\n            color = color(seriesModel.getDataParams(0));\n          } // If borderColor is a callback function\n\n\n          if (typeof borderColor === 'function') {\n            // Use the first data\n            borderColor = borderColor(seriesModel.getDataParams(0));\n          } // Using rect symbol defaultly\n\n\n          var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n          var symbolType = data.getVisual('symbol');\n\n          var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n          itemGroup.on('click', curry$3(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry$3(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry$3(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n          legendDrawnMap.set(name, true);\n        } else {\n          // Legend to control data. In pie and funnel.\n          ecModel.eachRawSeries(function (seriesModel) {\n            // In case multiple series has same data name\n            if (legendDrawnMap.get(name)) {\n              return;\n            }\n\n            if (seriesModel.legendVisualProvider) {\n              var provider = seriesModel.legendVisualProvider;\n\n              if (!provider.containName(name)) {\n                return;\n              }\n\n              var idx = provider.indexOfName(name);\n              var color = provider.getItemVisual(idx, 'color');\n              var borderColor = provider.getItemVisual(idx, 'borderColor');\n              var legendSymbolType = 'roundRect';\n\n              var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n              itemGroup.on('click', curry$3(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n              // more than one pie series.\n              .on('mouseover', curry$3(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry$3(dispatchDownplayAction, null, name, api, excludeSeriesId));\n              legendDrawnMap.set(name, true);\n            }\n          }, this);\n        }\n      }, this);\n\n      if (selector) {\n        this._createSelector(selector, legendModel, api, orient, selectorPosition);\n      }\n    },\n    _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n      var selectorGroup = this.getSelectorGroup();\n      each$r(selector, function (selectorItem) {\n        createSelectorButton(selectorItem);\n      });\n\n      function createSelectorButton(selectorItem) {\n        var type = selectorItem.type;\n        var labelText = new graphic.Text({\n          style: {\n            x: 0,\n            y: 0,\n            align: 'center',\n            verticalAlign: 'middle'\n          },\n          onclick: function () {\n            api.dispatchAction({\n              type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n            });\n          }\n        });\n        selectorGroup.add(labelText);\n        var labelModel = legendModel.getModel('selectorLabel');\n        var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n        graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n          defaultText: selectorItem.title,\n          isRectText: false\n        });\n        graphic.setHoverStyle(labelText);\n      }\n    },\n    _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n      var itemWidth = legendModel.get('itemWidth');\n      var itemHeight = legendModel.get('itemHeight');\n      var inactiveColor = legendModel.get('inactiveColor');\n      var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n      var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n      var legendModelItemStyle = legendModel.getModel('itemStyle');\n      var isSelected = legendModel.isSelected(name);\n      var itemGroup = new Group$1();\n      var textStyleModel = itemModel.getModel('textStyle');\n      var itemIcon = itemModel.get('icon');\n      var tooltipModel = itemModel.getModel('tooltip');\n      var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n      legendSymbolType = itemIcon || legendSymbolType;\n      var legendSymbol = createSymbol$4(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect);\n      itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n      // PENDING\n\n      if (!itemIcon && symbolType // At least show one symbol, can't be all none\n      && (symbolType !== legendSymbolType || symbolType === 'none')) {\n        var size = itemHeight * 0.8;\n\n        if (symbolType === 'none') {\n          symbolType = 'circle';\n        }\n\n        var legendSymbolCenter = createSymbol$4(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n        symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n        itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n      }\n\n      var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n      var textAlign = itemAlign;\n      var formatter = legendModel.get('formatter');\n      var content = name;\n\n      if (typeof formatter === 'string' && formatter) {\n        content = formatter.replace('{name}', name != null ? name : '');\n      } else if (typeof formatter === 'function') {\n        content = formatter(name);\n      }\n\n      itemGroup.add(new graphic.Text({\n        style: graphic.setTextStyle({}, textStyleModel, {\n          text: content,\n          x: textX,\n          y: itemHeight / 2,\n          textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n          textAlign: textAlign,\n          textVerticalAlign: 'middle'\n        })\n      })); // Add a invisible rect to increase the area of mouse hover\n\n      var hitRect = new graphic.Rect({\n        shape: itemGroup.getBoundingRect(),\n        invisible: true,\n        tooltip: tooltipModel.get('show') ? util.extend({\n          content: name,\n          // Defaul formatter\n          formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n            return name;\n          },\n          formatterParams: {\n            componentType: 'legend',\n            legendIndex: legendModel.componentIndex,\n            name: name,\n            $vars: ['name']\n          }\n        }, tooltipModel.option) : null\n      });\n      itemGroup.add(hitRect);\n      itemGroup.eachChild(function (child) {\n        child.silent = true;\n      });\n      hitRect.silent = !selectMode;\n      this.getContentGroup().add(itemGroup);\n      graphic.setHoverStyle(itemGroup);\n      itemGroup.__legendDataIndex = dataIndex;\n      return itemGroup;\n    },\n\n    /**\n     * @protected\n     */\n    layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n      var contentGroup = this.getContentGroup();\n      var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n      layout.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n      var contentRect = contentGroup.getBoundingRect();\n      var contentPos = [-contentRect.x, -contentRect.y];\n\n      if (selector) {\n        // Place buttons in selectorGroup\n        layout.box( // Buttons in selectorGroup always layout horizontally\n        'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n        var selectorRect = selectorGroup.getBoundingRect();\n        var selectorPos = [-selectorRect.x, -selectorRect.y];\n        var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n        var orientIdx = legendModel.getOrient().index;\n        var wh = orientIdx === 0 ? 'width' : 'height';\n        var hw = orientIdx === 0 ? 'height' : 'width';\n        var yx = orientIdx === 0 ? 'y' : 'x';\n\n        if (selectorPosition === 'end') {\n          selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n        } else {\n          contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n        } //Always align selector to content as 'middle'\n\n\n        selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n        selectorGroup.attr('position', selectorPos);\n        contentGroup.attr('position', contentPos);\n        var mainRect = {\n          x: 0,\n          y: 0\n        };\n        mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n        mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n        mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n        return mainRect;\n      } else {\n        contentGroup.attr('position', contentPos);\n        return this.group.getBoundingRect();\n      }\n    },\n\n    /**\n     * @protected\n     */\n    remove: function () {\n      this.getContentGroup().removeAll();\n      this._isFirstRender = true;\n    }\n  });\n\n  function setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n    var itemStyle;\n\n    if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n      itemStyle = legendModelItemStyle.getItemStyle();\n      symbol.style.stroke = borderColor;\n\n      if (!isSelected) {\n        itemStyle.stroke = inactiveBorderColor;\n      }\n    } else {\n      itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n    }\n\n    return symbol.setStyle(itemStyle);\n  }\n\n  function dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n    // downplay before unselect\n    dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n    api.dispatchAction({\n      type: 'legendToggleSelect',\n      name: seriesName != null ? seriesName : dataName\n    }); // highlight after select\n\n    dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n  }\n\n  function dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n\n    if (!(el && el.useHoverLayer)) {\n      api.dispatchAction({\n        type: 'highlight',\n        seriesName: seriesName,\n        name: dataName,\n        excludeSeriesId: excludeSeriesId\n      });\n    }\n  }\n\n  function dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n    // If element hover will move to a hoverLayer.\n    var el = api.getZr().storage.getDisplayList()[0];\n\n    if (!(el && el.useHoverLayer)) {\n      api.dispatchAction({\n        type: 'downplay',\n        seriesName: seriesName,\n        name: dataName,\n        excludeSeriesId: excludeSeriesId\n      });\n    }\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1U(ecModel) {\n    var legendModels = ecModel.findComponents({\n      mainType: 'legend'\n    });\n\n    if (legendModels && legendModels.length) {\n      ecModel.filterSeries(function (series) {\n        // If in any legend component the status is not selected.\n        // Because in legend series is assumed selected when it is not in the legend data.\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(series.name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  }\n\n  var legendFilter = _default$1U;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Do not contain scrollable legend, for sake of file size.\n  // Series Filter\n  echarts.registerProcessor(echarts.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  Component.registerSubTypeDefaulter('legend', function () {\n    // Default 'plain' when no type specified.\n    return 'plain';\n  });\n\n  var constants = createCommonjsModule(function (module, exports) {\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  var DEFAULT_THEME = {\n    categoryAxis: {\n      axisLine: { show: false },\n      axisTick: { show: false },\n      splitLine: { show: false }\n    },\n    valueAxis: {\n      axisLine: { show: false }\n    },\n    line: {\n      smooth: true\n    },\n    grid: {\n      containLabel: true,\n      left: 10,\n      right: 10\n    }\n  };\n\n  var DEFAULT_COLORS = ['#19d4ae', '#5ab1ef', '#fa6e86', '#ffb980', '#0067a6', '#c4b4e4', '#d87a80', '#9cbbff', '#d9d0c7', '#87a997', '#d49ea2', '#5b4947', '#7ba3a8'];\n\n  var HEAT_MAP_COLOR = ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026'];\n\n  var HEAT_BMAP_COLOR = ['blue', 'blue', 'green', 'yellow', 'red'];\n\n  var itemPoint = function itemPoint(color) {\n    return ['<span style=\"', 'background-color:' + color + ';', 'display: inline-block;', 'width: 10px;', 'height: 10px;', 'border-radius: 50%;', 'margin-right:2px;', '\"></span>'].join('');\n  };\n\n  var STATIC_PROPS = ['initOptions', 'loading', 'dataEmpty', 'judgeWidth', 'widthChangeDelay'];\n\n  var ECHARTS_SETTINGS = ['grid', 'dataZoom', 'visualMap', 'toolbox', 'title', 'legend', 'xAxis', 'yAxis', 'radar', 'tooltip', 'axisPointer', 'brush', 'geo', 'timeline', 'graphic', 'series', 'backgroundColor', 'textStyle'];\n\n  exports.DEFAULT_THEME = DEFAULT_THEME;\n  exports.DEFAULT_COLORS = DEFAULT_COLORS;\n  exports.HEAT_MAP_COLOR = HEAT_MAP_COLOR;\n  exports.HEAT_BMAP_COLOR = HEAT_BMAP_COLOR;\n  exports.itemPoint = itemPoint;\n  exports.STATIC_PROPS = STATIC_PROPS;\n  exports.ECHARTS_SETTINGS = ECHARTS_SETTINGS;\n  });\n\n  function _interopDefault$1 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n  var echartsLib = _interopDefault$1(echarts);\n\n\n  var numerify$1 = _interopDefault$1(require$$3);\n\n\n  var Loading = { render: function render() {\n      var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"v-charts-component-loading\" }, [_c('div', { staticClass: \"loader\" }, [_c('div', { staticClass: \"loading-spinner\" }, [_c('svg', { staticClass: \"circular\", attrs: { \"viewBox\": \"25 25 50 50\" } }, [_c('circle', { staticClass: \"path\", attrs: { \"cx\": \"50\", \"cy\": \"50\", \"r\": \"20\", \"fill\": \"none\" } })])])])]);\n    }, staticRenderFns: []\n  };\n\n  var DataEmpty = { render: function render() {\n      var _vm = this;var _h = _vm.$createElement;var _c = _vm._self._c || _h;return _c('div', { staticClass: \"v-charts-data-empty\" }, [_vm._v(\"  \")]);\n    }, staticRenderFns: []\n  };\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function setExtend (options, extend) {\n    Object.keys(extend).forEach(function (attr) {\n      var value = extend[attr];\n      if (~attr.indexOf('.')) {\n        // eg: a.b.c a.1.b\n        utilsLite.set(options, attr, value);\n      } else if (typeof value === 'function') {\n        // get callback value\n        options[attr] = value(options[attr]);\n      } else {\n        // mixin extend value\n        if (utilsLite.isArray(options[attr]) && utilsLite.isObject(options[attr][0])) {\n          // eg: [{ xx: 1 }, { xx: 2 }]\n          options[attr].forEach(function (option, index) {\n            options[attr][index] = _extends({}, option, value);\n          });\n        } else if (utilsLite.isObject(options[attr])) {\n          // eg: { xx: 1, yy: 2 }\n          options[attr] = _extends({}, options[attr], value);\n        } else {\n          options[attr] = value;\n        }\n      }\n    });\n  }\n\n  function setMark (seriesItem, marks) {\n    Object.keys(marks).forEach(function (key) {\n      if (marks[key]) seriesItem[key] = marks[key];\n    });\n  }\n\n  function setAnimation (options, animation) {\n    Object.keys(animation).forEach(function (key) {\n      options[key] = animation[key];\n    });\n  }\n\n  var core = {\n    render: function render(h) {\n      return h('div', {\n        class: [utilsLite.camelToKebab(this.$options.name || this.$options._componentTag)],\n        style: this.canvasStyle\n      }, [h('div', {\n        style: this.canvasStyle,\n        class: { 'v-charts-mask-status': this.dataEmpty || this.loading },\n        ref: 'canvas'\n      }), h(DataEmpty, {\n        style: { display: this.dataEmpty ? '' : 'none' }\n      }), h(Loading, {\n        style: { display: this.loading ? '' : 'none' }\n      }), this.$slots.default]);\n    },\n\n\n    props: {\n      data: { type: [Object, Array], default: function _default() {\n          return {};\n        }\n      },\n      settings: { type: Object, default: function _default() {\n          return {};\n        }\n      },\n      width: { type: String, default: 'auto' },\n      height: { type: String, default: '400px' },\n      beforeConfig: { type: Function },\n      afterConfig: { type: Function },\n      afterSetOption: { type: Function },\n      afterSetOptionOnce: { type: Function },\n      events: { type: Object },\n      grid: { type: [Object, Array] },\n      colors: { type: Array },\n      tooltipVisible: { type: Boolean, default: true },\n      legendVisible: { type: Boolean, default: true },\n      legendPosition: { type: String },\n      markLine: { type: Object },\n      markArea: { type: Object },\n      markPoint: { type: Object },\n      visualMap: { type: [Object, Array] },\n      dataZoom: { type: [Object, Array] },\n      toolbox: { type: [Object, Array] },\n      initOptions: { type: Object, default: function _default() {\n          return {};\n        }\n      },\n      title: [Object, Array],\n      legend: [Object, Array],\n      xAxis: [Object, Array],\n      yAxis: [Object, Array],\n      radar: Object,\n      tooltip: Object,\n      axisPointer: [Object, Array],\n      brush: [Object, Array],\n      geo: [Object, Array],\n      timeline: [Object, Array],\n      graphic: [Object, Array],\n      series: [Object, Array],\n      backgroundColor: [Object, String],\n      textStyle: [Object, Array],\n      animation: Object,\n      theme: Object,\n      themeName: String,\n      loading: Boolean,\n      dataEmpty: Boolean,\n      extend: Object,\n      judgeWidth: { type: Boolean, default: false },\n      widthChangeDelay: { type: Number, default: 300 },\n      tooltipFormatter: { type: Function },\n      resizeable: { type: Boolean, default: true },\n      resizeDelay: { type: Number, default: 200 },\n      changeDelay: { type: Number, default: 0 },\n      setOptionOpts: { type: [Boolean, Object], default: true },\n      cancelResizeCheck: Boolean,\n      notSetUnchange: Array,\n      log: Boolean\n    },\n\n    watch: {\n      data: {\n        deep: true,\n        handler: function handler(v) {\n          if (v) {\n            this.changeHandler();\n          }\n        }\n      },\n\n      settings: {\n        deep: true,\n        handler: function handler(v) {\n          if (v.type && this.chartLib) this.chartHandler = this.chartLib[v.type];\n          this.changeHandler();\n        }\n      },\n\n      width: 'nextTickResize',\n      height: 'nextTickResize',\n\n      events: {\n        deep: true,\n        handler: 'createEventProxy'\n      },\n\n      theme: {\n        deep: true,\n        handler: 'themeChange'\n      },\n\n      themeName: 'themeChange',\n\n      resizeable: 'resizeableHandler'\n    },\n\n    computed: {\n      canvasStyle: function canvasStyle() {\n        return {\n          width: this.width,\n          height: this.height,\n          position: 'relative'\n        };\n      },\n      chartColor: function chartColor() {\n        return this.colors || this.theme && this.theme.color || constants.DEFAULT_COLORS;\n      }\n    },\n\n    methods: {\n      dataHandler: function dataHandler() {\n        if (!this.chartHandler) return;\n        var data = this.data;\n        var _data = data,\n            _data$columns = _data.columns,\n            columns = _data$columns === undefined ? [] : _data$columns,\n            _data$rows = _data.rows,\n            rows = _data$rows === undefined ? [] : _data$rows;\n\n        var extra = {\n          tooltipVisible: this.tooltipVisible,\n          legendVisible: this.legendVisible,\n          echarts: this.echarts,\n          color: this.chartColor,\n          tooltipFormatter: this.tooltipFormatter,\n          _once: this._once\n        };\n        if (this.beforeConfig) data = this.beforeConfig(data);\n\n        var options = this.chartHandler(columns, rows, this.settings, extra);\n        if (options) {\n          if (typeof options.then === 'function') {\n            options.then(this.optionsHandler);\n          } else {\n            this.optionsHandler(options);\n          }\n        }\n      },\n      nextTickResize: function nextTickResize() {\n        this.$nextTick(this.resize);\n      },\n      resize: function resize() {\n        if (!this.cancelResizeCheck) {\n          if (this.$el && this.$el.clientWidth && this.$el.clientHeight) {\n            this.echartsResize();\n          }\n        } else {\n          this.echartsResize();\n        }\n      },\n      echartsResize: function echartsResize() {\n        this.echarts && this.echarts.resize();\n      },\n      optionsHandler: function optionsHandler(options) {\n        var _this = this;\n\n        // legend\n        if (this.legendPosition && options.legend) {\n          options.legend[this.legendPosition] = 10;\n          if (~['left', 'right'].indexOf(this.legendPosition)) {\n            options.legend.top = 'middle';\n            options.legend.orient = 'vertical';\n          }\n        }\n        // color\n        options.color = this.chartColor;\n        // echarts self settings\n        constants.ECHARTS_SETTINGS.forEach(function (setting) {\n          if (_this[setting]) options[setting] = _this[setting];\n        });\n        // animation\n        if (this.animation) setAnimation(options, this.animation);\n        // marks\n        if (this.markArea || this.markLine || this.markPoint) {\n          var marks = {\n            markArea: this.markArea,\n            markLine: this.markLine,\n            markPoint: this.markPoint\n          };\n          var series = options.series;\n          if (utilsLite.isArray(series)) {\n            series.forEach(function (item) {\n              setMark(item, marks);\n            });\n          } else if (utilsLite.isObject(series)) {\n            setMark(series, marks);\n          }\n        }\n        // change inited echarts settings\n        if (this.extend) setExtend(options, this.extend);\n        if (this.afterConfig) options = this.afterConfig(options);\n        var setOptionOpts = this.setOptionOpts;\n        // map chart not merge\n        if ((this.settings.bmap || this.settings.amap) && !utilsLite.isObject(setOptionOpts)) {\n          setOptionOpts = false;\n        }\n        // exclude unchange options\n        if (this.notSetUnchange && this.notSetUnchange.length) {\n          this.notSetUnchange.forEach(function (item) {\n            var value = options[item];\n            if (value) {\n              if (utilsLite.isEqual(value, _this._store[item])) {\n                options[item] = undefined;\n              } else {\n                _this._store[item] = utilsLite.cloneDeep(value);\n              }\n            }\n          });\n          if (utilsLite.isObject(setOptionOpts)) {\n            setOptionOpts.notMerge = false;\n          } else {\n            setOptionOpts = false;\n          }\n        }\n        if (this._isDestroyed) return;\n        if (this.log) console.log(options);\n        this.echarts.setOption(options, setOptionOpts);\n        this.$emit('ready', this.echarts, options, echartsLib);\n        if (!this._once['ready-once']) {\n          this._once['ready-once'] = true;\n          this.$emit('ready-once', this.echarts, options, echartsLib);\n        }\n        if (this.judgeWidth) this.judgeWidthHandler(options);\n        if (this.afterSetOption) this.afterSetOption(this.echarts, options, echartsLib);\n        if (this.afterSetOptionOnce && !this._once['afterSetOptionOnce']) {\n          this._once['afterSetOptionOnce'] = true;\n          this.afterSetOptionOnce(this.echarts, options, echartsLib);\n        }\n      },\n      judgeWidthHandler: function judgeWidthHandler(options) {\n        var _this2 = this;\n\n        var widthChangeDelay = this.widthChangeDelay,\n            resize = this.resize;\n\n        if (this.$el.clientWidth || this.$el.clientHeight) {\n          resize();\n        } else {\n          this.$nextTick(function (_) {\n            if (_this2.$el.clientWidth || _this2.$el.clientHeight) {\n              resize();\n            } else {\n              setTimeout(function (_) {\n                resize();\n                if (!_this2.$el.clientWidth || !_this2.$el.clientHeight) {\n                  console.warn(' Can\\'t get dom width or height ');\n                }\n              }, widthChangeDelay);\n            }\n          });\n        }\n      },\n      resizeableHandler: function resizeableHandler(resizeable) {\n        if (resizeable && !this._once.onresize) this.addResizeListener();\n        if (!resizeable && this._once.onresize) this.removeResizeListener();\n      },\n      init: function init() {\n        if (this.echarts) return;\n        var themeName = this.themeName || this.theme || constants.DEFAULT_THEME;\n        this.echarts = echartsLib.init(this.$refs.canvas, themeName, this.initOptions);\n        if (this.data) this.changeHandler();\n        this.createEventProxy();\n        if (this.resizeable) this.addResizeListener();\n      },\n      addResizeListener: function addResizeListener() {\n        window.addEventListener('resize', this.resizeHandler);\n        this._once.onresize = true;\n      },\n      removeResizeListener: function removeResizeListener() {\n        window.removeEventListener('resize', this.resizeHandler);\n        this._once.onresize = false;\n      },\n      addWatchToProps: function addWatchToProps() {\n        var _this3 = this;\n\n        var watchedVariable = this._watchers.map(function (watcher) {\n          return watcher.expression;\n        });\n        Object.keys(this.$props).forEach(function (prop) {\n          if (!~watchedVariable.indexOf(prop) && !~constants.STATIC_PROPS.indexOf(prop)) {\n            var opts = {};\n            if (~['[object Object]', '[object Array]'].indexOf(utilsLite.getType(_this3.$props[prop]))) {\n              opts.deep = true;\n            }\n            _this3.$watch(prop, function () {\n              _this3.changeHandler();\n            }, opts);\n          }\n        });\n      },\n      createEventProxy: function createEventProxy() {\n        var _this4 = this;\n\n        //  on \n        //  events \n        //  events \n        var self = this;\n        var keys = Object.keys(this.events || {});\n        keys.length && keys.forEach(function (ev) {\n          if (_this4.registeredEvents.indexOf(ev) === -1) {\n            _this4.registeredEvents.push(ev);\n            _this4.echarts.on(ev, function (ev) {\n              return function () {\n                if (ev in self.events) {\n                  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                    args[_key] = arguments[_key];\n                  }\n\n                  self.events[ev].apply(null, args);\n                }\n              };\n            }(ev));\n          }\n        });\n      },\n      themeChange: function themeChange(theme) {\n        this.clean();\n        this.echarts = null;\n        this.init();\n      },\n      clean: function clean() {\n        if (this.resizeable) this.removeResizeListener();\n        this.echarts.dispose();\n      }\n    },\n\n    created: function created() {\n      this.echarts = null;\n      this.registeredEvents = [];\n      this._once = {};\n      this._store = {};\n      this.resizeHandler = utilsLite.debounce(this.resize, this.resizeDelay);\n      this.changeHandler = utilsLite.debounce(this.dataHandler, this.changeDelay);\n      this.addWatchToProps();\n    },\n    mounted: function mounted() {\n      this.init();\n    },\n    beforeDestroy: function beforeDestroy() {\n      this.clean();\n    },\n\n\n    _numerify: numerify$1\n  };\n\n  var core_1 = core;\n\n  function _interopDefault$2 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core = _interopDefault$2(core_1);\n\n  var _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function getLineXAxis(args) {\n    var dimension = args.dimension,\n        rows = args.rows,\n        xAxisName = args.xAxisName,\n        axisVisible = args.axisVisible,\n        xAxisType = args.xAxisType;\n\n    return dimension.map(function (item, index) {\n      return {\n        type: xAxisType,\n        nameLocation: 'middle',\n        nameGap: 22,\n        name: xAxisName[index] || '',\n        axisTick: { show: true, lineStyle: { color: '#eee' } },\n        data: rows.map(function (row) {\n          return row[item];\n        }),\n        show: axisVisible\n      };\n    });\n  }\n\n  function getLineSeries(args) {\n    var rows = args.rows,\n        axisSite = args.axisSite,\n        metrics = args.metrics,\n        area = args.area,\n        stack = args.stack,\n        nullAddZero = args.nullAddZero,\n        labelMap = args.labelMap,\n        label = args.label,\n        itemStyle = args.itemStyle,\n        lineStyle = args.lineStyle,\n        areaStyle = args.areaStyle,\n        dimension = args.dimension;\n\n    var series = [];\n    var dataTemp = {};\n    var stackMap = stack && utils.getStackMap(stack);\n    metrics.forEach(function (item) {\n      dataTemp[item] = [];\n    });\n    rows.forEach(function (row) {\n      metrics.forEach(function (item) {\n        var value = null;\n        if (row[item] != null) {\n          value = row[item];\n        } else if (nullAddZero) {\n          value = 0;\n        }\n        dataTemp[item].push([row[dimension[0]], value]);\n      });\n    });\n    metrics.forEach(function (item) {\n      var seriesItem = {\n        name: labelMap[item] != null ? labelMap[item] : item,\n        type: 'line',\n        data: dataTemp[item]\n      };\n\n      if (area) seriesItem.areaStyle = { normal: {} };\n      if (axisSite.right) {\n        seriesItem.yAxisIndex = ~axisSite.right.indexOf(item) ? 1 : 0;\n      }\n\n      if (stack && stackMap[item]) seriesItem.stack = stackMap[item];\n\n      if (label) seriesItem.label = label;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n      if (lineStyle) seriesItem.lineStyle = lineStyle;\n      if (areaStyle) seriesItem.areaStyle = areaStyle;\n\n      series.push(seriesItem);\n    });\n    return series;\n  }\n\n  function getLineYAxis(args) {\n    var yAxisName = args.yAxisName,\n        yAxisType = args.yAxisType,\n        axisVisible = args.axisVisible,\n        scale = args.scale,\n        min = args.min,\n        max = args.max,\n        digit = args.digit;\n\n    var yAxisBase = {\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      show: axisVisible\n    };\n    var yAxis = [];\n\n    var _loop = function _loop(i) {\n      if (yAxisType[i]) {\n        yAxis[i] = _extends$1({}, yAxisBase, {\n          axisLabel: {\n            formatter: function formatter(val) {\n              return utils.getFormated(val, yAxisType[i], digit);\n            }\n          }\n        });\n      } else {\n        yAxis[i] = _extends$1({}, yAxisBase);\n      }\n      yAxis[i].name = yAxisName[i] || '';\n      yAxis[i].scale = scale[i] || false;\n      yAxis[i].min = min[i] || null;\n      yAxis[i].max = max[i] || null;\n    };\n\n    for (var i = 0; i < 2; i++) {\n      _loop(i);\n    }\n    return yAxis;\n  }\n\n  function getLineTooltip(args) {\n    var axisSite = args.axisSite,\n        yAxisType = args.yAxisType,\n        digit = args.digit,\n        labelMap = args.labelMap,\n        tooltipFormatter = args.tooltipFormatter;\n\n    var rightItems = axisSite.right || [];\n    var rightList = labelMap ? rightItems.map(function (item) {\n      return labelMap[item] === undefined ? item : labelMap[item];\n    }) : rightItems;\n    return {\n      trigger: 'axis',\n      formatter: function formatter(items) {\n        if (tooltipFormatter) {\n          return tooltipFormatter.apply(null, arguments);\n        }\n        var tpl = [];\n        var _items$ = items[0],\n            name = _items$.name,\n            axisValueLabel = _items$.axisValueLabel;\n\n        var title = name || axisValueLabel;\n        tpl.push(title + '<br>');\n        items.forEach(function (_ref) {\n          var seriesName = _ref.seriesName,\n              data = _ref.data,\n              marker = _ref.marker;\n\n          var showData = null;\n          var type = ~rightList.indexOf(seriesName) ? yAxisType[1] : yAxisType[0];\n          var itemData = utilsLite.isArray(data) ? data[1] : data;\n          showData = utils.getFormated(itemData, type, digit);\n          tpl.push(marker);\n          tpl.push(seriesName + ': ' + showData);\n          tpl.push('<br>');\n        });\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getLegend(args) {\n    var metrics = args.metrics,\n        legendName = args.legendName,\n        labelMap = args.labelMap;\n\n    if (!legendName && !labelMap) return { data: metrics };\n    var data = labelMap ? metrics.map(function (item) {\n      return labelMap[item] == null ? item : labelMap[item];\n    }) : metrics;\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  var line$1 = function line$$1(columns, rows, settings, extra) {\n    rows = utilsLite.isArray(rows) ? rows : [];\n    columns = utilsLite.isArray(columns) ? columns : [];\n    var _settings$axisSite = settings.axisSite,\n        axisSite = _settings$axisSite === undefined ? {} : _settings$axisSite,\n        _settings$yAxisType = settings.yAxisType,\n        yAxisType = _settings$yAxisType === undefined ? ['normal', 'normal'] : _settings$yAxisType,\n        _settings$xAxisType = settings.xAxisType,\n        xAxisType = _settings$xAxisType === undefined ? 'category' : _settings$xAxisType,\n        _settings$yAxisName = settings.yAxisName,\n        yAxisName = _settings$yAxisName === undefined ? [] : _settings$yAxisName,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? [columns[0]] : _settings$dimension,\n        _settings$xAxisName = settings.xAxisName,\n        xAxisName = _settings$xAxisName === undefined ? [] : _settings$xAxisName,\n        _settings$axisVisible = settings.axisVisible,\n        axisVisible = _settings$axisVisible === undefined ? true : _settings$axisVisible,\n        area = settings.area,\n        stack = settings.stack,\n        _settings$scale = settings.scale,\n        scale = _settings$scale === undefined ? [false, false] : _settings$scale,\n        _settings$min = settings.min,\n        min = _settings$min === undefined ? [null, null] : _settings$min,\n        _settings$max = settings.max,\n        max = _settings$max === undefined ? [null, null] : _settings$max,\n        _settings$nullAddZero = settings.nullAddZero,\n        nullAddZero = _settings$nullAddZero === undefined ? false : _settings$nullAddZero,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$labelMap = settings.labelMap,\n        labelMap = _settings$labelMap === undefined ? {} : _settings$labelMap,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        lineStyle = settings.lineStyle,\n        areaStyle = settings.areaStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible,\n        tooltipFormatter = extra.tooltipFormatter;\n\n    var metrics = columns.slice();\n\n    if (axisSite.left && axisSite.right) {\n      metrics = axisSite.left.concat(axisSite.right);\n    } else if (axisSite.left && !axisSite.right) {\n      metrics = axisSite.left;\n    } else if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension[0]), 1);\n    }\n\n    var legend = legendVisible && getLegend({ metrics: metrics, legendName: legendName, labelMap: labelMap });\n    var tooltip = tooltipVisible && getLineTooltip({\n      axisSite: axisSite,\n      yAxisType: yAxisType,\n      digit: digit,\n      labelMap: labelMap,\n      xAxisType: xAxisType,\n      tooltipFormatter: tooltipFormatter\n    });\n    var xAxis = getLineXAxis({\n      dimension: dimension,\n      rows: rows,\n      xAxisName: xAxisName,\n      axisVisible: axisVisible,\n      xAxisType: xAxisType\n    });\n    var yAxis = getLineYAxis({\n      yAxisName: yAxisName,\n      yAxisType: yAxisType,\n      axisVisible: axisVisible,\n      scale: scale,\n      min: min,\n      max: max,\n      digit: digit\n    });\n    var series = getLineSeries({\n      rows: rows,\n      axisSite: axisSite,\n      metrics: metrics,\n      area: area,\n      stack: stack,\n      nullAddZero: nullAddZero,\n      labelMap: labelMap,\n      label: label,\n      itemStyle: itemStyle,\n      lineStyle: lineStyle,\n      areaStyle: areaStyle,\n      xAxisType: xAxisType,\n      dimension: dimension\n    });\n    var options = { legend: legend, xAxis: xAxis, series: series, yAxis: yAxis, tooltip: tooltip };\n    return options;\n  };\n\n  var index = _extends$1({}, Core, {\n    name: 'VeLine',\n    data: function data() {\n      this.chartHandler = line$1;\n      return {};\n    }\n  });\n\n  var line_common = index;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function IndicatorAxis(dim, scale, radiusExtent) {\n    Axis_1.call(this, dim, scale, radiusExtent);\n    /**\n     * Axis type\n     *  - 'category'\n     *  - 'value'\n     *  - 'time'\n     *  - 'log'\n     * @type {string}\n     */\n\n    this.type = 'value';\n    this.angle = 0;\n    /**\n     * Indicator name\n     * @type {string}\n     */\n\n    this.name = '';\n    /**\n     * @type {module:echarts/model/Model}\n     */\n\n    this.model;\n  }\n\n  util.inherits(IndicatorAxis, Axis_1);\n  var _default$1V = IndicatorAxis;\n  var IndicatorAxis_1 = _default$1V;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  var getScaleExtent$1 = axisHelper.getScaleExtent;\n  var niceScaleExtent$2 = axisHelper.niceScaleExtent;\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO clockwise\n  function Radar(radarModel, ecModel, api) {\n    this._model = radarModel;\n    /**\n     * Radar dimensions\n     * @type {Array.<string>}\n     */\n\n    this.dimensions = [];\n    this._indicatorAxes = util.map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n      var dim = 'indicator_' + idx;\n      var indicatorAxis = new IndicatorAxis_1(dim, indicatorModel.get('axisType') === 'log' ? new Log() : new Interval());\n      indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\n\n      indicatorAxis.model = indicatorModel;\n      indicatorModel.axis = indicatorAxis;\n      this.dimensions.push(dim);\n      return indicatorAxis;\n    }, this);\n    this.resize(radarModel, api);\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.cx;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.cy;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.r;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.r0;\n    /**\n     * @type {number}\n     * @readOnly\n     */\n\n    this.startAngle;\n  }\n\n  Radar.prototype.getIndicatorAxes = function () {\n    return this._indicatorAxes;\n  };\n\n  Radar.prototype.dataToPoint = function (value, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n  };\n\n  Radar.prototype.coordToPoint = function (coord, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    var angle = indicatorAxis.angle;\n    var x = this.cx + coord * Math.cos(angle);\n    var y = this.cy - coord * Math.sin(angle);\n    return [x, y];\n  };\n\n  Radar.prototype.pointToData = function (pt) {\n    var dx = pt[0] - this.cx;\n    var dy = pt[1] - this.cy;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx); // Find the closest angle\n    // FIXME index can calculated directly\n\n    var minRadianDiff = Infinity;\n    var closestAxis;\n    var closestAxisIdx = -1;\n\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\n      var indicatorAxis = this._indicatorAxes[i];\n      var diff = Math.abs(radian - indicatorAxis.angle);\n\n      if (diff < minRadianDiff) {\n        closestAxis = indicatorAxis;\n        closestAxisIdx = i;\n        minRadianDiff = diff;\n      }\n    }\n\n    return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\n  };\n\n  Radar.prototype.resize = function (radarModel, api) {\n    var center = radarModel.get('center');\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\n    this.cx = number.parsePercent(center[0], viewWidth);\n    this.cy = number.parsePercent(center[1], viewHeight);\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180; // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\n\n    var radius = radarModel.get('radius');\n\n    if (typeof radius === 'string' || typeof radius === 'number') {\n      radius = [0, radius];\n    }\n\n    this.r0 = number.parsePercent(radius[0], viewSize);\n    this.r = number.parsePercent(radius[1], viewSize);\n    util.each(this._indicatorAxes, function (indicatorAxis, idx) {\n      indicatorAxis.setExtent(this.r0, this.r);\n      var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\n\n      angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n      indicatorAxis.angle = angle;\n    }, this);\n  };\n\n  Radar.prototype.update = function (ecModel, api) {\n    var indicatorAxes = this._indicatorAxes;\n    var radarModel = this._model;\n    util.each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n      if (radarSeries.get('coordinateSystem') !== 'radar' || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n        return;\n      }\n\n      var data = radarSeries.getData();\n      util.each(indicatorAxes, function (indicatorAxis) {\n        indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\n      });\n    }, this);\n    var splitNumber = radarModel.get('splitNumber');\n\n    function increaseInterval(interval) {\n      var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10)); // Increase interval\n\n      var f = interval / exp10;\n\n      if (f === 2) {\n        f = 5;\n      } else {\n        // f is 2 or 5\n        f *= 2;\n      }\n\n      return f * exp10;\n    } // Force all the axis fixing the maxSplitNumber.\n\n\n    util.each(indicatorAxes, function (indicatorAxis, idx) {\n      var rawExtent = getScaleExtent$1(indicatorAxis.scale, indicatorAxis.model).extent;\n      niceScaleExtent$2(indicatorAxis.scale, indicatorAxis.model);\n      var axisModel = indicatorAxis.model;\n      var scale = indicatorAxis.scale;\n      var fixedMin = axisModel.getMin();\n      var fixedMax = axisModel.getMax();\n      var interval = scale.getInterval();\n\n      if (fixedMin != null && fixedMax != null) {\n        // User set min, max, divide to get new interval\n        scale.setExtent(+fixedMin, +fixedMax);\n        scale.setInterval((fixedMax - fixedMin) / splitNumber);\n      } else if (fixedMin != null) {\n        var max; // User set min, expand extent on the other side\n\n        do {\n          max = fixedMin + interval * splitNumber;\n          scale.setExtent(+fixedMin, max); // Interval must been set after extent\n          // FIXME\n\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n      } else if (fixedMax != null) {\n        var min; // User set min, expand extent on the other side\n\n        do {\n          min = fixedMax - interval * splitNumber;\n          scale.setExtent(min, +fixedMax);\n          scale.setInterval(interval);\n          interval = increaseInterval(interval);\n        } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n      } else {\n        var nicedSplitNumber = scale.getTicks().length - 1;\n\n        if (nicedSplitNumber > splitNumber) {\n          interval = increaseInterval(interval);\n        } // TODO\n\n\n        var max = Math.ceil(rawExtent[1] / interval) * interval;\n        var min = number.round(max - interval * splitNumber);\n        scale.setExtent(min, max);\n        scale.setInterval(interval);\n      }\n    });\n  };\n  /**\n   * Radar dimensions is based on the data\n   * @type {Array}\n   */\n\n\n  Radar.dimensions = [];\n\n  Radar.create = function (ecModel, api) {\n    var radarList = [];\n    ecModel.eachComponent('radar', function (radarModel) {\n      var radar = new Radar(radarModel, ecModel, api);\n      radarList.push(radar);\n      radarModel.coordinateSystem = radar;\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\n      if (radarSeries.get('coordinateSystem') === 'radar') {\n        // Inject coordinate system\n        radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n      }\n    });\n    return radarList;\n  };\n\n  CoordinateSystem.register('radar', Radar);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var valueAxisDefault = axisDefault_1.valueAxis;\n\n  function defaultsShow(opt, show) {\n    return util.defaults({\n      show: show\n    }, opt);\n  }\n\n  var RadarModel = echarts.extendComponentModel({\n    type: 'radar',\n    optionUpdated: function () {\n      var boundaryGap = this.get('boundaryGap');\n      var splitNumber = this.get('splitNumber');\n      var scale = this.get('scale');\n      var axisLine = this.get('axisLine');\n      var axisTick = this.get('axisTick');\n      var axisType = this.get('axisType');\n      var axisLabel = this.get('axisLabel');\n      var nameTextStyle = this.get('name');\n      var showName = this.get('name.show');\n      var nameFormatter = this.get('name.formatter');\n      var nameGap = this.get('nameGap');\n      var triggerEvent = this.get('triggerEvent');\n      var indicatorModels = util.map(this.get('indicator') || [], function (indicatorOpt) {\n        // PENDING\n        if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n          indicatorOpt.min = 0;\n        } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n          indicatorOpt.max = 0;\n        }\n\n        var iNameTextStyle = nameTextStyle;\n\n        if (indicatorOpt.color != null) {\n          iNameTextStyle = util.defaults({\n            color: indicatorOpt.color\n          }, nameTextStyle);\n        } // Use same configuration\n\n\n        indicatorOpt = util.merge(util.clone(indicatorOpt), {\n          boundaryGap: boundaryGap,\n          splitNumber: splitNumber,\n          scale: scale,\n          axisLine: axisLine,\n          axisTick: axisTick,\n          axisType: axisType,\n          axisLabel: axisLabel,\n          // Compatible with 2 and use text\n          name: indicatorOpt.text,\n          nameLocation: 'end',\n          nameGap: nameGap,\n          // min: 0,\n          nameTextStyle: iNameTextStyle,\n          triggerEvent: triggerEvent\n        }, false);\n\n        if (!showName) {\n          indicatorOpt.name = '';\n        }\n\n        if (typeof nameFormatter === 'string') {\n          var indName = indicatorOpt.name;\n          indicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n        } else if (typeof nameFormatter === 'function') {\n          indicatorOpt.name = nameFormatter(indicatorOpt.name, indicatorOpt);\n        }\n\n        var model = util.extend(new Model_1(indicatorOpt, null, this.ecModel), axisModelCommonMixin); // For triggerEvent.\n\n        model.mainType = 'radar';\n        model.componentIndex = this.componentIndex;\n        return model;\n      }, this);\n\n      this.getIndicatorModels = function () {\n        return indicatorModels;\n      };\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 0,\n      center: ['50%', '50%'],\n      radius: '75%',\n      startAngle: 90,\n      name: {\n        show: true // formatter: null\n        // textStyle: {}\n\n      },\n      boundaryGap: [0, 0],\n      splitNumber: 5,\n      nameGap: 15,\n      scale: false,\n      // Polygon or circle\n      shape: 'polygon',\n      axisLine: util.merge({\n        lineStyle: {\n          color: '#bbb'\n        }\n      }, valueAxisDefault.axisLine),\n      axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n      axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n      axisType: 'interval',\n      splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n      splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n      // {text, min, max}\n      indicator: []\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var axisBuilderAttrs$1 = ['axisLine', 'axisTickLabel', 'axisName'];\n\n  var _default$1W = echarts.extendComponentView({\n    type: 'radar',\n    render: function (radarModel, ecModel, api) {\n      var group = this.group;\n      group.removeAll();\n\n      this._buildAxes(radarModel);\n\n      this._buildSplitLineAndArea(radarModel);\n    },\n    _buildAxes: function (radarModel) {\n      var radar = radarModel.coordinateSystem;\n      var indicatorAxes = radar.getIndicatorAxes();\n      var axisBuilders = util.map(indicatorAxes, function (indicatorAxis) {\n        var axisBuilder = new AxisBuilder_1(indicatorAxis.model, {\n          position: [radar.cx, radar.cy],\n          rotation: indicatorAxis.angle,\n          labelDirection: -1,\n          tickDirection: -1,\n          nameDirection: 1\n        });\n        return axisBuilder;\n      });\n      util.each(axisBuilders, function (axisBuilder) {\n        util.each(axisBuilderAttrs$1, axisBuilder.add, axisBuilder);\n        this.group.add(axisBuilder.getGroup());\n      }, this);\n    },\n    _buildSplitLineAndArea: function (radarModel) {\n      var radar = radarModel.coordinateSystem;\n      var indicatorAxes = radar.getIndicatorAxes();\n\n      if (!indicatorAxes.length) {\n        return;\n      }\n\n      var shape = radarModel.get('shape');\n      var splitLineModel = radarModel.getModel('splitLine');\n      var splitAreaModel = radarModel.getModel('splitArea');\n      var lineStyleModel = splitLineModel.getModel('lineStyle');\n      var areaStyleModel = splitAreaModel.getModel('areaStyle');\n      var showSplitLine = splitLineModel.get('show');\n      var showSplitArea = splitAreaModel.get('show');\n      var splitLineColors = lineStyleModel.get('color');\n      var splitAreaColors = areaStyleModel.get('color');\n      splitLineColors = util.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n      splitAreaColors = util.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n      var splitLines = [];\n      var splitAreas = [];\n\n      function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n        var colorIndex = idx % areaOrLineColorList.length;\n        areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n        return colorIndex;\n      }\n\n      if (shape === 'circle') {\n        var ticksRadius = indicatorAxes[0].getTicksCoords();\n        var cx = radar.cx;\n        var cy = radar.cy;\n\n        for (var i = 0; i < ticksRadius.length; i++) {\n          if (showSplitLine) {\n            var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n            splitLines[colorIndex].push(new graphic.Circle({\n              shape: {\n                cx: cx,\n                cy: cy,\n                r: ticksRadius[i].coord\n              }\n            }));\n          }\n\n          if (showSplitArea && i < ticksRadius.length - 1) {\n            var colorIndex = getColorIndex(splitAreas, splitAreaColors, i);\n            splitAreas[colorIndex].push(new graphic.Ring({\n              shape: {\n                cx: cx,\n                cy: cy,\n                r0: ticksRadius[i].coord,\n                r: ticksRadius[i + 1].coord\n              }\n            }));\n          }\n        }\n      } // Polyyon\n      else {\n          var realSplitNumber;\n          var axesTicksPoints = util.map(indicatorAxes, function (indicatorAxis, idx) {\n            var ticksCoords = indicatorAxis.getTicksCoords();\n            realSplitNumber = realSplitNumber == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber);\n            return util.map(ticksCoords, function (tickCoord) {\n              return radar.coordToPoint(tickCoord.coord, idx);\n            });\n          });\n          var prevPoints = [];\n\n          for (var i = 0; i <= realSplitNumber; i++) {\n            var points = [];\n\n            for (var j = 0; j < indicatorAxes.length; j++) {\n              points.push(axesTicksPoints[j][i]);\n            } // Close\n\n\n            if (points[0]) {\n              points.push(points[0].slice());\n            }\n\n            if (showSplitLine) {\n              var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n              splitLines[colorIndex].push(new graphic.Polyline({\n                shape: {\n                  points: points\n                }\n              }));\n            }\n\n            if (showSplitArea && prevPoints) {\n              var colorIndex = getColorIndex(splitAreas, splitAreaColors, i - 1);\n              splitAreas[colorIndex].push(new graphic.Polygon({\n                shape: {\n                  points: points.concat(prevPoints)\n                }\n              }));\n            }\n\n            prevPoints = points.slice().reverse();\n          }\n        }\n\n      var lineStyle = lineStyleModel.getLineStyle();\n      var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\n\n      util.each(splitAreas, function (splitAreas, idx) {\n        this.group.add(graphic.mergePath(splitAreas, {\n          style: util.defaults({\n            stroke: 'none',\n            fill: splitAreaColors[idx % splitAreaColors.length]\n          }, areaStyle),\n          silent: true\n        }));\n      }, this);\n      util.each(splitLines, function (splitLines, idx) {\n        this.group.add(graphic.mergePath(splitLines, {\n          style: util.defaults({\n            fill: 'none',\n            stroke: splitLineColors[idx % splitLineColors.length]\n          }, lineStyle),\n          silent: true\n        }));\n      }, this);\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var extend$a = util.extend;\n  var isArray$9 = util.isArray;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * [Usage]:\n   * (1)\n   * createListSimply(seriesModel, ['value']);\n   * (2)\n   * createListSimply(seriesModel, {\n   *     coordDimensions: ['value'],\n   *     dimensionsCount: 5\n   * });\n   *\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n   *        The options in opt, see `echarts/data/helper/createDimensions`\n   * @param {Array.<string>} [nameList]\n   * @return {module:echarts/data/List}\n   */\n  function _default$1X(seriesModel, opt, nameList) {\n    opt = isArray$9(opt) && {\n      coordDimensions: opt\n    } || extend$a({}, opt);\n    var source = seriesModel.getSource();\n    var dimensionsInfo = createDimensions(source, opt);\n    var list = new List_1(dimensionsInfo, seriesModel);\n    list.initData(source, nameList);\n    return list;\n  }\n\n  var createListSimply = _default$1X;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * LegendVisualProvider is an bridge that pick encoded color from data and\n   * provide to the legend component.\n   * @param {Function} getDataWithEncodedVisual Function to get data after filtered. It stores all the encoding info\n   * @param {Function} getRawData Function to get raw data before filtered.\n   */\n  function LegendVisualProvider(getDataWithEncodedVisual, getRawData) {\n    this.getAllNames = function () {\n      var rawData = getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n      // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n      return rawData.mapArray(rawData.getName);\n    };\n\n    this.containName = function (name) {\n      var rawData = getRawData();\n      return rawData.indexOfName(name) >= 0;\n    };\n\n    this.indexOfName = function (name) {\n      // Only get data when necessary.\n      // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n      // Invoking Series#getData immediately will throw an error.\n      var dataWithEncodedVisual = getDataWithEncodedVisual();\n      return dataWithEncodedVisual.indexOfName(name);\n    };\n\n    this.getItemVisual = function (dataIndex, key) {\n      // Get encoded visual properties from final filtered data.\n      var dataWithEncodedVisual = getDataWithEncodedVisual();\n      return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n    };\n  }\n\n  var _default$1Y = LegendVisualProvider;\n  var LegendVisualProvider_1 = _default$1Y;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var encodeHTML$2 = format$1.encodeHTML;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var RadarSeries = Series.extend({\n    type: 'series.radar',\n    dependencies: ['radar'],\n    // Overwrite\n    init: function (option) {\n      RadarSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this));\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        generateCoord: 'indicator_',\n        generateCoordCount: Infinity\n      });\n    },\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var data = this.getData();\n      var coordSys = this.coordinateSystem;\n      var indicatorAxes = coordSys.getIndicatorAxes();\n      var name = this.getData().getName(dataIndex);\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n      return encodeHTML$2(name === '' ? this.name : name) + newLine + util.map(indicatorAxes, function (axis, idx) {\n        var val = data.get(data.mapDimension(axis.dim), dataIndex);\n        return encodeHTML$2(axis.name + ' : ' + val);\n      }).join(newLine);\n    },\n\n    /**\n     * @implement\n     */\n    getTooltipPosition: function (dataIndex) {\n      if (dataIndex != null) {\n        var data = this.getData();\n        var coordSys = this.coordinateSystem;\n        var values = data.getValues(util.map(coordSys.dimensions, function (dim) {\n          return data.mapDimension(dim);\n        }), dataIndex, true);\n\n        for (var i = 0, len = values.length; i < len; i++) {\n          if (!isNaN(values[i])) {\n            var indicatorAxes = coordSys.getIndicatorAxes();\n            return coordSys.coordToPoint(indicatorAxes[i].dataToCoord(values[i]), i);\n          }\n        }\n      }\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      coordinateSystem: 'radar',\n      legendHoverLink: true,\n      radarIndex: 0,\n      lineStyle: {\n        width: 2,\n        type: 'solid'\n      },\n      label: {\n        position: 'top'\n      },\n      // areaStyle: {\n      // },\n      // itemStyle: {}\n      symbol: 'emptyCircle',\n      symbolSize: 4 // symbolRotate: null\n\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function normalizeSymbolSize(symbolSize) {\n    if (!util.isArray(symbolSize)) {\n      symbolSize = [+symbolSize, +symbolSize];\n    }\n\n    return symbolSize;\n  }\n\n  var _default$1Z = echarts.extendChartView({\n    type: 'radar',\n    render: function (seriesModel, ecModel, api) {\n      var polar = seriesModel.coordinateSystem;\n      var group = this.group;\n      var data = seriesModel.getData();\n      var oldData = this._data;\n\n      function createSymbol(data, idx) {\n        var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n        var color = data.getItemVisual(idx, 'color');\n\n        if (symbolType === 'none') {\n          return;\n        }\n\n        var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n        var symbolPath = symbol.createSymbol(symbolType, -1, -1, 2, 2, color);\n        var symbolRotate = data.getItemVisual(idx, 'symbolRotate') || 0;\n        symbolPath.attr({\n          style: {\n            strokeNoScale: true\n          },\n          z2: 100,\n          scale: [symbolSize[0] / 2, symbolSize[1] / 2],\n          rotation: symbolRotate * Math.PI / 180 || 0\n        });\n        return symbolPath;\n      }\n\n      function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n        // Simply rerender all\n        symbolGroup.removeAll();\n\n        for (var i = 0; i < newPoints.length - 1; i++) {\n          var symbolPath = createSymbol(data, idx);\n\n          if (symbolPath) {\n            symbolPath.__dimIdx = i;\n\n            if (oldPoints[i]) {\n              symbolPath.attr('position', oldPoints[i]);\n              graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n                position: newPoints[i]\n              }, seriesModel, idx);\n            } else {\n              symbolPath.attr('position', newPoints[i]);\n            }\n\n            symbolGroup.add(symbolPath);\n          }\n        }\n      }\n\n      function getInitialPoints(points) {\n        return util.map(points, function (pt) {\n          return [polar.cx, polar.cy];\n        });\n      }\n\n      data.diff(oldData).add(function (idx) {\n        var points = data.getItemLayout(idx);\n\n        if (!points) {\n          return;\n        }\n\n        var polygon = new graphic.Polygon();\n        var polyline = new graphic.Polyline();\n        var target = {\n          shape: {\n            points: points\n          }\n        };\n        polygon.shape.points = getInitialPoints(points);\n        polyline.shape.points = getInitialPoints(points);\n        graphic.initProps(polygon, target, seriesModel, idx);\n        graphic.initProps(polyline, target, seriesModel, idx);\n        var itemGroup = new graphic.Group();\n        var symbolGroup = new graphic.Group();\n        itemGroup.add(polyline);\n        itemGroup.add(polygon);\n        itemGroup.add(symbolGroup);\n        updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n        data.setItemGraphicEl(idx, itemGroup);\n      }).update(function (newIdx, oldIdx) {\n        var itemGroup = oldData.getItemGraphicEl(oldIdx);\n        var polyline = itemGroup.childAt(0);\n        var polygon = itemGroup.childAt(1);\n        var symbolGroup = itemGroup.childAt(2);\n        var target = {\n          shape: {\n            points: data.getItemLayout(newIdx)\n          }\n        };\n\n        if (!target.shape.points) {\n          return;\n        }\n\n        updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n        graphic.updateProps(polyline, target, seriesModel);\n        graphic.updateProps(polygon, target, seriesModel);\n        data.setItemGraphicEl(newIdx, itemGroup);\n      }).remove(function (idx) {\n        group.remove(oldData.getItemGraphicEl(idx));\n      }).execute();\n      data.eachItemGraphicEl(function (itemGroup, idx) {\n        var itemModel = data.getItemModel(idx);\n        var polyline = itemGroup.childAt(0);\n        var polygon = itemGroup.childAt(1);\n        var symbolGroup = itemGroup.childAt(2);\n        var color = data.getItemVisual(idx, 'color');\n        group.add(itemGroup);\n        polyline.useStyle(util.defaults(itemModel.getModel('lineStyle').getLineStyle(), {\n          fill: 'none',\n          stroke: color\n        }));\n        polyline.hoverStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n        var areaStyleModel = itemModel.getModel('areaStyle');\n        var hoverAreaStyleModel = itemModel.getModel('emphasis.areaStyle');\n        var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n        var hoverPolygonIgnore = hoverAreaStyleModel.isEmpty() && hoverAreaStyleModel.parentModel.isEmpty();\n        hoverPolygonIgnore = hoverPolygonIgnore && polygonIgnore;\n        polygon.ignore = polygonIgnore;\n        polygon.useStyle(util.defaults(areaStyleModel.getAreaStyle(), {\n          fill: color,\n          opacity: 0.7\n        }));\n        polygon.hoverStyle = hoverAreaStyleModel.getAreaStyle();\n        var itemStyle = itemModel.getModel('itemStyle').getItemStyle(['color']);\n        var itemHoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n        var labelModel = itemModel.getModel('label');\n        var labelHoverModel = itemModel.getModel('emphasis.label');\n        symbolGroup.eachChild(function (symbolPath) {\n          symbolPath.setStyle(itemStyle);\n          symbolPath.hoverStyle = util.clone(itemHoverStyle);\n          var defaultText = data.get(data.dimensions[symbolPath.__dimIdx], idx);\n          (defaultText == null || isNaN(defaultText)) && (defaultText = '');\n          graphic.setLabelStyle(symbolPath.style, symbolPath.hoverStyle, labelModel, labelHoverModel, {\n            labelFetcher: data.hostModel,\n            labelDataIndex: idx,\n            labelDimIndex: symbolPath.__dimIdx,\n            defaultText: defaultText,\n            autoColor: color,\n            isRectText: true\n          });\n        });\n\n        itemGroup.highDownOnUpdate = function (fromState, toState) {\n          polygon.attr('ignore', toState === 'emphasis' ? hoverPolygonIgnore : polygonIgnore);\n        };\n\n        graphic.setHoverStyle(itemGroup);\n      });\n      this._data = data;\n    },\n    remove: function () {\n      this.group.removeAll();\n      this._data = null;\n    },\n    dispose: function () {}\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var createHashMap$b = util.createHashMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Pick color from palette for each data item.\n  // Applicable for charts that require applying color palette\n  // in data level (like pie, funnel, chord).\n  function _default$1_(seriesType) {\n    return {\n      getTargetSeries: function (ecModel) {\n        // Pie and funnel may use diferrent scope\n        var paletteScope = {};\n        var seiresModelMap = createHashMap$b();\n        ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n          seriesModel.__paletteScope = paletteScope;\n          seiresModelMap.set(seriesModel.uid, seriesModel);\n        });\n        return seiresModelMap;\n      },\n      reset: function (seriesModel, ecModel) {\n        var dataAll = seriesModel.getRawData();\n        var idxMap = {};\n        var data = seriesModel.getData();\n        data.each(function (idx) {\n          var rawIdx = data.getRawIndex(idx);\n          idxMap[rawIdx] = idx;\n        });\n        dataAll.each(function (rawIdx) {\n          var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n          var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n          var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n          var itemModel;\n\n          if (!singleDataColor || !singleDataBorderColor) {\n            // FIXME Performance\n            itemModel = dataAll.getItemModel(rawIdx);\n          }\n\n          if (!singleDataColor) {\n            var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Data is not filtered\n\n            if (filteredIdx != null) {\n              data.setItemVisual(filteredIdx, 'color', color);\n            }\n          }\n\n          if (!singleDataBorderColor) {\n            var borderColor = itemModel.get('itemStyle.borderColor'); // Data is not filtered\n\n            if (filteredIdx != null) {\n              data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n            }\n          }\n        });\n      }\n    };\n  }\n\n  var dataColor = _default$1_;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$1$(ecModel) {\n    ecModel.eachSeriesByType('radar', function (seriesModel) {\n      var data = seriesModel.getData();\n      var points = [];\n      var coordSys = seriesModel.coordinateSystem;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var axes = coordSys.getIndicatorAxes();\n      util.each(axes, function (axis, axisIndex) {\n        data.each(data.mapDimension(axes[axisIndex].dim), function (val, dataIndex) {\n          points[dataIndex] = points[dataIndex] || [];\n          var point = coordSys.dataToPoint(val, axisIndex);\n          points[dataIndex][axisIndex] = isValidPoint(point) ? point : getValueMissingPoint(coordSys);\n        });\n      }); // Close polygon\n\n      data.each(function (idx) {\n        // TODO\n        // Is it appropriate to connect to the next data when some data is missing?\n        // Or, should trade it like `connectNull` in line chart?\n        var firstPoint = util.find(points[idx], function (point) {\n          return isValidPoint(point);\n        }) || getValueMissingPoint(coordSys); // Copy the first actual point to the end of the array\n\n        points[idx].push(firstPoint.slice());\n        data.setItemLayout(idx, points[idx]);\n      });\n    });\n  }\n\n  function isValidPoint(point) {\n    return !isNaN(point[0]) && !isNaN(point[1]);\n  }\n\n  function getValueMissingPoint(coordSys) {\n    // It is error-prone to input [NaN, NaN] into polygon, polygon.\n    // (probably cause problem when refreshing or animating)\n    return [coordSys.cx, coordSys.cy];\n  }\n\n  var radarLayout = _default$1$;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$20(seriesType) {\n    return {\n      seriesType: seriesType,\n      reset: function (seriesModel, ecModel) {\n        var legendModels = ecModel.findComponents({\n          mainType: 'legend'\n        });\n\n        if (!legendModels || !legendModels.length) {\n          return;\n        }\n\n        var data = seriesModel.getData();\n        data.filterSelf(function (idx) {\n          var name = data.getName(idx); // If in any legend component the status is not selected.\n\n          for (var i = 0; i < legendModels.length; i++) {\n            if (!legendModels[i].isSelected(name)) {\n              return false;\n            }\n          }\n\n          return true;\n        });\n      }\n    };\n  }\n\n  var dataFilter = _default$20;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Backward compat for radar chart in 2\n  function _default$21(option) {\n    var polarOptArr = option.polar;\n\n    if (polarOptArr) {\n      if (!util.isArray(polarOptArr)) {\n        polarOptArr = [polarOptArr];\n      }\n\n      var polarNotRadar = [];\n      util.each(polarOptArr, function (polarOpt, idx) {\n        if (polarOpt.indicator) {\n          if (polarOpt.type && !polarOpt.shape) {\n            polarOpt.shape = polarOpt.type;\n          }\n\n          option.radar = option.radar || [];\n\n          if (!util.isArray(option.radar)) {\n            option.radar = [option.radar];\n          }\n\n          option.radar.push(polarOpt);\n        } else {\n          polarNotRadar.push(polarOpt);\n        }\n      });\n      option.polar = polarNotRadar;\n    }\n\n    util.each(option.series, function (seriesOpt) {\n      if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n        seriesOpt.radarIndex = seriesOpt.polarIndex;\n      }\n    });\n  }\n\n  var backwardCompat$1 = _default$21;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // Must use radar component\n  echarts.registerVisual(dataColor('radar'));\n  echarts.registerVisual(symbol$1('radar', 'circle'));\n  echarts.registerLayout(radarLayout);\n  echarts.registerProcessor(dataFilter('radar'));\n  echarts.registerPreprocessor(backwardCompat$1);\n\n  function _interopDefault$3 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core$1 = _interopDefault$3(core_1);\n\n  function getRadarLegend(rows, dimension, legendName) {\n    var legendData = rows.map(function (row) {\n      return row[dimension];\n    });\n\n    return {\n      data: legendData,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getRadarTooltip(dataType, radar$$1, digit) {\n    var typeTemp = [];\n    var nameTemp = [];\n    radar$$1.indicator.map(function (item, index) {\n      typeTemp[index] = dataType[item.name];\n      nameTemp[index] = item.name;\n    });\n    return {\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        tpl.push(item.name + '<br />');\n        item.data.value.forEach(function (val, index) {\n          tpl.push(nameTemp[index] + ': ');\n          tpl.push(utils.getFormated(val, typeTemp[index], digit) + '<br />');\n        });\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getRadarSetting(rows, metrics, labelMap) {\n    var settingBase = {\n      indicator: [],\n      shape: 'circle',\n      splitNumber: 5\n    };\n    var indicatorTemp = {};\n    rows.forEach(function (items) {\n      metrics.forEach(function (item) {\n        var key = labelMap[item] != null ? labelMap[item] : item;\n        if (!indicatorTemp[key]) {\n          indicatorTemp[key] = [items[item]];\n        } else {\n          indicatorTemp[key].push(items[item]);\n        }\n      });\n    });\n    settingBase.indicator = Object.keys(indicatorTemp).map(function (key) {\n      return {\n        name: key,\n        max: Math.max.apply(null, indicatorTemp[key])\n      };\n    });\n    return settingBase;\n  }\n\n  function getRadarSeries(args) {\n    var rows = args.rows,\n        dimension = args.dimension,\n        metrics = args.metrics,\n        radar$$1 = args.radar,\n        label = args.label,\n        itemStyle = args.itemStyle,\n        lineStyle = args.lineStyle,\n        labelMap = args.labelMap,\n        areaStyle = args.areaStyle;\n\n    var radarIndexObj = {};\n    radar$$1.indicator.forEach(function (item, index) {\n      var name = item.name;\n      radarIndexObj[name] = index;\n    });\n\n    var seriesData = rows.map(function (row) {\n      var serieData = {\n        value: [],\n        name: row[dimension]\n      };\n      Object.keys(row).forEach(function (key) {\n        if (~metrics.indexOf(key)) {\n          var k = labelMap[key] != null ? radarIndexObj[labelMap[key]] : radarIndexObj[key];\n          serieData.value[k] = row[key];\n        }\n      });\n      return serieData;\n    });\n    var result = {\n      name: dimension,\n      type: 'radar',\n      data: seriesData\n    };\n    if (label) result.label = label;\n    if (itemStyle) result.itemStyle = itemStyle;\n    if (lineStyle) result.lineStyle = lineStyle;\n    if (areaStyle) result.areaStyle = areaStyle;\n    return [result];\n  }\n\n  var radar$1 = function radar$$1(columns, rows, settings, extra) {\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? {} : _settings$dataType,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$labelMap = settings.labelMap,\n        labelMap = _settings$labelMap === undefined ? {} : _settings$labelMap,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        lineStyle = settings.lineStyle,\n        areaStyle = settings.areaStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    var metrics = columns.slice();\n    if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension), 1);\n    }\n    var legend = legendVisible && getRadarLegend(rows, dimension, legendName);\n    var radar$$1 = getRadarSetting(rows, metrics, labelMap);\n    var tooltip = tooltipVisible && getRadarTooltip(dataType, radar$$1, digit);\n    var series = getRadarSeries({\n      rows: rows,\n      dimension: dimension,\n      metrics: metrics,\n      radar: radar$$1,\n      label: label,\n      itemStyle: itemStyle,\n      lineStyle: lineStyle,\n      labelMap: labelMap,\n      areaStyle: areaStyle\n    });\n    var options = { legend: legend, tooltip: tooltip, radar: radar$$1, series: series };\n    return options;\n  };\n\n  var _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var index$1 = _extends$2({}, Core$1, {\n    name: 'VeRadar',\n    data: function data() {\n      this.chartHandler = radar$1;\n      return {};\n    }\n  });\n\n  var radar_common = index$1;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Data selectable mixin for chart series.\n   * To eanble data select, option of series must have `selectedMode`.\n   * And each data item will use `selected` to toggle itself selected status\n   */\n  var _default$22 = {\n    /**\n     * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n     *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n     *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n     */\n    updateSelectedMap: function (targetList) {\n      this._targetList = util.isArray(targetList) ? targetList.slice() : [];\n      this._selectTargetMap = util.reduce(targetList || [], function (targetMap, target) {\n        targetMap.set(target.name, target);\n        return targetMap;\n      }, util.createHashMap());\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    // PENGING If selectedMode is null ?\n    select: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n      var selectedMode = this.get('selectedMode');\n\n      if (selectedMode === 'single') {\n        this._selectTargetMap.each(function (target) {\n          target.selected = false;\n        });\n      }\n\n      target && (target.selected = true);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    unSelect: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n      // selectedMode !== 'single' && target && (target.selected = false);\n\n      target && (target.selected = false);\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    toggleSelected: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n      if (target != null) {\n        this[target.selected ? 'unSelect' : 'select'](name, id);\n        return target.selected;\n      }\n    },\n\n    /**\n     * Either name or id should be passed as input here.\n     * If both of them are defined, id is used.\n     *\n     * @param {string|undefined} name name of data\n     * @param {number|undefined} id dataIndex of data\n     */\n    isSelected: function (name, id) {\n      var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n      return target && target.selected;\n    }\n  };\n  var selectableMixin = _default$22;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n  var getPercentWithPrecision$1 = number.getPercentWithPrecision;\n\n\n\n\n\n  var retrieveRawAttr$1 = dataProvider.retrieveRawAttr;\n\n\n\n  var makeSeriesEncodeForNameBased$1 = sourceHelper.makeSeriesEncodeForNameBased;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PieSeries = echarts.extendSeriesModel({\n    type: 'series.pie',\n    // Overwrite\n    init: function (option) {\n      PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this));\n      this.updateSelectedMap(this._createSelectableList());\n\n      this._defaultLabelLine(option);\n    },\n    // Overwrite\n    mergeOption: function (newOption) {\n      PieSeries.superCall(this, 'mergeOption', newOption);\n      this.updateSelectedMap(this._createSelectableList());\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        coordDimensions: ['value'],\n        encodeDefaulter: util.curry(makeSeriesEncodeForNameBased$1, this)\n      });\n    },\n    _createSelectableList: function () {\n      var data = this.getRawData();\n      var valueDim = data.mapDimension('value');\n      var targetList = [];\n\n      for (var i = 0, len = data.count(); i < len; i++) {\n        targetList.push({\n          name: data.getName(i),\n          value: data.get(valueDim, i),\n          selected: retrieveRawAttr$1(data, i, 'selected')\n        });\n      }\n\n      return targetList;\n    },\n    // Overwrite\n    getDataParams: function (dataIndex) {\n      var data = this.getData();\n      var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n      var valueList = [];\n      data.each(data.mapDimension('value'), function (value) {\n        valueList.push(value);\n      });\n      params.percent = getPercentWithPrecision$1(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n      params.$vars.push('percent');\n      return params;\n    },\n    _defaultLabelLine: function (option) {\n      // Extend labelLine emphasis\n      model.defaultEmphasis(option, 'labelLine', ['show']);\n      var labelLineNormalOpt = option.labelLine;\n      var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n      labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n      labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n    },\n    defaultOption: {\n      zlevel: 0,\n      z: 2,\n      legendHoverLink: true,\n      hoverAnimation: true,\n      // \n      center: ['50%', '50%'],\n      radius: [0, '75%'],\n      // \n      clockwise: true,\n      startAngle: 90,\n      // 0\n      minAngle: 0,\n      // If the angle of a sector less than `minShowLabelAngle`,\n      // the label will not be displayed.\n      minShowLabelAngle: 0,\n      // \n      selectedOffset: 10,\n      // \n      hoverOffset: 10,\n      // If use strategy to avoid label overlapping\n      avoidLabelOverlap: true,\n      // singlemultiple\n      // selectedMode: false,\n      // 'radius' | 'area'\n      // roseType: null,\n      percentPrecision: 2,\n      // If still show when all data zero.\n      stillShowZeroSum: true,\n      // cursor: null,\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      width: null,\n      height: null,\n      label: {\n        // If rotate around circle\n        rotate: false,\n        show: true,\n        // 'outer', 'inside', 'center'\n        position: 'outer',\n        // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n        alignTo: 'none',\n        // Closest distance between label and chart edge.\n        // Works only position is 'outer' and alignTo is 'edge'.\n        margin: '25%',\n        // Works only position is 'outer' and alignTo is not 'edge'.\n        bleedMargin: 10,\n        // Distance between text and label line.\n        distanceToLabelLine: 5 // formatter: Tooltip.formatter\n        // TEXTSTYLE\n        // distance: positioninnerlabel()\n\n      },\n      // Enabled when label.normal.position is 'outer'\n      labelLine: {\n        show: true,\n        // \n        length: 15,\n        // \n        length2: 15,\n        smooth: false,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      itemStyle: {\n        borderWidth: 1\n      },\n      // Animation type. Valid values: expansion, scale\n      animationType: 'expansion',\n      // Animation type when update. Valid values: transition, expansion\n      animationTypeUpdate: 'transition',\n      animationEasing: 'cubicOut'\n    }\n  });\n  util.mixin(PieSeries, selectableMixin);\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {boolean} hasAnimation\n   * @inner\n   */\n  function updateDataSelected(uid, seriesModel, hasAnimation, api) {\n    var data = seriesModel.getData();\n    var dataIndex = this.dataIndex;\n    var name = data.getName(dataIndex);\n    var selectedOffset = seriesModel.get('selectedOffset');\n    api.dispatchAction({\n      type: 'pieToggleSelect',\n      from: uid,\n      name: name,\n      seriesId: seriesModel.id\n    });\n    data.each(function (idx) {\n      toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n    });\n  }\n  /**\n   * @param {module:zrender/graphic/Sector} el\n   * @param {Object} layout\n   * @param {boolean} isSelected\n   * @param {number} selectedOffset\n   * @param {boolean} hasAnimation\n   * @inner\n   */\n\n\n  function toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var offset = isSelected ? selectedOffset : 0;\n    var position = [dx * offset, dy * offset];\n    hasAnimation // animateTo will stop revious animation like update transition\n    ? el.animate().when(200, {\n      position: position\n    }).start('bounceOut') : el.attr('position', position);\n  }\n  /**\n   * Piece of pie including Sector, Label, LabelLine\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   */\n\n\n  function PiePiece(data, idx) {\n    graphic.Group.call(this);\n    var sector = new graphic.Sector({\n      z2: 2\n    });\n    var polyline = new graphic.Polyline();\n    var text = new graphic.Text();\n    this.add(sector);\n    this.add(polyline);\n    this.add(text);\n    this.updateData(data, idx, true);\n  }\n\n  var piePieceProto = PiePiece.prototype;\n\n  piePieceProto.updateData = function (data, idx, firstCreate) {\n    var sector = this.childAt(0);\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var sectorShape = util.extend({}, layout);\n    sectorShape.label = null;\n    var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          sector.shape.endAngle = layout.startAngle;\n          graphic.updateProps(sector, {\n            shape: {\n              endAngle: layout.endAngle\n            }\n          }, seriesModel, idx);\n        }\n    } else {\n      if (animationTypeUpdate === 'expansion') {\n        // Sectors are set to be target shape and an overlaying clipPath is used for animation\n        sector.setShape(sectorShape);\n      } else {\n        // Transition animation from the old shape\n        graphic.updateProps(sector, {\n          shape: sectorShape\n        }, seriesModel, idx);\n      }\n    } // Update common style\n\n\n    var visualColor = data.getItemVisual(idx, 'color');\n    sector.useStyle(util.defaults({\n      lineJoin: 'bevel',\n      fill: visualColor\n    }, itemModel.getModel('itemStyle').getItemStyle()));\n    sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n    toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n    var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n    this._updateLabel(data, idx, withAnimation);\n\n    this.highDownOnUpdate = !seriesModel.get('silent') ? function (fromState, toState) {\n      var hasAnimation = seriesModel.isAnimationEnabled() && itemModel.get('hoverAnimation');\n\n      if (toState === 'emphasis') {\n        labelLine.ignore = labelLine.hoverIgnore;\n        labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n        // Or it may stopped on the wrong shape\n\n        if (hasAnimation) {\n          sector.stopAnimation(true);\n          sector.animateTo({\n            shape: {\n              r: layout.r + seriesModel.get('hoverOffset')\n            }\n          }, 300, 'elasticOut');\n        }\n      } else {\n        labelLine.ignore = labelLine.normalIgnore;\n        labelText.ignore = labelText.normalIgnore;\n\n        if (hasAnimation) {\n          sector.stopAnimation(true);\n          sector.animateTo({\n            shape: {\n              r: layout.r\n            }\n          }, 300, 'elasticOut');\n        }\n      }\n    } : null;\n    graphic.setHoverStyle(this);\n  };\n\n  piePieceProto._updateLabel = function (data, idx, withAnimation) {\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n\n    if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n      labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n      return;\n    }\n\n    var targetLineShape = {\n      points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n    };\n    var targetTextStyle = {\n      x: labelLayout.x,\n      y: labelLayout.y\n    };\n\n    if (withAnimation) {\n      graphic.updateProps(labelLine, {\n        shape: targetLineShape\n      }, seriesModel, idx);\n      graphic.updateProps(labelText, {\n        style: targetTextStyle\n      }, seriesModel, idx);\n    } else {\n      labelLine.attr({\n        shape: targetLineShape\n      });\n      labelText.attr({\n        style: targetTextStyle\n      });\n    }\n\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      origin: [labelLayout.x, labelLayout.y],\n      z2: 10\n    });\n    var labelModel = itemModel.getModel('label');\n    var labelHoverModel = itemModel.getModel('emphasis.label');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultText: labelLayout.text,\n      autoColor: visualColor,\n      useInsideStyle: !!labelLayout.inside\n    }, {\n      textAlign: labelLayout.textAlign,\n      textVerticalAlign: labelLayout.verticalAlign,\n      opacity: data.getItemVisual(idx, 'opacity')\n    });\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n    labelLine.setStyle({\n      stroke: visualColor,\n      opacity: data.getItemVisual(idx, 'opacity')\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n    var smooth = labelLineModel.get('smooth');\n\n    if (smooth && smooth === true) {\n      smooth = 0.4;\n    }\n\n    labelLine.setShape({\n      smooth: smooth\n    });\n  };\n\n  util.inherits(PiePiece, graphic.Group); // Pie view\n\n  var PieView = Chart_1.extend({\n    type: 'pie',\n    init: function () {\n      var sectorGroup = new graphic.Group();\n      this._sectorGroup = sectorGroup;\n    },\n    render: function (seriesModel, ecModel, api, payload) {\n      if (payload && payload.from === this.uid) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var group = this.group;\n      var hasAnimation = ecModel.get('animation');\n      var isFirstRender = !oldData;\n      var animationType = seriesModel.get('animationType');\n      var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n      var onSectorClick = util.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n      var selectedMode = seriesModel.get('selectedMode');\n      data.diff(oldData).add(function (idx) {\n        var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n        if (isFirstRender && animationType !== 'scale') {\n          piePiece.eachChild(function (child) {\n            child.stopAnimation(true);\n          });\n        }\n\n        selectedMode && piePiece.on('click', onSectorClick);\n        data.setItemGraphicEl(idx, piePiece);\n        group.add(piePiece);\n      }).update(function (newIdx, oldIdx) {\n        var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n        if (!isFirstRender && animationTypeUpdate !== 'transition') {\n          piePiece.eachChild(function (child) {\n            child.stopAnimation(true);\n          });\n        }\n\n        piePiece.updateData(data, newIdx);\n        piePiece.off('click');\n        selectedMode && piePiece.on('click', onSectorClick);\n        group.add(piePiece);\n        data.setItemGraphicEl(newIdx, piePiece);\n      }).remove(function (idx) {\n        var piePiece = oldData.getItemGraphicEl(idx);\n        group.remove(piePiece);\n      }).execute();\n\n      if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n        var shape = data.getItemLayout(0);\n\n        for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n          shape = data.getItemLayout(s);\n        }\n\n        var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n        var removeClipPath = util.bind(group.removeClipPath, group);\n        group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n      } else {\n        // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n        group.removeClipPath();\n      }\n\n      this._data = data;\n    },\n    dispose: function () {},\n    _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n      var clipPath = new graphic.Sector({\n        shape: {\n          cx: cx,\n          cy: cy,\n          r0: 0,\n          r: r,\n          startAngle: startAngle,\n          endAngle: startAngle,\n          clockwise: clockwise\n        }\n      });\n      var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n      initOrUpdate(clipPath, {\n        shape: {\n          endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n        }\n      }, seriesModel, cb);\n      return clipPath;\n    },\n\n    /**\n     * @implement\n     */\n    containPoint: function (point, seriesModel) {\n      var data = seriesModel.getData();\n      var itemLayout = data.getItemLayout(0);\n\n      if (itemLayout) {\n        var dx = point[0] - itemLayout.cx;\n        var dy = point[1] - itemLayout.cy;\n        var radius = Math.sqrt(dx * dx + dy * dy);\n        return radius <= itemLayout.r && radius >= itemLayout.r0;\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function _default$23(seriesType, actionInfos) {\n    util.each(actionInfos, function (actionInfo) {\n      actionInfo.update = 'updateView';\n      /**\n       * @payload\n       * @property {string} seriesName\n       * @property {string} name\n       */\n\n      echarts.registerAction(actionInfo, function (payload, ecModel) {\n        var selected = {};\n        ecModel.eachComponent({\n          mainType: 'series',\n          subType: seriesType,\n          query: payload\n        }, function (seriesModel) {\n          if (seriesModel[actionInfo.method]) {\n            seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n          }\n\n          var data = seriesModel.getData(); // Create selected map\n\n          data.each(function (idx) {\n            var name = data.getName(idx);\n            selected[name] = seriesModel.isSelected(name) || false;\n          });\n        });\n        return {\n          name: payload.name,\n          selected: selected,\n          seriesId: payload.seriesId\n        };\n      });\n    });\n  }\n\n  var createDataSelectAction = _default$23;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var parsePercent$6 = number.parsePercent;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // FIXME emphasis label position is not same with normal label position\n  var RADIAN = Math.PI / 180;\n\n  function adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n    list.sort(function (a, b) {\n      return a.y - b.y;\n    });\n\n    function shiftDown(start, end, delta, dir) {\n      for (var j = start; j < end; j++) {\n        if (list[j].y + delta > viewTop + viewHeight) {\n          break;\n        }\n\n        list[j].y += delta;\n\n        if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n          shiftUp(j, delta / 2);\n          return;\n        }\n      }\n\n      shiftUp(end - 1, delta / 2);\n    }\n\n    function shiftUp(end, delta) {\n      for (var j = end; j >= 0; j--) {\n        if (list[j].y - delta < viewTop) {\n          break;\n        }\n\n        list[j].y -= delta;\n\n        if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n          break;\n        }\n      }\n    }\n\n    function changeX(list, isDownList, cx, cy, r, dir) {\n      var lastDeltaX = dir > 0 ? isDownList // right-side\n      ? Number.MAX_VALUE // down\n      : 0 // up\n      : isDownList // left-side\n      ? Number.MAX_VALUE // down\n      : 0; // up\n\n      for (var i = 0, l = list.length; i < l; i++) {\n        if (list[i].labelAlignTo !== 'none') {\n          continue;\n        }\n\n        var deltaY = Math.abs(list[i].y - cy);\n        var length = list[i].len;\n        var length2 = list[i].len2;\n        var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n        if (isDownList && deltaX >= lastDeltaX) {\n          // right-down, left-down\n          deltaX = lastDeltaX - 10;\n        }\n\n        if (!isDownList && deltaX <= lastDeltaX) {\n          // right-up, left-up\n          deltaX = lastDeltaX + 10;\n        }\n\n        list[i].x = cx + deltaX * dir;\n        lastDeltaX = deltaX;\n      }\n    }\n\n    var lastY = 0;\n    var delta;\n    var len = list.length;\n    var upList = [];\n    var downList = [];\n\n    for (var i = 0; i < len; i++) {\n      if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n        var dx = list[i].x - farthestX;\n        list[i].linePoints[1][0] += dx;\n        list[i].x = farthestX;\n      }\n\n      delta = list[i].y - lastY;\n\n      if (delta < 0) {\n        shiftDown(i, len, -delta);\n      }\n\n      lastY = list[i].y + list[i].height;\n    }\n\n    if (viewHeight - lastY < 0) {\n      shiftUp(len - 1, lastY - viewHeight);\n    }\n\n    for (var i = 0; i < len; i++) {\n      if (list[i].y >= cy) {\n        downList.push(list[i]);\n      } else {\n        upList.push(list[i]);\n      }\n    }\n\n    changeX(upList, false, cx, cy, r, dir);\n    changeX(downList, true, cx, cy, r, dir);\n  }\n\n  function avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n    var leftList = [];\n    var rightList = [];\n    var leftmostX = Number.MAX_VALUE;\n    var rightmostX = -Number.MAX_VALUE;\n\n    for (var i = 0; i < labelLayoutList.length; i++) {\n      if (isPositionCenter(labelLayoutList[i])) {\n        continue;\n      }\n\n      if (labelLayoutList[i].x < cx) {\n        leftmostX = Math.min(leftmostX, labelLayoutList[i].x);\n        leftList.push(labelLayoutList[i]);\n      } else {\n        rightmostX = Math.max(rightmostX, labelLayoutList[i].x);\n        rightList.push(labelLayoutList[i]);\n      }\n    }\n\n    adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n    adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n    for (var i = 0; i < labelLayoutList.length; i++) {\n      var layout = labelLayoutList[i];\n\n      if (isPositionCenter(layout)) {\n        continue;\n      }\n\n      var linePoints = layout.linePoints;\n\n      if (linePoints) {\n        var isAlignToEdge = layout.labelAlignTo === 'edge';\n        var realTextWidth = layout.textRect.width;\n        var targetTextWidth;\n\n        if (isAlignToEdge) {\n          if (layout.x < cx) {\n            targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.labelMargin;\n          } else {\n            targetTextWidth = viewLeft + viewWidth - layout.labelMargin - linePoints[2][0] - layout.labelDistance;\n          }\n        } else {\n          if (layout.x < cx) {\n            targetTextWidth = layout.x - viewLeft - layout.bleedMargin;\n          } else {\n            targetTextWidth = viewLeft + viewWidth - layout.x - layout.bleedMargin;\n          }\n        }\n\n        if (targetTextWidth < layout.textRect.width) {\n          layout.text = text.truncateText(layout.text, targetTextWidth, layout.font);\n\n          if (layout.labelAlignTo === 'edge') {\n            realTextWidth = text.getWidth(layout.text, layout.font);\n          }\n        }\n\n        var dist = linePoints[1][0] - linePoints[2][0];\n\n        if (isAlignToEdge) {\n          if (layout.x < cx) {\n            linePoints[2][0] = viewLeft + layout.labelMargin + realTextWidth + layout.labelDistance;\n          } else {\n            linePoints[2][0] = viewLeft + viewWidth - layout.labelMargin - realTextWidth - layout.labelDistance;\n          }\n        } else {\n          if (layout.x < cx) {\n            linePoints[2][0] = layout.x + layout.labelDistance;\n          } else {\n            linePoints[2][0] = layout.x - layout.labelDistance;\n          }\n\n          linePoints[1][0] = linePoints[2][0] + dist;\n        }\n\n        linePoints[1][1] = linePoints[2][1] = layout.y;\n      }\n    }\n  }\n\n  function isPositionCenter(layout) {\n    // Not change x for center label\n    return layout.position === 'center';\n  }\n\n  function _default$24(seriesModel, r, viewWidth, viewHeight, viewLeft, viewTop) {\n    var data = seriesModel.getData();\n    var labelLayoutList = [];\n    var cx;\n    var cy;\n    var hasLabelRotate = false;\n    var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n    data.each(function (idx) {\n      var layout = data.getItemLayout(idx);\n      var itemModel = data.getItemModel(idx);\n      var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n      var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n      var labelDistance = labelModel.get('distanceToLabelLine');\n      var labelAlignTo = labelModel.get('alignTo');\n      var labelMargin = parsePercent$6(labelModel.get('margin'), viewWidth);\n      var bleedMargin = labelModel.get('bleedMargin');\n      var font = labelModel.getFont();\n      var labelLineModel = itemModel.getModel('labelLine');\n      var labelLineLen = labelLineModel.get('length');\n      labelLineLen = parsePercent$6(labelLineLen, viewWidth);\n      var labelLineLen2 = labelLineModel.get('length2');\n      labelLineLen2 = parsePercent$6(labelLineLen2, viewWidth);\n\n      if (layout.angle < minShowLabelRadian) {\n        return;\n      }\n\n      var midAngle = (layout.startAngle + layout.endAngle) / 2;\n      var dx = Math.cos(midAngle);\n      var dy = Math.sin(midAngle);\n      var textX;\n      var textY;\n      var linePoints;\n      var textAlign;\n      cx = layout.cx;\n      cy = layout.cy;\n      var text$1 = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n      var textRect = text.getBoundingRect(text$1, font, textAlign, 'top');\n      var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n      if (labelPosition === 'center') {\n        textX = layout.cx;\n        textY = layout.cy;\n        textAlign = 'center';\n      } else {\n        var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n        var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n        textX = x1 + dx * 3;\n        textY = y1 + dy * 3;\n\n        if (!isLabelInside) {\n          // For roseType\n          var x2 = x1 + dx * (labelLineLen + r - layout.r);\n          var y2 = y1 + dy * (labelLineLen + r - layout.r);\n          var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n          var y3 = y2;\n\n          if (labelAlignTo === 'edge') {\n            // Adjust textX because text align of edge is opposite\n            textX = dx < 0 ? viewLeft + labelMargin : viewLeft + viewWidth - labelMargin;\n          } else {\n            textX = x3 + (dx < 0 ? -labelDistance : labelDistance);\n          }\n\n          textY = y3;\n          linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n        }\n\n        textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? dx > 0 ? 'right' : 'left' : dx > 0 ? 'left' : 'right';\n      }\n\n      var labelRotate;\n      var rotate = labelModel.get('rotate');\n\n      if (typeof rotate === 'number') {\n        labelRotate = rotate * (Math.PI / 180);\n      } else {\n        labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n      }\n\n      hasLabelRotate = !!labelRotate;\n      layout.label = {\n        x: textX,\n        y: textY,\n        position: labelPosition,\n        height: textRect.height,\n        len: labelLineLen,\n        len2: labelLineLen2,\n        linePoints: linePoints,\n        textAlign: textAlign,\n        verticalAlign: 'middle',\n        rotation: labelRotate,\n        inside: isLabelInside,\n        labelDistance: labelDistance,\n        labelAlignTo: labelAlignTo,\n        labelMargin: labelMargin,\n        bleedMargin: bleedMargin,\n        textRect: textRect,\n        text: text$1,\n        font: font\n      }; // Not layout the inside label\n\n      if (!isLabelInside) {\n        labelLayoutList.push(layout.label);\n      }\n    });\n\n    if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n      avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n    }\n  }\n\n  var labelLayout = _default$24;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var parsePercent$7 = number.parsePercent;\n  var linearMap$2 = number.linearMap;\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var PI2$4 = Math.PI * 2;\n  var RADIAN$1 = Math.PI / 180;\n\n  function getViewRect(seriesModel, api) {\n    return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  }\n\n  function _default$25(seriesType, ecModel, api, payload) {\n    ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n      var data = seriesModel.getData();\n      var valueDim = data.mapDimension('value');\n      var viewRect = getViewRect(seriesModel, api);\n      var center = seriesModel.get('center');\n      var radius = seriesModel.get('radius');\n\n      if (!util.isArray(radius)) {\n        radius = [0, radius];\n      }\n\n      if (!util.isArray(center)) {\n        center = [center, center];\n      }\n\n      var width = parsePercent$7(viewRect.width, api.getWidth());\n      var height = parsePercent$7(viewRect.height, api.getHeight());\n      var size = Math.min(width, height);\n      var cx = parsePercent$7(center[0], width) + viewRect.x;\n      var cy = parsePercent$7(center[1], height) + viewRect.y;\n      var r0 = parsePercent$7(radius[0], size / 2);\n      var r = parsePercent$7(radius[1], size / 2);\n      var startAngle = -seriesModel.get('startAngle') * RADIAN$1;\n      var minAngle = seriesModel.get('minAngle') * RADIAN$1;\n      var validDataCount = 0;\n      data.each(valueDim, function (value) {\n        !isNaN(value) && validDataCount++;\n      });\n      var sum = data.getSum(valueDim); // Sum may be 0\n\n      var unitRadian = Math.PI / (sum || validDataCount) * 2;\n      var clockwise = seriesModel.get('clockwise');\n      var roseType = seriesModel.get('roseType');\n      var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n      var extent = data.getDataExtent(valueDim);\n      extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n      var restAngle = PI2$4;\n      var valueSumLargerThanMinAngle = 0;\n      var currentAngle = startAngle;\n      var dir = clockwise ? 1 : -1;\n      data.each(valueDim, function (value, idx) {\n        var angle;\n\n        if (isNaN(value)) {\n          data.setItemLayout(idx, {\n            angle: NaN,\n            startAngle: NaN,\n            endAngle: NaN,\n            clockwise: clockwise,\n            cx: cx,\n            cy: cy,\n            r0: r0,\n            r: roseType ? NaN : r,\n            viewRect: viewRect\n          });\n          return;\n        } // FIXME  2.0  roseType  area \n\n\n        if (roseType !== 'area') {\n          angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n        } else {\n          angle = PI2$4 / validDataCount;\n        }\n\n        if (angle < minAngle) {\n          angle = minAngle;\n          restAngle -= minAngle;\n        } else {\n          valueSumLargerThanMinAngle += value;\n        }\n\n        var endAngle = currentAngle + dir * angle;\n        data.setItemLayout(idx, {\n          angle: angle,\n          startAngle: currentAngle,\n          endAngle: endAngle,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? linearMap$2(value, extent, [r0, r]) : r,\n          viewRect: viewRect\n        });\n        currentAngle = endAngle;\n      }); // Some sector is constrained by minAngle\n      // Rest sectors needs recalculate angle\n\n      if (restAngle < PI2$4 && validDataCount) {\n        // Average the angle if rest angle is not enough after all angles is\n        // Constrained by minAngle\n        if (restAngle <= 1e-3) {\n          var angle = PI2$4 / validDataCount;\n          data.each(valueDim, function (value, idx) {\n            if (!isNaN(value)) {\n              var layout = data.getItemLayout(idx);\n              layout.angle = angle;\n              layout.startAngle = startAngle + dir * idx * angle;\n              layout.endAngle = startAngle + dir * (idx + 1) * angle;\n            }\n          });\n        } else {\n          unitRadian = restAngle / valueSumLargerThanMinAngle;\n          currentAngle = startAngle;\n          data.each(valueDim, function (value, idx) {\n            if (!isNaN(value)) {\n              var layout = data.getItemLayout(idx);\n              var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n              layout.startAngle = currentAngle;\n              layout.endAngle = currentAngle + dir * angle;\n              currentAngle += dir * angle;\n            }\n          });\n        }\n      }\n\n      labelLayout(seriesModel, r, viewRect.width, viewRect.height, viewRect.x, viewRect.y);\n    });\n  }\n\n  var pieLayout = _default$25;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  createDataSelectAction('pie', [{\n    type: 'pieToggleSelect',\n    event: 'pieselectchanged',\n    method: 'toggleSelected'\n  }, {\n    type: 'pieSelect',\n    event: 'pieselected',\n    method: 'select'\n  }, {\n    type: 'pieUnSelect',\n    event: 'pieunselected',\n    method: 'unSelect'\n  }]);\n  echarts.registerVisual(dataColor('pie'));\n  echarts.registerLayout(util.curry(pieLayout, 'pie'));\n  echarts.registerProcessor(dataFilter('pie'));\n\n  function _interopDefault$4 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n\n  var Core$2 = _interopDefault$4(core_1);\n\n  var _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var pieRadius = 100;\n  var ringRadius = [80, 100];\n  var roseRingRadius = [20, 100];\n  var pieOffsetY = 200;\n\n  function getPieSeries(args) {\n    var innerRows = args.innerRows,\n        dataType = args.dataType,\n        percentShow = args.percentShow,\n        dimension = args.dimension,\n        metrics = args.metrics,\n        radius = args.radius,\n        offsetY = args.offsetY,\n        selectedMode = args.selectedMode,\n        hoverAnimation = args.hoverAnimation,\n        digit = args.digit,\n        roseType = args.roseType,\n        label = args.label,\n        level = args.level,\n        limitShowNum = args.limitShowNum,\n        isRing = args.isRing,\n        labelLine = args.labelLine,\n        itemStyle = args.itemStyle;\n\n\n    var series = [];\n    var levelTemp = {};\n    var rowsTemp = [];\n    if (level) {\n      level.forEach(function (levelItems, index) {\n        levelItems.forEach(function (item) {\n          utils.setArrayValue(levelTemp, item, index);\n        });\n      });\n      innerRows.forEach(function (row) {\n        var itemLevel = levelTemp[row[dimension]];\n        if (itemLevel && itemLevel.length) {\n          itemLevel.forEach(function (levelItem) {\n            utils.setArrayValue(rowsTemp, levelItem, row);\n          });\n        }\n      });\n    } else {\n      rowsTemp.push(innerRows);\n    }\n    var seriesBase = {\n      type: 'pie',\n      selectedMode: selectedMode,\n      hoverAnimation: hoverAnimation,\n      roseType: roseType,\n      center: ['50%', offsetY]\n    };\n    var rowsTempLength = rowsTemp.length;\n    rowsTemp.forEach(function (dataRows, index) {\n      var seriesItem = _extends$3({ data: [] }, seriesBase);\n      var centerWidth = radius / rowsTempLength;\n      if (!index) {\n        seriesItem.radius = isRing ? radius : centerWidth;\n      } else {\n        var outerWidth = centerWidth + radius / (2 * rowsTempLength) * (2 * index - 1);\n        var innerWidth = outerWidth + radius / (2 * rowsTempLength);\n        seriesItem.radius = [outerWidth, innerWidth];\n      }\n      if (rowsTempLength > 1 && index === 0) {\n        seriesItem.label = {\n          normal: { position: 'inner' }\n        };\n      }\n      if (label) seriesItem.label = label;\n      if (labelLine) seriesItem.labelLine = labelLine;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n      if (percentShow) {\n        seriesItem.label = {\n          normal: {\n            show: true,\n            position: rowsTempLength > 1 && index === 0 ? 'inner' : 'outside',\n            formatter: function formatter(item) {\n              var tpl = [];\n              tpl.push(item.name + ':');\n              tpl.push(utils.getFormated(item.value, dataType, digit));\n              tpl.push('(' + item.percent + '%)');\n              return tpl.join(' ');\n            }\n          }\n        };\n      }\n      seriesItem.data = dataRows.map(function (row) {\n        return {\n          name: row[dimension],\n          value: row[metrics]\n        };\n      });\n      series.push(seriesItem);\n    });\n    if (limitShowNum && limitShowNum < series[0].data.length) {\n      var firstData = series[0].data;\n      var remainArr = firstData.slice(limitShowNum, firstData.length);\n      var sum = 0;\n      remainArr.forEach(function (item) {\n        sum += item.value;\n      });\n      series[0].data = firstData.slice(0, limitShowNum);\n      series[0].data.push({ name: '', value: sum });\n    }\n    return series;\n  }\n\n  function getPieLegend(args) {\n    var innerRows = args.innerRows,\n        dimension = args.dimension,\n        legendLimit = args.legendLimit,\n        legendName = args.legendName,\n        level = args.level,\n        limitShowNum = args.limitShowNum;\n\n    var legend = [];\n    var levelTemp = [];\n    if (level) {\n      level.forEach(function (levelItem) {\n        levelItem.forEach(function (item) {\n          levelTemp.push(item);\n        });\n      });\n      legend = levelTemp;\n    } else if (limitShowNum && limitShowNum < innerRows.length) {\n      for (var i = 0; i < limitShowNum; i++) {\n        legend.push(innerRows[i][dimension]);\n      }\n      legend.push('');\n    } else {\n      legend = innerRows.map(function (row) {\n        return row[dimension];\n      });\n    }\n    if (legend.length) {\n      return {\n        data: legend,\n        show: legend.length < legendLimit,\n        formatter: function formatter(name) {\n          return legendName[name] != null ? legendName[name] : name;\n        }\n      };\n    } else {\n      return false;\n    }\n  }\n\n  function getPieTooltip(args) {\n    var dataType = args.dataType,\n        innerRows = args.innerRows,\n        limitShowNum = args.limitShowNum,\n        digit = args.digit,\n        metrics = args.metrics,\n        dimension = args.dimension;\n\n    var sum = 0;\n    var remainArr = innerRows.map(function (row) {\n      sum += row[metrics];\n      return {\n        name: row[dimension],\n        value: row[metrics]\n      };\n    }).slice(limitShowNum, innerRows.length);\n    return {\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        if (limitShowNum && item.name === '') {\n          tpl.push(':');\n          remainArr.forEach(function (_ref) {\n            var name = _ref.name,\n                value = _ref.value;\n\n            var percent = utils.getFormated(value / sum, 'percent');\n            tpl.push('<br>' + name + ':');\n            tpl.push(utils.getFormated(value, dataType, digit));\n            tpl.push('(' + percent + ')');\n          });\n        } else {\n          tpl.push(item.name + ':');\n          tpl.push(utils.getFormated(item.value, dataType, digit));\n          tpl.push('(' + item.percent + '%)');\n        }\n        return tpl.join(' ');\n      }\n    };\n  }\n\n  var pie$1 = function pie$$1(columns, rows, settings, extra, isRing) {\n    var innerRows = utilsLite.cloneDeep(rows);\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? 'normal' : _settings$dataType,\n        percentShow = settings.percentShow,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$metrics = settings.metrics,\n        metrics = _settings$metrics === undefined ? columns[1] : _settings$metrics,\n        _settings$roseType = settings.roseType,\n        roseType = _settings$roseType === undefined ? false : _settings$roseType,\n        _settings$radius = settings.radius,\n        radius = _settings$radius === undefined ? isRing ? roseType ? roseRingRadius : ringRadius : pieRadius : _settings$radius,\n        _settings$offsetY = settings.offsetY,\n        offsetY = _settings$offsetY === undefined ? pieOffsetY : _settings$offsetY,\n        _settings$legendLimit = settings.legendLimit,\n        legendLimit = _settings$legendLimit === undefined ? 30 : _settings$legendLimit,\n        _settings$selectedMod = settings.selectedMode,\n        selectedMode = _settings$selectedMod === undefined ? false : _settings$selectedMod,\n        _settings$hoverAnimat = settings.hoverAnimation,\n        hoverAnimation = _settings$hoverAnimat === undefined ? true : _settings$hoverAnimat,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        _settings$label = settings.label,\n        label = _settings$label === undefined ? false : _settings$label,\n        _settings$level = settings.level,\n        level = _settings$level === undefined ? false : _settings$level,\n        _settings$limitShowNu = settings.limitShowNum,\n        limitShowNum = _settings$limitShowNu === undefined ? 0 : _settings$limitShowNu,\n        labelLine = settings.labelLine,\n        itemStyle = settings.itemStyle;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    if (limitShowNum) innerRows.sort(function (a, b) {\n      return b[metrics] - a[metrics];\n    });\n    var seriesParams = {\n      innerRows: innerRows,\n      dataType: dataType,\n      percentShow: percentShow,\n      dimension: dimension,\n      metrics: metrics,\n      radius: radius,\n      offsetY: offsetY,\n      selectedMode: selectedMode,\n      hoverAnimation: hoverAnimation,\n      digit: digit,\n      roseType: roseType,\n      label: label,\n      level: level,\n      legendName: legendName,\n      limitShowNum: limitShowNum,\n      isRing: isRing,\n      labelLine: labelLine,\n      itemStyle: itemStyle\n    };\n    var series = getPieSeries(seriesParams);\n    var legendParams = {\n      innerRows: innerRows,\n      dimension: dimension,\n      legendLimit: legendLimit,\n      legendName: legendName,\n      level: level,\n      limitShowNum: limitShowNum\n    };\n    var legend = legendVisible && getPieLegend(legendParams);\n    var tooltip = tooltipVisible && getPieTooltip({\n      dataType: dataType,\n      innerRows: innerRows,\n      limitShowNum: limitShowNum,\n      digit: digit,\n      metrics: metrics,\n      dimension: dimension\n    });\n    var options = { series: series, legend: legend, tooltip: tooltip };\n    return options;\n  };\n\n  var index$2 = _extends$3({}, Core$2, {\n    name: 'VePie',\n    data: function data() {\n      this.chartHandler = pie$1;\n      return {};\n    }\n  });\n\n  var pie_common = index$2;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$26 = Series.extend({\n    type: 'series.__base_bar__',\n    getInitialData: function (option, ecModel) {\n      return createListFromArray_1(this.getSource(), this, {\n        useEncodeDefaulter: true\n      });\n    },\n    getMarkerPosition: function (value) {\n      var coordSys = this.coordinateSystem;\n\n      if (coordSys) {\n        // PENDING if clamp ?\n        var pt = coordSys.dataToPoint(coordSys.clampData(value));\n        var data = this.getData();\n        var offset = data.getLayout('offset');\n        var size = data.getLayout('size');\n        var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n        pt[offsetIndex] += offset + size / 2;\n        return pt;\n      }\n\n      return [NaN, NaN];\n    },\n    defaultOption: {\n      zlevel: 0,\n      // \n      z: 2,\n      // \n      coordinateSystem: 'cartesian2d',\n      legendHoverLink: true,\n      // stack: null\n      // Cartesian coordinate system\n      // xAxisIndex: 0,\n      // yAxisIndex: 0,\n      // 0\n      barMinHeight: 0,\n      // 0\n      barMinAngle: 0,\n      // cursor: null,\n      large: false,\n      largeThreshold: 400,\n      progressive: 3e3,\n      progressiveChunkMode: 'mod',\n      // barMaxWidth: null,\n      // In cartesian, the default value is 1. Otherwise null.\n      // barMinWidth: null,\n      // \n      // barWidth: null,\n      // 30%\n      // barGap: '30%',\n      // 20%\n      // barCategoryGap: '20%',\n      // label: {\n      //      show: false\n      // },\n      itemStyle: {},\n      emphasis: {}\n    }\n  });\n\n  var BaseBarSeries = _default$26;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$27 = BaseBarSeries.extend({\n    type: 'series.bar',\n    dependencies: ['grid', 'polar'],\n    brushSelector: 'rect',\n\n    /**\n     * @override\n     */\n    getProgressive: function () {\n      // Do not support progressive in normal mode.\n      return this.get('large') ? this.get('progressive') : false;\n    },\n\n    /**\n     * @override\n     */\n    getProgressiveThreshold: function () {\n      // Do not support progressive in normal mode.\n      var progressiveThreshold = this.get('progressiveThreshold');\n      var largeThreshold = this.get('largeThreshold');\n\n      if (largeThreshold > progressiveThreshold) {\n        progressiveThreshold = largeThreshold;\n      }\n\n      return progressiveThreshold;\n    },\n    defaultOption: {\n      // If clipped\n      // Only available on cartesian2d\n      clip: true,\n      // If use caps on two sides of bars\n      // Only available on tangential polar bar\n      roundCap: false,\n      showBackground: false,\n      backgroundStyle: {\n        color: 'rgba(180, 180, 180, 0.2)',\n        borderColor: null,\n        borderWidth: 0,\n        borderType: 'solid',\n        borderRadius: 0,\n        shadowBlur: 0,\n        shadowColor: null,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        opacity: 1\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  var getDefaultLabel$2 = labelHelper.getDefaultLabel;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n    var labelModel = itemModel.getModel('label');\n    var hoverLabelModel = itemModel.getModel('emphasis.label');\n    graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n      labelFetcher: seriesModel,\n      labelDataIndex: dataIndex,\n      defaultText: getDefaultLabel$2(seriesModel.getData(), dataIndex),\n      isRectText: true,\n      autoColor: color\n    });\n    fixPosition(normalStyle);\n    fixPosition(hoverStyle);\n  }\n\n  function fixPosition(style, labelPositionOutside) {\n    if (style.textPosition === 'outside') {\n      style.textPosition = labelPositionOutside;\n    }\n  }\n\n  var setLabel_1 = setLabel;\n\n  var helper$4 = {\n  \tsetLabel: setLabel_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n  ['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n  var _default$28 = {\n    getBarItemStyle: function (excludes) {\n      var style = getBarItemStyle(this, excludes);\n\n      if (this.getBorderLineDash) {\n        var lineDash = this.getBorderLineDash();\n        lineDash && (style.lineDash = lineDash);\n      }\n\n      return style;\n    }\n  };\n  var barItemStyle = _default$28;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  var extendShape$1 = graphic.extendShape;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Sausage: similar to sector, but have half circle on both sides\n   * @public\n   */\n  var _default$29 = extendShape$1({\n    type: 'sausage',\n    shape: {\n      cx: 0,\n      cy: 0,\n      r0: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: Math.PI * 2,\n      clockwise: true\n    },\n    buildPath: function (ctx, shape) {\n      var x = shape.cx;\n      var y = shape.cy;\n      var r0 = Math.max(shape.r0 || 0, 0);\n      var r = Math.max(shape.r, 0);\n      var dr = (r - r0) * 0.5;\n      var rCenter = r0 + dr;\n      var startAngle = shape.startAngle;\n      var endAngle = shape.endAngle;\n      var clockwise = shape.clockwise;\n      var unitStartX = Math.cos(startAngle);\n      var unitStartY = Math.sin(startAngle);\n      var unitEndX = Math.cos(endAngle);\n      var unitEndY = Math.sin(endAngle);\n      var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n      if (lessThanCircle) {\n        ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n        ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n      }\n\n      ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n      ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n      ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n      if (r0 !== 0) {\n        ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n        ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n      }\n\n      ctx.closePath();\n    }\n  });\n\n  var sausage = _default$29;\n\n  var setLabel$1 = helper$4.setLabel;\n\n\n\n\n\n\n\n\n\n\n\n  var throttle$2 = throttle_1.throttle;\n\n\n\n  var createClipPath$1 = createClipPathFromCoordSys.createClipPath;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\n  var _eventPos = [0, 0]; // FIXME\n  // Just for compatible with ec2.\n\n  util.extend(Model_1.prototype, barItemStyle);\n\n  function getClipArea(coord, data) {\n    var coordSysClipArea = coord.getArea && coord.getArea();\n\n    if (coord.type === 'cartesian2d') {\n      var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n      // We should not clip this part.\n      // See test/bar2.html\n\n      if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n        var expandWidth = data.getLayout('bandWidth');\n\n        if (baseAxis.isHorizontal()) {\n          coordSysClipArea.x -= expandWidth;\n          coordSysClipArea.width += expandWidth * 2;\n        } else {\n          coordSysClipArea.y -= expandWidth;\n          coordSysClipArea.height += expandWidth * 2;\n        }\n      }\n    }\n\n    return coordSysClipArea;\n  }\n\n  var _default$2a = echarts.extendChartView({\n    type: 'bar',\n    render: function (seriesModel, ecModel, api) {\n      this._updateDrawMode(seriesModel);\n\n      var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n      if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n        this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n      }\n\n      return this.group;\n    },\n    incrementalPrepareRender: function (seriesModel, ecModel, api) {\n      this._clear();\n\n      this._updateDrawMode(seriesModel);\n    },\n    incrementalRender: function (params, seriesModel, ecModel, api) {\n      // Do not support progressive in normal mode.\n      this._incrementalRenderLarge(params, seriesModel);\n    },\n    _updateDrawMode: function (seriesModel) {\n      var isLargeDraw = seriesModel.pipelineContext.large;\n\n      if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n        this._isLargeDraw = isLargeDraw;\n\n        this._clear();\n      }\n    },\n    _renderNormal: function (seriesModel, ecModel, api) {\n      var group = this.group;\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var coord = seriesModel.coordinateSystem;\n      var baseAxis = coord.getBaseAxis();\n      var isHorizontalOrRadial;\n\n      if (coord.type === 'cartesian2d') {\n        isHorizontalOrRadial = baseAxis.isHorizontal();\n      } else if (coord.type === 'polar') {\n        isHorizontalOrRadial = baseAxis.dim === 'angle';\n      }\n\n      var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n      var needsClip = seriesModel.get('clip', true);\n      var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n      group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n      // And don't want the label are clipped.\n\n      var roundCap = seriesModel.get('roundCap', true);\n      var drawBackground = seriesModel.get('showBackground', true);\n      var backgroundModel = seriesModel.getModel('backgroundStyle');\n      var barBorderRadius = backgroundModel.get('barBorderRadius') || 0;\n      var bgEls = [];\n      var oldBgEls = this._backgroundEls || [];\n\n      var createBackground = function (dataIndex) {\n        var bgLayout = getLayout[coord.type](data, dataIndex);\n        var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n        bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n        if (coord.type === 'cartesian2d') {\n          bgEl.setShape('r', barBorderRadius);\n        }\n\n        bgEls[dataIndex] = bgEl;\n        return bgEl;\n      };\n\n      data.diff(oldData).add(function (dataIndex) {\n        var itemModel = data.getItemModel(dataIndex);\n        var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n        if (drawBackground) {\n          createBackground(dataIndex);\n        } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n        if (!data.hasValue(dataIndex)) {\n          return;\n        }\n\n        if (needsClip) {\n          // Clip will modify the layout params.\n          // And return a boolean to determine if the shape are fully clipped.\n          var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n          if (isClipped) {\n            group.remove(el);\n            return;\n          }\n        }\n\n        var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n        data.setItemGraphicEl(dataIndex, el);\n        group.add(el);\n        updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }).update(function (newIndex, oldIndex) {\n        var itemModel = data.getItemModel(newIndex);\n        var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n        if (drawBackground) {\n          var bgEl;\n\n          if (oldBgEls.length === 0) {\n            bgEl = createBackground(oldIndex);\n          } else {\n            bgEl = oldBgEls[oldIndex];\n            bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n            if (coord.type === 'cartesian2d') {\n              bgEl.setShape('r', barBorderRadius);\n            }\n\n            bgEls[newIndex] = bgEl;\n          }\n\n          var bgLayout = getLayout[coord.type](data, newIndex);\n          var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n          graphic.updateProps(bgEl, {\n            shape: shape\n          }, animationModel, newIndex);\n        }\n\n        var el = oldData.getItemGraphicEl(oldIndex);\n\n        if (!data.hasValue(newIndex)) {\n          group.remove(el);\n          return;\n        }\n\n        if (needsClip) {\n          var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n          if (isClipped) {\n            group.remove(el);\n            return;\n          }\n        }\n\n        if (el) {\n          graphic.updateProps(el, {\n            shape: layout\n          }, animationModel, newIndex);\n        } else {\n          el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n        }\n\n        data.setItemGraphicEl(newIndex, el); // Add back\n\n        group.add(el);\n        updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }).remove(function (dataIndex) {\n        var el = oldData.getItemGraphicEl(dataIndex);\n\n        if (coord.type === 'cartesian2d') {\n          el && removeRect(dataIndex, animationModel, el);\n        } else {\n          el && removeSector(dataIndex, animationModel, el);\n        }\n      }).execute();\n      var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group_1());\n      bgGroup.removeAll();\n\n      for (var i = 0; i < bgEls.length; ++i) {\n        bgGroup.add(bgEls[i]);\n      }\n\n      group.add(bgGroup);\n      this._backgroundEls = bgEls;\n      this._data = data;\n    },\n    _renderLarge: function (seriesModel, ecModel, api) {\n      this._clear();\n\n      createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n      var clipPath = seriesModel.get('clip', true) ? createClipPath$1(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n      if (clipPath) {\n        this.group.setClipPath(clipPath);\n      } else {\n        this.group.removeClipPath();\n      }\n    },\n    _incrementalRenderLarge: function (params, seriesModel) {\n      this._removeBackground();\n\n      createLarge(seriesModel, this.group, true);\n    },\n    dispose: util.noop,\n    remove: function (ecModel) {\n      this._clear(ecModel);\n    },\n    _clear: function (ecModel) {\n      var group = this.group;\n      var data = this._data;\n\n      if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n        this._removeBackground();\n\n        this._backgroundEls = [];\n        data.eachItemGraphicEl(function (el) {\n          if (el.type === 'sector') {\n            removeSector(el.dataIndex, ecModel, el);\n          } else {\n            removeRect(el.dataIndex, ecModel, el);\n          }\n        });\n      } else {\n        group.removeAll();\n      }\n\n      this._data = null;\n    },\n    _removeBackground: function () {\n      this.group.remove(this._backgroundGroup);\n      this._backgroundGroup = null;\n    }\n  });\n\n  var mathMax$4 = Math.max;\n  var mathMin$4 = Math.min;\n  var clip = {\n    cartesian2d: function (coordSysBoundingRect, layout) {\n      var signWidth = layout.width < 0 ? -1 : 1;\n      var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n      if (signWidth < 0) {\n        layout.x += layout.width;\n        layout.width = -layout.width;\n      }\n\n      if (signHeight < 0) {\n        layout.y += layout.height;\n        layout.height = -layout.height;\n      }\n\n      var x = mathMax$4(layout.x, coordSysBoundingRect.x);\n      var x2 = mathMin$4(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n      var y = mathMax$4(layout.y, coordSysBoundingRect.y);\n      var y2 = mathMin$4(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n      layout.x = x;\n      layout.y = y;\n      layout.width = x2 - x;\n      layout.height = y2 - y;\n      var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n      if (signWidth < 0) {\n        layout.x += layout.width;\n        layout.width = -layout.width;\n      }\n\n      if (signHeight < 0) {\n        layout.y += layout.height;\n        layout.height = -layout.height;\n      }\n\n      return clipped;\n    },\n    polar: function (coordSysClipArea, layout) {\n      var signR = layout.r0 <= layout.r ? 1 : -1; // Make sure r is larger than r0\n\n      if (signR < 0) {\n        var r = layout.r;\n        layout.r = layout.r0;\n        layout.r0 = r;\n      }\n\n      var r = mathMin$4(layout.r, coordSysClipArea.r);\n      var r0 = mathMax$4(layout.r0, coordSysClipArea.r0);\n      layout.r = r;\n      layout.r0 = r0;\n      var clipped = r - r0 < 0; // Reverse back\n\n      if (signR < 0) {\n        var r = layout.r;\n        layout.r = layout.r0;\n        layout.r0 = r;\n      }\n\n      return clipped;\n    }\n  };\n  var elementCreator = {\n    cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n      var rect = new graphic.Rect({\n        shape: util.extend({}, layout),\n        z2: 1\n      });\n      rect.name = 'item'; // Animation\n\n      if (animationModel) {\n        var rectShape = rect.shape;\n        var animateProperty = isHorizontal ? 'height' : 'width';\n        var animateTarget = {};\n        rectShape[animateProperty] = 0;\n        animateTarget[animateProperty] = layout[animateProperty];\n        graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n          shape: animateTarget\n        }, animationModel, dataIndex);\n      }\n\n      return rect;\n    },\n    polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n      // Keep the same logic with bar in catesion: use end value to control\n      // direction. Notice that if clockwise is true (by default), the sector\n      // will always draw clockwisely, no matter whether endAngle is greater\n      // or less than startAngle.\n      var clockwise = layout.startAngle < layout.endAngle;\n      var ShapeClass = !isRadial && roundCap ? sausage : graphic.Sector;\n      var sector = new ShapeClass({\n        shape: util.defaults({\n          clockwise: clockwise\n        }, layout),\n        z2: 1\n      });\n      sector.name = 'item'; // Animation\n\n      if (animationModel) {\n        var sectorShape = sector.shape;\n        var animateProperty = isRadial ? 'r' : 'endAngle';\n        var animateTarget = {};\n        sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n        animateTarget[animateProperty] = layout[animateProperty];\n        graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n          shape: animateTarget\n        }, animationModel, dataIndex);\n      }\n\n      return sector;\n    }\n  };\n\n  function removeRect(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    graphic.updateProps(el, {\n      shape: {\n        width: 0\n      }\n    }, animationModel, dataIndex, function () {\n      el.parent && el.parent.remove(el);\n    });\n  }\n\n  function removeSector(dataIndex, animationModel, el) {\n    // Not show text when animating\n    el.style.text = null;\n    graphic.updateProps(el, {\n      shape: {\n        r: el.shape.r0\n      }\n    }, animationModel, dataIndex, function () {\n      el.parent && el.parent.remove(el);\n    });\n  }\n\n  var getLayout = {\n    // itemModel is only used to get borderWidth, which is not needed\n    // when calculating bar background layout.\n    cartesian2d: function (data, dataIndex, itemModel) {\n      var layout = data.getItemLayout(dataIndex);\n      var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n      var signX = layout.width > 0 ? 1 : -1;\n      var signY = layout.height > 0 ? 1 : -1;\n      return {\n        x: layout.x + signX * fixedLineWidth / 2,\n        y: layout.y + signY * fixedLineWidth / 2,\n        width: layout.width - signX * fixedLineWidth,\n        height: layout.height - signY * fixedLineWidth\n      };\n    },\n    polar: function (data, dataIndex, itemModel) {\n      var layout = data.getItemLayout(dataIndex);\n      return {\n        cx: layout.cx,\n        cy: layout.cy,\n        r0: layout.r0,\n        r: layout.r,\n        startAngle: layout.startAngle,\n        endAngle: layout.endAngle\n      };\n    }\n  };\n\n  function isZeroOnPolar(layout) {\n    return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n  }\n\n  function updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n    var color = data.getItemVisual(dataIndex, 'color');\n    var opacity = data.getItemVisual(dataIndex, 'opacity');\n    var stroke = data.getVisual('borderColor');\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n    if (!isPolar) {\n      el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n    }\n\n    el.useStyle(util.defaults({\n      stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n      fill: isZeroOnPolar(layout) ? 'none' : color,\n      opacity: opacity\n    }, itemStyleModel.getBarItemStyle()));\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && el.attr('cursor', cursorStyle);\n    var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n    if (!isPolar) {\n      setLabel$1(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n    }\n\n    if (isZeroOnPolar(layout)) {\n      hoverStyle.fill = hoverStyle.stroke = 'none';\n    }\n\n    graphic.setHoverStyle(el, hoverStyle);\n  } // In case width or height are too small.\n\n\n  function getLineWidth(itemModel, rawLayout) {\n    var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0; // width or height may be NaN for empty data\n\n    var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n    var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n    return Math.min(lineWidth, width, height);\n  }\n\n  var LargePath = Path_1.extend({\n    type: 'largeBar',\n    shape: {\n      points: []\n    },\n    buildPath: function (ctx, shape) {\n      // Drawing lines is more efficient than drawing\n      // a whole line or drawing rects.\n      var points = shape.points;\n      var startPoint = this.__startPoint;\n      var baseDimIdx = this.__baseDimIdx;\n\n      for (var i = 0; i < points.length; i += 2) {\n        startPoint[baseDimIdx] = points[i + baseDimIdx];\n        ctx.moveTo(startPoint[0], startPoint[1]);\n        ctx.lineTo(points[i], points[i + 1]);\n      }\n    }\n  });\n\n  function createLarge(seriesModel, group, incremental) {\n    // TODO support polar\n    var data = seriesModel.getData();\n    var startPoint = [];\n    var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n    startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n    var largeDataIndices = data.getLayout('largeDataIndices');\n    var barWidth = data.getLayout('barWidth');\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var drawBackground = seriesModel.get('showBackground', true);\n\n    if (drawBackground) {\n      var points = data.getLayout('largeBackgroundPoints');\n      var backgroundStartPoint = [];\n      backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n      var bgEl = new LargePath({\n        shape: {\n          points: points\n        },\n        incremental: !!incremental,\n        __startPoint: backgroundStartPoint,\n        __baseDimIdx: baseDimIdx,\n        __largeDataIndices: largeDataIndices,\n        __barWidth: barWidth,\n        silent: true,\n        z2: 0\n      });\n      setLargeBackgroundStyle(bgEl, backgroundModel, data);\n      group.add(bgEl);\n    }\n\n    var el = new LargePath({\n      shape: {\n        points: data.getLayout('largePoints')\n      },\n      incremental: !!incremental,\n      __startPoint: startPoint,\n      __baseDimIdx: baseDimIdx,\n      __largeDataIndices: largeDataIndices,\n      __barWidth: barWidth\n    });\n    group.add(el);\n    setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n    el.seriesIndex = seriesModel.seriesIndex;\n\n    if (!seriesModel.get('silent')) {\n      el.on('mousedown', largePathUpdateDataIndex);\n      el.on('mousemove', largePathUpdateDataIndex);\n    }\n  } // Use throttle to avoid frequently traverse to find dataIndex.\n\n\n  var largePathUpdateDataIndex = throttle$2(function (event) {\n    var largePath = this;\n    var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n    largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n  }, 30, false);\n\n  function largePathFindDataIndex(largePath, x, y) {\n    var baseDimIdx = largePath.__baseDimIdx;\n    var valueDimIdx = 1 - baseDimIdx;\n    var points = largePath.shape.points;\n    var largeDataIndices = largePath.__largeDataIndices;\n    var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n    var startValueVal = largePath.__startPoint[valueDimIdx];\n    _eventPos[0] = x;\n    _eventPos[1] = y;\n    var pointerBaseVal = _eventPos[baseDimIdx];\n    var pointerValueVal = _eventPos[1 - baseDimIdx];\n    var baseLowerBound = pointerBaseVal - barWidthHalf;\n    var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n    for (var i = 0, len = points.length / 2; i < len; i++) {\n      var ii = i * 2;\n      var barBaseVal = points[ii + baseDimIdx];\n      var barValueVal = points[ii + valueDimIdx];\n\n      if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n        return largeDataIndices[i];\n      }\n    }\n\n    return -1;\n  }\n\n  function setLargeStyle(el, seriesModel, data) {\n    var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n    var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n    el.useStyle(itemStyle);\n    el.style.fill = null;\n    el.style.stroke = borderColor;\n    el.style.lineWidth = data.getLayout('barWidth');\n  }\n\n  function setLargeBackgroundStyle(el, backgroundModel, data) {\n    var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n    var itemStyle = backgroundModel.getItemStyle(['color', 'borderColor']);\n    el.useStyle(itemStyle);\n    el.style.fill = null;\n    el.style.stroke = borderColor;\n    el.style.lineWidth = data.getLayout('barWidth');\n  }\n\n  function createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n    var coordLayout;\n    var isPolar = coord.type === 'polar';\n\n    if (isPolar) {\n      coordLayout = coord.getArea();\n    } else {\n      coordLayout = coord.grid.getRect();\n    }\n\n    if (isPolar) {\n      return {\n        cx: coordLayout.cx,\n        cy: coordLayout.cy,\n        r0: isHorizontalOrRadial ? coordLayout.r0 : layout.r0,\n        r: isHorizontalOrRadial ? coordLayout.r : layout.r,\n        startAngle: isHorizontalOrRadial ? layout.startAngle : 0,\n        endAngle: isHorizontalOrRadial ? layout.endAngle : Math.PI * 2\n      };\n    } else {\n      return {\n        x: isHorizontalOrRadial ? layout.x : coordLayout.x,\n        y: isHorizontalOrRadial ? coordLayout.y : layout.y,\n        width: isHorizontalOrRadial ? layout.width : coordLayout.width,\n        height: isHorizontalOrRadial ? coordLayout.height : layout.height\n      };\n    }\n  }\n\n  function createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n    var ElementClz = coord.type === 'polar' ? graphic.Sector : graphic.Rect;\n    return new ElementClz({\n      shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n      silent: true,\n      z2: 0\n    });\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var layout$4 = barGrid.layout;\n  var largeLayout$1 = barGrid.largeLayout;\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // In case developer forget to include grid component\n  echarts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, util.curry(layout$4, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n  // only exist in this module, but probably also exist in other modules, like `barPolar`.\n\n  echarts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout$1);\n  echarts.registerVisual({\n    seriesType: 'bar',\n    reset: function (seriesModel) {\n      // Visual coding for legend\n      seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n    }\n  });\n\n  function _interopDefault$5 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n\n  var Core$3 = _interopDefault$5(core_1);\n\n  var defineProperty$6 = function (obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  var _extends$4 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  // default opacity of bar while dim-axis type is 'value'\n  var VALUE_AXIS_OPACITY = 0.5;\n\n  function getBarDimAxis(args) {\n    var innerRows = args.innerRows,\n        dimAxisName = args.dimAxisName,\n        dimension = args.dimension,\n        axisVisible = args.axisVisible,\n        dimAxisType = args.dimAxisType,\n        dims = args.dims;\n\n    return dimension.map(function (item) {\n      return {\n        type: 'category',\n        name: dimAxisName,\n        nameLocation: 'middle',\n        nameGap: 22,\n        data: dimAxisType === 'value' ? getValueAxisData(dims) : innerRows.map(function (row) {\n          return row[item];\n        }),\n        axisLabel: {\n          formatter: function formatter(v) {\n            return String(v);\n          }\n        },\n        show: axisVisible\n      };\n    });\n  }\n\n  function getValueAxisData(dims) {\n    var max = Math.max.apply(null, dims);\n    var min = Math.min.apply(null, dims);\n    var result = [];\n    for (var i = min; i <= max; i++) {\n      result.push(i);\n    }\n    return result;\n  }\n\n  function getBarMeaAxis(args) {\n    var meaAxisName = args.meaAxisName,\n        meaAxisType = args.meaAxisType,\n        axisVisible = args.axisVisible,\n        digit = args.digit,\n        scale = args.scale,\n        min = args.min,\n        max = args.max;\n\n    var meaAxisBase = {\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      show: axisVisible\n    };\n    var meaAxis = [];\n\n    var _loop = function _loop(i) {\n      if (meaAxisType[i]) {\n        meaAxis[i] = _extends$4({}, meaAxisBase, {\n          axisLabel: {\n            formatter: function formatter(val) {\n              return utils.getFormated(val, meaAxisType[i], digit);\n            }\n          }\n        });\n      } else {\n        meaAxis[i] = _extends$4({}, meaAxisBase);\n      }\n      meaAxis[i].name = meaAxisName[i] || '';\n      meaAxis[i].scale = scale[i] || false;\n      meaAxis[i].min = min[i] || null;\n      meaAxis[i].max = max[i] || null;\n    };\n\n    for (var i = 0; i < 2; i++) {\n      _loop(i);\n    }\n\n    return meaAxis;\n  }\n\n  function getBarTooltip(args) {\n    var axisSite = args.axisSite,\n        isHistogram = args.isHistogram,\n        meaAxisType = args.meaAxisType,\n        digit = args.digit,\n        labelMap = args.labelMap;\n\n    var secondAxis = isHistogram ? axisSite.right || [] : axisSite.top || [];\n    if (labelMap) {\n      secondAxis = secondAxis.map(function (item) {\n        return labelMap[item] === undefined ? item : labelMap[item];\n      });\n    }\n    return {\n      trigger: 'axis',\n      formatter: function formatter(items) {\n        var tpl = [];\n        tpl.push(items[0].name + '<br>');\n        items.forEach(function (item) {\n          var seriesName = item.seriesName;\n          var type = ~secondAxis.indexOf(seriesName) ? meaAxisType[1] : meaAxisType[0];\n          tpl.push(constants.itemPoint(item.color));\n          tpl.push(seriesName + ': ');\n          tpl.push(utils.getFormated(item.value, type, digit));\n          tpl.push('<br>');\n        });\n\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getValueData(seriesTemp, dims) {\n    var max = Math.max.apply(null, dims);\n    var min = Math.min.apply(null, dims);\n    var result = [];\n    for (var i = min; i <= max; i++) {\n      var index = dims.indexOf(i);\n      if (~index) {\n        result.push(seriesTemp[index]);\n      } else {\n        result.push(null);\n      }\n    }\n    return result;\n  }\n\n  function getBarSeries(args) {\n    var innerRows = args.innerRows,\n        metrics = args.metrics,\n        stack = args.stack,\n        axisSite = args.axisSite,\n        isHistogram = args.isHistogram,\n        labelMap = args.labelMap,\n        itemStyle = args.itemStyle,\n        label = args.label,\n        _args$showLine = args.showLine,\n        showLine = _args$showLine === undefined ? [] : _args$showLine,\n        dimAxisType = args.dimAxisType,\n        barGap = args.barGap,\n        opacity = args.opacity,\n        dims = args.dims;\n\n    var series = [];\n    var seriesTemp = {};\n    var secondAxis = isHistogram ? axisSite.right || [] : axisSite.top || [];\n    var secondDimAxisIndex = isHistogram ? 'yAxisIndex' : 'xAxisIndex';\n    var stackMap = stack && utils.getStackMap(stack);\n    metrics.forEach(function (item) {\n      seriesTemp[item] = [];\n    });\n    innerRows.forEach(function (row) {\n      metrics.forEach(function (item) {\n        seriesTemp[item].push(row[item]);\n      });\n    });\n    series = Object.keys(seriesTemp).map(function (item, index) {\n      var data = dimAxisType === 'value' ? getValueData(seriesTemp[item], dims) : seriesTemp[item];\n      var seriesItem = defineProperty$6({\n        name: labelMap[item] != null ? labelMap[item] : item,\n        type: ~showLine.indexOf(item) ? 'line' : 'bar',\n        data: data\n      }, secondDimAxisIndex, ~secondAxis.indexOf(item) ? '1' : '0');\n\n      if (stack && stackMap[item]) seriesItem.stack = stackMap[item];\n\n      if (label) seriesItem.label = label;\n      if (itemStyle) seriesItem.itemStyle = itemStyle;\n\n      var itemOpacity = opacity || utilsLite.get(seriesItem, 'itemStyle.normal.opacity');\n      if (dimAxisType === 'value') {\n        seriesItem.barGap = barGap;\n        seriesItem.barCategoryGap = '1%';\n        if (itemOpacity == null) itemOpacity = VALUE_AXIS_OPACITY;\n      }\n\n      if (itemOpacity != null) {\n        utilsLite.set(seriesItem, 'itemStyle.normal.opacity', itemOpacity);\n      }\n\n      return seriesItem;\n    });\n\n    return series.length ? series : false;\n  }\n\n  function getLegend$1(args) {\n    var metrics = args.metrics,\n        labelMap = args.labelMap,\n        legendName = args.legendName;\n\n    if (!legendName && !labelMap) return { data: metrics };\n    var data = labelMap ? metrics.map(function (item) {\n      return labelMap[item] == null ? item : labelMap[item];\n    }) : metrics;\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getDims(rows, dimension) {\n    return rows.map(function (row) {\n      return row[dimension[0]];\n    });\n  }\n\n  var histogram = function histogram(columns, rows, settings, status) {\n    var innerRows = utilsLite.cloneDeep(rows);\n    var _settings$axisSite2 = settings.axisSite,\n        axisSite = _settings$axisSite2 === undefined ? {} : _settings$axisSite2,\n        _settings$dimension2 = settings.dimension,\n        dimension = _settings$dimension2 === undefined ? [columns[0]] : _settings$dimension2,\n        _settings$stack2 = settings.stack,\n        stack = _settings$stack2 === undefined ? {} : _settings$stack2,\n        _settings$axisVisible2 = settings.axisVisible,\n        axisVisible = _settings$axisVisible2 === undefined ? true : _settings$axisVisible2,\n        _settings$digit2 = settings.digit,\n        digit = _settings$digit2 === undefined ? 2 : _settings$digit2,\n        _settings$dataOrder2 = settings.dataOrder,\n        dataOrder = _settings$dataOrder2 === undefined ? false : _settings$dataOrder2,\n        _settings$scale2 = settings.scale,\n        scale = _settings$scale2 === undefined ? [false, false] : _settings$scale2,\n        _settings$min2 = settings.min,\n        min = _settings$min2 === undefined ? [null, null] : _settings$min2,\n        _settings$max2 = settings.max,\n        max = _settings$max2 === undefined ? [null, null] : _settings$max2,\n        _settings$labelMap2 = settings.labelMap,\n        labelMap = _settings$labelMap2 === undefined ? {} : _settings$labelMap2,\n        _settings$legendName2 = settings.legendName,\n        legendName = _settings$legendName2 === undefined ? {} : _settings$legendName2,\n        label = settings.label,\n        itemStyle = settings.itemStyle,\n        showLine = settings.showLine,\n        _settings$barGap2 = settings.barGap,\n        barGap = _settings$barGap2 === undefined ? '-100%' : _settings$barGap2,\n        opacity = settings.opacity;\n\n\n    if (dataOrder) {\n      var _label2 = dataOrder.label,\n          order = dataOrder.order;\n\n      if (!_label2 || !order) {\n        console.warn('Need to provide name and order parameters');\n      } else {\n        innerRows.sort(function (a, b) {\n          if (order === 'desc') {\n            return a[_label2] - b[_label2];\n          } else {\n            return b[_label2] - a[_label2];\n          }\n        });\n      }\n    }\n\n    var tooltipVisible = status.tooltipVisible,\n        legendVisible = status.legendVisible;\n\n    var metrics = columns.slice();\n    if (axisSite.left && axisSite.right) {\n      metrics = axisSite.left.concat(axisSite.right);\n    } else if (axisSite.left && !axisSite.right) {\n      metrics = axisSite.left;\n    } else if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      metrics.splice(columns.indexOf(dimension[0]), 1);\n    }\n    var meaAxisType = settings.yAxisType || ['normal', 'normal'];\n    var dimAxisType = settings.xAxisType || 'category';\n    var meaAxisName = settings.yAxisName || [];\n    var dimAxisName = settings.xAxisName || '';\n    var isHistogram = true;\n    var dims = getDims(innerRows, dimension);\n\n    var legend = legendVisible && getLegend$1({ metrics: metrics, labelMap: labelMap, legendName: legendName });\n    var xAxis = getBarDimAxis({\n      innerRows: innerRows,\n      dimAxisName: dimAxisName,\n      dimension: dimension,\n      axisVisible: axisVisible,\n      dimAxisType: dimAxisType,\n      dims: dims\n    });\n    var yAxis = getBarMeaAxis({\n      meaAxisName: meaAxisName,\n      meaAxisType: meaAxisType,\n      axisVisible: axisVisible,\n      digit: digit,\n      scale: scale,\n      min: min,\n      max: max\n    });\n    var series = getBarSeries({\n      innerRows: innerRows,\n      metrics: metrics,\n      stack: stack,\n      axisSite: axisSite,\n      isHistogram: isHistogram,\n      labelMap: labelMap,\n      itemStyle: itemStyle,\n      label: label,\n      showLine: showLine,\n      dimAxisType: dimAxisType,\n      dimension: dimension,\n      barGap: barGap,\n      opacity: opacity,\n      dims: dims\n    });\n    var tooltipParams = { axisSite: axisSite, isHistogram: isHistogram, meaAxisType: meaAxisType, digit: digit, labelMap: labelMap };\n    var tooltip = tooltipVisible && getBarTooltip(tooltipParams);\n    var options = { legend: legend, yAxis: yAxis, series: series, xAxis: xAxis, tooltip: tooltip };\n    return options;\n  };\n\n  var index$3 = _extends$4({}, Core$3, {\n    name: 'VeHistogram',\n    data: function data() {\n      this.chartHandler = histogram;\n      return {};\n    }\n  });\n\n  var histogram_common = index$3;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n  var defaultEmphasis$1 = model.defaultEmphasis;\n\n\n\n  var makeSeriesEncodeForNameBased$2 = sourceHelper.makeSeriesEncodeForNameBased;\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var FunnelSeries = echarts.extendSeriesModel({\n    type: 'series.funnel',\n    init: function (option) {\n      FunnelSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n      // Use a function instead of direct access because data reference may changed\n\n      this.legendVisualProvider = new LegendVisualProvider_1(util.bind(this.getData, this), util.bind(this.getRawData, this)); // Extend labelLine emphasis\n\n      this._defaultLabelLine(option);\n    },\n    getInitialData: function (option, ecModel) {\n      return createListSimply(this, {\n        coordDimensions: ['value'],\n        encodeDefaulter: util.curry(makeSeriesEncodeForNameBased$2, this)\n      });\n    },\n    _defaultLabelLine: function (option) {\n      // Extend labelLine emphasis\n      defaultEmphasis$1(option, 'labelLine', ['show']);\n      var labelLineNormalOpt = option.labelLine;\n      var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n      labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n      labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n    },\n    // Overwrite\n    getDataParams: function (dataIndex) {\n      var data = this.getData();\n      var params = FunnelSeries.superCall(this, 'getDataParams', dataIndex);\n      var valueDim = data.mapDimension('value');\n      var sum = data.getSum(valueDim); // Percent is 0 if sum is 0\n\n      params.percent = !sum ? 0 : +(data.get(valueDim, dataIndex) / sum * 100).toFixed(2);\n      params.$vars.push('percent');\n      return params;\n    },\n    defaultOption: {\n      zlevel: 0,\n      // \n      z: 2,\n      // \n      legendHoverLink: true,\n      left: 80,\n      top: 60,\n      right: 80,\n      bottom: 60,\n      // width: {totalWidth} - left - right,\n      // height: {totalHeight} - top - bottom,\n      // \n      // min: 0,\n      // max: 100,\n      minSize: '0%',\n      maxSize: '100%',\n      sort: 'descending',\n      // 'ascending', 'descending'\n      orient: 'vertical',\n      gap: 0,\n      funnelAlign: 'center',\n      label: {\n        show: true,\n        position: 'outer' // formatter: Tooltip.formatter\n\n      },\n      labelLine: {\n        show: true,\n        length: 20,\n        lineStyle: {\n          // color: ,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      itemStyle: {\n        // color: ,\n        borderColor: '#fff',\n        borderWidth: 1\n      },\n      emphasis: {\n        label: {\n          show: true\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Piece of pie including Sector, Label, LabelLine\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   */\n  function FunnelPiece(data, idx) {\n    graphic.Group.call(this);\n    var polygon = new graphic.Polygon();\n    var labelLine = new graphic.Polyline();\n    var text = new graphic.Text();\n    this.add(polygon);\n    this.add(labelLine);\n    this.add(text);\n\n    this.highDownOnUpdate = function (fromState, toState) {\n      if (toState === 'emphasis') {\n        labelLine.ignore = labelLine.hoverIgnore;\n        text.ignore = text.hoverIgnore;\n      } else {\n        labelLine.ignore = labelLine.normalIgnore;\n        text.ignore = text.normalIgnore;\n      }\n    };\n\n    this.updateData(data, idx, true);\n  }\n\n  var funnelPieceProto = FunnelPiece.prototype;\n  var opacityAccessPath = ['itemStyle', 'opacity'];\n\n  funnelPieceProto.updateData = function (data, idx, firstCreate) {\n    var polygon = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var opacity = data.getItemModel(idx).get(opacityAccessPath);\n    opacity = opacity == null ? 1 : opacity; // Reset style\n\n    polygon.useStyle({});\n\n    if (firstCreate) {\n      polygon.setShape({\n        points: layout.points\n      });\n      polygon.setStyle({\n        opacity: 0\n      });\n      graphic.initProps(polygon, {\n        style: {\n          opacity: opacity\n        }\n      }, seriesModel, idx);\n    } else {\n      graphic.updateProps(polygon, {\n        style: {\n          opacity: opacity\n        },\n        shape: {\n          points: layout.points\n        }\n      }, seriesModel, idx);\n    } // Update common style\n\n\n    var itemStyleModel = itemModel.getModel('itemStyle');\n    var visualColor = data.getItemVisual(idx, 'color');\n    polygon.setStyle(util.defaults({\n      lineJoin: 'round',\n      fill: visualColor\n    }, itemStyleModel.getItemStyle(['opacity'])));\n    polygon.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n    this._updateLabel(data, idx);\n\n    graphic.setHoverStyle(this);\n  };\n\n  funnelPieceProto._updateLabel = function (data, idx) {\n    var labelLine = this.childAt(1);\n    var labelText = this.childAt(2);\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.updateProps(labelLine, {\n      shape: {\n        points: labelLayout.linePoints || labelLayout.linePoints\n      }\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: {\n        x: labelLayout.x,\n        y: labelLayout.y\n      }\n    }, seriesModel, idx);\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      origin: [labelLayout.x, labelLayout.y],\n      z2: 10\n    });\n    var labelModel = itemModel.getModel('label');\n    var labelHoverModel = itemModel.getModel('emphasis.label');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n    var visualColor = data.getItemVisual(idx, 'color');\n    graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultText: data.getName(idx),\n      autoColor: visualColor,\n      useInsideStyle: !!labelLayout.inside\n    }, {\n      textAlign: labelLayout.textAlign,\n      textVerticalAlign: labelLayout.verticalAlign\n    });\n    labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n    labelText.hoverIgnore = !labelHoverModel.get('show');\n    labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n    labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n    labelLine.setStyle({\n      stroke: visualColor\n    });\n    labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n    labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  };\n\n  util.inherits(FunnelPiece, graphic.Group);\n  var FunnelView = Chart_1.extend({\n    type: 'funnel',\n    render: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var oldData = this._data;\n      var group = this.group;\n      data.diff(oldData).add(function (idx) {\n        var funnelPiece = new FunnelPiece(data, idx);\n        data.setItemGraphicEl(idx, funnelPiece);\n        group.add(funnelPiece);\n      }).update(function (newIdx, oldIdx) {\n        var piePiece = oldData.getItemGraphicEl(oldIdx);\n        piePiece.updateData(data, newIdx);\n        group.add(piePiece);\n        data.setItemGraphicEl(newIdx, piePiece);\n      }).remove(function (idx) {\n        var piePiece = oldData.getItemGraphicEl(idx);\n        group.remove(piePiece);\n      }).execute();\n      this._data = data;\n    },\n    remove: function () {\n      this.group.removeAll();\n      this._data = null;\n    },\n    dispose: function () {}\n  });\n\n  var parsePercent$8 = number.parsePercent;\n  var linearMap$3 = number.linearMap;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function getViewRect$1(seriesModel, api) {\n    return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  }\n\n  function getSortedIndices(data, sort) {\n    var valueDim = data.mapDimension('value');\n    var valueArr = data.mapArray(valueDim, function (val) {\n      return val;\n    });\n    var indices = [];\n    var isAscending = sort === 'ascending';\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      indices[i] = i;\n    } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n    if (typeof sort === 'function') {\n      indices.sort(sort);\n    } else if (sort !== 'none') {\n      indices.sort(function (a, b) {\n        return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n      });\n    }\n\n    return indices;\n  }\n\n  function labelLayout$1(data) {\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelModel = itemModel.getModel('label');\n      var labelPosition = labelModel.get('position');\n      var orient = itemModel.get('orient');\n      var labelLineModel = itemModel.getModel('labelLine');\n      var layout = data.getItemLayout(idx);\n      var points = layout.points;\n      var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n      var textAlign;\n      var textX;\n      var textY;\n      var linePoints;\n\n      if (isLabelInside) {\n        if (labelPosition === 'insideLeft') {\n          textX = (points[0][0] + points[3][0]) / 2 + 5;\n          textY = (points[0][1] + points[3][1]) / 2;\n          textAlign = 'left';\n        } else if (labelPosition === 'insideRight') {\n          textX = (points[1][0] + points[2][0]) / 2 - 5;\n          textY = (points[1][1] + points[2][1]) / 2;\n          textAlign = 'right';\n        } else {\n          textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n          textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n          textAlign = 'center';\n        }\n\n        linePoints = [[textX, textY], [textX, textY]];\n      } else {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        var labelLineLen = labelLineModel.get('length');\n\n        if (labelPosition === 'left') {\n          // Left side\n          x1 = (points[3][0] + points[0][0]) / 2;\n          y1 = (points[3][1] + points[0][1]) / 2;\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        } else if (labelPosition === 'right') {\n          // Right side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'left';\n        } else if (labelPosition === 'top') {\n          // Top side\n          x1 = (points[3][0] + points[0][0]) / 2;\n          y1 = (points[3][1] + points[0][1]) / 2;\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else if (labelPosition === 'bottom') {\n          // Bottom side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else if (labelPosition === 'rightTop') {\n          // RightTop side\n          x1 = orient === 'horizontal' ? points[3][0] : points[1][0];\n          y1 = orient === 'horizontal' ? points[3][1] : points[1][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 - labelLineLen;\n            textY = y2 - 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'top';\n          }\n        } else if (labelPosition === 'rightBottom') {\n          // RightBottom side\n          x1 = points[2][0];\n          y1 = points[2][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'bottom';\n          }\n        } else if (labelPosition === 'leftTop') {\n          // LeftTop side\n          x1 = points[0][0];\n          y1 = orient === 'horizontal' ? points[0][1] : points[1][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 - labelLineLen;\n            textY = y2 - 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 - labelLineLen;\n            textX = x2 - 5;\n            textAlign = 'right';\n          }\n        } else if (labelPosition === 'leftBottom') {\n          // LeftBottom side\n          x1 = orient === 'horizontal' ? points[1][0] : points[3][0];\n          y1 = orient === 'horizontal' ? points[1][1] : points[2][1];\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 - labelLineLen;\n            textX = x2 - 5;\n            textAlign = 'right';\n          }\n        } else {\n          // Right side or Bottom side\n          x1 = (points[1][0] + points[2][0]) / 2;\n          y1 = (points[1][1] + points[2][1]) / 2;\n\n          if (orient === 'horizontal') {\n            y2 = y1 + labelLineLen;\n            textY = y2 + 5;\n            textAlign = 'center';\n          } else {\n            x2 = x1 + labelLineLen;\n            textX = x2 + 5;\n            textAlign = 'left';\n          }\n        }\n\n        if (orient === 'horizontal') {\n          x2 = x1;\n          textX = x2;\n        } else {\n          y2 = y1;\n          textY = y2;\n        }\n\n        linePoints = [[x1, y1], [x2, y2]];\n      }\n\n      layout.label = {\n        linePoints: linePoints,\n        x: textX,\n        y: textY,\n        verticalAlign: 'middle',\n        textAlign: textAlign,\n        inside: isLabelInside\n      };\n    });\n  }\n\n  function _default$2b(ecModel, api, payload) {\n    ecModel.eachSeriesByType('funnel', function (seriesModel) {\n      var data = seriesModel.getData();\n      var valueDim = data.mapDimension('value');\n      var sort = seriesModel.get('sort');\n      var viewRect = getViewRect$1(seriesModel, api);\n      var indices = getSortedIndices(data, sort);\n      var orient = seriesModel.get('orient');\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var x = viewRect.x;\n      var y = viewRect.y;\n      var sizeExtent = orient === 'horizontal' ? [parsePercent$8(seriesModel.get('minSize'), viewHeight), parsePercent$8(seriesModel.get('maxSize'), viewHeight)] : [parsePercent$8(seriesModel.get('minSize'), viewWidth), parsePercent$8(seriesModel.get('maxSize'), viewWidth)];\n      var dataExtent = data.getDataExtent(valueDim);\n      var min = seriesModel.get('min');\n      var max = seriesModel.get('max');\n\n      if (min == null) {\n        min = Math.min(dataExtent[0], 0);\n      }\n\n      if (max == null) {\n        max = dataExtent[1];\n      }\n\n      var funnelAlign = seriesModel.get('funnelAlign');\n      var gap = seriesModel.get('gap');\n      var viewSize = orient === 'horizontal' ? viewWidth : viewHeight;\n      var itemSize = (viewSize - gap * (data.count() - 1)) / data.count();\n\n      var getLinePoints = function (idx, offset) {\n        // End point index is data.count() and we assign it 0\n        if (orient === 'horizontal') {\n          var val = data.get(valueDim, idx) || 0;\n          var itemHeight = linearMap$3(val, [min, max], sizeExtent, true);\n          var y0;\n\n          switch (funnelAlign) {\n            case 'top':\n              y0 = y;\n              break;\n\n            case 'center':\n              y0 = y + (viewHeight - itemHeight) / 2;\n              break;\n\n            case 'bottom':\n              y0 = y + (viewHeight - itemHeight);\n              break;\n          }\n\n          return [[offset, y0], [offset, y0 + itemHeight]];\n        }\n\n        var val = data.get(valueDim, idx) || 0;\n        var itemWidth = linearMap$3(val, [min, max], sizeExtent, true);\n        var x0;\n\n        switch (funnelAlign) {\n          case 'left':\n            x0 = x;\n            break;\n\n          case 'center':\n            x0 = x + (viewWidth - itemWidth) / 2;\n            break;\n\n          case 'right':\n            x0 = x + viewWidth - itemWidth;\n            break;\n        }\n\n        return [[x0, offset], [x0 + itemWidth, offset]];\n      };\n\n      if (sort === 'ascending') {\n        // From bottom to top\n        itemSize = -itemSize;\n        gap = -gap;\n\n        if (orient === 'horizontal') {\n          x += viewWidth;\n        } else {\n          y += viewHeight;\n        }\n\n        indices = indices.reverse();\n      }\n\n      for (var i = 0; i < indices.length; i++) {\n        var idx = indices[i];\n        var nextIdx = indices[i + 1];\n        var itemModel = data.getItemModel(idx);\n\n        if (orient === 'horizontal') {\n          var width = itemModel.get('itemStyle.width');\n\n          if (width == null) {\n            width = itemSize;\n          } else {\n            width = parsePercent$8(width, viewWidth);\n\n            if (sort === 'ascending') {\n              width = -width;\n            }\n          }\n\n          var start = getLinePoints(idx, x);\n          var end = getLinePoints(nextIdx, x + width);\n          x += width + gap;\n          data.setItemLayout(idx, {\n            points: start.concat(end.slice().reverse())\n          });\n        } else {\n          var height = itemModel.get('itemStyle.height');\n\n          if (height == null) {\n            height = itemSize;\n          } else {\n            height = parsePercent$8(height, viewHeight);\n\n            if (sort === 'ascending') {\n              height = -height;\n            }\n          }\n\n          var start = orient === 'horizontal' ? getLinePoints(idx, x) : getLinePoints(idx, y);\n          var end = orient === 'horizontal' ? getLinePoints(nextIdx, x + width) : getLinePoints(nextIdx, y + height);\n          y += height + gap;\n          data.setItemLayout(idx, {\n            points: start.concat(end.slice().reverse())\n          });\n        }\n      }\n\n      labelLayout$1(data);\n    });\n  }\n\n  var funnelLayout = _default$2b;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerVisual(dataColor('funnel'));\n  echarts.registerLayout(funnelLayout);\n  echarts.registerProcessor(dataFilter('funnel'));\n\n  function _interopDefault$6 (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\n\n\n\n  var Core$4 = _interopDefault$6(core_1);\n\n  function getFunnelTooltip(dataType, digit) {\n    return {\n      trigger: 'item',\n      formatter: function formatter(item) {\n        var tpl = [];\n        tpl.push(constants.itemPoint(item.color));\n        tpl.push(item.name + ': ' + utils.getFormated(item.data.realValue, dataType, digit));\n        return tpl.join('');\n      }\n    };\n  }\n\n  function getFunnelLegend(args) {\n    var data = args.data,\n        legendName = args.legendName;\n\n    return {\n      data: data,\n      formatter: function formatter(name) {\n        return legendName[name] != null ? legendName[name] : name;\n      }\n    };\n  }\n\n  function getFunnelSeries(args) {\n    var dimension = args.dimension,\n        metrics = args.metrics,\n        rows = args.rows,\n        sequence = args.sequence,\n        ascending = args.ascending,\n        label = args.label,\n        labelLine = args.labelLine,\n        itemStyle = args.itemStyle,\n        filterZero = args.filterZero,\n        useDefaultOrder = args.useDefaultOrder;\n\n    var series = { type: 'funnel' };\n    var innerRows = rows.sort(function (a, b) {\n      return sequence.indexOf(a[dimension]) - sequence.indexOf(b[dimension]);\n    });\n\n    if (filterZero) {\n      innerRows = innerRows.filter(function (row) {\n        return row[metrics];\n      });\n    }\n\n    var falseFunnel = false;\n    innerRows.some(function (row, index) {\n      if (index && row[metrics] > innerRows[index - 1][metrics]) {\n        falseFunnel = true;\n        return true;\n      }\n    });\n\n    var step = 100 / innerRows.length;\n\n    if (falseFunnel && !useDefaultOrder) {\n      series.data = innerRows.slice().reverse().map(function (row, index) {\n        return {\n          name: row[dimension],\n          value: (index + 1) * step,\n          realValue: row[metrics]\n        };\n      });\n    } else {\n      series.data = innerRows.map(function (row) {\n        return {\n          name: row[dimension],\n          value: row[metrics],\n          realValue: row[metrics]\n        };\n      });\n    }\n\n    if (ascending) series.sort = 'ascending';\n    if (label) series.label = label;\n    if (labelLine) series.labelLine = labelLine;\n    if (itemStyle) series.itemStyle = itemStyle;\n    return series;\n  }\n\n  var funnel$1 = function funnel$$1(outerColumns, outerRows, settings, extra) {\n    var columns = outerColumns.slice();\n    var rows = outerRows.slice();\n    var _settings$dataType = settings.dataType,\n        dataType = _settings$dataType === undefined ? 'normal' : _settings$dataType,\n        _settings$dimension = settings.dimension,\n        dimension = _settings$dimension === undefined ? columns[0] : _settings$dimension,\n        _settings$sequence = settings.sequence,\n        sequence = _settings$sequence === undefined ? rows.map(function (row) {\n      return row[dimension];\n    }) : _settings$sequence,\n        _settings$digit = settings.digit,\n        digit = _settings$digit === undefined ? 2 : _settings$digit,\n        ascending = settings.ascending,\n        label = settings.label,\n        labelLine = settings.labelLine,\n        _settings$legendName = settings.legendName,\n        legendName = _settings$legendName === undefined ? {} : _settings$legendName,\n        itemStyle = settings.itemStyle,\n        filterZero = settings.filterZero,\n        useDefaultOrder = settings.useDefaultOrder;\n    var tooltipVisible = extra.tooltipVisible,\n        legendVisible = extra.legendVisible;\n\n    var metrics = void 0;\n    if (settings.metrics) {\n      metrics = settings.metrics;\n    } else {\n      var metricsTemp = columns.slice();\n      metricsTemp.splice(columns.indexOf(dimension), 1);\n      metrics = metricsTemp[0];\n    }\n\n    var tooltip = tooltipVisible && getFunnelTooltip(dataType, digit);\n    var legend = legendVisible && getFunnelLegend({ data: sequence, legendName: legendName });\n    var series = getFunnelSeries({\n      dimension: dimension,\n      metrics: metrics,\n      rows: rows,\n      sequence: sequence,\n      ascending: ascending,\n      label: label,\n      labelLine: labelLine,\n      itemStyle: itemStyle,\n      filterZero: filterZero,\n      useDefaultOrder: useDefaultOrder\n    });\n    var options = { tooltip: tooltip, legend: legend, series: series };\n    return options;\n  };\n\n  var _extends$5 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var index$4 = _extends$5({}, Core$4, {\n    name: 'VeFunnel',\n    data: function data() {\n      this.chartHandler = funnel$1;\n      return {};\n    }\n  });\n\n  var funnel_common = index$4;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var addCommas$2 = format$1.addCommas;\n  var encodeHTML$3 = format$1.encodeHTML;\n\n  function fillLabel(opt) {\n    model.defaultEmphasis(opt, 'label', ['show']);\n  }\n\n  var MarkerModel = echarts.extendComponentModel({\n    type: 'marker',\n    dependencies: ['series', 'grid', 'polar', 'geo'],\n\n    /**\n     * @overrite\n     */\n    init: function (option, parentModel, ecModel) {\n      this.mergeDefaultAndTheme(option, ecModel);\n\n      this._mergeOption(option, ecModel, false, true);\n    },\n\n    /**\n     * @return {boolean}\n     */\n    isAnimationEnabled: function () {\n      if (env_1.node) {\n        return false;\n      }\n\n      var hostSeries = this.__hostSeries;\n      return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n    },\n\n    /**\n     * @overrite\n     */\n    mergeOption: function (newOpt, ecModel) {\n      this._mergeOption(newOpt, ecModel, false, false);\n    },\n    _mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n      var MarkerModel = this.constructor;\n      var modelPropName = this.mainType + 'Model';\n\n      if (!createdBySelf) {\n        ecModel.eachSeries(function (seriesModel) {\n          var markerOpt = seriesModel.get(this.mainType, true);\n          var markerModel = seriesModel[modelPropName];\n\n          if (!markerOpt || !markerOpt.data) {\n            seriesModel[modelPropName] = null;\n            return;\n          }\n\n          if (!markerModel) {\n            if (isInit) {\n              // Default label emphasis `position` and `show`\n              fillLabel(markerOpt);\n            }\n\n            util.each(markerOpt.data, function (item) {\n              // FIXME Overwrite fillLabel method ?\n              if (item instanceof Array) {\n                fillLabel(item[0]);\n                fillLabel(item[1]);\n              } else {\n                fillLabel(item);\n              }\n            });\n            markerModel = new MarkerModel(markerOpt, this, ecModel);\n            util.extend(markerModel, {\n              mainType: this.mainType,\n              // Use the same series index and name\n              seriesIndex: seriesModel.seriesIndex,\n              name: seriesModel.name,\n              createdBySelf: true\n            });\n            markerModel.__hostSeries = seriesModel;\n          } else {\n            markerModel._mergeOption(markerOpt, ecModel, true);\n          }\n\n          seriesModel[modelPropName] = markerModel;\n        }, this);\n      }\n    },\n    formatTooltip: function (dataIndex, multipleSeries, dataType, renderMode) {\n      var data = this.getData();\n      var value = this.getRawValue(dataIndex);\n      var formattedValue = util.isArray(value) ? util.map(value, addCommas$2).join(', ') : addCommas$2(value);\n      var name = data.getName(dataIndex);\n      var html = encodeHTML$3(this.name);\n      var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n\n      if (value != null || name) {\n        html += newLine;\n      }\n\n      if (name) {\n        html += encodeHTML$3(name);\n\n        if (value != null) {\n          html += ' : ';\n        }\n      }\n\n      if (value != null) {\n        html += encodeHTML$3(formattedValue);\n      }\n\n      return html;\n    },\n    getData: function () {\n      return this._data;\n    },\n    setData: function (data) {\n      this._data = data;\n    }\n  });\n  util.mixin(MarkerModel, dataFormat);\n  var _default$2c = MarkerModel;\n  var MarkerModel_1 = _default$2c;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2d = MarkerModel_1.extend({\n    type: 'markLine',\n    defaultOption: {\n      zlevel: 0,\n      z: 5,\n      symbol: ['circle', 'arrow'],\n      symbolSize: [8, 16],\n      //symbolRotate: 0,\n      precision: 2,\n      tooltip: {\n        trigger: 'item'\n      },\n      label: {\n        show: true,\n        position: 'end',\n        distance: 5\n      },\n      lineStyle: {\n        type: 'dashed'\n      },\n      emphasis: {\n        label: {\n          show: true\n        },\n        lineStyle: {\n          width: 3\n        }\n      },\n      animationEasing: 'linear'\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  var isDimensionStacked$5 = dataStackHelper.isDimensionStacked;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var indexOf$5 = util.indexOf;\n\n  function hasXOrY(item) {\n    return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n  }\n\n  function hasXAndY(item) {\n    return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n  } // Make it simple, do not visit all stacked value to count precision.\n  // function getPrecision(data, valueAxisDim, dataIndex) {\n  //     var precision = -1;\n  //     var stackedDim = data.mapDimension(valueAxisDim);\n  //     do {\n  //         precision = Math.max(\n  //             numberUtil.getPrecision(data.get(stackedDim, dataIndex)),\n  //             precision\n  //         );\n  //         var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n  //         if (stackedOnSeries) {\n  //             var byValue = data.get(data.getCalculationInfo('stackedByDimension'), dataIndex);\n  //             data = stackedOnSeries.getData();\n  //             dataIndex = data.indexOf(data.getCalculationInfo('stackedByDimension'), byValue);\n  //             stackedDim = data.getCalculationInfo('stackedDimension');\n  //         }\n  //         else {\n  //             data = null;\n  //         }\n  //     } while (data);\n  //     return precision;\n  // }\n\n\n  function markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n    var coordArr = [];\n    var stacked = isDimensionStacked$5(data, targetDataDim\n    /*, otherDataDim*/\n    );\n    var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n    var value = numCalculate(data, calcDataDim, mlType);\n    var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n    coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n    coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n    var coordArrValue = data.get(targetDataDim, dataIndex); // Make it simple, do not visit all stacked value to count precision.\n\n    var precision = number.getPrecision(data.get(targetDataDim, dataIndex));\n    precision = Math.min(precision, 20);\n\n    if (precision >= 0) {\n      coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n    }\n\n    return [coordArr, coordArrValue];\n  }\n\n  var curry$4 = util.curry; // TODO Specified percent\n\n  var markerTypeCalculator = {\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    min: curry$4(markerTypeCalculatorWithExtent, 'min'),\n\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    max: curry$4(markerTypeCalculatorWithExtent, 'max'),\n\n    /**\n     * @method\n     * @param {module:echarts/data/List} data\n     * @param {string} baseAxisDim\n     * @param {string} valueAxisDim\n     */\n    average: curry$4(markerTypeCalculatorWithExtent, 'average')\n  };\n  /**\n   * Transform markPoint data item to format used in List by do the following\n   * 1. Calculate statistic like `max`, `min`, `average`\n   * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/coord/*} [coordSys]\n   * @param  {Object} item\n   * @return {Object}\n   */\n\n  function dataTransform(seriesModel, item) {\n    var data = seriesModel.getData();\n    var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n    // 2. If `coord` is not a data array. Which uses `xAxis`,\n    // `yAxis` to specify the coord on each dimension\n    // parseFloat first because item.x and item.y can be percent string like '20%'\n\n    if (item && !hasXAndY(item) && !util.isArray(item.coord) && coordSys) {\n      var dims = coordSys.dimensions;\n      var axisInfo = getAxisInfo$1(item, data, coordSys, seriesModel); // Clone the option\n      // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n      item = util.clone(item);\n\n      if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n        var otherCoordIndex = indexOf$5(dims, axisInfo.baseAxis.dim);\n        var targetCoordIndex = indexOf$5(dims, axisInfo.valueAxis.dim);\n        var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n        item.coord = coordInfo[0]; // Force to use the value of calculated value.\n        // let item use the value without stack.\n\n        item.value = coordInfo[1];\n      } else {\n        // FIXME Only has one of xAxis and yAxis.\n        var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n        for (var i = 0; i < 2; i++) {\n          if (markerTypeCalculator[coord[i]]) {\n            coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n          }\n        }\n\n        item.coord = coord;\n      }\n    }\n\n    return item;\n  }\n\n  function getAxisInfo$1(item, data, coordSys, seriesModel) {\n    var ret = {};\n\n    if (item.valueIndex != null || item.valueDim != null) {\n      ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n      ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n      ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n      ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    } else {\n      ret.baseAxis = seriesModel.getBaseAxis();\n      ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n      ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n      ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n    }\n\n    return ret;\n  }\n\n  function dataDimToCoordDim(seriesModel, dataDim) {\n    var data = seriesModel.getData();\n    var dimensions = data.dimensions;\n    dataDim = data.getDimension(dataDim);\n\n    for (var i = 0; i < dimensions.length; i++) {\n      var dimItem = data.getDimensionInfo(dimensions[i]);\n\n      if (dimItem.name === dataDim) {\n        return dimItem.coordDim;\n      }\n    }\n  }\n  /**\n   * Filter data which is out of coordinateSystem range\n   * [dataFilter description]\n   * @param  {module:echarts/coord/*} [coordSys]\n   * @param  {Object} item\n   * @return {boolean}\n   */\n\n\n  function dataFilter$1(coordSys, item) {\n    // Alwalys return true if there is no coordSys\n    return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n  }\n\n  function dimValueGetter(item, dimName, dataIndex, dimIndex) {\n    // x, y, radius, angle\n    if (dimIndex < 2) {\n      return item.coord && item.coord[dimIndex];\n    }\n\n    return item.value;\n  }\n\n  function numCalculate(data, valueDataDim, type) {\n    if (type === 'average') {\n      var sum = 0;\n      var count = 0;\n      data.each(valueDataDim, function (val, idx) {\n        if (!isNaN(val)) {\n          sum += val;\n          count++;\n        }\n      });\n      return sum / count;\n    } else if (type === 'median') {\n      return data.getMedian(valueDataDim);\n    } else {\n      // max & min\n      return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n    }\n  }\n\n  var dataTransform_1 = dataTransform;\n  var getAxisInfo_1$1 = getAxisInfo$1;\n  var dataFilter_1 = dataFilter$1;\n  var dimValueGetter_1 = dimValueGetter;\n  var numCalculate_1 = numCalculate;\n\n  var markerHelper = {\n  \tdataTransform: dataTransform_1,\n  \tgetAxisInfo: getAxisInfo_1$1,\n  \tdataFilter: dataFilter_1,\n  \tdimValueGetter: dimValueGetter_1,\n  \tnumCalculate: numCalculate_1\n  };\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * Line path for bezier and straight line draw\n   */\n  var straightLineProto = graphic.Line.prototype;\n  var bezierCurveProto = graphic.BezierCurve.prototype;\n\n  function isLine(shape) {\n    return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n  }\n\n  var _default$2e = graphic.extendShape({\n    type: 'ec-line',\n    style: {\n      stroke: '#000',\n      fill: null\n    },\n    shape: {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      percent: 1,\n      cpx1: null,\n      cpy1: null\n    },\n    buildPath: function (ctx, shape) {\n      this[isLine(shape) ? '_buildPathLine' : '_buildPathCurve'](ctx, shape);\n    },\n    _buildPathLine: straightLineProto.buildPath,\n    _buildPathCurve: bezierCurveProto.buildPath,\n    pointAt: function (t) {\n      return this[isLine(this.shape) ? '_pointAtLine' : '_pointAtCurve'](t);\n    },\n    _pointAtLine: straightLineProto.pointAt,\n    _pointAtCurve: bezierCurveProto.pointAt,\n    tangentAt: function (t) {\n      var shape = this.shape;\n      var p = isLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : this._tangentAtCurve(t);\n      return vector.normalize(p, p);\n    },\n    _tangentAtCurve: bezierCurveProto.tangentAt\n  });\n\n  var LinePath = _default$2e;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var round$4 = number.round;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/Line\n   */\n  var SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\n  function makeSymbolTypeKey(symbolCategory) {\n    return '_' + symbolCategory + 'Type';\n  }\n  /**\n   * @inner\n   */\n\n\n  function createSymbol$5(name, lineData, idx) {\n    var symbolType = lineData.getItemVisual(idx, name);\n\n    if (!symbolType || symbolType === 'none') {\n      return;\n    }\n\n    var color = lineData.getItemVisual(idx, 'color');\n    var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n    var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n\n    if (!util.isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n\n    var symbolPath = symbol.createSymbol(symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2, symbolSize[0], symbolSize[1], color); // rotate by default if symbolRotate is not specified or NaN\n\n    symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n    symbolPath.name = name;\n    return symbolPath;\n  }\n\n  function createLine(points) {\n    var line = new LinePath({\n      name: 'line',\n      subPixelOptimize: true\n    });\n    setLinePoints(line.shape, points);\n    return line;\n  }\n\n  function setLinePoints(targetShape, points) {\n    targetShape.x1 = points[0][0];\n    targetShape.y1 = points[0][1];\n    targetShape.x2 = points[1][0];\n    targetShape.y2 = points[1][1];\n    targetShape.percent = 1;\n    var cp1 = points[2];\n\n    if (cp1) {\n      targetShape.cpx1 = cp1[0];\n      targetShape.cpy1 = cp1[1];\n    } else {\n      targetShape.cpx1 = NaN;\n      targetShape.cpy1 = NaN;\n    }\n  }\n\n  function updateSymbolAndLabelBeforeLineUpdate() {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.childOfName('label'); // Quick reject\n\n    if (!symbolFrom && !symbolTo && label.ignore) {\n      return;\n    }\n\n    var invScale = 1;\n    var parentNode = this.parent;\n\n    while (parentNode) {\n      if (parentNode.scale) {\n        invScale /= parentNode.scale[0];\n      }\n\n      parentNode = parentNode.parent;\n    }\n\n    var line = lineGroup.childOfName('line'); // If line not changed\n    // FIXME Parent scale changed\n\n    if (!this.__dirty && !line.__dirty) {\n      return;\n    }\n\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n    var d = vector.sub([], toPos, fromPos);\n    vector.normalize(d, d);\n\n    if (symbolFrom) {\n      symbolFrom.attr('position', fromPos); // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n\n      var specifiedRotation = symbolFrom.__specifiedRotation;\n\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(0);\n        symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbolFrom.attr('rotation', specifiedRotation);\n      }\n\n      symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n    }\n\n    if (symbolTo) {\n      symbolTo.attr('position', toPos); // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n\n      var specifiedRotation = symbolTo.__specifiedRotation;\n\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(1);\n        symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbolTo.attr('rotation', specifiedRotation);\n      }\n\n      symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n    }\n\n    if (!label.ignore) {\n      label.attr('position', toPos);\n      var textPosition;\n      var textAlign;\n      var textVerticalAlign;\n      var textOrigin;\n      var distance = label.__labelDistance;\n      var distanceX = distance[0] * invScale;\n      var distanceY = distance[1] * invScale;\n      var halfPercent = percent / 2;\n      var tangent = line.tangentAt(halfPercent);\n      var n = [tangent[1], -tangent[0]];\n      var cp = line.pointAt(halfPercent);\n\n      if (n[1] > 0) {\n        n[0] = -n[0];\n        n[1] = -n[1];\n      }\n\n      var dir = tangent[0] < 0 ? -1 : 1;\n\n      if (label.__position !== 'start' && label.__position !== 'end') {\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n\n        label.attr('rotation', rotation);\n      }\n\n      var dy;\n\n      switch (label.__position) {\n        case 'insideStartTop':\n        case 'insideMiddleTop':\n        case 'insideEndTop':\n        case 'middle':\n          dy = -distanceY;\n          textVerticalAlign = 'bottom';\n          break;\n\n        case 'insideStartBottom':\n        case 'insideMiddleBottom':\n        case 'insideEndBottom':\n          dy = distanceY;\n          textVerticalAlign = 'top';\n          break;\n\n        default:\n          dy = 0;\n          textVerticalAlign = 'middle';\n      }\n\n      switch (label.__position) {\n        case 'end':\n          textPosition = [d[0] * distanceX + toPos[0], d[1] * distanceY + toPos[1]];\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n          break;\n\n        case 'start':\n          textPosition = [-d[0] * distanceX + fromPos[0], -d[1] * distanceY + fromPos[1]];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n          break;\n\n        case 'insideStartTop':\n        case 'insideStart':\n        case 'insideStartBottom':\n          textPosition = [distanceX * dir + fromPos[0], fromPos[1] + dy];\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\n          textOrigin = [-distanceX * dir, -dy];\n          break;\n\n        case 'insideMiddleTop':\n        case 'insideMiddle':\n        case 'insideMiddleBottom':\n        case 'middle':\n          textPosition = [cp[0], cp[1] + dy];\n          textAlign = 'center';\n          textOrigin = [0, -dy];\n          break;\n\n        case 'insideEndTop':\n        case 'insideEnd':\n        case 'insideEndBottom':\n          textPosition = [-distanceX * dir + toPos[0], toPos[1] + dy];\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\n          textOrigin = [distanceX * dir, -dy];\n          break;\n      }\n\n      label.attr({\n        style: {\n          // Use the user specified text align and baseline first\n          textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n          textAlign: label.__textAlign || textAlign\n        },\n        position: textPosition,\n        scale: [invScale, invScale],\n        origin: textOrigin\n      });\n    }\n  }\n  /**\n   * @constructor\n   * @extends {module:zrender/graphic/Group}\n   * @alias {module:echarts/chart/helper/Line}\n   */\n\n\n  function Line$1(lineData, idx, seriesScope) {\n    graphic.Group.call(this);\n\n    this._createLine(lineData, idx, seriesScope);\n  }\n\n  var lineProto = Line$1.prototype; // Update symbol position and rotation\n\n  lineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\n  lineProto._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    graphic.initProps(line, {\n      shape: {\n        percent: 1\n      }\n    }, seriesModel, idx);\n    this.add(line);\n    var label = new graphic.Text({\n      name: 'label',\n      // FIXME\n      // Temporary solution for `focusNodeAdjacency`.\n      // line label do not use the opacity of lineStyle.\n      lineLabelOriginalOpacity: 1\n    });\n    this.add(label);\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = createSymbol$5(symbolCategory, lineData, idx); // symbols must added after line to make sure\n      // it will be updated after line#update.\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n      this.add(symbol);\n      this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  lineProto.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n      shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    graphic.updateProps(line, target, seriesModel, idx);\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbolType = lineData.getItemVisual(idx, symbolCategory);\n      var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n      if (this[key] !== symbolType) {\n        this.remove(this.childOfName(symbolCategory));\n        var symbol = createSymbol$5(symbolCategory, lineData, idx);\n        this.add(symbol);\n      }\n\n      this[key] = symbolType;\n    }, this);\n\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n\n  lineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var lineStyle = seriesScope && seriesScope.lineStyle;\n    var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n    var labelModel = seriesScope && seriesScope.labelModel;\n    var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel; // Optimization for large dataset\n\n    if (!seriesScope || lineData.hasItemOption) {\n      var itemModel = lineData.getItemModel(idx);\n      lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n      hoverLineStyle = itemModel.getModel('emphasis.lineStyle').getLineStyle();\n      labelModel = itemModel.getModel('label');\n      hoverLabelModel = itemModel.getModel('emphasis.label');\n    }\n\n    var visualColor = lineData.getItemVisual(idx, 'color');\n    var visualOpacity = util.retrieve3(lineData.getItemVisual(idx, 'opacity'), lineStyle.opacity, 1);\n    line.useStyle(util.defaults({\n      strokeNoScale: true,\n      fill: 'none',\n      stroke: visualColor,\n      opacity: visualOpacity\n    }, lineStyle));\n    line.hoverStyle = hoverLineStyle; // Update symbol\n\n    util.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = this.childOfName(symbolCategory);\n\n      if (symbol) {\n        symbol.setColor(visualColor);\n        symbol.setStyle({\n          opacity: visualOpacity\n        });\n      }\n    }, this);\n    var showLabel = labelModel.getShallow('show');\n    var hoverShowLabel = hoverLabelModel.getShallow('show');\n    var label = this.childOfName('label');\n    var defaultLabelColor;\n    var baseText; // FIXME: the logic below probably should be merged to `graphic.setLabelStyle`.\n\n    if (showLabel || hoverShowLabel) {\n      defaultLabelColor = visualColor || '#000';\n      baseText = seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType);\n\n      if (baseText == null) {\n        var rawVal = seriesModel.getRawValue(idx);\n        baseText = rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round$4(rawVal) : rawVal;\n      }\n    }\n\n    var normalText = showLabel ? baseText : null;\n    var emphasisText = hoverShowLabel ? util.retrieve2(seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType), baseText) : null;\n    var labelStyle = label.style; // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n\n    if (normalText != null || emphasisText != null) {\n      graphic.setTextStyle(label.style, labelModel, {\n        text: normalText\n      }, {\n        autoColor: defaultLabelColor\n      });\n      label.__textAlign = labelStyle.textAlign;\n      label.__verticalAlign = labelStyle.textVerticalAlign; // 'start', 'middle', 'end'\n\n      label.__position = labelModel.get('position') || 'middle';\n      var distance = labelModel.get('distance');\n\n      if (!util.isArray(distance)) {\n        distance = [distance, distance];\n      }\n\n      label.__labelDistance = distance;\n    }\n\n    if (emphasisText != null) {\n      // Only these properties supported in this emphasis style here.\n      label.hoverStyle = {\n        text: emphasisText,\n        textFill: hoverLabelModel.getTextColor(true),\n        // For merging hover style to normal style, do not use\n        // `hoverLabelModel.getFont()` here.\n        fontStyle: hoverLabelModel.getShallow('fontStyle'),\n        fontWeight: hoverLabelModel.getShallow('fontWeight'),\n        fontSize: hoverLabelModel.getShallow('fontSize'),\n        fontFamily: hoverLabelModel.getShallow('fontFamily')\n      };\n    } else {\n      label.hoverStyle = {\n        text: null\n      };\n    }\n\n    label.ignore = !showLabel && !hoverShowLabel;\n    graphic.setHoverStyle(this);\n  };\n\n  lineProto.highlight = function () {\n    this.trigger('emphasis');\n  };\n\n  lineProto.downplay = function () {\n    this.trigger('normal');\n  };\n\n  lineProto.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n  };\n\n  lineProto.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n  };\n\n  util.inherits(Line$1, graphic.Group);\n  var _default$2f = Line$1;\n  var Line_1$1 = _default$2f;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n  /**\n   * @module echarts/chart/helper/LineDraw\n   */\n  // import IncrementalDisplayable from 'zrender/src/graphic/IncrementalDisplayable';\n\n  /**\n   * @alias module:echarts/component/marker/LineDraw\n   * @constructor\n   */\n  function LineDraw(ctor) {\n    this._ctor = ctor || Line_1$1;\n    this.group = new graphic.Group();\n  }\n\n  var lineDrawProto = LineDraw.prototype;\n\n  lineDrawProto.isPersistent = function () {\n    return true;\n  };\n  /**\n   * @param {module:echarts/data/List} lineData\n   */\n\n\n  lineDrawProto.updateData = function (lineData) {\n    var lineDraw = this;\n    var group = lineDraw.group;\n    var oldLineData = lineDraw._lineData;\n    lineDraw._lineData = lineData; // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!oldLineData) {\n      group.removeAll();\n    }\n\n    var seriesScope = makeSeriesScope$1(lineData);\n    lineData.diff(oldLineData).add(function (idx) {\n      doAdd(lineDraw, lineData, idx, seriesScope);\n    }).update(function (newIdx, oldIdx) {\n      doUpdate(lineDraw, oldLineData, lineData, oldIdx, newIdx, seriesScope);\n    }).remove(function (idx) {\n      group.remove(oldLineData.getItemGraphicEl(idx));\n    }).execute();\n  };\n\n  function doAdd(lineDraw, lineData, idx, seriesScope) {\n    var itemLayout = lineData.getItemLayout(idx);\n\n    if (!lineNeedsDraw(itemLayout)) {\n      return;\n    }\n\n    var el = new lineDraw._ctor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, el);\n    lineDraw.group.add(el);\n  }\n\n  function doUpdate(lineDraw, oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n      lineDraw.group.remove(itemEl);\n      return;\n    }\n\n    if (!itemEl) {\n      itemEl = new lineDraw._ctor(newLineData, newIdx, seriesScope);\n    } else {\n      itemEl.updateData(newLineData, newIdx, seriesScope);\n    }\n\n    newLineData.setItemGraphicEl(newIdx, itemEl);\n    lineDraw.group.add(itemEl);\n  }\n\n  lineDrawProto.updateLayout = function () {\n    var lineData = this._lineData; // Do not support update layout in incremental mode.\n\n    if (!lineData) {\n      return;\n    }\n\n    lineData.eachItemGraphicEl(function (el, idx) {\n      el.updateLayout(lineData, idx);\n    }, this);\n  };\n\n  lineDrawProto.incrementalPrepareUpdate = function (lineData) {\n    this._seriesScope = makeSeriesScope$1(lineData);\n    this._lineData = null;\n    this.group.removeAll();\n  };\n\n  function isEffectObject(el) {\n    return el.animators && el.animators.length > 0;\n  }\n\n  lineDrawProto.incrementalUpdate = function (taskParams, lineData) {\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup && !isEffectObject(el)) {\n        el.incremental = el.useHoverLayer = true;\n      }\n    }\n\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var itemLayout = lineData.getItemLayout(idx);\n\n      if (lineNeedsDraw(itemLayout)) {\n        var el = new this._ctor(lineData, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        this.group.add(el);\n        lineData.setItemGraphicEl(idx, el);\n      }\n    }\n  };\n\n  function makeSeriesScope$1(lineData) {\n    var hostModel = lineData.hostModel;\n    return {\n      lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n      hoverLineStyle: hostModel.getModel('emphasis.lineStyle').getLineStyle(),\n      labelModel: hostModel.getModel('label'),\n      hoverLabelModel: hostModel.getModel('emphasis.label')\n    };\n  }\n\n  lineDrawProto.remove = function () {\n    this._clearIncremental();\n\n    this._incremental = null;\n    this.group.removeAll();\n  };\n\n  lineDrawProto._clearIncremental = function () {\n    var incremental = this._incremental;\n\n    if (incremental) {\n      incremental.clearDisplaybles();\n    }\n  };\n\n  function isPointNaN(pt) {\n    return isNaN(pt[0]) || isNaN(pt[1]);\n  }\n\n  function lineNeedsDraw(pts) {\n    return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n  }\n\n  var _default$2g = LineDraw;\n  var LineDraw_1 = _default$2g;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2h = echarts.extendComponentView({\n    type: 'marker',\n    init: function () {\n      /**\n       * Markline grouped by series\n       * @private\n       * @type {module:zrender/core/util.HashMap}\n       */\n      this.markerGroupMap = util.createHashMap();\n    },\n    render: function (markerModel, ecModel, api) {\n      var markerGroupMap = this.markerGroupMap;\n      markerGroupMap.each(function (item) {\n        item.__keep = false;\n      });\n      var markerModelKey = this.type + 'Model';\n      ecModel.eachSeries(function (seriesModel) {\n        var markerModel = seriesModel[markerModelKey];\n        markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n      }, this);\n      markerGroupMap.each(function (item) {\n        !item.__keep && this.group.remove(item.group);\n      }, this);\n    },\n    renderSeries: function () {}\n  });\n\n  var MarkerView = _default$2h;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  var getStackedDimension$3 = dataStackHelper.getStackedDimension;\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n    var data = seriesModel.getData(); // Special type markLine like 'min', 'max', 'average', 'median'\n\n    var mlType = item.type;\n\n    if (!util.isArray(item) && (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median' // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null)) {\n      var valueAxis;\n      var value;\n\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = util.retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension$3(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex;\n      var mlFrom = util.clone(item);\n      var mlTo = {};\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlTo.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n\n      if (precision >= 0 && typeof value === 'number') {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      item = [mlFrom, mlTo, {\n        // Extra option for tooltip and label\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    }\n\n    item = [markerHelper.dataTransform(seriesModel, item[0]), markerHelper.dataTransform(seriesModel, item[1]), util.extend({}, item[2])]; // Avoid line data type is extended by from(to) data type\n\n    item[2].type = item[2].type || ''; // Merge from option and to option into line option\n\n    util.merge(item[2], item[0]);\n    util.merge(item[2], item[1]);\n    return item;\n  };\n\n  function isInifinity(val) {\n    return !isNaN(val) && !isFinite(val);\n  } // If a markLine has one dim\n\n\n  function ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    var dimName = coordSys.dimensions[dimIndex];\n    return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n  }\n\n  function markLineFilter(coordSys, item) {\n    if (coordSys.type === 'cartesian2d') {\n      var fromCoord = item[0].coord;\n      var toCoord = item[1].coord; // In case\n      // {\n      //  markLine: {\n      //    data: [{ yAxis: 2 }]\n      //  }\n      // }\n\n      if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n        return true;\n      }\n    }\n\n    return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n  }\n\n  function updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n    var point;\n    var xPx = number.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = number.parsePercent(itemModel.get('y'), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } else {\n      // Chart like bar may have there own marker positioning logic\n      if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n      } else {\n        var dims = coordSys.dimensions;\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n        point = coordSys.dataToPoint([x, y]);\n      } // Expand line to the edge of grid if value on one axis is Inifnity\n      // In case\n      //  markLine: {\n      //    data: [{\n      //      yAxis: 2\n      //      // or\n      //      type: 'average'\n      //    }]\n      //  }\n\n\n      if (coordSys.type === 'cartesian2d') {\n        var xAxis = coordSys.getAxis('x');\n        var yAxis = coordSys.getAxis('y');\n        var dims = coordSys.dimensions;\n\n        if (isInifinity(data.get(dims[0], idx))) {\n          point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n        } else if (isInifinity(data.get(dims[1], idx))) {\n          point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n        }\n      } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n    }\n\n    data.setItemLayout(idx, point);\n  }\n\n  var _default$2i = MarkerView.extend({\n    type: 'markLine',\n    // updateLayout: function (markLineModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var mlModel = seriesModel.markLineModel;\n    //         if (mlModel) {\n    //             var mlData = mlModel.getData();\n    //             var fromData = mlModel.__from;\n    //             var toData = mlModel.__to;\n    //             // Update visual and layout of from symbol and to symbol\n    //             fromData.each(function (idx) {\n    //                 updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n    //                 updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n    //             });\n    //             // Update layout of line\n    //             mlData.each(function (idx) {\n    //                 mlData.setItemLayout(idx, [\n    //                     fromData.getItemLayout(idx),\n    //                     toData.getItemLayout(idx)\n    //                 ]);\n    //             });\n    //             this.markerGroupMap.get(seriesModel.id).updateLayout();\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markLineModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var mlModel = seriesModel.markLineModel;\n\n        if (mlModel) {\n          var mlData = mlModel.getData();\n          var fromData = mlModel.__from;\n          var toData = mlModel.__to; // Update visual and layout of from symbol and to symbol\n\n          fromData.each(function (idx) {\n            updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n            updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n          }); // Update layout of line\n\n          mlData.each(function (idx) {\n            mlData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n          });\n          this.markerGroupMap.get(seriesModel.id).updateLayout();\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, mlModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var lineDrawMap = this.markerGroupMap;\n      var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw_1());\n      this.group.add(lineDraw.group);\n      var mlData = createList$1(coordSys, seriesModel, mlModel);\n      var fromData = mlData.from;\n      var toData = mlData.to;\n      var lineData = mlData.line;\n      mlModel.__from = fromData;\n      mlModel.__to = toData; // Line data for tooltip and formatter\n\n      mlModel.setData(lineData);\n      var symbolType = mlModel.get('symbol');\n      var symbolSize = mlModel.get('symbolSize');\n\n      if (!util.isArray(symbolType)) {\n        symbolType = [symbolType, symbolType];\n      }\n\n      if (typeof symbolSize === 'number') {\n        symbolSize = [symbolSize, symbolSize];\n      } // Update visual and layout of from symbol and to symbol\n\n\n      mlData.from.each(function (idx) {\n        updateDataVisualAndLayout(fromData, idx, true);\n        updateDataVisualAndLayout(toData, idx, false);\n      }); // Update visual and layout of line\n\n      lineData.each(function (idx) {\n        var lineColor = lineData.getItemModel(idx).get('lineStyle.color');\n        lineData.setItemVisual(idx, {\n          color: lineColor || fromData.getItemVisual(idx, 'color')\n        });\n        lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n        lineData.setItemVisual(idx, {\n          'fromSymbolRotate': fromData.getItemVisual(idx, 'symbolRotate'),\n          'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n          'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n          'toSymbolRotate': toData.getItemVisual(idx, 'symbolRotate'),\n          'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n          'toSymbol': toData.getItemVisual(idx, 'symbol')\n        });\n      });\n      lineDraw.updateData(lineData); // Set host model for tooltip\n      // FIXME\n\n      mlData.line.eachItemGraphicEl(function (el, idx) {\n        el.traverse(function (child) {\n          child.dataModel = mlModel;\n        });\n      });\n\n      function updateDataVisualAndLayout(data, idx, isFrom) {\n        var itemModel = data.getItemModel(idx);\n        updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n        data.setItemVisual(idx, {\n          symbolRotate: itemModel.get('symbolRotate'),\n          symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n          symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n          color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n        });\n      }\n\n      lineDraw.__keep = true;\n      lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} coordSys\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n\n  function createList$1(coordSys, seriesModel, mlModel) {\n    var coordDimsInfos;\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n    }\n\n    var fromData = new List_1(coordDimsInfos, mlModel);\n    var toData = new List_1(coordDimsInfos, mlModel); // No dimensions\n\n    var lineData = new List_1([], mlModel);\n    var optData = util.map(mlModel.get('data'), util.curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n    if (coordSys) {\n      optData = util.filter(optData, util.curry(markLineFilter, coordSys));\n    }\n\n    var dimValueGetter = coordSys ? markerHelper.dimValueGetter : function (item) {\n      return item.value;\n    };\n    fromData.initData(util.map(optData, function (item) {\n      return item[0];\n    }), null, dimValueGetter);\n    toData.initData(util.map(optData, function (item) {\n      return item[1];\n    }), null, dimValueGetter);\n    lineData.initData(util.map(optData, function (item) {\n      return item[2];\n    }));\n    lineData.hasItemOption = true;\n    return {\n      from: fromData,\n      to: toData,\n      line: lineData\n    };\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markLine component is enabled\n    opt.markLine = opt.markLine || {};\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2j = MarkerModel_1.extend({\n    type: 'markPoint',\n    defaultOption: {\n      zlevel: 0,\n      z: 5,\n      symbol: 'pin',\n      symbolSize: 50,\n      //symbolRotate: 0,\n      //symbolOffset: [0, 0]\n      tooltip: {\n        trigger: 'item'\n      },\n      label: {\n        show: true,\n        position: 'inside'\n      },\n      itemStyle: {\n        borderWidth: 2\n      },\n      emphasis: {\n        label: {\n          show: true\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  function updateMarkerLayout(mpData, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var point;\n      var xPx = number.parsePercent(itemModel.get('x'), api.getWidth());\n      var yPx = number.parsePercent(itemModel.get('y'), api.getHeight());\n\n      if (!isNaN(xPx) && !isNaN(yPx)) {\n        point = [xPx, yPx];\n      } // Chart like bar may have there own marker positioning logic\n      else if (seriesModel.getMarkerPosition) {\n          // Use the getMarkerPoisition\n          point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n        } else if (coordSys) {\n          var x = mpData.get(coordSys.dimensions[0], idx);\n          var y = mpData.get(coordSys.dimensions[1], idx);\n          point = coordSys.dataToPoint([x, y]);\n        } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n\n      mpData.setItemLayout(idx, point);\n    });\n  }\n\n  var _default$2k = MarkerView.extend({\n    type: 'markPoint',\n    // updateLayout: function (markPointModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var mpModel = seriesModel.markPointModel;\n    //         if (mpModel) {\n    //             updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    //             this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markPointModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var mpModel = seriesModel.markPointModel;\n\n        if (mpModel) {\n          updateMarkerLayout(mpModel.getData(), seriesModel, api);\n          this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, mpModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var symbolDrawMap = this.markerGroupMap;\n      var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw_1());\n      var mpData = createList$2(coordSys, seriesModel, mpModel); // FIXME\n\n      mpModel.setData(mpData);\n      updateMarkerLayout(mpModel.getData(), seriesModel, api);\n      mpData.each(function (idx) {\n        var itemModel = mpData.getItemModel(idx);\n        var symbol = itemModel.getShallow('symbol');\n        var symbolSize = itemModel.getShallow('symbolSize');\n        var symbolRotate = itemModel.getShallow('symbolRotate');\n        var isFnSymbol = util.isFunction(symbol);\n        var isFnSymbolSize = util.isFunction(symbolSize);\n        var isFnSymbolRotate = util.isFunction(symbolRotate);\n\n        if (isFnSymbol || isFnSymbolSize || isFnSymbolRotate) {\n          var rawIdx = mpModel.getRawValue(idx);\n          var dataParams = mpModel.getDataParams(idx);\n\n          if (isFnSymbol) {\n            symbol = symbol(rawIdx, dataParams);\n          }\n\n          if (isFnSymbolSize) {\n            // FIXME  ECharts 2.x2.x \n            symbolSize = symbolSize(rawIdx, dataParams);\n          }\n\n          if (isFnSymbolRotate) {\n            symbolRotate = symbolRotate(rawIdx, dataParams);\n          }\n        }\n\n        mpData.setItemVisual(idx, {\n          symbol: symbol,\n          symbolSize: symbolSize,\n          symbolRotate: symbolRotate,\n          color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n        });\n      }); // TODO Text are wrong\n\n      symbolDraw.updateData(mpData);\n      this.group.add(symbolDraw.group); // Set host model for tooltip\n      // FIXME\n\n      mpData.eachItemGraphicEl(function (el) {\n        el.traverse(function (child) {\n          child.dataModel = mpModel;\n        });\n      });\n      symbolDraw.__keep = true;\n      symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} [coordSys]\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n\n  function createList$2(coordSys, seriesModel, mpModel) {\n    var coordDimsInfos;\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n    }\n\n    var mpData = new List_1(coordDimsInfos, mpModel);\n    var dataOpt = util.map(mpModel.get('data'), util.curry(markerHelper.dataTransform, seriesModel));\n\n    if (coordSys) {\n      dataOpt = util.filter(dataOpt, util.curry(markerHelper.dataFilter, coordSys));\n    }\n\n    mpData.initData(dataOpt, null, coordSys ? markerHelper.dimValueGetter : function (item) {\n      return item.value;\n    });\n    return mpData;\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // HINT Markpoint can't be used too much\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markPoint component is enabled\n    opt.markPoint = opt.markPoint || {};\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  var _default$2l = MarkerModel_1.extend({\n    type: 'markArea',\n    defaultOption: {\n      zlevel: 0,\n      // PENDING\n      z: 1,\n      tooltip: {\n        trigger: 'item'\n      },\n      // markArea should fixed on the coordinate system\n      animation: false,\n      label: {\n        show: true,\n        position: 'top'\n      },\n      itemStyle: {\n        // color and borderColor default to use color from series\n        // color: 'auto'\n        // borderColor: 'auto'\n        borderWidth: 0\n      },\n      emphasis: {\n        label: {\n          show: true,\n          position: 'top'\n        }\n      }\n    }\n  });\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  // TODO Better on polar\n  var markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n    var lt = markerHelper.dataTransform(seriesModel, item[0]);\n    var rb = markerHelper.dataTransform(seriesModel, item[1]);\n    var retrieve = util.retrieve; // FIXME make sure lt is less than rb\n\n    var ltCoord = lt.coord;\n    var rbCoord = rb.coord;\n    ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n    ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n    rbCoord[0] = retrieve(rbCoord[0], Infinity);\n    rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n    var result = util.mergeAll([{}, lt, rb]);\n    result.coord = [lt.coord, rb.coord];\n    result.x0 = lt.x;\n    result.y0 = lt.y;\n    result.x1 = rb.x;\n    result.y1 = rb.y;\n    return result;\n  };\n\n  function isInifinity$1(val) {\n    return !isNaN(val) && !isFinite(val);\n  } // If a markArea has one dim\n\n\n  function ifMarkLineHasOnlyDim$1(dimIndex, fromCoord, toCoord, coordSys) {\n    var otherDimIndex = 1 - dimIndex;\n    return isInifinity$1(fromCoord[otherDimIndex]) && isInifinity$1(toCoord[otherDimIndex]);\n  }\n\n  function markAreaFilter(coordSys, item) {\n    var fromCoord = item.coord[0];\n    var toCoord = item.coord[1];\n\n    if (coordSys.type === 'cartesian2d') {\n      // In case\n      // {\n      //  markArea: {\n      //    data: [{ yAxis: 2 }]\n      //  }\n      // }\n      if (fromCoord && toCoord && (ifMarkLineHasOnlyDim$1(1, fromCoord, toCoord) || ifMarkLineHasOnlyDim$1(0, fromCoord, toCoord))) {\n        return true;\n      }\n    }\n\n    return markerHelper.dataFilter(coordSys, {\n      coord: fromCoord,\n      x: item.x0,\n      y: item.y0\n    }) || markerHelper.dataFilter(coordSys, {\n      coord: toCoord,\n      x: item.x1,\n      y: item.y1\n    });\n  } // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\n\n  function getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var itemModel = data.getItemModel(idx);\n    var point;\n    var xPx = number.parsePercent(itemModel.get(dims[0]), api.getWidth());\n    var yPx = number.parsePercent(itemModel.get(dims[1]), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } else {\n      // Chart like bar may have there own marker positioning logic\n      if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(data.getValues(dims, idx));\n      } else {\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n        var pt = [x, y];\n        coordSys.clampData && coordSys.clampData(pt, pt);\n        point = coordSys.dataToPoint(pt, true);\n      }\n\n      if (coordSys.type === 'cartesian2d') {\n        var xAxis = coordSys.getAxis('x');\n        var yAxis = coordSys.getAxis('y');\n        var x = data.get(dims[0], idx);\n        var y = data.get(dims[1], idx);\n\n        if (isInifinity$1(x)) {\n          point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n        } else if (isInifinity$1(y)) {\n          point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n        }\n      } // Use x, y if has any\n\n\n      if (!isNaN(xPx)) {\n        point[0] = xPx;\n      }\n\n      if (!isNaN(yPx)) {\n        point[1] = yPx;\n      }\n    }\n\n    return point;\n  }\n\n  var dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\n  MarkerView.extend({\n    type: 'markArea',\n    // updateLayout: function (markAreaModel, ecModel, api) {\n    //     ecModel.eachSeries(function (seriesModel) {\n    //         var maModel = seriesModel.markAreaModel;\n    //         if (maModel) {\n    //             var areaData = maModel.getData();\n    //             areaData.each(function (idx) {\n    //                 var points = zrUtil.map(dimPermutations, function (dim) {\n    //                     return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n    //                 });\n    //                 // Layout\n    //                 areaData.setItemLayout(idx, points);\n    //                 var el = areaData.getItemGraphicEl(idx);\n    //                 el.setShape('points', points);\n    //             });\n    //         }\n    //     }, this);\n    // },\n    updateTransform: function (markAreaModel, ecModel, api) {\n      ecModel.eachSeries(function (seriesModel) {\n        var maModel = seriesModel.markAreaModel;\n\n        if (maModel) {\n          var areaData = maModel.getData();\n          areaData.each(function (idx) {\n            var points = util.map(dimPermutations, function (dim) {\n              return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n            }); // Layout\n\n            areaData.setItemLayout(idx, points);\n            var el = areaData.getItemGraphicEl(idx);\n            el.setShape('points', points);\n          });\n        }\n      }, this);\n    },\n    renderSeries: function (seriesModel, maModel, ecModel, api) {\n      var coordSys = seriesModel.coordinateSystem;\n      var seriesId = seriesModel.id;\n      var seriesData = seriesModel.getData();\n      var areaGroupMap = this.markerGroupMap;\n      var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n        group: new graphic.Group()\n      });\n      this.group.add(polygonGroup.group);\n      polygonGroup.__keep = true;\n      var areaData = createList$3(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n      maModel.setData(areaData); // Update visual and layout of line\n\n      areaData.each(function (idx) {\n        // Layout\n        var points = util.map(dimPermutations, function (dim) {\n          return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n        }); // If none of the area is inside coordSys, allClipped is set to be true\n        // in layout so that label will not be displayed. See #12591\n\n        var allClipped = true;\n        util.each(dimPermutations, function (dim) {\n          if (!allClipped) {\n            return;\n          }\n\n          var xValue = areaData.get(dim[0], idx);\n          var yValue = areaData.get(dim[1], idx); // If is infinity, the axis should be considered not clipped\n\n          if ((isInifinity$1(xValue) || coordSys.getAxis('x').containData(xValue)) && (isInifinity$1(yValue) || coordSys.getAxis('y').containData(yValue))) {\n            allClipped = false;\n          }\n        });\n        areaData.setItemLayout(idx, {\n          points: points,\n          allClipped: allClipped\n        }); // Visual\n\n        areaData.setItemVisual(idx, {\n          color: seriesData.getVisual('color')\n        });\n      });\n      areaData.diff(polygonGroup.__data).add(function (idx) {\n        var layout = areaData.getItemLayout(idx);\n\n        if (!layout.allClipped) {\n          var polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n          areaData.setItemGraphicEl(idx, polygon);\n          polygonGroup.group.add(polygon);\n        }\n      }).update(function (newIdx, oldIdx) {\n        var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n\n        var layout = areaData.getItemLayout(newIdx);\n\n        if (!layout.allClipped) {\n          if (polygon) {\n            graphic.updateProps(polygon, {\n              shape: {\n                points: layout.points\n              }\n            }, maModel, newIdx);\n          } else {\n            polygon = new graphic.Polygon({\n              shape: {\n                points: layout.points\n              }\n            });\n          }\n\n          areaData.setItemGraphicEl(newIdx, polygon);\n          polygonGroup.group.add(polygon);\n        } else if (polygon) {\n          polygonGroup.group.remove(polygon);\n        }\n      }).remove(function (idx) {\n        var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n\n        polygonGroup.group.remove(polygon);\n      }).execute();\n      areaData.eachItemGraphicEl(function (polygon, idx) {\n        var itemModel = areaData.getItemModel(idx);\n        var labelModel = itemModel.getModel('label');\n        var labelHoverModel = itemModel.getModel('emphasis.label');\n        var color$1 = areaData.getItemVisual(idx, 'color');\n        polygon.useStyle(util.defaults(itemModel.getModel('itemStyle').getItemStyle(), {\n          fill: color.modifyAlpha(color$1, 0.4),\n          stroke: color$1\n        }));\n        polygon.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n        graphic.setLabelStyle(polygon.style, polygon.hoverStyle, labelModel, labelHoverModel, {\n          labelFetcher: maModel,\n          labelDataIndex: idx,\n          defaultText: areaData.getName(idx) || '',\n          isRectText: true,\n          autoColor: color$1\n        });\n        graphic.setHoverStyle(polygon, {});\n        polygon.dataModel = maModel;\n      });\n      polygonGroup.__data = areaData;\n      polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n    }\n  });\n  /**\n   * @inner\n   * @param {module:echarts/coord/*} coordSys\n   * @param {module:echarts/model/Series} seriesModel\n   * @param {module:echarts/model/Model} mpModel\n   */\n\n  function createList$3(coordSys, seriesModel, maModel) {\n    var coordDimsInfos;\n    var areaData;\n    var dims = ['x0', 'y0', 'x1', 'y1'];\n\n    if (coordSys) {\n      coordDimsInfos = util.map(coordSys && coordSys.dimensions, function (coordDim) {\n        var data = seriesModel.getData();\n        var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n        return util.defaults({\n          name: coordDim\n        }, info);\n      });\n      areaData = new List_1(util.map(dims, function (dim, idx) {\n        return {\n          name: dim,\n          type: coordDimsInfos[idx % 2].type\n        };\n      }), maModel);\n    } else {\n      coordDimsInfos = [{\n        name: 'value',\n        type: 'float'\n      }];\n      areaData = new List_1(coordDimsInfos, maModel);\n    }\n\n    var optData = util.map(maModel.get('data'), util.curry(markAreaTransform, seriesModel, coordSys, maModel));\n\n    if (coordSys) {\n      optData = util.filter(optData, util.curry(markAreaFilter, coordSys));\n    }\n\n    var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n      return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    } : function (item) {\n      return item.value;\n    };\n    areaData.initData(optData, null, dimValueGetter);\n    areaData.hasItemOption = true;\n    return areaData;\n  }\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n\n\n\n\n\n\n\n  /*\n  * Licensed to the Apache Software Foundation (ASF) under one\n  * or more contributor license agreements.  See the NOTICE file\n  * distributed with this work for additional information\n  * regarding copyright ownership.  The ASF licenses this file\n  * to you under the Apache License, Version 2.0 (the\n  * \"License\"); you may not use this file except in compliance\n  * with the License.  You may obtain a copy of the License at\n  *\n  *   http://www.apache.org/licenses/LICENSE-2.0\n  *\n  * Unless required by applicable law or agreed to in writing,\n  * software distributed under the License is distributed on an\n  * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  * KIND, either express or implied.  See the License for the\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n  echarts.registerPreprocessor(function (opt) {\n    // Make sure markArea component is enabled\n    opt.markArea = opt.markArea || {};\n  });\n\n  var HAS_SPECIES_SUPPORT$3 = arrayMethodHasSpeciesSupport('slice');\n  var USES_TO_LENGTH$6 = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\n  var SPECIES$5 = wellKnownSymbol('species');\n  var nativeSlice$1 = [].slice;\n  var max$4 = Math.max;\n\n  // `Array.prototype.slice` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.slice\n  // fallback for not array-like ES3 strings and DOM objects\n  _export({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$3 || !USES_TO_LENGTH$6 }, {\n    slice: function slice(start, end) {\n      var O = toIndexedObject(this);\n      var length = toLength(O.length);\n      var k = toAbsoluteIndex(start, length);\n      var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n      var Constructor, result, n;\n      if (isArray(O)) {\n        Constructor = O.constructor;\n        // cross-realm fallback\n        if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n          Constructor = undefined;\n        } else if (isObject(Constructor)) {\n          Constructor = Constructor[SPECIES$5];\n          if (Constructor === null) Constructor = undefined;\n        }\n        if (Constructor === Array || Constructor === undefined) {\n          return nativeSlice$1.call(O, k, fin);\n        }\n      }\n      result = new (Constructor === undefined ? Array : Constructor)(max$4(fin - k, 0));\n      for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n      result.length = n;\n      return result;\n    }\n  });\n\n  var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n\n  // `Object.{ entries, values }` methods implementation\n  var createMethod$3 = function (TO_ENTRIES) {\n    return function (it) {\n      var O = toIndexedObject(it);\n      var keys = objectKeys(O);\n      var length = keys.length;\n      var i = 0;\n      var result = [];\n      var key;\n      while (length > i) {\n        key = keys[i++];\n        if (!descriptors || propertyIsEnumerable.call(O, key)) {\n          result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n        }\n      }\n      return result;\n    };\n  };\n\n  var objectToArray = {\n    // `Object.entries` method\n    // https://tc39.github.io/ecma262/#sec-object.entries\n    entries: createMethod$3(true),\n    // `Object.values` method\n    // https://tc39.github.io/ecma262/#sec-object.values\n    values: createMethod$3(false)\n  };\n\n  var $values = objectToArray.values;\n\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  _export({ target: 'Object', stat: true }, {\n    values: function values(O) {\n      return $values(O);\n    }\n  });\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  var arrayWithHoles = _arrayWithHoles;\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  var iterableToArrayLimit = _iterableToArrayLimit;\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var nonIterableRest = _nonIterableRest;\n\n  function _slicedToArray(arr, i) {\n    return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n  }\n\n  var slicedToArray = _slicedToArray;\n\n  var _typeof_1 = createCommonjsModule(function (module) {\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      module.exports = _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      module.exports = _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  module.exports = _typeof;\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var classCallCheck = _classCallCheck;\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  var createClass = _createClass;\n\n  /**\r\n   *\r\n   declare module ExcelRows {\r\n    export interface cell {\r\n        text: string;\r\n    }\r\n    export interface Cells {\r\n      0: cell;\r\n      1: cell;\r\n      2: cell;\r\n    }\r\n    export interface ExcelRows {\r\n      cells: Cells;\r\n    }\r\n  }\r\n   */\n\n  /**\r\n    *\r\n    BinaryMatrix = [\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n      [any, any, any, ...],\r\n    ]\r\n\r\n    ExcelDataType = [\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n      {\r\n        cells: {\r\n          0: { text: any },\r\n          1: { text: any },\r\n          2: { text: any }\r\n        }\r\n      },\r\n    ]\r\n    */\n  var Parser = /*#__PURE__*/function () {\n    function Parser() {\n      classCallCheck(this, Parser);\n    }\n\n    createClass(Parser, null, [{\n      key: \"dataset2excel\",\n\n      /**\r\n       *\r\n       * @param {*} dataset ExcelDataType\r\n       */\n      value: function dataset2excel(dataset) {\n        return dataset.map(function (item) {\n          return {\n            cells: {\n              0: {\n                text: item.x\n              },\n              1: {\n                text: item.y\n              },\n              2: {\n                text: item.s\n              }\n            }\n          };\n        });\n      }\n      /**\r\n       *\r\n        [\r\n          [1,2,3,4],\r\n          [5,6,7,8],\r\n          [9,10,11,12]\r\n        ]\r\n       * @param {Object} BinaryMatrix\r\n       * @returns {Object} ExcelDataType\r\n       */\n\n    }, {\n      key: \"binaryMatrix2excel\",\n      value: function binaryMatrix2excel() {\n        var binaryMatrix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var excelData = binaryMatrix.map(function (row, rowIndex) {\n          // cells: {\n          //   0: { text: item.x },\n          //   1: { text: item.y },\n          //   2: { text: item.s }\n          // }\n          var cells = {};\n          row.forEach(function (cellValue, cellIndex) {\n            cells[cellIndex] = {\n              text: cellValue\n            };\n          });\n          return {\n            cells: cells\n          };\n        });\n        return excelData;\n      }\n    }, {\n      key: \"excel2chartDataSet\",\n      value: function excel2chartDataSet(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          var _Object$values$map = Object.values(row.cells).map(function (item) {\n            return item.text;\n          }),\n              _Object$values$map2 = slicedToArray(_Object$values$map, 3),\n              x = _Object$values$map2[0],\n              y = _Object$values$map2[1],\n              s = _Object$values$map2[2];\n\n          return {\n            x: x,\n            y: y,\n            s: s\n          };\n        });\n        return dataset;\n      }\n    }, {\n      key: \"excel2BinaryMatrix\",\n      value: function excel2BinaryMatrix(excelData) {\n        var rowsArray = Object.values(excelData.rows).filter(function (item) {\n          return _typeof_1(item) === 'object';\n        });\n        var dataset = rowsArray.map(function (row) {\n          // [1,2,3,4]\n          var cells = Object.values(row.cells).map(function (item) {\n            return item.text;\n          });\n          return cells;\n        });\n        console.log('dataset', dataset);\n        return dataset;\n      }\n      /**\r\n      *\r\n      * @param {Array} csvArray\r\n      *    [\r\n             ['', ''],\r\n             [\"11\",123],\r\n             [\"12\",1223],\r\n             [\"13\",2123],\r\n             [\"14\",4123],\r\n             [\"15\",3123],\r\n             [\"16\",7123]\r\n           ]\r\n      * @returns {Object}\r\n         {\r\n           columns: ['', ''],\r\n           rows:[\r\n             { '': '11', '': 123 },\r\n             { '': '12', '': 1223 },\r\n             { '': '13', '': 2123 },\r\n             { '': '14', '': 4123 },\r\n             { '': '15', '': 3123 },\r\n             { '': '16', '': 7123 }\r\n           ]\r\n         }\r\n      */\n\n    }, {\n      key: \"csv2VChartJson\",\n      value: function csv2VChartJson(csvArray) {\n        var columns = csvArray[0];\n        var rows = csvArray.slice(1);\n        var json = {\n          columns: columns,\n          rows: rows.map(function (row, index) {\n            var obj = {};\n            columns.forEach(function (col, colIndex) {\n              obj[col.trim()] = row[colIndex];\n            });\n            return obj;\n          })\n        };\n        return json;\n      }\n    }]);\n\n    return Parser;\n  }();\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-10 15:09:15\r\n   * @Description :\r\n   */\n\n  var LbpLineChart = {\n    name: 'lbp-line-chart',\n    // mixins: [ChartMixin],\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['', ''], ['11', 123], ['12', 1223], ['13', 2123], ['14', 4123], ['15', 3123], ['16', 7123]];\n        }\n      }),\n      type: PropTypes.string({\n        label: '',\n        defaultValue: 'line',\n        visible: false\n      }),\n      colors: PropTypes.colors({\n        label: '',\n        defaultValue: function defaultValue() {\n          return [// https://github.com/ElemeFE/v-charts/blob/01ebb541a5d905047dd52957ae0898d529342235/src/constants.js#L20\n          '#19d4ae', '#5ab1ef', '#fa6e86', '#ffb980', '#0067a6', '#c4b4e4', '#d87a80', '#9cbbff', '#d9d0c7', '#87a997', '#d49ea2', '#5b4947', '#7ba3a8'];\n        }\n      })\n    },\n    data: function data() {\n      return {\n        option: {}\n      };\n    },\n    render: function render() {\n      var h = arguments[0];\n      var chartData = Parser.csv2VChartJson(this.dataset);\n\n      switch (this.type) {\n        case 'line':\n          return h(line_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'histogram':\n          return h(histogram_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'pie':\n          return h(pie_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'funnel':\n          return h(funnel_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        case 'radar':\n          return h(radar_common, {\n            \"attrs\": {\n              \"data\": chartData,\n              \"colors\": this.colors\n            }\n          });\n\n        default:\n          return null;\n      }\n    },\n    mounted: function mounted() {// this.renderChart()\n    }\n  };\n\n  // `Array.prototype.{ reduce, reduceRight }` methods implementation\n  var createMethod$4 = function (IS_RIGHT) {\n    return function (that, callbackfn, argumentsLength, memo) {\n      aFunction$1(callbackfn);\n      var O = toObject(that);\n      var self = indexedObject(O);\n      var length = toLength(O.length);\n      var index = IS_RIGHT ? length - 1 : 0;\n      var i = IS_RIGHT ? -1 : 1;\n      if (argumentsLength < 2) while (true) {\n        if (index in self) {\n          memo = self[index];\n          index += i;\n          break;\n        }\n        index += i;\n        if (IS_RIGHT ? index < 0 : length <= index) {\n          throw TypeError('Reduce of empty array with no initial value');\n        }\n      }\n      for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n        memo = callbackfn(memo, self[index], index, O);\n      }\n      return memo;\n    };\n  };\n\n  var arrayReduce = {\n    // `Array.prototype.reduce` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n    left: createMethod$4(false),\n    // `Array.prototype.reduceRight` method\n    // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n    right: createMethod$4(true)\n  };\n\n  var $reduce = arrayReduce.left;\n\n\n\n  var STRICT_METHOD$3 = arrayMethodIsStrict('reduce');\n  var USES_TO_LENGTH$7 = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  _export({ target: 'Array', proto: true, forced: !STRICT_METHOD$3 || !USES_TO_LENGTH$7 }, {\n    reduce: function reduce(callbackfn /* , initialValue */) {\n      return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  function sum() {\n    var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var key = arguments.length > 1 ? arguments[1] : undefined;\n    return arr.map(function (item) {\n      return item[key];\n    }).reduce(function (a, b) {\n      return a + b;\n    }, 0);\n  }\n\n  var LbpTable = {\n    name: 'lbp-table',\n    data: function data() {\n      return {\n        mainTableWrapperEle: null,\n        mainTableEle: null,\n        fixedTableWrapperEle: null,\n        fixedTableEle: null\n      };\n    },\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      theme: PropTypes.string({\n        defaultValue: '',\n        label: '',\n        visible: false\n      }),\n      columnWidth: PropTypes.number({\n        label: '(px)',\n        defaultValue: 100\n      }),\n      freezeCount: PropTypes.number({\n        label: '(px)',\n        defaultValue: 0\n      }),\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['A', 'B', 'C'], ['', '', ''], ['', '', ''], ['', '', '']];\n        }\n      })\n    },\n    watch: {\n      freezeCount: function freezeCount() {\n        var _this = this;\n\n        setTimeout(function () {\n          _this.setFixedTableStyle();\n        }, 100);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n\n      var renderCell = function renderCell(cell) {\n        return h(\"td\", [h(\"div\", {\n          \"class\": \"cell\"\n        }, [cell])]);\n      };\n\n      var renderTable = function renderTable() {\n        var tableData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var tableClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        var tableStyle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var headers = tableData.length ? tableData[0] : [];\n        var columnsCount = headers.length;\n        return h(\"table\", {\n          \"class\": tableClass,\n          \"style\": tableStyle\n        }, [h(\"colgroup\", [toConsumableArray(Array(columnsCount)).map(function (item, i) {\n          return h(\"col\", {\n            \"style\": {\n              width: _this2.columnWidth + 'px'\n            }\n          });\n        })]), h(\"tbody\", [tableData.map(function (row) {\n          return h(\"tr\", [row.map(renderCell)]);\n        })])]);\n      };\n\n      return h(\"div\", {\n        \"class\": ['lbp-table', this.theme],\n        \"ref\": \"lbpTable\"\n      }, [h(\"div\", {\n        \"class\": \"main-table-wrapper\"\n      }, [renderTable(this.dataset)]), h(\"div\", {\n        \"class\": \"fixed-table-wrapper\",\n        \"directives\": [{\n          name: \"show\",\n          value: \"freezeCount\"\n        }]\n      }, [renderTable(this.dataset, 'left-table')])]);\n    },\n    methods: {\n      getFixedColsWidth: function getFixedColsWidth() {\n        var tableHeaders = [].slice.apply(this.mainTableEle.querySelectorAll('tr:first-child > td'));\n        var freezeColsWidth = sum(tableHeaders.slice(0, +this.freezeCount), 'offsetWidth');\n        return freezeColsWidth;\n      },\n      setFixedTableStyle: function setFixedTableStyle() {\n        this.fixedTableWrapperEle.style.width = \"\".concat(this.getFixedColsWidth(), \"px\");\n        this.fixedTableWrapperEle.style.height = \"calc(100% - \".concat(this.mainTableWrapperEle.offsetHeight - this.mainTableWrapperEle.scrollHeight, \"px)\");\n      },\n      setTableWidth: function setTableWidth() {\n        var parentWidth = this.$el.parentNode.style.width;\n        this.fixedTableEle.style.width = this.mainTableEle.style.width = parentWidth;\n      },\n      initElements: function initElements() {\n        var root = this.$el;\n        this.mainTableWrapperEle = root.querySelector('.main-table-wrapper');\n        this.mainTableEle = root.querySelector('.main-table-wrapper > table');\n        this.fixedTableWrapperEle = root.querySelector('.fixed-table-wrapper');\n        this.fixedTableEle = root.querySelector('.left-table');\n      },\n      __resizeHandler: function __resizeHandler() {\n        this.setTableWidth();\n\n        if (this.freezeCount) {\n          this.setFixedTableStyle();\n        }\n      }\n    },\n    mounted: function mounted() {\n      this.initElements();\n      this.setTableWidth();\n      this.setFixedTableStyle();\n      resizeDetector.addListener(this.$refs.lbpTable, this.__resizeHandler);\n    },\n    destroy: function destroy() {\n      resizeDetector.removeListener(this.$el, this.__resizeHandler);\n    }\n  };\n\n  var LbpNewsList = {\n    name: 'lbp-news-list',\n    props: {\n      width: {\n        default: 120\n      },\n      height: {\n        default: 120\n      },\n      dataset: PropTypes.excel({\n        defaultValue: function defaultValue() {\n          return [['', '', '', '', ''], ['1 . H5 ', 'H5-H5', 'https://luban-h5.com/', '2020-01-01', 'H5'], ['2 . H5-', 'en: web design tool || mobile page builder/editor || mini webflow for mobile page. zh: H5.', 'https://github.com/ly525/luban-h5', '2020-01-01', 'H5(github)']];\n        }\n      })\n    },\n    data: function data() {\n      return {\n        option: {}\n      };\n    },\n    render: function render() {\n      var h = arguments[0];\n\n      /**\r\n       * rows[0] {\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n          '': '',\r\n        }\r\n       */\n      var _Parser$csv2VChartJso = Parser.csv2VChartJson(this.dataset),\n          rows = _Parser$csv2VChartJso.rows;\n\n      return h(\"div\", {\n        \"class\": \"newslist\",\n        \"style\": \"border-color: transparent;\"\n      }, [rows.map(function (item, i) {\n        return h(\"div\", {\n          \"class\": \"news-item\"\n        }, [h(\"a\", {\n          \"attrs\": {\n            \"href\": item[''],\n            \"target\": \"_blank\"\n          },\n          \"class\": \"link\"\n        }, [h(\"div\", {\n          \"class\": \"title\"\n        }, [item['']])]), h(\"div\", {\n          \"class\": \"content\"\n        }, [item['']]), h(\"div\", {\n          \"class\": \"source\"\n        }, [item['']]), h(\"div\", {\n          \"class\": \"time\"\n        }, [item['']])]);\n      })]);\n    },\n    mounted: function mounted() {// this.renderChart()\n    }\n  };\n\n  var _plugins = [{\n    i18nTitle: {\n      'en-US': 'RadarChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'line-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'radar'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'line-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'line'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'bar-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'histogram'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'pie-chart',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'pie'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'LineChart',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'filter',\n    visible: true,\n    name: LbpLineChart.name,\n    component: LbpLineChart,\n    shortcutProps: {\n      type: 'funnel'\n    }\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Notice-Bar',\n      'zh-CN': ''\n    },\n    icon: 'volume-up',\n    visible: true,\n    name: LbpNoticeBar.name,\n    component: LbpNoticeBar\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Rate',\n      'zh-CN': ''\n    },\n    icon: 'star-o',\n    visible: true,\n    name: LbpRate.name,\n    component: LbpRate\n  }, {\n    title: '',\n    i18nTitle: {\n      'en-US': 'Picture',\n      'zh-CN': ''\n    },\n    icon: 'photo',\n    visible: true,\n    name: LbpPicture.name,\n    component: LbpPicture\n  }, {\n    i18nTitle: {\n      'en-US': 'Text',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'text-width',\n    visible: true,\n    name: LbpText.name,\n    component: LbpText\n  }, {\n    i18nTitle: {\n      'en-US': 'Button',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'hand-pointer-o',\n    visible: true,\n    name: LbpButton.name,\n    component: LbpButton\n  }, {\n    i18nTitle: {\n      'en-US': 'Carousel',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'photo',\n    visible: true,\n    name: LbpSlide.name,\n    component: LbpSlide\n  }, {\n    i18nTitle: {\n      'en-US': 'Map',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'map-o',\n    visible: true,\n    name: __vue_component__.name,\n    component: __vue_component__\n  }, {\n    i18nTitle: {\n      'en-US': 'Video',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'file-video-o',\n    visible: true,\n    name: LbpVideo.name,\n    component: LbpVideo\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Input',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'pencil-square-o',\n    visible: true,\n    name: LbpFormInput.name,\n    component: LbpFormInput\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Submit',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'hand-pointer-o',\n    visible: true,\n    name: LbpFormButton.name,\n    component: LbpFormButton\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Checkbox',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'check-square-o',\n    visible: true,\n    name: LbpFormCheckboxGroup.name,\n    component: LbpFormCheckboxGroup\n  }, {\n    i18nTitle: {\n      'en-US': 'Form Radio',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'dot-circle-o',\n    visible: true,\n    name: LbpFormRadioGroup.name,\n    component: LbpFormRadioGroup\n  }, {\n    i18nTitle: {\n      'en-US': 'Background',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'dot-circle-o',\n    visible: false,\n    name: LbpBackground.name,\n    component: LbpBackground\n  }, {\n    i18nTitle: {\n      'en-US': 'BgMusic',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'music',\n    visible: true,\n    name: LbpBgMusic.name,\n    component: LbpBgMusic\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(Default)',\n      'zh-CN': ''\n    },\n    icon: 'table',\n    visible: true,\n    name: LbpTable.name,\n    component: LbpTable\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(Stripe)',\n      'zh-CN': '()'\n    },\n    icon: 'table',\n    visible: true,\n    name: LbpTable.name,\n    component: LbpTable,\n    shortcutProps: {\n      theme: 'lbp-table-theme-stripe'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'Table(LightBlue)',\n      'zh-CN': '()'\n    },\n    icon: 'table',\n    visible: true,\n    name: LbpTable.name,\n    component: LbpTable,\n    shortcutProps: {\n      theme: 'lbp-table-theme-light-blue'\n    }\n  }, {\n    i18nTitle: {\n      'en-US': 'NewsList',\n      'zh-CN': ''\n    },\n    title: '',\n    icon: 'list',\n    visible: true,\n    name: LbpNewsList.name,\n    component: LbpNewsList\n  }];\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-16 15:12:42\r\n   * @LastEditTime : 2020-11-16 15:12:49\r\n   * @Description :\r\n   */\n  var LbpPlugin = function LbpPlugin() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        name = _ref.name,\n        _ref$i18nTitle = _ref.i18nTitle,\n        i18nTitle = _ref$i18nTitle === void 0 ? {} : _ref$i18nTitle,\n        title = _ref.title,\n        icon = _ref.icon,\n        visible = _ref.visible,\n        component = _ref.component;\n\n    classCallCheck(this, LbpPlugin);\n\n    this.name = name;\n    this.i18nTitle = i18nTitle;\n    this.title = title;\n    this.icon = icon;\n    this.visible = visible;\n    this.component = component;\n  };\n\n  var LbpPluginController = /*#__PURE__*/function () {\n    function LbpPluginController() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n          _ref$plugins = _ref.plugins,\n          plugins = _ref$plugins === void 0 ? [] : _ref$plugins;\n\n      classCallCheck(this, LbpPluginController);\n\n      this._plugins = [];\n      this._pluginsMap = {};\n      plugins.forEach(function (v) {\n        return _this.registerPlugin(v);\n      });\n    }\n\n    createClass(LbpPluginController, [{\n      key: \"registerPlugin\",\n      value: function registerPlugin() {\n        var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!option.name) return;\n        var plugin = new LbpPlugin(option);\n\n        this._plugins.push(plugin);\n\n        this._pluginsMap[plugin.name] = plugin;\n      }\n    }, {\n      key: \"getPlugins\",\n      value: function getPlugins() {\n        return this._plugins;\n      }\n    }, {\n      key: \"getPluginsMap\",\n      value: function getPluginsMap() {\n        return this._pluginsMap;\n      }\n    }, {\n      key: \"getPlugin\",\n      value: function getPlugin(name) {\n        return this.getPluginsMap()[name];\n      }\n    }]);\n\n    return LbpPluginController;\n  }();\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-11 19:49:25\r\n   * @LastEditTime : 2020-11-16 15:18:02\r\n   * @Description :\r\n   */\n  var lbpPluginController = new LbpPluginController({\n    plugins: _plugins\n  });\n\n  var UndoRedoHistory = /*#__PURE__*/function () {\n    function UndoRedoHistory() {\n      classCallCheck(this, UndoRedoHistory);\n\n      defineProperty$2(this, \"store\", void 0);\n\n      defineProperty$2(this, \"history\", []);\n\n      defineProperty$2(this, \"currentIndex\", -1);\n    }\n\n    createClass(UndoRedoHistory, [{\n      key: \"init\",\n      value: function init(store) {\n        this.store = store;\n      }\n    }, {\n      key: \"addState\",\n      value: function addState(state) {\n        // may be we have to remove redo steps\n        if (this.currentIndex + 1 < this.history.length) {\n          this.history.splice(this.currentIndex + 1);\n        }\n\n        this.history.push(state);\n        this.currentIndex++;\n      }\n    }, {\n      key: \"undo\",\n      value: function undo() {\n        if (!this.canUndo) return;\n        var prevState = this.history[this.currentIndex - 1]; // take a copy of the history state\n        // because it would be changed during store mutations\n        // what would corrupt the undo-redo-history\n        // (same on redo)\n\n        this.store.replaceState(lodash.cloneDeep(prevState));\n        this.currentIndex--;\n      }\n    }, {\n      key: \"redo\",\n      value: function redo() {\n        if (!this.canRedo) return;\n        var nextState = this.history[this.currentIndex + 1];\n        this.store.replaceState(lodash.cloneDeep(nextState));\n        this.currentIndex++;\n      }\n    }, {\n      key: \"canUndo\",\n      get: function get() {\n        return this.currentIndex > 0;\n      }\n    }, {\n      key: \"canRedo\",\n      get: function get() {\n        return this.history.length > this.currentIndex + 1;\n      }\n    }]);\n\n    return UndoRedoHistory;\n  }();\n\n  var undoRedoHistory = new UndoRedoHistory();\n\n  /**\r\n   * #!zh: setElementCommonStyle  mousemove history\r\n   * (mouseup)\r\n   */\n  // const unRecordHistoryMutationTypes = ['editor/setElementCommonStyle']\n\n  var recordHistoryMutationTypes = ['editor/recordRect', 'editor/elementManager', 'editor/setEditingPage' //  firstState\n  ];\n\n  var undoRedoPlugin = function undoRedoPlugin(store) {\n    // initialize and save the starting stage\n    undoRedoHistory.init(store);\n    /**\r\n     *\r\n     * addState(firstState) \r\n     *  firstState editor\r\n     * <editor/setEditingPage>setWork<editingPage  setEditingElement >)\r\n     * historyhistory [editorState, workState1, workState2]\r\n     *  ctrl+z (canUndo-> currentIndex > 0)\r\n     *  editorState editorState  work nullwork\r\n     *  canUndo = currentIndex>0 currentIndex = 0  history  firstState\r\n     * sublime\r\n     *   setWork  undoRedoHistory.addState(firstState)\r\n     */\n    // let firstState = cloneDeep(store.state)\n    // undoRedoHistory.addState(firstState)\n\n    store.subscribe(function (mutation, state) {\n      var type = mutation.type;\n      if (!recordHistoryMutationTypes.includes(type)) return; // is called AFTER every mutation\n\n      undoRedoHistory.addState(lodash.cloneDeep(state));\n    });\n  };\n\n  var defineProperty$7 = objectDefineProperty.f;\n\n\n  var NativeSymbol = global_1.Symbol;\n\n  if (descriptors && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n    // Safari 12 bug\n    NativeSymbol().description !== undefined\n  )) {\n    var EmptyStringDescriptionStore = {};\n    // wrap Symbol constructor for correct work with undefined description\n    var SymbolWrapper = function Symbol() {\n      var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n      var result = this instanceof SymbolWrapper\n        ? new NativeSymbol(description)\n        // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n        : description === undefined ? NativeSymbol() : NativeSymbol(description);\n      if (description === '') EmptyStringDescriptionStore[result] = true;\n      return result;\n    };\n    copyConstructorProperties(SymbolWrapper, NativeSymbol);\n    var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n    symbolPrototype.constructor = SymbolWrapper;\n\n    var symbolToString = symbolPrototype.toString;\n    var native = String(NativeSymbol('test')) == 'Symbol(test)';\n    var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n    defineProperty$7(symbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        var symbol = isObject(this) ? this.valueOf() : this;\n        var string = symbolToString.call(symbol);\n        if (has(EmptyStringDescriptionStore, symbol)) return '';\n        var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n        return desc === '' ? undefined : desc;\n      }\n    });\n\n    _export({ global: true, forced: true }, {\n      Symbol: SymbolWrapper\n    });\n  }\n\n  var nativeAssign = Object.assign;\n  var defineProperty$8 = Object.defineProperty;\n\n  // `Object.assign` method\n  // https://tc39.github.io/ecma262/#sec-object.assign\n  var objectAssign = !nativeAssign || fails(function () {\n    // should have correct order of operations (Edge bug)\n    if (descriptors && nativeAssign({ b: 1 }, nativeAssign(defineProperty$8({}, 'a', {\n      enumerable: true,\n      get: function () {\n        defineProperty$8(this, 'b', {\n          value: 3,\n          enumerable: false\n        });\n      }\n    }), { b: 2 })).b !== 1) return true;\n    // should work with symbols and should have deterministic property order (V8 bug)\n    var A = {};\n    var B = {};\n    // eslint-disable-next-line no-undef\n    var symbol = Symbol();\n    var alphabet = 'abcdefghijklmnopqrst';\n    A[symbol] = 7;\n    alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n    return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n    var T = toObject(target);\n    var argumentsLength = arguments.length;\n    var index = 1;\n    var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n    var propertyIsEnumerable = objectPropertyIsEnumerable.f;\n    while (argumentsLength > index) {\n      var S = indexedObject(arguments[index++]);\n      var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) {\n        key = keys[j++];\n        if (!descriptors || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n      }\n    } return T;\n  } : nativeAssign;\n\n  // `Object.assign` method\n  // https://tc39.github.io/ecma262/#sec-object.assign\n  _export({ target: 'Object', stat: true, forced: Object.assign !== objectAssign }, {\n    assign: objectAssign\n  });\n\n  function _extends$6(){return _extends$6=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends$6.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends$6({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e);}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h);}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments);}};var helper$5=mergeJsxProps;\n\n  var $entries = objectToArray.entries;\n\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  _export({ target: 'Object', stat: true }, {\n    entries: function entries(O) {\n      return $entries(O);\n    }\n  });\n\n  /**\r\n   * node  \r\n   */\n  var HANDLERS_PROPERTY = '__v-click-outside';\n  var HAS_WINDOWS = typeof window !== 'undefined';\n  var HAS_NAVIGATOR = typeof navigator !== 'undefined';\n  var IS_TOUCH = HAS_WINDOWS && ('ontouchstart' in window || HAS_NAVIGATOR && navigator.msMaxTouchPoints > 0);\n  var EVENTS = IS_TOUCH ? ['touchstart'] : ['click'];\n\n  function processDirectiveArguments(bindingValue) {\n    var isFunction = typeof bindingValue === 'function';\n\n    if (!isFunction && _typeof_1(bindingValue) !== 'object') {\n      throw new Error('v-click-outside: Binding value must be a function or an object');\n    }\n\n    return {\n      handler: isFunction ? bindingValue : bindingValue.handler,\n      middleware: bindingValue.middleware || function (item) {\n        return item;\n      },\n      events: bindingValue.events || EVENTS,\n      isActive: !(bindingValue.isActive === false),\n      detectIframe: !(bindingValue.detectIframe === false),\n      capture: !!bindingValue.capture,\n      scopeNode: bindingValue.scopeNode || document.documentElement\n    };\n  }\n\n  function execHandler(_ref) {\n    var event = _ref.event,\n        handler = _ref.handler,\n        middleware = _ref.middleware;\n\n    if (middleware(event)) {\n      handler && handler(event);\n    }\n  }\n\n  function onFauxIframeClick(_ref2) {\n    var el = _ref2.el,\n        event = _ref2.event,\n        handler = _ref2.handler,\n        middleware = _ref2.middleware;\n    // Note: on firefox clicking on iframe triggers blur, but only on\n    //       next event loop it becomes document.activeElement\n    // https://stackoverflow.com/q/2381336#comment61192398_23231136\n    setTimeout(function () {\n      var _document = document,\n          activeElement = _document.activeElement;\n\n      if (activeElement && activeElement.tagName === 'IFRAME' && !el.contains(activeElement)) {\n        execHandler({\n          event: event,\n          handler: handler,\n          middleware: middleware\n        });\n      }\n    }, 0);\n  }\n\n  function onEvent(_ref3) {\n    var el = _ref3.el,\n        event = _ref3.event,\n        handler = _ref3.handler,\n        middleware = _ref3.middleware,\n        scopeNode = _ref3.scopeNode;\n    // Note: composedPath is not supported on IE and Edge, more information here:\n    //       https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath\n    //       In the meanwhile, we are using el.contains for those browsers, not\n    //       the ideal solution, but using IE or EDGE is not ideal either.\n    var path = event.path || event.composedPath && event.composedPath();\n    var isClickOutside = path ? path.indexOf(el) < 0 && path.indexOf(scopeNode) > -1 : !el.contains(event.target) && scopeNode.contains(event.target);\n\n    if (!isClickOutside) {\n      return;\n    }\n\n    execHandler({\n      event: event,\n      handler: handler,\n      middleware: middleware\n    });\n  }\n\n  function bind$4(el, _ref4) {\n    var value = _ref4.value;\n\n    var _processDirectiveArgu = processDirectiveArguments(value),\n        events = _processDirectiveArgu.events,\n        _handler = _processDirectiveArgu.handler,\n        middleware = _processDirectiveArgu.middleware,\n        isActive = _processDirectiveArgu.isActive,\n        detectIframe = _processDirectiveArgu.detectIframe,\n        capture = _processDirectiveArgu.capture,\n        scopeNode = _processDirectiveArgu.scopeNode;\n\n    if (!isActive || !_handler) {\n      return;\n    }\n\n    el[HANDLERS_PROPERTY] = events.map(function (eventName) {\n      return {\n        event: eventName,\n        srcTarget: document.documentElement,\n        handler: function handler(event) {\n          return onEvent({\n            el: el,\n            event: event,\n            handler: _handler,\n            middleware: middleware,\n            scopeNode: scopeNode\n          });\n        },\n        capture: capture\n      };\n    });\n\n    if (detectIframe) {\n      var detectIframeEvent = {\n        event: 'blur',\n        srcTarget: window,\n        handler: function handler(event) {\n          return onFauxIframeClick({\n            el: el,\n            event: event,\n            handler: _handler,\n            middleware: middleware\n          });\n        },\n        capture: capture\n      };\n      el[HANDLERS_PROPERTY] = [].concat(toConsumableArray(el[HANDLERS_PROPERTY]), [detectIframeEvent]);\n    }\n\n    el[HANDLERS_PROPERTY].forEach(function (_ref5) {\n      var event = _ref5.event,\n          srcTarget = _ref5.srcTarget,\n          handler = _ref5.handler;\n      return setTimeout(function () {\n        // Note: More info about this implementation can be found here:\n        //       https://github.com/ndelvalle/v-click-outside/issues/137\n        if (!el[HANDLERS_PROPERTY]) {\n          return;\n        }\n\n        srcTarget.addEventListener(event, handler, capture);\n      }, 0);\n    });\n  }\n\n  function unbind(el) {\n    var handlers = el[HANDLERS_PROPERTY] || [];\n    handlers.forEach(function (_ref6) {\n      var event = _ref6.event,\n          srcTarget = _ref6.srcTarget,\n          handler = _ref6.handler,\n          capture = _ref6.capture;\n      return srcTarget.removeEventListener(event, handler, capture);\n    });\n    delete el[HANDLERS_PROPERTY];\n  }\n\n  function update(el, _ref7) {\n    var value = _ref7.value,\n        oldValue = _ref7.oldValue;\n\n    if (JSON.stringify(value) === JSON.stringify(oldValue)) {\n      return;\n    }\n\n    unbind(el);\n    bind$4(el, {\n      value: value\n    });\n  }\n\n  var directive = {\n    bind: bind$4,\n    update: update,\n    unbind: unbind\n  };\n  var vClickOutside = HAS_WINDOWS ? directive : {};\n\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n  // so we use an intermediate function.\n  function RE(s, f) {\n    return RegExp(s, f);\n  }\n\n  var UNSUPPORTED_Y = fails(function () {\n    // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n    var re = RE('a', 'y');\n    re.lastIndex = 2;\n    return re.exec('abcd') != null;\n  });\n\n  var BROKEN_CARET = fails(function () {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n    var re = RE('^r', 'gy');\n    re.lastIndex = 2;\n    return re.exec('str') != null;\n  });\n\n  var regexpStickyHelpers = {\n  \tUNSUPPORTED_Y: UNSUPPORTED_Y,\n  \tBROKEN_CARET: BROKEN_CARET\n  };\n\n  var nativeExec = RegExp.prototype.exec;\n  // This always refers to the native implementation, because the\n  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n  // which loads this file before patching the method.\n  var nativeReplace = String.prototype.replace;\n\n  var patchedExec = nativeExec;\n\n  var UPDATES_LAST_INDEX_WRONG = (function () {\n    var re1 = /a/;\n    var re2 = /b*/g;\n    nativeExec.call(re1, 'a');\n    nativeExec.call(re2, 'a');\n    return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n  })();\n\n  var UNSUPPORTED_Y$1 = regexpStickyHelpers.UNSUPPORTED_Y || regexpStickyHelpers.BROKEN_CARET;\n\n  // nonparticipating capturing group, copied from es5-shim's String#split patch.\n  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\n  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y$1;\n\n  if (PATCH) {\n    patchedExec = function exec(str) {\n      var re = this;\n      var lastIndex, reCopy, match, i;\n      var sticky = UNSUPPORTED_Y$1 && re.sticky;\n      var flags = regexpFlags.call(re);\n      var source = re.source;\n      var charsAdded = 0;\n      var strCopy = str;\n\n      if (sticky) {\n        flags = flags.replace('y', '');\n        if (flags.indexOf('g') === -1) {\n          flags += 'g';\n        }\n\n        strCopy = String(str).slice(re.lastIndex);\n        // Support anchored sticky behavior.\n        if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n          source = '(?: ' + source + ')';\n          strCopy = ' ' + strCopy;\n          charsAdded++;\n        }\n        // ^(? + rx + ) is needed, in combination with some str slicing, to\n        // simulate the 'y' flag.\n        reCopy = new RegExp('^(?:' + source + ')', flags);\n      }\n\n      if (NPCG_INCLUDED) {\n        reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n      }\n      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n      match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n      if (sticky) {\n        if (match) {\n          match.input = match.input.slice(charsAdded);\n          match[0] = match[0].slice(charsAdded);\n          match.index = re.lastIndex;\n          re.lastIndex += match[0].length;\n        } else re.lastIndex = 0;\n      } else if (UPDATES_LAST_INDEX_WRONG && match) {\n        re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n      }\n      if (NPCG_INCLUDED && match && match.length > 1) {\n        // Fix browsers whose `exec` methods don't consistently return `undefined`\n        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n        nativeReplace.call(match[0], reCopy, function () {\n          for (i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      return match;\n    };\n  }\n\n  var regexpExec = patchedExec;\n\n  _export({ target: 'RegExp', proto: true, forced: /./.exec !== regexpExec }, {\n    exec: regexpExec\n  });\n\n  // TODO: Remove from `core-js@4` since it's moved to entry points\n\n\n\n\n\n\n\n  var SPECIES$6 = wellKnownSymbol('species');\n\n  var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n    // #replace needs built-in support for named groups.\n    // #match works fine because it just return the exec results, even if it has\n    // a \"grops\" property.\n    var re = /./;\n    re.exec = function () {\n      var result = [];\n      result.groups = { a: '7' };\n      return result;\n    };\n    return ''.replace(re, '$<a>') !== '7';\n  });\n\n  // IE <= 11 replaces $0 with the whole match, as if it was $&\n  // https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\n  var REPLACE_KEEPS_$0 = (function () {\n    return 'a'.replace(/./, '$0') === '$0';\n  })();\n\n  var REPLACE = wellKnownSymbol('replace');\n  // Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n    if (/./[REPLACE]) {\n      return /./[REPLACE]('a', '$0') === '';\n    }\n    return false;\n  })();\n\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  // Weex JS has frozen built-in prototypes, so use try / catch wrapper\n  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n    var re = /(?:)/;\n    var originalExec = re.exec;\n    re.exec = function () { return originalExec.apply(this, arguments); };\n    var result = 'ab'.split(re);\n    return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n  });\n\n  var fixRegexpWellKnownSymbolLogic = function (KEY, length, exec, sham) {\n    var SYMBOL = wellKnownSymbol(KEY);\n\n    var DELEGATES_TO_SYMBOL = !fails(function () {\n      // String methods call symbol-named RegEp methods\n      var O = {};\n      O[SYMBOL] = function () { return 7; };\n      return ''[KEY](O) != 7;\n    });\n\n    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n      // Symbol-named RegExp methods call .exec\n      var execCalled = false;\n      var re = /a/;\n\n      if (KEY === 'split') {\n        // We can't use real regex here since it causes deoptimization\n        // and serious performance degradation in V8\n        // https://github.com/zloirock/core-js/issues/306\n        re = {};\n        // RegExp[@@split] doesn't call the regex's exec method, but first creates\n        // a new one. We need to return the patched regex when creating the new one.\n        re.constructor = {};\n        re.constructor[SPECIES$6] = function () { return re; };\n        re.flags = '';\n        re[SYMBOL] = /./[SYMBOL];\n      }\n\n      re.exec = function () { execCalled = true; return null; };\n\n      re[SYMBOL]('');\n      return !execCalled;\n    });\n\n    if (\n      !DELEGATES_TO_SYMBOL ||\n      !DELEGATES_TO_EXEC ||\n      (KEY === 'replace' && !(\n        REPLACE_SUPPORTS_NAMED_GROUPS &&\n        REPLACE_KEEPS_$0 &&\n        !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      )) ||\n      (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n    ) {\n      var nativeRegExpMethod = /./[SYMBOL];\n      var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }, {\n        REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n        REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n      });\n      var stringMethod = methods[0];\n      var regexMethod = methods[1];\n\n      redefine(String.prototype, KEY, stringMethod);\n      redefine(RegExp.prototype, SYMBOL, length == 2\n        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n        // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n        ? function (string, arg) { return regexMethod.call(string, this, arg); }\n        // 21.2.5.6 RegExp.prototype[@@match](string)\n        // 21.2.5.9 RegExp.prototype[@@search](string)\n        : function (string) { return regexMethod.call(string, this); }\n      );\n    }\n\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  };\n\n  // `String.prototype.{ codePointAt, at }` methods implementation\n  var createMethod$5 = function (CONVERT_TO_STRING) {\n    return function ($this, pos) {\n      var S = String(requireObjectCoercible($this));\n      var position = toInteger(pos);\n      var size = S.length;\n      var first, second;\n      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n      first = S.charCodeAt(position);\n      return first < 0xD800 || first > 0xDBFF || position + 1 === size\n        || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n          ? CONVERT_TO_STRING ? S.charAt(position) : first\n          : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n    };\n  };\n\n  var stringMultibyte = {\n    // `String.prototype.codePointAt` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n    codeAt: createMethod$5(false),\n    // `String.prototype.at` method\n    // https://github.com/mathiasbynens/String.prototype.at\n    charAt: createMethod$5(true)\n  };\n\n  var charAt = stringMultibyte.charAt;\n\n  // `AdvanceStringIndex` abstract operation\n  // https://tc39.github.io/ecma262/#sec-advancestringindex\n  var advanceStringIndex = function (S, index, unicode) {\n    return index + (unicode ? charAt(S, index).length : 1);\n  };\n\n  // `RegExpExec` abstract operation\n  // https://tc39.github.io/ecma262/#sec-regexpexec\n  var regexpExecAbstract = function (R, S) {\n    var exec = R.exec;\n    if (typeof exec === 'function') {\n      var result = exec.call(R, S);\n      if (typeof result !== 'object') {\n        throw TypeError('RegExp exec method returned something other than an Object or null');\n      }\n      return result;\n    }\n\n    if (classofRaw(R) !== 'RegExp') {\n      throw TypeError('RegExp#exec called on incompatible receiver');\n    }\n\n    return regexpExec.call(R, S);\n  };\n\n  var max$5 = Math.max;\n  var min$5 = Math.min;\n  var floor$1 = Math.floor;\n  var SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\n  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n  var maybeToString = function (it) {\n    return it === undefined ? it : String(it);\n  };\n\n  // @@replace logic\n  fixRegexpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n    var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n    var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n    var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n    return [\n      // `String.prototype.replace` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n      function replace(searchValue, replaceValue) {\n        var O = requireObjectCoercible(this);\n        var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n        return replacer !== undefined\n          ? replacer.call(searchValue, O, replaceValue)\n          : nativeReplace.call(String(O), searchValue, replaceValue);\n      },\n      // `RegExp.prototype[@@replace]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n      function (regexp, replaceValue) {\n        if (\n          (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n          (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n        ) {\n          var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n          if (res.done) return res.value;\n        }\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        var functionalReplace = typeof replaceValue === 'function';\n        if (!functionalReplace) replaceValue = String(replaceValue);\n\n        var global = rx.global;\n        if (global) {\n          var fullUnicode = rx.unicode;\n          rx.lastIndex = 0;\n        }\n        var results = [];\n        while (true) {\n          var result = regexpExecAbstract(rx, S);\n          if (result === null) break;\n\n          results.push(result);\n          if (!global) break;\n\n          var matchStr = String(result[0]);\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        }\n\n        var accumulatedResult = '';\n        var nextSourcePosition = 0;\n        for (var i = 0; i < results.length; i++) {\n          result = results[i];\n\n          var matched = String(result[0]);\n          var position = max$5(min$5(toInteger(result.index), S.length), 0);\n          var captures = [];\n          // NOTE: This is equivalent to\n          //   captures = result.slice(1).map(maybeToString)\n          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n          // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n          for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n          var namedCaptures = result.groups;\n          if (functionalReplace) {\n            var replacerArgs = [matched].concat(captures, position, S);\n            if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n            var replacement = String(replaceValue.apply(undefined, replacerArgs));\n          } else {\n            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n          }\n          if (position >= nextSourcePosition) {\n            accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n            nextSourcePosition = position + matched.length;\n          }\n        }\n        return accumulatedResult + S.slice(nextSourcePosition);\n      }\n    ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n    function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n      var tailPos = position + matched.length;\n      var m = captures.length;\n      var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n      if (namedCaptures !== undefined) {\n        namedCaptures = toObject(namedCaptures);\n        symbols = SUBSTITUTION_SYMBOLS;\n      }\n      return nativeReplace.call(replacement, symbols, function (match, ch) {\n        var capture;\n        switch (ch.charAt(0)) {\n          case '$': return '$';\n          case '&': return matched;\n          case '`': return str.slice(0, position);\n          case \"'\": return str.slice(tailPos);\n          case '<':\n            capture = namedCaptures[ch.slice(1, -1)];\n            break;\n          default: // \\d\\d?\n            var n = +ch;\n            if (n === 0) return match;\n            if (n > m) {\n              var f = floor$1(n / 10);\n              if (f === 0) return match;\n              if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n              return match;\n            }\n            capture = captures[n - 1];\n        }\n        return capture === undefined ? '' : capture;\n      });\n    }\n  });\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-13 11:32:12\r\n   * @LastEditTime : 2020-11-13 11:32:31\r\n   * @Description :\r\n   */\n  var hyphenateStyleName = function hyphenateStyleName(name) {\n    var uppercasePattern = /([A-Z])/g;\n    var msPattern = /^ms-/;\n    return name.replace(uppercasePattern, '-$1').toLowerCase().replace(msPattern, '-ms-');\n  };\n\n  function ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  /**\r\n   * #!zh:   \r\n   * #!en: top(north)bottom(south)left(west)right(east)\r\n   */\n  // const directionKey = {\n  //   t: 'n',\n  //   b: 's',\n  //   l: 'w',\n  //   r: 'e'\n  // }\n\n  var ShapeLayerDefaultProps = {\n    top: 0,\n    left: 0,\n    width: 100,\n    height: 40\n  };\n  var points$2 = ['lt', 'rt', 'lb', 'rb', 'lm', 'rm', 'tm', 'bm'];\n  var ShapeLayer = {\n    directives: {\n      clickOutside: vClickOutside\n    },\n    props: {\n      elStyle: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      disable: {\n        type: Boolean,\n        default: ShapeLayerDefaultProps.disable\n      }\n    },\n    inject: ['canvas'],\n    data: function data() {\n      return {\n        rect: this.getReact(this.elStyle),\n        shapeStyle: this.getStyle(this.elStyle),\n        startY: 0,\n        startX: 0,\n        point: '',\n        active: false,\n        vcoConfig: {}\n      };\n    },\n    computed: {\n      ltPointStyle: function ltPointStyle() {\n        return {\n          left: \"\".concat(0, \"px\"),\n          top: \"\".concat(0, \"px\")\n        };\n      },\n      rtPointStyle: function rtPointStyle() {\n        var width = this.rect.width;\n        return {\n          left: \"\".concat(width, \"px\"),\n          top: \"\".concat(0, \"px\")\n        };\n      },\n      lbPointStyle: function lbPointStyle() {\n        var height = this.rect.height;\n        return {\n          left: \"\".concat(0, \"px\"),\n          top: \"\".concat(height, \"px\")\n        };\n      },\n      rbPointStyle: function rbPointStyle() {\n        var _this$rect = this.rect,\n            width = _this$rect.width,\n            height = _this$rect.height;\n        return {\n          left: \"\".concat(width, \"px\"),\n          top: \"\".concat(height, \"px\")\n        };\n      },\n      lmPointStyle: function lmPointStyle() {\n        var height = this.rect.height;\n        return {\n          left: \"\".concat(0, \"px\"),\n          top: \"\".concat(height / 2, \"px\")\n        };\n      },\n      rmPointStyle: function rmPointStyle() {\n        var _this$rect2 = this.rect,\n            width = _this$rect2.width,\n            height = _this$rect2.height;\n        return {\n          left: \"\".concat(width, \"px\"),\n          top: \"\".concat(height / 2, \"px\")\n        };\n      },\n      tmPointStyle: function tmPointStyle() {\n        var width = this.rect.width;\n        return {\n          left: \"\".concat(width / 2, \"px\"),\n          top: \"\".concat(0, \"px\")\n        };\n      },\n      bmPointStyle: function bmPointStyle() {\n        var _this$rect3 = this.rect,\n            width = _this$rect3.width,\n            height = _this$rect3.height;\n        return {\n          left: \"\".concat(width / 2, \"px\"),\n          top: \"\".concat(height, \"px\")\n        };\n      },\n      bound: function bound() {\n        return {\n          left: 0,\n          top: 0,\n          right: this.canvas.width,\n          bottom: this.canvas.height\n        };\n      }\n    },\n    mounted: function mounted() {\n      this.vcoConfig = {\n        events: ['mousedown'],\n        handler: this.onClickOutside,\n        scopeNode: document.querySelector('.lb-canvas-wrapper')\n      };\n    },\n    watch: {\n      elStyle: function elStyle() {\n        var elStyle = this.elStyle;\n        this.rect = this.getReact(elStyle);\n        this.shapeStyle = this.getStyle(elStyle);\n      },\n      rect: {\n        handler: function handler() {\n          var newStyle = _objectSpread$1(_objectSpread$1({}, this.elStyle), this.rect);\n\n          this.shapeStyle = _objectSpread$1(_objectSpread$1({}, this.shapeStyle), this.getStyle(this.rect));\n          this.$emit('change', newStyle);\n        },\n        deep: true\n      }\n    },\n    methods: {\n      getReact: function getReact(elStyle) {\n        return {\n          left: elStyle.left,\n          top: elStyle.top,\n          width: elStyle.width,\n          height: elStyle.height\n        };\n      },\n      getStyle: function getStyle(style) {\n        var newStyle = {};\n        Object.entries(style).forEach(function (_ref) {\n          var _ref2 = slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          var v = typeof value === 'number' ? \"\".concat(value, \"px\") : value;\n          var n = hyphenateStyleName(key);\n          newStyle[n] = v;\n        });\n        return newStyle;\n      },\n      setActive: function setActive(active) {\n        if (this.active === active) return;\n        active ? this.$emit('active', active) : this.$emit('deactive', active);\n        this.active = active;\n      },\n      onClickOutside: function onClickOutside() {\n        this.setActive(false);\n      },\n      addWidth: function addWidth(distance) {\n        var _this$rect4 = this.rect,\n            currentLeft = _this$rect4.left,\n            currentWidth = _this$rect4.width;\n        var boundRight = this.bound.right;\n        var nextWidth = currentWidth + distance;\n        if (nextWidth < 0) nextWidth = 0;\n        if (currentLeft + nextWidth > boundRight) return;\n        return this.rect.width = nextWidth;\n      },\n      addHeight: function addHeight(distance) {\n        var _this$rect5 = this.rect,\n            currentTop = _this$rect5.top,\n            currentHeight = _this$rect5.height;\n        var boundBottom = this.bound.bottom;\n        var nextHeight = currentHeight + distance;\n        if (nextHeight < 0) nextHeight = 0;\n        if (currentTop + nextHeight > boundBottom) return;\n        return this.rect.height = nextHeight;\n      },\n      addLeft: function addLeft(distance) {\n        var _this$rect6 = this.rect,\n            currentLeft = _this$rect6.left,\n            currentWidth = _this$rect6.width;\n        var _this$bound = this.bound,\n            boundLeft = _this$bound.left,\n            boundRight = _this$bound.right;\n        var nextLeft = currentLeft + distance;\n        if (nextLeft < boundLeft) nextLeft = boundLeft;\n        if (nextLeft + currentWidth > boundRight) return;\n        return this.rect.left = nextLeft;\n      },\n      addTop: function addTop(distance) {\n        var _this$rect7 = this.rect,\n            currentTop = _this$rect7.top,\n            currentHeight = _this$rect7.height;\n        var _this$bound2 = this.bound,\n            boundTop = _this$bound2.top,\n            boundBottom = _this$bound2.bottom;\n        var nextTop = currentTop + distance;\n        if (nextTop < boundTop) nextTop = boundTop;\n        if (nextTop + currentHeight > boundBottom) return;\n        return this.rect.top = nextTop;\n      },\n      handleShapeDown: function handleShapeDown(e) {\n        this.setActive(true);\n        this.startY = e.clientY;\n        this.startX = e.clientX;\n        document.addEventListener('mousemove', this.handleShapeMove);\n        document.addEventListener('mouseup', this.handleShapeUp);\n      },\n      handleShapeMove: function handleShapeMove(e) {\n        e.preventDefault();\n        var distanceX = e.clientX - this.startX;\n        var distanceY = e.clientY - this.startY;\n        this.startX = e.clientX;\n        this.startY = e.clientY;\n        this.addLeft(distanceX);\n        this.addTop(distanceY);\n      },\n      handleShapeUp: function handleShapeUp() {\n        document.removeEventListener('mousemove', this.handleShapeMove);\n        document.removeEventListener('mouseup', this.handleShapeUp);\n      },\n      handlePointDown: function handlePointDown(point, e) {\n        this.startY = e.clientY;\n        this.startX = e.clientX;\n        this.point = point;\n        document.addEventListener('mousemove', this.handlePointMove);\n        document.addEventListener('mouseup', this.handlePointUp);\n      },\n      handlePointMove: function handlePointMove(e) {\n        var _this = this;\n\n        var effect = [/l/, /t/, /r/, /b/].map(function (v) {\n          return v.test(_this.point);\n        });\n\n        var _effect = slicedToArray(effect, 4),\n            effectLeft = _effect[0],\n            effectTop = _effect[1],\n            effectWidth = _effect[2],\n            effectHeight = _effect[3];\n\n        var distanceX = e.clientX - this.startX;\n        var distanceY = e.clientY - this.startY;\n        this.startX = e.clientX;\n        this.startY = e.clientY;\n\n        if (effectLeft) {\n          var _this$rect8 = this.rect,\n              currentLeft = _this$rect8.left,\n              currentWidth = _this$rect8.width;\n          var effectLeftDistance = Math.min(currentWidth, distanceX);\n          var effectWidthDistance = Math.min(currentLeft, -distanceX);\n          this.addLeft(effectLeftDistance);\n          this.addWidth(effectWidthDistance);\n        }\n\n        if (effectTop) {\n          var _this$rect9 = this.rect,\n              currentTop = _this$rect9.top,\n              currentHeight = _this$rect9.height;\n          var effectTopDistance = Math.min(currentHeight, distanceY);\n          var effectHeightDistance = Math.min(currentTop, -distanceY);\n          this.addTop(effectTopDistance);\n          this.addHeight(effectHeightDistance);\n        }\n\n        effectWidth && this.addWidth(distanceX);\n        effectHeight && this.addHeight(distanceY);\n      },\n      handlePointUp: function handlePointUp() {\n        document.removeEventListener('mousemove', this.handlePointMove);\n        document.removeEventListener('mouseup', this.handlePointUp);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      return h(\"div\", {\n        \"attrs\": {\n          \"tabindex\": \"0\"\n        },\n        \"directives\": [{\n          name: \"click-outside\",\n          value: this.vcoConfig\n        }],\n        \"style\": this.getStyle(this.shapeStyle),\n        \"class\": ['shape-layer', {\n          active: this.active\n        }],\n        \"on\": {\n          \"mousedown\": this.handleShapeDown\n        },\n        \"ref\": \"shape\"\n      }, [h(\"div\", {\n        \"class\": \"shape-content\"\n      }, [this.$slots.default]), h(\"div\", {\n        \"class\": \"control\"\n      }, [points$2.map(function (v) {\n        return h(\"div\", {\n          \"directives\": [{\n            name: \"show\",\n            value: _this2.active\n          }],\n          \"style\": _this2[\"\".concat(v, \"PointStyle\")],\n          \"class\": \"shape-scale__point\",\n          \"attrs\": {\n            \"data-point\": v\n          },\n          \"on\": {\n            \"mousedown\": _this2.handlePointDown.bind(_this2, v)\n          }\n        });\n      })])]);\n    }\n  };\n\n  function ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var id$1 = 0;\n\n  var LbpElement = /*#__PURE__*/function () {\n    function LbpElement() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      classCallCheck(this, LbpElement);\n\n      var _options$name = options.name,\n          name = _options$name === void 0 ? '' : _options$name,\n          _options$props = options.props,\n          props = _options$props === void 0 ? {} : _options$props,\n          _options$style = options.style,\n          style = _options$style === void 0 ? {} : _options$style,\n          _options$attrs = options.attrs,\n          attrs = _options$attrs === void 0 ? {} : _options$attrs,\n          _options$animations = options.animations,\n          animations = _options$animations === void 0 ? [] : _options$animations;\n\n      if (name) {\n        this.name = name;\n        this.id = id$1++;\n        this.vm = null;\n\n        var _pluginsControl$getPl = lbpPluginController.getPlugin(name),\n            component = _pluginsControl$getPl.component; // element render  \n\n\n        this.props = _objectSpread$2(_objectSpread$2({}, LbpElement.getPluginProps(component)), props); // element render  \n\n        this.attrs = _objectSpread$2({}, attrs); // element render  \n\n        this.class = _objectSpread$2({}, options.class); //  shapeLayer \n\n        this.style = _objectSpread$2(_objectSpread$2({}, ShapeLayerDefaultProps), style); //  animateLayer \n\n        this.animations = toConsumableArray(animations);\n      } else {\n        console.error('lbpElement need a name of plugin');\n      }\n    }\n\n    createClass(LbpElement, [{\n      key: \"clone\",\n      value: function clone() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref$zIndex = _ref.zIndex,\n            zIndex = _ref$zIndex === void 0 ? this.zIndex + 1 : _ref$zIndex;\n\n        return new LbpElement({\n          zIndex: zIndex,\n          name: this.name,\n          pluginProps: this.pluginProps,\n          commonStyle: _objectSpread$2(_objectSpread$2({}, this.commonStyle), {}, {\n            top: this.commonStyle.top + 20,\n            left: this.commonStyle.left + 20\n          })\n        });\n      }\n    }, {\n      key: \"update\",\n      value: function update(_ref2) {\n        var props = _ref2.props,\n            style = _ref2.style,\n            animations = _ref2.animations;\n        props && Object.assign(this.props, props);\n        style && Object.assign(this.style, style);\n\n        if (animations) {\n          Object.assign(this.animations, animations);\n          this.animations.length = animations.length;\n        }\n      }\n    }, {\n      key: \"setVm\",\n      value: function setVm(vm) {\n        this.vm = vm;\n      }\n    }], [{\n      key: \"getPluginProps\",\n      value: function getPluginProps(component) {\n        var props = {};\n        var propsDefine = component.props;\n        Object.entries(propsDefine).forEach(function (_ref3) {\n          var _ref4 = slicedToArray(_ref3, 2),\n              key = _ref4[0],\n              prop = _ref4[1];\n\n          props[key] = LbpElement.getPropDefaultValue(null, prop);\n        });\n        return props;\n      }\n    }, {\n      key: \"getPropDefaultValue\",\n      value: function getPropDefaultValue(vm, prop) {\n        if (!Object.prototype.hasOwnProperty.call(prop, 'default')) {\n          return undefined;\n        }\n\n        var def = prop.default;\n        return lodash.isFunction(def) ? def.call(vm) : def;\n      }\n    }]);\n\n    return LbpElement;\n  }();\n\n  var Render = {\n    props: {\n      elName: {\n        type: String,\n        require: true\n      },\n      elProps: {\n        type: Object,\n        require: true\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var component = lbpPluginController.getPlugin(this.elName).component;\n      return h(component, helper$5([{}, {\n        \"props\": this.elProps\n      }]));\n    }\n  };\n\n  var EventBus = new Vue__default['default'](); // event bus\n\n  var AnimateLayer = {\n    props: {\n      animations: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    methods: {\n      runAnimations: function runAnimations() {\n        if (!this.animations) return;\n        var animationQueue = this.animations || [];\n        var len = animationQueue.length;\n        if (len === 0) return;\n        var parentNode = this.$el;\n        var animIdx = 0;\n        runAnimation();\n\n        function runAnimation() {\n          if (animIdx < len) {\n            var animation = animationQueue[animIdx];\n            Object.assign(parentNode.style, {\n              animationName: animation.type,\n              animationDuration: \"\".concat(animation.duration, \"s\"),\n              animationIterationCount: animation.infinite ? 'infinite' : animation.interationCount,\n              animationDelay: \"\".concat(animation.delay, \"s\"),\n              animationFillMode: 'both'\n            });\n            animIdx++;\n          } else {\n            Object.assign(parentNode.style, {\n              animationName: null,\n              animationDuration: null,\n              animationIterationCount: null,\n              animationDelay: null,\n              animationFillMode: null\n            });\n          }\n        }\n\n        parentNode.addEventListener('animationend', runAnimation, false);\n      }\n    },\n    created: function created() {\n      var _this = this;\n\n      EventBus.$on('RUN_ANIMATIONS', function () {\n        _this.runAnimations();\n      });\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"animate-layer\"\n      }, [this.$slots.default]);\n    }\n  };\n\n  var ElementRender = {\n    props: {\n      element: {\n        type: LbpElement,\n        default: function _default() {\n          return new LbpElement({});\n        }\n      }\n    },\n    created: function created() {\n      this.element.setVm(this);\n    },\n    render: function render() {\n      var h = arguments[0];\n      var element = this.element;\n      return h(ShapeLayer, helper$5([{\n        \"attrs\": {\n          \"elStyle\": element.style\n        }\n      }, {\n        \"on\": this.$listeners\n      }]), [h(AnimateLayer, {\n        \"attrs\": {\n          \"animations\": element.animations\n        }\n      }, [h(Render, {\n        \"attrs\": {\n          \"elProps\": element.props,\n          \"elName\": element.name\n        }\n      })])]);\n    }\n  };\n\n  var CoreRender = {\n    LbpElement: LbpElement,\n    props: {\n      width: {\n        type: Number,\n        default: 0\n      },\n      height: {\n        type: Number,\n        default: 0\n      }\n    },\n    provide: function provide() {\n      return {\n        canvas: this.canvas\n      };\n    },\n    data: function data() {\n      return {\n        activeElement: null,\n        elements: [],\n        canvas: {\n          width: this.width,\n          height: this.height\n        }\n      };\n    },\n    watch: {\n      width: function width(_width) {\n        this.updateCanvas({\n          width: _width\n        });\n      },\n      height: function height(_height) {\n        this.updateCanvas({\n          height: _height\n        });\n      }\n    },\n    computed: {\n      canvasStyle: function canvasStyle() {\n        return {\n          width: \"\".concat(this.width, \"px\"),\n          height: \"\".concat(this.height, \"px\")\n        };\n      }\n    },\n    methods: {\n      handleElementActive: function handleElementActive(activeElement) {\n        this.activeElement = activeElement;\n        this.$emit('active', activeElement);\n      },\n      handleElementDeactive: function handleElementDeactive(deactiveElement) {\n        if (deactiveElement === this.activeElement) {\n          this.activeElement = null;\n        }\n\n        this.$emit('deactive', deactiveElement);\n      },\n      updateCanvas: function updateCanvas(data) {\n        Object.assign(this.canvas, data);\n      },\n      updateElement: function updateElement(data) {\n        if (this.activeElement) {\n          data && this.activeElement.update(data);\n        }\n      },\n      addElement: function addElement() {\n        var _this = this;\n\n        for (var _len = arguments.length, elements = new Array(_len), _key = 0; _key < _len; _key++) {\n          elements[_key] = arguments[_key];\n        }\n\n        elements.forEach(function (element) {\n          if (element instanceof LbpElement) {\n            _this.elements.push(element);\n          }\n        });\n      },\n      handleElementRectChange: function handleElementRectChange(style) {\n        this.updateElement({\n          style: style\n        });\n      },\n      clear: function clear() {\n        this.elements = [];\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"lb-canvas\",\n        \"style\": this.canvasStyle\n      }, [h(\"div\", {\n        \"class\": \"lb-canvas-wrapper\"\n      }, [h(\"div\", {\n        \"class\": \"elements\"\n      }, [this.elements.map(function (element) {\n        return h(ElementRender, {\n          \"key\": element.id,\n          \"attrs\": {\n            \"element\": element\n          },\n          \"on\": {\n            \"active\": function active() {\n              return _this2.handleElementActive(element);\n            },\n            \"deactive\": function deactive() {\n              return _this2.handleElementDeactive(element);\n            },\n            \"change\": _this2.handleElementRectChange\n          }\n        });\n      })])])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-06 14:56:14\r\n   * @Description :\r\n   */\n\n  /**\r\n    * \r\n    * h5_swipper H5\r\n    * h5_long_page H5\r\n   */\n  var PAGE_MODE = {\n    SWIPPER_PAGE: 'h5_swipper',\n    LONG_PAGE: 'h5_long_page',\n    WIDTH: 375,\n    HEIGHT: 667\n  };\n  var PAGE_MODE_LABEL = {\n    SWIPPER_PAGE: 'H5',\n    LONG_PAGE: ''\n  };\n\n  var LbpElement$1 = CoreRender.LbpElement;\n\n  var Page = /*#__PURE__*/function () {\n    function Page() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$title = _ref.title,\n          title = _ref$title === void 0 ? '' : _ref$title,\n          _ref$elements = _ref.elements,\n          elements = _ref$elements === void 0 ? [] : _ref$elements,\n          _ref$height = _ref.height,\n          height = _ref$height === void 0 ? PAGE_MODE.HEIGHT : _ref$height,\n          _ref$width = _ref.width,\n          width = _ref$width === void 0 ? PAGE_MODE.WIDTH : _ref$width,\n          _ref$pageMode = _ref.pageMode,\n          pageMode = _ref$pageMode === void 0 ? PAGE_MODE.SWIPPER_PAGE : _ref$pageMode;\n\n      classCallCheck(this, Page);\n\n      this.id = +new Date();\n      this.title = title;\n      this.width = width >= 0 ? width : PAGE_MODE.WIDTH;\n      this.height = height >= 0 ? height : PAGE_MODE.HEIGHT;\n      this.pageMode = pageMode;\n      this.elements = this.genElements(elements);\n    }\n\n    createClass(Page, [{\n      key: \"clone\",\n      value: function clone() {\n        var elements = this.elements.map(function (element) {\n          return new LbpElement$1(element);\n        });\n        return new Page({\n          title: this.title,\n          elements: elements\n        });\n      }\n    }, {\n      key: \"genElements\",\n      value: function genElements() {\n        var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        return Array.isArray(elements) && elements.length > 0 ? elements.map(function (v) {\n          return new LbpElement$1(v);\n        }) : [new LbpElement$1({\n          name: LbpBackground.name\n        })];\n      }\n    }]);\n\n    return Page;\n  }();\n\n  var Work = /*#__PURE__*/function () {\n    function Work() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          id = _ref.id,\n          _ref$title = _ref.title,\n          title = _ref$title === void 0 ? '' : _ref$title,\n          _ref$description = _ref.description,\n          description = _ref$description === void 0 ? '' : _ref$description,\n          _ref$pages = _ref.pages,\n          pages = _ref$pages === void 0 ? [] : _ref$pages,\n          isPublish = _ref.isPublish,\n          isTemplate = _ref.isTemplate;\n\n      classCallCheck(this, Work);\n\n      this.id = id;\n      this.title = title;\n      this.description = description;\n      this.pages = this.genPages(pages);\n      this.cover_image_url = '';\n      this.is_publish = !!isPublish;\n      this.is_template = !!isTemplate;\n    }\n\n    createClass(Work, [{\n      key: \"genPages\",\n      value: function genPages(pages) {\n        return Array.isArray(pages) && pages.length > 0 ? pages.map(function (v) {\n          return new Page(v);\n        }) : [new Page()];\n      }\n    }]);\n\n    return Work;\n  }();\n\n  // actions\n  var actions = {\n    updateScaleRate: function updateScaleRate(_ref, payload) {\n      var commit = _ref.commit;\n      commit('updateScaleRate', payload);\n    }\n  }; // mutations\n\n  var mutations = {\n    /**\r\n     *\r\n     * @param {*} state\r\n     * @param {Number} scaleRateDiff : 0.25, : -0.25\r\n     */\n    updateScaleRate: function updateScaleRate(state, scaleRateDiff) {\n      state.scaleRate += scaleRateDiff;\n    }\n  };\n\n  var $findIndex = arrayIteration.findIndex;\n\n\n\n  var FIND_INDEX = 'findIndex';\n  var SKIPS_HOLES = true;\n\n  var USES_TO_LENGTH$8 = arrayMethodUsesToLength(FIND_INDEX);\n\n  // Shouldn't skip holes\n  if (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n  _export({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH$8 }, {\n    findIndex: function findIndex(callbackfn /* , that = undefined */) {\n      return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables(FIND_INDEX);\n\n  var actions$1 = {\n    setEditingPage: function setEditingPage(_ref) {\n      var commit = _ref.commit;\n      var pageIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      commit('setEditingPage', pageIndex);\n    },\n    pageManager: function pageManager(_ref2, payload) {\n      var commit = _ref2.commit;\n      commit('pageManager', payload);\n    }\n  }; // mutations\n\n  var mutations$1 = {\n    setEditingPage: function setEditingPage(state) {\n      var pageIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      state.editingPage = state.work.pages[pageIndex];\n    },\n    pageManager: function pageManager(state, _ref3) {\n      var type = _ref3.type,\n          value = _ref3.value;\n\n      switch (type) {\n        case 'editTitle':\n          var pageIndex = value.pageIndex,\n              newTitle = value.newTitle;\n          state.work.pages[pageIndex].title = newTitle;\n          break;\n\n        case 'add':\n          var page = new Page(value);\n          state.work.pages.push(page);\n          break;\n\n        case 'copy':\n          state.work.pages.push(state.editingPage.clone());\n          break;\n\n        case 'delete':\n          if (state.work.pages.length === 1) {\n            // #!zh: \n            // #!en: At least one page needs to be kept in the work\n            antDesignVue.message.info('');\n            return;\n          }\n\n          var work = state.work,\n              editingPage = state.editingPage;\n          var index = work.pages.findIndex(function (page) {\n            return page.uuid === editingPage.uuid;\n          });\n\n          if (index !== -1) {\n            var newPages = work.pages.slice();\n            newPages.splice(index, 1);\n            state.work.pages = newPages;\n          }\n\n          break;\n      }\n    }\n  };\n\n  var $find = arrayIteration.find;\n\n\n\n  var FIND = 'find';\n  var SKIPS_HOLES$1 = true;\n\n  var USES_TO_LENGTH$9 = arrayMethodUsesToLength(FIND);\n\n  // Shouldn't skip holes\n  if (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES$1 = false; });\n\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  _export({ target: 'Array', proto: true, forced: SKIPS_HOLES$1 || !USES_TO_LENGTH$9 }, {\n    find: function find(callbackfn /* , that = undefined */) {\n      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    }\n  });\n\n  // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n  addToUnscopables(FIND);\n\n  function ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var actions$2 = {\n    setEditingElement: function setEditingElement(_ref, payload) {\n      var commit = _ref.commit;\n      commit('setEditingElement', payload);\n      payload && EventBus.$emit('setEditingElement', payload);\n    },\n    setElementPosition: function setElementPosition(_ref2, payload) {\n      var commit = _ref2.commit;\n      commit('setElementCommonStyle', payload);\n    },\n    setElementShape: function setElementShape(_ref3, payload) {\n      var commit = _ref3.commit;\n      commit('setElementCommonStyle', payload);\n    },\n    recordElementRect: function recordElementRect(_ref4) {\n      var commit = _ref4.commit;\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      commit('recordRect', payload);\n    },\n    elementManager: function elementManager(_ref5, payload) {\n      var commit = _ref5.commit;\n      commit('elementManager', payload);\n    }\n  }; // mutations\n\n  var mutations$2 = {\n    setEditingElement: function setEditingElement(state, payload) {\n      state.editingElement = payload;\n    },\n    setElementCommonStyle: function setElementCommonStyle(state, payload) {\n      state.editingElement.commonStyle = _objectSpread$3(_objectSpread$3({}, state.editingElement.commonStyle), payload);\n    },\n    elementManager: function elementManager(state, _ref6) {\n      var type = _ref6.type,\n          value = _ref6.value;\n      var editingPage = state.editingPage,\n          editingElement = state.editingElement;\n      var elements = editingPage.elements;\n      var len = elements.length;\n\n      switch (type) {\n        case 'add':\n          var vm = getVM(value.name);\n          vm.$options.shortcutProps = value.shortcutProps; // \n\n          vm.$options.dragStyle = value.dragStyle; // {left: Number, top: Number}\n\n          var element = new CoreRender.Element(vm.$options);\n          elements.push(element);\n          break;\n\n        case 'copy':\n          elements.push(state.editingElement.clone({\n            zindex: len + 1\n          }));\n          break;\n\n        case 'delete':\n          {\n            var index = elements.findIndex(function (e) {\n              return e.uuid === editingElement.uuid;\n            });\n\n            if (index !== -1) {\n              // let newElements = elements.slice()\n              // newElements.splice(index, 1)\n              // state.editingPage.elements = newElements\n              state.editingPage.elements.splice(index, 1);\n            }\n\n            state.editingElement = null;\n          }\n          break;\n\n        case 'move2Top':\n        case 'move2Bottom':\n          {\n            var _index = elements.findIndex(function (e) {\n              return e.uuid === editingElement.uuid;\n            });\n\n            elements.splice(_index, 1);\n            var newElements = type === 'move2Top' ? [].concat(toConsumableArray(elements), [editingElement]) : [editingElement].concat(toConsumableArray(elements));\n            newElements.forEach(function (ele, i, arr) {\n              ele.commonStyle.zindex = i + 1;\n            });\n            state.editingPage.elements = newElements;\n          }\n          break;\n\n        case 'addZindex':\n        case 'minusZindex':\n          var maxZindex = elements.length;\n          var eleZindex = editingElement.commonStyle.zindex;\n          if (eleZindex === maxZindex || eleZindex === 1) return;\n          var flag = type === 'addZindex' ? 1 : -1;\n          var swapElement = elements.find(function (ele) {\n            return ele.commonStyle.zindex === eleZindex + flag * 1;\n          });\n          swapZindex(editingElement, swapElement);\n          break;\n      }\n    },\n    recordRect: function recordRect(state, _ref7) {\n      var type = _ref7.type,\n          value = _ref7.value;\n    }\n  };\n\n  var test$1 = [];\n  var nativeSort = test$1.sort;\n\n  // IE8-\n  var FAILS_ON_UNDEFINED = fails(function () {\n    test$1.sort(undefined);\n  });\n  // V8 bug\n  var FAILS_ON_NULL = fails(function () {\n    test$1.sort(null);\n  });\n  // Old WebKit\n  var STRICT_METHOD$4 = arrayMethodIsStrict('sort');\n\n  var FORCED$3 = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD$4;\n\n  // `Array.prototype.sort` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.sort\n  _export({ target: 'Array', proto: true, forced: FORCED$3 }, {\n    sort: function sort(comparefn) {\n      return comparefn === undefined\n        ? nativeSort.call(toObject(this))\n        : nativeSort.call(toObject(this), aFunction$1(comparefn));\n    }\n  });\n\n  function ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var actions$3 = {\n    updateWork: function updateWork(_ref) {\n      var commit = _ref.commit,\n          state = _ref.state;\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      // update work with strapi\n      var work = _objectSpread$4(_objectSpread$4({}, state.work), payload);\n\n      commit('setWork', work);\n    }\n  }; // mutations\n\n  var mutations$3 = {\n    setWorkCover: function setWorkCover(state, _ref2) {\n      var type = _ref2.type,\n          value = _ref2.value;\n\n      var _value = slicedToArray(value, 1),\n          cover = _value[0];\n\n      state.work.cover_image_url = cover.url;\n    },\n    setWorkTemplates: function setWorkTemplates(state, _ref3) {\n      var type = _ref3.type,\n          value = _ref3.value;\n      value.sort(function (a, b) {\n        return b.id - a.id;\n      });\n      state.workTemplates = value;\n    },\n    setWork: function setWork(state, work) {\n      window.__work = work;\n      work.pages = work.pages.map(function (page) {\n        page.elements = page.elements.map(function (element) {\n          return new CoreRender.Element(element);\n        });\n        return new Page(page);\n      });\n      state.work = new Work(work);\n    },\n    previewWork: function previewWork(state, _ref4) {\n      var type = _ref4.type,\n          value = _ref4.value;\n    },\n    deployWork: function deployWork(state, _ref5) {\n      var type = _ref5.type,\n          value = _ref5.value;\n    },\n    formDetailOfWork: function formDetailOfWork(state, _ref6) {\n      var type = _ref6.type,\n          value = _ref6.value;\n      state.formDetailOfWork = value;\n    }\n  };\n\n  function ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var state = {\n    works: [],\n    work: new Work(),\n    editingPage: {\n      elements: []\n    },\n    editingElement: null,\n    formDetailOfWork: {\n      uuidMap2Name: {},\n      formRecords: []\n    },\n    workTemplates: [],\n    scaleRate: 1\n  }; // getters\n\n  var getters = {}; // actions\n\n  var actions$4 = _objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({}, actions$2), actions$1), actions$3), actions); // mutations\n\n\n  var mutations$4 = _objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({}, mutations$2), mutations$1), mutations$3), mutations);\n\n  var editor = {\n    namespaced: true,\n    state: state,\n    getters: getters,\n    actions: actions$4,\n    mutations: mutations$4\n  };\n\n  var enUSLang = {\n    app: {\n      title: 'Luban H5'\n    },\n    header: {\n      chineseDocument: '',\n      englishDocument: 'Document(En)',\n      chat: 'Discussion Group',\n      //\n      logout: 'Logout'\n    },\n    sidebar: {\n      myWorks: 'My Works',\n      dataCenter: 'Data Center',\n      basicData: 'Basic Data',\n      templateCenter: 'Templates',\n      freeTemplates: 'Templates List',\n      accountCenter: 'Account'\n    },\n    workCard: {\n      description: 'Desc',\n      createTime: 'Time',\n      useNow: 'Use it Now',\n      preview: 'Preview',\n      edit: 'Edit',\n      createNewWork: 'Create New',\n      view: 'View Work'\n    },\n    basicData: {\n      viewData: 'View Data'\n    },\n    editor: {\n      sidebar: {\n        components: 'Components',\n        pages: 'Pages',\n        templates: 'Templates',\n        tree: 'Tree'\n      },\n      pageManager: {\n        title: 'Page {index}',\n        action: {\n          add: 'Add Page',\n          copy: 'Copy Page',\n          delete: 'Delete Page'\n        }\n      },\n      header: {\n        preview: 'Preview',\n        save: 'Save',\n        publish: 'Publish',\n        setAsTemplate: 'Set As Template'\n      },\n      centerPanel: {\n        mode: {\n          edit: 'Edit',\n          preview: 'Preview'\n        },\n        contextMenu: {\n          copy: 'Copy',\n          delete: 'Delete',\n          moveToTop: 'Move To Top',\n          moveToBottom: 'Move To Bottom',\n          moveUp: 'Move Up',\n          moveDown: 'Move Down',\n          showOnlyButton: 'showOnlyButton',\n          showExcludePicture: 'showExcludePicture'\n        }\n      },\n      fixedTool: {\n        undo: 'Undo{hotkey}',\n        redo: 'Redo{hotkey}',\n        preview: 'Preview',\n        copyCurrentPage: 'CopyCurrentPage',\n        copyCurrentElement: 'copyCurrentElement',\n        importPSD: 'Import PSD',\n        zoomIn: 'Zoom In{hotkey}',\n        zoomOut: 'Zoom Out{hotkey}',\n        issues: 'Issues'\n      },\n      editPanel: {\n        tab: {\n          prop: 'Prop',\n          animation: 'Animation',\n          action: 'Action',\n          script: 'Script',\n          page: 'Page'\n        },\n        animation: {\n          add: 'Add',\n          run: 'Run',\n          type: 'Type',\n          duration: 'Duration',\n          delay: 'Delay',\n          iteration: 'Iteration',\n          inifinite: 'Inifinite',\n          list: 'Select Animation',\n          title: 'Animation {index}'\n        },\n        common: {\n          empty: 'Select an element first please!'\n        }\n      },\n      tip: {\n        componentUsage: 'Tip: just {0} on component',\n        click: 'click/drag'\n      }\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2019-11-24 18:51:58\r\n   * @LastEditors: ly525\r\n   * @LastEditTime: 2020-10-13 01:29:21\r\n   * @FilePath: /h5/src/locales/lang/zh-CN.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   */\n  var zhCNLang = {\n    app: {\n      title: ' H5'\n    },\n    header: {\n      chineseDocument: '',\n      englishDocument: '',\n      chat: '',\n      //  Discussion Group\n      logout: ''\n    },\n    sidebar: {\n      myWorks: '',\n      dataCenter: '',\n      basicData: '',\n      templateCenter: '',\n      freeTemplates: '',\n      accountCenter: ''\n    },\n    workCard: {\n      description: '',\n      createTime: '',\n      useNow: '',\n      preview: '',\n      createNewWork: '',\n      edit: '',\n      view: ''\n    },\n    basicData: {\n      viewData: ''\n    },\n    editor: {\n      sidebar: {\n        components: '',\n        pages: '',\n        templates: '',\n        tree: ''\n      },\n      pageManager: {\n        title: '{index}',\n        action: {\n          add: '',\n          copy: '',\n          delete: ''\n        }\n      },\n      header: {\n        preview: '',\n        save: '',\n        publish: '',\n        setAsTemplate: ''\n      },\n      centerPanel: {\n        mode: {\n          edit: 'Edit',\n          preview: 'Preview'\n        },\n        contextMenu: {\n          copy: '',\n          delete: '',\n          moveToTop: '',\n          moveToBottom: '',\n          moveUp: '',\n          moveDown: '',\n          showOnlyButton: '',\n          showExcludePicture: ''\n        }\n      },\n      fixedTool: {\n        undo: '{hotkey}',\n        redo: '{hotkey}',\n        preview: '',\n        copyCurrentPage: '',\n        copyCurrentElement: '',\n        importPSD: 'PSD',\n        zoomIn: '{hotkey}',\n        zoomOut: '{hotkey}',\n        issues: ''\n      },\n      editPanel: {\n        tab: {\n          prop: '',\n          animation: '',\n          action: '',\n          script: '',\n          page: ''\n        },\n        animation: {\n          add: '',\n          run: '',\n          type: '',\n          duration: '',\n          delay: '',\n          iteration: '',\n          inifinite: '',\n          list: '',\n          title: 'Animation {index}'\n        },\n        common: {\n          empty: 'Select an element first please!'\n        }\n      },\n      tip: {\n        componentUsage: ': {0} ',\n        click: ''\n      }\n    }\n  };\n\n  function ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  Vue__default['default'].use(VueI18n__default['default']);\n  var messages = {\n    'en-US': _objectSpread$6({}, enUSLang),\n    'zh-CN': _objectSpread$6({}, zhCNLang)\n  };\n  var defaultLang = 'zh-CN';\n  var i18n = new VueI18n__default['default']({\n    locale: defaultLang,\n    fallbackLocale: defaultLang,\n    messages: messages\n  });\n  var loadedLanguages = [defaultLang];\n\n  function setI18nLanguage(lang) {\n    i18n.locale = lang;\n    document.querySelector('html').setAttribute('lang', lang);\n    return lang;\n  }\n\n  function loadLanguageAsync() {\n    var lang = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultLang;\n    return new Promise(function (resolve) {\n      if (i18n.locale !== lang) {\n        if (!loadedLanguages.includes(lang)) {\n          i18n.setLocaleMessage(messages[lang], msg.default);\n          loadedLanguages.push(lang);\n          return setI18nLanguage(lang);\n        }\n\n        return resolve(setI18nLanguage(lang));\n      }\n\n      return resolve(lang);\n    });\n  }\n\n  var i18n$1 = {\n    namespaced: true,\n    state: {\n      lang: 'zh-CN'\n    },\n    mutations: {\n      SET_LANG: function SET_LANG(state, lang) {\n        state.lang = lang;\n      }\n    },\n    actions: {\n      // \n      SetLang: function SetLang(_ref, lang) {\n        var commit = _ref.commit;\n        return new Promise(function (resolve) {\n          commit('SET_LANG', lang);\n          loadLanguageAsync(lang);\n          resolve();\n        });\n      }\n    }\n  };\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-10-11 10:13:51\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-10-29 10:03:39\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/store/index.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Description: Do not edit\r\n   * @Copyright 2018 - 2019 luban-h5. All Rights Reserved\r\n   */\n  Vue__default['default'].use(Vuex__default['default']);\n  var store$2 = new Vuex__default['default'].Store({\n    state: {},\n    mutations: {},\n    actions: {},\n    modules: {\n      editor: editor,\n      i18n: i18n$1\n    },\n    plugins: [undoRedoPlugin]\n  });\n\n  var fixedTools = [{\n    i18nTooltip: 'editor.fixedTool.undo',\n    icon: 'mail-reply',\n    action: function action() {\n      return undoRedoHistory.undo();\n    },\n    hotkey: 'ctrl&z,&z',\n    hotkeyTooltip: '(ctrl+z)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.redo',\n    icon: 'mail-forward',\n    action: function action() {\n      return undoRedoHistory.redo();\n    },\n    hotkey: 'ctrl&y,&u',\n    hotkeyTooltip: '(ctrl+y)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.preview',\n    icon: 'eye',\n    action: function action() {\n      this.previewDialogVisible = true;\n    }\n  }, {\n    i18nTooltip: 'editor.fixedTool.copyCurrentPage',\n    icon: 'copy',\n    action: function action() {\n      this.pageManager({\n        type: 'copy'\n      });\n    },\n    hotkey: 'ctrl&c,&c'\n  }, {\n    i18nTooltip: 'editor.fixedTool.copyCurrentElement',\n    icon: 'copy',\n    action: function action() {\n      this.elementManager({\n        type: 'copy'\n      });\n    }\n  }, {\n    i18nTooltip: 'editor.fixedTool.importPSD',\n    text: 'Ps',\n    icon: '',\n    // : icon > text > i18nTooltip\n    action: '',\n    disabled: true\n  }, {\n    i18nTooltip: 'editor.fixedTool.zoomOut',\n    icon: 'plus',\n    action: function action() {\n      this.updateScaleRate(0.25);\n    },\n    hotkey: 'ctrl&=,&=',\n    hotkeyTooltip: '(ctrl +)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.zoomIn',\n    icon: 'minus',\n    action: function action() {\n      this.updateScaleRate(-0.25);\n    },\n    hotkey: 'ctrl&-,&-',\n    hotkeyTooltip: '(ctrl -)'\n  }, {\n    i18nTooltip: 'editor.fixedTool.issues',\n    icon: 'question',\n    action: function action() {\n      window.open('https://github.com/ly525/luban-h5/issues/110');\n    }\n  }];\n\n  var _components;\n\n  function ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$8(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var FixedTools = {\n    components: (_components = {}, defineProperty$2(_components, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$2(_components, antDesignVue.Button.Group.name, antDesignVue.Button.Group), defineProperty$2(_components, antDesignVue.Tooltip.name, antDesignVue.Tooltip), defineProperty$2(_components, antDesignVue.Button.name, antDesignVue.Button), _components),\n    computed: _objectSpread$7({}, Vuex.mapState('editor', {\n      scaleRate: function scaleRate(state) {\n        return state.scaleRate;\n      }\n    })),\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": \"40\",\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          background: '#fff',\n          border: '1px solid #eee'\n        }\n      }, [h(\"a-button-group\", {\n        \"style\": {\n          display: 'flex',\n          flexDirection: 'column'\n        }\n      }, [fixedTools.map(function (tool) {\n        return h(\"a-tooltip\", {\n          \"attrs\": {\n            \"effect\": \"dark\",\n            \"placement\": \"left\",\n            \"title\": _this.$t(tool.i18nTooltip, {\n              hotkey: tool.hotkeyTooltip\n            })\n          }\n        }, [h(\"a-button\", {\n          \"attrs\": {\n            \"block\": true,\n            \"type\": \"link\",\n            \"size\": \"small\",\n            \"disabled\": !!tool.disabled\n          },\n          \"class\": \"transparent-bg\",\n          \"style\": {\n            height: '40px',\n            color: '#000'\n          },\n          \"on\": {\n            \"click\": function click() {\n              return tool.action && tool.action.call(_this);\n            }\n          }\n        }, [tool.icon ? h(\"i\", {\n          \"class\": ['shortcut-icon', 'fa', \"fa-\".concat(tool.icon)],\n          \"attrs\": {\n            \"aria-hidden\": \"true\"\n          }\n        }) : tool.text || _this.$t(tool.i18nTooltip)]), tool.icon === 'minus' && h(\"div\", {\n          \"style\": {\n            fontSize: '12px',\n            textAlign: 'center'\n          }\n        }, [_this.scaleRate * 100, \"%\"])]);\n      })])]);\n    },\n    mounted: function mounted() {\n      var _this2 = this;\n\n      fixedTools.map(function (tool) {\n        tool.hotkey && hotkeys__default['default'](tool.hotkey, {\n          splitKey: '&'\n        }, function (event, handler) {\n          event.preventDefault();\n          event.stopPropagation();\n          tool.action && tool.action.call(_this2);\n        });\n      });\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-17 11:44:55\r\n   * @Description :\r\n   */\n  var colorsPanel = {\n    name: 'colors-panel',\n    props: {\n      value: {\n        type: [Array, String]\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [Array.isArray(this.value) ? this.value.map(function (v, index) {\n        return h(\"input\", {\n          \"attrs\": {\n            \"size\": \"small\",\n            \"type\": \"color\",\n            \"autocomplete\": true\n          },\n          \"domProps\": {\n            \"value\": v\n          },\n          \"on\": {\n            \"change\": function change(e) {\n              var colors = _this.value.slice(0);\n\n              colors[index] = e.target.value;\n\n              _this.$emit('change', colors);\n            }\n          }\n        });\n      }) : h(\"input\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"type\": \"color\",\n          \"autocomplete\": true\n        },\n        \"domProps\": {\n          \"value\": this.value\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.$emit('change', e.target.value);\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$1;\n  var lbsTextAlign = {\n    name: 'lbs-text-align',\n    components: (_components$1 = {}, defineProperty$2(_components$1, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$2(_components$1, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), defineProperty$2(_components$1, antDesignVue.Tooltip.name, antDesignVue.Tooltip), _components$1),\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"div\", {\n        \"class\": \"wrap\"\n      }, [h(\"a-radio-group\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"value\": this.value\n        },\n        \"on\": {\n          \"change\": function change(value) {\n            _this.$emit('change', value);\n\n            _this.$emit('input', value);\n          }\n        }\n      }, [this.textAlignTabs.map(function (item) {\n        return h(\"a-tooltip\", {\n          \"attrs\": {\n            \"effect\": \"dark\",\n            \"placement\": \"top\",\n            \"title\": item.label\n          },\n          \"key\": item.value\n        }, [h(\"a-radio-button\", {\n          \"attrs\": {\n            \"value\": item.value\n          }\n        }, [h(\"i\", {\n          \"class\": ['fa', 'fa-align-' + item.value],\n          \"attrs\": {\n            \"aria-hidden\": \"true\"\n          }\n        })])]);\n      })])]);\n    },\n    props: {\n      value: {\n        type: [String, Number]\n      }\n    },\n    data: function data() {\n      return {\n        textAlignTabs: [{\n          label: '',\n          value: 'left'\n        }, {\n          label: '',\n          value: 'center'\n        }, {\n          label: '',\n          value: 'right'\n        }]\n      };\n    }\n  };\n\n  var validFileMimeTypes = ['text/csv', 'text/x-csv', 'application/vnd.ms-excel', 'text/plain'];\n  var CsvImport = {\n    name: 'lbs-csv-import',\n    methods: {\n      checkMimeType: function checkMimeType(type) {\n        return validFileMimeTypes.indexOf(type) > -1;\n      },\n      validFileMimeType: function validFileMimeType(e) {\n        e.preventDefault();\n        var file = this.$refs.csv.files[0];\n        var isValidFileMimeType = this.checkMimeType(file.type);\n        if (isValidFileMimeType) this.loadFile();\n      },\n      loadFile: function loadFile() {\n        var _this = this;\n\n        /**\r\n         * output {String}\r\n            \"columnA,columnB,columnC\r\n            \"Susan\",41,a\r\n            \"Mike\",5,b\r\n            \"Jake\",33,c\r\n            \"Jill\",30,d\r\n            \"\r\n          * csv {Object}\r\n          {\r\n            \"data\": [\r\n              [\"columnA\", \"columnB\", \"columnC\"],\r\n              [\"Susan\", \"41\", \"a\"],\r\n              [\"Mike\", \"5\", \"b\"],\r\n              [\"Jake\", \"33\", \"c\"],\r\n              [\"Jill\", \"30\", \"d\"],\r\n            ],\r\n            \"errors\": [],\r\n            \"meta\": {\r\n              \"delimiter\": \",\",\r\n              \"linebreak\": \"\\n\",\r\n              \"aborted\": false,\r\n              \"truncated\": false,\r\n              \"cursor\": 72\r\n            }\r\n          }\r\n         */\n        this.readFile(function (output) {\n          // const sample = Papa.parse(output, { preview: 2, skipEmptyLines: true })\n          var csv = Papa__default['default'].parse(output, {\n            skipEmptyLines: true\n          });\n\n          _this.$emit('parse', csv);\n\n          _this.$refs.input.value = '';\n        });\n      },\n      readFile: function readFile(callback) {\n        var file = this.$refs.csv.files[0];\n\n        if (file) {\n          var reader = new FileReader();\n          reader.readAsText(file, 'UTF-8');\n\n          reader.onload = function (evt) {\n            callback(evt.target.result);\n          };\n\n          reader.onerror = function () {};\n        }\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var randomId = +new Date();\n      return h(\"div\", {\n        \"style\": \"height: 24px;\"\n      }, [h(\"label\", {\n        \"attrs\": {\n          \"for\": randomId\n        },\n        \"class\": \"ant-btn ant-btn-primary ant-btn-sm\"\n      }, [\"\\u9009\\u62E9\\u5BFC\\u5165 csv \\u6587\\u4EF6\"]), h(\"input\", {\n        \"ref\": \"csv\",\n        \"attrs\": {\n          \"id\": randomId,\n          \"type\": \"file\",\n          \"name\": \"csv\"\n        },\n        \"on\": {\n          \"change\": this.validFileMimeType\n        },\n        \"style\": \"visibility:hidden;\"\n      }, [\"xxxx\"])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-10 19:42:27\r\n   * @Description :\r\n   */\n  var lbsExcelEditor = {\n    name: 'lbs-excel-editor',\n    props: {\n      value: {\n        type: Array\n      },\n      formatter: {\n        type: Function\n      }\n    },\n    computed: {\n      innerItems: {\n        get: function get() {\n          return Parser.binaryMatrix2excel(this.value);\n        },\n        set: function set(val) {\n          this.$emit('input', val);\n        }\n      }\n    },\n    watch: {\n      value: function value() {\n        this.refreshSheet({\n          rows: this.innerItems\n        });\n      }\n    },\n    methods: {\n      parseCSV: function parseCSV(csv) {\n        var sheetData = Parser.binaryMatrix2excel(csv.data);\n        this.$emit('change', csv.data);\n        this.refreshSheet({\n          rows: sheetData\n        });\n      },\n\n      /**\r\n       *\r\n       * @param {Object} data { rows }\r\n       */\n      refreshSheet: function refreshSheet(data) {\n        this.sheet.loadData(data);\n        this.sheet.reRender();\n      },\n      initSheet: function initSheet() {\n        var _this = this;\n\n        var ele = this.$refs.excel;\n        return this.sheet || new Spreadsheet__default['default'](ele, {\n          showToolbar: false,\n          showGrid: true,\n          showContextmenu: true // view: {\n          //   height: () => 400,\n          //   width: () => ele.getBoundingClientRect().width\n          // }\n\n        }).change(function (excelData) {\n          // console.log('----------')\n          // console.log(excelData)\n          // console.log(this.formatter(excelData))\n          // console.log('----------')\n          _this.$emit('change', _this.formatter(excelData)\n          /** BinaryMatrix */\n          ); // save data to db\n\n        });\n      }\n    },\n    // ()  data  props  render watcher \n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"style\": \"max-height: 320px;overflow:scroll;\"\n      }, [h(\"div\", {\n        \"style\": \"line-height:2;\"\n      }, [h(\"span\", [\"\\u65B9\\u68481: \", h(CsvImport, {\n        \"on\": {\n          \"parse\": this.parseCSV\n        }\n      })]), h(\"span\", [\"\\u65B9\\u68482: \\u76F4\\u63A5\\u7F16\\u8F91 Excel\"]), h(\"div\", {\n        \"ref\": \"excel\",\n        \"style\": \"margin-right: 12px;width: 100%;overflow: scroll\"\n      })])]);\n    },\n    mounted: function mounted() {\n      this.sheet = this.initSheet();\n      this.refreshSheet({\n        rows: this.innerItems\n      });\n    }\n  };\n\n  var _components$2;\n  var lbpSlideCustomEditor = {\n    components: (_components$2 = {}, defineProperty$2(_components$2, antDesignVue.Pagination.name, antDesignVue.Pagination), defineProperty$2(_components$2, antDesignVue.Button.name, antDesignVue.Pagination), _components$2),\n    props: {\n      elementProps: {\n        type: Object,\n        default: function _default() {\n          return {\n            items: [],\n            activeIndex: 0\n          };\n        }\n      }\n    },\n    computed: {\n      innerItems: function innerItems() {\n        return this.elementProps.items;\n      }\n    },\n    data: function data() {\n      return {\n        current: 1\n      };\n    },\n    methods: {\n      itemRender: function itemRender(current, type, originalElement) {\n        var _this = this;\n\n        var h = this.$createElement;\n\n        if (type === 'prev') {\n          return h(\"a-button\", {\n            \"style\": {\n              marginRight: '8px'\n            },\n            \"attrs\": {\n              \"size\": \"small\",\n              \"icon\": \"minus\",\n              \"disabled\": this.innerItems.length === 1\n            },\n            \"on\": {\n              \"click\": function click() {\n                return _this.minus(current);\n              }\n            }\n          });\n        } else if (type === 'next') {\n          return h(\"a-button\", {\n            \"style\": {\n              marginLeft: '8px'\n            },\n            \"attrs\": {\n              \"size\": \"small\",\n              \"icon\": \"plus\"\n            },\n            \"on\": {\n              \"click\": this.add\n            }\n          });\n        }\n\n        return originalElement;\n      },\n      add: function add() {\n        this.elementProps.items.push({\n          image: '',\n          value: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-value\"),\n          label: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-label\")\n        });\n      },\n      minus: function minus(index) {\n        if (this.innerItems.length === 1) return;\n        this.elementProps.items.splice(index, 1); // this.elementProps.activeIndex = index > 0 ? index - 1 : 0\n\n        this.elementProps.activeIndex = Math.max(index - 1, 0);\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      var currentItem = this.innerItems[this.current - 1] || {};\n      return h(\"div\", [h(\"a-pagination\", {\n        \"attrs\": {\n          \"current\": this.current,\n          \"size\": \"small\",\n          \"total\": this.innerItems.length,\n          \"defaultPageSize\": 1,\n          \"itemRender\": this.itemRender\n        },\n        \"on\": {\n          \"change\": function change(page) {\n            _this2.current = page;\n            _this2.elementProps.activeIndex = page - 1;\n          }\n        }\n      }), h(\"lbs-image-gallery\", {\n        \"style\": {\n          margin: '16px 0'\n        },\n        \"attrs\": {\n          \"value\": currentItem.image\n        },\n        \"on\": {\n          \"change\": function change(url) {\n            currentItem.image = url;\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$3;\n\n  function ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$9(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var RenderPropsEditor = {\n    components: (_components$3 = {}, defineProperty$2(_components$3, antDesignVue.Form.name, antDesignVue.Form), defineProperty$2(_components$3, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$2(_components$3, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$2(_components$3, antDesignVue.Button.name, antDesignVue.Button), defineProperty$2(_components$3, antDesignVue.Radio.name, antDesignVue.Radio), defineProperty$2(_components$3, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$2(_components$3, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), defineProperty$2(_components$3, antDesignVue.Input.name, antDesignVue.Input), defineProperty$2(_components$3, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$2(_components$3, antDesignVue.Switch.name, antDesignVue.Switch), defineProperty$2(_components$3, antDesignVue.InputNumber.name, antDesignVue.InputNumber), defineProperty$2(_components$3, antDesignVue.Select.name, antDesignVue.Select), defineProperty$2(_components$3, \"colorsPanel\", colorsPanel), defineProperty$2(_components$3, \"lbsTextAlign\", lbsTextAlign), defineProperty$2(_components$3, \"lbsExcelEditor\", lbsExcelEditor), defineProperty$2(_components$3, \"lbpSlideCustomEditor\", lbpSlideCustomEditor), _components$3),\n    data: function data() {\n      return {\n        loadCustomEditorFlag: false\n      };\n    },\n    props: {\n      layout: {\n        type: String,\n        default: 'horizontal'\n      },\n      config: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      },\n      value: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      }\n    },\n    watch: {\n      config: function config() {\n        var _this = this;\n\n        // config render\n        setTimeout(function () {\n          _this.form.setFieldsValue(_this.value);\n        });\n      }\n    },\n    created: function created() {\n      var _this2 = this;\n\n      this.form = this.$form.createForm(this, {\n        onFieldsChange: function onFieldsChange() {\n          _this2.$emit('change', _this2.form.getFieldsValue());\n        }\n      });\n    },\n    computed: {\n      formItemLayout: function formItemLayout() {\n        this.layout === 'horizontal' ? {\n          labelCol: {\n            span: 6\n          },\n          wrapperCol: {\n            span: 16,\n            offset: 2\n          }\n        } : {};\n      }\n    },\n    methods: {\n      renderPropFormItem: function renderPropFormItem(propName, propConfig) {\n        var h = this.$createElement;\n        var editor = propConfig.editor;\n        if (!editor) return;\n        var formItemData = {\n          props: _objectSpread$8(_objectSpread$8(_objectSpread$8({}, this.formItemLayout), editor.layout), {}, {\n            label: editor.label\n          })\n        };\n        return h(\"a-form-item\", helper$5([{}, formItemData]), [h(editor.type, helper$5([{\n          \"directives\": [{\n            name: \"decorator\",\n            value: [propName]\n          }]\n        }, {\n          \"props\": editor.props\n        }]))]);\n      }\n    },\n    render: function render() {\n      var _this3 = this;\n\n      var h = arguments[0];\n      var configEntries = Object.entries(this.config);\n      return h(\"a-form\", {\n        \"attrs\": {\n          \"form\": this.form,\n          \"size\": \"mini\",\n          \"layout\": this.layout,\n          \"initialValue\": this.value\n        },\n        \"class\": \"props-config-form\"\n      }, [configEntries.map(function (_ref) {\n        var _ref2 = slicedToArray(_ref, 2),\n            propName = _ref2[0],\n            propConfig = _ref2[1];\n\n        return _this3.renderPropFormItem(propName, propConfig);\n      })]);\n    }\n  };\n\n  var _components$4;\n  var RenderScriptEditor = {\n    components: (_components$4 = {}, defineProperty$2(_components$4, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$2(_components$4, antDesignVue.Button.name, antDesignVue.Button), _components$4),\n    data: function data() {\n      return {\n        editorContent: \"return {\\n      editorMethods: {              // \\u6B64\\u9879\\u914D\\u7F6E\\u81EA\\u5B9A\\u4E49\\u65B9\\u6CD5\\u7684\\u5728\\u7EC4\\u4EF6\\u914D\\u7F6E\\u9762\\u677F\\u5982\\u4F55\\u5C55\\u793A\\n        projectJump1: {             // \\u65B9\\u6CD5\\u540D\\uFF0C\\u5BF9\\u5E94\\u4E8E methods \\u5185\\u7684\\u67D0\\u65B9\\u6CD5\\n          label: '\\u5916\\u90E8\\u8DF3\\u8F6C1',        // \\u81EA\\u5B9A\\u4E49\\u65B9\\u6CD5\\u663E\\u793A\\u540D\\n          params: [                 // \\u53C2\\u6570\\u5217\\u8868\\uFF0C\\u5BF9\\u8C61\\u6570\\u7EC4\\n            {\\n              label: '\\u8DF3\\u8F6C\\u5730\\u5740',     // \\u53C2\\u65701\\u7684\\u540D\\u79F0\\n              desc: '\\u9879\\u76EE\\u76F8\\u5BF9\\u5730\\u5740',   // \\u53C2\\u65701\\u7684\\u63CF\\u8FF0\\n              type: 'string',       // \\u53C2\\u65701\\u7684\\u7C7B\\u578B\\uFF0C\\u652F\\u6301string|number|boolean|array|object\\n              default: ''           // \\u53C2\\u65701\\u9ED8\\u8BA4\\u503C\\n            },\\n            {\\n              label: '\\u53C2\\u6570',\\n              desc: 'query\\u5F62\\u5F0F\\u53C2\\u6570',\\n              type: 'object',\\n              default: {}\\n            }\\n          ]\\n        }\\n      },\\n      methods:{\\n        projectJump1:function(url, query){\\n          console.log(url, query)\\n          let win = window.open(url, '_blank')\\n          win.focus()\\n        }\\n      }\\n    }\"\n      };\n    },\n    render: function render(h) {\n      return h(\"span\", [this.$t('editor.editPanel.common.empty')]);\n    }\n  };\n\n  // @@match logic\n  fixRegexpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n    return [\n      // `String.prototype.match` method\n      // https://tc39.github.io/ecma262/#sec-string.prototype.match\n      function match(regexp) {\n        var O = requireObjectCoercible(this);\n        var matcher = regexp == undefined ? undefined : regexp[MATCH];\n        return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n      },\n      // `RegExp.prototype[@@match]` method\n      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n      function (regexp) {\n        var res = maybeCallNative(nativeMatch, regexp, this);\n        if (res.done) return res.value;\n\n        var rx = anObject(regexp);\n        var S = String(this);\n\n        if (!rx.global) return regexpExecAbstract(rx, S);\n\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n        var A = [];\n        var n = 0;\n        var result;\n        while ((result = regexpExecAbstract(rx, S)) !== null) {\n          var matchStr = String(result[0]);\n          A[n] = matchStr;\n          if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n          n++;\n        }\n        return n === 0 ? null : A;\n      }\n    ];\n  });\n\n  // #!zh: \n  var firstLevelAnimationOptions = [{\n    label: '',\n    value: //\n  }, {\n    label: '',\n    value: //\n  }, {\n    label: '',\n    value: /|/\n  }];\n  var animationOptions = [{\n    label: '',\n    value: '',\n    children: [{\n      label: '',\n      value: ''\n    }]\n  }, {\n    label: '',\n    value: 'Attention Seekers',\n    children: [{\n      label: '',\n      value: 'justRotate'\n    }, {\n      label: '',\n      value: 'bounce'\n    }, {\n      label: '',\n      value: 'flash'\n    }, {\n      label: '',\n      value: 'pulse'\n    }, {\n      label: '',\n      value: 'shake'\n    }, {\n      label: '',\n      value: 'swing'\n    }, {\n      label: '',\n      value: 'rubberBand'\n    }, {\n      label: '',\n      value: 'jello'\n    }, {\n      label: '',\n      value: 'tada'\n    }, {\n      label: '',\n      value: 'wobble'\n    }]\n  }, {\n    label: '',\n    value: 'Bouncing Entrances',\n    children: [{\n      label: '',\n      value: 'bounceIn'\n    }, {\n      label: '',\n      value: 'bounceInDown'\n    }, {\n      label: '',\n      value: 'bounceInLeft'\n    }, {\n      label: '',\n      value: 'bounceInRight'\n    }, {\n      label: '',\n      value: 'bounceInUp'\n    }]\n  }, {\n    label: '',\n    value: 'Bouncing Exits',\n    children: [{\n      label: '',\n      value: 'bounceOut'\n    }, {\n      label: '',\n      value: 'bounceOutDown'\n    }, {\n      label: '',\n      value: 'bounceOutLeft'\n    }, {\n      label: '',\n      value: 'bounceOutRight'\n    }, {\n      label: '',\n      value: 'bounceOutUp'\n    }]\n  }, {\n    label: '',\n    value: 'Fading Entrances',\n    children: [{\n      label: '',\n      value: 'fadeIn'\n    }, {\n      label: '',\n      value: 'fadeInDown'\n    }, {\n      label: '',\n      value: 'fadeInDownBig'\n    }, {\n      label: '',\n      value: 'fadeInLeft'\n    }, {\n      label: '',\n      value: 'fadeInLeftBig'\n    }, {\n      label: '',\n      value: 'fadeInRight'\n    }, {\n      label: '',\n      value: 'fadeInRightBig'\n    }, {\n      label: '',\n      value: 'fadeInUp'\n    }, {\n      label: '',\n      value: 'fadeInUpBig'\n    }]\n  }, {\n    label: '',\n    value: 'Fading Exits',\n    children: [{\n      label: '',\n      value: 'fadeOut'\n    }, {\n      label: '',\n      value: 'fadeOutDown'\n    }, {\n      label: '',\n      value: 'fadeOutDownBig'\n    }, {\n      label: '',\n      value: 'fadeOutLeft'\n    }, {\n      label: '',\n      value: 'fadeOutLeftBig'\n    }, {\n      label: '',\n      value: 'fadeOutRight'\n    }, {\n      label: '',\n      value: 'fadeOutRightBig'\n    }, {\n      label: '',\n      value: 'fadeOutUp'\n    }, {\n      label: '',\n      value: 'fadeOutUpBig'\n    }]\n  }, {\n    label: '',\n    value: 'Flippers',\n    children: [{\n      label: '',\n      value: 'flip'\n    }, {\n      label: '',\n      value: 'flipInX'\n    }, {\n      label: '',\n      value: 'flipInY'\n    }, {\n      label: '',\n      value: 'flipOutX'\n    }, {\n      label: '',\n      value: 'flipOutY'\n    }]\n  }, {\n    label: '',\n    value: 'Lightspeed',\n    children: [{\n      label: '',\n      value: 'lightSpeedIn'\n    }, {\n      label: '',\n      value: 'lightSpeedOut'\n    }]\n  }, {\n    label: '',\n    value: 'Rotating Entrances',\n    children: [{\n      label: '',\n      value: 'rotateIn'\n    }, {\n      label: '',\n      value: 'rotateInDownLeft'\n    }, {\n      label: '',\n      value: 'rotateInDownRight'\n    }, {\n      label: '',\n      value: 'rotateInUpLeft'\n    }, {\n      label: '',\n      value: 'rotateInUpRight'\n    }]\n  }, {\n    label: '',\n    value: 'Rotating Exits',\n    children: [{\n      label: '',\n      value: 'rotateOut'\n    }, {\n      label: '',\n      value: 'rotateOutDownLeft'\n    }, {\n      label: '',\n      value: 'rotateOutDownRight'\n    }, {\n      label: '',\n      value: 'rotateOutUpLeft'\n    }, {\n      label: '',\n      value: 'rotateOutUpRight'\n    }]\n  }, {\n    label: '',\n    value: 'Sliding Entrances',\n    children: [{\n      label: '',\n      value: 'slideInUp'\n    }, {\n      label: '',\n      value: 'slideInDown'\n    }, {\n      label: '',\n      value: 'slideInLeft'\n    }, {\n      label: '',\n      value: 'slideInRight'\n    }]\n  }, {\n    label: '',\n    value: 'Sliding Exits',\n    children: [{\n      label: '',\n      value: 'slideOutUp'\n    }, {\n      label: '',\n      value: 'slideOutDown'\n    }, {\n      label: '',\n      value: 'slideOutLeft'\n    }, {\n      label: '',\n      value: 'slideOutRight'\n    }]\n  }, {\n    label: '',\n    value: 'Zoom Entrances',\n    children: [{\n      label: '',\n      value: 'zoomIn'\n    }, {\n      label: '',\n      value: 'zoomInDown'\n    }, {\n      label: '',\n      value: 'zoomInLeft'\n    }, {\n      label: '',\n      value: 'zoomInRight'\n    }, {\n      label: '',\n      value: 'zoomInUp'\n    }]\n  }, {\n    label: '',\n    value: 'Zoom Exits',\n    children: [{\n      label: '',\n      value: 'zoomOut'\n    }, {\n      label: '',\n      value: 'zoomOutDown'\n    }, {\n      label: '',\n      value: 'zoomOutLeft'\n    }, {\n      label: '',\n      value: 'zoomOutRight'\n    }, {\n      label: '',\n      value: 'zoomOutUp'\n    }]\n  }, {\n    label: '',\n    value: 'Specials',\n    children: [{\n      label: '',\n      value: 'hinge'\n    }, {\n      label: '',\n      value: 'rollIn'\n    }, {\n      label: '',\n      value: 'rollOut'\n    }]\n  }];\n  /**\r\n   * @return {Object} { animationValue: animatonLabel }\r\n   */\n\n  var animationValue2Name = animationOptions.reduce(function (obj, curr) {\n    var items = curr.children;\n    items.forEach(function (item) {\n      obj[item.value] = item.label;\n    });\n    return obj;\n  }, {});\n\n  var _components$5;\n  var RenderAnimationEditor = {\n    components: (_components$5 = {}, defineProperty$2(_components$5, antDesignVue.InputNumber.name, antDesignVue.InputNumber), defineProperty$2(_components$5, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$2(_components$5, antDesignVue.List.name, antDesignVue.List), defineProperty$2(_components$5, antDesignVue.List.Item.name, antDesignVue.List.Item), defineProperty$2(_components$5, antDesignVue.Form.name, antDesignVue.Form), defineProperty$2(_components$5, antDesignVue.Button.name, antDesignVue.Button), defineProperty$2(_components$5, antDesignVue.Popover.name, antDesignVue.Popover), defineProperty$2(_components$5, antDesignVue.Slider.name, antDesignVue.Slider), defineProperty$2(_components$5, antDesignVue.Switch.name, antDesignVue.Switch), defineProperty$2(_components$5, antDesignVue.Collapse.name, antDesignVue.Collapse), defineProperty$2(_components$5, antDesignVue.Collapse.Panel.name, antDesignVue.Collapse.Panel), defineProperty$2(_components$5, antDesignVue.Icon.name, antDesignVue.Icon), defineProperty$2(_components$5, antDesignVue.Drawer.name, antDesignVue.Drawer), defineProperty$2(_components$5, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), defineProperty$2(_components$5, antDesignVue.Button.Group.name, antDesignVue.Button.Group), defineProperty$2(_components$5, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$2(_components$5, antDesignVue.Tag.name, antDesignVue.Tag), _components$5),\n    props: {\n      value: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    computed: {\n      animationQueue: function animationQueue() {\n        return this.value || [];\n      }\n    },\n    data: function data() {\n      return {\n        activeCollapsePanel: 0,\n        activePreviewAnimation: '',\n        drawerVisible: false\n      };\n    },\n    methods: {\n      addAnimation: function addAnimation() {\n        this.animationQueue.push({\n          type: '',\n          duration: 1,\n          delay: 0,\n          interationCount: 1,\n          infinite: false\n        });\n        this.activeCollapsePanel = this.animationQueue.length - 1;\n        this.$emit('change', this.animationQueue);\n      },\n      deleteAnimate: function deleteAnimate(index) {\n        this.animationQueue.splice(index, 1);\n        this.$emit('change', this.animationQueue);\n      },\n      updateAnimation: function updateAnimation(type) {\n        var activeAnimationQueue = this.animationQueue[this.activeCollapsePanel];\n\n        if (activeAnimationQueue) {\n          activeAnimationQueue.type = type;\n        }\n\n        this.drawerVisible = false;\n        this.$emit('change', this.animationQueue);\n      },\n      runAnimate: function runAnimate() {\n        EventBus.$emit('RUN_ANIMATIONS');\n      },\n      renderSecondAnimationTabs: function renderSecondAnimationTabs(animations) {\n        var _this = this;\n\n        var h = this.$createElement;\n        return h(\"a-tabs\", {\n          \"attrs\": {\n            \"defaultActiveKey\": animations[0].value,\n            \"tabBarStyle\": {\n              marginLeft: '-16px'\n            },\n            \"size\": \"small\",\n            \"tabBarGutter\": 0,\n            \"tabPosition\": \"left\"\n          },\n          \"on\": {\n            \"change\": function change(tab) {}\n          },\n          \"style\": \"width:100%;\"\n        }, [animations.map(function (group) {\n          return h(\"a-tab-pane\", {\n            \"attrs\": {\n              \"tab\": group.label || group.value\n            },\n            \"key\": group.value\n          }, [h(\"a-list\", {\n            \"attrs\": {\n              \"grid\": {\n                gutter: 12,\n                column: 2\n              },\n              \"dataSource\": group.children,\n              \"renderItem\": function renderItem(item, index) {\n                return h(\"a-list-item\", {\n                  \"class\": \"shortcut-button-wrapper\"\n                }, [h(\"div\", {\n                  \"on\": {\n                    \"click\": function click() {\n                      return _this.updateAnimation(item.value);\n                    },\n                    \"mouseenter\": function mouseenter(e) {\n                      _this.activePreviewAnimation = item.value;\n                    },\n                    \"mouseleave\": function mouseleave() {}\n                  },\n                  \"class\": ['shortcut-button', _this.activePreviewAnimation === item.value && \"\".concat(item.value, \" animated\")]\n                }, [item.label])]);\n              }\n            }\n          })]);\n        })]);\n      },\n      renderAvaiableAnimations: function renderAvaiableAnimations() {\n        var _this2 = this;\n\n        var h = this.$createElement;\n        return h(\"a-tabs\", {\n          \"class\": \"avaiable-animations-tabs\",\n          \"attrs\": {\n            \"defaultActiveKey\": firstLevelAnimationOptions[0].label,\n            \"size\": \"small\",\n            \"tabBarGutter\": 0\n          },\n          \"on\": {\n            \"change\": function change(tab) {}\n          },\n          \"style\": \"width:100%;\"\n        }, [firstLevelAnimationOptions.map(function (firstGroup) {\n          return h(\"a-tab-pane\", {\n            \"attrs\": {\n              \"tab\": firstGroup.label\n            },\n            \"key\": firstGroup.label\n          }, [_this2.renderSecondAnimationTabs(animationOptions.filter(function (group) {\n            return !!group.label.match(firstGroup.value);\n          }))]);\n        })]);\n      },\n      renderAnimationOptions: function renderAnimationOptions(animationOption) {\n        var _this3 = this;\n\n        var h = this.$createElement;\n        return h(\"a-form\", {\n          \"attrs\": {\n            \"layout\": \"horizontal\"\n          }\n        }, [h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.type'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          }\n        }, [h(\"a-button\", {\n          \"attrs\": {\n            \"type\": \"link\",\n            \"size\": \"small\",\n            \"icon\": \"ordered-list\"\n          },\n          \"on\": {\n            \"click\": function click() {\n              _this3.drawerVisible = true;\n            }\n          }\n        }, [this.$t('editor.editPanel.animation.list')])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.duration'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)'\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.duration\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.duration = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)',\n            marginLeft: '4px'\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u79D2(s)\");\n            },\n            \"value\": animationOption.duration\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.duration = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.delay'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)'\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.delay\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.delay = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)',\n            marginLeft: '4px'\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u79D2(s)\");\n            },\n            \"value\": animationOption.delay\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.delay = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.iteration'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)'\n          }\n        }, [h(\"a-slider\", {\n          \"attrs\": {\n            \"defaultValue\": 2,\n            \"min\": 0,\n            \"max\": 20,\n            \"value\": animationOption.interationCount\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.interationCount = value;\n            }\n          }\n        })]), h(\"a-form-item\", {\n          \"style\": {\n            display: 'inline-block',\n            width: 'calc(50% - 12px)',\n            marginLeft: '4px'\n          }\n        }, [h(\"a-input-number\", {\n          \"attrs\": {\n            \"min\": 0,\n            \"max\": 20,\n            \"size\": \"small\",\n            \"formatter\": function formatter(value) {\n              return \"\".concat(value, \"\\u6B21(times)\");\n            },\n            \"value\": animationOption.interationCount\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.interationCount = value;\n            }\n          }\n        })])]), h(\"a-form-item\", {\n          \"attrs\": {\n            \"label\": this.$t('editor.editPanel.animation.inifinite'),\n            \"labelCol\": {\n              span: 5\n            },\n            \"wrapperCol\": {\n              span: 16,\n              offset: 2\n            }\n          },\n          \"style\": \"margin-bottom:0;\"\n        }, [h(\"a-switch\", {\n          \"attrs\": {\n            \"value\": animationOption.infinite\n          },\n          \"on\": {\n            \"change\": function change(value) {\n              animationOption.infinite = value;\n            }\n          }\n        })])]);\n      }\n    },\n    render: function render(h) {\n      var _this4 = this;\n\n      return h(\"div\", {\n        \"class\": \"main-animate widget\",\n        \"attrs\": {\n          \"id\": \"animation-right-panel\"\n        }\n      }, [h(\"a-button-group\", [h(\"a-button\", {\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"on\": {\n          \"click\": this.addAnimation\n        }\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      }), this.$t('editor.editPanel.animation.add')]), h(\"a-button\", {\n        \"attrs\": {\n          \"type\": \"primary\"\n        },\n        \"on\": {\n          \"click\": this.runAnimate\n        }\n      }, [this.$t('editor.editPanel.animation.run'), h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"right-circle\"\n        }\n      })])]), h(\"a-collapse\", {\n        \"attrs\": {\n          \"accordion\": true,\n          \"activeKey\": '' + this.activeCollapsePanel\n        },\n        \"class\": \"collapse-wrapper\",\n        \"on\": {\n          \"change\": function change(key) {\n            // key  undefined\n            _this4.activeCollapsePanel = typeof key !== 'undefined' ? +key : -1;\n          }\n        }\n      }, [this.animationQueue.map(function (addedAnimation, index) {\n        return h(\"a-collapse-panel\", {\n          \"key\": \"\".concat(index)\n        }, [h(\"template\", {\n          \"slot\": \"header\"\n        }, [h(\"span\", [_this4.$t('editor.editPanel.animation.title', {\n          index: index + 1\n        })]), h(\"a-tag\", {\n          \"attrs\": {\n            \"color\": \"orange\"\n          }\n        }, [animationValue2Name[addedAnimation.type] || addedAnimation.type]), h(\"a-icon\", {\n          \"attrs\": {\n            \"type\": \"delete\",\n            \"title\": \"\"\n          },\n          \"on\": {\n            \"click\": function click() {\n              return _this4.deleteAnimate(index);\n            }\n          }\n        })]), _this4.renderAnimationOptions(addedAnimation)]);\n      })]), h(\"a-drawer\", {\n        \"attrs\": {\n          \"title\": \"\",\n          \"placement\": \"left\",\n          \"closable\": true,\n          \"width\": \"100%\",\n          \"visible\": this.drawerVisible,\n          \"wrapStyle\": {\n            position: 'absolute'\n          },\n          \"getContainer\": false\n        },\n        \"on\": {\n          \"close\": function close() {\n            _this4.drawerVisible = false;\n          }\n        }\n      }, [h(\"div\", [this.renderAvaiableAnimations()])])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-02 16:12:09\r\n   * @LastEditTime : 2020-11-12 16:35:48\r\n   * @Description :\r\n   */\n  var RenderActionEditor = {\n    data: function data() {\n      return {};\n    },\n    render: function render() {\n      var h = arguments[0];\n      var ele = this.editingElement;\n      if (!ele) return h(\"span\", [this.$t('editor.editPanel.common.empty')]);\n      return h(\"div\", [\"TODO\"]);\n    }\n  };\n\n  var freezing = !fails(function () {\n    return Object.isExtensible(Object.preventExtensions({}));\n  });\n\n  var internalMetadata = createCommonjsModule(function (module) {\n  var defineProperty = objectDefineProperty.f;\n\n\n\n  var METADATA = uid('meta');\n  var id = 0;\n\n  var isExtensible = Object.isExtensible || function () {\n    return true;\n  };\n\n  var setMetadata = function (it) {\n    defineProperty(it, METADATA, { value: {\n      objectID: 'O' + ++id, // object ID\n      weakData: {}          // weak collections IDs\n    } });\n  };\n\n  var fastKey = function (it, create) {\n    // return a primitive with prefix\n    if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return 'F';\n      // not necessary to add metadata\n      if (!create) return 'E';\n      // add missing metadata\n      setMetadata(it);\n    // return object ID\n    } return it[METADATA].objectID;\n  };\n\n  var getWeakData = function (it, create) {\n    if (!has(it, METADATA)) {\n      // can't set metadata to uncaught frozen object\n      if (!isExtensible(it)) return true;\n      // not necessary to add metadata\n      if (!create) return false;\n      // add missing metadata\n      setMetadata(it);\n    // return the store of weak collections IDs\n    } return it[METADATA].weakData;\n  };\n\n  // add metadata on freeze-family methods calling\n  var onFreeze = function (it) {\n    if (freezing && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n    return it;\n  };\n\n  var meta = module.exports = {\n    REQUIRED: false,\n    fastKey: fastKey,\n    getWeakData: getWeakData,\n    onFreeze: onFreeze\n  };\n\n  hiddenKeys[METADATA] = true;\n  });\n\n  var onFreeze = internalMetadata.onFreeze;\n\n  var nativeFreeze = Object.freeze;\n  var FAILS_ON_PRIMITIVES$2 = fails(function () { nativeFreeze(1); });\n\n  // `Object.freeze` method\n  // https://tc39.github.io/ecma262/#sec-object.freeze\n  _export({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$2, sham: !freezing }, {\n    freeze: function freeze(it) {\n      return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n    }\n  });\n\n  var _components$6;\n  var RenderBackgroundEditor = {\n    components: (_components$6 = {}, defineProperty$2(_components$6, antDesignVue.Form.name, antDesignVue.Form), defineProperty$2(_components$6, antDesignVue.Form.Item.name, antDesignVue.Form.Item), defineProperty$2(_components$6, antDesignVue.Radio.Group.name, antDesignVue.Radio.Group), defineProperty$2(_components$6, antDesignVue.Radio.Button.name, antDesignVue.Radio.Button), _components$6),\n    data: function data() {\n      return {\n        formLayout: 'vertical',\n        PAGE_MODE: Object.freeze(PAGE_MODE),\n        PAGE_MODE_LABEL: Object.freeze(PAGE_MODE_LABEL)\n      };\n    },\n    computed: {\n      pageMode: {\n        get: function get() {\n          return this.work.page_mode || PAGE_MODE.SWIPPER_PAGE;\n        },\n        set: function set(pageMode) {\n          this.updateWork({\n            page_mode: pageMode\n          });\n        }\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"div\", [h(\"a-form\", {\n        \"attrs\": {\n          \"layout\": this.formLayout\n        }\n      }, [h(\"a-form-item\", {\n        \"attrs\": {\n          \"label\": \"H5\"\n        }\n      }, [h(\"a-radio-group\", {\n        \"attrs\": {\n          \"size\": \"small\"\n        },\n        \"model\": {\n          value: _this.pageMode,\n          callback: function callback($$v) {\n            _this.pageMode = $$v;\n          }\n        }\n      }, [PAGE_MODE.map(function (v, k) {\n        return h(\"a-radio-button\", {\n          \"key\": k,\n          \"attrs\": {\n            \"value\": v\n          }\n        }, [PAGE_MODE_LABEL[k]]);\n      })])])])]);\n    }\n  };\n\n  var _components$7;\n  var EditorRightPanel = {\n    name: 'ElementPropsEditor',\n    components: (_components$7 = {}, defineProperty$2(_components$7, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$2(_components$7, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$2(_components$7, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), _components$7),\n    props: {\n      width: {\n        type: Number,\n        default: 375\n      },\n      element: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      }\n    },\n    computed: {\n      editPropsConfig: function editPropsConfig() {\n        var element = this.element;\n\n        if (element && element.name) {\n          var _pluginsControl$getPl = lbpPluginController.getPlugin(element.name),\n              component = _pluginsControl$getPl.component;\n\n          return this.getPropsWithEditor(component.props);\n        } else {\n          return {};\n        }\n      },\n      editPropsValue: function editPropsValue() {\n        var element = this.element,\n            editPropsConfig = this.editPropsConfig;\n        var editPropsConfigKeys = Object.keys(editPropsConfig);\n        var props = element ? element.props : {};\n        var propsValue = {};\n        editPropsConfigKeys.forEach(function (key) {\n          propsValue[key] = props[key];\n        });\n        return propsValue;\n      },\n      editAnimationValue: function editAnimationValue() {\n        var element = this.element;\n        var animations = element ? element.animations : [];\n        return animations;\n      }\n    },\n    data: function data() {\n      return {\n        activeTabKey: ''\n      };\n    },\n    methods: {\n      setActiveTab: function setActiveTab(activeTabKey) {\n        this.activeTabKey = activeTabKey;\n      },\n      getPropsWithEditor: function getPropsWithEditor(props) {\n        var propsWithEditor = {};\n        Object.entries(props).forEach(function (_ref) {\n          var _ref2 = slicedToArray(_ref, 2),\n              key = _ref2[0],\n              value = _ref2[1];\n\n          if (value.editor) {\n            propsWithEditor[key] = value;\n          }\n        });\n        return propsWithEditor;\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": this.width,\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          padding: '0 12px'\n        }\n      }, [h(\"a-tabs\", {\n        \"style\": \"height: 100%;\",\n        \"attrs\": {\n          \"tabBarGutter\": 10,\n          \"defaultActiveKey\": this.activeTabKey,\n          \"activeKey\": this.activeTabKey\n        },\n        \"on\": {\n          \"change\": this.setActiveTab\n        }\n      }, [h(\"a-tab-pane\", {\n        \"key\": \"\"\n      }, [h(\"span\", {\n        \"slot\": \"tab\"\n      }, [this.$t('editor.editPanel.tab.prop')]), h(RenderPropsEditor, {\n        \"attrs\": {\n          \"config\": this.editPropsConfig,\n          \"value\": this.editPropsValue\n        },\n        \"on\": {\n          \"change\": this.$listeners.propsChange\n        }\n      })]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.animation')\n        },\n        \"key\": \"\"\n      }, [h(RenderAnimationEditor, {\n        \"attrs\": {\n          \"value\": this.editAnimationValue\n        },\n        \"on\": {\n          \"change\": this.$listeners.animationsChange\n        }\n      })]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.action')\n        },\n        \"key\": \"\"\n      }, [this.activeTabKey === '' && h(RenderActionEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.script')\n        },\n        \"key\": \"\"\n      }, [h(RenderScriptEditor)]), h(\"a-tab-pane\", {\n        \"attrs\": {\n          \"label\": \"\",\n          \"tab\": this.$t('editor.editPanel.tab.page')\n        },\n        \"key\": \"\"\n      }, [this.activeTabKey === '' && h(RenderBackgroundEditor)])])]);\n    }\n  };\n\n  var ShortcutButton = {\n    functional: true,\n    props: {\n      faIcon: {\n        required: true,\n        type: String\n      },\n      title: {\n        required: true,\n        type: String\n      },\n      clickFn: {\n        required: false,\n        type: Function,\n        default: function _default() {}\n      },\n      mousedownFn: {\n        required: false,\n        type: Function,\n        default: function _default() {}\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      }\n    },\n    render: function render(h, _ref) {\n      var props = _ref.props,\n          listeners = _ref.listeners,\n          slots = _ref.slots;\n      return h(\"button\", {\n        \"class\": \"shortcut-button\",\n        \"on\": {\n          \"click\": props.clickFn,\n          \"mousedown\": props.mousedownFn\n        },\n        \"attrs\": {\n          \"disabled\": props.disabled\n        }\n      }, [h(\"i\", {\n        \"class\": ['shortcut-icon', 'fa', \"fa-\".concat(props.faIcon)],\n        \"attrs\": {\n          \"aria-hidden\": 'true'\n        }\n      }), h(\"span\", [props.title])]);\n    }\n  };\n\n  var UsageTip = {\n    components: defineProperty$2({}, antDesignVue.Icon.name, antDesignVue.Icon),\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"plugin-usage-tip \"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"info-circle\"\n        }\n      }), h(\"i18n\", {\n        \"attrs\": {\n          \"path\": \"editor.tip.componentUsage\",\n          \"tag\": \"span\"\n        },\n        \"class\": \"ml-1\"\n      }, [h(\"strong\", [this.$t('editor.tip.click')]), this.$t('editor.tip.click')])]);\n    }\n  };\n\n  var _components$8;\n\n  function ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$a(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var script$1 = {\n    components: (_components$8 = {}, defineProperty$2(_components$8, antDesignVue.Modal.name, antDesignVue.Modal), defineProperty$2(_components$8, antDesignVue.Input.TextArea.name, antDesignVue.Input.TextArea), defineProperty$2(_components$8, antDesignVue.Button.name, antDesignVue.Button), _components$8),\n    data: function data() {\n      return {\n        visible: false,\n        confirmLoading: false,\n        text: JSON.stringify([{\n          package: '@luban-h5/lbp-slide',\n          version: '0.0.7',\n          name: 'lbp-slide',\n          icon: 'photo',\n          i18nTitle: {\n            'en-US': 'Carousel',\n            'zh-CN': ''\n          },\n          title: '',\n          visible: true\n        }], null, 2)\n      };\n    },\n    methods: {\n      showModal: function showModal() {\n        this.visible = true;\n      },\n      handleOk: function handleOk(e) {\n        var createjs = window.createjs; // eslint-disable-next-line no-new-func\n\n        var npmPackages = new Function(\"return \".concat(this.text).replace('\\n', ''))();\n        npmPackages = npmPackages.map(function (pluginInfo) {\n          return _objectSpread$9(_objectSpread$9({}, pluginInfo), {}, {\n            // src: `https://cdn.jsdelivr.net/npm/${pluginInfo}/dist/${pluginInfo.name}.umd.js`\n            // src: `https://unpkg.com/${pluginInfo}/dist/${pluginName}.umd.js`\n            src: \"https://cdn.jsdelivr.net/npm/\".concat(pluginInfo.package, \"@\").concat(pluginInfo.version, \"/dist/\").concat(pluginInfo.name, \".umd.js\")\n          });\n        });\n        var queue = new createjs.LoadQueue();\n        queue.on('fileload', handleFileLoad, this);\n        queue.on('complete', handleComplete, this);\n        queue.loadManifest(npmPackages);\n\n        function handleComplete(e) {\n          //  this  queryon  bind this \n          this.visible = false;\n          this.confirmLoading = false;\n          this.$emit('loadComplete', npmPackages);\n        }\n\n        function handleFileLoad(event) {\n          var name = event.item.name;\n          Vue__default['default'].component(name, window[name]);\n        }\n      },\n      handleCancel: function handleCancel(e) {\n        this.visible = false;\n      }\n    }\n  };\n\n  /* script */\n  const __vue_script__$1 = script$1;\n\n  /* template */\n  var __vue_render__$1 = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\n      \"div\",\n      { staticStyle: { \"text-align\": \"center\" } },\n      [\n        _c(\n          \"a-button\",\n          {\n            staticStyle: { \"margin-top\": \"16px\" },\n            attrs: { type: \"primary\" },\n            on: { click: _vm.showModal }\n          },\n          [_vm._v(\" NPM \")]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"a-modal\",\n          {\n            attrs: {\n              title: \"NPM \",\n              visible: _vm.visible,\n              confirmLoading: _vm.confirmLoading\n            },\n            on: { ok: _vm.handleOk, cancel: _vm.handleCancel }\n          },\n          [\n            _c(\n              \"div\",\n              [\n                _c(\"a-textarea\", {\n                  attrs: { placeholder: \"Basic usage\", rows: 20 },\n                  model: {\n                    value: _vm.text,\n                    callback: function($$v) {\n                      _vm.text = $$v;\n                    },\n                    expression: \"text\"\n                  }\n                })\n              ],\n              1\n            )\n          ]\n        )\n      ],\n      1\n    )\n  };\n  var __vue_staticRenderFns__$1 = [];\n  __vue_render__$1._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__$1 = undefined;\n    /* scoped */\n    const __vue_scope_id__$1 = undefined;\n    /* module identifier */\n    const __vue_module_identifier__$1 = undefined;\n    /* functional template */\n    const __vue_is_functional_template__$1 = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__$1 = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },\n      __vue_inject_styles__$1,\n      __vue_script__$1,\n      __vue_scope_id__$1,\n      __vue_is_functional_template__$1,\n      __vue_module_identifier__$1,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  function ownKeys$b(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$b(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$b(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n  var langMixin = {\n    computed: _objectSpread$a({}, Vuex.mapState({\n      currentLang: function currentLang(state) {\n        return state.i18n.lang;\n      }\n    })),\n    methods: _objectSpread$a(_objectSpread$a({}, Vuex.mapActions('i18n', ['SetLang'])), {}, {\n      setLang: function setLang(lang) {\n        this.SetLang(lang);\n      }\n    })\n  };\n\n  function ownKeys$c(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread$b(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$c(Object(source), true).forEach(function (key) { defineProperty$2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$c(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  /*\r\n   * @Author: ly525\r\n   * @Date: 2020-05-17 17:21:04\r\n   * @LastEditors : Please set LastEditors\r\n   * @LastEditTime : 2020-11-11 17:03:29\r\n   * @FilePath: /luban-h5/front-end/h5/src/components/@/mixins/drag.js\r\n   * @Github: https://github.com/ly525/luban-h5\r\n   * @Copyright 2018 - 2020 luban-h5. All Rights Reserved\r\n   * @Description:\r\n   *  \r\n   *  https://github.com/hakubox/haku-form-design tab \r\n   */\n  var dragDom = null;\n  var dragConfig = {\n    isPreDrag: false,\n    // \n    isDrag: false,\n    // \n    origin: {\n      clientY: 0,\n      // \n      clientX: 0,\n      layerX: 0,\n      // .x .left \n      layerY: 0 // .y .top  \n\n    }\n  };\n\n  var Drag = /*#__PURE__*/function () {\n    function Drag(options) {\n      classCallCheck(this, Drag);\n\n      this.mousedown = options.mousedown;\n      this.mousemove = options.mousemove;\n      this.mouseup = options.mouseup;\n      this._mousedown = this._mousedown.bind(this);\n      this._mousemove = this._mousemove.bind(this);\n      this._mouseup = this._mouseup.bind(this);\n    }\n\n    createClass(Drag, [{\n      key: \"start\",\n      value: function start(e) {\n        this._mousedown(e);\n      }\n    }, {\n      key: \"_mousedown\",\n      value: function _mousedown(e) {\n        this.mousedown(e);\n        this.toggleListener('add');\n      }\n    }, {\n      key: \"_mousemove\",\n      value: function _mousemove(e) {\n        this.mousemove(e);\n      }\n    }, {\n      key: \"_mouseup\",\n      value: function _mouseup(e) {\n        this.mouseup(e);\n        this.toggleListener('remove');\n      }\n    }, {\n      key: \"toggleListener\",\n      value: function toggleListener(action) {\n        document[\"\".concat(action, \"EventListener\")]('mousemove', this._mousemove);\n        document[\"\".concat(action, \"EventListener\")]('mouseup', this._mouseup);\n      }\n    }]);\n\n    return Drag;\n  }();\n\n  var dragMixin = {\n    data: function data() {\n      return {};\n    },\n    methods: {\n      /**\r\n       *\r\n       * @param {*} element shortcutItem\r\n       * @param {*} e\r\n       */\n      handleDragStartFromMixin: function handleDragStartFromMixin(element, e) {\n        // https://developer.mozilla.org/zh-CN/docs/Web/API/event.button\n        // 0  .\n        if (e.button !== 0) return;\n\n        if (dragDom) {\n          document.body.removeChild(dragDom);\n          dragDom = null;\n        }\n\n        this.dragElement = element;\n        dragDom = e.target.cloneNode(true);\n        document.body.appendChild(dragDom);\n        new Drag({\n          mousedown: this.mousedown,\n          mousemove: this.mousemove,\n          mouseup: this.mouseup\n        }).start(e);\n      },\n\n      /**\r\n       *\r\n       * @param {*} e\r\n       */\n      mousedown: function mousedown(e) {\n        // .x  \n        var layerX = e.layerX,\n            layerY = e.layerY;\n        dragConfig.origin.layerX = layerX;\n        dragConfig.origin.layerY = layerY;\n        dragConfig.origin.clientX = e.clientX;\n        dragConfig.origin.clientY = e.clientY;\n        dragDom.style.position = 'absolute';\n        dragDom.style.left = e.clientX - layerX + 'px';\n        dragDom.style.top = e.clientY - layerY + 'px';\n        dragDom.classList.add('dragging-dom-ele', 'hidden');\n        dragConfig.isPreDrag = true;\n      },\n\n      /**  */\n      mousemove: function mousemove(e) {\n        dragDom.classList.remove('hidden');\n        var _dragConfig$origin = dragConfig.origin,\n            layerX = _dragConfig$origin.layerX,\n            layerY = _dragConfig$origin.layerY;\n        dragDom.style.left = e.clientX - layerX + 'px';\n        dragDom.style.top = e.clientY - layerY + 'px';\n      },\n      mouseup: function mouseup(e) {\n        var _dragConfig$origin2 = dragConfig.origin,\n            layerX = _dragConfig$origin2.layerX,\n            layerY = _dragConfig$origin2.layerY;\n        document.body.removeChild(dragDom);\n        dragDom = null;\n        var canMousedown = this.checkCanMousedown(e, {\n          minOffset: 10\n        });\n        if (!canMousedown) return;\n        var canvasWrapper = document.querySelector('.lb-canvas');\n        var position = canvasWrapper.getBoundingClientRect();\n        this.dragElement && this.clone(_objectSpread$b(_objectSpread$b({}, this.dragElement), {}, {\n          dragStyle: {\n            left: e.clientX - layerX - position.left,\n            top: e.clientY - layerY - position.top\n          }\n        }));\n      },\n      checkCanMousedown: function checkCanMousedown(e, _ref) {\n        var minOffsetX = _ref.minOffsetX,\n            minOffsetY = _ref.minOffsetY,\n            minOffset = _ref.minOffset;\n        var offsetX = e.clientX - dragConfig.origin.clientX;\n        var offsetY = e.clientY - dragConfig.origin.clientY;\n        return offsetX >= (minOffsetX || minOffset) || offsetY >= (minOffsetY || minOffset);\n      }\n    },\n    updated: function updated() {\n      console.log('updated');\n    }\n  };\n\n  var _components$9;\n  var RenderShortcutsPanel = {\n    name: 'shotcuts-panel',\n    components: (_components$9 = {}, defineProperty$2(_components$9, antDesignVue.Row.name, antDesignVue.Row), defineProperty$2(_components$9, antDesignVue.Col.name, antDesignVue.Col), _components$9),\n    mixins: [langMixin, dragMixin],\n    data: function data() {\n      return {\n        npmPackages: []\n      };\n    },\n    methods: {\n      clone: function clone(shortcutItem) {\n        this.$emit('add', shortcutItem);\n      }\n    },\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"a-row\", {\n        \"style\": \"padding-bottom: 24px\"\n      }, [h(UsageTip), [].concat(lbpPluginController.getPlugins(), this.npmPackages).filter(function (plugin) {\n        return plugin.visible;\n      }).map(function (plugin) {\n        return h(\"a-col\", {\n          \"attrs\": {\n            \"span\": 12\n          },\n          \"style\": {\n            marginTop: '10px'\n          }\n        }, [h(ShortcutButton, {\n          \"attrs\": {\n            \"clickFn\": _this.clone.bind(_this, plugin),\n            \"mousedownFn\": _this.handleDragStartFromMixin.bind(_this, plugin),\n            \"title\": plugin.i18nTitle[_this.currentLang] || plugin.title,\n            \"faIcon\": plugin.icon,\n            \"disabled\": plugin.disabled\n          }\n        })]);\n      }), h(__vue_component__$1, {\n        \"on\": {\n          \"loadComplete\": function loadComplete(npmPackages) {\n            _this.npmPackages = npmPackages;\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$a;\n  var PageTitleEditor = {\n    components: (_components$a = {}, defineProperty$2(_components$a, antDesignVue.Popconfirm.name, antDesignVue.Popconfirm), defineProperty$2(_components$a, antDesignVue.Input.name, antDesignVue.Input), defineProperty$2(_components$a, antDesignVue.Icon.name, antDesignVue.Icon), _components$a),\n    props: ['page', 'pageIndex'],\n    data: function data() {\n      return {\n        editingTitle: '' //  title Yes  page title\n\n      };\n    },\n    methods: {\n      getTitle: function getTitle() {\n        return this.page.title || this.$t('editor.pageManager.title', {\n          index: this.pageIndex\n        });\n      }\n    },\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      return h(\"a-popconfirm\", {\n        \"attrs\": {\n          \"placement\": \"bottom\",\n          \"okText\": \"Yes\",\n          \"cancelText\": \"No\"\n        },\n        \"on\": {\n          \"confirm\": function confirm() {\n            _this.$emit('editTitle', {\n              newTitle: _this.editingTitle,\n              pageIndex: _this.pageIndex\n            });\n          },\n          \"cancel\": function cancel() {}\n        }\n      }, [h(\"a-input\", {\n        \"slot\": \"title\",\n        \"attrs\": {\n          \"value\": this.editingTitle,\n          \"size\": \"small\"\n        },\n        \"on\": {\n          \"change\": function change(e) {\n            _this.editingTitle = e.target.value;\n          }\n        }\n      }), h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"edit\"\n        },\n        \"on\": {\n          \"click\": function click(e) {\n            e.stopPropagation(); //  click icon  click page item \n\n            _this.editingTitle = _this.getTitle();\n          }\n        }\n      })]);\n    }\n  };\n\n  var _components$b;\n  var PageTitleMenu = {\n    components: (_components$b = {}, defineProperty$2(_components$b, antDesignVue.Dropdown.name, antDesignVue.Dropdown), defineProperty$2(_components$b, antDesignVue.Menu.name, antDesignVue.Menu), defineProperty$2(_components$b, antDesignVue.Menu.Item.name, antDesignVue.Menu.Item), defineProperty$2(_components$b, antDesignVue.Icon.name, antDesignVue.Icon), _components$b),\n    render: function render() {\n      var _this = this;\n\n      var h = arguments[0];\n      var addPageText = this.$t('editor.pageManager.action.add');\n      var copyPageText = this.$t('editor.pageManager.action.copy');\n      var deletePageText = this.$t('editor.pageManager.action.delete');\n      return h(\"a-dropdown\", {\n        \"attrs\": {\n          \"trigger\": ['hover'],\n          \"placement\": \"bottomCenter\"\n        }\n      }, [h(\"a\", {\n        \"class\": \"ml-2\",\n        \"attrs\": {\n          \"href\": \"#\"\n        }\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"down\"\n        }\n      })]), h(\"a-menu\", {\n        \"slot\": \"overlay\",\n        \"on\": {\n          \"click\": function click(_ref) {\n            var key = _ref.key;\n            return _this.$emit('selectMenuItem', key);\n          }\n        }\n      }, [h(\"a-menu-item\", {\n        \"key\": \"add\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      }), addPageText]), h(\"a-menu-item\", {\n        \"key\": \"copy\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"copy\"\n        }\n      }), copyPageText]), h(\"a-menu-item\", {\n        \"key\": \"delete\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"delete\"\n        }\n      }), deletePageText])])]);\n    }\n  };\n\n  var PageTitleText = {\n    components: defineProperty$2({}, antDesignVue.Badge.name, antDesignVue.Badge),\n    props: ['page', 'pageIndex'],\n    methods: {\n      getTitle: function getTitle() {\n        return this.page.title || this.$t('editor.pageManager.title', {\n          index: this.pageIndex\n        });\n      }\n    },\n    render: function render(h) {\n      // #!en: Page<Index>\n      // #!zh: <Index>\n      return h(\"span\", [h(\"a-badge\", {\n        \"attrs\": {\n          \"count\": this.pageIndex + 1,\n          \"numberStyle\": {\n            backgroundColor: '#fff',\n            color: '#999',\n            boxShadow: '0 0 0 1px #d9d9d9 inset'\n          }\n        }\n      }), h(\"span\", {\n        \"class\": \"ml-3\"\n      }, [this.getTitle()])]);\n    }\n  };\n\n  var RenderPageManager = {\n    name: 'page-manager',\n    props: {\n      pages: {\n        type: Array,\n        default: []\n      }\n    },\n    components: defineProperty$2({}, antDesignVue.Button.name, antDesignVue.Button),\n    data: function data() {\n      return {\n        pageIndex: 0 // \n\n      };\n    },\n    methods: {\n      onSelectMenuItem: function onSelectMenuItem(menuKey) {\n        this.$emit('add');\n      },\n      onEditTitle: function onEditTitle(_ref) {\n        var pageIndex = _ref.pageIndex,\n            newTitle = _ref.newTitle;\n        this.pageManager({\n          type: 'editTitle',\n          value: {\n            pageIndex: pageIndex,\n            newTitle: newTitle\n          }\n        });\n      },\n      onSelectPage: function onSelectPage(pageIndex) {\n        this.pageIndex = pageIndex;\n        this.$emit('pageChange', pageIndex);\n      },\n      onLeave: function onLeave() {\n        this.hoverIndex = -1;\n      }\n    },\n    render: function render(h) {\n      var _this = this;\n\n      return h(\"div\", {\n        \"class\": \"page-manager-panel\"\n      }, [this.pages.map(function (page, index) {\n        return h(\"span\", {\n          \"class\": ['cursor-pointer', 'page-manager-panel__item', index === _this.pageIndex && 'active'],\n          \"on\": {\n            \"click\": function click() {\n              return _this.onSelectPage(index);\n            },\n            \"mouseenter\": function mouseenter() {\n              _this.hoverIndex = index;\n            }\n          }\n        }, [h(PageTitleText, {\n          \"attrs\": {\n            \"page\": page,\n            \"pageIndex\": index\n          }\n        }), h(\"span\", [_this.hoverIndex === index && h(PageTitleEditor, {\n          \"attrs\": {\n            \"page\": page,\n            \"pageIndex\": index\n          },\n          \"on\": {\n            \"editTitle\": _this.onEditTitle\n          }\n        }), h(PageTitleMenu, {\n          \"on\": {\n            \"selectMenuItem\": _this.onSelectMenuItem\n          }\n        })])]);\n      }), h(\"a-button\", {\n        \"attrs\": {\n          \"icon\": \"plus\",\n          \"type\": \"dashed\"\n        },\n        \"class\": \"footer-actions\",\n        \"on\": {\n          \"click\": function click() {\n            return _this.onSelectMenuItem('add');\n          }\n        }\n      }, [this.$t('editor.pageManager.action.add')])]);\n    }\n  };\n\n  function getTreeNode(ele) {\n    return {\n      title: ele.name,\n      key: ele.id,\n      children: (ele.children || []).map(getTreeNode)\n    };\n  }\n\n  var script$2 = {\n    name: 'page-tree',\n    components: defineProperty$2({}, antDesignVue.Tree.name, antDesignVue.Tree),\n    computed: {\n      treeData: function treeData() {\n        return this.elements.map(getTreeNode);\n      }\n    },\n    data: function data() {\n      return {\n        gData: [],\n        expandedKeys: []\n      };\n    }\n  };\n\n  /* script */\n  const __vue_script__$2 = script$2;\n\n  /* template */\n  var __vue_render__$2 = function() {\n    var _vm = this;\n    var _h = _vm.$createElement;\n    var _c = _vm._self._c || _h;\n    return _c(\"a-tree\", {\n      staticClass: \"draggable-tree\",\n      attrs: {\n        \"default-expanded-keys\": _vm.expandedKeys,\n        draggable: \"\",\n        \"tree-data\": _vm.treeData\n      }\n    })\n  };\n  var __vue_staticRenderFns__$2 = [];\n  __vue_render__$2._withStripped = true;\n\n    /* style */\n    const __vue_inject_styles__$2 = undefined;\n    /* scoped */\n    const __vue_scope_id__$2 = undefined;\n    /* module identifier */\n    const __vue_module_identifier__$2 = undefined;\n    /* functional template */\n    const __vue_is_functional_template__$2 = false;\n    /* style inject */\n    \n    /* style inject SSR */\n    \n    /* style inject shadow dom */\n    \n\n    \n    const __vue_component__$2 = /*#__PURE__*/normalizeComponent(\n      { render: __vue_render__$2, staticRenderFns: __vue_staticRenderFns__$2 },\n      __vue_inject_styles__$2,\n      __vue_script__$2,\n      __vue_scope_id__$2,\n      __vue_is_functional_template__$2,\n      __vue_module_identifier__$2,\n      false,\n      undefined,\n      undefined,\n      undefined\n    );\n\n  var _components$c;\n  var EditorLeftPanel = {\n    props: {\n      pages: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    components: (_components$c = {}, defineProperty$2(_components$c, antDesignVue.Layout.Sider.name, antDesignVue.Layout.Sider), defineProperty$2(_components$c, antDesignVue.Tabs.name, antDesignVue.Tabs), defineProperty$2(_components$c, antDesignVue.Tabs.TabPane.name, antDesignVue.Tabs.TabPane), _components$c),\n    name: 'EditorLeftPanel',\n    render: function render(h) {\n      return h(\"a-layout-sider\", {\n        \"attrs\": {\n          \"width\": \"240\",\n          \"theme\": \"light\"\n        },\n        \"style\": {\n          padding: '0 12px',\n          height: '100%',\n          overflow: 'auto'\n        }\n      }, [h(\"a-tabs\", {\n        \"attrs\": {\n          \"tabBarGutter\": 10\n        }\n      }, [h(\"a-tab-pane\", {\n        \"key\": \"plugin-list\",\n        \"attrs\": {\n          \"tab\": this.$t('editor.sidebar.components')\n        }\n      }, [h(RenderShortcutsPanel, {\n        \"on\": {\n          \"add\": this.$listeners.addElement\n        }\n      })]), h(\"a-tab-pane\", {\n        \"key\": \"page-manager\",\n        \"attrs\": {\n          \"tab\": this.$t('editor.sidebar.pages')\n        }\n      }, [h(RenderPageManager, {\n        \"attrs\": {\n          \"pages\": this.pages\n        },\n        \"on\": {\n          \"add\": this.$listeners.addPage,\n          \"pageChange\": this.$listeners.pageChange\n        }\n      })]), h(\"a-tab-pane\", {\n        \"key\": \"page-tree\",\n        \"attrs\": {\n          \"tab\": this.$t('editor.sidebar.tree')\n        }\n      }, [h(__vue_component__$2)])])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-06 10:50:05\r\n   * @LastEditTime : 2020-11-16 18:07:04\r\n   * @Description :\r\n   */\n  var AuxiliayLine = {\n    props: {\n      width: {\n        type: Number,\n        default: 0\n      },\n      height: {\n        type: Number,\n        default: 0\n      },\n      data: {\n        type: Array,\n        default: function _default() {\n          return [];\n        }\n      }\n    },\n    data: function data() {\n      return {\n        vLines: [],\n        hLines: []\n      };\n    },\n    watch: {\n      data: {\n        handler: 'calcVHLine',\n        deep: true\n      }\n    },\n    methods: {\n      drawVLine: function drawVLine(newLeft) {\n        this.vLines = [{\n          left: newLeft\n        }];\n      },\n      clearVLine: function clearVLine() {\n        this.vLines = [];\n      },\n      drawHLine: function drawHLine(newTop) {\n        this.hLines = [{\n          top: newTop\n        }];\n      },\n      clearHLine: function clearHLine() {\n        this.hLines = [];\n      },\n      genBorder: function genBorder(_ref) {\n        var left = _ref.left,\n            top = _ref.top,\n            width = _ref.width,\n            height = _ref.height;\n        return [[left + width, left + width / 2, left], [top + height, top + height / 2, top]];\n      },\n      calcVHLine: function calcVHLine() {\n        var _this = this;\n\n        var referElementsXCoords = [];\n        var referElementsYCoords = [];\n        var hasVLine = false;\n        var hasHLine = false;\n        this.data.forEach(function (e) {\n          var _this$genBorder = _this.genBorder(e),\n              _this$genBorder2 = slicedToArray(_this$genBorder, 2),\n              xCoords = _this$genBorder2[0],\n              yCoords = _this$genBorder2[1];\n\n          referElementsXCoords.push.apply(referElementsXCoords, toConsumableArray(xCoords));\n          referElementsYCoords.push.apply(referElementsYCoords, toConsumableArray(yCoords));\n        });\n\n        var _this$genBorder3 = this.genBorder({\n          left: 0,\n          top: 0,\n          width: this.width,\n          height: this.height\n        }),\n            _this$genBorder4 = slicedToArray(_this$genBorder3, 2),\n            exCoords = _this$genBorder4[0],\n            eyCoords = _this$genBorder4[1];\n\n        exCoords.forEach(function (eX) {\n          referElementsXCoords.forEach(function (referX) {\n            var offset = referX - eX;\n\n            if (Math.abs(offset) <= 5) {\n              _this.drawVLine(referX);\n\n              hasVLine = true;\n            }\n          });\n        });\n        eyCoords.forEach(function (eY) {\n          referElementsYCoords.forEach(function (referY) {\n            var offset = referY - eY;\n\n            if (Math.abs(offset) <= 5) {\n              _this.drawHLine(referY);\n\n              hasHLine = true;\n            }\n          });\n        });\n\n        if (!hasVLine) {\n          this.clearVLine();\n        }\n\n        if (!hasHLine) {\n          this.clearHLine();\n        }\n      }\n    },\n    render: function render() {\n      var _this2 = this;\n\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"luban-auxiliary-line\"\n      }, [this.vLines.map(function (line) {\n        return h(\"div\", {\n          \"class\": \"v-line\",\n          \"style\": {\n            left: \"\".concat(line.left, \"px\"),\n            height: \"\".concat(_this2.height, \"px\")\n          }\n        });\n      }), this.hLines.map(function (line) {\n        return h(\"div\", {\n          \"class\": \"h-line\",\n          \"style\": {\n            top: \"\".concat(line.top, \"px\"),\n            width: \"\".concat(_this2.width, \"px\")\n          }\n        });\n      })]);\n    }\n  };\n\n  var AdjustHeight = {\n    props: {\n      height: {\n        type: Number,\n        default: 0\n      }\n    },\n    components: defineProperty$2({}, antDesignVue.InputNumber.name, antDesignVue.InputNumber),\n    methods: {\n      /**\r\n       * \r\n       * @param {Number} height\r\n       */\n      updateWorkHeight: function updateWorkHeight(height) {\n        this.$emit('change', height);\n      },\n\n      /**\r\n       * TODO  adjust editor scale \r\n       * scale: height/width\r\n       * @param {MouseEvent} e\r\n       */\n      mousedownForAdjustLine: function mousedownForAdjustLine(e) {\n        var _this = this;\n\n        var startY = e.clientY;\n        var startHeight = this.height;\n        var canvasOuterWrapper = document.querySelector('#editor-wrapper .ant-layout');\n\n        var move = function move(moveEvent) {\n          // !#zh OK\n          moveEvent.stopPropagation();\n          moveEvent.preventDefault();\n          var currY = moveEvent.clientY;\n          var moveHeight = currY - startY;\n          var currentHeight = moveHeight + startHeight;\n\n          _this.updateWorkHeight(currentHeight);\n\n          if (canvasOuterWrapper) {\n            canvasOuterWrapper.scrollTop = canvasOuterWrapper.scrollHeight;\n          }\n        };\n\n        var up = function up() {\n          document.removeEventListener('mousemove', move, true);\n          document.removeEventListener('mouseup', up, true);\n        };\n\n        document.addEventListener('mousemove', move, true);\n        document.addEventListener('mouseup', up, true);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"style\": {\n          position: 'absolute',\n          bottom: '0px',\n          width: '100%',\n          transform: 'translateY(100%)'\n        }\n      }, [h(\"div\", {\n        \"class\": \"adjust-line-wrapper adjust-line-wrapper-h\"\n      }, [h(\"div\", {\n        \"class\": \"adjust-line adjust-line-h\"\n      }), h(\"div\", {\n        \"class\": \"adjust-button\",\n        \"on\": {\n          \"mousedown\": this.mousedownForAdjustLine\n        }\n      }, [h(\"div\", {\n        \"class\": \"indicator\"\n      })]), h(\"div\", {\n        \"class\": \"adjust-tip\"\n      }, [h(\"span\", [\"375 x\"]), h(\"a-input-number\", {\n        \"attrs\": {\n          \"size\": \"small\",\n          \"value\": this.height\n        },\n        \"style\": \"margin: 0 4px; width:60px;\",\n        \"on\": {\n          \"change\": this.updateWorkHeight\n        }\n      }), h(\"span\", [\"px\"])])])]);\n    }\n  };\n\n  var AdjustLineV = {\n    methods: {\n      onMousedown: function onMousedown(e) {\n        var _this = this;\n\n        var startX = e.clientX;\n\n        var move = function move(moveEvent) {\n          moveEvent.preventDefault();\n          moveEvent.stopPropagation();\n          var offset = startX - moveEvent.clientX;\n\n          _this.$emit('lineMove', offset);\n\n          startX -= offset;\n        };\n\n        var up = function up(moveEvent) {\n          document.removeEventListener('mousemove', move, true);\n          document.removeEventListener('mouseup', up, true);\n        };\n\n        document.addEventListener('mousemove', move, true);\n        document.addEventListener('mouseup', up, true);\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"div\", {\n        \"class\": \"adjust-line-wrapper adjust-line-wrapper-v\",\n        \"on\": {\n          \"mousedown\": this.onMousedown\n        }\n      }, [h(\"div\", {\n        \"class\": \"adjust-line adjust-line-v\"\n      }), h(\"div\", {\n        \"class\": \"adjust-button\"\n      }, [h(\"div\", {\n        \"class\": \"indicator\"\n      })])]);\n    }\n  };\n\n  /*\r\n   * @author : Mater\r\n   * @Email : bxh8640@gmail.com\r\n   * @Date : 2020-11-12 14:49:13\r\n   * @LastEditTime : 2020-11-12 14:49:29\r\n   * @Description :\r\n   */\n  var config$1 = {\n    rightPanelWidth: 375\n  };\n\n  var _components$d;\n  var Editor = {\n    name: 'lbp-editor',\n    store: store$2,\n    i18n: i18n,\n    components: (_components$d = {}, defineProperty$2(_components$d, antDesignVue.Layout.name, antDesignVue.Layout), defineProperty$2(_components$d, antDesignVue.Layout.Content.name, antDesignVue.Layout), _components$d),\n    props: {\n      data: {\n        type: Object,\n        default: function _default() {\n          return {};\n        }\n      }\n    },\n    data: function data() {\n      return {\n        work: {},\n        pageIndex: 0,\n        activeElement: null,\n        auxiliayVisible: false,\n        rightPanelWidth: config$1.rightPanelWidth\n      };\n    },\n    computed: {\n      currentPage: function currentPage() {\n        var _this$work$pages = this.work.pages,\n            pages = _this$work$pages === void 0 ? [] : _this$work$pages;\n        var currentPage = pages[this.pageIndex] || {};\n        return currentPage;\n      },\n      elementsRect: function elementsRect() {\n        var _this$currentPage = this.currentPage,\n            currentPage = _this$currentPage === void 0 ? {} : _this$currentPage;\n        var _currentPage$elements = currentPage.elements,\n            elements = _currentPage$elements === void 0 ? [] : _currentPage$elements;\n        return elements.map(function (_ref) {\n          var style = _ref.style;\n          return style;\n        });\n      }\n    },\n    watch: {\n      data: {\n        handler: function handler() {\n          var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          this.work = new Work(data);\n          console.log(this.work);\n        },\n        immediate: true\n      },\n      currentPage: function currentPage() {\n        var _this$$editor;\n\n        var currentPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var _currentPage$elements2 = currentPage.elements,\n            elements = _currentPage$elements2 === void 0 ? [] : _currentPage$elements2;\n        this.$editor.clear();\n\n        (_this$$editor = this.$editor).addElement.apply(_this$$editor, toConsumableArray(elements));\n      }\n    },\n    mounted: function mounted() {\n      var _this$$editor2;\n\n      this.$editor = this.$refs.editor;\n\n      (_this$$editor2 = this.$editor).addElement.apply(_this$$editor2, toConsumableArray(this.currentPage.elements));\n    },\n    methods: {\n      hideAuxiliay: function hideAuxiliay() {\n        this.auxiliayVisible = false;\n      },\n      showAuxiliay: function showAuxiliay() {\n        this.auxiliayVisible = true;\n      },\n      handlePageHeightChange: function handlePageHeightChange(height) {\n        this.currentPage.height = height;\n      },\n      getData: function getData() {\n        return this.$store.state.editor.work;\n      },\n      handleElementActive: function handleElementActive(element) {\n        this.activeElement = element;\n      },\n      handleElementDeactive: function handleElementDeactive(deactiveElement) {\n        if (deactiveElement === this.activeElement) {\n          this.activeElement = null;\n        }\n      },\n      handlePropsChange: function handlePropsChange(value) {\n        this.$editor.updateElement({\n          props: value\n        });\n      },\n      handleAnimationsChange: function handleAnimationsChange(value) {\n        this.$editor.updateElement({\n          animations: value\n        });\n      },\n      handleAddElement: function handleAddElement(_ref2) {\n        var name = _ref2.name;\n        var element = new CoreRender.LbpElement({\n          name: name\n        });\n        this.currentPage.elements.push(element);\n        this.$editor.addElement(element);\n      },\n      handleAddPage: function handleAddPage(title) {\n        this.work.pages.push(new Page({\n          title: title\n        }));\n      },\n      handleAdjustLieMove: function handleAdjustLieMove(offset) {\n        this.rightPanelWidth += offset;\n      },\n      handlePageChange: function handlePageChange(index) {\n        this.pageIndex = index;\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      return h(\"a-layout\", {\n        \"style\": {\n          height: '100%'\n        }\n      }, [h(EditorLeftPanel, {\n        \"attrs\": {\n          \"pages\": this.work.pages\n        },\n        \"on\": {\n          \"pageChange\": this.handlePageChange,\n          \"addElement\": this.handleAddElement,\n          \"addPage\": this.handleAddPage\n        }\n      }), h(\"a-layout\", {\n        \"attrs\": {\n          \"id\": \"editor-wrapper\"\n        }\n      }, [h(\"a-layout-content\", {\n        \"class\": \"scroll-view remove-scrollbar\"\n      }, [h(\"div\", {\n        \"class\": \"editor-content\",\n        \"on\": {\n          \"mousedown\": this.showAuxiliay,\n          \"mouseup\": this.hideAuxiliay\n        }\n      }, [h(AuxiliayLine, {\n        \"attrs\": {\n          \"data\": this.elementsRect,\n          \"width\": this.currentPage.width,\n          \"height\": this.currentPage.height\n        },\n        \"directives\": [{\n          name: \"show\",\n          value: this.auxiliayVisible\n        }]\n      }), h(CoreRender, {\n        \"ref\": \"editor\",\n        \"attrs\": {\n          \"width\": this.currentPage.width,\n          \"height\": this.currentPage.height\n        },\n        \"on\": {\n          \"active\": this.handleElementActive,\n          \"deactive\": this.handleElementDeactive\n        }\n      }), h(AdjustHeight, {\n        \"attrs\": {\n          \"height\": this.currentPage.height\n        },\n        \"on\": {\n          \"change\": this.handlePageHeightChange\n        }\n      })])])]), h(AdjustLineV, {\n        \"on\": {\n          \"lineMove\": this.handleAdjustLieMove\n        }\n      }), h(FixedTools), h(EditorRightPanel, {\n        \"attrs\": {\n          \"width\": this.rightPanelWidth,\n          \"element\": this.activeElement\n        },\n        \"on\": {\n          \"propsChange\": this.handlePropsChange,\n          \"animationsChange\": this.handleAnimationsChange\n        }\n      })]);\n    }\n  };\n\n  Editor.install = function (Vue) {\n    Vue.component(Editor.name, Editor);\n  }; // scriptVue\n\n\n  if (typeof window !== 'undefined' && window.Vue) {\n    Editor.install(window.Vue);\n  }\n\n  return Editor;\n\n})));\n//# sourceMappingURL=luban-h5-editor.js.map\n"],"sourceRoot":""}