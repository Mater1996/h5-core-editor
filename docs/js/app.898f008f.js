(function(t){function e(e){for(var i,a,s=e[0],l=e[1],u=e[2],c=0,d=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},o=[];function a(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-cbb2bd0a":"7f6dda45"}[t]+".js"}function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=i);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=a(t);var u=new Error;o=function(e){l.onerror=l.onload=null,clearTimeout(c);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,n[1](u)}r[t]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var h=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0fd5":function(t,e,n){var i={"./af":"8206","./af.js":"8206","./ar":"cdac","./ar-dz":"7f26","./ar-dz.js":"7f26","./ar-kw":"8e88","./ar-kw.js":"8e88","./ar-ly":"cd65","./ar-ly.js":"cd65","./ar-ma":"e8d6","./ar-ma.js":"e8d6","./ar-sa":"a284","./ar-sa.js":"a284","./ar-tn":"64f7","./ar-tn.js":"64f7","./ar.js":"cdac","./az":"b139","./az.js":"b139","./be":"98e2","./be.js":"98e2","./bg":"a1a5","./bg.js":"a1a5","./bm":"4d0d","./bm.js":"4d0d","./bn":"e8ae","./bn-bd":"5dd8","./bn-bd.js":"5dd8","./bn.js":"e8ae","./bo":"bcf2","./bo.js":"bcf2","./br":"69f1","./br.js":"69f1","./bs":"24d1","./bs.js":"24d1","./ca":"3507","./ca.js":"3507","./cs":"d15f","./cs.js":"d15f","./cv":"7bfe","./cv.js":"7bfe","./cy":"1d35","./cy.js":"1d35","./da":"a019","./da.js":"a019","./de":"0cfa","./de-at":"edea","./de-at.js":"edea","./de-ch":"9aae","./de-ch.js":"9aae","./de.js":"0cfa","./dv":"1722","./dv.js":"1722","./el":"5390","./el.js":"5390","./en-au":"dad9","./en-au.js":"dad9","./en-ca":"6f13","./en-ca.js":"6f13","./en-gb":"6267","./en-gb.js":"6267","./en-ie":"80b1","./en-ie.js":"80b1","./en-il":"ad38","./en-il.js":"ad38","./en-in":"eb60","./en-in.js":"eb60","./en-nz":"39db","./en-nz.js":"39db","./en-sg":"c30d","./en-sg.js":"c30d","./eo":"1a30","./eo.js":"1a30","./es":"48a3","./es-do":"f306","./es-do.js":"f306","./es-mx":"56d9","./es-mx.js":"56d9","./es-us":"60bf","./es-us.js":"60bf","./es.js":"48a3","./et":"f891","./et.js":"f891","./eu":"a403","./eu.js":"a403","./fa":"ce14","./fa.js":"ce14","./fi":"fc14","./fi.js":"fc14","./fil":"f46e","./fil.js":"f46e","./fo":"2bf2","./fo.js":"2bf2","./fr":"c1e8","./fr-ca":"50a2","./fr-ca.js":"50a2","./fr-ch":"b087","./fr-ch.js":"b087","./fr.js":"c1e8","./fy":"4665","./fy.js":"4665","./ga":"b396","./ga.js":"b396","./gd":"056c","./gd.js":"056c","./gl":"efde","./gl.js":"efde","./gom-deva":"12ea","./gom-deva.js":"12ea","./gom-latn":"8e2c","./gom-latn.js":"8e2c","./gu":"533d","./gu.js":"533d","./he":"7520","./he.js":"7520","./hi":"d2f3","./hi.js":"d2f3","./hr":"7e79","./hr.js":"7e79","./hu":"148f","./hu.js":"148f","./hy-am":"6711","./hy-am.js":"6711","./id":"2b10","./id.js":"2b10","./is":"1feb","./is.js":"1feb","./it":"1b21","./it-ch":"8d2c","./it-ch.js":"8d2c","./it.js":"1b21","./ja":"926e","./ja.js":"926e","./jv":"5a78","./jv.js":"5a78","./ka":"5975","./ka.js":"5975","./kk":"cc93","./kk.js":"cc93","./km":"66e1","./km.js":"66e1","./kn":"5421","./kn.js":"5421","./ko":"1297","./ko.js":"1297","./ku":"16f8","./ku.js":"16f8","./ky":"3df9","./ky.js":"3df9","./lb":"c124","./lb.js":"c124","./lo":"20a5","./lo.js":"20a5","./lt":"c14a","./lt.js":"c14a","./lv":"c553","./lv.js":"c553","./me":"ae25","./me.js":"ae25","./mi":"6f56","./mi.js":"6f56","./mk":"c8fc","./mk.js":"c8fc","./ml":"752d","./ml.js":"752d","./mn":"f09e","./mn.js":"f09e","./mr":"0a56","./mr.js":"0a56","./ms":"55b6","./ms-my":"a9e9","./ms-my.js":"a9e9","./ms.js":"55b6","./mt":"624b","./mt.js":"624b","./my":"e256","./my.js":"e256","./nb":"e1d5","./nb.js":"e1d5","./ne":"761a","./ne.js":"761a","./nl":"a0f2","./nl-be":"5cb2","./nl-be.js":"5cb2","./nl.js":"a0f2","./nn":"4fda","./nn.js":"4fda","./oc-lnc":"ec3d","./oc-lnc.js":"ec3d","./pa-in":"2f2f","./pa-in.js":"2f2f","./pl":"317f","./pl.js":"317f","./pt":"5553","./pt-br":"a9ab","./pt-br.js":"a9ab","./pt.js":"5553","./ro":"db12","./ro.js":"db12","./ru":"7aa4","./ru.js":"7aa4","./sd":"e87b","./sd.js":"e87b","./se":"a296","./se.js":"a296","./si":"51ec","./si.js":"51ec","./sk":"608b","./sk.js":"608b","./sl":"b367","./sl.js":"b367","./sq":"f68f","./sq.js":"f68f","./sr":"0991","./sr-cyrl":"c577","./sr-cyrl.js":"c577","./sr.js":"0991","./ss":"cf76","./ss.js":"cf76","./sv":"0153","./sv.js":"0153","./sw":"cb6f","./sw.js":"cb6f","./ta":"8bfa","./ta.js":"8bfa","./te":"668b","./te.js":"668b","./tet":"eae7","./tet.js":"eae7","./tg":"70b1","./tg.js":"70b1","./th":"7180","./th.js":"7180","./tk":"4912","./tk.js":"4912","./tl-ph":"f8bb","./tl-ph.js":"f8bb","./tlh":"b026","./tlh.js":"b026","./tr":"371d","./tr.js":"371d","./tzl":"c744","./tzl.js":"c744","./tzm":"787a","./tzm-latn":"71e0","./tzm-latn.js":"71e0","./tzm.js":"787a","./ug-cn":"6b5c","./ug-cn.js":"6b5c","./uk":"8c0c","./uk.js":"8c0c","./ur":"519e","./ur.js":"519e","./uz":"7982","./uz-latn":"3137","./uz-latn.js":"3137","./uz.js":"7982","./vi":"ae22","./vi.js":"ae22","./x-pseudo":"1129","./x-pseudo.js":"1129","./yo":"b4bf","./yo.js":"b4bf","./zh-cn":"fdc4","./zh-cn.js":"fdc4","./zh-hk":"747d","./zh-hk.js":"747d","./zh-mo":"fe39","./zh-mo.js":"fe39","./zh-tw":"d3e0","./zh-tw.js":"d3e0"};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id="0fd5"},"56d7":function(t,e,n){"use strict";n.r(e);n("4160"),n("b0c0"),n("d3b7"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("e832"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("lbp-h5-editor",{ref:"editor",staticStyle:{height:"100vh"},attrs:{data:t.work}})],1)},o=[],a={name:"app",data:function(){return{work:{id:"3c31d1a0-0c91-4448-bf0a-9510b5b34be3",title:"标题",description:"描述",cover_image_url:null,pages:[{title:"",elements:[{pluginName:"lbp-picture",props:{imgSrc:"https://img.iplaysoft.com/wp-content/uploads/2019/free-images/free_stock_photo.jpg!0x0.webp",isRem:!1},style:{fillType:"contain",top:0,left:0,width:186,height:292,textAlign:"center",color:"#000000",backgroundColor:"rgba(255, 255, 255, 0)",fontSize:14}}]}],is_publish:0,is_template:0,created_at:"2020-10-12T06:34:41.000Z",updated_at:"2020-10-28T01:24:23.000Z",page_mode:"h5_swipper"}}},components:{}},s=a,l=n("2877"),u=Object(l["a"])(s,r,o,!1,null,null,null),c=u.exports,h=(n("c05f"),n("7a0e")),d=n.n(h),f=n("7dc1"),p=[{title:"公告",name:f["LbpNoticeBar"].name,icon:"volume-up",visible:!0,component:f["LbpNoticeBar"]},{title:"评分",name:f["LbpRate"].name,icon:"star-o",visible:!0,component:f["LbpRate"]},{title:"图片",name:f["LbpPicture"].name,icon:"photo",visible:!0,component:function(){return n.e("chunk-cbb2bd0a").then(n.t.bind(null,"7b32",7))}},{title:"文字",name:f["LbpText"].name,icon:"text-width",visible:!0,component:f["LbpText"]},{title:"普通按钮",name:f["LbpButton"].name,icon:"hand-pointer-o",visible:!0,component:f["LbpButton"]},{title:"轮播图",name:f["LbpSlide"].name,icon:"photo",visible:!0,component:f["LbpSlide"]},{title:"视频",name:f["LbpVideo"].name,icon:"file-video-o",visible:!0,component:f["LbpVideo"]},{title:"表单输入",name:f["LbpFormInput"].name,icon:"pencil-square-o",visible:!0,component:f["LbpFormInput"]},{title:"表单提交",name:f["LbpFormButton"].name,icon:"hand-pointer-o",visible:!0,component:f["LbpFormButton"]},{title:"表单多选",name:f["LbpFormCheckboxGroup"].name,icon:"check-square-o",visible:!0,component:f["LbpFormCheckboxGroup"]},{title:"表单单选",name:f["LbpFormRadioGroup"].name,icon:"dot-circle-o",visible:!0,component:f["LbpFormRadioGroup"]},{title:"背景",name:f["LbpBackground"].name,icon:"dot-circle-o",visible:!1,component:f["LbpBackground"]},{title:"背景音乐",name:f["LbpBgMusic"].name,icon:"music",visible:!0,component:f["LbpBgMusic"]},{title:"默认表格",name:f["LbpTable"].name,icon:"table",visible:!0,component:f["LbpTable"]},{icon:"table",name:f["LbpTable"].name,visible:!0,title:"表格",component:f["LbpTable"]},{title:"新闻列表",name:f["LbpNewsList"].name,icon:"list",visible:!0,component:f["LbpNewsList"]}];p.forEach((function(t){return d.a.LbpH5Plugin.register(t)})),i["default"].config.productionTip=!1,i["default"].use(d.a),new i["default"]({render:function(t){return t(c)}}).$mount("#app")},"7a0e":function(t,e,n){"use strict";t.exports=n("ac22")},"7a9e":function(t,e,n){(function(t){!function(t,i){i(e,n("37eb"),n("df2a"),n("83c9"))}(0,(function(e,n,i,r){"use strict";var o=function(t){try{return!!t()}catch(n){return!0}},a=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function l(t){var e={exports:{}};return t(e,e.exports),e.exports}var u=function(t){return t&&t.Math==Math&&t},c=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof s&&s)||function(){return this}()||Function("return this")(),h=/#|\.prototype\./,d=function(t,e){var n=p[f(t)];return n==m||n!=v&&("function"==typeof e?o(e):!!e)},f=d.normalize=function(t){return String(t).replace(h,".").toLowerCase()},p=d.data={},v=d.NATIVE="N",m=d.POLYFILL="P",g=d,y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=c.document,w=y(b)&&y(b.createElement),x=function(t){return w?b.createElement(t):{}},k=!a&&!o((function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})),S=function(t){if(!y(t))throw TypeError(String(t)+" is not an object");return t},_=function(t,e){if(!y(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!y(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},O=Object.defineProperty,C={f:a?O:function(t,e,n){if(S(t),e=_(e,!0),S(n),k)try{return O(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=a?function(t,e,n){return C.f(t,e,E(1,n))}:function(t,e,n){return t[e]=n,t},A={}.hasOwnProperty,j=function(t,e){return A.call(t,e)},N=function(t,e){try{T(c,t,e)}catch(i){c[t]=e}return e},I="__core-js_shared__",P=c[I]||N(I,{}),M=Function.toString;"function"!=typeof P.inspectSource&&(P.inspectSource=function(t){return M.call(t)});var D,L,R,B=P.inspectSource,z=c.WeakMap,$="function"==typeof z&&/native code/.test(B(z)),F=l((function(t){(t.exports=function(t,e){return P[t]||(P[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.7.0",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),q=0,V=Math.random(),H=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++q+V).toString(36)},U=F("keys"),W=function(t){return U[t]||(U[t]=H(t))},Y={},G=c.WeakMap;if($){var K=P.state||(P.state=new G),Z=K.get,X=K.has,Q=K.set;D=function(t,e){return e.facade=t,Q.call(K,t,e),e},L=function(t){return Z.call(K,t)||{}},R=function(t){return X.call(K,t)}}else{var J=W("state");Y[J]=!0,D=function(t,e){return e.facade=t,T(t,J,e),e},L=function(t){return j(t,J)?t[J]:{}},R=function(t){return j(t,J)}}var tt,et={set:D,get:L,has:R,enforce:function(t){return R(t)?L(t):D(t,{})},getterFor:function(t){return function(e){var n;if(!y(e)||(n=L(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},nt=l((function(t){var e=et.get,n=et.enforce,i=String(String).split("String");(t.exports=function(t,e,r,o){var a,s=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof e||j(r,"name")||T(r,"name",e),(a=n(r)).source||(a.source=i.join("string"==typeof e?e:""))),t!==c?(s?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=r:T(t,e,r)):l?t[e]=r:N(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||B(this)}))})),it={}.toString,rt=function(t){return it.call(t).slice(8,-1)},ot=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(r){}return function(n,i){return S(n),function(t){if(!y(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(n,i):n.__proto__=i,n}}():void 0),at=function(t,e,n){var i,r;return ot&&"function"==typeof(i=e.constructor)&&i!==n&&y(r=i.prototype)&&r!==n.prototype&&ot(t,r),t},st="".split,lt=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==rt(t)?st.call(t,""):Object(t)}:Object,ut=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},ct=function(t){return lt(ut(t))},ht=Math.ceil,dt=Math.floor,ft=function(t){return isNaN(t=+t)?0:(t>0?dt:ht)(t)},pt=Math.min,vt=function(t){return t>0?pt(ft(t),9007199254740991):0},mt=Math.max,gt=Math.min,yt=function(t,e){var n=ft(t);return n<0?mt(n+e,0):gt(n,e)},bt=function(t){return function(e,n,i){var r,o=ct(e),a=vt(o.length),s=yt(i,a);if(t&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},wt={includes:bt(!0),indexOf:bt(!1)},xt=wt.indexOf,kt=function(t,e){var n,i=ct(t),r=0,o=[];for(n in i)!j(Y,n)&&j(i,n)&&o.push(n);for(;e.length>r;)j(i,n=e[r++])&&(~xt(o,n)||o.push(n));return o},St=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_t=Object.keys||function(t){return kt(t,St)},Ot=a?Object.defineProperties:function(t,e){S(t);for(var n,i=_t(e),r=i.length,o=0;r>o;)C.f(t,n=i[o++],e[n]);return t},Ct=c,Et=function(t){return"function"==typeof t?t:void 0},Tt=function(t,e){return arguments.length<2?Et(Ct[t])||Et(c[t]):Ct[t]&&Ct[t][e]||c[t]&&c[t][e]},At=Tt("document","documentElement"),jt=W("IE_PROTO"),Nt=function(){},It=function(t){return"<script>"+t+"<\/script>"},Pt=function(){try{tt=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var t,e;Pt=tt?function(t){t.write(It("")),t.close();var e=t.parentWindow.Object;return t=null,e}(tt):((e=x("iframe")).style.display="none",At.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(It("document.F=Object")),t.close(),t.F);for(var n=St.length;n--;)delete Pt.prototype[St[n]];return Pt()};Y[jt]=!0;var Mt=Object.create||function(t,e){var n;return null!==t?(Nt.prototype=S(t),n=new Nt,Nt.prototype=null,n[jt]=t):n=Pt(),void 0===e?n:Ot(n,e)},Dt=St.concat("length","prototype"),Lt={f:Object.getOwnPropertyNames||function(t){return kt(t,Dt)}},Rt={}.propertyIsEnumerable,Bt=Object.getOwnPropertyDescriptor,zt={f:Bt&&!Rt.call({1:2},1)?function(t){var e=Bt(this,t);return!!e&&e.enumerable}:Rt},$t=Object.getOwnPropertyDescriptor,Ft={f:a?$t:function(t,e){if(t=ct(t),e=_(e,!0),k)try{return $t(t,e)}catch(i){}if(j(t,e))return E(!zt.f.call(t,e),t[e])}},qt="\t\n\v\f\r                　\u2028\u2029\ufeff",Vt="["+qt+"]",Ht=RegExp("^"+Vt+Vt+"*"),Ut=RegExp(Vt+Vt+"*$"),Wt=function(t){return function(e){var n=String(ut(e));return 1&t&&(n=n.replace(Ht,"")),2&t&&(n=n.replace(Ut,"")),n}},Yt={start:Wt(1),end:Wt(2),trim:Wt(3)},Gt=Lt.f,Kt=Ft.f,Zt=C.f,Xt=Yt.trim,Qt="Number",Jt=c.Number,te=Jt.prototype,ee=rt(Mt(te))==Qt,ne=function(t){var e,n,i,r,o,a,s,l,u=_(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=Xt(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>r)return NaN;return parseInt(o,i)}return+u};if(g(Qt,!Jt(" 0o1")||!Jt("0b1")||Jt("+0x1"))){for(var ie,re=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof re&&(ee?o((function(){te.valueOf.call(n)})):rt(n)!=Qt)?at(new Jt(ne(e)),n,re):ne(e)},oe=a?Gt(Jt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ae=0;oe.length>ae;ae++)j(Jt,ie=oe[ae])&&!j(re,ie)&&Zt(re,ie,Kt(Jt,ie));re.prototype=te,te.constructor=re,nt(c,Qt,re)}var se,le,ue={},ce={labelCol:{span:24},wrapperCol:{span:24,offset:0}},he={boolean:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"开关":e,i=t.defaultValue,r=void 0!==i&&i,o=t.props,a=void 0===o?{}:o,s=t.visible,l=void 0===s||s;return{type:Boolean,default:r,visible:l,editor:{type:"a-switch",label:n,props:a}}},required:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"文字颜色":e,i=t.defaultValue,r=void 0===i?"#000000":i,o=t.visible,a=void 0===o||o;return{type:String,default:r,visible:a,editor:{type:"colors-panel",label:n,props:{size:"mini",showAlpha:!0},require:!0}}},colors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"颜色面板":e,i=t.defaultValue,r=void 0===i?function(){return[]}:i,o=t.layout,a=void 0===o?ce:o,s=t.visible,l=void 0===s||s;return{type:Array,default:r,visible:l,editor:{type:"colors-panel",label:n,props:{size:"mini",showAlpha:!0},layout:a,require:!0}}},number:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"数值":e,i=t.defaultValue,r=void 0===i?10:i,o=t.props,a=void 0===o?ue:o,s=t.visible,l=void 0===s||s;return{type:Number,default:r,visible:l,editor:{type:"a-input-number",label:n,require:!0,props:a}}},string:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"按钮文字":e,i=t.defaultValue,r=void 0===i?"按钮":i,o=t.component,a=void 0===o?"a-input":o,s=t.props,l=void 0===s?{}:s,u=t.extra,c=t.visible,h=void 0===c||c;return{type:String,default:r,visible:h,editor:{type:a,label:n,require:!0,props:l,extra:u}}},textAlign:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"文字对齐":e,i=t.defaultValue,r=void 0===i?"center":i,o=t.visible,a=void 0===o||o;return{type:String,default:r,visible:a,editor:{type:"lbs-text-align",label:n,require:!0}}},textOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"选项列表":e,i=t.defaultValue,r=void 0===i?function(){return[{label:"label1",value:"value1"}]}:i,o=t.visible,a=void 0===o||o;return{type:Array,default:r,visible:a,editor:{type:"lbs-props-text-enum-editor",label:n,require:!0}}},image:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"图片":e,i=t.defaultValue,r=void 0===i?"":i,o=t.visible,a=void 0===o||o;return{type:String,default:r,visible:a,editor:{type:"lbs-image-gallery",label:n}}},excel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"数据源":e,i=t.defaultValue,r=void 0===i?[]:i,o=t.layout,a=void 0===o?ce:o,s=t.visible,l=void 0===s||s;return{type:Array,default:r,visible:l,editor:{type:"lbs-excel-editor",label:n,layout:a}}},select:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.valueType,n=void 0===e?String:e,i=t.label,r=void 0===i?"选项":i,o=t.defaultValue,a=void 0===o?[]:o,s=t.visible,l=void 0===s||s,u=t.options,c=void 0===u?[]:u;return{type:n,default:a,visible:l,editor:{type:"a-select",label:r,props:{options:c}}}}},de={name:"lbp-button",render:function(){var t=arguments[0],e=this.color,n=this.textAlign,i=this.backgroundColor,r=this.fontSize,o=this.lineHeight,a=this.borderColor,s=this.borderRadius,l=this.borderWidth,u=this.text,c={color:e,textAlign:n,backgroundColor:i,fontSize:r,lineHeight:o+"em",borderColor:a,borderRadius:s+"px",borderWidth:l+"px",textDecoration:"none",width:"".concat(this.width,"px"),height:"".concat(this.height,"px")};return t("button",{style:c},[u])},props:{width:{type:Number,default:120},height:{type:Number,default:40},text:he.string(),vertical:he.boolean(),backgroundColor:he.color({label:"背景色",defaultValue:"#ffffff"}),color:he.color(),fontSize:he.number({label:"字号(px)",defaultValue:14}),lineHeight:he.number({label:"行高(px)",defaultValue:1}),borderWidth:he.number({label:"边框宽度(px)",defaultValue:1}),borderRadius:he.number({label:"圆角(px)",defaultValue:4}),borderColor:he.color({label:"边框颜色",defaultValue:"#ced4da"}),textAlign:he.textAlign()}},fe={name:"lbp-picture",render:function(){var t=arguments[0];return t("img",{attrs:{src:this.imgSrc,alt:"",srcset:"",width:"100%"},style:{objectFit:this.fillType}})},props:{imgSrc:he.string({label:"图片地址"}),fillType:{type:String,default:"contain",editor:{type:"a-select",label:"填充方式",props:{options:[{label:"contain 短边缩放",value:"contain"},{label:"cover 长边缩放",value:"cover"},{label:"fill 拉伸",value:"fill"},{label:"none 原始",value:"none"},{label:"scale-down 弹性缩放",value:"scale-down"}]}}}}},pe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyMHB4IiBoZWlnaHQ9IjE4MHB4IiB2aWV3Qm94PSIwIDAgMzIwIDE4MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4NCiAgICA8dGl0bGU+UmVjdGFuZ2xlIDM8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0icGxheSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJHcm91cC0yOSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMyIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyMCIgaGVpZ2h0PSIxODAiPjwvcmVjdD4NCiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjQuMDAwMDAwLCA1NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMC40MDAwMDAwMDYiIGN4PSIzNiIgY3k9IjM2IiByPSIzNiI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUyLjUwMTQ1NzEsMzguNDY4NzAzOSBMMjkuNTEyNTQ3NCw1My4wOTEwNDA2IEMyOC40MjUyMDE2LDUzLjc4MjY1ODMgMjYuOTgzMDY2Nyw1My40NjE4NTczIDI2LjI5MTQ0OSw1Mi4zNzQ1MTE0IEMyNi4wNTMzNzY0LDUyLjAwMDIxOSAyNS45MjY5Mjk1LDUxLjU2NTgxODMgMjUuOTI2OTI5NSw1MS4xMjIyMjY4IEwyNS45MjY5Mjk1LDIxLjg3NzU1MzQgQzI1LjkyNjkyOTUsMjAuNTg4ODg5IDI2Ljk3MTU5ODQsMTkuNTQ0MjIwMSAyOC4yNjAyNjI4LDE5LjU0NDIyMDEgQzI4LjcwMzg1NDMsMTkuNTQ0MjIwMSAyOS4xMzgyNTUsMTkuNjcwNjY3MSAyOS41MTI1NDc0LDE5LjkwODczOTcgTDUyLjUwMTQ1NzEsMzQuNTMxMDc2NCBDNTMuNTg4ODAyOSwzNS4yMjI2OTQxIDUzLjkwOTYwNCwzNi42NjQ4Mjg5IDUzLjIxNzk4NjMsMzcuNzUyMTc0NyBDNTMuMDM0NTE1OCwzOC4wNDA2MjI5IDUyLjc4OTkwNTIsMzguMjg1MjMzNSA1Mi41MDE0NTcxLDM4LjQ2ODcwMzkgWiIgaWQ9IlRyaWFuZ2xlLTIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+",ve={name:"lbp-video",props:{src:he.string({label:"视频地址"}),disabled:he.boolean({label:"disabled"}),useIframe:he.boolean({label:"使用iframe"}),iframeSrc:he.string({default:"",label:"iframe 地址",props:{type:"textarea",placeholder:"只有使用iframe打开的时候，这个才有效"},extra:function(t){return"「使用iframe」打开的时候，这个才有效；上传视频请忽略该配置"}})},watch:{src:function(){this.appendIframe()},disabled:function(){this.appendIframe()},useIframe:function(){this.appendIframe()},iframeSrc:function(){this.appendIframe()}},mounted:function(){this.appendIframe()},methods:{appendIframe:function(){this.useIframe&&this.iframeSrc&&this.$refs.iframeWrapper&&(this.$refs.iframeWrapper.innerHTML=this.iframeSrc)}},render:function(t){return t("div",{class:"lbc-video",style:this.disabled?{"pointer-events":"none"}:{}},[this.useIframe?t("div",{ref:"iframeWrapper"},[t("img",{attrs:{src:pe,width:"100%",height:"100%"}})]):t("video",{attrs:{playsinline:"true","webkit-playsinline":"",width:"100%",height:"100%",poster:pe,controls:!0},ref:"videoTag"},[t("source",{attrs:{type:"video/mp4",src:this.src}})])])},componentsForPropsEditor:{}},me={f:Object.getOwnPropertySymbols},ge=Tt("Reflect","ownKeys")||function(t){var e=Lt.f(S(t)),n=me.f;return n?e.concat(n(t)):e},ye=function(t,e){for(var n=ge(e),i=C.f,r=Ft.f,o=0;o<n.length;o++){var a=n[o];j(t,a)||i(t,a,r(e,a))}},be=Ft.f,we=function(t,e){var n,i,r,o,a,s=t.target,l=t.global,u=t.stat;if(n=l?c:u?c[s]||N(s,{}):(c[s]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(a=be(n,i))&&a.value:n[i],!g(l?i:s+(u?".":"#")+i,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;ye(o,r)}(t.sham||r&&r.sham)&&T(o,"sham",!0),nt(n,i,o,t)}},xe=Array.isArray||function(t){return"Array"==rt(t)},ke=function(t){return Object(ut(t))},Se=function(t,e,n){var i=_(e);i in t?C.f(t,i,E(0,n)):t[i]=n},_e=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),Oe=_e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ce=F("wks"),Ee=c.Symbol,Te=Oe?Ee:Ee&&Ee.withoutSetter||H,Ae=function(t){return j(Ce,t)||(_e&&j(Ee,t)?Ce[t]=Ee[t]:Ce[t]=Te("Symbol."+t)),Ce[t]},je=Ae("species"),Ne=function(t,e){var n;return xe(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!xe(n.prototype)?y(n)&&null===(n=n[je])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ie=Tt("navigator","userAgent")||"",Pe=c.process,Me=Pe&&Pe.versions,De=Me&&Me.v8;De?le=(se=De.split("."))[0]+se[1]:Ie&&(!(se=Ie.match(/Edge\/(\d+)/))||se[1]>=74)&&(se=Ie.match(/Chrome\/(\d+)/))&&(le=se[1]);var Le=le&&+le,Re=Ae("species"),Be=function(t){return Le>=51||!o((function(){var e=[];return(e.constructor={})[Re]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ze=Ae("isConcatSpreadable"),$e=9007199254740991,Fe="Maximum allowed index exceeded",qe=Le>=51||!o((function(){var t=[];return t[ze]=!1,t.concat()[0]!==t})),Ve=Be("concat"),He=function(t){if(!y(t))return!1;var e=t[ze];return void 0!==e?!!e:xe(t)};we({target:"Array",proto:!0,forced:!qe||!Ve},{concat:function(t){var e,n,i,r,o,a=ke(this),s=Ne(a,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(He(o=-1===e?a:arguments[e])){if(l+(r=vt(o.length))>$e)throw TypeError(Fe);for(n=0;n<r;n++,l++)n in o&&Se(s,l,o[n])}else{if(l>=$e)throw TypeError(Fe);Se(s,l++,o)}return s.length=l,s}});var Ue={render:function(t){var e=this,i=this.canEdit&&"edit"===this.editorMode,r={position:"relative",color:"".concat(this.color," !important"),textDecoration:"none",backgroundColor:this.backgroundColor||"rgba(255, 255, 255, 0.2)",lineHeight:"".concat(this.lineHeight,"em"),border:"".concat(this.borderWidth,"px solid ").concat(this.borderColor),borderRadius:"".concat(this.borderRadius,"px")},o=t("div",{class:"ql-snow"},[t("div",{domProps:{innerHTML:this.text},class:"ql-editor ql-container"})]);return t("div",{on:{dblclick:function(t){e.canEdit=!0,t.stopPropagation()},mousedown:function(t){e.canEdit&&t.stopPropagation()},keydown:function(t){var e=t.keyCode||t.charCode;8!==e&&46!==e||t.stopPropagation()}},style:r},[i?t(n.quillEditor,{attrs:{content:this.text,options:{modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],[{align:[]}],["clean"],[{header:[1,2,3,4,5,6,!1]}]]},theme:"snow"}},on:{change:function(t){t.quill;var n=t.html;t.text,e.$emit("input",{value:n})}}}):o])},name:"lbp-text",data:function(){return{canEdit:!1,innerText:this.text||"双击修改文字"}},props:{backgroundColor:he.color({label:"背景色",defaultValue:"rgba(0, 0, 0, 0)"}),borderWidth:he.number({label:"边框宽度(px)",defaultValue:0}),borderRadius:he.number({label:"圆角(px)"}),borderColor:he.color({label:"边框颜色"}),text:he.string({label:"内容",defaultValue:"双击修改文字",visible:!1}),editorMode:he.string({defaultValue:"preview",label:"模式",visible:!1})},editorConfig:{}},We=C.f,Ye=Function.prototype,Ge=Ye.toString,Ke=/^\s*function ([^ (]*)/,Ze="name";a&&!(Ze in Ye)&&We(Ye,Ze,{configurable:!0,get:function(){try{return Ge.call(this).match(Ke)[1]}catch(e){return""}}});var Xe={name:"lbp-form-input",render:function(t){var e={color:this.color,textAlign:this.textAlign,backgroundColor:this.backgroundColor,fontSize:this.fontSize+"px",lineHeight:this.lineHeight+"em",borderColor:this.borderColor,borderRadius:this.borderRadius+"px",borderWidth:this.borderWidth+"px",padding:"0 5px"};return t("input",{attrs:{disabled:this.disabled,type:this.type,name:this.name,placeholder:this.placeholder,autocomplete:"off","data-type":"lbp-form-input"},style:e})},props:{type:he.select({defaultValue:"text",label:"类型",options:[{label:"文字",value:"text"},{label:"密码",value:"password"},{label:"日期",value:"date"},{label:"邮箱",value:"email"},{label:"手机号",value:"tel"}]}),name:he.string({defaultValue:"name",label:"name"}),disabled:he.boolean({label:"disabled"}),fontSize:he.number({label:"字号(px)"}),placeholder:he.string({defaultValue:"提示信息",label:"提示信息"}),color:he.color(),backgroundColor:he.color({label:"背景色",defaultValue:"rgba(255, 255, 255, 0.2)"}),borderWidth:he.number({label:"边框宽度(px)",defaultValue:1}),borderRadius:he.number({label:"圆角(px)",defaultValue:0}),borderColor:he.color({label:"边框颜色",defaultValue:"#ced4da"}),textAlign:he.textAlign({defaultValue:"left"}),vertical:he.boolean(),lineHeight:he.number({label:"行高(px)",defaultValue:1})}},Qe=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Je=[].push,tn=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,a=5==t||o;return function(s,l,u,c){for(var h,d,f=ke(s),p=lt(f),v=function(t,e,n){if(Qe(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}(l,u,3),m=vt(p.length),g=0,y=c||Ne,b=e?y(s,m):n?y(s,0):void 0;m>g;g++)if((a||g in p)&&(d=v(h=p[g],g,f),t))if(e)b[g]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:Je.call(b,h)}else if(r)return!1;return o?-1:i||r?r:b}},en={forEach:tn(0),map:tn(1),filter:tn(2),some:tn(3),every:tn(4),find:tn(5),findIndex:tn(6)},nn=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))},rn=Object.defineProperty,on={},an=function(t){throw t},sn=function(t,e){if(j(on,t))return on[t];e||(e={});var n=[][t],i=!!j(e,"ACCESSORS")&&e.ACCESSORS,r=j(e,0)?e[0]:an,s=j(e,1)?e[1]:void 0;return on[t]=!!n&&!o((function(){if(i&&!a)return!0;var t={length:-1};i?rn(t,1,{enumerable:!0,get:an}):t[1]=1,n.call(t,r,s)}))},ln=en.forEach,un=nn("forEach"),cn=sn("forEach"),hn=un&&cn?[].forEach:function(t){return ln(this,t,arguments.length>1?arguments[1]:void 0)};for(var dn in we({target:"Array",proto:!0,forced:[].forEach!=hn},{forEach:hn}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var fn=c[dn],pn=fn&&fn.prototype;if(pn&&pn.forEach!==hn)try{T(pn,"forEach",hn)}catch(wr){pn.forEach=hn}}var vn={render:function(){var t=arguments[0],e=this.color,n=this.textAlign,i=this.backgroundColor,r=this.fontSize,o=this.lineHeight,a=this.borderColor,s=this.borderRadius,l=this.borderWidth,u=this.text,c=this.disabled,h={color:e,textAlign:n,backgroundColor:i,fontSize:r,lineHeight:o+"em",borderColor:a,borderRadius:s+"px",borderWidth:l+"px",textDecoration:"none",disabled:c};return t("button",{style:h,on:{click:this.handleClick}},[u])},name:"lbp-form-button",props:{text:he.string({defaultValue:"提交"}),vertical:he.boolean(),backgroundColor:he.color({label:"背景色",defaultValue:"rgba(255, 255, 255, 0.2)"}),color:he.color(),fontSize:he.number({label:"字号(px)",defaultValue:14}),lineHeight:he.number({label:"行高(px)",defaultValue:1}),borderWidth:he.number({label:"边框宽度(px)",defaultValue:1}),borderRadius:he.number({label:"圆角(px)",defaultValue:4}),borderColor:he.color({label:"边框颜色",defaultValue:"#ced4da"}),textAlign:he.textAlign(),disabled:he.boolean()},methods:{handleClick:function(){if(!this.disabled){var t=document.querySelectorAll("[data-type^='lbp-form-input']");if(t.length){var e=this,n=new FormData;t.forEach((function(t){return n.append(t.dataset.uuid,t.value)}));var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){var t=200===i.status?"提交成功":"提交失败";e.$message.info(t)}};var r=window.__work.id;i.open("post","/works/form/submit/".concat(r),!0),i.send(n)}}}}},mn=wt.indexOf,gn=[].indexOf,yn=!!gn&&1/[1].indexOf(1,-0)<0,bn=nn("indexOf"),wn=sn("indexOf",{ACCESSORS:!0,1:0});we({target:"Array",proto:!0,forced:yn||!bn||!wn},{indexOf:function(t){return yn?gn.apply(this,arguments)||0:mn(this,t,arguments.length>1?arguments[1]:void 0)}});var xn=[].join,kn=lt!=Object,Sn=nn("join",",");we({target:"Array",proto:!0,forced:kn||!Sn},{join:function(t){return xn.call(ct(this),void 0===t?",":t)}});var _n=en.map,On=Be("map"),Cn=sn("map");we({target:"Array",proto:!0,forced:!On||!Cn},{map:function(t){return _n(this,t,arguments.length>1?arguments[1]:void 0)}});var En=Be("splice"),Tn=sn("splice",{ACCESSORS:!0,0:0,1:2}),An=Math.max,jn=Math.min,Nn=9007199254740991,In="Maximum allowed length exceeded";we({target:"Array",proto:!0,forced:!En||!Tn},{splice:function(t,e){var n,i,r,o,a,s,l=ke(this),u=vt(l.length),c=yt(t,u),h=arguments.length;if(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=jn(An(ft(e),0),u-c)),u+n-i>Nn)throw TypeError(In);for(r=Ne(l,i),o=0;o<i;o++)(a=c+o)in l&&Se(r,o,l[a]);if(r.length=i,n<i){for(o=c;o<u-i;o++)s=o+n,(a=o+i)in l?l[s]=l[a]:delete l[s];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)s=o+n-1,(a=o+i-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var Pn={name:"lbp-form-radio",props:{value:{type:[String,Number],default:"选项值"},aliasName:{type:String,default:"标题演示"},type:{type:String,default:"radio"},checked:{type:Boolean,default:!1},onFocus:{type:Function,default:function(){}},onClick:{type:Function,default:function(){}},onBlur:{type:Function,default:function(){}},doChange:{type:Function,default:function(){}}},methods:{handleChange:function(t){this.disabled||this.$emit("change",t.target.value)}},render:function(){var t=arguments[0],e=this.aliasName,n=this.type,i=this.disabled,r=this.checked,o=this.value,a=+new Date;return t("div",{class:["lbp-"+this.type+"-wrapper","lbp-rc-wrapper"]},[t("span",{class:"tag"},[o]),t("input",{class:["lbp-"+this.type,"lbp-rc-input"],attrs:{name:e,id:a,type:n,disabled:i},ref:"input",domProps:{value:o,checked:!!r},on:{change:this.handleChange}}),t("label",{attrs:{for:a}})])}},Mn={name:"lbp-form-radio-group",props:{width:{default:120},height:{default:120},aliasName:he.string({defaultValue:"标题演示",label:"填写标题"}),items:he.textOptions({label:"选项列表",defaultValue:function(){return[{value:"选项A"},{value:"选项B"},{value:"选项C"}]}}),type:{type:String,default:"radio",editor:{type:"a-radio-group",label:"选择模式",require:!0,props:{options:[{label:"单选",value:"radio"},{label:"多选",value:"checkbox"}],name:"mode"}}}},data:function(){return{value:"radio"===this.type?"":[],uuid:void 0}},computed:{value_:function(){return"radio"===this.type?this.value:(Array.isArray(this.value)&&this.value||[]).join(",")}},watch:{type:function(t){this.value="radio"===t?"":[]}},mounted:function(){this.uuid=this.$el.dataset.uuid},methods:{onChange:function(t){switch(this.type){case"radio":this.toggleRadio(t);break;case"checkbox":this.toggleCheckbox(t)}},toggleCheckbox:function(t){var e=this.value.indexOf(t);-1===e?this.value.push(t):this.value.splice(e,1)},toggleRadio:function(t){this.value=t}},render:function(){var t=this,e=arguments[0];return e("div",[e("h3",[this.aliasName]),e("input",{attrs:{type:"text",hidden:!0,"data-type":"lbp-form-input","data-uuid":this.uuid},domProps:{value:this.value_}}),this.items.map((function(n){return e(Pn,{attrs:{vertical:!0,value:n.value,checked:t.value===n.value,aliasName:t.uuid,type:t.type},on:{change:t.onChange}},[n.value])}))])}},Dn=Ae("unscopables"),Ln=Array.prototype;null==Ln[Dn]&&C.f(Ln,Dn,{configurable:!0,value:Mt(null)});var Rn=wt.includes;we({target:"Array",proto:!0,forced:!sn("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return Rn(this,t,arguments.length>1?arguments[1]:void 0)}}),function(t){Ln[Dn][t]=!0}("includes");var Bn=Ae("match"),zn=function(t){if(function(t){var e;return y(t)&&(void 0!==(e=t[Bn])?!!e:"RegExp"==rt(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},$n=Ae("match");we({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[$n]=!1,"/./"[t](e)}catch(r){}}return!1}("includes")},{includes:function(t){return!!~String(ut(this)).indexOf(zn(t),arguments.length>1?arguments[1]:void 0)}});var Fn,qn,Vn,Hn={name:"lbp-form-checkbox-group",components:{LbpFormRadio:Pn},props:{width:{default:120},height:{default:120},aliasName:he.string({defaultValue:"标题演示",label:"填写标题"}),items:he.textOptions({label:"选项列表",defaultValue:function(){return[{value:"选项A"},{value:"选项B"},{value:"选项C"}]}}),type:{type:String,default:"checkbox",editor:{type:"a-radio-group",label:"选择模式",require:!0,props:{options:[{label:"单选",value:"radio"},{label:"多选",value:"checkbox"}],name:"mode"}}}},data:function(){return{value:"radio"===this.type?"":[],uuid:void 0}},computed:{value_:function(){return"radio"===this.type?this.value:(Array.isArray(this.value)&&this.value||[]).join(",")}},watch:{type:function(t){this.value="radio"===t?"":[]}},mounted:function(){this.uuid=this.$el.dataset.uuid},methods:{onChange:function(t){switch(this.type){case"radio":this.toggleRadio(t);break;case"checkbox":this.toggleCheckbox(t)}},toggleCheckbox:function(t){var e=this.value.indexOf(t);-1===e?this.value.push(t):this.value.splice(e,1)},toggleRadio:function(t){this.value=t}},render:function(){var t=this,e=arguments[0];return e("div",[e("h3",[this.aliasName]),e("input",{attrs:{type:"text",hidden:!0,"data-type":"lbp-form-input","data-uuid":this.uuid},domProps:{value:this.value_}}),this.items.map((function(n){return e("lbp-form-radio",{attrs:{vertical:!0,value:n.value,checked:"radio"===t.type?t.value===n.value:t.value.includes(n.value),aliasName:t.uuid,type:t.type},on:{change:t.onChange}},[n.value])}))])}},Un=Lt.f,Wn={}.toString,Yn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gn={f:function(t){return Yn&&"[object Window]"==Wn.call(t)?function(t){try{return Un(t)}catch(wr){return Yn.slice()}}(t):Un(ct(t))}},Kn={f:Ae},Zn=C.f,Xn=C.f,Qn=Ae("toStringTag"),Jn=en.forEach,ti=W("hidden"),ei="Symbol",ni=Ae("toPrimitive"),ii=et.set,ri=et.getterFor(ei),oi=Object.prototype,ai=c.Symbol,si=Tt("JSON","stringify"),li=Ft.f,ui=C.f,ci=Gn.f,hi=zt.f,di=F("symbols"),fi=F("op-symbols"),pi=F("string-to-symbol-registry"),vi=F("symbol-to-string-registry"),mi=F("wks"),gi=c.QObject,yi=!gi||!gi.prototype||!gi.prototype.findChild,bi=a&&o((function(){return 7!=Mt(ui({},"a",{get:function(){return ui(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=li(oi,e);i&&delete oi[e],ui(t,e,n),i&&t!==oi&&ui(oi,e,i)}:ui,wi=function(t,e){var n=di[t]=Mt(ai.prototype);return ii(n,{type:ei,tag:t,description:e}),a||(n.description=e),n},xi=Oe?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ai},ki=function(t,e,n){t===oi&&ki(fi,e,n),S(t);var i=_(e,!0);return S(n),j(di,i)?(n.enumerable?(j(t,ti)&&t[ti][i]&&(t[ti][i]=!1),n=Mt(n,{enumerable:E(0,!1)})):(j(t,ti)||ui(t,ti,E(1,{})),t[ti][i]=!0),bi(t,i,n)):ui(t,i,n)},Si=function(t,e){S(t);var n=ct(e),i=_t(n).concat(Ei(n));return Jn(i,(function(e){a&&!_i.call(n,e)||ki(t,e,n[e])})),t},_i=function(t){var e=_(t,!0),n=hi.call(this,e);return!(this===oi&&j(di,e)&&!j(fi,e))&&(!(n||!j(this,e)||!j(di,e)||j(this,ti)&&this[ti][e])||n)},Oi=function(t,e){var n=ct(t),i=_(e,!0);if(n!==oi||!j(di,i)||j(fi,i)){var r=li(n,i);return!r||!j(di,i)||j(n,ti)&&n[ti][i]||(r.enumerable=!0),r}},Ci=function(t){var e=ci(ct(t)),n=[];return Jn(e,(function(t){j(di,t)||j(Y,t)||n.push(t)})),n},Ei=function(t){var e=t===oi,n=ci(e?fi:ct(t)),i=[];return Jn(n,(function(t){!j(di,t)||e&&!j(oi,t)||i.push(di[t])})),i};_e||(nt((ai=function(){if(this instanceof ai)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=H(t),n=function(t){this===oi&&n.call(fi,t),j(this,ti)&&j(this[ti],e)&&(this[ti][e]=!1),bi(this,e,E(1,t))};return a&&yi&&bi(oi,e,{configurable:!0,set:n}),wi(e,t)}).prototype,"toString",(function(){return ri(this).tag})),nt(ai,"withoutSetter",(function(t){return wi(H(t),t)})),zt.f=_i,C.f=ki,Ft.f=Oi,Lt.f=Gn.f=Ci,me.f=Ei,Kn.f=function(t){return wi(Ae(t),t)},a&&(ui(ai.prototype,"description",{configurable:!0,get:function(){return ri(this).description}}),nt(oi,"propertyIsEnumerable",_i,{unsafe:!0}))),we({global:!0,wrap:!0,forced:!_e,sham:!_e},{Symbol:ai}),Jn(_t(mi),(function(t){!function(t){var e=Ct.Symbol||(Ct.Symbol={});j(e,t)||Zn(e,t,{value:Kn.f(t)})}(t)})),we({target:ei,stat:!0,forced:!_e},{for:function(t){var e=String(t);if(j(pi,e))return pi[e];var n=ai(e);return pi[e]=n,vi[n]=e,n},keyFor:function(t){if(!xi(t))throw TypeError(t+" is not a symbol");if(j(vi,t))return vi[t]},useSetter:function(){yi=!0},useSimple:function(){yi=!1}}),we({target:"Object",stat:!0,forced:!_e,sham:!a},{create:function(t,e){return void 0===e?Mt(t):Si(Mt(t),e)},defineProperty:ki,defineProperties:Si,getOwnPropertyDescriptor:Oi}),we({target:"Object",stat:!0,forced:!_e},{getOwnPropertyNames:Ci,getOwnPropertySymbols:Ei}),we({target:"Object",stat:!0,forced:o((function(){me.f(1)}))},{getOwnPropertySymbols:function(t){return me.f(ke(t))}}),si&&we({target:"JSON",stat:!0,forced:!_e||o((function(){var t=ai();return"[null]"!=si([t])||"{}"!=si({a:t})||"{}"!=si(Object(t))}))},{stringify:function(t,e,n){for(var i,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=e,(y(e)||void 0!==t)&&!xi(t))return xe(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!xi(e))return e}),r[1]=e,si.apply(null,r)}}),ai.prototype[ni]||T(ai.prototype,ni,ai.prototype.valueOf),qn=ei,(Fn=ai)&&!j(Fn=Vn?Fn:Fn.prototype,Qn)&&Xn(Fn,Qn,{configurable:!0,value:qn}),Y[ti]=!0;var Ti=en.filter,Ai=Be("filter"),ji=sn("filter");we({target:"Array",proto:!0,forced:!Ai||!ji},{filter:function(t){return Ti(this,t,arguments.length>1?arguments[1]:void 0)}});var Ni=Ft.f,Ii=o((function(){Ni(1)}));we({target:"Object",stat:!0,forced:!a||Ii,sham:!a},{getOwnPropertyDescriptor:function(t,e){return Ni(ct(t),e)}}),we({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,n,i=ct(t),r=Ft.f,o=ge(i),a={},s=0;o.length>s;)void 0!==(n=r(i,e=o[s++]))&&Se(a,e,n);return a}}),we({target:"Object",stat:!0,forced:o((function(){_t(1)}))},{keys:function(t){return _t(ke(t))}});var Pi=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(n),!0).forEach((function(e){Pi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Li={name:"lbp-background",props:{imgSrc:he.string({label:"背景图"}),backgroundColor:he.color({label:"背景色",defaultValue:"rgba(255, 255, 255, 0.2)"}),waterMarkText:he.string({label:"水印文字",defaultValue:"水印文字"}),waterMarkFontSize:he.number({label:"水印文字大小(px)",defaultValue:16}),waterMarkRotate:he.number({label:"水印旋转角度",defaultValue:10}),waterMarkColor:he.color({label:"水印文字颜色",defaultValue:"rgba(184, 184, 184, 0.2)"})},methods:{renderWaterMark:function(){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.container,n=void 0===e?document.body:e,i=t.width,r=void 0===i?"100px":i,o=t.height,a=void 0===o?"100px":o,s=t.textAlign,l=void 0===s?"center":s,u=t.textBaseline,c=void 0===u?"middle":u,h=t.fontSize,d=void 0===h?16:h,f=t.fillStyle,p=void 0===f?"rgba(184, 184, 184, 0.2 )":f,v=t.content,m=void 0===v?"水印文字":v,g=t.rotate,y=void 0===g?0:g,b=t.zIndex,w=void 0===b?1e3:b,x=document.createElement("canvas");x.setAttribute("width",r),x.setAttribute("height",a);var k=x.getContext("2d");k.textAlign=l,k.textBaseline=c,k.font="".concat(d,"px Arial"),k.fillStyle=p,k.fillText(m,0,parseFloat(a)/3);var S=x.toDataURL(),_=document.querySelector(".luban_h5__wm"),O=_||document.createElement("div"),C="\n    transform: rotate(".concat(y,"deg);\n    position:absolute;\n    top:0;\n    left:0;\n    width:100%;\n    height:100%;\n    z-index:").concat(w,";\n    pointer-events:none;\n    background-repeat:repeat;\n    background-image:url('").concat(S,"');\n    user-select: none");O.setAttribute("style",C),_||(O.classList.add("luban_h5__wm"),n.style.position="relative",n.insertBefore(O,n.firstChild))}({container:this.$refs.root,content:this.waterMarkText,fontSize:this.waterMarkFontSize,rotate:this.waterMarkRotate,fillStyle:this.waterMarkColor})}},render:function(){var t=arguments[0],e={width:"100%",height:"100%"};return t("div",{style:"width: 100%; height: 100%; overflow: hidden; position: absolute; z-index: 0; opacity: 1;",ref:"root"},[t("div",{style:e=this.imgSrc?Di(Di({},e),{},{"background-size":"cover","background-position":"50% 50%","background-origin":"content-box","background-image":"url(".concat(this.imgSrc,")")}):Di({backgroundColor:this.backgroundColor},e)})])},mounted:function(){var t=this;this.renderWaterMark(),["waterMarkText","waterMarkFontSize","waterMarkRotate","waterMarkColor"].forEach((function(e){t.$watch(e,t.renderWaterMark)}))}},Ri={name:"lbp-slide",props:{interval:he.number({defaultValue:4e3,label:"间隔时间"}),editorMode:he.string({defaultValue:"preview",label:"模式"}),activeIndex:{type:Number,default:0,editor:{custom:!0}},items:{type:Array,default:function(){return[{image:"https://img.yzcdn.cn/vant/apple-1.jpg"},{image:"https://img.yzcdn.cn/vant/apple-2.jpg"}]},editor:{custom:!0}}},componentsForPropsEditor:{},mounted:function(){},methods:{},render:function(){var t=arguments[0],e=this.items,n=this.activeIndex;return"edit"===this.editorMode?e.length&&t("img",{attrs:{src:e[n].image}}):t(i.Swipe,{attrs:{autoplay:+this.interval,"indicator-color":"red"}},[e.map((function(e){return t(i.SwipeItem,[t("img",{attrs:{src:e.image,width:"100%",height:"100%"}})])}))])}},Bi={name:"lbp-bg-music",props:{disabled:he.boolean({defaultValue:!0,label:"disabled"}),autoplay:he.boolean({defaultValue:!0,label:"自动播放"}),src:he.string({label:"音乐URL",defaultValue:"http://go.163.com/2018/0209/mengniu/audio/bgm.mp3",props:{type:"textarea"}})},data:function(){return{isPlaying:!0}},methods:{toggle:function(){var t=this.$refs.bgAudio;t&&(this.isPlaying?t.pause():t.play(),this.isPlaying=!this.isPlaying)}},render:function(){var t=arguments[0],e={"animation-play-state":this.isPlaying?"running":"paused"};return t("div",{class:"bg-music-wrapper",style:"display: block;"},[t("div",{class:"bg-music-btn rotate",style:e,on:{click:this.toggle},attrs:{disabled:this.disabled}},[t("audio",{attrs:{src:this.src,autoplay:this.autoplay,preload:!0,loop:!0},ref:"bgAudio"})])])},created:function(){this.isPlaying=this.autoplay}},zi={name:"lbp-notice-bar",props:{width:{default:120},height:{default:120},text:he.string({defaultValue:"请填写内容，如果过长，将会在手机上滚动显示",label:"公告",props:{type:"textarea"}}),vertical:he.boolean(),backgroundColor:he.color({label:"背景色",defaultValue:"#fffbe8"}),color:he.color({defaultValue:"#ed6a0c"}),mode:{type:String,default:"",editor:{type:"a-select",label:"模式",props:{options:[{label:"默认",value:""},{label:"右侧有箭头",value:"link"},{label:"可关闭",value:"closeable"}]}}}},componentsForPropsEditor:{},mounted:function(){},methods:{},render:function(){var t=arguments[0];return t(i.NoticeBar,{attrs:{mode:this.mode,color:this.color,"left-icon":"volume-o",text:this.text,background:this.backgroundColor}})}},$i={name:"lbp-rate",props:{value:he.number({defaultValue:5,label:"当前分值"}),count:he.number({defaultValue:5,label:"图标总数"}),size:he.number({defaultValue:16,label:"图标大小"}),gutter:he.number({defaultValue:16,label:"图标间距"}),mode:{type:String,default:"",editor:{type:"a-select",label:"模式",props:{options:[{label:"star",value:"star"},{label:"点赞",value:"like"},{label:"Good",value:"good-job"}]}}}},componentsForPropsEditor:{},mounted:function(){},methods:{},render:function(){var t=arguments[0];return t(i.Rate,{attrs:{value:this.value,count:this.count,size:this.size,color:this.color,gutter:this.gutter,"void-icon":"star","void-color":"#eee"}})}},Fi=function(t){return function(e,n,i,r){Qe(n);var o=ke(e),a=lt(o),s=vt(o.length),l=t?s-1:0,u=t?-1:1;if(i<2)for(;;){if(l in a){r=a[l],l+=u;break}if(l+=u,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=u)l in a&&(r=n(r,a[l],l,o));return r}},qi={left:Fi(!1),right:Fi(!0)},Vi="process"==rt(c.process),Hi=qi.left,Ui=nn("reduce"),Wi=sn("reduce",{1:0});we({target:"Array",proto:!0,forced:!Ui||!Wi||!Vi&&Le>79&&Le<83},{reduce:function(t){return Hi(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Yi=Be("slice"),Gi=sn("slice",{ACCESSORS:!0,0:0,1:2}),Ki=Ae("species"),Zi=[].slice,Xi=Math.max;we({target:"Array",proto:!0,forced:!Yi||!Gi},{slice:function(t,e){var n,i,r,o=ct(this),a=vt(o.length),s=yt(t,a),l=yt(void 0===e?a:e,a);if(xe(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!xe(n.prototype)?y(n)&&null===(n=n[Ki])&&(n=void 0):n=void 0,n===Array||void 0===n))return Zi.call(o,s,l);for(i=new(void 0===n?Array:n)(Xi(l-s,0)),r=0;s<l;s++,r++)s in o&&Se(i,r,o[s]);return i.length=r,i}});var Qi=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},Ji=function(t){if(Array.isArray(t))return Qi(t)},tr=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)},er=function(t,e){if(t){if("string"==typeof t)return Qi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(t,e):void 0}},nr=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},ir=function(t){return Ji(t)||tr(t)||er(t)||nr()},rr={name:"lbp-table",data:function(){return{mainTableWrapperEle:null,mainTableEle:null,fixedTableWrapperEle:null,fixedTableEle:null}},props:{width:{default:120},height:{default:120},theme:he.string({defaultValue:"",label:"主题",visible:!1}),columnWidth:he.number({label:"每列宽度(px)",defaultValue:100}),freezeCount:he.number({label:"冻结列数(px)",defaultValue:0}),dataset:he.excel({defaultValue:function(){return[["列A","列B","列C"],["————","————","————"],["————","————","————"],["————","————","————"]]}})},watch:{freezeCount:function(){var t=this;setTimeout((function(){t.setFixedTableStyle()}),100)}},render:function(){var t=this,e=arguments[0],n=function(t){return e("td",[e("div",{class:"cell"},[t])])},i=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.length?i[0]:[],s=a.length;return e("table",{class:r,style:o},[e("colgroup",[ir(Array(s)).map((function(n,i){return e("col",{style:{width:t.columnWidth+"px"}})}))]),e("tbody",[i.map((function(t){return e("tr",[t.map(n)])}))])])};return e("div",{class:["lbp-table",this.theme],ref:"lbpTable"},[e("div",{class:"main-table-wrapper"},[i(this.dataset)]),e("div",{class:"fixed-table-wrapper",directives:[{name:"show",value:"freezeCount"}]},[i(this.dataset,"left-table")])])},methods:{getFixedColsWidth:function(){return function(){var t=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return e[t]})).reduce((function(t,e){return t+e}),0)}([].slice.apply(this.mainTableEle.querySelectorAll("tr:first-child > td")).slice(0,+this.freezeCount),"offsetWidth")},setFixedTableStyle:function(){this.fixedTableWrapperEle.style.width="".concat(this.getFixedColsWidth(),"px"),this.fixedTableWrapperEle.style.height="calc(100% - ".concat(this.mainTableWrapperEle.offsetHeight-this.mainTableWrapperEle.scrollHeight,"px)")},setTableWidth:function(){var t=this.$el.parentNode.style.width;this.fixedTableEle.style.width=this.mainTableEle.style.width=t},initElements:function(){var t=this.$el;this.mainTableWrapperEle=t.querySelector(".main-table-wrapper"),this.mainTableEle=t.querySelector(".main-table-wrapper > table"),this.fixedTableWrapperEle=t.querySelector(".fixed-table-wrapper"),this.fixedTableEle=t.querySelector(".left-table")},__resizeHandler:function(){this.setTableWidth(),this.freezeCount&&this.setFixedTableStyle()}},mounted:function(){this.initElements(),this.setTableWidth(),this.setFixedTableStyle(),r.addListener(this.$refs.lbpTable,this.__resizeHandler)},destroy:function(){r.removeListener(this.$el,this.__resizeHandler)}},or=zt.f,ar=function(t){return function(e){for(var n,i=ct(e),r=_t(i),o=r.length,s=0,l=[];o>s;)n=r[s++],a&&!or.call(i,n)||l.push(t?[n,i[n]]:i[n]);return l}},sr={entries:ar(!0),values:ar(!1)}.values;we({target:"Object",stat:!0},{values:function(t){return sr(t)}});var lr,ur=Yt.trim;we({target:"String",proto:!0,forced:(lr="trim",o((function(){return!!qt[lr]()||"​᠎"!="​᠎"[lr]()||qt[lr].name!==lr})))},{trim:function(){return ur(this)}});var cr=function(t){if(Array.isArray(t))return t},hr=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},dr=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},fr=function(t,e){return cr(t)||hr(t,e)||er(t,e)||dr()},pr=l((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e})),vr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function mr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var gr=function(t,e,n){return e&&mr(t.prototype,e),n&&mr(t,n),t},yr=function(){function t(){vr(this,t)}return gr(t,null,[{key:"dataset2excel",value:function(t){return t.map((function(t){return{cells:{0:{text:t.x},1:{text:t.y},2:{text:t.s}}}}))}},{key:"binaryMatrix2excel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.map((function(t,e){var n={};return t.forEach((function(t,e){n[e]={text:t}})),{cells:n}}));return e}},{key:"excel2chartDataSet",value:function(t){return Object.values(t.rows).filter((function(t){return"object"===pr(t)})).map((function(t){var e=Object.values(t.cells).map((function(t){return t.text})),n=fr(e,3);return{x:n[0],y:n[1],s:n[2]}}))}},{key:"excel2BinaryMatrix",value:function(t){return Object.values(t.rows).filter((function(t){return"object"===pr(t)})).map((function(t){return Object.values(t.cells).map((function(t){return t.text}))}))}},{key:"csv2VChartJson",value:function(t){var e=t[0],n=t.slice(1);return{columns:e,rows:n.map((function(t,n){var i={};return e.forEach((function(e,n){i[e.trim()]=t[n]})),i}))}}}]),t}(),br={name:"lbp-news-list",props:{width:{default:120},height:{default:120},dataset:he.excel({defaultValue:function(){return[["新闻标题","摘要","链接","日期","来源"],["1 . 鲁班H5 可视化搭建平台！","鲁班H5-是一款基于常见业务组件，通过拖拽的形式，生成页面的可视化搭建系统；我们的初心也是希望能通过工程化的手段，提高简单H5页面的制作效率","https://luban-h5.com/","2020-01-01","鲁班H5"],["2 . 鲁班H5-开源的可视化搭建平台！","en: web design tool || mobile page builder/editor || mini webflow for mobile page. zh: 类似易企秀的H5制作、建站工具、可视化搭建系统.","https://github.com/ly525/luban-h5","2020-01-01","鲁班H5(github)"]]}})},data:function(){return{option:{}}},render:function(){var t=arguments[0],e=yr.csv2VChartJson(this.dataset),n=e.rows;return t("div",{class:"newslist",style:"border-color: transparent;"},[n.map((function(e,n){return t("div",{class:"news-item"},[t("a",{attrs:{href:e["链接"],target:"_blank"},class:"link"},[t("div",{class:"title"},[e["新闻标题"]])]),t("div",{class:"content"},[e["摘要"]]),t("div",{class:"source"},[e["来源"]]),t("div",{class:"time"},[e["日期"]])])}))])},mounted:function(){}};e.LbpBackground=Li,e.LbpBgMusic=Bi,e.LbpButton=de,e.LbpFormButton=vn,e.LbpFormCheckboxGroup=Hn,e.LbpFormInput=Xe,e.LbpFormRadioGroup=Mn,e.LbpNewsList=br,e.LbpNoticeBar=zi,e.LbpPicture=fe,e.LbpRate=$i,e.LbpSlide=Ri,e.LbpTable=rr,e.LbpText=Ue,e.LbpVideo=ve,e.PropTypes=he,Object.defineProperty(e,"__esModule",{value:!0})}))}).call(this,n("c8ba"))},"7dc1":function(t,e,n){"use strict";t.exports=n("7a9e")},ac22:function(t,e,n){(function(t,i){(function(t,i){i(e,n("e832"),n("e0c0"),n("2726"),n("dca1"),n("f93f"))})(0,(function(e,n,r,o,a,s){"use strict";function l(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var u=l(n),c=l(o),h=l(s),d=function(t){try{return!!t()}catch(e){return!0}},f=!d((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function v(t){var e={exports:{}};return t(e,e.exports),e.exports}var m=function(t){return t&&t.Math==Math&&t},g=m("object"==typeof globalThis&&globalThis)||m("object"==typeof window&&window)||m("object"==typeof self&&self)||m("object"==typeof p&&p)||function(){return this}()||Function("return this")(),y=function(t){return"object"===typeof t?null!==t:"function"===typeof t},b=g.document,w=y(b)&&y(b.createElement),x=function(t){return w?b.createElement(t):{}},k=!f&&!d((function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})),S=function(t){if(!y(t))throw TypeError(String(t)+" is not an object");return t},_=function(t,e){if(!y(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!y(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},O=Object.defineProperty,C=f?O:function(t,e,n){if(S(t),e=_(e,!0),S(n),k)try{return O(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t},E={f:C},T=E.f,A=Function.prototype,j=A.toString,N=/^\s*function ([^ (]*)/,I="name";f&&!(I in A)&&T(A,I,{configurable:!0,get:function(){try{return j.call(this).match(N)[1]}catch(t){return""}}});var P={}.propertyIsEnumerable,M=Object.getOwnPropertyDescriptor,D=M&&!P.call({1:2},1),L=D?function(t){var e=M(this,t);return!!e&&e.enumerable}:P,R={f:L},B=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},z={}.toString,$=function(t){return z.call(t).slice(8,-1)},F="".split,q=d((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==$(t)?F.call(t,""):Object(t)}:Object,V=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t},H=function(t){return q(V(t))},U={}.hasOwnProperty,W=function(t,e){return U.call(t,e)},Y=Object.getOwnPropertyDescriptor,G=f?Y:function(t,e){if(t=H(t),e=_(e,!0),k)try{return Y(t,e)}catch(n){}if(W(t,e))return B(!R.f.call(t,e),t[e])},K={f:G},Z=f?function(t,e,n){return E.f(t,e,B(1,n))}:function(t,e,n){return t[e]=n,t},X=function(t,e){try{Z(g,t,e)}catch(n){g[t]=e}return e},Q="__core-js_shared__",J=g[Q]||X(Q,{}),tt=J,et=Function.toString;"function"!=typeof tt.inspectSource&&(tt.inspectSource=function(t){return et.call(t)});var nt,it,rt,ot=tt.inspectSource,at=g.WeakMap,st="function"===typeof at&&/native code/.test(ot(at)),lt=!1,ut=v((function(t){(t.exports=function(t,e){return tt[t]||(tt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.7.0",mode:lt?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),ct=0,ht=Math.random(),dt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++ct+ht).toString(36)},ft=ut("keys"),pt=function(t){return ft[t]||(ft[t]=dt(t))},vt={},mt=g.WeakMap,gt=function(t){return rt(t)?it(t):nt(t,{})},yt=function(t){return function(e){var n;if(!y(e)||(n=it(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(st){var bt=tt.state||(tt.state=new mt),wt=bt.get,xt=bt.has,kt=bt.set;nt=function(t,e){return e.facade=t,kt.call(bt,t,e),e},it=function(t){return wt.call(bt,t)||{}},rt=function(t){return xt.call(bt,t)}}else{var St=pt("state");vt[St]=!0,nt=function(t,e){return e.facade=t,Z(t,St,e),e},it=function(t){return W(t,St)?t[St]:{}},rt=function(t){return W(t,St)}}var _t={set:nt,get:it,has:rt,enforce:gt,getterFor:yt},Ot=v((function(t){var e=_t.get,n=_t.enforce,i=String(String).split("String");(t.exports=function(t,e,r,o){var a,s=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof e||W(r,"name")||Z(r,"name",e),a=n(r),a.source||(a.source=i.join("string"==typeof e?e:""))),t!==g?(s?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=r:Z(t,e,r)):l?t[e]=r:X(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ot(this)}))})),Ct=g,Et=function(t){return"function"==typeof t?t:void 0},Tt=function(t,e){return arguments.length<2?Et(Ct[t])||Et(g[t]):Ct[t]&&Ct[t][e]||g[t]&&g[t][e]},At=Math.ceil,jt=Math.floor,Nt=function(t){return isNaN(t=+t)?0:(t>0?jt:At)(t)},It=Math.min,Pt=function(t){return t>0?It(Nt(t),9007199254740991):0},Mt=Math.max,Dt=Math.min,Lt=function(t,e){var n=Nt(t);return n<0?Mt(n+e,0):Dt(n,e)},Rt=function(t){return function(e,n,i){var r,o=H(e),a=Pt(o.length),s=Lt(i,a);if(t&&n!=n){while(a>s)if(r=o[s++],r!=r)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},Bt={includes:Rt(!0),indexOf:Rt(!1)},zt=Bt.indexOf,$t=function(t,e){var n,i=H(t),r=0,o=[];for(n in i)!W(vt,n)&&W(i,n)&&o.push(n);while(e.length>r)W(i,n=e[r++])&&(~zt(o,n)||o.push(n));return o},Ft=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],qt=Ft.concat("length","prototype"),Vt=Object.getOwnPropertyNames||function(t){return $t(t,qt)},Ht={f:Vt},Ut=Object.getOwnPropertySymbols,Wt={f:Ut},Yt=Tt("Reflect","ownKeys")||function(t){var e=Ht.f(S(t)),n=Wt.f;return n?e.concat(n(t)):e},Gt=function(t,e){for(var n=Yt(e),i=E.f,r=K.f,o=0;o<n.length;o++){var a=n[o];W(t,a)||i(t,a,r(e,a))}},Kt=/#|\.prototype\./,Zt=function(t,e){var n=Qt[Xt(t)];return n==te||n!=Jt&&("function"==typeof e?d(e):!!e)},Xt=Zt.normalize=function(t){return String(t).replace(Kt,".").toLowerCase()},Qt=Zt.data={},Jt=Zt.NATIVE="N",te=Zt.POLYFILL="P",ee=Zt,ne=K.f,ie=function(t,e){var n,i,r,o,a,s,l=t.target,u=t.global,c=t.stat;if(i=u?g:c?g[l]||X(l,{}):(g[l]||{}).prototype,i)for(r in e){if(a=e[r],t.noTargetGet?(s=ne(i,r),o=s&&s.value):o=i[r],n=ee(u?r:l+(c?".":"#")+r,t.forced),!n&&void 0!==o){if(typeof a===typeof o)continue;Gt(a,o)}(t.sham||o&&o.sham)&&Z(a,"sham",!0),Ot(i,r,a,t)}},re=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},oe=function(t,e,n){if(re(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},ae=function(t){return Object(V(t))},se=Array.isArray||function(t){return"Array"==$(t)},le=!!Object.getOwnPropertySymbols&&!d((function(){return!String(Symbol())})),ue=le&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ce=ut("wks"),he=g.Symbol,de=ue?he:he&&he.withoutSetter||dt,fe=function(t){return W(ce,t)||(le&&W(he,t)?ce[t]=he[t]:ce[t]=de("Symbol."+t)),ce[t]},pe=fe("species"),ve=function(t,e){var n;return se(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!se(n.prototype)?y(n)&&(n=n[pe],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},me=[].push,ge=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,a=5==t||o;return function(s,l,u,c){for(var h,d,f=ae(s),p=q(f),v=oe(l,u,3),m=Pt(p.length),g=0,y=c||ve,b=e?y(s,m):n?y(s,0):void 0;m>g;g++)if((a||g in p)&&(h=p[g],d=v(h,g,f),t))if(e)b[g]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:me.call(b,h)}else if(r)return!1;return o?-1:i||r?r:b}},ye={forEach:ge(0),map:ge(1),filter:ge(2),some:ge(3),every:ge(4),find:ge(5),findIndex:ge(6)},be=function(t,e){var n=[][t];return!!n&&d((function(){n.call(null,e||function(){throw 1},1)}))},we=Object.defineProperty,xe={},ke=function(t){throw t},Se=function(t,e){if(W(xe,t))return xe[t];e||(e={});var n=[][t],i=!!W(e,"ACCESSORS")&&e.ACCESSORS,r=W(e,0)?e[0]:ke,o=W(e,1)?e[1]:void 0;return xe[t]=!!n&&!d((function(){if(i&&!f)return!0;var t={length:-1};i?we(t,1,{enumerable:!0,get:ke}):t[1]=1,n.call(t,r,o)}))},_e=ye.forEach,Oe=be("forEach"),Ce=Se("forEach"),Ee=Oe&&Ce?[].forEach:function(t){return _e(this,t,arguments.length>1?arguments[1]:void 0)};ie({target:"Array",proto:!0,forced:[].forEach!=Ee},{forEach:Ee});var Te={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Ae in Te){var je=g[Ae],Ne=je&&je.prototype;if(Ne&&Ne.forEach!==Ee)try{Z(Ne,"forEach",Ee)}catch(VI){Ne.forEach=Ee}}function Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Pe=Ie;function Me(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function De(t,e,n){return e&&Me(t.prototype,e),n&&Me(t,n),t}var Le,Re,Be=De,ze=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,i=e.title,r=e.icon,o=e.visible,a=e.component;Pe(this,t),n&&(this.name=n||a.name,this.title=i,this.icon=r,this.visible=o,this.component=a)}return Be(t,[{key:"getName",value:function(){return this.name}}]),t}(),$e=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=n.plugins,r=void 0===i?[]:i;Pe(this,t),this._plugins=[],this._pluginsMap={},r.forEach((function(t){return e.registerPlugin(t)}))}return Be(t,[{key:"register",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new ze(t);e&&(this._plugins.push(e),this._pluginsMap[e.getName()]=e)}},{key:"getPlugins",value:function(){return this._plugins}},{key:"getPluginsMap",value:function(){return this._pluginsMap}},{key:"getPlugin",value:function(t){return this.getPluginsMap()[t]}}]),t}(),Fe=new $e,qe=function(t,e,n){var i=_(e);i in t?E.f(t,i,B(0,n)):t[i]=n},Ve=Tt("navigator","userAgent")||"",He=g.process,Ue=He&&He.versions,We=Ue&&Ue.v8;We?(Le=We.split("."),Re=Le[0]+Le[1]):Ve&&(Le=Ve.match(/Edge\/(\d+)/),(!Le||Le[1]>=74)&&(Le=Ve.match(/Chrome\/(\d+)/),Le&&(Re=Le[1])));var Ye=Re&&+Re,Ge=fe("species"),Ke=function(t){return Ye>=51||!d((function(){var e=[],n=e.constructor={};return n[Ge]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ze=fe("isConcatSpreadable"),Xe=9007199254740991,Qe="Maximum allowed index exceeded",Je=Ye>=51||!d((function(){var t=[];return t[Ze]=!1,t.concat()[0]!==t})),tn=Ke("concat"),en=function(t){if(!y(t))return!1;var e=t[Ze];return void 0!==e?!!e:se(t)},nn=!Je||!tn;ie({target:"Array",proto:!0,forced:nn},{concat:function(t){var e,n,i,r,o,a=ae(this),s=ve(a,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?a:arguments[e],en(o)){if(r=Pt(o.length),l+r>Xe)throw TypeError(Qe);for(n=0;n<r;n++,l++)n in o&&qe(s,l,o[n])}else{if(l>=Xe)throw TypeError(Qe);qe(s,l++,o)}return s.length=l,s}});var rn=ye.filter,on=Ke("filter"),an=Se("filter");ie({target:"Array",proto:!0,forced:!on||!an},{filter:function(t){return rn(this,t,arguments.length>1?arguments[1]:void 0)}});var sn,ln=Object.keys||function(t){return $t(t,Ft)},un=f?Object.defineProperties:function(t,e){S(t);var n,i=ln(e),r=i.length,o=0;while(r>o)E.f(t,n=i[o++],e[n]);return t},cn=Tt("document","documentElement"),hn=">",dn="<",fn="prototype",pn="script",vn=pt("IE_PROTO"),mn=function(){},gn=function(t){return dn+pn+hn+t+dn+"/"+pn+hn},yn=function(t){t.write(gn("")),t.close();var e=t.parentWindow.Object;return t=null,e},bn=function(){var t,e=x("iframe"),n="java"+pn+":";return e.style.display="none",cn.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(gn("document.F=Object")),t.close(),t.F},wn=function(){try{sn=document.domain&&new ActiveXObject("htmlfile")}catch(VI){}wn=sn?yn(sn):bn();var t=Ft.length;while(t--)delete wn[fn][Ft[t]];return wn()};vt[vn]=!0;var xn=Object.create||function(t,e){var n;return null!==t?(mn[fn]=S(t),n=new mn,mn[fn]=null,n[vn]=t):n=wn(),void 0===e?n:un(n,e)},kn=fe("unscopables"),Sn=Array.prototype;void 0==Sn[kn]&&E.f(Sn,kn,{configurable:!0,value:xn(null)});var _n=function(t){Sn[kn][t]=!0},On=ye.find,Cn="find",En=!0,Tn=Se(Cn);Cn in[]&&Array(1)[Cn]((function(){En=!1})),ie({target:"Array",proto:!0,forced:En||!Tn},{find:function(t){return On(this,t,arguments.length>1?arguments[1]:void 0)}}),_n(Cn);var An,jn,Nn,In={},Pn=!d((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Mn=pt("IE_PROTO"),Dn=Object.prototype,Ln=Pn?Object.getPrototypeOf:function(t){return t=ae(t),W(t,Mn)?t[Mn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Dn:null},Rn=fe("iterator"),Bn=!1,zn=function(){return this};[].keys&&(Nn=[].keys(),"next"in Nn?(jn=Ln(Ln(Nn)),jn!==Object.prototype&&(An=jn)):Bn=!0),void 0==An&&(An={}),lt||W(An,Rn)||Z(An,Rn,zn);var $n={IteratorPrototype:An,BUGGY_SAFARI_ITERATORS:Bn},Fn=E.f,qn=fe("toStringTag"),Vn=function(t,e,n){t&&!W(t=n?t:t.prototype,qn)&&Fn(t,qn,{configurable:!0,value:e})},Hn=$n.IteratorPrototype,Un=function(){return this},Wn=function(t,e,n){var i=e+" Iterator";return t.prototype=xn(Hn,{next:B(1,n)}),Vn(t,i,!1,!0),In[i]=Un,t},Yn=function(t){if(!y(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},Gn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(VI){}return function(n,i){return S(n),Yn(i),e?t.call(n,i):n.__proto__=i,n}}():void 0),Kn=$n.IteratorPrototype,Zn=$n.BUGGY_SAFARI_ITERATORS,Xn=fe("iterator"),Qn="keys",Jn="values",ti="entries",ei=function(){return this},ni=function(t,e,n,i,r,o,a){Wn(n,e,i);var s,l,u,c=function(t){if(t===r&&v)return v;if(!Zn&&t in f)return f[t];switch(t){case Qn:return function(){return new n(this,t)};case Jn:return function(){return new n(this,t)};case ti:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[Xn]||f["@@iterator"]||r&&f[r],v=!Zn&&p||c(r),m="Array"==e&&f.entries||p;if(m&&(s=Ln(m.call(new t)),Kn!==Object.prototype&&s.next&&(lt||Ln(s)===Kn||(Gn?Gn(s,Kn):"function"!=typeof s[Xn]&&Z(s,Xn,ei)),Vn(s,h,!0,!0),lt&&(In[h]=ei))),r==Jn&&p&&p.name!==Jn&&(d=!0,v=function(){return p.call(this)}),lt&&!a||f[Xn]===v||Z(f,Xn,v),In[e]=v,r)if(l={values:c(Jn),keys:o?v:c(Qn),entries:c(ti)},a)for(u in l)(Zn||d||!(u in f))&&Ot(f,u,l[u]);else ie({target:e,proto:!0,forced:Zn||d},l);return l},ii="Array Iterator",ri=_t.set,oi=_t.getterFor(ii),ai=ni(Array,"Array",(function(t,e){ri(this,{type:ii,target:H(t),index:0,kind:e})}),(function(){var t=oi(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");In.Arguments=In.Array,_n("keys"),_n("values"),_n("entries");var si=ye.map,li=Ke("map"),ui=Se("map");ie({target:"Array",proto:!0,forced:!li||!ui},{map:function(t){return si(this,t,arguments.length>1?arguments[1]:void 0)}});var ci=Object.assign,hi=Object.defineProperty,di=!ci||d((function(){if(f&&1!==ci({b:1},ci(hi({},"a",{enumerable:!0,get:function(){hi(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=ci({},t)[n]||ln(ci({},e)).join("")!=i}))?function(t,e){var n=ae(t),i=arguments.length,r=1,o=Wt.f,a=R.f;while(i>r){var s,l=q(arguments[r++]),u=o?ln(l).concat(o(l)):ln(l),c=u.length,h=0;while(c>h)s=u[h++],f&&!a.call(l,s)||(n[s]=l[s])}return n}:ci;ie({target:"Object",stat:!0,forced:Object.assign!==di},{assign:di});var fi=fe("toStringTag"),pi={};pi[fi]="z";var vi="[object z]"===String(pi),mi=fe("toStringTag"),gi="Arguments"==$(function(){return arguments}()),yi=function(t,e){try{return t[e]}catch(VI){}},bi=vi?$:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=yi(e=Object(t),mi))?n:gi?$(e):"Object"==(i=$(e))&&"function"==typeof e.callee?"Arguments":i},wi=vi?{}.toString:function(){return"[object "+bi(this)+"]"};vi||Ot(Object.prototype,"toString",wi,{unsafe:!0});var xi=function(t,e,n){var i,r;return Gn&&"function"==typeof(i=e.constructor)&&i!==n&&y(r=i.prototype)&&r!==n.prototype&&Gn(t,r),t},ki=fe("match"),Si=function(t){var e;return y(t)&&(void 0!==(e=t[ki])?!!e:"RegExp"==$(t))},_i=function(){var t=S(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Oi(t,e){return RegExp(t,e)}var Ci=d((function(){var t=Oi("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Ei=d((function(){var t=Oi("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),Ti={UNSUPPORTED_Y:Ci,BROKEN_CARET:Ei},Ai=fe("species"),ji=function(t){var e=Tt(t),n=E.f;f&&e&&!e[Ai]&&n(e,Ai,{configurable:!0,get:function(){return this}})},Ni=E.f,Ii=Ht.f,Pi=_t.set,Mi=fe("match"),Di=g.RegExp,Li=Di.prototype,Ri=/a/g,Bi=/a/g,zi=new Di(Ri)!==Ri,$i=Ti.UNSUPPORTED_Y,Fi=f&&ee("RegExp",!zi||$i||d((function(){return Bi[Mi]=!1,Di(Ri)!=Ri||Di(Bi)==Bi||"/a/i"!=Di(Ri,"i")})));if(Fi){var qi=function(t,e){var n,i=this instanceof qi,r=Si(t),o=void 0===e;if(!i&&r&&t.constructor===qi&&o)return t;zi?r&&!o&&(t=t.source):t instanceof qi&&(o&&(e=_i.call(t)),t=t.source),$i&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var a=xi(zi?new Di(t,e):Di(t,e),i?this:Li,qi);return $i&&n&&Pi(a,{sticky:n}),a},Vi=function(t){t in qi||Ni(qi,t,{configurable:!0,get:function(){return Di[t]},set:function(e){Di[t]=e}})},Hi=Ii(Di),Ui=0;while(Hi.length>Ui)Vi(Hi[Ui++]);Li.constructor=qi,qi.prototype=Li,Ot(g,"RegExp",qi)}ji("RegExp");var Wi=RegExp.prototype.exec,Yi=String.prototype.replace,Gi=Wi,Ki=function(){var t=/a/,e=/b*/g;return Wi.call(t,"a"),Wi.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),Zi=Ti.UNSUPPORTED_Y||Ti.BROKEN_CARET,Xi=void 0!==/()??/.exec("")[1],Qi=Ki||Xi||Zi;Qi&&(Gi=function(t){var e,n,i,r,o=this,a=Zi&&o.sticky,s=_i.call(o),l=o.source,u=0,c=t;return a&&(s=s.replace("y",""),-1===s.indexOf("g")&&(s+="g"),c=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(l="(?: "+l+")",c=" "+c,u++),n=new RegExp("^(?:"+l+")",s)),Xi&&(n=new RegExp("^"+l+"$(?!\\s)",s)),Ki&&(e=o.lastIndex),i=Wi.call(a?n:o,c),a?i?(i.input=i.input.slice(u),i[0]=i[0].slice(u),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:Ki&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),Xi&&i&&i.length>1&&Yi.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i});var Ji=Gi;ie({target:"RegExp",proto:!0,forced:/./.exec!==Ji},{exec:Ji});var tr="toString",er=RegExp.prototype,nr=er[tr],ir=d((function(){return"/a/b"!=nr.call({source:"a",flags:"b"})})),rr=nr.name!=tr;(ir||rr)&&Ot(RegExp.prototype,tr,(function(){var t=S(this),e=String(t.source),n=t.flags,i=String(void 0===n&&t instanceof RegExp&&!("flags"in er)?_i.call(t):n);return"/"+e+"/"+i}),{unsafe:!0});var or=!d((function(){return Object.isExtensible(Object.preventExtensions({}))})),ar=v((function(t){var e=E.f,n=dt("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++i,weakData:{}}})},a=function(t,e){if(!y(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!W(t,n)){if(!r(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},s=function(t,e){if(!W(t,n)){if(!r(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},l=function(t){return or&&u.REQUIRED&&r(t)&&!W(t,n)&&o(t),t},u=t.exports={REQUIRED:!1,fastKey:a,getWeakData:s,onFreeze:l};vt[n]=!0})),sr=fe("iterator"),lr=Array.prototype,ur=function(t){return void 0!==t&&(In.Array===t||lr[sr]===t)},cr=fe("iterator"),hr=function(t){if(void 0!=t)return t[cr]||t["@@iterator"]||In[bi(t)]},dr=function(t){var e=t["return"];if(void 0!==e)return S(e.call(t)).value},fr=function(t,e){this.stopped=t,this.result=e},pr=function(t,e,n){var i,r,o,a,s,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),p=oe(e,c,1+h+f),v=function(t){return i&&dr(i),new fr(!0,t)},m=function(t){return h?(S(t),f?p(t[0],t[1],v):p(t[0],t[1])):f?p(t,v):p(t)};if(d)i=t;else{if(r=hr(t),"function"!=typeof r)throw TypeError("Target is not iterable");if(ur(r)){for(o=0,a=Pt(t.length);a>o;o++)if(s=m(t[o]),s&&s instanceof fr)return s;return new fr(!1)}i=r.call(t)}l=i.next;while(!(u=l.call(i)).done){try{s=m(u.value)}catch(VI){throw dr(i),VI}if("object"==typeof s&&s&&s instanceof fr)return s}return new fr(!1)},vr=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},mr=fe("iterator"),gr=!1;try{var yr=0,br={next:function(){return{done:!!yr++}},return:function(){gr=!0}};br[mr]=function(){return this},Array.from(br,(function(){throw 2}))}catch(VI){}var wr=function(t,e){if(!e&&!gr)return!1;var n=!1;try{var i={};i[mr]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(VI){}return n},xr=function(t,e,n){var i=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),o=i?"set":"add",a=g[t],s=a&&a.prototype,l=a,u={},c=function(t){var e=s[t];Ot(s,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!y(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!y(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!y(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(ee(t,"function"!=typeof a||!(r||s.forEach&&!d((function(){(new a).entries().next()})))))l=n.getConstructor(e,t,i,o),ar.REQUIRED=!0;else if(ee(t,!0)){var h=new l,f=h[o](r?{}:-0,1)!=h,p=d((function(){h.has(1)})),v=wr((function(t){new a(t)})),m=!r&&d((function(){var t=new a,e=5;while(e--)t[o](e,e);return!t.has(-0)}));v||(l=e((function(e,n){vr(e,l,t);var r=xi(new a,e,l);return void 0!=n&&pr(n,r[o],{that:r,AS_ENTRIES:i}),r})),l.prototype=s,s.constructor=l),(p||m)&&(c("delete"),c("has"),i&&c("get")),(m||f)&&c(o),r&&s.clear&&delete s.clear}return u[t]=l,ie({global:!0,forced:l!=a},u),Vn(l,t),r||n.setStrong(l,t,i),l},kr=function(t,e,n){for(var i in e)Ot(t,i,e[i],n);return t},Sr=E.f,_r=ar.fastKey,Or=_t.set,Cr=_t.getterFor,Er={getConstructor:function(t,e,n,i){var r=t((function(t,o){vr(t,r,e),Or(t,{type:e,index:xn(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=o&&pr(o,t[i],{that:t,AS_ENTRIES:n})})),o=Cr(e),a=function(t,e,n){var i,r,a=o(t),l=s(t,e);return l?l.value=n:(a.last=l={index:r=_r(e,!0),key:e,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=l),i&&(i.next=l),f?a.size++:t.size++,"F"!==r&&(a.index[r]=l)),t},s=function(t,e){var n,i=o(t),r=_r(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return kr(r.prototype,{clear:function(){var t=this,e=o(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,n=o(e),i=s(e,t);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),f?n.size--:e.size--}return!!i},forEach:function(t){var e,n=o(this),i=oe(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!s(this,t)}}),kr(r.prototype,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),f&&Sr(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=Cr(e),o=Cr(i);ni(t,e,(function(t,e){Or(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),ji(e)}},Tr=(xr("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Er),function(t){return function(e,n){var i,r,o=String(V(e)),a=Nt(n),s=o.length;return a<0||a>=s?t?"":void 0:(i=o.charCodeAt(a),i<55296||i>56319||a+1===s||(r=o.charCodeAt(a+1))<56320||r>57343?t?o.charAt(a):i:t?o.slice(a,a+2):r-56320+(i-55296<<10)+65536)}}),Ar={codeAt:Tr(!1),charAt:Tr(!0)},jr=Ar.charAt,Nr="String Iterator",Ir=_t.set,Pr=_t.getterFor(Nr);ni(String,"String",(function(t){Ir(this,{type:Nr,string:String(t),index:0})}),(function(){var t,e=Pr(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=jr(n,i),e.index+=t.length,{value:t,done:!1})}));var Mr=fe("iterator"),Dr=fe("toStringTag"),Lr=ai.values;for(var Rr in Te){var Br=g[Rr],zr=Br&&Br.prototype;if(zr){if(zr[Mr]!==Lr)try{Z(zr,Mr,Lr)}catch(VI){zr[Mr]=Lr}if(zr[Dr]||Z(zr,Dr,Rr),Te[Rr])for(var $r in ai)if(zr[$r]!==ai[$r])try{Z(zr,$r,ai[$r])}catch(VI){zr[$r]=ai[$r]}}}function Fr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var qr=Fr;function Vr(t){if(Array.isArray(t))return qr(t)}var Hr=Vr;function Ur(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var Wr=Ur;function Yr(t,e){if(t){if("string"===typeof t)return qr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qr(t,e):void 0}}var Gr=Yr;function Kr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Zr=Kr;function Xr(t){return Hr(t)||Wr(t)||Gr(t)||Zr()}var Qr=Xr;function Jr(t){if(Array.isArray(t))return t}var to=Jr;function eo(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw o}}return n}}var no=eo;function io(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ro=io;function oo(t,e){return to(t)||no(t,e)||Gr(t,e)||ro()}var ao=oo;function so(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var lo=so,uo="object"==typeof p&&p&&p.Object===Object&&p,co=uo,ho="object"==typeof self&&self&&self.Object===Object&&self,fo=co||ho||Function("return this")(),po=fo,vo=function(){return po.Date.now()},mo=vo,go=po.Symbol,yo=go,bo=Object.prototype,wo=bo.hasOwnProperty,xo=bo.toString,ko=yo?yo.toStringTag:void 0;function So(t){var e=wo.call(t,ko),n=t[ko];try{t[ko]=void 0;var i=!0}catch(o){}var r=xo.call(t);return i&&(e?t[ko]=n:delete t[ko]),r}var _o=So,Oo=Object.prototype,Co=Oo.toString;function Eo(t){return Co.call(t)}var To=Eo,Ao="[object Null]",jo="[object Undefined]",No=yo?yo.toStringTag:void 0;function Io(t){return null==t?void 0===t?jo:Ao:No&&No in Object(t)?_o(t):To(t)}var Po=Io;function Mo(t){return null!=t&&"object"==typeof t}var Do=Mo,Lo="[object Symbol]";function Ro(t){return"symbol"==typeof t||Do(t)&&Po(t)==Lo}var Bo=Ro,zo=NaN,$o=/^\s+|\s+$/g,Fo=/^[-+]0x[0-9a-f]+$/i,qo=/^0b[01]+$/i,Vo=/^0o[0-7]+$/i,Ho=parseInt;function Uo(t){if("number"==typeof t)return t;if(Bo(t))return zo;if(lo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=lo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($o,"");var n=qo.test(t);return n||Vo.test(t)?Ho(t.slice(2),n?2:8):Fo.test(t)?zo:+t}var Wo=Uo,Yo="Expected a function",Go=Math.max,Ko=Math.min;function Zo(t,e,n){var i,r,o,a,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError(Yo);function f(e){var n=i,o=r;return i=r=void 0,u=e,a=t.apply(o,n),a}function p(t){return u=t,s=setTimeout(g,e),c?f(t):a}function v(t){var n=t-l,i=t-u,r=e-n;return h?Ko(r,o-i):r}function m(t){var n=t-l,i=t-u;return void 0===l||n>=e||n<0||h&&i>=o}function g(){var t=mo();if(m(t))return y(t);s=setTimeout(g,v(t))}function y(t){return s=void 0,d&&i?f(t):(i=r=void 0,a)}function b(){void 0!==s&&clearTimeout(s),u=0,i=l=r=s=void 0}function w(){return void 0===s?a:y(mo())}function x(){var t=mo(),n=m(t);if(i=arguments,r=this,l=t,n){if(void 0===s)return p(l);if(h)return clearTimeout(s),s=setTimeout(g,e),f(l)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Wo(e)||0,lo(n)&&(c=!!n.leading,h="maxWait"in n,o=h?Go(Wo(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),x.cancel=b,x.flush=w,x}var Xo=Zo;function Qo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jo=Qo,ta="\t\n\v\f\r                　\u2028\u2029\ufeff",ea="["+ta+"]",na=RegExp("^"+ea+ea+"*"),ia=RegExp(ea+ea+"*$"),ra=function(t){return function(e){var n=String(V(e));return 1&t&&(n=n.replace(na,"")),2&t&&(n=n.replace(ia,"")),n}},oa={start:ra(1),end:ra(2),trim:ra(3)},aa=Ht.f,sa=K.f,la=E.f,ua=oa.trim,ca="Number",ha=g[ca],da=ha.prototype,fa=$(xn(da))==ca,pa=function(t){var e,n,i,r,o,a,s,l,u=_(t,!1);if("string"==typeof u&&u.length>2)if(u=ua(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(o=u.slice(2),a=o.length,s=0;s<a;s++)if(l=o.charCodeAt(s),l<48||l>r)return NaN;return parseInt(o,i)}return+u};if(ee(ca,!ha(" 0o1")||!ha("0b1")||ha("+0x1"))){for(var va,ma=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof ma&&(fa?d((function(){da.valueOf.call(n)})):$(n)!=ca)?xi(new ha(pa(e)),n,ma):pa(e)},ga=f?aa(ha):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ya=0;ga.length>ya;ya++)W(ha,va=ga[ya])&&!W(ma,va)&&la(ma,va,sa(ha,va));ma.prototype=da,da.constructor=ma,Ot(g,ca,ma)}var ba={},wa={labelCol:{span:24},wrapperCol:{span:24,offset:0}},xa={boolean:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"开关":e,i=t.defaultValue,r=void 0!==i&&i,o=t.props,a=void 0===o?{}:o,s=t.visible,l=void 0===s||s;return{type:Boolean,default:r,visible:l,editor:{type:"a-switch",label:n,props:a}}},required:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},color:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"文字颜色":e,i=t.defaultValue,r=void 0===i?"#000000":i,o=t.visible,a=void 0===o||o;return{type:String,default:r,visible:a,editor:{type:"colors-panel",label:n,props:{size:"mini",showAlpha:!0},require:!0}}},colors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"颜色面板":e,i=t.defaultValue,r=void 0===i?function(){return[]}:i,o=t.layout,a=void 0===o?wa:o,s=t.visible,l=void 0===s||s;return{type:Array,default:r,visible:l,editor:{type:"colors-panel",label:n,props:{size:"mini",showAlpha:!0},layout:a,require:!0}}},number:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"数值":e,i=t.defaultValue,r=void 0===i?10:i,o=t.props,a=void 0===o?ba:o,s=t.visible,l=void 0===s||s;return{type:Number,default:r,visible:l,editor:{type:"a-input-number",label:n,require:!0,props:a}}},string:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"按钮文字":e,i=t.defaultValue,r=void 0===i?"按钮":i,o=t.component,a=void 0===o?"a-input":o,s=t.props,l=void 0===s?{}:s,u=t.extra,c=t.visible,h=void 0===c||c;return{type:String,default:r,visible:h,editor:{type:a,label:n,require:!0,props:l,extra:u}}},textAlign:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"文字对齐":e,i=t.defaultValue,r=void 0===i?"center":i,o=t.visible,a=void 0===o||o;return{type:String,default:r,visible:a,editor:{type:"lbs-text-align",label:n,require:!0}}},textOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"选项列表":e,i=t.defaultValue,r=void 0===i?function(){return[{label:"label1",value:"value1"}]}:i,o=t.visible,a=void 0===o||o;return{type:Array,default:r,visible:a,editor:{type:"lbs-props-text-enum-editor",label:n,require:!0}}},image:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"图片":e,i=t.defaultValue,r=void 0===i?"":i,o=t.visible,a=void 0===o||o;return{type:String,default:r,visible:a,editor:{type:"lbs-image-gallery",label:n}}},excel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,n=void 0===e?"数据源":e,i=t.defaultValue,r=void 0===i?[]:i,o=t.layout,a=void 0===o?wa:o,s=t.visible,l=void 0===s||s;return{type:Array,default:r,visible:l,editor:{type:"lbs-excel-editor",label:n,layout:a}}},select:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.valueType,n=void 0===e?String:e,i=t.label,r=void 0===i?"选项":i,o=t.defaultValue,a=void 0===o?[]:o,s=t.visible,l=void 0===s||s,u=t.options,c=void 0===u?[]:u;return{type:n,default:a,visible:l,editor:{type:"a-select",label:r,props:{options:c}}}}},ka=(xa.string(),xa.boolean(),xa.color({label:"背景色",defaultValue:"#ffffff"}),xa.color(),xa.number({label:"字号(px)",defaultValue:14}),xa.number({label:"行高(px)",defaultValue:1}),xa.number({label:"边框宽度(px)",defaultValue:1}),xa.number({label:"圆角(px)",defaultValue:4}),xa.color({label:"边框颜色",defaultValue:"#ced4da"}),xa.textAlign(),xa.string({label:"图片地址"}),"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMyMHB4IiBoZWlnaHQ9IjE4MHB4IiB2aWV3Qm94PSIwIDAgMzIwIDE4MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4NCiAgICA8dGl0bGU+UmVjdGFuZ2xlIDM8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0icGxheSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJHcm91cC0yOSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMyIgZmlsbD0iI0Q4RDhEOCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyMCIgaGVpZ2h0PSIxODAiPjwvcmVjdD4NCiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjQuMDAwMDAwLCA1NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMC40MDAwMDAwMDYiIGN4PSIzNiIgY3k9IjM2IiByPSIzNiI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUyLjUwMTQ1NzEsMzguNDY4NzAzOSBMMjkuNTEyNTQ3NCw1My4wOTEwNDA2IEMyOC40MjUyMDE2LDUzLjc4MjY1ODMgMjYuOTgzMDY2Nyw1My40NjE4NTczIDI2LjI5MTQ0OSw1Mi4zNzQ1MTE0IEMyNi4wNTMzNzY0LDUyLjAwMDIxOSAyNS45MjY5Mjk1LDUxLjU2NTgxODMgMjUuOTI2OTI5NSw1MS4xMjIyMjY4IEwyNS45MjY5Mjk1LDIxLjg3NzU1MzQgQzI1LjkyNjkyOTUsMjAuNTg4ODg5IDI2Ljk3MTU5ODQsMTkuNTQ0MjIwMSAyOC4yNjAyNjI4LDE5LjU0NDIyMDEgQzI4LjcwMzg1NDMsMTkuNTQ0MjIwMSAyOS4xMzgyNTUsMTkuNjcwNjY3MSAyOS41MTI1NDc0LDE5LjkwODczOTcgTDUyLjUwMTQ1NzEsMzQuNTMxMDc2NCBDNTMuNTg4ODAyOSwzNS4yMjI2OTQxIDUzLjkwOTYwNCwzNi42NjQ4Mjg5IDUzLjIxNzk4NjMsMzcuNzUyMTc0NyBDNTMuMDM0NTE1OCwzOC4wNDA2MjI5IDUyLjc4OTkwNTIsMzguMjg1MjMzNSA1Mi41MDE0NTcxLDM4LjQ2ODcwMzkgWiIgaWQ9IlRyaWFuZ2xlLTIiIGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAuNSI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"),Sa=(xa.string({label:"视频地址"}),xa.boolean({label:"disabled"}),xa.boolean({label:"使用iframe"}),xa.string({default:"",label:"iframe 地址",props:{type:"textarea",placeholder:"只有使用iframe打开的时候，这个才有效"},extra:function(t){return"「使用iframe」打开的时候，这个才有效；上传视频请忽略该配置"}}),v((function(t,e){(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),r=n(18),o=n(19),a=n(45),s=n(46),l=n(47),u=n(48),c=n(49),h=n(12),d=n(32),f=n(33),p=n(31),v=n(1),m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:h.default,Class:d.default,Style:f.default,Store:p.default}};e.default=m},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var n=this;return e="[Parchment] "+e,n=t.call(this,e)||this,n.message=e,n.name=n.constructor.name,n}return i(e,t),e}(Error);e.ParchmentError=r;var o,a={},s={},l={},u={};function c(t,e){var n=d(t);if(null==n)throw new r("Unable to create "+t+" blot");var i=n,o=t instanceof Node||t["nodeType"]===Node.TEXT_NODE?t:i.create(e);return new i(o,e)}function h(t,n){return void 0===n&&(n=!1),null==t?null:null!=t[e.DATA_KEY]?t[e.DATA_KEY].blot:n?h(t.parentNode,n):null}function d(t,e){var n;if(void 0===e&&(e=o.ANY),"string"===typeof t)n=u[t]||a[t];else if(t instanceof Text||t["nodeType"]===Node.TEXT_NODE)n=u["text"];else if("number"===typeof t)t&o.LEVEL&o.BLOCK?n=u["block"]:t&o.LEVEL&o.INLINE&&(n=u["inline"]);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=s[i[r]],n)break;n=n||l[t.tagName]}return null==n?null:e&o.LEVEL&n.scope&&e&o.TYPE&n.scope?n:null}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>1)return t.map((function(t){return f(t)}));var n=t[0];if("string"!==typeof n.blotName&&"string"!==typeof n.attrName)throw new r("Invalid definition");if("abstract"===n.blotName)throw new r("Cannot register abstract class");if(u[n.blotName||n.attrName]=n,"string"===typeof n.keyName)a[n.keyName]=n;else if(null!=n.className&&(s[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(t){return t.toUpperCase()})):n.tagName=n.tagName.toUpperCase();var i=Array.isArray(n.tagName)?n.tagName:[n.tagName];i.forEach((function(t){null!=l[t]&&null!=n.className||(l[t]=n)}))}return n}e.DATA_KEY="__blot",function(t){t[t["TYPE"]=3]="TYPE",t[t["LEVEL"]=12]="LEVEL",t[t["ATTRIBUTE"]=13]="ATTRIBUTE",t[t["BLOT"]=14]="BLOT",t[t["INLINE"]=7]="INLINE",t[t["BLOCK"]=11]="BLOCK",t[t["BLOCK_BLOT"]=10]="BLOCK_BLOT",t[t["INLINE_BLOT"]=6]="INLINE_BLOT",t[t["BLOCK_ATTRIBUTE"]=9]="BLOCK_ATTRIBUTE",t[t["INLINE_ATTRIBUTE"]=5]="INLINE_ATTRIBUTE",t[t["ANY"]=15]="ANY"}(o=e.Scope||(e.Scope={})),e.create=c,e.find=h,e.query=d,e.register=f},function(t,e,n){var i=n(51),r=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype["delete"]=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o(!0,{},t),"object"===typeof n){if("number"===typeof t["delete"]&&"number"===typeof n["delete"])return this.ops[e-1]={delete:n["delete"]+t["delete"]},this;if("number"===typeof n["delete"]&&null!=t.insert&&(e-=1,n=this.ops[e-1],"object"!==typeof n))return this.ops.unshift(t),this;if(r(t.attributes,n.attributes)){if("string"===typeof t.insert&&"string"===typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"===typeof t.retain&&"number"===typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(i){var r=t(i)?e:n;r.push(i)})),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},l.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},l.prototype.slice=function(t,e){t=t||0,"number"!==typeof e&&(e=1/0);var n=[],i=a.iterator(this.ops),r=0;while(r<e&&i.hasNext()){var o;r<t?o=i.next(t-r):(o=i.next(e-r),n.push(o)),r+=a.length(o)}return new l(n)},l.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),i=[],o=n.peek();if(null!=o&&"number"===typeof o.retain&&null==o.attributes){var s=o.retain;while("insert"===e.peekType()&&e.peekLength()<=s)s-=e.peekLength(),i.push(e.next());o.retain-s>0&&n.next(o.retain-s)}var u=new l(i);while(e.hasNext()||n.hasNext())if("insert"===n.peekType())u.push(n.next());else if("delete"===e.peekType())u.push(e.next());else{var c=Math.min(e.peekLength(),n.peekLength()),h=e.next(c),d=n.next(c);if("number"===typeof d.retain){var f={};"number"===typeof h.retain?f.retain=c:f.insert=h.insert;var p=a.attributes.compose(h.attributes,d.attributes,"number"===typeof h.retain);if(p&&(f.attributes=p),u.push(f),!n.hasNext()&&r(u.ops[u.ops.length-1],f)){var v=new l(e.rest());return u.concat(v).chop()}}else"number"===typeof d["delete"]&&"number"===typeof h.retain&&u.push(d)}return u.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:s;var i=e===t?"on":"with";throw new Error("diff() called "+i+" non-document")})).join("")})),o=new l,u=i(n[0],n[1],e),c=a.iterator(this.ops),h=a.iterator(t.ops);return u.forEach((function(t){var e=t[1].length;while(e>0){var n=0;switch(t[0]){case i.INSERT:n=Math.min(h.peekLength(),e),o.push(h.next(n));break;case i.DELETE:n=Math.min(e,c.peekLength()),c.next(n),o["delete"](n);break;case i.EQUAL:n=Math.min(c.peekLength(),h.peekLength(),e);var s=c.next(n),l=h.next(n);r(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l)["delete"](n);break}e-=n}})),o.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";var n=a.iterator(this.ops),i=new l,r=0;while(n.hasNext()){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),u="string"===typeof o.insert?o.insert.indexOf(e,s)-s:-1;if(u<0)i.push(n.next());else if(u>0)i.push(n.next(u));else{if(!1===t(i,n.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&t(i,{},r)},l.prototype.transform=function(t,e){if(e=!!e,"number"===typeof t)return this.transformPosition(t,e);var n=a.iterator(this.ops),i=a.iterator(t.ops),r=new l;while(n.hasNext()||i.hasNext())if("insert"!==n.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),s=n.next(o),u=i.next(o);if(s["delete"])continue;u["delete"]?r.push(u):r.retain(o,a.attributes.transform(s.attributes,u.attributes,e))}else r.retain(a.length(n.next()));return r.chop()},l.prototype.transformPosition=function(t,e){e=!!e;var n=a.iterator(this.ops),i=0;while(n.hasNext()&&i<=t){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<t||!e)&&(t+=r),i+=r):t-=Math.min(r,t-i)}return t},t.exports=l},function(t,e){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,r=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;for(e in t);return"undefined"===typeof e||n.call(t,e)},l=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(o)return o(t,e).value}return t[e]};t.exports=function t(){var e,n,i,r,o,c,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"===typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!==typeof h&&"function"!==typeof h)&&(h={});d<f;++d)if(e=arguments[d],null!=e)for(n in e)i=u(h,n),r=u(e,n),h!==r&&(p&&r&&(s(r)||(o=a(r)))?(o?(o=!1,c=i&&a(i)?i:[]):c=i&&s(i)?i:{},l(h,{name:n,newValue:t(p,c,r)})):"undefined"!==typeof r&&l(h,{name:n,newValue:r}));return h}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(3),a=g(o),s=n(2),l=g(s),u=n(0),c=g(u),h=n(16),d=g(h),f=n(6),p=g(f),v=n(7),m=g(v);function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=1,k=function(t){function e(){return y(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return w(e,t),i(e,[{key:"attach",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new l.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=c.default.query(t,c.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"===typeof n&&n.endsWith("\n")){var o=c.default.create(S.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,n.slice(0,-1))}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}(c.default.Embed);k.scope=c.default.Scope.BLOCK_BLOT;var S=function(t){function e(t){y(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return w(e,t),i(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(c.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),_(e))}),new l.default).insert("\n",_(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,o){n<=0||(c.default.query(i,c.default.Scope.BLOCK)?t+n===this.length()&&this.format(i,o):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,o),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(t,e){return s=s.split(t,!0),s.insertAt(0,e),e.length}),t+a.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),i instanceof d.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-x)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},o}}]),e}(c.default.Block);function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"===typeof t.formats&&(e=(0,a.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:_(t.parent,e))}S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[p.default,c.default.Embed,m.default],e.bubbleFormats=_,e.BlockEmbed=k,e.default=S},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(50);var a=n(2),s=_(a),l=n(14),u=_(l),c=n(8),h=_(c),d=n(9),f=_(d),p=n(0),v=_(p),m=n(15),g=_(m),y=n(3),b=_(y),w=n(10),x=_(w),k=n(34),S=_(k);function _(t){return t&&t.__esModule?t:{default:t}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E=(0,x.default)("quill"),T=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(C(this,t),this.options=A(e,i),this.container=this.options.container,null==this.container)return E.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new u.default(this.scroll),this.selection=new g.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,(function(t){t===h.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(h.default.events.SCROLL_UPDATE,(function(t,e){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;j.call(n,(function(){return n.editor.update(null,e,r)}),t)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),x.default.level(t)}},{key:"find",value:function(t){return t.__quill||v.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&E.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof t){var r=t.attrName||t.blotName;"string"===typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach((function(i){n.register(i,t[i],e)}))}else null==this.imports[t]||i||E.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?v.default.register(e):t.startsWith("modules")&&"function"===typeof e.register&&e.register()}}]),o(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof t){var n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,o=N(t,e,n),a=r(o,4);return t=a[0],e=a[1],n=a[3],j.call(this,(function(){return i.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.default.sources.API;return j.call(this,(function(){var i=n.getSelection(!0),r=new s.default;if(null==i)return r;if(v.default.query(t,v.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,O({},t,e));else{if(0===i.length)return n.selection.format(t,e),r;r=n.editor.formatText(i.index,i.length,O({},t,e))}return n.setSelection(i,h.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(t,e,n,i,o){var a=this,s=void 0,l=N(t,e,n,i,o),u=r(l,4);return t=u[0],e=u[1],s=u[2],o=u[3],j.call(this,(function(){return a.editor.formatLine(t,e,s)}),o,t,0)}},{key:"formatText",value:function(t,e,n,i,o){var a=this,s=void 0,l=N(t,e,n,i,o),u=r(l,4);return t=u[0],e=u[1],s=u[2],o=u[3],j.call(this,(function(){return a.editor.formatText(t,e,s)}),o,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=N(t,e),i=r(n,2);return t=i[0],e=i[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=N(t,e),i=r(n,2);return t=i[0],e=i[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return j.call(this,(function(){return r.editor.insertEmbed(e,n,i)}),o,e)}},{key:"insertText",value:function(t,e,n,i,o){var a=this,s=void 0,l=N(t,0,n,i,o),u=r(l,4);return t=u[0],s=u[2],o=u[3],j.call(this,(function(){return a.editor.insertText(t,e,s)}),o,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var i=this,o=N(t,e,n),a=r(o,4);return t=a[0],e=a[1],n=a[3],j.call(this,(function(){return i.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default.sources.API;return j.call(this,(function(){t=new s.default(t);var n=e.getLength(),i=e.editor.deleteText(0,n),r=e.editor.applyDelta(t),o=r.ops[r.ops.length-1];null!=o&&"string"===typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),r.delete(1));var a=i.compose(r);return a}),n)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=N(e,n,i),a=r(o,4);e=a[0],n=a[1],i=a[3],this.selection.setRange(new m.Range(e,n),i),i!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default.sources.API,n=(new s.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default.sources.API;return j.call(this,(function(){return t=new s.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function A(t,e){if(e=(0,b.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==T.DEFAULTS.theme){if(e.theme=T.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=S.default;var n=(0,b.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(e.modules)),r=i.reduce((function(t,e){var n=T.import("modules/"+e);return null==n?E.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,b.default)(!0,{},T.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function j(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===h.default.sources.USER)return new s.default;var r=null==n?null:this.getSelection(),o=this.editor.delta,a=t();if(null!=r&&(!0===n&&(n=r.index),null==i?r=I(r,a,e):0!==i&&(r=I(r,n,i,e)),this.setSelection(r,h.default.sources.SILENT)),a.length()>0){var l,u,c=[h.default.events.TEXT_CHANGE,a,o,e];if((l=this.emitter).emit.apply(l,[h.default.events.EDITOR_CHANGE].concat(c)),e!==h.default.sources.SILENT)(u=this.emitter).emit.apply(u,c)}return a}function N(t,e,n,r,o){var a={};return"number"===typeof t.index&&"number"===typeof t.length?"number"!==typeof e?(o=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!==typeof e&&(o=r,r=n,n=e,e=0),"object"===("undefined"===typeof n?"undefined":i(n))?(a=n,o=r):"string"===typeof n&&(null!=r?a[n]=r:o=n),o=o||h.default.sources.API,[t,e,a,o]}function I(t,e,n,i){if(null==t)return null;var o=void 0,a=void 0;if(e instanceof s.default){var l=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,i!==h.default.sources.USER)})),u=r(l,2);o=u[0],a=u[1]}else{var c=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&i===h.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),d=r(c,2);o=d[0],a=d[1]}return new m.Range(o,a-o)}T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=h.default.events,T.sources=h.default.sources,T.version="1.3.7",T.imports={delta:s.default,parchment:v.default,"core/module":f.default,"core/theme":S.default},e.expandConfig=A,e.overload=N,e.default=T},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(7),a=u(o),s=n(0),l=u(s);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,[{key:"formatAt",value:function(t,n,i,o){if(e.compare(this.statics.blotName,i)<0&&l.default.query(i,l.default.Scope.BLOT)){var a=this.isolate(t,n);o&&a.wrap(i,o)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,o)}},{key:"optimize",value:function(t){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),r=e.order.indexOf(n);return i>=0||r>=0?i-r:t===n?0:t<n?-1:1}}]),e}(l.default.Inline);f.allowedChildren=[f,l.default.Embed,a.default],f.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default.Text);e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(54),a=u(o),s=n(10),l=u(s);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=(0,l.default)("quill:events"),p=["selectionchange","mousedown","mouseup","click"];p.forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var v=function(t){function e(){c(this,e);var t=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",f.error),t}return d(e,t),i(e,[{key:"emit",value:function(){f.log.apply(f,arguments),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach((function(e){var i=e.node,r=e.handler;(t.target===i||i.contains(t.target))&&r.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(a.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},e.default=v},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function o(t){if(i.indexOf(t)<=i.indexOf(r)){for(var e,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(e=console)[t].apply(e,o)}}function a(t){return i.reduce((function(e,n){return e[n]=o.bind(console,n,t),e}),{})}o.level=a.level=function(t){r=t},e.default=a},function(t,e,n){var i=Array.prototype.slice,r=n(52),o=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:u(t,e,n))};function s(t){return null===t||void 0===t}function l(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}function u(t,e,n){var u,c;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=i.call(t),e=i.call(e),a(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var h=r(t),d=r(e)}catch(f){return!1}if(h.length!=d.length)return!1;for(h.sort(),d.sort(),u=h.length-1;u>=0;u--)if(h[u]!=d[u])return!1;for(u=h.length-1;u>=0;u--)if(c=h[u],!a(t[c],e[c],n))return!1;return typeof t===typeof e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){var n=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return null!=n&&(null==this.whitelist||("string"===typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(2),s=m(a),l=n(0),u=m(l),c=n(4),h=m(c),d=n(6),f=m(d),p=n(7),v=m(p);function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w=function(t){function e(){return g(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),e}(f.default);w.blotName="code",w.tagName="CODE";var x=function(t){function e(){return g(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),r(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new s.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var r=this.descendant(v.default,this.length()-1),a=i(r,1),s=a[0];null!=s&&s.deleteAt(s.length()-1,1),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,i,r){if(0!==n&&null!=u.default.query(i,u.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(o<0||o>=t+n)){var a=this.newlineIndex(t,!0)+1,s=o-a+1,l=this.isolate(a,s),c=l.next;l.format(i,r),c instanceof e&&c.formatAt(0,t-a+n-s,i,r)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var r=this.descendant(v.default,t),o=i(r,2),a=o[0],s=o[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(u.default.create("text","\n")),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=u.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof u.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(h.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",e.Code=w,e.default=x},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=C(a),l=n(20),u=C(l),c=n(0),h=C(c),d=n(13),f=C(d),p=n(24),v=C(p),m=n(4),g=C(m),y=n(16),b=C(y),w=n(21),x=C(w),k=n(11),S=C(k),_=n(3),O=C(_);function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var A=/^[ -~]*$/,j=function(){function t(e){T(this,t),this.scroll=e,this.delta=this.getDelta()}return o(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),t=I(t),t.reduce((function(t,a){var s=a.retain||a.delete||a.insert.length||1,l=a.attributes||{};if(null!=a.insert){if("string"===typeof a.insert){var c=a.insert;c.endsWith("\n")&&n&&(n=!1,c=c.slice(0,-1)),t>=o&&!c.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,c);var d=e.scroll.line(t),f=r(d,2),p=f[0],v=f[1],y=(0,O.default)({},(0,m.bubbleFormats)(p));if(p instanceof g.default){var b=p.descendant(h.default.Leaf,v),w=r(b,1),x=w[0];y=(0,O.default)(y,(0,m.bubbleFormats)(x))}l=u.default.attributes.diff(y,l)||{}}else if("object"===i(a.insert)){var k=Object.keys(a.insert)[0];if(null==k)return t;e.scroll.insertAt(t,k,a.insert[k])}o+=s}return Object.keys(l).forEach((function(n){e.scroll.formatAt(t,s,n,l[n])})),t+s}),0),t.reduce((function(t,n){return"number"===typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new s.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var o=n.scroll.lines(t,Math.max(e,1)),a=e;o.forEach((function(e){var o=e.length();if(e instanceof f.default){var s=t-e.offset(n.scroll),l=e.newlineIndex(s+a)-s+1;e.formatAt(s,l,r,i[r])}else e.format(r,i[r]);a-=o}))}})),this.scroll.optimize(),this.update((new s.default).retain(t).retain(e,(0,x.default)(i)))}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){n.scroll.formatAt(t,e,r,i[r])})),this.update((new s.default).retain(t).retain(e,(0,x.default)(i)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new s.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach((function(t){var e=r(t,1),o=e[0];o instanceof g.default?n.push(o):o instanceof h.default.Leaf&&i.push(o)})):(n=this.scroll.lines(t,e),i=this.scroll.descendants(h.default.Leaf,t,e));var o=[n,i].map((function(t){if(0===t.length)return{};var e=(0,m.bubbleFormats)(t.shift());while(Object.keys(e).length>0){var n=t.shift();if(null==n)return e;e=N((0,m.bubbleFormats)(n),e)}return e}));return O.default.apply(O.default,o)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"===typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new s.default).retain(t).insert(E({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach((function(r){n.scroll.formatAt(t,e.length,r,i[r])})),this.update((new s.default).retain(t).insert(e,(0,x.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===g.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof b.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=this.scroll.line(t+e),o=r(i,2),a=o[0],l=o[1],u=0,c=new s.default;null!=a&&(u=a instanceof f.default?a.newlineIndex(l)-l+1:a.length()-l,c=a.delta().slice(l,l+u-1).insert("\n"));var h=this.getContents(t,e+u),d=h.diff((new s.default).insert(n).concat(c)),p=(new s.default).retain(t).concat(d);return this.applyDelta(p)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(A)&&h.default.find(e[0].target)){var r=h.default.find(e[0].target),o=(0,m.bubbleFormats)(r),a=r.offset(this.scroll),l=e[0].oldValue.replace(v.default.CONTENTS,""),u=(new s.default).insert(l),c=(new s.default).insert(r.value()),d=(new s.default).retain(a).concat(u.diff(c,n));t=d.reduce((function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)}),new s.default),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&(0,S.default)(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}}]),t}();function N(t,e){return Object.keys(e).reduce((function(n,i){return null==t[i]||(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]]),n}),{})}function I(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,x.default)(e.attributes);return delete n["image"],t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||(e=(0,x.default)(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"===typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)}),new s.default)}e.default=j},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=v(o),s=n(21),l=v(s),u=n(11),c=v(u),h=n(8),d=v(h),f=n(10),p=v(f);function v(t){return t&&t.__esModule?t:{default:t}}function m(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=(0,p.default)("quill:selection"),b=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,t),this.index=e,this.length=n},w=function(){function t(e,n){var i=this;g(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,d.default.sources.USER),1)})),this.emitter.on(d.default.events.EDITOR_CHANGE,(function(t,e){t===d.default.events.TEXT_CHANGE&&e.length()>0&&i.update(d.default.sources.SILENT)})),this.emitter.on(d.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(d.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}}))}})),this.emitter.on(d.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,r=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(r,o,a,s)}})),this.update(d.default.sources.SILENT)}return r(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(d.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(t,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=a.default.find(n.start.node,!1);if(null==i)return;if(i instanceof a.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var r=void 0,o=this.scroll.leaf(t),a=i(o,2),s=a[0],l=a[1];if(null==s)return null;var u=s.position(l,!0),c=i(u,2);r=c[0],l=c[1];var h=document.createRange();if(e>0){h.setStart(r,l);var d=this.scroll.leaf(t+e),f=i(d,2);if(s=f[0],l=f[1],null==s)return null;var p=s.position(l,!0),v=i(p,2);return r=v[0],l=v[1],h.setEnd(r,l),h.getBoundingClientRect()}var m="left",g=void 0;return r instanceof Text?(l<r.data.length?(h.setStart(r,l),h.setEnd(r,l+1)):(h.setStart(r,l-1),h.setEnd(r,l),m="right"),g=h.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(m="right")),{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return y.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();if(null==t)return[null,null];var e=this.normalizedToRange(t);return[e,t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map((function(t){var n=i(t,2),r=n[0],o=n[1],s=a.default.find(r,!0),l=s.offset(e.scroll);return 0===o?l:s instanceof a.default.Container?l+s.length():l+s.index(r,o)})),o=Math.min(Math.max.apply(Math,m(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(m(r)));return new b(s,o-s)}},{key:"normalizeNative",value:function(t){if(!x(this.root,t.startContainer)||!t.collapsed&&!x(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){var e=t.node,n=t.offset;while(!(e instanceof Text)&&e.childNodes.length>0)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],o=this.scroll.length();return n.forEach((function(t,n){t=Math.min(o-1,t);var a=void 0,s=e.scroll.leaf(t),l=i(s,2),u=l[0],c=l[1],h=u.position(c,0!==n),d=i(h,2);a=d[0],c=d[1],r.push(a,c)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(e.index,r)),a=i(o,1),s=a[0],l=s;if(e.length>0){var u=this.scroll.line(Math.min(e.index+e.length,r)),c=i(u,1);l=c[0]}if(null!=s&&null!=l){var h=t.getBoundingClientRect();n.top<h.top?t.scrollTop-=h.top-n.top:n.bottom>h.bottom&&(t.scrollTop+=n.bottom-h.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,i),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default.sources.API;if("string"===typeof e&&(n=e,e=!1),y.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,m(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.sources.USER,e=this.lastRange,n=this.getRange(),r=i(n,2),o=r[0],a=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,c.default)(e,this.lastRange)){var s;!this.composing&&null!=a&&a.native.collapsed&&a.start.node!==this.cursor.textNode&&this.cursor.restore();var u,h=[d.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(e),t];if((s=this.emitter).emit.apply(s,[d.default.events.EDITOR_CHANGE].concat(h)),t!==d.default.sources.SILENT)(u=this.emitter).emit.apply(u,h)}}}]),t}();function x(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=b,e.default=w},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,[{key:"insertInto",value:function(t,n){0===t.children.length?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(a.default.Embed);h.blotName="break",h.tagName="BR",e.default=h},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),o=n(30),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return i(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=l(e);t.insertBefore(n,t.children.head||void 0)}catch(i){if(i instanceof a.ParchmentError)return;throw i}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var i=this.children.find(n),r=i[0],o=i[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,o]:r instanceof e?r.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,(function(n,i,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&r.push(n),n instanceof e&&(r=r.concat(n.descendants(t,i,o))),o-=a})),r},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,(function(t,e,r){t.formatAt(e,r,n,i)}))},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),r=i[0],o=i[1];if(r)r.insertAt(o,e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),r=i[0],o=i[1],a=[[this,t]];return r instanceof e?a.concat(r.path(o,n)):(null!=r&&a.push([r,o]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,i,r){t=t.split(i,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],r=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),r.push.apply(r,t.removedNodes))})),r.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),i.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var i=l(t);i.next==e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))}))},e}(o.default);function l(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=s},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(31),a=n(17),s=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new o.default(n.domNode),n}return i(e,t),e.formats=function(t){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=s.query(t);n instanceof r.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===i.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,i){var r=t.prototype.wrap.call(this,n,i);return r instanceof e&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},e}(a.default);e.default=l},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=o.Scope.INLINE_BLOT,e}(r.default);e.default=a},function(t,e,n){var i=n(11),r=n(3),o={attributes:{compose:function(t,e,n){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var i=r(!0,{},e);for(var o in n||(i=Object.keys(i).reduce((function(t,e){return null!=i[e]&&(t[e]=i[e]),t}),{})),t)void 0!==t[o]&&void 0===e[o]&&(i[o]=t[o]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return i(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!==typeof t)return e;if("object"===typeof e){if(!n)return e;var i=Object.keys(e).reduce((function(n,i){return void 0===t[i]&&(n[i]=e[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"===typeof t["delete"]?t["delete"]:"number"===typeof t.retain?t.retain:"string"===typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=o.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"===typeof e["delete"])return{delete:t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"===typeof e.retain?r.retain=t:"string"===typeof e.insert?r.insert=e.insert.substr(n,t):r.insert=e.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index]["delete"]?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t.exports=o},function(t,e){var n=function(){function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(h){e=function(){}}try{n=Set}catch(h){n=function(){}}try{r=Promise}catch(h){r=function(){}}function o(a,s,l,u,h){"object"===typeof s&&(l=s.depth,u=s.prototype,h=s.includeNonEnumerable,s=s.circular);var d=[],f=[],p="undefined"!=typeof i;function v(a,l){if(null===a)return null;if(0===l)return a;var m,g;if("object"!=typeof a)return a;if(t(a,e))m=new e;else if(t(a,n))m=new n;else if(t(a,r))m=new r((function(t,e){a.then((function(e){t(v(e,l-1))}),(function(t){e(v(t,l-1))}))}));else if(o.__isArray(a))m=[];else if(o.__isRegExp(a))m=new RegExp(a.source,c(a)),a.lastIndex&&(m.lastIndex=a.lastIndex);else if(o.__isDate(a))m=new Date(a.getTime());else{if(p&&i.isBuffer(a))return m=i.allocUnsafe?i.allocUnsafe(a.length):new i(a.length),a.copy(m),m;t(a,Error)?m=Object.create(a):"undefined"==typeof u?(g=Object.getPrototypeOf(a),m=Object.create(g)):(m=Object.create(u),g=u)}if(s){var y=d.indexOf(a);if(-1!=y)return f[y];d.push(a),f.push(m)}for(var b in t(a,e)&&a.forEach((function(t,e){var n=v(e,l-1),i=v(t,l-1);m.set(n,i)})),t(a,n)&&a.forEach((function(t){var e=v(t,l-1);m.add(e)})),a){var w;g&&(w=Object.getOwnPropertyDescriptor(g,b)),w&&null==w.set||(m[b]=v(a[b],l-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(a);for(b=0;b<x.length;b++){var k=x[b],S=Object.getOwnPropertyDescriptor(a,k);(!S||S.enumerable||h)&&(m[k]=v(a[k],l-1),S.enumerable||Object.defineProperty(m,k,{enumerable:!1}))}}if(h){var _=Object.getOwnPropertyNames(a);for(b=0;b<_.length;b++){var O=_[b];S=Object.getOwnPropertyDescriptor(a,O);S&&S.enumerable||(m[O]=v(a[O],l-1),Object.defineProperty(m,O,{enumerable:!1}))}}return m}return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),v(a,l)}function a(t){return Object.prototype.toString.call(t)}function s(t){return"object"===typeof t&&"[object Date]"===a(t)}function l(t){return"object"===typeof t&&"[object Array]"===a(t)}function u(t){return"object"===typeof t&&"[object RegExp]"===a(t)}function c(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=a,o.__isDate=s,o.__isArray=l,o.__isRegExp=u,o.__getRegExpFlags=c,o}();"object"===typeof t&&t.exports&&(t.exports=n)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=y(a),l=n(8),u=y(l),c=n(4),h=y(c),d=n(16),f=y(d),p=n(13),v=y(p),m=n(25),g=y(m);function y(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function k(t){return t instanceof h.default||t instanceof c.BlockEmbed}var S=function(t){function e(t,n){b(this,e);var i=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return x(e,t),r(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var r=this.line(t),a=i(r,2),s=a[0],l=a[1],u=this.line(t+n),h=i(u,1),d=h[0];if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=d&&s!==d&&l>0){if(s instanceof c.BlockEmbed||d instanceof c.BlockEmbed)return void this.optimize();if(s instanceof v.default){var p=s.newlineIndex(s.length(),!0);if(p>-1&&(s=s.split(p+1),s===d))return void this.optimize()}else if(d instanceof v.default){var m=d.newlineIndex(0);m>-1&&d.split(m+1)}var g=d.children.head instanceof f.default?null:d.children.head;s.moveChildren(d,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,i,r){(null==this.whitelist||this.whitelist[i])&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,r),this.optimize())}},{key:"insertAt",value:function(t,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==i||null==s.default.query(n,s.default.Scope.BLOCK)){var r=s.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var a=s.default.create(n,i);this.appendChild(a)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===s.default.Scope.INLINE_BLOT){var i=s.default.create(this.statics.defaultChild);i.appendChild(t),t=i}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(k,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,i){var r=[],o=i;return e.children.forEachAt(n,i,(function(e,n,i){k(e)?r.push(e):e instanceof s.default.Container&&(r=r.concat(t(e,n,o))),o-=i})),r};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(u.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=u.default.sources.USER;"string"===typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(u.default.events.SCROLL_BEFORE_UPDATE,n,t),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(u.default.events.SCROLL_UPDATE,n,t)}}}]),e}(s.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[h.default,c.BlockEmbed,g.default],e.default=S},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(21),s=_(a),l=n(11),u=_(l),c=n(3),h=_(c),d=n(2),f=_(d),p=n(20),v=_(p),m=n(0),g=_(m),y=n(5),b=_(y),w=n(10),x=_(w),k=n(9),S=_(k);function _(t){return t&&t.__esModule?t:{default:t}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function T(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var A=(0,x.default)("quill:keyboard"),j=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",N=function(t){function e(t,n){C(this,e);var i=E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist["list"])&&i.options.bindings[e]&&i.addBinding(i.options.bindings[e])})),i.addBinding({key:e.keys.ENTER,shiftKey:null},L),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},P),i.addBinding({key:e.keys.DELETE},{collapsed:!0},M)):(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},P),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},D),i.addBinding({key:e.keys.DELETE},{collapsed:!1},D),i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},P),i.listen(),i}return T(e,t),o(e,null,[{key:"match",value:function(t,e){return e=z(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),o(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=z(t);if(null==i||null==i.key)return A.warn("Attempted to add invalid keyboard binding",i);"function"===typeof e&&(e={handler:e}),"function"===typeof n&&(n={handler:n}),i=(0,h.default)(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(t.bindings[o]||[]).filter((function(t){return e.match(n,t)}));if(0!==a.length){var s=t.quill.getSelection();if(null!=s&&t.quill.hasFocus()){var l=t.quill.getLine(s.index),c=r(l,2),h=c[0],d=c[1],f=t.quill.getLeaf(s.index),p=r(f,2),v=p[0],m=p[1],y=0===s.length?[v,m]:t.quill.getLeaf(s.index+s.length),b=r(y,2),w=b[0],x=b[1],k=v instanceof g.default.Text?v.value().slice(0,m):"",S=w instanceof g.default.Text?w.value().slice(x):"",_={collapsed:0===s.length,empty:0===s.length&&h.length()<=1,format:t.quill.getFormat(s),offset:d,prefix:k,suffix:S},O=a.some((function(e){if(null!=e.collapsed&&e.collapsed!==_.collapsed)return!1;if(null!=e.empty&&e.empty!==_.empty)return!1;if(null!=e.offset&&e.offset!==_.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==_.format[t]})))return!1}else if("object"===i(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=_.format[t]:!1===e.format[t]?null==_.format[t]:(0,u.default)(e.format[t],_.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(_.prefix))&&(!(null!=e.suffix&&!e.suffix.test(_.suffix))&&!0!==e.handler.call(t,s,_))}));O&&n.preventDefault()}}}}))}}]),e}(S.default);function I(t,e){var n,i=t===N.keys.LEFT?"prefix":"suffix";return n={key:t,shiftKey:e,altKey:null},O(n,i,/^$/),O(n,"handler",(function(n){var i=n.index;t===N.keys.RIGHT&&(i+=n.length+1);var o=this.quill.getLeaf(i),a=r(o,1),s=a[0];return!(s instanceof g.default.Embed)||(t===N.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,b.default.sources.USER):this.quill.setSelection(n.index-1,b.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,b.default.sources.USER):this.quill.setSelection(n.index+n.length+1,b.default.sources.USER),!1)})),n}function P(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),i=r(n,1),o=i[0],a={};if(0===e.offset){var s=this.quill.getLine(t.index-1),l=r(s,1),u=l[0];if(null!=u&&u.length()>1){var c=o.formats(),h=this.quill.getFormat(t.index-1,1);a=v.default.attributes.diff(c,h)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-d,d,b.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(t.index-d,d,a,b.default.sources.USER),this.quill.focus()}}function M(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var i={},o=0,a=this.quill.getLine(t.index),s=r(a,1),l=s[0];if(e.offset>=l.length()-1){var u=this.quill.getLine(t.index+1),c=r(u,1),h=c[0];if(h){var d=l.formats(),f=this.quill.getFormat(t.index,1);i=v.default.attributes.diff(d,f)||{},o=h.length()}}this.quill.deleteText(t.index,n,b.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+o-1,n,i,b.default.sources.USER)}}function D(t){var e=this.quill.getLines(t),n={};if(e.length>1){var i=e[0].formats(),r=e[e.length-1].formats();n=v.default.attributes.diff(r,i)||{}}this.quill.deleteText(t,b.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,b.default.sources.USER),this.quill.setSelection(t.index,b.default.sources.SILENT),this.quill.focus()}function L(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce((function(t,n){return g.default.query(n,g.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",i,b.default.sources.USER),this.quill.setSelection(t.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],b.default.sources.USER))}))}function R(t){return{key:N.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=g.default.query("code-block"),i=e.index,o=e.length,a=this.quill.scroll.descendant(n,i),s=r(a,2),l=s[0],u=s[1];if(null!=l){var c=this.quill.getIndex(l),h=l.newlineIndex(u,!0)+1,d=l.newlineIndex(c+u+o),f=l.domNode.textContent.slice(h,d).split("\n");u=0,f.forEach((function(e,r){t?(l.insertAt(h+u,n.TAB),u+=n.TAB.length,0===r?i+=n.TAB.length:o+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(h+u,n.TAB.length),u-=n.TAB.length,0===r?i-=n.TAB.length:o-=n.TAB.length),u+=e.length+1})),this.quill.update(b.default.sources.USER),this.quill.setSelection(i,o,b.default.sources.SILENT)}}}}function B(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],b.default.sources.USER)}}}function z(t){if("string"===typeof t||"number"===typeof t)return z({key:t});if("object"===("undefined"===typeof t?"undefined":i(t))&&(t=(0,s.default)(t,!1)),"string"===typeof t.key)if(null!=N.keys[t.key.toUpperCase()])t.key=N.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[j]=t.shortKey,delete t.shortKey),t}N.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},N.DEFAULTS={bindings:{bold:B("bold"),italic:B("italic"),underline:B("underline"),indent:{key:N.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:N.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:N.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",b.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:N.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,b.default.sources.USER)}},tab:{key:N.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new f.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,b.default.sources.SILENT)}},"list empty enter":{key:N.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,b.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:N.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),i=n[0],o=n[1],a=(0,h.default)({},i.formats(),{list:"checked"}),s=(new f.default).retain(t.index).insert("\n",a).retain(i.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,b.default.sources.USER),this.quill.setSelection(t.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:N.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),i=r(n,2),o=i[0],a=i[1],s=(new f.default).retain(t.index).insert("\n",e.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,b.default.sources.USER),this.quill.setSelection(t.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,i=this.quill.getLine(t.index),o=r(i,2),a=o[0],s=o[1];if(s>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",b.default.sources.USER),this.quill.history.cutoff();var u=(new f.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,b.default.sources.SILENT)}},"code exit":{key:N.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),i=n[0],o=n[1],a=(new f.default).retain(t.index+i.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,b.default.sources.USER)}},"embed left":I(N.keys.LEFT,!1),"embed left shift":I(N.keys.LEFT,!0),"embed right":I(N.keys.RIGHT,!1),"embed right shift":I(N.keys.RIGHT,!0)}},e.default=N,e.SHORTKEY=j},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=c(a),l=n(7),u=c(l);function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t,n){h(this,e);var i=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=n,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return f(e,t),o(e,null,[{key:"value",value:function(){}}]),o(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);var i=this,o=0;while(null!=i&&i.statics.scope!==s.default.Scope.BLOCK_BLOT)o+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=e.CONTENTS.length,i.optimize(),i.formatAt(o,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,a=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var l=[t,n.start.offset,n.end.offset];r=l[0],o=l[1],a=l[2]}while(null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var c=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof u.default?(r=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=e.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var h=[o,a].map((function(t){return Math.max(0,Math.min(r.data.length,t-1))})),d=i(h,2);return o=d[0],a=d[1],{startNode:r,startOffset:o,endNode:r,endOffset:a}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}(s.default.Embed);p.blotName="cursor",p.className="ql-cursor",p.tagName="span",p.CONTENTS="\ufeff",e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(4),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),e}(r.default.Container);h.allowedChildren=[a.default,o.BlockEmbed,h],e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,[{key:"value",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(a.default.Attributor.Style),d=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),f=new h("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=h,e.ColorClass=d,e.ColorStyle=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return d(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(a.default);function d(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=h,e.sanitize=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(23),a=u(o),s=n(107),l=u(s);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=0;function d(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var f=function(){function t(e){var n=this;c(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),t.preventDefault();break;default:}})),this.select.addEventListener("change",this.update.bind(this))}return r(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),d(this.label,"aria-expanded"),d(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case a.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case a.default.keys.ESCAPE:e.escape(),t.preventDefault();break;default:}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=l.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var i=t.buildItem(n);e.appendChild(i),!0===n.selected&&t.selectItem(i)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=A(i),o=n(5),a=A(o),s=n(4),l=A(s),u=n(16),c=A(u),h=n(25),d=A(h),f=n(24),p=A(f),v=n(35),m=A(v),g=n(6),y=A(g),b=n(22),w=A(b),x=n(7),k=A(x),S=n(55),_=A(S),O=n(42),C=A(O),E=n(23),T=A(E);function A(t){return t&&t.__esModule?t:{default:t}}a.default.register({"blots/block":l.default,"blots/block/embed":s.BlockEmbed,"blots/break":c.default,"blots/container":d.default,"blots/cursor":p.default,"blots/embed":m.default,"blots/inline":y.default,"blots/scroll":w.default,"blots/text":k.default,"modules/clipboard":_.default,"modules/history":C.default,"modules/keyboard":T.default}),r.default.register(l.default,c.default,p.default,y.default,w.default,k.default),e.default=a.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){this.domNode=t,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"===typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"===typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){var n=this.isolate(t,e);n.remove()},t.prototype.formatAt=function(t,e,n,r){var o=this.isolate(t,e);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);o.wrap(a),a.format(n,r)}},t.prototype.insertAt=function(t,e,n){var r=null==n?i.create("text",e):i.create(e,n),o=this.split(t);this.parent.insertBefore(r,o)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"===typeof t?i.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"===typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(32),o=n(33),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=o.default.keys(this.domNode);e.concat(n).concat(s).forEach((function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof i.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=s},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);function o(t,e){var n=t.getAttribute("class")||"";return n.split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){var e=o(t,this.keyName);e.forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=o(t,this.keyName)[0]||"",n=e.slice(this.keyName.length+1);return this.canAdd(t,n)?n:""},e}(r.default);e.default=a},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);function o(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){var e=t.split(":");return e[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""},e}(r.default);e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){r(this,t),this.quill=e,this.options=n,this.modules={}}return i(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=u(o),s=n(7),l=u(s);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f="\ufeff",p=function(t){function e(t){c(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(f),n.rightGuard=document.createTextNode(f),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return d(e,t),i(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,i=t.data.split(f).join("");if(t===this.leftGuard)if(this.prev instanceof l.default){var r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=f,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}}))}}]),e}(a.default.Embed);e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new r.default.Attributor.Attribute("align","align",a),l=new r.default.Attributor.Class("align","ql-align",a),u=new r.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=l,e.AlignStyle=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i=n(0),r=a(i),o=n(26);function a(t){return t&&t.__esModule?t:{default:t}}var s=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},s=new r.default.Attributor.Attribute("direction","dir",a),l=new r.default.Attributor.Class("direction","ql-direction",a),u=new r.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=l,e.DirectionStyle=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new a.default.Attributor.Class("font","ql-font",h),f=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,[{key:"value",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style),p=new f("font","font-family",h);e.FontStyle=p,e.FontClass=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=c(r),a=n(5),s=c(a),l=n(9),u=c(l);function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t,n){h(this,e);var i=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(s.default.events.EDITOR_CHANGE,(function(t,e,n,r){t!==s.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==s.default.sources.USER?i.transform(e):i.record(e,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return f(e,t),i(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],s.default.sources.USER),this.ignoreChange=!1;var i=m(n[t]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),t=r.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(u.default);function v(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"===typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)})))}function m(t){var e=t.reduce((function(t,e){return t+=e.delete||0,t}),0),n=t.length()-e;return v(t)&&(n-=1),n}p.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=p,e.getLastChangeIndex=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(3),a=S(o),s=n(2),l=S(s),u=n(8),c=S(u),h=n(23),d=S(h),f=n(34),p=S(f),v=n(59),m=S(v),g=n(60),y=S(g),b=n(28),w=S(b),x=n(61),k=S(x);function S(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function C(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],A=[!1,"serif","monospace"],j=["1","2","3",!1],N=["small",!1,"large","huge"],I=function(t){function e(t,n){_(this,e);var i=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))};return t.emitter.listenDOM("click",document.body,r),i}return C(e,t),i(e,[{key:"addModule",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){var n=t.getAttribute("class")||"";n.split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n]["rtl"];else if("string"===typeof e[n])t.innerHTML=e[n];else{var i=t.value||"";null!=i&&e[n][i]&&(t.innerHTML=e[n][i])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&D(t,E),new y.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&D(t,T,"background"===n?"#ffffff":"#000000"),new m.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?D(t,A):t.classList.contains("ql-header")?D(t,j):t.classList.contains("ql-size")&&D(t,N)),new w.default(t)}));var i=function(){n.pickers.forEach((function(t){t.update()}))};this.quill.on(c.default.events.EDITOR_CHANGE,i)}}]),e}(p.default);I.DEFAULTS=(0,a.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var i=t.quill.getSelection(!0);t.quill.updateContents((new l.default).retain(i.index).delete(i.length).insert({image:n.target.result}),c.default.sources.USER),t.quill.setSelection(i.index+1,c.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var P=function(t){function e(t,n){_(this,e);var i=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return C(e,t),i(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){d.default.match(e,"enter")?(t.save(),e.preventDefault()):d.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,c.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=M(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,c.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",c.default.sources.USER),this.quill.setSelection(i+2,c.default.sources.USER)}break;default:}this.textbox.value="",this.hide()}}]),e}(k.default);function M(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}function D(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)}))}e.BaseTooltip=P,e.default=I},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){var e,n=this.iterator();while(e=n())if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){var e=0,n=this.head;while(null!=n){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);var n,i=this.iterator();while(n=i()){var r=n.length();if(t<r||e&&t===r&&(null==n.next||0!==n.next.length()))return[n,t];t-=r}return[null,0]},t.prototype.forEach=function(t){var e,n=this.iterator();while(e=n())t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0)){var i,r=this.find(t),o=r[0],a=r[1],s=t-a,l=this.iterator(o);while((i=l())&&s<t+e){var u=i.length();t>s?n(i,t-s,Math.min(e,s+u-t)):n(i,0,Math.min(u,t+e-s)),s+=u}}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){var n,i=this.iterator();while(n=i())e=t(e,n);return e},t}();e.default=i},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=100,l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,a),n.attach(),n}return i(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,r){this.update(),t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);var a=[].slice.call(this.observer.takeRecords());while(a.length>0)e.push(a.pop());for(var l=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[o.DATA_KEY].mutations&&(t.domNode[o.DATA_KEY].mutations=[]),e&&l(t.parent))},u=function(t){null!=t.domNode[o.DATA_KEY]&&null!=t.domNode[o.DATA_KEY].mutations&&(t instanceof r.default&&t.children.forEach(u),t.optimize(n))},c=e,h=0;c.length>0;h+=1){if(h>=s)throw new Error("[Parchment] Maximum optimize iterations reached");c.forEach((function(t){var e=o.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(o.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=o.find(t,!1);l(e,!1),e instanceof r.default&&e.children.forEach((function(t){l(t,!1)}))}))):"attributes"===t.type&&l(e.prev)),l(e))})),this.children.forEach(u),c=[].slice.call(this.observer.takeRecords()),a=c.slice();while(a.length>0)e.push(a.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),e=e||this.observer.takeRecords(),e.map((function(t){var e=o.find(t.target,!0);return null==e?null:null==e.domNode[o.DATA_KEY].mutations?(e.domNode[o.DATA_KEY].mutations=[t],e):(e.domNode[o.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==i&&null!=t.domNode[o.DATA_KEY]&&t.update(t.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="DIV",e}(r.default);e.default=l},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),o=n(1);function a(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,i){var o=this;n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):(this.children.forEach((function(t){t instanceof r.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,i,r){if(null!=this.formats()[i]||o.query(i,o.Scope.ATTRIBUTE)){var a=this.isolate(e,n);a.format(i,r)}else t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&a(i,r.formats())&&(r.moveChildren(this),r.remove())},e.blotName="inline",e.scope=o.Scope.INLINE_BLOT,e.tagName="SPAN",e}(r.default);e.default=s},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),o=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){var i=o.query(e.blotName).tagName;if(n.tagName!==i)return t.formats.call(this,n)},e.prototype.format=function(n,i){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,i,r){null!=o.query(i,o.Scope.BLOCK)?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=o.query(n,o.Scope.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var r=this.split(e),a=o.create(n,i);r.parent.insertBefore(a,r)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="P",e}(r.default);e.default=a},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,r){0===e&&n===this.length()?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(r.default);e.default=o},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return i(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e["normalize"]&&(e=e["normalize"]()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=o.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=o.Scope.INLINE_BLOT,e}(r.default);e.default=a},function(t,e,n){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)===!e?e:r.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(e=n[o],t.call(r,e,o,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var n=-1,i=1,r=0;function o(t,e,n){if(t==e)return t?[[r,t]]:[];(n<0||t.length<n)&&(n=null);var i=u(t,e),o=t.substring(0,i);t=t.substring(i),e=e.substring(i),i=c(t,e);var s=t.substring(t.length-i);t=t.substring(0,t.length-i),e=e.substring(0,e.length-i);var l=a(t,e);return o&&l.unshift([r,o]),s&&l.push([r,s]),d(l),null!=n&&(l=v(l,n)),l=m(l),l}function a(t,e){var a;if(!t)return[[i,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,u=t.length>e.length?e:t,c=l.indexOf(u);if(-1!=c)return a=[[i,l.substring(0,c)],[r,u],[i,l.substring(c+u.length)]],t.length>e.length&&(a[0][0]=a[2][0]=n),a;if(1==u.length)return[[n,t],[i,e]];var d=h(t,e);if(d){var f=d[0],p=d[1],v=d[2],m=d[3],g=d[4],y=o(f,v),b=o(p,m);return y.concat([[r,g]],b)}return s(t,e)}function s(t,e){for(var r=t.length,o=e.length,a=Math.ceil((r+o)/2),s=a,u=2*a,c=new Array(u),h=new Array(u),d=0;d<u;d++)c[d]=-1,h[d]=-1;c[s+1]=0,h[s+1]=0;for(var f=r-o,p=f%2!=0,v=0,m=0,g=0,y=0,b=0;b<a;b++){for(var w=-b+v;w<=b-m;w+=2){var x=s+w;E=w==-b||w!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1;var k=E-w;while(E<r&&k<o&&t.charAt(E)==e.charAt(k))E++,k++;if(c[x]=E,E>r)m+=2;else if(k>o)v+=2;else if(p){var S=s+f-w;if(S>=0&&S<u&&-1!=h[S]){var _=r-h[S];if(E>=_)return l(t,e,E,k)}}}for(var O=-b+g;O<=b-y;O+=2){S=s+O;_=O==-b||O!=b&&h[S-1]<h[S+1]?h[S+1]:h[S-1]+1;var C=_-O;while(_<r&&C<o&&t.charAt(r-_-1)==e.charAt(o-C-1))_++,C++;if(h[S]=_,_>r)y+=2;else if(C>o)g+=2;else if(!p){x=s+f-O;if(x>=0&&x<u&&-1!=c[x]){var E=c[x];k=s+E-x;if(_=r-_,E>=_)return l(t,e,E,k)}}}}return[[n,t],[i,e]]}function l(t,e,n,i){var r=t.substring(0,n),a=e.substring(0,i),s=t.substring(n),l=e.substring(i),u=o(r,a),c=o(s,l);return u.concat(c)}function u(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;var n=0,i=Math.min(t.length,e.length),r=i,o=0;while(n<r)t.substring(o,r)==e.substring(o,r)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function c(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;var n=0,i=Math.min(t.length,e.length),r=i,o=0;while(n<r)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function h(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function r(t,e,n){var i,r,o,a,s=t.substring(n,n+Math.floor(t.length/4)),l=-1,h="";while(-1!=(l=e.indexOf(s,l+1))){var d=u(t.substring(n),e.substring(l)),f=c(t.substring(0,n),e.substring(0,l));h.length<f+d&&(h=e.substring(l-f,l)+e.substring(l,l+d),i=t.substring(0,n-f),r=t.substring(n+d),o=e.substring(0,l-f),a=e.substring(l+d))}return 2*h.length>=t.length?[i,r,o,a,h]:null}var o,a,s,l,h,d=r(n,i,Math.ceil(n.length/4)),f=r(n,i,Math.ceil(n.length/2));if(!d&&!f)return null;o=f?d&&d[4].length>f[4].length?d:f:d,t.length>e.length?(a=o[0],s=o[1],l=o[2],h=o[3]):(l=o[0],h=o[1],a=o[2],s=o[3]);var p=o[4];return[a,s,l,h,p]}function d(t){t.push([r,""]);var e,o=0,a=0,s=0,l="",h="";while(o<t.length)switch(t[o][0]){case i:s++,h+=t[o][1],o++;break;case n:a++,l+=t[o][1],o++;break;case r:a+s>1?(0!==a&&0!==s&&(e=u(h,l),0!==e&&(o-a-s>0&&t[o-a-s-1][0]==r?t[o-a-s-1][1]+=h.substring(0,e):(t.splice(0,0,[r,h.substring(0,e)]),o++),h=h.substring(e),l=l.substring(e)),e=c(h,l),0!==e&&(t[o][1]=h.substring(h.length-e)+t[o][1],h=h.substring(0,h.length-e),l=l.substring(0,l.length-e))),0===a?t.splice(o-s,a+s,[i,h]):0===s?t.splice(o-a,a+s,[n,l]):t.splice(o-a-s,a+s,[n,l],[i,h]),o=o-a-s+(a?1:0)+(s?1:0)+1):0!==o&&t[o-1][0]==r?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,s=0,a=0,l="",h="";break}""===t[t.length-1][1]&&t.pop();var f=!1;o=1;while(o<t.length-1)t[o-1][0]==r&&t[o+1][0]==r&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)==t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),f=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),f=!0)),o++;f&&d(t)}var f=o;function p(t,e){if(0===e)return[r,t];for(var i=0,o=0;o<t.length;o++){var a=t[o];if(a[0]===n||a[0]===r){var s=i+a[1].length;if(e===s)return[o+1,t];if(e<s){t=t.slice();var l=e-i,u=[a[0],a[1].slice(0,l)],c=[a[0],a[1].slice(l)];return t.splice(o,1,u,c),[o+1,t]}i=s}}throw new Error("cursor_pos is out of bounds!")}function v(t,e){var n=p(t,e),i=n[1],o=n[0],a=i[o],s=i[o+1];if(null==a)return t;if(a[0]!==r)return t;if(null!=s&&a[1]+s[1]===s[1]+a[1])return i.splice(o,2,s,a),g(i,o,2);if(null!=s&&0===s[1].indexOf(a[1])){i.splice(o,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&i.splice(o+2,0,[s[0],l]),g(i,o,3)}return t}function m(t){for(var e=!1,o=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},s=2;s<t.length;s+=1)t[s-2][0]===r&&a(t[s-2][1])&&t[s-1][0]===n&&o(t[s-1][1])&&t[s][0]===i&&o(t[s][1])&&(e=!0,t[s-1][1]=t[s-2][1].slice(-1)+t[s-1][1],t[s][1]=t[s-2][1].slice(-1)+t[s][1],t[s-2][1]=t[s-2][1].slice(0,-1));if(!e)return t;var l=[];for(s=0;s<t.length;s+=1)t[s][1].length>0&&l.push(t[s]);return l}function g(t,e,n){for(var i=e+n-1;i>=0&&i>=e-1;i--)if(i+1<t.length){var r=t[i],o=t[i+1];r[0]===o[1]&&t.splice(i,2,[r[0],r[1]+o[1]])}return t}f.INSERT=i,f.DELETE=n,f.EQUAL=r,t.exports=f},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"===typeof Object.keys?Object.keys:n,e.shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}e=t.exports=n?i:r,e.supported=i,e.unsupported=r},function(t,e){var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},a.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,r);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(t,e,n){var r=new o(e,n||this),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(t,e,n){var r=new o(e,n||this,!0),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,o){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0===--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==e||o&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,"undefined"!==typeof t&&(t.exports=a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(3),s=C(a),l=n(2),u=C(l),c=n(0),h=C(c),d=n(5),f=C(d),p=n(10),v=C(p),m=n(9),g=C(m),y=n(36),b=n(37),w=n(13),x=C(w),k=n(26),S=n(38),_=n(39),O=n(40);function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function j(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var N=(0,v.default)("quill:clipboard"),I="__ql-matcher",P=[[Node.TEXT_NODE,X],[Node.TEXT_NODE,G],["br",U],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Z],["li",Y],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",W]],M=[y.AlignAttribute,S.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),D=[y.AlignStyle,b.BackgroundStyle,k.ColorStyle,S.DirectionStyle,_.FontStyle,O.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),L=function(t){function e(t,n){T(this,e);var i=A(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],P.concat(i.options.matchers).forEach((function(t){var e=r(t,2),o=e[0],a=e[1];(n.matchVisual||a!==K)&&i.addMatcher(o,a)})),i}return j(e,t),o(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"===typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[x.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new u.default).insert(n,E({},x.default.blotName,e[x.default.blotName]))}var i=this.prepareMatching(),o=r(i,2),a=o[0],s=o[1],l=F(this.container,a,s);return z(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new u.default).retain(l.length()-1).delete(1))),N.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;if("string"===typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,f.default.sources.SILENT);else{var i=this.convert(e);this.quill.updateContents((new u.default).retain(t).concat(i),n),this.quill.setSelection(t+i.length(),f.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new u.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(f.default.sources.SILENT),setTimeout((function(){i=i.concat(e.convert()).delete(n.length),e.quill.updateContents(i,f.default.sources.USER),e.quill.setSelection(i.length()-n.length,f.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=r,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(i){var o=r(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),(function(t){t[I]=t[I]||[],t[I].push(s)}));break}})),[e,n]}}]),e}(g.default);function R(t,e,n){return"object"===("undefined"===typeof e?"undefined":i(e))?Object.keys(e).reduce((function(t,n){return R(t,n,e[n])}),t):t.reduce((function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,(0,s.default)({},E({},e,n),i.attributes))}),new u.default)}function B(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function z(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var r=t.ops[i];if("string"!==typeof r.insert)break;n=r.insert+n}return n.slice(-1*e.length)===e}function $(t){if(0===t.childNodes.length)return!1;var e=B(t);return["block","list-item"].indexOf(e.display)>-1}function F(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new u.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(i,r){var o=F(r,e,n);return r.nodeType===t.ELEMENT_NODE&&(o=e.reduce((function(t,e){return e(r,t)}),o),o=(r[I]||[]).reduce((function(t,e){return e(r,t)}),o)),i.concat(o)}),new u.default):new u.default}function q(t,e,n){return R(n,t,!0)}function V(t,e){var n=h.default.Attributor.Attribute.keys(t),i=h.default.Attributor.Class.keys(t),r=h.default.Attributor.Style.keys(t),o={};return n.concat(i).concat(r).forEach((function(e){var n=h.default.query(e,h.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(t),o[n.attrName])||(n=M[e],null==n||n.attrName!==e&&n.keyName!==e||(o[n.attrName]=n.value(t)||void 0),n=D[e],null==n||n.attrName!==e&&n.keyName!==e||(n=D[e],o[n.attrName]=n.value(t)||void 0))})),Object.keys(o).length>0&&(e=R(e,o)),e}function H(t,e){var n=h.default.query(t);if(null==n)return e;if(n.prototype instanceof h.default.Embed){var i={},r=n.value(t);null!=r&&(i[n.blotName]=r,e=(new u.default).insert(i,n.formats(t)))}else"function"===typeof n.formats&&(e=R(e,n.blotName,n.formats(t)));return e}function U(t,e){return z(e,"\n")||e.insert("\n"),e}function W(){return new u.default}function Y(t,e){var n=h.default.query(t);if(null==n||"list-item"!==n.blotName||!z(e,"\n"))return e;var i=-1,r=t.parentNode;while(!r.classList.contains("ql-clipboard"))"list"===(h.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?e:e.compose((new u.default).retain(e.length()-1).retain(1,{indent:i}))}function G(t,e){return z(e,"\n")||($(t)||e.length()>0&&t.nextSibling&&$(t.nextSibling))&&e.insert("\n"),e}function K(t,e){if($(t)&&null!=t.nextElementSibling&&!z(e,"\n\n")){var n=t.offsetHeight+parseFloat(B(t).marginTop)+parseFloat(B(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function Z(t,e){var n={},i=t.style||{};return i.fontStyle&&"italic"===B(t).fontStyle&&(n.italic=!0),i.fontWeight&&(B(t).fontWeight.startsWith("bold")||parseInt(B(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=R(e,n)),parseFloat(i.textIndent||0)>0&&(e=(new u.default).insert("\t").concat(e)),e}function X(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!B(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return e=e.replace(/[^\u00a0]/g,""),e.length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&$(t.parentNode)||null!=t.previousSibling&&$(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&$(t.parentNode)||null!=t.nextSibling&&$(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}L.DEFAULTS={matchers:[],matchVisual:!0},e.default=L,e.matchAttributor=V,e.matchBlot=H,e.matchNewline=G,e.matchSpacing=K,e.matchText=X},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,[{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(a.default);h.blotName="bold",h.tagName=["STRONG","B"],e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),a=v(o),s=n(0),l=v(s),u=n(5),c=v(u),h=n(10),d=v(h),f=n(9),p=v(f);function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w=(0,d.default)("quill:toolbar"),x=function(t){function e(t,n){g(this,e);var r,o=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");S(a,o.options.container),t.container.parentNode.insertBefore(a,t.container),o.container=a}else"string"===typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(t){o.addHandler(t,o.options.handlers[t])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(t){o.attach(t)})),o.quill.on(c.default.events.EDITOR_CHANGE,(function(t,e){t===c.default.events.SELECTION_CHANGE&&o.update(e)})),o.quill.on(c.default.events.SCROLL_OPTIMIZE,(function(){var t=o.quill.selection.getRange(),e=i(t,1),n=e[0];o.update(n)})),o):(r=w.error("Container required for toolbar",o.options),y(o,r))}return b(e,t),r(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void w.warn("ignoring attaching to disabled format",n,t);if(null==l.default.query(n))return void w.warn("ignoring attaching to nonexistent format",n,t)}var r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(function(r){var o=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var s=t.options[t.selectedIndex];o=!s.hasAttribute("selected")&&(s.value||!1)}else o=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();e.quill.focus();var u=e.quill.selection.getRange(),h=i(u,1),d=h[0];if(null!=e.handlers[n])e.handlers[n].call(e,o);else if(l.default.query(n).prototype instanceof l.default.Embed){if(o=prompt("Enter "+n),!o)return;e.quill.updateContents((new a.default).retain(d.index).delete(d.length).insert(m({},n,o)),c.default.sources.USER)}else e.quill.format(n,o,c.default.sources.USER);e.update(d)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var r=i(n,2),o=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[o])s=a.querySelector("option[selected]");else if(!Array.isArray(e[o])){var l=e[o];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=e[o]===a.getAttribute("value")||null!=e[o]&&e[o].toString()===a.getAttribute("value")||null==e[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=e[o])}))}}]),e}(p.default);function k(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=n&&(i.value=n),t.appendChild(i)}function S(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"===typeof t)k(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?_(n,e,i):k(n,e,i)}})),t.appendChild(n)}))}function _(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)})),t.appendChild(i)}x.DEFAULTS={},x.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=l.default.query(e,l.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,c.default.sources.USER)},direction:function(t){var e=this.quill.getFormat()["align"];"rtl"===t&&null==e?this.quill.format("align","right",c.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",t,c.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,c.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,c.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n["list"]||"unchecked"===n["list"]?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",t,c.default.sources.USER)}}},e.default=x,e.addControls=S},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(28),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(t,n){l(this,e);var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),i}return c(e,t),i(e,[{key:"buildItem",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=o:i.style.fill=o)}}]),e}(a.default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(28),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(t,n){l(this,e);var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return c(e,t),i(e,[{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(a.default);e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){var i=this;r(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=e+o+"px"),r.left<i.left&&(o=i.left-r.left,this.root.style.left=e+o+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(3),s=g(a),l=n(8),u=g(l),c=n(43),h=g(c),d=n(27),f=g(d),p=n(15),v=n(41),m=g(v);function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(t){function e(t,n){y(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=x);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-snow"),i}return w(e,t),o(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),m.default),this.tooltip=new S(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers["link"].call(t,!n.format.link)}))}}]),e}(h.default);k.DEFAULTS=(0,s.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);var i=this.quill.theme.tooltip;i.edit("link",n)}else this.quill.format("link",!1)}}}}});var S=function(t){function e(t,n){y(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return w(e,t),o(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,u.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(u.default.events.SELECTION_CHANGE,(function(e,n,r){if(null!=e){if(0===e.length&&r===u.default.sources.USER){var o=t.quill.scroll.descendant(f.default,e.index),a=i(o,2),s=a[0],l=a[1];if(null!=s){t.linkRange=new p.Range(e.index-l,s.length());var c=f.default.formats(s.domNode);return t.preview.textContent=c,t.preview.setAttribute("href",c),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(c.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=k},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),r=nt(i),o=n(36),a=n(38),s=n(64),l=n(65),u=nt(l),c=n(66),h=nt(c),d=n(67),f=nt(d),p=n(37),v=n(26),m=n(39),g=n(40),y=n(56),b=nt(y),w=n(68),x=nt(w),k=n(27),S=nt(k),_=n(69),O=nt(_),C=n(70),E=nt(C),T=n(71),A=nt(T),j=n(72),N=nt(j),I=n(73),P=nt(I),M=n(13),D=nt(M),L=n(74),R=nt(L),B=n(75),z=nt(B),$=n(57),F=nt($),q=n(41),V=nt(q),H=n(28),U=nt(H),W=n(59),Y=nt(W),G=n(60),K=nt(G),Z=n(61),X=nt(Z),Q=n(108),J=nt(Q),tt=n(62),et=nt(tt);function nt(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":p.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":g.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":p.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":g.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":s.IndentClass,"formats/background":p.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":m.FontClass,"formats/size":g.SizeClass,"formats/blockquote":u.default,"formats/code-block":D.default,"formats/header":h.default,"formats/list":f.default,"formats/bold":b.default,"formats/code":M.Code,"formats/italic":x.default,"formats/link":S.default,"formats/script":O.default,"formats/strike":E.default,"formats/underline":A.default,"formats/image":N.default,"formats/video":P.default,"formats/list/item":d.ListItem,"modules/formula":R.default,"modules/syntax":z.default,"modules/toolbar":F.default,"themes/bubble":J.default,"themes/snow":et.default,"ui/icons":V.default,"ui/picker":U.default,"ui/icon-picker":K.default,"ui/color-picker":Y.default,"ui/tooltip":X.default},!0),e.default=r.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(a.default.Attributor.Class),d=new h("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);u.blotName="blockquote",u.tagName="blockquote",e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),o=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(o.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=h(o),s=n(4),l=h(s),u=n(25),c=h(u);function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return f(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v(e,t),i(e,[{key:"format",value:function(t,n){t!==g.blotName||n?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:r(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(l.default);m.blotName="list-item",m.tagName="LI";var g=function(t){function e(t){f(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(e){if(e.target.parentNode===t){var i=n.statics.formats(t),r=a.default.find(e.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return t.addEventListener("touchstart",i),t.addEventListener("mousedown",i),n}return v(e,t),i(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",i=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||i.setAttribute("data-checked","checked"===t),i}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return d({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof m)r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var i=null==n?this.length():n.offset(this),o=this.split(i);o.parent.insertBefore(t,o)}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(c.default);g.blotName="list",g.scope=a.default.Scope.BLOCK_BLOT,g.tagName=["OL","UL"],g.defaultChild="list-item",g.allowedChildren=[m],e.ListItem=m,e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(56),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);u.blotName="italic",u.tagName=["EM","I"],e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(a.default);h.blotName="script",h.tagName=["SUB","SUP"],e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);u.blotName="strike",u.tagName="S",e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);u.blotName="underline",u.tagName="U",e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=l(o),s=n(27);function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=["alt","height","width"],f=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),i(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,s.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.default.Embed);f.blotName="image",f.tagName="IMG",e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(4),a=n(27),s=l(a);function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=["height","width"],f=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),i(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return s.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(o.BlockEmbed);f.blotName="video",f.className="ql-video",f.tagName="IFRAME",e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(35),a=h(o),s=n(5),l=h(s),u=n(9),c=h(u);function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return d(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),i(e,null,[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(a.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var m=function(t){function e(){d(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return p(e,t),i(e,null,[{key:"register",value:function(){l.default.register(v,!0)}}]),e}(c.default);e.FormulaBlot=v,e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=f(o),s=n(5),l=f(s),u=n(9),c=f(u),h=n(13),d=f(h);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return p(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),i(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(d.default);g.className="ql-syntax";var y=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),b=function(t){function e(t,n){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!==typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return m(e,t),i(e,null,[{key:"register",value:function(){l.default.register(y,!0),l.default.register(g,!0)}}]),i(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(g).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(l.default.sources.SILENT),null!=e&&this.quill.setSelection(e,l.default.sources.SILENT)}}}]),e}(c.default);b.DEFAULTS={highlight:function(){return null==window.hljs?null:function(t){var e=window.hljs.highlightAuto(t);return e.value}}(),interval:1e3},e.CodeBlock=g,e.CodeToken=y,e.default=b},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(3),a=p(o),s=n(8),l=p(s),u=n(43),c=p(u),h=n(15),d=n(41),f=p(d);function p(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(t){function e(t,n){v(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var i=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-bubble"),i}return g(e,t),r(e,[{key:"extendToolbar",value:function(t){this.tooltip=new w(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),f.default)}}]),e}(c.default);b.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var w=function(t){function e(t,n){v(this,e);var i=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.on(l.default.events.EDITOR_CHANGE,(function(t,e,n,r){if(t===l.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===l.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(e.index,e.length);if(1===o.length)i.position(i.quill.getBounds(e));else{var a=o[o.length-1],s=i.quill.getIndex(a),u=Math.min(a.length()-1,e.index+e.length-s),c=i.quill.getBounds(new h.Range(s,u));i.position(c)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return g(e,t),r(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),e}(u.BaseTooltip);w.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=w,e.default=b},function(t,e,n){t.exports=n(63)}])["default"]}))}))),_a=v((function(t,e){!function(e,n){t.exports=n(Sa)}(0,(function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=2)}([function(e,n){e.exports=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),o=n(6),a=n(5),s=a(r.a,o.a,!1,null,null,null);e.default=s.exports},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.quillEditor=e.Quill=void 0;var r=n(0),o=i(r),a=n(1),s=i(a),l=window.Quill||o.default,u=function(t,e){e&&(s.default.props.globalOptions.default=function(){return e}),t.component(s.default.name,s.default)},c={Quill:l,quillEditor:s.default,install:u};e.default=c,e.Quill=l,e.quillEditor=s.default,e.install=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=i(r),a=n(3),s=i(a),l=window.Quill||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),e.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:s.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var t=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new l(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",(function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)})),this.quill.on("text-change",(function(e,n,i){var r=t.$refs.editor.children[0].innerHTML,o=t.quill,a=t.quill.getText();"<p><br></p>"===r&&(r=""),t._content=r,t.$emit("input",t._content),t.$emit("change",{html:r,text:a,quill:o})})),this.$emit("ready",this.quill))}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},function(t,e){t.exports=function(t,e,n,i,r,o){var a,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(a=t,s=t.default);var u,c="function"==typeof s?s.options:s;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=u):i&&(u=i),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:a,exports:s,options:c}}},function(t,e,n){var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),n("div",{ref:"editor"})],2)},r=[],o={render:i,staticRenderFns:r};e.a=o}])}))})),Oa=(xa.color({label:"背景色",defaultValue:"rgba(0, 0, 0, 0)"}),xa.number({label:"边框宽度(px)",defaultValue:0}),xa.number({label:"圆角(px)"}),xa.color({label:"边框颜色"}),xa.string({label:"内容",defaultValue:"双击修改文字",visible:!1}),xa.string({defaultValue:"preview",label:"模式",visible:!1}),[{label:"文字",value:"text"},{label:"密码",value:"password"},{label:"日期",value:"date"},{label:"邮箱",value:"email"},{label:"手机号",value:"tel"}]),Ca=(xa.select({defaultValue:"text",label:"类型",options:Oa}),xa.string({defaultValue:"name",label:"name"}),xa.boolean({label:"disabled"}),xa.number({label:"字号(px)"}),xa.string({defaultValue:"提示信息",label:"提示信息"}),xa.color(),xa.color({label:"背景色",defaultValue:"rgba(255, 255, 255, 0.2)"}),xa.number({label:"边框宽度(px)",defaultValue:1}),xa.number({label:"圆角(px)",defaultValue:0}),xa.color({label:"边框颜色",defaultValue:"#ced4da"}),xa.textAlign({defaultValue:"left"}),xa.boolean(),xa.number({label:"行高(px)",defaultValue:1}),xa.string({defaultValue:"提交"}),xa.boolean(),xa.color({label:"背景色",defaultValue:"rgba(255, 255, 255, 0.2)"}),xa.color(),xa.number({label:"字号(px)",defaultValue:14}),xa.number({label:"行高(px)",defaultValue:1}),xa.number({label:"边框宽度(px)",defaultValue:1}),xa.number({label:"圆角(px)",defaultValue:4}),xa.color({label:"边框颜色",defaultValue:"#ced4da"}),xa.textAlign(),xa.boolean(),Bt.indexOf),Ea=[].indexOf,Ta=!!Ea&&1/[1].indexOf(1,-0)<0,Aa=be("indexOf"),ja=Se("indexOf",{ACCESSORS:!0,1:0});ie({target:"Array",proto:!0,forced:Ta||!Aa||!ja},{indexOf:function(t){return Ta?Ea.apply(this,arguments)||0:Ca(this,t,arguments.length>1?arguments[1]:void 0)}});var Na=[].join,Ia=q!=Object,Pa=be("join",",");ie({target:"Array",proto:!0,forced:Ia||!Pa},{join:function(t){return Na.call(H(this),void 0===t?",":t)}});var Ma=Ke("splice"),Da=Se("splice",{ACCESSORS:!0,0:0,1:2}),La=Math.max,Ra=Math.min,Ba=9007199254740991,za="Maximum allowed length exceeded";ie({target:"Array",proto:!0,forced:!Ma||!Da},{splice:function(t,e){var n,i,r,o,a,s,l=ae(this),u=Pt(l.length),c=Lt(t,u),h=arguments.length;if(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=Ra(La(Nt(e),0),u-c)),u+n-i>Ba)throw TypeError(za);for(r=ve(l,i),o=0;o<i;o++)a=c+o,a in l&&qe(r,o,l[a]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+i,s=o+n,a in l?l[s]=l[a]:delete l[s];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)a=o+i-1,s=o+n-1,a in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var $a={name:"lbp-form-radio",props:{value:{type:[String,Number],default:"选项值"},aliasName:{type:String,default:"标题演示"},type:{type:String,default:"radio"},checked:{type:Boolean,default:!1},onFocus:{type:Function,default:function(){}},onClick:{type:Function,default:function(){}},onBlur:{type:Function,default:function(){}},doChange:{type:Function,default:function(){}}},methods:{handleChange:function(t){this.disabled||this.$emit("change",t.target.value)}},render:function(){var t=arguments[0],e=this.aliasName,n=this.type,i=this.disabled,r=this.checked,o=this.value,a=+new Date;return t("div",{class:["lbp-"+this.type+"-wrapper","lbp-rc-wrapper"]},[t("span",{class:"tag"},[o]),t("input",{class:["lbp-"+this.type,"lbp-rc-input"],attrs:{name:e,id:a,type:n,disabled:i},ref:"input",domProps:{value:o,checked:!!r},on:{change:this.handleChange}}),t("label",{attrs:{for:a}})])}};function Fa(){var t=[{value:"选项A"},{value:"选项B"},{value:"选项C"}];return t}xa.string({defaultValue:"标题演示",label:"填写标题"}),xa.textOptions({label:"选项列表",defaultValue:function(){return Fa()}});var qa=Bt.includes,Va=Se("indexOf",{ACCESSORS:!0,1:0});ie({target:"Array",proto:!0,forced:!Va},{includes:function(t){return qa(this,t,arguments.length>1?arguments[1]:void 0)}}),_n("includes");var Ha=function(t){if(Si(t))throw TypeError("The method doesn't accept regular expressions");return t},Ua=fe("match"),Wa=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ua]=!1,"/./"[t](e)}catch(i){}}return!1};ie({target:"String",proto:!0,forced:!Wa("includes")},{includes:function(t){return!!~String(V(this)).indexOf(Ha(t),arguments.length>1?arguments[1]:void 0)}});function Ya(){var t=[{value:"选项A"},{value:"选项B"},{value:"选项C"}];return t}xa.string({defaultValue:"标题演示",label:"填写标题"}),xa.textOptions({label:"选项列表",defaultValue:function(){return Ya()}});var Ga=Ht.f,Ka={}.toString,Za="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xa=function(t){try{return Ga(t)}catch(VI){return Za.slice()}},Qa=function(t){return Za&&"[object Window]"==Ka.call(t)?Xa(t):Ga(H(t))},Ja={f:Qa},ts=fe,es={f:ts},ns=E.f,is=function(t){var e=Ct.Symbol||(Ct.Symbol={});W(e,t)||ns(e,t,{value:es.f(t)})},rs=ye.forEach,os=pt("hidden"),as="Symbol",ss="prototype",ls=fe("toPrimitive"),us=_t.set,cs=_t.getterFor(as),hs=Object[ss],ds=g.Symbol,fs=Tt("JSON","stringify"),ps=K.f,vs=E.f,ms=Ja.f,gs=R.f,ys=ut("symbols"),bs=ut("op-symbols"),ws=ut("string-to-symbol-registry"),xs=ut("symbol-to-string-registry"),ks=ut("wks"),Ss=g.QObject,_s=!Ss||!Ss[ss]||!Ss[ss].findChild,Os=f&&d((function(){return 7!=xn(vs({},"a",{get:function(){return vs(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=ps(hs,e);i&&delete hs[e],vs(t,e,n),i&&t!==hs&&vs(hs,e,i)}:vs,Cs=function(t,e){var n=ys[t]=xn(ds[ss]);return us(n,{type:as,tag:t,description:e}),f||(n.description=e),n},Es=ue?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ds},Ts=function(t,e,n){t===hs&&Ts(bs,e,n),S(t);var i=_(e,!0);return S(n),W(ys,i)?(n.enumerable?(W(t,os)&&t[os][i]&&(t[os][i]=!1),n=xn(n,{enumerable:B(0,!1)})):(W(t,os)||vs(t,os,B(1,{})),t[os][i]=!0),Os(t,i,n)):vs(t,i,n)},As=function(t,e){S(t);var n=H(e),i=ln(n).concat(Ms(n));return rs(i,(function(e){f&&!Ns.call(n,e)||Ts(t,e,n[e])})),t},js=function(t,e){return void 0===e?xn(t):As(xn(t),e)},Ns=function(t){var e=_(t,!0),n=gs.call(this,e);return!(this===hs&&W(ys,e)&&!W(bs,e))&&(!(n||!W(this,e)||!W(ys,e)||W(this,os)&&this[os][e])||n)},Is=function(t,e){var n=H(t),i=_(e,!0);if(n!==hs||!W(ys,i)||W(bs,i)){var r=ps(n,i);return!r||!W(ys,i)||W(n,os)&&n[os][i]||(r.enumerable=!0),r}},Ps=function(t){var e=ms(H(t)),n=[];return rs(e,(function(t){W(ys,t)||W(vt,t)||n.push(t)})),n},Ms=function(t){var e=t===hs,n=ms(e?bs:H(t)),i=[];return rs(n,(function(t){!W(ys,t)||e&&!W(hs,t)||i.push(ys[t])})),i};if(le||(ds=function(){if(this instanceof ds)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=dt(t),n=function(t){this===hs&&n.call(bs,t),W(this,os)&&W(this[os],e)&&(this[os][e]=!1),Os(this,e,B(1,t))};return f&&_s&&Os(hs,e,{configurable:!0,set:n}),Cs(e,t)},Ot(ds[ss],"toString",(function(){return cs(this).tag})),Ot(ds,"withoutSetter",(function(t){return Cs(dt(t),t)})),R.f=Ns,E.f=Ts,K.f=Is,Ht.f=Ja.f=Ps,Wt.f=Ms,es.f=function(t){return Cs(fe(t),t)},f&&(vs(ds[ss],"description",{configurable:!0,get:function(){return cs(this).description}}),lt||Ot(hs,"propertyIsEnumerable",Ns,{unsafe:!0}))),ie({global:!0,wrap:!0,forced:!le,sham:!le},{Symbol:ds}),rs(ln(ks),(function(t){is(t)})),ie({target:as,stat:!0,forced:!le},{for:function(t){var e=String(t);if(W(ws,e))return ws[e];var n=ds(e);return ws[e]=n,xs[n]=e,n},keyFor:function(t){if(!Es(t))throw TypeError(t+" is not a symbol");if(W(xs,t))return xs[t]},useSetter:function(){_s=!0},useSimple:function(){_s=!1}}),ie({target:"Object",stat:!0,forced:!le,sham:!f},{create:js,defineProperty:Ts,defineProperties:As,getOwnPropertyDescriptor:Is}),ie({target:"Object",stat:!0,forced:!le},{getOwnPropertyNames:Ps,getOwnPropertySymbols:Ms}),ie({target:"Object",stat:!0,forced:d((function(){Wt.f(1)}))},{getOwnPropertySymbols:function(t){return Wt.f(ae(t))}}),fs){var Ds=!le||d((function(){var t=ds();return"[null]"!=fs([t])||"{}"!=fs({a:t})||"{}"!=fs(Object(t))}));ie({target:"JSON",stat:!0,forced:Ds},{stringify:function(t,e,n){var i,r=[t],o=1;while(arguments.length>o)r.push(arguments[o++]);if(i=e,(y(e)||void 0!==t)&&!Es(t))return se(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Es(e))return e}),r[1]=e,fs.apply(null,r)}})}ds[ss][ls]||Z(ds[ss],ls,ds[ss].valueOf),Vn(ds,as),vt[os]=!0;var Ls=K.f,Rs=d((function(){Ls(1)})),Bs=!f||Rs;ie({target:"Object",stat:!0,forced:Bs,sham:!f},{getOwnPropertyDescriptor:function(t,e){return Ls(H(t),e)}});ie({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(t){var e,n,i=H(t),r=K.f,o=Yt(i),a={},s=0;while(o.length>s)n=r(i,e=o[s++]),void 0!==n&&qe(a,e,n);return a}});var zs=d((function(){ln(1)}));ie({target:"Object",stat:!0,forced:zs},{keys:function(t){return ln(ae(t))}});function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$s(Object(n),!0).forEach((function(e){Jo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.container,n=void 0===e?document.body:e,i=t.width,r=void 0===i?"100px":i,o=t.height,a=void 0===o?"100px":o,s=t.textAlign,l=void 0===s?"center":s,u=t.textBaseline,c=void 0===u?"middle":u,h=t.fontSize,d=void 0===h?16:h,f=t.fillStyle,p=void 0===f?"rgba(184, 184, 184, 0.2 )":f,v=t.content,m=void 0===v?"水印文字":v,g=t.rotate,y=void 0===g?0:g,b=t.zIndex,w=void 0===b?1e3:b,x=document.createElement("canvas");x.setAttribute("width",r),x.setAttribute("height",a);var k=x.getContext("2d");k.textAlign=l,k.textBaseline=c,k.font="".concat(d,"px Arial"),k.fillStyle=p,k.fillText(m,0,parseFloat(a)/3);var S=x.toDataURL(),_=document.querySelector(".luban_h5__wm"),O=_||document.createElement("div"),C="\n    transform: rotate(".concat(y,"deg);\n    position:absolute;\n    top:0;\n    left:0;\n    width:100%;\n    height:100%;\n    z-index:").concat(w,";\n    pointer-events:none;\n    background-repeat:repeat;\n    background-image:url('").concat(S,"');\n    user-select: none");O.setAttribute("style",C),_||(O.classList.add("luban_h5__wm"),n.style.position="relative",n.insertBefore(O,n.firstChild))}xa.string({label:"背景图"}),xa.color({label:"背景色",defaultValue:"rgba(255, 255, 255, 0.2)"}),xa.string({label:"水印文字",defaultValue:"水印文字"}),xa.number({label:"水印文字大小(px)",defaultValue:16}),xa.number({label:"水印旋转角度",defaultValue:10}),xa.color({label:"水印文字颜色",defaultValue:"rgba(184, 184, 184, 0.2)"});function Vs(t){return t&&t.__esModule?t:{default:t}}var Hs=Vs,Us=v((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}t.exports=e}));function Ws(){return Ws=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ws.apply(this,arguments)}var Ys=["attrs","props","domProps"],Gs=["class","style","directives"],Ks=["on","nativeOn"],Zs=function(t){return t.reduce((function(t,e){for(var n in e)if(t[n])if(-1!==Ys.indexOf(n))t[n]=Ws({},t[n],e[n]);else if(-1!==Gs.indexOf(n)){var i=t[n]instanceof Array?t[n]:[t[n]],r=e[n]instanceof Array?e[n]:[e[n]];t[n]=i.concat(r)}else if(-1!==Ks.indexOf(n))for(var o in e[n])if(t[n][o]){var a=t[n][o]instanceof Array?t[n][o]:[t[n][o]],s=e[n][o]instanceof Array?e[n][o]:[e[n][o]];t[n][o]=a.concat(s)}else t[n][o]=e[n][o];else if("hook"==n)for(var l in e[n])t[n][l]=t[n][l]?Xs(t[n][l],e[n][l]):e[n][l];else t[n]=e[n];else t[n]=e[n];return t}),{})},Xs=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}},Qs=Zs,Js=el;function tl(t,e){return e?"string"===typeof e?" "+t+"--"+e:Array.isArray(e)?e.reduce((function(e,n){return e+tl(t,n)}),""):Object.keys(e).reduce((function(n,i){return n+(e[i]?tl(t,i):"")}),""):""}function el(t){return function(e,n){return e&&"string"!==typeof e&&(n=e,e=""),e=e?t+"__"+e:t,""+e+tl(e,n)}}var nl=Object.defineProperty({createBEM:Js},"__esModule",{value:!0}),il=al,rl=Object.prototype.hasOwnProperty;function ol(t,e,n){var i=e[n];(0,Wl.isDef)(i)&&(rl.call(t,n)&&(0,Wl.isObject)(i)?t[n]=al(Object(t[n]),e[n]):t[n]=i)}function al(t,e){return Object.keys(e).forEach((function(n){ol(t,e,n)})),t}var sl=Object.defineProperty({deepAssign:il},"__esModule",{value:!0}),ll=v((function(t,e){e.__esModule=!0,e.default=void 0;var n={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",nameInvalid:"请输入正确的姓名",confirmDelete:"确定要删除吗",telInvalid:"请输入正确的手机号",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:function(t,e){return t+"年"+e+"月"},rangePrompt:function(t){return"选择天数不能超过 "+t+" 天"}},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"暂无可用",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}};e.default=n})),ul=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(u["default"]),i=Hs(ll),r=n.default.prototype,o=n.default.util.defineReactive;o(r,"$vantLang","zh-CN"),o(r,"$vantMessages",{"zh-CN":i.default});var a={messages:function(){return r.$vantMessages[r.$vantLang]},use:function(t,e){var n;r.$vantLang=t,this.add((n={},n[t]=e,n))},add:function(t){void 0===t&&(t={}),(0,sl.deepAssign)(r.$vantMessages,t)}};e.default=a})),cl=fl,hl=pl,dl=/-(\w)/g;function fl(t){return t.replace(dl,(function(t,e){return e.toUpperCase()}))}function pl(t,e){void 0===e&&(e=2);var n=t+"";while(n.length<e)n="0"+n;return n}var vl=Object.defineProperty({camelize:cl,padZero:hl},"__esModule",{value:!0}),ml=v((function(t,e){e.__esModule=!0,e.SlotsMixin=void 0;var n={methods:{slots:function(t,e){void 0===t&&(t="default");var n=this.$slots,i=this.$scopedSlots,r=i[t];return r?r(e):n[t]}}};e.SlotsMixin=n})),gl=wl,yl=kl;Hs(u["default"]);function bl(t){var e=this.name;t.component(e,this),t.component((0,vl.camelize)("-"+e),this)}function wl(t){var e=t.scopedSlots||t.data.scopedSlots||{},n=t.slots();return Object.keys(n).forEach((function(t){e[t]||(e[t]=function(){return n[t]})})),e}function xl(t){return{functional:!0,props:t.props,model:t.model,render:function(e,n){return t(e,n.props,wl(n),n)}}}function kl(t){return function(e){return(0,Wl.isFunction)(e)&&(e=xl(e)),e.functional||(e.mixins=e.mixins||[],e.mixins.push(ml.SlotsMixin)),e.name=t,e.install=bl,e}}var Sl=Object.defineProperty({unifySlots:gl,createComponent:yl},"__esModule",{value:!0}),_l=Cl,Ol=Hs(ul);function Cl(t){var e=(0,vl.camelize)(t)+".";return function(t){for(var n=Ol.default.messages(),i=(0,Wl.get)(n,e+t)||(0,Wl.get)(n,t),r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return(0,Wl.isFunction)(i)?i.apply(void 0,o):i}}var El=Object.defineProperty({createI18N:_l},"__esModule",{value:!0}),Tl=Al;function Al(t){return t="van-"+t,[(0,Sl.createComponent)(t),(0,nl.createBEM)(t),(0,El.createI18N)(t)]}var jl=Object.defineProperty({createNamespace:Tl},"__esModule",{value:!0}),Nl=Pl,Il=Ml;function Pl(t){return/^\d+(\.\d+)?$/.test(t)}function Ml(t){return Number.isNaN?Number.isNaN(t):t!==t}var Dl,Ll=Object.defineProperty({isNumeric:Nl,isNaN:Il},"__esModule",{value:!0}),Rl=zl,Bl=Hl;function zl(t){if((0,Wl.isDef)(t))return t=String(t),(0,Ll.isNumeric)(t)?t+"px":t}function $l(){if(!Dl){var t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;Dl=parseFloat(e)}return Dl}function Fl(t){return t=t.replace(/rem/g,""),+t*$l()}function ql(t){return t=t.replace(/vw/g,""),+t*window.innerWidth/100}function Vl(t){return t=t.replace(/vh/g,""),+t*window.innerHeight/100}function Hl(t){if("number"===typeof t)return t;if(Wl.inBrowser){if(-1!==t.indexOf("rem"))return Fl(t);if(-1!==t.indexOf("vw"))return ql(t);if(-1!==t.indexOf("vh"))return Vl(t)}return parseFloat(t)}var Ul=Object.defineProperty({addUnit:Rl,unitToPx:Bl},"__esModule",{value:!0}),Wl=v((function(t,e){e.__esModule=!0,e.noop=o,e.isDef=a,e.isFunction=s,e.isObject=l,e.isPromise=c,e.get=h,e.isServer=e.inBrowser=e.addUnit=e.createNamespace=void 0;var n=Hs(u["default"]);e.createNamespace=jl.createNamespace,e.addUnit=Ul.addUnit;var i="undefined"!==typeof window;e.inBrowser=i;var r=n.default.prototype.$isServer;function o(){}function a(t){return void 0!==t&&null!==t}function s(t){return"function"===typeof t}function l(t){return null!==t&&"object"===typeof t}function c(t){return l(t)&&s(t.then)&&s(t.catch)}function h(t,e){var n=e.split("."),i=t;return n.forEach((function(t){var e;i=null!=(e=i[t])?e:""})),i}e.isServer=r})),Yl=tu,Gl=eu,Kl=nu,Zl=Hs(Us),Xl=Hs(u["default"]),Ql=["ref","style","class","attrs","refInFor","nativeOn","directives","staticClass","staticStyle"],Jl={nativeOn:"on"};function tu(t,e){var n=Ql.reduce((function(e,n){return t.data[n]&&(e[Jl[n]||n]=t.data[n]),e}),{});return e&&(n.on=n.on||{},(0,Zl.default)(n.on,t.data.on)),n}function eu(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=t.listeners[e];o&&(Array.isArray(o)?o.forEach((function(t){t.apply(void 0,i)})):o.apply(void 0,i))}function nu(t,e){var n=new Xl.default({el:document.createElement("div"),props:t.props,render:function(n){return n(t,(0,Zl.default)({props:this.$props},e))}});return document.body.appendChild(n.$el),n}var iu=Object.defineProperty({inherit:Yl,emit:Gl,mount:Kl},"__esModule",{value:!0}),ru=v((function(t,e){e.__esModule=!0,e.context=void 0;var n={zIndex:2e3,lockCount:0,stack:[],find:function(t){return this.stack.filter((function(e){return e.vm===t}))[0]}};e.context=n})),ou=v((function(t,e){e.__esModule=!0,e.on=r,e.off=o,e.stopPropagation=a,e.preventDefault=s,e.supportsPassive=void 0;var n=!1;if(e.supportsPassive=n,!Wl.isServer)try{var i={};Object.defineProperty(i,"passive",{get:function(){e.supportsPassive=n=!0}}),window.addEventListener("test-passive",null,i)}catch(l){}function r(t,e,i,r){void 0===r&&(r=!1),Wl.isServer||t.addEventListener(e,i,!!n&&{capture:!1,passive:r})}function o(t,e,n){Wl.isServer||t.removeEventListener(e,n)}function a(t){t.stopPropagation()}function s(t,e){("boolean"!==typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&a(t)}})),au=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Us),r=(0,Wl.createNamespace)("overlay"),o=r[0],a=r[1];function s(t){(0,ou.preventDefault)(t,!0)}function l(t,e,r,o){var l=(0,i.default)({zIndex:e.zIndex},e.customStyle);return(0,Wl.isDef)(e.duration)&&(l.animationDuration=e.duration+"s"),t("transition",{attrs:{name:"van-fade"}},[t("div",(0,n.default)([{directives:[{name:"show",value:e.show}],style:l,class:[a(),e.className],on:{touchmove:e.lockScroll?s:Wl.noop}},(0,iu.inherit)(o,!0)]),[null==r.default?void 0:r.default()])])}l.props={show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,customStyle:Object,lockScroll:{type:Boolean,default:!0}};var u=o(l);e.default=u})),su=lu;function lu(t){var e=t.parentNode;e&&e.removeChild(t)}var uu=Object.defineProperty({removeNode:su},"__esModule",{value:!0}),cu=yu,hu=bu,du=wu,fu=xu,pu=Hs(Us),vu=Hs(au),mu={className:"",customStyle:{}};function gu(t){return(0,iu.mount)(vu.default,{on:{click:function(){t.$emit("click-overlay"),t.closeOnClickOverlay&&(t.onClickOverlay?t.onClickOverlay():t.close())}}})}function yu(t){var e=ru.context.find(t);if(e){var n=t.$el,i=e.config,r=e.overlay;n&&n.parentNode&&n.parentNode.insertBefore(r.$el,n),(0,pu.default)(r,mu,i,{show:!0})}}function bu(t,e){var n=ru.context.find(t);if(n)n.config=e;else{var i=gu(t);ru.context.stack.push({vm:t,config:e,overlay:i})}yu(t)}function wu(t){var e=ru.context.find(t);e&&(e.overlay.show=!1)}function xu(t){var e=ru.context.find(t);e&&(0,uu.removeNode)(e.overlay.$el)}var ku=Object.defineProperty({updateOverlay:cu,openOverlay:hu,closeOverlay:du,removeOverlay:fu},"__esModule",{value:!0}),Su=Pu,_u=Mu,Ou=Du,Cu=Lu,Eu=Ru,Tu=Bu,Au=zu,ju=$u;function Nu(t){return t===window}var Iu=/scroll|auto/i;function Pu(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var i=window.getComputedStyle(n),r=i.overflowY;if(Iu.test(r))return n;n=n.parentNode}return e}function Mu(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function Du(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function Lu(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Ru(t){Du(window,t),Du(document.body,t)}function Bu(t,e){if(Nu(t))return 0;var n=e?Mu(e):Lu();return t.getBoundingClientRect().top+n}function zu(t){return Nu(t)?t.innerHeight:t.getBoundingClientRect().height}function $u(t){return Nu(t)?0:t.getBoundingClientRect().top}var Fu=Object.defineProperty({getScroller:Su,getScrollTop:_u,setScrollTop:Ou,getRootScrollTop:Cu,setRootScrollTop:Eu,getElementTop:Tu,getVisibleHeight:Au,getVisibleTop:ju},"__esModule",{value:!0}),qu=v((function(t,e){e.__esModule=!0,e.TouchMixin=void 0;var n=10;function i(t,e){return t>e&&t>n?"horizontal":e>t&&e>n?"vertical":""}var r={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||i(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},bindTouchEvent:function(t){var e=this.onTouchStart,n=this.onTouchMove,i=this.onTouchEnd;(0,ou.on)(t,"touchstart",e),(0,ou.on)(t,"touchmove",n),i&&((0,ou.on)(t,"touchend",i),(0,ou.on)(t,"touchcancel",i))}}};e.TouchMixin=r})),Vu=Uu;function Hu(t){return"string"===typeof t?document.querySelector(t):t()}function Uu(t){var e=void 0===t?{}:t,n=e.ref,i=e.afterPortal;return{props:{getContainer:[String,Function]},watch:{getContainer:"portal"},mounted:function(){this.getContainer&&this.portal()},methods:{portal:function(){var t,e=this.getContainer,r=n?this.$refs[n]:this.$el;e?t=Hu(e):this.$parent&&(t=this.$parent.$el),t&&t!==r.parentNode&&t.appendChild(r),i&&i.call(this)}}}}var Wu=Object.defineProperty({PortalMixin:Vu},"__esModule",{value:!0}),Yu=Ku,Gu=0;function Ku(t){var e="binded_"+Gu++;function n(){this[e]||(t.call(this,ou.on,!0),this[e]=!0)}function i(){this[e]&&(t.call(this,ou.off,!1),this[e]=!1)}return{mounted:n,activated:n,deactivated:i,beforeDestroy:i}}var Zu=Object.defineProperty({BindEventMixin:Yu},"__esModule",{value:!0}),Xu=v((function(t,e){e.__esModule=!0,e.CloseOnPopstateMixin=void 0;var n={mixins:[(0,Zu.BindEventMixin)((function(t,e){this.handlePopstate(e&&this.closeOnPopstate)}))],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(t){this.handlePopstate(t)}},methods:{onPopstate:function(){this.close(),this.shouldReopen=!1},handlePopstate:function(t){if(!this.$isServer&&this.bindStatus!==t){this.bindStatus=t;var e=t?ou.on:ou.off;e(window,"popstate",this.onPopstate)}}}};e.CloseOnPopstateMixin=n})),Qu=v((function(t,e){e.__esModule=!0,e.PopupMixin=i,e.popupMixinProps=void 0;var n={transitionAppear:Boolean,value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[Number,String],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}};function i(t){return void 0===t&&(t={}),{mixins:[qu.TouchMixin,Xu.CloseOnPopstateMixin,(0,Wu.PortalMixin)({afterPortal:function(){this.overlay&&(0,ku.updateOverlay)()}})],props:n,data:function(){return{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(e){var n=e?"open":"close";this.inited=this.inited||this.value,this[n](),t.skipToggleEvent||this.$emit(n)},overlay:"renderOverlay"},mounted:function(){this.value&&this.open()},activated:function(){this.shouldReopen&&(this.$emit("input",!0),this.shouldReopen=!1)},beforeDestroy:function(){(0,ku.removeOverlay)(this),this.opened&&this.removeLock(),this.getContainer&&(0,uu.removeNode)(this.$el)},deactivated:function(){this.value&&(this.close(),this.shouldReopen=!0)},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(ru.context.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.addLock())},addLock:function(){this.lockScroll&&((0,ou.on)(document,"touchstart",this.touchStart),(0,ou.on)(document,"touchmove",this.onTouchMove),ru.context.lockCount||document.body.classList.add("van-overflow-hidden"),ru.context.lockCount++)},removeLock:function(){this.lockScroll&&ru.context.lockCount&&(ru.context.lockCount--,(0,ou.off)(document,"touchstart",this.touchStart),(0,ou.off)(document,"touchmove",this.onTouchMove),ru.context.lockCount||document.body.classList.remove("van-overflow-hidden"))},close:function(){this.opened&&((0,ku.closeOverlay)(this),this.opened=!1,this.removeLock(),this.$emit("input",!1))},onTouchMove:function(t){this.touchMove(t);var e=this.deltaY>0?"10":"01",n=(0,Fu.getScroller)(t.target,this.$el),i=n.scrollHeight,r=n.offsetHeight,o=n.scrollTop,a="11";0===o?a=r>=i?"00":"01":o+r>=i&&(a="10"),"11"===a||"vertical"!==this.direction||parseInt(a,2)&parseInt(e,2)||(0,ou.preventDefault)(t,!0)},renderOverlay:function(){var t=this;!this.$isServer&&this.value&&this.$nextTick((function(){t.updateZIndex(t.overlay?1:0),t.overlay?(0,ku.openOverlay)(t,{zIndex:ru.context.zIndex++,duration:t.duration,className:t.overlayClass,customStyle:t.overlayStyle}):(0,ku.closeOverlay)(t)}))},updateZIndex:function(t){void 0===t&&(t=0),this.$el.style.zIndex=++ru.context.zIndex+t}}}}e.popupMixinProps=n})),Ju=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("info"),r=i[0],o=i[1];function a(t,e,i,r){var a=e.dot,s=e.info,l=(0,Wl.isDef)(s)&&""!==s;if(a||l)return t("div",(0,n.default)([{class:o({dot:a})},(0,iu.inherit)(r,!0)]),[a?"":e.info])}a.props={dot:Boolean,info:[Number,String]};var s=r(a);e.default=s})),tc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Ju),r=(0,Wl.createNamespace)("icon"),o=r[0],a=r[1];function s(t){return!!t&&-1!==t.indexOf("/")}var l={medel:"medal","medel-o":"medal-o","calender-o":"calendar-o"};function u(t){return t&&l[t]||t}function c(t,e,r,o){var l,c=u(e.name),h=s(c);return t(e.tag,(0,n.default)([{class:[e.classPrefix,h?"":e.classPrefix+"-"+c],style:{color:e.color,fontSize:(0,Wl.addUnit)(e.size)}},(0,iu.inherit)(o,!0)]),[r.default&&r.default(),h&&t("img",{class:a("image"),attrs:{src:c}}),t(i.default,{attrs:{dot:e.dot,info:null!=(l=e.badge)?l:e.info}})])}c.props={dot:Boolean,name:String,size:[Number,String],info:[Number,String],badge:[Number,String],color:String,tag:{type:String,default:"i"},classPrefix:{type:String,default:a()}};var h=o(c);e.default=h})),ec=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(tc),i=(0,Wl.createNamespace)("popup"),r=i[0],o=i[1],a=r({mixins:[(0,Qu.PopupMixin)()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(n){return t.$emit(e,n)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var i=this.round,r=this.position,a=this.duration,s="center"===r,l=this.transition||(s?"van-fade":"van-popup-slide-"+r),u={};if((0,Wl.isDef)(a)){var c=s?"animationDuration":"transitionDuration";u[c]=a+"s"}return e("transition",{attrs:{appear:this.transitionAppear,name:l},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:u,class:o((t={round:i},t[r]=r,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(n.default,{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:o("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}});e.default=a})),nc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("loading"),r=i[0],o=i[1];function a(t,e){if("spinner"===e.type){for(var n=[],i=0;i<12;i++)n.push(t("i"));return n}return t("svg",{class:o("circular"),attrs:{viewBox:"25 25 50 50"}},[t("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])}function s(t,e,n){if(n.default){var i=e.textSize&&{fontSize:(0,Wl.addUnit)(e.textSize)};return t("span",{class:o("text"),style:i},[n.default()])}}function l(t,e,i,r){var l=e.color,u=e.size,c=e.type,h={color:l};if(u){var d=(0,Wl.addUnit)(u);h.width=d,h.height=d}return t("div",(0,n.default)([{class:o([c,{vertical:e.vertical}])},(0,iu.inherit)(r,!0)]),[t("span",{class:o("spinner",c),style:h},[a(t,e)]),s(t,e,i)])}l.props={color:String,size:[Number,String],vertical:Boolean,textSize:[Number,String],type:{type:String,default:"circular"}};var u=r(l);e.default=u})),ic=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Qs),r=Hs(tc),o=Hs(ec),a=Hs(nc),s=(0,Wl.createNamespace)("action-sheet"),l=s[0],u=s[1];function c(t,e,n,s){var l=e.title,c=e.cancelText,h=e.closeable;function d(){(0,iu.emit)(s,"input",!1),(0,iu.emit)(s,"cancel")}function f(){if(l)return t("div",{class:u("header")},[l,h&&t(r.default,{attrs:{name:e.closeIcon},class:u("close"),on:{click:d}})])}function p(n,i){var r=n.disabled,o=n.loading,l=n.callback;function c(t){t.stopPropagation(),r||o||(l&&l(n),(0,iu.emit)(s,"select",n,i),e.closeOnClickAction&&(0,iu.emit)(s,"input",!1))}function h(){return o?t(a.default,{class:u("loading-icon")}):[t("span",{class:u("name")},[n.name]),n.subname&&t("div",{class:u("subname")},[n.subname])]}return t("button",{attrs:{type:"button"},class:[u("item",{disabled:r,loading:o}),n.className],style:{color:n.color},on:{click:c}},[h()])}function v(){if(c)return[t("div",{class:u("gap")}),t("button",{attrs:{type:"button"},class:u("cancel"),on:{click:d}},[c])]}function m(){var i=(null==n.description?void 0:n.description())||e.description;if(i)return t("div",{class:u("description")},[i])}return t(o.default,(0,i.default)([{class:u(),attrs:{position:"bottom",round:e.round,value:e.value,overlay:e.overlay,duration:e.duration,lazyRender:e.lazyRender,lockScroll:e.lockScroll,getContainer:e.getContainer,closeOnPopstate:e.closeOnPopstate,closeOnClickOverlay:e.closeOnClickOverlay,safeAreaInsetBottom:e.safeAreaInsetBottom}},(0,iu.inherit)(s,!0)]),[f(),m(),t("div",{class:u("content")},[e.actions&&e.actions.map(p),null==n.default?void 0:n.default()]),v()])}c.props=(0,n.default)({},Qu.popupMixinProps,{title:String,actions:Array,duration:[Number,String],cancelText:String,description:String,getContainer:[String,Function],closeOnPopstate:Boolean,closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeable:{type:Boolean,default:!0},closeIcon:{type:String,default:"cross"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}});var h=l(c);e.default=h})),rc=oc;function oc(t){return t=t.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(t)||/^0[0-9-]{10,13}$/.test(t)}var ac=Object.defineProperty({isMobile:rc},"__esModule",{value:!0}),sc=v((function(t,e){e.__esModule=!0,e.pickerProps=e.DEFAULT_ITEM_HEIGHT=void 0;var n=44;e.DEFAULT_ITEM_HEIGHT=n;var i={title:String,loading:Boolean,readonly:Boolean,itemHeight:[Number,String],showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,allowHtml:{type:Boolean,default:!0},visibleItemCount:{type:[Number,String],default:6},swipeDuration:{type:[Number,String],default:1e3}};e.pickerProps=i})),lc=v((function(t,e){e.__esModule=!0,e.BORDER_UNSET_TOP_BOTTOM=e.BORDER_TOP_BOTTOM=e.BORDER_SURROUND=e.BORDER_BOTTOM=e.BORDER_LEFT=e.BORDER_TOP=e.BORDER=e.WHITE=e.GREEN=e.BLUE=e.RED=void 0;var n="#ee0a24";e.RED=n;var i="#1989fa";e.BLUE=i;var r="#07c160";e.GREEN=r;var o="#fff";e.WHITE=o;var a="van-hairline";e.BORDER=a;var s=a+"--top";e.BORDER_TOP=s;var l=a+"--left";e.BORDER_LEFT=l;var u=a+"--bottom";e.BORDER_BOTTOM=u;var c=a+"--surround";e.BORDER_SURROUND=c;var h=a+"--top-bottom";e.BORDER_TOP_BOTTOM=h;var d=a+"-unset--top-bottom";e.BORDER_UNSET_TOP_BOTTOM=d})),uc=cc;function cc(t){return Array.isArray(t)?t.map((function(t){return cc(t)})):"object"===typeof t?(0,sl.deepAssign)({},t):t}var hc=Object.defineProperty({deepClone:uc},"__esModule",{value:!0}),dc=pc,fc=mc;function pc(t,e,n){return Math.min(Math.max(t,e),n)}function vc(t,e,n){var i=t.indexOf(e);return-1===i?t:"-"===e&&0!==i?t.slice(0,i):t.slice(0,i+1)+t.slice(i).replace(n,"")}function mc(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),t=e?vc(t,".",/\./g):t.split(".")[0],t=n?vc(t,"-",/-/g):t.replace(/-/,"");var i=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(i,"")}var gc=Object.defineProperty({range:dc,formatNumber:fc},"__esModule",{value:!0}),yc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=200,r=300,o=15,a=(0,Wl.createNamespace)("picker-column"),s=a[0],l=a[1];function u(t){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform,i=n.slice(7,n.length-1).split(", ")[5];return Number(i)}function c(t){return(0,Wl.isObject)(t)&&t.disabled}var h=s({mixins:[qu.TouchMixin],props:{valueKey:String,readonly:Boolean,allowHtml:Boolean,className:String,itemHeight:Number,defaultIndex:Number,swipeDuration:[Number,String],visibleItemCount:[Number,String],initialOptions:{type:Array,default:function(){return[]}}},data:function(){return{offset:0,duration:0,options:(0,hc.deepClone)(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},mounted:function(){this.bindTouchEvent(this.$el)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{initialOptions:"setOptions",defaultIndex:function(t){this.setIndex(t)}},computed:{count:function(){return this.options.length},baseOffset:function(){return this.itemHeight*(this.visibleItemCount-1)/2}},methods:{setOptions:function(t){JSON.stringify(t)!==JSON.stringify(this.options)&&(this.options=(0,hc.deepClone)(t),this.setIndex(this.defaultIndex))},onTouchStart:function(t){if(!this.readonly){if(this.touchStart(t),this.moving){var e=u(this.$refs.wrapper);this.offset=Math.min(0,e-this.baseOffset),this.startOffset=this.offset}else this.startOffset=this.offset;this.duration=0,this.transitionEndTrigger=null,this.touchStartTime=Date.now(),this.momentumOffset=this.startOffset}},onTouchMove:function(t){if(!this.readonly){this.touchMove(t),"vertical"===this.direction&&(this.moving=!0,(0,ou.preventDefault)(t,!0)),this.offset=(0,gc.range)(this.startOffset+this.deltaY,-this.count*this.itemHeight,this.itemHeight);var e=Date.now();e-this.touchStartTime>r&&(this.touchStartTime=e,this.momentumOffset=this.offset)}},onTouchEnd:function(){var t=this;if(!this.readonly){var e=this.offset-this.momentumOffset,n=Date.now()-this.touchStartTime,a=n<r&&Math.abs(e)>o;if(a)this.momentum(e,n);else{var s=this.getIndexByOffset(this.offset);this.duration=i,this.setIndex(s,!0),setTimeout((function(){t.moving=!1}),0)}}},onTransitionEnd:function(){this.stopMomentum()},onClickItem:function(t){this.moving||this.readonly||(this.transitionEndTrigger=null,this.duration=i,this.setIndex(t,!0))},adjustIndex:function(t){t=(0,gc.range)(t,0,this.count);for(var e=t;e<this.count;e++)if(!c(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!c(this.options[n]))return n},getOptionText:function(t){return(0,Wl.isObject)(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){var n=this;t=this.adjustIndex(t)||0;var i=-t*this.itemHeight,r=function(){t!==n.currentIndex&&(n.currentIndex=t,e&&n.$emit("change",t))};this.moving&&i!==this.offset?this.transitionEndTrigger=r:r(),this.offset=i},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]},getIndexByOffset:function(t){return(0,gc.range)(Math.round(-t/this.itemHeight),0,this.count-1)},momentum:function(t,e){var n=Math.abs(t/e);t=this.offset+n/.003*(t<0?-1:1);var i=this.getIndexByOffset(t);this.duration=+this.swipeDuration,this.setIndex(i,!0)},stopMomentum:function(){this.moving=!1,this.duration=0,this.transitionEndTrigger&&(this.transitionEndTrigger(),this.transitionEndTrigger=null)},genOptions:function(){var t=this,e=this.$createElement,i={height:this.itemHeight+"px"};return this.options.map((function(r,o){var a,s=t.getOptionText(r),u=c(r),h={style:i,attrs:{role:"button",tabindex:u?-1:0},class:[l("item",{disabled:u,selected:o===t.currentIndex})],on:{click:function(){t.onClickItem(o)}}},d={class:"van-ellipsis",domProps:(a={},a[t.allowHtml?"innerHTML":"textContent"]=s,a)};return e("li",(0,n.default)([{},h]),[t.slots("option",r)||e("div",(0,n.default)([{},d]))])}))}},render:function(){var t=arguments[0],e={transform:"translate3d(0, "+(this.offset+this.baseOffset)+"px, 0)",transitionDuration:this.duration+"ms",transitionProperty:this.duration?"all":"none"};return t("div",{class:[l(),this.className]},[t("ul",{ref:"wrapper",style:e,class:l("wrapper"),on:{transitionend:this.onTransitionEnd}},[this.genOptions()])])}});e.default=h})),bc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(nc),r=Hs(yc),o=(0,Wl.createNamespace)("picker"),a=o[0],s=o[1],l=o[2],u=a({props:(0,n.default)({},sc.pickerProps,{defaultIndex:{type:[Number,String],default:0},columns:{type:Array,default:function(){return[]}},toolbarPosition:{type:String,default:"top"},valueKey:{type:String,default:"text"}}),data:function(){return{children:[],formattedColumns:[]}},computed:{itemPxHeight:function(){return this.itemHeight?(0,Ul.unitToPx)(this.itemHeight):sc.DEFAULT_ITEM_HEIGHT},dataType:function(){var t=this.columns,e=t[0]||{};return e.children?"cascade":e.values?"object":"text"}},watch:{columns:{handler:"format",immediate:!0}},methods:{format:function(){var t=this.columns,e=this.dataType;"text"===e?this.formattedColumns=[{values:t}]:"cascade"===e?this.formatCascade():this.formattedColumns=t},formatCascade:function(){var t=[],e={children:this.columns};while(e&&e.children){var n,i=e,r=i.children,o=null!=(n=e.defaultIndex)?n:+this.defaultIndex;while(r[o]&&r[o].disabled){if(!(o<r.length-1)){o=0;break}o++}t.push({values:e.children,className:e.className,defaultIndex:o}),e=r[o]}this.formattedColumns=t},emit:function(t){var e=this;if("text"===this.dataType)this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0));else{var n=this.getValues();"cascade"===this.dataType&&(n=n.map((function(t){return t[e.valueKey]}))),this.$emit(t,n,this.getIndexes())}},onCascadeChange:function(t){for(var e={children:this.columns},n=this.getIndexes(),i=0;i<=t;i++)e=e.children[n[i]];while(e&&e.children)t++,this.setColumnValues(t,e.children),e=e.children[e.defaultIndex||0]},onChange:function(t){var e=this;if("cascade"===this.dataType&&this.onCascadeChange(t),"text"===this.dataType)this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0));else{var n=this.getValues();"cascade"===this.dataType&&(n=n.map((function(t){return t[e.valueKey]}))),this.$emit("change",this,n,t)}},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&(n.setValue(e),"cascade"===this.dataType&&this.onCascadeChange(t))},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&(n.setIndex(e),"cascade"===this.dataType&&this.onCascadeChange(t))},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&n.setOptions(e)},getValues:function(){return this.children.map((function(t){return t.getValue()}))},setValues:function(t){var e=this;t.forEach((function(t,n){e.setColumnValue(n,t)}))},getIndexes:function(){return this.children.map((function(t){return t.currentIndex}))},setIndexes:function(t){var e=this;t.forEach((function(t,n){e.setColumnIndex(n,t)}))},confirm:function(){this.children.forEach((function(t){return t.stopMomentum()})),this.emit("confirm")},cancel:function(){this.emit("cancel")},genTitle:function(){var t=this.$createElement,e=this.slots("title");return e||(this.title?t("div",{class:["van-ellipsis",s("title")]},[this.title]):void 0)},genCancel:function(){var t=this.$createElement;return t("button",{attrs:{type:"button"},class:s("cancel"),on:{click:this.cancel}},[this.slots("cancel")||this.cancelButtonText||l("cancel")])},genConfirm:function(){var t=this.$createElement;return t("button",{attrs:{type:"button"},class:s("confirm"),on:{click:this.confirm}},[this.slots("confirm")||this.confirmButtonText||l("confirm")])},genToolbar:function(){var t=this.$createElement;if(this.showToolbar)return t("div",{class:s("toolbar")},[this.slots()||[this.genCancel(),this.genTitle(),this.genConfirm()]])},genColumns:function(){var t=this.$createElement,e=this.itemPxHeight,n=e*this.visibleItemCount,i={height:e+"px"},r={height:n+"px"},o={backgroundSize:"100% "+(n-e)/2+"px"};return t("div",{class:s("columns"),style:r,on:{touchmove:ou.preventDefault}},[this.genColumnItems(),t("div",{class:s("mask"),style:o}),t("div",{class:[lc.BORDER_UNSET_TOP_BOTTOM,s("frame")],style:i})])},genColumnItems:function(){var t=this,e=this.$createElement;return this.formattedColumns.map((function(n,i){var o;return e(r.default,{attrs:{readonly:t.readonly,valueKey:t.valueKey,allowHtml:t.allowHtml,className:n.className,itemHeight:t.itemPxHeight,defaultIndex:null!=(o=n.defaultIndex)?o:+t.defaultIndex,swipeDuration:t.swipeDuration,visibleItemCount:t.visibleItemCount,initialOptions:n.values},scopedSlots:{option:t.$scopedSlots.option},on:{change:function(){t.onChange(i)}}})}))}},render:function(t){return t("div",{class:s()},["top"===this.toolbarPosition?this.genToolbar():t(),this.loading?t(i.default,{class:s("loading")}):t(),this.slots("columns-top"),this.genColumns(),this.slots("columns-bottom"),"bottom"===this.toolbarPosition?this.genToolbar():t()])}});e.default=u})),wc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(bc),r=(0,Wl.createNamespace)("area"),o=r[0],a=r[1],s="000000";function l(t){return"9"===t[0]}function u(t,e){var n=t.$slots,i=t.$scopedSlots,r={};return e.forEach((function(t){i[t]?r[t]=i[t]:n[t]&&(r[t]=function(){return n[t]})})),r}var c=o({props:(0,n.default)({},sc.pickerProps,{value:String,areaList:{type:Object,default:function(){return{}}},columnsNum:{type:[Number,String],default:3},isOverseaCode:{type:Function,default:l},columnsPlaceholder:{type:Array,default:function(){return[]}}}),data:function(){return{code:this.value,columns:[{values:[]},{values:[]},{values:[]}]}},computed:{province:function(){return this.areaList.province_list||{}},city:function(){return this.areaList.city_list||{}},county:function(){return this.areaList.county_list||{}},displayColumns:function(){return this.columns.slice(0,+this.columnsNum)},placeholderMap:function(){return{province:this.columnsPlaceholder[0]||"",city:this.columnsPlaceholder[1]||"",county:this.columnsPlaceholder[2]||""}}},watch:{value:function(t){this.code=t,this.setValues()},areaList:{deep:!0,handler:"setValues"},columnsNum:function(){var t=this;this.$nextTick((function(){t.setValues()}))}},mounted:function(){this.setValues()},methods:{getList:function(t,e){var n=[];if("province"!==t&&!e)return n;var i=this[t];if(n=Object.keys(i).map((function(t){return{code:t,name:i[t]}})),e&&(this.isOverseaCode(e)&&"city"===t&&(e="9"),n=n.filter((function(t){return 0===t.code.indexOf(e)}))),this.placeholderMap[t]&&n.length){var r="";"city"===t?r=s.slice(2,4):"county"===t&&(r=s.slice(4,6)),n.unshift({code:""+e+r,name:this.placeholderMap[t]})}return n},getIndex:function(t,e){var n="province"===t?2:"city"===t?4:6,i=this.getList(t,e.slice(0,n-2));this.isOverseaCode(e)&&"province"===t&&(n=1),e=e.slice(0,n);for(var r=0;r<i.length;r++)if(i[r].code.slice(0,n)===e)return r;return 0},parseOutputValues:function(t){var e=this;return t.map((function(t,n){return t?(t=JSON.parse(JSON.stringify(t)),t.code&&t.name!==e.columnsPlaceholder[n]||(t.code="",t.name=""),t):t}))},onChange:function(t,e,n){this.code=e[n].code,this.setValues();var i=this.parseOutputValues(t.getValues());this.$emit("change",t,i,n)},onConfirm:function(t,e){t=this.parseOutputValues(t),this.setValues(),this.$emit("confirm",t,e)},getDefaultCode:function(){if(this.columnsPlaceholder.length)return s;var t=Object.keys(this.county);if(t[0])return t[0];var e=Object.keys(this.city);return e[0]?e[0]:""},setValues:function(){var t=this.code;t||(t=this.getDefaultCode());var e=this.$refs.picker,n=this.getList("province"),i=this.getList("city",t.slice(0,2));e&&(e.setColumnValues(0,n),e.setColumnValues(1,i),i.length&&"00"===t.slice(2,4)&&!this.isOverseaCode(t)&&(t=i[0].code),e.setColumnValues(2,this.getList("county",t.slice(0,4))),e.setIndexes([this.getIndex("province",t),this.getIndex("city",t),this.getIndex("county",t)]))},getValues:function(){var t=this.$refs.picker,e=t?t.getValues().filter((function(t){return!!t})):[];return e=this.parseOutputValues(e),e},getArea:function(){var t=this.getValues(),e={code:"",country:"",province:"",city:"",county:""};if(!t.length)return e;var n=t.map((function(t){return t.name})),i=t.filter((function(t){return!!t.code}));return e.code=i.length?i[i.length-1].code:"",this.isOverseaCode(e.code)?(e.country=n[1]||"",e.province=n[2]||""):(e.province=n[0]||"",e.city=n[1]||"",e.county=n[2]||""),e},reset:function(t){this.code=t||"",this.setValues()}},render:function(){var t=arguments[0],e=(0,n.default)({},this.$listeners,{change:this.onChange,confirm:this.onConfirm});return t(i.default,{ref:"picker",class:a(),attrs:{showToolbar:!0,valueKey:"name",title:this.title,columns:this.displayColumns,loading:this.loading,readonly:this.readonly,itemHeight:this.itemHeight,swipeDuration:this.swipeDuration,visibleItemCount:this.visibleItemCount,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText},scopedSlots:u(this,["title","columns-top","columns-bottom"]),on:(0,n.default)({},e)})}});e.default=c})),xc=v((function(t,e){function n(t){return"NavigationDuplicated"===t.name||t.message&&-1!==t.message.indexOf("redundant navigation")}function i(t,e){var i=e.to,r=e.url,o=e.replace;if(i&&t){var a=t[o?"replace":"push"](i);a&&a.catch&&a.catch((function(t){if(t&&!n(t))throw t}))}else r&&(o?location.replace(r):location.href=r)}function r(t){i(t.parent&&t.parent.$router,t.props)}e.__esModule=!0,e.route=i,e.functionalRoute=r,e.routeProps=void 0;var o={url:String,replace:Boolean,to:[String,Object]};e.routeProps=o})),kc=v((function(t,e){e.__esModule=!0,e.cellProps=void 0;var n={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,iconPrefix:String,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}};e.cellProps=n})),Sc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Qs),r=Hs(tc),o=(0,Wl.createNamespace)("cell"),a=o[0],s=o[1];function l(t,e,n,o){var a=e.icon,l=e.size,u=e.title,c=e.label,h=e.value,d=e.isLink,f=n.title||(0,Wl.isDef)(u);function p(){var i=n.label||(0,Wl.isDef)(c);if(i)return t("div",{class:[s("label"),e.labelClass]},[n.label?n.label():c])}function v(){if(f)return t("div",{class:[s("title"),e.titleClass],style:e.titleStyle},[n.title?n.title():t("span",[u]),p()])}function m(){var i=n.default||(0,Wl.isDef)(h);if(i)return t("div",{class:[s("value",{alone:!f}),e.valueClass]},[n.default?n.default():t("span",[h])])}function g(){return n.icon?n.icon():a?t(r.default,{class:s("left-icon"),attrs:{name:a,classPrefix:e.iconPrefix}}):void 0}function y(){var i=n["right-icon"];if(i)return i();if(d){var o=e.arrowDirection;return t(r.default,{class:s("right-icon"),attrs:{name:o?"arrow-"+o:"arrow"}})}}function b(t){(0,iu.emit)(o,"click",t),(0,xc.functionalRoute)(o)}var w=d||e.clickable,x={clickable:w,center:e.center,required:e.required,borderless:!e.border};return l&&(x[l]=l),t("div",(0,i.default)([{class:s(x),attrs:{role:w?"button":null,tabindex:w?0:null},on:{click:b}},(0,iu.inherit)(o)]),[g(),v(),m(),y(),null==n.extra?void 0:n.extra()])}l.props=(0,n.default)({},kc.cellProps,xc.routeProps);var u=a(l);e.default=u})),_c=Cc,Oc=Ec;function Cc(){return!Wl.isServer&&/android/.test(navigator.userAgent.toLowerCase())}function Ec(){return!Wl.isServer&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var Tc=Object.defineProperty({isAndroid:_c,isIOS:Oc},"__esModule",{value:!0}),Ac=Nc,jc=(0,Tc.isIOS)();function Nc(){jc&&(0,Fu.setRootScrollTop)((0,Fu.getRootScrollTop)())}var Ic=Object.defineProperty({resetScroll:Ac},"__esModule",{value:!0}),Pc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Us),r=Hs(tc),o=Hs(Sc),a=(0,Wl.createNamespace)("field"),s=a[0],l=a[1],u=s({inheritAttrs:!1,provide:function(){return{vanField:this}},inject:{vanForm:{default:null}},props:(0,i.default)({},kc.cellProps,{name:String,rules:Array,disabled:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,formatter:Function,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,placeholder:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,value:{type:[Number,String],default:""},type:{type:String,default:"text"},error:{type:Boolean,default:null},colon:{type:Boolean,default:null},clearTrigger:{type:String,default:"focus"},formatTrigger:{type:String,default:"onChange"}}),data:function(){return{focused:!1,validateFailed:!1,validateMessage:""}},watch:{value:function(){this.updateValue(this.value),this.resetValidation(),this.validateWithTrigger("onChange"),this.$nextTick(this.adjustSize)}},mounted:function(){this.updateValue(this.value,this.formatTrigger),this.$nextTick(this.adjustSize),this.vanForm&&this.vanForm.addField(this)},beforeDestroy:function(){this.vanForm&&this.vanForm.removeField(this)},computed:{showClear:function(){if(this.clearable&&!this.readonly){var t=(0,Wl.isDef)(this.value)&&""!==this.value,e="always"===this.clearTrigger||"focus"===this.clearTrigger&&this.focused;return t&&e}},showError:function(){return null!==this.error?this.error:!!(this.vanForm&&this.vanForm.showError&&this.validateFailed)||void 0},listeners:function(){return(0,i.default)({},this.$listeners,{blur:this.onBlur,focus:this.onFocus,input:this.onInput,click:this.onClickInput,keypress:this.onKeypress})},labelStyle:function(){var t=this.getProp("labelWidth");if(t)return{width:(0,Wl.addUnit)(t)}},formValue:function(){return this.children&&(this.$scopedSlots.input||this.$slots.input)?this.children.value:this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},runValidator:function(t,e){return new Promise((function(n){var i=e.validator(t,e);if((0,Wl.isPromise)(i))return i.then(n);n(i)}))},isEmptyValue:function(t){return Array.isArray(t)?!t.length:0!==t&&!t},runSyncRule:function(t,e){return(!e.required||!this.isEmptyValue(t))&&!(e.pattern&&!e.pattern.test(t))},getRuleMessage:function(t,e){var n=e.message;return(0,Wl.isFunction)(n)?n(t,e):n},runRules:function(t){var e=this;return t.reduce((function(t,n){return t.then((function(){if(!e.validateFailed){var t=e.formValue;return n.formatter&&(t=n.formatter(t,n)),e.runSyncRule(t,n)?n.validator?e.runValidator(t,n).then((function(i){!1===i&&(e.validateFailed=!0,e.validateMessage=e.getRuleMessage(t,n))})):void 0:(e.validateFailed=!0,void(e.validateMessage=e.getRuleMessage(t,n)))}}))}),Promise.resolve())},validate:function(t){var e=this;return void 0===t&&(t=this.rules),new Promise((function(n){t||n(),e.resetValidation(),e.runRules(t).then((function(){e.validateFailed?n({name:e.name,message:e.validateMessage}):n()}))}))},validateWithTrigger:function(t){if(this.vanForm&&this.rules){var e=this.vanForm.validateTrigger===t,n=this.rules.filter((function(n){return n.trigger?n.trigger===t:e}));this.validate(n)}},resetValidation:function(){this.validateFailed&&(this.validateFailed=!1,this.validateMessage="")},updateValue:function(t,e){void 0===e&&(e="onChange"),t=(0,Wl.isDef)(t)?String(t):"";var n=this.maxlength;if((0,Wl.isDef)(n)&&t.length>n&&(t=this.value&&this.value.length===+n?this.value:t.slice(0,n)),"number"===this.type||"digit"===this.type){var i="number"===this.type;t=(0,gc.formatNumber)(t,i,i)}this.formatter&&e===this.formatTrigger&&(t=this.formatter(t));var r=this.$refs.input;r&&t!==r.value&&(r.value=t),t!==this.value&&this.$emit("input",t)},onInput:function(t){t.target.composing||this.updateValue(t.target.value)},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.updateValue(this.value,"onBlur"),this.$emit("blur",t),this.validateWithTrigger("onBlur"),(0,Ic.resetScroll)()},onClick:function(t){this.$emit("click",t)},onClickInput:function(t){this.$emit("click-input",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){(0,ou.preventDefault)(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){var e=13;if(t.keyCode===e){var n=this.getProp("submitOnEnter");n||"textarea"===this.type||(0,ou.preventDefault)(t),"search"===this.type&&this.blur()}this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if((0,Wl.isObject)(this.autosize)){var n=this.autosize,i=n.maxHeight,r=n.minHeight;i&&(e=Math.min(e,i)),r&&(e=Math.max(e,r))}e&&(t.style.height=e+"px")}},genInput:function(){var t=this.$createElement,e=this.type,r=this.slots("input"),o=this.getProp("inputAlign");if(r)return t("div",{class:l("control",[o,"custom"]),on:{click:this.onClickInput}},[r]);var a={ref:"input",class:l("control",o),domProps:{value:this.value},attrs:(0,i.default)({},this.$attrs,{name:this.name,disabled:this.disabled,readonly:this.readonly,placeholder:this.placeholder}),on:this.listeners,directives:[{name:"model",value:this.value}]};if("textarea"===e)return t("textarea",(0,n.default)([{},a]));var s,u=e;return"number"===e&&(u="text",s="decimal"),"digit"===e&&(u="tel",s="numeric"),t("input",(0,n.default)([{attrs:{type:u,inputmode:s}},a]))},genLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:l("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(r.default,{attrs:{name:this.leftIcon,classPrefix:this.iconPrefix}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots,n=e("right-icon")||this.rightIcon;if(n)return t("div",{class:l("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(r.default,{attrs:{name:this.rightIcon,classPrefix:this.iconPrefix}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.maxlength){var e=(this.value||"").length;return t("div",{class:l("word-limit")},[t("span",{class:l("word-num")},[e]),"/",this.maxlength])}},genMessage:function(){var t=this.$createElement;if(!this.vanForm||!1!==this.vanForm.showErrorMessage){var e=this.errorMessage||this.validateMessage;if(e){var n=this.getProp("errorMessageAlign");return t("div",{class:l("error-message",n)},[e])}}},getProp:function(t){return(0,Wl.isDef)(this[t])?this[t]:this.vanForm&&(0,Wl.isDef)(this.vanForm[t])?this.vanForm[t]:void 0},genLabel:function(){var t=this.$createElement,e=this.getProp("colon")?":":"";return this.slots("label")?[this.slots("label"),e]:this.label?t("span",[this.label+e]):void 0}},render:function(){var t,e=arguments[0],n=this.slots,i=this.getProp("labelAlign"),a={icon:this.genLeftIcon},s=this.genLabel();s&&(a.title=function(){return s});var u=this.slots("extra");return u&&(a.extra=function(){return u}),e(o.default,{attrs:{icon:this.leftIcon,size:this.size,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,valueClass:l("value"),titleClass:[l("label",i),this.labelClass],arrowDirection:this.arrowDirection},scopedSlots:a,class:l((t={error:this.showError,disabled:this.disabled},t["label-"+i]=i,t["min-height"]="textarea"===this.type&&!this.autosize,t)),on:{click:this.onClick}},[e("div",{class:l("body")},[this.genInput(),this.showClear&&e(r.default,{attrs:{name:"clear"},class:l("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),n("button")&&e("div",{class:l("button")},[n("button")])]),this.genWordLimit(),this.genMessage()])}});e.default=u})),Mc=Lc,Dc=0;function Lc(t){t?(Dc||document.body.classList.add("van-toast--unclickable"),Dc++):(Dc--,Dc||document.body.classList.remove("van-toast--unclickable"))}var Rc=Object.defineProperty({lockClick:Mc},"__esModule",{value:!0}),Bc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(tc),i=Hs(nc),r=(0,Wl.createNamespace)("toast"),o=r[0],a=r[1],s=o({mixins:[(0,Qu.PopupMixin)()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var t=this.value&&this.forbidClick;this.clickable!==t&&(this.clickable=t,(0,Rc.lockClick)(t))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var t=this.$createElement,e=this.icon,r=this.type,o=this.iconPrefix,s=this.loadingType,l=e||"success"===r||"fail"===r;return l?t(n.default,{class:a("icon"),attrs:{classPrefix:o,name:e||r}}):"loading"===r?t(i.default,{class:a("loading"),attrs:{type:s}}):void 0},genMessage:function(){var t=this.$createElement,e=this.type,n=this.message;if((0,Wl.isDef)(n)&&""!==n)return"html"===e?t("div",{class:a("text"),domProps:{innerHTML:n}}):t("div",{class:a("text")},[n])}},render:function(){var t,e=arguments[0];return e("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[e("div",{directives:[{name:"show",value:this.value}],class:[a([this.position,(t={},t[this.type]=!this.icon,t)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}});e.default=s})),zc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(u["default"]),r=Hs(Bc),o={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},a={},s=[],l=!1,c=(0,n.default)({},o);function h(t){return(0,Wl.isObject)(t)?t:{message:t}}function d(t){return document.body.contains(t)}function f(){if(Wl.isServer)return{};if(s=s.filter((function(t){return!t.$el.parentNode||d(t.$el)})),!s.length||l){var t=new(i.default.extend(r.default))({el:document.createElement("div")});t.$on("input",(function(e){t.value=e})),s.push(t)}return s[s.length-1]}function p(t){return(0,n.default)({},t,{overlay:t.mask||t.overlay,mask:void 0,duration:void 0})}function v(t){void 0===t&&(t={});var e=f();return e.value&&e.updateZIndex(),t=h(t),t=(0,n.default)({},c,a[t.type||c.type],t),t.clear=function(){e.value=!1,t.onClose&&(t.onClose(),t.onClose=null),l&&!Wl.isServer&&e.$on("closed",(function(){clearTimeout(e.timer),s=s.filter((function(t){return t!==e})),(0,uu.removeNode)(e.$el),e.$destroy()}))},(0,n.default)(e,p(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout((function(){e.clear()}),t.duration)),e}var m=function(t){return function(e){return v((0,n.default)({type:t},h(e)))}};["loading","success","fail"].forEach((function(t){v[t]=m(t)})),v.clear=function(t){s.length&&(t?(s.forEach((function(t){t.clear()})),s=[]):l?s.shift().clear():s[0].clear())},v.setDefaultOptions=function(t,e){"string"===typeof t?a[t]=e:(0,n.default)(c,t)},v.resetDefaultOptions=function(t){"string"===typeof t?a[t]=null:(c=(0,n.default)({},o),a={})},v.allowMultiple=function(t){void 0===t&&(t=!0),l=t},v.install=function(){i.default.use(r.default)},i.default.prototype.$toast=v;var g=v;e.default=g})),$c=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Qs),r=Hs(tc),o=Hs(nc),a=(0,Wl.createNamespace)("button"),s=a[0],l=a[1];function u(t,e,n,a){var s,u=e.tag,c=e.icon,h=e.type,d=e.color,f=e.plain,p=e.disabled,v=e.loading,m=e.hairline,g=e.loadingText,y=e.iconPosition,b={};function w(t){v||p||((0,iu.emit)(a,"click",t),(0,xc.functionalRoute)(a))}function x(t){(0,iu.emit)(a,"touchstart",t)}d&&(b.color=f?d:lc.WHITE,f||(b.background=d),-1!==d.indexOf("gradient")?b.border=0:b.borderColor=d);var k=[l([h,e.size,{plain:f,loading:v,disabled:p,hairline:m,block:e.block,round:e.round,square:e.square}]),(s={},s[lc.BORDER_SURROUND]=m,s)];function S(){return v?n.loading?n.loading():t(o.default,{class:l("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}}):c?t(r.default,{attrs:{name:c,classPrefix:e.iconPrefix},class:l("icon")}):void 0}function _(){var i,r=[];return"left"===y&&r.push(S()),i=v?g:n.default?n.default():e.text,i&&r.push(t("span",{class:l("text")},[i])),"right"===y&&r.push(S()),r}return t(u,(0,i.default)([{style:b,class:k,attrs:{type:e.nativeType,disabled:p},on:{click:w,touchstart:x}},(0,iu.inherit)(a)]),[t("div",{class:l("content")},[_()])])}u.props=(0,n.default)({},xc.routeProps,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}});var c=s(u);e.default=c})),Fc=Vc;function qc(t){var e=[];function n(t){t.forEach((function(t){e.push(t),t.componentInstance&&n(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&n(t.children)}))}return n(t),e}function Vc(t,e){var n=e.$vnode.componentOptions;if(n&&n.children){var i=qc(n.children);t.sort((function(t,e){return i.indexOf(t.$vnode)-i.indexOf(e.$vnode)}))}}var Hc=Object.defineProperty({sortChildren:Fc},"__esModule",{value:!0}),Uc=Yc,Wc=Gc;function Yc(t,e){var n,i;void 0===e&&(e={});var r=e.indexKey||"index";return{inject:(n={},n[t]={default:null},n),computed:(i={parent:function(){return this.disableBindRelation?null:this[t]}},i[r]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},i),watch:{disableBindRelation:function(t){t||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);(0,Hc.sortChildren)(t,this.parent),this.parent.children=t}}}}}function Gc(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}var Kc=Object.defineProperty({ChildrenMixin:Uc,ParentMixin:Wc},"__esModule",{value:!0}),Zc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("goods-action"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:r({unfit:!this.safeAreaInsetBottom})},[this.slots()])}});e.default=o})),Xc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs($c),r=(0,Wl.createNamespace)("goods-action-button"),o=r[0],a=r[1],s=o({mixins:[(0,Kc.ChildrenMixin)("vanGoodsAction")],props:(0,n.default)({},xc.routeProps,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),(0,xc.route)(this.$router,this)}},render:function(){var t=arguments[0];return t(i.default,{class:a([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}});e.default=s})),Qc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs($c),r=Hs(Zc),o=Hs(Xc),a=(0,Wl.createNamespace)("dialog"),s=a[0],l=a[1],u=a[2],c=s({mixins:[(0,Qu.PopupMixin)()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genRoundButtons:function(){var t=this,e=this.$createElement;return e(r.default,{class:l("footer")},[this.showCancelButton&&e(o.default,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||u("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:l("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&e(o.default,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||u("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:l("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,e=this,n=this.$createElement,r=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[lc.BORDER_TOP,l("footer")]},[this.showCancelButton&&n(i.default,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||u("cancel")},class:l("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(i.default,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||u("confirm")},class:[l("confirm"),(t={},t[lc.BORDER_LEFT]=r,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])},genContent:function(t,e){var i=this.$createElement;if(e)return i("div",{class:l("content")},[e]);var r=this.message,o=this.messageAlign;if(r){var a,s,u={class:l("message",(a={"has-title":t},a[o]=o,a)),domProps:(s={},s[this.allowHtml?"innerHTML":"textContent"]=r,s)};return i("div",{class:l("content",{isolated:!t})},[i("div",(0,n.default)([{},u]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var e=this.message,n=this.slots(),i=this.slots("title")||this.title,r=i&&t("div",{class:l("header",{isolated:!e&&!n})},[i]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||e},class:[l([this.theme]),this.className],style:{width:(0,Wl.addUnit)(this.width)}},[r,this.genContent(i,n),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}});e.default=c})),Jc=v((function(t,e){e.__esModule=!0,e.default=void 0;var n,i=Hs(Us),r=Hs(u["default"]),o=Hs(Qc);function a(t){return document.body.contains(t)}function s(){n&&n.$destroy(),n=new(r.default.extend(o.default))({el:document.createElement("div"),propsData:{lazyRender:!1}}),n.$on("input",(function(t){n.value=t}))}function l(t){return Wl.isServer?Promise.resolve():new Promise((function(e,r){n&&a(n.$el)||s(),(0,i.default)(n,l.currentOptions,t,{resolve:e,reject:r})}))}l.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){n["confirm"===t?"resolve":"reject"](t)}},l.alert=l,l.confirm=function(t){return l((0,i.default)({showCancelButton:!0},t))},l.close=function(){n&&(n.value=!1)},l.setDefaultOptions=function(t){(0,i.default)(l.currentOptions,t)},l.resetDefaultOptions=function(){l.currentOptions=(0,i.default)({},l.defaultOptions)},l.resetDefaultOptions(),l.install=function(){r.default.use(o.default)},l.Component=o.default,r.default.prototype.$dialog=l;var c=l;e.default=c})),th=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Sc),r=Hs(Pc),o=(0,Wl.createNamespace)("address-edit-detail"),a=o[0],s=o[1],l=o[2],u=(0,Tc.isAndroid)(),c=a({props:{value:String,errorMessage:String,focused:Boolean,detailRows:[Number,String],searchResult:Array,detailMaxlength:[Number,String],showSearchResult:Boolean},computed:{shouldShowSearchResult:function(){return this.focused&&this.searchResult&&this.showSearchResult}},methods:{onSelect:function(t){this.$emit("select-search",t),this.$emit("input",((t.address||"")+" "+(t.name||"")).trim())},onFinish:function(){this.$refs.field.blur()},genFinish:function(){var t=this.$createElement,e=this.value&&this.focused&&u;if(e)return t("div",{class:s("finish"),on:{click:this.onFinish}},[l("complete")])},genSearchResult:function(){var t=this,e=this.$createElement,n=this.value,r=this.shouldShowSearchResult,o=this.searchResult;if(r)return o.map((function(r){return e(i.default,{key:r.name+r.address,attrs:{clickable:!0,border:!1,icon:"location-o",label:r.address},class:s("search-item"),on:{click:function(){t.onSelect(r)}},scopedSlots:{title:function(){if(r.name){var t=r.name.replace(n,"<span class="+s("keyword")+">"+n+"</span>");return e("div",{domProps:{innerHTML:t}})}}}})}))}},render:function(){var t=arguments[0];return t(i.default,{class:s()},[t(r.default,{attrs:{autosize:!0,rows:this.detailRows,clearable:!u,type:"textarea",value:this.value,errorMessage:this.errorMessage,border:!this.shouldShowSearchResult,label:l("label"),maxlength:this.detailMaxlength,placeholder:l("placeholder")},ref:"field",scopedSlots:{icon:this.genFinish},on:(0,n.default)({},this.$listeners)}),this.genSearchResult()])}});e.default=c})),eh=v((function(t,e){e.__esModule=!0,e.switchProps=void 0;var n={size:[Number,String],value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}};e.switchProps=n})),nh=v((function(t,e){e.__esModule=!0,e.FieldMixin=void 0;var n={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}};e.FieldMixin=n})),ih=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(nc),i=(0,Wl.createNamespace)("switch"),r=i[0],o=i[1],a=r({mixins:[nh.FieldMixin],props:eh.switchProps,computed:{checked:function(){return this.value===this.activeValue},style:function(){return{fontSize:(0,Wl.addUnit)(this.size),backgroundColor:this.checked?this.activeColor:this.inactiveColor}}},methods:{onClick:function(t){if(this.$emit("click",t),!this.disabled&&!this.loading){var e=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",e),this.$emit("change",e)}},genLoading:function(){var t=this.$createElement;if(this.loading){var e=this.checked?this.activeColor:this.inactiveColor;return t(n.default,{class:o("loading"),attrs:{color:e}})}}},render:function(){var t=arguments[0],e=this.checked,n=this.loading,i=this.disabled;return t("div",{class:o({on:e,loading:n,disabled:i}),attrs:{role:"switch","aria-checked":String(e)},style:this.style,on:{click:this.onClick}},[t("div",{class:o("node")},[this.genLoading()])])}});e.default=a})),rh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(wc),r=Hs(Sc),o=Hs(Pc),a=Hs(ec),s=Hs(zc),l=Hs($c),u=Hs(Jc),c=Hs(th),h=Hs(ih),d=(0,Wl.createNamespace)("address-edit"),f=d[0],p=d[1],v=d[2],m={name:"",tel:"",country:"",province:"",city:"",county:"",areaCode:"",postalCode:"",addressDetail:"",isDefault:!1};function g(t){return/^\d{6}$/.test(t)}var y=f({props:{areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showDelete:Boolean,showPostal:Boolean,searchResult:Array,telMaxlength:[Number,String],showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,showArea:{type:Boolean,default:!0},showDetail:{type:Boolean,default:!0},disableArea:Boolean,detailRows:{type:[Number,String],default:1},detailMaxlength:{type:[Number,String],default:200},addressInfo:{type:Object,default:function(){return(0,n.default)({},m)}},telValidator:{type:Function,default:ac.isMobile},postalValidator:{type:Function,default:g},areaColumnsPlaceholder:{type:Array,default:function(){return[]}}},data:function(){return{data:{},showAreaPopup:!1,detailFocused:!1,errorInfo:{tel:"",name:"",areaCode:"",postalCode:"",addressDetail:""}}},computed:{areaListLoaded:function(){return(0,Wl.isObject)(this.areaList)&&Object.keys(this.areaList).length},areaText:function(){var t=this.data,e=t.country,n=t.province,i=t.city,r=t.county,o=t.areaCode;if(o){var a=[e,n,i,r];return n&&n===i&&a.splice(1,1),a.filter((function(t){return t})).join("/")}return""},hideBottomFields:function(){var t=this.searchResult;return t&&t.length&&this.detailFocused}},watch:{addressInfo:{handler:function(t){this.data=(0,n.default)({},m,t),this.setAreaCode(t.areaCode)},deep:!0,immediate:!0},areaList:function(){this.setAreaCode(this.data.areaCode)}},methods:{onFocus:function(t){this.errorInfo[t]="",this.detailFocused="addressDetail"===t,this.$emit("focus",t)},onChangeDetail:function(t){this.data.addressDetail=t,this.$emit("change-detail",t)},onAreaConfirm:function(t){t=t.filter((function(t){return!!t})),t.some((function(t){return!t.code}))?(0,s.default)(v("areaEmpty")):(this.showAreaPopup=!1,this.assignAreaValues(),this.$emit("change-area",t))},assignAreaValues:function(){var t=this.$refs.area;if(t){var e=t.getArea();e.areaCode=e.code,delete e.code,(0,n.default)(this.data,e)}},onSave:function(){var t=this,e=["name","tel"];this.showArea&&e.push("areaCode"),this.showDetail&&e.push("addressDetail"),this.showPostal&&e.push("postalCode");var n=e.every((function(e){var n=t.getErrorMessage(e);return n&&(t.errorInfo[e]=n),!n}));n&&!this.isSaving&&this.$emit("save",this.data)},getErrorMessage:function(t){var e=String(this.data[t]||"").trim();if(this.validator){var n=this.validator(t,e);if(n)return n}switch(t){case"name":return e?"":v("nameEmpty");case"tel":return this.telValidator(e)?"":v("telInvalid");case"areaCode":return e?"":v("areaEmpty");case"addressDetail":return e?"":v("addressEmpty");case"postalCode":return e&&!this.postalValidator(e)?v("postalEmpty"):""}},onDelete:function(){var t=this;u.default.confirm({title:v("confirmDelete")}).then((function(){t.$emit("delete",t.data)})).catch((function(){t.$emit("cancel-delete",t.data)}))},getArea:function(){return this.$refs.area?this.$refs.area.getValues():[]},setAreaCode:function(t){this.data.areaCode=t||"",t&&this.$nextTick(this.assignAreaValues)},setAddressDetail:function(t){this.data.addressDetail=t},onDetailBlur:function(){var t=this;setTimeout((function(){t.detailFocused=!1}))},genSetDefaultCell:function(t){var e=this;if(this.showSetDefault){var n={"right-icon":function(){return t(h.default,{attrs:{size:"24"},on:{change:function(t){e.$emit("change-default",t)}},model:{value:e.data.isDefault,callback:function(t){e.$set(e.data,"isDefault",t)}}})}};return t(r.default,{directives:[{name:"show",value:!this.hideBottomFields}],attrs:{center:!0,title:v("defaultAddress")},class:p("default"),scopedSlots:n})}return t()}},render:function(t){var e=this,n=this.data,r=this.errorInfo,s=this.disableArea,u=this.hideBottomFields,h=function(t){return function(){return e.onFocus(t)}};return t("div",{class:p()},[t("div",{class:p("fields")},[t(o.default,{attrs:{clearable:!0,label:v("name"),placeholder:v("namePlaceholder"),errorMessage:r.name},on:{focus:h("name")},model:{value:n.name,callback:function(t){e.$set(n,"name",t)}}}),t(o.default,{attrs:{clearable:!0,type:"tel",label:v("tel"),maxlength:this.telMaxlength,placeholder:v("telPlaceholder"),errorMessage:r.tel},on:{focus:h("tel")},model:{value:n.tel,callback:function(t){e.$set(n,"tel",t)}}}),t(o.default,{directives:[{name:"show",value:this.showArea}],attrs:{readonly:!0,clickable:!s,label:v("area"),placeholder:this.areaPlaceholder||v("areaPlaceholder"),errorMessage:r.areaCode,rightIcon:s?null:"arrow",value:this.areaText},on:{focus:h("areaCode"),click:function(){e.$emit("click-area"),e.showAreaPopup=!s}}}),t(c.default,{directives:[{name:"show",value:this.showDetail}],attrs:{focused:this.detailFocused,value:n.addressDetail,errorMessage:r.addressDetail,detailRows:this.detailRows,detailMaxlength:this.detailMaxlength,searchResult:this.searchResult,showSearchResult:this.showSearchResult},on:{focus:h("addressDetail"),blur:this.onDetailBlur,input:this.onChangeDetail,"select-search":function(t){e.$emit("select-search",t)}}}),this.showPostal&&t(o.default,{directives:[{name:"show",value:!u}],attrs:{type:"tel",maxlength:"6",label:v("postal"),placeholder:v("postal"),errorMessage:r.postalCode},on:{focus:h("postalCode")},model:{value:n.postalCode,callback:function(t){e.$set(n,"postalCode",t)}}}),this.slots()]),this.genSetDefaultCell(t),t("div",{directives:[{name:"show",value:!u}],class:p("buttons")},[t(l.default,{attrs:{block:!0,round:!0,loading:this.isSaving,type:"danger",text:this.saveButtonText||v("save")},on:{click:this.onSave}}),this.showDelete&&t(l.default,{attrs:{block:!0,round:!0,loading:this.isDeleting,text:this.deleteButtonText||v("delete")},on:{click:this.onDelete}})]),t(a.default,{attrs:{round:!0,position:"bottom",lazyRender:!1,getContainer:"body"},model:{value:e.showAreaPopup,callback:function(t){e.showAreaPopup=t}}},[t(i.default,{ref:"area",attrs:{value:n.areaCode,loading:!this.areaListLoaded,areaList:this.areaList,columnsPlaceholder:this.areaColumnsPlaceholder},on:{confirm:this.onAreaConfirm,cancel:function(){e.showAreaPopup=!1}}})])])}});e.default=y})),oh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("radio-group"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanRadio"),nh.FieldMixin],props:{value:null,disabled:Boolean,direction:String,checkedColor:String,iconSize:[Number,String]},watch:{value:function(t){this.$emit("change",t)}},render:function(){var t=arguments[0];return t("div",{class:r([this.direction]),attrs:{role:"radiogroup"}},[this.slots()])}});e.default=o})),ah=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(tc),r=(0,Wl.createNamespace)("tag"),o=r[0],a=r[1];function s(t,e,r,o){var s,l=e.type,u=e.mark,c=e.plain,h=e.color,d=e.round,f=e.size,p=c?"color":"backgroundColor",v=(s={},s[p]=h,s);e.textColor&&(v.color=e.textColor);var m={mark:u,plain:c,round:d};f&&(m[f]=f);var g=e.closeable&&t(i.default,{attrs:{name:"cross"},class:a("close"),on:{click:function(t){t.stopPropagation(),(0,iu.emit)(o,"close")}}});return t("transition",{attrs:{name:e.closeable?"van-fade":null}},[t("span",(0,n.default)([{key:"content",style:v,class:a([m,l])},(0,iu.inherit)(o,!0)]),[null==r.default?void 0:r.default(),g])])}s.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}};var l=o(s);e.default=l})),sh=v((function(t,e){e.__esModule=!0,e.CheckboxMixin=void 0;var n=Hs(tc),i=function(t){var e=t.parent,i=t.bem,r=t.role;return{mixins:[(0,Kc.ChildrenMixin)(e),nh.FieldMixin],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===r&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this,n=t.target,i=this.$refs.icon,r=i===n||i.contains(n);this.isDisabled||!r&&this.labelDisabled?this.$emit("click",t):(this.toggle(),setTimeout((function(){e.$emit("click",t)})))},genIcon:function(){var t=this.$createElement,e=this.checked,r=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:i("icon",[this.shape,{disabled:this.isDisabled,checked:e}]),style:{fontSize:(0,Wl.addUnit)(r)}},[this.slots("icon",{checked:e})||t(n.default,{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,e=this.slots();if(e)return t("span",{class:i("label",[this.labelPosition,{disabled:this.isDisabled}])},[e])}},render:function(){var t=arguments[0],e=[this.genIcon()];return"left"===this.labelPosition?e.unshift(this.genLabel()):e.push(this.genLabel()),t("div",{attrs:{role:r,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:i([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[e])}}};e.CheckboxMixin=i})),lh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("radio"),i=n[0],r=n[1],o=i({mixins:[(0,sh.CheckboxMixin)({bem:r,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}});e.default=o})),uh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Qs),r=Hs(ah),o=Hs(tc),a=Hs(Sc),s=Hs(lh),l=(0,Wl.createNamespace)("address-item"),u=l[0],c=l[1];function h(t,e,l,u){var h=e.disabled,d=e.switchable;function f(){d&&(0,iu.emit)(u,"select"),(0,iu.emit)(u,"click")}var p=function(){return t(o.default,{attrs:{name:"edit"},class:c("edit"),on:{click:function(t){t.stopPropagation(),(0,iu.emit)(u,"edit"),(0,iu.emit)(u,"click")}}})};function v(){if(e.data.isDefault&&e.defaultTagText)return t(r.default,{attrs:{type:"danger",round:!0},class:c("tag")},[e.defaultTagText])}function m(){var n=e.data,i=[t("div",{class:c("name")},[n.name+" "+n.tel,v()]),t("div",{class:c("address")},[n.address])];return d&&!h?t(s.default,{attrs:{name:n.id,iconSize:18}},[i]):i}return t("div",{class:c({disabled:h}),on:{click:f}},[t(a.default,(0,i.default)([{attrs:{border:!1,valueClass:c("value")},scopedSlots:{default:m,"right-icon":p}},(0,iu.inherit)(u)])),null==l.bottom?void 0:l.bottom((0,n.default)({},e.data,{disabled:h}))])}h.props={data:Object,disabled:Boolean,switchable:Boolean,defaultTagText:String};var d=u(h);e.default=d})),ch=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs($c),r=Hs(oh),o=Hs(uh),a=(0,Wl.createNamespace)("address-list"),s=a[0],l=a[1],u=a[2];function c(t,e,a,s){function c(n,i){if(n)return n.map((function(n,r){return t(o.default,{attrs:{data:n,disabled:i,switchable:e.switchable,defaultTagText:e.defaultTagText},key:n.id,scopedSlots:{bottom:a["item-bottom"]},on:{select:function(){(0,iu.emit)(s,i?"select-disabled":"select",n,r),i||(0,iu.emit)(s,"input",n.id)},edit:function(){(0,iu.emit)(s,i?"edit-disabled":"edit",n,r)},click:function(){(0,iu.emit)(s,"click-item",n,r)}}})}))}var h=c(e.list),d=c(e.disabledList,!0);return t("div",(0,n.default)([{class:l()},(0,iu.inherit)(s)]),[null==a.top?void 0:a.top(),t(r.default,{attrs:{value:e.value}},[h]),e.disabledText&&t("div",{class:l("disabled-text")},[e.disabledText]),d,null==a.default?void 0:a.default(),t("div",{class:l("bottom")},[t(i.default,{attrs:{round:!0,block:!0,type:"danger",text:e.addButtonText||u("add")},class:l("add"),on:{click:function(){(0,iu.emit)(s,"add")}}})])])}c.props={list:Array,value:[Number,String],disabledList:Array,disabledText:String,addButtonText:String,defaultTagText:String,switchable:{type:Boolean,default:!0}};var h=s(c);e.default=h})),hh=bh,dh=wh,fh=xh,ph=Date.now();function vh(t){var e=Date.now(),n=Math.max(0,16-(e-ph)),i=setTimeout(t,n);return ph=e+n,i}var mh=Wl.isServer?p:window,gh=mh.requestAnimationFrame||vh,yh=mh.cancelAnimationFrame||mh.clearTimeout;function bh(t){return gh.call(mh,t)}function wh(t){bh((function(){bh(t)}))}function xh(t){yh.call(mh,t)}var kh=Object.defineProperty({raf:hh,doubleRaf:dh,cancelRaf:fh},"__esModule",{value:!0}),Sh=_h;function _h(t){return"[object Date]"===Object.prototype.toString.call(t)&&!(0,Ll.isNaN)(t.getTime())}var Oh=Object.defineProperty({isDate:Sh},"__esModule",{value:!0}),Ch=v((function(t,e){e.__esModule=!0,e.formatMonthTitle=a,e.compareMonth=s,e.compareDay=l,e.getDayByOffset=u,e.getPrevDay=c,e.getNextDay=h,e.calcDateNum=d,e.copyDate=f,e.copyDates=p,e.t=e.bem=e.createComponent=void 0;var n=(0,Wl.createNamespace)("calendar"),i=n[0],r=n[1],o=n[2];function a(t){return o("monthTitle",t.getFullYear(),t.getMonth()+1)}function s(t,e){var n=t.getFullYear(),i=e.getFullYear(),r=t.getMonth(),o=e.getMonth();return n===i?r===o?0:r>o?1:-1:n>i?1:-1}function l(t,e){var n=s(t,e);if(0===n){var i=t.getDate(),r=e.getDate();return i===r?0:i>r?1:-1}return n}function u(t,e){return t=new Date(t),t.setDate(t.getDate()+e),t}function c(t){return u(t,-1)}function h(t){return u(t,1)}function d(t){var e=t[0].getTime(),n=t[1].getTime();return(n-e)/864e5+1}function f(t){return new Date(t)}function p(t){return Array.isArray(t)?t.map((function(t){return null===t?t:f(t)})):f(t)}e.t=o,e.bem=r,e.createComponent=i})),Eh=jh,Th=Nh,Ah=Ih;function jh(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function Nh(t){if(!t)return 0;while((0,Ll.isNaN)(parseInt(t,10))){if(!(t.length>1))return 0;t=t.slice(1)}return parseInt(t,10)}function Ih(t,e){return 32-new Date(t,e-1,32).getDate()}var Ph=Object.defineProperty({times:Eh,getTrueValue:Th,getMonthEndDay:Ah},"__esModule",{value:!0}),Mh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("calendar-month"),i=n[0],r=i({props:{date:Date,type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:[Number,String],formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number},data:function(){return{visible:!1}},computed:{title:function(){return(0,Ch.formatMonthTitle)(this.date)},rowHeightWithUnit:function(){return(0,Wl.addUnit)(this.rowHeight)},offset:function(){var t=this.firstDayOfWeek,e=this.date.getDay();return t?(e+7-this.firstDayOfWeek)%7:e},totalDay:function(){return(0,Ph.getMonthEndDay)(this.date.getFullYear(),this.date.getMonth()+1)},shouldRender:function(){return this.visible||!this.lazyRender},placeholders:function(){for(var t=[],e=Math.ceil((this.totalDay+this.offset)/7),n=1;n<=e;n++)t.push({type:"placeholder"});return t},days:function(){for(var t=[],e=this.date.getFullYear(),n=this.date.getMonth(),i=1;i<=this.totalDay;i++){var r=new Date(e,n,i),o=this.getDayType(r),a={date:r,type:o,text:i,bottomInfo:this.getBottomInfo(o)};this.formatter&&(a=this.formatter(a)),t.push(a)}return t}},methods:{getHeight:function(){return this.height||(this.height=this.$el.getBoundingClientRect().height),this.height},scrollIntoView:function(t){var e=this.$refs,n=e.days,i=e.month,r=this.showSubtitle?n:i,o=r.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop;(0,Fu.setScrollTop)(t,o)},getMultipleDayType:function(t){var e=this,n=function(t){return e.currentDate.some((function(e){return 0===(0,Ch.compareDay)(e,t)}))};if(n(t)){var i=(0,Ch.getPrevDay)(t),r=(0,Ch.getNextDay)(t),o=n(i),a=n(r);return o&&a?"multiple-middle":o?"end":a?"start":"multiple-selected"}return""},getRangeDayType:function(t){var e=this.currentDate,n=e[0],i=e[1];if(!n)return"";var r=(0,Ch.compareDay)(t,n);if(!i)return 0===r?"start":"";var o=(0,Ch.compareDay)(t,i);return 0===r&&0===o&&this.allowSameDay?"start-end":0===r?"start":0===o?"end":r>0&&o<0?"middle":void 0},getDayType:function(t){var e=this.type,n=this.minDate,i=this.maxDate,r=this.currentDate;return(0,Ch.compareDay)(t,n)<0||(0,Ch.compareDay)(t,i)>0?"disabled":null!==r?"single"===e?0===(0,Ch.compareDay)(t,r)?"selected":"":"multiple"===e?this.getMultipleDayType(t):"range"===e?this.getRangeDayType(t):void 0:void 0},getBottomInfo:function(t){if("range"===this.type){if("start"===t||"end"===t)return(0,Ch.t)(t);if("start-end"===t)return(0,Ch.t)("startEnd")}},getDayStyle:function(t,e){var n={height:this.rowHeightWithUnit};return"placeholder"===t?(n.width="100%",n):(0===e&&(n.marginLeft=100*this.offset/7+"%"),this.color&&("start"===t||"end"===t||"start-end"===t||"multiple-selected"===t||"multiple-middle"===t?n.background=this.color:"middle"===t&&(n.color=this.color)),n)},genTitle:function(){var t=this.$createElement;if(this.showMonthTitle)return t("div",{class:(0,Ch.bem)("month-title")},[this.title])},genMark:function(){var t=this.$createElement;if(this.showMark&&this.shouldRender)return t("div",{class:(0,Ch.bem)("month-mark")},[this.date.getMonth()+1])},genDays:function(){var t=this.$createElement,e=this.shouldRender?this.days:this.placeholders;return t("div",{ref:"days",attrs:{role:"grid"},class:(0,Ch.bem)("days")},[this.genMark(),e.map(this.genDay)])},genDay:function(t,e){var n=this,i=this.$createElement,r=t.type,o=t.topInfo,a=t.bottomInfo,s=this.getDayStyle(r,e),l="disabled"===r,u=function(){l||n.$emit("click",t)},c=o&&i("div",{class:(0,Ch.bem)("top-info")},[o]),h=a&&i("div",{class:(0,Ch.bem)("bottom-info")},[a]);return"selected"===r?i("div",{attrs:{role:"gridcell",tabindex:-1},style:s,class:[(0,Ch.bem)("day"),t.className],on:{click:u}},[i("div",{class:(0,Ch.bem)("selected-day"),style:{width:this.rowHeightWithUnit,height:this.rowHeightWithUnit,background:this.color}},[c,t.text,h])]):i("div",{attrs:{role:"gridcell",tabindex:l?null:-1},style:s,class:[(0,Ch.bem)("day",r),t.className],on:{click:u}},[c,t.text,h])}},render:function(){var t=arguments[0];return t("div",{class:(0,Ch.bem)("month"),ref:"month"},[this.genTitle(),this.genDays()])}});e.default=r})),Dh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("calendar-header"),i=n[0],r=i({props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},methods:{genTitle:function(){var t=this.$createElement;if(this.showTitle){var e=this.slots("title")||this.title||(0,Ch.t)("title");return t("div",{class:(0,Ch.bem)("header-title")},[e])}},genSubtitle:function(){var t=this.$createElement;if(this.showSubtitle)return t("div",{class:(0,Ch.bem)("header-subtitle")},[this.subtitle])},genWeekDays:function(){var t=this.$createElement,e=(0,Ch.t)("weekdays"),n=this.firstDayOfWeek,i=[].concat(e.slice(n,7),e.slice(0,n));return t("div",{class:(0,Ch.bem)("weekdays")},[i.map((function(e){return t("span",{class:(0,Ch.bem)("weekday")},[e])}))])}},render:function(){var t=arguments[0];return t("div",{class:(0,Ch.bem)("header")},[this.genTitle(),this.genSubtitle(),this.genWeekDays()])}});e.default=r})),Lh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(ec),i=Hs($c),r=Hs(zc),o=Hs(Mh),a=Hs(Dh),s=(0,Ch.createComponent)({props:{title:String,color:String,value:Boolean,readonly:Boolean,formatter:Function,rowHeight:[Number,String],confirmText:String,rangePrompt:String,defaultDate:[Date,Array],getContainer:[String,Function],allowSameDay:Boolean,confirmDisabledText:String,type:{type:String,default:"single"},round:{type:Boolean,default:!0},position:{type:String,default:"bottom"},poppable:{type:Boolean,default:!0},maxRange:{type:[Number,String],default:null},lazyRender:{type:Boolean,default:!0},showMark:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showSubtitle:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},minDate:{type:Date,validator:Oh.isDate,default:function(){return new Date}},maxDate:{type:Date,validator:Oh.isDate,default:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth()+6,t.getDate())}},firstDayOfWeek:{type:[Number,String],default:0,validator:function(t){return t>=0&&t<=6}}},data:function(){return{subtitle:"",currentDate:this.getInitialDate()}},computed:{months:function(){var t=[],e=new Date(this.minDate);e.setDate(1);do{t.push(new Date(e)),e.setMonth(e.getMonth()+1)}while(1!==(0,Ch.compareMonth)(e,this.maxDate));return t},buttonDisabled:function(){var t=this.type,e=this.currentDate;if(e){if("range"===t)return!e[0]||!e[1];if("multiple"===t)return!e.length}return!e},dayOffset:function(){return this.firstDayOfWeek?this.firstDayOfWeek%7:0}},watch:{type:"reset",value:"init",defaultDate:function(t){this.currentDate=t,this.scrollIntoView()}},mounted:function(){this.init()},activated:function(){this.init()},methods:{reset:function(){this.currentDate=this.getInitialDate(),this.scrollIntoView()},init:function(){var t=this;this.poppable&&!this.value||this.$nextTick((function(){t.bodyHeight=Math.floor(t.$refs.body.getBoundingClientRect().height),t.onScroll(),t.scrollIntoView()}))},scrollIntoView:function(){var t=this;(0,kh.raf)((function(){var e=t.currentDate;if(e){var n="single"===t.type?e:e[0],i=t.value||!t.poppable;n&&i&&t.months.some((function(e,i){if(0===(0,Ch.compareMonth)(e,n)){var r=t.$refs,o=r.body,a=r.months;return a[i].scrollIntoView(o),!0}return!1}))}}))},getInitialDate:function(){var t=this.type,e=this.minDate,n=this.maxDate,i=this.defaultDate;if(null===i)return i;var r=new Date;if(-1===(0,Ch.compareDay)(r,e)?r=e:1===(0,Ch.compareDay)(r,n)&&(r=n),"range"===t){var o=i||[],a=o[0],s=o[1];return[a||r,s||(0,Ch.getNextDay)(r)]}return"multiple"===t?i||[r]:i||r},onScroll:function(){var t=this.$refs,e=t.body,n=t.months,i=(0,Fu.getScrollTop)(e),r=i+this.bodyHeight,o=n.map((function(t){return t.getHeight()})),a=o.reduce((function(t,e){return t+e}),0);if(!(r>a&&i>0)){for(var s,l=0,u=[-1,-1],c=0;c<n.length;c++){var h=l<=r&&l+o[c]>=i;h&&(u[1]=c,s||(s=n[c],u[0]=c),n[c].showed||(n[c].showed=!0,this.$emit("month-show",{date:n[c].date,title:n[c].title}))),l+=o[c]}n.forEach((function(t,e){t.visible=e>=u[0]-1&&e<=u[1]+1})),s&&(this.subtitle=s.title)}},onClickDay:function(t){if(!this.readonly){var e=t.date,n=this.type,i=this.currentDate;if("range"===n){if(!i)return void this.select([e,null]);var o=i[0],a=i[1];if(o&&!a){var s=(0,Ch.compareDay)(e,o);1===s?this.select([o,e],!0):-1===s?this.select([e,null]):this.allowSameDay&&this.select([e,e],!0)}else this.select([e,null])}else if("multiple"===n){if(!i)return void this.select([e]);var l,u=this.currentDate.some((function(t,n){var i=0===(0,Ch.compareDay)(t,e);return i&&(l=n),i}));if(u){var c=i.splice(l,1),h=c[0];this.$emit("unselect",(0,Ch.copyDate)(h))}else this.maxRange&&i.length>=this.maxRange?(0,r.default)(this.rangePrompt||(0,Ch.t)("rangePrompt",this.maxRange)):this.select([].concat(i,[e]))}else this.select(e,!0)}},togglePopup:function(t){this.$emit("input",t)},select:function(t,e){var n=this,i=function(t){n.currentDate=t,n.$emit("select",(0,Ch.copyDates)(n.currentDate))};if(e&&"range"===this.type){var r=this.checkRange(t);if(!r)return void(this.showConfirm?i([t[0],(0,Ch.getDayByOffset)(t[0],this.maxRange-1)]):i(t))}i(t),e&&!this.showConfirm&&this.onConfirm()},checkRange:function(t){var e=this.maxRange,n=this.rangePrompt;return!(e&&(0,Ch.calcDateNum)(t)>e)||((0,r.default)(n||(0,Ch.t)("rangePrompt",e)),!1)},onConfirm:function(){this.$emit("confirm",(0,Ch.copyDates)(this.currentDate))},genMonth:function(t,e){var n=this.$createElement,i=0!==e||!this.showSubtitle;return n(o.default,{ref:"months",refInFor:!0,attrs:{date:t,type:this.type,color:this.color,minDate:this.minDate,maxDate:this.maxDate,showMark:this.showMark,formatter:this.formatter,rowHeight:this.rowHeight,lazyRender:this.lazyRender,currentDate:this.currentDate,showSubtitle:this.showSubtitle,allowSameDay:this.allowSameDay,showMonthTitle:i,firstDayOfWeek:this.dayOffset},on:{click:this.onClickDay}})},genFooterContent:function(){var t=this.$createElement,e=this.slots("footer");if(e)return e;if(this.showConfirm){var n=this.buttonDisabled?this.confirmDisabledText:this.confirmText;return t(i.default,{attrs:{round:!0,block:!0,type:"danger",color:this.color,disabled:this.buttonDisabled,nativeType:"button"},class:(0,Ch.bem)("confirm"),on:{click:this.onConfirm}},[n||(0,Ch.t)("confirm")])}},genFooter:function(){var t=this.$createElement;return t("div",{class:(0,Ch.bem)("footer",{unfit:!this.safeAreaInsetBottom})},[this.genFooterContent()])},genCalendar:function(){var t=this,e=this.$createElement;return e("div",{class:(0,Ch.bem)()},[e(a.default,{attrs:{title:this.title,showTitle:this.showTitle,subtitle:this.subtitle,showSubtitle:this.showSubtitle,firstDayOfWeek:this.dayOffset},scopedSlots:{title:function(){return t.slots("title")}}}),e("div",{ref:"body",class:(0,Ch.bem)("body"),on:{scroll:this.onScroll}},[this.months.map(this.genMonth)]),this.genFooter()])}},render:function(){var t=this,e=arguments[0];if(this.poppable){var i,r=function(e){return function(){return t.$emit(e)}};return e(n.default,{attrs:(i={round:!0,value:this.value},i["round"]=this.round,i["position"]=this.position,i["closeable"]=this.showTitle||this.showSubtitle,i["getContainer"]=this.getContainer,i["closeOnPopstate"]=this.closeOnPopstate,i["closeOnClickOverlay"]=this.closeOnClickOverlay,i),class:(0,Ch.bem)("popup"),on:{input:this.togglePopup,open:r("open"),opened:r("opened"),close:r("close"),closed:r("closed")}},[this.genCalendar()])}return this.genCalendar()}});e.default=s})),Rh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(tc),r=(0,Wl.createNamespace)("image"),o=r[0],a=r[1],s=o({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconPrefix:String,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return(0,Wl.isDef)(this.width)&&(t.width=(0,Wl.addUnit)(this.width)),(0,Wl.isDef)(this.height)&&(t.height=(0,Wl.addUnit)(this.height)),(0,Wl.isDef)(this.radius)&&(t.overflow="hidden",t.borderRadius=(0,Wl.addUnit)(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&Wl.inBrowser&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var e=t.el;e===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var e=t.el;e!==this.$refs.image||this.error||this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;return this.loading&&this.showLoading&&Wl.inBrowser?t("div",{class:a("loading")},[this.slots("loading")||t(i.default,{attrs:{name:this.loadingIcon,classPrefix:this.iconPrefix},class:a("loading-icon")})]):this.error&&this.showError?t("div",{class:a("error")},[this.slots("error")||t(i.default,{attrs:{name:this.errorIcon,classPrefix:this.iconPrefix},class:a("error-icon")})]):void 0},genImage:function(){var t=this.$createElement,e={class:a("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",(0,n.default)([{ref:"image",directives:[{name:"lazy",value:this.src}]},e])):t("img",(0,n.default)([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},e]))}},render:function(){var t=arguments[0];return t("div",{class:a({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder(),this.slots()])}});e.default=s})),Bh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(ah),r=Hs(Rh),o=(0,Wl.createNamespace)("card"),a=o[0],s=o[1];function l(t,e,o,a){var l,u=e.thumb,c=o.num||(0,Wl.isDef)(e.num),h=o.price||(0,Wl.isDef)(e.price),d=o["origin-price"]||(0,Wl.isDef)(e.originPrice),f=c||h||d||o.bottom;function p(t){(0,iu.emit)(a,"click-thumb",t)}function v(){if(o.tag||e.tag)return t("div",{class:s("tag")},[o.tag?o.tag():t(i.default,{attrs:{mark:!0,type:"danger"}},[e.tag])])}function m(){if(o.thumb||u)return t("a",{attrs:{href:e.thumbLink},class:s("thumb"),on:{click:p}},[o.thumb?o.thumb():t(r.default,{attrs:{src:u,width:"100%",height:"100%",fit:"cover","lazy-load":e.lazyLoad}}),v()])}function g(){return o.title?o.title():e.title?t("div",{class:[s("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0}function y(){return o.desc?o.desc():e.desc?t("div",{class:[s("desc"),"van-ellipsis"]},[e.desc]):void 0}function b(){var n=e.price.toString().split(".");return t("div",[t("span",{class:s("price-currency")},[e.currency]),t("span",{class:s("price-integer")},[n[0]]),".",t("span",{class:s("price-decimal")},[n[1]])])}function w(){if(h)return t("div",{class:s("price")},[o.price?o.price():b()])}function x(){if(d){var n=o["origin-price"];return t("div",{class:s("origin-price")},[n?n():e.currency+" "+e.originPrice])}}function k(){if(c)return t("div",{class:s("num")},[o.num?o.num():"x"+e.num])}function S(){if(o.footer)return t("div",{class:s("footer")},[o.footer()])}return t("div",(0,n.default)([{class:s()},(0,iu.inherit)(a,!0)]),[t("div",{class:s("header")},[m(),t("div",{class:s("content",{centered:e.centered})},[t("div",[g(),y(),null==o.tags?void 0:o.tags()]),f&&t("div",{class:"van-card__bottom"},[null==(l=o["price-top"])?void 0:l.call(o),w(),x(),k(),null==o.bottom?void 0:o.bottom()])])]),S()])}l.props={tag:String,desc:String,thumb:String,title:String,centered:Boolean,lazyLoad:Boolean,thumbLink:String,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:"¥"}};var u=a(l);e.default=u})),zh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("cell-group"),r=i[0],o=i[1];function a(t,e,i,r){var a,s=t("div",(0,n.default)([{class:[o(),(a={},a[lc.BORDER_TOP_BOTTOM]=e.border,a)]},(0,iu.inherit)(r,!0)]),[null==i.default?void 0:i.default()]);return e.title||i.title?t("div",[t("div",{class:o("title")},[i.title?i.title():e.title]),s]):s}a.props={title:String,border:{type:Boolean,default:!0}};var s=r(a);e.default=s})),$h=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("checkbox"),i=n[0],r=n[1],o=i({mixins:[(0,sh.CheckboxMixin)({bem:r,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,n=e.value.slice();if(t){if(e.max&&n.length>=e.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),e.$emit("input",n))}else{var i=n.indexOf(this.name);-1!==i&&(n.splice(i,1),e.$emit("input",n))}}}});e.default=o})),Fh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("checkbox-group"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanCheckbox"),nh.FieldMixin],props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){if(!1!==t){var e=this.children;t||(e=e.filter((function(t){return!t.checked})));var n=e.map((function(t){return t.name}));this.$emit("input",n)}else this.$emit("input",[])}},render:function(){var t=arguments[0];return t("div",{class:r([this.direction])},[this.slots()])}});e.default=o})),qh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("circle"),i=n[0],r=n[1],o=3140,a=0;function s(t){return Math.min(Math.max(t,0),100)}function l(t,e){var n=t?1:0;return"M "+e/2+" "+e/2+" m 0, -500 a 500, 500 0 1, "+n+" 0, 1000 a 500, 500 0 1, "+n+" 0, -1000"}var u=i({props:{text:String,strokeLinecap:String,value:{type:Number,default:0},speed:{type:[Number,String],default:0},size:{type:[Number,String],default:100},fill:{type:String,default:"none"},rate:{type:[Number,String],default:100},layerColor:{type:String,default:lc.WHITE},color:{type:[String,Object],default:lc.BLUE},strokeWidth:{type:[Number,String],default:40},clockwise:{type:Boolean,default:!0}},beforeCreate:function(){this.uid="van-circle-gradient-"+a++},computed:{style:function(){var t=(0,Wl.addUnit)(this.size);return{width:t,height:t}},path:function(){return l(this.clockwise,this.viewBoxSize)},viewBoxSize:function(){return+this.strokeWidth+1e3},layerStyle:function(){var t=o*this.value/100;return{stroke:""+this.color,strokeWidth:+this.strokeWidth+1+"px",strokeLinecap:this.strokeLinecap,strokeDasharray:t+"px "+o+"px"}},hoverStyle:function(){return{fill:""+this.fill,stroke:""+this.layerColor,strokeWidth:this.strokeWidth+"px"}},gradient:function(){return(0,Wl.isObject)(this.color)},LinearGradient:function(){var t=this,e=this.$createElement;if(this.gradient){var n=Object.keys(this.color).sort((function(t,e){return parseFloat(t)-parseFloat(e)})).map((function(n,i){return e("stop",{key:i,attrs:{offset:n,"stop-color":t.color[n]}})}));return e("defs",[e("linearGradient",{attrs:{id:this.uid,x1:"100%",y1:"0%",x2:"0%",y2:"0%"}},[n])])}}},watch:{rate:{handler:function(t){this.startTime=Date.now(),this.startRate=this.value,this.endRate=s(t),this.increase=this.endRate>this.startRate,this.duration=Math.abs(1e3*(this.startRate-this.endRate)/this.speed),this.speed?((0,kh.cancelRaf)(this.rafId),this.rafId=(0,kh.raf)(this.animate)):this.$emit("input",this.endRate)},immediate:!0}},methods:{animate:function(){var t=Date.now(),e=Math.min((t-this.startTime)/this.duration,1),n=e*(this.endRate-this.startRate)+this.startRate;this.$emit("input",s(parseFloat(n.toFixed(1)))),(this.increase?n<this.endRate:n>this.endRate)&&(this.rafId=(0,kh.raf)(this.animate))}},render:function(){var t=arguments[0];return t("div",{class:r(),style:this.style},[t("svg",{attrs:{viewBox:"0 0 "+this.viewBoxSize+" "+this.viewBoxSize}},[this.LinearGradient,t("path",{class:r("hover"),style:this.hoverStyle,attrs:{d:this.path}}),t("path",{attrs:{d:this.path,stroke:this.gradient?"url(#"+this.uid+")":this.color},class:r("layer"),style:this.layerStyle})]),this.slots()||this.text&&t("div",{class:r("text")},[this.text])])}});e.default=u})),Vh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("col"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ChildrenMixin)("vanRow")],props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{style:function(){var t=this.index,e=this.parent||{},n=e.spaces;if(n&&n[t]){var i=n[t],r=i.left,o=i.right;return{paddingLeft:r?r+"px":null,paddingRight:o?o+"px":null}}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.span,i=this.offset;return e(this.tag,{style:this.style,class:r((t={},t[n]=n,t["offset-"+i]=i,t)),on:{click:this.onClick}},[this.slots()])}});e.default=o})),Hh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("collapse"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanCollapse")],props:{accordion:Boolean,value:[String,Number,Array],border:{type:Boolean,default:!0}},methods:{switch:function(t,e){this.accordion||(t=e?this.value.concat(t):this.value.filter((function(e){return e!==t}))),this.$emit("change",t),this.$emit("input",t)}},render:function(){var t,e=arguments[0];return e("div",{class:[r(),(t={},t[lc.BORDER_TOP_BOTTOM]=this.border,t)]},[this.slots()])}});e.default=o})),Uh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Sc),r=(0,Wl.createNamespace)("collapse-item"),o=r[0],a=r[1],s=["title","icon","right-icon"],l=o({mixins:[(0,Kc.ChildrenMixin)("vanCollapse")],props:(0,n.default)({},kc.cellProps,{name:[Number,String],disabled:Boolean,isLink:{type:Boolean,default:!0}}),data:function(){return{show:null,inited:null}},computed:{currentName:function(){var t;return null!=(t=this.name)?t:this.index},expanded:function(){var t=this;if(!this.parent)return null;var e=this.parent,n=e.value,i=e.accordion;return i?n===this.currentName:n.some((function(e){return e===t.currentName}))}},created:function(){this.show=this.expanded,this.inited=this.expanded},watch:{expanded:function(t,e){var n=this;if(null!==e){t&&(this.show=!0,this.inited=!0);var i=t?this.$nextTick:kh.raf;i((function(){var e=n.$refs,i=e.content,r=e.wrapper;if(i&&r){var o=i.offsetHeight;if(o){var a=o+"px";r.style.height=t?0:a,(0,kh.doubleRaf)((function(){r.style.height=t?a:0}))}else n.onTransitionEnd()}}))}}},methods:{onClick:function(){this.disabled||this.toggle()},toggle:function(t){void 0===t&&(t=!this.expanded);var e=this.parent,n=this.currentName,i=e.accordion&&n===e.value,r=i?"":n;this.parent.switch(r,t)},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height="":this.show=!1},genTitle:function(){var t=this,e=this.$createElement,r=this.border,o=this.disabled,l=this.expanded,u=s.reduce((function(e,n){return t.slots(n)&&(e[n]=function(){return t.slots(n)}),e}),{});return this.slots("value")&&(u.default=function(){return t.slots("value")}),e(i.default,{attrs:{role:"button",tabindex:o?-1:0,"aria-expanded":String(l)},class:a("title",{disabled:o,expanded:l,borderless:!r}),on:{click:this.onClick},scopedSlots:u,props:(0,n.default)({},this.$props)})},genContent:function(){var t=this.$createElement;if(this.inited)return t("div",{directives:[{name:"show",value:this.show}],ref:"wrapper",class:a("wrapper"),on:{transitionend:this.onTransitionEnd}},[t("div",{ref:"content",class:a("content")},[this.slots()])])}},render:function(){var t=arguments[0];return t("div",{class:[a({border:this.index&&this.border})]},[this.genTitle(),this.genContent()])}});e.default=l})),Wh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Sc),r=(0,Wl.createNamespace)("contact-card"),o=r[0],a=r[1],s=r[2];function l(t,e,r,o){var l=e.type,u=e.editable;function c(t){u&&(0,iu.emit)(o,"click",t)}function h(){return"add"===l?e.addText||s("addText"):[t("div",[s("name")+"："+e.name]),t("div",[s("tel")+"："+e.tel])]}return t(i.default,(0,n.default)([{attrs:{center:!0,border:!1,isLink:u,valueClass:a("value"),icon:"edit"===l?"contact":"add-square"},class:a([l]),on:{click:c}},(0,iu.inherit)(o)]),[h()])}l.props={tel:String,name:String,addText:String,editable:{type:Boolean,default:!0},type:{type:String,default:"add"}};var u=o(l);e.default=u})),Yh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Sc),r=Hs(Pc),o=Hs($c),a=Hs(Jc),s=Hs(ih),l=(0,Wl.createNamespace)("contact-edit"),u=l[0],c=l[1],h=l[2],d={tel:"",name:""},f=u({props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:function(){return(0,n.default)({},d)}},telValidator:{type:Function,default:ac.isMobile}},data:function(){return{data:(0,n.default)({},d,this.contactInfo),errorInfo:{name:"",tel:""}}},watch:{contactInfo:function(t){this.data=(0,n.default)({},d,t)}},methods:{onFocus:function(t){this.errorInfo[t]=""},getErrorMessageByKey:function(t){var e=this.data[t].trim();switch(t){case"name":return e?"":h("nameInvalid");case"tel":return this.telValidator(e)?"":h("telInvalid")}},onSave:function(){var t=this,e=["name","tel"].every((function(e){var n=t.getErrorMessageByKey(e);return n&&(t.errorInfo[e]=n),!n}));e&&!this.isSaving&&this.$emit("save",this.data)},onDelete:function(){var t=this;a.default.confirm({title:h("confirmDelete")}).then((function(){t.$emit("delete",t.data)}))}},render:function(){var t=this,e=arguments[0],n=this.data,a=this.errorInfo,l=function(e){return function(){return t.onFocus(e)}};return e("div",{class:c()},[e("div",{class:c("fields")},[e(r.default,{attrs:{clearable:!0,maxlength:"30",label:h("name"),placeholder:h("nameEmpty"),errorMessage:a.name},on:{focus:l("name")},model:{value:n.name,callback:function(e){t.$set(n,"name",e)}}}),e(r.default,{attrs:{clearable:!0,type:"tel",label:h("tel"),placeholder:h("telEmpty"),errorMessage:a.tel},on:{focus:l("tel")},model:{value:n.tel,callback:function(e){t.$set(n,"tel",e)}}})]),this.showSetDefault&&e(i.default,{attrs:{title:this.setDefaultLabel,border:!1},class:c("switch-cell")},[e(s.default,{attrs:{size:24},slot:"right-icon",on:{change:function(e){t.$emit("change-default",e)}},model:{value:n.isDefault,callback:function(e){t.$set(n,"isDefault",e)}}})]),e("div",{class:c("buttons")},[e(o.default,{attrs:{block:!0,round:!0,type:"danger",text:h("save"),loading:this.isSaving},on:{click:this.onSave}}),this.isEdit&&e(o.default,{attrs:{block:!0,round:!0,text:h("delete"),loading:this.isDeleting},on:{click:this.onDelete}})])])}});e.default=f})),Gh=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(ah),r=Hs(tc),o=Hs(Sc),a=Hs(lh),s=Hs($c),l=Hs(oh),u=(0,Wl.createNamespace)("contact-list"),c=u[0],h=u[1],d=u[2];function f(t,e,u,c){var f=e.list&&e.list.map((function(n,s){function l(){(0,iu.emit)(c,"input",n.id),(0,iu.emit)(c,"select",n,s)}function u(){return t(a.default,{attrs:{name:n.id,iconSize:16,checkedColor:lc.RED},on:{click:l}})}function d(){return t(r.default,{attrs:{name:"edit"},class:h("edit"),on:{click:function(t){t.stopPropagation(),(0,iu.emit)(c,"edit",n,s)}}})}function f(){var r=[n.name+"，"+n.tel];return n.isDefault&&e.defaultTagText&&r.push(t(i.default,{attrs:{type:"danger",round:!0},class:h("item-tag")},[e.defaultTagText])),r}return t(o.default,{key:n.id,attrs:{isLink:!0,center:!0,valueClass:h("item-value")},class:h("item"),scopedSlots:{icon:d,default:f,"right-icon":u},on:{click:l}})}));return t("div",(0,n.default)([{class:h()},(0,iu.inherit)(c)]),[t(l.default,{attrs:{value:e.value},class:h("group")},[f]),t("div",{class:h("bottom")},[t(s.default,{attrs:{round:!0,block:!0,type:"danger",text:e.addText||d("addText")},class:h("add"),on:{click:function(){(0,iu.emit)(c,"add")}}})])])}f.props={value:null,list:Array,addText:String,defaultTagText:String};var p=c(f);e.default=p})),Kh=nd,Zh=id,Xh=rd,Qh=1e3,Jh=60*Qh,td=60*Jh,ed=24*td;function nd(t){var e=Math.floor(t/ed),n=Math.floor(t%ed/td),i=Math.floor(t%td/Jh),r=Math.floor(t%Jh/Qh),o=Math.floor(t%Qh);return{days:e,hours:n,minutes:i,seconds:r,milliseconds:o}}function id(t,e){var n=e.days,i=e.hours,r=e.minutes,o=e.seconds,a=e.milliseconds;if(-1===t.indexOf("DD")?i+=24*n:t=t.replace("DD",(0,vl.padZero)(n)),-1===t.indexOf("HH")?r+=60*i:t=t.replace("HH",(0,vl.padZero)(i)),-1===t.indexOf("mm")?o+=60*r:t=t.replace("mm",(0,vl.padZero)(r)),-1===t.indexOf("ss")?a+=1e3*o:t=t.replace("ss",(0,vl.padZero)(o)),-1!==t.indexOf("S")){var s=(0,vl.padZero)(a,3);t=-1!==t.indexOf("SSS")?t.replace("SSS",s):-1!==t.indexOf("SS")?t.replace("SS",s.slice(0,2)):t.replace("S",s.charAt(0))}return t}function rd(t,e){return Math.floor(t/1e3)===Math.floor(e/1e3)}var od,ad=Object.defineProperty({parseTimeData:Kh,parseFormat:Zh,isSameSecond:Xh},"__esModule",{value:!0}),sd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("count-down"),i=n[0],r=n[1],o=i({props:{millisecond:Boolean,time:{type:[Number,String],default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},data:function(){return{remain:0}},computed:{timeData:function(){return(0,ad.parseTimeData)(this.remain)},formattedTime:function(){return(0,ad.parseFormat)(this.format,this.timeData)}},watch:{time:{immediate:!0,handler:"reset"}},activated:function(){this.keepAlivePaused&&(this.counting=!0,this.keepAlivePaused=!1,this.tick())},deactivated:function(){this.counting&&(this.pause(),this.keepAlivePaused=!0)},beforeDestroy:function(){this.pause()},methods:{start:function(){this.counting||(this.counting=!0,this.endTime=Date.now()+this.remain,this.tick())},pause:function(){this.counting=!1,(0,kh.cancelRaf)(this.rafId)},reset:function(){this.pause(),this.remain=+this.time,this.autoStart&&this.start()},tick:function(){this.millisecond?this.microTick():this.macroTick()},microTick:function(){var t=this;this.rafId=(0,kh.raf)((function(){t.counting&&(t.setRemain(t.getRemain()),t.remain>0&&t.microTick())}))},macroTick:function(){var t=this;this.rafId=(0,kh.raf)((function(){if(t.counting){var e=t.getRemain();(0,ad.isSameSecond)(e,t.remain)&&0!==e||t.setRemain(e),t.remain>0&&t.macroTick()}}))},getRemain:function(){return Math.max(this.endTime-Date.now(),0)},setRemain:function(t){this.remain=t,this.$emit("change",this.timeData),0===t&&(this.pause(),this.$emit("finish"))}},render:function(){var t=arguments[0];return t("div",{class:r()},[this.slots("default",this.timeData)||this.formattedTime])}});e.default=o})),ld=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs($h),i=(0,Wl.createNamespace)("coupon"),r=i[0],o=i[1],a=i[2];function s(t){var e=new Date(1e3*t);return e.getFullYear()+"."+(0,vl.padZero)(e.getMonth()+1)+"."+(0,vl.padZero)(e.getDate())}function l(t){return(t/10).toFixed(t%10===0?0:1)}function u(t){return(t/100).toFixed(t%100===0?0:t%10===0?1:2)}var c=r({props:{coupon:Object,chosen:Boolean,disabled:Boolean,currency:{type:String,default:"¥"}},computed:{validPeriod:function(){var t=this.coupon,e=t.startAt,n=t.endAt;return s(e)+" - "+s(n)},faceAmount:function(){var t=this.coupon;if(t.valueDesc)return t.valueDesc+"<span>"+(t.unitDesc||"")+"</span>";if(t.denominations){var e=u(t.denominations);return"<span>"+this.currency+"</span> "+e}return t.discount?a("discount",l(t.discount)):""},conditionMessage:function(){var t=u(this.coupon.originCondition);return"0"===t?a("unlimited"):a("condition",t)}},render:function(){var t=arguments[0],e=this.coupon,i=this.disabled,r=i&&e.reason||e.description;return t("div",{class:o({disabled:i})},[t("div",{class:o("content")},[t("div",{class:o("head")},[t("h2",{class:o("amount"),domProps:{innerHTML:this.faceAmount}}),t("p",{class:o("condition")},[this.coupon.condition||this.conditionMessage])]),t("div",{class:o("body")},[t("p",{class:o("name")},[e.name]),t("p",{class:o("valid")},[this.validPeriod]),!this.disabled&&t(n.default,{attrs:{size:18,value:this.chosen,checkedColor:lc.RED},class:o("corner")})])]),r&&t("p",{class:o("description")},[r])])}});e.default=c})),ud=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Sc),r=(0,Wl.createNamespace)("coupon-cell"),o=r[0],a=r[1],s=r[2];function l(t){var e=t.coupons,n=t.chosenCoupon,i=t.currency,r=e[+n];if(r){var o=0;return(0,Wl.isDef)(r.value)?o=r.value:(0,Wl.isDef)(r.denominations)&&(o=r.denominations),"-"+i+" "+(o/100).toFixed(2)}return 0===e.length?s("tips"):s("count",e.length)}function u(t,e,r,o){var u=e.coupons[+e.chosenCoupon],c=l(e);return t(i.default,(0,n.default)([{class:a(),attrs:{value:c,title:e.title||s("title"),border:e.border,isLink:e.editable,valueClass:a("value",{selected:u})}},(0,iu.inherit)(o,!0)]))}u.model={prop:"chosenCoupon"},u.props={title:String,coupons:{type:Array,default:function(){return[]}},currency:{type:String,default:"¥"},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},chosenCoupon:{type:[Number,String],default:-1}};var c=o(u);e.default=c})),cd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=(0,Wl.createNamespace)("tab"),r=i[0],o=i[1],a=r({mixins:[(0,Kc.ChildrenMixin)("vanTabs")],props:(0,n.default)({},xc.routeProps,{dot:Boolean,name:[Number,String],info:[Number,String],badge:[Number,String],title:String,titleStyle:null,disabled:Boolean}),data:function(){return{inited:!1}},computed:{computedName:function(){var t;return null!=(t=this.name)?t:this.index},isActive:function(){var t=this.computedName===this.parent.currentName;return t&&(this.inited=!0),t}},watch:{title:function(){this.parent.setLine()},inited:function(t){var e=this;this.parent.lazyRender&&t&&this.$nextTick((function(){e.parent.$emit("rendered",e.computedName,e.title)}))}},render:function(t){var e=this.slots,n=this.parent,i=this.isActive,r=e();if(r||n.animated){var a=n.scrollspy||i,s=this.inited||n.scrollspy||!n.lazyRender,l=s?r:t();return n.animated?t("div",{attrs:{role:"tabpanel","aria-hidden":!i},class:o("pane-wrapper",{inactive:!i})},[t("div",{class:o("pane")},[l])]):t("div",{directives:[{name:"show",value:a}],attrs:{role:"tabpanel"},class:o("pane")},[l])}}});e.default=a})),hd=fd,dd=pd;function fd(t,e,n){(0,kh.cancelRaf)(od);var i=0,r=t.scrollLeft,o=0===n?1:Math.round(1e3*n/16);function a(){t.scrollLeft+=(e-r)/o,++i<o&&(od=(0,kh.raf)(a))}a()}function pd(t,e,n,i){var r=(0,Fu.getScrollTop)(t),o=r<e,a=0===n?1:Math.round(1e3*n/16),s=(e-r)/a;function l(){r+=s,(o&&r>e||!o&&r<e)&&(r=e),(0,Fu.setScrollTop)(t,r),o&&r<e||!o&&r>e?(0,kh.raf)(l):i&&(0,kh.raf)(i)}l()}var vd=Object.defineProperty({scrollLeftTo:hd,scrollTopTo:dd},"__esModule",{value:!0}),md=gd;function gd(t){var e=window.getComputedStyle(t),n="none"===e.display,i=null===t.offsetParent&&"fixed"!==e.position;return n||i}var yd=Object.defineProperty({isHidden:md},"__esModule",{value:!0}),bd=wd;function wd(t){var e=t.interceptor,n=t.args,i=t.done;if(e){var r=e.apply(void 0,n);(0,Wl.isPromise)(r)?r.then((function(t){t&&i()})).catch(Wl.noop):r&&i()}else i()}var xd=Object.defineProperty({callInterceptor:bd},"__esModule",{value:!0}),kd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Ju),i=(0,Wl.createNamespace)("tab"),r=i[0],o=i[1],a=r({props:{dot:Boolean,type:String,info:[Number,String],color:String,title:String,isActive:Boolean,disabled:Boolean,scrollable:Boolean,activeColor:String,inactiveColor:String},computed:{style:function(){var t={},e=this.color,n=this.isActive,i="card"===this.type;e&&i&&(t.borderColor=e,this.disabled||(n?t.backgroundColor=e:t.color=e));var r=n?this.activeColor:this.inactiveColor;return r&&(t.color=r),t}},methods:{onClick:function(){this.$emit("click")},genText:function(){var t=this.$createElement,e=t("span",{class:o("text",{ellipsis:!this.scrollable})},[this.slots()||this.title]);return this.dot||(0,Wl.isDef)(this.info)&&""!==this.info?t("span",{class:o("text-wrapper")},[e,t(n.default,{attrs:{dot:this.dot,info:this.info}})]):e}},render:function(){var t=arguments[0];return t("div",{attrs:{role:"tab","aria-selected":this.isActive},class:[o({active:this.isActive,disabled:this.disabled})],style:this.style,on:{click:this.onClick}},[this.genText()])}});e.default=a})),Sd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("sticky"),i=n[0],r=n[1],o=i({mixins:[(0,Zu.BindEventMixin)((function(t,e){if(this.scroller||(this.scroller=(0,Fu.getScroller)(this.$el)),this.observer){var n=e?"observe":"unobserve";this.observer[n](this.$el)}t(this.scroller,"scroll",this.onScroll,!0),this.onScroll()}))],props:{zIndex:[Number,String],container:null,offsetTop:{type:[Number,String],default:0}},data:function(){return{fixed:!1,height:0,transform:0}},computed:{offsetTopPx:function(){return(0,Ul.unitToPx)(this.offsetTop)},style:function(){if(this.fixed){var t={};return(0,Wl.isDef)(this.zIndex)&&(t.zIndex=this.zIndex),this.offsetTopPx&&this.fixed&&(t.top=this.offsetTopPx+"px"),this.transform&&(t.transform="translate3d(0, "+this.transform+"px, 0)"),t}}},created:function(){var t=this;!Wl.isServer&&window.IntersectionObserver&&(this.observer=new IntersectionObserver((function(e){e[0].intersectionRatio>0&&t.onScroll()}),{root:document.body}))},methods:{onScroll:function(){var t=this;if(!(0,yd.isHidden)(this.$el)){this.height=this.$el.offsetHeight;var e=this.container,n=this.offsetTopPx,i=(0,Fu.getScrollTop)(window),r=(0,Fu.getElementTop)(this.$el),o=function(){t.$emit("scroll",{scrollTop:i,isFixed:t.fixed})};if(e){var a=r+e.offsetHeight;if(i+n+this.height>a){var s=this.height+i-a;return s<this.height?(this.fixed=!0,this.transform=-(s+n)):this.fixed=!1,void o()}}i+n>r?(this.fixed=!0,this.transform=0):this.fixed=!1,o()}}},render:function(){var t=arguments[0],e=this.fixed,n={height:e?this.height+"px":null};return t("div",{style:n},[t("div",{class:r({fixed:e}),style:this.style},[this.slots()])])}});e.default=o})),_d=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=(0,Wl.createNamespace)("tabs"),r=i[0],o=i[1],a=50,s=r({mixins:[qu.TouchMixin],props:{count:Number,duration:[Number,String],animated:Boolean,swipeable:Boolean,currentIndex:Number},computed:{style:function(){if(this.animated)return{transform:"translate3d("+-1*this.currentIndex*100+"%, 0, 0)",transitionDuration:this.duration+"s"}},listeners:function(){if(this.swipeable)return{touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}}},methods:{onTouchEnd:function(){var t=this.direction,e=this.deltaX,n=this.currentIndex;"horizontal"===t&&this.offsetX>=a&&(e>0&&0!==n?this.$emit("change",n-1):e<0&&n!==this.count-1&&this.$emit("change",n+1))},genChildren:function(){var t=this.$createElement;return this.animated?t("div",{class:o("track"),style:this.style},[this.slots()]):this.slots()}},render:function(){var t=arguments[0];return t("div",{class:o("content",{animated:this.animated}),on:(0,n.default)({},this.listeners)},[this.genChildren()])}});e.default=s})),Od=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(kd),i=Hs(Sd),r=Hs(_d),o=(0,Wl.createNamespace)("tabs"),a=o[0],s=o[1],l=a({mixins:[(0,Kc.ParentMixin)("vanTabs"),(0,Zu.BindEventMixin)((function(t){this.scroller||(this.scroller=(0,Fu.getScroller)(this.$el)),t(window,"resize",this.resize,!0),this.scrollspy&&t(this.scroller,"scroll",this.onScroll,!0)}))],model:{prop:"active"},props:{color:String,border:Boolean,sticky:Boolean,animated:Boolean,swipeable:Boolean,scrollspy:Boolean,background:String,lineWidth:[Number,String],lineHeight:[Number,String],beforeChange:Function,titleActiveColor:String,titleInactiveColor:String,type:{type:String,default:"line"},active:{type:[Number,String],default:0},ellipsis:{type:Boolean,default:!0},duration:{type:[Number,String],default:.3},offsetTop:{type:[Number,String],default:0},lazyRender:{type:Boolean,default:!0},swipeThreshold:{type:[Number,String],default:5}},data:function(){return{position:"",currentIndex:null,lineStyle:{backgroundColor:this.color}}},computed:{scrollable:function(){return this.children.length>this.swipeThreshold||!this.ellipsis},navStyle:function(){return{borderColor:this.color,background:this.background}},currentName:function(){var t=this.children[this.currentIndex];if(t)return t.computedName},offsetTopPx:function(){return(0,Ul.unitToPx)(this.offsetTop)},scrollOffset:function(){return this.sticky?this.offsetTopPx+this.tabHeight:0}},watch:{color:"setLine",active:function(t){t!==this.currentName&&this.setCurrentIndexByName(t)},children:function(){var t=this;this.setCurrentIndexByName(this.active||this.currentName),this.setLine(),this.$nextTick((function(){t.scrollIntoView(!0)}))},currentIndex:function(){this.scrollIntoView(),this.setLine(),this.stickyFixed&&!this.scrollspy&&(0,Fu.setRootScrollTop)(Math.ceil((0,Fu.getElementTop)(this.$el)-this.offsetTopPx))},scrollspy:function(t){t?(0,ou.on)(this.scroller,"scroll",this.onScroll,!0):(0,ou.off)(this.scroller,"scroll",this.onScroll)}},mounted:function(){this.init()},activated:function(){this.init(),this.setLine()},methods:{resize:function(){this.setLine()},init:function(){var t=this;this.$nextTick((function(){t.inited=!0,t.tabHeight=(0,Fu.getVisibleHeight)(t.$refs.wrap),t.scrollIntoView(!0)}))},setLine:function(){var t=this,e=this.inited;this.$nextTick((function(){var n=t.$refs.titles;if(n&&n[t.currentIndex]&&"line"===t.type&&!(0,yd.isHidden)(t.$el)){var i=n[t.currentIndex].$el,r=t.lineWidth,o=t.lineHeight,a=i.offsetLeft+i.offsetWidth/2,s={width:(0,Wl.addUnit)(r),backgroundColor:t.color,transform:"translateX("+a+"px) translateX(-50%)"};if(e&&(s.transitionDuration=t.duration+"s"),(0,Wl.isDef)(o)){var l=(0,Wl.addUnit)(o);s.height=l,s.borderRadius=l}t.lineStyle=s}}))},setCurrentIndexByName:function(t){var e=this.children.filter((function(e){return e.computedName===t})),n=(this.children[0]||{}).index||0;this.setCurrentIndex(e.length?e[0].index:n)},setCurrentIndex:function(t){var e=this.findAvailableTab(t);if((0,Wl.isDef)(e)){var n=this.children[e],i=n.computedName,r=null!==this.currentIndex;this.currentIndex=e,i!==this.active&&(this.$emit("input",i),r&&this.$emit("change",i,n.title))}},findAvailableTab:function(t){var e=t<this.currentIndex?-1:1;while(t>=0&&t<this.children.length){if(!this.children[t].disabled)return t;t+=e}},onClick:function(t,e){var n=this,i=this.children[e],r=i.title,o=i.disabled,a=i.computedName;o?this.$emit("disabled",a,r):((0,xd.callInterceptor)({interceptor:this.beforeChange,args:[a],done:function(){n.setCurrentIndex(e),n.scrollToCurrentContent()}}),this.$emit("click",a,r),(0,xc.route)(t.$router,t))},scrollIntoView:function(t){var e=this.$refs.titles;if(this.scrollable&&e&&e[this.currentIndex]){var n=this.$refs.nav,i=e[this.currentIndex].$el,r=i.offsetLeft-(n.offsetWidth-i.offsetWidth)/2;(0,vd.scrollLeftTo)(n,r,t?0:+this.duration)}},onSticktScroll:function(t){this.stickyFixed=t.isFixed,this.$emit("scroll",t)},scrollTo:function(t){var e=this;this.$nextTick((function(){e.setCurrentIndexByName(t),e.scrollToCurrentContent(!0)}))},scrollToCurrentContent:function(t){var e=this;if(void 0===t&&(t=!1),this.scrollspy){var n=this.children[this.currentIndex],i=null==n?void 0:n.$el;if(i){var r=(0,Fu.getElementTop)(i,this.scroller)-this.scrollOffset;this.lockScroll=!0,(0,vd.scrollTopTo)(this.scroller,r,t?0:+this.duration,(function(){e.lockScroll=!1}))}}},onScroll:function(){if(this.scrollspy&&!this.lockScroll){var t=this.getCurrentIndexOnScroll();this.setCurrentIndex(t)}},getCurrentIndexOnScroll:function(){for(var t=this.children,e=0;e<t.length;e++){var n=(0,Fu.getVisibleTop)(t[e].$el);if(n>this.scrollOffset)return 0===e?0:e-1}return t.length-1}},render:function(){var t,e=this,o=arguments[0],a=this.type,l=this.animated,u=this.scrollable,c=this.children.map((function(t,i){var r;return o(n.default,{ref:"titles",refInFor:!0,attrs:{type:a,dot:t.dot,info:null!=(r=t.badge)?r:t.info,title:t.title,color:e.color,isActive:i===e.currentIndex,disabled:t.disabled,scrollable:u,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor},style:t.titleStyle,scopedSlots:{default:function(){return t.slots("title")}},on:{click:function(){e.onClick(t,i)}}})})),h=o("div",{ref:"wrap",class:[s("wrap",{scrollable:u}),(t={},t[lc.BORDER_TOP_BOTTOM]="line"===a&&this.border,t)]},[o("div",{ref:"nav",attrs:{role:"tablist"},class:s("nav",[a,{complete:this.scrollable}]),style:this.navStyle},[this.slots("nav-left"),c,"line"===a&&o("div",{class:s("line"),style:this.lineStyle}),this.slots("nav-right")])]);return o("div",{class:s([a])},[this.sticky?o(i.default,{attrs:{container:this.$el,offsetTop:this.offsetTop},on:{scroll:this.onSticktScroll}},[h]):h,o(r.default,{attrs:{count:this.children.length,animated:l,duration:this.duration,swipeable:this.swipeable,currentIndex:this.currentIndex},on:{change:this.setCurrentIndex}},[this.slots()])])}});e.default=l})),Cd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(cd),i=Hs(Od),r=Hs(Pc),o=Hs($c),a=Hs(ld),s=(0,Wl.createNamespace)("coupon-list"),l=s[0],u=s[1],c=s[2],h="https://img.yzcdn.cn/vant/coupon-empty.png",d=l({model:{prop:"code"},props:{code:String,closeButtonText:String,inputPlaceholder:String,enabledTitle:String,disabledTitle:String,exchangeButtonText:String,exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,exchangeMinLength:{type:Number,default:1},chosenCoupon:{type:Number,default:-1},coupons:{type:Array,default:function(){return[]}},disabledCoupons:{type:Array,default:function(){return[]}},displayedCouponIndex:{type:Number,default:-1},showExchangeBar:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0},showCount:{type:Boolean,default:!0},currency:{type:String,default:"¥"},emptyImage:{type:String,default:h}},data:function(){return{tab:0,winHeight:window.innerHeight,currentCode:this.code||""}},computed:{buttonDisabled:function(){return!this.exchangeButtonLoading&&(this.exchangeButtonDisabled||!this.currentCode||this.currentCode.length<this.exchangeMinLength)},listStyle:function(){return{height:this.winHeight-(this.showExchangeBar?140:94)+"px"}}},watch:{code:function(t){this.currentCode=t},currentCode:function(t){this.$emit("input",t)},displayedCouponIndex:"scrollToShowCoupon"},mounted:function(){this.scrollToShowCoupon(this.displayedCouponIndex)},methods:{onClickExchangeButton:function(){this.$emit("exchange",this.currentCode),this.code||(this.currentCode="")},scrollToShowCoupon:function(t){var e=this;-1!==t&&this.$nextTick((function(){var n=e.$refs,i=n.card,r=n.list;r&&i&&i[t]&&(r.scrollTop=i[t].$el.offsetTop-100)}))},genEmpty:function(){var t=this.$createElement;return t("div",{class:u("empty")},[t("img",{attrs:{src:this.emptyImage}}),t("p",[c("empty")])])},genExchangeButton:function(){var t=this.$createElement;return t(o.default,{attrs:{plain:!0,type:"danger",text:this.exchangeButtonText||c("exchange"),loading:this.exchangeButtonLoading,disabled:this.buttonDisabled},class:u("exchange"),on:{click:this.onClickExchangeButton}})}},render:function(){var t=this,e=arguments[0],s=this.coupons,l=this.disabledCoupons,h=this.showCount?" ("+s.length+")":"",d=(this.enabledTitle||c("enable"))+h,f=this.showCount?" ("+l.length+")":"",p=(this.disabledTitle||c("disabled"))+f,v=this.showExchangeBar&&e("div",{class:u("exchange-bar")},[e(r.default,{attrs:{clearable:!0,border:!1,placeholder:this.inputPlaceholder||c("placeholder"),maxlength:"20"},class:u("field"),model:{value:t.currentCode,callback:function(e){t.currentCode=e}}}),this.genExchangeButton()]),m=function(e){return function(){return t.$emit("change",e)}},g=e(n.default,{attrs:{title:d}},[e("div",{class:u("list",{"with-bottom":this.showCloseButton}),style:this.listStyle},[s.map((function(n,i){return e(a.default,{ref:"card",key:n.id,attrs:{coupon:n,currency:t.currency,chosen:i===t.chosenCoupon},nativeOn:{click:m(i)}})})),!s.length&&this.genEmpty()])]),y=e(n.default,{attrs:{title:p}},[e("div",{class:u("list",{"with-bottom":this.showCloseButton}),style:this.listStyle},[l.map((function(n){return e(a.default,{attrs:{disabled:!0,coupon:n,currency:t.currency},key:n.id})})),!l.length&&this.genEmpty()])]);return e("div",{class:u()},[v,e(i.default,{class:u("tab"),attrs:{border:!1},model:{value:t.tab,callback:function(e){t.tab=e}}},[g,y]),e("div",{class:u("bottom")},[e(o.default,{directives:[{name:"show",value:this.showCloseButton}],attrs:{round:!0,type:"danger",block:!0,text:this.closeButtonText||c("close")},class:u("close"),on:{click:m(-1)}})])])}});e.default=d})),Ed=v((function(t,e){e.__esModule=!0,e.TimePickerMixin=e.sharedProps=void 0;var n=Hs(Us),i=Hs(bc),r=(0,n.default)({},sc.pickerProps,{value:null,filter:Function,columnsOrder:Array,showToolbar:{type:Boolean,default:!0},formatter:{type:Function,default:function(t,e){return e}}});e.sharedProps=r;var o={data:function(){return{innerValue:this.formatValue(this.value)}},computed:{originColumns:function(){var t=this;return this.ranges.map((function(e){var n=e.type,i=e.range,r=(0,Ph.times)(i[1]-i[0]+1,(function(t){var e=(0,vl.padZero)(i[0]+t);return e}));return t.filter&&(r=t.filter(n,r)),{type:n,values:r}}))},columns:function(){var t=this;return this.originColumns.map((function(e){return{values:e.values.map((function(n){return t.formatter(e.type,n)}))}}))}},watch:{columns:"updateColumnValue",innerValue:function(t){this.$emit("input",t)}},mounted:function(){var t=this;this.updateColumnValue(),this.$nextTick((function(){t.updateInnerValue()}))},methods:{getPicker:function(){return this.$refs.picker},onConfirm:function(){this.$emit("confirm",this.innerValue)},onCancel:function(){this.$emit("cancel")}},render:function(){var t=this,e=arguments[0],r={};return Object.keys(sc.pickerProps).forEach((function(e){r[e]=t[e]})),e(i.default,{ref:"picker",attrs:{columns:this.columns,readonly:this.readonly},on:{change:this.onChange,confirm:this.onConfirm,cancel:this.onCancel},props:(0,n.default)({},r)})}};e.TimePickerMixin=o})),Td=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=(0,Wl.createNamespace)("time-picker"),r=i[0],o=r({mixins:[Ed.TimePickerMixin],props:(0,n.default)({},Ed.sharedProps,{minHour:{type:[Number,String],default:0},maxHour:{type:[Number,String],default:23},minMinute:{type:[Number,String],default:0},maxMinute:{type:[Number,String],default:59}}),computed:{ranges:function(){return[{type:"hour",range:[+this.minHour,+this.maxHour]},{type:"minute",range:[+this.minMinute,+this.maxMinute]}]}},watch:{filter:"updateInnerValue",minHour:"updateInnerValue",maxHour:"updateInnerValue",minMinute:"updateInnerValue",maxMinute:"updateInnerValue",value:function(t){t=this.formatValue(t),t!==this.innerValue&&(this.innerValue=t,this.updateColumnValue())}},methods:{formatValue:function(t){t||(t=(0,vl.padZero)(this.minHour)+":"+(0,vl.padZero)(this.minMinute));var e=t.split(":"),n=e[0],i=e[1];return n=(0,vl.padZero)((0,gc.range)(n,this.minHour,this.maxHour)),i=(0,vl.padZero)((0,gc.range)(i,this.minMinute,this.maxMinute)),n+":"+i},updateInnerValue:function(){var t=this.getPicker().getIndexes(),e=t[0],n=t[1],i=this.originColumns,r=i[0],o=i[1],a=r.values[e]||r.values[0],s=o.values[n]||o.values[0];this.innerValue=this.formatValue(a+":"+s),this.updateColumnValue()},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.formatter,n=this.innerValue.split(":"),i=[e("hour",n[0]),e("minute",n[1])];this.$nextTick((function(){t.getPicker().setValues(i)}))}}});e.default=o})),Ad=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=(new Date).getFullYear(),r=(0,Wl.createNamespace)("date-picker"),o=r[0],a=o({mixins:[Ed.TimePickerMixin],props:(0,n.default)({},Ed.sharedProps,{type:{type:String,default:"datetime"},minDate:{type:Date,default:function(){return new Date(i-10,0,1)},validator:Oh.isDate},maxDate:{type:Date,default:function(){return new Date(i+10,11,31)},validator:Oh.isDate}}),watch:{filter:"updateInnerValue",minDate:"updateInnerValue",maxDate:"updateInnerValue",value:function(t){t=this.formatValue(t),t.valueOf()!==this.innerValue.valueOf()&&(this.innerValue=t)}},computed:{ranges:function(){var t=this.getBoundary("max",this.innerValue),e=t.maxYear,n=t.maxDate,i=t.maxMonth,r=t.maxHour,o=t.maxMinute,a=this.getBoundary("min",this.innerValue),s=a.minYear,l=a.minDate,u=a.minMonth,c=a.minHour,h=a.minMinute,d=[{type:"year",range:[s,e]},{type:"month",range:[u,i]},{type:"day",range:[l,n]},{type:"hour",range:[c,r]},{type:"minute",range:[h,o]}];switch(this.type){case"date":d=d.slice(0,3);break;case"year-month":d=d.slice(0,2);break;case"month-day":d=d.slice(1,3);break;case"datehour":d=d.slice(0,4);break}if(this.columnsOrder){var f=this.columnsOrder.concat(d.map((function(t){return t.type})));d.sort((function(t,e){return f.indexOf(t.type)-f.indexOf(e.type)}))}return d}},methods:{formatValue:function(t){return(0,Oh.isDate)(t)||(t=this.minDate),t=Math.max(t,this.minDate.getTime()),t=Math.min(t,this.maxDate.getTime()),new Date(t)},getBoundary:function(t,e){var n,i=this[t+"Date"],r=i.getFullYear(),o=1,a=1,s=0,l=0;return"max"===t&&(o=12,a=(0,Ph.getMonthEndDay)(e.getFullYear(),e.getMonth()+1),s=23,l=59),e.getFullYear()===r&&(o=i.getMonth()+1,e.getMonth()+1===o&&(a=i.getDate(),e.getDate()===a&&(s=i.getHours(),e.getHours()===s&&(l=i.getMinutes())))),n={},n[t+"Year"]=r,n[t+"Month"]=o,n[t+"Date"]=a,n[t+"Hour"]=s,n[t+"Minute"]=l,n},updateInnerValue:function(){var t,e,n,i=this,r=this.type,o=this.getPicker().getIndexes(),a=function(t){var e=0;i.originColumns.forEach((function(n,i){t===n.type&&(e=i)}));var n=i.originColumns[e].values;return(0,Ph.getTrueValue)(n[o[e]])};"month-day"===r?(t=this.innerValue.getFullYear(),e=a("month"),n=a("day")):(t=a("year"),e=a("month"),n="year-month"===r?1:a("day"));var s=(0,Ph.getMonthEndDay)(t,e);n=n>s?s:n;var l=0,u=0;"datehour"===r&&(l=a("hour")),"datetime"===r&&(l=a("hour"),u=a("minute"));var c=new Date(t,e-1,n,l,u);this.innerValue=this.formatValue(c)},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.innerValue,n=this.formatter,i=this.originColumns.map((function(t){switch(t.type){case"year":return n("year",""+e.getFullYear());case"month":return n("month",(0,vl.padZero)(e.getMonth()+1));case"day":return n("day",(0,vl.padZero)(e.getDate()));case"hour":return n("hour",(0,vl.padZero)(e.getHours()));case"minute":return n("minute",(0,vl.padZero)(e.getMinutes()));default:return null}}));this.$nextTick((function(){t.getPicker().setValues(i)}))}}});e.default=a})),jd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Td),r=Hs(Ad),o=(0,Wl.createNamespace)("datetime-picker"),a=o[0],s=o[1],l=a({props:(0,n.default)({},i.default.props,r.default.props),methods:{getPicker:function(){return this.$refs.root.getPicker()}},render:function(){var t=arguments[0],e="time"===this.type?i.default:r.default;return t(e,{ref:"root",class:s(),props:(0,n.default)({},this.$props),on:(0,n.default)({},this.$listeners)})}});e.default=l})),Nd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("divider"),r=i[0],o=i[1];function a(t,e,i,r){var a;return t("div",(0,n.default)([{attrs:{role:"separator"},style:{borderColor:e.borderColor},class:o((a={dashed:e.dashed,hairline:e.hairline},a["content-"+e.contentPosition]=i.default,a))},(0,iu.inherit)(r,!0)]),[i.default&&i.default()])}a.props={dashed:Boolean,hairline:{type:Boolean,default:!0},contentPosition:{type:String,default:"center"}};var s=r(a);e.default=s})),Id=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Sc),i=Hs(tc),r=Hs(ec),o=(0,Wl.createNamespace)("dropdown-item"),a=o[0],s=o[1],l=a({mixins:[(0,Wu.PortalMixin)({ref:"wrapper"}),(0,Kc.ChildrenMixin)("vanDropdownMenu")],props:{value:null,title:String,disabled:Boolean,titleClass:String,options:{type:Array,default:function(){return[]}},lazyRender:{type:Boolean,default:!0}},data:function(){return{transition:!0,showPopup:!1,showWrapper:!1}},computed:{displayTitle:function(){var t=this;if(this.title)return this.title;var e=this.options.filter((function(e){return e.value===t.value}));return e.length?e[0].text:""}},watch:{showPopup:function(t){this.bindScroll(t)}},beforeCreate:function(){var t=this,e=function(e){return function(){return t.$emit(e)}};this.onOpen=e("open"),this.onClose=e("close"),this.onOpened=e("opened")},methods:{toggle:function(t,e){void 0===t&&(t=!this.showPopup),void 0===e&&(e={}),t!==this.showPopup&&(this.transition=!e.immediate,this.showPopup=t,t&&(this.parent.updateOffset(),this.showWrapper=!0))},bindScroll:function(t){var e=this.parent.scroller,n=t?ou.on:ou.off;n(e,"scroll",this.onScroll,!0)},onScroll:function(){this.parent.updateOffset()},onClickWrapper:function(t){this.getContainer&&t.stopPropagation()}},render:function(){var t=this,e=arguments[0],o=this.parent,a=o.zIndex,l=o.offset,u=o.overlay,c=o.duration,h=o.direction,d=o.activeColor,f=o.closeOnClickOverlay,p=this.options.map((function(r){var o=r.value===t.value;return e(n.default,{attrs:{clickable:!0,icon:r.icon,title:r.text},key:r.value,class:s("option",{active:o}),style:{color:o?d:""},on:{click:function(){t.showPopup=!1,r.value!==t.value&&(t.$emit("input",r.value),t.$emit("change",r.value))}}},[o&&e(i.default,{class:s("icon"),attrs:{color:d,name:"success"}})])})),v={zIndex:a};return"down"===h?v.top=l+"px":v.bottom=l+"px",e("div",[e("div",{directives:[{name:"show",value:this.showWrapper}],ref:"wrapper",style:v,class:s([h]),on:{click:this.onClickWrapper}},[e(r.default,{attrs:{overlay:u,position:"down"===h?"top":"bottom",duration:this.transition?c:0,lazyRender:this.lazyRender,overlayStyle:{position:"absolute"},closeOnClickOverlay:f},class:s("content"),on:{open:this.onOpen,close:this.onClose,opened:this.onOpened,closed:function(){t.showWrapper=!1,t.$emit("closed")}},model:{value:t.showPopup,callback:function(e){t.showPopup=e}}},[p,this.slots("default")])])])}});e.default=l})),Pd=v((function(t,e){e.__esModule=!0,e.ClickOutsideMixin=void 0;var n=function(t){return{props:{closeOnClickOutside:{type:Boolean,default:!0}},data:function(){var e=this,n=function(n){e.closeOnClickOutside&&!e.$el.contains(n.target)&&e[t.method]()};return{clickOutsideHandler:n}},mounted:function(){(0,ou.on)(document,t.event,this.clickOutsideHandler)},beforeDestroy:function(){(0,ou.off)(document,t.event,this.clickOutsideHandler)}}};e.ClickOutsideMixin=n})),Md=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("dropdown-menu"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanDropdownMenu"),(0,Pd.ClickOutsideMixin)({event:"click",method:"onClickOutside"})],props:{zIndex:[Number,String],activeColor:String,overlay:{type:Boolean,default:!0},duration:{type:[Number,String],default:.2},direction:{type:String,default:"down"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{offset:0}},computed:{scroller:function(){return(0,Fu.getScroller)(this.$el)},opened:function(){return this.children.some((function(t){return t.showWrapper}))},barStyle:function(){if(this.opened&&(0,Wl.isDef)(this.zIndex))return{zIndex:1+this.zIndex}}},methods:{updateOffset:function(){if(this.$refs.bar){var t=this.$refs.bar.getBoundingClientRect();"down"===this.direction?this.offset=t.bottom:this.offset=window.innerHeight-t.top}},toggleItem:function(t){this.children.forEach((function(e,n){n===t?e.toggle():e.showPopup&&e.toggle(!1,{immediate:!0})}))},onClickOutside:function(){this.children.forEach((function(t){t.toggle(!1)}))}},render:function(){var t=this,e=arguments[0],n=this.children.map((function(n,i){return e("div",{attrs:{role:"button",tabindex:n.disabled?-1:0},class:r("item",{disabled:n.disabled}),on:{click:function(){n.disabled||t.toggleItem(i)}}},[e("span",{class:[r("title",{active:n.showPopup,down:n.showPopup===("down"===t.direction)}),n.titleClass],style:{color:n.showPopup?t.activeColor:""}},[e("div",{class:"van-ellipsis"},[n.slots("title")||n.displayTitle])])])}));return e("div",{class:r()},[e("div",{ref:"bar",style:this.barStyle,class:r("bar",{opened:this.opened})},[n]),this.slots("default")])}});e.default=o})),Dd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n={render:function(){var t=arguments[0],e=function(e,n,i){return t("stop",{attrs:{"stop-color":e,offset:n+"%","stop-opacity":i}})};return t("svg",{attrs:{viewBox:"0 0 160 160",xmlns:"http://www.w3.org/2000/svg"}},[t("defs",[t("linearGradient",{attrs:{id:"c",x1:"64.022%",y1:"100%",x2:"64.022%",y2:"0%"}},[e("#FFF",0,.5),e("#F2F3F5",100)]),t("linearGradient",{attrs:{id:"d",x1:"64.022%",y1:"96.956%",x2:"64.022%",y2:"0%"}},[e("#F2F3F5",0,.3),e("#F2F3F5",100)]),t("linearGradient",{attrs:{id:"h",x1:"50%",y1:"0%",x2:"50%",y2:"84.459%"}},[e("#EBEDF0",0),e("#DCDEE0",100,0)]),t("linearGradient",{attrs:{id:"i",x1:"100%",y1:"0%",x2:"100%",y2:"100%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"k",x1:"100%",y1:"100%",x2:"100%",y2:"0%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"m",x1:"0%",y1:"43.982%",x2:"100%",y2:"54.703%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"n",x1:"94.535%",y1:"43.837%",x2:"5.465%",y2:"54.948%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("radialGradient",{attrs:{id:"g",cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54835 0 .5 -.5)"}},[e("#EBEDF0",0),e("#FFF",100,0)])]),t("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{opacity:".8"}},[t("path",{attrs:{d:"M0 124V46h20v20h14v58H0z",fill:"url(#c)",transform:"matrix(-1 0 0 1 36 7)"}}),t("path",{attrs:{d:"M40.5 5a8.504 8.504 0 018.13 6.009l.12-.005L49 11a8 8 0 11-1 15.938V27H34v-.174a6.5 6.5 0 11-1.985-12.808A8.5 8.5 0 0140.5 5z",fill:"url(#d)",transform:"translate(2 7)"}}),t("path",{attrs:{d:"M96.016 0a4.108 4.108 0 013.934 2.868l.179-.004c2.138 0 3.871 1.71 3.871 3.818 0 2.109-1.733 3.818-3.871 3.818-.164 0-.325-.01-.484-.03v.03h-6.774v-.083a3.196 3.196 0 01-.726.083C90.408 10.5 89 9.111 89 7.398c0-1.636 1.284-2.976 2.911-3.094a3.555 3.555 0 01-.008-.247c0-2.24 1.842-4.057 4.113-4.057z",fill:"url(#d)",transform:"translate(2 7)"}}),t("path",{attrs:{d:"M121 8h22.231v14H152v77.37h-31V8z",fill:"url(#c)",transform:"translate(2 7)"}})]),t("path",{attrs:{fill:"url(#g)",d:"M0 139h160v21H0z"}}),t("path",{attrs:{d:"M37 18a7 7 0 013 13.326v26.742c0 1.23-.997 2.227-2.227 2.227h-1.546A2.227 2.227 0 0134 58.068V31.326A7 7 0 0137 18z",fill:"url(#h)","fill-rule":"nonzero",transform:"translate(43 36)"}}),t("g",{attrs:{opacity:".6","stroke-linecap":"round","stroke-width":"7"}},[t("path",{attrs:{d:"M20.875 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#i)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M9.849 0C3.756 6.225 0 14.747 0 24.146c0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#i)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M57.625 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#k)",transform:"rotate(-180 76.483 42.257)"}}),t("path",{attrs:{d:"M73.216 0c-6.093 6.225-9.849 14.747-9.849 24.146 0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#k)",transform:"rotate(-180 89.791 42.146)"}})]),t("g",{attrs:{transform:"translate(31 105)","fill-rule":"nonzero"}},[t("rect",{attrs:{fill:"url(#m)",width:"98",height:"34",rx:"2"}}),t("rect",{attrs:{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.114"}}),t("rect",{attrs:{fill:"url(#n)",x:"15",y:"12",width:"18",height:"6",rx:"1.114"}})])])])}};e.default=n})),Ld=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Dd),i=(0,Wl.createNamespace)("empty"),r=i[0],o=i[1],a=["error","search","default"],s=r({props:{imageSize:[Number,String],description:String,image:{type:String,default:"default"}},methods:{genImageContent:function(){var t=this.$createElement,e=this.slots("image");if(e)return e;if("network"===this.image)return t(n.default);var i=this.image;return-1!==a.indexOf(i)&&(i="https://img.yzcdn.cn/vant/empty-image-"+i+".png"),t("img",{attrs:{src:i}})},genImage:function(){var t=this.$createElement,e={width:(0,Wl.addUnit)(this.imageSize),height:(0,Wl.addUnit)(this.imageSize)};return t("div",{class:o("image"),style:e},[this.genImageContent()])},genDescription:function(){var t=this.$createElement,e=this.slots("description")||this.description;if(e)return t("p",{class:o("description")},[e])},genBottom:function(){var t=this.$createElement,e=this.slots();if(e)return t("div",{class:o("bottom")},[e])}},render:function(){var t=arguments[0];return t("div",{class:o()},[this.genImage(),this.genDescription(),this.genBottom()])}});e.default=s})),Rd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("form"),i=n[0],r=n[1],o=i({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var t=this;return new Promise((function(e,n){var i=[];t.fields.reduce((function(t,e){return t.then((function(){if(!i.length)return e.validate().then((function(t){t&&i.push(t)}))}))}),Promise.resolve()).then((function(){i.length?n(i):e()}))}))},validateAll:function(){var t=this;return new Promise((function(e,n){Promise.all(t.fields.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?n(t):e()}))}))},validate:function(t){return t?this.validateField(t):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){this.fields.forEach((function(e){t&&e.name!==t||e.resetValidation()}))},scrollToField:function(t,e){this.fields.some((function(n){return n.name===t&&(n.$el.scrollIntoView(e),!0)}))},addField:function(t){this.fields.push(t),(0,Hc.sortChildren)(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:r(),on:{submit:this.onSubmit}},[this.slots()])}});e.default=o})),Bd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Ju),r=Hs(tc),o=(0,Wl.createNamespace)("goods-action-icon"),a=o[0],s=o[1],l=a({mixins:[(0,Kc.ChildrenMixin)("vanGoodsAction")],props:(0,n.default)({},xc.routeProps,{dot:Boolean,text:String,icon:String,color:String,info:[Number,String],badge:[Number,String],iconClass:null}),methods:{onClick:function(t){this.$emit("click",t),(0,xc.route)(this.$router,this)},genIcon:function(){var t,e=this.$createElement,n=this.slots("icon"),o=null!=(t=this.badge)?t:this.info;return n?e("div",{class:s("icon")},[n,e(i.default,{attrs:{dot:this.dot,info:o}})]):e(r.default,{class:[s("icon"),this.iconClass],attrs:{tag:"div",dot:this.dot,info:o,name:this.icon,color:this.color}})}},render:function(){var t=arguments[0];return t("div",{attrs:{role:"button",tabindex:"0"},class:s(),on:{click:this.onClick}},[this.genIcon(),this.slots()||this.text])}});e.default=l})),zd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("grid"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanGrid")],props:{square:Boolean,gutter:[Number,String],iconSize:[Number,String],direction:String,clickable:Boolean,columnNum:{type:[Number,String],default:4},center:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},computed:{style:function(){var t=this.gutter;if(t)return{paddingLeft:(0,Wl.addUnit)(t)}}},render:function(){var t,e=arguments[0];return e("div",{style:this.style,class:[r(),(t={},t[lc.BORDER_TOP]=this.border&&!this.gutter,t)]},[this.slots()])}});e.default=o})),$d=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Ju),r=Hs(tc),o=(0,Wl.createNamespace)("grid-item"),a=o[0],s=o[1],l=a({mixins:[(0,Kc.ChildrenMixin)("vanGrid")],props:(0,n.default)({},xc.routeProps,{dot:Boolean,text:String,icon:String,iconPrefix:String,info:[Number,String],badge:[Number,String]}),computed:{style:function(){var t=this.parent,e=t.square,n=t.gutter,i=t.columnNum,r=100/i+"%",o={flexBasis:r};if(e)o.paddingTop=r;else if(n){var a=(0,Wl.addUnit)(n);o.paddingRight=a,this.index>=i&&(o.marginTop=a)}return o},contentStyle:function(){var t=this.parent,e=t.square,n=t.gutter;if(e&&n){var i=(0,Wl.addUnit)(n);return{right:i,bottom:i,height:"auto"}}}},methods:{onClick:function(t){this.$emit("click",t),(0,xc.route)(this.$router,this)},genIcon:function(){var t,e=this.$createElement,n=this.slots("icon"),o=null!=(t=this.badge)?t:this.info;return n?e("div",{class:s("icon-wrapper")},[n,e(i.default,{attrs:{dot:this.dot,info:o}})]):this.icon?e(r.default,{attrs:{name:this.icon,dot:this.dot,badge:o,size:this.parent.iconSize,classPrefix:this.iconPrefix},class:s("icon")}):void 0},getText:function(){var t=this.$createElement,e=this.slots("text");return e||(this.text?t("span",{class:s("text")},[this.text]):void 0)},genContent:function(){var t=this.slots();return t||[this.genIcon(),this.getText()]}},render:function(){var t,e=arguments[0],n=this.parent,i=n.center,r=n.border,o=n.square,a=n.gutter,l=n.direction,u=n.clickable;return e("div",{class:[s({square:o})],style:this.style},[e("div",{style:this.contentStyle,attrs:{role:u?"button":null,tabindex:u?0:null},class:[s("content",[l,{center:i,square:o,clickable:u,surround:r&&a}]),(t={},t[lc.BORDER]=r,t)],on:{click:this.onClick}},[this.genContent()])])}});e.default=l})),Fd=v((function(t,e){e.__esModule=!0,e.bem=e.createComponent=void 0;var n=(0,Wl.createNamespace)("image-preview"),i=n[0],r=n[1];e.bem=r,e.createComponent=i})),qd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("swipe"),i=n[0],r=n[1],o=i({mixins:[qu.TouchMixin,(0,Kc.ParentMixin)("vanSwipe"),(0,Zu.BindEventMixin)((function(t,e){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0),t(window,"visibilitychange",this.onVisibilityChange),e?this.initialize():this.clear()}))],props:{width:[Number,String],height:[Number,String],autoplay:[Number,String],vertical:Boolean,lazyRender:Boolean,indicatorColor:String,loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},touchable:{type:Boolean,default:!0},initialSwipe:{type:[Number,String],default:0},showIndicators:{type:Boolean,default:!0},stopPropagation:{type:Boolean,default:!0}},data:function(){return{rect:null,offset:0,active:0,deltaX:0,deltaY:0,swiping:!1,computedWidth:0,computedHeight:0}},watch:{children:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t>0?this.autoPlay():this.clear()}},computed:{count:function(){return this.children.length},maxCount:function(){return Math.ceil(Math.abs(this.minOffset)/this.size)},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",n=this.vertical?"width":"height";return t={},t[e]=this.trackSize+"px",t[n]=this[n]?this[n]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}},minOffset:function(){return(this.vertical?this.rect.height:this.rect.width)-this.size*this.count}},mounted:function(){this.bindTouchEvent(this.$refs.track)},methods:{initialize:function(t){if(void 0===t&&(t=+this.initialSwipe),this.$el&&!(0,yd.isHidden)(this.$el)){clearTimeout(this.timer);var e=this.$el.getBoundingClientRect();this.rect=e,this.swiping=!0,this.active=t,this.computedWidth=+this.width||e.width,this.computedHeight=+this.height||e.height,this.offset=this.getTargetOffset(t),this.children.forEach((function(t){t.offset=0})),this.autoPlay()}},resize:function(){this.initialize(this.activeIndicator)},onVisibilityChange:function(){document.hidden?this.clear():this.autoPlay()},onTouchStart:function(t){this.touchable&&(this.clear(),this.touchStartTime=Date.now(),this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&((0,ou.preventDefault)(t,this.stopPropagation),this.move({offset:this.delta})))},onTouchEnd:function(){if(this.touchable&&this.swiping){var t=this.size,e=this.delta,n=Date.now()-this.touchStartTime,i=e/n,r=Math.abs(i)>.25||Math.abs(e)>t/2;if(r&&this.isCorrectDirection){var o=this.vertical?this.offsetY:this.offsetX,a=0;a=this.loop?o>0?e>0?-1:1:0:-Math[e>0?"ceil":"floor"](e/t),this.move({pace:a,emitChange:!0})}else e&&this.move({pace:0});this.swiping=!1,this.autoPlay()}},getTargetActive:function(t){var e=this.active,n=this.count,i=this.maxCount;return t?this.loop?(0,gc.range)(e+t,-1,n):(0,gc.range)(e+t,0,i):e},getTargetOffset:function(t,e){void 0===e&&(e=0);var n=t*this.size;this.loop||(n=Math.min(n,-this.minOffset));var i=e-n;return this.loop||(i=(0,gc.range)(i,this.minOffset,0)),i},move:function(t){var e=t.pace,n=void 0===e?0:e,i=t.offset,r=void 0===i?0:i,o=t.emitChange,a=this.loop,s=this.count,l=this.active,u=this.children,c=this.trackSize,h=this.minOffset;if(!(s<=1)){var d=this.getTargetActive(n),f=this.getTargetOffset(d,r);if(a){if(u[0]&&f!==h){var p=f<h;u[0].offset=p?c:0}if(u[s-1]&&0!==f){var v=f>0;u[s-1].offset=v?-c:0}}this.active=d,this.offset=f,o&&d!==l&&this.$emit("change",this.activeIndicator)}},prev:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),(0,kh.doubleRaf)((function(){t.swiping=!1,t.move({pace:-1,emitChange:!0})}))},next:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),(0,kh.doubleRaf)((function(){t.swiping=!1,t.move({pace:1,emitChange:!0})}))},swipeTo:function(t,e){var n=this;void 0===e&&(e={}),this.correctPosition(),this.resetTouchStatus(),(0,kh.doubleRaf)((function(){var i;i=n.loop&&t===n.count?0===n.active?0:t:t%n.count,e.immediate?(0,kh.doubleRaf)((function(){n.swiping=!1})):n.swiping=!1,n.move({pace:i-n.active,emitChange:!0})}))},correctPosition:function(){this.swiping=!0,this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e>0&&this.count>1&&(this.clear(),this.timer=setTimeout((function(){t.next(),t.autoPlay()}),e))},genIndicator:function(){var t=this,e=this.$createElement,n=this.count,i=this.activeIndicator,o=this.slots("indicator");return o||(this.showIndicators&&n>1?e("div",{class:r("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(n)).map((function(n,o){return e("i",{class:r("indicator",{active:o===i}),style:o===i?t.indicatorStyle:null})}))]):void 0)}},render:function(){var t=arguments[0];return t("div",{class:r()},[t("div",{ref:"track",style:this.trackStyle,class:r("track",{vertical:this.vertical})},[this.slots()]),this.genIndicator()])}});e.default=o})),Vd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=(0,Wl.createNamespace)("swipe-item"),r=i[0],o=i[1],a=r({mixins:[(0,Kc.ChildrenMixin)("vanSwipe")],data:function(){return{offset:0,inited:!1,mounted:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.mounted=!0}))},computed:{style:function(){var t={},e=this.parent,n=e.size,i=e.vertical;return t[i?"height":"width"]=n+"px",this.offset&&(t.transform="translate"+(i?"Y":"X")+"("+this.offset+"px)"),t},shouldRender:function(){var t=this.index,e=this.inited,n=this.parent,i=this.mounted;if(!n.lazyRender||e)return!0;if(!i)return!1;var r=n.activeIndicator,o=n.count-1,a=0===r&&n.loop?o:r-1,s=r===o&&n.loop?0:r+1,l=t===r||t===a||t===s;return l&&(this.inited=!0),l}},render:function(){var t=arguments[0];return t("div",{class:o(),style:this.style,on:(0,n.default)({},this.$listeners)},[this.shouldRender&&this.slots()])}});e.default=a})),Hd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Rh),i=Hs(nc),r=Hs(Vd);function o(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var a={mixins:[qu.TouchMixin],props:{src:String,show:Boolean,active:Number,minZoom:[Number,String],maxZoom:[Number,String],rootWidth:Number,rootHeight:Number},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}},computed:{vertical:function(){var t=this.rootWidth,e=this.rootHeight,n=e/t;return this.imageRatio>n},imageStyle:function(){var t=this.scale,e={transitionDuration:this.zooming||this.moving?"0s":".3s"};if(1!==t){var n=this.moveX/t,i=this.moveY/t;e.transform="scale("+t+", "+t+") translate("+n+"px, "+i+"px)"}return e},maxMoveX:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight/this.imageRatio:this.rootWidth;return Math.max(0,(this.scale*t-this.rootWidth)/2)}return 0},maxMoveY:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight:this.rootWidth*this.imageRatio;return Math.max(0,(this.scale*t-this.rootHeight)/2)}return 0}},watch:{show:function(t){t||this.resetScale()}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{resetScale:function(){this.setScale(1),this.moveX=0,this.moveY=0},setScale:function(t){this.scale=(0,gc.range)(t,+this.minZoom,+this.maxZoom),this.$emit("scale",{scale:this.scale,index:this.active})},toggleScale:function(){var t=this.scale>1?1:2;this.setScale(t),this.moveX=0,this.moveY=0},onTouchStart:function(t){var e=t.touches,n=this.offsetX,i=void 0===n?0:n;this.touchStart(t),this.touchStartTime=new Date,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.moving=1===e.length&&1!==this.scale,this.zooming=2===e.length&&!i,this.zooming&&(this.startScale=this.scale,this.startDistance=o(t.touches))},onTouchMove:function(t){var e=t.touches;if(this.touchMove(t),(this.moving||this.zooming)&&(0,ou.preventDefault)(t,!0),this.moving){var n=this.deltaX+this.startMoveX,i=this.deltaY+this.startMoveY;this.moveX=(0,gc.range)(n,-this.maxMoveX,this.maxMoveX),this.moveY=(0,gc.range)(i,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var r=o(e),a=this.startScale*r/this.startDistance;this.setScale(a)}},onTouchEnd:function(t){var e=!1;(this.moving||this.zooming)&&(e=!0,this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.zooming&&(this.moveX=(0,gc.range)(this.moveX,-this.maxMoveX,this.maxMoveX),this.moveY=(0,gc.range)(this.moveY,-this.maxMoveY,this.maxMoveY),this.zooming=!1),this.moving=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale())),(0,ou.preventDefault)(t,e),this.checkTap(),this.resetTouchStatus()},checkTap:function(){var t=this,e=this.offsetX,n=void 0===e?0:e,i=this.offsetY,r=void 0===i?0:i,o=new Date-this.touchStartTime,a=250,s=10;n<s&&r<s&&o<a&&(this.doubleTapTimer?(clearTimeout(this.doubleTapTimer),this.doubleTapTimer=null,this.toggleScale()):this.doubleTapTimer=setTimeout((function(){t.$emit("close"),t.doubleTapTimer=null}),a))},onLoad:function(t){var e=t.target,n=e.naturalWidth,i=e.naturalHeight;this.imageRatio=i/n}},render:function(){var t=arguments[0],e={loading:function(){return t(i.default,{attrs:{type:"spinner"}})}};return t(r.default,{class:(0,Fd.bem)("swipe-item")},[t(n.default,{attrs:{src:this.src,fit:"contain"},class:(0,Fd.bem)("image",{vertical:this.vertical}),style:this.imageStyle,scopedSlots:e,on:{load:this.onLoad}})])}};e.default=a})),Ud=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(tc),i=Hs(qd),r=Hs(Hd),o=(0,Fd.createComponent)({mixins:[qu.TouchMixin,(0,Qu.PopupMixin)({skipToggleEvent:!0}),(0,Zu.BindEventMixin)((function(t){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0)}))],props:{className:null,closeable:Boolean,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},showIndex:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:500},startPosition:{type:[Number,String],default:0},overlayClass:{type:String,default:(0,Fd.bem)("overlay")},closeIcon:{type:String,default:"clear"},closeOnPopstate:{type:Boolean,default:!0},closeIconPosition:{type:String,default:"top-right"}},data:function(){return{active:0,rootWidth:0,rootHeight:0,doubleClickTimer:null}},mounted:function(){this.resize()},watch:{startPosition:"setActive",value:function(t){var e=this;t?(this.setActive(+this.startPosition),this.$nextTick((function(){e.resize(),e.$refs.swipe.swipeTo(+e.startPosition,{immediate:!0})}))):this.$emit("close",{index:this.active,url:this.images[this.active]})}},methods:{resize:function(){if(this.$el&&this.$el.getBoundingClientRect){var t=this.$el.getBoundingClientRect();this.rootWidth=t.width,this.rootHeight=t.height}},emitClose:function(){this.asyncClose||this.$emit("input",!1)},emitScale:function(t){this.$emit("scale",t)},setActive:function(t){t!==this.active&&(this.active=t,this.$emit("change",t))},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:(0,Fd.bem)("index")},[this.slots("index",{index:this.active})||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,e=this.slots("cover");if(e)return t("div",{class:(0,Fd.bem)("cover")},[e])},genImages:function(){var t=this,e=this.$createElement;return e(i.default,{ref:"swipe",attrs:{lazyRender:!0,loop:this.loop,duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators,indicatorColor:"white"},class:(0,Fd.bem)("swipe"),on:{change:this.setActive}},[this.images.map((function(n){return e(r.default,{attrs:{src:n,show:t.value,active:t.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:t.rootWidth,rootHeight:t.rootHeight},on:{scale:t.emitScale,close:t.emitClose}})}))])},genClose:function(){var t=this.$createElement;if(this.closeable)return t(n.default,{attrs:{role:"button",name:this.closeIcon},class:(0,Fd.bem)("close-icon",this.closeIconPosition),on:{click:this.emitClose}})},onClosed:function(){this.$emit("closed")},swipeTo:function(t,e){this.$refs.swipe&&this.$refs.swipe.swipeTo(t,e)}},render:function(){var t=arguments[0];if(this.shouldRender)return t("transition",{attrs:{name:"van-fade"},on:{afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],class:[(0,Fd.bem)(),this.className]},[this.genClose(),this.genImages(),this.genIndex(),this.genCover()])])}});e.default=o})),Wd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n,i=Hs(Us),r=Hs(u["default"]),o=Hs(Ud),a={loop:!0,value:!0,images:[],maxZoom:3,minZoom:1/3,onClose:null,onChange:null,className:"",showIndex:!0,closeable:!1,closeIcon:"clear",asyncClose:!1,getContainer:"body",startPosition:0,swipeDuration:500,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"},s=function(){n=new(r.default.extend(o.default))({el:document.createElement("div")}),document.body.appendChild(n.$el),n.$on("change",(function(t){n.onChange&&n.onChange(t)})),n.$on("scale",(function(t){n.onScale&&n.onScale(t)}))},l=function(t,e){if(void 0===e&&(e=0),!Wl.isServer){n||s();var r=Array.isArray(t)?{images:t,startPosition:e}:t;return(0,i.default)(n,a,r),n.$once("input",(function(t){n.value=t})),n.$once("closed",(function(){n.images=[]})),r.onClose&&(n.$off("close"),n.$once("close",r.onClose)),n}};l.Component=o.default,l.install=function(){r.default.use(o.default)};var c=l;e.default=c})),Yd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("index-anchor"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ChildrenMixin)("vanIndexBar",{indexKey:"childrenIndex"})],props:{index:[Number,String]},data:function(){return{top:0,left:null,rect:{top:0,height:0},width:null,active:!1}},computed:{sticky:function(){return this.active&&this.parent.sticky},anchorStyle:function(){if(this.sticky)return{zIndex:""+this.parent.zIndex,left:this.left?this.left+"px":null,width:this.width?this.width+"px":null,transform:"translate3d(0, "+this.top+"px, 0)",color:this.parent.highlightColor}}},mounted:function(){var t=this.$el.getBoundingClientRect();this.rect.height=t.height},methods:{scrollIntoView:function(){this.$el.scrollIntoView()},getRect:function(t,e){var n=this.$el,i=n.getBoundingClientRect();return this.rect.height=i.height,t===window||t===document.body?this.rect.top=i.top+(0,Fu.getRootScrollTop)():this.rect.top=i.top+(0,Fu.getScrollTop)(t)-e.top,this.rect}},render:function(){var t,e=arguments[0],n=this.sticky;return e("div",{style:{height:n?this.rect.height+"px":null}},[e("div",{style:this.anchorStyle,class:[r({sticky:n}),(t={},t[lc.BORDER_BOTTOM]=n,t)]},[this.slots("default")||this.index])])}});e.default=o})),Gd=v((function(t,e){function n(){for(var t=[],e="A".charCodeAt(0),n=0;n<26;n++)t.push(String.fromCharCode(e+n));return t}e.__esModule=!0,e.default=void 0;var i=(0,Wl.createNamespace)("index-bar"),r=i[0],o=i[1],a=r({mixins:[qu.TouchMixin,(0,Kc.ParentMixin)("vanIndexBar"),(0,Zu.BindEventMixin)((function(t){this.scroller||(this.scroller=(0,Fu.getScroller)(this.$el)),t(this.scroller,"scroll",this.onScroll)}))],props:{zIndex:[Number,String],highlightColor:String,sticky:{type:Boolean,default:!0},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:n}},data:function(){return{activeAnchorIndex:null}},computed:{sidebarStyle:function(){if((0,Wl.isDef)(this.zIndex))return{zIndex:this.zIndex+1}},highlightStyle:function(){var t=this.highlightColor;if(t)return{color:t}}},watch:{indexList:function(){this.$nextTick(this.onScroll)},activeAnchorIndex:function(t){t&&this.$emit("change",t)}},methods:{onScroll:function(){var t=this;if(!(0,yd.isHidden)(this.$el)){var e=(0,Fu.getScrollTop)(this.scroller),n=this.getScrollerRect(),i=this.children.map((function(e){return e.getRect(t.scroller,n)})),r=this.getActiveAnchorIndex(e,i);this.activeAnchorIndex=this.indexList[r],this.sticky&&this.children.forEach((function(o,a){if(a===r||a===r-1){var s=o.$el.getBoundingClientRect();o.left=s.left,o.width=s.width}else o.left=null,o.width=null;if(a===r)o.active=!0,o.top=Math.max(t.stickyOffsetTop,i[a].top-e)+n.top;else if(a===r-1){var l=i[r].top-e;o.active=l>0,o.top=l+n.top-i[a].height}else o.active=!1}))}},getScrollerRect:function(){return this.scroller.getBoundingClientRect?this.scroller.getBoundingClientRect():{top:0,left:0}},getActiveAnchorIndex:function(t,e){for(var n=this.children.length-1;n>=0;n--){var i=n>0?e[n-1].height:0,r=this.sticky?i+this.stickyOffsetTop:0;if(t+r>=e[n].top)return n}return-1},onClick:function(t){this.scrollToElement(t.target)},onTouchMove:function(t){if(this.touchMove(t),"vertical"===this.direction){(0,ou.preventDefault)(t);var e=t.touches[0],n=e.clientX,i=e.clientY,r=document.elementFromPoint(n,i);if(r){var o=r.dataset.index;this.touchActiveIndex!==o&&(this.touchActiveIndex=o,this.scrollToElement(r))}}},scrollToElement:function(t){var e=t.dataset.index;if(e){var n=this.children.filter((function(t){return String(t.index)===e}));n[0]&&(n[0].scrollIntoView(),this.sticky&&this.stickyOffsetTop&&(0,Fu.setRootScrollTop)((0,Fu.getRootScrollTop)()-this.stickyOffsetTop),this.$emit("select",n[0].index))}},onTouchEnd:function(){this.active=null}},render:function(){var t=this,e=arguments[0],n=this.indexList.map((function(n){var i=n===t.activeAnchorIndex;return e("span",{class:o("index",{active:i}),style:i?t.highlightStyle:null,attrs:{"data-index":n}},[n])}));return e("div",{class:o()},[e("div",{class:o("sidebar"),style:this.sidebarStyle,on:{click:this.onClick,touchstart:this.touchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[n]),this.slots("default")])}});e.default=a})),Kd=v((function(t,e){!function(e,n){t.exports=n()}(0,(function(){function t(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function e(t){t=t||{};var e=arguments.length,r=0;if(1===e)return t;for(;++r<e;){var o=arguments[r];y(t)&&(t=o),i(o)&&n(t,o)}return t}function n(t,n){for(var o in b(t,n),n)if("__proto__"!==o&&r(n,o)){var a=n[o];i(a)?("undefined"===x(t[o])&&"function"===x(a)&&(t[o]=a),t[o]=e(t[o]||{},a)):t[o]=a}return t}function i(t){return"object"===x(t)||"function"===x(t)}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){if(t.length){var n=t.indexOf(e);return n>-1?t.splice(n,1):void 0}}function a(t,e){for(var n=!1,i=0,r=t.length;i<r;i++)if(e(t[i])){n=!0;break}return n}function s(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var n=t.getAttribute("data-srcset"),i=[],r=t.parentNode,o=r.offsetWidth*e,a=void 0,s=void 0,l=void 0;n=n.trim().split(","),n.map((function(t){t=t.trim(),a=t.lastIndexOf(" "),-1===a?(s=t,l=999998):(s=t.substr(0,a),l=parseInt(t.substr(a+1,t.length-a-2),10)),i.push([l,s])})),i.sort((function(t,e){if(t[0]<e[0])return-1;if(t[0]>e[0])return 1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0}));for(var u="",c=void 0,h=i.length,d=0;d<h;d++)if(c=i[d],c[0]>=o){u=c[1];break}return u}}function l(t,e){for(var n=void 0,i=0,r=t.length;i<r;i++)if(e(t[i])){n=t[i];break}return n}function u(){if(!S)return!1;var t=!0,e=document;try{var n=e.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",e.body.appendChild(n),t=!n.offsetWidth,e.body.removeChild(n)}catch(e){t=!1}return t}function c(t,e){var n=null,i=0;return function(){if(!n){var r=Date.now()-i,o=this,a=arguments,s=function(){i=Date.now(),n=!1,t.apply(o,a)};r>=e?s():n=setTimeout(s,e)}}}function h(t){return null!==t&&"object"===(void 0===t?"undefined":v(t))}function d(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function f(t){for(var e=t.length,n=[],i=0;i<e;i++)n.push(t[i]);return n}function p(){}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":v(t))},b=function(t,e){if(null===t||void 0===t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var n=Object.prototype.propertyIsEnumerable,i=Object(t),r=arguments.length,o=0;++o<r;)for(var a=Object(arguments[o]),s=Object.getOwnPropertySymbols(a),l=0;l<s.length;l++){var u=s[l];n.call(a,u)&&(i[u]=a[u])}return i},w=Object.prototype.toString,x=function(e){var n=void 0===e?"undefined":v(e);return"undefined"===n?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===n||e instanceof String?"string":"number"===n||e instanceof Number?"number":"function"===n||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":(n=w.call(e),"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"[object Error]"===n?"error":"[object Promise]"===n?"promise":t(e)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Map Iterator]"===n?"mapiterator":"[object Set Iterator]"===n?"setiterator":"[object String Iterator]"===n?"stringiterator":"[object Array Iterator]"===n?"arrayiterator":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object")},k=e,S="undefined"!=typeof window,_=S&&"IntersectionObserver"in window,O={event:"event",observer:"observer"},C=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if(S)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t)}(),E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return S&&window.devicePixelRatio||t},T=function(){if(S){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),A={on:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];T?t.addEventListener(e,n,{capture:i,passive:!0}):t.addEventListener(e,n,i)},off:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,i)}},j=function(t,e,n){var i=new Image;i.src=t.src,i.onload=function(){e({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:i.src})},i.onerror=function(t){n(t)}},N=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},I=function(t){return N(t,"overflow")+N(t,"overflow-y")+N(t,"overflow-x")},P=function(t){if(S){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(I(e)))return e;e=e.parentNode}return window}},M={},D=function(){function t(e){var n=e.el,i=e.src,r=e.error,o=e.loading,a=e.bindType,s=e.$parent,l=e.options,u=e.elRenderer;m(this,t),this.el=n,this.src=i,this.error=r,this.loading=o,this.bindType=a,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=l,this.rect=null,this.$parent=s,this.elRenderer=u,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return g(t,[{key:"initState",value:function(){this.el.dataset.src=this.src,this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,n=t.loading,i=t.error,r=this.src;this.src=e,this.loading=n,this.error=i,this.filter(),r!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var t=this;d(this.options.filter).map((function(e){t.options.filter[e](t,t.options)}))}},{key:"renderLoading",value:function(t){var e=this;j({src:this.loading},(function(n){e.render("loading",!1),t()}),(function(){t(),e.options.silent||console.warn("VueLazyload log: load failed with loading image("+e.loading+")")}))}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void e()):this.state.loaded||M[this.src]?(this.state.loaded=!0,e(),this.render("loaded",!0)):void this.renderLoading((function(){t.attempt++,t.record("loadStart"),j({src:t.src},(function(n){t.naturalHeight=n.naturalHeight,t.naturalWidth=n.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),M[t.src]=1,e()}),(function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)}))}))}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),t}(),L="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",R=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],B={rootMargin:"0px",threshold:0},z=function(t){return function(){function e(t){var n=t.preLoad,i=t.error,r=t.throttleWait,o=t.preLoadTop,a=t.dispatchEvent,s=t.loading,l=t.attempt,h=t.silent,d=void 0===h||h,f=t.scale,p=t.listenEvents,v=(t.hasbind,t.filter),g=t.adapter,y=t.observer,b=t.observerOptions;m(this,e),this.version="1.2.3",this.mode=O.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:d,dispatchEvent:!!a,throttleWait:r||200,preLoad:n||1.3,preLoadTop:o||0,error:i||L,loading:s||L,attempt:l||3,scale:f||E(f),ListenEvents:p||R,hasbind:!1,supportWebp:u(),filter:v||{},adapter:g||{},observer:!!y,observerOptions:b||B},this._initEvent(),this.lazyLoadHandler=c(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?O.observer:O.event)}return g(e,[{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(this.options,t)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map((function(e){t.push(e.performance())})),t}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),S&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(e,n,i){var r=this;if(a(this.ListenerQueue,(function(t){return t.el===e})))return this.update(e,n),t.nextTick(this.lazyLoadHandler);var o=this._valueFormatter(n.value),l=o.src,u=o.loading,c=o.error;t.nextTick((function(){l=s(e,r.options.scale)||l,r._observer&&r._observer.observe(e);var o=Object.keys(n.modifiers)[0],a=void 0;o&&(a=i.context.$refs[o],a=a?a.$el||a:document.getElementById(o)),a||(a=P(e));var h=new D({bindType:n.arg,$parent:a,el:e,loading:u,error:c,src:l,elRenderer:r._elRenderer.bind(r),options:r.options});r.ListenerQueue.push(h),S&&(r._addListenerTarget(window),r._addListenerTarget(a)),r.lazyLoadHandler(),t.nextTick((function(){return r.lazyLoadHandler()}))}))}},{key:"update",value:function(e,n){var i=this,r=this._valueFormatter(n.value),o=r.src,a=r.loading,u=r.error;o=s(e,this.options.scale)||o;var c=l(this.ListenerQueue,(function(t){return t.el===e}));c&&c.update({src:o,loading:a,error:u}),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),t.nextTick((function(){return i.lazyLoadHandler()}))}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=l(this.ListenerQueue,(function(e){return e.el===t}));e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),o(this.ListenerQueue,e)&&e.destroy())}}},{key:"removeComponent",value:function(t){t&&(o(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;_||t!==O.observer||(t=O.event),this.mode=t,t===O.event?(this._observer&&(this.ListenerQueue.forEach((function(t){e._observer.unobserve(t.el)})),this._observer=null),this.TargetQueue.forEach((function(t){e._initListen(t.el,!0)}))):(this.TargetQueue.forEach((function(t){e._initListen(t.el,!1)})),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=l(this.TargetQueue,(function(e){return e.el===t}));return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===O.event&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(t){var e=this;this.TargetQueue.forEach((function(n,i){n.el===t&&(--n.childrenCount||(e._initListen(n.el,!1),e.TargetQueue.splice(i,1),n=null))}))}},{key:"_initListen",value:function(t,e){var n=this;this.options.ListenEvents.forEach((function(i){return A[e?"on":"off"](t,i,n.lazyLoadHandler)}))}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e].push(n)},this.$once=function(e,n){function i(){r.$off(e,i),n.apply(r,arguments)}var r=t;t.$on(e,i)},this.$off=function(e,n){n?o(t.Event.listeners[e],n):t.Event.listeners[e]=[]},this.$emit=function(e,n,i){t.Event.listeners[e].forEach((function(t){return t(n,i)}))}}},{key:"_lazyLoadHandler",value:function(){var t=this;this.ListenerQueue.forEach((function(e,n){e.state.loaded||e.checkInView()&&e.load((function(){!e.error&&e.loaded&&t.ListenerQueue.splice(n,1)}))}))}},{key:"_initIntersectionObserver",value:function(){var t=this;_&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((function(e){t._observer.observe(e.el)})))}},{key:"_observerHandler",value:function(t,e){var n=this;t.forEach((function(t){t.isIntersecting&&n.ListenerQueue.forEach((function(e){if(e.el===t.target){if(e.state.loaded)return n._observer.unobserve(e.el);e.load()}}))}))}},{key:"_elRenderer",value:function(t,e,n){if(t.el){var i=t.el,r=t.bindType,o=void 0;switch(e){case"loading":o=t.loading;break;case"error":o=t.error;break;default:o=t.src}if(r?i.style[r]='url("'+o+'")':i.getAttribute("src")!==o&&i.setAttribute("src",o),i.setAttribute("lazy",e),this.$emit(e,t,n),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var a=new C(e,{detail:t});i.dispatchEvent(a)}}}},{key:"_valueFormatter",value:function(t){var e=t,n=this.options.loading,i=this.options.error;return h(t)&&(t.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+t),e=t.src,n=t.loading||this.options.loading,i=t.error||this.options.error),{src:e,loading:n,error:i}}}]),e}()},$=function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),S&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}},F=function(){function t(e){var n=e.lazy;m(this,t),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return g(t,[{key:"bind",value:function(t,e,n){var i=new V({el:t,binding:e,vnode:n,lazy:this.lazy});this._queue.push(i)}},{key:"update",value:function(t,e,n){var i=l(this._queue,(function(e){return e.el===t}));i&&i.update({el:t,binding:e,vnode:n})}},{key:"unbind",value:function(t,e,n){var i=l(this._queue,(function(e){return e.el===t}));i&&(i.clear(),o(this._queue,i))}}]),t}(),q={selector:"img"},V=function(){function t(e){var n=e.el,i=e.binding,r=e.vnode,o=e.lazy;m(this,t),this.el=null,this.vnode=r,this.binding=i,this.options={},this.lazy=o,this._queue=[],this.update({el:n,binding:i})}return g(t,[{key:"update",value:function(t){var e=this,n=t.el,i=t.binding;this.el=n,this.options=k({},q,i.value),this.getImgs().forEach((function(t){e.lazy.add(t,k({},e.binding,{value:{src:t.dataset.src,error:t.dataset.error,loading:t.dataset.loading}}),e.vnode)}))}},{key:"getImgs",value:function(){return f(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this;this.getImgs().forEach((function(e){return t.lazy.remove(e)})),this.vnode=null,this.binding=null,this.lazy=null}}]),t}();return{install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=z(t),i=new n(e),r=new F({lazy:i}),o="2"===t.version.split(".")[0];t.prototype.$Lazyload=i,e.lazyComponent&&t.component("lazy-component",$(i)),o?(t.directive("lazy",{bind:i.add.bind(i),update:i.update.bind(i),componentUpdated:i.lazyLoadHandler.bind(i),unbind:i.remove.bind(i)}),t.directive("lazy-container",{bind:r.bind.bind(r),update:r.update.bind(r),unbind:r.unbind.bind(r)})):(t.directive("lazy",{bind:i.lazyLoadHandler.bind(i),update:function(t,e){k(this.vm.$refs,this.vm.$els),i.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){i.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){r.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){r.unbind(this.el)}}))}}}))})),Zd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Kd),i=n.default;e.default=i})),Xd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(nc),i=(0,Wl.createNamespace)("list"),r=i[0],o=i[1],a=i[2],s=r({mixins:[(0,Zu.BindEventMixin)((function(t){this.scroller||(this.scroller=(0,Fu.getScroller)(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var e,n=t.$el,i=t.scroller,r=t.offset,o=t.direction;e=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight};var a=e.bottom-e.top;if(!a||(0,yd.isHidden)(n))return!1;var s=!1,l=t.$refs.placeholder.getBoundingClientRect();s="up"===o?e.top-l.top<=r:l.bottom-e.bottom<=r,s&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:o("loading")},[this.slots("loading")||t(n.default,{attrs:{size:"16"}},[this.loadingText||a("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var e=this.slots("finished")||this.finishedText;if(e)return t("div",{class:o("finished-text")},[e])}},genErrorText:function(){var t=this.$createElement;if(this.error){var e=this.slots("error")||this.errorText;if(e)return t("div",{on:{click:this.clickErrorText},class:o("error-text")},[e])}}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",key:"placeholder",class:o("placeholder")});return t("div",{class:o(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():e,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():e])}});e.default=s})),Qd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(tc),i=(0,Wl.createNamespace)("nav-bar"),r=i[0],o=i[1],a=r({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.navBar.getBoundingClientRect().height)},methods:{genLeft:function(){var t=this.$createElement,e=this.slots("left");return e||[this.leftArrow&&t(n.default,{class:o("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:o("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,e=this.slots("right");return e||(this.rightText?t("span",{class:o("text")},[this.rightText]):void 0)},genNavBar:function(){var t,e=this.$createElement;return e("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[o({fixed:this.fixed,"safe-area-inset-top":this.safeAreaInsetTop}),(t={},t[lc.BORDER_BOTTOM]=this.border,t)]},[e("div",{class:o("content")},[this.hasLeft()&&e("div",{class:o("left"),on:{click:this.onClickLeft}},[this.genLeft()]),e("div",{class:[o("title"),"van-ellipsis"]},[this.slots("title")||this.title]),this.hasRight()&&e("div",{class:o("right"),on:{click:this.onClickRight}},[this.genRight()])])])},hasLeft:function(){return this.leftArrow||this.leftText||this.slots("left")},hasRight:function(){return this.rightText||this.slots("right")},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:o("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}});e.default=a})),Jd=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(tc),i=(0,Wl.createNamespace)("notice-bar"),r=i[0],o=i[1],a=r({mixins:[(0,Zu.BindEventMixin)((function(t){t(window,"pageshow",this.start)}))],props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null},delay:{type:[Number,String],default:1},speed:{type:[Number,String],default:50}},data:function(){return{show:!0,offset:0,duration:0,wrapWidth:0,contentWidth:0}},watch:{scrollable:"start",text:{handler:"start",immediate:!0}},activated:function(){this.start()},methods:{onClickIcon:function(t){"closeable"===this.mode&&(this.show=!1,this.$emit("close",t))},onTransitionEnd:function(){var t=this;this.offset=this.wrapWidth,this.duration=0,(0,kh.raf)((function(){(0,kh.doubleRaf)((function(){t.offset=-t.contentWidth,t.duration=(t.contentWidth+t.wrapWidth)/t.speed,t.$emit("replay")}))}))},reset:function(){this.offset=0,this.duration=0,this.wrapWidth=0,this.contentWidth=0},start:function(){var t=this,e=(0,Wl.isDef)(this.delay)?1e3*this.delay:0;this.reset(),clearTimeout(this.startTimer),this.startTimer=setTimeout((function(){var e=t.$refs,n=e.wrap,i=e.content;if(n&&i&&!1!==t.scrollable){var r=n.getBoundingClientRect().width,o=i.getBoundingClientRect().width;(t.scrollable||o>r)&&(0,kh.doubleRaf)((function(){t.offset=-o,t.duration=o/t.speed,t.wrapWidth=r,t.contentWidth=o}))}}),e)}},render:function(){var t=this,e=arguments[0],i=this.slots,r=this.mode,a=this.leftIcon,s=this.onClickIcon,l={color:this.color,background:this.background},u={transform:this.offset?"translateX("+this.offset+"px)":"",transitionDuration:this.duration+"s"};function c(){var t=i("left-icon");return t||(a?e(n.default,{class:o("left-icon"),attrs:{name:a}}):void 0)}function h(){var t,a=i("right-icon");return a||("closeable"===r?t="cross":"link"===r&&(t="arrow"),t?e(n.default,{class:o("right-icon"),attrs:{name:t},on:{click:s}}):void 0)}return e("div",{attrs:{role:"alert"},directives:[{name:"show",value:this.show}],class:o({wrapable:this.wrapable}),style:l,on:{click:function(e){t.$emit("click",e)}}},[c(),e("div",{ref:"wrap",class:o("wrap"),attrs:{role:"marquee"}},[e("div",{ref:"content",class:[o("content"),{"van-ellipsis":!1===this.scrollable&&!this.wrapable}],style:u,on:{transitionend:this.onTransitionEnd}},[this.slots()||this.text])]),h()])}});e.default=a})),tf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Qs),r=Hs(ec),o=(0,Wl.createNamespace)("notify"),a=o[0],s=o[1];function l(t,e,n,o){var a={color:e.color,background:e.background};return t(r.default,(0,i.default)([{attrs:{value:e.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:a,class:[s([e.type]),e.className]},(0,iu.inherit)(o,!0)]),[(null==n.default?void 0:n.default())||e.message])}l.props=(0,n.default)({},Qu.popupMixinProps,{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var u=a(l);e.default=u})),ef=v((function(t,e){e.__esModule=!0,e.default=void 0;var n,i,r=Hs(Us),o=Hs(u["default"]),a=Hs(tf);function s(t){return(0,Wl.isObject)(t)?t:{message:t}}function l(t){if(!Wl.isServer)return i||(i=(0,iu.mount)(a.default,{on:{click:function(t){i.onClick&&i.onClick(t)},close:function(){i.onClose&&i.onClose()},opened:function(){i.onOpened&&i.onOpened()}}})),t=(0,r.default)({},l.currentOptions,s(t)),(0,r.default)(i,t),clearTimeout(n),t.duration&&t.duration>0&&(n=setTimeout(l.clear,t.duration)),i}function c(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}l.clear=function(){i&&(i.value=!1)},l.currentOptions=c(),l.setDefaultOptions=function(t){(0,r.default)(l.currentOptions,t)},l.resetDefaultOptions=function(){l.currentOptions=c()},l.install=function(){o.default.use(a.default)},l.Component=a.default,o.default.prototype.$notify=l;var h=l;e.default=h})),nf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n={render:function(){var t=arguments[0];return t("svg",{attrs:{viewBox:"0 0 32 22",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M28.016 0A3.991 3.991 0 0132 3.987v14.026c0 2.2-1.787 3.987-3.98 3.987H10.382c-.509 0-.996-.206-1.374-.585L.89 13.09C.33 12.62 0 11.84 0 11.006c0-.86.325-1.62.887-2.08L9.01.585A1.936 1.936 0 0110.383 0zm0 1.947H10.368L2.24 10.28c-.224.226-.312.432-.312.73 0 .287.094.51.312.729l8.128 8.333h17.648a2.041 2.041 0 002.037-2.04V3.987c0-1.127-.915-2.04-2.037-2.04zM23.028 6a.96.96 0 01.678.292.95.95 0 01-.003 1.377l-3.342 3.348 3.326 3.333c.189.188.292.43.292.679 0 .248-.103.49-.292.679a.96.96 0 01-.678.292.959.959 0 01-.677-.292L18.99 12.36l-3.343 3.345a.96.96 0 01-.677.292.96.96 0 01-.678-.292.962.962 0 01-.292-.68c0-.248.104-.49.292-.679l3.342-3.348-3.342-3.348A.963.963 0 0114 6.971c0-.248.104-.49.292-.679A.96.96 0 0114.97 6a.96.96 0 01.677.292l3.358 3.348 3.345-3.348A.96.96 0 0123.028 6z",fill:"currentColor"}})])}};e.default=n})),rf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n={render:function(){var t=arguments[0];return t("svg",{attrs:{viewBox:"0 0 30 24",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M25.877 12.843h-1.502c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.5c.187 0 .187 0 .187-.188v-1.511c0-.19 0-.191-.185-.191zM17.999 10.2c0 .188 0 .188.188.188h1.687c.188 0 .188 0 .188-.188V8.688c0-.187.004-.187-.186-.19h-1.69c-.187 0-.187 0-.187.19V10.2zm2.25-3.967h1.5c.188 0 .188 0 .188-.188v-1.7c0-.19 0-.19-.188-.19h-1.5c-.189 0-.189 0-.189.19v1.7c0 .188 0 .188.19.188zm2.063 4.157h3.563c.187 0 .187 0 .187-.189V4.346c0-.19.004-.19-.185-.19h-1.69c-.187 0-.187 0-.187.188v4.155h-1.688c-.187 0-.187 0-.187.189v1.514c0 .19 0 .19.187.19zM14.812 24l2.812-3.4H12l2.813 3.4zm-9-11.157H4.31c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.502c.187 0 .187 0 .187-.188v-1.511c0-.19.01-.191-.189-.191zm15.937 0H8.25c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h13.5c.188 0 .188 0 .188-.188v-1.511c0-.19 0-.191-.188-.191zm-11.438-2.454h1.5c.188 0 .188 0 .188-.188V8.688c0-.187 0-.187-.188-.189h-1.5c-.187 0-.187 0-.187.189V10.2c0 .188 0 .188.187.188zM27.94 0c.563 0 .917.21 1.313.567.518.466.748.757.748 1.51v14.92c0 .567-.188 1.134-.562 1.512-.376.378-.938.566-1.313.566H2.063c-.563 0-.938-.188-1.313-.566-.562-.378-.75-.945-.75-1.511V2.078C0 1.51.188.944.562.567.938.189 1.5 0 1.875 0zm-.062 2H2v14.92h25.877V2zM5.81 4.157c.19 0 .19 0 .19.189v1.762c-.003.126-.024.126-.188.126H4.249c-.126-.003-.126-.023-.126-.188v-1.7c-.187-.19 0-.19.188-.19zm10.5 2.077h1.503c.187 0 .187 0 .187-.188v-1.7c0-.19 0-.19-.187-.19h-1.502c-.188 0-.188.001-.188.19v1.7c0 .188 0 .188.188.188zM7.875 8.5c.187 0 .187.002.187.189V10.2c0 .188 0 .188-.187.188H4.249c-.126-.002-.126-.023-.126-.188V8.625c.003-.126.024-.126.188-.126zm7.875 0c.19.002.19.002.19.189v1.575c-.003.126-.024.126-.19.126h-1.563c-.126-.002-.126-.023-.126-.188V8.625c.002-.126.023-.126.189-.126zm-6-4.342c.187 0 .187 0 .187.189v1.7c0 .188 0 .188-.187.188H8.187c-.126-.003-.126-.023-.126-.188V4.283c.003-.126.024-.126.188-.126zm3.94 0c.185 0 .372 0 .372.189v1.762c-.002.126-.023.126-.187.126h-1.75C12 6.231 12 6.211 12 6.046v-1.7c0-.19.187-.19.187-.19z",fill:"currentColor"}})])}};e.default=n})),of=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(nc),i=Hs(nf),r=Hs(rf),o=(0,Wl.createNamespace)("key"),a=o[0],s=o[1],l=a({mixins:[qu.TouchMixin],props:{type:String,text:[Number,String],color:String,wider:Boolean,large:Boolean,loading:Boolean},data:function(){return{active:!1}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{onTouchStart:function(t){t.stopPropagation(),this.touchStart(t),this.active=!0},onTouchMove:function(t){this.touchMove(t),this.direction&&(this.active=!1)},onTouchEnd:function(t){this.active&&(this.slots("default")||t.preventDefault(),this.active=!1,this.$emit("press",this.text,this.type))},genContent:function(){var t=this.$createElement,e="extra"===this.type,o="delete"===this.type,a=this.slots("default")||this.text;return this.loading?t(n.default,{class:s("loading-icon")}):o?a||t(i.default,{class:s("delete-icon")}):e?a||t(r.default,{class:s("collapse-icon")}):a}},render:function(){var t=arguments[0];return t("div",{class:s("wrapper",{wider:this.wider})},[t("div",{attrs:{role:"button",tabindex:"0"},class:s([this.color,{large:this.large,active:this.active,delete:"delete"===this.type}])},[this.genContent()])])}});e.default=l})),af=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(of),i=(0,Wl.createNamespace)("number-keyboard"),r=i[0],o=i[1],a=r({mixins:[(0,Wu.PortalMixin)(),(0,Zu.BindEventMixin)((function(t){this.hideOnClickOutside&&t(document.body,"touchstart",this.onBlur)}))],model:{event:"update:value"},props:{show:Boolean,title:String,zIndex:[Number,String],closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,theme:{type:String,default:"default"},value:{type:String,default:""},extraKey:{type:[String,Array],default:""},maxlength:{type:[Number,String],default:Number.MAX_VALUE},transition:{type:Boolean,default:!0},showDeleteKey:{type:Boolean,default:!0},hideOnClickOutside:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0}},watch:{show:function(t){this.transition||this.$emit(t?"show":"hide")}},computed:{keys:function(){return"custom"===this.theme?this.genCustomKeys():this.genDefaultKeys()}},methods:{genBasicKeys:function(){for(var t=[],e=1;e<=9;e++)t.push({text:e});return t},genDefaultKeys:function(){return[].concat(this.genBasicKeys(),[{text:this.extraKey,type:"extra"},{text:0},{text:this.showDeleteKey?this.deleteButtonText:"",type:this.showDeleteKey?"delete":""}])},genCustomKeys:function(){var t=this.genBasicKeys(),e=this.extraKey,n=Array.isArray(e)?e:[e];return 1===n.length?t.push({text:0,wider:!0},{text:n[0],type:"extra"}):2===n.length&&t.push({text:n[0],type:"extra"},{text:0},{text:n[1],type:"extra"}),t},onBlur:function(){this.show&&this.$emit("blur")},onClose:function(){this.$emit("close"),this.onBlur()},onAnimationEnd:function(){this.$emit(this.show?"show":"hide")},onPress:function(t,e){if(""!==t){var n=this.value;"delete"===e?(this.$emit("delete"),this.$emit("update:value",n.slice(0,n.length-1))):"close"===e?this.onClose():n.length<this.maxlength&&(this.$emit("input",t),this.$emit("update:value",n+t))}else"extra"===e&&this.onBlur()},genTitle:function(){var t=this.$createElement,e=this.title,n=this.theme,i=this.closeButtonText,r=this.slots("title-left"),a=i&&"default"===n,s=e||a||r;if(s)return t("div",{class:o("header")},[r&&t("span",{class:o("title-left")},[r]),e&&t("h2",{class:o("title")},[e]),a&&t("button",{attrs:{type:"button"},class:o("close"),on:{click:this.onClose}},[i])])},genKeys:function(){var t=this,e=this.$createElement;return this.keys.map((function(i){return e(n.default,{key:i.text,attrs:{text:i.text,type:i.type,wider:i.wider,color:i.color},on:{press:t.onPress}},["delete"===i.type&&t.slots("delete"),"extra"===i.type&&t.slots("extra-key")])}))},genSidebar:function(){var t=this.$createElement;if("custom"===this.theme)return t("div",{class:o("sidebar")},[this.showDeleteKey&&t(n.default,{attrs:{large:!0,text:this.deleteButtonText,type:"delete"},on:{press:this.onPress}},[this.slots("delete")]),t(n.default,{attrs:{large:!0,text:this.closeButtonText,type:"close",color:"blue",loading:this.closeButtonLoading},on:{press:this.onPress}})])}},render:function(){var t=arguments[0],e=this.genTitle();return t("transition",{attrs:{name:this.transition?"van-slide-up":""}},[t("div",{directives:[{name:"show",value:this.show}],style:{zIndex:this.zIndex},class:o({unfit:!this.safeAreaInsetBottom,"with-title":e}),on:{touchstart:ou.stopPropagation,animationend:this.onAnimationEnd,webkitAnimationEnd:this.onAnimationEnd}},[e,t("div",{class:o("body")},[t("div",{class:o("keys")},[this.genKeys()]),this.genSidebar()])])])}});e.default=a})),sf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("pagination"),i=n[0],r=n[1],o=n[2];function a(t,e,n){return{number:t,text:e,active:n}}var s=i({props:{prevText:String,nextText:String,forceEllipses:Boolean,mode:{type:String,default:"multi"},value:{type:Number,default:0},pageCount:{type:[Number,String],default:0},totalItems:{type:[Number,String],default:0},itemsPerPage:{type:[Number,String],default:10},showPageSize:{type:[Number,String],default:5}},computed:{count:function(){var t=this.pageCount||Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(1,t)},pages:function(){var t=[],e=this.count,n=+this.showPageSize;if("multi"!==this.mode)return t;var i=1,r=e,o=n<e;o&&(i=Math.max(this.value-Math.floor(n/2),1),r=i+n-1,r>e&&(r=e,i=r-n+1));for(var s=i;s<=r;s++){var l=a(s,s,s===this.value);t.push(l)}if(o&&n>0&&this.forceEllipses){if(i>1){var u=a(i-1,"...",!1);t.unshift(u)}if(r<e){var c=a(r+1,"...",!1);t.push(c)}}return t}},watch:{value:{handler:function(t){this.select(t||this.value)},immediate:!0}},methods:{select:function(t,e){t=Math.min(this.count,Math.max(1,t)),this.value!==t&&(this.$emit("input",t),e&&this.$emit("change",t))}},render:function(){var t,e,n=this,i=arguments[0],a=this.value,s="multi"!==this.mode,l=function(t){return function(){n.select(t,!0)}};return i("ul",{class:r({simple:s})},[i("li",{class:[r("item",{disabled:1===a}),r("prev"),lc.BORDER],on:{click:l(a-1)}},[(null!=(t=this.slots("prev-text"))?t:this.prevText)||o("prev")]),this.pages.map((function(t){var e;return i("li",{class:[r("item",{active:t.active}),r("page"),lc.BORDER],on:{click:l(t.number)}},[null!=(e=n.slots("page",t))?e:t.text])})),s&&i("li",{class:r("page-desc")},[this.slots("pageDesc")||a+"/"+this.count]),i("li",{class:[r("item",{disabled:a===this.count}),r("next"),lc.BORDER],on:{click:l(a+1)}},[(null!=(e=this.slots("next-text"))?e:this.nextText)||o("next")])])}});e.default=s})),lf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Sc),r=Hs(zh),o=(0,Wl.createNamespace)("panel"),a=o[0],s=o[1];function l(t,e,o,a){var l=function(){return[o.header?o.header():t(i.default,{attrs:{icon:e.icon,label:e.desc,title:e.title,value:e.status,valueClass:s("header-value")},class:s("header")}),t("div",{class:s("content")},[o.default&&o.default()]),o.footer&&t("div",{class:[s("footer"),lc.BORDER_TOP]},[o.footer()])]};return t(r.default,(0,n.default)([{class:s(),scopedSlots:{default:l}},(0,iu.inherit)(a,!0)]))}l.props={icon:String,desc:String,title:String,status:String};var u=a(l);e.default=u})),uf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("password-input"),r=i[0],o=i[1];function a(t,e,i,r){for(var a,s=e.mask,l=e.value,u=e.length,c=e.gutter,h=e.focused,d=e.errorInfo,f=d||e.info,p=[],v=0;v<u;v++){var m,g=l[v],y=0!==v&&!c,b=h&&v===l.length,w=void 0;0!==v&&c&&(w={marginLeft:(0,Wl.addUnit)(c)}),p.push(t("li",{class:[(m={},m[lc.BORDER_LEFT]=y,m),o("item",{focus:b})],style:w},[s?t("i",{style:{visibility:g?"visible":"hidden"}}):g,b&&t("div",{class:o("cursor")})]))}return t("div",{class:o()},[t("ul",(0,n.default)([{class:[o("security"),(a={},a[lc.BORDER_SURROUND]=!c,a)],on:{touchstart:function(t){t.stopPropagation(),(0,iu.emit)(r,"focus",t)}}},(0,iu.inherit)(r,!0)]),[p]),f&&t("div",{class:o(d?"error-info":"info")},[f])])}a.props={info:String,gutter:[Number,String],focused:Boolean,errorInfo:String,mask:{type:Boolean,default:!0},value:{type:String,default:""},length:{type:[Number,String],default:6}};var s=r(a);e.default=s})),cf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("progress"),i=n[0],r=n[1],o=i({props:{color:String,inactive:Boolean,pivotText:String,textColor:String,pivotColor:String,trackColor:String,strokeWidth:[Number,String],percentage:{type:[Number,String],required:!0,validator:function(t){return t>=0&&t<=100}},showPivot:{type:Boolean,default:!0}},data:function(){return{pivotWidth:0,progressWidth:0}},mounted:function(){this.resize()},watch:{showPivot:"resize",pivotText:"resize"},methods:{resize:function(){var t=this;this.$nextTick((function(){t.progressWidth=t.$el.offsetWidth,t.pivotWidth=t.$refs.pivot?t.$refs.pivot.offsetWidth:0}))}},render:function(){var t=arguments[0],e=this.pivotText,n=this.percentage,i=null!=e?e:n+"%",o=this.showPivot&&i,a=this.inactive?"#cacaca":this.color,s={color:this.textColor,left:(this.progressWidth-this.pivotWidth)*n/100+"px",background:this.pivotColor||a},l={background:a,width:this.progressWidth*n/100+"px"},u={background:this.trackColor,height:(0,Wl.addUnit)(this.strokeWidth)};return t("div",{class:r(),style:u},[t("span",{class:r("portion"),style:l},[o&&t("span",{ref:"pivot",style:s,class:r("pivot")},[i])])])}});e.default=o})),hf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(nc),i=(0,Wl.createNamespace)("pull-refresh"),r=i[0],o=i[1],a=i[2],s=50,l=["pulling","loosing","success"],u=r({mixins:[qu.TouchMixin],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:s}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(this.headHeight!==s)return{height:this.headHeight+"px"}}},watch:{value:function(t){this.duration=this.animationDuration,t?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=(0,Fu.getScroller)(this.$el)},methods:{checkPullStart:function(t){this.ceiling=0===(0,Fu.getScrollTop)(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(t))},onTouchStart:function(t){this.touchable&&this.checkPullStart(t)},onTouchMove:function(t){this.touchable&&(this.ceiling||this.checkPullStart(t),this.touchMove(t),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&((0,ou.preventDefault)(t),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var t=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){t.$emit("refresh")}))):this.setStatus(0))},ease:function(t){var e=+this.headHeight;return t>e&&(t=t<2*e?e+(t-e)/2:1.5*e+(t-2*e)/4),Math.round(t)},setStatus:function(t,e){var n;n=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing",this.distance=t,n!==this.status&&(this.status=n)},genStatus:function(){var t=this.$createElement,e=this.status,i=this.distance,r=this.slots(e,{distance:i});if(r)return r;var s=[],u=this[e+"Text"]||a(e);return-1!==l.indexOf(e)&&s.push(t("div",{class:o("text")},[u])),"loading"===e&&s.push(t(n.default,{attrs:{size:"16"}},[u])),s},showSuccessTip:function(){var t=this;this.status="success",setTimeout((function(){t.setStatus(0)}),this.successDuration)}},render:function(){var t=arguments[0],e={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return t("div",{class:o()},[t("div",{ref:"track",class:o("track"),style:e},[t("div",{class:o("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}});e.default=u})),df=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(tc),i=(0,Wl.createNamespace)("rate"),r=i[0],o=i[1];function a(t,e,n){return t>=e?"full":t+.5>=e&&n?"half":"void"}var s=r({mixins:[qu.TouchMixin,nh.FieldMixin],props:{size:[Number,String],color:String,gutter:[Number,String],readonly:Boolean,disabled:Boolean,allowHalf:Boolean,voidColor:String,iconPrefix:String,disabledColor:String,value:{type:Number,default:0},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},count:{type:[Number,String],default:5},touchable:{type:Boolean,default:!0}},computed:{list:function(){for(var t=[],e=1;e<=this.count;e++)t.push(a(this.value,e,this.allowHalf));return t},sizeWithUnit:function(){return(0,Wl.addUnit)(this.size)},gutterWithUnit:function(){return(0,Wl.addUnit)(this.gutter)}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{select:function(t){this.disabled||this.readonly||t===this.value||(this.$emit("input",t),this.$emit("change",t))},onTouchStart:function(t){var e=this;if(!this.readonly&&!this.disabled&&this.touchable){this.touchStart(t);var n=this.$refs.items.map((function(t){return t.getBoundingClientRect()})),i=[];n.forEach((function(t,n){e.allowHalf?i.push({score:n+.5,left:t.left},{score:n+1,left:t.left+t.width/2}):i.push({score:n+1,left:t.left})})),this.ranges=i}},onTouchMove:function(t){if(!this.readonly&&!this.disabled&&this.touchable&&(this.touchMove(t),"horizontal"===this.direction)){(0,ou.preventDefault)(t);var e=t.touches[0].clientX;this.select(this.getScoreByPosition(e))}},getScoreByPosition:function(t){for(var e=this.ranges.length-1;e>0;e--)if(t>this.ranges[e].left)return this.ranges[e].score;return this.allowHalf?.5:1},genStar:function(t,e){var i,r=this,a=this.$createElement,s=this.icon,l=this.color,u=this.count,c=this.voidIcon,h=this.disabled,d=this.voidColor,f=this.disabledColor,p=e+1,v="full"===t,m="void"===t;return this.gutterWithUnit&&p!==+u&&(i={paddingRight:this.gutterWithUnit}),a("div",{ref:"items",refInFor:!0,key:e,attrs:{role:"radio",tabindex:"0","aria-setsize":u,"aria-posinset":p,"aria-checked":String(!m)},style:i,class:o("item")},[a(n.default,{attrs:{size:this.sizeWithUnit,name:v?s:c,color:h?f:v?l:d,classPrefix:this.iconPrefix,"data-score":p},class:o("icon",{disabled:h,full:v}),on:{click:function(){r.select(p)}}}),this.allowHalf&&a(n.default,{attrs:{size:this.sizeWithUnit,name:m?c:s,color:h?f:m?d:l,classPrefix:this.iconPrefix,"data-score":p-.5},class:o("icon",["half",{disabled:h,full:!m}]),on:{click:function(){r.select(p-.5)}}})])}},render:function(){var t=this,e=arguments[0];return e("div",{class:o({readonly:this.readonly,disabled:this.disabled}),attrs:{tabindex:"0",role:"radiogroup"}},[this.list.map((function(e,n){return t.genStar(e,n)}))])}});e.default=s})),ff=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("row"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanRow")],props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},computed:{spaces:function(){var t=Number(this.gutter);if(t){var e=[],n=[[]],i=0;return this.children.forEach((function(t,e){i+=Number(t.span),i>24?(n.push([e]),i-=24):n[n.length-1].push(e)})),n.forEach((function(n){var i=t*(n.length-1)/n.length;n.forEach((function(n,r){if(0===r)e.push({right:i});else{var o=t-e[n-1].right,a=i-o;e.push({left:o,right:a})}}))})),e}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.align,i=this.justify,o="flex"===this.type;return e(this.tag,{class:r((t={flex:o},t["align-"+n]=o&&n,t["justify-"+i]=o&&i,t)),on:{click:this.onClick}},[this.slots()])}});e.default=o})),pf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Us),r=Hs(Pc),o=(0,Wl.createNamespace)("search"),a=o[0],s=o[1],l=o[2];function u(t,e,o,a){function u(){if(o.label||e.label)return t("div",{class:s("label")},[o.label?o.label():e.label])}function c(){if(e.showAction)return t("div",{class:s("action"),attrs:{role:"button",tabindex:"0"},on:{click:n}},[o.action?o.action():e.actionText||l("cancel")]);function n(){o.action||((0,iu.emit)(a,"input",""),(0,iu.emit)(a,"cancel"))}}var h={attrs:a.data.attrs,on:(0,i.default)({},a.listeners,{keypress:function(t){13===t.keyCode&&((0,ou.preventDefault)(t),(0,iu.emit)(a,"search",e.value)),(0,iu.emit)(a,"keypress",t)}})},d=(0,iu.inherit)(a);return d.attrs=void 0,t("div",(0,n.default)([{class:s({"show-action":e.showAction}),style:{background:e.background}},d]),[null==o.left?void 0:o.left(),t("div",{class:s("content",e.shape)},[u(),t(r.default,(0,n.default)([{attrs:{type:"search",border:!1,value:e.value,leftIcon:e.leftIcon,rightIcon:e.rightIcon,clearable:e.clearable,clearTrigger:e.clearTrigger},scopedSlots:{"left-icon":o["left-icon"],"right-icon":o["right-icon"]}},h]))]),c()])}u.props={value:String,label:String,rightIcon:String,actionText:String,background:String,showAction:Boolean,clearTrigger:String,shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},leftIcon:{type:String,default:"search"}};var c=a(u);e.default=c})),vf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(ec),r=["qq","weibo","wechat","link","qrcode","poster"],o=(0,Wl.createNamespace)("share-sheet"),a=o[0],s=o[1],l=o[2],u=a({props:(0,n.default)({},Qu.popupMixinProps,{title:String,cancelText:String,description:String,getContainer:[String,Function],options:{type:Array,default:function(){return[]}},overlay:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}}),methods:{onCancel:function(){this.toggle(!1),this.$emit("cancel")},onSelect:function(t,e){this.$emit("select",t,e)},toggle:function(t){this.$emit("input",t)},getIconURL:function(t){return-1!==r.indexOf(t)?"https://img.yzcdn.cn/vant/share-icon-"+t+".png":t},genHeader:function(){var t=this.$createElement,e=this.slots("title")||this.title,n=this.slots("description")||this.description;if(e||n)return t("div",{class:s("header")},[e&&t("h2",{class:s("title")},[e]),n&&t("span",{class:s("description")},[n])])},genOptions:function(t,e){var n=this,i=this.$createElement;return i("div",{class:s("options",{border:e})},[t.map((function(t,e){return i("div",{attrs:{role:"button",tabindex:"0"},class:[s("option"),t.className],on:{click:function(){n.onSelect(t,e)}}},[i("img",{attrs:{src:n.getIconURL(t.icon)},class:s("icon")}),t.name&&i("span",{class:s("name")},[t.name]),t.description&&i("span",{class:s("option-description")},[t.description])])}))])},genRows:function(){var t=this,e=this.options;return Array.isArray(e[0])?e.map((function(e,n){return t.genOptions(e,0!==n)})):this.genOptions(e)},genCancelText:function(){var t,e=this.$createElement,n=null!=(t=this.cancelText)?t:l("cancel");if(n)return e("button",{attrs:{type:"button"},class:s("cancel"),on:{click:this.onCancel}},[n])},onClickOverlay:function(){this.$emit("click-overlay")}},render:function(){var t=arguments[0];return t(i.default,{attrs:{round:!0,value:this.value,position:"bottom",overlay:this.overlay,duration:this.duration,lazyRender:this.lazyRender,lockScroll:this.lockScroll,getContainer:this.getContainer,closeOnPopstate:this.closeOnPopstate,closeOnClickOverlay:this.closeOnClickOverlay,safeAreaInsetBottom:this.safeAreaInsetBottom},class:s(),on:{input:this.toggle,"click-overlay":this.onClickOverlay}},[this.genHeader(),this.genRows(),this.genCancelText()])}});e.default=u})),mf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("sidebar"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanSidebar")],model:{prop:"activeKey"},props:{activeKey:{type:[Number,String],default:0}},data:function(){return{index:+this.activeKey}},watch:{activeKey:function(){this.setIndex(+this.activeKey)}},methods:{setIndex:function(t){t!==this.index&&(this.index=t,this.$emit("change",t))}},render:function(){var t=arguments[0];return t("div",{class:r()},[this.slots()])}});e.default=o})),gf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Ju),r=(0,Wl.createNamespace)("sidebar-item"),o=r[0],a=r[1],s=o({mixins:[(0,Kc.ChildrenMixin)("vanSidebar")],props:(0,n.default)({},xc.routeProps,{dot:Boolean,info:[Number,String],badge:[Number,String],title:String,disabled:Boolean}),computed:{select:function(){return this.index===+this.parent.activeKey}},methods:{onClick:function(){this.disabled||(this.$emit("click",this.index),this.parent.$emit("input",this.index),this.parent.setIndex(this.index),(0,xc.route)(this.$router,this))}},render:function(){var t,e,n=arguments[0];return n("a",{class:a({select:this.select,disabled:this.disabled}),on:{click:this.onClick}},[n("div",{class:a("text")},[null!=(t=this.slots("title"))?t:this.title,n(i.default,{attrs:{dot:this.dot,info:null!=(e=this.badge)?e:this.info},class:a("info")})])])}});e.default=s})),yf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("skeleton"),r=i[0],o=i[1],a="100%",s="60%";function l(t,e,i,r){if(!e.loading)return i.default&&i.default();function l(){if(e.title)return t("h3",{class:o("title"),style:{width:(0,Wl.addUnit)(e.titleWidth)}})}function u(){var n=[],i=e.rowWidth;function r(t){return i===a&&t===+e.row-1?s:Array.isArray(i)?i[t]:i}for(var l=0;l<e.row;l++)n.push(t("div",{class:o("row"),style:{width:(0,Wl.addUnit)(r(l))}}));return n}function c(){if(e.avatar){var n=(0,Wl.addUnit)(e.avatarSize);return t("div",{class:o("avatar",e.avatarShape),style:{width:n,height:n}})}}return t("div",(0,n.default)([{class:o({animate:e.animate,round:e.round})},(0,iu.inherit)(r)]),[c(),t("div",{class:o("content")},[l(),u()])])}l.props={title:Boolean,round:Boolean,avatar:Boolean,titleWidth:[Number,String],avatarSize:[Number,String],row:{type:[Number,String],default:0},loading:{type:Boolean,default:!0},animate:{type:Boolean,default:!0},avatarShape:{type:String,default:"round"},rowWidth:{type:[Number,String,Array],default:a}};var u=r(l);e.default=u})),bf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n={"zh-CN":{vanSku:{select:"请选择",selected:"已选",selectSku:"请先选择商品规格",soldout:"库存不足",originPrice:"原价",minusTip:"至少选择一件",minusStartTip:function(t){return t+"件起售"},unavailable:"商品已经无法购买啦",stock:"剩余",stockUnit:"件",quotaTip:function(t){return"每人限购"+t+"件"},quotaUsedTip:function(t,e){return"每人限购"+t+"件，你已购买"+e+"件"}},vanSkuActions:{buy:"立即购买",addCart:"加入购物车"},vanSkuImgUploader:{oversize:function(t){return"最大可上传图片为"+t+"MB，请尝试压缩图片尺寸"},fail:"上传失败",uploading:"上传中..."},vanSkuStepper:{quotaLimit:function(t){return"限购"+t+"件"},quotaStart:function(t){return t+"件起售"},comma:"，",num:"购买数量"},vanSkuMessages:{fill:"请填写",upload:"请上传",imageLabel:"仅限一张",invalid:{tel:"请填写正确的数字格式留言",mobile:"手机号长度为6-20位数字",email:"请填写正确的邮箱",id_no:"请填写正确的身份证号码"},placeholder:{id_no:"请填写身份证号",text:"请填写留言",tel:"请填写数字",email:"请填写邮箱",date:"请选择日期",time:"请选择时间",textarea:"请填写留言",mobile:"请填写手机号"}},vanSkuRow:{multiple:"可多选"},vanSkuDatetimeField:{title:{date:"选择年月日",time:"选择时间",datetime:"选择日期时间"},format:{year:"年",month:"月",day:"日",hour:"时",minute:"分"}}}};e.default=n})),wf=v((function(t,e){e.__esModule=!0,e.default=e.UNSELECTED_SKU_VALUE_ID=e.LIMIT_TYPE=void 0;var n={QUOTA_LIMIT:0,STOCK_LIMIT:1};e.LIMIT_TYPE=n;var i="";e.UNSELECTED_SKU_VALUE_ID=i;var r={LIMIT_TYPE:n,UNSELECTED_SKU_VALUE_ID:i};e.default=r})),xf=v((function(t,e){e.__esModule=!0,e.default=e.getSelectedProperties=e.getSelectedPropValues=e.isSkuChoosable=e.getSelectedSkuValues=e.getSkuComb=e.isAllSelected=e.normalizePropList=e.normalizeSkuTree=void 0;var n=Hs(Us),i=function(t){var e={};return t.forEach((function(t){e[t.k_s]=t.v})),e};e.normalizeSkuTree=i;var r=function(t){var e={};return t.forEach((function(t){var n={};t.v.forEach((function(t){n[t.id]=t})),e[t.k_id]=n})),e};e.normalizePropList=r;var o=function(t,e){var n=Object.keys(e).filter((function(t){return e[t]!==wf.UNSELECTED_SKU_VALUE_ID}));return t.length===n.length};e.isAllSelected=o;var a=function(t,e){var n=t.filter((function(t){return Object.keys(e).every((function(n){return String(t[n])===String(e[n])}))}));return n[0]};e.getSkuComb=a;var s=function(t,e){var n=i(t);return Object.keys(e).reduce((function(t,i){var r=n[i],o=e[i];if(o!==wf.UNSELECTED_SKU_VALUE_ID){var a=r.filter((function(t){return t.id===o}))[0];a&&t.push(a)}return t}),[])};e.getSelectedSkuValues=s;var l=function(t,e,i){var r,o=i.key,a=i.valueId,s=(0,n.default)({},e,(r={},r[o]=a,r)),l=Object.keys(s).filter((function(t){return s[t]!==wf.UNSELECTED_SKU_VALUE_ID})),u=t.filter((function(t){return l.every((function(e){return String(s[e])===String(t[e])}))})),c=u.reduce((function(t,e){return t+=e.stock_num,t}),0);return c>0};e.isSkuChoosable=l;var u=function(t,e){var i=r(t);return Object.keys(e).reduce((function(t,r){return e[r].forEach((function(e){t.push((0,n.default)({},i[r][e]))})),t}),[])};e.getSelectedPropValues=u;var c=function(t,e){var i=[];return(t||[]).forEach((function(t){if(e[t.k_id]&&e[t.k_id].length>0){var r=[];t.v.forEach((function(i){e[t.k_id].indexOf(i.id)>-1&&r.push((0,n.default)({},i))})),i.push((0,n.default)({},t,{v:r}))}})),i};e.getSelectedProperties=c;var h={normalizeSkuTree:i,getSkuComb:a,getSelectedSkuValues:s,isAllSelected:o,isSkuChoosable:l,getSelectedPropValues:u,getSelectedProperties:c};e.default=h})),kf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(Us),r=Hs(Rh),o=(0,Wl.createNamespace)("sku-header"),a=o[0],s=o[1];function l(t,e){var n;return t.tree.some((function(t){var r=e[t.k_s];if(r&&t.v){var o=t.v.filter((function(t){return t.id===r}))[0]||{},a=o.previewImgUrl||o.imgUrl||o.img_url;if(a)return n=(0,i.default)({},o,{ks:t.k_s,imgUrl:a}),!0}return!1})),n}function u(t,e,i,o){var a,u=e.sku,c=e.goods,h=e.skuEventBus,d=e.selectedSku,f=e.showHeaderImage,p=void 0===f||f,v=l(u,d),m=v?v.imgUrl:c.picture,g=function(){h.$emit("sku:previewImage",v)};return t("div",(0,n.default)([{class:[s(),lc.BORDER_BOTTOM]},(0,iu.inherit)(o)]),[p&&t(r.default,{attrs:{fit:"cover",src:m},class:s("img-wrap"),on:{click:g}},[null==(a=i["sku-header-image-extra"])?void 0:a.call(i)]),t("div",{class:s("goods-info")},[null==i.default?void 0:i.default()])])}u.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object,showHeaderImage:Boolean};var c=a(u);e.default=c})),Sf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("sku-header-item"),r=i[0],o=i[1];function a(t,e,i,r){return t("div",(0,n.default)([{class:o()},(0,iu.inherit)(r)]),[i.default&&i.default()])}var s=r(a);e.default=s})),_f=v((function(t,e){e.__esModule=!0,e.default=e.bem=void 0;var n=(0,Wl.createNamespace)("sku-row"),i=n[0],r=n[1],o=n[2];e.bem=r;var a=i({mixins:[(0,Kc.ParentMixin)("vanSkuRows"),(0,Zu.BindEventMixin)((function(t){this.scrollable&&this.$refs.scroller&&t(this.$refs.scroller,"scroll",this.onScroll)}))],props:{skuRow:Object},data:function(){return{progress:0}},computed:{scrollable:function(){return this.skuRow.largeImageMode&&this.skuRow.v.length>6}},methods:{onScroll:function(){var t=this.$refs,e=t.scroller,n=t.row,i=n.offsetWidth-e.offsetWidth;this.progress=e.scrollLeft/i},genTitle:function(){var t=this.$createElement;return t("div",{class:r("title")},[this.skuRow.k,this.skuRow.is_multiple&&t("span",{class:r("title-multiple")},["（",o("multiple"),"）"])])},genIndicator:function(){var t=this.$createElement;if(this.scrollable){var e={transform:"translate3d("+20*this.progress+"px, 0, 0)"};return t("div",{class:r("indicator-wrapper")},[t("div",{class:r("indicator")},[t("div",{class:r("indicator-slider"),style:e})])])}},genContent:function(){var t=this.$createElement,e=this.slots();if(this.skuRow.largeImageMode){var n=[],i=[];return e.forEach((function(t,e){var r=Math.floor(e/3)%2===0?n:i;r.push(t)})),t("div",{class:r("scroller"),ref:"scroller"},[t("div",{class:r("row"),ref:"row"},[n]),i.length?t("div",{class:r("row")},[i]):null])}return e},centerItem:function(t){if(this.skuRow.largeImageMode&&t){var e=this.children,n=void 0===e?[]:e,i=this.$refs,r=i.scroller,o=i.row,a=n.find((function(e){return+e.skuValue.id===+t}));if(r&&o&&a&&a.$el){var s=a.$el,l=s.offsetLeft-(r.offsetWidth-s.offsetWidth)/2;r.scrollLeft=l}}}},render:function(){var t=arguments[0];return t("div",{class:[r(),lc.BORDER_BOTTOM]},[this.genTitle(),this.genContent(),this.genIndicator()])}});e.default=a})),Of=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Rh),r=(0,Wl.createNamespace)("sku-row-item"),o=r[0],a=o({mixins:[(0,Kc.ChildrenMixin)("vanSkuRows")],props:{lazyLoad:Boolean,skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object,largeImageMode:Boolean,skuList:{type:Array,default:function(){return[]}}},computed:{imgUrl:function(){var t=this.skuValue.imgUrl||this.skuValue.img_url;return this.largeImageMode?t||"https://img.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png":t},choosable:function(){return(0,xf.isSkuChoosable)(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",(0,n.default)({},this.skuValue,{skuKeyStr:this.skuKeyStr}))},onPreviewImg:function(t){t.stopPropagation();var e=this.skuValue,i=this.skuKeyStr;this.skuEventBus.$emit("sku:previewImage",(0,n.default)({},e,{ks:i,imgUrl:e.imgUrl||e.img_url}))},genImage:function(t){var e=this.$createElement;if(this.imgUrl)return e(i.default,{attrs:{fit:"cover",src:this.imgUrl,lazyLoad:this.lazyLoad},class:t+"-img"})}},render:function(){var t=arguments[0],e=this.skuValue.id===this.selectedSku[this.skuKeyStr],n=this.largeImageMode?(0,_f.bem)("image-item"):(0,_f.bem)("item");return t("span",{class:[n,e?n+"--active":"",this.choosable?"":n+"--disabled"],on:{click:this.onSelect}},[this.genImage(n),t("div",{class:n+"-name"},[this.largeImageMode?t("span",{class:{"van-multi-ellipsis--l2":this.largeImageMode}},[this.skuValue.name]):this.skuValue.name]),this.largeImageMode&&t("img",{class:n+"-img-icon",attrs:{src:"https://img.yzcdn.cn/upload_files/2020/07/02/Fu4_ya0l0aAt4Mv4PL9jzPzfZnDX.png"},on:{click:this.onPreviewImg}})])}});e.default=a})),Cf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=(0,Wl.createNamespace)("sku-row-prop-item"),r=i[0],o=r({props:{skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedProp:Object,multiple:Boolean},computed:{choosed:function(){var t=this.selectedProp,e=this.skuKeyStr,n=this.skuValue;return!(!t||!t[e])&&t[e].indexOf(n.id)>-1}},methods:{onSelect:function(){this.skuEventBus.$emit("sku:propSelect",(0,n.default)({},this.skuValue,{skuKeyStr:this.skuKeyStr,multiple:this.multiple}))}},render:function(){var t=arguments[0];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":this.choosed}],on:{click:this.onSelect}},[t("span",{class:"van-sku-row__item-name"},[this.skuValue.name])])}});e.default=o})),Ef=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=(0,Wl.createNamespace)("stepper"),r=i[0],o=i[1],a=600,s=200;function l(t,e){return String(t)===String(e)}function u(t,e){var n=Math.pow(10,10);return Math.round((t+e)*n)/n}var c=r({mixins:[nh.FieldMixin],props:{value:null,theme:String,integer:Boolean,disabled:Boolean,allowEmpty:Boolean,inputWidth:[Number,String],buttonSize:[Number,String],asyncChange:Boolean,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,decimalLength:[Number,String],name:{type:[Number,String],default:""},min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0},longPress:{type:Boolean,default:!0}},data:function(){var t,e=null!=(t=this.value)?t:this.defaultValue,n=this.format(e);return l(n,this.value)||this.$emit("input",n),{currentValue:n}},computed:{minusDisabled:function(){return this.disabled||this.disableMinus||this.currentValue<=+this.min},plusDisabled:function(){return this.disabled||this.disablePlus||this.currentValue>=+this.max},inputStyle:function(){var t={};return this.inputWidth&&(t.width=(0,Wl.addUnit)(this.inputWidth)),this.buttonSize&&(t.height=(0,Wl.addUnit)(this.buttonSize)),t},buttonStyle:function(){if(this.buttonSize){var t=(0,Wl.addUnit)(this.buttonSize);return{width:t,height:t}}}},watch:{max:"check",min:"check",integer:"check",decimalLength:"check",value:function(t){l(t,this.currentValue)||(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t,{name:this.name})}},methods:{check:function(){var t=this.format(this.currentValue);l(t,this.currentValue)||(this.currentValue=t)},formatNumber:function(t){return(0,gc.formatNumber)(String(t),!this.integer)},format:function(t){return this.allowEmpty&&""===t||(t=this.formatNumber(t),t=""===t?0:+t,t=(0,Ll.isNaN)(t)?this.min:t,t=Math.max(Math.min(this.max,t),this.min),(0,Wl.isDef)(this.decimalLength)&&(t=t.toFixed(this.decimalLength))),t},onInput:function(t){var e=t.target.value,n=this.formatNumber(e);if((0,Wl.isDef)(this.decimalLength)&&-1!==n.indexOf(".")){var i=n.split(".");n=i[0]+"."+i[1].slice(0,this.decimalLength)}l(e,n)||(t.target.value=n),this.emitChange(n)},emitChange:function(t){this.asyncChange?(this.$emit("input",t),this.$emit("change",t,{name:this.name})):this.currentValue=t},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,n=this.format(u(+this.currentValue,e));this.emitChange(n),this.$emit(t)}},onFocus:function(t){this.disableInput&&this.$refs.input?this.$refs.input.blur():this.$emit("focus",t)},onBlur:function(t){var e=this.format(t.target.value);t.target.value=e,this.currentValue=e,this.$emit("blur",t),(0,Ic.resetScroll)()},longPressStep:function(){var t=this;this.longPressTimer=setTimeout((function(){t.onChange(),t.longPressStep(t.type)}),s)},onTouchStart:function(){var t=this;this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout((function(){t.isLongPress=!0,t.onChange(),t.longPressStep()}),a))},onTouchEnd:function(t){this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress&&(0,ou.preventDefault)(t))}},render:function(){var t=this,e=arguments[0],i=function(e){return{on:{click:function(n){n.preventDefault(),t.type=e,t.onChange()},touchstart:function(){t.type=e,t.onTouchStart()},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}}};return e("div",{class:o([this.theme])},[e("button",(0,n.default)([{directives:[{name:"show",value:this.showMinus}],attrs:{type:"button"},style:this.buttonStyle,class:o("minus",{disabled:this.minusDisabled})},i("minus")])),e("input",{ref:"input",attrs:{type:this.integer?"tel":"text",role:"spinbutton",disabled:this.disabled,readonly:this.disableInput,inputmode:this.integer?"numeric":"decimal",placeholder:this.placeholder,"aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue},class:o("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),e("button",(0,n.default)([{directives:[{name:"show",value:this.showPlus}],attrs:{type:"button"},style:this.buttonStyle,class:o("plus",{disabled:this.plusDisabled})},i("plus")]))])}});e.default=c})),Tf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Ef),i=(0,Wl.createNamespace)("sku-stepper"),r=i[0],o=i[2],a=wf.LIMIT_TYPE.QUOTA_LIMIT,s=wf.LIMIT_TYPE.STOCK_LIMIT,l=r({props:{stock:Number,skuEventBus:Object,skuStockNum:Number,selectedNum:Number,stepperTitle:String,disableStepperInput:Boolean,customStepperConfig:Object,hideQuotaText:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1}},data:function(){return{currentNum:this.selectedNum,limitType:s}},watch:{currentNum:function(t){var e=parseInt(t,10);e>=this.stepperMinLimit&&e<=this.stepperLimit&&this.skuEventBus.$emit("sku:numChange",e)},stepperLimit:function(t){t<this.currentNum&&this.stepperMinLimit<=t&&(this.currentNum=t),this.checkState(this.stepperMinLimit,t)},stepperMinLimit:function(t){(t>this.currentNum||t>this.stepperLimit)&&(this.currentNum=t),this.checkState(t,this.stepperLimit)}},computed:{stepperLimit:function(){var t,e=this.quota-this.quotaUsed;return this.quota>0&&e<=this.stock?(t=e<0?0:e,this.limitType=a):(t=this.stock,this.limitType=s),t},stepperMinLimit:function(){return this.startSaleNum<1?1:this.startSaleNum},quotaText:function(){var t=this.customStepperConfig,e=t.quotaText,n=t.hideQuotaText;if(n)return"";var i="";if(e)i=e;else{var r=[];this.startSaleNum>1&&r.push(o("quotaStart",this.startSaleNum)),this.quota>0&&r.push(o("quotaLimit",this.quota)),i=r.join(o("comma"))}return i}},created:function(){this.checkState(this.stepperMinLimit,this.stepperLimit)},methods:{setCurrentNum:function(t){this.currentNum=t,this.checkState(this.stepperMinLimit,this.stepperLimit)},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})},onChange:function(t){var e=parseInt(t,10),n=this.customStepperConfig.handleStepperChange;n&&n(e),this.$emit("change",e)},checkState:function(t,e){this.currentNum<t||t>e?this.currentNum=t:this.currentNum>e&&(this.currentNum=e),this.skuEventBus.$emit("sku:stepperState",{valid:t<=e,min:t,max:e,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})}},render:function(){var t=this,e=arguments[0];return e("div",{class:"van-sku-stepper-stock"},[e("div",{class:"van-sku__stepper-title"},[this.stepperTitle||o("num")]),e(n.default,{attrs:{integer:!0,min:this.stepperMinLimit,max:this.stepperLimit,disableInput:this.disableStepperInput},class:"van-sku__stepper",on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:t.currentNum,callback:function(e){t.currentNum=e}}}),!this.hideQuotaText&&this.quotaText&&e("span",{class:"van-sku__stepper-quota"},["(",this.quotaText,")"])])}});e.default=l})),Af=jf;function jf(t){var e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return e.test(t)}var Nf=Object.defineProperty({isEmail:Af},"__esModule",{value:!0}),If=Rf,Pf=Bf,Mf=zf,Df=Ff,Lf=qf;function Rf(t){return Array.isArray(t)?t:[t]}function Bf(t,e){return new Promise((function(n){if("file"!==e){var i=new FileReader;i.onload=function(t){n(t.target.result)},"dataUrl"===e?i.readAsDataURL(t):"text"===e&&i.readAsText(t)}else n()}))}function zf(t,e){return Rf(t).some((function(t){return t.size>e}))}var $f=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function Ff(t){return $f.test(t)}function qf(t){return!!t.isImage||(t.file&&t.file.type?0===t.file.type.indexOf("image"):t.url?Ff(t.url):!!t.content&&0===t.content.indexOf("data:image"))}var Vf=Object.defineProperty({toArray:If,readFile:Pf,isOversize:Mf,isImageUrl:Df,isImageFile:Lf},"__esModule",{value:!0}),Hf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(tc),r=Hs(Rh),o=Hs(nc),a=Hs(Wd),s=(0,Wl.createNamespace)("uploader"),l=s[0],u=s[1],c=l({inheritAttrs:!1,mixins:[nh.FieldMixin],model:{prop:"fileList"},props:{disabled:Boolean,lazyLoad:Boolean,uploadText:String,afterRead:Function,beforeRead:Function,beforeDelete:Function,previewSize:[Number,String],previewOptions:Object,name:{type:[Number,String],default:""},accept:{type:String,default:"image/*"},fileList:{type:Array,default:function(){return[]}},maxSize:{type:[Number,String],default:Number.MAX_VALUE},maxCount:{type:[Number,String],default:Number.MAX_VALUE},deletable:{type:Boolean,default:!0},showUpload:{type:Boolean,default:!0},previewImage:{type:Boolean,default:!0},previewFullImage:{type:Boolean,default:!0},imageFit:{type:String,default:"cover"},resultType:{type:String,default:"dataUrl"},uploadIcon:{type:String,default:"photograph"}},computed:{previewSizeWithUnit:function(){return(0,Wl.addUnit)(this.previewSize)},value:function(){return this.fileList}},methods:{getDetail:function(t){return void 0===t&&(t=this.fileList.length),{name:this.name,index:t}},onChange:function(t){var e=this,n=t.target.files;if(!this.disabled&&n.length){if(n=1===n.length?n[0]:[].slice.call(n),this.beforeRead){var i=this.beforeRead(n,this.getDetail());if(!i)return void this.resetInput();if((0,Wl.isPromise)(i))return void i.then((function(t){t?e.readFile(t):e.readFile(n)})).catch(this.resetInput)}this.readFile(n)}},readFile:function(t){var e=this,n=(0,Vf.isOversize)(t,this.maxSize);if(Array.isArray(t)){var i=this.maxCount-this.fileList.length;t.length>i&&(t=t.slice(0,i)),Promise.all(t.map((function(t){return(0,Vf.readFile)(t,e.resultType)}))).then((function(i){var r=t.map((function(t,e){var n={file:t,status:"",message:""};return i[e]&&(n.content=i[e]),n}));e.onAfterRead(r,n)}))}else(0,Vf.readFile)(t,this.resultType).then((function(i){var r={file:t,status:"",message:""};i&&(r.content=i),e.onAfterRead(r,n)}))},onAfterRead:function(t,e){var n=this;this.resetInput();var i=t;if(e){var r=t;Array.isArray(t)?(r=[],i=[],t.forEach((function(t){t.file&&(t.file.size>n.maxSize?r.push(t):i.push(t))}))):i=null,this.$emit("oversize",r,this.getDetail())}var o=Array.isArray(i)?Boolean(i.length):Boolean(i);o&&(this.$emit("input",[].concat(this.fileList,(0,Vf.toArray)(i))),this.afterRead&&this.afterRead(i,this.getDetail()))},onDelete:function(t,e){var n=this;if(this.beforeDelete){var i=this.beforeDelete(t,this.getDetail(e));if(!i)return;if((0,Wl.isPromise)(i))return void i.then((function(){n.deleteFile(t,e)})).catch(Wl.noop)}this.deleteFile(t,e)},deleteFile:function(t,e){var n=this.fileList.slice(0);n.splice(e,1),this.$emit("input",n),this.$emit("delete",t,this.getDetail(e))},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")},onPreviewImage:function(t){var e=this;if(this.previewFullImage){var i=this.fileList.filter((function(t){return(0,Vf.isImageFile)(t)})),r=i.map((function(t){return t.content||t.url}));this.imagePreview=(0,a.default)((0,n.default)({images:r,startPosition:i.indexOf(t),onClose:function(){e.$emit("close-preview")}},this.previewOptions))}},closeImagePreview:function(){this.imagePreview&&this.imagePreview.close()},chooseFile:function(){this.disabled||this.$refs.input&&this.$refs.input.click()},genPreviewMask:function(t){var e=this.$createElement,n=t.status,r=t.message;if("uploading"===n||"failed"===n){var a="failed"===n?e(i.default,{attrs:{name:"close"},class:u("mask-icon")}):e(o.default,{class:u("loading")}),s=(0,Wl.isDef)(r)&&""!==r;return e("div",{class:u("mask")},[a,s&&e("div",{class:u("mask-message")},[r])])}},genPreviewItem:function(t,e){var o=this,a=this.$createElement,s="uploading"!==t.status&&this.deletable,l=s&&a("div",{class:u("preview-delete"),on:{click:function(n){n.stopPropagation(),o.onDelete(t,e)}}},[a(i.default,{attrs:{name:"cross"},class:u("preview-delete-icon")})]),c=this.slots("preview-cover",(0,n.default)({index:e},t)),h=c&&a("div",{class:u("preview-cover")},[c]),d=(0,Vf.isImageFile)(t)?a(r.default,{attrs:{fit:this.imageFit,src:t.content||t.url,width:this.previewSize,height:this.previewSize,lazyLoad:this.lazyLoad},class:u("preview-image"),on:{click:function(){o.onPreviewImage(t)}}},[h]):a("div",{class:u("file"),style:{width:this.previewSizeWithUnit,height:this.previewSizeWithUnit}},[a(i.default,{class:u("file-icon"),attrs:{name:"description"}}),a("div",{class:[u("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),h]);return a("div",{class:u("preview"),on:{click:function(){o.$emit("click-preview",t,o.getDetail(e))}}},[d,this.genPreviewMask(t),l])},genPreviewList:function(){if(this.previewImage)return this.fileList.map(this.genPreviewItem)},genUpload:function(){var t=this.$createElement;if(!(this.fileList.length>=this.maxCount)&&this.showUpload){var e,r=this.slots(),o=t("input",{attrs:(0,n.default)({},this.$attrs,{type:"file",accept:this.accept,disabled:this.disabled}),ref:"input",class:u("input"),on:{change:this.onChange}});if(r)return t("div",{class:u("input-wrapper")},[r,o]);if(this.previewSize){var a=this.previewSizeWithUnit;e={width:a,height:a}}return t("div",{class:u("upload"),style:e},[t(i.default,{attrs:{name:this.uploadIcon},class:u("upload-icon")}),this.uploadText&&t("span",{class:u("upload-text")},[this.uploadText]),o])}}},render:function(){var t=arguments[0];return t("div",{class:u()},[t("div",{class:u("wrapper",{disabled:this.disabled})},[this.genPreviewList(),this.genUpload()])])}});e.default=c})),Uf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Hf),i=(0,Wl.createNamespace)("sku-img-uploader"),r=i[0],o=i[2],a=r({props:{value:String,uploadImg:Function,maxSize:{type:Number,default:6}},data:function(){return{fileList:[]}},watch:{value:function(t){this.fileList=t?[{url:t,isImage:!0}]:[]}},methods:{afterReadFile:function(t){var e=this;t.status="uploading",t.message=o("uploading"),this.uploadImg(t.file,t.content).then((function(n){t.status="done",e.$emit("input",n)})).catch((function(){t.status="failed",t.message=o("fail")}))},onOversize:function(){this.$toast(o("oversize",this.maxSize))},onDelete:function(){this.$emit("input","")}},render:function(){var t=this,e=arguments[0];return e(n.default,{attrs:{maxCount:1,afterRead:this.afterReadFile,maxSize:1024*this.maxSize*1024},on:{oversize:this.onOversize,delete:this.onDelete},model:{value:t.fileList,callback:function(e){t.fileList=e}}})}});e.default=a})),Wf=Gf,Yf=Kf;function Gf(t){return t?new Date(t.replace(/-/g,"/")):null}function Kf(t,e){if(void 0===e&&(e="date"),!t)return"";var n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),o=n+"-"+(0,vl.padZero)(i)+"-"+(0,vl.padZero)(r);if("datetime"===e){var a=t.getHours(),s=t.getMinutes();o+=" "+(0,vl.padZero)(a)+":"+(0,vl.padZero)(s)}return o}var Zf=Object.defineProperty({stringToDate:Wf,dateToString:Yf},"__esModule",{value:!0}),Xf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(ec),i=Hs(jd),r=Hs(Pc),o=(0,Wl.createNamespace)("sku-datetime-field"),a=o[0],s=o[2],l=a({props:{value:String,label:String,required:Boolean,placeholder:String,type:{type:String,default:"date"}},data:function(){return{showDatePicker:!1,currentDate:"time"===this.type?"":new Date,minDate:new Date((new Date).getFullYear()-60,0,1)}},watch:{value:function(t){switch(this.type){case"time":this.currentDate=t;break;case"date":case"datetime":this.currentDate=(0,Zf.stringToDate)(t)||new Date;break}}},computed:{title:function(){return s("title."+this.type)}},methods:{onClick:function(){this.showDatePicker=!0},onConfirm:function(t){var e=t;"time"!==this.type&&(e=(0,Zf.dateToString)(t,this.type)),this.$emit("input",e),this.showDatePicker=!1},onCancel:function(){this.showDatePicker=!1},formatter:function(t,e){var n=s("format."+t);return""+e+n}},render:function(){var t=this,e=arguments[0];return e(r.default,{attrs:{readonly:!0,"is-link":!0,center:!0,value:this.value,label:this.label,required:this.required,placeholder:this.placeholder},on:{click:this.onClick}},[e(n.default,{attrs:{round:!0,position:"bottom",getContainer:"body"},slot:"extra",model:{value:t.showDatePicker,callback:function(e){t.showDatePicker=e}}},[e(i.default,{attrs:{type:this.type,title:this.title,value:this.currentDate,minDate:this.minDate,formatter:this.formatter},on:{cancel:this.onCancel,confirm:this.onConfirm}})])])}});e.default=l})),Qf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Sc),i=Hs(Pc),r=Hs(Uf),o=Hs(Xf),a=(0,Wl.createNamespace)("sku-messages"),s=a[0],l=a[1],u=a[2],c=s({props:{messageConfig:Object,goodsId:[Number,String],messages:{type:Array,default:function(){return[]}}},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){var e=this.messageConfig,n=e.initialMessages,i=void 0===n?{}:n;return(t||[]).map((function(t){return{value:i[t.name]||""}}))},getType:function(t){return 1===+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime":t.type},getMessages:function(){var t={};return this.messageValues.forEach((function(e,n){t["message_"+n]=e.value})),t},getCartMessages:function(){var t=this,e={};return this.messageValues.forEach((function(n,i){var r=t.messages[i];e[r.name]=n.value})),e},getPlaceholder:function(t){var e=1===+t.multiple?"textarea":t.type,n=this.messageConfig.placeholderMap||{};return t.placeholder||n[e]||u("placeholder."+e)},validateMessages:function(){for(var t=this.messageValues,e=0;e<t.length;e++){var n=t[e].value,i=this.messages[e];if(""===n){if("1"===String(i.required)){var r=u("image"===i.type?"upload":"fill");return r+i.name}}else{if("tel"===i.type&&!(0,Ll.isNumeric)(n))return u("invalid.tel");if("mobile"===i.type&&!/^\d{6,20}$/.test(n))return u("invalid.mobile");if("email"===i.type&&!(0,Nf.isEmail)(n))return u("invalid.email");if("id_no"===i.type&&(n.length<15||n.length>18))return u("invalid.id_no")}}},getFormatter:function(t){return function(e){return"mobile"===t.type||"tel"===t.type?e.replace(/[^\d.]/g,""):e}},genMessage:function(t,e){var a=this,s=this.$createElement;if("image"===t.type)return s(n.default,{key:this.goodsId+"-"+e,attrs:{title:t.name,required:"1"===String(t.required),valueClass:l("image-cell-value")},class:l("image-cell")},[s(r.default,{attrs:{maxSize:this.messageConfig.uploadMaxSize,uploadImg:this.messageConfig.uploadImg},model:{value:a.messageValues[e].value,callback:function(t){a.$set(a.messageValues[e],"value",t)}}}),s("div",{class:l("image-cell-label")},[u("imageLabel")])]);var c=["date","time"].indexOf(t.type)>-1;return c?s(o.default,{attrs:{label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t)},key:this.goodsId+"-"+e,model:{value:a.messageValues[e].value,callback:function(t){a.$set(a.messageValues[e],"value",t)}}}):s(i.default,{attrs:{maxlength:"200",center:!t.multiple,label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t),formatter:this.getFormatter(t)},key:this.goodsId+"-"+e,model:{value:a.messageValues[e].value,callback:function(t){a.$set(a.messageValues[e],"value",t)}}})}},render:function(){var t=arguments[0];return t("div",{class:l()},[this.messages.map(this.genMessage)])}});e.default=c})),Jf=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs($c),r=(0,Wl.createNamespace)("sku-actions"),o=r[0],a=r[1],s=r[2];function l(t,e,r,o){var l=function(t){return function(){e.skuEventBus.$emit(t)}};return t("div",(0,n.default)([{class:a()},(0,iu.inherit)(o)]),[e.showAddCartBtn&&t(i.default,{attrs:{size:"large",type:"warning",text:e.addCartText||s("addCart")},on:{click:l("sku:addCart")}}),t(i.default,{attrs:{size:"large",type:"danger",text:e.buyText||s("buy")},on:{click:l("sku:buy")}})])}l.props={buyText:String,addCartText:String,skuEventBus:Object,showAddCartBtn:Boolean};var u=o(l);e.default=u})),tp=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(u["default"]),r=Hs(ec),o=Hs(zc),a=Hs(Wd),s=Hs(kf),l=Hs(Sf),c=Hs(_f),h=Hs(Of),d=Hs(Cf),f=Hs(Tf),p=Hs(Qf),v=Hs(Jf),m=(0,Wl.createNamespace)("sku"),g=m[0],y=m[1],b=m[2],w=wf.LIMIT_TYPE.QUOTA_LIMIT,x=g({props:{sku:Object,goods:Object,value:Boolean,buyText:String,goodsId:[Number,String],priceTag:String,lazyLoad:Boolean,hideStock:Boolean,properties:Array,addCartText:String,stepperTitle:String,getContainer:[String,Function],hideQuotaText:Boolean,hideSelectedText:Boolean,resetStepperOnHide:Boolean,customSkuValidator:Function,disableStepperInput:Boolean,resetSelectedSkuOnHide:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1},initialSku:{type:Object,default:function(){return{}}},stockThreshold:{type:Number,default:50},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},customStepperConfig:{type:Object,default:function(){return{}}},showHeaderImage:{type:Boolean,default:!0},previewOnClickImage:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{initialMessages:{},placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}}},data:function(){return{selectedSku:{},selectedProp:{},selectedNum:1,show:this.value}},watch:{show:function(t){this.$emit("input",t),t||(this.$emit("sku-close",{selectedSkuValues:this.selectedSkuValues,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku())},value:function(t){this.show=t},skuTree:"resetSelectedSku",initialSku:function(){this.resetStepper(),this.resetSelectedSku()}},computed:{skuGroupClass:function(){return["van-sku-group-container",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer){var t=window.innerHeight-this.bodyOffsetTop;return{maxHeight:t+"px"}}},isSkuCombSelected:function(){var t=this;return!(this.hasSku&&!(0,xf.isAllSelected)(this.skuTree,this.selectedSku))&&!this.propList.some((function(e){return(t.selectedProp[e.k_id]||[]).length<1}))},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},hasSkuOrAttr:function(){return this.hasSku||this.propList.length>0},selectedSkuComb:function(){var t=null;return this.isSkuCombSelected&&(t=this.hasSku?(0,xf.getSkuComb)(this.skuList,this.selectedSku):{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num},t&&(t.properties=(0,xf.getSelectedProperties)(this.propList,this.selectedProp),t.property_price=this.selectedPropValues.reduce((function(t,e){return t+(e.price||0)}),0))),t},selectedSkuValues:function(){return(0,xf.getSelectedSkuValues)(this.skuTree,this.selectedSku)},selectedPropValues:function(){return(0,xf.getSelectedPropValues)(this.propList,this.selectedProp)},price:function(){return this.selectedSkuComb?((this.selectedSkuComb.price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.price},originPrice:function(){return this.selectedSkuComb&&this.selectedSkuComb.origin_price?((this.selectedSkuComb.origin_price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.origin_price},skuTree:function(){return this.sku.tree||[]},skuList:function(){return this.sku.list||[]},propList:function(){return this.properties||[]},imageList:function(){var t=[this.goods.picture];return this.skuTree.length>0&&this.skuTree.forEach((function(e){e.v&&e.v.forEach((function(e){var n=e.previewImgUrl||e.imgUrl||e.img_url;n&&-1===t.indexOf(n)&&t.push(n)}))})),t},stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.sku.stock_num},stockText:function(){var t=this.$createElement,e=this.customStepperConfig.stockFormatter;return e?e(this.stock):[b("stock")+" ",t("span",{class:y("stock-num",{highlight:this.stock<this.stockThreshold})},[this.stock])," "+b("stockUnit")]},selectedText:function(){var t=this;if(this.selectedSkuComb){var e=this.selectedSkuValues.concat(this.selectedPropValues);return b("selected")+" "+e.map((function(t){return t.name})).join(" ")}var n=this.skuTree.filter((function(e){return t.selectedSku[e.k_s]===wf.UNSELECTED_SKU_VALUE_ID})).map((function(t){return t.k})),i=this.propList.filter((function(e){return(t.selectedProp[e.k_id]||[]).length<1})).map((function(t){return t.k}));return b("select")+" "+n.concat(i).join(" ")}},created:function(){var t=new i.default;this.skuEventBus=t,t.$on("sku:select",this.onSelect),t.$on("sku:propSelect",this.onPropSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:stepperState",this.onStepperState),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,e=this.initialSku.selectedNum,n=null!=e?e:this.startSaleNum;this.stepperError=null,t?t.setCurrentNum(n):this.selectedNum=n},resetSelectedSku:function(){var t=this;this.selectedSku={},this.skuTree.forEach((function(e){t.selectedSku[e.k_s]=wf.UNSELECTED_SKU_VALUE_ID})),this.skuTree.forEach((function(e){var n=e.k_s,i=1===e.v.length?e.v[0].id:t.initialSku[n];i&&(0,xf.isSkuChoosable)(t.skuList,t.selectedSku,{key:n,valueId:i})&&(t.selectedSku[n]=i)}));var e=this.selectedSkuValues;e.length>0&&this.$nextTick((function(){t.$emit("sku-selected",{skuValue:e[e.length-1],selectedSku:t.selectedSku,selectedSkuComb:t.selectedSkuComb})})),this.selectedProp={};var n=this.initialSku.selectedProp,i=void 0===n?{}:n;this.propList.forEach((function(e){e.v&&1===e.v.length?t.selectedProp[e.k_id]=[e.v[0].id]:i[e.k_id]&&(t.selectedProp[e.k_id]=i[e.k_id])}));var r=this.selectedPropValues;r.length>0&&this.$emit("sku-prop-selected",{propValue:r[r.length-1],selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.$emit("sku-reset",{selectedSku:this.selectedSku,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.centerInitialSku()},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return b("unavailable");if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return b("selectSku")},onSelect:function(t){var e,i;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?(0,n.default)({},this.selectedSku,(e={},e[t.skuKeyStr]=wf.UNSELECTED_SKU_VALUE_ID,e)):(0,n.default)({},this.selectedSku,(i={},i[t.skuKeyStr]=t.id,i)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onPropSelect:function(t){var e,i=this.selectedProp[t.skuKeyStr]||[],r=i.indexOf(t.id);r>-1?i.splice(r,1):t.multiple?i.push(t.id):i.splice(0,1,t.id),this.selectedProp=(0,n.default)({},this.selectedProp,(e={},e[t.skuKeyStr]=i,e)),this.$emit("sku-prop-selected",{propValue:t,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var e=this,i=this.imageList,r=0,o=i[0];t&&t.imgUrl&&(this.imageList.some((function(e,n){return e===t.imgUrl&&(r=n,!0)})),o=t.imgUrl);var s=(0,n.default)({},t,{index:r,imageList:this.imageList,indexImage:o});this.$emit("open-preview",s),this.previewOnClickImage&&(0,a.default)({images:this.imageList,startPosition:r,onClose:function(){e.$emit("close-preview",s)}})},onOverLimit:function(t){var e=t.action,n=t.limitType,i=t.quota,r=t.quotaUsed,a=this.customStepperConfig.handleOverLimit;a?a(t):"minus"===e?this.startSaleNum>1?(0,o.default)(b("minusStartTip",this.startSaleNum)):(0,o.default)(b("minusTip")):"plus"===e&&(n===w?r>0?(0,o.default)(b("quotaUsedTip",i,r)):(0,o.default)(b("quotaTip",i)):(0,o.default)(b("soldout")))},onStepperState:function(t){this.stepperError=t.valid?null:(0,n.default)({},t,{action:"plus"})},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){if(this.stepperError)return this.onOverLimit(this.stepperError);var e=this.validateSku();e?(0,o.default)(e):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,messages:this.getSkuMessages(),selectedNum:this.selectedNum,cartMessages:this.getSkuCartMessages(),selectedSkuComb:this.selectedSkuComb}},onOpened:function(){this.centerInitialSku()},centerInitialSku:function(){var t=this;(this.$refs.skuRows||[]).forEach((function(e){var n=e.skuRow||{},i=n.k_s;e.centerItem(t.initialSku[i])}))}},render:function(){var t=this,e=arguments[0];if(!this.isSkuEmpty){var n=this.sku,i=this.skuList,o=this.goods,a=this.price,u=this.lazyLoad,m=this.originPrice,g=this.skuEventBus,y=this.selectedSku,w=this.selectedProp,x=this.selectedNum,k=this.stepperTitle,S=this.selectedSkuComb,_=this.showHeaderImage,O={price:a,originPrice:m,selectedNum:x,skuEventBus:g,selectedSku:y,selectedSkuComb:S},C=function(e){return t.slots(e,O)},E=C("sku-header")||e(s.default,{attrs:{sku:n,goods:o,skuEventBus:g,selectedSku:y,showHeaderImage:_}},[e("template",{slot:"sku-header-image-extra"},[C("sku-header-image-extra")]),C("sku-header-price")||e("div",{class:"van-sku__goods-price"},[e("span",{class:"van-sku__price-symbol"},["￥"]),e("span",{class:"van-sku__price-num"},[a]),this.priceTag&&e("span",{class:"van-sku__price-tag"},[this.priceTag])]),C("sku-header-origin-price")||m&&e(l.default,[b("originPrice")," ￥",m]),!this.hideStock&&e(l.default,[e("span",{class:"van-sku__stock"},[this.stockText])]),this.hasSkuOrAttr&&!this.hideSelectedText&&e(l.default,[this.selectedText]),C("sku-header-extra")]),T=C("sku-group")||this.hasSkuOrAttr&&e("div",{class:this.skuGroupClass},[this.skuTree.map((function(t){return e(c.default,{attrs:{skuRow:t},ref:"skuRows",refInFor:!0},[t.v.map((function(n){return e(h.default,{attrs:{skuList:i,lazyLoad:u,skuValue:n,skuKeyStr:t.k_s,selectedSku:y,skuEventBus:g,largeImageMode:t.largeImageMode}})}))])})),this.propList.map((function(t){return e(c.default,{attrs:{skuRow:t}},[t.v.map((function(n){return e(d.default,{attrs:{skuValue:n,skuKeyStr:t.k_id+"",selectedProp:w,skuEventBus:g,multiple:t.is_multiple}})}))])}))]),A=C("sku-stepper")||e(f.default,{ref:"skuStepper",attrs:{stock:this.stock,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum,skuEventBus:g,selectedNum:x,stepperTitle:k,skuStockNum:n.stock_num,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig,hideQuotaText:this.hideQuotaText},on:{change:function(e){t.$emit("stepper-change",e)}}}),j=C("sku-messages")||e(p.default,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:n.messages}}),N=C("sku-actions")||e(v.default,{attrs:{buyText:this.buyText,skuEventBus:g,addCartText:this.addCartText,showAddCartBtn:this.showAddCartBtn}});return e(r.default,{attrs:{round:!0,closeable:!0,position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay,safeAreaInsetBottom:this.safeAreaInsetBottom},class:"van-sku-container",on:{opened:this.onOpened},model:{value:t.show,callback:function(e){t.show=e}}},[E,e("div",{class:"van-sku-body",style:this.bodyStyle},[C("sku-body-top"),T,C("extra-sku-group"),A,j]),C("sku-actions-top"),N])}}});e.default=x})),ep=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(bf),i=Hs(wf),r=Hs(xf),o=Hs(tp),a=Hs(ul),s=Hs(Jf),l=Hs(kf),u=Hs(Sf),c=Hs(Qf),h=Hs(Tf),d=Hs(_f),f=Hs(Of),p=Hs(Cf);a.default.add(n.default),o.default.SkuActions=s.default,o.default.SkuHeader=l.default,o.default.SkuHeaderItem=u.default,o.default.SkuMessages=c.default,o.default.SkuStepper=h.default,o.default.SkuRow=d.default,o.default.SkuRowItem=f.default,o.default.SkuRowPropItem=p.default,o.default.skuHelper=r.default,o.default.skuConstants=i.default;var v=o.default;e.default=v})),np=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("slider"),i=n[0],r=n[1],o=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},a=i({mixins:[qu.TouchMixin,nh.FieldMixin],props:{disabled:Boolean,vertical:Boolean,range:Boolean,barHeight:[Number,String],buttonSize:[Number,String],activeColor:String,inactiveColor:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},value:{type:[Number,Array],default:0}},data:function(){return{dragStatus:""}},computed:{scope:function(){return this.max-this.min},buttonStyle:function(){if(this.buttonSize){var t=(0,Wl.addUnit)(this.buttonSize);return{width:t,height:t}}}},created:function(){this.updateValue(this.value)},mounted:function(){this.range?(this.bindTouchEvent(this.$refs.wrapper0),this.bindTouchEvent(this.$refs.wrapper1)):this.bindTouchEvent(this.$refs.wrapper)},methods:{onTouchStart:function(t){this.disabled||(this.touchStart(t),this.currentValue=this.value,this.range?this.startValue=this.value.map(this.format):this.startValue=this.format(this.value),this.dragStatus="start")},onTouchMove:function(t){if(!this.disabled){"start"===this.dragStatus&&this.$emit("drag-start"),(0,ou.preventDefault)(t,!0),this.touchMove(t),this.dragStatus="draging";var e=this.$el.getBoundingClientRect(),n=this.vertical?this.deltaY:this.deltaX,i=this.vertical?e.height:e.width,r=n/i*this.scope;this.range?this.currentValue[this.index]=this.startValue[this.index]+r:this.currentValue=this.startValue+r,this.updateValue(this.currentValue)}},onTouchEnd:function(){this.disabled||("draging"===this.dragStatus&&(this.updateValue(this.currentValue,!0),this.$emit("drag-end")),this.dragStatus="")},onClick:function(t){if(t.stopPropagation(),!this.disabled){var e=this.$el.getBoundingClientRect(),n=this.vertical?t.clientY-e.top:t.clientX-e.left,i=this.vertical?e.height:e.width,r=+this.min+n/i*this.scope;if(this.range){var o=this.value,a=o[0],s=o[1],l=(a+s)/2;r<=l?a=r:s=r,r=[a,s]}this.startValue=this.value,this.updateValue(r,!0)}},handleOverlap:function(t){return t[0]>t[1]?(t=(0,hc.deepClone)(t),t.reverse()):t},updateValue:function(t,e){t=this.range?this.handleOverlap(t).map(this.format):this.format(t),o(t,this.value)||this.$emit("input",t),e&&!o(t,this.startValue)&&this.$emit("change",t)},format:function(t){return Math.round(Math.max(this.min,Math.min(t,this.max))/this.step)*this.step}},render:function(){var t,e,n=this,i=arguments[0],o=this.vertical,a=o?"height":"width",s=o?"width":"height",l=(t={background:this.inactiveColor},t[s]=(0,Wl.addUnit)(this.barHeight),t),u=function(){var t=n.value,e=n.min,i=n.range,r=n.scope;return i?100*(t[1]-t[0])/r+"%":100*(t-e)/r+"%"},c=function(){var t=n.value,e=n.min,i=n.range,r=n.scope;return i?100*(t[0]-e)/r+"%":null},h=(e={},e[a]=u(),e.left=this.vertical?null:c(),e.top=this.vertical?c():null,e.background=this.activeColor,e);this.dragStatus&&(h.transition="none");var d=function(t){var e=["left","right"],o="number"===typeof t,a=function(){return o?"button-wrapper-"+e[t]:"button-wrapper"},s=function(){return o?"wrapper"+t:"wrapper"};return i("div",{ref:s(),attrs:{role:"slider",tabindex:n.disabled?-1:0,"aria-valuemin":n.min,"aria-valuenow":n.value,"aria-valuemax":n.max,"aria-orientation":n.vertical?"vertical":"horizontal"},class:r(a()),on:{touchstart:function(){o&&(n.index=t)},click:function(t){return t.stopPropagation()}}},[n.slots("button")||i("div",{class:r("button"),style:n.buttonStyle})])};return i("div",{style:l,class:r({disabled:this.disabled,vertical:o}),on:{click:this.onClick}},[i("div",{class:r("bar"),style:h},[this.range?[d(0),d(1)]:d()])])}});e.default=a})),ip=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(tc),i=(0,Wl.createNamespace)("step"),r=i[0],o=i[1],a=r({mixins:[(0,Kc.ChildrenMixin)("vanSteps")],computed:{status:function(){return this.index<this.parent.active?"finish":this.index===+this.parent.active?"process":void 0},active:function(){return"process"===this.status},lineStyle:function(){return"finish"===this.status?{background:this.parent.activeColor}:{background:this.parent.inactiveColor}},titleStyle:function(){return this.active?{color:this.parent.activeColor}:this.status?void 0:{color:this.parent.inactiveColor}}},methods:{genCircle:function(){var t=this.$createElement,e=this.parent,i=e.activeIcon,r=e.activeColor,a=e.inactiveIcon;if(this.active)return this.slots("active-icon")||t(n.default,{class:o("icon","active"),attrs:{name:i,color:r}});var s=this.slots("inactive-icon");return a||s?s||t(n.default,{class:o("icon"),attrs:{name:a}}):t("i",{class:o("circle"),style:this.lineStyle})},onClickStep:function(){this.parent.$emit("click-step",this.index)}},render:function(){var t,e=arguments[0],n=this.status,i=this.active,r=this.parent.direction;return e("div",{class:[lc.BORDER,o([r,(t={},t[n]=n,t)])]},[e("div",{class:o("title",{active:i}),style:this.titleStyle,on:{click:this.onClickStep}},[this.slots()]),e("div",{class:o("circle-container"),on:{click:this.onClickStep}},[this.genCircle()]),e("div",{class:o("line"),style:this.lineStyle})])}});e.default=a})),rp=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("steps"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanSteps")],props:{activeColor:String,inactiveIcon:String,inactiveColor:String,active:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},activeIcon:{type:String,default:"checked"}},render:function(){var t=arguments[0];return t("div",{class:r([this.direction])},[t("div",{class:r("items")},[this.slots()])])}});e.default=o})),op=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(tc),r=Hs($c),o=(0,Wl.createNamespace)("submit-bar"),a=o[0],s=o[1],l=o[2];function u(t,e,o,a){var u=e.tip,c=e.price,h=e.tipIcon;function d(){if("number"===typeof c){var n=(c/100).toFixed(e.decimalLength).split("."),i=e.decimalLength?"."+n[1]:"";return t("div",{style:{textAlign:e.textAlign?e.textAlign:""},class:s("text")},[t("span",[e.label||l("label")]),t("span",{class:s("price")},[e.currency,t("span",{class:s("price","integer")},[n[0]]),i]),e.suffixLabel&&t("span",{class:s("suffix-label")},[e.suffixLabel])])}}function f(){if(o.tip||u)return t("div",{class:s("tip")},[h&&t(i.default,{class:s("tip-icon"),attrs:{name:h}}),u&&t("span",{class:s("tip-text")},[u]),o.tip&&o.tip()])}return t("div",(0,n.default)([{class:s({unfit:!e.safeAreaInsetBottom})},(0,iu.inherit)(a)]),[o.top&&o.top(),f(),t("div",{class:s("bar")},[o.default&&o.default(),d(),o.button?o.button():t(r.default,{attrs:{round:!0,type:e.buttonType,text:e.loading?"":e.buttonText,color:e.buttonColor,loading:e.loading,disabled:e.disabled},class:s("button",e.buttonType),on:{click:function(){(0,iu.emit)(a,"submit")}}})])])}u.props={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,textAlign:String,buttonText:String,buttonColor:String,suffixLabel:String,safeAreaInsetBottom:{type:Boolean,default:!0},decimalLength:{type:[Number,String],default:2},currency:{type:String,default:"¥"},buttonType:{type:String,default:"danger"}};var c=a(u);e.default=c})),ap=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("swipe-cell"),i=n[0],r=n[1],o=.15,a=i({mixins:[qu.TouchMixin,(0,Pd.ClickOutsideMixin)({event:"touchstart",method:"onClick"})],props:{onClose:Function,disabled:Boolean,leftWidth:[Number,String],rightWidth:[Number,String],beforeClose:Function,stopPropagation:Boolean,name:{type:[Number,String],default:""}},data:function(){return{offset:0,dragging:!1}},computed:{computedLeftWidth:function(){return+this.leftWidth||this.getWidthByRef("left")},computedRightWidth:function(){return+this.rightWidth||this.getWidthByRef("right")}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{getWidthByRef:function(t){if(this.$refs[t]){var e=this.$refs[t].getBoundingClientRect();return e.width}return 0},open:function(t){var e="left"===t?this.computedLeftWidth:-this.computedRightWidth;this.opened=!0,this.offset=e,this.$emit("open",{position:t,name:this.name,detail:this.name})},close:function(t){this.offset=0,this.opened&&(this.opened=!1,this.$emit("close",{position:t,name:this.name}))},onTouchStart:function(t){this.disabled||(this.startOffset=this.offset,this.touchStart(t))},onTouchMove:function(t){if(!this.disabled&&(this.touchMove(t),"horizontal"===this.direction)){this.dragging=!0,this.lockClick=!0;var e=!this.opened||this.deltaX*this.startOffset<0;e&&(0,ou.preventDefault)(t,this.stopPropagation),this.offset=(0,gc.range)(this.deltaX+this.startOffset,-this.computedRightWidth,this.computedLeftWidth)}},onTouchEnd:function(){var t=this;this.disabled||this.dragging&&(this.toggle(this.offset>0?"left":"right"),this.dragging=!1,setTimeout((function(){t.lockClick=!1}),0))},toggle:function(t){var e=Math.abs(this.offset),n=this.opened?1-o:o,i=this.computedLeftWidth,r=this.computedRightWidth;r&&"right"===t&&e>r*n?this.open("right"):i&&"left"===t&&e>i*n?this.open("left"):this.close()},onClick:function(t){void 0===t&&(t="outside"),this.$emit("click",t),this.opened&&!this.lockClick&&(this.beforeClose?this.beforeClose({position:t,name:this.name,instance:this}):this.onClose?this.onClose(t,this,{name:this.name}):this.close(t))},getClickHandler:function(t,e){var n=this;return function(i){e&&i.stopPropagation(),n.onClick(t)}},genLeftPart:function(){var t=this.$createElement,e=this.slots("left");if(e)return t("div",{ref:"left",class:r("left"),on:{click:this.getClickHandler("left",!0)}},[e])},genRightPart:function(){var t=this.$createElement,e=this.slots("right");if(e)return t("div",{ref:"right",class:r("right"),on:{click:this.getClickHandler("right",!0)}},[e])}},render:function(){var t=arguments[0],e={transform:"translate3d("+this.offset+"px, 0, 0)",transitionDuration:this.dragging?"0s":".6s"};return t("div",{class:r(),on:{click:this.getClickHandler("cell")}},[t("div",{class:r("wrapper"),style:e},[this.genLeftPart(),this.slots(),this.genRightPart()])])}});e.default=a})),sp=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(Qs),r=Hs(Sc),o=Hs(ih),a=(0,Wl.createNamespace)("switch-cell"),s=a[0],l=a[1];function u(t,e,a,s){return t(r.default,(0,i.default)([{attrs:{center:!0,size:e.cellSize,title:e.title,border:e.border},class:l([e.cellSize])},(0,iu.inherit)(s)]),[t(o.default,{props:(0,n.default)({},e),on:(0,n.default)({},s.listeners)})])}u.props=(0,n.default)({},eh.switchProps,{title:String,cellSize:String,border:{type:Boolean,default:!0},size:{type:String,default:"24px"}});var c=s(u);e.default=c})),lp=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=(0,Wl.createNamespace)("tabbar"),i=n[0],r=n[1],o=i({mixins:[(0,Kc.ParentMixin)("vanTabbar")],props:{route:Boolean,zIndex:[Number,String],placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,value:{type:[Number,String],default:0},border:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:null}},data:function(){return{height:null}},computed:{fit:function(){return null!==this.safeAreaInsetBottom?this.safeAreaInsetBottom:this.fixed}},watch:{value:"setActiveItem",children:"setActiveItem"},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.tabbar.getBoundingClientRect().height)},methods:{setActiveItem:function(){var t=this;this.children.forEach((function(e,n){e.active=(e.name||n)===t.value}))},onChange:function(t){var e=this;t!==this.value&&(0,xd.callInterceptor)({interceptor:this.beforeChange,args:[t],done:function(){e.$emit("input",t),e.$emit("change",t)}})},genTabbar:function(){var t,e=this.$createElement;return e("div",{ref:"tabbar",style:{zIndex:this.zIndex},class:[(t={},t[lc.BORDER_TOP_BOTTOM]=this.border,t),r({unfit:!this.fit,fixed:this.fixed})]},[this.slots()])}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:r("placeholder"),style:{height:this.height+"px"}},[this.genTabbar()]):this.genTabbar()}});e.default=o})),up=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Us),i=Hs(tc),r=Hs(Ju),o=(0,Wl.createNamespace)("tabbar-item"),a=o[0],s=o[1],l=a({mixins:[(0,Kc.ChildrenMixin)("vanTabbar")],props:(0,n.default)({},xc.routeProps,{dot:Boolean,icon:String,name:[Number,String],info:[Number,String],badge:[Number,String],iconPrefix:String}),data:function(){return{active:!1}},computed:{routeActive:function(){var t=this.to,e=this.$route;if(t&&e){var n=(0,Wl.isObject)(t)?t:{path:t},i=n.path===e.path,r=(0,Wl.isDef)(n.name)&&n.name===e.name;return i||r}}},methods:{onClick:function(t){this.parent.onChange(this.name||this.index),this.$emit("click",t),(0,xc.route)(this.$router,this)},genIcon:function(t){var e=this.$createElement,n=this.slots("icon",{active:t});return n||(this.icon?e(i.default,{attrs:{name:this.icon,classPrefix:this.iconPrefix}}):void 0)}},render:function(){var t,e=arguments[0],n=this.parent.route?this.routeActive:this.active,i=this.parent[n?"activeColor":"inactiveColor"];return e("div",{class:s({active:n}),style:{color:i},on:{click:this.onClick}},[e("div",{class:s("icon")},[this.genIcon(n),e(r.default,{attrs:{dot:this.dot,info:null!=(t=this.badge)?t:this.info}})]),e("div",{class:s("text")},[this.slots("default",{active:n})])])}});e.default=l})),cp=v((function(t,e){e.__esModule=!0,e.default=void 0;var n=Hs(Qs),i=Hs(tc),r=Hs(mf),o=Hs(gf),a=(0,Wl.createNamespace)("tree-select"),s=a[0],l=a[1];function u(t,e,a,s){var u=e.items,c=e.height,h=e.activeId,d=e.selectedIcon,f=e.mainActiveIndex;var p=u[+f]||{},v=p.children||[],m=Array.isArray(h);function g(t){return m?-1!==h.indexOf(t):h===t}var y=u.map((function(e){var n;return t(o.default,{attrs:{dot:e.dot,info:null!=(n=e.badge)?n:e.info,title:e.text,disabled:e.disabled},class:[l("nav-item"),e.className]})}));function b(){return a.content?a.content():v.map((function(n){return t("div",{key:n.id,class:["van-ellipsis",l("item",{active:g(n.id),disabled:n.disabled})],on:{click:function(){if(!n.disabled){var t=n.id;if(m){t=h.slice();var i=t.indexOf(n.id);-1!==i?t.splice(i,1):t.length<e.max&&t.push(n.id)}(0,iu.emit)(s,"update:active-id",t),(0,iu.emit)(s,"click-item",n),(0,iu.emit)(s,"itemclick",n)}}}},[n.text,g(n.id)&&t(i.default,{attrs:{name:d},class:l("selected")})])}))}return t("div",(0,n.default)([{class:l(),style:{height:(0,Wl.addUnit)(c)}},(0,iu.inherit)(s)]),[t(r.default,{class:l("nav"),attrs:{activeKey:f},on:{change:function(t){(0,iu.emit)(s,"update:main-active-index",t),(0,iu.emit)(s,"click-nav",t),(0,iu.emit)(s,"navclick",t)}}},[y]),t("div",{class:l("content")},[b()])])}u.props={max:{type:[Number,String],default:1/0},items:{type:Array,default:function(){return[]}},height:{type:[Number,String],default:300},activeId:{type:[Number,String,Array],default:0},selectedIcon:{type:String,default:"success"},mainActiveIndex:{type:[Number,String],default:0}};var c=s(u);e.default=c})),hp=v((function(t,e){e.__esModule=!0,e.install=Dt,e.default=e.version=void 0;var n=Hs(ic);e.ActionSheet=n.default;var i=Hs(rh);e.AddressEdit=i.default;var r=Hs(ch);e.AddressList=r.default;var o=Hs(wc);e.Area=o.default;var a=Hs($c);e.Button=a.default;var s=Hs(Lh);e.Calendar=s.default;var l=Hs(Bh);e.Card=l.default;var u=Hs(Sc);e.Cell=u.default;var c=Hs(zh);e.CellGroup=c.default;var h=Hs($h);e.Checkbox=h.default;var d=Hs(Fh);e.CheckboxGroup=d.default;var f=Hs(qh);e.Circle=f.default;var p=Hs(Vh);e.Col=p.default;var v=Hs(Hh);e.Collapse=v.default;var m=Hs(Uh);e.CollapseItem=m.default;var g=Hs(Wh);e.ContactCard=g.default;var y=Hs(Yh);e.ContactEdit=y.default;var b=Hs(Gh);e.ContactList=b.default;var w=Hs(sd);e.CountDown=w.default;var x=Hs(ld);e.Coupon=x.default;var k=Hs(ud);e.CouponCell=k.default;var S=Hs(Cd);e.CouponList=S.default;var _=Hs(jd);e.DatetimePicker=_.default;var O=Hs(Jc);e.Dialog=O.default;var C=Hs(Nd);e.Divider=C.default;var E=Hs(Id);e.DropdownItem=E.default;var T=Hs(Md);e.DropdownMenu=T.default;var A=Hs(Ld);e.Empty=A.default;var j=Hs(Pc);e.Field=j.default;var N=Hs(Rd);e.Form=N.default;var I=Hs(Zc);e.GoodsAction=I.default;var P=Hs(Xc);e.GoodsActionButton=P.default;var M=Hs(Bd);e.GoodsActionIcon=M.default;var D=Hs(zd);e.Grid=D.default;var L=Hs($d);e.GridItem=L.default;var R=Hs(tc);e.Icon=R.default;var B=Hs(Rh);e.Image=B.default;var z=Hs(Wd);e.ImagePreview=z.default;var $=Hs(Yd);e.IndexAnchor=$.default;var F=Hs(Gd);e.IndexBar=F.default;var q=Hs(Ju);e.Info=q.default;var V=Hs(Zd);e.Lazyload=V.default;var H=Hs(Xd);e.List=H.default;var U=Hs(nc);e.Loading=U.default;var W=Hs(ul);e.Locale=W.default;var Y=Hs(Qd);e.NavBar=Y.default;var G=Hs(Jd);e.NoticeBar=G.default;var K=Hs(ef);e.Notify=K.default;var Z=Hs(af);e.NumberKeyboard=Z.default;var X=Hs(au);e.Overlay=X.default;var Q=Hs(sf);e.Pagination=Q.default;var J=Hs(lf);e.Panel=J.default;var tt=Hs(uf);e.PasswordInput=tt.default;var et=Hs(bc);e.Picker=et.default;var nt=Hs(ec);e.Popup=nt.default;var it=Hs(cf);e.Progress=it.default;var rt=Hs(hf);e.PullRefresh=rt.default;var ot=Hs(lh);e.Radio=ot.default;var at=Hs(oh);e.RadioGroup=at.default;var st=Hs(df);e.Rate=st.default;var lt=Hs(ff);e.Row=lt.default;var ut=Hs(pf);e.Search=ut.default;var ct=Hs(vf);e.ShareSheet=ct.default;var ht=Hs(mf);e.Sidebar=ht.default;var dt=Hs(gf);e.SidebarItem=dt.default;var ft=Hs(yf);e.Skeleton=ft.default;var pt=Hs(ep);e.Sku=pt.default;var vt=Hs(np);e.Slider=vt.default;var mt=Hs(ip);e.Step=mt.default;var gt=Hs(Ef);e.Stepper=gt.default;var yt=Hs(rp);e.Steps=yt.default;var bt=Hs(Sd);e.Sticky=bt.default;var wt=Hs(op);e.SubmitBar=wt.default;var xt=Hs(qd);e.Swipe=xt.default;var kt=Hs(ap);e.SwipeCell=kt.default;var St=Hs(Vd);e.SwipeItem=St.default;var _t=Hs(ih);e.Switch=_t.default;var Ot=Hs(sp);e.SwitchCell=Ot.default;var Ct=Hs(cd);e.Tab=Ct.default;var Et=Hs(lp);e.Tabbar=Et.default;var Tt=Hs(up);e.TabbarItem=Tt.default;var At=Hs(Od);e.Tabs=At.default;var jt=Hs(ah);e.Tag=jt.default;var Nt=Hs(zc);e.Toast=Nt.default;var It=Hs(cp);e.TreeSelect=It.default;var Pt=Hs(Hf);e.Uploader=Pt.default;var Mt="2.10.14";function Dt(t){var e=[n.default,i.default,r.default,o.default,a.default,s.default,l.default,u.default,c.default,h.default,d.default,f.default,p.default,v.default,m.default,g.default,y.default,b.default,w.default,x.default,k.default,S.default,_.default,O.default,C.default,E.default,T.default,A.default,j.default,N.default,I.default,P.default,M.default,D.default,L.default,R.default,B.default,z.default,$.default,F.default,q.default,H.default,U.default,W.default,Y.default,G.default,K.default,Z.default,X.default,Q.default,J.default,tt.default,et.default,nt.default,it.default,rt.default,ot.default,at.default,st.default,lt.default,ut.default,ct.default,ht.default,dt.default,ft.default,pt.default,vt.default,mt.default,gt.default,yt.default,bt.default,wt.default,xt.default,kt.default,St.default,_t.default,Ot.default,Ct.default,Et.default,Tt.default,At.default,jt.default,Nt.default,It.default,Pt.default];e.forEach((function(e){e.install?t.use(e):e.name&&t.component(e.name,e)}))}e.version=Mt,"undefined"!==typeof window&&window.Vue&&Dt(window.Vue);var Lt={install:Dt,version:Mt};e.default=Lt}));function dp(){var t=[{image:"https://img.yzcdn.cn/vant/apple-1.jpg"},{image:"https://img.yzcdn.cn/vant/apple-2.jpg"}];return t}xa.number({defaultValue:4e3,label:"间隔时间"}),xa.string({defaultValue:"preview",label:"模式"}),xa.boolean({defaultValue:!0,label:"disabled"}),xa.boolean({defaultValue:!0,label:"自动播放"}),xa.string({label:"音乐URL",defaultValue:"http://go.163.com/2018/0209/mengniu/audio/bgm.mp3",props:{type:"textarea"}}),xa.string({defaultValue:"请填写内容，如果过长，将会在手机上滚动显示",label:"公告",props:{type:"textarea"}}),xa.boolean(),xa.color({label:"背景色",defaultValue:"#fffbe8"}),xa.color({defaultValue:"#ed6a0c"}),xa.number({defaultValue:5,label:"当前分值"}),xa.number({defaultValue:5,label:"图标总数"}),xa.number({defaultValue:16,label:"图标大小"}),xa.number({defaultValue:16,label:"图标间距"});var fp=function(t){return function(e,n,i,r){re(n);var o=ae(e),a=q(o),s=Pt(o.length),l=t?s-1:0,u=t?-1:1;if(i<2)while(1){if(l in a){r=a[l],l+=u;break}if(l+=u,t?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:s>l;l+=u)l in a&&(r=n(r,a[l],l,o));return r}},pp={left:fp(!1),right:fp(!0)},vp="process"==$(g.process),mp=pp.left,gp=be("reduce"),yp=Se("reduce",{1:0}),bp=!vp&&Ye>79&&Ye<83;ie({target:"Array",proto:!0,forced:!gp||!yp||bp},{reduce:function(t){return mp(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var wp=Ke("slice"),xp=Se("slice",{ACCESSORS:!0,0:0,1:2}),kp=fe("species"),Sp=[].slice,_p=Math.max;ie({target:"Array",proto:!0,forced:!wp||!xp},{slice:function(t,e){var n,i,r,o=H(this),a=Pt(o.length),s=Lt(t,a),l=Lt(void 0===e?a:e,a);if(se(o)&&(n=o.constructor,"function"!=typeof n||n!==Array&&!se(n.prototype)?y(n)&&(n=n[kp],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return Sp.call(o,s,l);for(i=new(void 0===n?Array:n)(_p(l-s,0)),r=0;s<l;s++,r++)s in o&&qe(i,r,o[s]);return i.length=r,i}});var Op=v((function(t,e){!function(t,n){n(e)}(0,(function(t){var e=null,n=null;function i(t,e){void 0===e&&(e={});var n=document.createElement(t);return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function r(t,e,n){return(window.getComputedStyle(t,n||null)||{display:"none"})[e]}function o(t){if(!document.documentElement.contains(t))return{detached:!0,rendered:!1};for(var e=t;e!==document;){if("none"===r(e,"display"))return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var a=0,s=null;function l(){var t=o(this),e=t.rendered,n=t.detached;e!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(h(this),this.addEventListener("scroll",u,!0)),this.__resize_rendered__=e,c(this))}function u(){var t,i,r=this;h(this),this.__resize_raf__&&(t=this.__resize_raf__,n||(n=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),n(t)),this.__resize_raf__=(i=function(){var t,e,n,i,o,a,s=(e=(t=r).__resize_last__,n=e.width,i=e.height,o=t.offsetWidth,a=t.offsetHeight,o!==n||a!==i?{width:o,height:a}:null);s&&(r.__resize_last__=s,c(r))},e||(e=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),e(i))}function c(t){t&&t.__resize_listeners__&&t.__resize_listeners__.forEach((function(e){e.call(t,t)}))}function h(t){var e=t.__resize_triggers__,n=e.expand,i=e.expandChild,r=e.contract,o=r.scrollWidth,a=r.scrollHeight,s=n.offsetWidth,l=n.offsetHeight,u=n.scrollWidth,c=n.scrollHeight;r.scrollLeft=o,r.scrollTop=a,i.style.width=s+1+"px",i.style.height=l+1+"px",n.scrollLeft=u,n.scrollTop=c}t.addListener=function(t,e){if(t.__resize_mutation_handler__||(t.__resize_mutation_handler__=l.bind(t)),!t.__resize_listeners__)if(t.__resize_listeners__=[],window.ResizeObserver){var n=t.offsetWidth,d=t.offsetHeight,f=new ResizeObserver((function(){(t.__resize_observer_triggered__||(t.__resize_observer_triggered__=!0,t.offsetWidth!==n||t.offsetHeight!==d))&&c(t)})),p=o(t),v=p.detached,m=p.rendered;t.__resize_observer_triggered__=!1===v&&!1===m,t.__resize_observer__=f,f.observe(t)}else if(t.attachEvent&&t.addEventListener)t.__resize_legacy_resize_handler__=function(){c(t)},t.attachEvent("onresize",t.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);else if(a||(s=function(t){var e=document.createElement("style");return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.querySelector("head")||document.body).appendChild(e),e}('.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}')),function(t){var e=r(t,"position");e&&"static"!==e||(t.style.position="relative"),t.__resize_old_position__=e,t.__resize_last__={};var n=i("div",{className:"resize-triggers"}),o=i("div",{className:"resize-expand-trigger"}),a=i("div"),s=i("div",{className:"resize-contract-trigger"});o.appendChild(a),n.appendChild(o),n.appendChild(s),t.appendChild(n),t.__resize_triggers__={triggers:n,expand:o,expandChild:a,contract:s},h(t),t.addEventListener("scroll",u,!0),t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}(t),t.__resize_rendered__=o(t).rendered,window.MutationObserver){var g=new MutationObserver(t.__resize_mutation_handler__);g.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t.__resize_mutation_observer__=g}t.__resize_listeners__.push(e),a++},t.removeListener=function(t,e){var n=t.__resize_listeners__;if(n){if(e&&n.splice(n.indexOf(e),1),!n.length||!e){if(t.detachEvent&&t.removeEventListener)return t.detachEvent("onresize",t.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);t.__resize_observer__?(t.__resize_observer__.unobserve(t),t.__resize_observer__.disconnect(),t.__resize_observer__=null):(t.__resize_mutation_observer__&&(t.__resize_mutation_observer__.disconnect(),t.__resize_mutation_observer__=null),t.removeEventListener("scroll",u),t.removeChild(t.__resize_triggers__.triggers),t.__resize_triggers__=null),t.__resize_listeners__=null}!--a&&s&&s.parentNode.removeChild(s)}},Object.defineProperty(t,"__esModule",{value:!0})}))}));function Cp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.map((function(t){return t[e]})).reduce((function(t,e){return t+e}),0)}xa.string({defaultValue:"",label:"主题",visible:!1}),xa.number({label:"每列宽度(px)",defaultValue:100}),xa.number({label:"冻结列数(px)",defaultValue:0}),xa.excel({defaultValue:function(){return[["列A","列B","列C"],["————","————","————"],["————","————","————"],["————","————","————"]]}});var Ep=R.f,Tp=function(t){return function(e){var n,i=H(e),r=ln(i),o=r.length,a=0,s=[];while(o>a)n=r[a++],f&&!Ep.call(i,n)||s.push(t?[n,i[n]]:i[n]);return s}},Ap={entries:Tp(!0),values:Tp(!1)},jp=Ap.values;ie({target:"Object",stat:!0},{values:function(t){return jp(t)}});var Np="​᠎",Ip=function(t){return d((function(){return!!ta[t]()||Np[t]()!=Np||ta[t].name!==t}))},Pp=oa.trim;ie({target:"String",proto:!0,forced:Ip("trim")},{trim:function(){return Pp(this)}});var Mp,Dp,Lp,Rp=v((function(t){function e(n){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e})),Bp=function(){function t(){Pe(this,t)}return Be(t,null,[{key:"dataset2excel",value:function(t){return t.map((function(t){return{cells:{0:{text:t.x},1:{text:t.y},2:{text:t.s}}}}))}},{key:"binaryMatrix2excel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.map((function(t,e){var n={};return t.forEach((function(t,e){n[e]={text:t}})),{cells:n}}));return e}},{key:"excel2chartDataSet",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Rp(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text})),n=ao(e,3),i=n[0],r=n[1],o=n[2];return{x:i,y:r,s:o}}));return n}},{key:"excel2BinaryMatrix",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Rp(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text}));return e}));return n}},{key:"csv2VChartJson",value:function(t){var e=t[0],n=t.slice(1),i={columns:e,rows:n.map((function(t,n){var i={};return e.forEach((function(e,n){i[e.trim()]=t[n]})),i}))};return i}}]),t}(),zp=(xa.excel({defaultValue:function(){return[["新闻标题","摘要","链接","日期","来源"],["1 . 鲁班H5 可视化搭建平台！","鲁班H5-是一款基于常见业务组件，通过拖拽的形式，生成页面的可视化搭建系统；我们的初心也是希望能通过工程化的手段，提高简单H5页面的制作效率","https://luban-h5.com/","2020-01-01","鲁班H5"],["2 . 鲁班H5-开源的可视化搭建平台！","en: web design tool || mobile page builder/editor || mini webflow for mobile page. zh: 类似易企秀的H5制作、建站工具、可视化搭建系统.","https://github.com/ly525/luban-h5","2020-01-01","鲁班H5(github)"]]}}),g.Promise),$p=fe("species"),Fp=function(t,e){var n,i=S(t).constructor;return void 0===i||void 0==(n=S(i)[$p])?e:re(n)},qp=/(iphone|ipod|ipad).*applewebkit/i.test(Ve),Vp=g.location,Hp=g.setImmediate,Up=g.clearImmediate,Wp=g.process,Yp=g.MessageChannel,Gp=g.Dispatch,Kp=0,Zp={},Xp="onreadystatechange",Qp=function(t){if(Zp.hasOwnProperty(t)){var e=Zp[t];delete Zp[t],e()}},Jp=function(t){return function(){Qp(t)}},tv=function(t){Qp(t.data)},ev=function(t){g.postMessage(t+"",Vp.protocol+"//"+Vp.host)};Hp&&Up||(Hp=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return Zp[++Kp]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Mp(Kp),Kp},Up=function(t){delete Zp[t]},vp?Mp=function(t){Wp.nextTick(Jp(t))}:Gp&&Gp.now?Mp=function(t){Gp.now(Jp(t))}:Yp&&!qp?(Dp=new Yp,Lp=Dp.port2,Dp.port1.onmessage=tv,Mp=oe(Lp.postMessage,Lp,1)):g.addEventListener&&"function"==typeof postMessage&&!g.importScripts&&Vp&&"file:"!==Vp.protocol&&!d(ev)?(Mp=ev,g.addEventListener("message",tv,!1)):Mp=Xp in x("script")?function(t){cn.appendChild(x("script"))[Xp]=function(){cn.removeChild(this),Qp(t)}}:function(t){setTimeout(Jp(t),0)});var nv,iv,rv,ov,av,sv,lv,uv,cv={set:Hp,clear:Up},hv=K.f,dv=cv.set,fv=g.MutationObserver||g.WebKitMutationObserver,pv=g.document,vv=g.process,mv=g.Promise,gv=hv(g,"queueMicrotask"),yv=gv&&gv.value;yv||(nv=function(){var t,e;vp&&(t=vv.domain)&&t.exit();while(iv){e=iv.fn,iv=iv.next;try{e()}catch(VI){throw iv?ov():rv=void 0,VI}}rv=void 0,t&&t.enter()},!qp&&!vp&&fv&&pv?(av=!0,sv=pv.createTextNode(""),new fv(nv).observe(sv,{characterData:!0}),ov=function(){sv.data=av=!av}):mv&&mv.resolve?(lv=mv.resolve(void 0),uv=lv.then,ov=function(){uv.call(lv,nv)}):ov=vp?function(){vv.nextTick(nv)}:function(){dv.call(g,nv)});var bv,wv,xv,kv,Sv=yv||function(t){var e={fn:t,next:void 0};rv&&(rv.next=e),iv||(iv=e,ov()),rv=e},_v=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=re(e),this.reject=re(n)},Ov=function(t){return new _v(t)},Cv={f:Ov},Ev=function(t,e){if(S(t),y(e)&&e.constructor===t)return e;var n=Cv.f(t),i=n.resolve;return i(e),n.promise},Tv=function(t,e){var n=g.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))},Av=function(t){try{return{error:!1,value:t()}}catch(VI){return{error:!0,value:VI}}},jv=cv.set,Nv=fe("species"),Iv="Promise",Pv=_t.get,Mv=_t.set,Dv=_t.getterFor(Iv),Lv=zp,Rv=g.TypeError,Bv=g.document,zv=g.process,$v=Tt("fetch"),Fv=Cv.f,qv=Fv,Vv=!!(Bv&&Bv.createEvent&&g.dispatchEvent),Hv="function"==typeof PromiseRejectionEvent,Uv="unhandledrejection",Wv="rejectionhandled",Yv=0,Gv=1,Kv=2,Zv=1,Xv=2,Qv=ee(Iv,(function(){var t=ot(Lv)!==String(Lv);if(!t){if(66===Ye)return!0;if(!vp&&!Hv)return!0}if(lt&&!Lv.prototype["finally"])return!0;if(Ye>=51&&/native code/.test(Lv))return!1;var e=Lv.resolve(1),n=function(t){t((function(){}),(function(){}))},i=e.constructor={};return i[Nv]=n,!(e.then((function(){}))instanceof n)})),Jv=Qv||!wr((function(t){Lv.all(t)["catch"]((function(){}))})),tm=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},em=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Sv((function(){var i=t.value,r=t.state==Gv,o=0;while(n.length>o){var a,s,l,u=n[o++],c=r?u.ok:u.fail,h=u.resolve,d=u.reject,f=u.domain;try{c?(r||(t.rejection===Xv&&om(t),t.rejection=Zv),!0===c?a=i:(f&&f.enter(),a=c(i),f&&(f.exit(),l=!0)),a===u.promise?d(Rv("Promise-chain cycle")):(s=tm(a))?s.call(a,h,d):h(a)):d(i)}catch(VI){f&&!l&&f.exit(),d(VI)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&im(t)}))}},nm=function(t,e,n){var i,r;Vv?(i=Bv.createEvent("Event"),i.promise=e,i.reason=n,i.initEvent(t,!1,!0),g.dispatchEvent(i)):i={promise:e,reason:n},!Hv&&(r=g["on"+t])?r(i):t===Uv&&Tv("Unhandled promise rejection",n)},im=function(t){jv.call(g,(function(){var e,n=t.facade,i=t.value,r=rm(t);if(r&&(e=Av((function(){vp?zv.emit("unhandledRejection",i,n):nm(Uv,n,i)})),t.rejection=vp||rm(t)?Xv:Zv,e.error))throw e.value}))},rm=function(t){return t.rejection!==Zv&&!t.parent},om=function(t){jv.call(g,(function(){var e=t.facade;vp?zv.emit("rejectionHandled",e):nm(Wv,e,t.value)}))},am=function(t,e,n){return function(i){t(e,i,n)}},sm=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=Kv,em(t,!0))},lm=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Rv("Promise can't be resolved itself");var i=tm(e);i?Sv((function(){var n={done:!1};try{i.call(e,am(lm,n,t),am(sm,n,t))}catch(VI){sm(n,VI,t)}})):(t.value=e,t.state=Gv,em(t,!1))}catch(VI){sm({done:!1},VI,t)}}};Qv&&(Lv=function(t){vr(this,Lv,Iv),re(t),bv.call(this);var e=Pv(this);try{t(am(lm,e),am(sm,e))}catch(VI){sm(e,VI)}},bv=function(t){Mv(this,{type:Iv,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Yv,value:void 0})},bv.prototype=kr(Lv.prototype,{then:function(t,e){var n=Dv(this),i=Fv(Fp(this,Lv));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=vp?zv.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=Yv&&em(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),wv=function(){var t=new bv,e=Pv(t);this.promise=t,this.resolve=am(lm,e),this.reject=am(sm,e)},Cv.f=Fv=function(t){return t===Lv||t===xv?new wv(t):qv(t)},lt||"function"!=typeof zp||(kv=zp.prototype.then,Ot(zp.prototype,"then",(function(t,e){var n=this;return new Lv((function(t,e){kv.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof $v&&ie({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Ev(Lv,$v.apply(g,arguments))}}))),ie({global:!0,wrap:!0,forced:Qv},{Promise:Lv}),Vn(Lv,Iv,!1,!0),ji(Iv),xv=Tt(Iv),ie({target:Iv,stat:!0,forced:Qv},{reject:function(t){var e=Fv(this);return e.reject.call(void 0,t),e.promise}}),ie({target:Iv,stat:!0,forced:lt||Qv},{resolve:function(t){return Ev(lt&&this===xv?Lv:this,t)}}),ie({target:Iv,stat:!0,forced:Jv},{all:function(t){var e=this,n=Fv(e),i=n.resolve,r=n.reject,o=Av((function(){var n=re(e.resolve),o=[],a=0,s=1;pr(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[l]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=Fv(e),i=n.reject,r=Av((function(){var r=re(e.resolve);pr(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var um={app:{title:"Luban H5"},header:{chineseDocument:"中文文档",englishDocument:"Document(En)",chat:"Discussion Group",logout:"Logout"},sidebar:{myWorks:"My Works",dataCenter:"Data Center",basicData:"Basic Data",templateCenter:"Templates",freeTemplates:"Templates List",accountCenter:"Account"},workCard:{description:"Desc",createTime:"Time",useNow:"Use it Now",preview:"Preview",edit:"Edit",createNewWork:"Create New",view:"View Work"},basicData:{viewData:"View Data"},editor:{sidebar:{components:"Components",pages:"Pages",templates:"Templates",tree:"Tree"},pageManager:{title:"Page {index}",action:{add:"Add Page",copy:"Copy Page",delete:"Delete Page"}},header:{preview:"Preview",save:"Save",publish:"Publish",setAsTemplate:"Set As Template"},centerPanel:{mode:{edit:"Edit",preview:"Preview"},contextMenu:{copy:"Copy",delete:"Delete",moveToTop:"Move To Top",moveToBottom:"Move To Bottom",moveUp:"Move Up",moveDown:"Move Down",showOnlyButton:"showOnlyButton",showExcludePicture:"showExcludePicture"}},fixedTool:{undo:"Undo{hotkey}",redo:"Redo{hotkey}",preview:"Preview",copyCurrentPage:"CopyCurrentPage",copyCurrentElement:"copyCurrentElement",importPSD:"Import PSD",zoomIn:"Zoom In{hotkey}",zoomOut:"Zoom Out{hotkey}",issues:"Issues"},editPanel:{tab:{prop:"Prop",animation:"Animation",action:"Action",script:"Script",page:"Page"},animation:{add:"Add",run:"Run",type:"Type",duration:"Duration",delay:"Delay",iteration:"Iteration",inifinite:"Inifinite",list:"Select Animation",title:"Animation {index}"},common:{empty:"Select an element first please!"}},tip:{componentUsage:"Tip: just {0} on component",click:"click/drag"}}},cm={app:{title:"鲁班 H5"},header:{chineseDocument:"中文文档",englishDocument:"英文文档",chat:"交流群",logout:"退出登录"},sidebar:{myWorks:"我的作品",dataCenter:"数据中心",basicData:"基础数据",templateCenter:"模板中心",freeTemplates:"模板列表",accountCenter:"账号中心"},workCard:{description:"描述",createTime:"时间",useNow:"立即查看",preview:"预览",createNewWork:"创建新作品",edit:"编辑",view:"查看作品"},basicData:{viewData:"查看数据"},editor:{sidebar:{components:"组件列表",pages:"页面管理",templates:"模板",tree:"组件树"},pageManager:{title:"第{index}页面",action:{add:"新增页面",copy:"复制页面",delete:"删除页面"}},header:{preview:"预览",save:"保存",publish:"发布",setAsTemplate:"设置为模板"},centerPanel:{mode:{edit:"Edit",preview:"Preview"},contextMenu:{copy:"复制",delete:"删除",moveToTop:"置顶",moveToBottom:"置底",moveUp:"上移",moveDown:"下移",showOnlyButton:"只有按钮才显示该选项",showExcludePicture:"除了图片都显示该选项"}},fixedTool:{undo:"撤销{hotkey}",redo:"重做{hotkey}",preview:"预览",copyCurrentPage:"复制当前页面",copyCurrentElement:"复制当前元素",importPSD:"导入PSD",zoomIn:"缩小{hotkey}",zoomOut:"放大{hotkey}",issues:"常见问题"},editPanel:{tab:{prop:"属性",animation:"动画",action:"动作",script:"脚本",page:"页面"},animation:{add:"添加动画",run:"运行动画",type:"动画类型",duration:"动画时长",delay:"动画延时",iteration:"运行次数",inifinite:"循环播放",list:"选择动画",title:"Animation {index}"},common:{empty:"Select an element first please!"}},tip:{componentUsage:"使用提示: {0} 组件即可",click:"点击或拖拽"}}};function hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hm(Object(n),!0).forEach((function(e){Jo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}u["default"].use(c["default"]);var fm={"en-US":dm({},um),"zh-CN":dm({},cm)},pm="zh-CN",vm=new c["default"]({locale:pm,fallbackLocale:pm,messages:fm});function mm(t){if("object"!==Rp(t)||null===t)return t;var e=a.Seq(t).map(mm);return Array.isArray(t)?e.toList():e.toMap()}var gm=function(){function t(){Pe(this,t),Jo(this,"state",void 0),Jo(this,"history",[]),Jo(this,"currentIndex",0)}return Be(t,[{key:"init",value:function(t){this.history=[mm(t)]}},{key:"addState",value:function(t){var e=this.history,n=this.currentIndex,i=e[n]||{},r=n+1;r<e.length&&e.splice(r),this.currentIndex=r,e[r]=i.merge(mm(t))}},{key:"undo",value:function(){var t=this.currentIndex,e=Math.max(t-1,0),n=this.history[e].toJS();return this.currentIndex=e,n}},{key:"redo",value:function(){var t=this.history,e=this.currentIndex,n=Math.min(t.length-1,e+1),i=this.history[n].toJS();return this.currentIndex=n,i}}]),t}(),ym=new gm,bm={rightPanelWidth:375},wm=E.f,xm=g.Symbol;if(f&&"function"==typeof xm&&(!("description"in xm.prototype)||void 0!==xm().description)){var km={},Sm=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Sm?new xm(t):void 0===t?xm():xm(t);return""===t&&(km[e]=!0),e};Gt(Sm,xm);var _m=Sm.prototype=xm.prototype;_m.constructor=Sm;var Om=_m.toString,Cm="Symbol(test)"==String(xm("test")),Em=/^Symbol\((.*)\)[^)]+$/;wm(_m,"description",{configurable:!0,get:function(){var t=y(this)?this.valueOf():this,e=Om.call(t);if(W(km,t))return"";var n=Cm?e.slice(7,-1):e.replace(Em,"$1");return""===n?void 0:n}}),ie({global:!0,forced:!0},{Symbol:Sm})}var Tm=Ap.entries;ie({target:"Object",stat:!0},{entries:function(t){return Tm(t)}});ie({target:"Object",stat:!0},{fromEntries:function(t){var e={};return pr(t,(function(t,n){qe(e,t,n)}),{AS_ENTRIES:!0}),e}});function Am(){this.__data__=[],this.size=0}var jm=Am;function Nm(t,e){return t===e||t!==t&&e!==e}var Im=Nm;function Pm(t,e){var n=t.length;while(n--)if(Im(t[n][0],e))return n;return-1}var Mm=Pm,Dm=Array.prototype,Lm=Dm.splice;function Rm(t){var e=this.__data__,n=Mm(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Lm.call(e,n,1),--this.size,!0}var Bm=Rm;function zm(t){var e=this.__data__,n=Mm(e,t);return n<0?void 0:e[n][1]}var $m=zm;function Fm(t){return Mm(this.__data__,t)>-1}var qm=Fm;function Vm(t,e){var n=this.__data__,i=Mm(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var Hm=Vm;function Um(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}Um.prototype.clear=jm,Um.prototype["delete"]=Bm,Um.prototype.get=$m,Um.prototype.has=qm,Um.prototype.set=Hm;var Wm=Um;function Ym(){this.__data__=new Wm,this.size=0}var Gm=Ym;function Km(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}var Zm=Km;function Xm(t){return this.__data__.get(t)}var Qm=Xm;function Jm(t){return this.__data__.has(t)}var tg=Jm,eg="[object AsyncFunction]",ng="[object Function]",ig="[object GeneratorFunction]",rg="[object Proxy]";function og(t){if(!lo(t))return!1;var e=Po(t);return e==ng||e==ig||e==eg||e==rg}var ag=og,sg=po["__core-js_shared__"],lg=sg,ug=function(){var t=/[^.]+$/.exec(lg&&lg.keys&&lg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cg(t){return!!ug&&ug in t}var hg=cg,dg=Function.prototype,fg=dg.toString;function pg(t){if(null!=t){try{return fg.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var vg=pg,mg=/[\\^$.*+?()[\]{}|]/g,gg=/^\[object .+?Constructor\]$/,yg=Function.prototype,bg=Object.prototype,wg=yg.toString,xg=bg.hasOwnProperty,kg=RegExp("^"+wg.call(xg).replace(mg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sg(t){if(!lo(t)||hg(t))return!1;var e=ag(t)?kg:gg;return e.test(vg(t))}var _g=Sg;function Og(t,e){return null==t?void 0:t[e]}var Cg=Og;function Eg(t,e){var n=Cg(t,e);return _g(n)?n:void 0}var Tg=Eg,Ag=Tg(po,"Map"),jg=Ag,Ng=Tg(Object,"create"),Ig=Ng;function Pg(){this.__data__=Ig?Ig(null):{},this.size=0}var Mg=Pg;function Dg(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Lg=Dg,Rg="__lodash_hash_undefined__",Bg=Object.prototype,zg=Bg.hasOwnProperty;function $g(t){var e=this.__data__;if(Ig){var n=e[t];return n===Rg?void 0:n}return zg.call(e,t)?e[t]:void 0}var Fg=$g,qg=Object.prototype,Vg=qg.hasOwnProperty;function Hg(t){var e=this.__data__;return Ig?void 0!==e[t]:Vg.call(e,t)}var Ug=Hg,Wg="__lodash_hash_undefined__";function Yg(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ig&&void 0===e?Wg:e,this}var Gg=Yg;function Kg(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}Kg.prototype.clear=Mg,Kg.prototype["delete"]=Lg,Kg.prototype.get=Fg,Kg.prototype.has=Ug,Kg.prototype.set=Gg;var Zg=Kg;function Xg(){this.size=0,this.__data__={hash:new Zg,map:new(jg||Wm),string:new Zg}}var Qg=Xg;function Jg(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var ty=Jg;function ey(t,e){var n=t.__data__;return ty(e)?n["string"==typeof e?"string":"hash"]:n.map}var ny=ey;function iy(t){var e=ny(this,t)["delete"](t);return this.size-=e?1:0,e}var ry=iy;function oy(t){return ny(this,t).get(t)}var ay=oy;function sy(t){return ny(this,t).has(t)}var ly=sy;function uy(t,e){var n=ny(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var cy=uy;function hy(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}hy.prototype.clear=Qg,hy.prototype["delete"]=ry,hy.prototype.get=ay,hy.prototype.has=ly,hy.prototype.set=cy;var dy=hy,fy=200;function py(t,e){var n=this.__data__;if(n instanceof Wm){var i=n.__data__;if(!jg||i.length<fy-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new dy(i)}return n.set(t,e),this.size=n.size,this}var vy=py;function my(t){var e=this.__data__=new Wm(t);this.size=e.size}my.prototype.clear=Gm,my.prototype["delete"]=Zm,my.prototype.get=Qm,my.prototype.has=tg,my.prototype.set=vy;var gy=my;function yy(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!1===e(t[n],n,t))break;return t}var by=yy,wy=function(){try{var t=Tg(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),xy=wy;function ky(t,e,n){"__proto__"==e&&xy?xy(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Sy=ky,_y=Object.prototype,Oy=_y.hasOwnProperty;function Cy(t,e,n){var i=t[e];Oy.call(t,e)&&Im(i,n)&&(void 0!==n||e in t)||Sy(t,e,n)}var Ey=Cy;function Ty(t,e,n,i){var r=!n;n||(n={});var o=-1,a=e.length;while(++o<a){var s=e[o],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?Sy(n,s,l):Ey(n,s,l)}return n}var Ay=Ty;function jy(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}var Ny=jy,Iy="[object Arguments]";function Py(t){return Do(t)&&Po(t)==Iy}var My=Py,Dy=Object.prototype,Ly=Dy.hasOwnProperty,Ry=Dy.propertyIsEnumerable,By=My(function(){return arguments}())?My:function(t){return Do(t)&&Ly.call(t,"callee")&&!Ry.call(t,"callee")},zy=By,$y=Array.isArray,Fy=$y;function qy(){return!1}var Vy=qy,Hy=v((function(t,e){var n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,r=i&&i.exports===n,o=r?po.Buffer:void 0,a=o?o.isBuffer:void 0,s=a||Vy;t.exports=s})),Uy=9007199254740991,Wy=/^(?:0|[1-9]\d*)$/;function Yy(t,e){var n=typeof t;return e=null==e?Uy:e,!!e&&("number"==n||"symbol"!=n&&Wy.test(t))&&t>-1&&t%1==0&&t<e}var Gy=Yy,Ky=9007199254740991;function Zy(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ky}var Xy=Zy,Qy="[object Arguments]",Jy="[object Array]",tb="[object Boolean]",eb="[object Date]",nb="[object Error]",ib="[object Function]",rb="[object Map]",ob="[object Number]",ab="[object Object]",sb="[object RegExp]",lb="[object Set]",ub="[object String]",cb="[object WeakMap]",hb="[object ArrayBuffer]",db="[object DataView]",fb="[object Float32Array]",pb="[object Float64Array]",vb="[object Int8Array]",mb="[object Int16Array]",gb="[object Int32Array]",yb="[object Uint8Array]",bb="[object Uint8ClampedArray]",wb="[object Uint16Array]",xb="[object Uint32Array]",kb={};function Sb(t){return Do(t)&&Xy(t.length)&&!!kb[Po(t)]}kb[fb]=kb[pb]=kb[vb]=kb[mb]=kb[gb]=kb[yb]=kb[bb]=kb[wb]=kb[xb]=!0,kb[Qy]=kb[Jy]=kb[hb]=kb[tb]=kb[db]=kb[eb]=kb[nb]=kb[ib]=kb[rb]=kb[ob]=kb[ab]=kb[sb]=kb[lb]=kb[ub]=kb[cb]=!1;var _b=Sb;function Ob(t){return function(e){return t(e)}}var Cb=Ob,Eb=v((function(t,e){var n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,r=i&&i.exports===n,o=r&&co.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=a})),Tb=Eb&&Eb.isTypedArray,Ab=Tb?Cb(Tb):_b,jb=Ab,Nb=Object.prototype,Ib=Nb.hasOwnProperty;function Pb(t,e){var n=Fy(t),i=!n&&zy(t),r=!n&&!i&&Hy(t),o=!n&&!i&&!r&&jb(t),a=n||i||r||o,s=a?Ny(t.length,String):[],l=s.length;for(var u in t)!e&&!Ib.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Gy(u,l))||s.push(u);return s}var Mb=Pb,Db=Object.prototype;function Lb(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Db;return t===n}var Rb=Lb;function Bb(t,e){return function(n){return t(e(n))}}var zb=Bb,$b=zb(Object.keys,Object),Fb=$b,qb=Object.prototype,Vb=qb.hasOwnProperty;function Hb(t){if(!Rb(t))return Fb(t);var e=[];for(var n in Object(t))Vb.call(t,n)&&"constructor"!=n&&e.push(n);return e}var Ub=Hb;function Wb(t){return null!=t&&Xy(t.length)&&!ag(t)}var Yb=Wb;function Gb(t){return Yb(t)?Mb(t):Ub(t)}var Kb=Gb;function Zb(t,e){return t&&Ay(e,Kb(e),t)}var Xb=Zb;function Qb(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var Jb=Qb,tw=Object.prototype,ew=tw.hasOwnProperty;function nw(t){if(!lo(t))return Jb(t);var e=Rb(t),n=[];for(var i in t)("constructor"!=i||!e&&ew.call(t,i))&&n.push(i);return n}var iw=nw;function rw(t){return Yb(t)?Mb(t,!0):iw(t)}var ow=rw;function aw(t,e){return t&&Ay(e,ow(e),t)}var sw=aw,lw=v((function(t,e){var n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,r=i&&i.exports===n,o=r?po.Buffer:void 0,a=o?o.allocUnsafe:void 0;function s(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}t.exports=s}));function uw(t,e){var n=-1,i=t.length;e||(e=Array(i));while(++n<i)e[n]=t[n];return e}var cw=uw;function hw(t,e){var n=-1,i=null==t?0:t.length,r=0,o=[];while(++n<i){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}var dw=hw;function fw(){return[]}var pw=fw,vw=Object.prototype,mw=vw.propertyIsEnumerable,gw=Object.getOwnPropertySymbols,yw=gw?function(t){return null==t?[]:(t=Object(t),dw(gw(t),(function(e){return mw.call(t,e)})))}:pw,bw=yw;function ww(t,e){return Ay(t,bw(t),e)}var xw=ww;function kw(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}var Sw=kw,_w=zb(Object.getPrototypeOf,Object),Ow=_w,Cw=Object.getOwnPropertySymbols,Ew=Cw?function(t){var e=[];while(t)Sw(e,bw(t)),t=Ow(t);return e}:pw,Tw=Ew;function Aw(t,e){return Ay(t,Tw(t),e)}var jw=Aw;function Nw(t,e,n){var i=e(t);return Fy(t)?i:Sw(i,n(t))}var Iw=Nw;function Pw(t){return Iw(t,Kb,bw)}var Mw=Pw;function Dw(t){return Iw(t,ow,Tw)}var Lw=Dw,Rw=Tg(po,"DataView"),Bw=Rw,zw=Tg(po,"Promise"),$w=zw,Fw=Tg(po,"Set"),qw=Fw,Vw=Tg(po,"WeakMap"),Hw=Vw,Uw="[object Map]",Ww="[object Object]",Yw="[object Promise]",Gw="[object Set]",Kw="[object WeakMap]",Zw="[object DataView]",Xw=vg(Bw),Qw=vg(jg),Jw=vg($w),tx=vg(qw),ex=vg(Hw),nx=Po;(Bw&&nx(new Bw(new ArrayBuffer(1)))!=Zw||jg&&nx(new jg)!=Uw||$w&&nx($w.resolve())!=Yw||qw&&nx(new qw)!=Gw||Hw&&nx(new Hw)!=Kw)&&(nx=function(t){var e=Po(t),n=e==Ww?t.constructor:void 0,i=n?vg(n):"";if(i)switch(i){case Xw:return Zw;case Qw:return Uw;case Jw:return Yw;case tx:return Gw;case ex:return Kw}return e});var ix=nx,rx=Object.prototype,ox=rx.hasOwnProperty;function ax(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ox.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var sx=ax,lx=po.Uint8Array,ux=lx;function cx(t){var e=new t.constructor(t.byteLength);return new ux(e).set(new ux(t)),e}var hx=cx;function dx(t,e){var n=e?hx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var fx=dx,px=/\w*$/;function vx(t){var e=new t.constructor(t.source,px.exec(t));return e.lastIndex=t.lastIndex,e}var mx=vx,gx=yo?yo.prototype:void 0,yx=gx?gx.valueOf:void 0;function bx(t){return yx?Object(yx.call(t)):{}}var wx=bx;function xx(t,e){var n=e?hx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var kx=xx,Sx="[object Boolean]",_x="[object Date]",Ox="[object Map]",Cx="[object Number]",Ex="[object RegExp]",Tx="[object Set]",Ax="[object String]",jx="[object Symbol]",Nx="[object ArrayBuffer]",Ix="[object DataView]",Px="[object Float32Array]",Mx="[object Float64Array]",Dx="[object Int8Array]",Lx="[object Int16Array]",Rx="[object Int32Array]",Bx="[object Uint8Array]",zx="[object Uint8ClampedArray]",$x="[object Uint16Array]",Fx="[object Uint32Array]";function qx(t,e,n){var i=t.constructor;switch(e){case Nx:return hx(t);case Sx:case _x:return new i(+t);case Ix:return fx(t,n);case Px:case Mx:case Dx:case Lx:case Rx:case Bx:case zx:case $x:case Fx:return kx(t,n);case Ox:return new i;case Cx:case Ax:return new i(t);case Ex:return mx(t);case Tx:return new i;case jx:return wx(t)}}var Vx=qx,Hx=Object.create,Ux=function(){function t(){}return function(e){if(!lo(e))return{};if(Hx)return Hx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Wx=Ux;function Yx(t){return"function"!=typeof t.constructor||Rb(t)?{}:Wx(Ow(t))}var Gx=Yx,Kx="[object Map]";function Zx(t){return Do(t)&&ix(t)==Kx}var Xx=Zx,Qx=Eb&&Eb.isMap,Jx=Qx?Cb(Qx):Xx,tk=Jx,ek="[object Set]";function nk(t){return Do(t)&&ix(t)==ek}var ik=nk,rk=Eb&&Eb.isSet,ok=rk?Cb(rk):ik,ak=ok,sk=1,lk=2,uk=4,ck="[object Arguments]",hk="[object Array]",dk="[object Boolean]",fk="[object Date]",pk="[object Error]",vk="[object Function]",mk="[object GeneratorFunction]",gk="[object Map]",yk="[object Number]",bk="[object Object]",wk="[object RegExp]",xk="[object Set]",kk="[object String]",Sk="[object Symbol]",_k="[object WeakMap]",Ok="[object ArrayBuffer]",Ck="[object DataView]",Ek="[object Float32Array]",Tk="[object Float64Array]",Ak="[object Int8Array]",jk="[object Int16Array]",Nk="[object Int32Array]",Ik="[object Uint8Array]",Pk="[object Uint8ClampedArray]",Mk="[object Uint16Array]",Dk="[object Uint32Array]",Lk={};function Rk(t,e,n,i,r,o){var a,s=e&sk,l=e&lk,u=e&uk;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!lo(t))return t;var c=Fy(t);if(c){if(a=sx(t),!s)return cw(t,a)}else{var h=ix(t),d=h==vk||h==mk;if(Hy(t))return lw(t,s);if(h==bk||h==ck||d&&!r){if(a=l||d?{}:Gx(t),!s)return l?jw(t,sw(a,t)):xw(t,Xb(a,t))}else{if(!Lk[h])return r?t:{};a=Vx(t,h,s)}}o||(o=new gy);var f=o.get(t);if(f)return f;o.set(t,a),ak(t)?t.forEach((function(i){a.add(Rk(i,e,n,i,t,o))})):tk(t)&&t.forEach((function(i,r){a.set(r,Rk(i,e,n,r,t,o))}));var p=u?l?Lw:Mw:l?ow:Kb,v=c?void 0:p(t);return by(v||t,(function(i,r){v&&(r=i,i=t[r]),Ey(a,r,Rk(i,e,n,r,t,o))})),a}Lk[ck]=Lk[hk]=Lk[Ok]=Lk[Ck]=Lk[dk]=Lk[fk]=Lk[Ek]=Lk[Tk]=Lk[Ak]=Lk[jk]=Lk[Nk]=Lk[gk]=Lk[yk]=Lk[bk]=Lk[wk]=Lk[xk]=Lk[kk]=Lk[Sk]=Lk[Ik]=Lk[Pk]=Lk[Mk]=Lk[Dk]=!0,Lk[pk]=Lk[vk]=Lk[_k]=!1;var Bk=Rk,zk=1,$k=4;function Fk(t){return Bk(t,zk|$k)}var qk=Fk,Vk=fe("species"),Hk=!d((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Uk=function(){return"$0"==="a".replace(/./,"$0")}(),Wk=fe("replace"),Yk=function(){return!!/./[Wk]&&""===/./[Wk]("a","$0")}(),Gk=!d((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Kk=function(t,e,n,i){var r=fe(t),o=!d((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),a=o&&!d((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[Vk]=function(){return n},n.flags="",n[r]=/./[r]),n.exec=function(){return e=!0,null},n[r](""),!e}));if(!o||!a||"replace"===t&&(!Hk||!Uk||Yk)||"split"===t&&!Gk){var s=/./[r],l=n(r,""[t],(function(t,e,n,i,r){return e.exec===Ji?o&&!r?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:Uk,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Yk}),u=l[0],c=l[1];Ot(String.prototype,t,u),Ot(RegExp.prototype,r,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}i&&Z(RegExp.prototype[r],"sham",!0)},Zk=Ar.charAt,Xk=function(t,e,n){return e+(n?Zk(t,e).length:1)},Qk=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==$(t))throw TypeError("RegExp#exec called on incompatible receiver");return Ji.call(t,e)},Jk=Math.max,tS=Math.min,eS=Math.floor,nS=/\$([$&'`]|\d\d?|<[^>]*>)/g,iS=/\$([$&'`]|\d\d?)/g,rS=function(t){return void 0===t?t:String(t)};Kk("replace",2,(function(t,e,n,i){var r=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=i.REPLACE_KEEPS_$0,a=r?"$":"$0";return[function(n,i){var r=V(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,i):e.call(String(r),n,i)},function(t,i){if(!r&&o||"string"===typeof i&&-1===i.indexOf(a)){var l=n(e,t,this,i);if(l.done)return l.value}var u=S(t),c=String(this),h="function"===typeof i;h||(i=String(i));var d=u.global;if(d){var f=u.unicode;u.lastIndex=0}var p=[];while(1){var v=Qk(u,c);if(null===v)break;if(p.push(v),!d)break;var m=String(v[0]);""===m&&(u.lastIndex=Xk(c,Pt(u.lastIndex),f))}for(var g="",y=0,b=0;b<p.length;b++){v=p[b];for(var w=String(v[0]),x=Jk(tS(Nt(v.index),c.length),0),k=[],_=1;_<v.length;_++)k.push(rS(v[_]));var O=v.groups;if(h){var C=[w].concat(k,x,c);void 0!==O&&C.push(O);var E=String(i.apply(void 0,C))}else E=s(w,c,x,k,O,i);x>=y&&(g+=c.slice(y,x)+E,y=x+w.length)}return g+c.slice(y)}];function s(t,n,i,r,o,a){var s=i+t.length,l=r.length,u=iS;return void 0!==o&&(o=ae(o),u=nS),e.call(a,u,(function(e,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return e;if(c>l){var h=eS(c/10);return 0===h?e:h<=l?void 0===r[h-1]?a.charAt(1):r[h-1]+a.charAt(1):e}u=r[c-1]}return void 0===u?"":u}))}}));var oS="[object Number]";function aS(t){return"number"==typeof t||Do(t)&&Po(t)==oS}var sS=aS,lS=function(t){var e=/([A-Z])/g,n=/^ms-/;return t.replace(e,"-$1").toLowerCase().replace(n,"-ms-")},uS=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.rootValue,r=void 0===i?50:i,o={};return Object.entries(t).forEach((function(t){var n=ao(t,2),i=n[0],a=n[1];if(sS(a))switch(e){case"rem":a/=r;break}var s="".concat(a).concat(e),l=lS(i);o[l]=s})),o};function cS(t){return t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}function hS(t,e){var n=-1,i=null==t?0:t.length,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}var dS=hS,fS="__lodash_hash_undefined__";function pS(t){return this.__data__.set(t,fS),this}var vS=pS;function mS(t){return this.__data__.has(t)}var gS=mS;function yS(t){var e=-1,n=null==t?0:t.length;this.__data__=new dy;while(++e<n)this.add(t[e])}yS.prototype.add=yS.prototype.push=vS,yS.prototype.has=gS;var bS=yS;function wS(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(e(t[n],n,t))return!0;return!1}var xS=wS;function kS(t,e){return t.has(e)}var SS=kS,_S=1,OS=2;function CS(t,e,n,i,r,o){var a=n&_S,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&OS?new bS:void 0;o.set(t,e),o.set(e,t);while(++h<s){var p=t[h],v=e[h];if(i)var m=a?i(v,p,h,e,t,o):i(p,v,h,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!xS(e,(function(t,e){if(!SS(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)}))){d=!1;break}}else if(p!==v&&!r(p,v,n,i,o)){d=!1;break}}return o["delete"](t),o["delete"](e),d}var ES=CS;function TS(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}var AS=TS;function jS(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var NS=jS,IS=1,PS=2,MS="[object Boolean]",DS="[object Date]",LS="[object Error]",RS="[object Map]",BS="[object Number]",zS="[object RegExp]",$S="[object Set]",FS="[object String]",qS="[object Symbol]",VS="[object ArrayBuffer]",HS="[object DataView]",US=yo?yo.prototype:void 0,WS=US?US.valueOf:void 0;function YS(t,e,n,i,r,o,a){switch(n){case HS:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VS:return!(t.byteLength!=e.byteLength||!o(new ux(t),new ux(e)));case MS:case DS:case BS:return Im(+t,+e);case LS:return t.name==e.name&&t.message==e.message;case zS:case FS:return t==e+"";case RS:var s=AS;case $S:var l=i&IS;if(s||(s=NS),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=PS,a.set(t,e);var c=ES(s(t),s(e),i,r,o,a);return a["delete"](t),c;case qS:if(WS)return WS.call(t)==WS.call(e)}return!1}var GS=YS,KS=1,ZS=Object.prototype,XS=ZS.hasOwnProperty;function QS(t,e,n,i,r,o){var a=n&KS,s=Mw(t),l=s.length,u=Mw(e),c=u.length;if(l!=c&&!a)return!1;var h=l;while(h--){var d=s[h];if(!(a?d in e:XS.call(e,d)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var v=!0;o.set(t,e),o.set(e,t);var m=a;while(++h<l){d=s[h];var g=t[d],y=e[d];if(i)var b=a?i(y,g,d,e,t,o):i(g,y,d,t,e,o);if(!(void 0===b?g===y||r(g,y,n,i,o):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return o["delete"](t),o["delete"](e),v}var JS=QS,t_=1,e_="[object Arguments]",n_="[object Array]",i_="[object Object]",r_=Object.prototype,o_=r_.hasOwnProperty;function a_(t,e,n,i,r,o){var a=Fy(t),s=Fy(e),l=a?n_:ix(t),u=s?n_:ix(e);l=l==e_?i_:l,u=u==e_?i_:u;var c=l==i_,h=u==i_,d=l==u;if(d&&Hy(t)){if(!Hy(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new gy),a||jb(t)?ES(t,e,n,i,r,o):GS(t,e,l,n,i,r,o);if(!(n&t_)){var f=c&&o_.call(t,"__wrapped__"),p=h&&o_.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,m=p?e.value():e;return o||(o=new gy),r(v,m,n,i,o)}}return!!d&&(o||(o=new gy),JS(t,e,n,i,r,o))}var s_=a_;function l_(t,e,n,i,r){return t===e||(null==t||null==e||!Do(t)&&!Do(e)?t!==t&&e!==e:s_(t,e,n,i,l_,r))}var u_=l_,c_=1,h_=2;function d_(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;t=Object(t);while(r--){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}while(++r<o){s=n[r];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in t))return!1}else{var h=new gy;if(i)var d=i(u,c,l,t,e,h);if(!(void 0===d?u_(c,u,c_|h_,i,h):d))return!1}}return!0}var f_=d_;function p_(t){return t===t&&!lo(t)}var v_=p_;function m_(t){var e=Kb(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,v_(r)]}return e}var g_=m_;function y_(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}var b_=y_;function w_(t){var e=g_(t);return 1==e.length&&e[0][2]?b_(e[0][0],e[0][1]):function(n){return n===t||f_(n,t,e)}}var x_=w_,k_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S_=/^\w*$/;function __(t,e){if(Fy(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bo(t))||(S_.test(t)||!k_.test(t)||null!=e&&t in Object(e))}var O_=__,C_="Expected a function";function E_(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(C_);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(E_.Cache||dy),n}E_.Cache=dy;var T_=E_,A_=500;function j_(t){var e=T_(t,(function(t){return n.size===A_&&n.clear(),t})),n=e.cache;return e}var N_=j_,I_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P_=/\\(\\)?/g,M_=N_((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(I_,(function(t,n,i,r){e.push(i?r.replace(P_,"$1"):n||t)})),e})),D_=M_,L_=1/0,R_=yo?yo.prototype:void 0,B_=R_?R_.toString:void 0;function z_(t){if("string"==typeof t)return t;if(Fy(t))return dS(t,z_)+"";if(Bo(t))return B_?B_.call(t):"";var e=t+"";return"0"==e&&1/t==-L_?"-0":e}var $_=z_;function F_(t){return null==t?"":$_(t)}var q_=F_;function V_(t,e){return Fy(t)?t:O_(t,e)?[t]:D_(q_(t))}var H_=V_,U_=1/0;function W_(t){if("string"==typeof t||Bo(t))return t;var e=t+"";return"0"==e&&1/t==-U_?"-0":e}var Y_=W_;function G_(t,e){e=H_(e,t);var n=0,i=e.length;while(null!=t&&n<i)t=t[Y_(e[n++])];return n&&n==i?t:void 0}var K_=G_;function Z_(t,e,n){var i=null==t?void 0:K_(t,e);return void 0===i?n:i}var X_=Z_;function Q_(t,e){return null!=t&&e in Object(t)}var J_=Q_;function tO(t,e,n){e=H_(e,t);var i=-1,r=e.length,o=!1;while(++i<r){var a=Y_(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&Xy(r)&&Gy(a,r)&&(Fy(t)||zy(t)))}var eO=tO;function nO(t,e){return null!=t&&eO(t,e,J_)}var iO=nO,rO=1,oO=2;function aO(t,e){return O_(t)&&v_(e)?b_(Y_(t),e):function(n){var i=X_(n,t);return void 0===i&&i===e?iO(n,t):u_(e,i,rO|oO)}}var sO=aO;function lO(t){return t}var uO=lO;function cO(t){return function(e){return null==e?void 0:e[t]}}var hO=cO;function dO(t){return function(e){return K_(e,t)}}var fO=dO;function pO(t){return O_(t)?hO(Y_(t)):fO(t)}var vO=pO;function mO(t){return"function"==typeof t?t:null==t?uO:"object"==typeof t?Fy(t)?sO(t[0],t[1]):x_(t):vO(t)}var gO=mO;function yO(t,e,n,i){if(!lo(t))return t;e=H_(e,t);var r=-1,o=e.length,a=o-1,s=t;while(null!=s&&++r<o){var l=Y_(e[r]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=a){var c=s[l];u=i?i(c,l,s):void 0,void 0===u&&(u=lo(c)?c:Gy(e[r+1])?[]:{})}Ey(s,l,u),s=s[l]}return t}var bO=yO;function wO(t,e,n){var i=-1,r=e.length,o={};while(++i<r){var a=e[i],s=K_(t,a);n(s,a)&&bO(o,H_(a,t),s)}return o}var xO=wO;function kO(t,e){if(null==t)return{};var n=dS(Lw(t),(function(t){return[t]}));return e=gO(e),xO(t,n,(function(t,n){return e(t,n[0])}))}var SO=kO,_O="__v-click-outside",OO="undefined"!==typeof window,CO="undefined"!==typeof navigator,EO=OO&&("ontouchstart"in window||CO&&navigator.msMaxTouchPoints>0),TO=EO?["touchstart"]:["click"];function AO(t){var e="function"===typeof t;if(!e&&"object"!==Rp(t))throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||TO,isActive:!(!1===t.isActive),detectIframe:!(!1===t.detectIframe),capture:!!t.capture,scopeNode:t.scopeNode||document.documentElement}}function jO(t){var e=t.event,n=t.handler,i=t.middleware;i(e)&&n&&n(e)}function NO(t){var e=t.el,n=t.event,i=t.handler,r=t.middleware;setTimeout((function(){var t=document,o=t.activeElement;o&&"IFRAME"===o.tagName&&!e.contains(o)&&jO({event:n,handler:i,middleware:r})}),0)}function IO(t){var e=t.el,n=t.event,i=t.handler,r=t.middleware,o=t.scopeNode,a=n.path||n.composedPath&&n.composedPath(),s=a?a.indexOf(e)<0&&a.indexOf(o)>-1:!e.contains(n.target)&&o.contains(n.target);s&&jO({event:n,handler:i,middleware:r})}function PO(t,e){var n=e.value,i=AO(n),r=i.events,o=i.handler,a=i.middleware,s=i.isActive,l=i.detectIframe,u=i.capture,c=i.scopeNode;if(s&&o){if(t[_O]=r.map((function(e){return{event:e,srcTarget:document.documentElement,handler:function(e){return IO({el:t,event:e,handler:o,middleware:a,scopeNode:c})},capture:u}})),l){var h={event:"blur",srcTarget:window,handler:function(e){return NO({el:t,event:e,handler:o,middleware:a})},capture:u};t[_O]=[].concat(Qr(t[_O]),[h])}t[_O].forEach((function(e){var n=e.event,i=e.srcTarget,r=e.handler;return setTimeout((function(){t[_O]&&i.addEventListener(n,r,u)}),0)}))}}function MO(t){var e=t[_O]||[];e.forEach((function(t){var e=t.event,n=t.srcTarget,i=t.handler,r=t.capture;return n.removeEventListener(e,i,r)})),delete t[_O]}function DO(t,e){var n=e.value,i=e.oldValue;JSON.stringify(n)!==JSON.stringify(i)&&(MO(t),PO(t,{value:n}))}var LO={bind:PO,update:DO,unbind:MO},RO=OO?LO:{};function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BO(Object(n),!0).forEach((function(e){Jo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $O=["lt","rt","lb","rb","lm","rm","mt","mb"],FO={top:0,left:0,width:100,height:40},qO={directives:{vClickOutside:RO},props:{width:{type:Number,default:FO.width},height:{type:Number,default:FO.height},left:{type:Number,default:FO.left},top:{type:Number,default:FO.top},disable:{type:Boolean,default:!1}},inject:["lbpCanvasContext"],data:function(){return{rect:this.getShape(),shapeStyle:uS(this.getShape(),this.lbpCanvasContext.unit),startY:0,startX:0,point:"",active:!1,vcoConfig:{}}},computed:{bound:function(){var t=this.lbpCanvasContext;return{left:0,top:0,right:t.width,bottom:t.height}},shape:function(){return{width:this.width,height:this.height,left:this.left,top:this.top}}},mounted:function(){this.vcoConfig={events:["mousedown"],handler:this.onClickOutside,scopeNode:document.querySelector(".lbp-canvas-wrapper")}},watch:{top:function(t){this.rect.top=t,this.renderShapeStyle()},left:function(t){this.rect.left=t,this.renderShapeStyle()},width:function(t){this.rect.width=t,this.renderShapeStyle()},height:function(t){this.rect.height=t,this.renderShapeStyle()},rect:{handler:function(t){this.$emit("change",zO({},t),this.effect)},deep:!0}},methods:{getShape:function(){return{width:this.width,height:this.height,left:this.left,top:this.top}},renderShapeStyle:function(){this.shapeStyle=zO(zO({},this.shapeStyle),uS(this.shape,this.lbpCanvasContext.unit))},getReact:function(t){return SO(t,(function(t){return void 0!==t}))},setActive:function(t){this.active!==t&&(t?this.$emit("active"):this.$emit("deactive"),this.active=t)},onClickOutside:function(){this.setActive(!1)},addWidth:function(t){var e=this.rect,n=e.left,i=e.width,r=this.bound.right,o=i+t;if(o<0&&(o=0),!(n+o>r))return this.rect.width=o},addHeight:function(t){var e=this.rect,n=e.top,i=e.height,r=this.bound.bottom,o=i+t;if(o<0&&(o=0),!(n+o>r))return this.rect.height=o},addLeft:function(t){var e=this.rect,n=e.left,i=e.width,r=this.bound,o=r.left,a=r.right,s=n+t;if(s<o&&(s=o),!(s+i>a))return this.rect.left=s},addTop:function(t){var e=this.rect,n=e.top,i=e.height,r=this.bound,o=r.top,a=r.bottom,s=n+t;if(s<o&&(s=o),!(s+i>a))return this.rect.top=s},handleShapeDown:function(t){this.rect=this.shape,this.setActive(!0),this.startY=t.clientY,this.startX=t.clientX,document.addEventListener("mousemove",this.handleShapeMove),document.addEventListener("mouseup",this.handleShapeUp)},handleShapeMove:function(t){t.preventDefault(),this.effect=[];var e=t.clientX-this.startX,n=t.clientY-this.startY;this.startX=t.clientX,this.startY=t.clientY,this.addLeft(e),this.addTop(n)},handleShapeUp:function(){document.removeEventListener("mousemove",this.handleShapeMove),document.removeEventListener("mouseup",this.handleShapeUp)},handlePointDown:function(t,e){this.rect=this.shape,this.startY=e.clientY,this.startX=e.clientX,this.point=t,document.addEventListener("mousemove",this.handlePointMove),document.addEventListener("mouseup",this.handlePointUp)},handlePointMove:function(t){var e=this,n=[/l/,/t/,/r|lm/,/b|mt/],i=n.map((function(t){return t.test(e.point)}));this.effect=[this.point];var r=ao(i,4),o=r[0],a=r[1],s=r[2],l=r[3],u=t.clientX-this.startX,c=t.clientY-this.startY;if(this.startX=t.clientX,this.startY=t.clientY,o){var h=this.rect,d=h.left,f=h.width,p=Math.min(f,u),v=Math.min(d,-u);p>0?(this.addWidth(v),this.addLeft(p)):(this.addLeft(p),this.addWidth(v))}if(a){var m=this.rect,g=m.top,y=m.height,b=Math.min(y,c),w=Math.min(g,-c);b>0?(this.addHeight(w),this.addTop(b)):(this.addTop(b),this.addHeight(w))}!o&&s&&this.addWidth(u),!a&&l&&this.addHeight(c)},handlePointUp:function(){document.removeEventListener("mousemove",this.handlePointMove),document.removeEventListener("mouseup",this.handlePointUp)}},render:function(){var t=this,e=arguments[0],n=this.lbpCanvasContext.readonly,i={directives:[{name:"v-click-outside",value:this.vcoConfig}],on:{mousedown:this.handleShapeDown},class:[{active:this.active}],attrs:{tabindex:0}};return e("div",Qs([{style:this.shapeStyle,class:"shape-layer"},n?{}:i]),[e("div",{class:"shape-content"},[this.$slots.default]),!n&&e("div",{class:"control"},[$O.map((function(n){return e("div",{directives:[{name:"show",value:t.active}],class:"shape-scale__point",attrs:{"data-point":n},on:{mousedown:t.handlePointDown.bind(t,n)}})}))])])}};function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function HO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VO(Object(n),!0).forEach((function(e){Jo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var UO,WO={},YO=0,GO=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Pe(this,t);var i=n.pluginName,r=void 0===i?"":i,o=n.props,a=void 0===o?{}:o,s=n.style,l=void 0===s?{}:s,u=n.attrs,c=void 0===u?{}:u,h=n.animations,d=void 0===h?[]:h;r?(this.id=YO++,this.pluginName=r,this.props=HO({},a),t.getComponentAsync(r,(function(n){e.props=HO(HO({},t.getComponentProps(n)),e.props)})),this.attrs=HO({},c),this.class=HO({},n.class),this.style=HO(HO({},FO),l),this.animations=Qr(d)):console.error("lbpElement need a name of plugin ：pluginName")}return Be(t,[{key:"clone",value:function(){return new t(qk(this))}},{key:"update",value:function(t){var e=t.props,n=t.style,i=t.animations;e&&Object.assign(this.props,e),n&&Object.assign(this.style,n),i&&(Object.assign(this.animations,i),this.animations.length=i.length)}},{key:"getEditorProps",value:function(){var e=t.getCachedComponent(this.pluginName);return Object.fromEntries(Object.entries(e.props).filter((function(t){var e=ao(t,2),n=e[1];return n.editor})))}}],[{key:"getPlugin",value:function(t){return Fe.getPlugin(t)}},{key:"isSyncComponent",value:function(t){return!("function"===typeof t)}},{key:"getComponentAsync",value:function(e,n){var i=t.getCachedComponent(e);if(i)return n&&n(i);var r=t.getPlugin(e),o=r.component;if(t.isSyncComponent(o))WO[e]=o,n&&n(o);else{var a=o();cS(a)?a.then((function(t){var i=t.default;WO[e]=i,n&&n(i)})):(WO[e]=n,n&&n(a))}}},{key:"getCachedComponent",value:function(t){return WO[t]}},{key:"getComponentProps",value:function(e){var n={},i=e.props;return Object.entries(i).forEach((function(e){var i=ao(e,2),r=i[0],o=i[1];n[r]=t.getPropDefaultValue(null,o)})),n}},{key:"getPropDefaultValue",value:function(t,e){if(Object.prototype.hasOwnProperty.call(e,"default")){var n=e.default;return"function"===typeof n?n.call(t):n}}}]),t}(),KO={SWIPPER_PAGE:"h5_swipper",LONG_PAGE:"h5_long_page",WIDTH:375,HEIGHT:667},ZO={SWIPPER_PAGE:"翻页H5",LONG_PAGE:"长页面"},XO=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.title,i=void 0===n?"":n,r=e.elements,o=void 0===r?[]:r,a=e.height,s=void 0===a?KO.HEIGHT:a,l=e.width,u=void 0===l?KO.WIDTH:l,c=e.pageMode,h=void 0===c?KO.SWIPPER_PAGE:c;Pe(this,t),this.id=+new Date,this.title=i,this.width=u>=0?u:KO.WIDTH,this.height=s>=0?s:KO.HEIGHT,this.pageMode=h,this.elements=this.genElements(o)}return Be(t,[{key:"clone",value:function(){var e=this.elements.map((function(t){return new GO(t)}));return new t({title:this.title,elements:e})}},{key:"genElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)&&t.length>0?t.map((function(t){return new GO(t)})):[]}}]),t}(),QO=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,i=e.title,r=void 0===i?"标题":i,o=e.description,a=void 0===o?"描述":o,s=e.pages,l=void 0===s?[]:s,u=e.isPublish,c=e.isTemplate;Pe(this,t),this.id=n,this.title=r,this.description=a,this.pages=this.genPages(l),this.cover_image_url="",this.is_publish=!!u,this.is_template=!!c}return Be(t,[{key:"genPages",value:function(t){return Array.isArray(t)&&t.length>0?t.map((function(t){return new XO(t)})):[new XO]}}]),t}(),JO={props:{element:{type:GO,require:!0}},watch:{element:{handler:function(t){this.trigger("onLbpElementChange",qk(t))},deep:!0}},mounted:function(){this.$lbpPluginEl=this.$refs.lbpPluginEl},methods:{trigger:function(t,e){var n=this.plugin.component[t];n&&n.call(this.$lbpPluginEl,e)}},render:function(){var t=arguments[0],e=this.element,n=this.plugin=Fe.getPlugin(e.pluginName),i=n.component;return i?t(i,Qs([{ref:"lbpPluginEl"},{props:e.props}])):null}},tC=new u["default"],eC={props:{animations:{type:Array,default:function(){return[]}}},data:function(){return{animationIndex:0,runingAnimation:{}}},computed:{animationStyle:function(){var t=this.runingAnimation,e=t.duration,n=t.type,i=t.infinite,r=t.interationCount,o=t.delay;return{animationName:n,animationDuration:e?"".concat(e,"s"):null,animationIterationCount:i?"infinite":r||null,animationDelay:o?"".concat(o,"s"):null,animationFillMode:"both"}}},created:function(){var t=this;tC.$on("RUN_ANIMATIONS",(function(){t.runAnimations()}))},methods:{runAnimations:function(){this.clear(),this.runAnimation(this.animationIndex)},runAnimation:function(t){var e=this;setTimeout((function(){var n=e.animations;e.animationIndex=t,e.runingAnimation=n[t]||{}}))},handleAnimationend:function(){this.clearAnimation();var t=this.animations.length,e=this.animationIndex+1;e>=t||this.runAnimation(e)},clear:function(){this.clearAnimation(),this.animationIndex=0},clearAnimation:function(){this.runingAnimation={}}},render:function(){var t=arguments[0];return t("div",{class:"animate-layer",style:this.animationStyle,on:{animationend:this.handleAnimationend}},[this.$slots.default])}},nC={props:{element:{type:GO,require:!0}},methods:{_handleChange:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.$emit.apply(this,["elementChange"].concat(e))},_handleActive:function(){this.$emit("elementActive",this.element)},_handleDeactive:function(){this.$emit("elementDeactive",this.element)}},render:function(){var t=arguments[0],e=this.element,n=e.style,i=e.animations;return t(qO,{attrs:{width:n.width,height:n.height,left:n.left,top:n.top},on:{change:this._handleChange,active:this._handleActive,deactive:this._handleDeactive}},[t(eC,{attrs:{animations:i}},[t(JO,{attrs:{element:e}})])])}},iC={props:{width:{type:Number,default:0},height:{type:Number,default:0},elements:{type:Array,default:function(){return[]}},readonly:{type:Boolean,default:!1},unit:{type:String,default:"px"}},provide:function(){return{lbpCanvasContext:this.lbpCanvasContext}},data:function(){return{lbpCanvasContext:{width:this.width,height:this.height,readonly:this.readonly,unit:this.unit}}},watch:{width:function(t){this.updateCanvas({width:t})},height:function(t){this.updateCanvas({height:t})}},computed:{canvasStyle:function(){return uS({width:this.width,height:this.height},this.unit)}},methods:{updateCanvas:function(t){Object.assign(this.lbpCanvasContext,t)}},render:function(){var t=this,e=arguments[0];return e("div",{class:["lbp-canvas",this.readonly?"readonly":"edit","readonly"],style:this.canvasStyle},[e("div",{class:"lbp-canvas-wrapper"},[e("div",{class:"lbp-elements"},[this.elements.map((function(n){return e(nC,Qs([{key:n.id,attrs:{element:n,disabled:t.disabled}},{on:t.$listeners}]))}))])])])}},rC=[{i18nTooltip:"editor.fixedTool.undo",icon:"mail-reply",action:function(){this.$emit("undo")},hotkey:"ctrl&z,⌘&z",hotkeyTooltip:"(ctrl+z)"},{i18nTooltip:"editor.fixedTool.redo",icon:"mail-forward",action:function(){this.$emit("redo")},hotkey:"ctrl&y,⌘&u",hotkeyTooltip:"(ctrl+y)"},{i18nTooltip:"editor.fixedTool.preview",icon:"eye",action:function(){this.previewDialogVisible=!0}},{i18nTooltip:"editor.fixedTool.copyCurrentPage",icon:"copy",action:function(){this.pageManager({type:"copy"})},hotkey:"ctrl&c,⌘&c"},{i18nTooltip:"editor.fixedTool.copyCurrentElement",icon:"copy",action:function(){this.elementManager({type:"copy"})}},{i18nTooltip:"editor.fixedTool.importPSD",text:"Ps",icon:"",action:"",disabled:!0},{i18nTooltip:"editor.fixedTool.zoomOut",icon:"plus",action:function(){this.updateScaleRate(.25)},hotkey:"ctrl&=,⌘&=",hotkeyTooltip:"(ctrl +)"},{i18nTooltip:"editor.fixedTool.zoomIn",icon:"minus",action:function(){this.updateScaleRate(-.25)},hotkey:"ctrl&-,⌘&-",hotkeyTooltip:"(ctrl -)"},{i18nTooltip:"editor.fixedTool.issues",icon:"question",action:function(){window.open("https://github.com/ly525/luban-h5/issues/110")}}],oC={components:(UO={},Jo(UO,r.Layout.Sider.name,r.Layout.Sider),Jo(UO,r.Button.Group.name,r.Button.Group),Jo(UO,r.Tooltip.name,r.Tooltip),Jo(UO,r.Button.name,r.Button),UO),data:function(){return{scaleRate:1}},render:function(){var t=this,e=arguments[0];return e("a-layout-sider",{attrs:{width:"40",theme:"light"},style:{background:"#fff",border:"1px solid #eee"}},[e("a-button-group",{style:{display:"flex",flexDirection:"column"}},[rC.map((function(n){return e("a-tooltip",{attrs:{effect:"dark",placement:"left",title:t.$t(n.i18nTooltip,{hotkey:n.hotkeyTooltip})}},[e("a-button",{attrs:{block:!0,type:"link",size:"small",disabled:!!n.disabled},class:"transparent-bg",style:{height:"40px",color:"#000"},on:{click:function(){return n.action&&n.action.call(t)}}},[n.icon?e("i",{class:["shortcut-icon","fa","fa-".concat(n.icon)],attrs:{"aria-hidden":"true"}}):n.text||t.$t(n.i18nTooltip)]),"minus"===n.icon&&e("div",{style:{fontSize:"12px",textAlign:"center"}},[100*t.scaleRate,"%"])])}))])])},mounted:function(){var t=this;rC.map((function(e){e.hotkey&&h["default"](e.hotkey,{splitKey:"&"},(function(n,i){n.preventDefault(),n.stopPropagation(),e.action&&e.action.call(t)}))}))}};function aC(t,e){return xO(t,e,(function(e,n){return iO(t,n)}))}var sC=aC,lC=yo?yo.isConcatSpreadable:void 0;function uC(t){return Fy(t)||zy(t)||!!(lC&&t&&t[lC])}var cC=uC;function hC(t,e,n,i,r){var o=-1,a=t.length;n||(n=cC),r||(r=[]);while(++o<a){var s=t[o];e>0&&n(s)?e>1?hC(s,e-1,n,i,r):Sw(r,s):i||(r[r.length]=s)}return r}var dC=hC;function fC(t){var e=null==t?0:t.length;return e?dC(t,1):[]}var pC=fC;function vC(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mC=vC,gC=Math.max;function yC(t,e,n){return e=gC(void 0===e?t.length-1:e,0),function(){var i=arguments,r=-1,o=gC(i.length-e,0),a=Array(o);while(++r<o)a[r]=i[e+r];r=-1;var s=Array(e+1);while(++r<e)s[r]=i[r];return s[e]=n(a),mC(t,this,s)}}var bC=yC;function wC(t){return function(){return t}}var xC=wC,kC=xy?function(t,e){return xy(t,"toString",{configurable:!0,enumerable:!1,value:xC(e),writable:!0})}:uO,SC=kC,_C=800,OC=16,CC=Date.now;function EC(t){var e=0,n=0;return function(){var i=CC(),r=OC-(i-n);if(n=i,r>0){if(++e>=_C)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var TC=EC,AC=TC(SC),jC=AC;function NC(t){return jC(bC(t,void 0,pC),t+"")}var IC,PC=NC,MC=PC((function(t,e){return null==t?{}:sC(t,e)})),DC=MC,LC={name:"colors-panel",props:{value:{type:[Array,String]}},render:function(){var t=this,e=arguments[0];return e("div",[Array.isArray(this.value)?this.value.map((function(n,i){return e("input",{attrs:{size:"small",type:"color",autocomplete:!0},domProps:{value:n},on:{change:function(e){var n=t.value.slice(0);n[i]=e.target.value,t.$emit("change",n)}}})})):e("input",{attrs:{size:"small",type:"color",autocomplete:!0},domProps:{value:this.value},on:{change:function(e){t.$emit("change",e.target.value)}}})])}},RC={name:"lbs-text-align",components:(IC={},Jo(IC,r.Radio.Group.name,r.Radio.Group),Jo(IC,r.Radio.Button.name,r.Radio.Button),Jo(IC,r.Tooltip.name,r.Tooltip),IC),render:function(t){var e=this;return t("div",{class:"wrap"},[t("a-radio-group",{attrs:{size:"small",value:this.value},on:{change:function(t){e.$emit("change",t),e.$emit("input",t)}}},[this.textAlignTabs.map((function(e){return t("a-tooltip",{attrs:{effect:"dark",placement:"top",title:e.label},key:e.value},[t("a-radio-button",{attrs:{value:e.value}},[t("i",{class:["fa","fa-align-"+e.value],attrs:{"aria-hidden":"true"}})])])}))])])},props:{value:{type:[String,Number]}},data:function(){return{textAlignTabs:[{label:"左对齐",value:"left"},{label:"居中对齐",value:"center"},{label:"右对齐",value:"right"}]}}};class BC{constructor(t,e=""){"string"===typeof t?(this.el=document.createElement(t),this.el.className=e):this.el=t,this.data={}}data(t,e){return void 0!==e?(this.data[t]=e,this):this.data[t]}on(t,e){const[n,...i]=t.split(".");let r=n;return"mousewheel"===r&&/Firefox/i.test(window.navigator.userAgent)&&(r="DOMMouseScroll"),this.el.addEventListener(r,t=>{e(t);for(let e=0;e<i.length;e+=1){const n=i[e];if("left"===n&&0!==t.button)return;if("right"===n&&2!==t.button)return;"stop"===n&&t.stopPropagation()}}),this}offset(t){if(void 0!==t)return Object.keys(t).forEach(e=>{this.css(e,t[e]+"px")}),this;const{offsetTop:e,offsetLeft:n,offsetHeight:i,offsetWidth:r}=this.el;return{top:e,left:n,height:i,width:r}}scroll(t){const{el:e}=this;return void 0!==t&&(void 0!==t.left&&(e.scrollLeft=t.left),void 0!==t.top&&(e.scrollTop=t.top)),{left:e.scrollLeft,top:e.scrollTop}}box(){return this.el.getBoundingClientRect()}parent(){return new BC(this.el.parentNode)}children(...t){return 0===arguments.length?this.el.childNodes:(t.forEach(t=>this.child(t)),this)}removeChild(t){this.el.removeChild(t)}child(t){let e=t;return"string"===typeof t?e=document.createTextNode(t):t instanceof BC&&(e=t.el),this.el.appendChild(e),this}contains(t){return this.el.contains(t)}className(t){return void 0!==t?(this.el.className=t,this):this.el.className}addClass(t){return this.el.classList.add(t),this}hasClass(t){return this.el.classList.contains(t)}removeClass(t){return this.el.classList.remove(t),this}toggle(t="active"){return this.toggleClass(t)}toggleClass(t){return this.el.classList.toggle(t)}active(t=!0,e="active"){return t?this.addClass(e):this.removeClass(e),this}checked(t=!0){return this.active(t,"checked"),this}disabled(t=!0){return t?this.addClass("disabled"):this.removeClass("disabled"),this}attr(t,e){if(void 0!==e)this.el.setAttribute(t,e);else{if("string"===typeof t)return this.el.getAttribute(t);Object.keys(t).forEach(e=>{this.el.setAttribute(e,t[e])})}return this}removeAttr(t){return this.el.removeAttribute(t),this}html(t){return void 0!==t?(this.el.innerHTML=t,this):this.el.innerHTML}val(t){return void 0!==t?(this.el.value=t,this):this.el.value}focus(){this.el.focus()}cssRemoveKeys(...t){return t.forEach(t=>this.el.style.removeProperty(t)),this}css(t,e){return void 0===e&&"string"!==typeof t?(Object.keys(t).forEach(e=>{this.el.style[e]=t[e]}),this):void 0!==e?(this.el.style[t]=e,this):this.el.style[t]}computedStyle(){return window.getComputedStyle(this.el,null)}show(){return this.css("display","block"),this}hide(){return this.css("display","none"),this}}const zC=(t,e="")=>new BC(t,e),$C=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function FC(t){let e="",n=t;while(n>=$C.length)n/=$C.length,n-=1,e+=$C[parseInt(n,10)%$C.length];const i=t%$C.length;return e+=$C[i],e}function qC(t){let e=0;for(let n=0;n<t.length-1;n+=1){const i=t.charCodeAt(n)-65,r=t.length-1-n;e+=$C.length**r+$C.length*i}return e+=t.charCodeAt(t.length-1)-65,e}function VC(t){let e="",n="";for(let i=0;i<t.length;i+=1)t.charAt(i)>="0"&&t.charAt(i)<="9"?n+=t.charAt(i):e+=t.charAt(i);return[qC(e),parseInt(n,10)-1]}function HC(t,e){return`${FC(t)}${e+1}`}function UC(t,e,n,i=(()=>!0)){if(0===e&&0===n)return t;const[r,o]=VC(t);return i(r,o)?HC(r+e,o+n):t}class WC{constructor(t,e,n,i,r=0,o=0){this.sri=t,this.sci=e,this.eri=n,this.eci=i,this.w=r,this.h=o}set(t,e,n,i){this.sri=t,this.sci=e,this.eri=n,this.eci=i}multiple(){return this.eri-this.sri>0||this.eci-this.sci>0}includes(...t){let[e,n]=[0,0];1===t.length?[n,e]=VC(t[0]):2===t.length&&([e,n]=t);const{sri:i,sci:r,eri:o,eci:a}=this;return i<=e&&e<=o&&r<=n&&n<=a}each(t,e=(()=>!0)){const{sri:n,sci:i,eri:r,eci:o}=this;for(let a=n;a<=r;a+=1)if(e(a))for(let e=i;e<=o;e+=1)t(a,e)}contains(t){return this.sri<=t.sri&&this.sci<=t.sci&&this.eri>=t.eri&&this.eci>=t.eci}within(t){return this.sri>=t.sri&&this.sci>=t.sci&&this.eri<=t.eri&&this.eci<=t.eci}disjoint(t){return this.sri>t.eri||this.sci>t.eci||t.sri>this.eri||t.sci>this.eci}intersects(t){return this.sri<=t.eri&&this.sci<=t.eci&&t.sri<=this.eri&&t.sci<=this.eci}union(t){const{sri:e,sci:n,eri:i,eci:r}=this;return new WC(t.sri<e?t.sri:e,t.sci<n?t.sci:n,t.eri>i?t.eri:i,t.eci>r?t.eci:r)}difference(t){const e=[],n=(t,n,i,r)=>{e.push(new WC(t,n,i,r))},{sri:i,sci:r,eri:o,eci:a}=this,s=t.sri-i,l=t.sci-r,u=o-t.eri,c=a-t.eci;return s>0?(n(i,r,t.sri-1,a),u>0?(n(t.eri+1,r,o,a),l>0&&n(t.sri,r,t.eri,t.sci-1),c>0&&n(t.sri,t.eci+1,t.eri,a)):(l>0&&n(t.sri,r,o,t.sci-1),c>0&&n(t.sri,t.eci+1,o,a))):u>0&&(n(t.eri+1,r,o,a),l>0&&n(i,r,t.eri,t.sci-1),c>0&&n(i,t.eci+1,t.eri,a)),l>0?(n(i,r,o,t.sci-1),c>0?(n(i,t.eri+1,o,a),s>0&&n(i,t.sci,t.sri-1,t.eci),u>0&&n(t.sri+1,t.sci,o,t.eci)):(s>0&&n(i,t.sci,t.sri-1,a),u>0&&n(t.sri+1,t.sci,o,a))):c>0&&(n(o,t.eci+1,o,a),s>0&&n(i,r,t.sri-1,t.eci),u>0&&n(t.eri+1,r,o,t.eci)),e}size(){return[this.eri-this.sri+1,this.eci-this.sci+1]}toString(){const{sri:t,sci:e,eri:n,eci:i}=this;let r=HC(e,t);return this.multiple()&&(r=`${r}:${HC(i,n)}`),r}clone(){const{sri:t,sci:e,eri:n,eci:i,w:r,h:o}=this;return new WC(t,e,n,i,r,o)}equals(t){return this.eri===t.eri&&this.eci===t.eci&&this.sri===t.sri&&this.sci===t.sci}static valueOf(t){const e=t.split(":"),[n,i]=VC(e[0]);let[r,o]=[i,n];return e.length>1&&([o,r]=VC(e[1])),new WC(i,n,r,o)}}class YC{constructor(){this.range=new WC(0,0,0,0),this.ri=0,this.ci=0}multiple(){return this.range.multiple()}setIndexes(t,e){this.ri=t,this.ci=e}size(){return this.range.size()}}class GC{constructor(){this.x=0,this.y=0,this.ri=0,this.ci=0}}class KC{constructor(){this.undoItems=[],this.redoItems=[]}add(t){this.undoItems.push(JSON.stringify(t)),this.redoItems=[]}canUndo(){return this.undoItems.length>0}canRedo(){return this.redoItems.length>0}undo(t,e){const{undoItems:n,redoItems:i}=this;this.canUndo()&&(i.push(JSON.stringify(t)),e(JSON.parse(n.pop())))}redo(t,e){const{undoItems:n,redoItems:i}=this;this.canRedo()&&(n.push(JSON.stringify(t)),e(JSON.parse(i.pop())))}}class ZC{constructor(){this.range=null,this.state="clear"}copy(t){return this.range=t,this.state="copy",this}cut(t){return this.range=t,this.state="cut",this}isCopy(){return"copy"===this.state}isCut(){return"cut"===this.state}isClear(){return"clear"===this.state}clear(){this.range=null,this.state="clear"}}class XC{constructor(t,e,n){this.ci=t,this.operator=e,this.value=n}set(t,e){this.operator=t,this.value=e}includes(t){const{operator:e,value:n}=this;return"all"===e||"in"===e&&n.includes(t)}vlength(){const{operator:t,value:e}=this;return"in"===t?e.length:0}getData(){const{ci:t,operator:e,value:n}=this;return{ci:t,operator:e,value:n}}}class QC{constructor(t,e){this.ci=t,this.order=e}asc(){return"asc"===this.order}desc(){return"desc"===this.order}}class JC{constructor(){this.ref=null,this.filters=[],this.sort=null}setData({ref:t,filters:e,sort:n}){null!=t&&(this.ref=t,this.filters=e.map(t=>new XC(t.ci,t.operator,t.value)),n&&(this.sort=new QC(n.ci,n.order)))}getData(){if(this.active()){const{ref:t,filters:e,sort:n}=this;return{ref:t,filters:e.map(t=>t.getData()),sort:n}}return{}}addFilter(t,e,n){const i=this.getFilter(t);null==i?this.filters.push(new XC(t,e,n)):i.set(e,n)}setSort(t,e){this.sort=e?new QC(t,e):null}includes(t,e){return!!this.active()&&this.hrange().includes(t,e)}getSort(t){const{sort:e}=this;return e&&e.ci===t?e:null}getFilter(t){const{filters:e}=this;for(let n=0;n<e.length;n+=1)if(e[n].ci===t)return e[n];return null}filteredRows(t){const e=new Set,n=new Set;if(this.active()){const{sri:i,eri:r}=this.range(),{filters:o}=this;for(let a=i+1;a<=r;a+=1)for(let i=0;i<o.length;i+=1){const r=o[i],s=t(a,r.ci),l=s?s.text:"";if(!r.includes(l)){e.add(a);break}n.add(a)}}return{rset:e,fset:n}}items(t,e){const n={};if(this.active()){const{sri:i,eri:r}=this.range();for(let o=i+1;o<=r;o+=1){const i=e(o,t);if(null===i||/^\s*$/.test(i.text))n[""]=(n[""]||0)+1;else{const t=i.text,e=(n[t]||0)+1;n[t]=e}}}return n}range(){return WC.valueOf(this.ref)}hrange(){const t=this.range();return t.eri=t.sri,t}clear(){this.ref=null,this.filters=[],this.sort=null}active(){return null!==this.ref}}class tE{constructor(t=[]){this._=t}forEach(t){this._.forEach(t)}deleteWithin(t){this._=this._.filter(e=>!e.within(t))}getFirstIncludes(t,e){for(let n=0;n<this._.length;n+=1){const i=this._[n];if(i.includes(t,e))return i}return null}filterIntersects(t){return new tE(this._.filter(e=>e.intersects(t)))}intersects(t){for(let e=0;e<this._.length;e+=1){const n=this._[e];if(n.intersects(t))return!0}return!1}union(t){let e=t;return this._.forEach(t=>{t.intersects(e)&&(e=t.union(e))}),e}add(t){this.deleteWithin(t),this._.push(t)}shift(t,e,n,i){this._.forEach(r=>{const{sri:o,sci:a,eri:s,eci:l}=r,u=r;"row"===t?o>=e?(u.sri+=n,u.eri+=n):o<e&&e<=s&&(u.eri+=n,i(o,a,n,0)):"column"===t&&(a>=e?(u.sci+=n,u.eci+=n):a<e&&e<=l&&(u.eci+=n,i(o,a,0,n)))})}move(t,e,n){this._.forEach(i=>{const r=i;r.within(t)&&(r.eri+=e,r.sri+=e,r.sci+=n,r.eci+=n)})}setData(t){return this._=t.map(t=>WC.valueOf(t)),this}getData(){return this._.map(t=>t.toString())}}function eE(t){return JSON.parse(JSON.stringify(t))}const nE=(t={},...e)=>(e.forEach(e=>{Object.keys(e).forEach(n=>{const i=e[n];"string"===typeof i||"number"===typeof i||"boolean"===typeof i?t[n]=i:"function"!==typeof i&&!Array.isArray(i)&&i instanceof Object?(t[n]=t[n]||{},nE(t[n],i)):t[n]=i})}),t);function iE(t,e){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let i=0;i<n.length;i+=1){const r=n[i],o=t[r],a=e[r];if(void 0===a)return!1;if("string"===typeof o||"number"===typeof o||"boolean"===typeof o){if(o!==a)return!1}else if(Array.isArray(o)){if(o.length!==a.length)return!1;for(let t=0;t<o.length;t+=1)if(!iE(o[t],a[t]))return!1}else if("function"!==typeof o&&!Array.isArray(o)&&o instanceof Object&&!iE(o,a))return!1}return!0}const rE=(t,e=(t=>t))=>{let n=0,i=0;return Object.keys(t).forEach(r=>{n+=e(t[r],r),i+=1}),[n,i]};function oE(t,e){const n=t[""+e];return delete t[""+e],n}function aE(t,e,n,i,r,o){let a=n,s=i,l=t;for(;l<e;l+=1){if(a>r)break;s=o(l),a+=s}return[l,a-s,s]}function sE(t,e,n){let i=0;for(let r=t;r<e;r+=1)i+=n(r);return i}function lE(t,e,n){for(let i=t;i<e;i+=1)n(i)}function uE(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(t[n]!==e[n])return!1;return!0}function cE(t){const e=""+t;let n=0,i=!1;for(let r=0;r<e.length;r+=1)!0===i&&(n+=1),"."===e.charAt(r)&&(i=!0);return n}function hE(t,e,n){if(Number.isNaN(e)||Number.isNaN(n))return e+t+n;const i=cE(e),r=cE(n),o=Number(e),a=Number(n);let s=0;if("-"===t)s=o-a;else if("+"===t)s=o+a;else if("*"===t)s=o*a;else if("/"===t)return s=o/a,cE(s)>5?s.toFixed(2):s;return s.toFixed(Math.max(i,r))}var dE={cloneDeep:eE,merge:(...t)=>nE({},...t),equals:iE,arrayEquals:uE,sum:rE,rangeEach:lE,rangeSum:sE,rangeReduceIf:aE,deleteProperty:oE,numberCalc:hE};class fE{constructor({len:t,height:e}){this._={},this.len=t,this.height=e}getHeight(t){if(this.isHide(t))return 0;const e=this.get(t);return e&&e.height?e.height:this.height}setHeight(t,e){const n=this.getOrNew(t);n.height=e}unhide(t){let e=t;while(e>0){if(e-=1,!this.isHide(e))break;this.setHide(e,!1)}}isHide(t){const e=this.get(t);return e&&e.hide}setHide(t,e){const n=this.getOrNew(t);!0===e?n.hide=!0:delete n.hide}setStyle(t,e){const n=this.getOrNew(t);n.style=e}sumHeight(t,e,n){return dE.rangeSum(t,e,t=>n&&n.has(t)?0:this.getHeight(t))}totalHeight(){return this.sumHeight(0,this.len)}get(t){return this._[t]}getOrNew(t){return this._[t]=this._[t]||{cells:{}},this._[t]}getCell(t,e){const n=this.get(t);return void 0!==n&&void 0!==n.cells&&void 0!==n.cells[e]?n.cells[e]:null}getCellMerge(t,e){const n=this.getCell(t,e);return n&&n.merge?n.merge:[0,0]}getCellOrNew(t,e){const n=this.getOrNew(t);return n.cells[e]=n.cells[e]||{},n.cells[e]}setCell(t,e,n,i="all"){const r=this.getOrNew(t);"all"===i?r.cells[e]=n:"text"===i?(r.cells[e]=r.cells[e]||{},r.cells[e].text=n.text):"format"===i&&(r.cells[e]=r.cells[e]||{},r.cells[e].style=n.style,n.merge&&(r.cells[e].merge=n.merge))}setCellText(t,e,n){const i=this.getCellOrNew(t,e);i.text=n}copyPaste(t,e,n,i=!1,r=(()=>{})){const{sri:o,sci:a,eri:s,eci:l}=t,u=e.sri,c=e.sci,h=e.eri,d=e.eci,[f,p]=t.size(),[v,m]=e.size();let g=!0,y=0;(h<o||d<a)&&(g=!1,y=h<o?v:m);for(let b=o;b<=s;b+=1)if(this._[b])for(let t=a;t<=l;t+=1)if(this._[b].cells&&this._[b].cells[t])for(let e=u;e<=h;e+=f)for(let v=c;v<=d;v+=p){const m=e+(b-o),w=v+(t-a),x=dE.cloneDeep(this._[b].cells[t]);if(i&&x&&x.text&&x.text.length>0){const{text:t}=x;let n=v-c+(e-u)+2;if(g||(n-=y+1),"="===t[0])x.text=t.replace(/[a-zA-Z]{1,3}\d+/g,t=>{let[e,i]=[0,0];return o===u?e=n-1:i=n-1,/^\d+$/.test(t)?t:UC(t,e,i)});else if(f<=1&&p>1&&(u>s||h<o)||p<=1&&f>1&&(c>l||d<a)||f<=1&&p<=1){const e=/[\\.\d]+$/.exec(t);if(null!==e){const i=Number(e[0])+n-1;x.text=t.substring(0,e.index)+i}}}this.setCell(m,w,x,n),r(m,w,x)}}cutPaste(t,e){const n={};this.each(i=>{this.eachCells(i,r=>{let o=parseInt(i,10),a=parseInt(r,10);t.includes(i,r)&&(o=e.sri+(o-t.sri),a=e.sci+(a-t.sci)),n[o]=n[o]||{cells:{}},n[o].cells[a]=this._[i].cells[r]})}),this._=n}paste(t,e){if(t.length<=0)return;const{sri:n,sci:i}=e;t.forEach((t,e)=>{const r=n+e;t.forEach((t,e)=>{const n=i+e;this.setCellText(r,n,t)})})}insert(t,e=1){const n={};this.each((i,r)=>{let o=parseInt(i,10);o>=t&&(o+=e,this.eachCells(i,(n,i)=>{i.text&&"="===i.text[0]&&(i.text=i.text.replace(/[a-zA-Z]{1,3}\d+/g,n=>UC(n,0,e,(e,n)=>n>=t)))})),n[o]=r}),this._=n,this.len+=e}delete(t,e){const n=e-t+1,i={};this.each((r,o)=>{const a=parseInt(r,10);a<t?i[a]=o:r>e&&(i[a-n]=o,this.eachCells(r,(t,i)=>{i.text&&"="===i.text[0]&&(i.text=i.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>UC(t,0,-n,(t,n)=>n>e)))}))}),this._=i,this.len-=n}insertColumn(t,e=1){this.each((n,i)=>{const r={};this.eachCells(n,(n,i)=>{let o=parseInt(n,10);o>=t&&(o+=e,i.text&&"="===i.text[0]&&(i.text=i.text.replace(/[a-zA-Z]{1,3}\d+/g,n=>UC(n,e,0,e=>e>=t)))),r[o]=i}),i.cells=r})}deleteColumn(t,e){const n=e-t+1;this.each((i,r)=>{const o={};this.eachCells(i,(i,r)=>{const a=parseInt(i,10);a<t?o[a]=r:a>e&&(o[a-n]=r,r.text&&"="===r.text[0]&&(r.text=r.text.replace(/[a-zA-Z]{1,3}\d+/g,t=>UC(t,-n,0,t=>t>e))))}),r.cells=o})}deleteCells(t,e="all"){t.each((t,n)=>{this.deleteCell(t,n,e)})}deleteCell(t,e,n="all"){const i=this.get(t);if(null!==i){const r=this.getCell(t,e);null!==r&&("all"===n?delete i.cells[e]:"text"===n?(r.text&&delete r.text,r.value&&delete r.value):"format"===n?(void 0!==r.style&&delete r.style,r.merge&&delete r.merge):"merge"===n&&r.merge&&delete r.merge)}}maxCell(){const t=Object.keys(this._),e=t[t.length-1],n=this._[e];if(n){const{cells:t}=n,i=Object.keys(t),r=i[i.length-1];return[parseInt(e,10),parseInt(r,10)]}return[0,0]}each(t){Object.entries(this._).forEach(([e,n])=>{t(e,n)})}eachCells(t,e){this._[t]&&this._[t].cells&&Object.entries(this._[t].cells).forEach(([t,n])=>{e(t,n)})}setData(t){t.len&&(this.len=t.len,delete t.len),this._=t}getData(){const{len:t}=this;return Object.assign({len:t},this._)}}class pE{constructor({len:t,width:e,indexWidth:n,minWidth:i}){this._={},this.len=t,this.width=e,this.indexWidth=n,this.minWidth=i}setData(t){t.len&&(this.len=t.len,delete t.len),this._=t}getData(){const{len:t}=this;return Object.assign({len:t},this._)}getWidth(t){if(this.isHide(t))return 0;const e=this._[t];return e&&e.width?e.width:this.width}getOrNew(t){return this._[t]=this._[t]||{},this._[t]}setWidth(t,e){const n=this.getOrNew(t);n.width=e}unhide(t){let e=t;while(e>0){if(e-=1,!this.isHide(e))break;this.setHide(e,!1)}}isHide(t){const e=this._[t];return e&&e.hide}setHide(t,e){const n=this.getOrNew(t);!0===e?n.hide=!0:delete n.hide}setStyle(t,e){const n=this.getOrNew(t);n.style=e}sumWidth(t,e){return dE.rangeSum(t,e,t=>this.getWidth(t))}totalWidth(){return this.sumWidth(0,this.len)}}var vE={toolbar:{undo:"Undo",redo:"Redo",print:"Print",paintformat:"Paint format",clearformat:"Clear format",format:"Format",fontName:"Font",fontSize:"Font size",fontBold:"Font bold",fontItalic:"Font italic",underline:"Underline",strike:"Strike",color:"Text color",bgcolor:"Fill color",border:"Borders",merge:"Merge cells",align:"Horizontal align",valign:"Vertical align",textwrap:"Text wrapping",freeze:"Freeze cell",autofilter:"Filter",formula:"Functions",more:"More"},contextmenu:{copy:"Copy",cut:"Cut",paste:"Paste",pasteValue:"Paste values only",pasteFormat:"Paste format only",hide:"Hide",insertRow:"Insert row",insertColumn:"Insert column",deleteSheet:"Delete",deleteRow:"Delete row",deleteColumn:"Delete column",deleteCell:"Delete cell",deleteCellText:"Delete cell text",validation:"Data validations",cellprintable:"Enable export",cellnonprintable:"Disable export",celleditable:"Enable editing",cellnoneditable:"Disable editing"},print:{size:"Paper size",orientation:"Page orientation",orientations:["Landscape","Portrait"]},format:{normal:"Normal",text:"Plain Text",number:"Number",percent:"Percent",rmb:"RMB",usd:"USD",eur:"EUR",date:"Date",time:"Time",datetime:"Date time",duration:"Duration"},formula:{sum:"Sum",average:"Average",max:"Max",min:"Min",_if:"IF",and:"AND",or:"OR",concat:"Concat"},validation:{required:"it must be required",notMatch:"it not match its validation rule",between:"it is between {} and {}",notBetween:"it is not between {} and {}",notIn:"it is not in list",equal:"it equal to {}",notEqual:"it not equal to {}",lessThan:"it less than {}",lessThanEqual:"it less than or equal to {}",greaterThan:"it greater than {}",greaterThanEqual:"it greater than or equal to {}"},error:{pasteForMergedCell:"Unable to do this for merged cells"},calendar:{weeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},button:{next:"Next",cancel:"Cancel",remove:"Remove",save:"Save",ok:"OK"},sort:{desc:"Sort Z -> A",asc:"Sort A -> Z"},filter:{empty:"empty"},dataValidation:{mode:"Mode",range:"Cell Range",criteria:"Criteria",modeType:{cell:"Cell",column:"Colun",row:"Row"},type:{list:"List",number:"Number",date:"Date",phone:"Phone",email:"Email"},operator:{be:"between",nbe:"not betwwen",lt:"less than",lte:"less than or equal to",gt:"greater than",gte:"greater than or equal to",eq:"equal to",neq:"not equal to"}}};let mE=["en"];const gE={en:vE};function yE(t,e){if(e)for(const n of mE){if(!e[n])break;let i=e[n];const r=t.match(/(?:\\.|[^.])+/g);for(let t=0;t<r.length;t+=1){const e=r[t],n=i[e];if(!n)break;if(t===r.length-1)return n;i=n}}}function bE(t){let e=yE(t,gE);return!e&&window&&window.x_spreadsheet&&window.x_spreadsheet.$messages&&(e=yE(t,window.x_spreadsheet.$messages)),e||""}function wE(t){return()=>bE(t)}function xE(t,e,n=!1){n?mE=[t]:mE.unshift(t),e&&(gE[t]=e)}const kE={phone:/^[1-9]\d{10}$/,email:/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/};function SE(t,e,...n){let i="";return t||(i=bE("validation."+e,...n)),[t,i]}class _E{constructor(t,e,n,i){this.required=e,this.value=n,this.type=t,this.operator=i,this.message=""}parseValue(t){const{type:e}=this;return"date"===e?new Date(t):"number"===e?Number(t):t}equals(t){let e=this.type===t.type&&this.required===t.required&&this.operator===t.operator;return e&&(e=Array.isArray(this.value)?dE.arrayEquals(this.value,t.value):this.value===t.value),e}values(){return this.value.split(",")}validate(t){const{required:e,operator:n,value:i,type:r}=this;if(e&&/^\s*$/.test(t))return SE(!1,"required");if(/^\s*$/.test(t))return[!0];if(kE[r]&&!kE[r].test(t))return SE(!1,"notMatch");if("list"===r)return SE(this.values().includes(t),"notIn");if(n){const e=this.parseValue(t);if("be"===n){const[t,n]=i;return SE(e>=this.parseValue(t)&&e<=this.parseValue(n),"between",t,n)}if("nbe"===n){const[t,n]=i;return SE(e<this.parseValue(t)||e>this.parseValue(n),"notBetween",t,n)}if("eq"===n)return SE(e===this.parseValue(i),"equal",i);if("neq"===n)return SE(e!==this.parseValue(i),"notEqual",i);if("lt"===n)return SE(e<this.parseValue(i),"lessThan",i);if("lte"===n)return SE(e<=this.parseValue(i),"lessThanEqual",i);if("gt"===n)return SE(e>this.parseValue(i),"greaterThan",i);if("gte"===n)return SE(e>=this.parseValue(i),"greaterThanEqual",i)}return[!0]}}class OE{constructor(t,e,n){this.refs=e,this.mode=t,this.validator=n}includes(t,e){const{refs:n}=this;for(let i=0;i<n.length;i+=1){const r=WC.valueOf(n[i]);if(r.includes(t,e))return!0}return!1}addRef(t){this.remove(WC.valueOf(t)),this.refs.push(t)}remove(t){const e=[];this.refs.forEach(n=>{const i=WC.valueOf(n);if(i.intersects(t)){const n=i.difference(t);n.forEach(t=>e.push(t.toString()))}else e.push(n)}),this.refs=e}getData(){const{refs:t,mode:e,validator:n}=this,{type:i,required:r,operator:o,value:a}=n;return{refs:t,mode:e,type:i,required:r,operator:o,value:a}}static valueOf({refs:t,mode:e,type:n,required:i,operator:r,value:o}){return new OE(e,t,new _E(n,i,o,r))}}class CE{constructor(){this._=[],this.errors=new Map}getError(t,e){return this.errors.get(`${t}_${e}`)}validate(t,e,n){const i=this.get(t,e),r=`${t}_${e}`,{errors:o}=this;if(null!==i){const[t,e]=i.validator.validate(n);t?o.delete(r):o.set(r,e)}else o.delete(r);return!0}add(t,e,{type:n,required:i,value:r,operator:o}){const a=new _E(n,i,r,o),s=this.getByValidator(a);null!==s?s.addRef(e):this._.push(new OE(t,[e],a))}getByValidator(t){for(let e=0;e<this._.length;e+=1){const n=this._[e];if(n.validator.equals(t))return n}return null}get(t,e){for(let n=0;n<this._.length;n+=1){const i=this._[n];if(i.includes(t,e))return i}return null}remove(t){this.each(e=>{e.remove(t)})}each(t){this._.forEach(e=>t(e))}getData(){return this._.filter(t=>t.refs.length>0).map(t=>t.getData())}setData(t){this._=t.map(t=>OE.valueOf(t))}}const EE={mode:"edit",view:{height:()=>document.documentElement.clientHeight,width:()=>document.documentElement.clientWidth},showGrid:!0,showToolbar:!0,showContextmenu:!0,row:{len:100,height:25},col:{len:26,width:100,indexWidth:60,minWidth:60},style:{bgcolor:"#ffffff",align:"left",valign:"middle",textwrap:!1,strike:!1,underline:!1,color:"#0a0a0a",font:{name:"Arial",size:10,bold:!1,italic:!1},format:"normal"}},TE=41,AE=41;function jE(t,e,n=(()=>{})){const{merges:i}=this,r=e.clone(),[o,a]=t.size(),[s,l]=e.size();return o>s&&(r.eri=e.sri+o-1),a>l&&(r.eci=e.sci+a-1),!i.intersects(r)||(n(bE("error.pasteForMergedCell")),!1)}function NE(t,e,n,i=!1){const{rows:r,merges:o}=this;"all"!==n&&"format"!==n||(r.deleteCells(e,n),o.deleteWithin(e)),r.copyPaste(t,e,n,i,(t,e,n)=>{if(n&&n.merge){const[i,r]=n.merge;if(i<=0&&r<=0)return;o.add(new WC(t,e,t+i,e+r))}})}function IE(t,e){const{clipboard:n,rows:i,merges:r}=this;i.cutPaste(t,e),r.move(t,e.sri-t.sri,e.sci-t.sci),n.clear()}function PE(t,e,n){const{styles:i,rows:r}=this,o=r.getCellOrNew(t,e);let a={};void 0!==o.style&&(a=dE.cloneDeep(i[o.style])),a=dE.merge(a,{border:n}),o.style=this.addStyle(a)}function ME({mode:t,style:e,color:n}){const{styles:i,selector:r,rows:o}=this,{sri:a,sci:s,eri:l,eci:u}=r.range,c=!this.isSignleSelected();if(c||"inside"!==t&&"horizontal"!==t&&"vertical"!==t)if("outside"!==t||c){if("none"===t)r.range.each((t,e)=>{const n=o.getCell(t,e);if(n&&void 0!==n.style){const t=dE.cloneDeep(i[n.style]);delete t.border,n.style=this.addStyle(t)}});else if("all"===t||"inside"===t||"outside"===t||"horizontal"===t||"vertical"===t){const i=[];for(let r=a;r<=l;r+=1)for(let h=s;h<=u;h+=1){const d=[];for(let t=0;t<i.length;t+=1){const[e,n,o,a]=i[t];if(r===e+o+1&&d.push(t),e<=r&&r<=e+o&&h===n){h+=a+1;break}}if(d.forEach(t=>i.splice(t,1)),h>u)break;const f=o.getCell(r,h);let[p,v]=[0,0];f&&f.merge&&([p,v]=f.merge,i.push([r,h,p,v]));const m=p>0&&r+p===l,g=v>0&&h+v===u;let y={};"all"===t?y={bottom:[e,n],top:[e,n],left:[e,n],right:[e,n]}:"inside"===t?(!g&&h<u&&(y.right=[e,n]),!m&&r<l&&(y.bottom=[e,n])):"horizontal"===t?!m&&r<l&&(y.bottom=[e,n]):"vertical"===t?!g&&h<u&&(y.right=[e,n]):"outside"===t&&c&&(a===r&&(y.top=[e,n]),(m||l===r)&&(y.bottom=[e,n]),s===h&&(y.left=[e,n]),(g||u===h)&&(y.right=[e,n])),Object.keys(y).length>0&&PE.call(this,r,h,y),h+=v}}else if("top"===t||"bottom"===t)for(let h=s;h<=u;h+=1)"top"===t&&(PE.call(this,a,h,{top:[e,n]}),h+=o.getCellMerge(a,h)[1]),"bottom"===t&&(PE.call(this,l,h,{bottom:[e,n]}),h+=o.getCellMerge(l,h)[1]);else if("left"===t||"right"===t)for(let h=a;h<=l;h+=1)"left"===t&&(PE.call(this,h,s,{left:[e,n]}),h+=o.getCellMerge(h,s)[0]),"right"===t&&(PE.call(this,h,u,{right:[e,n]}),h+=o.getCellMerge(h,u)[0])}else PE.call(this,a,s,{top:[e,n],bottom:[e,n],left:[e,n],right:[e,n]})}function DE(t,e){const{rows:n}=this,i=this.freezeTotalHeight();let r=n.height;i+n.height<t&&(r-=e);const o=this.exceptRowSet;let a=0,s=r,{height:l}=n;for(;a<n.len;a+=1){if(s>t)break;o.has(a)||(l=n.getHeight(a),s+=l)}return s-=l,s<=0?{ri:-1,top:0,height:l}:{ri:a-1,top:s,height:l}}function LE(t,e){const{cols:n}=this,i=this.freezeTotalWidth();let r=n.indexWidth;i+n.indexWidth<t&&(r-=e);const[o,a,s]=dE.rangeReduceIf(0,n.len,r,n.indexWidth,t,t=>n.getWidth(t));return a<=0?{ci:-1,left:0,width:n.indexWidth}:{ci:o-1,left:a,width:s}}class RE{constructor(t,e){this.settings=dE.merge(EE,e||{}),this.name=t||"sheet",this.freeze=[0,0],this.styles=[],this.merges=new tE,this.rows=new fE(this.settings.row),this.cols=new pE(this.settings.col),this.validations=new CE,this.hyperlinks={},this.comments={},this.selector=new YC,this.scroll=new GC,this.history=new KC,this.clipboard=new ZC,this.autoFilter=new JC,this.change=()=>{},this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map}addValidation(t,e,n){this.changeData(()=>{this.validations.add(t,e,n)})}removeValidation(){const{range:t}=this.selector;this.changeData(()=>{this.validations.remove(t)})}getSelectedValidator(){const{ri:t,ci:e}=this.selector,n=this.validations.get(t,e);return n?n.validator:null}getSelectedValidation(){const{ri:t,ci:e,range:n}=this.selector,i=this.validations.get(t,e),r={ref:n.toString()};return null!==i&&(r.mode=i.mode,r.validator=i.validator),r}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}undo(){this.history.undo(this.getData(),t=>{this.setData(t)})}redo(){this.history.redo(this.getData(),t=>{this.setData(t)})}copy(){this.clipboard.copy(this.selector.range)}cut(){this.clipboard.cut(this.selector.range)}paste(t="all",e=(()=>{})){const{clipboard:n,selector:i}=this;return!n.isClear()&&(!!jE.call(this,n.range,i.range,e)&&(this.changeData(()=>{n.isCopy()?NE.call(this,n.range,i.range,t):n.isCut()&&IE.call(this,n.range,i.range)}),!0))}pasteFromText(t){const e=t.split("\r\n").map(t=>t.replace(/"/g,"").split("\t"));e.length>0&&(e.length-=1);const{rows:n,selector:i}=this;this.changeData(()=>{n.paste(e,i.range)})}autofill(t,e,n=(()=>{})){const i=this.selector.range;return!!jE.call(this,i,t,n)&&(this.changeData(()=>{NE.call(this,i,t,e,!0)}),!0)}clearClipboard(){this.clipboard.clear()}calSelectedRangeByEnd(t,e){const{selector:n,rows:i,cols:r,merges:o}=this;let{sri:a,sci:s,eri:l,eci:u}=n.range;const c=n.ri,h=n.ci;let[d,f]=[t,e];return t<0&&(d=i.len-1),e<0&&(f=r.len-1),[a,l]=d>c?[c,d]:[d,c],[s,u]=f>h?[h,f]:[f,h],n.range=o.union(new WC(a,s,l,u)),n.range=o.union(n.range),n.range}calSelectedRangeByStart(t,e){const{selector:n,rows:i,cols:r,merges:o}=this;let a=o.getFirstIncludes(t,e);return null===a&&(a=new WC(t,e,t,e),-1===t&&(a.sri=0,a.eri=i.len-1),-1===e&&(a.sci=0,a.eci=r.len-1)),n.range=a,a}setSelectedCellAttr(t,e){this.changeData(()=>{const{selector:n,styles:i,rows:r}=this;if("merge"===t)e?this.merge():this.unmerge();else if("border"===t)ME.call(this,e);else if("formula"===t){const{ri:t,ci:i,range:o}=n;if(n.multiple()){const[i,a]=n.size(),{sri:s,sci:l,eri:u,eci:c}=o;if(i>1)for(let t=l;t<=c;t+=1){const n=r.getCellOrNew(u+1,t);n.text=`=${e}(${HC(t,s)}:${HC(t,u)})`}else if(a>1){const n=r.getCellOrNew(t,c+1);n.text=`=${e}(${HC(l,t)}:${HC(c,t)})`}}else{const n=r.getCellOrNew(t,i);n.text=`=${e}()`}}else n.range.each((n,o)=>{const a=r.getCellOrNew(n,o);let s={};if(void 0!==a.style&&(s=dE.cloneDeep(i[a.style])),"format"===t)s.format=e,a.style=this.addStyle(s);else if("font-bold"===t||"font-italic"===t||"font-name"===t||"font-size"===t){const n={};n[t.split("-")[1]]=e,s.font=Object.assign(s.font||{},n),a.style=this.addStyle(s)}else"strike"===t||"textwrap"===t||"underline"===t||"align"===t||"valign"===t||"color"===t||"bgcolor"===t?(s[t]=e,a.style=this.addStyle(s)):a[t]=e})})}setSelectedCellText(t,e="input"){const{autoFilter:n,selector:i,rows:r}=this,{ri:o,ci:a}=i;let s=o;this.unsortedRowMap.has(o)&&(s=this.unsortedRowMap.get(o));const l=r.getCell(s,a),u=l?l.text:"";if(this.setCellText(s,a,t,e),n.active()){const e=n.getFilter(a);if(e){const n=e.value.findIndex(t=>t===u);n>=0&&e.value.splice(n,1,t)}}}getSelectedCell(){const{ri:t,ci:e}=this.selector;let n=t;return this.unsortedRowMap.has(t)&&(n=this.unsortedRowMap.get(t)),this.rows.getCell(n,e)}xyInSelectedRect(t,e){const{left:n,top:i,width:r,height:o}=this.getSelectedRect(),a=t-this.cols.indexWidth,s=e-this.rows.height;return a>n&&a<n+r&&s>i&&s<i+o}getSelectedRect(){return this.getRect(this.selector.range)}getClipboardRect(){const{clipboard:t}=this;return t.isClear()?{left:-100,top:-100}:this.getRect(t.range)}getRect(t){const{scroll:e,rows:n,cols:i,exceptRowSet:r}=this,{sri:o,sci:a,eri:s,eci:l}=t;if(o<0&&a<0)return{left:0,l:0,top:0,t:0,scroll:e};const u=i.sumWidth(0,a),c=n.sumHeight(0,o,r),h=n.sumHeight(o,s+1,r),d=i.sumWidth(a,l+1);let f=u-e.x,p=c-e.y;const v=this.freezeTotalHeight(),m=this.freezeTotalWidth();return m>0&&m>u&&(f=u),v>0&&v>c&&(p=c),{l:u,t:c,left:f,top:p,height:h,width:d,scroll:e}}getCellRectByXY(t,e){const{scroll:n,merges:i,rows:r,cols:o}=this;let{ri:a,top:s,height:l}=DE.call(this,e,n.y),{ci:u,left:c,width:h}=LE.call(this,t,n.x);if(-1===u&&(h=o.totalWidth()),-1===a&&(l=r.totalHeight()),a>=0||u>=0){const t=i.getFirstIncludes(a,u);t&&(a=t.sri,u=t.sci,({left:c,top:s,width:h,height:l}=this.cellRect(a,u)))}return{ri:a,ci:u,left:c,top:s,width:h,height:l}}isSignleSelected(){const{sri:t,sci:e,eri:n,eci:i}=this.selector.range,r=this.getCell(t,e);if(r&&r.merge){const[o,a]=r.merge;if(t+o===n&&e+a===i)return!0}return!this.selector.multiple()}canUnmerge(){const{sri:t,sci:e,eri:n,eci:i}=this.selector.range,r=this.getCell(t,e);if(r&&r.merge){const[o,a]=r.merge;if(t+o===n&&e+a===i)return!0}return!1}merge(){const{selector:t,rows:e}=this;if(this.isSignleSelected())return;const[n,i]=t.size();if(n>1||i>1){const{sri:r,sci:o}=t.range;this.changeData(()=>{const a=e.getCellOrNew(r,o);a.merge=[n-1,i-1],this.merges.add(t.range),this.rows.deleteCells(t.range),this.rows.setCell(r,o,a)})}}unmerge(){const{selector:t}=this;if(!this.isSignleSelected())return;const{sri:e,sci:n}=t.range;this.changeData(()=>{this.rows.deleteCell(e,n,"merge"),this.merges.deleteWithin(t.range)})}canAutofilter(){return!this.autoFilter.active()}autofilter(){const{autoFilter:t,selector:e}=this;this.changeData(()=>{t.active()?(t.clear(),this.exceptRowSet=new Set,this.sortedRowMap=new Map,this.unsortedRowMap=new Map):t.ref=e.range.toString()})}setAutoFilter(t,e,n,i){const{autoFilter:r}=this;r.addFilter(t,n,i),r.setSort(t,e),this.resetAutoFilter()}resetAutoFilter(){const{autoFilter:t,rows:e}=this;if(!t.active())return;const{sort:n}=t,{rset:i,fset:r}=t.filteredRows((t,n)=>e.getCell(t,n)),o=Array.from(r),a=Array.from(r);n&&o.sort((t,e)=>"asc"===n.order?t-e:"desc"===n.order?e-t:0),this.exceptRowSet=i,this.sortedRowMap=new Map,this.unsortedRowMap=new Map,o.forEach((t,e)=>{this.sortedRowMap.set(a[e],t),this.unsortedRowMap.set(t,a[e])})}deleteCell(t="all"){const{selector:e}=this;this.changeData(()=>{this.rows.deleteCells(e.range,t),"all"!==t&&"format"!==t||this.merges.deleteWithin(e.range)})}insert(t,e=1){this.changeData(()=>{const{sri:n,sci:i}=this.selector.range,{rows:r,merges:o,cols:a}=this;let s=n;"row"===t?r.insert(n,e):"column"===t&&(r.insertColumn(i,e),s=i,a.len+=1),o.shift(t,s,e,(t,e,n,i)=>{const o=r.getCell(t,e);o.merge[0]+=n,o.merge[1]+=i})})}delete(t){this.changeData(()=>{const{rows:e,merges:n,selector:i,cols:r}=this,{range:o}=i,{sri:a,sci:s,eri:l,eci:u}=i.range,[c,h]=i.range.size();let d=a,f=c;"row"===t?e.delete(a,l):"column"===t&&(e.deleteColumn(s,u),d=o.sci,f=h,r.len-=1),n.shift(t,d,-f,(t,n,i,r)=>{const o=e.getCell(t,n);o.merge[0]+=i,o.merge[1]+=r,0===o.merge[0]&&0===o.merge[1]&&delete o.merge})})}scrollx(t,e){const{scroll:n,freeze:i,cols:r}=this,[,o]=i,[a,s,l]=dE.rangeReduceIf(o,r.len,0,0,t,t=>r.getWidth(t));let u=s;t>0&&(u+=l),n.x!==u&&(n.ci=t>0?a:0,n.x=u,e())}scrolly(t,e){const{scroll:n,freeze:i,rows:r}=this,[o]=i,[a,s,l]=dE.rangeReduceIf(o,r.len,0,0,t,t=>r.getHeight(t));let u=s;t>0&&(u+=l),n.y!==u&&(n.ri=t>0?a:0,n.y=u,e())}cellRect(t,e){const{rows:n,cols:i}=this,r=i.sumWidth(0,e),o=n.sumHeight(0,t),a=n.getCell(t,e);let s=i.getWidth(e),l=n.getHeight(t);if(null!==a&&a.merge){const[r,o]=a.merge;if(r>0)for(let e=1;e<=r;e+=1)l+=n.getHeight(t+e);if(o>0)for(let t=1;t<=o;t+=1)s+=i.getWidth(e+t)}return{left:r,top:o,width:s,height:l,cell:a}}getCell(t,e){return this.rows.getCell(t,e)}getCellTextOrDefault(t,e){const n=this.getCell(t,e);return n&&n.text?n.text:""}getCellStyle(t,e){const n=this.getCell(t,e);return n&&void 0!==n.style?this.styles[n.style]:null}getCellStyleOrDefault(t,e){const{styles:n,rows:i}=this,r=i.getCell(t,e),o=r&&void 0!==r.style?n[r.style]:{};return dE.merge(this.defaultStyle(),o)}getSelectedCellStyle(){const{ri:t,ci:e}=this.selector;return this.getCellStyleOrDefault(t,e)}setCellText(t,e,n,i){const{rows:r,history:o,validations:a}=this;"finished"===i?(r.setCellText(t,e,""),o.add(this.getData()),r.setCellText(t,e,n)):(r.setCellText(t,e,n),this.change(this.getData())),a.validate(t,e,n)}freezeIsActive(){const[t,e]=this.freeze;return t>0||e>0}setFreeze(t,e){this.changeData(()=>{this.freeze=[t,e]})}freezeTotalWidth(){return this.cols.sumWidth(0,this.freeze[1])}freezeTotalHeight(){return this.rows.sumHeight(0,this.freeze[0])}setRowHeight(t,e){this.changeData(()=>{this.rows.setHeight(t,e)})}setColWidth(t,e){this.changeData(()=>{this.cols.setWidth(t,e)})}viewHeight(){const{view:t,showToolbar:e}=this.settings;let n=t.height();return n-=AE,e&&(n-=TE),n}viewWidth(){return this.settings.view.width()}freezeViewRange(){const[t,e]=this.freeze;return new WC(0,0,t-1,e-1,this.freezeTotalWidth(),this.freezeTotalHeight())}contentRange(){const{rows:t,cols:e}=this,[n,i]=t.maxCell(),r=t.sumHeight(0,n+1),o=e.sumWidth(0,i+1);return new WC(0,0,n,i,o,r)}exceptRowTotalHeight(t,e){const{exceptRowSet:n,rows:i}=this,r=Array.from(n);let o=0;return r.forEach(n=>{if(n<t||n>e){const t=i.getHeight(n);o+=t}}),o}viewRange(){const{scroll:t,rows:e,cols:n,freeze:i,exceptRowSet:r}=this;let{ri:o,ci:a}=t;o<=0&&([o]=i),a<=0&&([,a]=i);let[s,l]=[0,0],[u,c]=[e.len,n.len];for(let h=o;h<e.len;h+=1)if(r.has(h)||(l+=e.getHeight(h),u=h),l>this.viewHeight())break;for(let h=a;h<n.len;h+=1)if(s+=n.getWidth(h),c=h,s>this.viewWidth())break;return new WC(o,a,u,c,s,l)}eachMergesInView(t,e){this.merges.filterIntersects(t).forEach(t=>e(t))}hideRowsOrCols(){const{rows:t,cols:e,selector:n}=this,[i,r]=n.size(),{sri:o,sci:a,eri:s,eci:l}=n.range;if(i===t.len)for(let u=a;u<=l;u+=1)e.setHide(u,!0);else if(r===e.len)for(let u=o;u<=s;u+=1)t.setHide(u,!0)}unhideRowsOrCols(t,e){this[t+"s"].unhide(e)}rowEach(t,e,n){let i=0;const{rows:r}=this,o=this.exceptRowSet,a=[...o];let s=0;for(let l=0;l<a.length;l+=1)a[l]<t&&(s+=1);for(let l=t+s;l<=e+s;l+=1)if(o.has(l))s+=1;else{const t=r.getHeight(l);if(t>0&&(n(l,i,t),i+=t,i>this.viewHeight()))break}}colEach(t,e,n){let i=0;const{cols:r}=this;for(let o=t;o<=e;o+=1){const t=r.getWidth(o);if(t>0&&(n(o,i,t),i+=t,i>this.viewWidth()))break}}defaultStyle(){return this.settings.style}addStyle(t){const{styles:e}=this;for(let n=0;n<e.length;n+=1){const i=e[n];if(dE.equals(i,t))return n}return e.push(t),e.length-1}changeData(t){this.history.add(this.getData()),t(),this.change(this.getData())}setData(t){return Object.keys(t).forEach(e=>{if("merges"===e||"rows"===e||"cols"===e||"validations"===e)this[e].setData(t[e]);else if("freeze"===e){const[n,i]=VC(t[e]);this.freeze=[i,n]}else"autofilter"===e?this.autoFilter.setData(t[e]):void 0!==t[e]&&(this[e]=t[e])}),this}getData(){const{name:t,freeze:e,styles:n,merges:i,rows:r,cols:o,validations:a,autoFilter:s}=this;return{name:t,freeze:HC(e[1],e[0]),styles:n,merges:i.getData(),rows:r.getData(),cols:o.getData(),validations:a.getData(),autofilter:s.getData()}}}function BE(t,e,n){t.addEventListener(e,n)}function zE(t,e,n){t.removeEventListener(e,n)}function $E(t){t.xclickoutside&&(zE(window.document.body,"click",t.xclickoutside),delete t.xclickoutside)}function FE(t,e){t.xclickoutside=n=>{2===n.detail||t.contains(n.target)||(e?e(t):(t.hide(),$E(t)))},BE(window.document.body,"click",t.xclickoutside)}function qE(t,e,n){BE(t,"mousemove",e);const i=t;i.xEvtUp=i=>{zE(t,"mousemove",e),zE(t,"mouseup",t.xEvtUp),n(i)},BE(t,"mouseup",t.xEvtUp)}function VE(t,e,n,i){let r="";Math.abs(t)>Math.abs(e)?(r=t>0?"right":"left",i(r,t,n)):(r=e>0?"down":"up",i(r,e,n))}function HE(t,{move:e,end:n}){let i=0,r=0;BE(t,"touchstart",t=>{const{pageX:e,pageY:n}=t.touches[0];i=e,r=n}),BE(t,"touchmove",t=>{if(!e)return;const{pageX:n,pageY:o}=t.changedTouches[0],a=n-i,s=o-r;(Math.abs(a)>10||Math.abs(s)>10)&&(VE(a,s,t,e),i=n,r=o),t.preventDefault()}),BE(t,"touchend",t=>{if(!n)return;const{pageX:e,pageY:o}=t.changedTouches[0],a=e-i,s=o-r;VE(a,s,t,n)})}const UE="x-spreadsheet";window.devicePixelRatio;class WE{constructor(t=!1,e){this.moving=!1,this.vertical=t,this.el=zC("div",`${UE}-resizer ${t?"vertical":"horizontal"}`).children(this.unhideHoverEl=zC("div",UE+"-resizer-hover").on("dblclick.stop",t=>this.mousedblclickHandler(t)).css("position","absolute").hide(),this.hoverEl=zC("div",UE+"-resizer-hover").on("mousedown.stop",t=>this.mousedownHandler(t)),this.lineEl=zC("div",UE+"-resizer-line").hide()).hide(),this.cRect=null,this.finishedFn=null,this.minDistance=e,this.unhideFn=()=>{}}showUnhide(t){this.unhideIndex=t,this.unhideHoverEl.show()}hideUnhide(){this.unhideHoverEl.hide()}show(t,e){const{moving:n,vertical:i,hoverEl:r,lineEl:o,el:a,unhideHoverEl:s}=this;if(n)return;this.cRect=t;const{left:l,top:u,width:c,height:h}=t;a.offset({left:i?l+c-5:l,top:i?u:u+h-5}).show(),r.offset({width:i?5:c,height:i?h:5}),o.offset({width:i?0:e.width,height:i?e.height:0}),s.offset({left:i?5-c:l,top:i?u:5-h,width:i?5:c,height:i?h:5})}hide(){this.el.offset({left:0,top:0}).hide(),this.hideUnhide()}mousedblclickHandler(){this.unhideIndex&&this.unhideFn(this.unhideIndex)}mousedownHandler(t){let e=t;const{el:n,lineEl:i,cRect:r,vertical:o,minDistance:a}=this;let s=o?r.width:r.height;i.show(),qE(window,t=>{this.moving=!0,null!==e&&1===t.buttons&&(o?(s+=t.movementX,s>a&&n.css("left",r.left+s+"px")):(s+=t.movementY,s>a&&n.css("top",r.top+s+"px")),e=t)},()=>{e=null,i.hide(),this.moving=!1,this.hide(),this.finishedFn&&(s<a&&(s=a),this.finishedFn(r,s))})}}class YE{constructor(t){this.vertical=t,this.moveFn=null,this.el=zC("div",`${UE}-scrollbar ${t?"vertical":"horizontal"}`).child(this.contentEl=zC("div","")).on("mousemove.stop",()=>{}).on("scroll.stop",t=>{const{scrollTop:e,scrollLeft:n}=t.target;this.moveFn&&this.moveFn(this.vertical?e:n,t)})}move(t){return this.el.scroll(t),this}scroll(){return this.el.scroll()}set(t,e){const n=t-1;if(e>n){const t=this.vertical?"height":"width";this.el.css(t,n-15+"px").show(),this.contentEl.css(this.vertical?"width":"height","1px").css(t,e+"px")}else this.el.hide();return this}}const GE=3;let KE=10;class ZE{constructor(t=!1){this.useHideInput=t,this.inputChange=()=>{},this.cornerEl=zC("div",UE+"-selector-corner"),this.areaEl=zC("div",UE+"-selector-area").child(this.cornerEl).hide(),this.clipboardEl=zC("div",UE+"-selector-clipboard").hide(),this.autofillEl=zC("div",UE+"-selector-autofill").hide(),this.el=zC("div",UE+"-selector").css("z-index",""+KE).children(this.areaEl,this.clipboardEl,this.autofillEl).hide(),t&&(this.hideInput=zC("input","").on("compositionend",t=>{this.inputChange(t.target.value)}),this.el.child(this.hideInputDiv=zC("div","hide-input").child(this.hideInput)),this.el.child(this.hideInputDiv=zC("div","hide-input").child(this.hideInput))),KE+=1}setOffset(t){return this.el.offset(t).show(),this}hide(){return this.el.hide(),this}setAreaOffset(t){const{left:e,top:n,width:i,height:r}=t,o={width:i-GE+.8,height:r-GE+.8,left:e-.8,top:n-.8};this.areaEl.offset(o).show(),this.useHideInput&&(this.hideInputDiv.offset(o),this.hideInput.val("").focus())}setClipboardOffset(t){const{left:e,top:n,width:i,height:r}=t;this.clipboardEl.offset({left:e,top:n,width:i-5,height:r-5})}showAutofill(t){const{left:e,top:n,width:i,height:r}=t;this.autofillEl.offset({width:i-GE,height:r-GE,left:e,top:n}).show()}hideAutofill(){this.autofillEl.hide()}showClipboard(){this.clipboardEl.show()}hideClipboard(){this.clipboardEl.hide()}}function XE(t){const{data:e}=this,{left:n,top:i,width:r,height:o,scroll:a,l:s,t:l}=t,u=e.freezeTotalWidth(),c=e.freezeTotalHeight();let h=n-u;u>s&&(h-=a.x);let d=i-c;return c>l&&(d-=a.y),{left:h,top:d,width:r,height:o}}function QE(t){const{data:e}=this,{left:n,width:i,height:r,l:o,t:a,scroll:s}=t,l=e.freezeTotalWidth();let u=n-l;return l>o&&(u-=s.x),{left:u,top:a,width:i,height:r}}function JE(t){const{data:e}=this,{top:n,width:i,height:r,l:o,t:a,scroll:s}=t,l=e.freezeTotalHeight();let u=n-l;return l>a&&(u-=s.y),{left:o,top:u,width:i,height:r}}function tT(t){const{br:e}=this;e.setAreaOffset(XE.call(this,t))}function eT(t){const{tl:e}=this;e.setAreaOffset(t)}function nT(t){const{t:e}=this;e.setAreaOffset(QE.call(this,t))}function iT(t){const{l:e}=this;e.setAreaOffset(JE.call(this,t))}function rT(t){const{l:e}=this;e.setClipboardOffset(JE.call(this,t))}function oT(t){const{br:e}=this;e.setClipboardOffset(XE.call(this,t))}function aT(t){const{tl:e}=this;e.setClipboardOffset(t)}function sT(t){const{t:e}=this;e.setClipboardOffset(QE.call(this,t))}function lT(t){tT.call(this,t),eT.call(this,t),nT.call(this,t),iT.call(this,t)}function uT(t){oT.call(this,t),aT.call(this,t),sT.call(this,t),rT.call(this,t)}class cT{constructor(t){this.inputChange=()=>{},this.data=t,this.br=new ZE(!0),this.t=new ZE,this.l=new ZE,this.tl=new ZE,this.br.inputChange=t=>{this.inputChange(t)},this.br.el.show(),this.offset=null,this.areaOffset=null,this.indexes=null,this.range=null,this.arange=null,this.el=zC("div",UE+"-selectors").children(this.tl.el,this.t.el,this.l.el,this.br.el).hide(),this.lastri=-1,this.lastci=-1,KE+=1}resetData(t){this.data=t,this.range=t.selector.range,this.resetAreaOffset()}hide(){this.el.hide()}resetOffset(){const{data:t,tl:e,t:n,l:i,br:r}=this,o=t.freezeTotalHeight(),a=t.freezeTotalWidth();o>0||a>0?(e.setOffset({width:a,height:o}),n.setOffset({left:a,height:o}),i.setOffset({top:o,width:a}),r.setOffset({left:a,top:o})):(e.hide(),n.hide(),i.hide(),r.setOffset({left:0,top:0}))}resetAreaOffset(){const t=this.data.getSelectedRect(),e=this.data.getClipboardRect();lT.call(this,t),uT.call(this,e),this.resetOffset()}resetBRTAreaOffset(){const t=this.data.getSelectedRect(),e=this.data.getClipboardRect();tT.call(this,t),nT.call(this,t),oT.call(this,e),sT.call(this,e),this.resetOffset()}resetBRLAreaOffset(){const t=this.data.getSelectedRect(),e=this.data.getClipboardRect();tT.call(this,t),iT.call(this,t),oT.call(this,e),rT.call(this,e),this.resetOffset()}set(t,e,n=!0){const{data:i}=this,r=i.calSelectedRangeByStart(t,e),{sri:o,sci:a}=r;if(n){let[n,r]=[t,e];t<0&&(n=0),e<0&&(r=0),i.selector.setIndexes(n,r),this.indexes=[n,r]}this.moveIndexes=[o,a],this.range=r,this.resetAreaOffset(),this.el.show()}setEnd(t,e,n=!0){const{data:i,lastri:r,lastci:o}=this;if(n){if(t===r&&e===o)return;this.lastri=t,this.lastci=e}this.range=i.calSelectedRangeByEnd(t,e),lT.call(this,this.data.getSelectedRect())}reset(){const{eri:t,eci:e}=this.data.selector.range;this.setEnd(t,e)}showAutofill(t,e){if(-1===t&&-1===e)return;const{sri:n,sci:i,eri:r,eci:o}=this.range,[a,s]=[t,e],l=n-t,u=i-e,c=r-t,h=o-e;if(u>0)this.arange=new WC(n,s,r,i-1);else if(l>0)this.arange=new WC(a,i,n-1,o);else if(h<0)this.arange=new WC(n,o+1,r,s);else{if(!(c<0))return void(this.arange=null);this.arange=new WC(r+1,i,a,o)}if(null!==this.arange){const t=this.data.getRect(this.arange);t.width+=2,t.height+=2;const{br:e,l:n,t:i,tl:r}=this;e.showAutofill(XE.call(this,t)),n.showAutofill(JE.call(this,t)),i.showAutofill(QE.call(this,t)),r.showAutofill(t)}}hideAutofill(){["br","l","t","tl"].forEach(t=>{this[t].hideAutofill()})}showClipboard(){const t=this.data.getClipboardRect();uT.call(this,t),["br","l","t","tl"].forEach(t=>{this[t].showClipboard()})}hideClipboard(){["br","l","t","tl"].forEach(t=>{this[t].hideClipboard()})}}function hT(t){t.preventDefault(),t.stopPropagation();const{filterItems:e}=this;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex-=1,this.itemIndex<0&&(this.itemIndex=e.length-1),e[this.itemIndex].toggle())}function dT(t){t.stopPropagation();const{filterItems:e}=this;e.length<=0||(this.itemIndex>=0&&e[this.itemIndex].toggle(),this.itemIndex+=1,this.itemIndex>e.length-1&&(this.itemIndex=0),e[this.itemIndex].toggle())}function fT(t){t.preventDefault();const{filterItems:e}=this;e.length<=0||(t.stopPropagation(),this.itemIndex<0&&(this.itemIndex=0),e[this.itemIndex].el.click(),this.hide())}function pT(t){const{keyCode:e}=t;switch(t.ctrlKey&&t.stopPropagation(),e){case 37:t.stopPropagation();break;case 38:hT.call(this,t);break;case 39:t.stopPropagation();break;case 40:dT.call(this,t);break;case 13:fT.call(this,t);break;case 9:fT.call(this,t);break;default:t.stopPropagation();break}}class vT{constructor(t,e,n="200px"){this.filterItems=[],this.items=t,this.el=zC("div",UE+"-suggest").css("width",n).hide(),this.itemClick=e,this.itemIndex=-1}setOffset(t){this.el.cssRemoveKeys("top","bottom").offset(t)}hide(){const{el:t}=this;this.filterItems=[],this.itemIndex=-1,t.hide(),$E(this.el.parent())}setItems(t){this.items=t}search(t){let{items:e}=this;if(/^\s*$/.test(t)||(e=e.filter(e=>(e.key||e).startsWith(t.toUpperCase()))),e=e.map(t=>{let{title:e}=t;e?"function"===typeof e&&(e=e()):e=t;const n=zC("div",UE+"-item").child(e).on("click.stop",()=>{this.itemClick(t),this.hide()});return t.label&&n.child(zC("div","label").html(t.label)),n}),this.filterItems=e,e.length<=0)return;const{el:n}=this;n.html("").children(...e).show(),FE(n.parent(),()=>{this.hide()})}bindInputEvents(t){t.on("keydown",t=>pT.call(this,t))}}class mT extends BC{constructor(t){super("div",UE+"-icon"),this.iconNameEl=zC("div",`${UE}-icon-img ${t}`),this.child(this.iconNameEl)}setName(t){this.iconNameEl.className(`${UE}-icon-img ${t}`)}}function gT(t,e){t.setMonth(t.getMonth()+e)}function yT(t,e){const n=new Date(t);return n.setDate(e-t.getDay()+1),n}function bT(t,e,n){const i=new Date(t,e,1,23,59,59),r=[[],[],[],[],[],[]];for(let o=0;o<6;o+=1)for(let t=0;t<7;t+=1){const a=7*o+t,s=yT(i,a),l=s.getMonth()!==e,u=s.getMonth()===n.getMonth()&&s.getDate()===n.getDate();r[o][t]={d:s,disabled:l,active:u}}return r}class wT{constructor(t){this.value=t,this.cvalue=new Date(t),this.headerLeftEl=zC("div","calendar-header-left"),this.bodyEl=zC("tbody",""),this.buildAll(),this.el=zC("div","x-spreadsheet-calendar").children(zC("div","calendar-header").children(this.headerLeftEl,zC("div","calendar-header-right").children(zC("a","calendar-prev").on("click.stop",()=>this.prev()).child(new mT("chevron-left")),zC("a","calendar-next").on("click.stop",()=>this.next()).child(new mT("chevron-right")))),zC("table","calendar-body").children(zC("thead","").child(zC("tr","").children(...bE("calendar.weeks").map(t=>zC("th","cell").child(t)))),this.bodyEl)),this.selectChange=()=>{}}setValue(t){this.value=t,this.cvalue=new Date(t),this.buildAll()}prev(){const{value:t}=this;gT(t,-1),this.buildAll()}next(){const{value:t}=this;gT(t,1),this.buildAll()}buildAll(){this.buildHeaderLeft(),this.buildBody()}buildHeaderLeft(){const{value:t}=this;this.headerLeftEl.html(`${bE("calendar.months")[t.getMonth()]} ${t.getFullYear()}`)}buildBody(){const{value:t,cvalue:e,bodyEl:n}=this,i=bT(t.getFullYear(),t.getMonth(),e),r=i.map(t=>{const e=t.map(t=>{let e="cell";return t.disabled&&(e+=" disabled"),t.active&&(e+=" active"),zC("td","").child(zC("div",e).on("click.stop",()=>{this.selectChange(t.d)}).child(t.d.getDate().toString()))});return zC("tr","").children(...e)});n.html("").children(...r)}}class xT{constructor(){this.calendar=new wT(new Date),this.el=zC("div",UE+"-datepicker").child(this.calendar.el).hide()}setValue(t){const{calendar:e}=this;return"string"===typeof t?/^\d{4}-\d{1,2}-\d{1,2}$/.test(t)&&e.setValue(new Date(t.replace(new RegExp("-","g"),"/"))):t instanceof Date&&e.setValue(t),this}change(t){this.calendar.selectChange=e=>{t(e),this.hide()}}show(){this.el.show()}hide(){this.el.hide()}}function kT(){const{inputText:t}=this;if(!/^\s*$/.test(t)){const{textlineEl:e,textEl:n,areaOffset:i}=this,r=t.split("\n"),o=Math.max(...r.map(t=>t.length)),a=e.offset(),s=a.width/t.length,l=(o+1)*s+5,u=this.viewFn().width-i.left-s;let c=r.length;if(l>i.width){let t=l;l>u&&(t=u,c+=parseInt(l/u,10),c+=l%u>0?1:0),n.css("width",t+"px")}c*=this.rowHeight,c>i.height&&n.css("height",c+"px")}}function ST({target:t},e){const{value:n,selectionEnd:i}=t,r=`${n.slice(0,i)}${e}${n.slice(i)}`;t.value=r,t.setSelectionRange(i+1,i+1),this.inputText=r,this.textlineEl.html(r),kT.call(this)}function _T(t){const{keyCode:e,altKey:n}=t;13!==e&&9!==e&&t.stopPropagation(),13===e&&n&&(ST.call(this,t,"\n"),t.stopPropagation()),13!==e||n||t.preventDefault()}function OT(t){const e=t.target.value,{suggest:n,textlineEl:i,validator:r}=this,{cell:o}=this;if(null!==o)if("editable"in o&&!0===o.editable||void 0===o.editable){if(this.inputText=e,r)"list"===r.type?n.search(e):n.hide();else{const t=e.lastIndexOf("=");-1!==t?n.search(e.substring(t+1)):n.hide()}i.html(e),kT.call(this),this.change("input",e)}else t.target.value="";else{if(this.inputText=e,r)"list"===r.type?n.search(e):n.hide();else{const t=e.lastIndexOf("=");-1!==t?n.search(e.substring(t+1)):n.hide()}i.html(e),kT.call(this),this.change("input",e)}}function CT(t){const{el:e}=this.textEl;setTimeout(()=>{e.focus(),e.setSelectionRange(t,t)},0)}function ET(t,e){const{textEl:n,textlineEl:i}=this;n.el.blur(),n.val(t),i.html(t),CT.call(this,e)}function TT(t){const{inputText:e,validator:n}=this;let i=0;if(n&&"list"===n.type)this.inputText=t,i=this.inputText.length;else{const n=e.lastIndexOf("="),r=e.substring(0,n+1);let o=e.substring(n+1);o=-1!==o.indexOf(")")?o.substring(o.indexOf(")")):"",this.inputText=r+t.key+"(",i=this.inputText.length,this.inputText+=")"+o}ET.call(this,this.inputText,i)}function AT(){this.suggest.setItems(this.formulas)}function jT(t){let e=t.getMonth()+1,n=t.getDate();return e<10&&(e="0"+e),n<10&&(n="0"+n),`${t.getFullYear()}-${e}-${n}`}class NT{constructor(t,e,n){this.viewFn=e,this.rowHeight=n,this.formulas=t,this.suggest=new vT(t,t=>{TT.call(this,t)}),this.datepicker=new xT,this.datepicker.change(t=>{this.setText(jT(t)),this.clear()}),this.areaEl=zC("div",UE+"-editor-area").children(this.textEl=zC("textarea","").on("input",t=>OT.call(this,t)).on("paste.stop",()=>{}).on("keydown",t=>_T.call(this,t)),this.textlineEl=zC("div","textline"),this.suggest.el,this.datepicker.el).on("mousemove.stop",()=>{}).on("mousedown.stop",()=>{}),this.el=zC("div",UE+"-editor").child(this.areaEl).hide(),this.suggest.bindInputEvents(this.textEl),this.areaOffset=null,this.freeze={w:0,h:0},this.cell=null,this.inputText="",this.change=()=>{}}setFreezeLengths(t,e){this.freeze.w=t,this.freeze.h=e}clear(){""!==this.inputText&&this.change("finished",this.inputText),this.cell=null,this.areaOffset=null,this.inputText="",this.el.hide(),this.textEl.val(""),this.textlineEl.html(""),AT.call(this),this.datepicker.hide()}setOffset(t,e="top"){const{textEl:n,areaEl:i,suggest:r,freeze:o,el:a}=this;if(t){this.areaOffset=t;const{left:s,top:l,width:u,height:c,l:h,t:d}=t,f={left:0,top:0};o.w>h&&o.h>d||(o.w<h&&o.h<d?(f.left=o.w,f.top=o.h):o.w>h?f.top=o.h:o.h>d&&(f.left=o.w)),a.offset(f),i.offset({left:s-f.left-.8,top:l-f.top-.8}),n.offset({width:u-9+.8,height:c-3+.8});const p={left:0};p[e]=c,r.setOffset(p),r.hide()}}setCell(t,e){const{el:n,datepicker:i,suggest:r}=this;n.show(),this.cell=t;const o=t&&t.text||"";if(this.setText(o),this.validator=e,e){const{type:t}=e;"date"===t&&(i.show(),/^\s*$/.test(o)||i.setValue(o)),"list"===t&&(r.setItems(e.values()),r.search(""))}}setText(t){this.inputText=t,ET.call(this,t,t.length),kT.call(this)}}class IT extends BC{constructor(t,e=""){super("div",`${UE}-button ${e}`),this.child(bE("button."+t))}}function PT(){return window.devicePixelRatio||1}function MT(){return PT()-.5}function DT(t){return parseInt(t*PT(),10)}function LT(t){const e=DT(t);return e>0?e-.5:.5}class RT{constructor(t,e,n,i,r=0){this.x=t,this.y=e,this.width=n,this.height=i,this.padding=r,this.bgcolor="#ffffff",this.borderTop=null,this.borderRight=null,this.borderBottom=null,this.borderLeft=null}setBorders({top:t,bottom:e,left:n,right:i}){t&&(this.borderTop=t),i&&(this.borderRight=i),e&&(this.borderBottom=e),n&&(this.borderLeft=n)}innerWidth(){return this.width-2*this.padding-2}innerHeight(){return this.height-2*this.padding-2}textx(t){const{width:e,padding:n}=this;let{x:i}=this;return"left"===t?i+=n:"center"===t?i+=e/2:"right"===t&&(i+=e-n),i}texty(t,e){const{height:n,padding:i}=this;let{y:r}=this;return"top"===t?r+=i:"middle"===t?r+=n/2-e/2:"bottom"===t&&(r+=n-i-e),r}topxys(){const{x:t,y:e,width:n}=this;return[[t,e],[t+n,e]]}rightxys(){const{x:t,y:e,width:n,height:i}=this;return[[t+n,e],[t+n,e+i]]}bottomxys(){const{x:t,y:e,width:n,height:i}=this;return[[t,e+i],[t+n,e+i]]}leftxys(){const{x:t,y:e,height:n}=this;return[[t,e],[t,e+n]]}}function BT(t,e,n,i,r,o,a){const s={x:0,y:0};"underline"===t?s.y="bottom"===r?0:"top"===r?-(o+2):-o/2:"strike"===t&&("bottom"===r?s.y=o/2:"top"===r&&(s.y=-(o/2+2))),"center"===i?s.x=a/2:"right"===i&&(s.x=a),this.line([e-s.x,n-s.y],[e-s.x+a,n-s.y])}class zT{constructor(t,e,n){this.el=t,this.ctx=t.getContext("2d"),this.resize(e,n),this.ctx.scale(PT(),PT())}resize(t,e){this.el.style.width=t+"px",this.el.style.height=e+"px",this.el.width=DT(t),this.el.height=DT(e)}clear(){const{width:t,height:e}=this.el;return this.ctx.clearRect(0,0,t,e),this}attr(t){return Object.assign(this.ctx,t),this}save(){return this.ctx.save(),this.ctx.beginPath(),this}restore(){return this.ctx.restore(),this}beginPath(){return this.ctx.beginPath(),this}translate(t,e){return this.ctx.translate(DT(t),DT(e)),this}scale(t,e){return this.ctx.scale(t,e),this}clearRect(t,e,n,i){return this.ctx.clearRect(t,e,n,i),this}fillRect(t,e,n,i){return this.ctx.fillRect(DT(t)-.5,DT(e)-.5,DT(n),DT(i)),this}fillText(t,e,n){return this.ctx.fillText(t,DT(e),DT(n)),this}text(t,e,n={},i=!0){const{ctx:r}=this,{align:o,valign:a,font:s,color:l,strike:u,underline:c}=n,h=e.textx(o);r.save(),r.beginPath(),this.attr({textAlign:o,textBaseline:a,font:`${s.italic?"italic":""} ${s.bold?"bold":""} ${DT(s.size)}px ${s.name}`,fillStyle:l,strokeStyle:l});const d=(""+t).split("\n"),f=e.innerWidth(),p=[];d.forEach(t=>{const e=r.measureText(t).width;if(i&&e>DT(f)){let e={w:0,len:0,start:0};for(let n=0;n<t.length;n+=1)e.w>=DT(f)&&(p.push(t.substr(e.start,e.len)),e={w:0,len:0,start:n}),e.len+=1,e.w+=r.measureText(t[n]).width+1;e.len>0&&p.push(t.substr(e.start,e.len))}else p.push(t)});const v=(p.length-1)*(s.size+2);let m=e.texty(a,v);return p.forEach(t=>{const e=r.measureText(t).width;this.fillText(t,h,m),u&&BT.call(this,"strike",h,m,o,a,s.size,e),c&&BT.call(this,"underline",h,m,o,a,s.size,e),m+=s.size+2}),r.restore(),this}border(t,e){const{ctx:n}=this;return n.lineWidth=MT,n.strokeStyle=e,"medium"===t?n.lineWidth=DT(2)-.5:"thick"===t?n.lineWidth=DT(3):"dashed"===t?n.setLineDash([DT(3),DT(2)]):"dotted"===t?n.setLineDash([DT(1),DT(1)]):"double"===t&&n.setLineDash([DT(2),0]),this}line(...t){const{ctx:e}=this;if(t.length>1){e.beginPath();const[n,i]=t[0];e.moveTo(LT(n),LT(i));for(let r=1;r<t.length;r+=1){const[n,i]=t[r];e.lineTo(LT(n),LT(i))}e.stroke()}return this}strokeBorders(t){const{ctx:e}=this;e.save();const{borderTop:n,borderRight:i,borderBottom:r,borderLeft:o}=t;n&&(this.border(...n),this.line(...t.topxys())),i&&(this.border(...i),this.line(...t.rightxys())),r&&(this.border(...r),this.line(...t.bottomxys())),o&&(this.border(...o),this.line(...t.leftxys())),e.restore()}dropdown(t){const{ctx:e}=this,{x:n,y:i,width:r,height:o}=t,a=n+r-15,s=i+o-15;e.save(),e.beginPath(),e.moveTo(DT(a),DT(s)),e.lineTo(DT(a+8),DT(s)),e.lineTo(DT(a+4),DT(s+6)),e.closePath(),e.fillStyle="rgba(0, 0, 0, .45)",e.fill(),e.restore()}error(t){const{ctx:e}=this,{x:n,y:i,width:r}=t,o=n+r-1;e.save(),e.beginPath(),e.moveTo(DT(o-8),DT(i-1)),e.lineTo(DT(o),DT(i-1)),e.lineTo(DT(o),DT(i+8)),e.closePath(),e.fillStyle="rgba(255, 0, 0, .65)",e.fill(),e.restore()}frozen(t){const{ctx:e}=this,{x:n,y:i,width:r}=t,o=n+r-1;e.save(),e.beginPath(),e.moveTo(DT(o-8),DT(i-1)),e.lineTo(DT(o),DT(i-1)),e.lineTo(DT(o),DT(i+8)),e.closePath(),e.fillStyle="rgba(0, 255, 0, .85)",e.fill(),e.restore()}rect(t,e){const{ctx:n}=this,{x:i,y:r,width:o,height:a,bgcolor:s}=t;n.save(),n.beginPath(),n.fillStyle=s||"#fff",n.rect(LT(i+1),LT(r+1),DT(o-2),DT(a-2)),n.clip(),n.fill(),e(),n.restore()}}const $T=[{key:"Arial",title:"Arial"},{key:"Helvetica",title:"Helvetica"},{key:"Source Sans Pro",title:"Source Sans Pro"},{key:"Comic Sans MS",title:"Comic Sans MS"},{key:"Courier New",title:"Courier New"},{key:"Verdana",title:"Verdana"},{key:"Lato",title:"Lato"}],FT=[{pt:7.5,px:10},{pt:8,px:11},{pt:9,px:12},{pt:10,px:13},{pt:10.5,px:14},{pt:11,px:15},{pt:12,px:16},{pt:14,px:18.7},{pt:15,px:20},{pt:16,px:21.3},{pt:18,px:24},{pt:22,px:29.3},{pt:24,px:32},{pt:26,px:34.7},{pt:36,px:48},{pt:42,px:56}];function qT(t){for(let e=0;e<FT.length;e+=1){const n=FT[e];if(n.pt===t)return n.px}return t}const VT=t=>{const e=[],n=[];let i=[],r=0,o="",a=1,s="";for(let u=0;u<t.length;u+=1){const c=t.charAt(u);if(" "!==c){if(c>="a"&&c<="z")i.push(c.toUpperCase());else if(c>="0"&&c<="9"||c>="A"&&c<="Z"||"."===c)i.push(c);else if('"'===c){u+=1;while('"'!==t.charAt(u))i.push(t.charAt(u)),u+=1;n.push('"'+i.join("")),i=[]}else if("-"===c&&/[+\-*/,(]/.test(s))i.push(c);else{if("("!==c&&i.length>0&&n.push(i.join("")),")"===c){let t=e.pop();if(2===r)try{const[e,i]=VC(n.pop()),[r,o]=VC(n.pop());let a=0;for(let t=r;t<=e;t+=1)for(let e=o;e<=i;e+=1)n.push(HC(t,e)),a+=1;n.push([t,a])}catch(l){}else if(1===r||3===r)3===r&&n.push(o),n.push([t,a]),a=1;else while("("!==t){if(n.push(t),e.length<=0)break;t=e.pop()}r=0}else if("="===c||">"===c||"<"===c){const e=t.charAt(u+1);o=c,"="!==e&&"-"!==e||(o+=e,u+=1),r=3}else if(":"===c)r=2;else if(","===c)3===r&&n.push(o),r=1,a+=1;else if("("===c&&i.length>0)e.push(i.join(""));else{if(e.length>0&&("+"===c||"-"===c)){let t=e[e.length-1];if("("!==t&&n.push(e.pop()),"*"===t||"/"===t)while(e.length>0){if(t=e[e.length-1],"("===t)break;n.push(e.pop())}}else if(e.length>0){const t=e[e.length-1];"*"!==t&&"/"!==t||n.push(e.pop())}e.push(c)}i=[]}s=c}}i.length>0&&n.push(i.join(""));while(e.length>0)n.push(e.pop());return n},HT=(t,e)=>{const[n]=t;let i=t;if('"'===n)return t.substring(1);let r=1;if("-"===n&&(i=t.substring(1),r=-1),i[0]>="0"&&i[0]<="9")return r*Number(i);const[o,a]=VC(i);return r*e(o,a)},UT=(t,e,n,i)=>{const r=[];for(let o=0;o<t.length;o+=1){const a=t[o],s=a[0];if("+"===a){const t=r.pop();r.push(hE("+",r.pop(),t))}else if("-"===a)if(1===r.length){const t=r.pop();r.push(hE("*",t,-1))}else{const t=r.pop();r.push(hE("-",r.pop(),t))}else if("*"===a)r.push(hE("*",r.pop(),r.pop()));else if("/"===a){const t=r.pop();r.push(hE("/",r.pop(),t))}else if("="===s||">"===s||"<"===s){let t=r.pop();Number.isNaN(t)||(t=Number(t));let e=r.pop();Number.isNaN(e)||(e=Number(e));let n=!1;"="===s?n=e===t:">"===a?n=e>t:">="===a?n=e>=t:"<"===a?n=e<t:"<="===a&&(n=e<=t),r.push(n)}else if(Array.isArray(a)){const[t,n]=a,i=[];for(let e=0;e<n;e+=1)i.push(r.pop());r.push(e[t].render(i.reverse()))}else{if(i.includes(a))return 0;(s>="a"&&s<="z"||s>="A"&&s<="Z")&&i.push(a),r.push(HT(a,n)),i.pop()}}return r[0]},WT=(t,e,n,i=[])=>{if("="===t[0]){const r=VT(t.substring(1));return r.length<=0?t:UT(r,e,(t,r)=>WT(n(t,r),e,n,i),i)}return t};var YT={render:WT};const GT=[{key:"SUM",title:wE("formula.sum"),render:t=>t.reduce((t,e)=>hE("+",t,e),0)},{key:"AVERAGE",title:wE("formula.average"),render:t=>t.reduce((t,e)=>Number(t)+Number(e),0)/t.length},{key:"MAX",title:wE("formula.max"),render:t=>Math.max(...t.map(t=>Number(t)))},{key:"MIN",title:wE("formula.min"),render:t=>Math.min(...t.map(t=>Number(t)))},{key:"IF",title:wE("formula._if"),render:([t,e,n])=>t?e:n},{key:"AND",title:wE("formula.and"),render:t=>t.every(t=>t)},{key:"OR",title:wE("formula.or"),render:t=>t.some(t=>t)},{key:"CONCAT",title:wE("formula.concat"),render:t=>t.join("")}],KT=GT,ZT={};GT.forEach(t=>{ZT[t.key]=t});const XT=t=>t,QT=t=>{if(/^(-?\d*.?\d*)$/.test(t)){const e=Number(t).toFixed(2).toString(),[n,...i]=e.split("\\.");return[n.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),...i]}return t},JT=[{key:"normal",title:wE("format.normal"),type:"string",render:XT},{key:"text",title:wE("format.text"),type:"string",render:XT},{key:"number",title:wE("format.number"),type:"number",label:"1,000.12",render:QT},{key:"percent",title:wE("format.percent"),type:"number",label:"10.12%",render:t=>t+"%"},{key:"rmb",title:wE("format.rmb"),type:"number",label:"￥10.00",render:t=>"￥"+QT(t)},{key:"usd",title:wE("format.usd"),type:"number",label:"$10.00",render:t=>"$"+QT(t)},{key:"eur",title:wE("format.eur"),type:"number",label:"€10.00",render:t=>"€"+QT(t)},{key:"date",title:wE("format.date"),type:"date",label:"26/09/2008",render:XT},{key:"time",title:wE("format.time"),type:"date",label:"15:59:00",render:XT},{key:"datetime",title:wE("format.datetime"),type:"date",label:"26/09/2008 15:59:00",render:XT},{key:"duration",title:wE("format.duration"),type:"date",label:"24:01:00",render:XT}],tA={};JT.forEach(t=>{tA[t.key]=t});const eA=5,nA={fillStyle:"#f4f5f8"},iA={fillStyle:"#fff",lineWidth:MT,strokeStyle:"#e6e6e6"};function rA(){return{textAlign:"center",textBaseline:"middle",font:`500 ${DT(12)}px Source Sans Pro`,fillStyle:"#585757",lineWidth:MT(),strokeStyle:"#e6e6e6"}}function oA(t,e,n,i=0){const{left:r,top:o,width:a,height:s}=t.cellRect(e,n);return new RT(r,o+i,a,s,eA)}function aA(t,e,n,i,r=0){const{sortedRowMap:o,rows:a,cols:s}=e;if(a.isHide(n)||s.isHide(i))return;let l=n;o.has(n)&&(l=o.get(n));const u=e.getCell(l,i);if(null===u)return;let c=!1;"editable"in u&&!1===u.editable&&(c=!0);const h=e.getCellStyleOrDefault(l,i),d=oA(e,n,i,r);d.bgcolor=h.bgcolor,void 0!==h.border&&(d.setBorders(h.border),t.strokeBorders(d)),t.rect(d,()=>{let r=YT.render(u.text||"",ZT,(t,n)=>e.getCellTextOrDefault(n,t));h.format&&(r=tA[h.format].render(r));const o=Object.assign({},h.font);o.size=qT(o.size),t.text(r,d,{align:h.align,valign:h.valign,font:o,color:h.color,strike:h.strike,underline:h.underline},h.textwrap);const a=e.validations.getError(n,i);a&&t.error(d),c&&t.frozen(d)})}function sA(t){const{data:e,draw:n}=this;if(t){const{autoFilter:i}=e;if(!i.active())return;const r=i.hrange();t.intersects(r)&&r.each((t,i)=>{const r=oA(e,t,i);n.dropdown(r)})}}function lA(t,e,n,i,r){const{draw:o,data:a}=this;o.save(),o.translate(e,n).translate(i,r);const{exceptRowSet:s}=a,l=t=>{const e=s.has(t);if(e){const e=a.rows.getHeight(t);o.translate(0,-e)}return!e},u=a.exceptRowTotalHeight(t.sri,t.eri);o.save(),o.translate(0,-u),t.each((t,e)=>{aA(o,a,t,e)},t=>l(t)),o.restore();const c=new Set;o.save(),o.translate(0,-u),a.eachMergesInView(t,({sri:t,sci:e,eri:n})=>{if(s.has(t)){if(!c.has(t)){c.add(t);const e=a.rows.sumHeight(t,n+1);o.translate(0,-e)}}else aA(o,a,t,e)}),o.restore(),sA.call(this,t),o.restore()}function uA(t,e,n,i){const{draw:r}=this;r.save(),r.attr({fillStyle:"rgba(75, 137, 255, 0.08)"}).fillRect(t,e,n,i),r.restore()}function cA(t,e,n,i,r,o){const{draw:a,data:s}=this,l=e.h,u=e.w,c=o+i,h=r+n;a.save(),a.attr(nA),"all"!==t&&"left"!==t||a.fillRect(0,c,n,l),"all"!==t&&"top"!==t||a.fillRect(h,0,u,i);const{sri:d,sci:f,eri:p,eci:v}=s.selector.range;a.attr(rA()),"all"!==t&&"left"!==t||(s.rowEach(e.sri,e.eri,(t,e,i)=>{const r=c+e,o=t;a.line([0,r],[n,r]),d<=o&&o<p+1&&uA.call(this,0,r,n,i),a.fillText(o+1,n/2,r+i/2),t>0&&s.rows.isHide(t-1)&&(a.save(),a.attr({strokeStyle:"#c6c6c6"}),a.line([5,r+5],[n-5,r+5]),a.restore())}),a.line([0,l+c],[n,l+c]),a.line([n,c],[n,l+c])),"all"!==t&&"top"!==t||(s.colEach(e.sci,e.eci,(t,e,n)=>{const r=h+e,o=t;a.line([r,0],[r,i]),f<=o&&o<v+1&&uA.call(this,r,0,n,i),a.fillText(FC(o),r+n/2,i/2),t>0&&s.cols.isHide(t-1)&&(a.save(),a.attr({strokeStyle:"#c6c6c6"}),a.line([r+5,5],[r+5,i-5]),a.restore())}),a.line([u+h,0],[u+h,i]),a.line([0,i],[u+h,i])),a.restore()}function hA(t,e){const{draw:n}=this;n.save(),n.attr({fillStyle:"#f4f5f8"}).fillRect(0,0,t,e),n.restore()}function dA({sri:t,sci:e,eri:n,eci:i,w:r,h:o},a,s,l,u){const{draw:c,data:h}=this,{settings:d}=h;c.save(),c.attr(iA).translate(a+l,s+u),c.clearRect(0,0,r,o),d.showGrid?(h.rowEach(t,n,(e,i,o)=>{e!==t&&c.line([0,i],[r,i]),e===n&&c.line([0,i+o],[r,i+o])}),h.colEach(e,i,(t,n,r)=>{t!==e&&c.line([n,0],[n,o]),t===i&&c.line([n+r,0],[n+r,o])}),c.restore()):c.restore()}function fA(t,e,n,i){const{draw:r,data:o}=this,a=o.viewWidth()-t,s=o.viewHeight()-e;r.save().translate(t,e).attr({strokeStyle:"rgba(75, 137, 255, .6)"}),r.line([0,i],[a,i]),r.line([n,0],[n,s]),r.restore()}class pA{constructor(t,e){this.el=t,this.draw=new zT(t,e.viewWidth(),e.viewHeight()),this.data=e}resetData(t){this.data=t,this.render()}render(){const{data:t}=this,{rows:e,cols:n}=t,i=n.indexWidth,r=e.height;this.draw.resize(t.viewWidth(),t.viewHeight()),this.clear();const o=t.viewRange(),a=t.freezeTotalWidth(),s=t.freezeTotalHeight(),{x:l,y:u}=t.scroll;dA.call(this,o,i,r,a,s),lA.call(this,o,i,r,-l,-u),cA.call(this,"all",o,i,r,a,s),hA.call(this,i,r);const[c,h]=t.freeze;if(c>0||h>0){if(c>0){const t=o.clone();t.sri=0,t.eri=c-1,t.h=s,dA.call(this,t,i,r,a,0),lA.call(this,t,i,r,-l,0),cA.call(this,"top",t,i,r,a,0)}if(h>0){const t=o.clone();t.sci=0,t.eci=h-1,t.w=a,dA.call(this,t,i,r,0,s),cA.call(this,"left",t,i,r,0,s),lA.call(this,t,i,r,0,-u)}const e=t.freezeViewRange();dA.call(this,e,i,r,0,0),cA.call(this,"all",e,i,r,0,0),lA.call(this,e,i,r,0,0),fA.call(this,i,r,a,s)}}clear(){this.draw.clear()}}const vA=[["A3",11.69,16.54],["A4",8.27,11.69],["A5",5.83,8.27],["B4",9.84,13.9],["B5",6.93,9.84]],mA=["landscape","portrait"];function gA(t){return parseInt(96*t,10)}function yA(t){"cancel"===t?this.el.hide():this.toPrint()}function bA(t){const{paper:e}=this,{value:n}=t.target,i=vA[n];e.w=gA(i[1]),e.h=gA(i[2]),this.preview()}function wA(t){const{paper:e}=this,{value:n}=t.target,i=mA[n];e.orientation=i,this.preview()}class xA{constructor(t){this.paper={w:gA(vA[0][1]),h:gA(vA[0][2]),padding:50,orientation:mA[0],get width(){return"landscape"===this.orientation?this.h:this.w},get height(){return"landscape"===this.orientation?this.w:this.h}},this.data=t,this.el=zC("div",UE+"-print").children(zC("div",UE+"-print-bar").children(zC("div","-title").child("Print settings"),zC("div","-right").children(zC("div",UE+"-buttons").children(new IT("cancel").on("click",yA.bind(this,"cancel")),new IT("next","primary").on("click",yA.bind(this,"next"))))),zC("div",UE+"-print-content").children(this.contentEl=zC("div","-content"),zC("div","-sider").child(zC("form","").children(zC("fieldset","").children(zC("label","").child(""+bE("print.size")),zC("select","").children(...vA.map((t,e)=>zC("option","").attr("value",e).child(`${t[0]} ( ${t[1]}''x${t[2]}'' )`))).on("change",bA.bind(this))),zC("fieldset","").children(zC("label","").child(""+bE("print.orientation")),zC("select","").children(...mA.map((t,e)=>zC("option","").attr("value",e).child(""+bE("print.orientations")[e]))).on("change",wA.bind(this))))))).hide()}resetData(t){this.data=t}preview(){const{data:t,paper:e}=this,{width:n,height:i,padding:r}=e,o=n-2*r,a=i-2*r,s=t.contentRange(),l=parseInt(s.h/a,10)+1,u=o/s.w;let c=r;const h=r;u>1&&(c+=(o-s.w)/2);let d=0,f=0;this.contentEl.html(""),this.canvases=[];const p={sri:0,sci:0,eri:0,eci:0};for(let v=0;v<l;v+=1){let e=0,r=0;const o=zC("div",UE+"-canvas-card"),l=zC("canvas",UE+"-canvas");this.canvases.push(l.el);const v=new zT(l.el,n,i);for(v.save(),v.translate(c,h),u<1&&v.scale(u,u);d<=s.eri;d+=1){const n=t.rows.getHeight(d);if(e+=n,!(e<a)){r=-(e-n);break}for(let e=0;e<=s.eci;e+=1)aA(v,t,d,e,f),p.eci=e}p.eri=d,v.restore(),v.save(),v.translate(c,h),u<1&&v.scale(u,u);const m=f;t.eachMergesInView(p,({sri:e,sci:n})=>{aA(v,t,e,n,m)}),v.restore(),p.sri=p.eri,p.sci=p.eci,f+=r,this.contentEl.child(zC("div",UE+"-canvas-card-wraper").child(o.child(l)))}this.el.show()}toPrint(){this.el.hide();const{paper:t}=this,e=zC("iframe","").hide(),{el:n}=e;window.document.body.appendChild(n);const{contentWindow:i}=n,r=i.document,o=document.createElement("style");o.innerHTML=`\n      @page { size: ${t.width}px ${t.height}px; };\n      canvas {\n        page-break-before: auto;        \n        page-break-after: always;\n        image-rendering: pixelated;\n      };\n    `,r.head.appendChild(o),this.canvases.forEach(t=>{const e=t.cloneNode(!1),n=e.getContext("2d");n.drawImage(t,0,0),r.body.appendChild(e)}),i.print()}}const kA=[{key:"copy",title:wE("contextmenu.copy"),label:"Ctrl+C"},{key:"cut",title:wE("contextmenu.cut"),label:"Ctrl+X"},{key:"paste",title:wE("contextmenu.paste"),label:"Ctrl+V"},{key:"paste-value",title:wE("contextmenu.pasteValue"),label:"Ctrl+Shift+V"},{key:"paste-format",title:wE("contextmenu.pasteFormat"),label:"Ctrl+Alt+V"},{key:"divider"},{key:"insert-row",title:wE("contextmenu.insertRow")},{key:"insert-column",title:wE("contextmenu.insertColumn")},{key:"divider"},{key:"delete-row",title:wE("contextmenu.deleteRow")},{key:"delete-column",title:wE("contextmenu.deleteColumn")},{key:"delete-cell-text",title:wE("contextmenu.deleteCellText")},{key:"hide",title:wE("contextmenu.hide")},{key:"divider"},{key:"validation",title:wE("contextmenu.validation")},{key:"divider"},{key:"cell-printable",title:wE("contextmenu.cellprintable")},{key:"cell-non-printable",title:wE("contextmenu.cellnonprintable")},{key:"divider"},{key:"cell-editable",title:wE("contextmenu.celleditable")},{key:"cell-non-editable",title:wE("contextmenu.cellnoneditable")}];function SA(t){return"divider"===t.key?zC("div",UE+"-item divider"):zC("div",UE+"-item").on("click",()=>{this.itemClick(t.key),this.hide()}).children(t.title(),zC("div","label").child(t.label||""))}function _A(){return kA.map(t=>SA.call(this,t))}class OA{constructor(t,e=!1){this.menuItems=_A.call(this),this.el=zC("div",UE+"-contextmenu").children(...this.menuItems).hide(),this.viewFn=t,this.itemClick=()=>{},this.isHide=e,this.setMode("range")}setMode(t){const e=this.menuItems[12];"row-col"===t?e.show():e.hide()}hide(){const{el:t}=this;t.hide(),$E(t)}setPosition(t,e){if(this.isHide)return;const{el:n}=this,{width:i}=n.show().offset(),r=this.viewFn(),o=r.height/2;let a=t;r.width-t<=i&&(a-=i),n.css("left",a+"px"),e>o?n.css("bottom",r.height-e+"px").css("max-height",e+"px").css("top","auto"):n.css("top",e+"px").css("max-height",r.height-e+"px").css("bottom","auto"),FE(n)}}function CA(t,e){if(e.classList.contains("active"))return;const{left:n,top:i,width:r,height:o}=e.getBoundingClientRect(),a=zC("div",UE+"-tooltip").html(t).show();document.body.appendChild(a.el);const s=a.box();a.css("left",n+r/2-s.width/2+"px").css("top",i+o+2+"px"),BE(e,"mouseleave",()=>{document.body.contains(a.el)&&document.body.removeChild(a.el)}),BE(e,"click",()=>{document.body.contains(a.el)&&document.body.removeChild(a.el)})}class EA{constructor(t,e,n){this.tip=bE("toolbar."+t.replace(/-[a-z]/g,t=>t[1].toUpperCase())),e&&(this.tip+=` (${e})`),this.tag=t,this.shortcut=e,this.value=n,this.el=this.element(),this.change=()=>{}}element(){const{tip:t}=this;return zC("div",UE+"-toolbar-btn").on("mouseenter",e=>{CA(t,e.target)}).attr("data-tooltip",t)}setState(){}}class TA extends EA{dropdown(){}getValue(t){return t}element(){const{tag:t}=this;return this.dd=this.dropdown(),this.dd.change=e=>this.change(t,this.getValue(e)),super.element().child(this.dd)}setState(t){t&&(this.value=t,this.dd.setTitle(t))}}class AA extends BC{constructor(t,e,n,i,...r){super("div",`${UE}-dropdown ${i}`),this.title=t,this.change=()=>{},this.headerClick=()=>{},"string"===typeof t?this.title=zC("div",UE+"-dropdown-title").child(t):n&&this.title.addClass("arrow-left"),this.contentEl=zC("div",UE+"-dropdown-content").css("width",e).hide(),this.setContentChildren(...r),this.headerEl=zC("div",UE+"-dropdown-header"),this.headerEl.on("click",()=>{"block"!==this.contentEl.css("display")?this.show():this.hide()}).children(this.title,n?zC("div",UE+"-icon arrow-right").child(zC("div",UE+"-icon-img arrow-down")):""),this.children(this.headerEl,this.contentEl)}setContentChildren(...t){this.contentEl.html(""),t.length>0&&this.contentEl.children(...t)}setTitle(t){this.title.html(t),this.hide()}show(){const{contentEl:t}=this;t.show(),this.parent().active(),FE(this.parent(),()=>{this.hide()})}hide(){this.parent().active(!1),this.contentEl.hide(),$E(this.parent())}}function jA(t){return zC("div",UE+"-item").child(new mT(t))}class NA extends AA{constructor(t,e){const n=new mT("align-"+e),i=t.map(t=>jA("align-"+t).on("click",()=>{this.setTitle(t),this.change(t)}));super(n,"auto",!0,"bottom-left",...i)}setTitle(t){this.title.setName("align-"+t),this.hide()}}class IA extends TA{constructor(t){super("align","",t)}dropdown(){const{value:t}=this;return new NA(["left","center","right"],t)}}class PA extends TA{constructor(t){super("valign","",t)}dropdown(){const{value:t}=this;return new NA(["top","middle","bottom"],t)}}class MA extends EA{element(){const{tag:t}=this;return super.element().child(new mT(t)).on("click",()=>this.click())}click(){this.change(this.tag,this.toggle())}setState(t){this.el.active(t)}toggle(){return this.el.toggle()}active(){return this.el.hasClass("active")}}class DA extends MA{constructor(){super("autofilter")}setState(){}}class LA extends MA{constructor(){super("font-bold","Ctrl+B")}}class RA extends MA{constructor(){super("font-italic","Ctrl+I")}}class BA extends MA{constructor(){super("strike","Ctrl+U")}}class zA extends MA{constructor(){super("underline","Ctrl+U")}}const $A=["#ffffff","#000100","#e7e5e6","#445569","#5b9cd6","#ed7d31","#a5a5a5","#ffc001","#4371c6","#71ae47"],FA=[["#f2f2f2","#7f7f7f","#d0cecf","#d5dce4","#deeaf6","#fce5d5","#ededed","#fff2cd","#d9e2f3","#e3efd9"],["#d8d8d8","#595959","#afabac","#adb8ca","#bdd7ee","#f7ccac","#dbdbdb","#ffe59a","#b3c6e7","#c5e0b3"],["#bfbfbf","#3f3f3f","#756f6f","#8596b0","#9cc2e6","#f4b184","#c9c9c9","#fed964","#8eaada","#a7d08c"],["#a5a5a5","#262626","#3a3839","#333f4f","#2e75b5","#c45a10","#7b7b7b","#bf8e01","#2f5596","#538136"],["#7f7f7f","#0c0c0c","#171516","#222a35","#1f4e7a","#843c0a","#525252","#7e6000","#203864","#365624"]],qA=["#c00000","#fe0000","#fdc101","#ffff01","#93d051","#00b04e","#01b0f1","#0170c1","#012060","#7030a0"];function VA(t){return zC("td","").child(zC("div",UE+"-color-palette-cell").on("click.stop",()=>this.change(t)).css("background-color",t))}class HA{constructor(){this.el=zC("div",UE+"-color-palette"),this.change=()=>{};const t=zC("table","").children(zC("tbody","").children(zC("tr",UE+"-theme-color-placeholders").children(...$A.map(t=>VA.call(this,t))),...FA.map(t=>zC("tr",UE+"-theme-colors").children(...t.map(t=>VA.call(this,t)))),zC("tr",UE+"-standard-colors").children(...qA.map(t=>VA.call(this,t)))));this.el.child(t)}}class UA extends AA{constructor(t,e){const n=new mT(t).css("height","16px").css("border-bottom","3px solid "+e),i=new HA;i.change=t=>{this.setTitle(t),this.change(t)},super(n,"auto",!1,"bottom-left",i.el)}setTitle(t){this.title.css("border-color",t),this.hide()}}const WA=[["thin",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" style="user-select: none;"></line></svg>'],["medium",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="2" style="user-select: none;"><line x1="0" y1="1.0" x2="50" y2="1.0" stroke-width="2" stroke="black" style="user-select: none;"></line></svg>'],["thick",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="3" style="user-select: none;"><line x1="0" y1="1.5" x2="50" y2="1.5" stroke-width="3" stroke="black" style="user-select: none;"></line></svg>'],["dashed",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="2" style="user-select: none;"></line></svg>'],["dotted",'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="1" style="user-select: none;"><line x1="0" y1="0.5" x2="50" y2="0.5" stroke-width="1" stroke="black" stroke-dasharray="1" style="user-select: none;"></line></svg>']];class YA extends AA{constructor(t){const e=new mT("line-type");let n=0;const i=WA.map((e,r)=>zC("div",`${UE}-item state ${t===e[0]?"checked":""}`).on("click",()=>{i[n].toggle("checked"),i[r].toggle("checked"),n=r,this.hide(),this.change(e)}).child(zC("div",UE+"-line-type").html(e[1])));super(e,"auto",!1,"bottom-left",...i)}}function GA(...t){return zC("table","").child(zC("tbody","").children(...t))}function KA(t){return zC("td","").child(zC("div",UE+"-border-palette-cell").child(new mT("border-"+t)).on("click",()=>{this.mode=t;const{mode:e,style:n,color:i}=this;this.change({mode:e,style:n,color:i})}))}class ZA{constructor(){this.color="#000",this.style="thin",this.mode="all",this.change=()=>{},this.ddColor=new UA("line-color",this.color),this.ddColor.change=t=>{this.color=t},this.ddType=new YA(this.style),this.ddType.change=([t])=>{this.style=t},this.el=zC("div",UE+"-border-palette");const t=GA(zC("tr","").children(zC("td",UE+"-border-palette-left").child(GA(zC("tr","").children(...["all","inside","horizontal","vertical","outside"].map(t=>KA.call(this,t))),zC("tr","").children(...["left","top","right","bottom","none"].map(t=>KA.call(this,t))))),zC("td",UE+"-border-palette-right").children(zC("div",UE+"-toolbar-btn").child(this.ddColor.el),zC("div",UE+"-toolbar-btn").child(this.ddType.el))));this.el.child(t)}}class XA extends AA{constructor(){const t=new mT("border-all"),e=new ZA;e.change=t=>{this.change(t),this.hide()},super(t,"auto",!1,"bottom-left",e.el)}}class QA extends TA{constructor(){super("border")}dropdown(){return new XA}}class JA extends EA{element(){return super.element().child(new mT(this.tag)).on("click",()=>this.change(this.tag))}setState(t){this.el.disabled(t)}}class tj extends JA{constructor(){super("clearformat")}}class ej extends MA{constructor(){super("paintformat")}setState(){}}class nj extends TA{constructor(t){super("color",void 0,t)}dropdown(){const{tag:t,value:e}=this;return new UA(t,e)}}class ij extends TA{constructor(t){super("bgcolor",void 0,t)}dropdown(){const{tag:t,value:e}=this;return new UA(t,e)}}class rj extends AA{constructor(){const t=FT.map(t=>zC("div",UE+"-item").on("click",()=>{this.setTitle(""+t.pt),this.change(t)}).child(""+t.pt));super("10","60px",!0,"bottom-left",...t)}}class oj extends TA{constructor(){super("font-size")}getValue(t){return t.pt}dropdown(){return new rj}}class aj extends AA{constructor(){const t=$T.map(t=>zC("div",UE+"-item").on("click",()=>{this.setTitle(t.title),this.change(t)}).child(t.title));super($T[0].title,"160px",!0,"bottom-left",...t)}}class sj extends TA{constructor(){super("font-name")}getValue(t){return t.key}dropdown(){return new aj}}class lj extends AA{constructor(){let t=JT.slice(0);t.splice(2,0,{key:"divider"}),t.splice(8,0,{key:"divider"}),t=t.map(t=>{const e=zC("div",UE+"-item");return"divider"===t.key?e.addClass("divider"):(e.child(t.title()).on("click",()=>{this.setTitle(t.title()),this.change(t)}),t.label&&e.child(zC("div","label").html(t.label))),e}),super("Normal","220px",!0,"bottom-left",...t)}setTitle(t){for(let e=0;e<JT.length;e+=1)JT[e].key===t&&this.title.html(JT[e].title());this.hide()}}class uj extends TA{constructor(){super("format")}getValue(t){return t.key}dropdown(){return new lj}}class cj extends AA{constructor(){const t=GT.map(t=>zC("div",UE+"-item").on("click",()=>{this.hide(),this.change(t)}).child(t.key));super(new mT("formula"),"180px",!0,"bottom-left",...t)}}class hj extends TA{constructor(){super("formula")}getValue(t){return t.key}dropdown(){return new cj}}class dj extends MA{constructor(){super("freeze")}}class fj extends MA{constructor(){super("merge")}setState(t,e){this.el.active(t).disabled(e)}}class pj extends JA{constructor(){super("redo","Ctrl+Y")}}class vj extends JA{constructor(){super("undo","Ctrl+Z")}}class mj extends JA{constructor(){super("print","Ctrl+P")}}class gj extends MA{constructor(){super("textwrap")}}class yj extends AA{constructor(){const t=new mT("ellipsis"),e=zC("div",UE+"-toolbar-more");super(t,"auto",!1,"bottom-right",e),this.moreBtns=e,this.contentEl.css("max-width","420px")}}class bj extends TA{constructor(){super("more"),this.el.hide()}dropdown(){return new yj}show(){this.el.show()}hide(){this.el.hide()}}function wj(){return zC("div",UE+"-toolbar-divider")}function xj(){this.btns2=[],this.items.forEach(t=>{if(Array.isArray(t))t.forEach(({el:t})=>{const e=t.box(),{marginLeft:n,marginRight:i}=t.computedStyle();this.btns2.push([t,e.width+parseInt(n,10)+parseInt(i,10)])});else{const e=t.box(),{marginLeft:n,marginRight:i}=t.computedStyle();this.btns2.push([t,e.width+parseInt(n,10)+parseInt(i,10)])}})}function kj(){const{el:t,btns:e,moreEl:n,btns2:i}=this,{moreBtns:r,contentEl:o}=n.dd;t.css("width",this.widthFn()-60+"px");const a=t.box();let s=160,l=12;const u=[],c=[];i.forEach(([t,e],n)=>{s+=e,n===i.length-1||s<a.width?u.push(t):(l+=e,c.push(t))}),e.html("").children(...u),r.html("").children(...c),o.css("width",l+"px"),c.length>0?n.show():n.hide()}class Sj{constructor(t,e,n=!1){this.data=t,this.change=()=>{},this.widthFn=e,this.isHide=n;const i=t.defaultStyle();this.items=[[this.undoEl=new vj,this.redoEl=new pj,new mj,this.paintformatEl=new ej,this.clearformatEl=new tj],wj(),[this.formatEl=new uj],wj(),[this.fontEl=new sj,this.fontSizeEl=new oj],wj(),[this.boldEl=new LA,this.italicEl=new RA,this.underlineEl=new zA,this.strikeEl=new BA,this.textColorEl=new nj(i.color)],wj(),[this.fillColorEl=new ij(i.bgcolor),this.borderEl=new QA,this.mergeEl=new fj],wj(),[this.alignEl=new IA(i.align),this.valignEl=new PA(i.valign),this.textwrapEl=new gj],wj(),[this.freezeEl=new dj,this.autofilterEl=new DA,this.formulaEl=new hj,this.moreEl=new bj]],this.el=zC("div",UE+"-toolbar"),this.btns=zC("div",UE+"-toolbar-btns"),this.items.forEach(t=>{Array.isArray(t)?t.forEach(t=>{this.btns.child(t.el),t.change=(...t)=>{this.change(...t)}}):this.btns.child(t.el)}),this.el.child(this.btns),n?this.el.hide():(this.reset(),setTimeout(()=>{xj.call(this),kj.call(this)},0),BE(window,"resize",()=>{kj.call(this)}))}paintformatActive(){return this.paintformatEl.active()}paintformatToggle(){this.paintformatEl.toggle()}trigger(t){this[t+"El"].click()}resetData(t){this.data=t,this.reset()}reset(){if(this.isHide)return;const{data:t}=this,e=t.getSelectedCellStyle();this.undoEl.setState(!t.canUndo()),this.redoEl.setState(!t.canRedo()),this.mergeEl.setState(t.canUnmerge(),!t.selector.multiple()),this.autofilterEl.setState(!t.canAutofilter());const{font:n,format:i}=e;this.formatEl.setState(i),this.fontEl.setState(n.name),this.fontSizeEl.setState(n.size),this.boldEl.setState(n.bold),this.italicEl.setState(n.italic),this.underlineEl.setState(e.underline),this.strikeEl.setState(e.strike),this.textColorEl.setState(e.color),this.fillColorEl.setState(e.bgcolor),this.alignEl.setState(e.align),this.valignEl.setState(e.valign),this.textwrapEl.setState(e.textwrap),this.freezeEl.setState(t.freezeIsActive())}}class _j{constructor(t,e,n="600px"){this.title=t,this.el=zC("div",UE+"-modal").css("width",n).children(zC("div",UE+"-modal-header").children(new mT("close").on("click.stop",()=>this.hide()),this.title),zC("div",UE+"-modal-content").children(...e)).hide()}show(){this.dimmer=zC("div",UE+"-dimmer active"),document.body.appendChild(this.dimmer.el);const{width:t,height:e}=this.el.show().box(),{clientHeight:n,clientWidth:i}=document.documentElement;this.el.offset({left:(i-t)/2,top:(n-e)/3}),window.xkeydownEsc=t=>{27===t.keyCode&&this.hide()},BE(window,"keydown",window.xkeydownEsc)}hide(){this.el.hide(),document.body.removeChild(this.dimmer.el),zE(window,"keydown",window.xkeydownEsc),delete window.xkeydownEsc}}class Oj{constructor(t,e){this.vchange=()=>{},this.el=zC("div",UE+"-form-input"),this.input=zC("input","").css("width",t).on("input",t=>this.vchange(t)).attr("placeholder",e),this.el.child(this.input)}focus(){setTimeout(()=>{this.input.el.focus()},10)}hint(t){this.input.attr("placeholder",t)}val(t){return this.input.val(t)}}class Cj{constructor(t,e,n,i=(t=>t),r=(()=>{})){this.key=t,this.getTitle=i,this.vchange=()=>{},this.el=zC("div",UE+"-form-select"),this.suggest=new vT(e.map(t=>({key:t,title:this.getTitle(t)})),t=>{this.itemClick(t.key),r(t.key),this.vchange(t.key)},n,this.el),this.el.children(this.itemEl=zC("div","input-text").html(this.getTitle(t)),this.suggest.el).on("click",()=>this.show())}show(){this.suggest.search("")}itemClick(t){this.key=t,this.itemEl.html(this.getTitle(t))}val(t){return void 0!==t?(this.key=t,this.itemEl.html(this.getTitle(t)),this):this.key}}const Ej={number:/(^\d+$)|(^\d+(\.\d{0,4})?$)/,date:/^\d{4}-\d{1,2}-\d{1,2}$/};class Tj{constructor(t,e,n,i){this.label="",this.rule=e,n&&(this.label=zC("label","label").css("width",i+"px").html(n)),this.tip=zC("div","tip").child("tip").hide(),this.input=t,this.input.vchange=()=>this.validate(),this.el=zC("div",UE+"-form-field").children(this.label,t.el,this.tip)}isShow(){return"none"!==this.el.css("display")}show(){this.el.show()}hide(){return this.el.hide(),this}val(t){return this.input.val(t)}hint(t){this.input.hint(t)}validate(){const{input:t,rule:e,tip:n,el:i}=this,r=t.val();if(e.required&&/^\s*$/.test(r))return n.html(bE("validation.required")),i.addClass("error"),!1;if(e.type||e.pattern){const t=e.pattern||Ej[e.type];if(!t.test(r))return n.html(bE("validation.notMatch")),i.addClass("error"),!1}return i.removeClass("error"),!0}}const Aj=100;class jj extends _j{constructor(){const t=new Tj(new Cj("cell",["cell"],"100%",t=>bE("dataValidation.modeType."+t)),{required:!0},bE("dataValidation.range")+":",Aj),e=new Tj(new Oj("120px","E3 or E3:F12"),{required:!0,pattern:/^([A-Z]{1,2}[1-9]\d*)(:[A-Z]{1,2}[1-9]\d*)?$/}),n=new Tj(new Cj("list",["list","number","date","phone","email"],"100%",t=>bE("dataValidation.type."+t),t=>this.criteriaSelected(t)),{required:!0},bE("dataValidation.criteria")+":",Aj),i=new Tj(new Cj("be",["be","nbe","eq","neq","lt","lte","gt","gte"],"160px",t=>bE("dataValidation.operator."+t),t=>this.criteriaOperatorSelected(t)),{required:!0}).hide(),r=new Tj(new Oj("70px","10"),{required:!0}).hide(),o=new Tj(new Oj("70px","100"),{required:!0,type:"number"}).hide(),a=new Tj(new Oj("120px","a,b,c"),{required:!0}),s=new Tj(new Oj("70px","10"),{required:!0,type:"number"}).hide();super(bE("contextmenu.validation"),[zC("div",UE+"-form-fields").children(t.el,e.el),zC("div",UE+"-form-fields").children(n.el,i.el,r.el,o.el,s.el,a.el),zC("div",UE+"-buttons").children(new IT("cancel").on("click",()=>this.btnClick("cancel")),new IT("remove").on("click",()=>this.btnClick("remove")),new IT("save","primary").on("click",()=>this.btnClick("save")))]),this.mf=t,this.rf=e,this.cf=n,this.of=i,this.minvf=r,this.maxvf=o,this.vf=s,this.svf=a,this.change=()=>{}}showVf(t){const e="date"===t?"2018-11-12":"10",{vf:n}=this;n.input.hint(e),n.show()}criteriaSelected(t){const{of:e,minvf:n,maxvf:i,vf:r,svf:o}=this;"date"===t||"number"===t?(e.show(),n.rule.type=t,i.rule.type=t,"date"===t?(n.hint("2018-11-12"),i.hint("2019-11-12")):(n.hint("10"),i.hint("100")),n.show(),i.show(),r.hide(),o.hide()):("list"===t?o.show():o.hide(),r.hide(),e.hide(),n.hide(),i.hide())}criteriaOperatorSelected(t){if(!t)return;const{minvf:e,maxvf:n,vf:i}=this;if("be"===t||"nbe"===t)e.show(),n.show(),i.hide();else{const t=this.cf.val();i.rule.type=t,"date"===t?i.hint("2018-11-12"):i.hint("10"),i.show(),e.hide(),n.hide()}}btnClick(t){if("cancel"===t)this.hide();else if("remove"===t)this.change("remove"),this.hide();else if("save"===t){const t=["mf","rf","cf","of","svf","vf","minvf","maxvf"];for(let a=0;a<t.length;a+=1){const e=this[t[a]];if(e.isShow()&&!e.validate())return}const e=this.mf.val(),n=this.rf.val(),i=this.cf.val(),r=this.of.val();let o=this.svf.val();"number"!==i&&"date"!==i||(o="be"===r||"nbe"===r?[this.minvf.val(),this.maxvf.val()]:this.vf.val()),this.change("save",e,n,{type:i,operator:r,required:!1,value:o}),this.hide()}}setValue(t){if(t){const{mf:e,rf:n,cf:i,of:r,svf:o,vf:a,minvf:s,maxvf:l}=this,{mode:u,ref:c,validator:h}=t,{type:d,operator:f,value:p}=h||{type:"list"};e.val(u||"cell"),n.val(c),i.val(d),r.val(f),Array.isArray(p)?(s.val(p[0]),l.val(p[1])):(o.val(p||""),a.val(p||"")),this.criteriaSelected(d),this.criteriaOperatorSelected(f)}this.show()}}function Nj(t){return zC("div",`${UE}-item ${t}`)}function Ij(t){return Nj("state").child(bE("sort."+t)).on("click.stop",()=>this.itemClick(t))}function Pj(t){const{filterbEl:e,filterValues:n}=this;e.html("");const i=Object.keys(t);i.forEach((i,r)=>{const o=t[i],a=n.includes(i)?"checked":"";e.child(zC("div",`${UE}-item state ${a}`).on("click.stop",()=>this.filterClick(r,i)).children(""===i?bE("filter.empty"):i,zC("div","label").html(`(${o})`)))})}function Mj(){const{filterhEl:t,filterValues:e,values:n}=this;t.html(`${e.length} / ${n.length}`),t.checked(e.length===n.length)}class Dj{constructor(){this.filterbEl=zC("div",UE+"-body"),this.filterhEl=zC("div",UE+"-header state").on("click.stop",()=>this.filterClick(0,"all")),this.el=zC("div",UE+"-sort-filter").children(this.sortAscEl=Ij.call(this,"asc"),this.sortDescEl=Ij.call(this,"desc"),Nj("divider"),zC("div",UE+"-filter").children(this.filterhEl,this.filterbEl),zC("div",UE+"-buttons").children(new IT("cancel").on("click",()=>this.btnClick("cancel")),new IT("ok","primary").on("click",()=>this.btnClick("ok")))).hide(),this.ci=null,this.sortDesc=null,this.values=null,this.filterValues=[]}btnClick(t){if("ok"===t){const{ci:t,sort:e,filterValues:n}=this;this.ok&&this.ok(t,e,"in",n)}this.hide()}itemClick(t){this.sort=t;const{sortAscEl:e,sortDescEl:n}=this;e.checked("asc"===t),n.checked("desc"===t)}filterClick(t,e){const{filterbEl:n,filterValues:i,values:r}=this,o=n.children();if("all"===e)o.length===i.length?(this.filterValues=[],o.forEach(t=>zC(t).checked(!1))):(this.filterValues=Array.from(r),o.forEach(t=>zC(t).checked(!0)));else{const n=zC(o[t]).toggle("checked");n?i.push(e):i.splice(i.findIndex(t=>t===e),1)}Mj.call(this)}set(t,e,n,i){this.ci=t;const{sortAscEl:r,sortDescEl:o}=this;null!==i?(this.sort=i.order,r.checked(i.asc()),o.checked(i.desc())):(this.sortDesc=null,r.checked(!1),o.checked(!1)),this.values=Object.keys(e),this.filterValues=n?Array.from(n.value):Object.keys(e),Pj.call(this,e,n),Mj.call(this)}setOffset(t){this.el.offset(t).show();let e=1;FE(this.el,()=>{e<=0&&this.hide(),e-=1})}show(){this.el.show()}hide(){this.el.hide(),$E(this.el)}}function Lj(t,e){const n=zC("div",UE+"-toast"),i=zC("div",UE+"-dimmer active"),r=()=>{document.body.removeChild(n.el),document.body.removeChild(i.el)};n.children(zC("div",UE+"-toast-header").children(new mT("close").on("click.stop",()=>r()),t),zC("div",UE+"-toast-content").html(e)),document.body.appendChild(n.el),document.body.appendChild(i.el);const{width:o,height:a}=n.box(),{clientHeight:s,clientWidth:l}=document.documentElement;n.offset({left:(l-o)/2,top:(s-a)/3})}function Rj(t,e){let n;return(...i)=>{const r=this,o=i;n||(n=setTimeout(()=>{n=null,t.apply(r,o)},e))}}function Bj(){const{data:t,verticalScrollbar:e,horizontalScrollbar:n}=this,{l:i,t:r,left:o,top:a,width:s,height:l}=t.getSelectedRect(),u=this.getTableOffset();if(Math.abs(o)+s>u.width)n.move({left:i+s-u.width});else{const e=t.freezeTotalWidth();o<e&&n.move({left:i-1-e})}if(Math.abs(a)+l>u.height)e.move({top:r+l-u.height-1});else{const n=t.freezeTotalHeight();a<n&&e.move({top:r-1-n})}}function zj(t,e,n,i=!0,r=!1){if(-1===e&&-1===n)return;const{table:o,selector:a,toolbar:s,data:l,contextMenu:u}=this;u.setMode(-1===e||-1===n?"row-col":"range");const c=l.getCell(e,n);t?(a.setEnd(e,n,r),this.trigger("cells-selected",c,a.range)):(a.set(e,n,i),this.trigger("cell-selected",c,e,n)),s.reset(),o.render()}function $j(t,e){const{selector:n,data:i}=this,{rows:r,cols:o}=i;let[a,s]=n.indexes;const{eri:l,eci:u}=n.range;t&&([a,s]=n.moveIndexes),"left"===e?s>0&&(s-=1):"right"===e?(u!==s&&(s=u),s<o.len-1&&(s+=1)):"up"===e?a>0&&(a-=1):"down"===e?(l!==a&&(a=l),a<r.len-1&&(a+=1)):"row-first"===e?s=0:"row-last"===e?s=o.len-1:"col-first"===e?a=0:"col-last"===e&&(a=r.len-1),t&&(n.moveIndexes=[a,s]),zj.call(this,t,a,s),Bj.call(this)}function Fj(t){if(0!==t.buttons)return;if(t.target.className===UE+"-resizer-hover")return;const{offsetX:e,offsetY:n}=t,{rowResizer:i,colResizer:r,tableEl:o,data:a}=this,{rows:s,cols:l}=a;if(e>l.indexWidth&&n>s.height)return i.hide(),void r.hide();const u=o.box(),c=a.getCellRectByXY(t.offsetX,t.offsetY);c.ri>=0&&-1===c.ci?(c.width=l.indexWidth,i.show(c,{width:u.width}),s.isHide(c.ri-1)?i.showUnhide(c.ri):i.hideUnhide()):i.hide(),-1===c.ri&&c.ci>=0?(c.height=s.height,r.show(c,{height:u.height}),l.isHide(c.ci-1)?r.showUnhide(c.ci):r.hideUnhide()):r.hide()}let qj=15;function Vj(t){if(qj-=1,qj>0)return;qj=15;const{verticalScrollbar:e,horizontalScrollbar:n,data:i}=this,{top:r}=e.scroll(),{left:o}=n.scroll(),{rows:a,cols:s}=i,{deltaY:l,deltaX:u}=t,c=(t,e)=>{let n=t,i=0;do{i=e(n),n+=1}while(i<=0);return i},h=t=>{if(t>0){const t=i.scroll.ri+1;if(t<a.len){const n=c(t,t=>a.getHeight(t));e.move({top:r+n-1})}}else{const t=i.scroll.ri-1;if(t>=0){const n=c(t,t=>a.getHeight(t));e.move({top:0===t?0:r-n})}}},d=t=>{if(t>0){const t=i.scroll.ci+1;if(t<s.len){const e=c(t,t=>s.getWidth(t));n.move({left:o+e-1})}}else{const t=i.scroll.ci-1;if(t>=0){const e=c(t,t=>s.getWidth(t));n.move({left:0===t?0:o-e})}}},f=Math.abs(l),p=Math.abs(u),v=Math.max(f,p);/Firefox/i.test(window.navigator.userAgent)&&Rj(h(t.detail),50),v===p&&Rj(d(u),50),v===f&&Rj(h(l),50)}function Hj(t,e){const{verticalScrollbar:n,horizontalScrollbar:i}=this,{top:r}=n.scroll(),{left:o}=i.scroll();"left"===t||"right"===t?i.move({left:o-e}):"up"!==t&&"down"!==t||n.move({top:r-e})}function Uj(){const{data:t,verticalScrollbar:e}=this,{height:n}=this.getTableOffset(),i=t.exceptRowTotalHeight(0,-1);e.set(n,t.rows.totalHeight()-i)}function Wj(){const{data:t,horizontalScrollbar:e}=this,{width:n}=this.getTableOffset();t&&e.set(n,t.cols.totalWidth())}function Yj(){const{selector:t,data:e,editor:n}=this,[i,r]=e.freeze;if(i>0||r>0){const t=e.freezeTotalWidth(),i=e.freezeTotalHeight();n.setFreezeLengths(t,i)}t.resetAreaOffset()}function Gj(){const{tableEl:t,overlayerEl:e,overlayerCEl:n,table:i,toolbar:r,selector:o,el:a}=this,s=this.getTableOffset(),l=this.getRect();t.attr(l),e.offset(l),n.offset(s),a.css("width",l.width+"px"),Uj.call(this),Wj.call(this),Yj.call(this),i.render(),r.reset(),o.reset()}function Kj(){const{data:t,selector:e}=this;t.clearClipboard(),e.hideClipboard()}function Zj(){const{data:t,selector:e}=this;t.copy(),e.showClipboard()}function Xj(){const{data:t,selector:e}=this;t.cut(),e.showClipboard()}function Qj(t,e){const{data:n}=this;if("read"!==n.settings.mode)if(n.paste(t,t=>Lj("Tip",t)))Gj.call(this);else if(e){const t=e.clipboardData.getData("text/plain");this.data.pasteFromText(t),Gj.call(this)}}function Jj(){this.data.hideRowsOrCols(),Gj.call(this)}function tN(t,e){this.data.unhideRowsOrCols(t,e),Gj.call(this)}function eN(){const{data:t}=this;t.autofilter(),Gj.call(this)}function nN(){const{toolbar:t}=this;t.paintformatActive()&&(Qj.call(this,"format"),Kj.call(this),t.paintformatToggle())}function iN(t){const{selector:e,data:n,table:i,sortFilter:r}=this,{offsetX:o,offsetY:a}=t,s=t.target.className===UE+"-selector-corner",l=n.getCellRectByXY(o,a),{left:u,top:c,width:h,height:d}=l;let{ri:f,ci:p}=l;const{autoFilter:v}=n;if(v.includes(f,p)&&u+h-20<o&&c+d-20<a){const t=v.items(p,(t,e)=>n.rows.getCell(t,e));return r.hide(),r.set(p,t,v.getFilter(p),v.getSort(p)),void r.setOffset({left:u,top:c+d+2})}t.shiftKey||(s?e.showAutofill(f,p):zj.call(this,!1,f,p),qE(window,t=>{({ri:f,ci:p}=n.getCellRectByXY(t.offsetX,t.offsetY)),s?e.showAutofill(f,p):1!==t.buttons||t.shiftKey||zj.call(this,!0,f,p,!0,!0)},()=>{s&&e.arange&&"read"!==n.settings.mode&&n.autofill(e.arange,"all",t=>Lj("Tip",t))&&i.render(),e.hideAutofill(),nN.call(this)})),s||1!==t.buttons||t.shiftKey&&zj.call(this,!0,f,p)}function rN(){const{editor:t,data:e}=this,n=e.getSelectedRect(),i=this.getTableOffset();let r="top";n.top>i.height/2&&(r="bottom"),t.setOffset(n,r)}function oN(){const{editor:t,data:e}=this;"read"!==e.settings.mode&&(rN.call(this),t.setCell(e.getSelectedCell(),e.getSelectedValidator()),Kj.call(this))}function aN(t){const{data:e,table:n,selector:i}=this;e.scrolly(t,()=>{i.resetBRLAreaOffset(),rN.call(this),n.render()})}function sN(t){const{data:e,table:n,selector:i}=this;e.scrollx(t,()=>{i.resetBRTAreaOffset(),rN.call(this),n.render()})}function lN(t,e){const{ri:n}=t,{table:i,selector:r,data:o}=this;o.rows.setHeight(n,e),i.render(),r.resetAreaOffset(),Uj.call(this),rN.call(this)}function uN(t,e){const{ci:n}=t,{table:i,selector:r,data:o}=this;o.cols.setWidth(n,e),i.render(),r.resetAreaOffset(),Wj.call(this),rN.call(this)}function cN(t,e="finished"){const{data:n,table:i}=this;if("read"===n.settings.mode)return;n.setSelectedCellText(t,e);const{ri:r,ci:o}=n.selector;"finished"===e?i.render():this.trigger("cell-edited",t,r,o)}function hN(t){const{data:e}=this;"read"!==e.settings.mode&&("insert-row"===t?e.insert("row"):"delete-row"===t?e.delete("row"):"insert-column"===t?e.insert("column"):"delete-column"===t?e.delete("column"):"delete-cell"===t?e.deleteCell():"delete-cell-format"===t?e.deleteCell("format"):"delete-cell-text"===t?e.deleteCell("text"):"cell-printable"===t?e.setSelectedCellAttr("printable",!0):"cell-non-printable"===t?e.setSelectedCellAttr("printable",!1):"cell-editable"===t?e.setSelectedCellAttr("editable",!0):"cell-non-editable"===t&&e.setSelectedCellAttr("editable",!1),Kj.call(this),Gj.call(this))}function dN(t,e){const{data:n}=this;if("undo"===t)this.undo();else if("redo"===t)this.redo();else if("print"===t)this.print.preview();else if("paintformat"===t)!0===e?Zj.call(this):Kj.call(this);else if("clearformat"===t)hN.call(this,"delete-cell-format");else if("link"===t);else if("chart"===t);else if("autofilter"===t)eN.call(this);else if("freeze"===t)if(e){const{ri:t,ci:e}=n.selector;this.freeze(t,e)}else this.freeze(0,0);else n.setSelectedCellAttr(t,e),"formula"!==t||n.selector.multiple()||oN.call(this),Gj.call(this)}function fN(t,e,n,i){this.data.setAutoFilter(t,e,n,i),Gj.call(this)}function pN(){const{selector:t,overlayerEl:e,rowResizer:n,colResizer:i,verticalScrollbar:r,horizontalScrollbar:o,editor:a,contextMenu:s,toolbar:l,modalValidation:u,sortFilter:c}=this;e.on("mousemove",t=>{Fj.call(this,t)}).on("mousedown",t=>{a.clear(),s.hide(),2===t.buttons?(this.data.xyInSelectedRect(t.offsetX,t.offsetY)||iN.call(this,t),s.setPosition(t.offsetX,t.offsetY),t.stopPropagation()):2===t.detail?oN.call(this):iN.call(this,t)}).on("mousewheel.stop",t=>{Vj.call(this,t)}).on("mouseout",t=>{const{offsetX:e,offsetY:r}=t;r<=0&&i.hide(),e<=0&&n.hide()}),t.inputChange=t=>{cN.call(this,t,"input"),oN.call(this)},HE(e.el,{move:(t,e)=>{Hj.call(this,t,e)}}),l.change=(t,e)=>dN.call(this,t,e),c.ok=(t,e,n,i)=>fN.call(this,t,e,n,i),n.finishedFn=(t,e)=>{lN.call(this,t,e)},i.finishedFn=(t,e)=>{uN.call(this,t,e)},n.unhideFn=t=>{tN.call(this,"row",t)},i.unhideFn=t=>{tN.call(this,"col",t)},r.moveFn=(t,e)=>{aN.call(this,t,e)},o.moveFn=(t,e)=>{sN.call(this,t,e)},a.change=(t,e)=>{cN.call(this,e,t)},u.change=(t,...e)=>{"save"===t?this.data.addValidation(...e):this.data.removeValidation()},s.itemClick=t=>{"validation"===t?u.setValue(this.data.getSelectedValidation()):"copy"===t?Zj.call(this):"cut"===t?Xj.call(this):"paste"===t?Qj.call(this,"all"):"paste-value"===t?Qj.call(this,"text"):"paste-format"===t?Qj.call(this,"format"):"hide"===t?Jj.call(this):hN.call(this,t)},BE(window,"resize",()=>{this.reload()}),BE(window,"click",t=>{this.focusing=e.contains(t.target)}),BE(window,"paste",t=>{Qj.call(this,"all",t),t.preventDefault()}),BE(window,"keydown",t=>{if(!this.focusing)return;const e=t.keyCode||t.which,{key:n,ctrlKey:i,shiftKey:r,metaKey:o}=t;if(i||o)switch(e){case 90:this.undo(),t.preventDefault();break;case 89:this.redo(),t.preventDefault();break;case 67:Zj.call(this),t.preventDefault();break;case 88:Xj.call(this),t.preventDefault();break;case 85:l.trigger("underline"),t.preventDefault();break;case 86:break;case 37:$j.call(this,r,"row-first"),t.preventDefault();break;case 38:$j.call(this,r,"col-first"),t.preventDefault();break;case 39:$j.call(this,r,"row-last"),t.preventDefault();break;case 40:$j.call(this,r,"col-last"),t.preventDefault();break;case 32:zj.call(this,!1,-1,this.data.selector.ci,!1),t.preventDefault();break;case 66:l.trigger("bold");break;case 73:l.trigger("italic");break;default:break}else{switch(e){case 32:r&&zj.call(this,!1,this.data.selector.ri,-1,!1);break;case 27:s.hide(),Kj.call(this);break;case 37:$j.call(this,r,"left"),t.preventDefault();break;case 38:$j.call(this,r,"up"),t.preventDefault();break;case 39:$j.call(this,r,"right"),t.preventDefault();break;case 40:$j.call(this,r,"down"),t.preventDefault();break;case 9:a.clear(),$j.call(this,!1,r?"left":"right"),t.preventDefault();break;case 13:a.clear(),$j.call(this,!1,r?"up":"down"),t.preventDefault();break;case 8:hN.call(this,"delete-cell-text"),t.preventDefault();break;default:break}"Delete"===n?(hN.call(this,"delete-cell-text"),t.preventDefault()):e>=65&&e<=90||e>=48&&e<=57||e>=96&&e<=105||"="===t.key?(cN.call(this,t.key,"input"),oN.call(this)):113===e&&oN.call(this)}})}class vN{constructor(t,e){this.eventMap=new Map;const{view:n,showToolbar:i,showContextmenu:r}=e.settings;this.el=zC("div",UE+"-sheet"),this.toolbar=new Sj(e,n.width,!i),this.print=new xA(e),t.children(this.toolbar.el,this.el,this.print.el),this.data=e,this.tableEl=zC("canvas",UE+"-table"),this.rowResizer=new WE(!1,e.rows.height),this.colResizer=new WE(!0,e.cols.minWidth),this.verticalScrollbar=new YE(!0),this.horizontalScrollbar=new YE(!1),this.editor=new NT(KT,()=>this.getTableOffset(),e.rows.height),this.modalValidation=new jj,this.contextMenu=new OA(()=>this.getRect(),!r),this.selector=new cT(e),this.overlayerCEl=zC("div",UE+"-overlayer-content").children(this.editor.el,this.selector.el),this.overlayerEl=zC("div",UE+"-overlayer").child(this.overlayerCEl),this.sortFilter=new Dj,this.el.children(this.tableEl,this.overlayerEl.el,this.rowResizer.el,this.colResizer.el,this.verticalScrollbar.el,this.horizontalScrollbar.el,this.contextMenu.el,this.modalValidation.el,this.sortFilter.el),this.table=new pA(this.tableEl.el,e),pN.call(this),Gj.call(this),zj.call(this,!1,0,0)}on(t,e){return this.eventMap.set(t,e),this}trigger(t,...e){const{eventMap:n}=this;n.has(t)&&n.get(t).call(this,...e)}resetData(t){this.editor.clear(),this.data=t,Uj.call(this),Wj.call(this),this.toolbar.resetData(t),this.print.resetData(t),this.selector.resetData(t),this.table.resetData(t)}loadData(t){return this.data.setData(t),Gj.call(this),this}freeze(t,e){const{data:n}=this;return n.setFreeze(t,e),Gj.call(this),this}undo(){this.data.undo(),Gj.call(this)}redo(){this.data.redo(),Gj.call(this)}reload(){return Gj.call(this),this}getRect(){const{data:t}=this;return{width:t.viewWidth(),height:t.viewHeight()}}getTableOffset(){const{rows:t,cols:e}=this.data,{width:n,height:i}=this.getRect();return{width:n-e.indexWidth,height:i-t.height,left:e.indexWidth,top:t.height}}}class mN extends AA{constructor(t){const e=new mT("ellipsis");super(e,"auto",!1,"top-left"),this.contentClick=t}reset(t){const e=t.map((t,e)=>zC("div",UE+"-item").css("width","150px").css("font-weight","normal").on("click",()=>{this.contentClick(e),this.hide()}).child(t));this.setContentChildren(...e)}setTitle(){}}const gN=[{key:"delete",title:wE("contextmenu.deleteSheet")}];function yN(t){return zC("div",UE+"-item").child(t.title()).on("click",()=>{this.itemClick(t.key),this.hide()})}function bN(){return gN.map(t=>yN.call(this,t))}class wN{constructor(){this.el=zC("div",UE+"-contextmenu").css("width","160px").children(...bN.call(this)).hide(),this.itemClick=()=>{}}hide(){const{el:t}=this;t.hide(),$E(t)}setOffset(t){const{el:e}=this;e.offset(t),e.show(),FE(e)}}class xN{constructor(t=(()=>{}),e=(()=>{}),n=(()=>{}),i=(()=>{})){this.swapFunc=e,this.updateFunc=i,this.dataNames=[],this.activeEl=null,this.deleteEl=null,this.items=[],this.moreEl=new mN(t=>{this.clickSwap2(this.items[t])}),this.contextMenu=new wN,this.contextMenu.itemClick=n,this.el=zC("div",UE+"-bottombar").children(this.contextMenu.el,this.menuEl=zC("ul",UE+"-menu").child(zC("li","").children(new mT("add").on("click",()=>{this.dataNames.length<10?t():Lj("tip","it less than or equal to 10")}),zC("span","").child(this.moreEl))))}addItem(t,e){this.dataNames.push(t);const n=zC("li",e?"active":"").child(t);n.on("click",()=>{this.clickSwap2(n)}).on("contextmenu",t=>{const{offsetLeft:e,offsetHeight:i}=t.target;this.contextMenu.setOffset({left:e,bottom:i+1}),this.deleteEl=n}).on("dblclick",()=>{const t=n.html(),e=new Oj("auto","");e.val(t),e.input.on("blur",({target:e})=>{const{value:n}=e,i=this.dataNames.findIndex(e=>e===t);this.renameItem(i,n)}),n.html("").child(e.el),e.focus()}),e&&this.clickSwap(n),this.items.push(n),this.menuEl.child(n),this.moreEl.reset(this.dataNames)}renameItem(t,e){this.dataNames.splice(t,1,e),this.moreEl.reset(this.dataNames),this.items[t].html("").child(e),this.updateFunc(t,e)}clear(){this.items.forEach(t=>{this.menuEl.removeChild(t.el)}),this.items=[],this.dataNames=[],this.moreEl.reset(this.dataNames)}deleteItem(){const{activeEl:t,deleteEl:e}=this;if(this.items.length>1){const n=this.items.findIndex(t=>t===e);if(this.items.splice(n,1),this.dataNames.splice(n,1),this.menuEl.removeChild(e.el),this.moreEl.reset(this.dataNames),t===e){const[t]=this.items;return this.activeEl=t,this.activeEl.toggle(),[n,0]}return[n,-1]}return[-1]}clickSwap2(t){const e=this.items.findIndex(e=>e===t);this.clickSwap(t),this.activeEl.toggle(),this.swapFunc(e)}clickSwap(t){null!==this.activeEl&&this.activeEl.toggle(),this.activeEl=t}}class kN{constructor(t,e={}){let n=t;this.options=e,this.sheetIndex=1,this.datas=[],"string"===typeof t&&(n=document.querySelector(t)),this.bottombar=new xN(()=>{const t=this.addSheet();this.sheet.resetData(t)},t=>{const e=this.datas[t];this.sheet.resetData(e)},()=>{this.deleteSheet()},(t,e)=>{this.datas[t].name=e}),this.data=this.addSheet();const i=zC("div",""+UE).on("contextmenu",t=>t.preventDefault());n.appendChild(i.el),this.sheet=new vN(i,this.data),i.child(this.bottombar.el)}addSheet(t,e=!0){const n=t||"sheet"+this.sheetIndex,i=new RE(n,this.options);return i.change=(...t)=>{this.sheet.trigger("change",...t)},this.datas.push(i),this.bottombar.addItem(n,e),this.sheetIndex+=1,i}deleteSheet(){const[t,e]=this.bottombar.deleteItem();t>=0&&(this.datas.splice(t,1),e>=0&&this.sheet.resetData(this.datas[e]))}loadData(t){const e=Array.isArray(t)?t:[t];if(this.bottombar.clear(),this.datas=[],e.length>0)for(let n=0;n<e.length;n+=1){const t=e[n],i=this.addSheet(t.name,0===n);i.setData(t),0===n&&this.sheet.resetData(i)}return this}getData(){return this.datas.map(t=>t.getData())}cellText(t,e,n,i=0){return this.datas[i].setCellText(t,e,n,"finished"),this}cell(t,e,n=0){return this.datas[n].getCell(t,e)}cellStyle(t,e,n=0){return this.datas[n].getCellStyle(t,e)}reRender(){return this.sheet.table.render(),this}on(t,e){return this.sheet.on(t,e),this}validate(){const{validations:t}=this.data;return t.errors.size<=0}change(t){return this.sheet.on("change",t),this}static locale(t,e){xE(t,e)}}const SN=(t,e={})=>new kN(t,e);window&&(window.x_spreadsheet=SN,window.x_spreadsheet.locale=(t,e)=>xE(t,e));var _N,ON,CN=function(){function t(){Pe(this,t)}return Be(t,null,[{key:"dataset2excel",value:function(t){return t.map((function(t){return{cells:{0:{text:t.x},1:{text:t.y},2:{text:t.s}}}}))}},{key:"binaryMatrix2excel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.map((function(t,e){var n={};return t.forEach((function(t,e){n[e]={text:t}})),{cells:n}}));return e}},{key:"excel2chartDataSet",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Rp(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text})),n=ao(e,3),i=n[0],r=n[1],o=n[2];return{x:i,y:r,s:o}}));return n}},{key:"excel2BinaryMatrix",value:function(t){var e=Object.values(t.rows).filter((function(t){return"object"===Rp(t)})),n=e.map((function(t){var e=Object.values(t.cells).map((function(t){return t.text}));return e}));return n}},{key:"csv2VChartJson",value:function(t){var e=t[0],n=t.slice(1),i={columns:e,rows:n.map((function(t,n){var i={};return e.forEach((function(e,n){i[e.trim()]=t[n]})),i}))};return i}}]),t}(),EN=v((function(t,e){!function(e,n){t.exports=n()}(0,(function t(){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,i=n&&/blob:/i.test((e.location||{}).protocol),r={},o=0,a={parse:function(n,i){var s=(i=i||{}).dynamicTyping||!1;if(x(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!x(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var l=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,i,s=(n=e.URL||e.webkitURL||null,i=t.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["(",i,")();"],{type:"text/javascript"})))),l=new e.Worker(s);return l.onmessage=m,l.id=o++,r[l.id]=l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=x(i.step),i.chunk=x(i.chunk),i.complete=x(i.complete),i.error=x(i.error),delete i.worker,void l.postMessage({input:n,config:i,workerId:l.id})}var f=null;return a.NODE_STREAM_INPUT,"string"==typeof n?f=i.download?new u(i):new h(i):!0===n.readable&&x(n.read)&&x(n.on)?f=new d(i):(e.File&&n instanceof File||n instanceof Object)&&(f=new c(i)),f.stream(n)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",s='"',l=s+s,u=!1,c=null,h=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(r=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(u=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+s),"boolean"==typeof e.escapeFormulae&&(h=e.escapeFormulae)}}();var d=new RegExp(p(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return v(null,t,u);if("object"==typeof t[0])return v(c||f(t[0]),t,u)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:f(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),v(t.fields||[],t.data||[],u);throw new Error("Unable to serialize unrecognized input");function f(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function v(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(s&&i){for(var u=0;u<t.length;u++)0<u&&(a+=r),a+=m(t[u],u);0<e.length&&(a+=o)}for(var c=0;c<e.length;c++){var h=s?t.length:e[c].length,d=!1,f=s?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!s&&(d="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&s){for(var p=[],v=0;v<h;v++){var g=l?t[v]:v;p.push(e[c][g])}d=""===p.join("").trim()}if(!d){for(var y=0;y<h;y++){0<y&&!f&&(a+=r);var b=s&&l?t[y]:y;a+=m(e[c][b],y)}c<e.length-1&&(!n||0<h&&!f)&&(a+=o)}}return a}function m(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);!0===h&&"string"==typeof t&&null!==t.match(/^[=+\-@].*$/)&&(t="'"+t);var i=t.toString().replace(d,l),o="boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(i,a.BAD_DELIMITERS)||-1<i.indexOf(r)||" "===i.charAt(0)||" "===i.charAt(i.length-1);return o?s+i+s:i}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=v,a.ParserHandle=f,a.NetworkStreamer=u,a.FileStreamer=c,a.StringStreamer=h,a.ReadableStreamStreamer=d,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},i=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:s.extend({},n)})})),r(),this;function r(){if(0!==i.length){var e,n,r,l,u=i[0];if(x(t.before)){var c=t.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return e="AbortError",n=u.file,r=u.inputElem,l=c.reason,void(x(t.error)&&t.error({name:e},n,r,l));if("skip"===c.action)return void o();"object"==typeof c.config&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void o()}var h=u.instanceConfig.complete;u.instanceConfig.complete=function(t){x(h)&&h(t,u.file,u.inputElem),o()},a.parse(u.file,u.instanceConfig)}else x(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new f(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)e.postMessage({results:s,workerId:a.WORKER_ID,finished:u});else if(x(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!x(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){x(this._config.error)?this._config.error(t):i&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function u(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),l.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),l.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function d(t){l.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(t){var e,n,i,r=Math.pow(2,53),o=-r,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,l=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,u=this,c=0,h=0,d=!1,f=!1,m=[],g={data:[],errors:[],meta:{}};if(x(t.step)){var y=t.step;t.step=function(e){if(g=e,S())k();else{if(k(),0===g.data.length)return;c+=e.data.length,t.preview&&c>t.preview?n.abort():(g.data=g.data[0],y(g,u))}}}function w(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function k(){if(g&&i&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<g.data.length;e++)w(g.data[e])&&g.data.splice(e--,1);return S()&&function(){if(g)if(Array.isArray(g.data[0])){for(var e=0;S()&&e<g.data.length;e++)g.data[e].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(e,n){x(t.transformHeader)&&(e=t.transformHeader(e,n)),m.push(e)}}(),function(){if(!g||!t.header&&!t.dynamicTyping&&!t.transform)return g;function e(e,n){var i,r=t.header?{}:[];for(i=0;i<e.length;i++){var o=i,a=e[i];t.header&&(o=i>=m.length?"__parsed_extra":m[i]),t.transform&&(a=t.transform(a,o)),a=_(o,a),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(a)):r[o]=a}return t.header&&(i>m.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+i,h+n):i<m.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+i,h+n)),r}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(e),n=g.data.length):g.data=e(g.data,0),t.header&&g.meta&&(g.meta.fields=m),h+=n,g}()}function S(){return t.header&&0===m.length}function _(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(o<e&&e<r)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var i}function O(t,e,n,i){var r={type:t,code:e,message:n};void 0!==i&&(r.row=i),g.errors.push(r)}this.parse=function(r,o,s){var l=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(p(e)+"([^]*?)"+p(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var a=0,s=0;s<i.length;s++)"\n"===i[s][0]&&a++;return a>=i.length/2?"\r\n":"\r"}(r,l)),i=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(r),g.meta.delimiter=t.delimiter);else{var u=function(e,n,i,r,o){var s,l,u,c;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var h=0;h<o.length;h++){var d=o[h],f=0,p=0,m=0;u=void 0;for(var g=new v({comments:r,delimiter:d,newline:n,preview:10}).parse(e),y=0;y<g.data.length;y++)if(i&&w(g.data[y]))m++;else{var b=g.data[y].length;p+=b,void 0!==u?0<b&&(f+=Math.abs(b-u),u=b):u=b}0<g.data.length&&(p/=g.data.length-m),(void 0===l||f<=l)&&(void 0===c||c<p)&&1.99<p&&(l=f,s=d,c=p)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(r,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);u.successful?t.delimiter=u.bestDelimiter:(i=!0,t.delimiter=a.DefaultDelimiter),g.meta.delimiter=t.delimiter}var c=b(t);return t.preview&&t.header&&c.preview++,e=r,n=new v(c),g=n.parse(e,o,s),k(),d?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),e=x(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(e,!0)):setTimeout(u.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),g.meta.aborted=!0,x(t.complete)&&t.complete(g),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,s=t.preview,l=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var c=0,h=!1;this.parse=function(t,a,d){if("string"!=typeof t)throw new Error("Input must be a string");var f=t.length,v=n.length,m=i.length,g=r.length,y=x(o),b=[],w=[],k=[],S=c=0;if(!t)return R();if(l||!1!==l&&-1===t.indexOf(e)){for(var _=t.split(i),O=0;O<_.length;O++){if(k=_[O],c+=k.length,O!==_.length-1)c+=i.length;else if(d)return R();if(!r||k.substring(0,g)!==r){if(y){if(b=[],P(k.split(n)),B(),h)return R()}else P(k.split(n));if(s&&s<=O)return b=b.slice(0,s),R(!0)}}return R()}for(var C=t.indexOf(n,c),E=t.indexOf(i,c),T=new RegExp(p(u)+p(e),"g"),A=t.indexOf(e,c);;)if(t[c]!==e)if(r&&0===k.length&&t.substring(c,c+g)===r){if(-1===E)return R();c=E+m,E=t.indexOf(i,c),C=t.indexOf(n,c)}else{if(-1!==C&&(C<E||-1===E)){if(!(C<A)){k.push(t.substring(c,C)),c=C+v,C=t.indexOf(n,c);continue}var j=z(C,A,E);if(j&&void 0!==j.nextDelim){C=j.nextDelim,A=j.quoteSearch,k.push(t.substring(c,C)),c=C+v,C=t.indexOf(n,c);continue}}if(-1===E)break;if(k.push(t.substring(c,E)),L(E+m),y&&(B(),h))return R();if(s&&b.length>=s)return R(!0)}else for(A=c,c++;;){if(-1===(A=t.indexOf(e,A+1)))return d||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:c}),D();if(A===f-1)return D(t.substring(c,A).replace(T,e));if(e!==u||t[A+1]!==u){if(e===u||0===A||t[A-1]!==u){-1!==C&&C<A+1&&(C=t.indexOf(n,A+1)),-1!==E&&E<A+1&&(E=t.indexOf(i,A+1));var N=M(-1===E?C:Math.min(C,E));if(t[A+1+N]===n){k.push(t.substring(c,A).replace(T,e)),t[c=A+1+N+v]!==e&&(A=t.indexOf(e,c)),C=t.indexOf(n,c),E=t.indexOf(i,c);break}var I=M(E);if(t.substring(A+1+I,A+1+I+m)===i){if(k.push(t.substring(c,A).replace(T,e)),L(A+1+I+m),C=t.indexOf(n,c),A=t.indexOf(e,c),y&&(B(),h))return R();if(s&&b.length>=s)return R(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:c}),A++}}else A++}return D();function P(t){b.push(t),S=c}function M(e){var n=0;if(-1!==e){var i=t.substring(A+1,e);i&&""===i.trim()&&(n=i.length)}return n}function D(e){return d||(void 0===e&&(e=t.substring(c)),k.push(e),c=f,P(k),y&&B()),R()}function L(e){c=e,P(k),k=[],E=t.indexOf(i,c)}function R(t){return{data:b,errors:w,meta:{delimiter:n,linebreak:i,aborted:h,truncated:!!t,cursor:S+(a||0)}}}function B(){o(R()),b=[],w=[]}function z(i,r,o){var a={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,r+1);if(r<i&&i<s&&(s<o||-1===o)){var l=t.indexOf(n,s);if(-1===l)return a;s<l&&(s=t.indexOf(e,s+1)),a=z(l,s,o)}else a={nextDelim:i,quoteSearch:r};return a}},this.abort=function(){h=!0},this.getCharIndex=function(){return c}}function m(t){var e=t.data,n=r[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){i=!0,g(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!i);a++);delete e.results}else x(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!i&&g(e.workerId,e.results)}function g(t,e){var n=r[t];x(n.userComplete)&&n.userComplete(e),n.terminate(),delete r[t]}function y(){throw new Error("Not implemented.")}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=b(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function x(t){return"function"==typeof t}return i&&(e.onmessage=function(t){var n=t.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var i=a.parse(n.input,n.config);i&&e.postMessage({workerId:a.WORKER_ID,results:i,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(h.prototype=Object.create(h.prototype)).constructor=h,(d.prototype=Object.create(l.prototype)).constructor=d,a}))})),TN=["text/csv","text/x-csv","application/vnd.ms-excel","text/plain"],AN={name:"lbs-csv-import",methods:{checkMimeType:function(t){return TN.indexOf(t)>-1},validFileMimeType:function(t){t.preventDefault();var e=this.$refs.csv.files[0],n=this.checkMimeType(e.type);n&&this.loadFile()},loadFile:function(){var t=this;this.readFile((function(e){var n=EN.parse(e,{skipEmptyLines:!0});t.$emit("parse",n),t.$refs.input.value=""}))},readFile:function(t){var e=this.$refs.csv.files[0];if(e){var n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=function(e){t(e.target.result)},n.onerror=function(){}}}},render:function(){var t=arguments[0],e=+new Date;return t("div",{style:"height: 24px;"},[t("label",{attrs:{for:e},class:"ant-btn ant-btn-primary ant-btn-sm"},["选择导入 csv 文件"]),t("input",{ref:"csv",attrs:{id:e,type:"file",name:"csv"},on:{change:this.validFileMimeType},style:"visibility:hidden;"},["xxxx"])])}},jN={name:"lbs-excel-editor",props:{value:{type:Array},formatter:{type:Function}},computed:{innerItems:{get:function(){return CN.binaryMatrix2excel(this.value)},set:function(t){this.$emit("input",t)}}},watch:{value:function(){this.refreshSheet({rows:this.innerItems})}},methods:{parseCSV:function(t){var e=CN.binaryMatrix2excel(t.data);this.$emit("change",t.data),this.refreshSheet({rows:e})},refreshSheet:function(t){this.sheet.loadData(t),this.sheet.reRender()},initSheet:function(){var t=this,e=this.$refs.excel;return this.sheet||new kN(e,{showToolbar:!1,showGrid:!0,showContextmenu:!0}).change((function(e){t.$emit("change",t.formatter(e))}))}},render:function(){var t=arguments[0];return t("div",{style:"max-height: 320px;overflow:scroll;"},[t("div",{style:"line-height:2;"},[t("span",["方案1: ",t(AN,{on:{parse:this.parseCSV}})]),t("span",["方案2: 直接编辑 Excel"]),t("div",{ref:"excel",style:"margin-right: 12px;width: 100%;overflow: scroll"})])])},mounted:function(){this.sheet=this.initSheet(),this.refreshSheet({rows:this.innerItems})}},NN={components:(_N={},Jo(_N,r.Pagination.name,r.Pagination),Jo(_N,r.Button.name,r.Pagination),_N),props:{elementProps:{type:Object,default:function(){return{items:[],activeIndex:0}}}},computed:{innerItems:function(){return this.elementProps.items}},data:function(){return{current:1}},methods:{itemRender:function(t,e,n){var i=this,r=this.$createElement;return"prev"===e?r("a-button",{style:{marginRight:"8px"},attrs:{size:"small",icon:"minus",disabled:1===this.innerItems.length},on:{click:function(){return i.minus(t)}}}):"next"===e?r("a-button",{style:{marginLeft:"8px"},attrs:{size:"small",icon:"plus"},on:{click:this.add}}):n},add:function(){this.elementProps.items.push({image:"",value:"选项".concat(this.innerItems.length+1,"-value"),label:"选项".concat(this.innerItems.length+1,"-label")})},minus:function(t){1!==this.innerItems.length&&(this.elementProps.items.splice(t,1),this.elementProps.activeIndex=Math.max(t-1,0))}},render:function(){var t=this,e=arguments[0],n=this.innerItems[this.current-1]||{};return e("div",[e("a-pagination",{attrs:{current:this.current,size:"small",total:this.innerItems.length,defaultPageSize:1,itemRender:this.itemRender},on:{change:function(e){t.current=e,t.elementProps.activeIndex=e-1}}}),e("lbs-image-gallery",{style:{margin:"16px 0"},attrs:{value:n.image},on:{change:function(t){n.image=t}}})])}};
/* @license
Papa Parse
v5.3.0
https://github.com/mholt/PapaParse
License: MIT
*/function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IN(Object(n),!0).forEach((function(e){Jo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var MN,DN={components:(ON={},Jo(ON,r.Form.name,r.Form),Jo(ON,r.Form.Item.name,r.Form.Item),Jo(ON,r.Tabs.name,r.Tabs),Jo(ON,r.Button.name,r.Button),Jo(ON,r.Radio.name,r.Radio),Jo(ON,r.Radio.Group.name,r.Radio.Group),Jo(ON,r.Radio.Button.name,r.Radio.Button),Jo(ON,r.Input.name,r.Input),Jo(ON,r.Input.TextArea.name,r.Input.TextArea),Jo(ON,r.Switch.name,r.Switch),Jo(ON,r.InputNumber.name,r.InputNumber),Jo(ON,r.Select.name,r.Select),Jo(ON,"colorsPanel",LC),Jo(ON,"lbsTextAlign",RC),Jo(ON,"lbsExcelEditor",jN),Jo(ON,"lbpSlideCustomEditor",NN),ON),data:function(){return{loadCustomEditorFlag:!1}},props:{layout:{type:String,default:"horizontal"},config:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}}},watch:{config:function(){var t=this;setTimeout((function(){t.form.setFieldsValue(t.value)}))}},created:function(){var t=this;this.form=this.$form.createForm(this,{onFieldsChange:function(){t.$emit("change",t.form.getFieldsValue())}})},computed:{formItemLayout:function(){return"horizontal"===this.layout?{labelCol:{span:6},wrapperCol:{span:16,offset:2}}:{}}},methods:{renderPropFormItem:function(t,e){var n=this.$createElement,i=e.editor;if(i){var r={props:PN(PN(PN({},this.formItemLayout),i.layout),{},{label:i.label})};return n("a-form-item",Qs([{},r]),[n(i.type,Qs([{directives:[{name:"decorator",value:[t]}]},{props:i.props}]))])}}},render:function(){var t=this,e=arguments[0],n=Object.entries(this.config);return e("a-form",{attrs:{form:this.form,size:"mini",layout:this.layout,initialValue:this.value},class:"props-config-form"},[n.map((function(e){var n=ao(e,2),i=n[0],r=n[1];return t.renderPropFormItem(i,r)}))])}},LN={components:(MN={},Jo(MN,r.Input.TextArea.name,r.Input.TextArea),Jo(MN,r.Button.name,r.Button),MN),data:function(){return{editorContent:"return {\n      editorMethods: {              // 此项配置自定义方法的在组件配置面板如何展示\n        projectJump1: {             // 方法名，对应于 methods 内的某方法\n          label: '外部跳转1',        // 自定义方法显示名\n          params: [                 // 参数列表，对象数组\n            {\n              label: '跳转地址',     // 参数1的名称\n              desc: '项目相对地址',   // 参数1的描述\n              type: 'string',       // 参数1的类型，支持string|number|boolean|array|object\n              default: ''           // 参数1默认值\n            },\n            {\n              label: '参数',\n              desc: 'query形式参数',\n              type: 'object',\n              default: {}\n            }\n          ]\n        }\n      },\n      methods:{\n        projectJump1:function(url, query){\n          console.log(url, query)\n          let win = window.open(url, '_blank')\n          win.focus()\n        }\n      }\n    }"}},render:function(t){var e=this,n=null;return n?t("div",[t("a-button",{on:{click:this.mixinScript},attrs:{disabled:!0}},["使用脚本"]),t("div",{style:{margin:"20px"}}),t("a-textarea",{attrs:{rows:12,placeholder:"Basic usage",value:this.editorContent},on:{change:function(t){e.editorContent=t.target.value}}})]):t("span",[this.$t("editor.editPanel.common.empty")])}};Kk("match",1,(function(t,e,n){return[function(e){var n=V(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var r=S(t),o=String(this);if(!r.global)return Qk(r,o);var a=r.unicode;r.lastIndex=0;var s,l=[],u=0;while(null!==(s=Qk(r,o))){var c=String(s[0]);l[u]=c,""===c&&(r.lastIndex=Xk(o,Pt(r.lastIndex),a)),u++}return 0===u?null:l}]}));var RN,BN=[{label:"进入",value:/进/},{label:"退出",value:/退/},{label:"强调",value:/强调|特殊/}],zN=[{label:"",value:"空",children:[{label:"无",value:""}]},{label:"强调",value:"Attention Seekers",children:[{label:"旋转",value:"justRotate"},{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"跳动",value:"pulse"},{label:"抖动",value:"shake"},{label:"摇摆",value:"swing"},{label:"橡皮圈",value:"rubberBand"},{label:"果冻",value:"jello"},{label:"",value:"tada"},{label:"",value:"wobble"}]},{label:"弹跳进入",value:"Bouncing Entrances",children:[{label:"弹跳进入",value:"bounceIn"},{label:"向下弹跳进入",value:"bounceInDown"},{label:"向右弹跳进入",value:"bounceInLeft"},{label:"向左弹跳进入",value:"bounceInRight"},{label:"向上弹跳进入",value:"bounceInUp"}]},{label:"弹跳退出",value:"Bouncing Exits",children:[{label:"弹跳退出",value:"bounceOut"},{label:"向下弹跳退出",value:"bounceOutDown"},{label:"向左弹跳退出",value:"bounceOutLeft"},{label:"向右弹跳退出",value:"bounceOutRight"},{label:"向上弹跳退出",value:"bounceOutUp"}]},{label:"渐显进入",value:"Fading Entrances",children:[{label:"渐显进入",value:"fadeIn"},{label:"向下渐显进入",value:"fadeInDown"},{label:"由屏幕外向下渐显进入",value:"fadeInDownBig"},{label:"向右显进入",value:"fadeInLeft"},{label:"由屏幕外向右渐显进入",value:"fadeInLeftBig"},{label:"向左渐显进入",value:"fadeInRight"},{label:"由屏幕外向左渐显进入",value:"fadeInRightBig"},{label:"向上渐显进入",value:"fadeInUp"},{label:"由屏幕外向上渐显进入",value:"fadeInUpBig"}]},{label:"渐隐退出",value:"Fading Exits",children:[{label:"渐隐退出",value:"fadeOut"},{label:"向下渐隐退出",value:"fadeOutDown"},{label:"向下渐隐退出屏幕外",value:"fadeOutDownBig"},{label:"向左渐隐退出",value:"fadeOutLeft"},{label:"向左渐隐退出屏幕外",value:"fadeOutLeftBig"},{label:"向右渐隐退出",value:"fadeOutRight"},{label:"向右渐隐退出屏幕外",value:"fadeOutRightBig"},{label:"向上渐隐退出",value:"fadeOutUp"},{label:"向上渐隐退出屏幕外",value:"fadeOutUpBig"}]},{label:"翻动",value:"Flippers",children:[{label:"翻动",value:"flip"},{label:"纵向翻动",value:"flipInX"},{label:"横向翻动",value:"flipInY"},{label:"立体纵向翻动",value:"flipOutX"},{label:"立体横向翻动",value:"flipOutY"}]},{label:"加速进出",value:"Lightspeed",children:[{label:"加速进入",value:"lightSpeedIn"},{label:"加速退出",value:"lightSpeedOut"}]},{label:"旋转渐显",value:"Rotating Entrances",children:[{label:"旋转渐显",value:"rotateIn"},{label:"左下角旋转渐显",value:"rotateInDownLeft"},{label:"旋转渐显",value:"右下角rotateInDownRight"},{label:"左上角旋转渐显",value:"rotateInUpLeft"},{label:"右上角旋转渐显",value:"rotateInUpRight"}]},{label:"旋转渐隐",value:"Rotating Exits",children:[{label:"旋转渐隐",value:"rotateOut"},{label:"左下角旋转渐隐",value:"rotateOutDownLeft"},{label:"左下角旋转渐隐",value:"rotateOutDownRight"},{label:"左上角旋转渐隐",value:"rotateOutUpLeft"},{label:"右上角旋转渐隐",value:"rotateOutUpRight"}]},{label:"平移进入",value:"Sliding Entrances",children:[{label:"向上平移进入",value:"slideInUp"},{label:"向下平移进入",value:"slideInDown"},{label:"向右平移进入",value:"slideInLeft"},{label:"向左平移进入",value:"slideInRight"}]},{label:"平移退出",value:"Sliding Exits",children:[{label:"向上平移退出",value:"slideOutUp"},{label:"向下平移退出",value:"slideOutDown"},{label:"向左平移退出",value:"slideOutLeft"},{label:"向右平移退出",value:"slideOutRight"}]},{label:"放大进入",value:"Zoom Entrances",children:[{label:"放大进入",value:"zoomIn"},{label:"向下放大进入",value:"zoomInDown"},{label:"向右放大进入",value:"zoomInLeft"},{label:"向左放大进入",value:"zoomInRight"},{label:"向上放大进入",value:"zoomInUp"}]},{label:"缩小退出",value:"Zoom Exits",children:[{label:"缩小退出",value:"zoomOut"},{label:"向下缩小退出",value:"zoomOutDown"},{label:"向左缩小退出",value:"zoomOutLeft"},{label:"向右缩小退出",value:"zoomOutRight"},{label:"向上缩小退出",value:"zoomOutUp"}]},{label:"特殊效果",value:"Specials",children:[{label:"悬挂",value:"hinge"},{label:"滚动进入",value:"rollIn"},{label:"滚动退出",value:"rollOut"}]}],$N=zN.reduce((function(t,e){var n=e.children;return n.forEach((function(e){t[e.value]=e.label})),t}),{}),FN={components:(RN={},Jo(RN,r.InputNumber.name,r.InputNumber),Jo(RN,r.List.Item.name,r.List.Item),Jo(RN,r.Tabs.name,r.Tabs),Jo(RN,r.Form.name,r.Form),Jo(RN,r.Button.name,r.Button),Jo(RN,r.Popover.name,r.Popover),Jo(RN,r.Slider.name,r.Slider),Jo(RN,r.Switch.name,r.Switch),Jo(RN,r.Collapse.name,r.Collapse),Jo(RN,r.Collapse.Panel.name,r.Collapse.Panel),Jo(RN,r.Icon.name,r.Icon),Jo(RN,r.Drawer.name,r.Drawer),Jo(RN,r.Tabs.TabPane.name,r.Tabs.TabPane),Jo(RN,r.Button.Group.name,r.Button.Group),Jo(RN,r.Form.Item.name,r.Form.Item),Jo(RN,r.Tag.name,r.Tag),RN),props:{value:{type:Array,default:function(){return[]}}},computed:{animationQueue:function(){return this.value||[]}},data:function(){return{activeCollapsePanel:0,activePreviewAnimation:"",drawerVisible:!1}},methods:{addAnimation:function(){this.animationQueue.push({type:"",duration:1,delay:0,interationCount:1,infinite:!1}),this.activeCollapsePanel=this.animationQueue.length-1,this.$emit("change",this.animationQueue)},deleteAnimate:function(t){this.animationQueue.splice(t,1),this.$emit("change",this.animationQueue)},updateAnimation:function(t){var e=this.animationQueue[this.activeCollapsePanel];e&&(e.type=t),this.drawerVisible=!1,this.$emit("change",this.animationQueue)},runAnimate:function(){tC.$emit("RUN_ANIMATIONS")},renderSecondAnimationTabs:function(t){var e=this,n=this.$createElement;return n("a-tabs",{attrs:{defaultActiveKey:t[0].value,tabBarStyle:{marginLeft:"-16px"},size:"small",tabBarGutter:0,tabPosition:"left"},on:{change:function(t){}},style:"width:100%;"},[t.map((function(t){return n("a-tab-pane",{attrs:{tab:t.label||t.value},key:t.value},[n("a-list",{attrs:{grid:{gutter:12,column:2},dataSource:t.children,renderItem:function(t,i){return n("a-list-item",{class:"shortcut-button-wrapper"},[n("div",{on:{click:function(){return e.updateAnimation(t.value)},mouseenter:function(n){e.activePreviewAnimation=t.value},mouseleave:function(){}},class:["shortcut-button",e.activePreviewAnimation===t.value&&"".concat(t.value," animated")]},[t.label])])}}})])}))])},renderAvaiableAnimations:function(){var t=this,e=this.$createElement;return e("a-tabs",{class:"avaiable-animations-tabs",attrs:{defaultActiveKey:BN[0].label,size:"small",tabBarGutter:0},on:{change:function(t){}},style:"width:100%;"},[BN.map((function(n){return e("a-tab-pane",{attrs:{tab:n.label},key:n.label},[t.renderSecondAnimationTabs(zN.filter((function(t){return!!t.label.match(n.value)})))])}))])},renderAnimationOptions:function(t){var e=this,n=this.$createElement;return n("a-form",{attrs:{layout:"horizontal"}},[n("a-form-item",{attrs:{label:this.$t("editor.editPanel.animation.type"),labelCol:{span:5},wrapperCol:{span:16,offset:2}}},[n("a-button",{attrs:{type:"link",size:"small",icon:"ordered-list"},on:{click:function(){e.drawerVisible=!0}}},[this.$t("editor.editPanel.animation.list")])]),n("a-form-item",{attrs:{label:this.$t("editor.editPanel.animation.duration"),labelCol:{span:5},wrapperCol:{span:16,offset:2}},style:"margin-bottom:0;"},[n("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[n("a-slider",{attrs:{defaultValue:2,min:0,max:20,value:t.duration},on:{change:function(e){t.duration=e}}})]),n("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)",marginLeft:"4px"}},[n("a-input-number",{attrs:{min:0,max:20,size:"small",formatter:function(t){return"".concat(t,"秒(s)")},value:t.duration},on:{change:function(e){t.duration=e}}})])]),n("a-form-item",{attrs:{label:this.$t("editor.editPanel.animation.delay"),labelCol:{span:5},wrapperCol:{span:16,offset:2}},style:"margin-bottom:0;"},[n("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[n("a-slider",{attrs:{defaultValue:2,min:0,max:20,value:t.delay},on:{change:function(e){t.delay=e}}})]),n("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)",marginLeft:"4px"}},[n("a-input-number",{attrs:{min:0,max:20,size:"small",formatter:function(t){return"".concat(t,"秒(s)")},value:t.delay},on:{change:function(e){t.delay=e}}})])]),n("a-form-item",{attrs:{label:this.$t("editor.editPanel.animation.iteration"),labelCol:{span:5},wrapperCol:{span:16,offset:2}},style:"margin-bottom:0;"},[n("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)"}},[n("a-slider",{attrs:{defaultValue:2,min:0,max:20,value:t.interationCount},on:{change:function(e){t.interationCount=e}}})]),n("a-form-item",{style:{display:"inline-block",width:"calc(50% - 12px)",marginLeft:"4px"}},[n("a-input-number",{attrs:{min:0,max:20,size:"small",formatter:function(t){return"".concat(t,"次(times)")},value:t.interationCount},on:{change:function(e){t.interationCount=e}}})])]),n("a-form-item",{attrs:{label:this.$t("editor.editPanel.animation.inifinite"),labelCol:{span:5},wrapperCol:{span:16,offset:2}},style:"margin-bottom:0;"},[n("a-switch",{attrs:{value:t.infinite},on:{change:function(e){t.infinite=e}}})])])}},render:function(t){var e=this;return t("div",{class:"main-animate widget",attrs:{id:"animation-right-panel"}},[t("a-button-group",[t("a-button",{attrs:{type:"primary"},on:{click:this.addAnimation}},[t("a-icon",{attrs:{type:"plus"}}),this.$t("editor.editPanel.animation.add")]),t("a-button",{attrs:{type:"primary"},on:{click:this.runAnimate}},[this.$t("editor.editPanel.animation.run"),t("a-icon",{attrs:{type:"right-circle"}})])]),t("a-collapse",{attrs:{accordion:!0,activeKey:""+this.activeCollapsePanel},class:"collapse-wrapper",on:{change:function(t){e.activeCollapsePanel="undefined"!==typeof t?+t:-1}}},[this.animationQueue.map((function(n,i){return t("a-collapse-panel",{key:"".concat(i)},[t("template",{slot:"header"},[t("span",[e.$t("editor.editPanel.animation.title",{index:i+1})]),t("a-tag",{attrs:{color:"orange"}},[$N[n.type]||n.type]),t("a-icon",{attrs:{type:"delete",title:"删除动画"},on:{click:function(){return e.deleteAnimate(i)}}})]),e.renderAnimationOptions(n)])}))]),t("a-drawer",{attrs:{title:"请选择动画",placement:"left",closable:!0,width:"100%",visible:this.drawerVisible,wrapStyle:{position:"absolute"},getContainer:!1},on:{close:function(){e.drawerVisible=!1}}},[t("div",[this.renderAvaiableAnimations()])])])}},qN={data:function(){return{}},render:function(){var t=arguments[0],e=this.editingElement;return e?t("div",["TODO"]):t("span",[this.$t("editor.editPanel.common.empty")])}},VN=ar.onFreeze,HN=Object.freeze,UN=d((function(){HN(1)}));ie({target:"Object",stat:!0,forced:UN,sham:!or},{freeze:function(t){return HN&&y(t)?HN(VN(t)):t}});var WN,YN,GN,KN={components:(WN={},Jo(WN,r.Form.name,r.Form),Jo(WN,r.Form.Item.name,r.Form.Item),Jo(WN,r.Radio.Group.name,r.Radio.Group),Jo(WN,r.Radio.Button.name,r.Radio.Button),WN),data:function(){return{formLayout:"vertical",PAGE_MODE:Object.freeze(KO),PAGE_MODE_LABEL:Object.freeze(ZO)}},computed:{pageMode:{get:function(){return this.work.page_mode||KO.SWIPPER_PAGE},set:function(t){this.updateWork({page_mode:t})}}},render:function(){var t=this,e=arguments[0];return e("div",[e("a-form",{attrs:{layout:this.formLayout}},[e("a-form-item",{attrs:{label:"H5类型"}},[e("a-radio-group",{attrs:{size:"small"},model:{value:t.pageMode,callback:function(e){t.pageMode=e}}},[KO.map((function(t,n){return e("a-radio-button",{key:n,attrs:{value:t}},[ZO[n]])}))])])])])}},ZN={name:"ElementPropsEditor",components:(YN={},Jo(YN,r.Layout.Sider.name,r.Layout.Sider),Jo(YN,r.Tabs.name,r.Tabs),Jo(YN,r.Tabs.TabPane.name,r.Tabs.TabPane),YN),props:{width:{type:Number,default:KO.WIDTH},element:{type:Object,default:function(){return{}}}},computed:{editPropsConfig:function(){var t=this.element;return t&&t.pluginName?t.getEditorProps():{}},editPropsValue:function(){var t=this.element,e=this.editPropsConfig,n=Object.keys(e),i=t?t.props:{};return DC(i,n)},editAnimationValue:function(){var t=this.element,e=t?t.animations:[];return e}},data:function(){return{activeTabKey:"属性"}},methods:{setActiveTab:function(t){this.activeTabKey=t}},render:function(){var t=arguments[0];return t("a-layout-sider",{attrs:{width:this.width,theme:"light"},style:{padding:"0 12px"}},[t("a-tabs",{style:"height: 100%;",attrs:{tabBarGutter:10,defaultActiveKey:this.activeTabKey,activeKey:this.activeTabKey},on:{change:this.setActiveTab}},[t("a-tab-pane",{key:"属性"},[t("span",{slot:"tab"},[this.$t("editor.editPanel.tab.prop")]),t(DN,{attrs:{config:this.editPropsConfig,value:this.editPropsValue},on:{change:this.$listeners.propsChange}})]),t("a-tab-pane",{attrs:{label:"动画",tab:this.$t("editor.editPanel.tab.animation")},key:"动画"},[t(FN,{attrs:{value:this.editAnimationValue},on:{change:this.$listeners.animationsChange}})]),t("a-tab-pane",{attrs:{label:"动作",tab:this.$t("editor.editPanel.tab.action")},key:"动作"},["动作"===this.activeTabKey&&t(qN)]),t("a-tab-pane",{attrs:{label:"脚本",tab:this.$t("editor.editPanel.tab.script")},key:"脚本"},[t(LN)]),t("a-tab-pane",{attrs:{label:"页面",tab:this.$t("editor.editPanel.tab.page")},key:"页面"},["页面"===this.activeTabKey&&t(KN)])])])}},XN={functional:!0,props:{faIcon:{required:!0,type:String},name:{required:!0,type:String},clickFn:{required:!1,type:Function,default:function(){}},mousedownFn:{required:!1,type:Function,default:function(){}},disabled:{type:Boolean,default:!1}},render:function(t,e){var n=e.props;e.listeners,e.slots;return t("button",{class:"shortcut-button",on:{click:n.clickFn,mousedown:n.mousedownFn},attrs:{disabled:n.disabled}},[t("i",{class:["shortcut-icon","fa","fa-".concat(n.faIcon)],attrs:{"aria-hidden":"true"}}),t("span",[n.name])])}},QN={components:Jo({},r.Icon.name,r.Icon),render:function(){var t=arguments[0];return t("div",{class:"plugin-usage-tip "},[t("a-icon",{attrs:{type:"info-circle"}}),t("i18n",{attrs:{path:"editor.tip.componentUsage",tag:"span"},class:"ml-1"},[t("strong",[this.$t("editor.tip.click")]),this.$t("editor.tip.click")])])}};function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function tI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JN(Object(n),!0).forEach((function(e){Jo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var eI={components:(GN={},Jo(GN,r.Modal.name,r.Modal),Jo(GN,r.Input.TextArea.name,r.Input.TextArea),Jo(GN,r.Button.name,r.Button),GN),data:function(){return{visible:!1,confirmLoading:!1,text:JSON.stringify([{package:"@luban-h5/lbp-slide",version:"0.0.7",name:"lbp-slide",icon:"photo",title:"轮播图",visible:!0}],null,2)}},methods:{showModal:function(){this.visible=!0},handleOk:function(t){var e=window.createjs,n=new Function("return ".concat(this.text).replace("\n",""))();n=n.map((function(t){return tI(tI({},t),{},{src:"https://cdn.jsdelivr.net/npm/".concat(t.package,"@").concat(t.version,"/dist/").concat(t.name,".umd.js")})}));var i=new e.LoadQueue;function r(t){this.visible=!1,this.confirmLoading=!1,this.$emit("loadComplete",n)}function o(t){var e=t.item.name;u["default"].component(e,window[e])}i.on("fileload",o,this),i.on("complete",r,this),i.loadManifest(n)},handleCancel:function(t){this.visible=!1}}};function nI(t,e,n,i,r,o,a,s,l,u){"boolean"!==typeof a&&(l=s,s=a,a=!1);const c="function"===typeof n?n.options:n;let h;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),i&&(c._scopeId=i),o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=h):e&&(h=a?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),h)if(c.functional){const t=c.render;c.render=function(e,n){return h.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,h):[h]}return n}const iI=eI;var rI=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"center"}},[n("a-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary"},on:{click:t.showModal}},[t._v("配置 NPM 组件列表")]),t._v(" "),n("a-modal",{attrs:{title:"NPM 组件列表配置信息",visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[n("div",[n("a-textarea",{attrs:{placeholder:"Basic usage",rows:20},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)])],1)},oI=[];rI._withStripped=!0;const aI=void 0,sI=void 0,lI=void 0,uI=!1,cI=nI({render:rI,staticRenderFns:oI},aI,iI,sI,uI,lI,!1,void 0,void 0,void 0);function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function dI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hI(Object(n),!0).forEach((function(e){Jo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var fI,pI,vI,mI=null,gI={isPreDrag:!1,isDrag:!1,origin:{clientY:0,clientX:0,layerX:0,layerY:0}},yI=function(){function t(e){Pe(this,t),this.mousedown=e.mousedown,this.mousemove=e.mousemove,this.mouseup=e.mouseup,this._mousedown=this._mousedown.bind(this),this._mousemove=this._mousemove.bind(this),this._mouseup=this._mouseup.bind(this)}return Be(t,[{key:"start",value:function(t){this._mousedown(t)}},{key:"_mousedown",value:function(t){this.mousedown(t),this.toggleListener("add")}},{key:"_mousemove",value:function(t){this.mousemove(t)}},{key:"_mouseup",value:function(t){this.mouseup(t),this.toggleListener("remove")}},{key:"toggleListener",value:function(t){document["".concat(t,"EventListener")]("mousemove",this._mousemove),document["".concat(t,"EventListener")]("mouseup",this._mouseup)}}]),t}(),bI={data:function(){return{}},methods:{handleDragStartFromMixin:function(t,e){0===e.button&&(mI&&(document.body.removeChild(mI),mI=null),this.dragElement=t,mI=e.target.cloneNode(!0),document.body.appendChild(mI),new yI({mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup}).start(e))},mousedown:function(t){var e=t.layerX,n=t.layerY;gI.origin.layerX=e,gI.origin.layerY=n,gI.origin.clientX=t.clientX,gI.origin.clientY=t.clientY,mI.style.position="absolute",mI.style.left=t.clientX-e+"px",mI.style.top=t.clientY-n+"px",mI.classList.add("dragging-dom-ele","hidden"),gI.isPreDrag=!0},mousemove:function(t){mI.classList.remove("hidden");var e=gI.origin,n=e.layerX,i=e.layerY;mI.style.left=t.clientX-n+"px",mI.style.top=t.clientY-i+"px"},mouseup:function(t){var e=gI.origin,n=e.layerX,i=e.layerY;document.body.removeChild(mI),mI=null;var r=this.checkCanMousedown(t,{minOffset:10});if(r){var o=document.querySelector(".lbp-canvas"),a=o.getBoundingClientRect();this.dragElement&&this.clone(dI(dI({},this.dragElement),{},{dragStyle:{left:t.clientX-n-a.left,top:t.clientY-i-a.top}}))}},checkCanMousedown:function(t,e){var n=e.minOffsetX,i=e.minOffsetY,r=e.minOffset,o=t.clientX-gI.origin.clientX,a=t.clientY-gI.origin.clientY;return o>=(n||r)||a>=(i||r)}},updated:function(){console.log("updated")}},wI={name:"shotcuts-panel",components:(fI={},Jo(fI,r.Row.name,r.Row),Jo(fI,r.Col.name,r.Col),fI),mixins:[bI],data:function(){return{npmPackages:[]}},methods:{clone:function(t){this.$emit("add",t)}},render:function(t){var e=this;return t("a-row",{style:"padding-bottom: 24px"},[t(QN),[].concat(Fe.getPlugins(),this.npmPackages).filter((function(t){return t.visible})).map((function(n){return t("a-col",{attrs:{span:12},style:{marginTop:"10px"}},[t(XN,{attrs:{clickFn:e.clone.bind(e,n),mousedownFn:e.handleDragStartFromMixin.bind(e,n),name:n.title||n.name,faIcon:n.icon,disabled:n.disabled}})])})),t(cI,{on:{loadComplete:function(t){e.npmPackages=t}}})])}},xI={components:(pI={},Jo(pI,r.Popconfirm.name,r.Popconfirm),Jo(pI,r.Input.name,r.Input),Jo(pI,r.Icon.name,r.Icon),pI),props:["page","pageIndex"],data:function(){return{editingTitle:""}},methods:{getTitle:function(){return this.page.title||this.$t("editor.pageManager.title",{index:this.pageIndex})}},render:function(){var t=this,e=arguments[0];return e("a-popconfirm",{attrs:{placement:"bottom",okText:"Yes",cancelText:"No"},on:{confirm:function(){t.$emit("editTitle",{newTitle:t.editingTitle,pageIndex:t.pageIndex})},cancel:function(){}}},[e("a-input",{slot:"title",attrs:{value:this.editingTitle,size:"small"},on:{change:function(e){t.editingTitle=e.target.value}}}),e("a-icon",{attrs:{type:"edit"},on:{click:function(e){e.stopPropagation(),t.editingTitle=t.getTitle()}}})])}},kI={components:(vI={},Jo(vI,r.Dropdown.name,r.Dropdown),Jo(vI,r.Menu.name,r.Menu),Jo(vI,r.Menu.Item.name,r.Menu.Item),Jo(vI,r.Icon.name,r.Icon),vI),render:function(){var t=this,e=arguments[0],n=this.$t("editor.pageManager.action.add"),i=this.$t("editor.pageManager.action.copy"),r=this.$t("editor.pageManager.action.delete");return e("a-dropdown",{attrs:{trigger:["hover"],placement:"bottomCenter"}},[e("a",{class:"ml-2",attrs:{href:"#"}},[e("a-icon",{attrs:{type:"down"}})]),e("a-menu",{slot:"overlay",on:{click:function(e){var n=e.key;return t.$emit("selectMenuItem",n)}}},[e("a-menu-item",{key:"add"},[e("a-icon",{attrs:{type:"plus"}}),n]),e("a-menu-item",{key:"copy"},[e("a-icon",{attrs:{type:"copy"}}),i]),e("a-menu-item",{key:"delete"},[e("a-icon",{attrs:{type:"delete"}}),r])])])}},SI={components:Jo({},r.Badge.name,r.Badge),props:["page","pageIndex"],methods:{getTitle:function(){return this.page.title||this.$t("editor.pageManager.title",{index:this.pageIndex})}},render:function(t){return t("span",[t("a-badge",{attrs:{count:this.pageIndex+1,numberStyle:{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset"}}}),t("span",{class:"ml-3"},[this.getTitle()])])}},_I={name:"page-manager",props:{pages:{type:Array,default:[]}},components:Jo({},r.Button.name,r.Button),data:function(){return{pageIndex:0}},methods:{onSelectMenuItem:function(t){this.$emit("add")},onEditTitle:function(t){var e=t.pageIndex,n=t.newTitle;this.pageManager({type:"editTitle",value:{pageIndex:e,newTitle:n}})},onSelectPage:function(t){this.pageIndex=t,this.$emit("pageChange",t)},onLeave:function(){this.hoverIndex=-1}},render:function(t){var e=this;return t("div",{class:"page-manager-panel"},[this.pages.map((function(n,i){return t("span",{class:["cursor-pointer","page-manager-panel__item",i===e.pageIndex&&"active"],on:{click:function(){return e.onSelectPage(i)},mouseenter:function(){e.hoverIndex=i}}},[t(SI,{attrs:{page:n,pageIndex:i}}),t("span",[e.hoverIndex===i&&t(xI,{attrs:{page:n,pageIndex:i},on:{editTitle:e.onEditTitle}}),t(kI,{on:{selectMenuItem:e.onSelectMenuItem}})])])})),t("a-button",{attrs:{icon:"plus",type:"dashed"},class:"footer-actions",on:{click:function(){return e.onSelectMenuItem("add")}}},[this.$t("editor.pageManager.action.add")])])}};function OI(t){return{title:t.name,key:t.id,children:(t.children||[]).map(OI)}}var CI={name:"page-tree",components:Jo({},r.Tree.name,r.Tree),computed:{treeData:function(){return this.elements.map(OI)}},data:function(){return{gData:[],expandedKeys:[]}}};const EI=CI;var TI=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-tree",{staticClass:"draggable-tree",attrs:{"default-expanded-keys":t.expandedKeys,draggable:"","tree-data":t.treeData}})},AI=[];TI._withStripped=!0;const jI=void 0,NI=void 0,II=void 0,PI=!1,MI=nI({render:TI,staticRenderFns:AI},jI,EI,NI,PI,II,!1,void 0,void 0,void 0);var DI,LI,RI={props:{pages:{type:Array,default:function(){return[]}}},components:(DI={},Jo(DI,r.Layout.Sider.name,r.Layout.Sider),Jo(DI,r.Tabs.name,r.Tabs),Jo(DI,r.Tabs.TabPane.name,r.Tabs.TabPane),DI),name:"EditorLeftPanel",render:function(t){return t("a-layout-sider",{attrs:{width:"240",theme:"light"},style:{padding:"0 12px",height:"100%",overflow:"auto"}},[t("a-tabs",{attrs:{tabBarGutter:10}},[t("a-tab-pane",{key:"plugin-list",attrs:{tab:this.$t("editor.sidebar.components")}},[t(wI,{on:{add:this.$listeners.addElement}})]),t("a-tab-pane",{key:"page-manager",attrs:{tab:this.$t("editor.sidebar.pages")}},[t(_I,{attrs:{pages:this.pages},on:{add:this.$listeners.addPage,pageChange:this.$listeners.pageChange}})]),t("a-tab-pane",{key:"page-tree",attrs:{tab:this.$t("editor.sidebar.tree")}},[t(MI)])])])}},BI=4,zI={props:{width:{type:Number,default:0},height:{type:Number,default:0},data:{type:Array,default:function(){return[]}}},data:function(){return{vLinesFlag:[],vLines:[],hLinesFlag:[],hLines:[]}},computed:{elementsCoords:function(){var t=this,e=[{left:0,top:0,width:this.width,height:this.height}].concat(Qr(this.data)),n=[],i=[];return e.forEach((function(e){var r=t.genBorder(e),o=ao(r,2),a=o[0],s=o[1];n.push(a),i.push(s)})),[n,i]}},methods:{genBorder:function(t){var e=t.left,n=t.top,i=t.width,r=t.height;return[[e,e+i/2,e+i],[n,n+r/2,n+r]]},genLines:function(t,e,n){var i=0,r=[!1,!1,!1];return t.forEach((function(t){t.forEach((function(t){e.forEach((function(e){var o=i++,a=t-e,s=n[o];s?Math.abs(a)>BI?n[o]=!1:r[o%3]=t:0===parseInt(a)?(n[o]=!0,r[o%3]=t):n[o]=!1}))}))})),r},calcVHLine:function(t){var e=this.genBorder(t),n=ao(e,2),i=n[0],r=n[1],o=ao(this.elementsCoords,2),a=o[0],s=o[1];return this.vLines=this.genLines(a,i,this.vLinesFlag),this.hLines=this.genLines(s,r,this.hLinesFlag),[this.vLines,this.hLines]}},render:function(){var t=this,e=arguments[0];return e("div",{class:"luban-auxiliary-line"},[this.vLines.map((function(n){return n?e("div",{class:"v-line",style:{left:"".concat(n,"px"),height:"".concat(t.height,"px")}}):null})),this.hLines.map((function(n){return n?e("div",{class:"h-line",style:{top:"".concat(n,"px"),width:"".concat(t.width,"px")}}):null}))])}},$I={props:{height:{type:Number,default:0}},components:Jo({},r.InputNumber.name,r.InputNumber),methods:{updateWorkHeight:function(t){this.$emit("change",t||0)},mousedownForAdjustLine:function(t){var e=this,n=t.clientY,i=this.height,r=document.querySelector("#editor-wrapper .ant-layout"),o=function(t){t.stopPropagation(),t.preventDefault();var o=t.clientY,a=o-n,s=a+i;e.updateWorkHeight(s),r&&(r.scrollTop=r.scrollHeight)},a=function t(){document.removeEventListener("mousemove",o,!0),document.removeEventListener("mouseup",t,!0)};document.addEventListener("mousemove",o,!0),document.addEventListener("mouseup",a,!0)}},render:function(){var t=arguments[0];return t("div",{style:{position:"absolute",bottom:"0px",width:"100%",transform:"translateY(100%)"}},[t("div",{class:"adjust-line-wrapper adjust-line-wrapper-h"},[t("div",{class:"adjust-line adjust-line-h"}),t("div",{class:"adjust-button",on:{mousedown:this.mousedownForAdjustLine}},[t("div",{class:"indicator"})]),t("div",{class:"adjust-tip"},[t("span",[KO.WIDTH," x"]),t("a-input-number",{attrs:{size:"small",min:0,value:this.height},style:"margin: 0 4px; width:60px;",on:{change:this.updateWorkHeight}}),t("span",["px"])])])])}},FI={methods:{onMousedown:function(t){var e=this,n=t.clientX,i=function(t){t.preventDefault(),t.stopPropagation();var i=n-t.clientX;e.$emit("lineMove",i),n-=i},r=function t(e){document.removeEventListener("mousemove",i,!0),document.removeEventListener("mouseup",t,!0)};document.addEventListener("mousemove",i,!0),document.addEventListener("mouseup",r,!0)}},render:function(){var t=arguments[0];return t("div",{class:"adjust-line-wrapper adjust-line-wrapper-v",on:{mousedown:this.onMousedown}},[t("div",{class:"adjust-line adjust-line-v"}),t("div",{class:"adjust-button"},[t("div",{class:"indicator"})])])}},qI={name:"lbp-h5-editor",i18n:vm,components:(LI={},Jo(LI,r.Layout.name,r.Layout),Jo(LI,r.Layout.Content.name,r.Layout),LI),props:{data:{type:Object,default:function(){return{}}}},data:function(){return{work:{},pageIndex:0,activeElement:null,auxiliayVisible:!1,rightPanelWidth:bm.rightPanelWidth,lockElementUpdate:!1}},computed:{currentPage:function(){var t=this.work.pages,e=void 0===t?[]:t,n=e[this.pageIndex]||{};return n},elementsRect:function(){var t=this.currentPage,e=void 0===t?{}:t,n=this.activeElement,i=e.elements,r=void 0===i?[]:i;return r.filter((function(t){return t!==n})).map((function(t){var e=t.style;return e}))}},watch:{data:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.work=new QO(t),ym.init(this.work)},immediate:!0}},methods:{record:Xo((function(){ym.addState(this.work)}),80),getData:function(){return this.work},changePageIndex:function(t){this.pageIndex=t},addPage:function(t){this.work.pages.push(new XO({title:t})),this.record()},updatePage:function(t){Object.assign(this.currentPage,t),this.record()},addElement:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach((function(e){if(e instanceof GO)t.currentPage.elements.push(e);else{var n=new GO(e);t.currentPage.elements.push(n)}})),this.record()},updateElement:function(t){this.activeElement&&this.activeElement.update(t),this.record()},clear:function(){this.currentPage.elements=[],this.record()},undo:function(){this.work=new QO(ym.undo())},redo:function(){this.work=new QO(ym.redo())},_handlerEditorMouseDown:function(){this.activeElement&&this._showAuxiliay()},_hideAuxiliay:function(){this.auxiliayVisible=!1},_showAuxiliay:function(){this.auxiliayVisible=!0},_handleElementActive:function(t){this.activeElement=t},_handleElementDeactive:function(t){t===this.activeElement&&(this.activeElement=null)},_handleAdjustLieMove:function(t){this.rightPanelWidth+=t},_handlePropsChange:function(t){this.updateElement({props:t})},_handleAnimationsChange:function(t){this.updateElement({animations:t})},_handleElementRectChange:function(){var t=[],e=["l","m","r"],n=["t","m","b"],i=[/l/,/t/,/r|lm/,/b|mt/],r=function(t){return!1===t};return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=ao(a,1),l=s[0],u=void 0===l?"mm":l,c=this.$refs.auxiliayLine.calcVHLine(o)||[],h=ao(c,2),d=h[0],f=h[1],p=new Set([]),v=!1,m=!1;d.forEach((function(t,i){f.forEach((function(o,a){var s=!r(t),l=!r(o);!v&&(v=s),!m&&(m=l);var c="".concat(s?e[i]:"").concat(l?n[a]:"");c&&new RegExp(c).test(u)&&p.add(c)}))}));var g=t[0],y=t[1],b=t[2],w=t[3];g&&delete o.left&&delete o.width,y&&delete o.top&&delete o.height,!g&&b&&delete o.width,!y&&w&&delete o.height,this.updateElement({style:o});var x=Qr(p),k=function(t){return!!x.find(t.test.bind(t))},S=i.map(k);Object.assign(t,"mm"===u?[v,m]:S)}}(),_handleAddElement:function(t){this.addElement({pluginName:t.name,style:t.dragStyle})},_handleAddPage:function(t){this.addPage(t)},_handlePageHeightChange:function(t){this.updatePage({height:t})},_handlePageIndexChange:function(t){this.changePageIndex(t)},_handleRedo:function(){this.redo()},_handleUndo:function(){this.undo()}},render:function(){var t=arguments[0];return t("a-layout",{style:{height:"100%"}},[t(RI,{attrs:{pages:this.work.pages},on:{pageChange:this._handlePageIndexChange,addElement:this._handleAddElement,addPage:this._handleAddPage}}),t("a-layout",{attrs:{id:"editor-wrapper"}},[t("a-layout-content",{class:"scroll-view remove-scrollbar"},[t("div",{class:"editor-content",on:{mousedown:this._handlerEditorMouseDown,mouseup:this._hideAuxiliay}},[t(zI,{ref:"auxiliayLine",attrs:{data:this.elementsRect,width:this.currentPage.width,height:this.currentPage.height},directives:[{name:"show",value:this.auxiliayVisible}]}),t(iC,{attrs:{width:this.currentPage.width,height:this.currentPage.height,elements:this.currentPage.elements},on:{elementActive:this._handleElementActive,elementDeactive:this._handleElementDeactive,elementChange:this._handleElementRectChange}}),t($I,{attrs:{height:this.currentPage.height},on:{change:this._handlePageHeightChange}})])])]),t(FI,{on:{lineMove:this._handleAdjustLieMove}}),t(oC,{on:{redo:this._handleRedo,undo:this._handleUndo}}),t(ZN,{attrs:{width:this.rightPanelWidth,element:this.activeElement},on:{propsChange:this._handlePropsChange,animationsChange:this._handleAnimationsChange}})])},install:function(t){t.component(qI.name,qI)}};"undefined"!==typeof window&&window.Vue&&qI.install(window.Vue),qI.LbpH5Plugin=Fe,e.LbpH5Canvas=iC,e.LbpWork=QO,e.default=qI,Object.defineProperty(e,"__esModule",{value:!0})}))}).call(this,n("c8ba"),n("b639").Buffer)},c05f:function(t,e,n){}});
//# sourceMappingURL=app.898f008f.js.map